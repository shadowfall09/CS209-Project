{"items":[{"tags":["java","junit","mockito","powermock"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1645196753,"post_id":71175583,"comment_id":125814192,"body_markdown":"Why do you need to mock it? What are you hoping to actually test this way? `SimpleDateFormat` itself is predictable and not worth mocking IMO... if you&#39;re trying to test what happens at particular instants in time, I&#39;d recommend injecting a `java.time.Clock` instead - make *that* the replaceable test double, and use `Clock.fixed` in your tests.","body":"Why do you need to mock it? What are you hoping to actually test this way? <code>SimpleDateFormat</code> itself is predictable and not worth mocking IMO... if you&#39;re trying to test what happens at particular instants in time, I&#39;d recommend injecting a <code>java.time.Clock</code> instead - make <i>that</i> the replaceable test double, and use <code>Clock.fixed</code> in your tests."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1645200606,"post_id":71175583,"comment_id":125815870,"body_markdown":"Both `Date` and `SimpleDateFormat` classes are terrible flawed, and are now legacy. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Both <code>Date</code> and <code>SimpleDateFormat</code> classes are terrible flawed, and are now legacy. They were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1645200723,"post_id":71175583,"comment_id":125815928,"body_markdown":"By the way, I recommend use of standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats when exchanging date-time values textually.","body":"By the way, I recommend use of standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats when exchanging date-time values textually."}],"answers":[{"tags":[],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645200921,"creation_date":1645200921,"answer_id":71176635,"question_id":71175583,"body_markdown":"As Jon Skeet mentioned it doesn&#39;t make sense to mock the `SimpleDateFormat`.\r\nI would suggest validating the date value that is being returned from the method you are testing instead of mocking `SimpleDateFormat`. Something like the test below.\r\n\r\n```\r\n    class DateValidator\r\n    {\r\n        String getDate()\r\n        {\r\n            String currentDate = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n            return currentDate;\r\n        }\r\n    }\r\n    @Test\r\n    public void test()\r\n    {\r\n        String date = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n        assertThat(new DateValidator().getDate()).isEqualTo(date);\r\n\r\n    }\r\n```","title":"Mocking a Simple DateFormat","body":"<p>As Jon Skeet mentioned it doesn't make sense to mock the <code>SimpleDateFormat</code>.\nI would suggest validating the date value that is being returned from the method you are testing instead of mocking <code>SimpleDateFormat</code>. Something like the test below.</p>\n<pre><code>    class DateValidator\n    {\n        String getDate()\n        {\n            String currentDate = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n            return currentDate;\n        }\n    }\n    @Test\n    public void test()\n    {\n        String date = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n        assertThat(new DateValidator().getDate()).isEqualTo(date);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":20340812,"reputation":1,"user_id":14920169,"display_name":"Aditya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645200921,"creation_date":1645196503,"question_id":71175583,"body_markdown":"I have a variable  `currentDate =  new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,Locale.ENGLISH).format(new Date());` inside a class\r\nIn testcase I need to mock it. I have tried like this\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,\r\n\t\t\t\tLocale.ENGLISH);\r\n\t    when(formatter.format(any(Date.class))).thenReturn(&quot;18022022_201939&quot;);\r\n\r\nbut it is \r\n\r\n&gt; giving me cannot format given object as Date\r\n\r\n on one machine and on another machine \r\n\r\n&gt; it is giving me Date cannot be null.\r\n\r\nI am new to Junit and needed help to solve this problem","title":"Mocking a Simple DateFormat","body":"<p>I have a variable  <code>currentDate =  new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,Locale.ENGLISH).format(new Date());</code> inside a class\nIn testcase I need to mock it. I have tried like this</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,\n            Locale.ENGLISH);\n    when(formatter.format(any(Date.class))).thenReturn(&quot;18022022_201939&quot;);\n</code></pre>\n<p>but it is</p>\n<blockquote>\n<p>giving me cannot format given object as Date</p>\n</blockquote>\n<p>on one machine and on another machine</p>\n<blockquote>\n<p>it is giving me Date cannot be null.</p>\n</blockquote>\n<p>I am new to Junit and needed help to solve this problem</p>\n"},{"tags":["java","serialization","unique"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1645201002,"post_id":71176567,"comment_id":125816063,"body_markdown":"Can you explain what you mean exactly by &quot;unique&quot;? It is not possible to get a unique 6-character string for every possible 10-character string because of the [pigeonhole principle](https://en.wikipedia.org/wiki/Pigeonhole_principle). (There are many more possible 10-char strings than there are 6-char strings).","body":"Can you explain what you mean exactly by &quot;unique&quot;? It is not possible to get a unique 6-character string for every possible 10-character string because of the <a href=\"https://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"nofollow noreferrer\">pigeonhole principle</a>. (There are many more possible 10-char strings than there are 6-char strings)."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645200884,"creation_date":1645200884,"answer_id":71176626,"question_id":71176567,"body_markdown":"You can use RandomStringUtils from apache `commons-lang3` [library][1].\r\n\r\n\r\n    RandomStringUtils.random(6,&quot;ABCDEFGHIJ&quot;);\r\n\r\nThe caveat is in relation to the uniqueness. At some point they will be repeated since the possible set of results is limited.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-java.lang.String-","title":"Generate Unique 6 Character alphanumeric string from a 10 Character alphanumeric string","body":"<p>You can use RandomStringUtils from apache <code>commons-lang3</code> <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-java.lang.String-\" rel=\"nofollow noreferrer\">library</a>.</p>\n<pre><code>RandomStringUtils.random(6,&quot;ABCDEFGHIJ&quot;);\n</code></pre>\n<p>The caveat is in relation to the uniqueness. At some point they will be repeated since the possible set of results is limited.</p>\n"}],"owner":{"account_id":17239539,"reputation":57,"user_id":12482184,"display_name":"Martyn Bell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645200884,"creation_date":1645200657,"question_id":71176567,"body_markdown":"As the title suggests im trying to generate a unique 6 Character alphanumeric string from a 10 Character alphanumeric string.\r\n\r\nIs there any algorithms people have used / can suggest for this? I using Java.\r\nThanks ","title":"Generate Unique 6 Character alphanumeric string from a 10 Character alphanumeric string","body":"<p>As the title suggests im trying to generate a unique 6 Character alphanumeric string from a 10 Character alphanumeric string.</p>\n<p>Is there any algorithms people have used / can suggest for this? I using Java.\nThanks</p>\n"},{"tags":["java","testing","junit","kotlin"],"comments":[{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1502272475,"post_id":45587166,"comment_id":78133350,"body_markdown":"Can you show your attempted call to the method? Because that should work fine.","body":"Can you show your attempted call to the method? Because that should work fine."},{"owner":{"account_id":6513373,"reputation":17341,"user_id":5039950,"accept_rate":78,"display_name":"Sachin Chandil"},"score":0,"creation_date":1502272519,"post_id":45587166,"comment_id":78133377,"body_markdown":"You can also create your own extension function.","body":"You can also create your own extension function."}],"answers":[{"tags":[],"owner":{"account_id":10940000,"reputation":31,"user_id":8140501,"display_name":"John Aqel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502274298,"creation_date":1502273711,"answer_id":45587808,"question_id":45587166,"body_markdown":"Just check to make sure you&#39;re importing the correct class that has the desired `assertEquals` method on it. Other than that you may want to verify that the `calculateCouponAmount()` method returns a `Double`.","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>Just check to make sure you're importing the correct class that has the desired <code>assertEquals</code> method on it. Other than that you may want to verify that the <code>calculateCouponAmount()</code> method returns a <code>Double</code>.</p>\n"},{"tags":[],"owner":{"account_id":11381442,"reputation":801,"user_id":8344252,"accept_rate":85,"display_name":"Stefano.Maffullo"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1502292191,"creation_date":1502274235,"answer_id":45587996,"question_id":45587166,"body_markdown":"I have figured it out!\r\n\r\nThis is how it&#39;s done\r\n\r\n    import org.junit.*\r\n    import Kotlin.Test.assertEquals\r\n\r\n    Assert.assertEquals(expected, actual, precision) // to use the jUnit standard one\r\n    assertEquals(expected, actual, message) // to use the Kotlin one","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>I have figured it out!</p>\n\n<p>This is how it's done</p>\n\n<pre><code>import org.junit.*\nimport Kotlin.Test.assertEquals\n\nAssert.assertEquals(expected, actual, precision) // to use the jUnit standard one\nassertEquals(expected, actual, message) // to use the Kotlin one\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583389098,"creation_date":1583389098,"answer_id":60539219,"question_id":45587166,"body_markdown":"I couldn&#39;t find one, so I created my own set of functions:\r\n\r\n```\r\nimport java.math.BigDecimal\r\nimport kotlin.math.abs\r\nimport kotlin.test.asserter\r\n\r\ninternal fun assertEquals(expected: Double, actual: Double?, epsilon: Double, message: String? = null) {\r\n    asserter.assertNotNull(null, actual)\r\n    asserter.assertTrue({ messagePrefix(message) + &quot;Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.&quot; },\r\n            abs(expected - actual!!) &lt;= epsilon)\r\n}\r\n\r\ninternal fun assertEquals(expected: BigDecimal, actual: BigDecimal?, epsilon: Double, message: String? = null) {\r\n    asserter.assertNotNull(null, actual)\r\n    asserter.assertTrue({ messagePrefix(message) + &quot;Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.&quot; },\r\n            (expected - actual!!).abs().toDouble() &lt;= epsilon)\r\n}\r\n\r\ninternal fun assertEquals(expected: Double, actual: BigDecimal?, epsilon: Double, message: String? = null) {\r\n    asserter.assertNotNull(null, actual)\r\n    asserter.assertTrue({ messagePrefix(message) + &quot;Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.&quot; },\r\n            abs(expected - actual!!.toDouble()) &lt;= epsilon)\r\n}\r\n\r\ninternal fun messagePrefix(message: String?) = if (message == null) &quot;&quot; else &quot;$message. &quot;\r\n```","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>I couldn't find one, so I created my own set of functions:</p>\n\n<pre><code>import java.math.BigDecimal\nimport kotlin.math.abs\nimport kotlin.test.asserter\n\ninternal fun assertEquals(expected: Double, actual: Double?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            abs(expected - actual!!) &lt;= epsilon)\n}\n\ninternal fun assertEquals(expected: BigDecimal, actual: BigDecimal?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            (expected - actual!!).abs().toDouble() &lt;= epsilon)\n}\n\ninternal fun assertEquals(expected: Double, actual: BigDecimal?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            abs(expected - actual!!.toDouble()) &lt;= epsilon)\n}\n\ninternal fun messagePrefix(message: String?) = if (message == null) \"\" else \"$message. \"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4308080,"reputation":1029,"user_id":3519951,"accept_rate":60,"display_name":"JM Lord"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645200372,"creation_date":1645200372,"answer_id":71176508,"question_id":45587166,"body_markdown":"It is now included in the official API for Double and Float:\r\n\r\n    fun assertEquals(\r\n        expected: Double,\r\n        actual: Double,\r\n        absoluteTolerance: Double,\r\n        message: String? = null\r\n    ): Unit\r\n\r\n    fun assertEquals(\r\n        expected: Float,\r\n        actual: Float,\r\n        absoluteTolerance: Float,\r\n        message: String? = null\r\n    ): Unit\r\n\r\nSee https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-equals.html","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>It is now included in the official API for Double and Float:</p>\n<pre><code>fun assertEquals(\n    expected: Double,\n    actual: Double,\n    absoluteTolerance: Double,\n    message: String? = null\n): Unit\n\nfun assertEquals(\n    expected: Float,\n    actual: Float,\n    absoluteTolerance: Float,\n    message: String? = null\n): Unit\n</code></pre>\n<p>See <a href=\"https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-equals.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-equals.html</a></p>\n"}],"owner":{"account_id":11381442,"reputation":801,"user_id":8344252,"accept_rate":85,"display_name":"Stefano.Maffullo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4695,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":45587996,"answer_count":4,"score":11,"last_activity_date":1645200372,"creation_date":1502272076,"question_id":45587166,"body_markdown":"I was wondering, in Kotlin, is there the possibility to call the equivalent of the java method:\r\n\r\n    assertEquals(double expected, double actual, double precision)\r\nbecause everytime I&#39;m getting this method instead\r\n\r\n    assertEquals(expected: T, actual: T, message: String)\r\n    \r\nAnd i can&#39;t find the one with the precision parameter.\r\nCalling the Java one should be fine too I guess.\r\n\r\nMy call to the method:\r\n\r\n    assertEquals(5000.00, calculateCouponAmount(basicFaceValue, basicInterestRate, amortizationBullet, couponNumber1), 0.01)\r\n\r\nI&#39;m getting an error because 0.01 gets in the &quot;message&quot; field\r\n","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>I was wondering, in Kotlin, is there the possibility to call the equivalent of the java method:</p>\n\n<pre><code>assertEquals(double expected, double actual, double precision)\n</code></pre>\n\n<p>because everytime I'm getting this method instead</p>\n\n<pre><code>assertEquals(expected: T, actual: T, message: String)\n</code></pre>\n\n<p>And i can't find the one with the precision parameter.\nCalling the Java one should be fine too I guess.</p>\n\n<p>My call to the method:</p>\n\n<pre><code>assertEquals(5000.00, calculateCouponAmount(basicFaceValue, basicInterestRate, amortizationBullet, couponNumber1), 0.01)\n</code></pre>\n\n<p>I'm getting an error because 0.01 gets in the \"message\" field</p>\n"},{"tags":["java","android","time"],"answers":[{"tags":[],"owner":{"account_id":3911165,"reputation":1475,"user_id":3236455,"accept_rate":44,"display_name":"der_Fidelis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464004712,"creation_date":1464004712,"answer_id":37390411,"question_id":37390080,"body_markdown":"`Time.getCurrentTimezone()`\n\nwill get you the timezone and\n\n`Calendar c = Calendar.getInstance(); \nint seconds = c.get(Calendar.SECOND)`\n\nwill get you the time in UTC in seconds. Of course you can change the value to get it in another unit.","title":"Convert Local time to UTC and vice versa","body":"<p><code>Time.getCurrentTimezone()</code></p>\n\n<p>will get you the timezone and</p>\n\n<p><code>Calendar c = Calendar.getInstance(); \nint seconds = c.get(Calendar.SECOND)</code></p>\n\n<p>will get you the time in UTC in seconds. Of course you can change the value to get it in another unit.</p>\n"},{"tags":[],"owner":{"account_id":5850137,"reputation":3193,"user_id":4609016,"accept_rate":73,"display_name":"User Learning"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464012612,"creation_date":1464011786,"answer_id":37392981,"question_id":37390080,"body_markdown":"you may try something like this to insert into DB:    \r\n\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;h:mm a E zz&quot;);\r\n        f.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        System.out.println(f.format(new Date()));\r\n        String dd = f.format(new Date());\r\n\r\nThis opt from ur comment:\r\n\r\n   **OUTPUT:**\r\n\r\n&gt; 1:43 PM Mon UTC\r\n\r\n\r\nFor this, -&gt; convert it again and display in the device&#39;s time \r\n\r\n**UPDATE:**\r\n\r\n    String dd = f.format(new Date());\r\n    \r\n            Date date = null;\r\n            DateFormat sdf = new SimpleDateFormat(&quot;h:mm a E zz&quot;);\r\n            try {\r\n                date = sdf.parse(dd);\r\n            }catch (Exception e){\r\n    \r\n            }\r\n            sdf.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(sdf.format(date));\r\n\r\n**OUTPUT:**\r\n\r\n&gt;  7:30 PM Mon GMT+05:30\r\n\r\nU may display like this. ","title":"Convert Local time to UTC and vice versa","body":"<p>you may try something like this to insert into DB:    </p>\n\n<pre><code>    SimpleDateFormat f = new SimpleDateFormat(\"h:mm a E zz\");\n    f.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    System.out.println(f.format(new Date()));\n    String dd = f.format(new Date());\n</code></pre>\n\n<p>This opt from ur comment:</p>\n\n<p><strong>OUTPUT:</strong></p>\n\n<blockquote>\n  <p>1:43 PM Mon UTC</p>\n</blockquote>\n\n<p>For this, -> convert it again and display in the device's time </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>String dd = f.format(new Date());\n\n        Date date = null;\n        DateFormat sdf = new SimpleDateFormat(\"h:mm a E zz\");\n        try {\n            date = sdf.parse(dd);\n        }catch (Exception e){\n\n        }\n        sdf.setTimeZone(TimeZone.getTimeZone(\"Asia/Kolkata\"));\n        System.out.println(sdf.format(date));\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<blockquote>\n  <p>7:30 PM Mon GMT+05:30</p>\n</blockquote>\n\n<p>U may display like this. </p>\n"},{"tags":[],"owner":{"account_id":7819159,"reputation":1132,"user_id":6097077,"accept_rate":58,"display_name":"Mew"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1464091838,"creation_date":1464091838,"answer_id":37413178,"question_id":37390080,"body_markdown":"I converted local time to GMT/UTC and vice versa using these two methods and this works fine without any problem for me.\r\n\r\n    public static Date localToGMT() {\r\n        Date date = new Date();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        Date gmt = new Date(sdf.format(date));\r\n        return gmt;\r\n    }\r\npass the GMT/UTC date which you want to convert into device local time to this method:\r\n\r\n    public static Date gmttoLocalDate(Date date) {\r\n\r\n        String timeZone = Calendar.getInstance().getTimeZone().getID();\r\n        Date local = new Date(date.getTime() + TimeZone.getTimeZone(timeZone).getOffset(date.getTime()));\r\n        return local\r\n    }","title":"Convert Local time to UTC and vice versa","body":"<p>I converted local time to GMT/UTC and vice versa using these two methods and this works fine without any problem for me.</p>\n\n<pre><code>public static Date localToGMT() {\n    Date date = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    Date gmt = new Date(sdf.format(date));\n    return gmt;\n}\n</code></pre>\n\n<p>pass the GMT/UTC date which you want to convert into device local time to this method:</p>\n\n<pre><code>public static Date gmttoLocalDate(Date date) {\n\n    String timeZone = Calendar.getInstance().getTimeZone().getID();\n    Date local = new Date(date.getTime() + TimeZone.getTimeZone(timeZone).getOffset(date.getTime()));\n    return local\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305114,"reputation":8699,"user_id":2024527,"accept_rate":80,"display_name":"SANAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497355491,"creation_date":1497355491,"answer_id":44521020,"question_id":37390080,"body_markdown":"Get current UTC :\r\n\r\n    public String getCurrentUTC(){\r\n            Date time = Calendar.getInstance().getTime();\r\n            SimpleDateFormat outputFmt = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            outputFmt.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n            return outputFmt.format(time);\r\n    }","title":"Convert Local time to UTC and vice versa","body":"<p>Get current UTC :</p>\n\n<pre><code>public String getCurrentUTC(){\n        Date time = Calendar.getInstance().getTime();\n        SimpleDateFormat outputFmt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        outputFmt.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n        return outputFmt.format(time);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207648,"reputation":10346,"user_id":1176870,"accept_rate":95,"display_name":"Chris Stillwell"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1614008907,"creation_date":1508252228,"answer_id":46793189,"question_id":37390080,"body_markdown":"A simplified and condensed version of the accepted answer:\r\n\r\n\r\n\r\n    public static Date dateFromUTC(Date date){\r\n        return new Date(date.getTime() + Calendar.getInstance().getTimeZone().getOffset(new Date().getTime()));\r\n    }\r\n\r\n    public static Date dateToUTC(Date date){\r\n        return new Date(date.getTime() - Calendar.getInstance().getTimeZone().getOffset(date.getTime()));\r\n    }","title":"Convert Local time to UTC and vice versa","body":"<p>A simplified and condensed version of the accepted answer:</p>\n<pre><code>public static Date dateFromUTC(Date date){\n    return new Date(date.getTime() + Calendar.getInstance().getTimeZone().getOffset(new Date().getTime()));\n}\n\npublic static Date dateToUTC(Date date){\n    return new Date(date.getTime() - Calendar.getInstance().getTimeZone().getOffset(date.getTime()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11285545,"reputation":536,"user_id":8276680,"display_name":"Neelesh Atale"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1528190607,"creation_date":1528190607,"answer_id":50696607,"question_id":37390080,"body_markdown":"Try this:  \r\n //convert to UTC to Local format  \r\n\r\n   \r\n\r\n     public Date getUTCToLocalDate(String date) {\r\n                Date inputDate = new Date();\r\n                if (date != null &amp;&amp; !date.isEmpty()) {\r\n                    @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n                    simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n                    try {\r\n                        inputDate = simpleDateFormat.parse(date);\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                return inputDate;\r\n            }  \r\n\r\n\r\n//convert Local Date to UTC \r\n\r\n    public String getLocalToUTCDate(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n        calendar.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        Date time = calendar.getTime();\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat outputFmt = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        outputFmt.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        return outputFmt.format(time);\r\n    }\r\n\r\n","title":"Convert Local time to UTC and vice versa","body":"<p>Try this:<br>\n //convert to UTC to Local format  </p>\n\n<pre><code> public Date getUTCToLocalDate(String date) {\n            Date inputDate = new Date();\n            if (date != null &amp;&amp; !date.isEmpty()) {\n                @SuppressLint(\"SimpleDateFormat\") SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n                simpleDateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n                try {\n                    inputDate = simpleDateFormat.parse(date);\n                } catch (ParseException e) {\n                    e.printStackTrace();\n                }\n            }\n            return inputDate;\n        }  \n</code></pre>\n\n<p>//convert Local Date to UTC </p>\n\n<pre><code>public String getLocalToUTCDate(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    calendar.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    Date time = calendar.getTime();\n    @SuppressLint(\"SimpleDateFormat\") SimpleDateFormat outputFmt = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n    outputFmt.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    return outputFmt.format(time);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276132,"reputation":404,"user_id":2002340,"accept_rate":100,"display_name":"raman rayat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586514326,"creation_date":1586514326,"answer_id":61138332,"question_id":37390080,"body_markdown":"try this one \r\n\r\n    DateFormat formatterIST = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n            formatterIST.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\r\n            Date dateobj = new Date();\r\n            Date date = formatterIST.parse(formatterIST.format(dateobj));\r\n            System.out.println(formatterIST.format(date));\r\n    \r\n            DateFormat formatterUTC = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n            formatterUTC.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;)); // UTC timezone\r\n            System.out.println(formatterUTC.format(date));","title":"Convert Local time to UTC and vice versa","body":"<p>try this one </p>\n\n<pre><code>DateFormat formatterIST = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n        formatterIST.setTimeZone(TimeZone.getTimeZone(\"Asia/Kolkata\"));\n        Date dateobj = new Date();\n        Date date = formatterIST.parse(formatterIST.format(dateobj));\n        System.out.println(formatterIST.format(date));\n\n        DateFormat formatterUTC = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n        formatterUTC.setTimeZone(TimeZone.getTimeZone(\"UTC\")); // UTC timezone\n        System.out.println(formatterUTC.format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1645200217,"creation_date":1586534279,"answer_id":61143974,"question_id":37390080,"body_markdown":"# tl;dr\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Or, ZoneId.of( &quot;Africa/Tunis&quot; ) \r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Capture current moment as seen in a particular time zone.\r\n    Instant instant = zdt.toInstant() ;  // Adjust to UTC, an offset of zero hours-minutes-seconds.\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;  // Make an `OffsetDateTime` object to exchange with the database.\r\n    myPreparedStatement.setObject( … , odt ) ;  // Write moment to database column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`.\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;  // Retrieve a moment from database.\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;  // Adjust into a particular tim zone. Same moment, different wall-clock time.\r\n\r\n# *java.time*\r\n\r\nThe modern approach uses the *java.time*;classes that years ago supplanted the terrible date-time classes such as `Date` and `Calendar`.\r\n\r\nCapture the current moment as seen in UTC.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nStore in a database using a driver complaint with JDBC 4.2 or later.\r\n\r\n    myPreparedStatement( … , odt ) ;\r\n\r\nRetrieve from database.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nAdjust into a time zone.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\r\n\r\nGenerate text to present to user.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.getDefault() ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nAn implementation of *java.time* is built into Android 26+. For earlier Android, the [latest tooling brings most of the functionality][1] via “API desugaring”. If that does not work for you, use the *ThreeTenABP* library to get most of the *java.time* functionality that was back-ported to Java 6 and Java 7 in the *ThreeTen-Backport* project.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support-table","title":"Convert Local time to UTC and vice versa","body":"<h1>tl;dr</h1>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Or, ZoneId.of( &quot;Africa/Tunis&quot; ) \nZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Capture current moment as seen in a particular time zone.\nInstant instant = zdt.toInstant() ;  // Adjust to UTC, an offset of zero hours-minutes-seconds.\nOffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;  // Make an `OffsetDateTime` object to exchange with the database.\nmyPreparedStatement.setObject( … , odt ) ;  // Write moment to database column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`.\nOffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;  // Retrieve a moment from database.\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;  // Adjust into a particular tim zone. Same moment, different wall-clock time.\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>The modern approach uses the <em>java.time</em>;classes that years ago supplanted the terrible date-time classes such as <code>Date</code> and <code>Calendar</code>.</p>\n<p>Capture the current moment as seen in UTC.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Store in a database using a driver complaint with JDBC 4.2 or later.</p>\n<pre><code>myPreparedStatement( … , odt ) ;\n</code></pre>\n<p>Retrieve from database.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Adjust into a time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\n</code></pre>\n<p>Generate text to present to user.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.getDefault() ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>An implementation of <em>java.time</em> is built into Android 26+. For earlier Android, the <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">latest tooling brings most of the functionality</a> via “API desugaring”. If that does not work for you, use the <em>ThreeTenABP</em> library to get most of the <em>java.time</em> functionality that was back-ported to Java 6 and Java 7 in the <em>ThreeTen-Backport</em> project.</p>\n"}],"owner":{"account_id":7819159,"reputation":1132,"user_id":6097077,"accept_rate":58,"display_name":"Mew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82508,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":37413178,"answer_count":8,"score":35,"last_activity_date":1645200217,"creation_date":1464003836,"question_id":37390080,"body_markdown":"I&#39;m working on Android application, and I want to convert local time (device time) into UTC and save it in database. After retrieving it from database I have to convert it again and display in the device&#39;s time zone.  Can anyone suggest how to do this in Java?","title":"Convert Local time to UTC and vice versa","body":"<p>I'm working on Android application, and I want to convert local time (device time) into UTC and save it in database. After retrieving it from database I have to convert it again and display in the device's time zone.  Can anyone suggest how to do this in Java?</p>\n"},{"tags":["java","node.js","spring","nagios"],"answers":[{"tags":[],"owner":{"account_id":302417,"reputation":1174,"user_id":610789,"accept_rate":72,"display_name":"Selvakumar Esra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490894726,"creation_date":1490894726,"answer_id":43124554,"question_id":41095585,"body_markdown":"i had a similar use case couple of months ago. i chose the following technology stack and i was successful delivering a product in 2 months\r\n\r\n 1. Confluent Kafka\r\n 2. patternfly UI\r\n 3. Drools for rules engine rather than XSLT\r\n 4. Docker &amp; Kubernates\r\n 5. Spring boot microservices \r\n 6. Netflix hysrix tubine dashboard\r\n 7. Spring cloud config server\r\n 8. MongoDB\r\n\r\nAll are opensource technologies, we didn&#39;t spent any $$$ but saved around 250K USD on vendor based licensed software\r\n\r\n \r\n","title":"Management UI for Spring Boot or Node js Applications","body":"<p>i had a similar use case couple of months ago. i chose the following technology stack and i was successful delivering a product in 2 months</p>\n\n<ol>\n<li>Confluent Kafka</li>\n<li>patternfly UI</li>\n<li>Drools for rules engine rather than XSLT</li>\n<li>Docker &amp; Kubernates</li>\n<li>Spring boot microservices </li>\n<li>Netflix hysrix tubine dashboard</li>\n<li>Spring cloud config server</li>\n<li>MongoDB</li>\n</ol>\n\n<p>All are opensource technologies, we didn't spent any $$$ but saved around 250K USD on vendor based licensed software</p>\n"},{"tags":[],"owner":{"account_id":1211515,"reputation":949,"user_id":1179948,"accept_rate":100,"display_name":"Igor Bljahhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645199822,"creation_date":1645199822,"answer_id":71176368,"question_id":41095585,"body_markdown":"Spring Boot Admin Server allows to do the following:\r\n\r\n* view the version deployed\r\n* view current configuration (ports, queues, url&#39;s etc)\r\n* perhaps enable logging\r\n\r\nSpring Cloud Config Server + GIT as backend gives you management for app configs (with history).\r\n\r\nMicrometer from Spring Boot 2 + Prometheus + Graphana allows to visualize application metrics.\r\n\r\nLogs from your app in JSON format + logstash + Elastic Search + Kibana allows to gather logs from microservices.","title":"Management UI for Spring Boot or Node js Applications","body":"<p>Spring Boot Admin Server allows to do the following:</p>\n<ul>\n<li>view the version deployed</li>\n<li>view current configuration (ports, queues, url's etc)</li>\n<li>perhaps enable logging</li>\n</ul>\n<p>Spring Cloud Config Server + GIT as backend gives you management for app configs (with history).</p>\n<p>Micrometer from Spring Boot 2 + Prometheus + Graphana allows to visualize application metrics.</p>\n<p>Logs from your app in JSON format + logstash + Elastic Search + Kibana allows to gather logs from microservices.</p>\n"}],"owner":{"account_id":442995,"reputation":5799,"user_id":833960,"accept_rate":69,"display_name":"MattG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645199822,"creation_date":1481525858,"question_id":41095585,"body_markdown":"We are considering migrating various integration services from vendor based solutions like TIBCO BW, WSO2 ESB, WebSphere Message Broker etc into custom Java (potentially SpringBoot) or Node.js.\r\n\r\nWhilst it is relatively straight forward to migrate the service logic, e.g. get message from JMS, run XSLT, send to HTTP request, the missing piece that these vendor solutions provided was a Management UI which allowed you to:\r\n\r\n - view the version deployed\r\n - deploy new versions\r\n - view current configuration (ports, queues, url&#39;s etc)\r\n - start and stop services\r\n - perhaps enable logging\r\n - view processing statistics\r\n - etc\r\n\r\nI may have a few hundred different JVM&#39;s / Spring Boot applications or Node.js instances, that I would like to provide a Management UI for.\r\n\r\nWhat free open source management UI solutions exist in this space. \r\n\r\nOr do I need to containerise all of these and use some container management technology like Kubernetes.\r\n\r\nOr should I be using something like Nagios for this management task, which is more of a monitoring tool, but perhaps could be used as a Management UI.\r\n","title":"Management UI for Spring Boot or Node js Applications","body":"<p>We are considering migrating various integration services from vendor based solutions like TIBCO BW, WSO2 ESB, WebSphere Message Broker etc into custom Java (potentially SpringBoot) or Node.js.</p>\n\n<p>Whilst it is relatively straight forward to migrate the service logic, e.g. get message from JMS, run XSLT, send to HTTP request, the missing piece that these vendor solutions provided was a Management UI which allowed you to:</p>\n\n<ul>\n<li>view the version deployed</li>\n<li>deploy new versions</li>\n<li>view current configuration (ports, queues, url's etc)</li>\n<li>start and stop services</li>\n<li>perhaps enable logging</li>\n<li>view processing statistics</li>\n<li>etc</li>\n</ul>\n\n<p>I may have a few hundred different JVM's / Spring Boot applications or Node.js instances, that I would like to provide a Management UI for.</p>\n\n<p>What free open source management UI solutions exist in this space. </p>\n\n<p>Or do I need to containerise all of these and use some container management technology like Kubernetes.</p>\n\n<p>Or should I be using something like Nagios for this management task, which is more of a monitoring tool, but perhaps could be used as a Management UI.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1536975507,"post_id":52340875,"comment_id":91628757,"body_markdown":"Do you have a link to the documentation section in question?","body":"Do you have a link to the documentation section in question?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1536975564,"post_id":52340875,"comment_id":91628762,"body_markdown":"*Is it means that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?* Yes. And as the number of processors increases, a 1% GC time equates to 30% of clock time across 32 cpus. While 30% GC leads to almost 100% of the time spent in GC. Basically, this is a re-statement of Amdahl&#39;s law.","body":"<i>Is it means that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?</i> Yes. And as the number of processors increases, a 1% GC time equates to 30% of clock time across 32 cpus. While 30% GC leads to almost 100% of the time spent in GC. Basically, this is a re-statement of Amdahl&#39;s law."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1536975588,"post_id":52340875,"comment_id":91628767,"body_markdown":"Basically I&#39;m asking because there isn&#39;t enough information in your question to determine the answer.  I *think* the quote refers to the old stop-the-world mark-and-sweep GC, but I can&#39;t tell for sure.","body":"Basically I&#39;m asking because there isn&#39;t enough information in your question to determine the answer.  I <i>think</i> the quote refers to the old stop-the-world mark-and-sweep GC, but I can&#39;t tell for sure."},{"owner":{"account_id":11449968,"reputation":566,"user_id":8392616,"accept_rate":0,"display_name":"Hyun"},"score":0,"creation_date":1536976387,"post_id":52340875,"comment_id":91628843,"body_markdown":"@markspace Thanks for your help. I saw it at  https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#JSGCT-GUID-223394DF-2E27-4F5D-A7DF-83151EB577BB","body":"@markspace Thanks for your help. I saw it at  <a href=\"https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#JSGCT-GUID-223394DF-2E27-4F5D-A7DF-83151EB577BB\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/gctuning/&hellip;</a>"},{"owner":{"account_id":11449968,"reputation":566,"user_id":8392616,"accept_rate":0,"display_name":"Hyun"},"score":0,"creation_date":1536976835,"post_id":52340875,"comment_id":91628883,"body_markdown":"@Elliott Frisch Thanks for your comment. but I still don&#39;t understand that is it means the throughput is better when the processor is fewer? I thought like that because when we see only redline, it indicates the thoughput is better when the processor less than five rather than when the processor number is 32.","body":"@Elliott Frisch Thanks for your comment. but I still don&#39;t understand that is it means the throughput is better when the processor is fewer? I thought like that because when we see only redline, it indicates the thoughput is better when the processor less than five rather than when the processor number is 32."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536983121,"creation_date":1536982760,"answer_id":52341347,"question_id":52340875,"body_markdown":"Here is the explanation text in the document where you found this graph is:\r\n\r\n&gt; The graph in Figure 1-1 models an ideal system that&#39;s perfectly scalable with the exception of garbage collection. The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors. The magenta line shows that for an application at 10% of the time in garbage collection (not considered an outrageous amount of time in garbage collection in uniprocessor applications), more than 75% of throughput is lost when scaling up to 32 processors.\r\n\r\nThe link below the graph says:\r\n\r\n&gt; The graph models an ideal system that&#39;s perfectly scalable with the exception of garbage collection (GC). It plots the number of processors (x-axis) against throughput (y-axis). It contains six plotted lines labeled 1% GC, 2% GC, 3% GC, 10% GC, 20% GC, and 30% GC. Each line represents the changing throughput for an application that spends the specified percentage of time used for garbage collection on a uniprocessor system versus on a multiprocessor system. The graph is described in the text that precedes it.\r\n\r\n------------\r\n\r\nSo ... \r\n\r\n  1.  This is a model, not a graph of real measured performance.\r\n  2.  The model is idealized.  It assumes that the application is perfectly scalable (apart from GC).\r\n  3.  It is illustrating what happens when you *don&#39;t* make the garbage collection scalable; e.g. if there is only one GC thread and it doesn&#39;t operate in parallel with application threads.\r\n  4.  The 1% GC, 2% GC, etc lines represent different modeled GC loads on a uniprocessor system.  So the 1% line represents the case of an application running on a uniprocessor system where the application threads generate a GC load that could be collected using 1% of the available CPU.\r\n  5.  The throughput represents the *useful* (application) work that is being done by a busy application; i.e. the time (GC overhead) that is *not taken up with garbage collection or waiting for the GC to finish.\r\n  5.  The throughput is measured as a percentage of the available CPU time on a system with the given number of processors.\r\n\r\nSo, for example, at the 30% GC level, the throughput for a 32 core system will be roughly 1/10th of the theoretical throughput of the hardware.  It  will waste roughly 9/10ths of the available CPU time waiting for garbage collection to complete!","title":"What is the figure which is throughput with processor means in oracle java official document","body":"<p>Here is the explanation text in the document where you found this graph is:</p>\n\n<blockquote>\n  <p>The graph in Figure 1-1 models an ideal system that's perfectly scalable with the exception of garbage collection. The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors. The magenta line shows that for an application at 10% of the time in garbage collection (not considered an outrageous amount of time in garbage collection in uniprocessor applications), more than 75% of throughput is lost when scaling up to 32 processors.</p>\n</blockquote>\n\n<p>The link below the graph says:</p>\n\n<blockquote>\n  <p>The graph models an ideal system that's perfectly scalable with the exception of garbage collection (GC). It plots the number of processors (x-axis) against throughput (y-axis). It contains six plotted lines labeled 1% GC, 2% GC, 3% GC, 10% GC, 20% GC, and 30% GC. Each line represents the changing throughput for an application that spends the specified percentage of time used for garbage collection on a uniprocessor system versus on a multiprocessor system. The graph is described in the text that precedes it.</p>\n</blockquote>\n\n<hr>\n\n<p>So ... </p>\n\n<ol>\n<li>This is a model, not a graph of real measured performance.</li>\n<li>The model is idealized.  It assumes that the application is perfectly scalable (apart from GC).</li>\n<li>It is illustrating what happens when you <em>don't</em> make the garbage collection scalable; e.g. if there is only one GC thread and it doesn't operate in parallel with application threads.</li>\n<li>The 1% GC, 2% GC, etc lines represent different modeled GC loads on a uniprocessor system.  So the 1% line represents the case of an application running on a uniprocessor system where the application threads generate a GC load that could be collected using 1% of the available CPU.</li>\n<li>The throughput represents the <em>useful</em> (application) work that is being done by a busy application; i.e. the time (GC overhead) that is *not taken up with garbage collection or waiting for the GC to finish.</li>\n<li>The throughput is measured as a percentage of the available CPU time on a system with the given number of processors.</li>\n</ol>\n\n<p>So, for example, at the 30% GC level, the throughput for a 32 core system will be roughly 1/10th of the theoretical throughput of the hardware.  It  will waste roughly 9/10ths of the available CPU time waiting for garbage collection to complete!</p>\n"},{"tags":[],"owner":{"account_id":24301136,"reputation":1,"user_id":18244625,"display_name":"oceanbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645199679,"creation_date":1645199679,"answer_id":71176325,"question_id":52340875,"body_markdown":"The important thing is [Amdahl&#39;s law][1], it states that &quot;the overall performance improvement gained by optimizing a single part of a system is limited by the fraction of time that the improved part is actually used&quot;.\r\n\r\nYou can calculate the graph.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Amdahl%27s_law","title":"What is the figure which is throughput with processor means in oracle java official document","body":"<p>The important thing is <a href=\"https://en.wikipedia.org/wiki/Amdahl%27s_law\" rel=\"nofollow noreferrer\">Amdahl's law</a>, it states that &quot;the overall performance improvement gained by optimizing a single part of a system is limited by the fraction of time that the improved part is actually used&quot;.</p>\n<p>You can calculate the graph.</p>\n"}],"owner":{"account_id":11449968,"reputation":566,"user_id":8392616,"accept_rate":0,"display_name":"Hyun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645199679,"creation_date":1536974896,"question_id":52340875,"body_markdown":"The “Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide”, explains [its figure 1-1][2] like below  \r\n\r\n&gt; *The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors.*\r\n\r\n[![Garbage collection cause problems in scability system][1]][1]\r\n\r\nI don&#39;t understand what this figures really mean.  \r\nDoes it mean that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?\r\n\r\n  [1]: https://i.stack.imgur.com/9OOEs.png\r\n  [2]: https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#GUID-A48F272E-A6C1-45A0-9A8B-6D5790EB454C__PERCENTAGE_TIME_GC","title":"What is the figure which is throughput with processor means in oracle java official document","body":"<p>The “Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide”, explains <a href=\"https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#GUID-A48F272E-A6C1-45A0-9A8B-6D5790EB454C__PERCENTAGE_TIME_GC\" rel=\"nofollow noreferrer\">its figure 1-1</a> like below  </p>\n\n<blockquote>\n  <p><em>The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors.</em></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/9OOEs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9OOEs.png\" alt=\"Garbage collection cause problems in scability system\"></a></p>\n\n<p>I don't understand what this figures really mean.<br>\nDoes it mean that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?</p>\n"},{"tags":["java","arrays","string","for-loop"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1644315633,"post_id":71031780,"comment_id":125568062,"body_markdown":"I don&#39;t understand your question. `For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32` ... how does the first array relate to that number 32? It s not clear how you compute that number!!! That is the key thing here: before you start thinking about writing code to solve a problem ... enable yourself to *explain* the problem. To you, and the people you are asking to help.","body":"I don&#39;t understand your question. <code>For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32</code> ... how does the first array relate to that number 32? It s not clear how you compute that number!!! That is the key thing here: before you start thinking about writing code to solve a problem ... enable yourself to <i>explain</i> the problem. To you, and the people you are asking to help."},{"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"score":0,"creation_date":1644316520,"post_id":71031780,"comment_id":125568412,"body_markdown":"So sorry if I was not clear, int array is ground structure first element is 8 second is 4 and third is again 8 in this case if You imagine as 8 is 8 meter wall and between two 8m walls on a 4meter platform can be stored 4 units of water, in case if the first value is 10 and decreasing till the end of array than can not store any water.","body":"So sorry if I was not clear, int array is ground structure first element is 8 second is 4 and third is again 8 in this case if You imagine as 8 is 8 meter wall and between two 8m walls on a 4meter platform can be stored 4 units of water, in case if the first value is 10 and decreasing till the end of array than can not store any water."},{"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"score":0,"creation_date":1644496120,"post_id":71031780,"comment_id":125625215,"body_markdown":"Thank You, will keep in mind Your suggestion, code is great","body":"Thank You, will keep in mind Your suggestion, code is great"},{"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"score":0,"creation_date":1645199125,"post_id":71031780,"comment_id":125815178,"body_markdown":"Dear GhostCat, Your code is perfect, but we still not learned about the stream methods I cant use it to prepare my homework. Could You please help me to write it with simple methods? If You check my triggers above You can see what I mean. I started of course study the methods used by you in your code and tried to simplify it to write it my way but couldn&#39;t, so it has to be done by more simple methods. Thanks in adavance for Your help!","body":"Dear GhostCat, Your code is perfect, but we still not learned about the stream methods I cant use it to prepare my homework. Could You please help me to write it with simple methods? If You check my triggers above You can see what I mean. I started of course study the methods used by you in your code and tried to simplify it to write it my way but couldn&#39;t, so it has to be done by more simple methods. Thanks in adavance for Your help!"}],"answers":[{"tags":[],"owner":{"account_id":22018848,"reputation":51,"user_id":16287946,"display_name":"seyoatda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644320412,"creation_date":1644320412,"answer_id":71033272,"question_id":71031780,"body_markdown":"the code&#39;s meaning is basically explained in the comments. this may solve your problem but maybe it&#39;s not the most efficient way. You can explore more ways by yourself.\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int[] terrain = { 8, 4, 8, 2, 6, 3, 2, 1, 6, 9 };\r\n        int[] capacity = countCapacity(terrain);\r\n        int sum = Arrays.stream(capacity).sum();\r\n        System.out.println(Arrays.toString(capacity));\r\n        System.out.println(sum);\r\n        printGraph(terrain,capacity);\r\n    }\r\n\r\n    public static void printGraph(int[] terrain, int[] capacity) {\r\n        // find the max height, and it will be the row numbers of console output.\r\n        int maxHeight = Arrays.stream(terrain).max().orElse(0);\r\n        for (int j = maxHeight; j &gt; 0; j--) {\r\n            for (int i = 0; i &lt; terrain.length; i++) {\r\n                // if terrain height is lower than current printing height.\r\n            \tif (terrain[i] &lt; j){\r\n            \t    // and terrain&#39;s capacity + height is lower, just print space\r\n            \t    if (capacity[i] + terrain[i] &lt; j){\r\n                        System.out.print(&quot;   &quot;);\r\n                    // otherwise, print water\r\n                    }else {\r\n                        System.out.print(&quot; - &quot;);\r\n                    }\r\n                // if terrain height is higher than current printing height. print terrain\r\n                }else {\r\n                    System.out.print(&quot; * &quot;);\r\n                }\r\n            }\r\n            // make a new row.\r\n\t\t\tSystem.out.println();\r\n        }\r\n    }\r\n\r\n    public static int[] countCapacity(int[] terrain) {\r\n        List&lt;Integer&gt; terranList = Arrays.stream(terrain).boxed().collect(Collectors.toList());\r\n        int[] capacity = new int[terrain.length];\r\n        // the first and last terrain&#39;s capacity must be 0. just set it first.\r\n        capacity[0] = 0;\r\n        capacity[capacity.length - 1] = 0;\r\n        for (int i = 1; i &lt; terrain.length - 1; i++) {\r\n            // if there&#39;s no terrain higher than current terrain at left. then it can not hold water.\r\n            // so it&#39;s capacity is 0, and skip to next terrain.\r\n            int currentHeight = terrain[i];\r\n            int leftHighest = Collections.max(terranList.subList(0, i));\r\n            if (leftHighest &lt;= currentHeight) {\r\n                capacity[i] = 0;\r\n                continue;\r\n            }\r\n            // if there&#39;s no higher terrain in the right. the same as above.\r\n            int rightHighest = Collections.max(terranList.subList(i + 1, terranList.size()));\r\n            if (rightHighest &lt;= currentHeight) {\r\n                capacity[i] = 0;\r\n                continue;\r\n            }\r\n            // if there are higher terrain int both direction. this terrain can hold water.\r\n            // and its capacity is the lower one minus this terrain&#39;s height.\r\n            capacity[i] = Math.min(leftHighest, rightHighest) - currentHeight;\r\n        }\r\n        return capacity;\r\n    }\r\n}\r\n```\r\nthe output may like:\r\n```\r\n[0, 4, 0, 6, 2, 5, 6, 7, 2, 0]\r\n32\r\n                            * \r\n *  -  *  -  -  -  -  -  -  * \r\n *  -  *  -  -  -  -  -  -  * \r\n *  -  *  -  *  -  -  -  *  * \r\n *  -  *  -  *  -  -  -  *  * \r\n *  *  *  -  *  -  -  -  *  * \r\n *  *  *  -  *  *  -  -  *  * \r\n *  *  *  *  *  *  *  -  *  * \r\n *  *  *  *  *  *  *  *  *  * \r\n```\r\n","title":"How to count the difference between a random int array elements values in Java","body":"<p>the code's meaning is basically explained in the comments. this may solve your problem but maybe it's not the most efficient way. You can explore more ways by yourself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        int[] terrain = { 8, 4, 8, 2, 6, 3, 2, 1, 6, 9 };\n        int[] capacity = countCapacity(terrain);\n        int sum = Arrays.stream(capacity).sum();\n        System.out.println(Arrays.toString(capacity));\n        System.out.println(sum);\n        printGraph(terrain,capacity);\n    }\n\n    public static void printGraph(int[] terrain, int[] capacity) {\n        // find the max height, and it will be the row numbers of console output.\n        int maxHeight = Arrays.stream(terrain).max().orElse(0);\n        for (int j = maxHeight; j &gt; 0; j--) {\n            for (int i = 0; i &lt; terrain.length; i++) {\n                // if terrain height is lower than current printing height.\n                if (terrain[i] &lt; j){\n                    // and terrain's capacity + height is lower, just print space\n                    if (capacity[i] + terrain[i] &lt; j){\n                        System.out.print(&quot;   &quot;);\n                    // otherwise, print water\n                    }else {\n                        System.out.print(&quot; - &quot;);\n                    }\n                // if terrain height is higher than current printing height. print terrain\n                }else {\n                    System.out.print(&quot; * &quot;);\n                }\n            }\n            // make a new row.\n            System.out.println();\n        }\n    }\n\n    public static int[] countCapacity(int[] terrain) {\n        List&lt;Integer&gt; terranList = Arrays.stream(terrain).boxed().collect(Collectors.toList());\n        int[] capacity = new int[terrain.length];\n        // the first and last terrain's capacity must be 0. just set it first.\n        capacity[0] = 0;\n        capacity[capacity.length - 1] = 0;\n        for (int i = 1; i &lt; terrain.length - 1; i++) {\n            // if there's no terrain higher than current terrain at left. then it can not hold water.\n            // so it's capacity is 0, and skip to next terrain.\n            int currentHeight = terrain[i];\n            int leftHighest = Collections.max(terranList.subList(0, i));\n            if (leftHighest &lt;= currentHeight) {\n                capacity[i] = 0;\n                continue;\n            }\n            // if there's no higher terrain in the right. the same as above.\n            int rightHighest = Collections.max(terranList.subList(i + 1, terranList.size()));\n            if (rightHighest &lt;= currentHeight) {\n                capacity[i] = 0;\n                continue;\n            }\n            // if there are higher terrain int both direction. this terrain can hold water.\n            // and its capacity is the lower one minus this terrain's height.\n            capacity[i] = Math.min(leftHighest, rightHighest) - currentHeight;\n        }\n        return capacity;\n    }\n}\n</code></pre>\n<p>the output may like:</p>\n<pre><code>[0, 4, 0, 6, 2, 5, 6, 7, 2, 0]\n32\n                            * \n *  -  *  -  -  -  -  -  -  * \n *  -  *  -  -  -  -  -  -  * \n *  -  *  -  *  -  -  -  *  * \n *  -  *  -  *  -  -  -  *  * \n *  *  *  -  *  -  -  -  *  * \n *  *  *  -  *  *  -  -  *  * \n *  *  *  *  *  *  *  -  *  * \n *  *  *  *  *  *  *  *  *  * \n</code></pre>\n"}],"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645198694,"creation_date":1644314044,"question_id":71031780,"body_markdown":"I&#39;m a beginner and need help with following:-)There is a random int array, the values(0-10) are showing the level of terrain, I need to count first how much water can be stored on this ground structure. For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32. I have two questions, first how to count it from a random int array?\r\nSecond is a bit different as I need to print out and visualize it in a 2D string array [10][10] where string ground = &quot;*&quot;; string water = &quot;-&quot;; and the air is empty space. \r\nThanks in advance for Your help! below You can se what I&#39;ve done, but it is not wotrking as expected.\r\nGhostCats resolution is perfect but as we did not learn still about stream methods it would be apreciate if somebody could help with a bit different resolution using only simple methods.\r\npackage Rezervoir;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Rezervoir {\r\n\r\n\tprivate static final int TERRAIN_HEIGHT = 10;\r\n\tprivate static final int TERRAIN_WIDTH = 10;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] randomTerrain = createRandomTerrain();\r\n\t\tSystem.out.println(Arrays.toString(randomTerrain));\r\n\t\t\t\t\t\t\r\n\t\tint waterStorageCapacity = countWaterCapacity(randomTerrain);\t\t\r\n\t\tSystem.out.println(waterStorageCapacity);\t\r\n\t\tSystem.out.println();\r\n\t\tString[][] terrain = {\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}\r\n\t\t};\r\n\r\n\t\tint row = 0;\r\n\t\tint column = 0;\r\n\r\n\t\tfor (column = 0 ; column &lt; terrain[0].length ; column++) {\r\n\r\n\t\t\tfor (row = 0 ; row &lt; terrain.length ; row++) {\r\n\r\n\t\t\t\tif ((terrain.length -1) -row &lt;= randomTerrain[column]) {\r\n\r\n\t\t\t\t\tterrain[column][row] = &quot;*&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(terrain[terrain.length-1-row][column] + &quot;\\t&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\tprivate static int countWaterCapacity(int[] randomTerrain) {\r\n\t\tint capacitySum = 0;\r\n\t\tint firstTop = 0;\t\r\n\t\t\r\n\t\tfor (int i = 0 ; i &lt; randomTerrain.length -1 ; i++) {\t\t\t\r\n\t\t\t\r\n\t\t\tif (randomTerrain[i] &gt;= randomTerrain[i+1]) {\r\n\t\t\t\tfirstTop = randomTerrain[i];\t\t\t\r\n\t\t\t}\t\t\t\t\r\n\t\t\t\telse if (randomTerrain[i+1] &gt;= randomTerrain[i])\t{\r\n\t\t\t\t\tfirstTop = randomTerrain[i+1];\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\tint capacity = 0;\r\n\t\t\tcapacity = firstTop - randomTerrain[i];\r\n\t\t\tcapacitySum += capacity;\t\t\t\r\n\t\t}\r\n\t\treturn capacitySum;\r\n\t}\r\n\tprivate static int[] createRandomTerrain() {\r\n\t\tint[] randomTerrain = new int[TERRAIN_WIDTH];\r\n\r\n\t\tfor (int i = 0 ; i &lt; randomTerrain.length ; i ++) {\r\n\t\t\trandomTerrain[i] = (int) (Math.random() * TERRAIN_HEIGHT + 1);\r\n\r\n\t\t}\r\n\t\treturn randomTerrain;\t\t\r\n\t}\r\n}\r\n","title":"How to count the difference between a random int array elements values in Java","body":"<p>I'm a beginner and need help with following:-)There is a random int array, the values(0-10) are showing the level of terrain, I need to count first how much water can be stored on this ground structure. For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32. I have two questions, first how to count it from a random int array?\nSecond is a bit different as I need to print out and visualize it in a 2D string array [10][10] where string ground = &quot;*&quot;; string water = &quot;-&quot;; and the air is empty space.\nThanks in advance for Your help! below You can se what I've done, but it is not wotrking as expected.\nGhostCats resolution is perfect but as we did not learn still about stream methods it would be apreciate if somebody could help with a bit different resolution using only simple methods.\npackage Rezervoir;</p>\n<p>import java.util.Arrays;\nimport java.util.Random;</p>\n<p>public class Rezervoir {</p>\n<pre><code>private static final int TERRAIN_HEIGHT = 10;\nprivate static final int TERRAIN_WIDTH = 10;\n\npublic static void main(String[] args) {\n\n    int[] randomTerrain = createRandomTerrain();\n    System.out.println(Arrays.toString(randomTerrain));\n                    \n    int waterStorageCapacity = countWaterCapacity(randomTerrain);       \n    System.out.println(waterStorageCapacity);   \n    System.out.println();\n    String[][] terrain = {\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}\n    };\n\n    int row = 0;\n    int column = 0;\n\n    for (column = 0 ; column &lt; terrain[0].length ; column++) {\n\n        for (row = 0 ; row &lt; terrain.length ; row++) {\n\n            if ((terrain.length -1) -row &lt;= randomTerrain[column]) {\n\n                terrain[column][row] = &quot;*&quot;;\n            }\n            System.out.print(terrain[terrain.length-1-row][column] + &quot;\\t&quot;);\n        }\n        System.out.println();\n    }\n}\nprivate static int countWaterCapacity(int[] randomTerrain) {\n    int capacitySum = 0;\n    int firstTop = 0;   \n    \n    for (int i = 0 ; i &lt; randomTerrain.length -1 ; i++) {           \n        \n        if (randomTerrain[i] &gt;= randomTerrain[i+1]) {\n            firstTop = randomTerrain[i];            \n        }               \n            else if (randomTerrain[i+1] &gt;= randomTerrain[i])    {\n                firstTop = randomTerrain[i+1];                  \n            }               \n        int capacity = 0;\n        capacity = firstTop - randomTerrain[i];\n        capacitySum += capacity;            \n    }\n    return capacitySum;\n}\nprivate static int[] createRandomTerrain() {\n    int[] randomTerrain = new int[TERRAIN_WIDTH];\n\n    for (int i = 0 ; i &lt; randomTerrain.length ; i ++) {\n        randomTerrain[i] = (int) (Math.random() * TERRAIN_HEIGHT + 1);\n\n    }\n    return randomTerrain;       \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","jakarta-ee","jaxb","xml-binding"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645185903,"post_id":71170312,"comment_id":125810100,"body_markdown":"The simplest one to generate a pom file is by using MavenXpp3 reader/writer using the dependency `maven-model:3.8.4`...","body":"The simplest one to generate a pom file is by using MavenXpp3 reader/writer using the dependency <code>maven-model:3.8.4</code>..."}],"answers":[{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645198625,"creation_date":1645174326,"answer_id":71170691,"question_id":71170312,"body_markdown":"I forgot to provide the namespace to the QName :\r\n\r\n    new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;)\r\n\r\nAnd now the result looks good :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThere&#39;s no need for a prefix mapper, so the code can be simplified:\r\n\r\n    import org.apache.maven.pom.Dependency;\r\n    import org.apache.maven.pom.Model;\r\n    import org.apache.maven.pom.Model.Dependencies;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import jakarta.xml.bind.JAXB;\r\n    import jakarta.xml.bind.JAXBElement;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Model model = new Model();\r\n            model.setModelVersion(&quot;4.0.0&quot;);\r\n            model.setDependencies(new Dependencies());\r\n            Dependency dependency = new Dependency();\r\n            dependency.setGroupId(&quot;commons-io&quot;);\r\n            dependency.setArtifactId(&quot;commons-io&quot;);\r\n            dependency.setVersion(&quot;2.11.0&quot;);\r\n            model.getDependencies().getDependency().add(dependency);\r\n            JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;), Model.class, model);\r\n            JAXB.marshal(elem, System.out);\r\n        }\r\n    }\r\n\r\n","title":"How do I remove the ns2 prefixes from XML elements using JAXB 3 and a NamespacePrefixMapper?","body":"<p>I forgot to provide the namespace to the QName :</p>\n<pre><code>new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;)\n</code></pre>\n<p>And now the result looks good :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>There's no need for a prefix mapper, so the code can be simplified:</p>\n<pre><code>import org.apache.maven.pom.Dependency;\nimport org.apache.maven.pom.Model;\nimport org.apache.maven.pom.Model.Dependencies;\n\nimport javax.xml.namespace.QName;\n\nimport jakarta.xml.bind.JAXB;\nimport jakarta.xml.bind.JAXBElement;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Model model = new Model();\n        model.setModelVersion(&quot;4.0.0&quot;);\n        model.setDependencies(new Dependencies());\n        Dependency dependency = new Dependency();\n        dependency.setGroupId(&quot;commons-io&quot;);\n        dependency.setArtifactId(&quot;commons-io&quot;);\n        dependency.setVersion(&quot;2.11.0&quot;);\n        model.getDependencies().getDependency().add(dependency);\n        JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;), Model.class, model);\n        JAXB.marshal(elem, System.out);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71170691,"answer_count":1,"score":1,"last_activity_date":1645198625,"creation_date":1645172372,"question_id":71170312,"body_markdown":"I want to generate a POM file using JAXB 3. I downloaded the XSD [https://maven.apache.org/xsd/maven-4.0.0.xsd][1] into `src/main/xsd`.\r\nI generated the model classes using the JAXB maven plugin.\r\n\r\nThe POM file of the project is :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-maven&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.evolvedbinary.maven.mojohaus&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jaxb-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;packageName&gt;org.apache.maven.pom&lt;/packageName&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThe main class used to generate the sample POM is :\r\n\r\n    import org.apache.maven.pom.Dependency;\r\n    import org.apache.maven.pom.Model;\r\n    import org.apache.maven.pom.Model.Dependencies;\r\n    import org.glassfish.jaxb.core.v2.WellKnownNamespace;\r\n    import org.glassfish.jaxb.runtime.marshaller.NamespacePrefixMapper;\r\n    \r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    import jakarta.xml.bind.JAXBContext;\r\n    import jakarta.xml.bind.JAXBElement;\r\n    import jakarta.xml.bind.JAXBException;\r\n    import jakarta.xml.bind.Marshaller;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws JAXBException {\r\n            Model model = new Model();\r\n            model.setModelVersion(&quot;4.0.0&quot;);\r\n            model.setDependencies(new Dependencies());\r\n            Dependency dependency = new Dependency();\r\n            dependency.setGroupId(&quot;commons-io&quot;);\r\n            dependency.setArtifactId(&quot;commons-io&quot;);\r\n            dependency.setVersion(&quot;2.11.0&quot;);\r\n            model.getDependencies().getDependency().add(dependency);\r\n            JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;project&quot;), Model.class, model);\r\n            JAXBContext context = JAXBContext.newInstance(Model.class);\r\n            Marshaller m = context.createMarshaller();\r\n            m.setProperty(&quot;org.glassfish.jaxb.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\r\n                @Override\r\n                public String getPreferredPrefix(String namespaceUri, String suggestion, boolean requirePrefix) {\r\n                    return switch (namespaceUri) {\r\n                        case XMLConstants.W3C_XML_SCHEMA_INSTANCE_NS_URI -&gt; &quot;xsi&quot;;\r\n                        case XMLConstants.W3C_XML_SCHEMA_NS_URI -&gt; &quot;xs&quot;;\r\n                        case WellKnownNamespace.XML_MIME_URI -&gt; &quot;xmime&quot;;\r\n                        default -&gt; &quot;&quot;;\r\n                    };\r\n                }\r\n            });\r\n            m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,true);\r\n            m.marshal(elem, System.out);\r\n        }\r\n    }\r\n\r\nMy issue is, the output contains undesired ns2 prefixes. I didn&#39;t figure out how to tell the marshaller that the generated model uses the default namespace and not a namespace named ns2.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;project xmlns:ns2=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n        &lt;ns2:modelVersion&gt;4.0.0&lt;/ns2:modelVersion&gt;\r\n        &lt;ns2:dependencies&gt;\r\n            &lt;ns2:dependency&gt;\r\n                &lt;ns2:groupId&gt;commons-io&lt;/ns2:groupId&gt;\r\n                &lt;ns2:artifactId&gt;commons-io&lt;/ns2:artifactId&gt;\r\n                &lt;ns2:version&gt;2.11.0&lt;/ns2:version&gt;\r\n            &lt;/ns2:dependency&gt;\r\n        &lt;/ns2:dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://maven.apache.org/xsd/maven-4.0.0.xsd\r\n","title":"How do I remove the ns2 prefixes from XML elements using JAXB 3 and a NamespacePrefixMapper?","body":"<p>I want to generate a POM file using JAXB 3. I downloaded the XSD <a href=\"https://maven.apache.org/xsd/maven-4.0.0.xsd\" rel=\"nofollow noreferrer\">https://maven.apache.org/xsd/maven-4.0.0.xsd</a> into <code>src/main/xsd</code>.\nI generated the model classes using the JAXB maven plugin.</p>\n<p>The POM file of the project is :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\n    &lt;artifactId&gt;test-maven&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.evolvedbinary.maven.mojohaus&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;packageName&gt;org.apache.maven.pom&lt;/packageName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The main class used to generate the sample POM is :</p>\n<pre><code>import org.apache.maven.pom.Dependency;\nimport org.apache.maven.pom.Model;\nimport org.apache.maven.pom.Model.Dependencies;\nimport org.glassfish.jaxb.core.v2.WellKnownNamespace;\nimport org.glassfish.jaxb.runtime.marshaller.NamespacePrefixMapper;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.namespace.QName;\n\nimport jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.JAXBException;\nimport jakarta.xml.bind.Marshaller;\n\npublic class Main {\n\n    public static void main(String[] args) throws JAXBException {\n        Model model = new Model();\n        model.setModelVersion(&quot;4.0.0&quot;);\n        model.setDependencies(new Dependencies());\n        Dependency dependency = new Dependency();\n        dependency.setGroupId(&quot;commons-io&quot;);\n        dependency.setArtifactId(&quot;commons-io&quot;);\n        dependency.setVersion(&quot;2.11.0&quot;);\n        model.getDependencies().getDependency().add(dependency);\n        JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;project&quot;), Model.class, model);\n        JAXBContext context = JAXBContext.newInstance(Model.class);\n        Marshaller m = context.createMarshaller();\n        m.setProperty(&quot;org.glassfish.jaxb.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\n            @Override\n            public String getPreferredPrefix(String namespaceUri, String suggestion, boolean requirePrefix) {\n                return switch (namespaceUri) {\n                    case XMLConstants.W3C_XML_SCHEMA_INSTANCE_NS_URI -&gt; &quot;xsi&quot;;\n                    case XMLConstants.W3C_XML_SCHEMA_NS_URI -&gt; &quot;xs&quot;;\n                    case WellKnownNamespace.XML_MIME_URI -&gt; &quot;xmime&quot;;\n                    default -&gt; &quot;&quot;;\n                };\n            }\n        });\n        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,true);\n        m.marshal(elem, System.out);\n    }\n}\n</code></pre>\n<p>My issue is, the output contains undesired ns2 prefixes. I didn't figure out how to tell the marshaller that the generated model uses the default namespace and not a namespace named ns2.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;project xmlns:ns2=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n    &lt;ns2:modelVersion&gt;4.0.0&lt;/ns2:modelVersion&gt;\n    &lt;ns2:dependencies&gt;\n        &lt;ns2:dependency&gt;\n            &lt;ns2:groupId&gt;commons-io&lt;/ns2:groupId&gt;\n            &lt;ns2:artifactId&gt;commons-io&lt;/ns2:artifactId&gt;\n            &lt;ns2:version&gt;2.11.0&lt;/ns2:version&gt;\n        &lt;/ns2:dependency&gt;\n    &lt;/ns2:dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","algorithm","sorting","data-structures","linked-list"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1645185709,"post_id":71173099,"comment_id":125810020,"body_markdown":"What language? Please tag your question accordingly.","body":"What language? Please tag your question accordingly."},{"owner":{"account_id":17811536,"reputation":653,"user_id":12936009,"display_name":"NobinPegasus"},"score":0,"creation_date":1645186418,"post_id":71173099,"comment_id":125810273,"body_markdown":"Java Language, Edited","body":"Java Language, Edited"}],"answers":[{"tags":[],"owner":{"account_id":7092885,"reputation":69,"user_id":5427538,"display_name":"Dalendrion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645198298,"creation_date":1645198298,"answer_id":71175992,"question_id":71173099,"body_markdown":"What you can do is add a `Comparator` as a parameter to your sort function.\r\nSee https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html.\r\n\r\n```\r\n    public void sortList(Comparator&lt;Node&gt; comparator) {\r\n```\r\nThen\r\n```\r\n                    if(comparator.compare(current, price) &gt; 0) { \r\n                        temp = current.price;  \r\n                        current.price = index.price;  \r\n                        index.price = temp;  \r\n                    }    \r\n```\r\n\r\nNow you can choose what to sort by with:\r\n```\r\nll.sort(Comparator.comparing(node -&gt; node.getPrice()));\r\n```\r\nor:\r\n```\r\nll.sort(Comparator.comparing(node -&gt; node.getTeacher_id()))\r\n```","title":"Sort a linked list based on the parameter field","body":"<p>What you can do is add a <code>Comparator</code> as a parameter to your sort function.\nSee <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>.</p>\n<pre><code>    public void sortList(Comparator&lt;Node&gt; comparator) {\n</code></pre>\n<p>Then</p>\n<pre><code>                    if(comparator.compare(current, price) &gt; 0) { \n                        temp = current.price;  \n                        current.price = index.price;  \n                        index.price = temp;  \n                    }    \n</code></pre>\n<p>Now you can choose what to sort by with:</p>\n<pre><code>ll.sort(Comparator.comparing(node -&gt; node.getPrice()));\n</code></pre>\n<p>or:</p>\n<pre><code>ll.sort(Comparator.comparing(node -&gt; node.getTeacher_id()))\n</code></pre>\n"}],"owner":{"account_id":17811536,"reputation":653,"user_id":12936009,"display_name":"NobinPegasus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645198298,"creation_date":1645185473,"question_id":71173099,"body_markdown":"The following is a code of sorting a singly linked list. Where each node has the pointer to the next node. and a data field. Here I can&#39;t pass parameter to my sortList() function.\r\n\r\n```java\r\npublic class LL {\r\n\r\n    private Node head;\r\n    private Node tail;\r\n    private int size;\r\n\r\n    public LL() {\r\n        this.size = 0;\r\n    }\r\n\r\n    public void sortList() {  \r\n        //Node current will point to head  \r\n        Node current = head, index = null;  \r\n        int temp;  \r\n          \r\n        if(head == null) {  \r\n            return;  \r\n        }  \r\n        else {  \r\n            while(current != null) {  \r\n                //Node index will point to node next to current  \r\n                index = current.next;  \r\n                  \r\n                while(index != null) {  \r\n                    //If current node&#39;s data is greater than index&#39;s node data, swap the data between them  \r\n                    if(current.data &gt; index.data) {  \r\n                        temp = current.data;  \r\n                        current.data = index.data;  \r\n                        index.data = temp;  \r\n                    }  \r\n                    index = index.next;  \r\n                }  \r\n                current = current.next;  \r\n            }      \r\n        }\r\n```\r\n\r\nBut what I want to do is pass a parameter to the list. Here my nodes have unique_id, hours, price, teacher_id.\r\nI want to sort my list based on what I pass to the sortfunction.\r\nLike if I pass int price to the method, I want my list to be sorted based on the price. If I pass hours, I want the list to be sorted on the basis of hours.\r\nSo that it sorts based on that specific field something like the following code:\r\n\r\n```java\r\npublic class LL {\r\n\r\n    private Node head;\r\n    private Node tail;\r\n    private int size;\r\n\r\n    public LL() {\r\n        this.size = 0;\r\n    }\r\n\r\n    private class Node {\r\n        private String unique_id;\r\n        private int hours = -1;\r\n        private String teacher_id;\r\n        private String topic_name;\r\n        private int price = -1;\r\n        private LL ll_of_ll;\r\n        private Node next;\r\n    \r\n\r\n    public void sortList(int price) {  \r\n        //Node current will point to head  \r\n        Node current = head, index = null;  \r\n        int temp;  \r\n          \r\n        if(head == null) {  \r\n            return;  \r\n        }  \r\n        else {  \r\n            while(current != null) {  \r\n                //Node index will point to node next to current  \r\n                index = current.next;  \r\n                  \r\n                while(index != null) {  \r\n                    //If current node&#39;s data is greater than index&#39;s node data, swap the data between them  \r\n                    if(current.price &gt; index.price) {  \r\n                        temp = current.price;  \r\n                        current.price = index.price;  \r\n                        index.price = temp;  \r\n                    }  \r\n                    index = index.next;  \r\n                }  \r\n                current = current.next;  \r\n            }      \r\n        } \r\n```","title":"Sort a linked list based on the parameter field","body":"<p>The following is a code of sorting a singly linked list. Where each node has the pointer to the next node. and a data field. Here I can't pass parameter to my sortList() function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LL {\n\n    private Node head;\n    private Node tail;\n    private int size;\n\n    public LL() {\n        this.size = 0;\n    }\n\n    public void sortList() {  \n        //Node current will point to head  \n        Node current = head, index = null;  \n        int temp;  \n          \n        if(head == null) {  \n            return;  \n        }  \n        else {  \n            while(current != null) {  \n                //Node index will point to node next to current  \n                index = current.next;  \n                  \n                while(index != null) {  \n                    //If current node's data is greater than index's node data, swap the data between them  \n                    if(current.data &gt; index.data) {  \n                        temp = current.data;  \n                        current.data = index.data;  \n                        index.data = temp;  \n                    }  \n                    index = index.next;  \n                }  \n                current = current.next;  \n            }      \n        }\n</code></pre>\n<p>But what I want to do is pass a parameter to the list. Here my nodes have unique_id, hours, price, teacher_id.\nI want to sort my list based on what I pass to the sortfunction.\nLike if I pass int price to the method, I want my list to be sorted based on the price. If I pass hours, I want the list to be sorted on the basis of hours.\nSo that it sorts based on that specific field something like the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LL {\n\n    private Node head;\n    private Node tail;\n    private int size;\n\n    public LL() {\n        this.size = 0;\n    }\n\n    private class Node {\n        private String unique_id;\n        private int hours = -1;\n        private String teacher_id;\n        private String topic_name;\n        private int price = -1;\n        private LL ll_of_ll;\n        private Node next;\n    \n\n    public void sortList(int price) {  \n        //Node current will point to head  \n        Node current = head, index = null;  \n        int temp;  \n          \n        if(head == null) {  \n            return;  \n        }  \n        else {  \n            while(current != null) {  \n                //Node index will point to node next to current  \n                index = current.next;  \n                  \n                while(index != null) {  \n                    //If current node's data is greater than index's node data, swap the data between them  \n                    if(current.price &gt; index.price) {  \n                        temp = current.price;  \n                        current.price = index.price;  \n                        index.price = temp;  \n                    }  \n                    index = index.next;  \n                }  \n                current = current.next;  \n            }      \n        } \n</code></pre>\n"},{"tags":["java","recursion","static","static-methods","cumulative-sum"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1645197079,"post_id":71175693,"comment_id":125814354,"body_markdown":"Why even use a field if your class does not have state? Make ans a local variable, local to the method and not a static field of the class, since it serves no purpose as a field. A solution will not need that field.","body":"Why even use a field if your class does not have state? Make ans a local variable, local to the method and not a static field of the class, since it serves no purpose as a field. A solution will not need that field."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1645197341,"post_id":71175693,"comment_id":125814460,"body_markdown":"Rather you would include the value in your return statement.","body":"Rather you would include the value in your return statement."}],"answers":[{"tags":[],"owner":{"account_id":20838954,"reputation":76,"user_id":15306166,"display_name":"arpitj938"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645198100,"creation_date":1645198100,"answer_id":71175946,"question_id":71175693,"body_markdown":"Why use recursion, the goal can be achieved in O(1) complexity using maths\r\n\r\n```\r\n\r\nSum of the number between a and b  \r\n- Step 1 find sum from 1 to a i.e. (a*(a+1))/2 \r\n- Step 2 find sum from 1 to b i.e. (b*(b+1))/2 \r\n- Step 3 Subtract out the result of step 2 by step 1 and add a\r\n\r\n```\r\n\r\n```\r\nans = (b*(b+1)/2) - (a*(a+1)/2) + a\r\n```\r\n","title":"How can I use an instance variable with a static recursive method in java? (cumulative sum problem)","body":"<p>Why use recursion, the goal can be achieved in O(1) complexity using maths</p>\n<pre><code>\nSum of the number between a and b  \n- Step 1 find sum from 1 to a i.e. (a*(a+1))/2 \n- Step 2 find sum from 1 to b i.e. (b*(b+1))/2 \n- Step 3 Subtract out the result of step 2 by step 1 and add a\n\n</code></pre>\n<pre><code>ans = (b*(b+1)/2) - (a*(a+1)/2) + a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645198120,"creation_date":1645198120,"answer_id":71175952,"question_id":71175693,"body_markdown":"Someone answer a second ago but deleted their answer - regardless, thank you stranger because it worked:\r\n\r\n     public static int sumBetween(int a, int b) {\r\n    \t return sumBetweenHelper(a, b, 0);\r\n     }\r\n     \r\n     public static int sumBetweenHelper(int a, int b, int ans) {\r\n    \t // base case\r\n    \t if (a==b) {\r\n    \t\t ans = ans +b;\r\n    \t\t return ans;\r\n    \t }\r\n    \t // recursion\r\n    \t ans = ans + a + b;\r\n    \t return sumBetweenHelper(a+1, b-1, ans);\r\n     }","title":"How can I use an instance variable with a static recursive method in java? (cumulative sum problem)","body":"<p>Someone answer a second ago but deleted their answer - regardless, thank you stranger because it worked:</p>\n<pre><code> public static int sumBetween(int a, int b) {\n     return sumBetweenHelper(a, b, 0);\n }\n \n public static int sumBetweenHelper(int a, int b, int ans) {\n     // base case\n     if (a==b) {\n         ans = ans +b;\n         return ans;\n     }\n     // recursion\n     ans = ans + a + b;\n     return sumBetweenHelper(a+1, b-1, ans);\n }\n</code></pre>\n"}],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71175952,"answer_count":2,"score":0,"last_activity_date":1645198120,"creation_date":1645196955,"question_id":71175693,"body_markdown":"I&#39;m writing some code to figure out the cumulative sum between two numbers recursively, but the method i wrote requires updating a would-be instance variable called &quot;ans&quot;.\r\n\r\nSince the problem I&#39;m looking at requires the method header to be &quot;public static int sumBetween(int a, int b)&quot;, I&#39;m having issues using a non-static variable for this method.\r\n\r\nCurrently, I have the variable ans set to static but this can of course only run once, and if I call the method afterwards it starts with the variable ans being the last answer, not 0.\r\n\r\nI&#39;m new to recursion so I though I would start with some of these problems. Thank you!\r\n\r\nCode:\r\n\r\n    /* EXERCISE 2: Cumulative sum\r\n     * \r\n     * public static int sumBetween(int a, int b)\r\n     * The goal is to find the sum of the values from &#119886; to &#119887;. In math, we would write this problem as ∑&#119887;&#119894;=&#119886;&#119894;\r\n     */\r\n     static int ans =0;\r\n     \r\n     public static int sumBetween(int a, int b) {\r\n    \t // base case\r\n    \t if (a==b) {\r\n    \t\t ans = ans +b;\r\n    \t\t return ans;\r\n    \t }\r\n    \t // recursion\r\n    \t ans = ans + a + b;\r\n    \t return sumBetween(a+1, b-1);\r\n     }","title":"How can I use an instance variable with a static recursive method in java? (cumulative sum problem)","body":"<p>I'm writing some code to figure out the cumulative sum between two numbers recursively, but the method i wrote requires updating a would-be instance variable called &quot;ans&quot;.</p>\n<p>Since the problem I'm looking at requires the method header to be &quot;public static int sumBetween(int a, int b)&quot;, I'm having issues using a non-static variable for this method.</p>\n<p>Currently, I have the variable ans set to static but this can of course only run once, and if I call the method afterwards it starts with the variable ans being the last answer, not 0.</p>\n<p>I'm new to recursion so I though I would start with some of these problems. Thank you!</p>\n<p>Code:</p>\n<pre><code>/* EXERCISE 2: Cumulative sum\n * \n * public static int sumBetween(int a, int b)\n * The goal is to find the sum of the values from 𝑎 to 𝑏. In math, we would write this problem as ∑𝑏𝑖=𝑎𝑖\n */\n static int ans =0;\n \n public static int sumBetween(int a, int b) {\n     // base case\n     if (a==b) {\n         ans = ans +b;\n         return ans;\n     }\n     // recursion\n     ans = ans + a + b;\n     return sumBetween(a+1, b-1);\n }\n</code></pre>\n"},{"tags":["java","gradle","code-coverage","jacoco","eclemma"],"answers":[{"tags":[],"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432238392,"creation_date":1432238392,"answer_id":30383252,"question_id":30382982,"body_markdown":"This probably means that the jacoco plugin isn&#39;t configured correctly in gradle.\r\nHere you can find a checklist of common errors with Jacoco and gradle (Thanks to Taeho Kim&#39;s clear answer): https://stackoverflow.com/a/23965581/2166900\r\n\r\nAlso, here is the configuration that I used in my last Android project and that worked for me:\r\n\r\n    apply plugin: &#39;jacoco&#39;\r\n\r\n    jacoco {\r\n        toolVersion = &quot;0.7.2.+&quot;\r\n    }\r\n    \r\n    def coverageSourceDirs = [\r\n            &#39;src/main/java&#39;\r\n    ]\r\n    \r\n    task jacocoTestReport(type:JacocoReport, dependsOn: &quot;testDebug&quot;) {\r\n        group = &quot;Reporting&quot;\r\n    \r\n        description = &quot;Generate Jacoco coverage reports&quot;\r\n    \r\n        classDirectories = fileTree(\r\n                dir: &#39;build/intermediates/classes/debug&#39;,\r\n                excludes: [&#39;**/R.class&#39;,\r\n                           &#39;**/R$*.class&#39;,\r\n                           &#39;**/*$ViewInjector*.*&#39;,\r\n                           &#39;**/BuildConfig.*&#39;,\r\n                           &#39;**/Manifest*.*&#39;]\r\n        )\r\n    \r\n        additionalSourceDirs = files(coverageSourceDirs)\r\n        sourceDirectories = files(coverageSourceDirs)\r\n        executionData = files(&#39;build/jacoco/testDebug.exec&#39;)\r\n    \r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>This probably means that the jacoco plugin isn't configured correctly in gradle.\nHere you can find a checklist of common errors with Jacoco and gradle (Thanks to Taeho Kim's clear answer): <a href=\"https://stackoverflow.com/a/23965581/2166900\">https://stackoverflow.com/a/23965581/2166900</a></p>\n\n<p>Also, here is the configuration that I used in my last Android project and that worked for me:</p>\n\n<pre><code>apply plugin: 'jacoco'\n\njacoco {\n    toolVersion = \"0.7.2.+\"\n}\n\ndef coverageSourceDirs = [\n        'src/main/java'\n]\n\ntask jacocoTestReport(type:JacocoReport, dependsOn: \"testDebug\") {\n    group = \"Reporting\"\n\n    description = \"Generate Jacoco coverage reports\"\n\n    classDirectories = fileTree(\n            dir: 'build/intermediates/classes/debug',\n            excludes: ['**/R.class',\n                       '**/R$*.class',\n                       '**/*$ViewInjector*.*',\n                       '**/BuildConfig.*',\n                       '**/Manifest*.*']\n    )\n\n    additionalSourceDirs = files(coverageSourceDirs)\n    sourceDirectories = files(coverageSourceDirs)\n    executionData = files('build/jacoco/testDebug.exec')\n\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3045812,"reputation":1188,"user_id":2581506,"display_name":"Eran H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452423290,"creation_date":1452423290,"answer_id":34704580,"question_id":30382982,"body_markdown":"I had the same problem when switching to gradle wrapper, but kept running jacoco with gradle. Running jacoco with gradle wrapper solved the problem.\r\n\r\n[This stackoverflow accepted answer][1] helped me figure out what I missed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>I had the same problem when switching to gradle wrapper, but kept running jacoco with gradle. Running jacoco with gradle wrapper solved the problem.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c\">This stackoverflow accepted answer</a> helped me figure out what I missed.</p>\n"},{"tags":[],"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566306768,"creation_date":1566306768,"answer_id":57574528,"question_id":30382982,"body_markdown":"Also check that the unit tests actually run. If you have jar hell with Junit5, it might silently fail. Add `--info` and check for error messages.","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>Also check that the unit tests actually run. If you have jar hell with Junit5, it might silently fail. Add <code>--info</code> and check for error messages.</p>\n"},{"tags":[],"owner":{"account_id":1709850,"reputation":2020,"user_id":1568120,"accept_rate":57,"display_name":"Ging3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645197900,"creation_date":1645197900,"answer_id":71175909,"question_id":30382982,"body_markdown":"I followed this medium guide:\r\n\r\nhttps://medium.com/codex/software-engineering-done-right-2358ae0d6dd4\r\n\r\nand into test/jacoco I added `include` param with my package like this\r\n\r\n    test{\r\n        ...\r\n        jacoco {\r\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\r\n            includes= [&quot;it.funds.*&quot;]\r\n            classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\r\n        }\r\n        ...\r\n    }\r\n\r\n","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>I followed this medium guide:</p>\n<p><a href=\"https://medium.com/codex/software-engineering-done-right-2358ae0d6dd4\" rel=\"nofollow noreferrer\">https://medium.com/codex/software-engineering-done-right-2358ae0d6dd4</a></p>\n<p>and into test/jacoco I added <code>include</code> param with my package like this</p>\n<pre><code>test{\n    ...\n    jacoco {\n        destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n        includes= [&quot;it.funds.*&quot;]\n        classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2579744,"reputation":487,"user_id":2237164,"accept_rate":25,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7358,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1645197900,"creation_date":1432237477,"question_id":30382982,"body_markdown":"I&#39;m getting zero code coverage reported on a select group of classes, when running Gradle&#39;s Jacoco plugin. I have confirmed all unit tests, which tests these classes, have successfully ran.\r\n\r\nWhat is very interesting, is that EclEmma, in Eclipse, generates correct code coverage results. I have confirmed both tools are using the same version of Jacoco.\r\n\r\nI&#39;m trying to figure out what the difference between the two tools are? Do i need additonal configuration of the Gradle Jacoco plugin.\r\n\r\nEdit: My Gradle Jacoco output is showing &quot;Execution data for class com/.... does not match&quot;\r\n\r\nUpdate: I opened the test.exec file Jacoco generates, in Eclipse. It shows the classes with missing coverage having 80% of their probes executed.","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>I'm getting zero code coverage reported on a select group of classes, when running Gradle's Jacoco plugin. I have confirmed all unit tests, which tests these classes, have successfully ran.</p>\n\n<p>What is very interesting, is that EclEmma, in Eclipse, generates correct code coverage results. I have confirmed both tools are using the same version of Jacoco.</p>\n\n<p>I'm trying to figure out what the difference between the two tools are? Do i need additonal configuration of the Gradle Jacoco plugin.</p>\n\n<p>Edit: My Gradle Jacoco output is showing \"Execution data for class com/.... does not match\"</p>\n\n<p>Update: I opened the test.exec file Jacoco generates, in Eclipse. It shows the classes with missing coverage having 80% of their probes executed.</p>\n"},{"tags":["java","spring-boot","spring-security","freemarker"],"answers":[{"tags":[],"owner":{"account_id":20716571,"reputation":59,"user_id":15211848,"display_name":"forChin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613372198,"creation_date":1613372198,"answer_id":66203829,"question_id":65705637,"body_markdown":"Try this:\r\n\r\n```\r\n&lt;#assign \r\n    known=Session.SPRING_SECURITY_CONTEXT??&gt;\r\n&lt;#if known&gt;    \r\n    &lt;#assign\r\n        user = Session.SPRING_SECURITY_CONTEXT.authentication.principal\r\n        isDenisName = user.getUsername() == &quot;Denis&quot;&gt;\r\n&lt;#else&gt;\r\n    &lt;#assign\r\n        isDenisName=false&gt;\r\n&lt;/#if&gt;\r\n```","title":"how to get current authenticated user from current session in the freemarker template","body":"<p>Try this:</p>\n<pre><code>&lt;#assign \n    known=Session.SPRING_SECURITY_CONTEXT??&gt;\n&lt;#if known&gt;    \n    &lt;#assign\n        user = Session.SPRING_SECURITY_CONTEXT.authentication.principal\n        isDenisName = user.getUsername() == &quot;Denis&quot;&gt;\n&lt;#else&gt;\n    &lt;#assign\n        isDenisName=false&gt;\n&lt;/#if&gt;\n</code></pre>\n"}],"owner":{"account_id":17055493,"reputation":103,"user_id":12533741,"display_name":"denis Krivorutchko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645197314,"creation_date":1610554192,"question_id":65705637,"body_markdown":" 1.How to get current authenticated user from current session in the freemarker template.\r\n\r\n \r\n\r\n    &lt;#assign\r\n    \r\n    user = Session.SPRING_SECURITY_CONTEXT.authentication.principal\r\n    name = user.getName()\r\n    isDenisName = user.isDenis()\r\n    &gt;\r\n\r\nThis code does not work\r\n\r\n","title":"how to get current authenticated user from current session in the freemarker template","body":"<p>1.How to get current authenticated user from current session in the freemarker template.</p>\n<pre><code>&lt;#assign\n\nuser = Session.SPRING_SECURITY_CONTEXT.authentication.principal\nname = user.getName()\nisDenisName = user.isDenis()\n&gt;\n</code></pre>\n<p>This code does not work</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-datastore","google-compute-engine","jdo"],"answers":[{"tags":[],"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645197174,"creation_date":1645197174,"answer_id":71175742,"question_id":71155610,"body_markdown":"From https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity\r\n\r\nThis class is similar to Entity, but differs in the following ways:\r\n\r\n   * equals(Object) and hashCode() compare the embedded properties in addition to the Key.\r\n   * It is not queryable when stored in the datastore.\r\n\r\nConverting your EmbeddedEntity to an Entity or another serializable object should let you query on the embedded fields.","title":"Query on sub properties of Embedded entity in datastore","body":"<p>From <a href=\"https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity</a></p>\n<p>This class is similar to Entity, but differs in the following ways:</p>\n<ul>\n<li>equals(Object) and hashCode() compare the embedded properties in addition to the Key.</li>\n<li>It is not queryable when stored in the datastore.</li>\n</ul>\n<p>Converting your EmbeddedEntity to an Entity or another serializable object should let you query on the embedded fields.</p>\n"}],"owner":{"account_id":24286334,"reputation":1,"user_id":18232046,"display_name":"Bharathwaj ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645197174,"creation_date":1645090678,"question_id":71155610,"body_markdown":"I have user entity which has an embedded entity called address.Within address there is property called city. I want to query all the users in a particular city.\r\n\r\n    public class User implements Serializable {\r\n\t  @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\r\n\t  String id;\r\n      ...\t\r\n      EmbeddedEntity address;\r\n\r\n     //Getter ,Setter\r\n    }\r\nThe data for embedded entity is set as \r\n\r\n    address.setProperty(&quot;Country&quot;,&quot;India&quot;);\r\n    address.setProperty(&quot;City&quot;,&quot;Chennai&quot;);\r\n\r\nQuery:\r\n\r\n    Query q = mgr.newQuery(User.class,&quot;adderess.City == :arg0&quot;);\r\n    List&lt;User&gt; u = (List&lt;User&gt;) q.execute(&quot;Chennai&quot;);\r\n\r\nIt is not querying and throwing error \r\n\r\n&gt; encountered a variable expression that isn&#39;t part of a join. maybe\r\n&gt; you&#39;re referencing a non-existent field of an embedded class.\r\n\r\nSo how to query and filter by property inside the embedded entity\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Query on sub properties of Embedded entity in datastore","body":"<p>I have user entity which has an embedded entity called address.Within address there is property called city. I want to query all the users in a particular city.</p>\n<pre><code>public class User implements Serializable {\n  @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n  String id;\n  ...   \n  EmbeddedEntity address;\n\n //Getter ,Setter\n}\n</code></pre>\n<p>The data for embedded entity is set as</p>\n<pre><code>address.setProperty(&quot;Country&quot;,&quot;India&quot;);\naddress.setProperty(&quot;City&quot;,&quot;Chennai&quot;);\n</code></pre>\n<p>Query:</p>\n<pre><code>Query q = mgr.newQuery(User.class,&quot;adderess.City == :arg0&quot;);\nList&lt;User&gt; u = (List&lt;User&gt;) q.execute(&quot;Chennai&quot;);\n</code></pre>\n<p>It is not querying and throwing error</p>\n<blockquote>\n<p>encountered a variable expression that isn't part of a join. maybe\nyou're referencing a non-existent field of an embedded class.</p>\n</blockquote>\n<p>So how to query and filter by property inside the embedded entity</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645196871,"creation_date":1645196871,"answer_id":71175671,"question_id":71175558,"body_markdown":"You can go with \r\n\r\n - `$unwind` to deconstruct the array\r\n - `$group` to reconstruct without duplicate\r\n\r\nHere is the script\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        &quot;$unwind&quot;: &quot;$resourcesInspected&quot;\r\n      },\r\n      {\r\n        &quot;$group&quot;: {\r\n          &quot;_id&quot;: null,\r\n          &quot;resourcesInspected&quot;: {\r\n            &quot;$addToSet&quot;: &quot;$resourcesInspected&quot;\r\n          }\r\n        }\r\n      }\r\n    ])\r\n\r\n**Working [Mongo playground][1]**\r\n\r\nSo with your java code, you need to add following\r\n \r\n\r\n     unwind(&quot;resourcesInspected&quot;),\r\n     group()\r\n       .addToSet(&quot;$resourcesInspected&quot;).as(&quot;resourcesInspected&quot;)\r\n\r\n\r\n  [1]: https://mongoplayground.net/p/_nVMGVabggk","title":"Mongodb with spring, Group all rows in one and with disticnt values","body":"<p>You can go with</p>\n<ul>\n<li><code>$unwind</code> to deconstruct the array</li>\n<li><code>$group</code> to reconstruct without duplicate</li>\n</ul>\n<p>Here is the script</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$unwind&quot;: &quot;$resourcesInspected&quot;\n  },\n  {\n    &quot;$group&quot;: {\n      &quot;_id&quot;: null,\n      &quot;resourcesInspected&quot;: {\n        &quot;$addToSet&quot;: &quot;$resourcesInspected&quot;\n      }\n    }\n  }\n])\n</code></pre>\n<p><strong>Working <a href=\"https://mongoplayground.net/p/_nVMGVabggk\" rel=\"nofollow noreferrer\">Mongo playground</a></strong></p>\n<p>So with your java code, you need to add following</p>\n<pre><code> unwind(&quot;resourcesInspected&quot;),\n group()\n   .addToSet(&quot;$resourcesInspected&quot;).as(&quot;resourcesInspected&quot;)\n</code></pre>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71175671,"answer_count":1,"score":1,"last_activity_date":1645196871,"creation_date":1645196397,"question_id":71175558,"body_markdown":"I&#39;ve realized a projection using mongoTemplate that gives me the result bellow: \r\n\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0GNDPB1E&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0H7L789D&quot;, &quot;CD0H7L8RF7&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0FTHYK2B&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD04H5K4B1&quot;, &quot;CD0725K788&quot;, &quot;CD0725K58A&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD06JXHJ8A&quot;, &quot;CD04E9LCED&quot;]}\r\n\r\nto do so, I did this: \r\n\r\n    static final String resourcesInspected =&quot;resourcesInspected&quot;;\r\n\r\n    ProjectionOperation projectionOperation = Aggregation\r\n            .project(resourcesInspected).andExpression(&quot;split(resourcesInspected, &#39;,&#39;)&quot;)\r\n            .as(resourcesInspected)\r\n            .andExclude(&quot;_id&quot;);\r\n    \r\n    template.aggregate(newAggregation(projectionOperation),&quot;kpi&quot;, DBObject.class).getMappedResults()\r\n            .forEach(System.out::println);\r\n\r\nNow what I really want is to group all the rows in one since it&#39;s the same field, and that in order to have in the end one per (key,value) with all the values are **distinct**, something like that: \r\n\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;,&quot;CD0626UHEZ&quot;,&quot;CXX0626UHEA&quot;]}\r\n\r\n\r\nfor my context I need to use MongoOperations(mongoTemplate), I tried a lot of methods, but I don&#39;t get the result desired, could anyone help me in this ? ","title":"Mongodb with spring, Group all rows in one and with disticnt values","body":"<p>I've realized a projection using mongoTemplate that gives me the result bellow:</p>\n<pre><code>{&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD0GNDPB1E&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD0H7L789D&quot;, &quot;CD0H7L8RF7&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD0FTHYK2B&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD04H5K4B1&quot;, &quot;CD0725K788&quot;, &quot;CD0725K58A&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD06JXHJ8A&quot;, &quot;CD04E9LCED&quot;]}\n</code></pre>\n<p>to do so, I did this:</p>\n<pre><code>static final String resourcesInspected =&quot;resourcesInspected&quot;;\n\nProjectionOperation projectionOperation = Aggregation\n        .project(resourcesInspected).andExpression(&quot;split(resourcesInspected, ',')&quot;)\n        .as(resourcesInspected)\n        .andExclude(&quot;_id&quot;);\n\ntemplate.aggregate(newAggregation(projectionOperation),&quot;kpi&quot;, DBObject.class).getMappedResults()\n        .forEach(System.out::println);\n</code></pre>\n<p>Now what I really want is to group all the rows in one since it's the same field, and that in order to have in the end one per (key,value) with all the values are <strong>distinct</strong>, something like that:</p>\n<pre><code>{&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;,&quot;CD0626UHEZ&quot;,&quot;CXX0626UHEA&quot;]}\n</code></pre>\n<p>for my context I need to use MongoOperations(mongoTemplate), I tried a lot of methods, but I don't get the result desired, could anyone help me in this ?</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1645017685,"post_id":71140065,"comment_id":125758060,"body_markdown":"Can you show your code ? Can you run it yourself ?","body":"Can you show your code ? Can you run it yourself ?"},{"owner":{"account_id":24274846,"reputation":3,"user_id":18222284,"display_name":"Mouton_redstone"},"score":0,"creation_date":1645084929,"post_id":71140065,"comment_id":125777946,"body_markdown":"I can run the command myself, there is a lot of code behind because I started to add a lot of things to adjust the command","body":"I can run the command myself, there is a lot of code behind because I started to add a lot of things to adjust the command"}],"answers":[{"tags":[],"owner":{"account_id":19462585,"reputation":36,"user_id":14236571,"display_name":"Jan Benz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645196859,"creation_date":1645196859,"answer_id":71175668,"question_id":71140065,"body_markdown":"Unfortunately you can&#39;t run custom commands with the /execute command.\r\nSomeone had the same problem a couple of years ago [here][1].\r\nYou can try to implement your own execute command or use other workarounds.\r\n\r\n\r\n  [1]: https://www.spigotmc.org/threads/341943/","title":"/execute doesn&#39;t work for my custom command","body":"<p>Unfortunately you can't run custom commands with the /execute command.\nSomeone had the same problem a couple of years ago <a href=\"https://www.spigotmc.org/threads/341943/\" rel=\"nofollow noreferrer\">here</a>.\nYou can try to implement your own execute command or use other workarounds.</p>\n"}],"owner":{"account_id":24274846,"reputation":3,"user_id":18222284,"display_name":"Mouton_redstone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71175668,"answer_count":1,"score":0,"last_activity_date":1645196859,"creation_date":1645007178,"question_id":71140065,"body_markdown":"I made a custom /spawn command that teleports the sender to spawn\r\nI tried to use it doing &quot;/execute as Mouton_redstone run spawn&quot;, &quot;Mouton_redstone&quot; being my minecrfat username.\r\nBut it tells me that my command doesn&#39;t exist, when I run it myself, it works fine (&quot;Zbim !&quot; message)\r\n\r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pQ3D2.png\r\n\r\nplugin.yml :\r\n\r\n    name: MyEasySpawn\r\n    version: &#39;${project.version}&#39;\r\n    main: fr.mouton_redstone.myeasyspawn.MyEasySpawn\r\n    api-version: 1.18\r\n    authors: [ Mouton_redstone ]\r\n    description: Adds a /spawn command and more\r\n    \r\n    commands:\r\n      spawn:\r\n        description: Teleports you to spawn\r\n        usage: /&lt;command&gt;","title":"/execute doesn&#39;t work for my custom command","body":"<p>I made a custom /spawn command that teleports the sender to spawn\nI tried to use it doing &quot;/execute as Mouton_redstone run spawn&quot;, &quot;Mouton_redstone&quot; being my minecrfat username.\nBut it tells me that my command doesn't exist, when I run it myself, it works fine (&quot;Zbim !&quot; message)</p>\n<p><a href=\"https://i.stack.imgur.com/pQ3D2.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>plugin.yml :</p>\n<pre><code>name: MyEasySpawn\nversion: '${project.version}'\nmain: fr.mouton_redstone.myeasyspawn.MyEasySpawn\napi-version: 1.18\nauthors: [ Mouton_redstone ]\ndescription: Adds a /spawn command and more\n\ncommands:\n  spawn:\n    description: Teleports you to spawn\n    usage: /&lt;command&gt;\n</code></pre>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1645189110,"post_id":71173843,"comment_id":125811191,"body_markdown":"how are you currently implementing your clicklistener and what stops you form calling a static method?","body":"how are you currently implementing your clicklistener and what stops you form calling a static method?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1645189683,"post_id":71173843,"comment_id":125811388,"body_markdown":"@f1sh I&#39;m showing the `AlertDialog` by calling this `DialogManager.show(this, android.R.style.Theme_DeviceDefault_Light_Dialog_Alert, &quot;...&quot;, &quot;...&quot;, &quot;...&quot;);\n` and I pass the text of button but actually, that button doesn&#39;t do anything because I don&#39;t how can I handle it. Every activity will handle the button in its way.","body":"@f1sh I&#39;m showing the <code>AlertDialog</code> by calling this <code>DialogManager.show(this, android.R.style.Theme_DeviceDefault_Light_Dialog_Alert, &quot;...&quot;, &quot;...&quot;, &quot;...&quot;); </code> and I pass the text of button but actually, that button doesn&#39;t do anything because I don&#39;t how can I handle it. Every activity will handle the button in its way."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1645189933,"post_id":71173843,"comment_id":125811471,"body_markdown":"What do you mean by &quot;I don&#39;t how can I handle it&quot;? Does the button have a click listener?","body":"What do you mean by &quot;I don&#39;t how can I handle it&quot;? Does the button have a click listener?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1645191124,"post_id":71173843,"comment_id":125811915,"body_markdown":"@f1sh I don&#39;t know how can I handle it**. Look at the answer below it is working now as I want and thank you for trying to help me.","body":"@f1sh I don&#39;t know how can I handle it**. Look at the answer below it is working now as I want and thank you for trying to help me."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645190440,"creation_date":1645190113,"answer_id":71174087,"question_id":71173843,"body_markdown":"[`setPositiveButton`](https://developer.android.com/reference/android/app/AlertDialog.Builder#setPositiveButton(int,%20android.content.DialogInterface.OnClickListener)) takes `DialogInterface.OnClickListener` as a second param, so just add it as a method parameter\r\n\r\n    public static void show(Context context, int themeResId, String title, String message,\r\n            String positiveButtonText,\r\n            DialogInterface.OnClickListener positiveCallback) {\r\n        show(context, themeResId, title, message,\r\n            positiveButtonText, positiveCallback,\r\n            null, null); // no negative in this case\r\n    }\r\n\r\n    public static void show(Context context, int themeResId, String title, String message,\r\n            String positiveButtonText,\r\n            DialogInterface.OnClickListener positiveCallback,\r\n            String negativeButtonText,\r\n            DialogInterface.OnClickListener negativeCallback) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context, themeResId)\r\n                .setTitle(title)\r\n                .setMessage(message)\r\n                .setPositiveButton(positiveButtonText, positiveCallback);\r\n        if (negativeButtonText!=null) {\r\n            builder.setNegativeButton(negativeButtonText, negativeCallback);\r\n        }\r\n        builder.show();\r\n    }\r\n\r\nand don&#39;t overuse `static` keyword, keeping `static` `Builder` on top of this files isn&#39;t proper approach (in some cases it may lead to memory leak, probably also in your case), so remove below line and keep only local builder unti you call `builder.show()`\r\n\r\n    private static AlertDialog.Builder builder;","title":"How can I handle the click listener inside the static method?","body":"<p><a href=\"https://developer.android.com/reference/android/app/AlertDialog.Builder#setPositiveButton(int,%20android.content.DialogInterface.OnClickListener)\" rel=\"nofollow noreferrer\"><code>setPositiveButton</code></a> takes <code>DialogInterface.OnClickListener</code> as a second param, so just add it as a method parameter</p>\n<pre><code>public static void show(Context context, int themeResId, String title, String message,\n        String positiveButtonText,\n        DialogInterface.OnClickListener positiveCallback) {\n    show(context, themeResId, title, message,\n        positiveButtonText, positiveCallback,\n        null, null); // no negative in this case\n}\n\npublic static void show(Context context, int themeResId, String title, String message,\n        String positiveButtonText,\n        DialogInterface.OnClickListener positiveCallback,\n        String negativeButtonText,\n        DialogInterface.OnClickListener negativeCallback) {\n    AlertDialog.Builder builder = new AlertDialog.Builder(context, themeResId)\n            .setTitle(title)\n            .setMessage(message)\n            .setPositiveButton(positiveButtonText, positiveCallback);\n    if (negativeButtonText!=null) {\n        builder.setNegativeButton(negativeButtonText, negativeCallback);\n    }\n    builder.show();\n}\n</code></pre>\n<p>and don't overuse <code>static</code> keyword, keeping <code>static</code> <code>Builder</code> on top of this files isn't proper approach (in some cases it may lead to memory leak, probably also in your case), so remove below line and keep only local builder unti you call <code>builder.show()</code></p>\n<pre><code>private static AlertDialog.Builder builder;\n</code></pre>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71174087,"answer_count":1,"score":0,"last_activity_date":1645196837,"creation_date":1645188939,"question_id":71173843,"body_markdown":"It is very boring to initialize `AlertDialog` every time I want to use it, I have a lot of activities that use `AlertDialog` so I want to simplify that and create a class to initialize `AlertDialog` and show it when I want.\r\n\r\nHere is the `DialogManager` class that I created:\r\n\r\n    public class DialogManager {\r\n    \r\n        private static AlertDialog.Builder builder;\r\n    \r\n        public static void show(Context context, int themeResId, String title, String message, String positiveButtonText) {\r\n            builder = new AlertDialog.Builder(context, themeResId)\r\n                    .setTitle(title)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(positiveButtonText, null);\r\n            builder.show();\r\n        }\r\n    \r\n        public static void show(Context context, int themeResId, String title, String message, String positiveButtonText, String negativeButtonText) {\r\n            builder = new AlertDialog.Builder(context, themeResId)\r\n                    .setTitle(title)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(positiveButtonText, null)\r\n                    .setNegativeButton(negativeButtonText, null);\r\n            builder.show();\r\n        }\r\n    \r\n    }\r\n\r\nEverything works well but I faced a problem with the click listener, How can I handle the click listener because every activity will treat the button in its way.\r\n\r\nHow can I handle that?","title":"How can I handle the click listener inside the static method?","body":"<p>It is very boring to initialize <code>AlertDialog</code> every time I want to use it, I have a lot of activities that use <code>AlertDialog</code> so I want to simplify that and create a class to initialize <code>AlertDialog</code> and show it when I want.</p>\n<p>Here is the <code>DialogManager</code> class that I created:</p>\n<pre><code>public class DialogManager {\n\n    private static AlertDialog.Builder builder;\n\n    public static void show(Context context, int themeResId, String title, String message, String positiveButtonText) {\n        builder = new AlertDialog.Builder(context, themeResId)\n                .setTitle(title)\n                .setMessage(message)\n                .setPositiveButton(positiveButtonText, null);\n        builder.show();\n    }\n\n    public static void show(Context context, int themeResId, String title, String message, String positiveButtonText, String negativeButtonText) {\n        builder = new AlertDialog.Builder(context, themeResId)\n                .setTitle(title)\n                .setMessage(message)\n                .setPositiveButton(positiveButtonText, null)\n                .setNegativeButton(negativeButtonText, null);\n        builder.show();\n    }\n\n}\n</code></pre>\n<p>Everything works well but I faced a problem with the click listener, How can I handle the click listener because every activity will treat the button in its way.</p>\n<p>How can I handle that?</p>\n"},{"tags":["python","java","microsoft-graph-api","onedrive"],"answers":[{"tags":[],"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645168904,"creation_date":1645168904,"answer_id":71169712,"question_id":71159101,"body_markdown":"Have you tried this in graph explorer ,if no? ,could you please try first in graph explorer and if you are getting the same error ,please check your access token on https://jwt.ms/ and cross-verify your required permissions , please follow the docs to check permission - [docs][1] , feel free to react out to us if you have any query?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/api/driveitem-get?view=graph-rest-1.0&amp;tabs=http\r\n\r\nThanks.","title":"Tenant does not have a SPO license. With Onedrive Service e O365 family license","body":"<p>Have you tried this in graph explorer ,if no? ,could you please try first in graph explorer and if you are getting the same error ,please check your access token on <a href=\"https://jwt.ms/\" rel=\"nofollow noreferrer\">https://jwt.ms/</a> and cross-verify your required permissions , please follow the docs to check permission - <a href=\"https://learn.microsoft.com/en-us/graph/api/driveitem-get?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">docs</a> , feel free to react out to us if you have any query?</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":24287393,"reputation":1,"user_id":18232978,"display_name":"Silvano Montanari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645196564,"creation_date":1645104729,"question_id":71159101,"body_markdown":"Good morning\r\n\r\nI&#39;m a new user on stack overflow and I know that the problem is not new but I do not found a solution.\r\n\r\nI use python MSAL library to call the ms graph API.\r\n\r\nI have a tenant with O365 family license and I verified that the tenant in Azure AAD is the same for my O365 license \r\n\r\nThe python code is OK to get info on my profile but i have the error with &quot;application&quot; method:\r\nhttps://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive/root\r\n\r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;code&quot;: &quot;BadRequest&quot;,\r\n        &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\r\n        &quot;innerError&quot;: {\r\n          &quot;date&quot;: &quot;2022-02-17T10:34:31&quot;,\r\n          &quot;request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;,\r\n          &quot;client-request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nand with the &quot;delegate&quot; methode\r\nhttps://graph.microsoft.com/v1.0/me/drive/root\r\n\r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;code&quot;: &quot;BadRequest&quot;,\r\n        &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\r\n        &quot;innerError&quot;: {\r\n          &quot;date&quot;: &quot;2022-02-17T11:09:33&quot;,\r\n          &quot;request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;,\r\n          &quot;client-request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI have the same problem with Java:\r\n\r\n    package com.example;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import com.azure.identity.ClientSecretCredential;\r\n    import com.azure.identity.ClientSecretCredentialBuilder;\r\n    import com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\n    import com.microsoft.graph.models.Drive;\r\n    import com.microsoft.graph.requests.GraphServiceClient;\r\n    import com.microsoft.graph.requests.UserCollectionPage;\r\n    \r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            String tenant = &quot;&lt;my tenant&gt;&quot;;\r\n            String clientId = &quot;&lt;my client&gt;&quot;;\r\n            String clientSecret = &quot;&lt;my secret&gt;&quot;;\r\n            \r\n            List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n    \r\n            try {\r\n                final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .tenantId(tenant)\r\n                .build();\r\n    \r\n                final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\r\n    \r\n                final GraphServiceClient graphClient = GraphServiceClient\r\n                    .builder()\r\n                    .authenticationProvider(tokenCredentialAuthProvider)\r\n                    .buildClient();\r\n    \r\n                final UserCollectionPage me = graphClient.users().buildRequest().get();\r\n    \r\n                System.out.println(me.getCurrentPage().get(0).id);\r\n    \r\n                final Drive result = graphClient\r\n                    .users(me.getCurrentPage().get(0).id)\r\n                    .drive()\r\n                    .buildRequest()\r\n                    .get();\r\n    \r\n                System.out.println(&quot;Found Drive &quot; + result.id);\r\n            } catch (Exception e) {\r\n                //TODO: handle exception\r\n                \r\n            }\r\n        }\r\n    } \r\n\r\nThe output is:\r\n\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\r\n    c9445de4-23db-4596-a1d3-7760dce5a3a6\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409Graph service exception Error code: BadRequest\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409Error message: Tenant does not have a SPO license.\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409GET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409SdkVersion : graph-java/v5.14.0\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409400 : Bad Request\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409[...]\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409[Some information was truncated for brevity, enable debug logging for more details]\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\n    Error message: Tenant does not have a SPO license.\r\n    \r\n    GET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\r\n    SdkVersion : graph-java/v5.14.0\r\n    \r\n    \r\n    400 : Bad Request\r\n    [...]\r\n    \r\n    [Some information was truncated for brevity, enable debug logging for more details]\r\n\r\nThanks for help\r\n\r\nSilvano\r\n\r\n\r\n","title":"Tenant does not have a SPO license. With Onedrive Service e O365 family license","body":"<p>Good morning</p>\n<p>I'm a new user on stack overflow and I know that the problem is not new but I do not found a solution.</p>\n<p>I use python MSAL library to call the ms graph API.</p>\n<p>I have a tenant with O365 family license and I verified that the tenant in Azure AAD is the same for my O365 license</p>\n<p>The python code is OK to get info on my profile but i have the error with &quot;application&quot; method:\n<a href=\"https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive/root\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive/root</a></p>\n<pre><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;BadRequest&quot;,\n    &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2022-02-17T10:34:31&quot;,\n      &quot;request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;,\n      &quot;client-request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;\n    }\n  }\n}\n</code></pre>\n<p>and with the &quot;delegate&quot; methode\n<a href=\"https://graph.microsoft.com/v1.0/me/drive/root\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/me/drive/root</a></p>\n<pre><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;BadRequest&quot;,\n    &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2022-02-17T11:09:33&quot;,\n      &quot;request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;,\n      &quot;client-request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;\n    }\n  }\n}\n</code></pre>\n<p>I have the same problem with Java:</p>\n<pre><code>package com.example;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport com.azure.identity.ClientSecretCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.models.Drive;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport com.microsoft.graph.requests.UserCollectionPage;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        String tenant = &quot;&lt;my tenant&gt;&quot;;\n        String clientId = &quot;&lt;my client&gt;&quot;;\n        String clientSecret = &quot;&lt;my secret&gt;&quot;;\n        \n        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\n        try {\n            final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n            .clientId(clientId)\n            .clientSecret(clientSecret)\n            .tenantId(tenant)\n            .build();\n\n            final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\n\n            final GraphServiceClient graphClient = GraphServiceClient\n                .builder()\n                .authenticationProvider(tokenCredentialAuthProvider)\n                .buildClient();\n\n            final UserCollectionPage me = graphClient.users().buildRequest().get();\n\n            System.out.println(me.getCurrentPage().get(0).id);\n\n            final Drive result = graphClient\n                .users(me.getCurrentPage().get(0).id)\n                .drive()\n                .buildRequest()\n                .get();\n\n            System.out.println(&quot;Found Drive &quot; + result.id);\n        } catch (Exception e) {\n            //TODO: handle exception\n            \n        }\n    }\n} \n</code></pre>\n<p>The output is:</p>\n<pre><code>[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\nc9445de4-23db-4596-a1d3-7760dce5a3a6\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409Graph service exception Error code: BadRequest\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409Error message: Tenant does not have a SPO license.\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409GET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409SdkVersion : graph-java/v5.14.0\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409400 : Bad Request\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409[...]\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409[Some information was truncated for brevity, enable debug logging for more details]\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: Tenant does not have a SPO license.\n\nGET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\nSdkVersion : graph-java/v5.14.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\n</code></pre>\n<p>Thanks for help</p>\n<p>Silvano</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645148077,"post_id":71161790,"comment_id":125800487,"body_markdown":"Linking to an entire project of source code is generally frowned upon here on Stack Overflow. You are expected to put in the effort to write a [MCVE](https://stackoverflow.com/help/mcve).","body":"Linking to an entire project of source code is generally frowned upon here on Stack Overflow. You are expected to put in the effort to write a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645117494,"creation_date":1645117494,"answer_id":71162419,"question_id":71161790,"body_markdown":"You are already populating the List `a` with random numbers so I&#39;ll focus on the &#39; add them up at the end&#39; part.\r\n\r\nAny time you are performing some sort of operation it is a good idea to encapsulate that operation in a separate method.  This helps to clarify where responsibilities begin and end.  In this case, define a method to calculate the sum of the values in the List.  Here&#39;s one using a for-each loop.\r\n\r\n    public int sumValues(List&lt;Integer&gt; list) {\r\n      int sum = 0;\r\n      for (Integer value : list) {\r\n        sum += value;\r\n      }\r\n      return sum;\r\n    }\r\n\r\nUsing the Stream API can simplify this further.  \r\n\r\n    public int sumValues(List&lt;Integer&gt; list) {\r\n      return list.stream().reduce(0, Integer::sum);\r\n    }","title":"adding numbers to a array list and then adding up the numbers","body":"<p>You are already populating the List <code>a</code> with random numbers so I'll focus on the ' add them up at the end' part.</p>\n<p>Any time you are performing some sort of operation it is a good idea to encapsulate that operation in a separate method.  This helps to clarify where responsibilities begin and end.  In this case, define a method to calculate the sum of the values in the List.  Here's one using a for-each loop.</p>\n<pre><code>public int sumValues(List&lt;Integer&gt; list) {\n  int sum = 0;\n  for (Integer value : list) {\n    sum += value;\n  }\n  return sum;\n}\n</code></pre>\n<p>Using the Stream API can simplify this further.</p>\n<pre><code>public int sumValues(List&lt;Integer&gt; list) {\n  return list.stream().reduce(0, Integer::sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645148763,"creation_date":1645147624,"answer_id":71167394,"question_id":71161790,"body_markdown":"The [Answer by vsfDawg][1] may be more useful. \r\n\r\nJust for fun, here is an alternative code example using type-safe objects defined in an enum, generated and totaled via streams. This code is not an good starting place for a beginning student of Java. But this code can make an interesting contrast. And you could deconstruct the logic of this code to write more conventional Java code as a way to do your schoolwork assignment.\r\n\r\nNote that as of Java 16+, enums (and records, and interfaces) [can be declared locally][2]. \r\n\r\n```java\r\nenum Coin\r\n{\r\n    PENNY( 1 ), NICKEL( 5 ), DIME( 10 ), QUARTER( 25 ), HALF_DOLLAR( 50 ), DOLLAR( 100 );\r\n\r\n    // Member fields.\r\n    private int cents;\r\n\r\n    // Constructors.\r\n    Coin ( int cents ) { this.cents = cents; }\r\n\r\n    // Getters.\r\n    public int getCents ( ) { return cents; }\r\n}\r\n```\r\n\r\nGenerate a series of random index numbers (annoying [zero-based counting][3]) to access the array of named objects defined in the array.\r\n\r\n```java\r\nint size = 10, lowBound = 0, highBound = 6 ;\r\nList &lt; Coin &gt; coins =\r\n        ThreadLocalRandom\r\n                .current()\r\n                .ints( size , lowBound , highBound )\r\n                .mapToObj( i -&gt; Coin.values()[ i ] )\r\n                .toList();\r\n```\r\n\r\nCalculate the total value of the coins.\r\n\r\n```java\r\nint total =\r\n        coins\r\n                .stream()\r\n                .mapToInt( coin -&gt; coin.getCents() )\r\n                .sum();\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;coins = &quot; + coins );\r\nSystem.out.println( &quot;total = &quot; + total );\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;coins = [PENNY, DIME, NICKEL, NICKEL, NICKEL, NICKEL, PENNY, DIME, NICKEL, PENNY]\r\n&gt;\r\n&gt;total = 48\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71162419/642706\r\n  [2]: https://openjdk.java.net/jeps/395\r\n  [3]: https://en.wikipedia.org/wiki/Zero-based_numbering","title":"adding numbers to a array list and then adding up the numbers","body":"<p>The <a href=\"https://stackoverflow.com/a/71162419/642706\">Answer by vsfDawg</a> may be more useful.</p>\n<p>Just for fun, here is an alternative code example using type-safe objects defined in an enum, generated and totaled via streams. This code is not an good starting place for a beginning student of Java. But this code can make an interesting contrast. And you could deconstruct the logic of this code to write more conventional Java code as a way to do your schoolwork assignment.</p>\n<p>Note that as of Java 16+, enums (and records, and interfaces) <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">can be declared locally</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Coin\n{\n    PENNY( 1 ), NICKEL( 5 ), DIME( 10 ), QUARTER( 25 ), HALF_DOLLAR( 50 ), DOLLAR( 100 );\n\n    // Member fields.\n    private int cents;\n\n    // Constructors.\n    Coin ( int cents ) { this.cents = cents; }\n\n    // Getters.\n    public int getCents ( ) { return cents; }\n}\n</code></pre>\n<p>Generate a series of random index numbers (annoying <a href=\"https://en.wikipedia.org/wiki/Zero-based_numbering\" rel=\"nofollow noreferrer\">zero-based counting</a>) to access the array of named objects defined in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 10, lowBound = 0, highBound = 6 ;\nList &lt; Coin &gt; coins =\n        ThreadLocalRandom\n                .current()\n                .ints( size , lowBound , highBound )\n                .mapToObj( i -&gt; Coin.values()[ i ] )\n                .toList();\n</code></pre>\n<p>Calculate the total value of the coins.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int total =\n        coins\n                .stream()\n                .mapToInt( coin -&gt; coin.getCents() )\n                .sum();\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;coins = &quot; + coins );\nSystem.out.println( &quot;total = &quot; + total );\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>coins = [PENNY, DIME, NICKEL, NICKEL, NICKEL, NICKEL, PENNY, DIME, NICKEL, PENNY]</p>\n<p>total = 48</p>\n</blockquote>\n"}],"owner":{"account_id":24074026,"reputation":1,"user_id":18049630,"display_name":"Aesculus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645196485,"creation_date":1645114974,"question_id":71161790,"body_markdown":"I&#39;m confused on how I would add the random numbers generated to the array list and then add them up at the end.  \r\n\r\n\r\n\r\n    ArrayList&lt;Coin&gt; change = new ArrayList&lt;Coin&gt;();\r\n\r\n    // Generate a random number for how many coins 1-10\r\n    ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\r\n    int rand = (int) Math.round(Math.random() * 10 + 1);\r\n    a.add(rand);\r\n    for(int i=0;i&lt; 0;i++) \r\n        System.out.println( (int)(Math.random()*10 + 1) + &quot; Coins&quot;);\r\n  \r\n\r\n     // Generate a random number 1,2,3,4 to represent which coin\r\n     System.out.println( (int)(Math.random()*4 + 1));\r\n\r\n     // Create a new Coin of that type and add it to the list\r\n     change.add(new Quarter());\r\n     System.out.println(change);\r\n\r\n     // Evaluate the full worth of the coins in the list\r\n\r\n","title":"adding numbers to a array list and then adding up the numbers","body":"<p>I'm confused on how I would add the random numbers generated to the array list and then add them up at the end.</p>\n<pre><code>ArrayList&lt;Coin&gt; change = new ArrayList&lt;Coin&gt;();\n\n// Generate a random number for how many coins 1-10\nArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\nint rand = (int) Math.round(Math.random() * 10 + 1);\na.add(rand);\nfor(int i=0;i&lt; 0;i++) \n    System.out.println( (int)(Math.random()*10 + 1) + &quot; Coins&quot;);\n\n\n // Generate a random number 1,2,3,4 to represent which coin\n System.out.println( (int)(Math.random()*4 + 1));\n\n // Create a new Coin of that type and add it to the list\n change.add(new Quarter());\n System.out.println(change);\n\n // Evaluate the full worth of the coins in the list\n</code></pre>\n"},{"tags":["java","wildfly","activemq","resource-adapter"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196469,"post_id":71170626,"comment_id":125814059,"body_markdown":"Your servlet is using `java:/ConnectionFactory`, but that JNDI name is bound by the embedded ActiveMQ Artemis broker. Did you mean to use `java:/ActiveMQ/QueueConnectionFactory` instead? This connection factory is bound by the ActiveMQ JCA RA.","body":"Your servlet is using <code>java:&#47;ConnectionFactory</code>, but that JNDI name is bound by the embedded ActiveMQ Artemis broker. Did you mean to use <code>java:&#47;ActiveMQ&#47;QueueConnectionFactory</code> instead? This connection factory is bound by the ActiveMQ JCA RA."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196519,"post_id":71170626,"comment_id":125814084,"body_markdown":"In your `standalone-full.xml` you&#39;re setting `&lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;/&gt;` which means your MDB doesn&#39;t need `@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)`.","body":"In your <code>standalone-full.xml</code> you&#39;re setting <code>&lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;&#47;&gt;</code> which means your MDB doesn&#39;t need <code>@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)</code>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196598,"post_id":71170626,"comment_id":125814120,"body_markdown":"Why not just use the embedded instance of ActiveMQ Artemis? If you don&#39;t need it then you should almost certainly remove it from your `standalone-full.xml`.","body":"Why not just use the embedded instance of ActiveMQ Artemis? If you don&#39;t need it then you should almost certainly remove it from your <code>standalone-full.xml</code>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196720,"post_id":71170626,"comment_id":125814170,"body_markdown":"Your MDB is using `java:/queue/HELLOWORLDMDBTopic`, but that JNDI binding doesn&#39;t exist anywhere. You should almost certainly use either `java:/topic/HELLOWORLDMDBTopic` or `java:/queue/HELLOWORLDMDBQueue`.","body":"Your MDB is using <code>java:&#47;queue&#47;HELLOWORLDMDBTopic</code>, but that JNDI binding doesn&#39;t exist anywhere. You should almost certainly use either <code>java:&#47;topic&#47;HELLOWORLDMDBTopic</code> or <code>java:&#47;queue&#47;HELLOWORLDMDBQueue</code>."}],"owner":{"account_id":24297970,"reputation":1,"user_id":18241901,"display_name":"yokax23841"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645196337,"creation_date":1645173973,"question_id":71170626,"body_markdown":"I am trying to test an example HelloWorld MDB with Wildfly 26.0.1-Final and ActiveMQ &quot;Classic&quot; 5.16.4.\r\n\r\nIn `standalone-full.xml`:\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:6.0&quot;&gt;\r\n            &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;\r\n            &lt;concurrent&gt;\r\n                &lt;context-services&gt;\r\n                    &lt;context-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/context/default&quot; use-transaction-setup-provider=&quot;true&quot;/&gt;\r\n                &lt;/context-services&gt;\r\n                &lt;managed-thread-factories&gt;\r\n                    &lt;managed-thread-factory name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/factory/default&quot; context-service=&quot;default&quot;/&gt;\r\n                &lt;/managed-thread-factories&gt;\r\n                &lt;managed-executor-services&gt;\r\n                    &lt;managed-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/executor/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;5000&quot;/&gt;\r\n                &lt;/managed-executor-services&gt;\r\n                &lt;managed-scheduled-executor-services&gt;\r\n                    &lt;managed-scheduled-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/scheduler/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;3000&quot;/&gt;\r\n                &lt;/managed-scheduled-executor-services&gt;\r\n            &lt;/concurrent&gt;\r\n            &lt;!-- &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; jms-connection-factory=&quot;java:jboss/DefaultJMSConnectionFactory&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt; --&gt;\r\n            &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n```xml\r\n            &lt;mdb&gt;\r\n                &lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;/&gt;\r\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\r\n            &lt;/mdb&gt;\r\n```\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n            &lt;server name=&quot;default&quot;&gt;\r\n                &lt;security elytron-domain=&quot;ApplicationDomain&quot;/&gt;\r\n                &lt;cluster password=&quot;${jboss.messaging.cluster.password:CHANGE ME!!}&quot;/&gt;\r\n                &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\r\n                &lt;security-setting name=&quot;#&quot;&gt;\r\n                    &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n                &lt;/security-setting&gt;\r\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot; redistribution-d\r\nelay=&quot;1000&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                &lt;/http-connector&gt;\r\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/in-vm-connector&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/http-acceptor&gt;\r\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/in-vm-acceptor&gt;\r\n                &lt;jgroups-broadcast-group name=&quot;bg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                &lt;jgroups-discovery-group name=&quot;dg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot;/&gt;\r\n                &lt;cluster-connection name=&quot;my-cluster&quot; address=&quot;jms&quot; connector-name=&quot;http-connector&quot; discovery-group=&quot;dg-group1&quot;/&gt;\r\n                &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n                &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot; ha=&quot;true&quot; block-on-acknowledge=&quot;true&quot; reconnect-attempts=&quot;-1&quot;/&gt;\r\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n            &lt;/server&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\r\n            &lt;resource-adapters&gt;\r\n                &lt;resource-adapter id=&quot;activemq-rar-5.16.4.rar&quot;&gt;\r\n                    &lt;archive&gt;\r\n                        activemq-rar-5.16.4.rar\r\n                    &lt;/archive&gt;\r\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\r\n                    &lt;config-property name=&quot;ServerUrl&quot;&gt;tcp://localhost:61616?soTimeout=20000&amp;amp;connectionTimeout=10000&lt;/config-property&gt;\r\n                    &lt;config-property name=&quot;UserName&quot;&gt;admin&lt;/config-property&gt;\r\n                    &lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\r\n                    &lt;config-property name=&quot;Password&quot;&gt;admin&lt;/config-property&gt;\r\n                    &lt;connection-definitions&gt;\r\n                        &lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ActiveMQ/QueueConnectionFactory&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;ActiveMQ/QueueConnectionFactory&quot; use-ccm=&quot;true&quot;&gt;\r\n                            &lt;xa-pool&gt;\r\n                                &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\r\n                                &lt;max-pool-size&gt;200&lt;/max-pool-size&gt;\r\n                            &lt;/xa-pool&gt;\r\n                            &lt;timeout&gt;\r\n                                &lt;blocking-timeout-millis&gt;30000&lt;/blocking-timeout-millis&gt;\r\n                                &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\r\n                            &lt;/timeout&gt;\r\n                        &lt;/connection-definition&gt;\r\n                    &lt;/connection-definitions&gt;\r\n                    &lt;admin-objects&gt;\r\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQQueue&quot; jndi-name=&quot;java:/queue/HELLOWORLDMDBQueue&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBQueue&quot;&gt;\r\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBQueue&lt;/config-property&gt;\r\n                        &lt;/admin-object&gt;\r\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQTopic&quot; jndi-name=&quot;java:/topic/HELLOWORLDMDBTopic&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBTopic&quot;&gt;\r\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBTopic&lt;/config-property&gt;\r\n                        &lt;/admin-object&gt;\r\n                    &lt;/admin-objects&gt;\r\n                &lt;/resource-adapter&gt;\r\n            &lt;/resource-adapters&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\nAfter I put the `activemq-rar-5.16.4.rar` in the `deployments` folder I started Wildfly with\r\n\r\n```\r\n./standalone.sh --server-config=standalone-full.xml\r\n```\r\n\r\nNow I want to try with an helloworld-mdb\r\n```java\r\n@WebServlet(&quot;/HelloWorldMDBServletClient&quot;)\r\npublic class HelloWorldMDBServletClient extends HttpServlet {\r\n\r\n    private static final long serialVersionUID = -8314035702649252239L;\r\n\r\n    private static final int MSG_COUNT = 5;\r\n\r\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n```\r\n``` java\r\nimport org.jboss.ejb3.annotation.ResourceAdapter;\r\n/**\r\n * &lt;p&gt;\r\n * A simple Message Driven Bean that asynchronously receives and processes the messages that are sent to the topic.\r\n * &lt;/p&gt;\r\n *\r\n * @author Serge Pagop (spagop@redhat.com)\r\n */\r\n@MessageDriven(name = &quot;HelloWorldQTopicMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;java:/queue/HELLOWORLDMDBTopic&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Topic&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)})\r\n@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)\r\npublic class HelloWorldTopicMDB implements MessageListener {\r\n``` \r\n\r\nDone the war, I am trying to deploy into Wildfly but I give an error:\r\n\r\n```\r\n09:44:53,938 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;helloworld-mdb.war&quot;\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.jboss.as.naming.deployment.ContextNames.bindInfoFor(ContextNames.java:351)\r\n\tat org.wildfly.extension.messaging.activemq.deployment.JMSConnectionFactoryDefinitionInjectionSource.getDefaulResourceAdapter(JMSConnectionFactoryDefinitionInjectionSource.java:428)\r\n\tat org.wildfly.extension.messaging.activemq.deployment.JMSDestinationDefinitionInjectionSource.getResourceValue(JMSDestinationDefinitionInjectionSource.java:137)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.addJndiBinding(ModuleJndiBindingProcessor.java:294)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$1.handle(ModuleJndiBindingProcessor.java:242)\r\n\tat org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.processClassConfigurations(ModuleJndiBindingProcessor.java:246)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.deploy(ModuleJndiBindingProcessor.java:160)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n\t... 8 more\r\n\r\n09:44:53,941 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\r\n    Caused by: java.lang.NullPointerException&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\r\n    ]\r\n}\r\n09:44:53,942 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\r\n    Caused by: java.lang.NullPointerException&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\r\n    ]\r\n}\r\n09:44:53,942 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;helloworld-mdb.war&quot; was rolled back with the following failure message:\r\n{\r\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\r\n    Caused by: java.lang.NullPointerException&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\r\n    ]\r\n}\r\n```","title":"Widlfy 26 with ActiveMQ &quot;Classic&quot; JCA resource adapter","body":"<p>I am trying to test an example HelloWorld MDB with Wildfly 26.0.1-Final and ActiveMQ &quot;Classic&quot; 5.16.4.</p>\n<p>In <code>standalone-full.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:6.0&quot;&gt;\n            &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;\n            &lt;concurrent&gt;\n                &lt;context-services&gt;\n                    &lt;context-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/context/default&quot; use-transaction-setup-provider=&quot;true&quot;/&gt;\n                &lt;/context-services&gt;\n                &lt;managed-thread-factories&gt;\n                    &lt;managed-thread-factory name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/factory/default&quot; context-service=&quot;default&quot;/&gt;\n                &lt;/managed-thread-factories&gt;\n                &lt;managed-executor-services&gt;\n                    &lt;managed-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/executor/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;5000&quot;/&gt;\n                &lt;/managed-executor-services&gt;\n                &lt;managed-scheduled-executor-services&gt;\n                    &lt;managed-scheduled-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/scheduler/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;3000&quot;/&gt;\n                &lt;/managed-scheduled-executor-services&gt;\n            &lt;/concurrent&gt;\n            &lt;!-- &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; jms-connection-factory=&quot;java:jboss/DefaultJMSConnectionFactory&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt; --&gt;\n            &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;mdb&gt;\n                &lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;/&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\n            &lt;/mdb&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n            &lt;server name=&quot;default&quot;&gt;\n                &lt;security elytron-domain=&quot;ApplicationDomain&quot;/&gt;\n                &lt;cluster password=&quot;${jboss.messaging.cluster.password:CHANGE ME!!}&quot;/&gt;\n                &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\n                &lt;security-setting name=&quot;#&quot;&gt;\n                    &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n                &lt;/security-setting&gt;\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot; redistribution-d\nelay=&quot;1000&quot;/&gt;\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n                &lt;/http-connector&gt;\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n                &lt;/in-vm-connector&gt;\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\n                &lt;/http-acceptor&gt;\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n                &lt;/in-vm-acceptor&gt;\n                &lt;jgroups-broadcast-group name=&quot;bg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot; connectors=&quot;http-connector&quot;/&gt;\n                &lt;jgroups-discovery-group name=&quot;dg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot;/&gt;\n                &lt;cluster-connection name=&quot;my-cluster&quot; address=&quot;jms&quot; connector-name=&quot;http-connector&quot; discovery-group=&quot;dg-group1&quot;/&gt;\n                &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\n                &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot; ha=&quot;true&quot; block-on-acknowledge=&quot;true&quot; reconnect-attempts=&quot;-1&quot;/&gt;\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\n            &lt;/server&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\n            &lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;activemq-rar-5.16.4.rar&quot;&gt;\n                    &lt;archive&gt;\n                        activemq-rar-5.16.4.rar\n                    &lt;/archive&gt;\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\n                    &lt;config-property name=&quot;ServerUrl&quot;&gt;tcp://localhost:61616?soTimeout=20000&amp;amp;connectionTimeout=10000&lt;/config-property&gt;\n                    &lt;config-property name=&quot;UserName&quot;&gt;admin&lt;/config-property&gt;\n                    &lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\n                    &lt;config-property name=&quot;Password&quot;&gt;admin&lt;/config-property&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ActiveMQ/QueueConnectionFactory&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;ActiveMQ/QueueConnectionFactory&quot; use-ccm=&quot;true&quot;&gt;\n                            &lt;xa-pool&gt;\n                                &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\n                                &lt;max-pool-size&gt;200&lt;/max-pool-size&gt;\n                            &lt;/xa-pool&gt;\n                            &lt;timeout&gt;\n                                &lt;blocking-timeout-millis&gt;30000&lt;/blocking-timeout-millis&gt;\n                                &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\n                            &lt;/timeout&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n                    &lt;admin-objects&gt;\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQQueue&quot; jndi-name=&quot;java:/queue/HELLOWORLDMDBQueue&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBQueue&quot;&gt;\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBQueue&lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQTopic&quot; jndi-name=&quot;java:/topic/HELLOWORLDMDBTopic&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBTopic&quot;&gt;\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBTopic&lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                    &lt;/admin-objects&gt;\n                &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>After I put the <code>activemq-rar-5.16.4.rar</code> in the <code>deployments</code> folder I started Wildfly with</p>\n<pre><code>./standalone.sh --server-config=standalone-full.xml\n</code></pre>\n<p>Now I want to try with an helloworld-mdb</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(&quot;/HelloWorldMDBServletClient&quot;)\npublic class HelloWorldMDBServletClient extends HttpServlet {\n\n    private static final long serialVersionUID = -8314035702649252239L;\n\n    private static final int MSG_COUNT = 5;\n\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\n    private ConnectionFactory connectionFactory;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jboss.ejb3.annotation.ResourceAdapter;\n/**\n * &lt;p&gt;\n * A simple Message Driven Bean that asynchronously receives and processes the messages that are sent to the topic.\n * &lt;/p&gt;\n *\n * @author Serge Pagop (spagop@redhat.com)\n */\n@MessageDriven(name = &quot;HelloWorldQTopicMDB&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;java:/queue/HELLOWORLDMDBTopic&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Topic&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)})\n@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)\npublic class HelloWorldTopicMDB implements MessageListener {\n</code></pre>\n<p>Done the war, I am trying to deploy into Wildfly but I give an error:</p>\n<pre><code>09:44:53,938 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;helloworld-mdb.war&quot;\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.NullPointerException\n    at org.jboss.as.naming.deployment.ContextNames.bindInfoFor(ContextNames.java:351)\n    at org.wildfly.extension.messaging.activemq.deployment.JMSConnectionFactoryDefinitionInjectionSource.getDefaulResourceAdapter(JMSConnectionFactoryDefinitionInjectionSource.java:428)\n    at org.wildfly.extension.messaging.activemq.deployment.JMSDestinationDefinitionInjectionSource.getResourceValue(JMSDestinationDefinitionInjectionSource.java:137)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.addJndiBinding(ModuleJndiBindingProcessor.java:294)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$1.handle(ModuleJndiBindingProcessor.java:242)\n    at org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.processClassConfigurations(ModuleJndiBindingProcessor.java:246)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.deploy(ModuleJndiBindingProcessor.java:160)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n    ... 8 more\n\n09:44:53,941 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\n    Caused by: java.lang.NullPointerException&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\n    ]\n}\n09:44:53,942 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\n    Caused by: java.lang.NullPointerException&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\n    ]\n}\n09:44:53,942 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;helloworld-mdb.war&quot; was rolled back with the following failure message:\n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\n    Caused by: java.lang.NullPointerException&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","kubernetes","kubernetes-cronjob"],"answers":[{"tags":[],"owner":{"account_id":16057,"reputation":18572,"user_id":34586,"accept_rate":79,"display_name":"Lukman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645196281,"creation_date":1645196281,"answer_id":71175524,"question_id":71172671,"body_markdown":"The `concurrencyPolicy: Forbidden` spec only prevents concurrent pod creations and executions of [the same `CronJob`][1]. It does not apply across separate CronJobs even though they effectively execute the same commands using the same Docker image. As far as Kubernetes is concerned, they are different jobs. If this was Java, what Kubernetes does is `if (stringA == stringB)` and not `if (stringA.equals(stringB))`.\r\n\r\n&gt; If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?\r\n\r\nOne way of using that is to use distributed lock mechanism using separate component such as Redis. Here is the link to the guide to utilize Java Redis library redisson for that purpose: https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers. Below is code sample taken from that page:\r\n\r\n    RLock lock = redisson.getLock(&quot;myLock&quot;);\r\n\r\n    // wait for lock aquisition up to 100 seconds \r\n    // and automatically unlock it after 10 seconds\r\n    boolean res = lock.tryLock(100, 10, TimeUnit.SECONDS);\r\n    if (res) {\r\n        // do operation\r\n    } else {\r\n        // some other execution is doing it so just chill\r\n    }\r\n\r\n  [1]: https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/#concurrency-policy\r\n","title":"How to prevent Kubernetes cronjob running concurrently when I trigger it manually?","body":"<p>The <code>concurrencyPolicy: Forbidden</code> spec only prevents concurrent pod creations and executions of <a href=\"https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/#concurrency-policy\" rel=\"nofollow noreferrer\">the same <code>CronJob</code></a>. It does not apply across separate CronJobs even though they effectively execute the same commands using the same Docker image. As far as Kubernetes is concerned, they are different jobs. If this was Java, what Kubernetes does is <code>if (stringA == stringB)</code> and not <code>if (stringA.equals(stringB))</code>.</p>\n<blockquote>\n<p>If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?</p>\n</blockquote>\n<p>One way of using that is to use distributed lock mechanism using separate component such as Redis. Here is the link to the guide to utilize Java Redis library redisson for that purpose: <a href=\"https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers</a>. Below is code sample taken from that page:</p>\n<pre><code>RLock lock = redisson.getLock(&quot;myLock&quot;);\n\n// wait for lock aquisition up to 100 seconds \n// and automatically unlock it after 10 seconds\nboolean res = lock.tryLock(100, 10, TimeUnit.SECONDS);\nif (res) {\n    // do operation\n} else {\n    // some other execution is doing it so just chill\n}\n</code></pre>\n"}],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71175524,"answer_count":1,"score":1,"last_activity_date":1645196281,"creation_date":1645183382,"question_id":71172671,"body_markdown":"I have set the Kubernetes cronJob to prevent concurrent runs [like here][1] using `parallelism: 1`, `concurrencyPolicy: Forbid`, and `parallelism: 1`. However, when I try to create a cronJob manually I am allowed to do that.\r\n\r\n```\r\n$ kubectl get cronjobs\r\n...\r\n$ kubectl create job new-cronjob-1642417446000 --from=cronjob/original-cronjob-name\r\njob.batch/new-cronjob-1642417446000 created\r\n$ kubectl create job new-cronjob-1642417446001 --from=cronjob/original-cronjob-name\r\njob.batch/new-cronjob-1642417446001 created\r\n```\r\nI was expecting that a new cronjob would not be created. Or it could be created and fail with a state that references the `concurrencyPolicy`. If the property `concurrencyPolicy` is part of the CronJob spec, not the PodSpec, it should prevent a new job to be created. Why it does not?\r\n```\r\napiVersion: batch/v1beta1\r\nkind: CronJob\r\nmetadata:\r\n  name: cronjob-name\r\n  annotations:\r\n    argocd.argoproj.io/sync-wave: &quot;1&quot;\r\nspec:\r\n  schedule: &quot;0 * * * *&quot;\r\n  suspend: false\r\n  successfulJobsHistoryLimit: 1\r\n  failedJobsHistoryLimit: 3\r\n  concurrencyPolicy: Forbid\r\n  jobTemplate:\r\n    spec:\r\n      parallelism: 1\r\n      completions: 1\r\n      backoffLimit: 3\r\n      template:\r\n        spec:\r\n          restartPolicy: Never\r\n```\r\nAfter reading the [official documentation][2] about the `kubectl create -f` I didn&#39;t find a way to prevent that. Is this behavior expected? If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?\r\n\r\n  [1]: https://stackoverflow.com/a/62892617/2096986\r\n  [2]: https://kubernetes.io/docs/tasks/job/_print/#creating-a-cron-job","title":"How to prevent Kubernetes cronjob running concurrently when I trigger it manually?","body":"<p>I have set the Kubernetes cronJob to prevent concurrent runs <a href=\"https://stackoverflow.com/a/62892617/2096986\">like here</a> using <code>parallelism: 1</code>, <code>concurrencyPolicy: Forbid</code>, and <code>parallelism: 1</code>. However, when I try to create a cronJob manually I am allowed to do that.</p>\n<pre><code>$ kubectl get cronjobs\n...\n$ kubectl create job new-cronjob-1642417446000 --from=cronjob/original-cronjob-name\njob.batch/new-cronjob-1642417446000 created\n$ kubectl create job new-cronjob-1642417446001 --from=cronjob/original-cronjob-name\njob.batch/new-cronjob-1642417446001 created\n</code></pre>\n<p>I was expecting that a new cronjob would not be created. Or it could be created and fail with a state that references the <code>concurrencyPolicy</code>. If the property <code>concurrencyPolicy</code> is part of the CronJob spec, not the PodSpec, it should prevent a new job to be created. Why it does not?</p>\n<pre><code>apiVersion: batch/v1beta1\nkind: CronJob\nmetadata:\n  name: cronjob-name\n  annotations:\n    argocd.argoproj.io/sync-wave: &quot;1&quot;\nspec:\n  schedule: &quot;0 * * * *&quot;\n  suspend: false\n  successfulJobsHistoryLimit: 1\n  failedJobsHistoryLimit: 3\n  concurrencyPolicy: Forbid\n  jobTemplate:\n    spec:\n      parallelism: 1\n      completions: 1\n      backoffLimit: 3\n      template:\n        spec:\n          restartPolicy: Never\n</code></pre>\n<p>After reading the <a href=\"https://kubernetes.io/docs/tasks/job/_print/#creating-a-cron-job\" rel=\"nofollow noreferrer\">official documentation</a> about the <code>kubectl create -f</code> I didn't find a way to prevent that. Is this behavior expected? If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?</p>\n"},{"tags":["java","tomcat","apache-kafka","apache-kafka-streams","redeploy"],"answers":[{"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645196149,"creation_date":1645013631,"answer_id":71141666,"question_id":71141534,"body_markdown":"I think this is because  \r\n```\r\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n    if (kafkaStreams != null) {\r\n        kafkaStreams.close();\r\n    }\r\n}));\r\n```\r\nis not being called during re-deploy, as JVM process continue to run. Please try another way to be notified when your application is being redeployed, for example using [ServletContextListener](https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletContextListener.html)","title":"Kafka streams errors after redeploying Tomcat","body":"<p>I think this is because</p>\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    if (kafkaStreams != null) {\n        kafkaStreams.close();\n    }\n}));\n</code></pre>\n<p>is not being called during re-deploy, as JVM process continue to run. Please try another way to be notified when your application is being redeployed, for example using <a href=\"https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletContextListener.html\" rel=\"nofollow noreferrer\">ServletContextListener</a></p>\n"},{"tags":[],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645192404,"creation_date":1645192404,"answer_id":71174603,"question_id":71141534,"body_markdown":"My problem was solved thanks to @udalmik. \r\n\r\nI solved my problem by extending my beans from DisposableBean. \r\n\r\nAdditionally I have prototype beans. This solution didn&#39;t work on my prototype beans.\r\nI am writing my solution for both prototype and singleton beans.\r\n\r\n    // For Singleton Bean\r\n    @Service\r\n    public class PersonSingletonBean implements DisposableBean {\r\n        @Override\r\n        public void destroy() throws Exception {\r\n            if (kafkaStreams != null) {\r\n                kafkaStreams.close();\r\n            }\r\n        }\r\n    }\r\n---------------------------------------------------------------------------------\r\n    // For PrototypeBean\r\n    @Service\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class PersonPrototypeBean implements DisposableBean {\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            if (kafkaStreams != null) {\r\n                kafkaStreams.close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    @Service\r\n    public class PersonPrototypeBeanList implements DisposableBean {\r\n    \r\n        private final List&lt;PersonPrototypeBean&gt; personPrototypeBeanList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \r\n        public void addToPersonPrototypeBeanList(PersonPrototypeBean personPrototypeBean) {\r\n            personPrototypeBeanList.add(personPrototypeBean);\r\n        }\r\n    \r\n        public void destroy() throws Exception {\r\n            synchronized (personPrototypeBeanList) {\r\n                for (PersonPrototypeBean personPrototypeBean : personPrototypeBeanList) {\r\n                    if (personPrototypeBean != null) {\r\n                        ((DisposableBean) personPrototypeBean).destroy();\r\n                    }\r\n                }\r\n                personPrototypeBeanList.clear();\r\n            }\r\n        }\r\n    }","title":"Kafka streams errors after redeploying Tomcat","body":"<p>My problem was solved thanks to @udalmik.</p>\n<p>I solved my problem by extending my beans from DisposableBean.</p>\n<p>Additionally I have prototype beans. This solution didn't work on my prototype beans.\nI am writing my solution for both prototype and singleton beans.</p>\n<pre><code>// For Singleton Bean\n@Service\npublic class PersonSingletonBean implements DisposableBean {\n    @Override\n    public void destroy() throws Exception {\n        if (kafkaStreams != null) {\n            kafkaStreams.close();\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>// For PrototypeBean\n@Service\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class PersonPrototypeBean implements DisposableBean {\n\n    @Override\n    public void destroy() {\n        if (kafkaStreams != null) {\n            kafkaStreams.close();\n        }\n    }\n\n}\n\n@Service\npublic class PersonPrototypeBeanList implements DisposableBean {\n\n    private final List&lt;PersonPrototypeBean&gt; personPrototypeBeanList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n    public void addToPersonPrototypeBeanList(PersonPrototypeBean personPrototypeBean) {\n        personPrototypeBeanList.add(personPrototypeBean);\n    }\n\n    public void destroy() throws Exception {\n        synchronized (personPrototypeBeanList) {\n            for (PersonPrototypeBean personPrototypeBean : personPrototypeBeanList) {\n                if (personPrototypeBean != null) {\n                    ((DisposableBean) personPrototypeBean).destroy();\n                }\n            }\n            personPrototypeBeanList.clear();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71141666,"answer_count":2,"score":0,"last_activity_date":1645196149,"creation_date":1645013071,"question_id":71141534,"body_markdown":"I am using **kafka streams** in my project. I compile my project as **war** and run it in **tomcat**. \r\n\r\nMy project works as I want without any errors. If I first stop tomcat and then start it, it works without error. **However, if I redeploy(undeploy and deploy) the service without stopping tomcat, I start getting errors**. When I do research, there is information that tomcat caches the old version of the service. I could not reach a solution even though I applied some solutions. I will be grateful if you could help me.\r\n\r\n**I want to say it again. My code block works normally. If I run the service for the first time in tomcat, I don&#39;t get an error. Or if I close tomcat completely and start it again, I don&#39;t get an error. However, if I redeploy(undeploy and deploy) the service without stopping tomcat , I start getting an error.**\r\n\r\nI am sharing a small code block below. \r\n\r\n    Properties streamConfiguration = kafkaStreamsConfiguration.createStreamConfiguration(createKTableGroupId(), new AppSerdes.DataWrapperSerde());\r\n    StreamsBuilder streamsBuilder = new StreamsBuilder();\r\n    KTable&lt;String, DataWrapper&gt; kTableDataWrapper = streamsBuilder.table(topicAction.getTopicName());\r\n    KTable&lt;String, DataWrapper&gt; kTableWithStore = kTableDataWrapper.filter((key, dataWrapper) -&gt; key != null &amp;&amp; dataWrapper != null, Materialized.as(createStoreName()));\r\n    \r\n    kTableWithStore.toStream().filter((key, dataWrapper) -&gt; // Filter)\r\n    \t\t.mapValues((ValueMapperWithKey&lt;String, DataWrapper, Object&gt;) (key, dataWrapper) -&gt; {\r\n    \t\t\t// Logics\r\n    \t\t})\r\n    \t\t.to(createOutputTopicName());\r\n    \r\n    this.kafkaStreams = new KafkaStreams(streamsBuilder.build(), streamConfiguration);\r\n    this.kafkaStreams.start();\r\n    Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n    \tif (kafkaStreams != null) {\r\n    \t\tkafkaStreams.close();\r\n    \t}\r\n    }));\r\n    \r\n    \r\n    public Properties createStreamConfiguration(String appId, Serde serde) {\r\n    \tProperties properties = new Properties();\r\n    \tproperties.put(StreamsConfig.APPLICATION_ID_CONFIG, appId);\r\n    \tproperties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBrokers);\r\n    \tproperties.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n    \tproperties.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, serde.getClass());\r\n    \tproperties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableCommitIntervalMs());\r\n    \tproperties.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableMaxByteBufferMB() * 1024 * 1024);\r\n    \tproperties.put(StreamsConfig.STATE_DIR_CONFIG, KafkaStreamsConfigurationConstants.stateStoreLocation);\r\n    \treturn properties;\r\n}\r\n\r\nError : \r\n\r\n    2022-02-16 14:19:39.663  WARN 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Using /tmp directory in the state.dir property can cause failures with writing the checkpoint file due to the fact that this directory can be cleared by the OS\r\n    2022-02-16 14:19:39.677 ERROR 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Unable to obtain lock as state directory is already locked by another process\r\n    2022-02-16 14:19:39.702 ERROR 9529 --- [     Thread-462] f.t.s.c.- Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Localized Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Print Stack Trace : org.apache.kafka.streams.errors.StreamsException: Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory\r\n            at org.apache.kafka.streams.processor.internals.StateDirectory.initializeProcessId(StateDirectory.java:186)\r\n            at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:681)\r\n            at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:657)\r\n            at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:567)\r\n\r\n","title":"Kafka streams errors after redeploying Tomcat","body":"<p>I am using <strong>kafka streams</strong> in my project. I compile my project as <strong>war</strong> and run it in <strong>tomcat</strong>.</p>\n<p>My project works as I want without any errors. If I first stop tomcat and then start it, it works without error. <strong>However, if I redeploy(undeploy and deploy) the service without stopping tomcat, I start getting errors</strong>. When I do research, there is information that tomcat caches the old version of the service. I could not reach a solution even though I applied some solutions. I will be grateful if you could help me.</p>\n<p><strong>I want to say it again. My code block works normally. If I run the service for the first time in tomcat, I don't get an error. Or if I close tomcat completely and start it again, I don't get an error. However, if I redeploy(undeploy and deploy) the service without stopping tomcat , I start getting an error.</strong></p>\n<p>I am sharing a small code block below.</p>\n<pre><code>Properties streamConfiguration = kafkaStreamsConfiguration.createStreamConfiguration(createKTableGroupId(), new AppSerdes.DataWrapperSerde());\nStreamsBuilder streamsBuilder = new StreamsBuilder();\nKTable&lt;String, DataWrapper&gt; kTableDataWrapper = streamsBuilder.table(topicAction.getTopicName());\nKTable&lt;String, DataWrapper&gt; kTableWithStore = kTableDataWrapper.filter((key, dataWrapper) -&gt; key != null &amp;&amp; dataWrapper != null, Materialized.as(createStoreName()));\n\nkTableWithStore.toStream().filter((key, dataWrapper) -&gt; // Filter)\n        .mapValues((ValueMapperWithKey&lt;String, DataWrapper, Object&gt;) (key, dataWrapper) -&gt; {\n            // Logics\n        })\n        .to(createOutputTopicName());\n\nthis.kafkaStreams = new KafkaStreams(streamsBuilder.build(), streamConfiguration);\nthis.kafkaStreams.start();\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    if (kafkaStreams != null) {\n        kafkaStreams.close();\n    }\n}));\n\n\npublic Properties createStreamConfiguration(String appId, Serde serde) {\n    Properties properties = new Properties();\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, appId);\n    properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBrokers);\n    properties.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n    properties.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, serde.getClass());\n    properties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableCommitIntervalMs());\n    properties.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableMaxByteBufferMB() * 1024 * 1024);\n    properties.put(StreamsConfig.STATE_DIR_CONFIG, KafkaStreamsConfigurationConstants.stateStoreLocation);\n    return properties;\n</code></pre>\n<p>}</p>\n<p>Error :</p>\n<pre><code>2022-02-16 14:19:39.663  WARN 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Using /tmp directory in the state.dir property can cause failures with writing the checkpoint file due to the fact that this directory can be cleared by the OS\n2022-02-16 14:19:39.677 ERROR 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Unable to obtain lock as state directory is already locked by another process\n2022-02-16 14:19:39.702 ERROR 9529 --- [     Thread-462] f.t.s.c.- Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Localized Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Print Stack Trace : org.apache.kafka.streams.errors.StreamsException: Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory\n        at org.apache.kafka.streams.processor.internals.StateDirectory.initializeProcessId(StateDirectory.java:186)\n        at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:681)\n        at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:657)\n        at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:567)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","spring-cloud"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1645195217,"post_id":71174840,"comment_id":125813555,"body_markdown":"The obvious thing you missed is to include the full error message, which would explain _which_ &quot;error creating bean&quot;.","body":"The obvious thing you missed is to include the full error message, which would explain <i>which</i> &quot;error creating bean&quot;."},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1645196150,"post_id":71174840,"comment_id":125813909,"body_markdown":"Added to question body.","body":"Added to question body."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1645196609,"post_id":71174840,"comment_id":125814123,"body_markdown":"The missing class hasn&#39;t existed since boot 2.4. Something else in your project is bringing in an incompatible dependency. Please show your dependencies https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","body":"The missing class hasn&#39;t existed since boot 2.4. Something else in your project is bringing in an incompatible dependency. Please show your dependencies <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1645197716,"post_id":71174840,"comment_id":125814602,"body_markdown":"Should I provide only one specified --configuration (and which) or all of them?","body":"Should I provide only one specified --configuration (and which) or all of them?"},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1645198493,"post_id":71174840,"comment_id":125814930,"body_markdown":"I mean productionRuntimeClasspath would be enough? Sorry Im not a pro-programmer even of a junior-level, just self-learning in progress.","body":"I mean productionRuntimeClasspath would be enough? Sorry Im not a pro-programmer even of a junior-level, just self-learning in progress."}],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645196066,"creation_date":1645193373,"question_id":71174840,"body_markdown":"I get **Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]**\r\n\r\nI know 2 main advices are to add **implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;** in build and check Boot and Cloud versions for compatibility which looks like I&#39;ve done both:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n}\r\n\r\ngroup &#39;demo.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.1&quot;)\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;registry.RegistryApp&#39;\r\n        )\r\n    }\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\r\n    testImplementation &quot;junit:junit:4.12&quot;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\n```\r\nunfortunately without success and even more strange that second submodule in same project works fine with the following build that seems to be pretty similar to the first one:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n}\r\n\r\ngroup &#39;demo.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;config.ConfigApp&#39;\r\n        )\r\n    }\r\n}\r\n\r\next {\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.1&quot;)\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-config-server&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:2.6.3&quot;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\n```\r\ndid I miss something obvious? Thanks in advance.\r\n\r\nStacktrace:\r\n```\r\n2022-02-18 17:52:18.810  WARN 7840 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n2022-02-18 17:52:19.610  INFO 7840 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-02-18 17:52:19.722 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:296) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat registry.RegistryApp.main(RegistryApp.java:12) ~[main/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 30 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n\tat java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\t... 41 common frames omitted\r\n\r\n2022-02-18 17:52:19.734 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:296) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat registry.RegistryApp.main(RegistryApp.java:12) [main/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 30 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n\tat java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\t... 41 common frames omitted\r\n```","title":"Cant start Spring Boot module","body":"<p>I get <strong>Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]</strong></p>\n<p>I know 2 main advices are to add <strong>implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;</strong> in build and check Boot and Cloud versions for compatibility which looks like I've done both:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\ngroup 'demo.example'\nversion '1.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.1&quot;)\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'registry.RegistryApp'\n        )\n    }\n}\n\ndependencies {\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\n    testImplementation &quot;junit:junit:4.12&quot;\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n</code></pre>\n<p>unfortunately without success and even more strange that second submodule in same project works fine with the following build that seems to be pretty similar to the first one:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\ngroup 'demo.example'\nversion '1.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'config.ConfigApp'\n        )\n    }\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.1&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ndependencies {\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-config-server&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:2.6.3&quot;\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n<p>did I miss something obvious? Thanks in advance.</p>\n<p>Stacktrace:</p>\n<pre><code>2022-02-18 17:52:18.810  WARN 7840 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n2022-02-18 17:52:19.610  INFO 7840 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-18 17:52:19.722 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) [spring-boot-2.6.3.jar:2.6.3]\n    at java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:296) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at registry.RegistryApp.main(RegistryApp.java:12) ~[main/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 30 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\n    ... 37 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\n    at java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    ... 41 common frames omitted\n\n2022-02-18 17:52:19.734 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) ~[spring-boot-2.6.3.jar:2.6.3]\n    at java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:296) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.6.3.jar:2.6.3]\n    at registry.RegistryApp.main(RegistryApp.java:12) [main/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 30 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\n    ... 37 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\n    at java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    ... 41 common frames omitted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1645114533,"post_id":71161215,"comment_id":125790242,"body_markdown":"This is not really the kind of question SO is good at answering, but in an effort to point you in the right direction, I would point out that a `String` is immutable—you can&#39;t change the characters it contains, you can only make a complete new `String` instance. So, if your program is all about modifying text, it&#39;s easier and more efficient to use mutable character strings like `StringBuilder` and `char[]`.","body":"This is not really the kind of question SO is good at answering, but in an effort to point you in the right direction, I would point out that a <code>String</code> is immutable—you can&#39;t change the characters it contains, you can only make a complete new <code>String</code> instance. So, if your program is all about modifying text, it&#39;s easier and more efficient to use mutable character strings like <code>StringBuilder</code> and <code>char[]</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645119979,"post_id":71161215,"comment_id":125792653,"body_markdown":"By the way, the `char` type is legacy. As a 16-bit value, `char` is physically incapable of representing most characters. Use Unicode [code point](https://en.wikipedia.org/wiki/Code_point) integer numbers instead for working with individual characters.","body":"By the way, the <code>char</code> type is legacy. As a 16-bit value, <code>char</code> is physically incapable of representing most characters. Use Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers instead for working with individual characters."}],"answers":[{"tags":[],"owner":{"account_id":20162704,"reputation":175,"user_id":14787412,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645194608,"creation_date":1645114095,"answer_id":71161565,"question_id":71161215,"body_markdown":"The solution that you found above was a highly over engineered solution to a very simple problem. \r\n\r\n1. Sometimes its better to use char arrays when performing operations on strings because it might increase performance. Strings in java are immutable and every time you mutate a String a new String object is created. So char array can be used to increase the performance of the code.\r\n\r\n 2. Your code is working fine with sentences when I checked it. I don&#39;t really know what issue you are facing. \r\n\r\nEdit : You should avoid using scanner.next(); method when taking an input string. Because it only read the string up until a space. Therefore your program is not reading the entire string that you entered.\r\nYou should instead use scanner.nextLine(); for reading a String value.\r\n\r\nFor more info on Scanner class : http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n\r\n\r\n\r\nThis is a pretty good way of Reversing a String. This probably the most efficient way of reversing a String.\r\n```\r\npublic String reverseString(String input) {\r\n        char[] arr = input.toCharArray();\r\n        int i = 0, j = arr.length - 1;\r\n        while(i &lt; j) {\r\n            char temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n            i++; j--;\r\n        }\r\n        return new String(arr);\r\n    }\r\n```\r\n\r\n ","title":"In this sentence reversal program, why has char been used and not String?","body":"<p>The solution that you found above was a highly over engineered solution to a very simple problem.</p>\n<ol>\n<li><p>Sometimes its better to use char arrays when performing operations on strings because it might increase performance. Strings in java are immutable and every time you mutate a String a new String object is created. So char array can be used to increase the performance of the code.</p>\n</li>\n<li><p>Your code is working fine with sentences when I checked it. I don't really know what issue you are facing.</p>\n</li>\n</ol>\n<p>Edit : You should avoid using scanner.next(); method when taking an input string. Because it only read the string up until a space. Therefore your program is not reading the entire string that you entered.\nYou should instead use scanner.nextLine(); for reading a String value.</p>\n<p>For more info on Scanner class : <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n<p>This is a pretty good way of Reversing a String. This probably the most efficient way of reversing a String.</p>\n<pre><code>public String reverseString(String input) {\n        char[] arr = input.toCharArray();\n        int i = 0, j = arr.length - 1;\n        while(i &lt; j) {\n            char temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n            i++; j--;\n        }\n        return new String(arr);\n    }\n</code></pre>\n"}],"owner":{"account_id":24250964,"reputation":3,"user_id":18201960,"display_name":"speca2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645194763,"accepted_answer_id":71161565,"answer_count":1,"score":-1,"last_activity_date":1645194608,"creation_date":1645112825,"question_id":71161215,"body_markdown":"I was doing a few beginner coding challenges and one of the challenge was making a program that reverses a given String. It worked on words, but as soon as I put in words with spaces between them the program only reversed the first word entered.\r\n\r\nI googled &quot;reverse words with spaces in it java&quot; and found this:\r\n\r\n```\r\n// Java program to reverse a string\r\n// preserving spaces.\r\npublic class ReverseStringPreserveSpace {\r\n    // Function to reverse the string\r\n    // and preserve the space position\r\n    static void reverses(String str)\r\n    {\r\n \r\n        char[] inputArray = str.toCharArray();\r\n        char[] result = new char[inputArray.length];\r\n \r\n        // Mark spaces in result\r\n        for (int i = 0; i &lt; inputArray.length; i++) {\r\n            if (inputArray[i] == &#39; &#39;) {\r\n                result[i] = &#39; &#39;;\r\n            }\r\n        }\r\n \r\n        // Traverse input string from beginning\r\n        // and put characters in result from end\r\n        int j = result.length - 1;\r\n        for (int i = 0; i &lt; inputArray.length; i++) {\r\n \r\n            // Ignore spaces in input string\r\n            if (inputArray[i] != &#39; &#39;) {\r\n \r\n                // ignore spaces in result.\r\n                if (result[j] == &#39; &#39;) {\r\n                    j--;\r\n                }\r\n                result[j] = inputArray[i];\r\n                j--;\r\n            }\r\n        }\r\n        System.out.println(String.valueOf(result));\r\n    }\r\n \r\n    // driver function\r\n    public static void main(String[] args)\r\n    {\r\n        reverses(&quot;internship at geeks for geeks&quot;);\r\n    }\r\n}\r\n```\r\n\r\n 1. Why were char arrays used instead of String directly?\r\n\r\n 2. Can I modify my own code to make it reverse a sentence without following the above code?\r\n     My code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass ReverseString\r\n{\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the word to be reversed:&quot;);\r\n        String input = s.next();\r\n\r\n        String reversed = &quot;&quot;;\r\n        for (int i = 0; i &lt; input.length(); i++)\r\n        {\r\n            char ch = input.charAt(i);\r\n            reversed = ch + reversed;\r\n        }\r\n        System.out.println(reversed);\r\n    }\r\n}\r\n\r\n```","title":"In this sentence reversal program, why has char been used and not String?","body":"<p>I was doing a few beginner coding challenges and one of the challenge was making a program that reverses a given String. It worked on words, but as soon as I put in words with spaces between them the program only reversed the first word entered.</p>\n<p>I googled &quot;reverse words with spaces in it java&quot; and found this:</p>\n<pre><code>// Java program to reverse a string\n// preserving spaces.\npublic class ReverseStringPreserveSpace {\n    // Function to reverse the string\n    // and preserve the space position\n    static void reverses(String str)\n    {\n \n        char[] inputArray = str.toCharArray();\n        char[] result = new char[inputArray.length];\n \n        // Mark spaces in result\n        for (int i = 0; i &lt; inputArray.length; i++) {\n            if (inputArray[i] == ' ') {\n                result[i] = ' ';\n            }\n        }\n \n        // Traverse input string from beginning\n        // and put characters in result from end\n        int j = result.length - 1;\n        for (int i = 0; i &lt; inputArray.length; i++) {\n \n            // Ignore spaces in input string\n            if (inputArray[i] != ' ') {\n \n                // ignore spaces in result.\n                if (result[j] == ' ') {\n                    j--;\n                }\n                result[j] = inputArray[i];\n                j--;\n            }\n        }\n        System.out.println(String.valueOf(result));\n    }\n \n    // driver function\n    public static void main(String[] args)\n    {\n        reverses(&quot;internship at geeks for geeks&quot;);\n    }\n}\n</code></pre>\n<ol>\n<li><p>Why were char arrays used instead of String directly?</p>\n</li>\n<li><p>Can I modify my own code to make it reverse a sentence without following the above code?\nMy code:</p>\n</li>\n</ol>\n<pre><code>import java.util.Scanner;\n\nclass ReverseString\n{\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter the word to be reversed:&quot;);\n        String input = s.next();\n\n        String reversed = &quot;&quot;;\n        for (int i = 0; i &lt; input.length(); i++)\n        {\n            char ch = input.charAt(i);\n            reversed = ch + reversed;\n        }\n        System.out.println(reversed);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cache"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1645195455,"post_id":71175074,"comment_id":125813646,"body_markdown":"In general, Spring advice doesn&#39;t apply to _self-calls_ because they don&#39;t travel through the Spring proxy. This is more commonly seen with `@Transactional` but also applies to `@Cacheable`.","body":"In general, Spring advice doesn&#39;t apply to <i>self-calls</i> because they don&#39;t travel through the Spring proxy. This is more commonly seen with <code>@Transactional</code> but also applies to <code>@Cacheable</code>."},{"owner":{"account_id":6790167,"reputation":467,"user_id":5227595,"display_name":"Konrad L&#246;tzsch"},"score":0,"creation_date":1645216891,"post_id":71175074,"comment_id":125821379,"body_markdown":"thx, I did totally look at the wrong direction here. see https://stackoverflow.com/questions/16899604/","body":"thx, I did totally look at the wrong direction here. see <a href=\"https://stackoverflow.com/questions/16899604/\">stackoverflow.com/questions/16899604</a>"}],"owner":{"account_id":6790167,"reputation":467,"user_id":5227595,"display_name":"Konrad L&#246;tzsch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645219512,"answer_count":0,"score":0,"last_activity_date":1645194392,"creation_date":1645194392,"question_id":71175074,"body_markdown":"I am trying to use the spring-cache abstraction. In my case I want to cache a method call that produces a Mono&lt;String&gt;.\r\n\r\nMy pom contains two dependencies:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\nWith this dependencies (Spring boot parent 2.6.3) I have two very simple Services:\r\n````\r\n@Component\r\npublic class TestService1 {\r\n\r\n    @Cacheable(&quot;testRequests1&quot;)\r\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\r\n        return testMethod(input).cache();\r\n    }\r\n\r\n    public Mono&lt;String&gt; testMethod(String input) {\r\n        System.out.println(&quot;uncached call on service1&quot;);\r\n        return Mono.just(&quot;test1 &quot; + input);\r\n    }\r\n}\r\n````\r\nand \r\n````\r\n@Component\r\npublic class TestService2 {\r\n\r\n\r\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\r\n        return testMethod(input);\r\n    }\r\n\r\n    @Cacheable(&quot;testRequests2&quot;)\r\n    public Mono&lt;String&gt; testMethod(String input) {\r\n        System.out.println(&quot;uncached call on service2&quot;);\r\n        return Mono.just(&quot;test2 &quot; + input).cache();\r\n    }\r\n}\r\n````\r\n\r\nThe difference is, that the in `TestService1` the wrapper method is cached and in `TestService2` the inner method.\r\nWhen I run my Spring Application:\r\n```` \r\n@SpringBootApplication\r\n@EnableCaching\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tConfigurableApplicationContext ctx = SpringApplication.run(DemoApplication.class, args);\r\n\t\tTestService1 testService1 = ctx.getBean(TestService1.class);\r\n\t\tTestService2 testService2 = ctx.getBean(TestService2.class);\r\n\t\ttestService1.testMethodWrapper(&quot;test&quot;).block();\r\n\t\ttestService1.testMethodWrapper(&quot;test&quot;).block();\r\n\t\ttestService2.testMethodWrapper(&quot;test&quot;).block();\r\n\t\ttestService2.testMethodWrapper(&quot;test&quot;).block();\r\n\t}\r\n}\r\n```` \r\nI get\r\n````\r\n2022-02-18 13:40:47.330  INFO 20240 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.8 seconds (JVM running for 2.793)\r\nuncached call on service1\r\nuncached call on service2\r\nuncached call on service2\r\n````\r\n\r\nWhy are calls to the method `testMethod` in the `TestService2` not cached? What part from the `Mono.cache()` [documentation][1]:\r\n&gt;Turn this Mono into a hot source and cache last emitted signals for further Subscriber.\r\n\r\ndid I not understand and how can I cache calls to `testMethod` in `TestService2` that represents the scenario I need to implement?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"Why is caching not working on wrapped reactive Methods","body":"<p>I am trying to use the spring-cache abstraction. In my case I want to cache a method call that produces a Mono.</p>\n<p>My pom contains two dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>With this dependencies (Spring boot parent 2.6.3) I have two very simple Services:</p>\n<pre><code>@Component\npublic class TestService1 {\n\n    @Cacheable(&quot;testRequests1&quot;)\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\n        return testMethod(input).cache();\n    }\n\n    public Mono&lt;String&gt; testMethod(String input) {\n        System.out.println(&quot;uncached call on service1&quot;);\n        return Mono.just(&quot;test1 &quot; + input);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Component\npublic class TestService2 {\n\n\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\n        return testMethod(input);\n    }\n\n    @Cacheable(&quot;testRequests2&quot;)\n    public Mono&lt;String&gt; testMethod(String input) {\n        System.out.println(&quot;uncached call on service2&quot;);\n        return Mono.just(&quot;test2 &quot; + input).cache();\n    }\n}\n</code></pre>\n<p>The difference is, that the in <code>TestService1</code> the wrapper method is cached and in <code>TestService2</code> the inner method.\nWhen I run my Spring Application:</p>\n<pre><code>@SpringBootApplication\n@EnableCaching\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(DemoApplication.class, args);\n        TestService1 testService1 = ctx.getBean(TestService1.class);\n        TestService2 testService2 = ctx.getBean(TestService2.class);\n        testService1.testMethodWrapper(&quot;test&quot;).block();\n        testService1.testMethodWrapper(&quot;test&quot;).block();\n        testService2.testMethodWrapper(&quot;test&quot;).block();\n        testService2.testMethodWrapper(&quot;test&quot;).block();\n    }\n}\n</code></pre>\n<p>I get</p>\n<pre><code>2022-02-18 13:40:47.330  INFO 20240 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.8 seconds (JVM running for 2.793)\nuncached call on service1\nuncached call on service2\nuncached call on service2\n</code></pre>\n<p>Why are calls to the method <code>testMethod</code> in the <code>TestService2</code> not cached? What part from the <code>Mono.cache()</code> <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Turn this Mono into a hot source and cache last emitted signals for further Subscriber.</p>\n</blockquote>\n<p>did I not understand and how can I cache calls to <code>testMethod</code> in <code>TestService2</code> that represents the scenario I need to implement?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1645194477,"post_id":71175026,"comment_id":125813281,"body_markdown":"If you `@Override` it, you must be able to call `super.configure(...)`. So please, tell us the complete error you get.","body":"If you <code>@Override</code> it, you must be able to call <code>super.configure(...)</code>. So please, tell us the complete error you get."},{"owner":{"account_id":22087842,"reputation":81,"user_id":16346374,"display_name":"dparr"},"score":1,"creation_date":1645195248,"post_id":71175026,"comment_id":125813570,"body_markdown":"Try extending `WebSecurityConfigurerAdapter` instead of `WebSecurityConfiguration`","body":"Try extending <code>WebSecurityConfigurerAdapter</code> instead of <code>WebSecurityConfiguration</code>"}],"owner":{"account_id":22424548,"reputation":23,"user_id":16631369,"display_name":"Random Name"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645194198,"creation_date":1645194198,"question_id":71175026,"body_markdown":"I&#39;m trying to create a SecurityConfig class that implements WebSecurityConfiguration.\r\nThe problem occurs when I try to call the super.configure() method, apparently it doesn&#39;t exist (it got deprecated??).\r\n\r\nso what should i do in this case? with what function should I replace it.\r\n\r\nHere is the SecurityConfig class :\r\n\r\n\r\n    package com.example.app.security;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    \r\n    \r\n    @Configuration @EnableWebSecurity @RequiredArgsConstructor\r\n    public class SecurityConfig extends WebSecurityConfiguration {\r\n        private final UserDetailsService userDetailsService;\r\n        private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception  {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n            super.configure(auth)\r\n        }}\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            super.configure(httpSecurity);\r\n        }\r\n\r\n\r\n","title":"can&#39;t find the configure() method in WebSecurityConfiguration","body":"<p>I'm trying to create a SecurityConfig class that implements WebSecurityConfiguration.\nThe problem occurs when I try to call the super.configure() method, apparently it doesn't exist (it got deprecated??).</p>\n<p>so what should i do in this case? with what function should I replace it.</p>\n<p>Here is the SecurityConfig class :</p>\n<pre><code>package com.example.app.security;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfiguration {\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception  {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n        super.configure(auth)\n    }}\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        super.configure(httpSecurity);\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-cdk"],"answers":[{"tags":[],"owner":{"account_id":1191703,"reputation":2854,"user_id":1263473,"accept_rate":46,"display_name":"Marco Massenzio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636272667,"creation_date":1636272667,"answer_id":69870747,"question_id":69870652,"body_markdown":"By trial and error (largely) I finally arrived at this:\r\n\r\n```\r\n        .instanceType(InstanceType.of(InstanceClass.MEMORY5, InstanceSize.LARGE))\r\n```\r\nwhich seems to work.\r\nSome help from [this page][1] - cross-correlating with the fact that, in the console, if one tries to add an instance, only `r5` are allowed in the drop-down.\r\n\r\nI just wish AWS had documented that enum a bit better.\r\n\r\n\r\n  [1]: https://aws.amazon.com/rds/instance-types/","title":"How to map from InstanceClass enum to actual AWS instance types","body":"<p>By trial and error (largely) I finally arrived at this:</p>\n<pre><code>        .instanceType(InstanceType.of(InstanceClass.MEMORY5, InstanceSize.LARGE))\n</code></pre>\n<p>which seems to work.\nSome help from <a href=\"https://aws.amazon.com/rds/instance-types/\" rel=\"nofollow noreferrer\">this page</a> - cross-correlating with the fact that, in the console, if one tries to add an instance, only <code>r5</code> are allowed in the drop-down.</p>\n<p>I just wish AWS had documented that enum a bit better.</p>\n"},{"tags":[],"owner":{"account_id":16568228,"reputation":215,"user_id":11972189,"display_name":"Žan Ožbot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645194080,"creation_date":1645194080,"answer_id":71175004,"question_id":69870652,"body_markdown":"For everyone else tackling the same problem, I created a gist [1] of all currently available enum keys (as of CDK v2.12.0) mapped to their corresponding instance types.\r\n\r\nKeep in mind that each instance type has a set of corresponding instance sizes [2].\r\n\r\n---\r\n\r\n[1]: https://gist.github.com/zanozbot/d4dc737dea855519c0805e8bfa9dc13b\r\n[2]: https://aws.amazon.com/ec2/instance-types/","title":"How to map from InstanceClass enum to actual AWS instance types","body":"<p>For everyone else tackling the same problem, I created a gist <a href=\"https://gist.github.com/zanozbot/d4dc737dea855519c0805e8bfa9dc13b\" rel=\"nofollow noreferrer\">1</a> of all currently available enum keys (as of CDK v2.12.0) mapped to their corresponding instance types.</p>\n<p>Keep in mind that each instance type has a set of corresponding instance sizes <a href=\"https://aws.amazon.com/ec2/instance-types/\" rel=\"nofollow noreferrer\">2</a>.</p>\n<hr />\n"}],"owner":{"account_id":1191703,"reputation":2854,"user_id":1263473,"accept_rate":46,"display_name":"Marco Massenzio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69870747,"answer_count":2,"score":0,"last_activity_date":1645194080,"creation_date":1636271665,"question_id":69870652,"body_markdown":"I am trying to deploy a DocumentDB instance using AWS CDK `docdb` package (Java) and I keep getting this error:\r\n\r\n```\r\nInvalid DB Instance class: db.d2.large (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request\r\nID: 41494b4b-d14f-46ff-b077-9ee73aad515f; Proxy: null)\r\n```\r\n\r\nI know that, for example, an `r5.large` would work, but I cannot find a way to map from the `InstanceType` enum values (`STANDARDx`, `STORAGE2`, etc.) to the actual AWS Instance type; it does not appear to be documented anywhere, and the example (in TypeScript) use happily something like `instanceType: &#39;r5.large&#39;` and move on.\r\n\r\nThis is my code, for completeness:\r\n\r\n```\r\n    DatabaseCluster dbCluster = DatabaseCluster.Builder.create(scope, &quot;ApiDocDb&quot;)\r\n        .dbClusterName(dataProps.getTableName())\r\n        .masterUser(Login.builder()\r\n            .username(masterUsername)\r\n            .password(SecretValue.plainText(masterPwd))\r\n            .build())\r\n        .instanceType(InstanceType.of(InstanceClass.STORAGE2, InstanceSize.LARGE))\r\n        .vpc(Vpc.Builder.create(scope, &quot;DocDB-VPC&quot;)\r\n            .cidr(&quot;10.2.0.0/16&quot;)\r\n            .build())\r\n        .vpcSubnets(SubnetSelection.builder().subnetType(SubnetType.PUBLIC).build())\r\n        .build();\r\n```","title":"How to map from InstanceClass enum to actual AWS instance types","body":"<p>I am trying to deploy a DocumentDB instance using AWS CDK <code>docdb</code> package (Java) and I keep getting this error:</p>\n<pre><code>Invalid DB Instance class: db.d2.large (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request\nID: 41494b4b-d14f-46ff-b077-9ee73aad515f; Proxy: null)\n</code></pre>\n<p>I know that, for example, an <code>r5.large</code> would work, but I cannot find a way to map from the <code>InstanceType</code> enum values (<code>STANDARDx</code>, <code>STORAGE2</code>, etc.) to the actual AWS Instance type; it does not appear to be documented anywhere, and the example (in TypeScript) use happily something like <code>instanceType: 'r5.large'</code> and move on.</p>\n<p>This is my code, for completeness:</p>\n<pre><code>    DatabaseCluster dbCluster = DatabaseCluster.Builder.create(scope, &quot;ApiDocDb&quot;)\n        .dbClusterName(dataProps.getTableName())\n        .masterUser(Login.builder()\n            .username(masterUsername)\n            .password(SecretValue.plainText(masterPwd))\n            .build())\n        .instanceType(InstanceType.of(InstanceClass.STORAGE2, InstanceSize.LARGE))\n        .vpc(Vpc.Builder.create(scope, &quot;DocDB-VPC&quot;)\n            .cidr(&quot;10.2.0.0/16&quot;)\n            .build())\n        .vpcSubnets(SubnetSelection.builder().subnetType(SubnetType.PUBLIC).build())\n        .build();\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1645193782,"post_id":71174237,"comment_id":125813003,"body_markdown":"(0,0) is bottom left, but some pages may be rotated, or there may be a page crop box that is smaller than the page media box. Maybe share the problem PDF files.","body":"(0,0) is bottom left, but some pages may be rotated, or there may be a page crop box that is smaller than the page media box. Maybe share the problem PDF files."},{"owner":{"account_id":16434442,"reputation":21,"user_id":11872376,"display_name":"Darshan"},"score":0,"creation_date":1645419512,"post_id":71174237,"comment_id":125857781,"body_markdown":"Hi tilman, thanks for your reply..\n\nAs per your suggestion, I&#39;ve executed method page.setRotation(); and it returns 90. So it seems like page is rotated, So please help me further on this.","body":"Hi tilman, thanks for your reply..  As per your suggestion, I&#39;ve executed method page.setRotation(); and it returns 90. So it seems like page is rotated, So please help me further on this."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645433625,"post_id":71174237,"comment_id":125861240,"body_markdown":"You could try the `setNoRotate()` flag on the PDAnnotation object. However PDFBox itself won&#39;t handle this correctly in rendering.","body":"You could try the <code>setNoRotate()</code> flag on the PDAnnotation object. However PDFBox itself won&#39;t handle this correctly in rendering."}],"owner":{"account_id":16434442,"reputation":21,"user_id":11872376,"display_name":"Darshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645194021,"creation_date":1645190731,"question_id":71174237,"body_markdown":"Using below code when we add Stamp Annotation on PDF page, it will add that stamp at random location for some files.\r\n\r\n    BufferedImage bufferedImage = getImage();\r\n\tPDImageXObject image = JPEGFactory.createFromImage(pdDocument, bufferedImage)\r\n\tPDAnnotationRubberStamp rubberStamp = new PDAnnotationRubberStamp();\r\n\trubberStamp.setRectangle(new PDRectangle(x, y,\twidth, height));\r\n    rubberStamp.setName(Name);\r\n    PDFormXObject form = new PDFormXObject(pdDocument);\r\n    form.setMatrix(AffineTransform.getRotateInstance(Math.toRadians(rotation)));\r\n    form.setBBox(new PDRectangle(x, y,\twidth, height));\r\n    form.setResources(new PDResources());\r\n    PDAppearanceStream myDic = new PDAppearanceStream(form.getCOSObject());\r\n    PDPageContentStream pageContentStream = new PDPageContentStream(pdDocument, myDic);\r\n    pageContentStream.drawImage(image, x, y, width, height);\r\n    pageContentStream.close();\r\n    PDAppearanceDictionary appearance = new PDAppearanceDictionary(new COSDictionary());\r\n    appearance.setNormalAppearance(myDic);\r\n    rubberStamp.setAppearance(appearance);\r\n    annotations.add(rubberStamp);\r\n\r\nFor example, for some files x coordinate 0.0 considers right side of page and for some files it will be bottom.\r\n\r\n\r\n","title":"Stamp Annotation added at wrong place","body":"<p>Using below code when we add Stamp Annotation on PDF page, it will add that stamp at random location for some files.</p>\n<pre><code>BufferedImage bufferedImage = getImage();\nPDImageXObject image = JPEGFactory.createFromImage(pdDocument, bufferedImage)\nPDAnnotationRubberStamp rubberStamp = new PDAnnotationRubberStamp();\nrubberStamp.setRectangle(new PDRectangle(x, y,  width, height));\nrubberStamp.setName(Name);\nPDFormXObject form = new PDFormXObject(pdDocument);\nform.setMatrix(AffineTransform.getRotateInstance(Math.toRadians(rotation)));\nform.setBBox(new PDRectangle(x, y,  width, height));\nform.setResources(new PDResources());\nPDAppearanceStream myDic = new PDAppearanceStream(form.getCOSObject());\nPDPageContentStream pageContentStream = new PDPageContentStream(pdDocument, myDic);\npageContentStream.drawImage(image, x, y, width, height);\npageContentStream.close();\nPDAppearanceDictionary appearance = new PDAppearanceDictionary(new COSDictionary());\nappearance.setNormalAppearance(myDic);\nrubberStamp.setAppearance(appearance);\nannotations.add(rubberStamp);\n</code></pre>\n<p>For example, for some files x coordinate 0.0 considers right side of page and for some files it will be bottom.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1645132907,"post_id":71165437,"comment_id":125796966,"body_markdown":"Are you asking how to get rid of the compile error on line 16, or how to do the calculation to make the age correct?","body":"Are you asking how to get rid of the compile error on line 16, or how to do the calculation to make the age correct?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1645132995,"post_id":71165437,"comment_id":125797000,"body_markdown":"Question is incomplete: What&#39;s `setAge`? Paste that code. What are you asking? Note that your age calculation is broken, _AND_ you have a remarked-out line which also seems broken / you are mixing field access and setters/getters which, if that is not an outright compiler error, is rather bizarre class design. Question can&#39;t be answered without a lot more detail.","body":"Question is incomplete: What&#39;s <code>setAge</code>? Paste that code. What are you asking? Note that your age calculation is broken, <i>AND</i> you have a remarked-out line which also seems broken / you are mixing field access and setters/getters which, if that is not an outright compiler error, is rather bizarre class design. Question can&#39;t be answered without a lot more detail."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1645133086,"post_id":71165437,"comment_id":125797035,"body_markdown":"@rzwitserloot I think it&#39;s clear what&#39;s in the `User` class - there&#39;ll be getters and setters for name, birthDate and age.  We don&#39;t need to see those.  And if Gustavo tried to paste them in, he might reach the problem where Stack Overflow forbids a question with too much code and not enough text.","body":"@rzwitserloot I think it&#39;s clear what&#39;s in the <code>User</code> class - there&#39;ll be getters and setters for name, birthDate and age.  We don&#39;t need to see those.  And if Gustavo tried to paste them in, he might reach the problem where Stack Overflow forbids a question with too much code and not enough text."},{"owner":{"account_id":24267344,"reputation":13,"user_id":18237150,"display_name":"Gustavo Santos"},"score":0,"creation_date":1645134418,"post_id":71165437,"comment_id":125797451,"body_markdown":"@DawoodibnKareem your right, its getters and setters, like any project. Feel free to make the age correct, i thought i was on a way, but its seems i did the code completely wrong","body":"@DawoodibnKareem your right, its getters and setters, like any project. Feel free to make the age correct, i thought i was on a way, but its seems i did the code completely wrong"},{"owner":{"account_id":24267344,"reputation":13,"user_id":18237150,"display_name":"Gustavo Santos"},"score":0,"creation_date":1645134495,"post_id":71165437,"comment_id":125797479,"body_markdown":"i thought i could get the age with just localdate, i have to make some method?","body":"i thought i could get the age with just localdate, i have to make some method?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1645136759,"post_id":71165437,"comment_id":125798163,"body_markdown":"Given that it&#39;s evidently about a compiler error, it&#39;s specifically relevant to this question.","body":"Given that it&#39;s evidently about a compiler error, it&#39;s specifically relevant to this question."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645194007,"creation_date":1645136409,"answer_id":71166090,"question_id":71165437,"body_markdown":"The compiling error in this line:\r\n```\r\nperson1.setAge(LocalDate.now().getYear() - birthdateUser.getYear());\r\n```\r\nis due to the fact that `birthdateUser.getYear()` didn&#39;t use the `Person` object `person1` to invoke the method. That should&#39;ve been\r\n```\r\nperson1.setAge(LocalDate.now().getYear() - person1.getBirthdateUser().getYear());\r\n```\r\n\r\nThat said, in my opinion, setting `age` on the object is not necessary. It is better to pass the birth date and have the object calculate the age based on this piece of data. So, my solution for this (using Java record) is as follows:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n    \tString name = &quot;Mike&quot;;\r\n    \tLocalDate birthdate = LocalDate.of(1970, 5, 17);\r\n        User person1 = new User(name, birthdate);\r\n        System.out.println(person1.name() + &quot;, born in &quot; + person1.birthdate + &quot;, is &quot; +  person1.age() + &quot; years old&quot;);\r\n    }\r\n    \r\n    private static record User (String name, LocalDate birthdate) {\r\n    \t\r\n    \tpublic long age() {\r\n            return ChronoUnit.YEARS.between(birthdate, LocalDate.now());\r\n    \t}\r\n    }\r\n}\r\n```\r\nThis outputs:\r\n```\r\nMike, born in 1970-05-17, is 51 years old\r\n```\r\nNotice how, even though I am using a record, I can still create a custom method that returns the age based on the birth date passed to the object being invoked. This is actually pretty cool because, even though the age changes, because I am not storing it, it doesn&#39;t violate the constraint of the object being &quot;immutable&quot; because age is not a field in the record. It is a calculated value. This makes this object inherently thread safe (not totally).\r\n\r\n**UPDATE**: A slightly better version with more utility methods.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n    \tString name = &quot;Mike&quot;;\r\n    \tLocalDate birthdate = LocalDate.of(1970, 5, 17);\r\n        User person1 = new User(name, birthdate);\r\n        System.out.println(person1.toString());\r\n        System.out.println(person1.name() + &quot; was born on a &quot; + person1.getDayBornOn());\r\n    }\r\n    \r\n    private static record User (String name, LocalDate birthdate) {\r\n    \t\r\n    \tpublic long age() {\r\n            return ChronoUnit.YEARS.between(birthdate, LocalDate.now());\r\n    \t}\r\n    \t\r\n    \tpublic int getBirthYear() {\r\n    \t\treturn birthdate.getYear();\r\n    \t}\r\n    \t\r\n    \tpublic String getBirthdateMonth() {\r\n    \t\treturn capitalizeFirstLetter(birthdate.getMonth().toString());\r\n    \t}\r\n    \t\r\n    \tpublic String getBirthday() {\r\n    \t\treturn getBirthdateMonth() + &quot; &quot; + birthdate.getDayOfMonth();\r\n    \t}\r\n    \t\r\n    \tpublic String getDateOfBirth() {\r\n    \t\treturn getBirthday() + &quot;, &quot; + getBirthYear();\r\n    \t}\r\n    \t\r\n    \tpublic String getDayBornOn() {\r\n    \t\t\r\n    \t\treturn capitalizeFirstLetter(birthdate.getDayOfWeek().name());\r\n    \t}\r\n    \t\r\n    \tprivate String capitalizeFirstLetter(String string) {\r\n    \t\tstring = string.toLowerCase();\r\n    \t\tString upperLetter = String.valueOf(string.charAt(0)).toUpperCase();\r\n    \t\treturn upperLetter + string.substring(1);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn this.name() + &quot;, born in &quot; + this.getDateOfBirth() + &quot;, is &quot; +  this.age() + &quot; years old&quot;;\r\n    \t}\r\n    }\r\n}\r\n```\r\nNow this outputs:\r\n```\r\nMike, born in May 17, 1970, is 51 years old\r\nMike was born on a Sunday\r\n```","title":"how to get age with localdate by instantiate","body":"<p>The compiling error in this line:</p>\n<pre><code>person1.setAge(LocalDate.now().getYear() - birthdateUser.getYear());\n</code></pre>\n<p>is due to the fact that <code>birthdateUser.getYear()</code> didn't use the <code>Person</code> object <code>person1</code> to invoke the method. That should've been</p>\n<pre><code>person1.setAge(LocalDate.now().getYear() - person1.getBirthdateUser().getYear());\n</code></pre>\n<p>That said, in my opinion, setting <code>age</code> on the object is not necessary. It is better to pass the birth date and have the object calculate the age based on this piece of data. So, my solution for this (using Java record) is as follows:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String name = &quot;Mike&quot;;\n        LocalDate birthdate = LocalDate.of(1970, 5, 17);\n        User person1 = new User(name, birthdate);\n        System.out.println(person1.name() + &quot;, born in &quot; + person1.birthdate + &quot;, is &quot; +  person1.age() + &quot; years old&quot;);\n    }\n    \n    private static record User (String name, LocalDate birthdate) {\n        \n        public long age() {\n            return ChronoUnit.YEARS.between(birthdate, LocalDate.now());\n        }\n    }\n}\n</code></pre>\n<p>This outputs:</p>\n<pre><code>Mike, born in 1970-05-17, is 51 years old\n</code></pre>\n<p>Notice how, even though I am using a record, I can still create a custom method that returns the age based on the birth date passed to the object being invoked. This is actually pretty cool because, even though the age changes, because I am not storing it, it doesn't violate the constraint of the object being &quot;immutable&quot; because age is not a field in the record. It is a calculated value. This makes this object inherently thread safe (not totally).</p>\n<p><strong>UPDATE</strong>: A slightly better version with more utility methods.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String name = &quot;Mike&quot;;\n        LocalDate birthdate = LocalDate.of(1970, 5, 17);\n        User person1 = new User(name, birthdate);\n        System.out.println(person1.toString());\n        System.out.println(person1.name() + &quot; was born on a &quot; + person1.getDayBornOn());\n    }\n    \n    private static record User (String name, LocalDate birthdate) {\n        \n        public long age() {\n            return ChronoUnit.YEARS.between(birthdate, LocalDate.now());\n        }\n        \n        public int getBirthYear() {\n            return birthdate.getYear();\n        }\n        \n        public String getBirthdateMonth() {\n            return capitalizeFirstLetter(birthdate.getMonth().toString());\n        }\n        \n        public String getBirthday() {\n            return getBirthdateMonth() + &quot; &quot; + birthdate.getDayOfMonth();\n        }\n        \n        public String getDateOfBirth() {\n            return getBirthday() + &quot;, &quot; + getBirthYear();\n        }\n        \n        public String getDayBornOn() {\n            \n            return capitalizeFirstLetter(birthdate.getDayOfWeek().name());\n        }\n        \n        private String capitalizeFirstLetter(String string) {\n            string = string.toLowerCase();\n            String upperLetter = String.valueOf(string.charAt(0)).toUpperCase();\n            return upperLetter + string.substring(1);\n        }\n        \n        @Override\n        public String toString() {\n            return this.name() + &quot;, born in &quot; + this.getDateOfBirth() + &quot;, is &quot; +  this.age() + &quot; years old&quot;;\n        }\n    }\n}\n</code></pre>\n<p>Now this outputs:</p>\n<pre><code>Mike, born in May 17, 1970, is 51 years old\nMike was born on a Sunday\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7357208,"reputation":56,"user_id":5601565,"display_name":"ruggierin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645137484,"creation_date":1645137484,"answer_id":71166276,"question_id":71165437,"body_markdown":"This works:\r\n\r\n        public static void main(String[] args) {\r\n                \r\n        LocalDate birthDate = LocalDate.of(1970, 5, 17);\r\n        LocalDate currentDate = LocalDate.now();\r\n        int age = Period.between(birthDate, currentDate).getYears();\r\n\r\n        System.out.println(&quot;Age is: &quot; + age);\r\n       }","title":"how to get age with localdate by instantiate","body":"<p>This works:</p>\n<pre><code>    public static void main(String[] args) {\n            \n    LocalDate birthDate = LocalDate.of(1970, 5, 17);\n    LocalDate currentDate = LocalDate.now();\n    int age = Period.between(birthDate, currentDate).getYears();\n\n    System.out.println(&quot;Age is: &quot; + age);\n   }\n</code></pre>\n"}],"owner":{"account_id":24267344,"reputation":13,"user_id":18237150,"display_name":"Gustavo Santos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1645137855,"accepted_answer_id":71166090,"answer_count":2,"score":0,"last_activity_date":1645194007,"creation_date":1645132492,"question_id":71165437,"body_markdown":"How can I got the age with localdate  using the set of the instantiate, i ve try using localdate with set age and it doesnt work. ive tried to put the age as an LocalDate instead of an Int, but it doesnt work too, im a new programmer, i hope you guys could help me solve this.Its a compile error\r\n\r\n      package main;\r\n        import Usuarios.User;\r\n        import java.time.LocalDate;\r\n        /**\r\n         *\r\n         * @author Gustavo\r\n         */\r\n        public class Main {\r\n            \r\n            public static void main(String[] args) {\r\n        \r\n        \r\n                User person1 = new User();\r\n                person1.setName(&quot;Mike&quot;);\r\n                person1.setbirthdateUser(LocalDate.of(1970, 5, 17));\r\n                person1.setAge(LocalDate.now().getYear() - birthdateUser.getYear());\r\n        \r\n                /*person1.age = LocalDate.now().getYear() - person1.birthdateUser.getYear();*/\r\n        \r\n                System.out.println(person1.getName() + &quot; has &quot; +  person1.getAge() + &quot; years old&quot;);\r\n\r\n----------------------------------------------------------------------------------------\r\n\r\n","title":"how to get age with localdate by instantiate","body":"<p>How can I got the age with localdate  using the set of the instantiate, i ve try using localdate with set age and it doesnt work. ive tried to put the age as an LocalDate instead of an Int, but it doesnt work too, im a new programmer, i hope you guys could help me solve this.Its a compile error</p>\n<pre><code>  package main;\n    import Usuarios.User;\n    import java.time.LocalDate;\n    /**\n     *\n     * @author Gustavo\n     */\n    public class Main {\n        \n        public static void main(String[] args) {\n    \n    \n            User person1 = new User();\n            person1.setName(&quot;Mike&quot;);\n            person1.setbirthdateUser(LocalDate.of(1970, 5, 17));\n            person1.setAge(LocalDate.now().getYear() - birthdateUser.getYear());\n    \n            /*person1.age = LocalDate.now().getYear() - person1.birthdateUser.getYear();*/\n    \n            System.out.println(person1.getName() + &quot; has &quot; +  person1.getAge() + &quot; years old&quot;);\n</code></pre>\n<hr />\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":21827317,"reputation":11,"user_id":16122625,"display_name":"RAYAISSE Patrick"},"score":0,"creation_date":1645193600,"post_id":71173873,"comment_id":125812931,"body_markdown":"The link you have given doesn&#39;t contain the solution of my problem","body":"The link you have given doesn&#39;t contain the solution of my problem"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645193963,"post_id":71173873,"comment_id":125813069,"body_markdown":"It does answer your question, you are adding `clientaccountinfo` over and over again to the list, while you are overwriting its client, orange and mobiChas on each iteration, so the last update &quot;wins&quot;. You will need to create a new `clientaccountinfo` (whatever it is) in each iteration.","body":"It does answer your question, you are adding <code>clientaccountinfo</code> over and over again to the list, while you are overwriting its client, orange and mobiChas on each iteration, so the last update &quot;wins&quot;. You will need to create a new <code>clientaccountinfo</code> (whatever it is) in each iteration."}],"owner":{"account_id":21827317,"reputation":11,"user_id":16122625,"display_name":"RAYAISSE Patrick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645189325,"answer_count":0,"score":0,"last_activity_date":1645193497,"creation_date":1645189084,"question_id":71173873,"body_markdown":" I&#39;ve implemented my code so that it returns a response object New Response(Boolean Type,String Type, List&lt;Object&gt; clientsinfo = new ArrayList&lt;&gt;() ) . But the response only returns me the last row added &quot;the number of iterations times&quot; in my ArrayList() objects . I don&#39;t understand why . I&#39;m trying to add objects taken from my database through a while loop in a while loop but it only adds the last row .I don&#39;t understand why and i need some help please. This is the code below :\r\n\r\n\r\n\r\n\r\n \r\n\r\n   \r\n\r\n     public Response all_clients_with_accounts() throws SQLException\r\n             {\r\n               List&lt;Object&gt; clientinfos = new ArrayList&lt;Object&gt;();\r\n                 String sql1= &quot;select * from client&quot; ;//Clients info\r\n                 String sql2=&quot;select * from datatab1 where clientId =? &quot;;\r\n                 String sql3=&quot;select * from datatab2 where clientId = ?&quot;;\r\n               \r\n                 try \r\n                 {\r\n                     Statement st1= con.createStatement();\r\n                     ResultSet sqlrs1 = st1.executeQuery(sql1);\r\n                     PreparedStatement pstmt2 = con.prepareStatement(sql2);\r\n                     PreparedStatement pstmt3 = con.prepareStatement(sql3);\r\n                     while(sqlrs1.next())\r\n                     {\r\n                         \r\n                        \r\n                         Client client = new Client ();\r\n                       client.setId(sqlrs1.getInt(1));\r\n                       client.setNom(sqlrs1.getString(2));\r\n                       client.setPrenom(sqlrs1.getString(3));\r\n                       client.setCnib(sqlrs1.getString(4));\r\n                       client.setContact(sqlrs1.getString(5));\r\n                       client.setProfession(sqlrs1.getString(6));\r\n                       client.setVille(sqlrs1.getString(7));\r\n                       client.setRole(sqlrs1.getString(8));\r\n                       client.setAgentCode(sqlrs1.getString(9));\r\n                       client.setDate(sqlrs1.getString(10));\r\n                       client.setBirthday(sqlrs1.getString(11));\r\n                       \r\n                       clientaccountinfo.setClient(client);\r\n                     \r\n                      \r\n                     \r\n                      pstmt2.setInt(1,client.getId());\r\n                      ResultSet rs2 = pstmt2.executeQuery();\r\n                      \r\n                       if(rs2.next())\r\n                       {\r\n                           Accountclass accountclass = new Accountclass();\r\n                           accountclass.setTransactionId(rs2.getInt(1));\r\n                           accountclass.setClientId(rs2.getInt(2));\r\n                           accountclass.setWallet(rs2.getString(3));\r\n                           accountclass.setSolde(rs2.getDouble(4));\r\n                           accountclass.setDebit(rs2.getDouble(5));\r\n                           accountclass.setCredit(rs2.getDouble(6));\r\n                           \r\n                           clientaccountinfo.setOrange(accountclass);\r\n                           \r\n                       }\r\n                       \r\n                       \r\n                      \r\n                     \r\n                      pstmt3.setInt(1,client.getId());\r\n                      ResultSet rs3 = pstmt3.executeQuery();\r\n                      \r\n                       if(rs3.next())\r\n                       {\r\n                           Accountclass accountclass = new Accountclass();\r\n                           accountclass.setTransactionId(rs3.getInt(1));\r\n                           accountclass.setClientId(rs3.getInt(2));\r\n                           accountclass.setWallet(rs3.getString(3));\r\n                           accountclass.setSolde(rs3.getDouble(4));\r\n                           accountclass.setDebit(rs3.getDouble(5));\r\n                           accountclass.setCredit(rs3.getDouble(6));\r\n                          \r\n                           \r\n                           clientaccountinfo.setMobicash(accountclass);\r\n                           \r\n                           \r\n                           \r\n                       }\r\n                      \r\n                      \r\n                        clientinfos.add(clientaccountinfo);\r\n                      \r\n                     \r\n                     }\r\n                   \r\n                      \r\n                    return new Response(true,&quot;Informations about client&quot;,clientinfos);\r\n                     \r\n                 }\r\n                 catch (Exception e)\r\n                 {\r\n                     e.printStackTrace();\r\n                   return new Response(false,&quot;Error&quot;, null);\r\n                     \r\n                 }\r\n                 finally\r\n                 {\r\n                     con.close();\r\n                 }\r\n\r\n","title":"I don&#39;t understand why my (slqrs1.next()) is returning the last row data","body":"<p>I've implemented my code so that it returns a response object New Response(Boolean Type,String Type, List clientsinfo = new ArrayList&lt;&gt;() ) . But the response only returns me the last row added &quot;the number of iterations times&quot; in my ArrayList() objects . I don't understand why . I'm trying to add objects taken from my database through a while loop in a while loop but it only adds the last row .I don't understand why and i need some help please. This is the code below :</p>\n<pre><code> public Response all_clients_with_accounts() throws SQLException\n         {\n           List&lt;Object&gt; clientinfos = new ArrayList&lt;Object&gt;();\n             String sql1= &quot;select * from client&quot; ;//Clients info\n             String sql2=&quot;select * from datatab1 where clientId =? &quot;;\n             String sql3=&quot;select * from datatab2 where clientId = ?&quot;;\n           \n             try \n             {\n                 Statement st1= con.createStatement();\n                 ResultSet sqlrs1 = st1.executeQuery(sql1);\n                 PreparedStatement pstmt2 = con.prepareStatement(sql2);\n                 PreparedStatement pstmt3 = con.prepareStatement(sql3);\n                 while(sqlrs1.next())\n                 {\n                     \n                    \n                     Client client = new Client ();\n                   client.setId(sqlrs1.getInt(1));\n                   client.setNom(sqlrs1.getString(2));\n                   client.setPrenom(sqlrs1.getString(3));\n                   client.setCnib(sqlrs1.getString(4));\n                   client.setContact(sqlrs1.getString(5));\n                   client.setProfession(sqlrs1.getString(6));\n                   client.setVille(sqlrs1.getString(7));\n                   client.setRole(sqlrs1.getString(8));\n                   client.setAgentCode(sqlrs1.getString(9));\n                   client.setDate(sqlrs1.getString(10));\n                   client.setBirthday(sqlrs1.getString(11));\n                   \n                   clientaccountinfo.setClient(client);\n                 \n                  \n                 \n                  pstmt2.setInt(1,client.getId());\n                  ResultSet rs2 = pstmt2.executeQuery();\n                  \n                   if(rs2.next())\n                   {\n                       Accountclass accountclass = new Accountclass();\n                       accountclass.setTransactionId(rs2.getInt(1));\n                       accountclass.setClientId(rs2.getInt(2));\n                       accountclass.setWallet(rs2.getString(3));\n                       accountclass.setSolde(rs2.getDouble(4));\n                       accountclass.setDebit(rs2.getDouble(5));\n                       accountclass.setCredit(rs2.getDouble(6));\n                       \n                       clientaccountinfo.setOrange(accountclass);\n                       \n                   }\n                   \n                   \n                  \n                 \n                  pstmt3.setInt(1,client.getId());\n                  ResultSet rs3 = pstmt3.executeQuery();\n                  \n                   if(rs3.next())\n                   {\n                       Accountclass accountclass = new Accountclass();\n                       accountclass.setTransactionId(rs3.getInt(1));\n                       accountclass.setClientId(rs3.getInt(2));\n                       accountclass.setWallet(rs3.getString(3));\n                       accountclass.setSolde(rs3.getDouble(4));\n                       accountclass.setDebit(rs3.getDouble(5));\n                       accountclass.setCredit(rs3.getDouble(6));\n                      \n                       \n                       clientaccountinfo.setMobicash(accountclass);\n                       \n                       \n                       \n                   }\n                  \n                  \n                    clientinfos.add(clientaccountinfo);\n                  \n                 \n                 }\n               \n                  \n                return new Response(true,&quot;Informations about client&quot;,clientinfos);\n                 \n             }\n             catch (Exception e)\n             {\n                 e.printStackTrace();\n               return new Response(false,&quot;Error&quot;, null);\n                 \n             }\n             finally\n             {\n                 con.close();\n             }\n</code></pre>\n"},{"tags":["java","iterator","implementation","treemap","iterable"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1645192599,"post_id":71174481,"comment_id":125812503,"body_markdown":"I&#39;m guessing that you aren&#39;t adding any values to `allNodes`. Maybe try to post a [mcve] even if it is code that does not compile. I may be able to fix it.","body":"I&#39;m guessing that you aren&#39;t adding any values to <code>allNodes</code>. Maybe try to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> even if it is code that does not compile. I may be able to fix it."},{"owner":{"account_id":24300059,"reputation":1,"user_id":18243686,"display_name":"coffeemouse"},"score":0,"creation_date":1645193677,"post_id":71174481,"comment_id":125812969,"body_markdown":"@Abra The actual adding of values is done by a bit complex code that was provided by the teacher, so the values should be added","body":"@Abra The actual adding of values is done by a bit complex code that was provided by the teacher, so the values should be added"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645194152,"post_id":71174481,"comment_id":125813153,"body_markdown":"I can&#39;t help you debug your code just by looking at a few lines of it. I need something I can actually run and debug. Besides, `NoSuchElementException` is a runtime exception which implies that your code does compile. So are you getting an exception when you run your code or does your code not compile? Is `Node` also a class that your teacher wrote?","body":"I can&#39;t help you debug your code just by looking at a few lines of it. I need something I can actually run and debug. Besides, <code>NoSuchElementException</code> is a runtime exception which implies that your code does compile. So are you getting an exception when you run your code or does your code not compile? Is <code>Node</code> also a class that your teacher wrote?"},{"owner":{"account_id":24300059,"reputation":1,"user_id":18243686,"display_name":"coffeemouse"},"score":0,"creation_date":1645194995,"post_id":71174481,"comment_id":125813462,"body_markdown":"@Abra my mistake, it does compile and the error happens when running the code. And yes it is. I just made sure that the values are actually added to the map and they are, and managed to print the first name in the map before the program crashed to the same error. Apparently the line &quot;key = keyIterator.next();&quot; is an issue","body":"@Abra my mistake, it does compile and the error happens when running the code. And yes it is. I just made sure that the values are actually added to the map and they are, and managed to print the first name in the map before the program crashed to the same error. Apparently the line &quot;key = keyIterator.next();&quot; is an issue"}],"owner":{"account_id":24300059,"reputation":1,"user_id":18243686,"display_name":"coffeemouse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645191807,"creation_date":1645191807,"question_id":71174481,"body_markdown":"I have an assignment where I have a TreeMap&lt;String,Node&gt; and I have to implement the Iterable and Iterator interfaces to support a for-loop printing all the String-keys of the map. Java and interfaces are completely new to me, and all our examples were about linked lists.\r\n\r\nThe issue seems to be in my next() function, and my code won&#39;t even compile because of a\r\nNoSuchElementException. What&#39;s wrong with the implementation? Below are the relevant parts of my code.\r\n\r\n```\r\npublic class OwnNode extends Node implements Iterable&lt;String&gt; {\r\n\r\n    private TreeMap&lt;String,Node&gt; allNodes;\r\n\r\n    @Override\r\n    public Iterator&lt;String&gt; iterator() {\r\n        return new MapIterator();\r\n    }\r\n\r\n    private class MapIterator implements Iterator&lt;String&gt; {\r\n\r\n        Set&lt;String&gt; keys = allNodes.keySet();\r\n        Iterator&lt;String&gt; keyIterator = keys.iterator();\r\n        String key = keyIterator.next();\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n          return key != null\r\n        }\r\n        \r\n        @Override\r\n        public String next() {\r\n          if( key == null) {\r\n            throw new NoSuchElementException(&quot;No more values!&quot;);\r\n          }\r\n          var name = key;\r\n          key = keyIterator.next();\r\n          return name;\r\n        }\r\n    }\r\n}\r\n","title":"Implementing the Iterable and Iterator interfaces for TreeMap in Java","body":"<p>I have an assignment where I have a TreeMap&lt;String,Node&gt; and I have to implement the Iterable and Iterator interfaces to support a for-loop printing all the String-keys of the map. Java and interfaces are completely new to me, and all our examples were about linked lists.</p>\n<p>The issue seems to be in my next() function, and my code won't even compile because of a\nNoSuchElementException. What's wrong with the implementation? Below are the relevant parts of my code.</p>\n<pre><code>public class OwnNode extends Node implements Iterable&lt;String&gt; {\n\n    private TreeMap&lt;String,Node&gt; allNodes;\n\n    @Override\n    public Iterator&lt;String&gt; iterator() {\n        return new MapIterator();\n    }\n\n    private class MapIterator implements Iterator&lt;String&gt; {\n\n        Set&lt;String&gt; keys = allNodes.keySet();\n        Iterator&lt;String&gt; keyIterator = keys.iterator();\n        String key = keyIterator.next();\n\n        @Override\n        public boolean hasNext() {\n          return key != null\n        }\n        \n        @Override\n        public String next() {\n          if( key == null) {\n            throw new NoSuchElementException(&quot;No more values!&quot;);\n          }\n          var name = key;\n          key = keyIterator.next();\n          return name;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":5310120,"reputation":11,"user_id":4236766,"display_name":"PaMaly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645191772,"creation_date":1645191772,"answer_id":71174473,"question_id":71142846,"body_markdown":"Hey I have just resolved it. Member is JPQL keyword of course :/ ","title":"Panache Entity - QuerySyntaxException unexpected token in panache entity during projection to DTO","body":"<p>Hey I have just resolved it. Member is JPQL keyword of course :/</p>\n"}],"owner":{"account_id":5310120,"reputation":11,"user_id":4236766,"display_name":"PaMaly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71174473,"answer_count":1,"score":0,"last_activity_date":1645191772,"creation_date":1645018525,"question_id":71142846,"body_markdown":"I m trying to make a projection of my entities in Quarkus, but i m always getting an error `QuerySyntaxException: unexpected token:member`\r\n\r\nHere is the Model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;key_performance_indicator&quot;)\r\n    public class KeyPerformanceIndicator extends PanacheEntity {\r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name = &quot;fk_member&quot;)\r\n        public Member member;\r\n    \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name = &quot;fk_execution&quot;)\r\n        public KpiValuationExecution kpiValuationExecution;\r\n    }\r\n\r\n\r\nThe DTO:\r\n\r\n    public class KpiResourceDTO {\r\n    \r\n    private KpiIdentifier identifier;\r\n    private LocalDate timestamp;\r\n    private Double value;\r\n    private Set&lt;MetricDTO&gt; metrics;\r\n    \r\n    \r\n    public KpiResourceDTO(KpiIdentifier identifier,  Double value) {\r\n        this.identifier = identifier;\r\n        this.value = value;\r\n    }\r\n    //getters,setters \r\n    }\r\n\r\n\r\nAnd the projection code:\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;execution&quot;, execution);\r\n    params.put(&quot;user&quot;, member);\r\n    KeyPerformanceIndicator.find(&quot;member=:user and kpiValuationExecution=:execution&quot;,params).project(KpiResourceDTO.class).list();\r\n\r\nAfter the execution of the projection on the last line i m getting the following error:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: member near line 1, column 168 [SELECT new sk.KpiResourceDTO (identifier, value) FROM sk.KeyPerformanceIndicator WHERE member = ?1]\r\n\r\nI have checked whether there is a NULL value within the mentioned entity. Tried different approaches to put the arguments for find method based on the documentation of [quarkus](https://quarkus.io/guides/hibernate-orm-panache#query-parameters) version: \r\n\r\nBut without any sucess.\r\n\r\nCan you please suggest me any steps to resolve it? \r\nThanks!\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Panache Entity - QuerySyntaxException unexpected token in panache entity during projection to DTO","body":"<p>I m trying to make a projection of my entities in Quarkus, but i m always getting an error <code>QuerySyntaxException: unexpected token:member</code></p>\n<p>Here is the Model:</p>\n<pre><code>@Entity\n@Table(name = &quot;key_performance_indicator&quot;)\npublic class KeyPerformanceIndicator extends PanacheEntity {\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_member&quot;)\n    public Member member;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_execution&quot;)\n    public KpiValuationExecution kpiValuationExecution;\n}\n</code></pre>\n<p>The DTO:</p>\n<pre><code>public class KpiResourceDTO {\n\nprivate KpiIdentifier identifier;\nprivate LocalDate timestamp;\nprivate Double value;\nprivate Set&lt;MetricDTO&gt; metrics;\n\n\npublic KpiResourceDTO(KpiIdentifier identifier,  Double value) {\n    this.identifier = identifier;\n    this.value = value;\n}\n//getters,setters \n}\n</code></pre>\n<p>And the projection code:</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;execution&quot;, execution);\nparams.put(&quot;user&quot;, member);\nKeyPerformanceIndicator.find(&quot;member=:user and kpiValuationExecution=:execution&quot;,params).project(KpiResourceDTO.class).list();\n</code></pre>\n<p>After the execution of the projection on the last line i m getting the following error:</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: member near line 1, column 168 [SELECT new sk.KpiResourceDTO (identifier, value) FROM sk.KeyPerformanceIndicator WHERE member = ?1]\n</code></pre>\n<p>I have checked whether there is a NULL value within the mentioned entity. Tried different approaches to put the arguments for find method based on the documentation of <a href=\"https://quarkus.io/guides/hibernate-orm-panache#query-parameters\" rel=\"nofollow noreferrer\">quarkus</a> version:</p>\n<p>But without any sucess.</p>\n<p>Can you please suggest me any steps to resolve it?\nThanks!</p>\n"},{"tags":["java","spring-boot","http","http-delete"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1645161865,"post_id":71163045,"comment_id":125802631,"body_markdown":"Update `URL url = new URL(&quot;http://localhost:1234/deleteUser&quot;);` to `URL url = new URL(&quot;http://localhost:1234/deleteUser/id-to-be-deleted&quot;);`","body":"Update <code>URL url = new URL(&quot;http:&#47;&#47;localhost:1234&#47;deleteUser&quot;);</code> to <code>URL url = new URL(&quot;http:&#47;&#47;localhost:1234&#47;deleteUser&#47;id-to-be-deleted&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645120899,"creation_date":1645120899,"answer_id":71163208,"question_id":71163045,"body_markdown":"Since `id` is a path variable, you must pass it as one. For example:\r\n\r\n```\r\nhttp://localhost:1234/deleteUser/42\r\n```\r\n\r\nI suggest you use Spring&#39;s `RestTemplate`, which offers the `RestTemplate#delete(String url, Map&lt;String, ?&gt; uriVariables)` [method](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#delete-java.lang.String-java.util.Map-):\r\n\r\n```java\r\nnew RestTemplate().delete(&quot;http://localhost:1234/deleteUser/{id}&quot;, Collections.singletonMap(&quot;id&quot;, 42));\r\n```","title":"Java http delete request to delete an item from a repository","body":"<p>Since <code>id</code> is a path variable, you must pass it as one. For example:</p>\n<pre><code>http://localhost:1234/deleteUser/42\n</code></pre>\n<p>I suggest you use Spring's <code>RestTemplate</code>, which offers the <code>RestTemplate#delete(String url, Map&lt;String, ?&gt; uriVariables)</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#delete-java.lang.String-java.util.Map-\" rel=\"nofollow noreferrer\">method</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new RestTemplate().delete(&quot;http://localhost:1234/deleteUser/{id}&quot;, Collections.singletonMap(&quot;id&quot;, 42));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645158783,"creation_date":1645158783,"answer_id":71168410,"question_id":71163045,"body_markdown":"You can use [WebTesClient][1] like this : \r\n\r\n    @Autowired\r\n    protected WebTestClient webTestClient;\r\n    \r\n    webTestClient.delete()\r\n                 .uri(&quot;http://localhost:1234/deleteUser/{id}&quot;, YOUR_ID)\r\n                 .exchange()\r\n                 .expectStatus().isOk();\r\n\r\nDon&#39;t forget to add `webflux` dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#webtestclient\r\n","title":"Java http delete request to delete an item from a repository","body":"<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#webtestclient\" rel=\"nofollow noreferrer\">WebTesClient</a> like this :</p>\n<pre><code>@Autowired\nprotected WebTestClient webTestClient;\n\nwebTestClient.delete()\n             .uri(&quot;http://localhost:1234/deleteUser/{id}&quot;, YOUR_ID)\n             .exchange()\n             .expectStatus().isOk();\n</code></pre>\n<p>Don't forget to add <code>webflux</code> dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11873206,"reputation":27,"user_id":18196516,"display_name":"Robert hause"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71163208,"answer_count":2,"score":1,"last_activity_date":1645191628,"creation_date":1645120083,"question_id":71163045,"body_markdown":"I am trying to create `java` code to delete an item from a repository in a `spring boot` server using the item&#39;s ID.\r\n\r\nMy server code:\r\n```\r\n@DeleteMapping(&quot;/deleteUser/{id}&quot;)\r\npublic void deleteUser(@PathVariable Long id){\r\n    userRepository.deleteById(id);\r\n}\r\n```\r\nJava client code to connect to server:\r\n```\r\nURL url = new URL(&quot;http://localhost:1234/deleteUser&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();                     \r\nconn.setDoOutput(true);\r\nconn.setRequestMethod(&quot;DELETE&quot;);   \r\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n```\r\nFor my other requests of `get` and `post` I would use the output stream to write to the server, but I am not sure the exact code to send the ID that needs to be deleted to the server","title":"Java http delete request to delete an item from a repository","body":"<p>I am trying to create <code>java</code> code to delete an item from a repository in a <code>spring boot</code> server using the item's ID.</p>\n<p>My server code:</p>\n<pre><code>@DeleteMapping(&quot;/deleteUser/{id}&quot;)\npublic void deleteUser(@PathVariable Long id){\n    userRepository.deleteById(id);\n}\n</code></pre>\n<p>Java client code to connect to server:</p>\n<pre><code>URL url = new URL(&quot;http://localhost:1234/deleteUser&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();                     \nconn.setDoOutput(true);\nconn.setRequestMethod(&quot;DELETE&quot;);   \nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>For my other requests of <code>get</code> and <code>post</code> I would use the output stream to write to the server, but I am not sure the exact code to send the ID that needs to be deleted to the server</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1628535568,"post_id":68713012,"comment_id":121442237,"body_markdown":"The Entitymanager should not be close for the lazy data to be fetched later. Moreover you should usually not create an EntityManager for each call to the method.","body":"The Entitymanager should not be close for the lazy data to be fetched later. Moreover you should usually not create an EntityManager for each call to the method."},{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubović"},"score":0,"creation_date":1628583480,"post_id":68713012,"comment_id":121452973,"body_markdown":"You should fetch all the data you need. For example. `from User u join fetch u.activities where u.userName =:userName`. Session should be closed after fetching data. If you keep session open only to fetch associated data, you&#39;re keeping connection to DB open, which is not an optimal solution. I cannot tell you how to manage `EntityManager` instance, as I&#39;m always using Spring Boot and everything is managed by Spring. I think you&#39;ll find in the documentation about good practices when it comes to managing `EntityManager` instances, `Session`s and so on.","body":"You should fetch all the data you need. For example. <code>from User u join fetch u.activities where u.userName =:userName</code>. Session should be closed after fetching data. If you keep session open only to fetch associated data, you&#39;re keeping connection to DB open, which is not an optimal solution. I cannot tell you how to manage <code>EntityManager</code> instance, as I&#39;m always using Spring Boot and everything is managed by Spring. I think you&#39;ll find in the documentation about good practices when it comes to managing <code>EntityManager</code> instances, <code>Session</code>s and so on."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628535046,"creation_date":1628518978,"answer_id":68713744,"question_id":68713012,"body_markdown":"I guess the problem you&#39;re having comes from closing the `entityManager.close();`.\r\n\r\nAs `User`&#39;s reference to `Activity` is `LAZY`, JPA will load it only once you try to access it via code, like anything accessing the variable `User.activities` in any way. \r\nThis makes JPA load the referenced `Activity`s. \r\n\r\n**What I *think* happens there:**\r\n\r\n 1) When you create (read from Database) those `User`s in your `getUserByUserName()` method, JPA keeps (has those created `User`s keep) a reference to the `EntityManager entityManager` they were created with.\r\n 2) So if you **later on** try to access `User.activities`, JPA will try to load those activities using the `EntityManager entityManager`.\r\n 3) If you have already closed that `EntityManager entityManager` (as you did in your `final` statement), then the loading will fail with that `LazyInitializationException` you then get.\r\n\r\n**Solution:** \r\n\r\nAs I am not sing Hibernate, nor checking its codebase, I do not know whether `entityManagerFactory.createEntityManager();` is actually creating separate instances if already present, and how all the `EntityManager` instances are managed.\r\n\r\nBut probably it&#39;s simply best to never close any `EntityManager`; instead, let the JPA implementation (Hibernate) take care of that. With all the possibilities of dependency-injecting stuff into your classes, I bet Hibernate has some pretty good mechanisms in place for dealing with that kind of resource management.\r\n\r\nAs an alternative, let Hiberante inject the `EntityManager`, so you don&#39;t even have to take care of creating it in the first place.\r\n\r\n**Finally**, you can still stick to the LAZY loading, if that improves initial and long-term performance for you. Just don&#39;t close those `EntityManager`s.\r\n\r\nIf you need deeper insights into that matter, \r\n - check Hibernate&#39;s source code / preprocessors / code injection / bytecode weaving mechanisms\r\n - or use some JVM memory analysis tool to see if the number of instantiated `EntityManager`s increase linearly with calls to your `getUserByUserName()` method.\r\n\r\n**Update:** Showing a completely different alternative\r\n\r\nI personally use Payara, and use `@EJB private UserCRUD\tmUserCRUD;` to inject Data Access Objects, that I called CRUD (for Create Retriece Update Delete) a long time ago and still stick to them.\r\n\r\nThe basic principle is these 3 steps:\r\n\r\n**Step 1:** I have a universal base class in a library, injecting the `@PersistenceContext protected EntityManager mEM;`\r\n\r\n\r\n    @Stateless\r\n    public abstract class TemplateCRUD_Simple&lt;T&gt; implements TemplateCRUD_Simple_Interface&lt;T&gt; {\r\n    \r\n    \t@PersistenceContext protected EntityManager mEM;\r\n    \r\n    \tprotected final Class&lt;T&gt; mType;\r\n    \r\n    \tpublic TemplateCRUD_Simple(final Class&lt;T&gt; pClass) {\r\n    \t\tmType = pClass;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * INTERNALS\r\n    \t */\r\n    \r\n    \t@Override public String getTableName() {\r\n    \t\treturn mType.getSimpleName();\r\n    \t}\r\n    \t@Override public String getNativeTableName() {\r\n    \t\tfinal Table table = mType.getAnnotation(Table.class);\r\n    \t\tif (table != null) return table.name();\r\n    \t\treturn getTableName();\r\n    \t}\r\n    \t@Override public EntityManager getEntityManager() {\r\n    \t\treturn mEM;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * CREATE\r\n    \t */\r\n    \r\n    \t@Override public T create(final T t) {\r\n    \t\treturn createAny(t);\r\n    \t}\r\n    \t@Override public &lt;U&gt; U createAny(final U u) {\r\n    \t\tmEM.persist(u);\r\n    \t\tmEM.flush();\r\n    \t\tmEM.refresh(u);\r\n    \t\treturn u;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * RETRIEVE\r\n    \t */\r\n    \r\n    \t@Override public T find(final long pID) throws JcXEntityNotFoundException {\r\n    \t\tfinal T ret = find(pID, null);\r\n    \t\tif (ret == null) throw new JcXEntityNotFoundException(getTableName() + &quot; with ID &quot; + pID + &quot; cannot be found!&quot;);\r\n    \t\treturn ret;\r\n    \t}\r\n\r\n\r\n        @Override public T find(final long pID, final T pDefault) {\r\n        \tfinal T ret = mEM.find(mType, Long.valueOf(pID));\r\n        \tif (ret == null) return pDefault;\r\n        \treturn ret;\r\n        }\r\n        @Override public T find(final Long pID, final T pDefault) {\r\n        \tif (pID == null) return pDefault;\r\n        \treturn find(pID.longValue(), pDefault);\r\n        }\r\n        @Override public T findCreate(final long pID) throws InstantiationException, IllegalAccessException {\r\n        \tfinal T item = find(pID, null);\r\n        \tif (item != null) return item;\r\n    \r\n        \tfinal T item2 = mType.newInstance();\r\n        \treturn create(item2);\r\n        }\r\n\r\n        // a lot more methods here\r\n    }\r\n\r\nAnd its interface definition, also in the library:\r\n\r\n    public interface TemplateCRUD_Simple_Interface&lt;T&gt; {\r\n    \r\n    \tEntityManager getEntityManager();\r\n    \tString getTableName();\r\n    \tString getNativeTableName();\r\n    \r\n    \r\n    \t// create\r\n    \tT create(T t);\r\n    \t&lt;U&gt; U createAny(U t);\r\n    \r\n    \t// retrieve\r\n    \tT find(long pID) throws JcXEntityNotFoundException;\r\n    \tT find(long pID, T pDefault);\r\n    \tT find(Long pID, T pDefault);\r\n    \tT findCreate(long pID) throws InstantiationException, IllegalAccessException;\r\n    \tList&lt;T&gt; findAll(String pColName, Object pValue, final boolean pCaseSensitive);\r\n    \tList&lt;T&gt; findAll(String pColName, Object pValue);\r\n    \tList&lt;T&gt; findAll(String pColName, String pValue, final boolean pCaseSensitive);\r\n    \tList&lt;T&gt; findAll(String pColName, String pValue);\r\n    \tList&lt;T&gt; findAll(String pColName, long pValue);\r\n    \tList&lt;T&gt; findAllByFieldName(String pFieldName, Object pValue, final boolean pCaseSensitive);\r\n    \tList&lt;T&gt; findAllByFieldName(String pFieldName, Object pValue);\r\n    \tList&lt;T&gt; findWhereContains(final String pColName, final String pValue, final boolean pCaseSensitive);\r\n    \tList&lt;T&gt; findWhereContains(final String pColName, final String pValue);\r\n    \tList&lt;T&gt; getAll();\r\n    \tList&lt;Long&gt; getAllIds();\r\n    \tList&lt;T&gt; getByIds(final Collection&lt;Long&gt; pIds);\r\n    \r\n    \t// update\r\n    \tT update(T t);\r\n    \tvoid updateProperties(T pItem, Map&lt;String, String[]&gt; pMatches);\r\n    \tT updateItem(Map&lt;String, String[]&gt; pMatches, long pID) throws InstantiationException, IllegalAccessException;\r\n    \tArrayList&lt;T&gt; updateItems(String pEntityParamName, Map&lt;String, String[]&gt; pMap) throws InstantiationException, IllegalAccessException;\r\n    \r\n    \t// delete\r\n    \tT delete(long pId);\r\n    \r\n    \t// misc\r\n    \tlong countAll();\r\n    \tObject getID(T pItem);\r\n    \tlong getIDLong(T pItem);\r\n    \tboolean contains(T pItem);\r\n    \tvoid detach(final T pItem);\r\n    \r\n    \t@Deprecated String getFieldNameInDb(final String pFieldName, final String pDefault);\r\n    \r\n    \r\n    \r\n    \t//\tprivate List&lt;T&gt; getOverdueForXIn(final int pDays, final String pVarName);\r\n    \tList&lt;T&gt; getOverdueForDeletion(final boolean pAddAlreadyWarned);\r\n    \tList&lt;T&gt; getOverdueForUpdate(final boolean pAddAlreadyWarned);\r\n    \r\n    }\r\n\r\n**Step 2:** For each custom Class I have a CRUD (in this example, the &#39;User&#39; Class):\r\n\r\n - CrudBase_BaseEntity is basically derived drom TemplateCRUD_Simple, just a few more steps in between for more flexibility\r\n - UserCRUD extends TemplateCRUD_Simple, so I can easily use those general methods\r\n - If I need specialized methods, I simply add them to the UserCRUD&#39;s code\r\n\r\n\r\nThis is an example for handling the `User` entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;PT_User&quot;)\r\n    public class User extends _BaseEntity&lt;User&gt; {...}\r\n\r\nAnd this is its CRUD/DAO:\r\n\r\n    @Stateless\r\n    public class UserCRUD extends CrudBase_BaseEntity&lt;User&gt; {\r\n    \r\n    \tpublic UserCRUD() {\r\n    \t\tsuper(User.class);\r\n    \t}\r\n    \r\n    \tpublic long getRegisteredUsersCount() {\r\n    \t\tfinal String sql = &quot;SELECT COUNT(d) FROM &quot; + getTableName() + &quot; d&quot;;\r\n    \t\tfinal Query q = mEM.createQuery(sql);\r\n    \t\tfinal Long count = (Long) q.getSingleResult();\r\n    \t\tif (count == null) return 0;\r\n    \t\treturn count.longValue();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic User findUserByUsernameOrEmail(final String pUid, final String pMail) {\r\n    \t\tfinal TypedQuery&lt;User&gt; query = mEM.createQuery(&quot;SELECT i FROM &quot; + getTableName() + &quot; i WHERE lower(i.email)=lower(:userid) OR lower(i.email)=lower(:usermail)&quot;, mType);\r\n    \t\tquery.setParameter(&quot;userid&quot;, pUid);\r\n    \t\tquery.setParameter(&quot;usermail&quot;, pMail);\r\n    \t\tfinal List&lt;User&gt; list = query.getResultList();\r\n    \t\tif (list == null || list.size() &lt; 1) return null;\r\n    \t\treturn list.get(0);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic List&lt;User&gt; getAllAdmins() {\r\n    \t\tfinal TypedQuery&lt;User&gt; query = mEM.createQuery(&quot;SELECT i FROM &quot; + getTableName() + &quot; i WHERE i.isAdmin = TRUE&quot;, mType);\r\n    \t\tfinal List&lt;User&gt; list = query.getResultList();\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic List&lt;User&gt; getInvalidUsers() {\r\n    \t\tfinal TypedQuery&lt;User&gt; query = mEM.createQuery(&quot;SELECT i FROM &quot; + getTableName() + &quot; i &quot;\r\n    \t\t\t\t+ &quot;WHERE (i.username IS NULL&quot;\r\n    \t\t\t\t+ &quot; OR i.fullname IS NULL)&quot;\r\n    \t\t\t\t+ &quot; AND i.email IS NULL&quot;, mType);\r\n    \t\tfinal List&lt;User&gt; list = query.getResultList();\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**Step 3:** In servlets, I simply inject it via `@EJB`annotation and then use it like this:\r\n\r\n    @WebServlet(&quot;/dyn/user/getAll&quot;)\r\n    @WebServletParams({})\r\n    @WebServletDescription()\r\n    public class GetAll extends BaseServlet {\r\n    \tprivate static final long serialVersionUID = -4567235617944396165L;\r\n    \r\n    \t@EJB private UserCRUD mCRUD;\r\n    \r\n    \t@Override protected void doGet_(final HttpServletRequest pReq, final HttpServletResponse pResp) throws IOException {\r\n    \t\tUSessionManager.ensureUserLoggedInAndAdmin(pReq);\r\n    \r\n    \t\tfinal List&lt;User&gt; items = mCRUD.getAll();\r\n    \r\n    \t\titems.sort((final User pO1, final User pO2) -&gt; JcUString.compareTo(pO1.getFullname(), pO2.getFullname(), false));\r\n    \r\n    \t\tJSON.send(items, pResp);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the way I implemented it and use it. \r\n - At first it&#39;s lot of overhead\r\n - But it&#39;s really easy to set up new Classes und CRUDs\r\n - It&#39;s safe to use them\r\n - I use this in my JEE library, so I do not have to duplicate code, and any patch or addition I make is then available to all projects that use it\r\n - If need be, I could always access the (again: injected) EntityManager instance inside the TemplateCRUD.\r\n\r\nI believe Spring uses a quite similar system, and calls it something like &#39;...Repository&#39;. If you want, you can also check that out and take its source code and adapt it. Usually when doing that, the `@EJB` and `@PersistenceContext` and `@Inject` do not transfer well between GlassFish/Payara, Spring or Hibernate, because not all support all of those Annotations in every context. As I said, this is quite Payara specific, and I&#39;ve never tested it in other containers, but the approach should work everywhere.\r\n\r\nTo recap: this all depends a lot on dependency injection, me letting the container do all the work.\r\n\r\n","title":"What is the best way to handle LazyInitializationException","body":"<p>I guess the problem you're having comes from closing the <code>entityManager.close();</code>.</p>\n<p>As <code>User</code>'s reference to <code>Activity</code> is <code>LAZY</code>, JPA will load it only once you try to access it via code, like anything accessing the variable <code>User.activities</code> in any way.\nThis makes JPA load the referenced <code>Activity</code>s.</p>\n<p><strong>What I <em>think</em> happens there:</strong></p>\n<ol>\n<li>When you create (read from Database) those <code>User</code>s in your <code>getUserByUserName()</code> method, JPA keeps (has those created <code>User</code>s keep) a reference to the <code>EntityManager entityManager</code> they were created with.</li>\n<li>So if you <strong>later on</strong> try to access <code>User.activities</code>, JPA will try to load those activities using the <code>EntityManager entityManager</code>.</li>\n<li>If you have already closed that <code>EntityManager entityManager</code> (as you did in your <code>final</code> statement), then the loading will fail with that <code>LazyInitializationException</code> you then get.</li>\n</ol>\n<p><strong>Solution:</strong></p>\n<p>As I am not sing Hibernate, nor checking its codebase, I do not know whether <code>entityManagerFactory.createEntityManager();</code> is actually creating separate instances if already present, and how all the <code>EntityManager</code> instances are managed.</p>\n<p>But probably it's simply best to never close any <code>EntityManager</code>; instead, let the JPA implementation (Hibernate) take care of that. With all the possibilities of dependency-injecting stuff into your classes, I bet Hibernate has some pretty good mechanisms in place for dealing with that kind of resource management.</p>\n<p>As an alternative, let Hiberante inject the <code>EntityManager</code>, so you don't even have to take care of creating it in the first place.</p>\n<p><strong>Finally</strong>, you can still stick to the LAZY loading, if that improves initial and long-term performance for you. Just don't close those <code>EntityManager</code>s.</p>\n<p>If you need deeper insights into that matter,</p>\n<ul>\n<li>check Hibernate's source code / preprocessors / code injection / bytecode weaving mechanisms</li>\n<li>or use some JVM memory analysis tool to see if the number of instantiated <code>EntityManager</code>s increase linearly with calls to your <code>getUserByUserName()</code> method.</li>\n</ul>\n<p><strong>Update:</strong> Showing a completely different alternative</p>\n<p>I personally use Payara, and use <code>@EJB private UserCRUD mUserCRUD;</code> to inject Data Access Objects, that I called CRUD (for Create Retriece Update Delete) a long time ago and still stick to them.</p>\n<p>The basic principle is these 3 steps:</p>\n<p><strong>Step 1:</strong> I have a universal base class in a library, injecting the <code>@PersistenceContext protected EntityManager mEM;</code></p>\n<pre><code>@Stateless\npublic abstract class TemplateCRUD_Simple&lt;T&gt; implements TemplateCRUD_Simple_Interface&lt;T&gt; {\n\n    @PersistenceContext protected EntityManager mEM;\n\n    protected final Class&lt;T&gt; mType;\n\n    public TemplateCRUD_Simple(final Class&lt;T&gt; pClass) {\n        mType = pClass;\n    }\n\n\n\n    /*\n     * INTERNALS\n     */\n\n    @Override public String getTableName() {\n        return mType.getSimpleName();\n    }\n    @Override public String getNativeTableName() {\n        final Table table = mType.getAnnotation(Table.class);\n        if (table != null) return table.name();\n        return getTableName();\n    }\n    @Override public EntityManager getEntityManager() {\n        return mEM;\n    }\n\n\n\n    /*\n     * CREATE\n     */\n\n    @Override public T create(final T t) {\n        return createAny(t);\n    }\n    @Override public &lt;U&gt; U createAny(final U u) {\n        mEM.persist(u);\n        mEM.flush();\n        mEM.refresh(u);\n        return u;\n    }\n\n\n\n    /*\n     * RETRIEVE\n     */\n\n    @Override public T find(final long pID) throws JcXEntityNotFoundException {\n        final T ret = find(pID, null);\n        if (ret == null) throw new JcXEntityNotFoundException(getTableName() + &quot; with ID &quot; + pID + &quot; cannot be found!&quot;);\n        return ret;\n    }\n\n\n    @Override public T find(final long pID, final T pDefault) {\n        final T ret = mEM.find(mType, Long.valueOf(pID));\n        if (ret == null) return pDefault;\n        return ret;\n    }\n    @Override public T find(final Long pID, final T pDefault) {\n        if (pID == null) return pDefault;\n        return find(pID.longValue(), pDefault);\n    }\n    @Override public T findCreate(final long pID) throws InstantiationException, IllegalAccessException {\n        final T item = find(pID, null);\n        if (item != null) return item;\n\n        final T item2 = mType.newInstance();\n        return create(item2);\n    }\n\n    // a lot more methods here\n}\n</code></pre>\n<p>And its interface definition, also in the library:</p>\n<pre><code>public interface TemplateCRUD_Simple_Interface&lt;T&gt; {\n\n    EntityManager getEntityManager();\n    String getTableName();\n    String getNativeTableName();\n\n\n    // create\n    T create(T t);\n    &lt;U&gt; U createAny(U t);\n\n    // retrieve\n    T find(long pID) throws JcXEntityNotFoundException;\n    T find(long pID, T pDefault);\n    T find(Long pID, T pDefault);\n    T findCreate(long pID) throws InstantiationException, IllegalAccessException;\n    List&lt;T&gt; findAll(String pColName, Object pValue, final boolean pCaseSensitive);\n    List&lt;T&gt; findAll(String pColName, Object pValue);\n    List&lt;T&gt; findAll(String pColName, String pValue, final boolean pCaseSensitive);\n    List&lt;T&gt; findAll(String pColName, String pValue);\n    List&lt;T&gt; findAll(String pColName, long pValue);\n    List&lt;T&gt; findAllByFieldName(String pFieldName, Object pValue, final boolean pCaseSensitive);\n    List&lt;T&gt; findAllByFieldName(String pFieldName, Object pValue);\n    List&lt;T&gt; findWhereContains(final String pColName, final String pValue, final boolean pCaseSensitive);\n    List&lt;T&gt; findWhereContains(final String pColName, final String pValue);\n    List&lt;T&gt; getAll();\n    List&lt;Long&gt; getAllIds();\n    List&lt;T&gt; getByIds(final Collection&lt;Long&gt; pIds);\n\n    // update\n    T update(T t);\n    void updateProperties(T pItem, Map&lt;String, String[]&gt; pMatches);\n    T updateItem(Map&lt;String, String[]&gt; pMatches, long pID) throws InstantiationException, IllegalAccessException;\n    ArrayList&lt;T&gt; updateItems(String pEntityParamName, Map&lt;String, String[]&gt; pMap) throws InstantiationException, IllegalAccessException;\n\n    // delete\n    T delete(long pId);\n\n    // misc\n    long countAll();\n    Object getID(T pItem);\n    long getIDLong(T pItem);\n    boolean contains(T pItem);\n    void detach(final T pItem);\n\n    @Deprecated String getFieldNameInDb(final String pFieldName, final String pDefault);\n\n\n\n    //  private List&lt;T&gt; getOverdueForXIn(final int pDays, final String pVarName);\n    List&lt;T&gt; getOverdueForDeletion(final boolean pAddAlreadyWarned);\n    List&lt;T&gt; getOverdueForUpdate(final boolean pAddAlreadyWarned);\n\n}\n</code></pre>\n<p><strong>Step 2:</strong> For each custom Class I have a CRUD (in this example, the 'User' Class):</p>\n<ul>\n<li>CrudBase_BaseEntity is basically derived drom TemplateCRUD_Simple, just a few more steps in between for more flexibility</li>\n<li>UserCRUD extends TemplateCRUD_Simple, so I can easily use those general methods</li>\n<li>If I need specialized methods, I simply add them to the UserCRUD's code</li>\n</ul>\n<p>This is an example for handling the <code>User</code> entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;PT_User&quot;)\npublic class User extends _BaseEntity&lt;User&gt; {...}\n</code></pre>\n<p>And this is its CRUD/DAO:</p>\n<pre><code>@Stateless\npublic class UserCRUD extends CrudBase_BaseEntity&lt;User&gt; {\n\n    public UserCRUD() {\n        super(User.class);\n    }\n\n    public long getRegisteredUsersCount() {\n        final String sql = &quot;SELECT COUNT(d) FROM &quot; + getTableName() + &quot; d&quot;;\n        final Query q = mEM.createQuery(sql);\n        final Long count = (Long) q.getSingleResult();\n        if (count == null) return 0;\n        return count.longValue();\n    }\n\n\n\n    public User findUserByUsernameOrEmail(final String pUid, final String pMail) {\n        final TypedQuery&lt;User&gt; query = mEM.createQuery(&quot;SELECT i FROM &quot; + getTableName() + &quot; i WHERE lower(i.email)=lower(:userid) OR lower(i.email)=lower(:usermail)&quot;, mType);\n        query.setParameter(&quot;userid&quot;, pUid);\n        query.setParameter(&quot;usermail&quot;, pMail);\n        final List&lt;User&gt; list = query.getResultList();\n        if (list == null || list.size() &lt; 1) return null;\n        return list.get(0);\n    }\n\n\n\n    public List&lt;User&gt; getAllAdmins() {\n        final TypedQuery&lt;User&gt; query = mEM.createQuery(&quot;SELECT i FROM &quot; + getTableName() + &quot; i WHERE i.isAdmin = TRUE&quot;, mType);\n        final List&lt;User&gt; list = query.getResultList();\n        return list;\n    }\n\n\n\n    public List&lt;User&gt; getInvalidUsers() {\n        final TypedQuery&lt;User&gt; query = mEM.createQuery(&quot;SELECT i FROM &quot; + getTableName() + &quot; i &quot;\n                + &quot;WHERE (i.username IS NULL&quot;\n                + &quot; OR i.fullname IS NULL)&quot;\n                + &quot; AND i.email IS NULL&quot;, mType);\n        final List&lt;User&gt; list = query.getResultList();\n        return list;\n    }\n\n}\n</code></pre>\n<p><strong>Step 3:</strong> In servlets, I simply inject it via <code>@EJB</code>annotation and then use it like this:</p>\n<pre><code>@WebServlet(&quot;/dyn/user/getAll&quot;)\n@WebServletParams({})\n@WebServletDescription()\npublic class GetAll extends BaseServlet {\n    private static final long serialVersionUID = -4567235617944396165L;\n\n    @EJB private UserCRUD mCRUD;\n\n    @Override protected void doGet_(final HttpServletRequest pReq, final HttpServletResponse pResp) throws IOException {\n        USessionManager.ensureUserLoggedInAndAdmin(pReq);\n\n        final List&lt;User&gt; items = mCRUD.getAll();\n\n        items.sort((final User pO1, final User pO2) -&gt; JcUString.compareTo(pO1.getFullname(), pO2.getFullname(), false));\n\n        JSON.send(items, pResp);\n    }\n\n}\n</code></pre>\n<p>This is the way I implemented it and use it.</p>\n<ul>\n<li>At first it's lot of overhead</li>\n<li>But it's really easy to set up new Classes und CRUDs</li>\n<li>It's safe to use them</li>\n<li>I use this in my JEE library, so I do not have to duplicate code, and any patch or addition I make is then available to all projects that use it</li>\n<li>If need be, I could always access the (again: injected) EntityManager instance inside the TemplateCRUD.</li>\n</ul>\n<p>I believe Spring uses a quite similar system, and calls it something like '...Repository'. If you want, you can also check that out and take its source code and adapt it. Usually when doing that, the <code>@EJB</code> and <code>@PersistenceContext</code> and <code>@Inject</code> do not transfer well between GlassFish/Payara, Spring or Hibernate, because not all support all of those Annotations in every context. As I said, this is quite Payara specific, and I've never tested it in other containers, but the approach should work everywhere.</p>\n<p>To recap: this all depends a lot on dependency injection, me letting the container do all the work.</p>\n"},{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645191375,"creation_date":1645191375,"answer_id":71174384,"question_id":68713012,"body_markdown":"The rule is \r\n\r\n&gt; the entities should not escape transaction bounds\r\n\r\nThe lazy loading is a killer feature of Hibernate, one should not afraid of it.\r\n\r\nSo, the repository/DAO should return the entity(es).\r\nThe service should be transactional(*), manage the entities but return DTOs outside.\r\n\r\nConsider using [any java bean mapper][1] for that purpose to avoid monkey work.\r\n\r\nThat allows you not load unnecessary properties if they are not needed.\r\n\r\n(*) if there are no long-living operations such as http calls.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-performance-mapping-frameworks","title":"What is the best way to handle LazyInitializationException","body":"<p>The rule is</p>\n<blockquote>\n<p>the entities should not escape transaction bounds</p>\n</blockquote>\n<p>The lazy loading is a killer feature of Hibernate, one should not afraid of it.</p>\n<p>So, the repository/DAO should return the entity(es).\nThe service should be transactional(*), manage the entities but return DTOs outside.</p>\n<p>Consider using <a href=\"https://www.baeldung.com/java-performance-mapping-frameworks\" rel=\"nofollow noreferrer\">any java bean mapper</a> for that purpose to avoid monkey work.</p>\n<p>That allows you not load unnecessary properties if they are not needed.</p>\n<p>(*) if there are no long-living operations such as http calls.</p>\n"}],"owner":{"account_id":20476477,"reputation":21,"user_id":15025702,"display_name":"NoScript07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645191375,"creation_date":1628516169,"question_id":68713012,"body_markdown":"I have been struggling with Hibernate lately. I recently ran into a problem which I would appreciate some help with. I have two entities :\r\n\r\n1.User\r\n\r\n    @Entity\r\n    public class User{\r\n\r\n    @ID\r\n    private Long id;\r\n\r\n    @OneToMany (mappedBy = &quot;user&quot;)\r\n    private Set&lt;Activity&gt; activities;\r\n\r\n    ...\r\n    }\r\n\r\n2.Activity:\r\n\r\n    @Entity\r\n    public class Activity {\r\n\r\n    @ID\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    private User user;\r\n\r\n    ...\r\n    }\r\n\r\nSo here, since I didn&#39;t set user activities fetchType to EAGER, when I fetch user entity from the database all the activities will be fetched lazily.\r\n\r\nWhat I did in UserRepository was:\r\n\r\n    @Override\r\n    public User getUserByUserName(String userName) {\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        Query query = entityManager.createQuery\r\n                (&quot;from User u where u.userName = :user_name&quot;, User.class);\r\n        query.setParameter(&quot;user_name&quot;, userName);\r\n        try{\r\n            return (User) query.getSingleResult();\r\n        } catch(NoResultException e) {\r\n            return null;\r\n        } finally {\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\nDoing this I get The LazyInitializationException when I wanted to use the fetched User&#39;s activies. But what I did was removing finaly block from the code :\r\n\r\n    @Override\r\n    public User getUserByUserName(String userName) {\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        Query query = entityManager.createQuery\r\n                (&quot;from User u where u.userName = :user_name&quot;, User.class);\r\n        query.setParameter(&quot;user_name&quot;, userName);\r\n        try{\r\n            return (User) query.getSingleResult();\r\n        } catch(NoResultException e) {\r\n            return null;\r\n        }\r\n     }\r\n\r\nThis solved The exception. I wanted to know if this is the right way to do it or should I just change user activities fetchType to EAGER?","title":"What is the best way to handle LazyInitializationException","body":"<p>I have been struggling with Hibernate lately. I recently ran into a problem which I would appreciate some help with. I have two entities :</p>\n<p>1.User</p>\n<pre><code>@Entity\npublic class User{\n\n@ID\nprivate Long id;\n\n@OneToMany (mappedBy = &quot;user&quot;)\nprivate Set&lt;Activity&gt; activities;\n\n...\n}\n</code></pre>\n<p>2.Activity:</p>\n<pre><code>@Entity\npublic class Activity {\n\n@ID\nprivate Long id;\n\n@ManyToOne\nprivate User user;\n\n...\n}\n</code></pre>\n<p>So here, since I didn't set user activities fetchType to EAGER, when I fetch user entity from the database all the activities will be fetched lazily.</p>\n<p>What I did in UserRepository was:</p>\n<pre><code>@Override\npublic User getUserByUserName(String userName) {\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\n    Query query = entityManager.createQuery\n            (&quot;from User u where u.userName = :user_name&quot;, User.class);\n    query.setParameter(&quot;user_name&quot;, userName);\n    try{\n        return (User) query.getSingleResult();\n    } catch(NoResultException e) {\n        return null;\n    } finally {\n        entityManager.close();\n    }\n}\n</code></pre>\n<p>Doing this I get The LazyInitializationException when I wanted to use the fetched User's activies. But what I did was removing finaly block from the code :</p>\n<pre><code>@Override\npublic User getUserByUserName(String userName) {\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\n    Query query = entityManager.createQuery\n            (&quot;from User u where u.userName = :user_name&quot;, User.class);\n    query.setParameter(&quot;user_name&quot;, userName);\n    try{\n        return (User) query.getSingleResult();\n    } catch(NoResultException e) {\n        return null;\n    }\n }\n</code></pre>\n<p>This solved The exception. I wanted to know if this is the right way to do it or should I just change user activities fetchType to EAGER?</p>\n"},{"tags":["java","apache-spark","serialization","hive","aerospike"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643728622,"creation_date":1643728622,"answer_id":70942977,"question_id":70941000,"body_markdown":"You can write [directly from a data frame.][1]  No need to loop through the dataset.\r\n\r\n&gt; Launch the spark shell and import the com.aerospike.spark.sql._ package:\r\n&gt;\r\n&gt;     $ spark-shell\r\n&gt;     scala&gt; import com.aerospike.spark.sql._\r\n&gt;     import com.aerospike.spark.sql._\r\n&gt; \r\n&gt; Example of writing data into Aerospike\r\n&gt; \r\n&gt;     val TEST_COUNT= 100\r\n&gt;     val simpleSchema: StructType = new StructType(\r\n&gt;         Array(\r\n&gt;         StructField(&quot;one&quot;, IntegerType, nullable = false),\r\n&gt;         StructField(&quot;two&quot;, StringType, nullable = false),\r\n&gt;         StructField(&quot;three&quot;, DoubleType, nullable = false)\r\n&gt;       ))\r\n&gt;     \r\n&gt;     val simpleDF = {\r\n&gt;         val inputBuf=  new ArrayBuffer[Row]()\r\n&gt;         for ( i &lt;- 1 to num_records){\r\n&gt;             val one = i\r\n&gt;             val two = &quot;two:&quot;+i\r\n&gt;             val three = i.toDouble\r\n&gt;             val r = Row(one, two, three)\r\n&gt;             inputBuf.append(r)\r\n&gt;         }\r\n&gt;         val inputRDD = spark.sparkContext.parallelize(inputBuf.toSeq)\r\n&gt;         spark.createDataFrame(inputRDD,simpleSchema)\r\n&gt;     }\r\n&gt;     \r\n&gt;     //Write the Sample Data to Aerospike\r\n&gt;     simpleDF.write\r\n&gt;     .format(&quot;aerospike&quot;) //aerospike specific format\r\n&gt;     .option(&quot;aerospike.writeset&quot;, &quot;spark-test&quot;) //write to this set\r\n&gt;     .option(&quot;aerospike.updateByKey&quot;, &quot;one&quot;)//indicates which columns should be used for construction of primary key\r\n&gt;     .option(&quot;aerospike.write.mode&quot;,&quot;update&quot;)\r\n&gt;     .save()\r\n\r\n\r\n  [1]: https://docs.aerospike.com/connect/tutorials/spark/readwrite","title":"Apache Spark Dataset. foreach with Aerospike client","body":"<p>You can write <a href=\"https://docs.aerospike.com/connect/tutorials/spark/readwrite\" rel=\"nofollow noreferrer\">directly from a data frame.</a>  No need to loop through the dataset.</p>\n<blockquote>\n<p>Launch the spark shell and import the com.aerospike.spark.sql._ package:</p>\n<pre><code>$ spark-shell\nscala&gt; import com.aerospike.spark.sql._\nimport com.aerospike.spark.sql._\n</code></pre>\n<p>Example of writing data into Aerospike</p>\n<pre><code>val TEST_COUNT= 100\nval simpleSchema: StructType = new StructType(\n    Array(\n    StructField(&quot;one&quot;, IntegerType, nullable = false),\n    StructField(&quot;two&quot;, StringType, nullable = false),\n    StructField(&quot;three&quot;, DoubleType, nullable = false)\n  ))\n\nval simpleDF = {\n    val inputBuf=  new ArrayBuffer[Row]()\n    for ( i &lt;- 1 to num_records){\n        val one = i\n        val two = &quot;two:&quot;+i\n        val three = i.toDouble\n        val r = Row(one, two, three)\n        inputBuf.append(r)\n    }\n    val inputRDD = spark.sparkContext.parallelize(inputBuf.toSeq)\n    spark.createDataFrame(inputRDD,simpleSchema)\n}\n\n//Write the Sample Data to Aerospike\nsimpleDF.write\n.format(&quot;aerospike&quot;) //aerospike specific format\n.option(&quot;aerospike.writeset&quot;, &quot;spark-test&quot;) //write to this set\n.option(&quot;aerospike.updateByKey&quot;, &quot;one&quot;)//indicates which columns should be used for construction of primary key\n.option(&quot;aerospike.write.mode&quot;,&quot;update&quot;)\n.save()\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645191239,"creation_date":1645191239,"answer_id":71174350,"question_id":70941000,"body_markdown":"I managed to overcome this issue by creating `AerospikeClient` manually inside `foreach` lambda.\r\n\r\n\r\n```java\r\nvar dataset = session.sql(&quot;select * from employee&quot;);\r\ndataset.foreach(row -&gt; {\r\n    var key = new Key(&quot;namespace&quot;, &quot;set&quot;, randomUUID().toString());\r\n    newAerospikeClient(aerospikeProperties).add(\r\n        key,\r\n        new Bin(\r\n            &quot;json-repr&quot;,\r\n            row.json()\r\n        )\r\n    );\r\n});\r\n```\r\n\r\nNow I only have to declare `AerospikeProperties` as `Serializable`.","title":"Apache Spark Dataset. foreach with Aerospike client","body":"<p>I managed to overcome this issue by creating <code>AerospikeClient</code> manually inside <code>foreach</code> lambda.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var dataset = session.sql(&quot;select * from employee&quot;);\ndataset.foreach(row -&gt; {\n    var key = new Key(&quot;namespace&quot;, &quot;set&quot;, randomUUID().toString());\n    newAerospikeClient(aerospikeProperties).add(\n        key,\n        new Bin(\n            &quot;json-repr&quot;,\n            row.json()\n        )\n    );\n});\n</code></pre>\n<p>Now I only have to declare <code>AerospikeProperties</code> as <code>Serializable</code>.</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71174350,"answer_count":2,"score":2,"last_activity_date":1645191239,"creation_date":1643720406,"question_id":70941000,"body_markdown":"I want to retrieve rows from Apache Hive via Apache Spark and put each row to Aerospike cache.\r\n\r\nHere is a simple case.\r\n\r\n\r\n```java\r\nvar dataset = session.sql(&quot;select * from employee&quot;);\r\nfinal var aerospikeClient = aerospike;  // to remove binding between lambda and the service class itself\r\ndataset.foreach(row -&gt; {\r\n    var key = new Key(&quot;namespace&quot;, &quot;set&quot;, randomUUID().toString());\r\n    aerospikeClient.add(\r\n        key,\r\n        new Bin(\r\n            &quot;json-repr&quot;,\r\n            row.json()\r\n        )\r\n    );\r\n});\r\n```\r\n\r\nI get an error:\r\n\r\n```\r\nCaused by: java.io.NotSerializableException: com.aerospike.client.reactor.AerospikeReactorClient\r\n```\r\n\r\nObviously I can&#39;t make `AerospikeReactorClient` serializable. I tried to add `dataset.collectAsList()` and that did work. But as far as understood, this method loads all the content into one node. There might an enormous amount of data. So, it&#39;s not the option.\r\n\r\nWhat are the best practices to deal with such problems? \r\n","title":"Apache Spark Dataset. foreach with Aerospike client","body":"<p>I want to retrieve rows from Apache Hive via Apache Spark and put each row to Aerospike cache.</p>\n<p>Here is a simple case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var dataset = session.sql(&quot;select * from employee&quot;);\nfinal var aerospikeClient = aerospike;  // to remove binding between lambda and the service class itself\ndataset.foreach(row -&gt; {\n    var key = new Key(&quot;namespace&quot;, &quot;set&quot;, randomUUID().toString());\n    aerospikeClient.add(\n        key,\n        new Bin(\n            &quot;json-repr&quot;,\n            row.json()\n        )\n    );\n});\n</code></pre>\n<p>I get an error:</p>\n<pre><code>Caused by: java.io.NotSerializableException: com.aerospike.client.reactor.AerospikeReactorClient\n</code></pre>\n<p>Obviously I can't make <code>AerospikeReactorClient</code> serializable. I tried to add <code>dataset.collectAsList()</code> and that did work. But as far as understood, this method loads all the content into one node. There might an enormous amount of data. So, it's not the option.</p>\n<p>What are the best practices to deal with such problems?</p>\n"},{"tags":["java","multithreading","collections","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645191136,"creation_date":1645186593,"answer_id":71173346,"question_id":71172890,"body_markdown":"You are trying to ask a very broad topic through this question. There can be many possibilities depending on the use cases. \r\n\r\nBut still for a simple put and get scenario, I would recommend using https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\r\n\r\nBlocking Queue is a thread safe collection intended to be used for this purpose.","title":"Java program for multithread environment -one thread to add data to collection and another thread to access it","body":"<p>You are trying to ask a very broad topic through this question. There can be many possibilities depending on the use cases.</p>\n<p>But still for a simple put and get scenario, I would recommend using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html</a></p>\n<p>Blocking Queue is a thread safe collection intended to be used for this purpose.</p>\n"}],"owner":{"account_id":19247028,"reputation":3,"user_id":16657930,"display_name":"Johny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71173346,"answer_count":1,"score":0,"last_activity_date":1645191136,"creation_date":1645184448,"question_id":71172890,"body_markdown":"I am new to java multi threading. I would like to write a program in which having 2 threads. One thread adds data to collection structure and other thread is trying to access it. How to implement the same. So do we have to use only concurrenthashmap as collection? Could you please help on this","title":"Java program for multithread environment -one thread to add data to collection and another thread to access it","body":"<p>I am new to java multi threading. I would like to write a program in which having 2 threads. One thread adds data to collection structure and other thread is trying to access it. How to implement the same. So do we have to use only concurrenthashmap as collection? Could you please help on this</p>\n"},{"tags":["java","xml","eclipse","tomcat","sts"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645191034,"creation_date":1645191034,"answer_id":71174309,"question_id":71168424,"body_markdown":"This is [bug 577703][1], which is fixed in the upcoming March release.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/577703","title":"Mapping error (I guess) while running a servlet on STS(eclipse) through Tomcat","body":"<p>This is <a href=\"https://bugs.eclipse.org/577703\" rel=\"nofollow noreferrer\">bug 577703</a>, which is fixed in the upcoming March release.</p>\n"}],"owner":{"account_id":24295830,"reputation":3,"user_id":18240060,"display_name":"Chronnel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71174309,"answer_count":1,"score":0,"last_activity_date":1645191034,"creation_date":1645158968,"question_id":71168424,"body_markdown":"I&#39;ve just installed &quot;Spring Tool Suite 4&quot; and &quot;Apache Tomcat 10&quot; to learn about Web Application. Following some instructions, I created a new Dynamic Web Project(named &#39;hello&#39;) and a new servlet(named &#39;HelloServlet&#39;).\r\n\r\nHelloServlet goes like \r\n\r\n```\r\npackage practice;\r\n/**\r\n * Servlet implementation class HelloServlet\r\n */\r\n\r\npublic class HelloServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public HelloServlet() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tresponse.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tout.print(&quot;&lt;h1&gt;Hello Servlet&lt;/h1&gt;&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen HelloServlet is run on server, it is directed to &quot;http://localhost:8080/hello/WEB-INF/classes/practice/HelloServlet.java&quot;, not &quot;http://localhost:8080/hello/HelloServlet&quot; and 404 error is returned.\r\n\r\nI found out &#39;@WebServlet&#39; is not automatically added when creating new servlet unlike instructoin I followed. I added @WebServlet(&quot;/HelloServlet&quot;) and then Tomcat Server returned error while starting the server.\r\n\r\nSome additional STS and Tomcat configurations are needed?\r\n\r\n+ When I try to access &quot;http://localhost:8080/hello/HelloServlet&quot;, it works well. I am wondering why STS doesn&#39;t automatically direct to &quot;http://localhost:8080/hello/HelloServlet&quot;!","title":"Mapping error (I guess) while running a servlet on STS(eclipse) through Tomcat","body":"<p>I've just installed &quot;Spring Tool Suite 4&quot; and &quot;Apache Tomcat 10&quot; to learn about Web Application. Following some instructions, I created a new Dynamic Web Project(named 'hello') and a new servlet(named 'HelloServlet').</p>\n<p>HelloServlet goes like</p>\n<pre><code>package practice;\n/**\n * Servlet implementation class HelloServlet\n */\n\npublic class HelloServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public HelloServlet() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\n        PrintWriter out = response.getWriter();\n        out.print(&quot;&lt;h1&gt;Hello Servlet&lt;/h1&gt;&quot;);\n    }\n\n}\n</code></pre>\n<p>When HelloServlet is run on server, it is directed to &quot;http://localhost:8080/hello/WEB-INF/classes/practice/HelloServlet.java&quot;, not &quot;http://localhost:8080/hello/HelloServlet&quot; and 404 error is returned.</p>\n<p>I found out '@WebServlet' is not automatically added when creating new servlet unlike instructoin I followed. I added @WebServlet(&quot;/HelloServlet&quot;) and then Tomcat Server returned error while starting the server.</p>\n<p>Some additional STS and Tomcat configurations are needed?</p>\n<ul>\n<li>When I try to access &quot;http://localhost:8080/hello/HelloServlet&quot;, it works well. I am wondering why STS doesn't automatically direct to &quot;http://localhost:8080/hello/HelloServlet&quot;!</li>\n</ul>\n"},{"tags":["java","osx-snow-leopard","java-6","random-access"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1295625808,"post_id":4760809,"comment_id":5266798,"body_markdown":"I don&#39;t know why it takes so long, but surely you can move the *fileThatTakes45SecondsToClose.close()* to another thread no?  You could have a unique thread dedicated to closing such files (coming from a queue for example) and instead of calling *f.close()* you could call *queue.put*.  If you generate more than one such *&quot;long to close&quot;* file every 45 seconds, you&#39;ll need more threads dequeuing obviously.  Just a crappy workaround in case you need a quick&#39;n&#39;dirty fix or something ;)","body":"I don&#39;t know why it takes so long, but surely you can move the <i>fileThatTakes45SecondsToClose.close()</i> to another thread no?  You could have a unique thread dedicated to closing such files (coming from a queue for example) and instead of calling <i>f.close()</i> you could call <i>queue.put</i>.  If you generate more than one such <i>&quot;long to close&quot;</i> file every 45 seconds, you&#39;ll need more threads dequeuing obviously.  Just a crappy workaround in case you need a quick&#39;n&#39;dirty fix or something ;)"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1295625868,"post_id":4760809,"comment_id":5266817,"body_markdown":"*&quot;sometimes takes almost exactly 45 seconds&quot;*... This is somehow weirdly formulated :)","body":"<i>&quot;sometimes takes almost exactly 45 seconds&quot;</i>... This is somehow weirdly formulated :)"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1295627980,"post_id":4760809,"comment_id":5267382,"body_markdown":"It can depend on how much uncommited data there is.  When you close a file it can force the OS to commit all data to disk.","body":"It can depend on how much uncommited data there is.  When you close a file it can force the OS to commit all data to disk."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1295645744,"post_id":4760809,"comment_id":5271039,"body_markdown":"With &#39;almost exactly&#39; I mean: between 44999 and 45003 milliseconds. Most of the time it&#39;s exactly 45 seconds. I don&#39;t use that constant anywhere in my program. It may be some kind of timeout (thread sleep timeout?) that is part of the VM or operating system.","body":"With &#39;almost exactly&#39; I mean: between 44999 and 45003 milliseconds. Most of the time it&#39;s exactly 45 seconds. I don&#39;t use that constant anywhere in my program. It may be some kind of timeout (thread sleep timeout?) that is part of the VM or operating system."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1425610777,"post_id":4760809,"comment_id":46044288,"body_markdown":"I&#39;m seeing this on OS 10.10 and Java 8. It was exactly the same 45 seconds as well, but the difference is I don&#39;t run antivirus of any sort.","body":"I&#39;m seeing this on OS 10.10 and Java 8. It was exactly the same 45 seconds as well, but the difference is I don&#39;t run antivirus of any sort."}],"answers":[{"tags":[],"owner":{"account_id":95724,"reputation":963,"user_id":260541,"display_name":"rhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295717185,"creation_date":1295717185,"answer_id":4769351,"question_id":4760809,"body_markdown":"It *could* be garbage collection activity, triggered by opening/closing a large number of `RandomAccessFile` objects; there may be nothing magic about 45 seconds - it could just be the time it takes the JVM on your machine to traverse the heap scavenging for objects to free. Having said that, 45 seconds is an *awfully* long GC pause; One application I worked on recently always suffered full GC&#39;s of about 11 seconds.\r\n\r\nTry monitoring your program using **JConsole** or **JVisualVM**, or when you start the program try adding the following options:\r\n\r\n    -verbose:gc -Xloggc:gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps\r\n\r\nThen have a look in the **gc.log** file produced to see what the application stop times are; if you instrument your code to print timestamps you may be able to tie the `close()` behaviour to specific GC activity:\r\n\r\n    ...\r\n    if (close &gt; 200) {\r\n        System.out.println(new Date());\r\n        System.out.println(&quot;closing &quot; + name +\r\n                        &quot; took &quot; + close + &quot; ms!&quot;);\r\n    }\r\n    ...\r\n\r\nIf it is GC related, in the **gc.log** file, you&#39;d be looking for Full garbage collections and/or application stop times at around the timestamps your program outputs files.\r\n\r\nTinkering with the heap settings (`-Xmx=...` and `XX:MaxPermSize=...`) may then give you a completely different profile.\r\n\r\nOn a side note, if it is a temporary file, try using `File file = File.createTempFile(prefix, suffix)` and pass that into the `RandomAccessFile` - this may create files in /var/tmp (or whatever its called) on OS X, thus using an in-memory file system instead of a disk-based file system.","title":"Closing a RandomAccessFile sometimes takes exactly 45 seconds","body":"<p>It <em>could</em> be garbage collection activity, triggered by opening/closing a large number of <code>RandomAccessFile</code> objects; there may be nothing magic about 45 seconds - it could just be the time it takes the JVM on your machine to traverse the heap scavenging for objects to free. Having said that, 45 seconds is an <em>awfully</em> long GC pause; One application I worked on recently always suffered full GC's of about 11 seconds.</p>\n\n<p>Try monitoring your program using <strong>JConsole</strong> or <strong>JVisualVM</strong>, or when you start the program try adding the following options:</p>\n\n<pre><code>-verbose:gc -Xloggc:gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps\n</code></pre>\n\n<p>Then have a look in the <strong>gc.log</strong> file produced to see what the application stop times are; if you instrument your code to print timestamps you may be able to tie the <code>close()</code> behaviour to specific GC activity:</p>\n\n<pre><code>...\nif (close &gt; 200) {\n    System.out.println(new Date());\n    System.out.println(\"closing \" + name +\n                    \" took \" + close + \" ms!\");\n}\n...\n</code></pre>\n\n<p>If it is GC related, in the <strong>gc.log</strong> file, you'd be looking for Full garbage collections and/or application stop times at around the timestamps your program outputs files.</p>\n\n<p>Tinkering with the heap settings (<code>-Xmx=...</code> and <code>XX:MaxPermSize=...</code>) may then give you a completely different profile.</p>\n\n<p>On a side note, if it is a temporary file, try using <code>File file = File.createTempFile(prefix, suffix)</code> and pass that into the <code>RandomAccessFile</code> - this may create files in /var/tmp (or whatever its called) on OS X, thus using an in-memory file system instead of a disk-based file system.</p>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1645190368,"creation_date":1295718535,"answer_id":4769482,"question_id":4760809,"body_markdown":"In my case, it turned out to be McAfee antivirus installed on my machine. I had to install it (company policy)... \r\n\r\nThe problem also showed up if I disabled the on-access scan.\r\n","title":"Closing a RandomAccessFile sometimes takes exactly 45 seconds","body":"<p>In my case, it turned out to be McAfee antivirus installed on my machine. I had to install it (company policy)...</p>\n<p>The problem also showed up if I disabled the on-access scan.</p>\n"}],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3337,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":4769482,"answer_count":2,"score":11,"last_activity_date":1645190368,"creation_date":1295625281,"question_id":4760809,"body_markdown":"In my program, closing a java.util.RandomAccessFile sometimes takes exactly 45 seconds (well, almost exactly: between 44.998 and 45.003 seconds). The program creates and closes lots of small files. Usually closing the file is very quick (between 0 and 0.1 seconds). If I debug the program, it&#39;s stuck in the native method RandomAccessFile.close0.\r\n\r\nThe same problem also occurs when using FileOutputStream instead of RandomAccessFile (in which case the program is blocked in the native method FileOutputStream.close0).\r\n\r\nHas somebody an idea what that could be? Can you reproduce the problem on your system (I can reproduce it only on a Mac, not on Windows XP; I didn&#39;t test yet on Linux)? \r\n\r\n---\r\n\r\n**Update 2:**\r\n\r\nThis only seems to happend on Mac OS X. I use JDK 1.6.0_22-b04. It happens on both 32-bit and 64-bit. On Windows XP it doesn&#39;t seem to occur.\r\n\r\nMy test case is:\r\n\r\n    import java.io.File;\r\n    import java.io.RandomAccessFile;\r\n    public class TestFileClose {\r\n        public static void main(String... args) throws Exception {\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                String name = &quot;test&quot; + i;\r\n                RandomAccessFile r = new RandomAccessFile(name, &quot;rw&quot;);\r\n                r.write(0);\r\n                long t = System.currentTimeMillis();\r\n                r.close();\r\n                long close = System.currentTimeMillis() - t;\r\n                if (close &gt; 200) {\r\n                    System.out.println(&quot;closing &quot; + name +\r\n                            &quot; took &quot; + close + &quot; ms!&quot;);\r\n                }\r\n                if (i % 2000 == 0) {\r\n                    System.out.println(&quot;test &quot; + i + &quot;/100000&quot;);\r\n                }\r\n                new File(name).delete();\r\n            }\r\n        }\r\n    }\r\n\r\nExample output on my machine:\r\n\r\n    test 0/100000\r\n    test 2000/100000\r\n    test 4000/100000\r\n    test 6000/100000\r\n    test 8000/100000\r\n    test 10000/100000\r\n    closing test10030 took 44998 ms!\r\n    test 12000/100000\r\n    test 14000/100000\r\n    test 16000/100000\r\n    closing test16930 took 44998 ms!\r\n    test 18000/100000\r\n    test 20000/100000\r\n\r\n","title":"Closing a RandomAccessFile sometimes takes exactly 45 seconds","body":"<p>In my program, closing a java.util.RandomAccessFile sometimes takes exactly 45 seconds (well, almost exactly: between 44.998 and 45.003 seconds). The program creates and closes lots of small files. Usually closing the file is very quick (between 0 and 0.1 seconds). If I debug the program, it's stuck in the native method RandomAccessFile.close0.</p>\n\n<p>The same problem also occurs when using FileOutputStream instead of RandomAccessFile (in which case the program is blocked in the native method FileOutputStream.close0).</p>\n\n<p>Has somebody an idea what that could be? Can you reproduce the problem on your system (I can reproduce it only on a Mac, not on Windows XP; I didn't test yet on Linux)? </p>\n\n<hr>\n\n<p><strong>Update 2:</strong></p>\n\n<p>This only seems to happend on Mac OS X. I use JDK 1.6.0_22-b04. It happens on both 32-bit and 64-bit. On Windows XP it doesn't seem to occur.</p>\n\n<p>My test case is:</p>\n\n<pre><code>import java.io.File;\nimport java.io.RandomAccessFile;\npublic class TestFileClose {\n    public static void main(String... args) throws Exception {\n        for (int i = 0; i &lt; 100000; i++) {\n            String name = \"test\" + i;\n            RandomAccessFile r = new RandomAccessFile(name, \"rw\");\n            r.write(0);\n            long t = System.currentTimeMillis();\n            r.close();\n            long close = System.currentTimeMillis() - t;\n            if (close &gt; 200) {\n                System.out.println(\"closing \" + name +\n                        \" took \" + close + \" ms!\");\n            }\n            if (i % 2000 == 0) {\n                System.out.println(\"test \" + i + \"/100000\");\n            }\n            new File(name).delete();\n        }\n    }\n}\n</code></pre>\n\n<p>Example output on my machine:</p>\n\n<pre><code>test 0/100000\ntest 2000/100000\ntest 4000/100000\ntest 6000/100000\ntest 8000/100000\ntest 10000/100000\nclosing test10030 took 44998 ms!\ntest 12000/100000\ntest 14000/100000\ntest 16000/100000\nclosing test16930 took 44998 ms!\ntest 18000/100000\ntest 20000/100000\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":378778,"reputation":471,"user_id":731718,"display_name":"Robert Lysik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1563309507,"creation_date":1563309507,"answer_id":57065091,"question_id":57042235,"body_markdown":"The message body of an SQSEvent record where the payload exceeds 256KB should contain a JSON string representing an S3 pointer that consists of the s3BucketName and s3Key attributes for where the actual payload is stored. See the [MessageS3Pointer][1] class definition and storeMessageInS3 method of the [AmazonSQSExtendedClient][2] class for reference. With this information you should then be able to fetch the message content directly from S3 without relying on the SQS Extended Client Library within your Lambda event handler.\r\n\r\n\r\n  [1]: https://github.com/choeflake/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/MessageS3Pointer.java\r\n  [2]: https://github.com/awslabs/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/AmazonSQSExtendedClient.java","title":"How to use AmazonSQSExtendedClient to recieve data from an SQSEvent","body":"<p>The message body of an SQSEvent record where the payload exceeds 256KB should contain a JSON string representing an S3 pointer that consists of the s3BucketName and s3Key attributes for where the actual payload is stored. See the <a href=\"https://github.com/choeflake/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/MessageS3Pointer.java\" rel=\"nofollow noreferrer\">MessageS3Pointer</a> class definition and storeMessageInS3 method of the <a href=\"https://github.com/awslabs/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/AmazonSQSExtendedClient.java\" rel=\"nofollow noreferrer\">AmazonSQSExtendedClient</a> class for reference. With this information you should then be able to fetch the message content directly from S3 without relying on the SQS Extended Client Library within your Lambda event handler.</p>\n"},{"tags":[],"owner":{"account_id":213405,"reputation":669,"user_id":466772,"accept_rate":75,"display_name":"Tom Chiverton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645190300,"creation_date":1645190300,"answer_id":71174132,"question_id":57042235,"body_markdown":"In the receiver, replace\r\n```\r\nfor( var rec in event.Records ){\r\n    const msg = JSON.parse( event.Records[rec].body );\r\n```\r\nwith\r\n```\r\nfor( var rec in event.Records ){\r\n    const s = await s3.getObject({Bucket:process.env.SQS_BODY_BUCKET,Key:event.Records[rec].body}).promise();\r\n    const msg = JSON.parse( s.Body );\r\n```\r\n\r\n","title":"How to use AmazonSQSExtendedClient to recieve data from an SQSEvent","body":"<p>In the receiver, replace</p>\n<pre><code>for( var rec in event.Records ){\n    const msg = JSON.parse( event.Records[rec].body );\n</code></pre>\n<p>with</p>\n<pre><code>for( var rec in event.Records ){\n    const s = await s3.getObject({Bucket:process.env.SQS_BODY_BUCKET,Key:event.Records[rec].body}).promise();\n    const msg = JSON.parse( s.Body );\n</code></pre>\n"}],"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2057,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57065091,"answer_count":2,"score":2,"last_activity_date":1645190300,"creation_date":1563202028,"question_id":57042235,"body_markdown":"I&#39;ve got two AWS lambda functions connected together via an SQS queue. They&#39;ve been working correctly for a while, but recently the size of the payload has increased and now it&#39;s broken the 256Kb limit. \r\n\r\nAfter reading [Question 43738341][1] like to use the AmazonSQSExtendedClient. I&#39;ve looked at the code at [github][2] and have made my first lambda function send messages correctly (small payloads go via SQS, larger payloads are written to S3).\r\n\r\nWhat I&#39;m struggling with is receiving messages: The entry point for my second lambda looks like:\r\n\r\n    public class SqsHandler implements RequestHandler&lt;SQSEvent, Void&gt; {\r\n\r\n      public Void handleRequest(SQSEvent event, Context context) {\r\n        SQSEvent.SQSMessage record = event.getRecords().get(0);\r\n\r\n        System.out.println(&quot;0. record &quot; + record.toString());\r\n        System.out.println(&quot;1. eventSource &quot; + record.getEventSource());\r\n        System.out.println(&quot;2. eventSourceARN &quot; + record.getEventSourceArn());\r\n        System.out.println(&quot;3. MessageId&quot;  + record.getMessageId());\r\n        System.out.println(&quot;4. ReceiptHandle &quot; + record.getReceiptHandle());\r\n        System.out.println(&quot;5. Body &quot; + record.getBody());\r\n      }\r\n    }\r\n\r\nWhen my entry point is called I&#39;ve already received my SQS event. I don&#39;t (and shouldn&#39;t?) know the queue it&#39;s come from.\r\n\r\nThe code sample on GitHub (which is copied almost line by line onto all of the other sites) the sender and receiver are both the same lambda. Consequently it&#39;s able to create a ReceiveMessageRequest object because it knows the queue URL. \r\n\r\nIn a real system the sender and receiver are never the same. I could even be receiving data from multiple Lambdas over multiple queues\r\n\r\nWhat I don&#39;t understand is how the receiving Lambda should be written. The sample code on the [AWS Website][3] says:\r\n\r\n    final ReceiveMessageRequest receiveMessageRequest =\r\n            new ReceiveMessageRequest(myQueueUrl);\r\n    List&lt;Message&gt; messages = sqsExtended\r\n            .receiveMessage(receiveMessageRequest).getMessages();\r\n\r\nBut this requires me to know the url of the queue. It also doesn&#39;t tie into the SQSEvent, which will need to be consumed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43738341/amazon-sqs-more-than-2gb-data\r\n  [2]: https://github.com/awslabs/amazon-sqs-java-extended-client-lib\r\n  [3]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/working-java-example-using-s3-for-large-sqs-messages.html","title":"How to use AmazonSQSExtendedClient to recieve data from an SQSEvent","body":"<p>I've got two AWS lambda functions connected together via an SQS queue. They've been working correctly for a while, but recently the size of the payload has increased and now it's broken the 256Kb limit. </p>\n\n<p>After reading <a href=\"https://stackoverflow.com/questions/43738341/amazon-sqs-more-than-2gb-data\">Question 43738341</a> like to use the AmazonSQSExtendedClient. I've looked at the code at <a href=\"https://github.com/awslabs/amazon-sqs-java-extended-client-lib\" rel=\"nofollow noreferrer\">github</a> and have made my first lambda function send messages correctly (small payloads go via SQS, larger payloads are written to S3).</p>\n\n<p>What I'm struggling with is receiving messages: The entry point for my second lambda looks like:</p>\n\n<pre><code>public class SqsHandler implements RequestHandler&lt;SQSEvent, Void&gt; {\n\n  public Void handleRequest(SQSEvent event, Context context) {\n    SQSEvent.SQSMessage record = event.getRecords().get(0);\n\n    System.out.println(\"0. record \" + record.toString());\n    System.out.println(\"1. eventSource \" + record.getEventSource());\n    System.out.println(\"2. eventSourceARN \" + record.getEventSourceArn());\n    System.out.println(\"3. MessageId\"  + record.getMessageId());\n    System.out.println(\"4. ReceiptHandle \" + record.getReceiptHandle());\n    System.out.println(\"5. Body \" + record.getBody());\n  }\n}\n</code></pre>\n\n<p>When my entry point is called I've already received my SQS event. I don't (and shouldn't?) know the queue it's come from.</p>\n\n<p>The code sample on GitHub (which is copied almost line by line onto all of the other sites) the sender and receiver are both the same lambda. Consequently it's able to create a ReceiveMessageRequest object because it knows the queue URL. </p>\n\n<p>In a real system the sender and receiver are never the same. I could even be receiving data from multiple Lambdas over multiple queues</p>\n\n<p>What I don't understand is how the receiving Lambda should be written. The sample code on the <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/working-java-example-using-s3-for-large-sqs-messages.html\" rel=\"nofollow noreferrer\">AWS Website</a> says:</p>\n\n<pre><code>final ReceiveMessageRequest receiveMessageRequest =\n        new ReceiveMessageRequest(myQueueUrl);\nList&lt;Message&gt; messages = sqsExtended\n        .receiveMessage(receiveMessageRequest).getMessages();\n</code></pre>\n\n<p>But this requires me to know the url of the queue. It also doesn't tie into the SQSEvent, which will need to be consumed.</p>\n"},{"tags":["java","inputstream","ftp-client"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645184824,"post_id":71172909,"comment_id":125809696,"body_markdown":"Not sure if you are missing a call to completePendingCommand . In Javadocs: &quot;To finalize the file transfer you must call completePendingCommand and check its return value to verify success. If this is not done, subsequent commands may behave unexpectedly. &quot;","body":"Not sure if you are missing a call to completePendingCommand . In Javadocs: &quot;To finalize the file transfer you must call completePendingCommand and check its return value to verify success. If this is not done, subsequent commands may behave unexpectedly. &quot;"},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1645185306,"post_id":71172909,"comment_id":125809874,"body_markdown":"Hi @pringi, thank you for your reply.  I will add `completePendingCommand` as you suggest because it looks like a valid check.  But this is done after the inputStream is retrieved as null, so it has no affect.","body":"Hi @pringi, thank you for your reply.  I will add <code>completePendingCommand</code> as you suggest because it looks like a valid check.  But this is done after the inputStream is retrieved as null, so it has no affect."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645185718,"post_id":71172909,"comment_id":125810026,"body_markdown":"Type 1 is a directory (public static final int DIRECTORY_TYPE = 1;). I think that this is the problem. Check with file.isDirectory()","body":"Type 1 is a directory (public static final int DIRECTORY_TYPE = 1;). I think that this is the problem. Check with file.isDirectory()"},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1645186602,"post_id":71172909,"comment_id":125810354,"body_markdown":"Thank you, you are correct, it is a directory: `File name: 746, type: 1, size: 48, directory: true, file: false.`","body":"Thank you, you are correct, it is a directory: <code>File name: 746, type: 1, size: 48, directory: true, file: false.</code>"},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1645187563,"post_id":71172909,"comment_id":125810664,"body_markdown":"I still get a `null` InputStream with the following:  `File name: &#39;746_CLHO_01FEB22.csv&#39;, type: &#39;0&#39;, size: &#39;1748955&#39;, directory: &#39;false&#39;, file: &#39;true&#39;.`.","body":"I still get a <code>null</code> InputStream with the following:  <code>File name: &#39;746_CLHO_01FEB22.csv&#39;, type: &#39;0&#39;, size: &#39;1748955&#39;, directory: &#39;false&#39;, file: &#39;true&#39;.</code>."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645189710,"post_id":71172909,"comment_id":125811395,"body_markdown":"You should check null before processFile.","body":"You should check null before processFile."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1645189807,"post_id":71172909,"comment_id":125811436,"body_markdown":"I do check for `null` in the `processFile` method.","body":"I do check for <code>null</code> in the <code>processFile</code> method."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645190365,"post_id":71172909,"comment_id":125811618,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242153/discussion-between-pringi-and-richard).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242153/discussion-between-pringi-and-richard\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645188147,"creation_date":1645188147,"answer_id":71173675,"question_id":71172909,"body_markdown":"You must add `completePendingCommand` after each command.\r\n\r\nIn the following piece of code completePendingCommand is commented out.\r\n\r\n            for (FTPFile file : files) {\r\n              System.out.println(\r\n                  &quot;File name: &quot; + file.getName() + &quot;, type: &quot; + file.getType() + &quot;, size: &quot; + file.getSize() + &quot;.&quot;);\r\n              InputStream is = ftp.retrieveFileStream(file.getName());\r\n    \r\n              System.out.println(is == null);\r\n    \r\n    //          ftp.completePendingCommand();\r\n            }\r\n\r\nThe result is:\r\n\r\n&gt; Connected to ftp.dlptest.com. 220 \r\n&gt;\r\n&gt; File name: actorstoday.txt, type: 0,\r\n&gt; size: 0. \r\n&gt; false \r\n&gt;\r\n&gt; File name: actorstomorrow.txt, type: 0, size: 0. \r\n&gt; true\r\n\r\nAs you an see the second request is returning a null InputStream.\r\n\r\n\r\nChanging to: \r\n\r\n    for (FTPFile file : files) {\r\n      System.out.println(\r\n          &quot;File name: &quot; + file.getName() + &quot;, type: &quot; + file.getType() + &quot;, size: &quot; + file.getSize() + &quot;.&quot;);\r\n      InputStream is = ftp.retrieveFileStream(file.getName());\r\n\r\n      System.out.println(is == null);\r\n\r\n      ftp.completePendingCommand();\r\n    }\r\n\r\nThe result is :\r\n\r\n&gt; Connected to ftp.dlptest.com. 220 \r\n&gt;\r\n&gt; File name: actorstoday.txt, type: 0,\r\n&gt; size: 0. \r\n&gt; false \r\n&gt;\r\n&gt; File name: actorstomorrow.txt, type: 0, size: 0. \r\n&gt; false \r\n\r\nIn each iteration of the for loop you must call `completePendingCommand`.","title":"Apache FTPClient.retrieveFileStream(String) returns null","body":"<p>You must add <code>completePendingCommand</code> after each command.</p>\n<p>In the following piece of code completePendingCommand is commented out.</p>\n<pre><code>        for (FTPFile file : files) {\n          System.out.println(\n              &quot;File name: &quot; + file.getName() + &quot;, type: &quot; + file.getType() + &quot;, size: &quot; + file.getSize() + &quot;.&quot;);\n          InputStream is = ftp.retrieveFileStream(file.getName());\n\n          System.out.println(is == null);\n\n//          ftp.completePendingCommand();\n        }\n</code></pre>\n<p>The result is:</p>\n<blockquote>\n<p>Connected to ftp.dlptest.com. 220</p>\n<p>File name: actorstoday.txt, type: 0,\nsize: 0.\nfalse</p>\n<p>File name: actorstomorrow.txt, type: 0, size: 0.\ntrue</p>\n</blockquote>\n<p>As you an see the second request is returning a null InputStream.</p>\n<p>Changing to:</p>\n<pre><code>for (FTPFile file : files) {\n  System.out.println(\n      &quot;File name: &quot; + file.getName() + &quot;, type: &quot; + file.getType() + &quot;, size: &quot; + file.getSize() + &quot;.&quot;);\n  InputStream is = ftp.retrieveFileStream(file.getName());\n\n  System.out.println(is == null);\n\n  ftp.completePendingCommand();\n}\n</code></pre>\n<p>The result is :</p>\n<blockquote>\n<p>Connected to ftp.dlptest.com. 220</p>\n<p>File name: actorstoday.txt, type: 0,\nsize: 0.\nfalse</p>\n<p>File name: actorstomorrow.txt, type: 0, size: 0.\nfalse</p>\n</blockquote>\n<p>In each iteration of the for loop you must call <code>completePendingCommand</code>.</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71173675,"answer_count":1,"score":0,"last_activity_date":1645190230,"creation_date":1645184520,"question_id":71172909,"body_markdown":"I am using Java 11 and SpringBoot.  I am trying to create a FTPClient to read files from an existing FTP server.  Using Apache [FTPClient][1].\r\n\r\n**Problem:**\r\n\r\n    InputStream is = ftp.retrieveFileStream(file.getName());\r\n\r\nThe following always returns a `null` InputStream.\r\n\r\n**Info:**\r\n\r\n    logger.info(&quot;File name: &quot;+file.getName()+&quot;, type: &quot;+file.getType()+&quot;, size: &quot;+file.getSize()+&quot;.&quot;);\r\n\r\nreturns:\r\n\r\n&gt; File name: cam_test, type: 1, size: 28.\r\n\r\n**Question:**\r\n\r\nYou can see that there is a file called &#39;cam_test&#39;, why can&#39;t this be converted into an InputStream?\r\n\r\n**Code:**\r\n\r\n    import org.apache.commons.net.ftp.FTPClient;\r\n\r\n    public void processFiles() {\r\n        FTPClient ftp = new FTPClient();\r\n        try {\r\n            ftp.connect(IP_ADDRESS);\r\n\r\n            int reply = ftp.getReplyCode();\r\n\r\n            logger.info(&quot;Connected to &quot; + IP_ADDRESS + &quot;. ReplyCode: &#39;&quot;+reply+&quot;&#39;.&quot;);\r\n            if(!FTPReply.isPositiveCompletion(reply)) {\r\n                ftp.disconnect();\r\n                logger.error(&quot;FTP server (&#39;&quot;+IP_ADDRESS+&quot;&#39;) refused connection.&quot;);\r\n            } else {\r\n                // transfer files\r\n                ftp.login(USERNAME, PASSWORD);\r\n                FTPFile[] files = ftp.listFiles(BASE_DIR);\r\n                logger.info(&quot;Connected to &quot; + IP_ADDRESS + &quot;. Got &#39;&quot;+files.length+&quot;&#39; files from working directory: &quot;+ftp.printWorkingDirectory()+BASE_DIR+&quot;.&quot;);\r\n                for (FTPFile file : files) {\r\n                    logger.info(&quot;File name: &#39;&quot;+file.getName()+&quot;&#39;, type: &#39;&quot;+file.getType()+&quot;&#39;, size: &#39;&quot;+file.getSize()+&quot;&#39;, directory: &#39;&quot;+file.isDirectory()+&quot;&#39;, file: &#39;&quot;+file.isFile()+&quot;&#39;.&quot;);\r\n                    if (file.isFile() &amp;&amp; 0 == file.getType()) {\r\n                        InputStream is = ftp.retrieveFileStream(file.getName());  // &lt;--- is always null\r\n                        processFile(file, is);\r\n                        if (is != null) {\r\n                            is.close();\r\n                        }\r\n                        boolean completePendingCommand = ftp.completePendingCommand();\r\n                        logger.info(&quot;completePendingCommand: &quot;+completePendingCommand);\r\n                    }\r\n                }\r\n            }\r\n        } catch(IOException e) {\r\n            logger.error(e.getMessage(), e);\r\n        } finally {\r\n            if(ftp.isConnected()) {\r\n                try {\r\n                    ftp.disconnect();\r\n                } catch(IOException ioe) {\r\n                    // do nothing\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html","title":"Apache FTPClient.retrieveFileStream(String) returns null","body":"<p>I am using Java 11 and SpringBoot.  I am trying to create a FTPClient to read files from an existing FTP server.  Using Apache <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\">FTPClient</a>.</p>\n<p><strong>Problem:</strong></p>\n<pre><code>InputStream is = ftp.retrieveFileStream(file.getName());\n</code></pre>\n<p>The following always returns a <code>null</code> InputStream.</p>\n<p><strong>Info:</strong></p>\n<pre><code>logger.info(&quot;File name: &quot;+file.getName()+&quot;, type: &quot;+file.getType()+&quot;, size: &quot;+file.getSize()+&quot;.&quot;);\n</code></pre>\n<p>returns:</p>\n<blockquote>\n<p>File name: cam_test, type: 1, size: 28.</p>\n</blockquote>\n<p><strong>Question:</strong></p>\n<p>You can see that there is a file called 'cam_test', why can't this be converted into an InputStream?</p>\n<p><strong>Code:</strong></p>\n<pre><code>import org.apache.commons.net.ftp.FTPClient;\n\npublic void processFiles() {\n    FTPClient ftp = new FTPClient();\n    try {\n        ftp.connect(IP_ADDRESS);\n\n        int reply = ftp.getReplyCode();\n\n        logger.info(&quot;Connected to &quot; + IP_ADDRESS + &quot;. ReplyCode: '&quot;+reply+&quot;'.&quot;);\n        if(!FTPReply.isPositiveCompletion(reply)) {\n            ftp.disconnect();\n            logger.error(&quot;FTP server ('&quot;+IP_ADDRESS+&quot;') refused connection.&quot;);\n        } else {\n            // transfer files\n            ftp.login(USERNAME, PASSWORD);\n            FTPFile[] files = ftp.listFiles(BASE_DIR);\n            logger.info(&quot;Connected to &quot; + IP_ADDRESS + &quot;. Got '&quot;+files.length+&quot;' files from working directory: &quot;+ftp.printWorkingDirectory()+BASE_DIR+&quot;.&quot;);\n            for (FTPFile file : files) {\n                logger.info(&quot;File name: '&quot;+file.getName()+&quot;', type: '&quot;+file.getType()+&quot;', size: '&quot;+file.getSize()+&quot;', directory: '&quot;+file.isDirectory()+&quot;', file: '&quot;+file.isFile()+&quot;'.&quot;);\n                if (file.isFile() &amp;&amp; 0 == file.getType()) {\n                    InputStream is = ftp.retrieveFileStream(file.getName());  // &lt;--- is always null\n                    processFile(file, is);\n                    if (is != null) {\n                        is.close();\n                    }\n                    boolean completePendingCommand = ftp.completePendingCommand();\n                    logger.info(&quot;completePendingCommand: &quot;+completePendingCommand);\n                }\n            }\n        }\n    } catch(IOException e) {\n        logger.error(e.getMessage(), e);\n    } finally {\n        if(ftp.isConnected()) {\n            try {\n                ftp.disconnect();\n            } catch(IOException ioe) {\n                // do nothing\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","image","crop"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1645189549,"post_id":71173449,"comment_id":125811342,"body_markdown":"Are you sure they are *identical*? You seem to forget to multiply x/y with the tile size. I don&#39;t think the bug you refer to is relevant for the version of Java you are using.","body":"Are you sure they are <i>identical</i>? You seem to forget to multiply x/y with the tile size. I don&#39;t think the bug you refer to is relevant for the version of Java you are using."},{"owner":{"account_id":24299901,"reputation":1,"user_id":18243543,"display_name":"Charlotte Braillie"},"score":0,"creation_date":1646075455,"post_id":71173449,"comment_id":126030363,"body_markdown":"yes, I&#39;m sure it&#39;s not a bug on my side. Following code also gives me upper left corner.  ```ImageIO.write(image\n                .getSubimage(1, 1, image.getWidth() / 2, image.getHeight() / 2), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + 1 + &quot;,&quot; + 1 + &quot;).png&quot;));```","body":"yes, I&#39;m sure it&#39;s not a bug on my side. Following code also gives me upper left corner.  <code>ImageIO.write(image                 .getSubimage(1, 1, image.getWidth() &#47; 2, image.getHeight() &#47; 2), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + 1 + &quot;,&quot; + 1 + &quot;).png&quot;));</code>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1646076560,"post_id":71173449,"comment_id":126030684,"body_markdown":"But it’s supposed to give you the upper left corner (only 1 pixel off)..?","body":"But it’s supposed to give you the upper left corner (only 1 pixel off)..?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645190206,"creation_date":1645188942,"answer_id":71173845,"question_id":71173449,"body_markdown":"They are not all starting at (0,0) - but they are starting at the positions (0,0); (0,1); (0,2) and so on until the last starts at (7,7).\r\n\r\nYou want to increase the top/left coordinates not by 1, but by `widthFragment` and `heightFragment`.\r\n\r\nOne way to do this is:\r\n\r\n        for (int x = 0; x &lt; columnCount; x++) {\r\n            for (int y = 0; y &lt; rowCount; y++) {\r\n                ImageIO.write(image\r\n                        .getSubimage(x*widthFragment, y*heightFragment, widthFragment, heightFragment), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + x + &quot;,&quot; + y + &quot;).png&quot;));\r\n            }\r\n        }\r\n\r\nOr you change the step sizes for x and y:\r\n\r\n        for (int x = 0; x &lt; image.getWidth(); x += widthFragment) {\r\n            for (int y = 0; y &lt; image.getHeight(); y += heightFragment) {\r\n                ImageIO.write(image\r\n                        .getSubimage(x, y, widthFragment, heightFragment), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + x/widthFragment + &quot;,&quot; + y/heightFragment + &quot;).png&quot;));\r\n            }\r\n        }\r\n","title":"java.awt.image.BufferedImage.getSubimage ignores x,y coordinates (jdk-11.0.9.11-hotspot)","body":"<p>They are not all starting at (0,0) - but they are starting at the positions (0,0); (0,1); (0,2) and so on until the last starts at (7,7).</p>\n<p>You want to increase the top/left coordinates not by 1, but by <code>widthFragment</code> and <code>heightFragment</code>.</p>\n<p>One way to do this is:</p>\n<pre><code>    for (int x = 0; x &lt; columnCount; x++) {\n        for (int y = 0; y &lt; rowCount; y++) {\n            ImageIO.write(image\n                    .getSubimage(x*widthFragment, y*heightFragment, widthFragment, heightFragment), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + x + &quot;,&quot; + y + &quot;).png&quot;));\n        }\n    }\n</code></pre>\n<p>Or you change the step sizes for x and y:</p>\n<pre><code>    for (int x = 0; x &lt; image.getWidth(); x += widthFragment) {\n        for (int y = 0; y &lt; image.getHeight(); y += heightFragment) {\n            ImageIO.write(image\n                    .getSubimage(x, y, widthFragment, heightFragment), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + x/widthFragment + &quot;,&quot; + y/heightFragment + &quot;).png&quot;));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":24299901,"reputation":1,"user_id":18243543,"display_name":"Charlotte Braillie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645190206,"creation_date":1645187090,"question_id":71173449,"body_markdown":"I&#39;m trying to divide a jpg file into 8x8 sub images.\r\nMy output gives me 64 *identical* png files, seemingly all with coordinates (0,0).\r\nAccording to an older issue [Issues with cropping an image using java image.getSubimage][1] this was once a bug which was solved by upgrading to java 7.\r\nI&#39;m using jdk-11.0.9.11-hotspot.\r\n\r\nMy code:\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        int columnCount = 8;\r\n        int rowCount = 8;\r\n        String fileName = args[0];//e.g. C:\\picturetest\\mypicture.jpg\r\n        String fileNameNoExt = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\r\n\r\n        BufferedImage image = ImageIO.read(new File(fileName));\r\n        int heightFragment = image.getHeight() / rowCount;\r\n        int widthFragment = image.getWidth() / columnCount;\r\n\r\n        for (int x = 0; x &lt; columnCount; x++) {\r\n            for (int y = 0; y &lt; rowCount; y++) {\r\n                ImageIO.write(image\r\n                        .getSubimage(x, y, widthFragment, heightFragment), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + x + &quot;,&quot; + y + &quot;).png&quot;));\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15854069/issues-with-cropping-an-image-using-java-image-getsubimage","title":"java.awt.image.BufferedImage.getSubimage ignores x,y coordinates (jdk-11.0.9.11-hotspot)","body":"<p>I'm trying to divide a jpg file into 8x8 sub images.\nMy output gives me 64 <em>identical</em> png files, seemingly all with coordinates (0,0).\nAccording to an older issue <a href=\"https://stackoverflow.com/questions/15854069/issues-with-cropping-an-image-using-java-image-getsubimage\">Issues with cropping an image using java image.getSubimage</a> this was once a bug which was solved by upgrading to java 7.\nI'm using jdk-11.0.9.11-hotspot.</p>\n<p>My code:</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        int columnCount = 8;\n        int rowCount = 8;\n        String fileName = args[0];//e.g. C:\\picturetest\\mypicture.jpg\n        String fileNameNoExt = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\n\n        BufferedImage image = ImageIO.read(new File(fileName));\n        int heightFragment = image.getHeight() / rowCount;\n        int widthFragment = image.getWidth() / columnCount;\n\n        for (int x = 0; x &lt; columnCount; x++) {\n            for (int y = 0; y &lt; rowCount; y++) {\n                ImageIO.write(image\n                        .getSubimage(x, y, widthFragment, heightFragment), &quot;jpg&quot;, new File(fileNameNoExt + &quot;-(&quot; + x + &quot;,&quot; + y + &quot;).png&quot;));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","log4j2","log4jdbc"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644695568,"creation_date":1644694802,"answer_id":71095246,"question_id":71093348,"body_markdown":"If your ORM vendor is Hiberante, which is by default in Spring framework you can use the following properties inside `log4j2.xml`\r\n\r\n\r\n      &lt;AsyncLogger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;LOGFILE&quot;/&gt;\r\n      &lt;/AsyncLogger&gt;\r\n   \r\n      &lt;AsyncLogger name=&quot;org.hibernate.type&quot; level=&quot;TRACE&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;LOGFILE&quot;/&gt;\r\n      &lt;/AsyncLogger&gt;\r\n\r\nThose 2 above properties include all necessary classes for the SQLs to appear correctly in your logs, including the binded values inside `?` placeholders.\r\n\r\nMore specifically in hibernate the responsible class for placing values inside `?` is the `org.hibernate.type.descriptor.sql.BasicBinder`. Those 2 above properties include this class as well to the `Trace` level, so the binded values for `?` are correctly appended.\r\n\r\n","title":"log4j2: Is there any way to display sql values in log4j2?","body":"<p>If your ORM vendor is Hiberante, which is by default in Spring framework you can use the following properties inside <code>log4j2.xml</code></p>\n<pre><code>  &lt;AsyncLogger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot;&gt;\n      &lt;AppenderRef ref=&quot;LOGFILE&quot;/&gt;\n  &lt;/AsyncLogger&gt;\n\n  &lt;AsyncLogger name=&quot;org.hibernate.type&quot; level=&quot;TRACE&quot;&gt;\n      &lt;AppenderRef ref=&quot;LOGFILE&quot;/&gt;\n  &lt;/AsyncLogger&gt;\n</code></pre>\n<p>Those 2 above properties include all necessary classes for the SQLs to appear correctly in your logs, including the binded values inside <code>?</code> placeholders.</p>\n<p>More specifically in hibernate the responsible class for placing values inside <code>?</code> is the <code>org.hibernate.type.descriptor.sql.BasicBinder</code>. Those 2 above properties include this class as well to the <code>Trace</code> level, so the binded values for <code>?</code> are correctly appended.</p>\n"},{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645189939,"creation_date":1645189939,"answer_id":71174050,"question_id":71093348,"body_markdown":"Consider using the datasource proxy [TTDDYY][1] that logs the quires already at more convenient way\r\n\r\n  [1]: http://ttddyy.github.io/datasource-proxy/docs/current/user-guide/#_sample_log_output","title":"log4j2: Is there any way to display sql values in log4j2?","body":"<p>Consider using the datasource proxy <a href=\"http://ttddyy.github.io/datasource-proxy/docs/current/user-guide/#_sample_log_output\" rel=\"nofollow noreferrer\">TTDDYY</a> that logs the quires already at more convenient way</p>\n"}],"owner":{"account_id":18713966,"reputation":331,"user_id":13643444,"display_name":"EManual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645189939,"creation_date":1644680698,"question_id":71093348,"body_markdown":"Right now my info logs only show sql queries with ? for values. Can you suggest me changes to log4j2.xml file to display values?\r\n\r\n**log4j2.xml:**\r\n\r\n  \r\n\r\n       &lt;RollingRandomAccessFile name=&quot;SQLLOGFILE&quot;&gt;\r\n        &lt;PatternLayout&gt;\r\n          &lt;Pattern&gt;%-5p:%d{dd-MMM-yyyy HH:mm:ss,SSS}: %-25t %c : %m%n&lt;/Pattern&gt;\r\n        &lt;/PatternLayout&gt;\r\n       &lt;/RollingRandomAccessFile&gt;\r\n    \r\n         &lt;AsyncLogger name=&quot;jdbc.sqlonly&quot; level=&quot;INFO&quot;&gt;\r\n           &lt;AppenderRef ref=&quot;LOGFILE&quot; level=&quot;INFO&quot;/&gt;\r\n         &lt;/AsyncLogger&gt;\r\n    \r\n         &lt;AsyncLogger name=&quot;jdbc.audit&quot; level=&quot;off&quot;&gt;&lt;/AsyncLogger&gt;\r\n    \r\n         &lt;AsyncLogger name=&quot;jdbc.resultset&quot; level=&quot;off&quot;&gt;&lt;/AsyncLogger&gt;\r\n    \r\n         &lt;AsyncLogger name=&quot;jdbc.connection&quot; level=&quot;DEBUG&quot;&gt;\r\n           &lt;AppenderRef ref=&quot;CONNECTION&quot;/&gt;\r\n         &lt;/AsyncLogger&gt; \r\n\r\n","title":"log4j2: Is there any way to display sql values in log4j2?","body":"<p>Right now my info logs only show sql queries with ? for values. Can you suggest me changes to log4j2.xml file to display values?</p>\n<p><strong>log4j2.xml:</strong></p>\n<pre><code>   &lt;RollingRandomAccessFile name=&quot;SQLLOGFILE&quot;&gt;\n    &lt;PatternLayout&gt;\n      &lt;Pattern&gt;%-5p:%d{dd-MMM-yyyy HH:mm:ss,SSS}: %-25t %c : %m%n&lt;/Pattern&gt;\n    &lt;/PatternLayout&gt;\n   &lt;/RollingRandomAccessFile&gt;\n\n     &lt;AsyncLogger name=&quot;jdbc.sqlonly&quot; level=&quot;INFO&quot;&gt;\n       &lt;AppenderRef ref=&quot;LOGFILE&quot; level=&quot;INFO&quot;/&gt;\n     &lt;/AsyncLogger&gt;\n\n     &lt;AsyncLogger name=&quot;jdbc.audit&quot; level=&quot;off&quot;&gt;&lt;/AsyncLogger&gt;\n\n     &lt;AsyncLogger name=&quot;jdbc.resultset&quot; level=&quot;off&quot;&gt;&lt;/AsyncLogger&gt;\n\n     &lt;AsyncLogger name=&quot;jdbc.connection&quot; level=&quot;DEBUG&quot;&gt;\n       &lt;AppenderRef ref=&quot;CONNECTION&quot;/&gt;\n     &lt;/AsyncLogger&gt; \n</code></pre>\n"},{"tags":["java","eclipse","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":21430327,"reputation":361,"user_id":15786876,"display_name":"Shweta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645189871,"creation_date":1645189871,"answer_id":71174038,"question_id":71075920,"body_markdown":"It seems you are using Client credential flow. This implies that the token will have application claims i.e. running in the context of an application. Therefore you cannot use /me endpoint here.\r\n\r\nYou can use users/id instead.\r\nAlternatively, you can use OAuth authorization code flow (where the token will have both user as well as application claims ) to leverage /me endpoint.\r\n\r\nFollow tutorial [here][1] to generate access token accordingly.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/auth-v2-user","title":"How to get Mailbox after creating a Microsoft Graph Client (JAVA - Eclipse IDE)?","body":"<p>It seems you are using Client credential flow. This implies that the token will have application claims i.e. running in the context of an application. Therefore you cannot use /me endpoint here.</p>\n<p>You can use users/id instead.\nAlternatively, you can use OAuth authorization code flow (where the token will have both user as well as application claims ) to leverage /me endpoint.</p>\n<p>Follow tutorial <a href=\"https://learn.microsoft.com/en-us/graph/auth-v2-user\" rel=\"nofollow noreferrer\">here</a> to generate access token accordingly.</p>\n"}],"owner":{"account_id":24178263,"reputation":15,"user_id":18139310,"display_name":"YT MAURITIUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71174038,"answer_count":1,"score":0,"last_activity_date":1645189871,"creation_date":1644560585,"question_id":71075920,"body_markdown":"I have successfully created a MS Graph Client using Azure AD and JAVA. I have used the ClientSecretCredential for authentication. I believe the access token being received is valid too. However, I now want to get access to my (outlook) mailbox, using MS Graph and JAVA, to count the total number of emails in my Inbox Folder. Please find my code and errors below. I think it&#39;s because the code is for Delegated and not Application Permissions. Kindly help.\r\n\r\n \r\n\r\n    package JAVA_MicrosoftGraphAPI;\r\n    \r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.log4j.PropertyConfigurator;\r\n    \r\n    import com.azure.identity.ClientSecretCredential;\r\n    import com.azure.identity.ClientSecretCredentialBuilder;\r\n    import com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\n    import com.microsoft.graph.logger.DefaultLogger;\r\n    import com.microsoft.graph.logger.LoggerLevel;\r\n    import com.microsoft.graph.options.Option;\r\n    import com.microsoft.graph.options.QueryOption;\r\n    import com.microsoft.graph.requests.GraphServiceClient;\r\n    import com.microsoft.graph.requests.MessageCollectionPage;\r\n    \r\n    public class soTest {\r\n    \r\n    \t// for requirements visit:\r\n    \t// https://github.com/Azure/azure-sdk-for-java/wiki/Set-up-Your-Environment-for-Authentication#enable-applications-for-device-code-flow\r\n    \tprivate final static String CLIENT_ID = &quot;XXXXXXXXXXXXX&quot;;\r\n    \tprivate final static String TENANT_ID = &quot;XXXXXXXXXXXXX&quot;;\r\n    \tprivate final static String SECRET_Value = &quot;XXXXXXXXXXXXX&quot;;\r\n    \r\n    \t// Set the scopes for your ms-graph request\r\n    \tprivate final static List&lt;String&gt; SCOPES = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \r\n    \t\tfinal ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n    \t\t\t\t.clientId(CLIENT_ID)\r\n    \t\t\t\t.clientSecret(SECRET_Value)\r\n    \t\t\t\t.tenantId(TENANT_ID)\r\n    \t\t\t\t.build();\r\n    \r\n    \r\n    \t\tfinal TokenCredentialAuthProvider tokenCredAuthProvider = new TokenCredentialAuthProvider(SCOPES, clientSecretCredential);\r\n    \t\tSystem.out.println(&quot;First Step Reached. &quot;);\r\n    \r\n    \r\n    \t\t// Create default logger to only log errors\r\n    \t\tDefaultLogger logger = new DefaultLogger();\r\n    \t\tlogger.setLoggingLevel(LoggerLevel.ERROR);\r\n    \r\n    \r\n    \t\t// Build a Graph client\r\n    \t\tGraphServiceClient graphClient = GraphServiceClient.builder()\r\n    \t\t\t\t.authenticationProvider(tokenCredAuthProvider)\r\n    \t\t\t\t.logger(logger)\r\n    \t\t\t\t.buildClient();\r\n    \t\tSystem.out.println(&quot;Second Step Reached. &quot;);\r\n    \r\n    \r\n    \t\t//\t\tfinal OkHttpClient httpClient = HttpClients.createDefault(tokenCredAuthProvider);\r\n    \t\t//\t\tfinal Request request = new Request.Builder().url(&quot;https://graph.microsoft.com/v1.0/me&quot;).build();\r\n    \t\t// Redirecting to web browser and signing in for authentication and connection.\r\n    \t\tURL myUrl = new URL(&quot;https://graph.microsoft.com/v1.0/me/&quot;);\r\n    \t\tfinal String accessToken = tokenCredAuthProvider.getAuthorizationTokenAsync(myUrl).get();\r\n    \t\tSystem.out.println(&quot;Access token --&gt; &quot; + accessToken);\r\n    \r\n    \r\n    \t\tLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    \t\trequestOptions.add(new QueryOption(&quot;/select&quot;, &quot;internetMessageHeaders&quot;));\r\n    \r\n    \t\tMessageCollectionPage messages = graphClient.me().messages()\r\n    \t\t\t.buildRequest( requestOptions )\r\n    \t\t\t.get();\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    Exception in thread &quot;main&quot; com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\n    Error message: /me request is only valid with delegated authentication flow.\r\n    \r\n    GET https://graph.microsoft.com/v1.0/me/messages?%2Fselect=internetMessageHeaders\r\n    SdkVersion : graph-java/v5.14.0\r\n    \r\n    \r\n    400 : Bad Request\r\n    [...]\r\n    \r\n    [Some information was truncated for brevity, enable debug logging for more details]\r\n    \tat com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:419)\r\n    \tat com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:378)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.handleErrorResponse(CoreHttpProvider.java:514)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.processResponse(CoreHttpProvider.java:443)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:409)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:226)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:203)\r\n    \tat com.microsoft.graph.http.BaseCollectionRequest.send(BaseCollectionRequest.java:103)\r\n    \tat com.microsoft.graph.http.BaseEntityCollectionRequest.get(BaseEntityCollectionRequest.java:78)\r\n    \tat JAVA_MicrosoftGraphAPI.soTest.main(soTest.java:75)\r\n\r\n","title":"How to get Mailbox after creating a Microsoft Graph Client (JAVA - Eclipse IDE)?","body":"<p>I have successfully created a MS Graph Client using Azure AD and JAVA. I have used the ClientSecretCredential for authentication. I believe the access token being received is valid too. However, I now want to get access to my (outlook) mailbox, using MS Graph and JAVA, to count the total number of emails in my Inbox Folder. Please find my code and errors below. I think it's because the code is for Delegated and not Application Permissions. Kindly help.</p>\n<pre><code>package JAVA_MicrosoftGraphAPI;\n\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport org.apache.log4j.PropertyConfigurator;\n\nimport com.azure.identity.ClientSecretCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.logger.DefaultLogger;\nimport com.microsoft.graph.logger.LoggerLevel;\nimport com.microsoft.graph.options.Option;\nimport com.microsoft.graph.options.QueryOption;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport com.microsoft.graph.requests.MessageCollectionPage;\n\npublic class soTest {\n\n    // for requirements visit:\n    // https://github.com/Azure/azure-sdk-for-java/wiki/Set-up-Your-Environment-for-Authentication#enable-applications-for-device-code-flow\n    private final static String CLIENT_ID = &quot;XXXXXXXXXXXXX&quot;;\n    private final static String TENANT_ID = &quot;XXXXXXXXXXXXX&quot;;\n    private final static String SECRET_Value = &quot;XXXXXXXXXXXXX&quot;;\n\n    // Set the scopes for your ms-graph request\n    private final static List&lt;String&gt; SCOPES = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\n    public static void main(String[] args) throws Exception {\n\n\n        final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n                .clientId(CLIENT_ID)\n                .clientSecret(SECRET_Value)\n                .tenantId(TENANT_ID)\n                .build();\n\n\n        final TokenCredentialAuthProvider tokenCredAuthProvider = new TokenCredentialAuthProvider(SCOPES, clientSecretCredential);\n        System.out.println(&quot;First Step Reached. &quot;);\n\n\n        // Create default logger to only log errors\n        DefaultLogger logger = new DefaultLogger();\n        logger.setLoggingLevel(LoggerLevel.ERROR);\n\n\n        // Build a Graph client\n        GraphServiceClient graphClient = GraphServiceClient.builder()\n                .authenticationProvider(tokenCredAuthProvider)\n                .logger(logger)\n                .buildClient();\n        System.out.println(&quot;Second Step Reached. &quot;);\n\n\n        //      final OkHttpClient httpClient = HttpClients.createDefault(tokenCredAuthProvider);\n        //      final Request request = new Request.Builder().url(&quot;https://graph.microsoft.com/v1.0/me&quot;).build();\n        // Redirecting to web browser and signing in for authentication and connection.\n        URL myUrl = new URL(&quot;https://graph.microsoft.com/v1.0/me/&quot;);\n        final String accessToken = tokenCredAuthProvider.getAuthorizationTokenAsync(myUrl).get();\n        System.out.println(&quot;Access token --&gt; &quot; + accessToken);\n\n\n        LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\n        requestOptions.add(new QueryOption(&quot;/select&quot;, &quot;internetMessageHeaders&quot;));\n\n        MessageCollectionPage messages = graphClient.me().messages()\n            .buildRequest( requestOptions )\n            .get();\n    \n    }\n\n}\n\n\nException in thread &quot;main&quot; com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: /me request is only valid with delegated authentication flow.\n\nGET https://graph.microsoft.com/v1.0/me/messages?%2Fselect=internetMessageHeaders\nSdkVersion : graph-java/v5.14.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\n    at com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:419)\n    at com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:378)\n    at com.microsoft.graph.http.CoreHttpProvider.handleErrorResponse(CoreHttpProvider.java:514)\n    at com.microsoft.graph.http.CoreHttpProvider.processResponse(CoreHttpProvider.java:443)\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:409)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:226)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:203)\n    at com.microsoft.graph.http.BaseCollectionRequest.send(BaseCollectionRequest.java:103)\n    at com.microsoft.graph.http.BaseEntityCollectionRequest.get(BaseEntityCollectionRequest.java:78)\n    at JAVA_MicrosoftGraphAPI.soTest.main(soTest.java:75)\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":24300372,"reputation":11,"user_id":18243955,"display_name":"Imagica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645189645,"creation_date":1645189645,"answer_id":71173985,"question_id":71173778,"body_markdown":"\r\nIn your properties file,  please add the hibernate dialect\r\n\r\n```spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect```\r\n\r\nFor connecting any hibernate application with the database, it is required to provide the configuration of SQL dialect. Maybe the default configuration is not correct, so try with this or think in similar lines.","title":"CommandAcceptanceException when adding a foreign key to a table in mySQL DB","body":"<p>In your properties file,  please add the hibernate dialect</p>\n<p><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect</code></p>\n<p>For connecting any hibernate application with the database, it is required to provide the configuration of SQL dialect. Maybe the default configuration is not correct, so try with this or think in similar lines.</p>\n"}],"owner":{"account_id":22256576,"reputation":23,"user_id":16488661,"display_name":"dedalus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645189645,"creation_date":1645188574,"question_id":71173778,"body_markdown":"I&#39;m new to Spring, Hibernate and Java Development. I get this error when I start my application: \r\n\r\n ```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table tv_series add constraint FKrmhxb8lbsb5jm2no1aftgbg7f foreign key (fk_tv_series_author) references tv_series_author (id)&quot; via JDBC Statement\r\n```\r\n\r\nI&#39;ve been looking for a solution for three hours, but everything I tried didn&#39;t work.\r\nI know that there are similar questions on this site, but none of the answers worked for me.\r\n\r\n\r\nThis is the Entity code for the mother table\r\n\r\n```\r\n\t\r\n\t@ManyToOne(cascade = {CascadeType.ALL})\r\n\t@JoinColumn(name = &quot;fk_tv_series_author&quot;)\t\r\n\tprivate TvSeriesAuthor author;\r\n\t\r\n\t@ManyToMany(cascade = {CascadeType.ALL})\r\n\t@JoinColumn(name = &quot;fk_cast&quot;)\t\r\n\tprivate List&lt;Actor&gt; cast;\r\n\t\r\n\t@Column\r\n\tprivate String title;\r\n\t\r\n\t@ManyToMany(cascade = {CascadeType.ALL})\r\n\t@JoinColumn(name = &quot;fk_streaming_provider&quot;)\t\r\n\tprivate List&lt;StreamingProvider&gt; streamingProviderlist;\r\n```\r\n\r\nThis is the Entity code for the child table\r\n\r\n```\r\n\t@Id\r\n\t@Column\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@Column\r\n\tprivate String name;\r\n\t\r\n\t@Column\r\n\tprivate String group;\r\n```\r\n\r\nThese are my application properties\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://localhost:3306/myMediaApp\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.jpa.show-sql: true\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\nThis is my pom\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;it.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myMediaApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;myMediaApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThank you for helping!\r\n","title":"CommandAcceptanceException when adding a foreign key to a table in mySQL DB","body":"<p>I'm new to Spring, Hibernate and Java Development. I get this error when I start my application:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table tv_series add constraint FKrmhxb8lbsb5jm2no1aftgbg7f foreign key (fk_tv_series_author) references tv_series_author (id)&quot; via JDBC Statement\n</code></pre>\n<p>I've been looking for a solution for three hours, but everything I tried didn't work.\nI know that there are similar questions on this site, but none of the answers worked for me.</p>\n<p>This is the Entity code for the mother table</p>\n<pre><code>    \n    @ManyToOne(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;fk_tv_series_author&quot;)   \n    private TvSeriesAuthor author;\n    \n    @ManyToMany(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;fk_cast&quot;)   \n    private List&lt;Actor&gt; cast;\n    \n    @Column\n    private String title;\n    \n    @ManyToMany(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;fk_streaming_provider&quot;) \n    private List&lt;StreamingProvider&gt; streamingProviderlist;\n</code></pre>\n<p>This is the Entity code for the child table</p>\n<pre><code>    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column\n    private String name;\n    \n    @Column\n    private String group;\n</code></pre>\n<p>These are my application properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/myMediaApp\nspring.datasource.username=root\nspring.datasource.password=\nspring.jpa.show-sql: true\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>This is my pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;it.test&lt;/groupId&gt;\n    &lt;artifactId&gt;myMediaApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myMediaApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Thank you for helping!</p>\n"},{"tags":["java","jwt","keycloak","keycloak-rest-api","jwk"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1645208486,"post_id":71172352,"comment_id":125818910,"body_markdown":"Did you check if you really get a KeyId (`kid`), if that endpoint is reachable and if there is a key with a matching kid on this endpoint?","body":"Did you check if you really get a KeyId (<code>kid</code>), if that endpoint is reachable and if there is a key with a matching kid on this endpoint?"},{"owner":{"account_id":24297736,"reputation":11,"user_id":18241684,"display_name":"nitanshu sharma"},"score":0,"creation_date":1645291333,"post_id":71172352,"comment_id":125834142,"body_markdown":"@jps I am getting kid using this line decodedJWT.getKeyId() and even check kid present or not using this url https://{keycloak url}/auth/realms/CMMC5/protocol/openid-connect/certs/ but still I&#39;m getting error com.auth0.jwk.NetworkException: Cannot obtain jwks from url https://{keycloak url}/auth/realms/CMMC5//protocol/openid-connect/certs/.well-known/jwks.json","body":"@jps I am getting kid using this line decodedJWT.getKeyId() and even check kid present or not using this url https://{keycloak url}/auth/realms/CMMC5/protocol/openid-connect/certs/ but still I&#39;m getting error com.auth0.jwk.NetworkException: Cannot obtain jwks from url https://{keycloak url}/auth/realms/CMMC5//protocol/openid-connect/certs/.well-&zwnj;&#8203;known/jwks.json"}],"owner":{"account_id":24297736,"reputation":11,"user_id":18241684,"display_name":"nitanshu sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645189081,"creation_date":1645181999,"question_id":71172352,"body_markdown":"```    \r\n\r\nprivate void verifySignature(DecodedJWT decodedJWT)\r\n{\r\n    JsonObject payloadAsJson = decodeTokenPayloadToJsonObject(decodedJWT);\r\n    String iss=payloadAsJson.get(&quot;iss&quot;).getAsString();\r\n    System.out.println(&quot;iss&quot;+iss);\r\n    JwkProvider provider = new UrlJwkProvider(iss);//+&quot;/protocol/openid-connect/certs&quot;);\r\n    System.out.println(&quot;provider&quot;+provider);\r\n    Jwk jwk = provider.get(decodedJWT.getKeyId());\r\n    System.out.println(&quot;jwk&quot;+jwk);\r\n    Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\r\n    algorithm.verify(decodedJWT);\r\n}\r\n```\r\n\r\nas you can see, I&#39;m trying to validate the token signature using above method but it shows me below error \r\n\r\n&gt;com.auth0.jwk.NetworkException: Cannot obtain jwks from url https://{keycloak url}/auth/realms/CMMC5/.well-known/jwks.json\r\n","title":"invalid keycloak jwt token signature","body":"<pre><code>\nprivate void verifySignature(DecodedJWT decodedJWT)\n{\n    JsonObject payloadAsJson = decodeTokenPayloadToJsonObject(decodedJWT);\n    String iss=payloadAsJson.get(&quot;iss&quot;).getAsString();\n    System.out.println(&quot;iss&quot;+iss);\n    JwkProvider provider = new UrlJwkProvider(iss);//+&quot;/protocol/openid-connect/certs&quot;);\n    System.out.println(&quot;provider&quot;+provider);\n    Jwk jwk = provider.get(decodedJWT.getKeyId());\n    System.out.println(&quot;jwk&quot;+jwk);\n    Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\n    algorithm.verify(decodedJWT);\n}\n</code></pre>\n<p>as you can see, I'm trying to validate the token signature using above method but it shows me below error</p>\n<blockquote>\n<p>com.auth0.jwk.NetworkException: Cannot obtain jwks from url https://{keycloak url}/auth/realms/CMMC5/.well-known/jwks.json</p>\n</blockquote>\n"},{"tags":["java","twain","image-scanner"],"answers":[{"tags":[],"owner":{"account_id":93815,"reputation":1372,"user_id":256480,"display_name":"Rachel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367990115,"creation_date":1367990115,"answer_id":16433144,"question_id":15609741,"body_markdown":"You may want to verify what protocol JTwain supports and whether your scanners have the corresponding driver. If it is TWAIN, you can use [Twacker][1] provided by the TWAIN Working Group to verify it. \r\n\r\n\r\n  [1]: http://www.twain.org/scannerdriverdevelopers/specification-and-tools.html","title":"JTwain API is not working for some scanners on particular machines","body":"<p>You may want to verify what protocol JTwain supports and whether your scanners have the corresponding driver. If it is TWAIN, you can use <a href=\"http://www.twain.org/scannerdriverdevelopers/specification-and-tools.html\" rel=\"nofollow\">Twacker</a> provided by the TWAIN Working Group to verify it. </p>\n"},{"tags":[],"owner":{"account_id":4735510,"reputation":344,"user_id":3830014,"display_name":"Scanner.js Receipt Invoice OCR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471613713,"creation_date":1471613713,"answer_id":39040443,"question_id":15609741,"body_markdown":"The vendor of JTwain has release a successor, [Java Scanning &amp; Imaging SDK, which allows you to do Java document scanning from TWAIN WIA scanners][1] for both 64bit and 32bit JVMs.\r\n\r\n&gt; [Asprise Scanning and Imaging SDK][1] offers a high performance API library\r\n&gt; so that you can acquire images from and have total control on almost\r\n&gt; all kinds of TWAIN WIA scanners on Windows 32bit/64bit and Mac OS X.\r\n&gt; With the SDK&#39;s powerful and flexible API, you can equip your Java\r\n&gt; applications (Java applets, web applications, Swing/JavaFX components,\r\n&gt; JEE enterprise applications) with functionality of high speed document\r\n&gt; scanning (e.g., ADF bulk scan to multi-page PDF) and image\r\n&gt; acquisition. You can rest assured that the SDK is fully compliant with\r\n&gt; various government privacy acts such as HIPPA and HITECH.\r\n\r\nMost scanners are supported by Asprise Java Scanning SDK: Acer, AGFA, Brother, Canon, Dell, Epson, Fujitsu, HP, IBM, Kodak, Konica Minolta, Lexmark, NEC, Nikon, Olympus, Panasonic, Ricoh, Samsung, Xerox and many more TWAIN WIA scanners and cameras.\r\n\r\n\r\n  [1]: http://asprise.com/document-scanner-image-pdf/java-scanning-api-overview.html","title":"JTwain API is not working for some scanners on particular machines","body":"<p>The vendor of JTwain has release a successor, <a href=\"http://asprise.com/document-scanner-image-pdf/java-scanning-api-overview.html\" rel=\"nofollow\">Java Scanning &amp; Imaging SDK, which allows you to do Java document scanning from TWAIN WIA scanners</a> for both 64bit and 32bit JVMs.</p>\n\n<blockquote>\n  <p><a href=\"http://asprise.com/document-scanner-image-pdf/java-scanning-api-overview.html\" rel=\"nofollow\">Asprise Scanning and Imaging SDK</a> offers a high performance API library\n  so that you can acquire images from and have total control on almost\n  all kinds of TWAIN WIA scanners on Windows 32bit/64bit and Mac OS X.\n  With the SDK's powerful and flexible API, you can equip your Java\n  applications (Java applets, web applications, Swing/JavaFX components,\n  JEE enterprise applications) with functionality of high speed document\n  scanning (e.g., ADF bulk scan to multi-page PDF) and image\n  acquisition. You can rest assured that the SDK is fully compliant with\n  various government privacy acts such as HIPPA and HITECH.</p>\n</blockquote>\n\n<p>Most scanners are supported by Asprise Java Scanning SDK: Acer, AGFA, Brother, Canon, Dell, Epson, Fujitsu, HP, IBM, Kodak, Konica Minolta, Lexmark, NEC, Nikon, Olympus, Panasonic, Ricoh, Samsung, Xerox and many more TWAIN WIA scanners and cameras.</p>\n"},{"tags":[],"owner":{"account_id":1619521,"reputation":771,"user_id":1496408,"display_name":"funcoding"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645188931,"creation_date":1645188931,"answer_id":71173840,"question_id":15609741,"body_markdown":"There is a 30 days trial for this software. After the 30 days you need to buy to licenses. (5K)","title":"JTwain API is not working for some scanners on particular machines","body":"<p>There is a 30 days trial for this software. After the 30 days you need to buy to licenses. (5K)</p>\n"}],"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1645188931,"creation_date":1364196625,"question_id":15609741,"body_markdown":"I am using JTwain API to connect to scanners from my java web application. However it is not working for some of scanners. Now i am worried whether my code have some bug or some certain scanners are not compatible with JTwain API.\r\n","title":"JTwain API is not working for some scanners on particular machines","body":"<p>I am using JTwain API to connect to scanners from my java web application. However it is not working for some of scanners. Now i am worried whether my code have some bug or some certain scanners are not compatible with JTwain API.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-websocket"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1645187924,"post_id":71172686,"comment_id":125810772,"body_markdown":"Did you implement `AbstractSecurityWebSocketMessageBrokerConfigurer` like it is explained [here](https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-configuration)?","body":"Did you implement <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code> like it is explained <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-configuration\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1645188944,"post_id":71172686,"comment_id":125811140,"body_markdown":"@MarcusHertdaCoregio I have tried it now after your response but now I obtain an exception. I put all the information at the end of my original post","body":"@MarcusHertdaCoregio I have tried it now after your response but now I obtain an exception. I put all the information at the end of my original post"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1645189772,"post_id":71172686,"comment_id":125811421,"body_markdown":"It seems that the `spring-security-messaging` dependency is missing","body":"It seems that the <code>spring-security-messaging</code> dependency is missing"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1645198197,"post_id":71172686,"comment_id":125814797,"body_markdown":"after that I added it I obtain this error message: APPLICATION FAILED TO START A component required a bean named &#39;stompWebSocketHandlerMapping&#39; that could not be found. Consider defining a bean named &#39;stompWebSocketHandlerMapping&#39; in your configuration.","body":"after that I added it I obtain this error message: APPLICATION FAILED TO START A component required a bean named &#39;stompWebSocketHandlerMapping&#39; that could not be found. Consider defining a bean named &#39;stompWebSocketHandlerMapping&#39; in your configuration."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1645281637,"post_id":71172686,"comment_id":125831786,"body_markdown":"just as a side note, the tutorial you are referring to uses spring 1.4.1 which was released 21 of september, 2016 current version of spring boot is 2.6.3 (at the time of writing) a lot has changed since then.","body":"just as a side note, the tutorial you are referring to uses spring 1.4.1 which was released 21 of september, 2016 current version of spring boot is 2.6.3 (at the time of writing) a lot has changed since then."}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645188901,"creation_date":1645183485,"question_id":71172686,"body_markdown":"I am working on a Spring Boot project implementing a web socket but I have some problem trying to call it from the external. This problem should be caused by a Spring Security configuration issue.\r\n\r\nI started by this example (that doesn&#39;t contains Spring Security): https://www.javainuse.com/spring/boot-websocket\r\n\r\nThis is what I have done: first of all I have implemented this **WebSocketConfig** class implementing the **WebSocketConfigurer** interface:\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \r\n    \tpublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n    \t\tregistry.addHandler(new SocketTextHandler(), &quot;/deposit-notification&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nSo this web socket is listening on the **/deposit-notification** path of my Spring Boot.\r\n\r\nThen I have implement the actual web socket by this class **SocketTextHandler** extending **TextWebSocketHandler**:\r\n\r\n    @Component\r\n    public class SocketTextHandler extends TextWebSocketHandler {\r\n    \r\n    \t@Override\r\n    \tpublic void handleTextMessage(WebSocketSession session, TextMessage message)\r\n    \t\t\tthrows InterruptedException, IOException {\r\n    \r\n    \t\tString payload = message.getPayload();\r\n    \t\tJSONObject jsonObject = new JSONObject(payload);\r\n    \t\tsession.sendMessage(new TextMessage(&quot;Hi &quot; + jsonObject.get(&quot;user&quot;) + &quot; how may we help you?&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\nThen, in order to test it, I have the **index.html** file and the related JQuery script shown in the previous tutorial link.\r\n\r\nAs you can see the **app.js** contains the JQuery script that perform the websocket connection:\r\n\r\n\tvar ws;\r\n\tfunction setConnected(connected) {\r\n\t\t$(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\r\n\t\t$(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\r\n\t}\r\n\r\n\tfunction connect() {\r\n\t\tconsole.log(&quot;Into connect()&quot;);\r\n\t\tws = new WebSocket(&#39;ws://localhost:8019/deposit-notification&#39;);\r\n\t\tws.onmessage = function(data) {\r\n\t\t\thelloWorld(data.data);\r\n\t\t}\r\n\t\tsetConnected(true);\r\n\t}\r\n\r\n\tfunction disconnect() {\r\n\t\tif (ws != null) {\r\n\t\t\tws.close();\r\n\t\t}\r\n\t\tsetConnected(false);\r\n\t\tconsole.log(&quot;Websocket is in disconnected state&quot;);\r\n\t}\r\n\r\n\tfunction sendData() {\r\n\t\tvar data = JSON.stringify({\r\n\t\t\t&#39;user&#39; : $(&quot;#user&quot;).val()\r\n\t\t})\r\n\t\tws.send(data);\r\n\t}\r\n\r\n\tfunction helloWorld(message) {\r\n\t\t$(&quot;#helloworldmessage&quot;).append(&quot; &quot; + message + &quot;&quot;);\r\n\t}\r\n\r\n\t$(function() {\r\n\t\t$(&quot;form&quot;).on(&#39;submit&#39;, function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t\t$(&quot;#connect&quot;).click(function() {\r\n\t\t\tconnect();\r\n\t\t});\r\n\t\t$(&quot;#disconnect&quot;).click(function() {\r\n\t\t\tdisconnect();\r\n\t\t});\r\n\t\t$(&quot;#send&quot;).click(function() {\r\n\t\t\tsendData();\r\n\t\t});\r\n\t});\r\n\r\nAs you can see here it try to perform the connection:\r\n\r\n\tfunction connect() {\r\n\t\tconsole.log(&quot;Into connect()&quot;);\r\n\t\tws = new WebSocket(&#39;ws://localhost:8019/deposit-notification&#39;);\r\n\t\tws.onmessage = function(data) {\r\n\t\t\thelloWorld(data.data);\r\n\t\t}\r\n\t\tsetConnected(true);\r\n\t}\r\n\r\nIn my case the execution of the connection is not working, in the Chrome console I obtain this error message:\r\n\r\n    app.js:9 WebSocket connection to &#39;ws://localhost:8019/deposit-notification&#39; failed: \r\n\r\nI am pretty sure that the problem is related to a Spring Security missconfiguration because if I disable Spring Security it works fine (I can perfectly use the example provided in the previous tutorial).\r\n\r\nand into the STS stacktrace Spring is giving me the following error message:\r\n\r\n    [2m2022-02-18 12:11:01.550[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /deposit-notification\r\n    [2m2022-02-18 12:11:01.550[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2022-02-18 12:11:01.550[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to anonymous SecurityContext\r\n    [2m2022-02-18 12:11:01.551[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.i.FilterSecurityInterceptor   [0;39m [2m:[0;39m Failed to authorize filter invocation [GET /deposit-notification] with attributes [hasAnyAuthority(&#39;ADMIN&#39;,&#39;CLIENT&#39;)]\r\n    [2m2022-02-18 12:11:01.551[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.Http403ForbiddenEntryPoint    [0;39m [2m:[0;39m Pre-authenticated entry point called. Rejecting access\r\n    [2m2022-02-18 12:11:01.551[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\r\n    [2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /error\r\n    [2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to anonymous SecurityContext\r\n    [2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /error\r\n    [2m2022-02-18 12:11:01.555[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request \r\n\r\n\r\nI was trying to understand this log, basically it is trying to perform a **GET** call toward the defined &quot;/deposit-notification&quot; but this filder fails:\r\n\r\n    Failed to authorize filter invocation [GET /deposit-notification] with attributes [hasAnyAuthority(&#39;ADMIN&#39;,&#39;CLIENT&#39;)]\r\n\r\nThis seems reasonable because my Spring Security configuration involves the use of JWT token and I have put this resource into the matcher of users having **ADMIN** or **CLIENT** authorities (this because I want that this web socket is used only by authetniocated users having these authorities). My JQuery script is not passing any JWT token so I think that this error is pretty normal.\r\n\r\nExist a way to pass the JWT token also when I call for a web socket like this from JQuery? \r\n\r\nAnyway I am absolutly not sure that this is the correct way to configure Spring Security and web sockets.\r\n\r\nAnyway this is my Spring Security configuration:\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\tpublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\t\t\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\t\tprivate UserDetailsService userDetailsService;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate JwtConfig jwtConfig;\r\n\r\n\t\t@Autowired\r\n\t\tprivate JwtTokenUtil jwtTokenUtil;\r\n\r\n\t\tprivate static final String[] USER_MATCHER = { &quot;/api/users/email/**&quot;};\r\n\t\tprivate static final String[] ADMIN_MATCHER = { \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&quot;/api/users/email/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&quot;/api/admin/**&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&quot;/api/admin/users/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&quot;/api/admin/usertype/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&quot;/api/admin/coin/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&quot;/api/admin/wallet/**&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   };\r\n\r\n\t\tprivate static final String[] COMMON_MATCHER = {\r\n\t\t\t\t&quot;/api/admin/user/{id}/wallet&quot;,\r\n\t\t\t\t&quot;/deposit-notification&quot;\r\n\t\t};\r\n\t\t@Autowired\r\n\t\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception \r\n\t\t{\r\n\t\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t\t}\r\n\t\t\r\n\r\n\t\t@Bean\r\n\t\t@Override\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception \r\n\t\t{\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\t\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\t\t/*\r\n\t\t\t * NOTE:\r\n\t\t\t * Using hasRole expects the authority names to start with &#39;ROLE_&#39; prefix\r\n\t\t\t * Instead, we use hasAuthority as we can use the names as it is\r\n\t\t\t */\r\n\t\t\thttp.csrf().disable()\r\n\t\t\t\t\t   .authorizeRequests()\r\n\t\t\t\t\t   .antMatchers(USER_MATCHER).hasAnyAuthority(&quot;CLIENT&quot;)\r\n\t\t\t\t\t\t.antMatchers(COMMON_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;,&quot;CLIENT&quot;)\r\n\t\t\t\t\t   .antMatchers(ADMIN_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;)\r\n\t\t\t\t\t   .antMatchers(&quot;/api/users/test&quot;).authenticated()\r\n\t\t\t\t\t   .antMatchers(HttpMethod.POST, jwtConfig.getUri()).permitAll()\r\n\t\t\t\t\t   .anyRequest().denyAll()\r\n\t\t\t\t\t   .and()\r\n\t\t\t\t\t   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n\t\t\thttp.addFilterBefore(\r\n\t\t\t\tnew TokenVerificationFilter(authenticationManager(), jwtConfig, jwtTokenUtil),UsernamePasswordAuthenticationFilter.class);\r\n\t\t}\r\n\t\t\r\n\t\t/* To allow Pre-flight [OPTIONS] request from browser */\r\n\t\t@Override\r\n\t\tpublic void configure(WebSecurity web) \r\n\t\t{\r\n\t\t\tweb.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\r\n\t\t\tweb.ignoring().antMatchers(&quot;/swagger-ui/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;/webjars/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;/v2/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;/swagger-resources/**&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;/swagger-ui.html&quot;);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic BCryptPasswordEncoder passwordEncoder()\r\n\t\t{\r\n\t\t\treturn new BCryptPasswordEncoder();\r\n\t\t};\r\n\r\n\t}\r\n\r\nAs you can see here I have\r\n\r\n\tprivate static final String[] COMMON_MATCHER = {\r\n\t\t\t&quot;/api/admin/user/{id}/wallet&quot;,\r\n\t\t\t&quot;/deposit-notification&quot;\r\n\t};\r\n\r\nand then I set both the **ADMIN** and **CLIENT** authorities for this:\r\n\r\n    .antMatchers(COMMON_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;,&quot;CLIENT&quot;)\r\n\r\nI also tried to allow not authenticated connection to the previous **/deposit-notification** &quot;endpoint&quot; chainging my **configure()** method in this way:\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\t/*\r\n\t\t * NOTE:\r\n\t\t * Using hasRole expects the authority names to start with &#39;ROLE_&#39; prefix\r\n\t\t * Instead, we use hasAuthority as we can use the names as it is\r\n\t\t */\r\n\t\thttp.csrf().disable()\r\n\t\t\t\t   .authorizeRequests()\r\n\t\t\t       .antMatchers(USER_MATCHER).hasAnyAuthority(&quot;CLIENT&quot;)\r\n\t\t\t       .antMatchers(COMMON_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;,&quot;CLIENT&quot;)\r\n\t\t\t       .antMatchers(ADMIN_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;)\r\n\t\t\t       .antMatchers(&quot;/api/users/test&quot;).authenticated()\r\n\t\t\t       .antMatchers(HttpMethod.POST, jwtConfig.getUri()).permitAll()\r\n\t\t\t       .antMatchers(HttpMethod.GET, &quot;/deposit-notification&quot;).permitAll()\r\n\t\t\t       .anyRequest().denyAll()\r\n\t\t\t       .and()\r\n\t\t\t\t   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n\t\thttp.addFilterBefore(\r\n\t\t\tnew TokenVerificationFilter(authenticationManager(), jwtConfig, jwtTokenUtil),UsernamePasswordAuthenticationFilter.class);\r\n\t}\r\n\r\nAs you can see i added this matcher:\r\n\r\n    .antMatchers(HttpMethod.GET, &quot;/deposit-notification&quot;).permitAll()\r\n\r\nin this case I obtain this error in the STS stacktrace:\r\n\r\n    [2m2022-02-18 12:22:12.019[0;39m [32m INFO[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    [2m2022-02-18 12:22:12.020[0;39m [32m INFO[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n    [2m2022-02-18 12:22:12.025[0;39m [32m INFO[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 4 ms\r\n    [2m2022-02-18 12:22:12.026[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /deposit-notification\r\n    [2m2022-02-18 12:22:12.026[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2022-02-18 12:22:12.026[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to anonymous SecurityContext\r\n    [2m2022-02-18 12:22:12.027[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.s.w.a.i.FilterSecurityInterceptor   [0;39m [2m:[0;39m Authorized filter invocation [GET /deposit-notification] with attributes [permitAll]\r\n    [2m2022-02-18 12:22:12.027[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /deposit-notification\r\n    [2m2022-02-18 12:22:12.031[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\r\n\r\nit doesn&#39;t work but anyway it is not a good solution because I don&#39;t want to allow that everybody can connect to this websocket (I want that only authenticated users having **ADMIN** or **CLIENT** authorities can connect).\r\n\r\n**EDIT-1:** After creating a **WebSocketSecurityConfig** extending **AbstractSecurityWebSocketMessageBrokerConfigurer** as shown here: https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-configuration\r\n\r\n    package com.easydefi.users.security;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.messaging.MessageSecurityMetadataSourceRegistry;\r\n    import org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer;\r\n    \r\n    @Configuration\r\n    public class WebSocketSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        protected void configureInbound(MessageSecurityMetadataSourceRegistry messages) {\r\n            messages\r\n                    .nullDestMatcher().authenticated() \r\n                    .simpSubscribeDestMatchers(&quot;/deposit-notification&quot;).permitAll() \r\n                    .anyMessage().denyAll(); \r\n    \r\n        }\r\n    } \r\n\r\nThe problem now is that running my Spring Boot application I obtain this error message in the stacktrace:\r\n\r\n\tjava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\n\t\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat com.easydefi.users.GetUserWsApplication.main(GetUserWsApplication.java:15) ~[classes/:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\t\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.6.jar:2.5.6]\r\n\tCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@12bb4df8]\r\n\t\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:371) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:238) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:231) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:221) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:169) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:144) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\r\n\t\t... 22 common frames omitted\r\n\tCaused by: java.lang.NoClassDefFoundError: org/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource\r\n\t\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\t\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3334) ~[na:na]\r\n\t\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2446) ~[na:na]\r\n\t\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\t... 39 common frames omitted\r\n\tCaused by: java.lang.ClassNotFoundException: org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\r\n\t\t... 43 common frames omitted\r\n\r\n\t[2m2022-02-18 13:51:45.132[0;39m [33m WARN[0;39m [35m21385[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Unable to close ApplicationContext\r\n\r\n\tjava.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@12bb4df8]\r\n\t\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:371) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:886) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:874) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:861) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:802) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:348) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat com.easydefi.users.GetUserWsApplication.main(GetUserWsApplication.java:15) ~[classes/:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\t\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.6.jar:2.5.6]\r\n\tCaused by: java.lang.NoClassDefFoundError: org/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource\r\n\t\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\t\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3334) ~[na:na]\r\n\t\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2446) ~[na:na]\r\n\t\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.12.jar:5.3.12]\r\n\t\t... 27 common frames omitted\r\n\tCaused by: java.lang.ClassNotFoundException: org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\r\n\t\t... 31 common frames omitted\r\n\r\n\r\nWhat is wrong? What am I missing?","title":"How can I configure Spring Secuirty to allow authenticated users (having specific authorities) to connect to my web socket?","body":"<p>I am working on a Spring Boot project implementing a web socket but I have some problem trying to call it from the external. This problem should be caused by a Spring Security configuration issue.</p>\n<p>I started by this example (that doesn't contains Spring Security): <a href=\"https://www.javainuse.com/spring/boot-websocket\" rel=\"nofollow noreferrer\">https://www.javainuse.com/spring/boot-websocket</a></p>\n<p>This is what I have done: first of all I have implemented this <strong>WebSocketConfig</strong> class implementing the <strong>WebSocketConfigurer</strong> interface:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(new SocketTextHandler(), &quot;/deposit-notification&quot;);\n    }\n\n}\n</code></pre>\n<p>So this web socket is listening on the <strong>/deposit-notification</strong> path of my Spring Boot.</p>\n<p>Then I have implement the actual web socket by this class <strong>SocketTextHandler</strong> extending <strong>TextWebSocketHandler</strong>:</p>\n<pre><code>@Component\npublic class SocketTextHandler extends TextWebSocketHandler {\n\n    @Override\n    public void handleTextMessage(WebSocketSession session, TextMessage message)\n            throws InterruptedException, IOException {\n\n        String payload = message.getPayload();\n        JSONObject jsonObject = new JSONObject(payload);\n        session.sendMessage(new TextMessage(&quot;Hi &quot; + jsonObject.get(&quot;user&quot;) + &quot; how may we help you?&quot;));\n    }\n\n}\n</code></pre>\n<p>Then, in order to test it, I have the <strong>index.html</strong> file and the related JQuery script shown in the previous tutorial link.</p>\n<p>As you can see the <strong>app.js</strong> contains the JQuery script that perform the websocket connection:</p>\n<pre><code>var ws;\nfunction setConnected(connected) {\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\n}\n\nfunction connect() {\n    console.log(&quot;Into connect()&quot;);\n    ws = new WebSocket('ws://localhost:8019/deposit-notification');\n    ws.onmessage = function(data) {\n        helloWorld(data.data);\n    }\n    setConnected(true);\n}\n\nfunction disconnect() {\n    if (ws != null) {\n        ws.close();\n    }\n    setConnected(false);\n    console.log(&quot;Websocket is in disconnected state&quot;);\n}\n\nfunction sendData() {\n    var data = JSON.stringify({\n        'user' : $(&quot;#user&quot;).val()\n    })\n    ws.send(data);\n}\n\nfunction helloWorld(message) {\n    $(&quot;#helloworldmessage&quot;).append(&quot; &quot; + message + &quot;&quot;);\n}\n\n$(function() {\n    $(&quot;form&quot;).on('submit', function(e) {\n        e.preventDefault();\n    });\n    $(&quot;#connect&quot;).click(function() {\n        connect();\n    });\n    $(&quot;#disconnect&quot;).click(function() {\n        disconnect();\n    });\n    $(&quot;#send&quot;).click(function() {\n        sendData();\n    });\n});\n</code></pre>\n<p>As you can see here it try to perform the connection:</p>\n<pre><code>function connect() {\n    console.log(&quot;Into connect()&quot;);\n    ws = new WebSocket('ws://localhost:8019/deposit-notification');\n    ws.onmessage = function(data) {\n        helloWorld(data.data);\n    }\n    setConnected(true);\n}\n</code></pre>\n<p>In my case the execution of the connection is not working, in the Chrome console I obtain this error message:</p>\n<pre><code>app.js:9 WebSocket connection to 'ws://localhost:8019/deposit-notification' failed: \n</code></pre>\n<p>I am pretty sure that the problem is related to a Spring Security missconfiguration because if I disable Spring Security it works fine (I can perfectly use the example provided in the previous tutorial).</p>\n<p>and into the STS stacktrace Spring is giving me the following error message:</p>\n<pre><code>[2m2022-02-18 12:11:01.550[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /deposit-notification\n[2m2022-02-18 12:11:01.550[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2022-02-18 12:11:01.550[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to anonymous SecurityContext\n[2m2022-02-18 12:11:01.551[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.i.FilterSecurityInterceptor   [0;39m [2m:[0;39m Failed to authorize filter invocation [GET /deposit-notification] with attributes [hasAnyAuthority('ADMIN','CLIENT')]\n[2m2022-02-18 12:11:01.551[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.Http403ForbiddenEntryPoint    [0;39m [2m:[0;39m Pre-authenticated entry point called. Rejecting access\n[2m2022-02-18 12:11:01.551[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\n[2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /error\n[2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to anonymous SecurityContext\n[2m2022-02-18 12:11:01.552[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /error\n[2m2022-02-18 12:11:01.555[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request \n</code></pre>\n<p>I was trying to understand this log, basically it is trying to perform a <strong>GET</strong> call toward the defined &quot;/deposit-notification&quot; but this filder fails:</p>\n<pre><code>Failed to authorize filter invocation [GET /deposit-notification] with attributes [hasAnyAuthority('ADMIN','CLIENT')]\n</code></pre>\n<p>This seems reasonable because my Spring Security configuration involves the use of JWT token and I have put this resource into the matcher of users having <strong>ADMIN</strong> or <strong>CLIENT</strong> authorities (this because I want that this web socket is used only by authetniocated users having these authorities). My JQuery script is not passing any JWT token so I think that this error is pretty normal.</p>\n<p>Exist a way to pass the JWT token also when I call for a web socket like this from JQuery?</p>\n<p>Anyway I am absolutly not sure that this is the correct way to configure Spring Security and web sockets.</p>\n<p>Anyway this is my Spring Security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    @Qualifier(&quot;customUserDetailsService&quot;)\n    private UserDetailsService userDetailsService;\n    \n    @Autowired\n    private JwtConfig jwtConfig;\n\n    @Autowired\n    private JwtTokenUtil jwtTokenUtil;\n\n    private static final String[] USER_MATCHER = { &quot;/api/users/email/**&quot;};\n    private static final String[] ADMIN_MATCHER = { \n                                                        &quot;/api/users/email/**&quot;,\n                                                        &quot;/api/admin/**&quot;\n                                                        /*\n                                                        &quot;/api/admin/users/**&quot;,\n                                                        &quot;/api/admin/usertype/**&quot;,\n                                                        &quot;/api/admin/coin/**&quot;,\n                                                        &quot;/api/admin/wallet/**&quot;\n                                                        */\n                                                   };\n\n    private static final String[] COMMON_MATCHER = {\n            &quot;/api/admin/user/{id}/wallet&quot;,\n            &quot;/deposit-notification&quot;\n    };\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception \n    {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n    \n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception \n    {\n        return super.authenticationManagerBean();\n    }   \n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        /*\n         * NOTE:\n         * Using hasRole expects the authority names to start with 'ROLE_' prefix\n         * Instead, we use hasAuthority as we can use the names as it is\n         */\n        http.csrf().disable()\n                   .authorizeRequests()\n                   .antMatchers(USER_MATCHER).hasAnyAuthority(&quot;CLIENT&quot;)\n                    .antMatchers(COMMON_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;,&quot;CLIENT&quot;)\n                   .antMatchers(ADMIN_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;)\n                   .antMatchers(&quot;/api/users/test&quot;).authenticated()\n                   .antMatchers(HttpMethod.POST, jwtConfig.getUri()).permitAll()\n                   .anyRequest().denyAll()\n                   .and()\n                   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(\n            new TokenVerificationFilter(authenticationManager(), jwtConfig, jwtTokenUtil),UsernamePasswordAuthenticationFilter.class);\n    }\n    \n    /* To allow Pre-flight [OPTIONS] request from browser */\n    @Override\n    public void configure(WebSecurity web) \n    {\n        web.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\n        web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;,\n                                    &quot;/webjars/**&quot;,\n                                    &quot;/v2/**&quot;,\n                                    &quot;/swagger-resources/**&quot;,\n                                    &quot;/swagger-ui.html&quot;);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    };\n\n}\n</code></pre>\n<p>As you can see here I have</p>\n<pre><code>private static final String[] COMMON_MATCHER = {\n        &quot;/api/admin/user/{id}/wallet&quot;,\n        &quot;/deposit-notification&quot;\n};\n</code></pre>\n<p>and then I set both the <strong>ADMIN</strong> and <strong>CLIENT</strong> authorities for this:</p>\n<pre><code>.antMatchers(COMMON_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;,&quot;CLIENT&quot;)\n</code></pre>\n<p>I also tried to allow not authenticated connection to the previous <strong>/deposit-notification</strong> &quot;endpoint&quot; chainging my <strong>configure()</strong> method in this way:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    /*\n     * NOTE:\n     * Using hasRole expects the authority names to start with 'ROLE_' prefix\n     * Instead, we use hasAuthority as we can use the names as it is\n     */\n    http.csrf().disable()\n               .authorizeRequests()\n               .antMatchers(USER_MATCHER).hasAnyAuthority(&quot;CLIENT&quot;)\n               .antMatchers(COMMON_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;,&quot;CLIENT&quot;)\n               .antMatchers(ADMIN_MATCHER).hasAnyAuthority(&quot;ADMIN&quot;)\n               .antMatchers(&quot;/api/users/test&quot;).authenticated()\n               .antMatchers(HttpMethod.POST, jwtConfig.getUri()).permitAll()\n               .antMatchers(HttpMethod.GET, &quot;/deposit-notification&quot;).permitAll()\n               .anyRequest().denyAll()\n               .and()\n               .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    http.addFilterBefore(\n        new TokenVerificationFilter(authenticationManager(), jwtConfig, jwtTokenUtil),UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n<p>As you can see i added this matcher:</p>\n<pre><code>.antMatchers(HttpMethod.GET, &quot;/deposit-notification&quot;).permitAll()\n</code></pre>\n<p>in this case I obtain this error in the STS stacktrace:</p>\n<pre><code>[2m2022-02-18 12:22:12.019[0;39m [32m INFO[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2022-02-18 12:22:12.020[0;39m [32m INFO[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2022-02-18 12:22:12.025[0;39m [32m INFO[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 4 ms\n[2m2022-02-18 12:22:12.026[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /deposit-notification\n[2m2022-02-18 12:22:12.026[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2022-02-18 12:22:12.026[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to anonymous SecurityContext\n[2m2022-02-18 12:22:12.027[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.s.w.a.i.FilterSecurityInterceptor   [0;39m [2m:[0;39m Authorized filter invocation [GET /deposit-notification] with attributes [permitAll]\n[2m2022-02-18 12:22:12.027[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /deposit-notification\n[2m2022-02-18 12:22:12.031[0;39m [32mDEBUG[0;39m [35m18080[0;39m [2m---[0;39m [2m[nio-8019-exec-1][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>it doesn't work but anyway it is not a good solution because I don't want to allow that everybody can connect to this websocket (I want that only authenticated users having <strong>ADMIN</strong> or <strong>CLIENT</strong> authorities can connect).</p>\n<p><strong>EDIT-1:</strong> After creating a <strong>WebSocketSecurityConfig</strong> extending <strong>AbstractSecurityWebSocketMessageBrokerConfigurer</strong> as shown here: <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-configuration</a></p>\n<pre><code>package com.easydefi.users.security;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.messaging.MessageSecurityMetadataSourceRegistry;\nimport org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer;\n\n@Configuration\npublic class WebSocketSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n\n    @Override\n    protected void configureInbound(MessageSecurityMetadataSourceRegistry messages) {\n        messages\n                .nullDestMatcher().authenticated() \n                .simpSubscribeDestMatchers(&quot;/deposit-notification&quot;).permitAll() \n                .anyMessage().denyAll(); \n\n    }\n} \n</code></pre>\n<p>The problem now is that running my Spring Boot application I obtain this error message in the stacktrace:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n    at com.easydefi.users.GetUserWsApplication.main(GetUserWsApplication.java:15) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.6.jar:2.5.6]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@12bb4df8]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:371) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.12.jar:5.3.12]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:238) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:231) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:221) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:169) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:144) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.5.6.jar:2.5.6]\n    ... 22 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3334) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2446) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.12.jar:5.3.12]\n    ... 39 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\n    ... 43 common frames omitted\n\n[2m2022-02-18 13:51:45.132[0;39m [33m WARN[0;39m [35m21385[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@12bb4df8]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:371) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.12.jar:5.3.12]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:886) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:874) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:861) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:802) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:348) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n    at com.easydefi.users.GetUserWsApplication.main(GetUserWsApplication.java:15) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.6.jar:2.5.6]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3334) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2446) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.12.jar:5.3.12]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\n    ... 31 common frames omitted\n</code></pre>\n<p>What is wrong? What am I missing?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645188766,"creation_date":1645188766,"answer_id":71173809,"question_id":71166051,"body_markdown":"The cause is in your stacktrace:\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; available\r\n```\r\n\r\nSpring Security is expecting a bean of type `ClientRegistrationRepository` to be present but you have not provided it. I guess you are using the `spring-security-oauth2-client` dependency.\r\n\r\nYou can either provide the Bean or remove the unused/unwanted configurations, like `http.oauth2Client()` and dependencies. Take a look at the [reference documentation][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html","title":"Failed to load ApplicationContext for JUnit test of Spring controller Error with &#39;springSecurityFilterChain&#39;","body":"<p>The cause is in your stacktrace:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available\n</code></pre>\n<p>Spring Security is expecting a bean of type <code>ClientRegistrationRepository</code> to be present but you have not provided it. I guess you are using the <code>spring-security-oauth2-client</code> dependency.</p>\n<p>You can either provide the Bean or remove the unused/unwanted configurations, like <code>http.oauth2Client()</code> and dependencies. Take a look at the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html\" rel=\"nofollow noreferrer\">reference documentation</a> for more details.</p>\n"}],"owner":{"account_id":14603498,"reputation":55,"user_id":10547150,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645188766,"creation_date":1645136143,"question_id":71166051,"body_markdown":"I&#39;ve tried looking through other questions dealing with this type of test but none seemed to be similar to my problem. I can not solve the Error with &#39;springSecurityFilterChain&#39; and can not find other questions where this pops up for a unit test. This didn&#39;t help me either https://www.baeldung.com/spring-junit-failed-to-load-applicationcontext.\r\n\r\nI am trying to run a Spring context tests\r\n\r\n        import java.time.ZoneOffset;\r\n        import java.util.TimeZone;\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        \r\n        @SpringBootApplication\r\n        public class Application {\r\n          static {\r\n            TimeZone.setDefault(TimeZone.getTimeZone(ZoneOffset.UTC));\r\n          }\r\n        \r\n          public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n          }\r\n        }\r\n\r\nHere is the test\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    import app.Application;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @SpringBootTest\r\n    class ApplicationTests{\r\n        @Autowired\r\n        Application application;\r\n    \r\n    \r\n        @Test\r\n            /* default */ void contextLoads() {\r\n            assertThat(application).isNotNull();\r\n            // do nothing; this test just ensure that the Spring context loads\r\n        }\r\n    }\r\n\r\nError Output\r\n\r\n        Failed to load ApplicationContext\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; available\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n    \tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n    \tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n    \tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n    \tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n    \tat app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:438)\r\n    \tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:337)\r\n    \tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\r\n    \tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    \tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \t... 85 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; available\r\n    \tat app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 105 more\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; available\r\n    \tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n    \tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n    \tat app//org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)\r\n    \tat app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepositoryBean(OAuth2ClientConfigurerUtils.java:56)\r\n    \tat app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepository(OAuth2ClientConfigurerUtils.java:48)\r\n    \tat app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:291)\r\n    \tat app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:139)\r\n    \tat app//org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:338)\r\n    \tat app//org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:300)\r\n    \tat app//org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\r\n    \tat app//org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:285)\r\n    \tat app//org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:83)\r\n    \tat app//org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:305)\r\n    \tat app//org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\r\n    \tat app//org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:127)\r\n    \tat java.base@11.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base@11.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base@11.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base@11.0.2/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\r\n","title":"Failed to load ApplicationContext for JUnit test of Spring controller Error with &#39;springSecurityFilterChain&#39;","body":"<p>I've tried looking through other questions dealing with this type of test but none seemed to be similar to my problem. I can not solve the Error with 'springSecurityFilterChain' and can not find other questions where this pops up for a unit test. This didn't help me either <a href=\"https://www.baeldung.com/spring-junit-failed-to-load-applicationcontext\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-junit-failed-to-load-applicationcontext</a>.</p>\n<p>I am trying to run a Spring context tests</p>\n<pre><code>    import java.time.ZoneOffset;\n    import java.util.TimeZone;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    \n    @SpringBootApplication\n    public class Application {\n      static {\n        TimeZone.setDefault(TimeZone.getTimeZone(ZoneOffset.UTC));\n      }\n    \n      public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n      }\n    }\n</code></pre>\n<p>Here is the test</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\nimport app.Application;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass ApplicationTests{\n    @Autowired\n    Application application;\n\n\n    @Test\n        /* default */ void contextLoads() {\n        assertThat(application).isNotNull();\n        // do nothing; this test just ensure that the Spring context loads\n    }\n}\n</code></pre>\n<p>Error Output</p>\n<pre><code>    Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n    at app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:438)\n    at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:337)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 85 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available\n    at app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 105 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at app//org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)\n    at app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepositoryBean(OAuth2ClientConfigurerUtils.java:56)\n    at app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepository(OAuth2ClientConfigurerUtils.java:48)\n    at app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:291)\n    at app//org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:139)\n    at app//org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:338)\n    at app//org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:300)\n    at app//org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\n    at app//org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:285)\n    at app//org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:83)\n    at app//org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:305)\n    at app//org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\n    at app//org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:127)\n    at java.base@11.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@11.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base@11.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@11.0.2/java.lang.reflect.Method.invoke(Method.java:566)\n    at app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n</code></pre>\n"},{"tags":["java","xml","json","jaxb","jackson"],"comments":[{"owner":{"account_id":217860,"reputation":2022,"user_id":2451972,"accept_rate":91,"display_name":"Prmths"},"score":1,"creation_date":1380830419,"post_id":19158056,"comment_id":28356745,"body_markdown":"Jackson should support that annotation according to [Using JAXB annotations with Jackson](http://wiki.fasterxml.com/JacksonJAXBAnnotations).","body":"Jackson should support that annotation according to <a href=\"http://wiki.fasterxml.com/JacksonJAXBAnnotations\" rel=\"nofollow noreferrer\">Using JAXB annotations with Jackson</a>."},{"owner":{"account_id":217860,"reputation":2022,"user_id":2451972,"accept_rate":91,"display_name":"Prmths"},"score":1,"creation_date":1380830761,"post_id":19158056,"comment_id":28356891,"body_markdown":"You could also just use straight JAXB.  There is a good article about that here: [Binding to JSON &amp; XML – Handling Collections](http://www.javacodegeeks.com/2013/03/binding-to-json-xml-handling-collections.html)","body":"You could also just use straight JAXB.  There is a good article about that here: <a href=\"http://www.javacodegeeks.com/2013/03/binding-to-json-xml-handling-collections.html\" rel=\"nofollow noreferrer\">Binding to JSON &amp; XML – Handling Collections</a>"},{"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"score":2,"creation_date":1380832983,"post_id":19158056,"comment_id":28358015,"body_markdown":"@Prmths - I have added an answer expanding on your comment:  http://stackoverflow.com/a/19168878/383861","body":"@Prmths - I have added an answer expanding on your comment:  <a href=\"http://stackoverflow.com/a/19168878/383861\">stackoverflow.com/a/19168878/383861</a>"},{"owner":{"account_id":217860,"reputation":2022,"user_id":2451972,"accept_rate":91,"display_name":"Prmths"},"score":0,"creation_date":1380833924,"post_id":19158056,"comment_id":28358458,"body_markdown":"@BlaiseDoughan, thanks for the reference.  I pretty much look for anything you&#39;ve written when dealing with MOXy or JAXB.","body":"@BlaiseDoughan, thanks for the reference.  I pretty much look for anything you&#39;ve written when dealing with MOXy or JAXB."},{"owner":{"account_id":981123,"reputation":4179,"user_id":1123743,"accept_rate":57,"display_name":"Sebastian Barth"},"score":0,"creation_date":1412097126,"post_id":19158056,"comment_id":40948445,"body_markdown":"Take a look at [this question](http://stackoverflow.com/questions/26063268/create-marshaller-for-json-from-unknown-jaxbcontext-xml) if you found yourself here in this old question.","body":"Take a look at <a href=\"http://stackoverflow.com/questions/26063268/create-marshaller-for-json-from-unknown-jaxbcontext-xml\">this question</a> if you found yourself here in this old question."}],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1645188730,"creation_date":1380832941,"answer_id":19168878,"question_id":19158056,"body_markdown":"**Note:**  I&#39;m the [**EclipseLink JAXB (MOXy)**][1] lead and a member of the [**JAXB (JSR-222)**][2] expert group.\r\n\r\nIf you can&#39;t do it with Jackson, you use case will work with MOXy.\r\n\r\n## Java Model\r\n\r\n**Foo**\r\n\r\nHere is a sample class that contains a field of type `JAXBElement`.\r\n\r\n    import javax.xml.bind.JAXBElement;\r\n    import javax.xml.bind.annotation.*;\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Foo {\r\n    \r\n        @XmlElementRef(name=&quot;bar&quot;)\r\n        private JAXBElement&lt;Bar&gt; bar;\r\n    \r\n    }\r\n\r\n**Bar**\r\n\r\n    public class Bar {\r\n    \r\n    }\r\n\r\n**ObjectFactory**\r\n\r\n    import javax.xml.bind.JAXBElement;\r\n    import javax.xml.bind.annotation.*;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n        \r\n        @XmlElementDecl(name = &quot;bar&quot;)\r\n        public JAXBElement&lt;Bar&gt; createBar(Bar bar) {\r\n            return new JAXBElement&lt;Bar&gt;(new QName(&quot;bar&quot;), Bar.class, bar);\r\n        }\r\n    \r\n    }\r\n\r\n## Standalone Demo Code\r\n\r\nBelow is some demo code you can run in Java SE to see that everything works:\r\n\r\n**Demo**\r\n\r\n    import java.util.*;\r\n    import javax.xml.bind.*;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    import org.eclipse.persistence.jaxb.JAXBContextProperties;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;(2);\r\n            properties.put(JAXBContextProperties.MEDIA_TYPE, &quot;application/json&quot;);\r\n            properties.put(JAXBContextProperties.JSON_INCLUDE_ROOT, false);\r\n            JAXBContext jc = JAXBContext.newInstance(new Class[] {Foo.class, ObjectFactory.class}, properties);\r\n            \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            StreamSource json = new StreamSource(&quot;src/forum19158056/input.json&quot;);\r\n            Foo foo = unmarshaller.unmarshal(json, Foo.class).getValue();\r\n            \r\n            Marshaller marshaller = jc.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            marshaller.marshal(foo, System.out);\r\n        }\r\n    \r\n    }\r\n\r\n**input.json/Output**\r\n\r\n    {&quot;bar&quot; : {} }\r\n\r\n## Running with JAX-RS\r\n\r\nThe following links will help you leverage MOXy in a JAX-RS service:\r\n\r\n  - http://blog.bdoughan.com/2012/05/moxy-as-your-jax-rs-json-provider.html\r\n  - http://blog.bdoughan.com/2013/06/moxy-is-new-default-json-binding.html\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/#moxy\r\n  [2]: http://jcp.org/en/jsr/detail?id=222","title":"JAXB Mapping to JSON","body":"<p><strong>Note:</strong>  I'm the <a href=\"https://www.eclipse.org/eclipselink/#moxy\" rel=\"nofollow noreferrer\"><strong>EclipseLink JAXB (MOXy)</strong></a> lead and a member of the <a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\"><strong>JAXB (JSR-222)</strong></a> expert group.</p>\n<p>If you can't do it with Jackson, you use case will work with MOXy.</p>\n<h2>Java Model</h2>\n<p><strong>Foo</strong></p>\n<p>Here is a sample class that contains a field of type <code>JAXBElement</code>.</p>\n<pre><code>import javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Foo {\n\n    @XmlElementRef(name=&quot;bar&quot;)\n    private JAXBElement&lt;Bar&gt; bar;\n\n}\n</code></pre>\n<p><strong>Bar</strong></p>\n<pre><code>public class Bar {\n\n}\n</code></pre>\n<p><strong>ObjectFactory</strong></p>\n<pre><code>import javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.namespace.QName;\n\n@XmlRegistry\npublic class ObjectFactory {\n    \n    @XmlElementDecl(name = &quot;bar&quot;)\n    public JAXBElement&lt;Bar&gt; createBar(Bar bar) {\n        return new JAXBElement&lt;Bar&gt;(new QName(&quot;bar&quot;), Bar.class, bar);\n    }\n\n}\n</code></pre>\n<h2>Standalone Demo Code</h2>\n<p>Below is some demo code you can run in Java SE to see that everything works:</p>\n<p><strong>Demo</strong></p>\n<pre><code>import java.util.*;\nimport javax.xml.bind.*;\nimport javax.xml.transform.stream.StreamSource;\n\nimport org.eclipse.persistence.jaxb.JAXBContextProperties;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;(2);\n        properties.put(JAXBContextProperties.MEDIA_TYPE, &quot;application/json&quot;);\n        properties.put(JAXBContextProperties.JSON_INCLUDE_ROOT, false);\n        JAXBContext jc = JAXBContext.newInstance(new Class[] {Foo.class, ObjectFactory.class}, properties);\n        \n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        StreamSource json = new StreamSource(&quot;src/forum19158056/input.json&quot;);\n        Foo foo = unmarshaller.unmarshal(json, Foo.class).getValue();\n        \n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(foo, System.out);\n    }\n\n}\n</code></pre>\n<p><strong>input.json/Output</strong></p>\n<pre><code>{&quot;bar&quot; : {} }\n</code></pre>\n<h2>Running with JAX-RS</h2>\n<p>The following links will help you leverage MOXy in a JAX-RS service:</p>\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2012/05/moxy-as-your-jax-rs-json-provider.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2012/05/moxy-as-your-jax-rs-json-provider.html</a></li>\n<li><a href=\"http://blog.bdoughan.com/2013/06/moxy-is-new-default-json-binding.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2013/06/moxy-is-new-default-json-binding.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1412944444,"creation_date":1412907442,"answer_id":26290942,"question_id":19158056,"body_markdown":"Since you&#39;re using Jackson you can construct an `ObjectMapper` with the `JaxbAnnotationModule` and write out the value.  The following is some code to write a JAXB annotated object to system out.\r\n\r\n\tObjectMapper mapper = new ObjectMapper();\r\n\tmapper.registerModule(new JaxbAnnotationModule());\r\n\t\t\tmapper.writeValue(System.out, jaxbObject);\r\n\r\n\r\nThis approach will also work on Glassfish as it does not utilize the provider given by the container which would cause ClassNotFoundException as per [GLASSFISH-21141][1]\r\n\r\n\r\n  [1]: https://java.net/jira/browse/GLASSFISH-21141","title":"JAXB Mapping to JSON","body":"<p>Since you're using Jackson you can construct an <code>ObjectMapper</code> with the <code>JaxbAnnotationModule</code> and write out the value.  The following is some code to write a JAXB annotated object to system out.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JaxbAnnotationModule());\n        mapper.writeValue(System.out, jaxbObject);\n</code></pre>\n\n<p>This approach will also work on Glassfish as it does not utilize the provider given by the container which would cause ClassNotFoundException as per <a href=\"https://java.net/jira/browse/GLASSFISH-21141\">GLASSFISH-21141</a></p>\n"}],"owner":{"account_id":986908,"reputation":5768,"user_id":1005184,"accept_rate":81,"display_name":"Artem Moskalev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46800,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":19168878,"answer_count":2,"score":14,"last_activity_date":1645188730,"creation_date":1380799756,"question_id":19158056,"body_markdown":"I have written a JAX-RS (Jersey) REST Service, which accepts XML messages of ONIX XML format. Generally, I have generated all the required classes for JAXB binding from the given schema with xjc. There are more than 500 classes overall and I cannot modify them. \r\n\r\nNow, when I have a JAXB-mapped object, I need to store it to the    database. I work with mongoDb, so the message format should be JSON.    I tried to use Jackson with JAXB module to convert JAXB-object into    JSON, which works pretty fine with storing the data. But when I  try    to convert the JSON back into the JAXB object, it throws an exception    connected somehow with the JAXBElement. In google I found out that    the JAXBElement is not supported in Jackson and I have to work around    this issue. But I cant do it because I cannot modify JAXB-generated    classes.\r\n\r\nIs there a way to map JAXB Objects into JSON with some other means, but which will follow the whole JAXB specification so that I have no problems in the future converting from JSON to the JAXB object and visa vera? ","title":"JAXB Mapping to JSON","body":"<p>I have written a JAX-RS (Jersey) REST Service, which accepts XML messages of ONIX XML format. Generally, I have generated all the required classes for JAXB binding from the given schema with xjc. There are more than 500 classes overall and I cannot modify them. </p>\n\n<p>Now, when I have a JAXB-mapped object, I need to store it to the    database. I work with mongoDb, so the message format should be JSON.    I tried to use Jackson with JAXB module to convert JAXB-object into    JSON, which works pretty fine with storing the data. But when I  try    to convert the JSON back into the JAXB object, it throws an exception    connected somehow with the JAXBElement. In google I found out that    the JAXBElement is not supported in Jackson and I have to work around    this issue. But I cant do it because I cannot modify JAXB-generated    classes.</p>\n\n<p>Is there a way to map JAXB Objects into JSON with some other means, but which will follow the whole JAXB specification so that I have no problems in the future converting from JSON to the JAXB object and visa vera? </p>\n"},{"tags":["java","angular","selenium","xpath","drop-down-menu"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1645178924,"post_id":71171419,"comment_id":125807687,"body_markdown":"Can you share page URL?","body":"Can you share page URL?"},{"owner":{"account_id":20211750,"reputation":33,"user_id":14824066,"display_name":"tester.raheem123"},"score":0,"creation_date":1645179248,"post_id":71171419,"comment_id":125807803,"body_markdown":"This is only available via private vpn","body":"This is only available via private vpn"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645188446,"creation_date":1645188446,"answer_id":71173753,"question_id":71171419,"body_markdown":"To select the value by text _**Teszt_5**_ from a dynamic non Select dropdown you can use the following [_locator strategies_](https://stackoverflow.com/a/48376890/7429447):\r\n\r\n    String text = &quot;Teszt_5&quot;;\r\n    WebElement element = driver.findElement(ByMapper.getBy(dropdown));\r\n    element.click();\r\n    List&lt;WebElement&gt; options = element.findElements(By.xpath(&quot;//div[@class=&#39;mat-autocomplete-panel mat-autocomplete-visible ng-star-inserted&#39; and starts-with(@aria-labelledby, &#39;mat-form-field-label&#39;)]//mat-option//span[@class=&#39;mat-option-text&#39;]&quot;));\r\n    for (WebElement option : options){\r\n        if (option.getText().contains(text)){\r\n            option.click();\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [Automating jQuery based bootstrap dropdown using Selenium and Java](https://stackoverflow.com/a/59689509/7429447)\r\n- [How to select a DropDown from a list but HTML don&#39;t have select Tag using Selenium Java](https://stackoverflow.com/a/47794155/7429447)","title":"Select value by text from a dynamic non select dropdown using Selenium Java","body":"<p>To select the value by text <em><strong>Teszt_5</strong></em> from a dynamic non Select dropdown you can use the following <a href=\"https://stackoverflow.com/a/48376890/7429447\"><em>locator strategies</em></a>:</p>\n<pre><code>String text = &quot;Teszt_5&quot;;\nWebElement element = driver.findElement(ByMapper.getBy(dropdown));\nelement.click();\nList&lt;WebElement&gt; options = element.findElements(By.xpath(&quot;//div[@class='mat-autocomplete-panel mat-autocomplete-visible ng-star-inserted' and starts-with(@aria-labelledby, 'mat-form-field-label')]//mat-option//span[@class='mat-option-text']&quot;));\nfor (WebElement option : options){\n    if (option.getText().contains(text)){\n        option.click();\n        break;\n    }\n}\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/59689509/7429447\">Automating jQuery based bootstrap dropdown using Selenium and Java</a></li>\n<li><a href=\"https://stackoverflow.com/a/47794155/7429447\">How to select a DropDown from a list but HTML don't have select Tag using Selenium Java</a></li>\n</ul>\n"}],"owner":{"account_id":20211750,"reputation":33,"user_id":14824066,"display_name":"tester.raheem123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71173753,"answer_count":1,"score":3,"last_activity_date":1645188446,"creation_date":1645177864,"question_id":71171419,"body_markdown":"I want to select value by text from a dynamic non select dropdown. I did some research and I found this code:\r\n\r\n    WebElement element = driver.findElement(ByMapper.getBy(dropdown));\r\n    element.click();\r\n    List&lt;WebElement&gt; options = element.findElements(By.xpath(&quot;/html/body/div[1]/div[2]/div/div/div&quot;));\r\n    for (WebElement option : options){\r\n        if (option.getText().contains(text)){\r\n            option.click();\r\n            break;\r\n        }\r\n    }\r\n    \r\nBasically it put the dropdowns options into a List element, and run through in a for loop, and if the options contains text, click it and break the loop. However it is not working with this type of dropdown:\r\n\r\nSnapshot:\r\n\r\n![Dropdown][1]\r\n\r\n\r\nCan you suggest what can I do?\r\n\r\nSnapshot of Specific value:\r\n\r\n![Specific value][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dwchD.png\r\n  [2]: https://i.stack.imgur.com/JklVE.png\r\n\r\nNote: The page is only available via private vpn, so I cannot share it.","title":"Select value by text from a dynamic non select dropdown using Selenium Java","body":"<p>I want to select value by text from a dynamic non select dropdown. I did some research and I found this code:</p>\n<pre><code>WebElement element = driver.findElement(ByMapper.getBy(dropdown));\nelement.click();\nList&lt;WebElement&gt; options = element.findElements(By.xpath(&quot;/html/body/div[1]/div[2]/div/div/div&quot;));\nfor (WebElement option : options){\n    if (option.getText().contains(text)){\n        option.click();\n        break;\n    }\n}\n</code></pre>\n<p>Basically it put the dropdowns options into a List element, and run through in a for loop, and if the options contains text, click it and break the loop. However it is not working with this type of dropdown:</p>\n<p>Snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/dwchD.png\" alt=\"Dropdown\" /></p>\n<p>Can you suggest what can I do?</p>\n<p>Snapshot of Specific value:</p>\n<p><img src=\"https://i.stack.imgur.com/JklVE.png\" alt=\"Specific value\" /></p>\n<p>Note: The page is only available via private vpn, so I cannot share it.</p>\n"},{"tags":["java","mysql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645188433,"creation_date":1645178008,"answer_id":71171451,"question_id":71162035,"body_markdown":"Add the following to your `application.properties`:\r\n\r\n    spring.datasource.url=jdbc:mysql://[some IP-1]:3306/proDB1?useSSL=false&amp;autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.seconddatasource.url=jdbc:mysql://[some IP-2]:3306/proDB2?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.seconddatasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nIn practice the same value that is already in &quot;jdbc-url&quot;.\r\n\r\nIt is related how hiraki and drivers read the database url. More information here: https://stackoverflow.com/questions/44373186/how-to-use-hikaricp-in-spring-boot-with-two-datasources-in-conjunction-with-flyw","title":"not able to connect to two databases on different hosts using springboot","body":"<p>Add the following to your <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://[some IP-1]:3306/proDB1?useSSL=false&amp;autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.seconddatasource.url=jdbc:mysql://[some IP-2]:3306/proDB2?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\nspring.seconddatasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>In practice the same value that is already in &quot;jdbc-url&quot;.</p>\n<p>It is related how hiraki and drivers read the database url. More information here: <a href=\"https://stackoverflow.com/questions/44373186/how-to-use-hikaricp-in-spring-boot-with-two-datasources-in-conjunction-with-flyw\">How to use HikariCP in Spring Boot with two datasources in conjunction with Flyway</a></p>\n"}],"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645188433,"creation_date":1645115826,"question_id":71162035,"body_markdown":"I am not able to connect to two databases residing on different hosts. I have defined primary and secondary data sources configuration classes. Crossed checked my credentials. Tested OK with telnet command for reach-ability.\r\nBut some how I was able to connect to those two databases from my localhost environment. I suppose I was able to connect to those DBs through localhost because host was same. But don&#39;t know what&#39;s the issue on production. Here are my files.\r\n\r\n**application.properties**\r\n\r\n    server.port=9393\r\n    server.sessionTimeout = 30\r\n    \r\n    spring.profiles.active = dev\r\n    spring.jackson.serialization.fail-on-empty-beans = false\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    \r\n    ######production#################\r\n    server.address = [some IP]\r\n    spring.data.mongodb.host=[some IP]\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=MongoLog\r\n    #########################\r\n    \r\n    #######localhost###########\r\n    #spring.data.mongodb.host=localhost\r\n    #spring.data.mongodb.port=27017\r\n    #spring.data.mongodb.database=MongoLog\r\n    ###########################\r\n    \r\n    #production DB-1\r\n    spring.datasource.jdbc-url=jdbc:mysql://[some IP-1]:3306/proDB1?useSSL=false&amp;autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.datasource.username=root\r\n    spring.datasource.password=secret@123\r\n    \r\n    #localhost DB1---&gt;\r\n    #spring.datasource.jdbc-url=jdbc:mysql://localhost:3306/proDB1?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\r\n    #spring.datasource.username=root\r\n    #spring.datasource.password=root\r\n    \r\n    #production DB-2\r\n    spring.seconddatasource.jdbc-url=jdbc:mysql://[some IP-2]:3306/proDB2?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.seconddatasource.username=root\r\n    spring.seconddatasource.password=secret@321\r\n    \r\n    #localhost DB2---&gt;\r\n    #spring.seconddatasource.jdbc-url=jdbc:mysql://localhost:3306/proDB2?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\r\n    #spring.seconddatasource.username=root\r\n    #spring.seconddatasource.password=root\r\n    \r\n    spring.jpa.database=default\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n    \r\n    # TOMCAT\r\n    tomcat.accessLogEnabled=false\r\n    tomcat.protocolHeader=x-forwarded-proto\r\n    tomcat.remoteIpHeader=x-forwarded-for\r\n    tomcat.backgroundProcessorDelay=30\r\n\r\n**primary datasource class**\r\n\r\n    package com.product.dailyReport;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n    \t\t  entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\r\n    \t\t  transactionManagerRef = &quot;primaryTransactionManager&quot;,\r\n    \t\t  basePackages = { &quot;com.product.dailyReport.repository&quot; }\r\n    \t\t  \r\n    \t\t\r\n    \t\t)\r\n    public class PrimaryDBConfig {\r\n    \t@Bean(name=&quot;primaryDataSource&quot;)\r\n    \t@Primary\r\n    \t@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    \tpublic DataSource primaryDataSource() {\r\n    \t    return DataSourceBuilder.create().build();\r\n    \t}\r\n    \r\n    \t@Primary\r\n    \t@Bean(name = &quot;primaryEntityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean primaryEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n    \t\t\t@Qualifier(&quot;primaryDataSource&quot;) DataSource primaryDataSource) {\r\n    \t\treturn builder\r\n    \t\t\t\t.dataSource(primaryDataSource)\r\n    \t\t\t\t.packages(&quot;com.product.dailyReport&quot;)\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;primaryTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager primaryTransactionManager(\r\n    \t\t\t@Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory) {\r\n    \t\treturn new JpaTransactionManager(primaryEntityManagerFactory);\r\n    \t}\r\n    }\r\n\r\n**secondary datasource class**\r\n\r\n    package com.product.dailyReport;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n      entityManagerFactoryRef = &quot;secondaryEntityManagerFactory&quot;,\r\n      transactionManagerRef = &quot;secondaryTransactionManager&quot;,\r\n      basePackages = { &quot;com.product.dailyReport.colombo.repository&quot; }\r\n    )\r\n    public class SecondaryDBConfig {\r\n    \t@Bean(name=&quot;secondaryDataSource&quot;)\r\n    \t@ConfigurationProperties(prefix=&quot;spring.seconddatasource&quot;)\r\n    \tpublic DataSource secondaryDataSource() {\r\n    \t    return DataSourceBuilder.create().build();\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;secondaryEntityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean secondaryEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n    \t\t\t@Qualifier(&quot;secondaryDataSource&quot;) DataSource secondaryDataSource) {\r\n    \t\treturn builder\r\n    \t\t\t\t.dataSource(secondaryDataSource)\r\n    \t\t\t\t.packages(&quot;com.product.dailyReport&quot;)\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;secondaryTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager secondaryTransactionManager(\r\n    \t\t\t@Qualifier(&quot;secondaryEntityManagerFactory&quot;) EntityManagerFactory secondaryEntityManagerFactory) {\r\n    \t\treturn new JpaTransactionManager(secondaryEntityManagerFactory);\r\n    \t}\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.crbt&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;DailyReport&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;DailyReport&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring boot dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Spring boot development tools --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \r\n    \t\t&lt;!-- MySQL database connector --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.31&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t--&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-pool/commons-pool --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Java EE based dependency injection --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\r\n    \t\t&lt;!-- EMail validator --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- JSON/XML tool --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/com.squareup.okio/okio --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\t\t\t&lt;!-- API, java.xml.bind module --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nall is working fine with localhost environment i.e I was able to connect to two databases from localhost using above settings but on production environment I am getting `com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.` Below is the full stack, it has something related to hikari.. don&#39;t know what it is :\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_144]\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_144]\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_144]\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_144]\r\n            at com.mysql.jdbc.Util.handleNewInstance(Util.java:408) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1023) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2407) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2328) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:832) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_144]\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_144]\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_144]\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_144]\r\n            at com.mysql.jdbc.Util.handleNewInstance(Util.java:408) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:417) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:344) ~[mysql-connector-java-5.1.31.jar!/:na]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) [HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) [HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-4.0.3.jar!/:na]\r\n            at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) [hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]","title":"not able to connect to two databases on different hosts using springboot","body":"<p>I am not able to connect to two databases residing on different hosts. I have defined primary and secondary data sources configuration classes. Crossed checked my credentials. Tested OK with telnet command for reach-ability.\nBut some how I was able to connect to those two databases from my localhost environment. I suppose I was able to connect to those DBs through localhost because host was same. But don't know what's the issue on production. Here are my files.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=9393\nserver.sessionTimeout = 30\n\nspring.profiles.active = dev\nspring.jackson.serialization.fail-on-empty-beans = false\nspring.mvc.throw-exception-if-no-handler-found=true\n\n######production#################\nserver.address = [some IP]\nspring.data.mongodb.host=[some IP]\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=MongoLog\n#########################\n\n#######localhost###########\n#spring.data.mongodb.host=localhost\n#spring.data.mongodb.port=27017\n#spring.data.mongodb.database=MongoLog\n###########################\n\n#production DB-1\nspring.datasource.jdbc-url=jdbc:mysql://[some IP-1]:3306/proDB1?useSSL=false&amp;autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\nspring.datasource.username=root\nspring.datasource.password=secret@123\n\n#localhost DB1---&gt;\n#spring.datasource.jdbc-url=jdbc:mysql://localhost:3306/proDB1?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\n#spring.datasource.username=root\n#spring.datasource.password=root\n\n#production DB-2\nspring.seconddatasource.jdbc-url=jdbc:mysql://[some IP-2]:3306/proDB2?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\nspring.seconddatasource.username=root\nspring.seconddatasource.password=secret@321\n\n#localhost DB2---&gt;\n#spring.seconddatasource.jdbc-url=jdbc:mysql://localhost:3306/proDB2?autoReconnect=true&amp;useUnicode=yes&amp;characterEncoding=UTF-8\n#spring.seconddatasource.username=root\n#spring.seconddatasource.password=root\n\nspring.jpa.database=default\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n\n# TOMCAT\ntomcat.accessLogEnabled=false\ntomcat.protocolHeader=x-forwarded-proto\ntomcat.remoteIpHeader=x-forwarded-for\ntomcat.backgroundProcessorDelay=30\n</code></pre>\n<p><strong>primary datasource class</strong></p>\n<pre><code>package com.product.dailyReport;\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n          entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\n          transactionManagerRef = &quot;primaryTransactionManager&quot;,\n          basePackages = { &quot;com.product.dailyReport.repository&quot; }\n          \n        \n        )\npublic class PrimaryDBConfig {\n    @Bean(name=&quot;primaryDataSource&quot;)\n    @Primary\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\n    public DataSource primaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = &quot;primaryEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean primaryEntityManagerFactory(EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;primaryDataSource&quot;) DataSource primaryDataSource) {\n        return builder\n                .dataSource(primaryDataSource)\n                .packages(&quot;com.product.dailyReport&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;primaryTransactionManager&quot;)\n    public PlatformTransactionManager primaryTransactionManager(\n            @Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory) {\n        return new JpaTransactionManager(primaryEntityManagerFactory);\n    }\n}\n</code></pre>\n<p><strong>secondary datasource class</strong></p>\n<pre><code>package com.product.dailyReport;\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n  entityManagerFactoryRef = &quot;secondaryEntityManagerFactory&quot;,\n  transactionManagerRef = &quot;secondaryTransactionManager&quot;,\n  basePackages = { &quot;com.product.dailyReport.colombo.repository&quot; }\n)\npublic class SecondaryDBConfig {\n    @Bean(name=&quot;secondaryDataSource&quot;)\n    @ConfigurationProperties(prefix=&quot;spring.seconddatasource&quot;)\n    public DataSource secondaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;secondaryEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean secondaryEntityManagerFactory(EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;secondaryDataSource&quot;) DataSource secondaryDataSource) {\n        return builder\n                .dataSource(secondaryDataSource)\n                .packages(&quot;com.product.dailyReport&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;secondaryTransactionManager&quot;)\n    public PlatformTransactionManager secondaryTransactionManager(\n            @Qualifier(&quot;secondaryEntityManagerFactory&quot;) EntityManagerFactory secondaryEntityManagerFactory) {\n        return new JpaTransactionManager(secondaryEntityManagerFactory);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.crbt&lt;/groupId&gt;\n    &lt;artifactId&gt;DailyReport&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DailyReport&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring boot dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring boot development tools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        \n\n        &lt;!-- MySQL database connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client \n&lt;dependency&gt;\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n        --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-pool/commons-pool --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n            &lt;version&gt;1.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Java EE based dependency injection --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    \n        &lt;!-- EMail validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JSON/XML tool --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/com.squareup.okio/okio --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n    &lt;artifactId&gt;okio&lt;/artifactId&gt;\n    &lt;version&gt;1.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        \n        \n        \n                        &lt;!-- API, java.xml.bind module --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Runtime, com.sun.xml.bind module --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n        \n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>all is working fine with localhost environment i.e I was able to connect to two databases from localhost using above settings but on production environment I am getting <code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.</code> Below is the full stack, it has something related to hikari.. don't know what it is :</p>\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_144]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_144]\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_144]\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_144]\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:408) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1023) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2407) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2328) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:832) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_144]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_144]\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_144]\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_144]\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:408) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:417) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:344) ~[mysql-connector-java-5.1.31.jar!/:na]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) [HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) [HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) [hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645183714,"creation_date":1645183714,"answer_id":71172730,"question_id":71172205,"body_markdown":"Seems not related to Stream API, just use [`Map.getOrDefault`][1] to get rid of null return.\r\n```java\r\nimport java.util.*;\r\n\r\npublic class NullableMapGet {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; fileTypeMapping = new HashMap&lt;&gt;();\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;codec&quot;, new ArrayList(Arrays.asList(&quot;ext1&quot;, &quot;ext2&quot;)));\r\n        fileTypeMapping.put(&quot;image&quot;, map);\r\n\r\n        String fileType = &quot;Image&quot;;\r\n        String codec = &quot;Codec&quot;;\r\n        String extension = &quot;ext2&quot;;\r\n        boolean exist = false;\r\n        if (fileType == null || codec == null || extension == null) {\r\n            exist = false;\r\n        } else {\r\n            exist = fileTypeMapping\r\n                    .getOrDefault(fileType.toLowerCase(), Collections.emptyMap())\r\n                    .getOrDefault(codec.toLowerCase(), Collections.emptyList())\r\n                    .contains(extension.toLowerCase());\r\n        }\r\n        System.out.print(exist);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)","title":"how do I convert this piece of code to stream using java stream api","body":"<p>Seems not related to Stream API, just use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault</code></a> to get rid of null return.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class NullableMapGet {\n    public static void main(String[] args) {\n        Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; fileTypeMapping = new HashMap&lt;&gt;();\n\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;codec&quot;, new ArrayList(Arrays.asList(&quot;ext1&quot;, &quot;ext2&quot;)));\n        fileTypeMapping.put(&quot;image&quot;, map);\n\n        String fileType = &quot;Image&quot;;\n        String codec = &quot;Codec&quot;;\n        String extension = &quot;ext2&quot;;\n        boolean exist = false;\n        if (fileType == null || codec == null || extension == null) {\n            exist = false;\n        } else {\n            exist = fileTypeMapping\n                    .getOrDefault(fileType.toLowerCase(), Collections.emptyMap())\n                    .getOrDefault(codec.toLowerCase(), Collections.emptyList())\n                    .contains(extension.toLowerCase());\n        }\n        System.out.print(exist);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2989364,"reputation":529,"user_id":2537297,"display_name":"Sunil Bishnoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71172730,"answer_count":1,"score":1,"last_activity_date":1645188273,"creation_date":1645181352,"question_id":71172205,"body_markdown":"I am trying to convert below code into stream. It&#39;s not that difficult but I am not sure how to handle null values in stream. I did checked out `Optinal.ofNullable` method but quite not sure if I have to use it 2-3 times to get the correct stream code. I can use the below code for now, but I wish to learn doing it in stream. Please help me learn.\r\n\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; fileTypeMapping = new HashMap&lt;&gt;();\r\n\r\nMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;codec&quot;, new ArrayList(Arrays.asList(&quot;ext1&quot;, &quot;ext2&quot;)));\r\n    fileTypeMapping.put(&quot;image&quot;, map);\r\n\r\nString fileType = &quot;Image&quot;;\r\nString codec = &quot;Codec&quot;;\r\nString extension = &quot;ext2&quot;;\r\nboolean exist = false;\r\nif(fileType != null) {\r\n    Map&lt;String, List&lt;String&gt;&gt; codecMap = fileTypeMapping.get(fileType.toLowerCase());\r\n    if(codecMap != null) {\r\n        List&lt;String&gt; list = codecMap.get(codec.toLowerCase());\r\n        if (list != null) {\r\n            exist = list.contains(extension.toLowerCase());\r\n        }\r\n    }\r\n}\r\nSystem.out.print(exist);\r\n\r\n```\r\n","title":"how do I convert this piece of code to stream using java stream api","body":"<p>I am trying to convert below code into stream. It's not that difficult but I am not sure how to handle null values in stream. I did checked out <code>Optinal.ofNullable</code> method but quite not sure if I have to use it 2-3 times to get the correct stream code. I can use the below code for now, but I wish to learn doing it in stream. Please help me learn.</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; fileTypeMapping = new HashMap&lt;&gt;();\n\nMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;codec&quot;, new ArrayList(Arrays.asList(&quot;ext1&quot;, &quot;ext2&quot;)));\n    fileTypeMapping.put(&quot;image&quot;, map);\n\nString fileType = &quot;Image&quot;;\nString codec = &quot;Codec&quot;;\nString extension = &quot;ext2&quot;;\nboolean exist = false;\nif(fileType != null) {\n    Map&lt;String, List&lt;String&gt;&gt; codecMap = fileTypeMapping.get(fileType.toLowerCase());\n    if(codecMap != null) {\n        List&lt;String&gt; list = codecMap.get(codec.toLowerCase());\n        if (list != null) {\n            exist = list.contains(extension.toLowerCase());\n        }\n    }\n}\nSystem.out.print(exist);\n\n</code></pre>\n"},{"tags":["java","visual-studio-code","playframework"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1645055052,"post_id":71148242,"comment_id":125772117,"body_markdown":"Could you tag your IDE in the question please?","body":"Could you tag your IDE in the question please?"}],"answers":[{"tags":[],"owner":{"account_id":3408439,"reputation":1400,"user_id":2858970,"display_name":"FrancescoM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645188263,"creation_date":1645188263,"answer_id":71173708,"question_id":71148242,"body_markdown":"Probably the problem is that you are not importing the code generated via twirl that you&#39;ll found under target/twirl/main.\r\nTry to mark `target/twirl/main` as source.\r\n\r\nBeyond that i really suggest you to use intellij for your play project, just import it as sbt project and you are done","title":"Default Play framework code generates an error in VS Code","body":"<p>Probably the problem is that you are not importing the code generated via twirl that you'll found under target/twirl/main.\nTry to mark <code>target/twirl/main</code> as source.</p>\n<p>Beyond that i really suggest you to use intellij for your play project, just import it as sbt project and you are done</p>\n"}],"owner":{"account_id":34832,"reputation":327,"user_id":98521,"accept_rate":100,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645188263,"creation_date":1645040094,"question_id":71148242,"body_markdown":"I&#39;m doing some research into the Play framework for Java. After creating a new project for Play 2.8 and opening the default HomeController.java file an error is generated stating a reference could not be resolved to a type.\r\n\r\nCan anyone tell me why this is a problem and how to correct it?\r\n\r\nHere&#39;s a screenshot:\r\n\r\n[![VS Code error indication][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XHW3W.png","title":"Default Play framework code generates an error in VS Code","body":"<p>I'm doing some research into the Play framework for Java. After creating a new project for Play 2.8 and opening the default HomeController.java file an error is generated stating a reference could not be resolved to a type.</p>\n<p>Can anyone tell me why this is a problem and how to correct it?</p>\n<p>Here's a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/XHW3W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHW3W.png\" alt=\"VS Code error indication\" /></a></p>\n"},{"tags":["java","functional-programming"],"answers":[{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395312373,"creation_date":1395312373,"answer_id":22530499,"question_id":22530345,"body_markdown":"Methods are not first class objecs in Java, apart from the already existing usage in reflection, to answer your questions:\r\n\r\n1. Yes, you can pass it on, **but** it needs to satisfy the signature.\r\n - For a `void method()` you use a `Runnable`, like this:  \r\n   `Runnable method = this::method` if it is in the same class, and then run the actual method with `method.run()`.\r\n - However for a `double method()` you need to use a `DoubleSupplier`, like this:\r\n  `DoubleSupplier method = this::method`, and then use it as `double d = method.get()`.\r\n - And many more signatures, and you can even define your own with Functional Interfaces.\r\n\r\n2. Yes it is possible, but only specific signatures as shown in Point 1.\r\n\r\n3. Lambdas behave exactly as anonymous inner classes, which are closures by itself, Java has had support for closures since they introduced anonymous inner classes. The only thing that is added now is that the syntax is much prettier.","title":"Does Java 8 support functions as first class objects?","body":"<p>Methods are not first class objecs in Java, apart from the already existing usage in reflection, to answer your questions:</p>\n\n<ol>\n<li><p>Yes, you can pass it on, <strong>but</strong> it needs to satisfy the signature.</p>\n\n<ul>\n<li>For a <code>void method()</code> you use a <code>Runnable</code>, like this:<br>\n<code>Runnable method = this::method</code> if it is in the same class, and then run the actual method with <code>method.run()</code>.</li>\n<li>However for a <code>double method()</code> you need to use a <code>DoubleSupplier</code>, like this:\n<code>DoubleSupplier method = this::method</code>, and then use it as <code>double d = method.get()</code>.</li>\n<li>And many more signatures, and you can even define your own with Functional Interfaces.</li>\n</ul></li>\n<li><p>Yes it is possible, but only specific signatures as shown in Point 1.</p></li>\n<li><p>Lambdas behave exactly as anonymous inner classes, which are closures by itself, Java has had support for closures since they introduced anonymous inner classes. The only thing that is added now is that the syntax is much prettier.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1395312389,"creation_date":1395312389,"answer_id":22530505,"question_id":22530345,"body_markdown":"No, not first class functions. Lambda expression are wrapped in a interface, and [some syntatic sugar applied for brevity][1]. \r\n\r\nBut you can;t create a function on its own and pass it around different methods, whether thats a key point or not is a different question.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Does Java 8 support functions as first class objects?","body":"<p>No, not first class functions. Lambda expression are wrapped in a interface, and <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow\">some syntatic sugar applied for brevity</a>. </p>\n\n<p>But you can;t create a function on its own and pass it around different methods, whether thats a key point or not is a different question.</p>\n"},{"tags":[],"owner":{"account_id":5226,"reputation":21596,"user_id":8313,"display_name":"Sean Reilly"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1645188255,"creation_date":1395312441,"answer_id":22530536,"question_id":22530345,"body_markdown":"It is possible. How do you do it?\r\n\r\nFirst construct a &quot;Functional Interface&quot; (or use one of the provided ones). A [functional interface][1] is an interface with a single method. java.lang.Runnable is an example.\r\n\r\nSecond, write a method that takes a functional interface as a parameter.\r\n\r\n    public void doAThing(Runnable r) {\r\n        r.run();\r\n    }\r\n\r\nThird, write a method with the correct signature.\r\n\r\n    public class MyClass {\r\n        public void runAThing() {\r\n            System.out.println(&quot;I executed!&quot;);\r\n        }\r\n    }\r\n\r\nFourth, call the function passing in a method reference.\r\n\r\n    MyClass mc = new MyClass();\r\n    doAThing(mc::runAThing);\r\n\r\nYou&#39;ll note that none of the classes you&#39;ve wrote ever explicitly implements `Runnable`. This is handled for you by the compiler.\r\n\r\nYou can do something similar using a lamdba expression:\r\n\r\n    doAThing(() -&gt; System.out.println(&quot;I executed as a lamdba expression!&quot;));\r\n\r\nTo return the function as a value from another function, just return an instance of `Runnable`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.8","title":"Does Java 8 support functions as first class objects?","body":"<p>It is possible. How do you do it?</p>\n<p>First construct a &quot;Functional Interface&quot; (or use one of the provided ones). A <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.8\" rel=\"nofollow noreferrer\">functional interface</a> is an interface with a single method. java.lang.Runnable is an example.</p>\n<p>Second, write a method that takes a functional interface as a parameter.</p>\n<pre><code>public void doAThing(Runnable r) {\n    r.run();\n}\n</code></pre>\n<p>Third, write a method with the correct signature.</p>\n<pre><code>public class MyClass {\n    public void runAThing() {\n        System.out.println(&quot;I executed!&quot;);\n    }\n}\n</code></pre>\n<p>Fourth, call the function passing in a method reference.</p>\n<pre><code>MyClass mc = new MyClass();\ndoAThing(mc::runAThing);\n</code></pre>\n<p>You'll note that none of the classes you've wrote ever explicitly implements <code>Runnable</code>. This is handled for you by the compiler.</p>\n<p>You can do something similar using a lamdba expression:</p>\n<pre><code>doAThing(() -&gt; System.out.println(&quot;I executed as a lamdba expression!&quot;));\n</code></pre>\n<p>To return the function as a value from another function, just return an instance of <code>Runnable</code>.</p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395312461,"creation_date":1395312461,"answer_id":22530544,"question_id":22530345,"body_markdown":"The most important aspects of first-class functions have been blended into the existing Java type system. No true *function type* has been introduced; any single-method interface is its own &quot;function type&quot;. So, as for your first two questions, you can freely pass around instances of such *functional interfaces*.\r\n\r\nThere are many subtle changes to the semantics, which allow one to use lambda syntax/method references to implement any such interface. You can even use higher-order functions such as `compose`, which returns a generic `Function` type, and pass it to a method which expects a compatible functional interface type.\r\n\r\n&gt;you cannot change the value of the variable you reference in a closure\r\n\r\nThis is not a limitation specific to Java. In fact, most FP languages don&#39;t support mutable variables of any kind. Note that there is no requirement to use the `final` keyword on the variable; the concept of *effectively final* takes care of that.\r\n\r\n","title":"Does Java 8 support functions as first class objects?","body":"<p>The most important aspects of first-class functions have been blended into the existing Java type system. No true <em>function type</em> has been introduced; any single-method interface is its own \"function type\". So, as for your first two questions, you can freely pass around instances of such <em>functional interfaces</em>.</p>\n\n<p>There are many subtle changes to the semantics, which allow one to use lambda syntax/method references to implement any such interface. You can even use higher-order functions such as <code>compose</code>, which returns a generic <code>Function</code> type, and pass it to a method which expects a compatible functional interface type.</p>\n\n<blockquote>\n  <p>you cannot change the value of the variable you reference in a closure</p>\n</blockquote>\n\n<p>This is not a limitation specific to Java. In fact, most FP languages don't support mutable variables of any kind. Note that there is no requirement to use the <code>final</code> keyword on the variable; the concept of <em>effectively final</em> takes care of that.</p>\n"}],"owner":{"account_id":114421,"reputation":2717,"user_id":300873,"accept_rate":74,"display_name":"SPIRiT_1984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12933,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":4,"score":12,"last_activity_date":1645188255,"creation_date":1395312000,"question_id":22530345,"body_markdown":"I&#39;ve read today about the Java 8 release. But I don&#39;t understand fully the concept of reference methods in Java 8. Does this mean that Java now has the support of functions as first class objects? I have seen, how to construct a reference to function. But it seems to me, that the Converter object they provide has quite limited functionality. Is it now possible in Java:\r\n\r\n - to pass the function as the argument to another function?\r\n - to return the function as the return value from another function?\r\n - and what about closures? Are they implemented fully like in functional languages, or they do have some limitations? It seems to me that there are some limitations (you cannot change the value of the variable you reference in a closure, it must be marked as final and etc).","title":"Does Java 8 support functions as first class objects?","body":"<p>I've read today about the Java 8 release. But I don't understand fully the concept of reference methods in Java 8. Does this mean that Java now has the support of functions as first class objects? I have seen, how to construct a reference to function. But it seems to me, that the Converter object they provide has quite limited functionality. Is it now possible in Java:</p>\n\n<ul>\n<li>to pass the function as the argument to another function?</li>\n<li>to return the function as the return value from another function?</li>\n<li>and what about closures? Are they implemented fully like in functional languages, or they do have some limitations? It seems to me that there are some limitations (you cannot change the value of the variable you reference in a closure, it must be marked as final and etc).</li>\n</ul>\n"},{"tags":["java","unit-testing","testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":13125144,"reputation":163,"user_id":9481374,"display_name":"Varadharajan Raghavendran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1645188250,"creation_date":1645188250,"answer_id":71173706,"question_id":71173596,"body_markdown":"    @Test\r\n    @DisplayName(&quot;when property is null then not found exception&quot;)\r\n    public void testWhenPropertyIsNull() throws CheckedException, NotFoundException {\r\n        when(propertyManager.sendToApprove(anyLong()) == null)\r\n                .thenThrow(NotFoundException.class);\r\n    }\r\n\r\nSo in the test case would throw an exception as you have mentioned with the thenThrow method. You need to add \r\n\r\n    @Test(expected = NotFoundException.class)\r\n\r\nexpected means the test case expects a NotFoundException and your test throws the same","title":"How to write test for exception","body":"<pre><code>@Test\n@DisplayName(&quot;when property is null then not found exception&quot;)\npublic void testWhenPropertyIsNull() throws CheckedException, NotFoundException {\n    when(propertyManager.sendToApprove(anyLong()) == null)\n            .thenThrow(NotFoundException.class);\n}\n</code></pre>\n<p>So in the test case would throw an exception as you have mentioned with the thenThrow method. You need to add</p>\n<pre><code>@Test(expected = NotFoundException.class)\n</code></pre>\n<p>expected means the test case expects a NotFoundException and your test throws the same</p>\n"}],"owner":{"account_id":24300168,"reputation":3,"user_id":18243778,"display_name":"Pedro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71173706,"answer_count":1,"score":0,"last_activity_date":1645188250,"creation_date":1645187777,"question_id":71173596,"body_markdown":"I&#39;ve got this method\r\n\r\n \r\n\r\n           public PropertyEntity sendToApprove(Long id) throws CheckedException, NotFoundException {\r\n            PropertyEntity entity = propertyDataService.findById(id, false);\r\n            NotFoundException.check(entity == null, &quot;Property not found.&quot;);\r\n            if (entity.getStatus() == PropertyStatus.DRAFT) {\r\n                CheckedException.check(propertyDataService.validateProperty(entity), &quot;Please \r\n     apply all mandatory fields!&quot;);\r\n                entity.setStatus(PropertyStatus.PENDING);\r\n    //            not use save method to avoid status changing to draft\r\n                propertyDataService.saveAll(Collections.singletonList(entity));\r\n                propertyDataService.updateMinMaxPriceAndBedBath(entity.getId());\r\n            } else {\r\n                throw new CheckedException(&quot;Approve from this status is not supported&quot;);\r\n            }\r\n            return entity;\r\n        }\r\n\r\nNeed to write test if entity is null then method: send to approve throws exception NotFound.\r\nI&#39;m new in this testing so far I&#39;ve done this\r\n\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class PropertyControllerSendToApproveTest {\r\n    \r\n        private PropertyDataService propertyDataService = Mockito.mock(PropertyDataService.class);\r\n    \r\n        private PropertyManager propertyManager = Mockito.mock(PropertyManager.class);\r\n        \r\n    \r\n        @BeforeEach\r\n        public void init() throws CheckedException, NotFoundException {\r\n            Mockito.when(propertyManager.sendToApprove(1L)).thenReturn(null);\r\n        }\r\n    \r\n        @Test\r\n        @DisplayName(&quot;when property is null then not found exception&quot;)\r\n        public void testWhenPropertyIsNull() throws CheckedException, NotFoundException {\r\n            when(propertyManager.sendToApprove(anyLong()) == null)\r\n                    .thenThrow(NotFoundException.class);\r\n        }\r\n     }\r\n\r\n","title":"How to write test for exception","body":"<p>I've got this method</p>\n<pre><code>       public PropertyEntity sendToApprove(Long id) throws CheckedException, NotFoundException {\n        PropertyEntity entity = propertyDataService.findById(id, false);\n        NotFoundException.check(entity == null, &quot;Property not found.&quot;);\n        if (entity.getStatus() == PropertyStatus.DRAFT) {\n            CheckedException.check(propertyDataService.validateProperty(entity), &quot;Please \n apply all mandatory fields!&quot;);\n            entity.setStatus(PropertyStatus.PENDING);\n//            not use save method to avoid status changing to draft\n            propertyDataService.saveAll(Collections.singletonList(entity));\n            propertyDataService.updateMinMaxPriceAndBedBath(entity.getId());\n        } else {\n            throw new CheckedException(&quot;Approve from this status is not supported&quot;);\n        }\n        return entity;\n    }\n</code></pre>\n<p>Need to write test if entity is null then method: send to approve throws exception NotFound.\nI'm new in this testing so far I've done this</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class PropertyControllerSendToApproveTest {\n\n    private PropertyDataService propertyDataService = Mockito.mock(PropertyDataService.class);\n\n    private PropertyManager propertyManager = Mockito.mock(PropertyManager.class);\n    \n\n    @BeforeEach\n    public void init() throws CheckedException, NotFoundException {\n        Mockito.when(propertyManager.sendToApprove(1L)).thenReturn(null);\n    }\n\n    @Test\n    @DisplayName(&quot;when property is null then not found exception&quot;)\n    public void testWhenPropertyIsNull() throws CheckedException, NotFoundException {\n        when(propertyManager.sendToApprove(anyLong()) == null)\n                .thenThrow(NotFoundException.class);\n    }\n }\n</code></pre>\n"},{"tags":["java","selenium","xpath","drop-down-menu","dropdown"],"answers":[{"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513169081,"creation_date":1513169081,"answer_id":47793366,"question_id":47793001,"body_markdown":"Its not a dropdown. It a menu, You can use `Actions` class to select the sub-menu you want. use below code :\r\n\r\n\r\n    Actions action = new Actions(driver);\r\n\taction.moveToElement(driver.findElement(By.id(&quot;highlight-addons&quot;))).clickAndHold(driver.findElement(By.xpath(&quot;//li/a[contains(text(),&#39;SpiceMax&#39;)]&quot;))).click().build().perform();","title":"How to select a DropDown from a list but HTML don&#39;t have select Tag using Selenium Java","body":"<p>Its not a dropdown. It a menu, You can use <code>Actions</code> class to select the sub-menu you want. use below code :</p>\n\n<pre><code>Actions action = new Actions(driver);\naction.moveToElement(driver.findElement(By.id(\"highlight-addons\"))).clickAndHold(driver.findElement(By.xpath(\"//li/a[contains(text(),'SpiceMax')]\"))).click().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1513171566,"creation_date":1513171566,"answer_id":47794155,"question_id":47793001,"body_markdown":"To select a value from the `DropDown`, you have to first **`Mouse Hover`** the `WebElement` **`ADD-ONS`**, then to select **`SpiceClub Membership Offer`** you can use the following code block :\r\n\r\n\tWebElement elem = driver.findElement(By.xpath(&quot;//a[@id=&#39;highlight-addons&#39;]&quot;));\r\n\tActions action = new Actions(driver);\r\n\taction.moveToElement(elem).perform();\r\n\tList&lt;WebElement&gt; items = driver.findElements(By.xpath(&quot;//ul[@class=&#39;add-ons-tab&#39;]/li/a&quot;));\r\n\tfor(WebElement myitem:items)\r\n\t{\r\n\t\tif(myitem.getAttribute(&quot;innerHTML&quot;).contains(&quot;Membership&quot;))\r\n\t\t{\r\n\t\t\tmyitem.click();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to select a DropDown from a list but HTML don&#39;t have select Tag using Selenium Java","body":"<p>To select a value from the <code>DropDown</code>, you have to first <strong><code>Mouse Hover</code></strong> the <code>WebElement</code> <strong><code>ADD-ONS</code></strong>, then to select <strong><code>SpiceClub Membership Offer</code></strong> you can use the following code block :</p>\n\n<pre><code>WebElement elem = driver.findElement(By.xpath(\"//a[@id='highlight-addons']\"));\nActions action = new Actions(driver);\naction.moveToElement(elem).perform();\nList&lt;WebElement&gt; items = driver.findElements(By.xpath(\"//ul[@class='add-ons-tab']/li/a\"));\nfor(WebElement myitem:items)\n{\n    if(myitem.getAttribute(\"innerHTML\").contains(\"Membership\"))\n    {\n        myitem.click();\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10153503,"reputation":9,"user_id":7499286,"accept_rate":25,"display_name":"Akula Bhaskar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":47794155,"answer_count":2,"score":0,"last_activity_date":1645188144,"creation_date":1513167977,"question_id":47793001,"body_markdown":"I am new to selenium and i would like to perform a simple task I want to select a drop-down from a tab and i have used &quot;http://www.spicejet.com/&quot; as an Reference.\r\nThere is a Tab &quot;Add-On&quot; in webpage spicejet.com  and it contains Drop Down value i would like to select any one value from the list.\r\nHTML code don&#39;t have select tag so Select class not giving me appropriate result.\r\n\r\nHere is the HTML code:\r\n\r\n    &lt;a href=&quot;javascript:void(0);&quot; id=&quot;highlight-addons&quot; class=&quot;&quot;&gt;Add-Ons&lt;span class=&quot;rightarrowclass&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;rightarrowclass&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/a&gt;\r\n    &lt;li&gt;&lt;a href=&quot;SpiceClubMembershipOffer.aspx&quot;&gt;SpiceClub Membership Offer&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=&quot;ctl00_lblSpiceClublink&quot;&gt;\r\n                                                    &lt;a id=&quot;ctl00_lblSpiceClub&quot; href=&#39;javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$lblSpiceClub&quot;, &quot;&quot;, false, &quot;&quot;, &quot;SpiceClub.aspx&quot;, false, true))&#39;&gt;SpiceCash/SpiceClub&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://book.spicejet.com/SpiceMoneyTopup.aspx&quot;&gt;SpiceCash Topup &lt;/a&gt;&lt;/li&gt;\r\n    &lt;a href=&quot;http://book.spicejet.com/RetrieveBooking.aspx?AddSeat=true&quot;&gt;SpiceMax &lt;/a&gt;\r\n\r\nPlease help me let me know how to move forward.\r\n\r\n","title":"How to select a DropDown from a list but HTML don&#39;t have select Tag using Selenium Java","body":"<p>I am new to selenium and i would like to perform a simple task I want to select a drop-down from a tab and i have used \"<a href=\"http://www.spicejet.com/\" rel=\"nofollow noreferrer\">http://www.spicejet.com/</a>\" as an Reference.\nThere is a Tab \"Add-On\" in webpage spicejet.com  and it contains Drop Down value i would like to select any one value from the list.\nHTML code don't have select tag so Select class not giving me appropriate result.</p>\n\n<p>Here is the HTML code:</p>\n\n<pre><code>&lt;a href=\"javascript:void(0);\" id=\"highlight-addons\" class=\"\"&gt;Add-Ons&lt;span class=\"rightarrowclass\"&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=\"rightarrowclass\"&gt;&amp;nbsp;&lt;/span&gt;&lt;/a&gt;\n&lt;li&gt;&lt;a href=\"SpiceClubMembershipOffer.aspx\"&gt;SpiceClub Membership Offer&lt;/a&gt;&lt;/li&gt;\n&lt;li id=\"ctl00_lblSpiceClublink\"&gt;\n                                                &lt;a id=\"ctl00_lblSpiceClub\" href='javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(\"ctl00$lblSpiceClub\", \"\", false, \"\", \"SpiceClub.aspx\", false, true))'&gt;SpiceCash/SpiceClub&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"http://book.spicejet.com/SpiceMoneyTopup.aspx\"&gt;SpiceCash Topup &lt;/a&gt;&lt;/li&gt;\n&lt;a href=\"http://book.spicejet.com/RetrieveBooking.aspx?AddSeat=true\"&gt;SpiceMax &lt;/a&gt;\n</code></pre>\n\n<p>Please help me let me know how to move forward.</p>\n"},{"tags":["java","urlencode","apache-tomee"],"owner":{"account_id":3685691,"reputation":642,"user_id":3069498,"display_name":"Serban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645188023,"creation_date":1645188023,"question_id":71173649,"body_markdown":"In a java app running in Apache Tomee, I need to handle some HTTP Requests.\r\n\r\nSome of them might contain special characters in the query, like: `FolderName=sc &#223; &#252; &#228; &#246;`, and this arrives encoded like this `FolderName=sc+%u00df+%u00fc+%u00e4+%u00f6`.\r\n\r\nBecause of this, I get this exception in the TomEE server log:  \r\n`2022-02-18 13:26:05 FINE   org.apache.tomcat.util.http.Parameters processParameters Character decoding failed. Parameter [FolderName] with value [sc+%u00df+%u00fc+%u00e4+%u00f6] has been ignored.\r\norg.apache.tomcat.util.buf.UDecoder$DecodeException: isHexDigit`\r\n\r\nThis seems to be some non-stadard encoding: https://en.wikipedia.org/wiki/Percent-encoding#Non-standard_implementations.\r\n\r\n**I have no control over how the request is sent to me**, so I need to handle this in the Java app.\r\n\r\nWhat can I do ?\r\n\r\nThanks.","title":"Unicode chars cause error in Apache TomEE: Character decoding failed. Parameter _ with value _ has been ignored. ...DecodeException: isHexDigit","body":"<p>In a java app running in Apache Tomee, I need to handle some HTTP Requests.</p>\n<p>Some of them might contain special characters in the query, like: <code>FolderName=sc ß ü ä ö</code>, and this arrives encoded like this <code>FolderName=sc+%u00df+%u00fc+%u00e4+%u00f6</code>.</p>\n<p>Because of this, I get this exception in the TomEE server log:<br />\n<code>2022-02-18 13:26:05 FINE   org.apache.tomcat.util.http.Parameters processParameters Character decoding failed. Parameter [FolderName] with value [sc+%u00df+%u00fc+%u00e4+%u00f6] has been ignored. org.apache.tomcat.util.buf.UDecoder$DecodeException: isHexDigit</code></p>\n<p>This seems to be some non-stadard encoding: <a href=\"https://en.wikipedia.org/wiki/Percent-encoding#Non-standard_implementations\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Percent-encoding#Non-standard_implementations</a>.</p>\n<p><strong>I have no control over how the request is sent to me</strong>, so I need to handle this in the Java app.</p>\n<p>What can I do ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3406905,"reputation":259,"user_id":2857756,"display_name":"programmer"},"score":0,"creation_date":1645187263,"post_id":71173391,"comment_id":125810571,"body_markdown":"If you are using spring framework, it must be @Transactional annotation. It has timeout capability.\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html","body":"If you are using spring framework, it must be @Transactional annotation. It has timeout capability. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"score":0,"creation_date":1645187734,"post_id":71173391,"comment_id":125810705,"body_markdown":"Sorry, I&#39;m not using Spring... It&#39;s the custom...","body":"Sorry, I&#39;m not using Spring... It&#39;s the custom..."},{"owner":{"account_id":3406905,"reputation":259,"user_id":2857756,"display_name":"programmer"},"score":0,"creation_date":1645193475,"post_id":71173391,"comment_id":125812884,"body_markdown":"not sure whether I understand this completely..\nIf this helps - you can consider using ExecutorService. Executor&#39;s submit method will provide a &#39;Future&#39; that supports timeout and it will throw TimeoutException with which you will be able to set the action accordingly.","body":"not sure whether I understand this completely.. If this helps - you can consider using ExecutorService. Executor&#39;s submit method will provide a &#39;Future&#39; that supports timeout and it will throw TimeoutException with which you will be able to set the action accordingly."},{"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"score":0,"creation_date":1645525946,"post_id":71173391,"comment_id":125888703,"body_markdown":"Thanks! I don&#39;t know if it can work or not, but I need to use ```@TransactionTimeout```","body":"Thanks! I don&#39;t know if it can work or not, but I need to use <code>@TransactionTimeout</code>"}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645187743,"creation_date":1645186791,"question_id":71173391,"body_markdown":"I&#39;m trying to handle a TransactionTimeout, but I don&#39;t know how to do this.\r\n\r\nI&#39;ve tried to set a ```try catch``` inside my method, but it does not work.\r\n\r\n```\r\n    @Asynchronous\r\n\t@TransactionTimeout(value = 5, unit = TimeUnit.MINUTES)\r\n    public boolean setInfo(Info info) {\r\n        boolean control = true;\r\n        while(control) {};\r\n\r\n        return false;\r\n    }\r\n```\r\n\r\nI would like to set an action in the event that this fails.","title":"How to handle a transaction timeout in Java?","body":"<p>I'm trying to handle a TransactionTimeout, but I don't know how to do this.</p>\n<p>I've tried to set a <code>try catch</code> inside my method, but it does not work.</p>\n<pre><code>    @Asynchronous\n    @TransactionTimeout(value = 5, unit = TimeUnit.MINUTES)\n    public boolean setInfo(Info info) {\n        boolean control = true;\n        while(control) {};\n\n        return false;\n    }\n</code></pre>\n<p>I would like to set an action in the event that this fails.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645187682,"creation_date":1645187682,"answer_id":71173579,"question_id":71173502,"body_markdown":"note that `TextView` have multiple `setText` method implementation, e.g.\r\n\r\n - [`setText(CharSequence)`](https://developer.android.com/reference/android/widget/TextView#setText(java.lang.CharSequence)) - may take`String` and will show it\r\n - [`setText(int)`](https://developer.android.com/reference/android/widget/TextView#setText(int)) - takes an `int` and will treat it like resource id (`strings.xml` pointer)\r\n\r\nwhen you call `setText(someIntValue)` then `TextView` will try to resolve such number as a resources refence, which most probably doesn&#39;t exists (thus `Resources$NotFoundException`)\r\n\r\nso you have to convert by own your `int` to `String`, by e.g. `&quot;&quot;+someIntValue` or `String.valueOf(someIntValue)`\r\n\r\n    String summaAsString = &quot;&quot;+income.getSumma();\r\n    holder.summaView.setText(summaAsString);\r\n\r\nPS. don&#39;t EVER post text as screenshot/picture, it&#39;s hard to copy it...","title":"The Recycler View does not see the adapter elements","body":"<p>note that <code>TextView</code> have multiple <code>setText</code> method implementation, e.g.</p>\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/widget/TextView#setText(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>setText(CharSequence)</code></a> - may take<code>String</code> and will show it</li>\n<li><a href=\"https://developer.android.com/reference/android/widget/TextView#setText(int)\" rel=\"nofollow noreferrer\"><code>setText(int)</code></a> - takes an <code>int</code> and will treat it like resource id (<code>strings.xml</code> pointer)</li>\n</ul>\n<p>when you call <code>setText(someIntValue)</code> then <code>TextView</code> will try to resolve such number as a resources refence, which most probably doesn't exists (thus <code>Resources$NotFoundException</code>)</p>\n<p>so you have to convert by own your <code>int</code> to <code>String</code>, by e.g. <code>&quot;&quot;+someIntValue</code> or <code>String.valueOf(someIntValue)</code></p>\n<pre><code>String summaAsString = &quot;&quot;+income.getSumma();\nholder.summaView.setText(summaAsString);\n</code></pre>\n<p>PS. don't EVER post text as screenshot/picture, it's hard to copy it...</p>\n"}],"owner":{"account_id":21118668,"reputation":1,"user_id":15525210,"display_name":"RwKaLs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645187682,"creation_date":1645187319,"question_id":71173502,"body_markdown":"I have an Adapter that I pass to RecyclerView. When trying to change the text in the Recycler view, an error occurs android.content.res.Resources$NotFoundException: String resource ID #0xde. After debagging, I saw that an error occurs in the onBindViewHolder method when I change the text. At the same time, the holder object is initialized and access to the input fields is available.  Please help, I&#39;m a beginner. Thanks!\r\n\r\nAdapter class\r\n\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\r\n\r\n    private final ArrayList&lt;Income&gt; incomes;\r\n\r\n    ListAdapter(ArrayList&lt;Income&gt; incomes) {\r\n        this.incomes = incomes;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ListAdapter.ViewHolder holder, int position) {\r\n        Income income = incomes.get(position);\r\n        holder.summaView.setText(income.getSumma());\r\n        holder.typeView.setText(income.getType());\r\n        holder.dataView.setText(income.getData());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return incomes.size();\r\n    }\r\n\r\n    class ViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView typeView, dataView, summaView;\r\n        ViewHolder(View view){\r\n            super(view);\r\n            summaView = view.findViewById(R.id.SumListItem);\r\n            typeView = view.findViewById(R.id.TypeListItem);\r\n            dataView = view.findViewById(R.id.DateListItem);\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nInitialize recyclerview\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_incomes_list, container, false);\r\n        RecyclerView = recyclerView = view.findViewById(R.id.list_INC);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\r\n        recyclerView.setAdapter(new ListAdapter(incomes));\r\n        return view;\r\n    }\r\n\r\nError: \r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4LPNA.png\r\n  [2]: https://i.stack.imgur.com/sgnlb.png","title":"The Recycler View does not see the adapter elements","body":"<p>I have an Adapter that I pass to RecyclerView. When trying to change the text in the Recycler view, an error occurs android.content.res.Resources$NotFoundException: String resource ID #0xde. After debagging, I saw that an error occurs in the onBindViewHolder method when I change the text. At the same time, the holder object is initialized and access to the input fields is available.  Please help, I'm a beginner. Thanks!</p>\n<p>Adapter class</p>\n<pre><code>import android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\n\nprivate final ArrayList&lt;Income&gt; incomes;\n\nListAdapter(ArrayList&lt;Income&gt; incomes) {\n    this.incomes = incomes;\n}\n\n@NonNull\n@Override\npublic ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(ListAdapter.ViewHolder holder, int position) {\n    Income income = incomes.get(position);\n    holder.summaView.setText(income.getSumma());\n    holder.typeView.setText(income.getType());\n    holder.dataView.setText(income.getData());\n}\n\n@Override\npublic int getItemCount() {\n    return incomes.size();\n}\n\nclass ViewHolder extends RecyclerView.ViewHolder {\n    public TextView typeView, dataView, summaView;\n    ViewHolder(View view){\n        super(view);\n        summaView = view.findViewById(R.id.SumListItem);\n        typeView = view.findViewById(R.id.TypeListItem);\n        dataView = view.findViewById(R.id.DateListItem);\n    }\n}\n}\n</code></pre>\n<p>Initialize recyclerview</p>\n<pre><code>@Override\npublic View onCreateView(\n        LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState\n) {\n\n    View view = inflater.inflate(R.layout.fragment_incomes_list, container, false);\n    RecyclerView = recyclerView = view.findViewById(R.id.list_INC);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\n    recyclerView.setAdapter(new ListAdapter(incomes));\n    return view;\n}\n</code></pre>\n<p>Error:\n<a href=\"https://i.stack.imgur.com/4LPNA.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/sgnlb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1645187348,"post_id":71173419,"comment_id":125810602,"body_markdown":"No design pattern.  If the row has a lot of records, and you have a specific column that is searched frequently, then index it that way search is faster.   You need to consider as well, if it is important that you search by %LIKE% or %EQUALS% is sufficient.  If EQUALS, then once it reaches a match, it stops searching, unlike the other.","body":"No design pattern.  If the row has a lot of records, and you have a specific column that is searched frequently, then index it that way search is faster.   You need to consider as well, if it is important that you search by %LIKE% or %EQUALS% is sufficient.  If EQUALS, then once it reaches a match, it stops searching, unlike the other."},{"owner":{"account_id":18932888,"reputation":212,"user_id":13814655,"display_name":"ABC"},"score":0,"creation_date":1645187648,"post_id":71173419,"comment_id":125810685,"body_markdown":"@SMA. Thank you for response, I want to do exact search. Only indexing will be sufficient?","body":"@SMA. Thank you for response, I want to do exact search. Only indexing will be sufficient?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1645187825,"post_id":71173419,"comment_id":125810730,"body_markdown":"It should be @ABC","body":"It should be @ABC"}],"owner":{"account_id":18932888,"reputation":212,"user_id":13814655,"display_name":"ABC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645187581,"creation_date":1645186912,"question_id":71173419,"body_markdown":"I have a table with a column &quot;Products&quot; with more than 100k records.\r\n\r\nProducts column will have String data.\r\n\r\nI want to search ProductName1 from the table.. I guess using query with %LIKE% will take a long time. \r\n\r\nCan anyone suggest any design pattern/sql optimization techniques? Using java for API and MYSQL database.","title":"Java String search design with mysql DB","body":"<p>I have a table with a column &quot;Products&quot; with more than 100k records.</p>\n<p>Products column will have String data.</p>\n<p>I want to search ProductName1 from the table.. I guess using query with %LIKE% will take a long time.</p>\n<p>Can anyone suggest any design pattern/sql optimization techniques? Using java for API and MYSQL database.</p>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1366123054,"creation_date":1366123054,"answer_id":16039930,"question_id":16030578,"body_markdown":"&gt; How do I figure out why FileHandler isn&#39;t using my LogFormatter class?\r\n\r\nStart the program in a debugger and step through the code. Set a breakpoint in `LogManager.getLogger()` and/or `LogManager.readConfiguration()`\r\n\r\nOr forget about `java.util.logging` and use a framework like [logback][1] that is easy to configure and gives you useful error messages when something is wrong.\r\n\r\n\r\n  [1]: http://logback.qos.ch/","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<blockquote>\n  <p>How do I figure out why FileHandler isn't using my LogFormatter class?</p>\n</blockquote>\n\n<p>Start the program in a debugger and step through the code. Set a breakpoint in <code>LogManager.getLogger()</code> and/or <code>LogManager.readConfiguration()</code></p>\n\n<p>Or forget about <code>java.util.logging</code> and use a framework like <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">logback</a> that is easy to configure and gives you useful error messages when something is wrong.</p>\n"},{"tags":[],"owner":{"display_name":"user2284545"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1366328486,"creation_date":1366328486,"answer_id":16094903,"question_id":16030578,"body_markdown":"You can set the formatter in the code itself on the FileHandler instance. \r\n\r\n    import java.util.logging.FileHandler;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    // please change name of your own choice\r\n    Logger log = Logger.getLogger(&quot;CustomLogger&quot;); \r\n    log.setUseParentHandlers(false);\r\n    log.setLevel(Level.ALL);\r\n\t\t\t\r\n    FileHandler handler = new FileHandler(&quot;[log_file_location]&quot;);\r\n    handler.setFormatter(new CustomFormatter()); // set formatter\r\n    log.addHandler(handler);\r\n\t\t\t\r\n    log.info(&quot;test message&quot;);\r\n\t\t\t\r\n    handler.close(); // close the handler at some later point in your application.\r\n\r\n\r\nThe CustomFormatter class is defined as follows.\r\n\r\n    import java.util.logging.Formatter;\r\n    import java.util.logging.LogRecord;\r\n\r\n    public class CustomFormatter extends Formatter {\r\n\r\n        @Override\r\n        public String format(LogRecord record) {\r\n            StringBuffer buffer = new StringBuffer();\r\n            buffer.append(record.getMessage());\r\n            return buffer.toString();\r\n        }\r\n\r\n    }\r\n\r\nYou can code in CustomFormatter to output the messages in any format you want. Hope this helps.\r\n","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<p>You can set the formatter in the code itself on the FileHandler instance. </p>\n\n<pre><code>import java.util.logging.FileHandler;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n// please change name of your own choice\nLogger log = Logger.getLogger(\"CustomLogger\"); \nlog.setUseParentHandlers(false);\nlog.setLevel(Level.ALL);\n\nFileHandler handler = new FileHandler(\"[log_file_location]\");\nhandler.setFormatter(new CustomFormatter()); // set formatter\nlog.addHandler(handler);\n\nlog.info(\"test message\");\n\nhandler.close(); // close the handler at some later point in your application.\n</code></pre>\n\n<p>The CustomFormatter class is defined as follows.</p>\n\n<pre><code>import java.util.logging.Formatter;\nimport java.util.logging.LogRecord;\n\npublic class CustomFormatter extends Formatter {\n\n    @Override\n    public String format(LogRecord record) {\n        StringBuffer buffer = new StringBuffer();\n        buffer.append(record.getMessage());\n        return buffer.toString();\n    }\n\n}\n</code></pre>\n\n<p>You can code in CustomFormatter to output the messages in any format you want. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1092825,"reputation":681,"user_id":1087086,"display_name":"Mark O&#39;Donohue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409145500,"creation_date":1409145500,"answer_id":25528256,"question_id":16030578,"body_markdown":"Ok this one really annoyed me too, and was driving me nuts, I was checking the spelling endlessly, doing google searching etc - which is how I got here - I know this is a year old, but your going to kick yourself.  Here is what I am pretty sure is your answer.\r\n\r\nFor : \r\n\r\n    java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter;\r\n\r\nThat should be :\r\n\r\n    java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter\r\n\r\n\r\nDrop the training &quot;;&quot;.  It seems to need to match ***exactly*** to the class name I saw someone else complain they had trailing white space characters - which was what my problem was.   A better error message would have been helpful. \r\n\r\nCheers - Mark","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<p>Ok this one really annoyed me too, and was driving me nuts, I was checking the spelling endlessly, doing google searching etc - which is how I got here - I know this is a year old, but your going to kick yourself.  Here is what I am pretty sure is your answer.</p>\n\n<p>For : </p>\n\n<pre><code>java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter;\n</code></pre>\n\n<p>That should be :</p>\n\n<pre><code>java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter\n</code></pre>\n\n<p>Drop the training \";\".  It seems to need to match <strong><em>exactly</em></strong> to the class name I saw someone else complain they had trailing white space characters - which was what my problem was.   A better error message would have been helpful. </p>\n\n<p>Cheers - Mark</p>\n"},{"tags":[],"owner":{"account_id":6275313,"reputation":357,"user_id":4878144,"display_name":"Dirk R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451570027,"creation_date":1451570027,"answer_id":34547415,"question_id":16030578,"body_markdown":"com.mycomp.myproj.LogFormatter is not in your system class path. \r\n\r\nLogManager will do the following call for loading your class:\r\n\r\n\r\n    Formatter getFormatterProperty(String name, Formatter defaultValue) {\r\n            String val = getProperty(name);\r\n            try {\r\n                if (val != null) {\r\n                    Class&lt;?&gt; clz = ClassLoader.getSystemClassLoader().loadClass(val);\r\n                    return (Formatter) clz.newInstance();\r\n                }\r\n            } catch (Exception ex) {\r\n                // We got one of a variety of exceptions in creating the\r\n                // class or creating an instance.\r\n                // Drop through.\r\n            }\r\n            // We got an exception.  Return the defaultValue.\r\n            return defaultValue;\r\n    }\r\n\r\nYou need to make sure your class LogFormatter is in the system&#39;s class path.","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<p>com.mycomp.myproj.LogFormatter is not in your system class path. </p>\n\n<p>LogManager will do the following call for loading your class:</p>\n\n<pre><code>Formatter getFormatterProperty(String name, Formatter defaultValue) {\n        String val = getProperty(name);\n        try {\n            if (val != null) {\n                Class&lt;?&gt; clz = ClassLoader.getSystemClassLoader().loadClass(val);\n                return (Formatter) clz.newInstance();\n            }\n        } catch (Exception ex) {\n            // We got one of a variety of exceptions in creating the\n            // class or creating an instance.\n            // Drop through.\n        }\n        // We got an exception.  Return the defaultValue.\n        return defaultValue;\n}\n</code></pre>\n\n<p>You need to make sure your class LogFormatter is in the system's class path.</p>\n"},{"tags":[],"owner":{"account_id":1296354,"reputation":1669,"user_id":1247302,"accept_rate":94,"display_name":"mrswadge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544694596,"creation_date":1544694596,"answer_id":53759031,"question_id":16030578,"body_markdown":"I found that unless you set the format via the config, it does not apply the formatter. I tested this on JDK 11.\r\n\r\n    handlers= java.util.logging.FileHandler\r\n    .level= INFO\r\n    java.util.logging.FileHandler.pattern = my.log\r\n    java.util.logging.FileHandler.limit = 500000\r\n    java.util.logging.FileHandler.count = 40\r\n    java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter\r\n    com.mycomp.myproj.LogFormatter.format = %n\r\n\r\ni.e. add the last line `com.mycomp.myproj.LogFormatter.format = %n`","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<p>I found that unless you set the format via the config, it does not apply the formatter. I tested this on JDK 11.</p>\n\n<pre><code>handlers= java.util.logging.FileHandler\n.level= INFO\njava.util.logging.FileHandler.pattern = my.log\njava.util.logging.FileHandler.limit = 500000\njava.util.logging.FileHandler.count = 40\njava.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter\ncom.mycomp.myproj.LogFormatter.format = %n\n</code></pre>\n\n<p>i.e. add the last line <code>com.mycomp.myproj.LogFormatter.format = %n</code></p>\n"},{"tags":[],"owner":{"account_id":5800380,"reputation":3406,"user_id":4574732,"accept_rate":75,"display_name":"RIPAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645187527,"creation_date":1645187527,"answer_id":71173545,"question_id":16030578,"body_markdown":"May be this is not relevant at this point but recently I have found one issue where ***$*** in the format caused me a problem and it could not parse and fallen back to default format. Originally I had   \r\n\r\n    [%1$tF %1$tT] [%4$-7s] %5$s %n\r\n\r\nin ***logging.properties*** file which did not work as expected but   \r\n\r\n    [%1\\$tF %1\\$tT] [%4\\$-7s] %5\\$s %n\r\nthis worked perfectly with `\\$`. May be it will be helpful for others in future. \r\n\r\n\r\n","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<p>May be this is not relevant at this point but recently I have found one issue where <em><strong>$</strong></em> in the format caused me a problem and it could not parse and fallen back to default format. Originally I had</p>\n<pre><code>[%1$tF %1$tT] [%4$-7s] %5$s %n\n</code></pre>\n<p>in <em><strong>logging.properties</strong></em> file which did not work as expected but</p>\n<pre><code>[%1\\$tF %1\\$tT] [%4\\$-7s] %5\\$s %n\n</code></pre>\n<p>this worked perfectly with <code>\\$</code>. May be it will be helpful for others in future.</p>\n"}],"owner":{"account_id":872093,"reputation":13753,"user_id":922712,"accept_rate":55,"display_name":"user93353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3543,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":16094903,"answer_count":6,"score":4,"last_activity_date":1645187527,"creation_date":1366095165,"question_id":16030578,"body_markdown":"I am using `java.util.logging` for logging (I don&#39;t want to use log4j or anything else).\r\n\r\nThis is my complete private logging.properties:\r\n\r\n    handlers= java.util.logging.FileHandler\r\n    .level= INFO\r\n    java.util.logging.FileHandler.pattern = my.log\r\n    java.util.logging.FileHandler.limit = 500000\r\n    java.util.logging.FileHandler.count = 40\r\n    java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\n\r\n\r\nThis is the code in my program:\r\n\r\n    public static Logger log = Logger.getLogger(MyClass.class.getName());\r\n    // Is there anything else to be init&#39;ed here? \r\n    // I don&#39;t. I just start using log directly in the code.\r\n\r\n    log.severe(&quot;something&quot;);\r\n    log.info(&quot;something else&quot;);\r\n\r\n\r\nSince this gives each log message on 2 lines, I tried this \r\n\r\nhttps://stackoverflow.com/questions/194765/how-do-i-get-java-logging-output-to-appear-on-a-single-line\r\n\r\nCopied the LogFormatter class in the first reply exactly.\r\n\r\nChanged one line in my logging.properties\r\n \r\n    java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter;\r\n\r\nNow my log has started appearing in XML. I have a strong feeling that the `FileHandler` doesn&#39;t like my `com.mycomp.myproj.LogFormatter` and hence defaulting to the default `XMLFormatter`. How do I figure out why `FileHandler` isn&#39;t using my LogFormatter class?\r\n","title":"Subclassing java.util.logging.Formatter doesn&#39;t work","body":"<p>I am using <code>java.util.logging</code> for logging (I don't want to use log4j or anything else).</p>\n\n<p>This is my complete private logging.properties:</p>\n\n<pre><code>handlers= java.util.logging.FileHandler\n.level= INFO\njava.util.logging.FileHandler.pattern = my.log\njava.util.logging.FileHandler.limit = 500000\njava.util.logging.FileHandler.count = 40\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\n</code></pre>\n\n<p>This is the code in my program:</p>\n\n<pre><code>public static Logger log = Logger.getLogger(MyClass.class.getName());\n// Is there anything else to be init'ed here? \n// I don't. I just start using log directly in the code.\n\nlog.severe(\"something\");\nlog.info(\"something else\");\n</code></pre>\n\n<p>Since this gives each log message on 2 lines, I tried this </p>\n\n<p><a href=\"https://stackoverflow.com/questions/194765/how-do-i-get-java-logging-output-to-appear-on-a-single-line\">How do I get java logging output to appear on a single line?</a></p>\n\n<p>Copied the LogFormatter class in the first reply exactly.</p>\n\n<p>Changed one line in my logging.properties</p>\n\n<pre><code>java.util.logging.FileHandler.formatter = com.mycomp.myproj.LogFormatter;\n</code></pre>\n\n<p>Now my log has started appearing in XML. I have a strong feeling that the <code>FileHandler</code> doesn't like my <code>com.mycomp.myproj.LogFormatter</code> and hence defaulting to the default <code>XMLFormatter</code>. How do I figure out why <code>FileHandler</code> isn't using my LogFormatter class?</p>\n"},{"tags":["java","intellij-idea","code-generation","auto-value","gradle-apt-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1506434748,"post_id":46424952,"comment_id":79814449,"body_markdown":"See https://youtrack.jetbrains.com/issue/IDEA-124090","body":"See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-124090\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-124090</a>"}],"answers":[{"tags":[],"owner":{"account_id":40213,"reputation":64391,"user_id":116472,"display_name":"Thomas Broyer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507140653,"creation_date":1507140653,"answer_id":46571473,"question_id":46424952,"body_markdown":"The answers are (should be) in the README for the gradle-apt-plugin: https://github.com/tbroyer/gradle-apt-plugin\r\n\r\nNamely, also apply the `net.ltgt.apt-idea` plugin.\r\n\r\nBtw, I recommend delegating build/run actions to Gradle in IntelliJ. Sure it&#39;s a bit slower, but requires zero setup in the IDE and works reliably. That said, it should also work OK if you don&#39;t.","title":"Cannot resolve symbol with AutoValue and IntelliJ","body":"<p>The answers are (should be) in the README for the gradle-apt-plugin: <a href=\"https://github.com/tbroyer/gradle-apt-plugin\" rel=\"nofollow noreferrer\">https://github.com/tbroyer/gradle-apt-plugin</a></p>\n\n<p>Namely, also apply the <code>net.ltgt.apt-idea</code> plugin.</p>\n\n<p>Btw, I recommend delegating build/run actions to Gradle in IntelliJ. Sure it's a bit slower, but requires zero setup in the IDE and works reliably. That said, it should also work OK if you don't.</p>\n"},{"tags":[],"owner":{"account_id":975763,"reputation":4532,"user_id":1001423,"accept_rate":47,"display_name":"topr"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1507628582,"creation_date":1507564279,"answer_id":46650407,"question_id":46424952,"body_markdown":"After importing your Gradle project under IDEA do the following steps:\r\n\r\n 1. Set annotation processing configuration as follows:\r\n[![enter image description here][1]][1]\r\n\r\n 2. Run menu: _Build - Build Project_\r\n\r\n 3. Right click on each new _generated_ folder and select: _Mark Directory as - Generated Sources Root_ so it was marked as follows:\r\n[![enter image description here][2]][2]\r\n\r\n4. Add `/generated` to project&#39;s _.gitignore_ file\r\n\r\nThat&#39;s a minimal viable configuration which will provide full IDE support for generated classes.\r\nThe drawback is, whenever Gradle project gets re-imported the _generated_ folders will need be marked as _Generated Sources Root_ again.\r\nPerhaps this can be improved with adding these paths as source sets under _build.gradle_.\r\n\r\nSometimes it happens that IDEA modules lose their _compiler output path_ settings in result of the above. It&#39;s sufficient to just set it back to their default folders.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pqzTF.png\r\n  [2]: https://i.stack.imgur.com/KB9Nb.jpg","title":"Cannot resolve symbol with AutoValue and IntelliJ","body":"<p>After importing your Gradle project under IDEA do the following steps:</p>\n\n<ol>\n<li><p>Set annotation processing configuration as follows:\n<a href=\"https://i.stack.imgur.com/pqzTF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pqzTF.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Run menu: <em>Build - Build Project</em></p></li>\n<li><p>Right click on each new <em>generated</em> folder and select: <em>Mark Directory as - Generated Sources Root</em> so it was marked as follows:\n<a href=\"https://i.stack.imgur.com/KB9Nb.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KB9Nb.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Add <code>/generated</code> to project's <em>.gitignore</em> file</li>\n</ol></li>\n</ol>\n\n<p>That's a minimal viable configuration which will provide full IDE support for generated classes.\nThe drawback is, whenever Gradle project gets re-imported the <em>generated</em> folders will need be marked as <em>Generated Sources Root</em> again.\nPerhaps this can be improved with adding these paths as source sets under <em>build.gradle</em>.</p>\n\n<p>Sometimes it happens that IDEA modules lose their <em>compiler output path</em> settings in result of the above. It's sufficient to just set it back to their default folders.</p>\n"},{"tags":[],"owner":{"account_id":9029175,"reputation":465,"user_id":6727453,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548914321,"creation_date":1548914321,"answer_id":54454219,"question_id":46424952,"body_markdown":"Just have your build.gradle with these and it works fine, no need of touching intellij, source set etc..\r\n\r\n        plugins {\r\n        id &#39;java&#39;\r\n        id &quot;net.ltgt.apt&quot; version &quot;0.20&quot;\r\n        \r\n    }\r\n    \r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;net.ltgt.apt-idea&#39;\r\n    group &#39;abc&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile             &quot;com.google.auto.value:auto-value-annotations:1.6.2&quot;\r\n        annotationProcessor &quot;com.google.auto.value:auto-value:1.6.2&quot;\r\n    }\r\n\r\n","title":"Cannot resolve symbol with AutoValue and IntelliJ","body":"<p>Just have your build.gradle with these and it works fine, no need of touching intellij, source set etc..</p>\n\n<pre><code>    plugins {\n    id 'java'\n    id \"net.ltgt.apt\" version \"0.20\"\n\n}\n\napply plugin: 'idea'\napply plugin: 'net.ltgt.apt-idea'\ngroup 'abc'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile             \"com.google.auto.value:auto-value-annotations:1.6.2\"\n    annotationProcessor \"com.google.auto.value:auto-value:1.6.2\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3821889,"reputation":586,"user_id":3169795,"display_name":"chutcher"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645187136,"creation_date":1645187136,"answer_id":71173461,"question_id":46424952,"body_markdown":"I didn&#39;t have to do anything to intellij using maven by adding the optional true tag.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.auto.value&lt;/groupId&gt;\r\n    &lt;artifactId&gt;auto-value&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Cannot resolve symbol with AutoValue and IntelliJ","body":"<p>I didn't have to do anything to intellij using maven by adding the optional true tag.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.auto.value&lt;/groupId&gt;\n    &lt;artifactId&gt;auto-value&lt;/artifactId&gt;\n    &lt;version&gt;1.9&lt;/version&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8064999,"reputation":194,"user_id":6079462,"accept_rate":0,"display_name":"Jaiye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12183,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1645187136,"creation_date":1506424500,"question_id":46424952,"body_markdown":"I have been trying to find the correct settings for IntelliJ&#39;s annotation processing in order for it to co-exist with Gradle&#39;s build process.\r\n\r\nWhenever I build from IntelliJ I cannot get it to recognise the generated sources from the [gradle-apt-plugin](https://github.com/tbroyer/gradle-apt-plugin).\r\n\r\nMy requirements for my project are:\r\n\r\n - Building between IntelliJ and Gradle should be seamless and not interfere with the process of each other\r\n - I need to use IntelliJ&#39;s _Create separate module per source set_ option\r\n - I need to use IntelliJ&#39;s folder based structure\r\n - IntelliJ needs to be able to recognise and autocomplete AutoValue classes\r\n\r\nHere are the steps for a MCVE in order to reproduce the issue with IntelliJ 2017.2.4 and Gradle 3.5:\r\n\r\n - Create a new Gradle project from IntelliJ\r\n - Check the _Create separate module per source set_ option\r\n - Open _build.gradle_ file:\r\n - Add the following `plugins` block:\r\n\r\n[]()\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;net.ltgt.apt&#39; version &#39;0.12&#39;\r\n    }\r\n \r\n- Add the following `dependencies` block\r\n\r\n[]()\r\n\r\n\r\n    dependencies {\r\n        compileOnly &#39;com.google.auto.value:auto-value:1.5&#39;\r\n        apt &#39;com.google.auto.value:auto-value:1.5&#39;\r\n    }\r\n\r\n - Go to _Settings → Build, Execution, Deployment → Annotation Processors_\r\n - Check the _Enable Annotation Processing_\r\n - Create a class:\r\n\r\n[]()\r\n\r\n    @AutoValue\r\n    public abstract class GeneratedSourcesTest {\r\n    \r\n        static GeneratedSourcesTest create(String field) {\r\n            return new AutoValue_GeneratedSourcesTest(field);\r\n        }\r\n    \r\n        public abstract String field();\r\n    }\r\n\r\n - On IntelliJ run _Build → Build Project_\r\n - Open the `GeneratedSourcesTest` class, on the static factory method, everything compiles fine but I get the error:\r\n\r\n`cannot resolve symbol ‘AutoValue_GeneratedSourcesTest’`\r\n\r\nHow can I make the `AutoValue_GeneratedSourcesTest` class accessible from IntelliJ?\r\n","title":"Cannot resolve symbol with AutoValue and IntelliJ","body":"<p>I have been trying to find the correct settings for IntelliJ's annotation processing in order for it to co-exist with Gradle's build process.</p>\n\n<p>Whenever I build from IntelliJ I cannot get it to recognise the generated sources from the <a href=\"https://github.com/tbroyer/gradle-apt-plugin\" rel=\"noreferrer\">gradle-apt-plugin</a>.</p>\n\n<p>My requirements for my project are:</p>\n\n<ul>\n<li>Building between IntelliJ and Gradle should be seamless and not interfere with the process of each other</li>\n<li>I need to use IntelliJ's <em>Create separate module per source set</em> option</li>\n<li>I need to use IntelliJ's folder based structure</li>\n<li>IntelliJ needs to be able to recognise and autocomplete AutoValue classes</li>\n</ul>\n\n<p>Here are the steps for a MCVE in order to reproduce the issue with IntelliJ 2017.2.4 and Gradle 3.5:</p>\n\n<ul>\n<li>Create a new Gradle project from IntelliJ</li>\n<li>Check the <em>Create separate module per source set</em> option</li>\n<li>Open <em>build.gradle</em> file:</li>\n<li>Add the following <code>plugins</code> block:</li>\n</ul>\n\n<p></p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'net.ltgt.apt' version '0.12'\n}\n</code></pre>\n\n<ul>\n<li>Add the following <code>dependencies</code> block</li>\n</ul>\n\n<p></p>\n\n<pre><code>dependencies {\n    compileOnly 'com.google.auto.value:auto-value:1.5'\n    apt 'com.google.auto.value:auto-value:1.5'\n}\n</code></pre>\n\n<ul>\n<li>Go to <em>Settings → Build, Execution, Deployment → Annotation Processors</em></li>\n<li>Check the <em>Enable Annotation Processing</em></li>\n<li>Create a class:</li>\n</ul>\n\n<p></p>\n\n<pre><code>@AutoValue\npublic abstract class GeneratedSourcesTest {\n\n    static GeneratedSourcesTest create(String field) {\n        return new AutoValue_GeneratedSourcesTest(field);\n    }\n\n    public abstract String field();\n}\n</code></pre>\n\n<ul>\n<li>On IntelliJ run <em>Build → Build Project</em></li>\n<li>Open the <code>GeneratedSourcesTest</code> class, on the static factory method, everything compiles fine but I get the error:</li>\n</ul>\n\n<p><code>cannot resolve symbol ‘AutoValue_GeneratedSourcesTest’</code></p>\n\n<p>How can I make the <code>AutoValue_GeneratedSourcesTest</code> class accessible from IntelliJ?</p>\n"},{"tags":["java","gradle","grails","build.gradle","classnotfoundexception"],"comments":[{"owner":{"account_id":1397350,"reputation":302,"user_id":1326867,"display_name":"Nick Hol"},"score":0,"creation_date":1645114510,"post_id":71161500,"comment_id":125790239,"body_markdown":"To me it looks like you are trying to deploy a   .war to a container with only java present. Do you not need a web application server (tomcat/jetty) to deploy a war?\nOr maybe you want to compile a full jar which is runnable if so look here: https://guides.grails.org/grails-as-docker-container/guide/index.html","body":"To me it looks like you are trying to deploy a   .war to a container with only java present. Do you not need a web application server (tomcat/jetty) to deploy a war? Or maybe you want to compile a full jar which is runnable if so look here: <a href=\"https://guides.grails.org/grails-as-docker-container/guide/index.html\" rel=\"nofollow noreferrer\">guides.grails.org/grails-as-docker-container/guide/index.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":20873967,"reputation":394,"user_id":15333232,"display_name":"joe1531"},"score":0,"creation_date":1645114644,"post_id":71161500,"comment_id":125790301,"body_markdown":"It would be better to keep my docker image smaller in size and I thought it was possible to do it with only java present. But I actually started with a tomcat Dockerfile, and I&#39;m still getting the same error, so that is not the problem. I believe it&#39;s in my .war, therefore my build file.","body":"It would be better to keep my docker image smaller in size and I thought it was possible to do it with only java present. But I actually started with a tomcat Dockerfile, and I&#39;m still getting the same error, so that is not the problem. I believe it&#39;s in my .war, therefore my build file."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1645137669,"post_id":71161500,"comment_id":125798367,"body_markdown":"I agree that you probably don&#39;t want or need a war file.  That doesn&#39;t explain why it doesn&#39;t work, but probably don&#39;t need one.  If you remove the `apply plugin:&quot;war&quot;` plugin from the default generated `build.gradle` then `./gradlew assemble` will create an executable `.jar` instead of an executable `.war`.","body":"I agree that you probably don&#39;t want or need a war file.  That doesn&#39;t explain why it doesn&#39;t work, but probably don&#39;t need one.  If you remove the <code>apply plugin:&quot;war&quot;</code> plugin from the default generated <code>build.gradle</code> then <code>.&#47;gradlew assemble</code> will create an executable <code>.jar</code> instead of an executable <code>.war</code>."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1645137724,"post_id":71161500,"comment_id":125798388,"body_markdown":"&quot;t would be better to keep my docker image smaller in size and I thought it was possible to do it with only java present. &quot; - It is.  You can create an executable jar and `java -jar` that from within the Docker container.","body":"&quot;t would be better to keep my docker image smaller in size and I thought it was possible to do it with only java present. &quot; - It is.  You can create an executable jar and <code>java -jar</code> that from within the Docker container."},{"owner":{"account_id":20873967,"reputation":394,"user_id":15333232,"display_name":"joe1531"},"score":0,"creation_date":1645138490,"post_id":71161500,"comment_id":125798583,"body_markdown":"I just did that, and I still get the exact same error, even with an executable .jar instead of .war","body":"I just did that, and I still get the exact same error, even with an executable .jar instead of .war"}],"answers":[{"tags":[],"owner":{"account_id":20873967,"reputation":394,"user_id":15333232,"display_name":"joe1531"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645186926,"creation_date":1645186926,"answer_id":71173423,"question_id":71161500,"body_markdown":"I can&#39;t believe I wasted two days straight on this because someone wrote the package with an uppercase letter. There was a class in a package : \r\n\r\n    package com.flosslab.eGrocery.showcase\r\n\r\nWhen I changed it to \r\n\r\n    package com.flosslab.egrocery.showcase\r\n\r\nI got past this error. ","title":"Can&#39;t start web application in .WAR file : java.lang.ClassNotFoundException","body":"<p>I can't believe I wasted two days straight on this because someone wrote the package with an uppercase letter. There was a class in a package :</p>\n<pre><code>package com.flosslab.eGrocery.showcase\n</code></pre>\n<p>When I changed it to</p>\n<pre><code>package com.flosslab.egrocery.showcase\n</code></pre>\n<p>I got past this error.</p>\n"}],"owner":{"account_id":20873967,"reputation":394,"user_id":15333232,"display_name":"joe1531"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71173423,"answer_count":1,"score":0,"last_activity_date":1645186926,"creation_date":1645113831,"question_id":71161500,"body_markdown":"I have a grails application written in Groovy. It is built and works when it&#39;s launched with :\r\n\r\n    ./gradlew bootRun\r\n\r\nNow I want to run it with java to put it in a Docker container. This is the Dockerfile I prepared :\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    \r\n    ARG JAR_FILE=build/libs/*.war\r\n    ADD ${JAR_FILE} app.war\r\n    \r\n    ENTRYPOINT [&quot;java&quot;]\r\n    CMD [&quot;-Dgrails.env=development&quot;,&quot;-jar&quot;,&quot;app.war&quot;]\r\n\r\nThe server fails to start because of the following error:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [grails.boot.config.GrailsApplicationPostProcessor]: Factory method &#39;grailsApplicationPostProcessor&#39; threw exception; nested exception is java.lang.ClassNotFoundException: com.flosslab.eGrocery.showcase.CmsTagLib\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n            ... 29 more\r\n    Caused by: java.lang.ClassNotFoundException: com.flosslab.eGrocery.showcase.CmsTagLib\r\n\r\nWhen I checked the classes folder in WEB-INF, I found that the class is there in the correct path. I tried with a Tomcat setup, with Docker and without Docker and I&#39;m still encountering the exact same error. I think something is wrong with the .WAR build. Here is the build.gradle file\r\n\r\nbuild.gradle:\r\n\r\n    buildscript {\r\n        ext {\r\n            grailsVersion = project.grailsVersion\r\n        }\r\n        repositories {\r\n            mavenLocal()\r\n            maven { url &quot;https://repo.grails.org/core&quot; }\r\n            maven { url &quot;https://repo.grails.org/grails/core&quot; }\r\n            maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.grails:grails-gradle-plugin:$grailsVersion&quot;\r\n            classpath &quot;com.bertramlabs.plugins:asset-pipeline-gradle:2.5.0&quot;\r\n    //        classpath &quot;org.grails.plugins:hibernate4:5.0.2&quot;\r\n            classpath &#39;org.springframework:springloaded:1.2.8.RELEASE&#39;\r\n            classpath &quot;gradle.plugin.com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\r\n        }\r\n    }\r\n    \r\n    version &quot;1.0.49&quot;\r\n    \r\n    group &quot;com.flosslab.egrocery&quot;\r\n    \r\n    apply plugin: &quot;com.github.ManifestClasspath&quot;\r\n    apply plugin: &quot;eclipse&quot;\r\n    apply plugin: &quot;idea&quot;\r\n    apply plugin: &quot;war&quot;\r\n    apply plugin: &quot;org.grails.grails-web&quot;\r\n    apply plugin: &quot;org.grails.grails-gsp&quot;\r\n    apply plugin: &quot;asset-pipeline&quot;\r\n    \r\n    war.archiveName = &quot;egrocery-showcase.war&quot;\r\n    \r\n    ext {\r\n        grailsVersion = project.grailsVersion\r\n        gradleWrapperVersion = project.gradleWrapperVersion\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;https://repo.grails.org/core&quot; }\r\n        maven { url &quot;https://repo.grails.org/grails/core&quot; }\r\n        maven { url &quot;http://192.168.12.16:8081/artifactory/egrocery-local&quot; }\r\n        maven { url &quot;http://192.168.12.16:8081/artifactory/libs-release-local&quot; }\r\n        maven { url &quot;http://192.168.12.16:8081/artifactory/plugins-release-local&quot; }\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.grails:grails-bom:$grailsVersion&quot;\r\n        }\r\n        applyMavenExclusions false\r\n    }\r\n    \r\n    def elasticsearchVersion = &#39;5.6.8&#39;\r\n    ext[&#39;elasticsearch.version&#39;] = elasticsearchVersion\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &quot;libs&quot;, includes: [&quot;*.jar&quot;])\r\n        \r\n        compile &quot;com.flosslab.egrocery:domain:1.0.49&quot;\r\n    \r\n        compile &quot;org.springframework.boot:spring-boot-starter-logging&quot;\r\n        compile &quot;org.springframework.boot:spring-boot-autoconfigure&quot;\r\n        compile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n        provided &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\r\n    \r\n    \r\n        compile &quot;org.grails:grails-core&quot;\r\n        compile &quot;org.grails:grails-dependencies&quot;\r\n        compile &quot;org.grails:grails-web-boot&quot;\r\n        compile &quot;org.grails:grails-datastore-rest-client:5.0.3.RELEASE&quot;\r\n        console &quot;org.grails:grails-console&quot;\r\n    \r\n        profile &quot;org.grails.profiles:web:$grailsVersion&quot;\r\n    \r\n        compile &quot;org.grails.plugins:cache&quot;\r\n        compile &quot;org.grails.plugins:scaffolding&quot;\r\n        compile &quot;org.grails.plugins:hibernate4&quot;\r\n        compile &quot;org.grails.plugins:spring-security-rest:2.0.0.M2&quot;\r\n        compile &quot;org.grails.plugins:spring-security-rest-gorm:2.0.0.M2&quot;\r\n        runtime &quot;org.grails.plugins:asset-pipeline&quot;\r\n    \r\n        runtime group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.7&#39;\r\n        runtime group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.7&#39;\r\n    //    compile group: &#39;org.elasticsearch&#39;, name: &#39;elasticsearch&#39;, version: elasticsearchVersion\r\n    //    compile group: &#39;org.elasticsearch.client&#39;, name: &#39;transport&#39;, version: elasticsearchVersion\r\n    \r\n    //    compile &quot;org.grails.plugins:elasticsearch:1.4.1&quot;\r\n    \r\n        compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.13&#39;\r\n    \r\n        compile &quot;org.hibernate:hibernate-ehcache&quot;\r\n        compile &quot;org.grails.plugins:cache-ehcache:3.0.0.BUILD-SNAPSHOT&quot;\r\n    \r\n        compile &quot;net.sf.ehcache:ehcache:2.10.2.2.21&quot;\r\n        compile &quot;net.sf.ehcache:ehcache-core:2.6.11&quot;\r\n    \r\n        compile &quot;com.google.code.maven-play-plugin.net.tanesha.recaptcha4j:recaptcha4j:0.0.8&quot;\r\n    \r\n        runtime group: &quot;org.postgresql&quot;, name: &quot;postgresql&quot;, version: &quot;42.1.4&quot;\r\n    \r\n        compile group: &quot;net.java.dev.jna&quot;, name: &quot;platform&quot;, version: &quot;3.5.0&quot;\r\n    \r\n        compile group: &quot;com.nimbusds&quot;, name: &quot;nimbus-jose-jwt&quot;, version: &quot;4.8&quot;\r\n        compile group: &quot;org.pac4j&quot;, name: &quot;pac4j-core&quot;, version: &quot;1.8.3&quot;\r\n        compile &quot;org.grails.plugins:fields&quot;\r\n    \r\n        testCompile &quot;org.grails:grails-plugin-testing&quot;\r\n    //    testCompile &quot;org.grails.plugins:geb&quot;\r\n        testRuntime &quot;org.seleniumhq.selenium:selenium-htmlunit-driver:2.47.1&quot;\r\n        testRuntime &quot;net.sourceforge.htmlunit:htmlunit:2.18&quot;\r\n    }\r\n    \r\n    configurations {\r\n        all {\r\n            exclude module: &quot;bcmail-jdk14&quot;\r\n            exclude module: &quot;bctsp-jdk14&quot;\r\n            exclude group: &quot;com.google.guava&quot;, module: &quot;guava&quot;\r\n            exclude group: &quot;com.google.guava&quot;, module: &quot;guava-base&quot;\r\n        }\r\n    }\r\n    \r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = gradleWrapperVersion\r\n    }\r\n    \r\n    assets {\r\n        minifyJs = true\r\n        minifyCss = true\r\n    }\r\n\r\ngradle.properties:\r\n\r\n    grailsVersion=3.1.8\r\n    gradleWrapperVersion=2.11\r\n\r\nMaybe there is something is lacking or something is wrong with the grails/groovy version ? I&#39;m stuck for the entire day so I would appreciate your help. \r\n\r\n___________\r\n\r\n**Update :** \r\nHere is the Dockerfile I tried with Tomcat that I mentionned earlier. It gives me the exact same error.\r\n\r\n    FROM tomcat:8.5.75-jdk8-temurin\r\n    COPY egrocery-showcase.war /usr/local/tomcat/webapps\r\n    CMD [&quot;catalina.sh&quot;, &quot;run&quot;]","title":"Can&#39;t start web application in .WAR file : java.lang.ClassNotFoundException","body":"<p>I have a grails application written in Groovy. It is built and works when it's launched with :</p>\n<pre><code>./gradlew bootRun\n</code></pre>\n<p>Now I want to run it with java to put it in a Docker container. This is the Dockerfile I prepared :</p>\n<pre><code>FROM openjdk:8-jdk-alpine\n\nARG JAR_FILE=build/libs/*.war\nADD ${JAR_FILE} app.war\n\nENTRYPOINT [&quot;java&quot;]\nCMD [&quot;-Dgrails.env=development&quot;,&quot;-jar&quot;,&quot;app.war&quot;]\n</code></pre>\n<p>The server fails to start because of the following error:</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [grails.boot.config.GrailsApplicationPostProcessor]: Factory method 'grailsApplicationPostProcessor' threw exception; nested exception is java.lang.ClassNotFoundException: com.flosslab.eGrocery.showcase.CmsTagLib\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n        ... 29 more\nCaused by: java.lang.ClassNotFoundException: com.flosslab.eGrocery.showcase.CmsTagLib\n</code></pre>\n<p>When I checked the classes folder in WEB-INF, I found that the class is there in the correct path. I tried with a Tomcat setup, with Docker and without Docker and I'm still encountering the exact same error. I think something is wrong with the .WAR build. Here is the build.gradle file</p>\n<p>build.gradle:</p>\n<pre><code>buildscript {\n    ext {\n        grailsVersion = project.grailsVersion\n    }\n    repositories {\n        mavenLocal()\n        maven { url &quot;https://repo.grails.org/core&quot; }\n        maven { url &quot;https://repo.grails.org/grails/core&quot; }\n        maven { url &quot;https://plugins.gradle.org/m2/&quot; }\n    }\n    dependencies {\n        classpath &quot;org.grails:grails-gradle-plugin:$grailsVersion&quot;\n        classpath &quot;com.bertramlabs.plugins:asset-pipeline-gradle:2.5.0&quot;\n//        classpath &quot;org.grails.plugins:hibernate4:5.0.2&quot;\n        classpath 'org.springframework:springloaded:1.2.8.RELEASE'\n        classpath &quot;gradle.plugin.com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\n    }\n}\n\nversion &quot;1.0.49&quot;\n\ngroup &quot;com.flosslab.egrocery&quot;\n\napply plugin: &quot;com.github.ManifestClasspath&quot;\napply plugin: &quot;eclipse&quot;\napply plugin: &quot;idea&quot;\napply plugin: &quot;war&quot;\napply plugin: &quot;org.grails.grails-web&quot;\napply plugin: &quot;org.grails.grails-gsp&quot;\napply plugin: &quot;asset-pipeline&quot;\n\nwar.archiveName = &quot;egrocery-showcase.war&quot;\n\next {\n    grailsVersion = project.grailsVersion\n    gradleWrapperVersion = project.gradleWrapperVersion\n}\n\nrepositories {\n    mavenLocal()\n    maven { url &quot;https://repo.grails.org/core&quot; }\n    maven { url &quot;https://repo.grails.org/grails/core&quot; }\n    maven { url &quot;http://192.168.12.16:8081/artifactory/egrocery-local&quot; }\n    maven { url &quot;http://192.168.12.16:8081/artifactory/libs-release-local&quot; }\n    maven { url &quot;http://192.168.12.16:8081/artifactory/plugins-release-local&quot; }\n    mavenCentral()\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.grails:grails-bom:$grailsVersion&quot;\n    }\n    applyMavenExclusions false\n}\n\ndef elasticsearchVersion = '5.6.8'\next['elasticsearch.version'] = elasticsearchVersion\n\ndependencies {\n    compile fileTree(dir: &quot;libs&quot;, includes: [&quot;*.jar&quot;])\n    \n    compile &quot;com.flosslab.egrocery:domain:1.0.49&quot;\n\n    compile &quot;org.springframework.boot:spring-boot-starter-logging&quot;\n    compile &quot;org.springframework.boot:spring-boot-autoconfigure&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    provided &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\n\n\n    compile &quot;org.grails:grails-core&quot;\n    compile &quot;org.grails:grails-dependencies&quot;\n    compile &quot;org.grails:grails-web-boot&quot;\n    compile &quot;org.grails:grails-datastore-rest-client:5.0.3.RELEASE&quot;\n    console &quot;org.grails:grails-console&quot;\n\n    profile &quot;org.grails.profiles:web:$grailsVersion&quot;\n\n    compile &quot;org.grails.plugins:cache&quot;\n    compile &quot;org.grails.plugins:scaffolding&quot;\n    compile &quot;org.grails.plugins:hibernate4&quot;\n    compile &quot;org.grails.plugins:spring-security-rest:2.0.0.M2&quot;\n    compile &quot;org.grails.plugins:spring-security-rest-gorm:2.0.0.M2&quot;\n    runtime &quot;org.grails.plugins:asset-pipeline&quot;\n\n    runtime group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.7'\n    runtime group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.7'\n//    compile group: 'org.elasticsearch', name: 'elasticsearch', version: elasticsearchVersion\n//    compile group: 'org.elasticsearch.client', name: 'transport', version: elasticsearchVersion\n\n//    compile &quot;org.grails.plugins:elasticsearch:1.4.1&quot;\n\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.13'\n\n    compile &quot;org.hibernate:hibernate-ehcache&quot;\n    compile &quot;org.grails.plugins:cache-ehcache:3.0.0.BUILD-SNAPSHOT&quot;\n\n    compile &quot;net.sf.ehcache:ehcache:2.10.2.2.21&quot;\n    compile &quot;net.sf.ehcache:ehcache-core:2.6.11&quot;\n\n    compile &quot;com.google.code.maven-play-plugin.net.tanesha.recaptcha4j:recaptcha4j:0.0.8&quot;\n\n    runtime group: &quot;org.postgresql&quot;, name: &quot;postgresql&quot;, version: &quot;42.1.4&quot;\n\n    compile group: &quot;net.java.dev.jna&quot;, name: &quot;platform&quot;, version: &quot;3.5.0&quot;\n\n    compile group: &quot;com.nimbusds&quot;, name: &quot;nimbus-jose-jwt&quot;, version: &quot;4.8&quot;\n    compile group: &quot;org.pac4j&quot;, name: &quot;pac4j-core&quot;, version: &quot;1.8.3&quot;\n    compile &quot;org.grails.plugins:fields&quot;\n\n    testCompile &quot;org.grails:grails-plugin-testing&quot;\n//    testCompile &quot;org.grails.plugins:geb&quot;\n    testRuntime &quot;org.seleniumhq.selenium:selenium-htmlunit-driver:2.47.1&quot;\n    testRuntime &quot;net.sourceforge.htmlunit:htmlunit:2.18&quot;\n}\n\nconfigurations {\n    all {\n        exclude module: &quot;bcmail-jdk14&quot;\n        exclude module: &quot;bctsp-jdk14&quot;\n        exclude group: &quot;com.google.guava&quot;, module: &quot;guava&quot;\n        exclude group: &quot;com.google.guava&quot;, module: &quot;guava-base&quot;\n    }\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = gradleWrapperVersion\n}\n\nassets {\n    minifyJs = true\n    minifyCss = true\n}\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code>grailsVersion=3.1.8\ngradleWrapperVersion=2.11\n</code></pre>\n<p>Maybe there is something is lacking or something is wrong with the grails/groovy version ? I'm stuck for the entire day so I would appreciate your help.</p>\n<hr />\n<p><strong>Update :</strong>\nHere is the Dockerfile I tried with Tomcat that I mentionned earlier. It gives me the exact same error.</p>\n<pre><code>FROM tomcat:8.5.75-jdk8-temurin\nCOPY egrocery-showcase.war /usr/local/tomcat/webapps\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n"},{"tags":["java","http","postman","gson"],"comments":[{"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"score":0,"creation_date":1645182008,"post_id":71172118,"comment_id":125808709,"body_markdown":"Look at this https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json","body":"Look at this <a href=\"https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json\" title=\"http 415 unsupported media type error with json\">stackoverflow.com/questions/22566433/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645182905,"post_id":71172118,"comment_id":125809070,"body_markdown":"The postman request is URL encoded. Are you sure the server is expecting JSON?","body":"The postman request is URL encoded. Are you sure the server is expecting JSON?"}],"owner":{"account_id":24298366,"reputation":9,"user_id":18242230,"display_name":"Sickdrawzn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645186904,"creation_date":1645180981,"question_id":71172118,"body_markdown":"i&#39;m in a big trouble with 415 error on http post request,\r\n\r\nA fonctionnal guy gave me his test in postman and it works well : \r\n\r\n    {\r\n    \t&quot;variables&quot;: [],\r\n    \t&quot;info&quot;: {\r\n    \t\t&quot;name&quot;: &quot;demo&quot;,\r\n    \t\t&quot;_postman_id&quot;: &quot;id&quot;,\r\n    \t\t&quot;description&quot;: &quot;&quot;,\r\n    \t\t&quot;schema&quot;: &quot;https://schema.getpostman.com/json/collection/v2.0.0/collection.json&quot;\r\n    \t},\r\n    \t&quot;item&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;1 -getToken sandbox&quot;,\r\n    \t\t\t&quot;request&quot;: {\r\n    \t\t\t\t&quot;url&quot;: &quot;myurl&quot;,\r\n    \t\t\t\t&quot;method&quot;: &quot;POST&quot;,\r\n    \t\t\t\t&quot;header&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;key&quot;: &quot;Authorization&quot;,\r\n    \t\t\t\t\t\t&quot;value&quot;: &quot;Basic RTlBS000T0FtN1FORFc1SUxlRVFjeXZFTEZBYTpHTlB6ZVlaWXIyN2NDbG53Y1VvZ0ZiOGJWd2dh&quot;,\r\n    \t\t\t\t\t\t&quot;description&quot;: &quot;&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;body&quot;: {\r\n    \t\t\t\t\t&quot;mode&quot;: &quot;urlencoded&quot;,\r\n    \t\t\t\t\t&quot;urlencoded&quot;: [\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;grant_type&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;password&quot;,\r\n    \t\t\t\t\t\t\t&quot;description&quot;: &quot;&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;username&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;[user]&quot;,\r\n    \t\t\t\t\t\t\t&quot;description&quot;: &quot;&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;password&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;[password]&quot;,\r\n    \t\t\t\t\t\t\t&quot;description&quot;: &quot;&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t]\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;description&quot;: &quot;&quot;\r\n    \t\t\t},\r\n    \t\t\t&quot;response&quot;: []\r\n    \t\t},\r\n\r\nwith the sent json, i received the bearer i wanted to receive. \r\n\r\nIn my java code, i have this : \r\n\r\n    String       postUrl       = &quot;myurl&quot;;\r\n    \t\t\tString dataTokenJson = &quot;{\\&quot;grant_type\\&quot;:\\&quot;password\\&quot;, \\&quot;username\\&quot;:\\&quot;myuser\\&quot;, \\&quot;password\\&quot;:\\&quot;mypassword\\&quot;}&quot;;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tGson         gson          = new Gson();\r\n    \t\t\tHttpClient   httpClient    = HttpClientBuilder.create().build();\r\n    \t\t\tHttpPost     post          = new HttpPost(postUrl);\r\n    \r\n    StringEntity postingString = new StringEntity(gson.toJson(dataTokenJson));\r\n    \r\n    post.setEntity(postingString);\r\n    \t\t\t\tpost.addHeader(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n    \t\t\t\tpost.addHeader(&quot;Authorization&quot;,&quot;Basic RTlBS000T0FtN1FORFc1SUxlRVFjeXZFTEZBYTpHTlB6ZVlaWXIyN2NDbG53Y1VvZ0ZiOGJWd2dh&quot;);\r\n    \r\n    HttpResponse  responseToken = httpClient.execute(post);\r\n\r\nI tried to not using gson lib and set the StringEntity directly with the jsonString.\r\nI tried different methods to set the Header.\r\nNothing works better.\r\n\r\n\r\n\r\n\r\nso, I changed the content-type to &quot;application/x-www-form-urlencoded&quot;\r\ndont have 415 error anymore but 400..\r\nI also tried to remove the content-type but it gave me a 415 again.\r\n\r\nIn fact, the server didnt except json but he is supposed to answer with a json.. The specifications wasnt clear\r\n\r\nHttpResponseProxy{HTTP/1.1 400 Bad Request [Date: Fri, 18 Feb 2022 11:57:13 GMT, Server: Apache, Strict-Transport-Security: max-age=63072000; includeSubdomains;, X-Frame-Options: SAMEORIGIN, X-Frame-Options: DENY, X-Frame-Options: SAMEORIGIN, Strict-Transport-Security: max-age=63072000; includeSubdomains;, X-Content-Type-Options: nosniff, X-XSS-Protection: 1; mode=block, Content-Type: application/json, Connection: close, Transfer-Encoding: chunked] ResponseEntityProxy{[Content-Type: application/json,Chunked: true]}}","title":"Java 415 http post request","body":"<p>i'm in a big trouble with 415 error on http post request,</p>\n<p>A fonctionnal guy gave me his test in postman and it works well :</p>\n<pre><code>{\n    &quot;variables&quot;: [],\n    &quot;info&quot;: {\n        &quot;name&quot;: &quot;demo&quot;,\n        &quot;_postman_id&quot;: &quot;id&quot;,\n        &quot;description&quot;: &quot;&quot;,\n        &quot;schema&quot;: &quot;https://schema.getpostman.com/json/collection/v2.0.0/collection.json&quot;\n    },\n    &quot;item&quot;: [\n        {\n            &quot;name&quot;: &quot;1 -getToken sandbox&quot;,\n            &quot;request&quot;: {\n                &quot;url&quot;: &quot;myurl&quot;,\n                &quot;method&quot;: &quot;POST&quot;,\n                &quot;header&quot;: [\n                    {\n                        &quot;key&quot;: &quot;Authorization&quot;,\n                        &quot;value&quot;: &quot;Basic RTlBS000T0FtN1FORFc1SUxlRVFjeXZFTEZBYTpHTlB6ZVlaWXIyN2NDbG53Y1VvZ0ZiOGJWd2dh&quot;,\n                        &quot;description&quot;: &quot;&quot;\n                    }\n                ],\n                &quot;body&quot;: {\n                    &quot;mode&quot;: &quot;urlencoded&quot;,\n                    &quot;urlencoded&quot;: [\n                        {\n                            &quot;key&quot;: &quot;grant_type&quot;,\n                            &quot;value&quot;: &quot;password&quot;,\n                            &quot;description&quot;: &quot;&quot;,\n                            &quot;type&quot;: &quot;text&quot;\n                        },\n                        {\n                            &quot;key&quot;: &quot;username&quot;,\n                            &quot;value&quot;: &quot;[user]&quot;,\n                            &quot;description&quot;: &quot;&quot;,\n                            &quot;type&quot;: &quot;text&quot;\n                        },\n                        {\n                            &quot;key&quot;: &quot;password&quot;,\n                            &quot;value&quot;: &quot;[password]&quot;,\n                            &quot;description&quot;: &quot;&quot;,\n                            &quot;type&quot;: &quot;text&quot;\n                        }\n                    ]\n                },\n                &quot;description&quot;: &quot;&quot;\n            },\n            &quot;response&quot;: []\n        },\n</code></pre>\n<p>with the sent json, i received the bearer i wanted to receive.</p>\n<p>In my java code, i have this :</p>\n<pre><code>String       postUrl       = &quot;myurl&quot;;\n            String dataTokenJson = &quot;{\\&quot;grant_type\\&quot;:\\&quot;password\\&quot;, \\&quot;username\\&quot;:\\&quot;myuser\\&quot;, \\&quot;password\\&quot;:\\&quot;mypassword\\&quot;}&quot;;\n            \n            \n            \n            Gson         gson          = new Gson();\n            HttpClient   httpClient    = HttpClientBuilder.create().build();\n            HttpPost     post          = new HttpPost(postUrl);\n\nStringEntity postingString = new StringEntity(gson.toJson(dataTokenJson));\n\npost.setEntity(postingString);\n                post.addHeader(&quot;Content-Type&quot;,&quot;application/json&quot;);\n                post.addHeader(&quot;Authorization&quot;,&quot;Basic RTlBS000T0FtN1FORFc1SUxlRVFjeXZFTEZBYTpHTlB6ZVlaWXIyN2NDbG53Y1VvZ0ZiOGJWd2dh&quot;);\n\nHttpResponse  responseToken = httpClient.execute(post);\n</code></pre>\n<p>I tried to not using gson lib and set the StringEntity directly with the jsonString.\nI tried different methods to set the Header.\nNothing works better.</p>\n<p>so, I changed the content-type to &quot;application/x-www-form-urlencoded&quot;\ndont have 415 error anymore but 400..\nI also tried to remove the content-type but it gave me a 415 again.</p>\n<p>In fact, the server didnt except json but he is supposed to answer with a json.. The specifications wasnt clear</p>\n<p>HttpResponseProxy{HTTP/1.1 400 Bad Request [Date: Fri, 18 Feb 2022 11:57:13 GMT, Server: Apache, Strict-Transport-Security: max-age=63072000; includeSubdomains;, X-Frame-Options: SAMEORIGIN, X-Frame-Options: DENY, X-Frame-Options: SAMEORIGIN, Strict-Transport-Security: max-age=63072000; includeSubdomains;, X-Content-Type-Options: nosniff, X-XSS-Protection: 1; mode=block, Content-Type: application/json, Connection: close, Transfer-Encoding: chunked] ResponseEntityProxy{[Content-Type: application/json,Chunked: true]}}</p>\n"},{"tags":["java","datasource"],"comments":[{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1645186934,"post_id":71173236,"comment_id":125810467,"body_markdown":"is the filelocation you provided is pointing to the correct place.","body":"is the filelocation you provided is pointing to the correct place."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1645192948,"post_id":71173236,"comment_id":125812676,"body_markdown":"Looks like duplicate of this, a problem with slashes for UNC parhname: [Unable to connect to a database on a shared drive - UCanAccess](https://stackoverflow.com/questions/31814796/unable-to-connect-to-a-database-on-a-shared-drive-ucanaccess)","body":"Looks like duplicate of this, a problem with slashes for UNC parhname: <a href=\"https://stackoverflow.com/questions/31814796/unable-to-connect-to-a-database-on-a-shared-drive-ucanaccess\">Unable to connect to a database on a shared drive - UCanAccess</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645186884,"creation_date":1645186884,"answer_id":71173412,"question_id":71173236,"body_markdown":"You need to change the JDBC URL, although I am also not 100% sure what it should look like. Try\r\n\r\n    jdbc:ucanaccess:file:///10.221.112.25/ekaa/UCYTesting/E125_DS.accdb;openExlcusive=false;ignorecase=trueB\r\n\r\nYou could also map drive letter N: to that NAS storage, then \r\n\r\n    jdbc:ucanaccess:file:///N:/UCYTesting/E125_DS.accdb;openExlcusive=false;ignorecase=trueB\r\n\r\nNote: After file the two slashes denote the protocol to use for the connection, the next slash indicates an absolute path. Three slashes are on purpose. See also https://en.wikipedia.org/wiki/File_URI_scheme","title":"Java program cannot access database that resides in NAS storage","body":"<p>You need to change the JDBC URL, although I am also not 100% sure what it should look like. Try</p>\n<pre><code>jdbc:ucanaccess:file:///10.221.112.25/ekaa/UCYTesting/E125_DS.accdb;openExlcusive=false;ignorecase=trueB\n</code></pre>\n<p>You could also map drive letter N: to that NAS storage, then</p>\n<pre><code>jdbc:ucanaccess:file:///N:/UCYTesting/E125_DS.accdb;openExlcusive=false;ignorecase=trueB\n</code></pre>\n<p>Note: After file the two slashes denote the protocol to use for the connection, the next slash indicates an absolute path. Three slashes are on purpose. See also <a href=\"https://en.wikipedia.org/wiki/File_URI_scheme\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/File_URI_scheme</a></p>\n"}],"owner":{"account_id":1488087,"reputation":4476,"user_id":1395874,"accept_rate":85,"display_name":"zinon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645193868,"accepted_answer_id":71173412,"answer_count":1,"score":0,"last_activity_date":1645186884,"creation_date":1645186098,"question_id":71173236,"body_markdown":"I&#39;m using `Spring` boot to \r\n\r\nI have this dataSource:\r\n\r\n     DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n          dataSource.setDriverClassName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n               dataSource.setUrl(&quot;jdbc:ucanaccess://10.221.112.25/ekaa/UCYTesting/E125_DS.accdb;openExlcusive=false;ignorecase=trueB&quot;);\r\n          dataSource.setUsername(&quot;test&quot;);\r\n          dataSource.setPassword(&quot;test&quot;);\r\nHowever, my code can&#39;t connect to this database:\r\n[![enter image description here][1]][1]\r\n\r\nWhen I try in file explorer I can access it:\r\n[![enter image description here][2]][2]\r\n\r\nNote that the database in on a NAS storage server.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GWqY1.png\r\n  [2]: https://i.stack.imgur.com/NhKjZ.png","title":"Java program cannot access database that resides in NAS storage","body":"<p>I'm using <code>Spring</code> boot to</p>\n<p>I have this dataSource:</p>\n<pre><code> DriverManagerDataSource dataSource = new DriverManagerDataSource();\n      dataSource.setDriverClassName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n           dataSource.setUrl(&quot;jdbc:ucanaccess://10.221.112.25/ekaa/UCYTesting/E125_DS.accdb;openExlcusive=false;ignorecase=trueB&quot;);\n      dataSource.setUsername(&quot;test&quot;);\n      dataSource.setPassword(&quot;test&quot;);\n</code></pre>\n<p>However, my code can't connect to this database:\n<a href=\"https://i.stack.imgur.com/GWqY1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GWqY1.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try in file explorer I can access it:\n<a href=\"https://i.stack.imgur.com/NhKjZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NhKjZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that the database in on a NAS storage server.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645179764,"post_id":71171718,"comment_id":125807963,"body_markdown":"I guess the first error is clear? You need to rename your source file to match the class name, i.e. to `SwapNodes.java`. The second error message refers to a class `SwapNodes.Main` which isn&#39;t present in your source code. Have you tried cleaning and rebuilding your program?","body":"I guess the first error is clear? You need to rename your source file to match the class name, i.e. to <code>SwapNodes.java</code>. The second error message refers to a class <code>SwapNodes.Main</code> which isn&#39;t present in your source code. Have you tried cleaning and rebuilding your program?"}],"answers":[{"tags":[],"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645186597,"creation_date":1645186597,"answer_id":71173347,"question_id":71171718,"body_markdown":"`class SwapNodes is public, should be declared in a file named SwapNodes.java`\r\nthis means since the class is public, the file name must be SwapNodes instead of Main.\r\nChange the filename to `SwapNodes`.\r\n\r\nOutput will be :\r\n```\r\nOriginal list: \r\n1 2 3 4 5 \r\nList after swapping nodes: \r\n1 5 3 4 2 \r\n```\r\n\r\nNote : Always try to name the file whatever you are giving as `public` class.\r\neg : `public class ClassName` must be in a file `ClassName.java`.","title":"java Linked List for swapping two numbers","body":"<p><code>class SwapNodes is public, should be declared in a file named SwapNodes.java</code>\nthis means since the class is public, the file name must be SwapNodes instead of Main.\nChange the filename to <code>SwapNodes</code>.</p>\n<p>Output will be :</p>\n<pre><code>Original list: \n1 2 3 4 5 \nList after swapping nodes: \n1 5 3 4 2 \n</code></pre>\n<p>Note : Always try to name the file whatever you are giving as <code>public</code> class.\neg : <code>public class ClassName</code> must be in a file <code>ClassName.java</code>.</p>\n"}],"owner":{"account_id":22989061,"reputation":11,"user_id":17114843,"display_name":"Mahalakshmi K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1682330674,"accepted_answer_id":71173347,"answer_count":1,"score":0,"last_activity_date":1645186597,"creation_date":1645179100,"question_id":71171718,"body_markdown":"I amgetting errors in my code. The errors are:\r\nerror: class SwapNodes is public, should be declared in a file named SwapNodes.java\r\npublic class SwapNodes {  \r\n       ^\r\nMain.java:104: error: Illegal static declaration in inner class SwapNodes.Main\r\n    public static void main(String[] args) {  \r\n                       ^\r\n  modifier &#39;static&#39; is only allowed in constant variable declarations\r\nMy program is as follows:\r\n```\r\npublic class SwapNodes {  \r\n      \r\n    //Represent a node of the singly linked list  \r\n    class Node{  \r\n        int data;  \r\n        Node next;  \r\n          \r\n        public Node(int data) {  \r\n            this.data = data;  \r\n            this.next = null;  \r\n        }  \r\n    }  \r\n   \r\n    //Represent the head and tail of the singly linked list  \r\n    public Node head = null;  \r\n    public Node tail = null;  \r\n      \r\n    //addNode() will add a new node to the list  \r\n    public void addNode(int data) {  \r\n        //Create a new node  \r\n        Node newNode = new Node(data);  \r\n          \r\n        //Checks if the list is empty  \r\n        if(head == null) {  \r\n            //If list is empty, both head and tail will point to new node  \r\n            head = newNode;  \r\n            tail = newNode;  \r\n        }  \r\n        else {  \r\n            //newNode will be added after tail such that tail&#39;s next will point to newNode  \r\n            tail.next = newNode;  \r\n            //newNode will become new tail of the list  \r\n            tail = newNode;  \r\n        }  \r\n    }  \r\n      \r\n    //swap() will swap the given two nodes  \r\n    public void swap(int n1, int n2){  \r\n        Node prevNode1 = null, prevNode2 = null, node1 = head, node2 = head;  \r\n          \r\n        //Checks if list is empty  \r\n        if(head == null) {  \r\n            return;  \r\n        }  \r\n          \r\n        //If n1 and n2 are equal, then list will remain the same  \r\n        if(n1 == n2)  \r\n            return;  \r\n          \r\n        //Search for node1  \r\n        while(node1 != null &amp;&amp; node1.data != n1){  \r\n            prevNode1 = node1;  \r\n            node1 = node1.next;  \r\n        }  \r\n          \r\n        //Search for node2  \r\n        while(node2 != null &amp;&amp; node2.data != n2){  \r\n            prevNode2 = node2;  \r\n            node2 = node2.next;  \r\n        }  \r\n          \r\n        if(node1 != null &amp;&amp; node2 != null) {  \r\n              \r\n            //If previous node to node1 is not null then, it will point to node2  \r\n            if(prevNode1 != null)  \r\n                prevNode1.next = node2;          \r\n            else  \r\n                head  = node2;  \r\n              \r\n            //If previous node to node2 is not null then, it will point to node1  \r\n            if(prevNode2 != null)  \r\n                prevNode2.next = node1;  \r\n            else  \r\n                head  = node1;  \r\n              \r\n            //Swaps the next nodes of node1 and node2  \r\n            Node temp = node1.next;   \r\n            node1.next = node2.next;   \r\n            node2.next = temp;       \r\n        }      \r\n        else {  \r\n            System.out.println(&quot;Swapping is not possible&quot;);  \r\n        }  \r\n    }  \r\n      \r\n    //display() will display all the nodes present in the list  \r\n    public void display() {  \r\n        //Node current will point to head  \r\n        Node current = head;  \r\n          \r\n        if(head == null) {  \r\n            System.out.println(&quot;List is empty&quot;);  \r\n            return;  \r\n        }  \r\n        while(current != null) {  \r\n            //Prints each node by incrementing pointer  \r\n            System.out.print(current.data + &quot; &quot;);  \r\n            current = current.next;  \r\n        }  \r\n        System.out.println();  \r\n    }  \r\n      \r\n    public static void main(String[] args) {  \r\n          \r\n        SwapNodes sList = new SwapNodes();  \r\n          \r\n        //Add nodes to the list  \r\n        sList.addNode(1);  \r\n        sList.addNode(2);  \r\n        sList.addNode(3);  \r\n        sList.addNode(4);  \r\n        sList.addNode(5);  \r\n          \r\n        System.out.println(&quot;Original list: &quot;);  \r\n        sList.display();  \r\n          \r\n        //Swaps the node 2 with node 5  \r\n        sList.swap(2,5);  \r\n          \r\n        System.out.println(&quot;List after swapping nodes: &quot;);  \r\n        sList.display();  \r\n    }  \r\n}  \r\n```","title":"java Linked List for swapping two numbers","body":"<p>I amgetting errors in my code. The errors are:\nerror: class SwapNodes is public, should be declared in a file named SwapNodes.java\npublic class SwapNodes {<br />\n^\nMain.java:104: error: Illegal static declaration in inner class SwapNodes.Main\npublic static void main(String[] args) {<br />\n^\nmodifier 'static' is only allowed in constant variable declarations\nMy program is as follows:</p>\n<pre><code>public class SwapNodes {  \n      \n    //Represent a node of the singly linked list  \n    class Node{  \n        int data;  \n        Node next;  \n          \n        public Node(int data) {  \n            this.data = data;  \n            this.next = null;  \n        }  \n    }  \n   \n    //Represent the head and tail of the singly linked list  \n    public Node head = null;  \n    public Node tail = null;  \n      \n    //addNode() will add a new node to the list  \n    public void addNode(int data) {  \n        //Create a new node  \n        Node newNode = new Node(data);  \n          \n        //Checks if the list is empty  \n        if(head == null) {  \n            //If list is empty, both head and tail will point to new node  \n            head = newNode;  \n            tail = newNode;  \n        }  \n        else {  \n            //newNode will be added after tail such that tail's next will point to newNode  \n            tail.next = newNode;  \n            //newNode will become new tail of the list  \n            tail = newNode;  \n        }  \n    }  \n      \n    //swap() will swap the given two nodes  \n    public void swap(int n1, int n2){  \n        Node prevNode1 = null, prevNode2 = null, node1 = head, node2 = head;  \n          \n        //Checks if list is empty  \n        if(head == null) {  \n            return;  \n        }  \n          \n        //If n1 and n2 are equal, then list will remain the same  \n        if(n1 == n2)  \n            return;  \n          \n        //Search for node1  \n        while(node1 != null &amp;&amp; node1.data != n1){  \n            prevNode1 = node1;  \n            node1 = node1.next;  \n        }  \n          \n        //Search for node2  \n        while(node2 != null &amp;&amp; node2.data != n2){  \n            prevNode2 = node2;  \n            node2 = node2.next;  \n        }  \n          \n        if(node1 != null &amp;&amp; node2 != null) {  \n              \n            //If previous node to node1 is not null then, it will point to node2  \n            if(prevNode1 != null)  \n                prevNode1.next = node2;          \n            else  \n                head  = node2;  \n              \n            //If previous node to node2 is not null then, it will point to node1  \n            if(prevNode2 != null)  \n                prevNode2.next = node1;  \n            else  \n                head  = node1;  \n              \n            //Swaps the next nodes of node1 and node2  \n            Node temp = node1.next;   \n            node1.next = node2.next;   \n            node2.next = temp;       \n        }      \n        else {  \n            System.out.println(&quot;Swapping is not possible&quot;);  \n        }  \n    }  \n      \n    //display() will display all the nodes present in the list  \n    public void display() {  \n        //Node current will point to head  \n        Node current = head;  \n          \n        if(head == null) {  \n            System.out.println(&quot;List is empty&quot;);  \n            return;  \n        }  \n        while(current != null) {  \n            //Prints each node by incrementing pointer  \n            System.out.print(current.data + &quot; &quot;);  \n            current = current.next;  \n        }  \n        System.out.println();  \n    }  \n      \n    public static void main(String[] args) {  \n          \n        SwapNodes sList = new SwapNodes();  \n          \n        //Add nodes to the list  \n        sList.addNode(1);  \n        sList.addNode(2);  \n        sList.addNode(3);  \n        sList.addNode(4);  \n        sList.addNode(5);  \n          \n        System.out.println(&quot;Original list: &quot;);  \n        sList.display();  \n          \n        //Swaps the node 2 with node 5  \n        sList.swap(2,5);  \n          \n        System.out.println(&quot;List after swapping nodes: &quot;);  \n        sList.display();  \n    }  \n}  \n</code></pre>\n"},{"tags":["java","xml","spring-boot","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":2,"creation_date":1645201017,"post_id":71173233,"comment_id":125816069,"body_markdown":"Use `#{}` instead of `${}` whenever possible. See the [FAQ](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-). It&#39;s super important for you to understand the difference. Anyway, if the key is known, you can just write `... = #{group_id.eq}`.","body":"Use <code>#{}</code> instead of <code>${}</code> whenever possible. See the <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ</a>. It&#39;s super important for you to understand the difference. Anyway, if the key is known, you can just write <code>... = #{group_id.eq}</code>."},{"owner":{"account_id":14547262,"reputation":55,"user_id":11047613,"display_name":"LordNani"},"score":0,"creation_date":1645468809,"post_id":71173233,"comment_id":125874756,"body_markdown":"@ave Thanks! But I am now getting errors in &lt;when&gt; tag. Changed in to &lt;when test= &quot;group_id.eq != null&quot;&gt;, and getting following error &quot;Error evaluating expression &#39;group_id.eq != null&#39;. Cause: org.apache.ibatis.ognl.ExpressionSyntaxException: Malformed OGNL expression: group_id.eq != null&quot;.\nAll data is present in the Map parameter, like {&quot;group_id&quot; : {&quot;eq&quot; : &quot;100&quot;}}","body":"@ave Thanks! But I am now getting errors in &lt;when&gt; tag. Changed in to &lt;when test= &quot;group_id.eq != null&quot;&gt;, and getting following error &quot;Error evaluating expression &#39;group_id.eq != null&#39;. Cause: org.apache.ibatis.ognl.ExpressionSyntaxException: Malformed OGNL expression: group_id.eq != null&quot;. All data is present in the Map parameter, like {&quot;group_id&quot; : {&quot;eq&quot; : &quot;100&quot;}}"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1645495901,"post_id":71173233,"comment_id":125881334,"body_markdown":"You should not change `&lt;when /&gt;`. Expressions in `test` attribute and `${}` are evaluated by OGNL.","body":"You should not change <code>&lt;when &#47;&gt;</code>. Expressions in <code>test</code> attribute and <code>${}</code> are evaluated by OGNL."}],"owner":{"account_id":14547262,"reputation":55,"user_id":11047613,"display_name":"LordNani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645186085,"creation_date":1645186085,"question_id":71173233,"body_markdown":"            &lt;if test=&quot;group_id != null&quot;&gt;\r\n                &lt;choose&gt;\r\n                    &lt;when test=&#39;group_id.get(&quot;eq&quot;) != null&#39;&gt;\r\n                        and roleobj.object_id = ${group_id.get(&quot;eq&quot;)} \r\n                    &lt;/when&gt;\r\n                &lt;/choose&gt;\r\n            &lt;/if&gt;\r\n\r\nI am passing Map&lt;String, Map&lt;String, String&gt;&gt; inside mybatis, as a parameter. However, when i am trying to make dynamic sql using it, it&#39;s not working properly, and usually results in an error. What is the correct way to do it?","title":"How can I execute a method inside mybatis mapper?","body":"<pre><code>        &lt;if test=&quot;group_id != null&quot;&gt;\n            &lt;choose&gt;\n                &lt;when test='group_id.get(&quot;eq&quot;) != null'&gt;\n                    and roleobj.object_id = ${group_id.get(&quot;eq&quot;)} \n                &lt;/when&gt;\n            &lt;/choose&gt;\n        &lt;/if&gt;\n</code></pre>\n<p>I am passing Map&lt;String, Map&lt;String, String&gt;&gt; inside mybatis, as a parameter. However, when i am trying to make dynamic sql using it, it's not working properly, and usually results in an error. What is the correct way to do it?</p>\n"},{"tags":["java","poi-hssf","hssfworkbook"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1464284191,"post_id":37467008,"comment_id":62433758,"body_markdown":"[Cell](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue%28double%29) very much has a `setCellValue` method! Whyever would you think it didn&#39;t?","body":"<a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue%28double%29\" rel=\"nofollow noreferrer\">Cell</a> very much has a <code>setCellValue</code> method! Whyever would you think it didn&#39;t?"},{"owner":{"account_id":5544813,"reputation":362,"user_id":4399956,"accept_rate":47,"display_name":"puffles"},"score":0,"creation_date":1464324512,"post_id":37467008,"comment_id":62448228,"body_markdown":"@Gagravarr No it doesn&#39;t. Check it in an IDE. HSSFCell has a setcellvalue method","body":"@Gagravarr No it doesn&#39;t. Check it in an IDE. HSSFCell has a setcellvalue method"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1464350845,"post_id":37467008,"comment_id":62462511,"body_markdown":"I did, and it very much does! You must have imported the wrong class","body":"I did, and it very much does! You must have imported the wrong class"}],"answers":[{"tags":[],"owner":{"account_id":5544813,"reputation":362,"user_id":4399956,"accept_rate":47,"display_name":"puffles"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464282544,"creation_date":1464282544,"answer_id":37467149,"question_id":37467008,"body_markdown":"The correct code is this one\r\n HSSFCell resultCell= sheet.getRow(1).getCell(0);\r\nI were not supposed to caste the cell object","title":"How to set cell value?","body":"<p>The correct code is this one\n HSSFCell resultCell= sheet.getRow(1).getCell(0);\nI were not supposed to caste the cell object</p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464351032,"creation_date":1464351032,"answer_id":37483233,"question_id":37467008,"body_markdown":"If you look at the [Apache POI JavaDocs for Cell](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html), or [the Apache POI Cell examples on the website](http://poi.apache.org/spreadsheet/quick-guide.html#CreateCells), you will clearly see that `org.apache.poi.ss.usermodel.Cell` has a number of `setCellValue` methods including [setCellValue(double)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue%28double%29) and [setCellValue(String)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue%28java.lang.String%29)\r\n\r\nMost likely you&#39;ve imported the wrong class for `Cell`. You should review the `import` statements at the top of your class, remove the wrong ones, and ensure you only have one of:\r\n\r\n    import org.apache.poi.ss.usermodel.Worbook;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n\r\nor:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n","title":"How to set cell value?","body":"<p>If you look at the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow\">Apache POI JavaDocs for Cell</a>, or <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#CreateCells\" rel=\"nofollow\">the Apache POI Cell examples on the website</a>, you will clearly see that <code>org.apache.poi.ss.usermodel.Cell</code> has a number of <code>setCellValue</code> methods including <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue%28double%29\" rel=\"nofollow\">setCellValue(double)</a> and <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue%28java.lang.String%29\" rel=\"nofollow\">setCellValue(String)</a></p>\n\n<p>Most likely you've imported the wrong class for <code>Cell</code>. You should review the <code>import</code> statements at the top of your class, remove the wrong ones, and ensure you only have one of:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.Worbook;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Cell;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.*;\n</code></pre>\n"}],"owner":{"account_id":5544813,"reputation":362,"user_id":4399956,"accept_rate":47,"display_name":"puffles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10599,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645186020,"creation_date":1464282117,"question_id":37467008,"body_markdown":"I have got the following code:\r\n\r\n            HSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n            Cell resultCell=(Cell) sheet.getRow(1).getCell(0);\r\nProblem is result cell doesn&#39;t have any method setCellValue(). Following statement gives me an error\r\n\r\n     resultCell.setCellValue(&quot;PASS&quot;);","title":"How to set cell value?","body":"<p>I have got the following code:</p>\n\n<pre><code>        HSSFSheet sheet = workbook.getSheetAt(0);\n\n        Cell resultCell=(Cell) sheet.getRow(1).getCell(0);\n</code></pre>\n\n<p>Problem is result cell doesn't have any method setCellValue(). Following statement gives me an error</p>\n\n<pre><code> resultCell.setCellValue(\"PASS\");\n</code></pre>\n"},{"tags":["java","firebase","rest","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":19504289,"reputation":66,"user_id":14269655,"display_name":"ninjadev64"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645185834,"creation_date":1645184605,"answer_id":71172932,"question_id":71125111,"body_markdown":"While debugging for another issue, I discovered that the Apache http libraries do not throw an IOException for 400 error codes and instead let you continue with parsing the JSON.\r\n\r\nThis is my final Firebase Auth REST API interfacing class in Java.\r\n\r\n```java\r\npackage com.amansprojects.craftclaw;\r\n\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.NameValuePair;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.message.BasicNameValuePair;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * A class to interface with the Firebase Auth REST API.\r\n */\r\npublic class FirebaseAuthManager {\r\n    private static final String BASE_URL = &quot;https://www.googleapis.com/identitytoolkit/v3/relyingparty/&quot;;\r\n    private static final String OPERATION_AUTH = &quot;verifyPassword&quot;;\r\n    private static final String OPERATION_ACCOUNT_INFO = &quot;getAccountInfo&quot;;\r\n    private static final String OPERATION_SEND_PASSWORD_RESET = &quot;getOobConfirmationCode&quot;;\r\n\r\n    private final String firebaseKey;\r\n\r\n    private static FirebaseAuthManager instance = null;\r\n\r\n    protected FirebaseAuthManager() {\r\n        firebaseKey = &quot;YOUR_KEY_HERE&quot;;\r\n    }\r\n\r\n    public static FirebaseAuthManager getInstance() {\r\n        if (instance == null) {\r\n            instance = new FirebaseAuthManager();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * Exchange an email and password with the Firebase Auth REST API for an ID token.\r\n     * @param username A username or email registered with Firebase Authentication.\r\n     * @param password The password associated with the username or email.\r\n     * @return An ID token from Firebase.\r\n     * @throws FirebaseAuthException\r\n     */\r\n    public String auth(String username, String password) throws FirebaseAuthException {\r\n        String token;\r\n        try {\r\n            HttpClient httpclient = HttpClients.createDefault();\r\n            HttpPost httppost = new HttpPost(BASE_URL + OPERATION_AUTH + &quot;?key=&quot; + firebaseKey);\r\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(1);\r\n            params.add(new BasicNameValuePair(&quot;email&quot;, username));\r\n            params.add(new BasicNameValuePair(&quot;password&quot;, password));\r\n            params.add(new BasicNameValuePair(&quot;returnSecureToken&quot;, &quot;true&quot;));\r\n            httppost.setEntity(new UrlEncodedFormEntity(params, StandardCharsets.UTF_8));\r\n            HttpEntity entity = httpclient.execute(httppost).getEntity();\r\n\r\n            JsonParser jp = new JsonParser();\r\n            JsonElement root = jp.parse(new InputStreamReader(entity.getContent()));\r\n            JsonObject rootObj = root.getAsJsonObject();\r\n\r\n            if (rootObj.get(&quot;error&quot;) != null) {\r\n                throw new FirebaseAuthException(rootObj.get(&quot;error&quot;).getAsJsonObject().get(&quot;message&quot;).getAsString());\r\n            }\r\n            token = rootObj.get(&quot;idToken&quot;).getAsString();\r\n        } catch (IOException e) { System.out.println(e.getMessage()); return null; }\r\n        return token;\r\n    }\r\n\r\n    /**\r\n     * Exchange an ID token with the Firebase Auth REST API for a User object.\r\n     * @param token An ID token from Firebase.\r\n     * @return A user object with the email and UID returned by Firebase.\r\n     */\r\n    public User getAccountInfo(String token) {\r\n        try {\r\n            HttpClient httpclient = HttpClients.createDefault();\r\n            HttpPost httppost = new HttpPost(BASE_URL + OPERATION_ACCOUNT_INFO + &quot;?key=&quot; + firebaseKey);\r\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(1);\r\n            params.add(new BasicNameValuePair(&quot;idToken&quot;, token));\r\n            httppost.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));\r\n            HttpEntity entity = httpclient.execute(httppost).getEntity();\r\n\r\n            JsonParser jp = new JsonParser();\r\n            JsonElement root = jp.parse(new InputStreamReader(entity.getContent()));\r\n            JsonObject rootObj = root.getAsJsonObject();\r\n\r\n            JsonObject userObj = rootObj.get(&quot;users&quot;).getAsJsonArray().get(0).getAsJsonObject();\r\n            return new User(userObj.get(&quot;email&quot;).getAsString(), userObj.get(&quot;localId&quot;).getAsString(), token);\r\n        } catch (IOException e) { System.out.println(e.getMessage()); return null; }\r\n    }\r\n\r\n    /**\r\n     * Send a reset password email via Firebase.\r\n     * @param email The email address to send the reset password email to.\r\n     */\r\n    public void sendResetPasswordLink(String email) {\r\n        try {\r\n            HttpClient httpclient = HttpClients.createDefault();\r\n            HttpPost httppost = new HttpPost(BASE_URL + OPERATION_SEND_PASSWORD_RESET + &quot;?key=&quot; + firebaseKey);\r\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(2);\r\n            params.add(new BasicNameValuePair(&quot;requestType&quot;, &quot;PASSWORD_RESET&quot;));\r\n            params.add(new BasicNameValuePair(&quot;email&quot;, email));\r\n            httppost.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));\r\n            httpclient.execute(httppost);\r\n        } catch (IOException e) { e.printStackTrace(); }\r\n    }\r\n\r\n    /**\r\n     * Exchange a refresh token with the Firebase Auth REST API for a new ID token.\r\n     * @param refreshToken The refresh token used to receive an ID token.\r\n     * @return A new ID token from Firebase.\r\n     */\r\n    public String[] exchangeRefreshToken(String refreshToken) {\r\n        try {\r\n            HttpClient httpclient = HttpClients.createDefault();\r\n            HttpPost httppost = new HttpPost(&quot;https://securetoken.googleapis.com/v1/token?key=&quot;+ firebaseKey);\r\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(2);\r\n            params.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;refresh_token&quot;));\r\n            params.add(new BasicNameValuePair(&quot;refresh_token&quot;, refreshToken));\r\n            httppost.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));\r\n            HttpEntity entity = httpclient.execute(httppost).getEntity();\r\n            if (entity != null) {\r\n                JsonParser jp = new JsonParser();\r\n                JsonElement root = jp.parse(new InputStreamReader(entity.getContent()));\r\n                JsonObject rootObj = root.getAsJsonObject();\r\n                return new String[]{ rootObj.get(&quot;id_token&quot;).getAsString(), rootObj.get(&quot;refresh_token&quot;).getAsString() };\r\n            }\r\n        } catch (IOException e) { e.printStackTrace(); }\r\n        return null;\r\n    }\r\n}\r\n```","title":"Firebase email+password authentication in Java","body":"<p>While debugging for another issue, I discovered that the Apache http libraries do not throw an IOException for 400 error codes and instead let you continue with parsing the JSON.</p>\n<p>This is my final Firebase Auth REST API interfacing class in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.amansprojects.craftclaw;\n\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.message.BasicNameValuePair;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * A class to interface with the Firebase Auth REST API.\n */\npublic class FirebaseAuthManager {\n    private static final String BASE_URL = &quot;https://www.googleapis.com/identitytoolkit/v3/relyingparty/&quot;;\n    private static final String OPERATION_AUTH = &quot;verifyPassword&quot;;\n    private static final String OPERATION_ACCOUNT_INFO = &quot;getAccountInfo&quot;;\n    private static final String OPERATION_SEND_PASSWORD_RESET = &quot;getOobConfirmationCode&quot;;\n\n    private final String firebaseKey;\n\n    private static FirebaseAuthManager instance = null;\n\n    protected FirebaseAuthManager() {\n        firebaseKey = &quot;YOUR_KEY_HERE&quot;;\n    }\n\n    public static FirebaseAuthManager getInstance() {\n        if (instance == null) {\n            instance = new FirebaseAuthManager();\n        }\n        return instance;\n    }\n\n    /**\n     * Exchange an email and password with the Firebase Auth REST API for an ID token.\n     * @param username A username or email registered with Firebase Authentication.\n     * @param password The password associated with the username or email.\n     * @return An ID token from Firebase.\n     * @throws FirebaseAuthException\n     */\n    public String auth(String username, String password) throws FirebaseAuthException {\n        String token;\n        try {\n            HttpClient httpclient = HttpClients.createDefault();\n            HttpPost httppost = new HttpPost(BASE_URL + OPERATION_AUTH + &quot;?key=&quot; + firebaseKey);\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(1);\n            params.add(new BasicNameValuePair(&quot;email&quot;, username));\n            params.add(new BasicNameValuePair(&quot;password&quot;, password));\n            params.add(new BasicNameValuePair(&quot;returnSecureToken&quot;, &quot;true&quot;));\n            httppost.setEntity(new UrlEncodedFormEntity(params, StandardCharsets.UTF_8));\n            HttpEntity entity = httpclient.execute(httppost).getEntity();\n\n            JsonParser jp = new JsonParser();\n            JsonElement root = jp.parse(new InputStreamReader(entity.getContent()));\n            JsonObject rootObj = root.getAsJsonObject();\n\n            if (rootObj.get(&quot;error&quot;) != null) {\n                throw new FirebaseAuthException(rootObj.get(&quot;error&quot;).getAsJsonObject().get(&quot;message&quot;).getAsString());\n            }\n            token = rootObj.get(&quot;idToken&quot;).getAsString();\n        } catch (IOException e) { System.out.println(e.getMessage()); return null; }\n        return token;\n    }\n\n    /**\n     * Exchange an ID token with the Firebase Auth REST API for a User object.\n     * @param token An ID token from Firebase.\n     * @return A user object with the email and UID returned by Firebase.\n     */\n    public User getAccountInfo(String token) {\n        try {\n            HttpClient httpclient = HttpClients.createDefault();\n            HttpPost httppost = new HttpPost(BASE_URL + OPERATION_ACCOUNT_INFO + &quot;?key=&quot; + firebaseKey);\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(1);\n            params.add(new BasicNameValuePair(&quot;idToken&quot;, token));\n            httppost.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));\n            HttpEntity entity = httpclient.execute(httppost).getEntity();\n\n            JsonParser jp = new JsonParser();\n            JsonElement root = jp.parse(new InputStreamReader(entity.getContent()));\n            JsonObject rootObj = root.getAsJsonObject();\n\n            JsonObject userObj = rootObj.get(&quot;users&quot;).getAsJsonArray().get(0).getAsJsonObject();\n            return new User(userObj.get(&quot;email&quot;).getAsString(), userObj.get(&quot;localId&quot;).getAsString(), token);\n        } catch (IOException e) { System.out.println(e.getMessage()); return null; }\n    }\n\n    /**\n     * Send a reset password email via Firebase.\n     * @param email The email address to send the reset password email to.\n     */\n    public void sendResetPasswordLink(String email) {\n        try {\n            HttpClient httpclient = HttpClients.createDefault();\n            HttpPost httppost = new HttpPost(BASE_URL + OPERATION_SEND_PASSWORD_RESET + &quot;?key=&quot; + firebaseKey);\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(2);\n            params.add(new BasicNameValuePair(&quot;requestType&quot;, &quot;PASSWORD_RESET&quot;));\n            params.add(new BasicNameValuePair(&quot;email&quot;, email));\n            httppost.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));\n            httpclient.execute(httppost);\n        } catch (IOException e) { e.printStackTrace(); }\n    }\n\n    /**\n     * Exchange a refresh token with the Firebase Auth REST API for a new ID token.\n     * @param refreshToken The refresh token used to receive an ID token.\n     * @return A new ID token from Firebase.\n     */\n    public String[] exchangeRefreshToken(String refreshToken) {\n        try {\n            HttpClient httpclient = HttpClients.createDefault();\n            HttpPost httppost = new HttpPost(&quot;https://securetoken.googleapis.com/v1/token?key=&quot;+ firebaseKey);\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(2);\n            params.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;refresh_token&quot;));\n            params.add(new BasicNameValuePair(&quot;refresh_token&quot;, refreshToken));\n            httppost.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));\n            HttpEntity entity = httpclient.execute(httppost).getEntity();\n            if (entity != null) {\n                JsonParser jp = new JsonParser();\n                JsonElement root = jp.parse(new InputStreamReader(entity.getContent()));\n                JsonObject rootObj = root.getAsJsonObject();\n                return new String[]{ rootObj.get(&quot;id_token&quot;).getAsString(), rootObj.get(&quot;refresh_token&quot;).getAsString() };\n            }\n        } catch (IOException e) { e.printStackTrace(); }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19504289,"reputation":66,"user_id":14269655,"display_name":"ninjadev64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71172932,"answer_count":1,"score":1,"last_activity_date":1645185834,"creation_date":1644922185,"question_id":71125111,"body_markdown":"I&#39;m trying to use Firebase email and password authentication in Java using their REST API, as their Admin SDK doesn&#39;t provide the needed methods to log in etc., only user management methods.\r\n\r\nWith help from [this answer][1], I&#39;ve managed to put together the following code, which works for correct credentials but when trying to handle errors e.g. USER_NOT_FOUND or INVALID_PASSWORD, all I get is a java.io.IOException with the details `Server returned HTTP response code: 400 for URL: https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=key`.\r\n\r\n```java\r\npackage com.amansprojects.craftclaw;\r\n\r\nimport java.io.*;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\npublic class FirebaseAuthManager {\r\n\r\n    private static final String BASE_URL = &quot;https://www.googleapis.com/identitytoolkit/v3/relyingparty/&quot;;\r\n    private static final String OPERATION_AUTH = &quot;verifyPassword&quot;;\r\n    private static final String OPERATION_ACCOUNT_INFO = &quot;getAccountInfo&quot;;\r\n\r\n    private String firebaseKey;\r\n\r\n    private static FirebaseAuthManager instance = null;\r\n\r\n    protected FirebaseAuthManager() {\r\n        firebaseKey = &quot;MY_KEY_HERE&quot;;\r\n    }\r\n\r\n    public static FirebaseAuthManager getInstance() {\r\n        if (instance == null) {\r\n            instance = new FirebaseAuthManager();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public String auth(String username, String password) {\r\n        HttpURLConnection urlRequest = null;\r\n        String token = null;\r\n\r\n        try {\r\n            URL url = new URL(BASE_URL + OPERATION_AUTH + &quot;?key=&quot; + firebaseKey);\r\n            urlRequest = (HttpURLConnection) url.openConnection();\r\n            urlRequest.setDoOutput(true);\r\n            urlRequest.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n            OutputStream os = urlRequest.getOutputStream();\r\n            OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\r\n            osw.write(&quot;{\\&quot;email\\&quot;: \\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;: \\&quot;&quot; + password + &quot;\\&quot;, \\&quot;returnSecureToken\\&quot;: true}&quot;);\r\n            osw.flush();\r\n            osw.close();\r\n\r\n            urlRequest.connect();\r\n\r\n            JsonParser jp = new JsonParser();\r\n            JsonElement root = jp.parse(new InputStreamReader((InputStream) urlRequest.getContent()));\r\n            JsonObject rootObj = root.getAsJsonObject();\r\n\r\n            token = rootObj.get(&quot;idToken&quot;).getAsString();\r\n            System.out.println(rootObj); // debugging\r\n        } catch (IOException e) { e.printStackTrace(); return null; }\r\n        finally { urlRequest.disconnect(); }\r\n        return token;\r\n    }\r\n\r\n    public String getAccountInfo(String token) {\r\n        HttpURLConnection urlRequest = null;\r\n        String email = null;\r\n\r\n        try {\r\n            URL url = new URL(BASE_URL + OPERATION_ACCOUNT_INFO + &quot;?key=&quot; + firebaseKey);\r\n            urlRequest = (HttpURLConnection) url.openConnection();\r\n            urlRequest.setDoOutput(true);\r\n            urlRequest.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n            OutputStream os = urlRequest.getOutputStream();\r\n            OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\r\n            osw.write(&quot;{\\&quot;idToken\\&quot;: \\&quot;&quot; + token + &quot;\\&quot;}&quot;);\r\n            osw.flush();\r\n            osw.close();\r\n            urlRequest.connect();\r\n\r\n            JsonParser jp = new JsonParser();\r\n            JsonElement root = jp.parse(new InputStreamReader((InputStream) urlRequest.getContent()));\r\n            JsonObject rootObj = root.getAsJsonObject();\r\n\r\n            email = rootObj.get(&quot;users&quot;).getAsJsonArray().get(0).getAsJsonObject().get(&quot;email&quot;).getAsString();\r\n        } catch (IOException e) { e.printStackTrace(); return null; }\r\n        finally { urlRequest.disconnect(); }\r\n        return email;\r\n    }\r\n}\r\n```\r\n\r\nThanks in advance.\r\n\r\nEdit: I’ve also tried with the other domain/endpoint combination that Firebase shows on their docs page: `https://identitytoolkit.googleapis.com/v1/accounts:endpoint`\r\n\r\n  [1]: https://stackoverflow.com/questions/40824660/firebase-user-authentication-for-java-application-not-android/44669857#44669857","title":"Firebase email+password authentication in Java","body":"<p>I'm trying to use Firebase email and password authentication in Java using their REST API, as their Admin SDK doesn't provide the needed methods to log in etc., only user management methods.</p>\n<p>With help from <a href=\"https://stackoverflow.com/questions/40824660/firebase-user-authentication-for-java-application-not-android/44669857#44669857\">this answer</a>, I've managed to put together the following code, which works for correct credentials but when trying to handle errors e.g. USER_NOT_FOUND or INVALID_PASSWORD, all I get is a java.io.IOException with the details <code>Server returned HTTP response code: 400 for URL: https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=key</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.amansprojects.craftclaw;\n\nimport java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\npublic class FirebaseAuthManager {\n\n    private static final String BASE_URL = &quot;https://www.googleapis.com/identitytoolkit/v3/relyingparty/&quot;;\n    private static final String OPERATION_AUTH = &quot;verifyPassword&quot;;\n    private static final String OPERATION_ACCOUNT_INFO = &quot;getAccountInfo&quot;;\n\n    private String firebaseKey;\n\n    private static FirebaseAuthManager instance = null;\n\n    protected FirebaseAuthManager() {\n        firebaseKey = &quot;MY_KEY_HERE&quot;;\n    }\n\n    public static FirebaseAuthManager getInstance() {\n        if (instance == null) {\n            instance = new FirebaseAuthManager();\n        }\n        return instance;\n    }\n\n    public String auth(String username, String password) {\n        HttpURLConnection urlRequest = null;\n        String token = null;\n\n        try {\n            URL url = new URL(BASE_URL + OPERATION_AUTH + &quot;?key=&quot; + firebaseKey);\n            urlRequest = (HttpURLConnection) url.openConnection();\n            urlRequest.setDoOutput(true);\n            urlRequest.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n            OutputStream os = urlRequest.getOutputStream();\n            OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\n            osw.write(&quot;{\\&quot;email\\&quot;: \\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;: \\&quot;&quot; + password + &quot;\\&quot;, \\&quot;returnSecureToken\\&quot;: true}&quot;);\n            osw.flush();\n            osw.close();\n\n            urlRequest.connect();\n\n            JsonParser jp = new JsonParser();\n            JsonElement root = jp.parse(new InputStreamReader((InputStream) urlRequest.getContent()));\n            JsonObject rootObj = root.getAsJsonObject();\n\n            token = rootObj.get(&quot;idToken&quot;).getAsString();\n            System.out.println(rootObj); // debugging\n        } catch (IOException e) { e.printStackTrace(); return null; }\n        finally { urlRequest.disconnect(); }\n        return token;\n    }\n\n    public String getAccountInfo(String token) {\n        HttpURLConnection urlRequest = null;\n        String email = null;\n\n        try {\n            URL url = new URL(BASE_URL + OPERATION_ACCOUNT_INFO + &quot;?key=&quot; + firebaseKey);\n            urlRequest = (HttpURLConnection) url.openConnection();\n            urlRequest.setDoOutput(true);\n            urlRequest.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n            OutputStream os = urlRequest.getOutputStream();\n            OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\n            osw.write(&quot;{\\&quot;idToken\\&quot;: \\&quot;&quot; + token + &quot;\\&quot;}&quot;);\n            osw.flush();\n            osw.close();\n            urlRequest.connect();\n\n            JsonParser jp = new JsonParser();\n            JsonElement root = jp.parse(new InputStreamReader((InputStream) urlRequest.getContent()));\n            JsonObject rootObj = root.getAsJsonObject();\n\n            email = rootObj.get(&quot;users&quot;).getAsJsonArray().get(0).getAsJsonObject().get(&quot;email&quot;).getAsString();\n        } catch (IOException e) { e.printStackTrace(); return null; }\n        finally { urlRequest.disconnect(); }\n        return email;\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n<p>Edit: I’ve also tried with the other domain/endpoint combination that Firebase shows on their docs page: <code>https://identitytoolkit.googleapis.com/v1/accounts:endpoint</code></p>\n"},{"tags":["python","java","android","numpy","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645188059,"post_id":71173120,"comment_id":125810821,"body_markdown":"You seem to use three bytes per pixel and ARGB_8888 is four. So make it four before or use _### becoming three bytes.","body":"You seem to use three bytes per pixel and ARGB_8888 is four. So make it four before or use _### becoming three bytes."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645188136,"post_id":71173120,"comment_id":125810847,"body_markdown":"`I know you convert a ByteArray to a Bitmap via:` Not always as a byte array can contain a jpg or png file too.","body":"<code>I know you convert a ByteArray to a Bitmap via:</code> Not always as a byte array can contain a jpg or png file too."},{"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"score":0,"creation_date":1645188445,"post_id":71173120,"comment_id":125810940,"body_markdown":"Yeah I thought that was obvious so I didn&#39;t mention it, my main point is I don&#39;t know how I should be formatting the numpy image array as a linear byte array","body":"Yeah I thought that was obvious so I didn&#39;t mention it, my main point is I don&#39;t know how I should be formatting the numpy image array as a linear byte array"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645188871,"post_id":71173120,"comment_id":125811116,"body_markdown":"I dont know python but take the first row and put it in a byte array. Then take the next row and add it to it..","body":"I dont know python but take the first row and put it in a byte array. Then take the next row and add it to it.."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645188939,"post_id":71173120,"comment_id":125811138,"body_markdown":"You dont have to construct a byte array first. You could just send the rows one by one. All depends on how that python array is organised.","body":"You dont have to construct a byte array first. You could just send the rows one by one. All depends on how that python array is organised."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645189039,"post_id":71173120,"comment_id":125811171,"body_markdown":"You can also send all pixels one by one i think. And you should know how Android expects that byte array to be organized. Now do you?","body":"You can also send all pixels one by one i think. And you should know how Android expects that byte array to be organized. Now do you?"},{"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"score":0,"creation_date":1645189498,"post_id":71173120,"comment_id":125811324,"body_markdown":"I don&#39;t know what Android expects the byte array to look like, it&#39;s why i wrote the question. I couldn&#39;t find anything online or in the documentation either","body":"I don&#39;t know what Android expects the byte array to look like, it&#39;s why i wrote the question. I couldn&#39;t find anything online or in the documentation either"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645190099,"post_id":71173120,"comment_id":125811525,"body_markdown":"I dont know either but then if you can find nothing know that you have to experiment with all the functions mentioned in https://developer.android.com/reference/android/graphics/Bitmap or google examples for them and you will discover i hope..","body":"I dont know either but then if you can find nothing know that you have to experiment with all the functions mentioned in <a href=\"https://developer.android.com/reference/android/graphics/Bitmap\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/graphics/Bitmap</a> or google examples for them and you will discover i hope.."}],"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645185568,"creation_date":1645185568,"question_id":71173120,"body_markdown":"In my python server program I do some image processing and end up with a (W,H,3) numpy array representing the raw RGB values of an image. The goal is to send that over to a client Android application.\r\n\r\nThis client application is then expected to read in the array of bytes, convert them to a bitmap, and ultimately display it in a normal ImageView.\r\n\r\nI know you convert a ByteArray to a Bitmap via:\r\n\r\nval bmp = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888)\r\nbmp.copyPixelsFromBuffer(buffer)\r\n\r\nBut how should I arrange my numpy array when i convert it to a linear array of bytes?","title":"How do I format a (W,H,3) numpy array for Android&#39;s Bitmap?","body":"<p>In my python server program I do some image processing and end up with a (W,H,3) numpy array representing the raw RGB values of an image. The goal is to send that over to a client Android application.</p>\n<p>This client application is then expected to read in the array of bytes, convert them to a bitmap, and ultimately display it in a normal ImageView.</p>\n<p>I know you convert a ByteArray to a Bitmap via:</p>\n<p>val bmp = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888)\nbmp.copyPixelsFromBuffer(buffer)</p>\n<p>But how should I arrange my numpy array when i convert it to a linear array of bytes?</p>\n"},{"tags":["java","xml","dom","backend","nodelist"],"answers":[{"tags":[],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303801189,"creation_date":1303800876,"answer_id":5786980,"question_id":5786936,"body_markdown":"you can try the `adoptNode()` method of [Document](http://download.oracle.com/javase/1.5.0/docs/api/org/w3c/dom/Document.html#adoptNode%28org.w3c.dom.Node%29). &lt;br&gt;&lt;br&gt;Maybe you will need to iterate over your `NodeList`. You can access the individual `Nodes` with `nodeList.item(i)`.&lt;br&gt;&lt;br&gt;If you want to wrap your search results in an `Element`, you can use createElement() from the `Document` and `appendChild()` on the newly created `Element`","title":"Create XML document using nodeList","body":"<p>you can try the <code>adoptNode()</code> method of <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/org/w3c/dom/Document.html#adoptNode%28org.w3c.dom.Node%29\" rel=\"nofollow\">Document</a>. <br><br>Maybe you will need to iterate over your <code>NodeList</code>. You can access the individual <code>Nodes</code> with <code>nodeList.item(i)</code>.<br><br>If you want to wrap your search results in an <code>Element</code>, you can use createElement() from the <code>Document</code> and <code>appendChild()</code> on the newly created <code>Element</code></p>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1303807944,"creation_date":1303804235,"answer_id":5787450,"question_id":5786936,"body_markdown":"You should do it like this:\r\n\r\n- you create a new `org.w3c.dom.Document newXmlDoc` where you store the nodes in your `NodeList`, \r\n- you create a new root element, and append it to `newXmlDoc`\r\n- then, for each node `n` in your `NodeList`, you import `n` in `newXmlDoc`, and then you append `n` as a child of `root`\r\n\r\nHere is the code:\r\n\r\n    public static void main(String[] args) {\r\n    \tString exp = &quot;/configs/markets/market&quot;;\r\n    \tString path = &quot;src/a/testConfig.xml&quot;;\r\n    \ttry {\r\n    \t\tDocument xmlDocument = DocumentBuilderFactory.newInstance()\r\n    \t\t\t\t.newDocumentBuilder().parse(path);\r\n    \t\t\r\n    \t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n    \t\tXPathExpression xPathExpression = xPath.compile(exp);\r\n    \t\tNodeList nodes = (NodeList) xPathExpression.\r\n                    evaluate(xmlDocument, XPathConstants.NODESET);\r\n    \t\t\r\n    \t\tDocument newXmlDocument = DocumentBuilderFactory.newInstance()\r\n    \t\t\t\t.newDocumentBuilder().newDocument();\r\n    \t\tElement root = newXmlDocument.createElement(&quot;root&quot;);\r\n    \t\tnewXmlDocument.appendChild(root);\r\n    \t\tfor (int i = 0; i &lt; nodes.getLength(); i++) {\r\n    \t\t\tNode node = nodes.item(i);\r\n    \t\t\tNode copyNode = newXmlDocument.importNode(node, true);\r\n    \t\t\troot.appendChild(copyNode);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprintTree(newXmlDocument);\r\n    \t} catch (Exception ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    public static void printXmlDocument(Document document) {\r\n    \tDOMImplementationLS domImplementationLS = \r\n            (DOMImplementationLS) document.getImplementation();\r\n    \tLSSerializer lsSerializer = \r\n            domImplementationLS.createLSSerializer();\r\n    \tString string = lsSerializer.writeToString(document);\r\n    \tSystem.out.println(string);\r\n    }\r\n\r\nThe output is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-16&quot;?&gt;\r\n    &lt;root&gt;&lt;market&gt;\r\n                &lt;name&gt;Real&lt;/name&gt;\r\n            &lt;/market&gt;&lt;market&gt;\r\n                &lt;name&gt;play&lt;/name&gt;\r\n            &lt;/market&gt;&lt;/root&gt;\r\n\r\nSome notes:\r\n\r\n- I&#39;ve changed `exp` to `/configs/markets/market`, because I suspect you want to copy the `market` elements, rather than the single `markets` element\r\n- for the `printXmlDocument`, I&#39;ve used the interesting code in this [answer][1] \r\n\r\nI hope this helps.\r\n\r\n\r\n----------\r\n\r\nIf you don&#39;t want to create a new root element, then you may use your original XPath expression, which returns a `NodeList` consisting of a single node (keep in mind that your XML must have a single root element) that you can directly add to your new XML document.\r\n\r\nSee following code, where I commented lines from the code above:\r\n\r\n    public static void main(String[] args) {\r\n    \t//String exp = &quot;/configs/markets/market/&quot;;\r\n    \tString exp = &quot;/configs/markets&quot;;\r\n    \tString path = &quot;src/a/testConfig.xml&quot;;\r\n    \ttry {\r\n    \t\tDocument xmlDocument = DocumentBuilderFactory.newInstance()\r\n    \t\t\t\t.newDocumentBuilder().parse(path);\r\n    \t\t\r\n    \t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n    \t\tXPathExpression xPathExpression = xPath.compile(exp);\r\n    \t\tNodeList nodes = (NodeList) xPathExpression.\r\n            evaluate(xmlDocument,XPathConstants.NODESET);\r\n    \t\t\r\n    \t\tDocument newXmlDocument = DocumentBuilderFactory.newInstance()\r\n    \t\t\t\t.newDocumentBuilder().newDocument();\r\n    \t\t//Element root = newXmlDocument.createElement(&quot;root&quot;);\r\n    \t\t//newXmlDocument.appendChild(root);\r\n    \t\tfor (int i = 0; i &lt; nodes.getLength(); i++) {\r\n    \t\t\tNode node = nodes.item(i);\r\n    \t\t\tNode copyNode = newXmlDocument.importNode(node, true);\r\n    \t\t\tnewXmlDocument.appendChild(copyNode);\r\n    \t\t\t//root.appendChild(copyNode);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprintXmlDocument(newXmlDocument);\r\n    \t} catch (Exception ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nThis will give you the following output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-16&quot;?&gt;\r\n    &lt;markets&gt;   \r\n            &lt;market&gt;\r\n                &lt;name&gt;Real&lt;/name&gt;\r\n            &lt;/market&gt;\r\n            &lt;market&gt;\r\n                &lt;name&gt;play&lt;/name&gt;\r\n            &lt;/market&gt;\r\n        &lt;/markets&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/1219596/how-to-i-output-org-w3c-dom-element-to-string-format-in-java/1219806#1219806","title":"Create XML document using nodeList","body":"<p>You should do it like this:</p>\n\n<ul>\n<li>you create a new <code>org.w3c.dom.Document newXmlDoc</code> where you store the nodes in your <code>NodeList</code>, </li>\n<li>you create a new root element, and append it to <code>newXmlDoc</code></li>\n<li>then, for each node <code>n</code> in your <code>NodeList</code>, you import <code>n</code> in <code>newXmlDoc</code>, and then you append <code>n</code> as a child of <code>root</code></li>\n</ul>\n\n<p>Here is the code:</p>\n\n<pre><code>public static void main(String[] args) {\n    String exp = \"/configs/markets/market\";\n    String path = \"src/a/testConfig.xml\";\n    try {\n        Document xmlDocument = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder().parse(path);\n\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        XPathExpression xPathExpression = xPath.compile(exp);\n        NodeList nodes = (NodeList) xPathExpression.\n                evaluate(xmlDocument, XPathConstants.NODESET);\n\n        Document newXmlDocument = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder().newDocument();\n        Element root = newXmlDocument.createElement(\"root\");\n        newXmlDocument.appendChild(root);\n        for (int i = 0; i &lt; nodes.getLength(); i++) {\n            Node node = nodes.item(i);\n            Node copyNode = newXmlDocument.importNode(node, true);\n            root.appendChild(copyNode);\n        }\n\n        printTree(newXmlDocument);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n}\n\npublic static void printXmlDocument(Document document) {\n    DOMImplementationLS domImplementationLS = \n        (DOMImplementationLS) document.getImplementation();\n    LSSerializer lsSerializer = \n        domImplementationLS.createLSSerializer();\n    String string = lsSerializer.writeToString(document);\n    System.out.println(string);\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-16\"?&gt;\n&lt;root&gt;&lt;market&gt;\n            &lt;name&gt;Real&lt;/name&gt;\n        &lt;/market&gt;&lt;market&gt;\n            &lt;name&gt;play&lt;/name&gt;\n        &lt;/market&gt;&lt;/root&gt;\n</code></pre>\n\n<p>Some notes:</p>\n\n<ul>\n<li>I've changed <code>exp</code> to <code>/configs/markets/market</code>, because I suspect you want to copy the <code>market</code> elements, rather than the single <code>markets</code> element</li>\n<li>for the <code>printXmlDocument</code>, I've used the interesting code in this <a href=\"https://stackoverflow.com/questions/1219596/how-to-i-output-org-w3c-dom-element-to-string-format-in-java/1219806#1219806\">answer</a> </li>\n</ul>\n\n<p>I hope this helps.</p>\n\n<hr>\n\n<p>If you don't want to create a new root element, then you may use your original XPath expression, which returns a <code>NodeList</code> consisting of a single node (keep in mind that your XML must have a single root element) that you can directly add to your new XML document.</p>\n\n<p>See following code, where I commented lines from the code above:</p>\n\n<pre><code>public static void main(String[] args) {\n    //String exp = \"/configs/markets/market/\";\n    String exp = \"/configs/markets\";\n    String path = \"src/a/testConfig.xml\";\n    try {\n        Document xmlDocument = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder().parse(path);\n\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        XPathExpression xPathExpression = xPath.compile(exp);\n        NodeList nodes = (NodeList) xPathExpression.\n        evaluate(xmlDocument,XPathConstants.NODESET);\n\n        Document newXmlDocument = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder().newDocument();\n        //Element root = newXmlDocument.createElement(\"root\");\n        //newXmlDocument.appendChild(root);\n        for (int i = 0; i &lt; nodes.getLength(); i++) {\n            Node node = nodes.item(i);\n            Node copyNode = newXmlDocument.importNode(node, true);\n            newXmlDocument.appendChild(copyNode);\n            //root.appendChild(copyNode);\n        }\n\n        printXmlDocument(newXmlDocument);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>This will give you the following output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-16\"?&gt;\n&lt;markets&gt;   \n        &lt;market&gt;\n            &lt;name&gt;Real&lt;/name&gt;\n        &lt;/market&gt;\n        &lt;market&gt;\n            &lt;name&gt;play&lt;/name&gt;\n        &lt;/market&gt;\n    &lt;/markets&gt;\n</code></pre>\n"}],"owner":{"account_id":208295,"reputation":2848,"user_id":458680,"accept_rate":71,"display_name":"nath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49671,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5787450,"answer_count":2,"score":8,"last_activity_date":1645185517,"creation_date":1303800498,"question_id":5786936,"body_markdown":"I need to create a XML Document object using the NodeList. Can someone pls help me to do this. This is my Java code:\r\n\r\n\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.xpath.*; \r\n    import org.w3c.dom.*;\r\n    \r\n    public class ReadFile {\r\n    \r\n        public static void main(String[] args) {\r\n            String exp = &quot;/configs/markets&quot;;\r\n            String path = &quot;testConfig.xml&quot;;\r\n            try {\r\n                Document xmlDocument = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(path);\r\n                XPath xPath = XPathFactory.newInstance().newXPath();\r\n                XPathExpression xPathExpression = xPath.compile(exp);\r\n                NodeList nodes = (NodeList)\r\n                  xPathExpression.evaluate(xmlDocument,\r\n                                           XPathConstants.NODESET);\r\n    \r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            } \r\n        }\r\n    }\r\n\r\nI want to have an XML file like this:\r\n\r\n    &lt;configs&gt;\r\n    \t&lt;markets&gt;\t\r\n    \t\t&lt;market&gt;\r\n    \t\t\t&lt;name&gt;Real&lt;/name&gt;\r\n    \t    &lt;/market&gt;\r\n    \t\t&lt;market&gt;\r\n    \t        &lt;name&gt;play&lt;/name&gt;\r\n    \t\t&lt;/market&gt;\r\n    \t&lt;/markets&gt;\r\n    &lt;/configs&gt;\r\n\r\nThanks in advance.","title":"Create XML document using nodeList","body":"<p>I need to create a XML Document object using the NodeList. Can someone pls help me to do this. This is my Java code:</p>\n\n<pre><code>import javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.xpath.*; \nimport org.w3c.dom.*;\n\npublic class ReadFile {\n\n    public static void main(String[] args) {\n        String exp = \"/configs/markets\";\n        String path = \"testConfig.xml\";\n        try {\n            Document xmlDocument = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(path);\n            XPath xPath = XPathFactory.newInstance().newXPath();\n            XPathExpression xPathExpression = xPath.compile(exp);\n            NodeList nodes = (NodeList)\n              xPathExpression.evaluate(xmlDocument,\n                                       XPathConstants.NODESET);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } \n    }\n}\n</code></pre>\n\n<p>I want to have an XML file like this:</p>\n\n<pre><code>&lt;configs&gt;\n    &lt;markets&gt;   \n        &lt;market&gt;\n            &lt;name&gt;Real&lt;/name&gt;\n        &lt;/market&gt;\n        &lt;market&gt;\n            &lt;name&gt;play&lt;/name&gt;\n        &lt;/market&gt;\n    &lt;/markets&gt;\n&lt;/configs&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","web-services","soap"],"comments":[{"owner":{"account_id":12796552,"reputation":711,"user_id":9259310,"display_name":"Katie.Sun"},"score":0,"creation_date":1546543614,"post_id":53751919,"comment_id":94893519,"body_markdown":"Did you ever figure this out?","body":"Did you ever figure this out?"},{"owner":{"account_id":10501531,"reputation":29,"user_id":7740105,"display_name":"Show-me-the-code"},"score":0,"creation_date":1547490039,"post_id":53751919,"comment_id":95202371,"body_markdown":"I had to pay more attention to pom.xml and add javax mail and (I belive) amqp-client jars to tomcat lib. Also, disable avast antivirus. I hope I don&#39;t remember it wrong.","body":"I had to pay more attention to pom.xml and add javax mail and (I belive) amqp-client jars to tomcat lib. Also, disable avast antivirus. I hope I don&#39;t remember it wrong."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1645174817,"post_id":53751919,"comment_id":125806094,"body_markdown":"Am having the same problem now, and Avast is not even installed.","body":"Am having the same problem now, and Avast is not even installed."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645185295,"creation_date":1645185295,"answer_id":71173068,"question_id":53751919,"body_markdown":"I resolved it by adding the correct dependency to my pom.xml:\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"A ClassNotFoundException error occurred in loading the message receiver org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver","body":"<p>I resolved it by adding the correct dependency to my pom.xml:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10501531,"reputation":29,"user_id":7740105,"display_name":"Show-me-the-code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645185295,"creation_date":1544651460,"question_id":53751919,"body_markdown":"I am trying to run a SOAP Web Services based application and I am not quite sure what this error is about. \r\nHere is my main method: \r\n\r\n    public static void main(String[] args){\r\n    try {\r\n        URL wsdlURL = new URL(&quot;http://localhost:8081/JAXWS-Tomcat/userWS?wsdl&quot;);\r\n        QName qname = new QName(&quot;http://service.jaxws.journaldev.com/&quot;, &quot;UserServiceImpl&quot;);\r\n        Service service = Service.create(wsdlURL, qname);\r\n        UserService us = service.getPort(UserService.class);\r\n\r\n        MyPackage myPackage =  new MyPackage();\r\n\r\n\r\n\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    }\r\n    }\r\n\r\nThe full error description: \r\n\r\n   \r\n\r\n     Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Error getting Client Configuration Context : A ClassNotFoundException error occurred in loading the message receiver org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\r\n    at org.apache.axis2.jaxws.ExceptionFactory.createWebServiceException(ExceptionFactory.java:173)\r\n    at org.apache.axis2.jaxws.ExceptionFactory.makeWebServiceException(ExceptionFactory.java:70)\r\n    at org.apache.axis2.jaxws.ExceptionFactory.makeWebServiceException(ExceptionFactory.java:118)\r\n    at org.apache.axis2.jaxws.ClientConfigurationFactory.getClientConfigurationContext(ClientConfigurationFactory.java:119)\r\n    at org.apache.axis2.jaxws.description.impl.DescriptionFactoryImpl.createServiceDescription(DescriptionFactoryImpl.java:93)\r\n    at org.apache.axis2.jaxws.description.impl.DescriptionFactoryImpl.createServiceDescription(DescriptionFactoryImpl.java:79)\r\n    at org.apache.axis2.jaxws.description.DescriptionFactory.createServiceDescription(DescriptionFactory.java:78)\r\n    at org.apache.axis2.jaxws.spi.ServiceDelegate.&lt;init&gt;(ServiceDelegate.java:218)\r\n    at org.apache.axis2.jaxws.spi.Provider.createServiceDelegate(Provider.java:83)\r\n    at org.apache.axis2.jaxws.spi.Provider.createServiceDelegate(Provider.java:79)\r\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:36)\r\n    at javax.xml.ws.Service.create(Service.java:116)\r\n    at start.SOAPClient.main(SOAPClient.java:17)\r\n\r\nThe exception is thrown at Service.create() method call. \r\n\r\nAnd here is my pom.xml: \r\n\r\n\r\n            &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;ds&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ass4&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.10&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-jaxws --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;axis2-jaxws&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--&amp;lt;!&amp;ndash; https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api &amp;ndash;&amp;gt;--&gt;\r\n            &lt;!--&lt;dependency&gt;--&gt;\r\n                &lt;!--&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;--&gt;\r\n                &lt;!--&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;--&gt;\r\n                &lt;!--&lt;version&gt;2.3.1&lt;/version&gt;--&gt;\r\n            &lt;!--&lt;/dependency&gt;--&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n                &lt;id&gt;corp1&lt;/id&gt;\r\n                &lt;name&gt;Corporate Repository&lt;/name&gt;\r\n                &lt;url&gt;scp://repo/maven2&lt;/url&gt;\r\n                &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI have tried all I can think of, considering I&#39;m new at this SOAP web services area, so I could really use some help. \r\nThank you! \r\n","title":"A ClassNotFoundException error occurred in loading the message receiver org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver","body":"<p>I am trying to run a SOAP Web Services based application and I am not quite sure what this error is about. \nHere is my main method: </p>\n\n<pre><code>public static void main(String[] args){\ntry {\n    URL wsdlURL = new URL(\"http://localhost:8081/JAXWS-Tomcat/userWS?wsdl\");\n    QName qname = new QName(\"http://service.jaxws.journaldev.com/\", \"UserServiceImpl\");\n    Service service = Service.create(wsdlURL, qname);\n    UserService us = service.getPort(UserService.class);\n\n    MyPackage myPackage =  new MyPackage();\n\n\n\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n}\n}\n</code></pre>\n\n<p>The full error description: </p>\n\n<pre><code> Exception in thread \"main\" javax.xml.ws.WebServiceException: Error getting Client Configuration Context : A ClassNotFoundException error occurred in loading the message receiver org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\nat org.apache.axis2.jaxws.ExceptionFactory.createWebServiceException(ExceptionFactory.java:173)\nat org.apache.axis2.jaxws.ExceptionFactory.makeWebServiceException(ExceptionFactory.java:70)\nat org.apache.axis2.jaxws.ExceptionFactory.makeWebServiceException(ExceptionFactory.java:118)\nat org.apache.axis2.jaxws.ClientConfigurationFactory.getClientConfigurationContext(ClientConfigurationFactory.java:119)\nat org.apache.axis2.jaxws.description.impl.DescriptionFactoryImpl.createServiceDescription(DescriptionFactoryImpl.java:93)\nat org.apache.axis2.jaxws.description.impl.DescriptionFactoryImpl.createServiceDescription(DescriptionFactoryImpl.java:79)\nat org.apache.axis2.jaxws.description.DescriptionFactory.createServiceDescription(DescriptionFactory.java:78)\nat org.apache.axis2.jaxws.spi.ServiceDelegate.&lt;init&gt;(ServiceDelegate.java:218)\nat org.apache.axis2.jaxws.spi.Provider.createServiceDelegate(Provider.java:83)\nat org.apache.axis2.jaxws.spi.Provider.createServiceDelegate(Provider.java:79)\nat javax.xml.ws.Service.&lt;init&gt;(Service.java:36)\nat javax.xml.ws.Service.create(Service.java:116)\nat start.SOAPClient.main(SOAPClient.java:17)\n</code></pre>\n\n<p>The exception is thrown at Service.create() method call. </p>\n\n<p>And here is my pom.xml: </p>\n\n<pre><code>        &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ds&lt;/groupId&gt;\n    &lt;artifactId&gt;ass4&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-jaxws --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n            &lt;artifactId&gt;axis2-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;1.7.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&amp;lt;!&amp;ndash; https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api &amp;ndash;&amp;gt;--&gt;\n        &lt;!--&lt;dependency&gt;--&gt;\n            &lt;!--&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;--&gt;\n            &lt;!--&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;--&gt;\n            &lt;!--&lt;version&gt;2.3.1&lt;/version&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n            &lt;id&gt;corp1&lt;/id&gt;\n            &lt;name&gt;Corporate Repository&lt;/name&gt;\n            &lt;url&gt;scp://repo/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I have tried all I can think of, considering I'm new at this SOAP web services area, so I could really use some help. \nThank you! </p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1645016691,"post_id":71142042,"comment_id":125757639,"body_markdown":"what is the error code? what is the console output?","body":"what is the error code? what is the console output?"},{"owner":{"account_id":20501264,"reputation":47,"user_id":15045151,"display_name":"Deni Bakulić"},"score":0,"creation_date":1645018476,"post_id":71142042,"comment_id":125758408,"body_markdown":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table `connections` add constraint `FK9cbieptb4tyq1k3nr5ac82rfm` foreign key (`id_projection`) references `projections` (`id`)&quot; via JDBC Statement\n\n**This error  for the FK in the related tables also.**\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table `connections` (`id_projection` binary(255) not null, `id_seat` bigint not null, `status` `empty` not null, primary key (`id_projection`, `id_seat`)) engine=InnoDB&quot; via JDBC Statement\n\n**This error for users too.**","body":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table <code>connections</code> add constraint <code>FK9cbieptb4tyq1k3nr5ac82rfm</code> foreign key (<code>id_projection</code>) references <code>projections</code> (<code>id</code>)&quot; via JDBC Statement  <b>This error  for the FK in the related tables also.</b>  org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table <code>connections</code> (<code>id_projection</code> binary(255) not null, <code>id_seat</code> bigint not null, <code>status</code> <code>empty</code> not null, primary key (<code>id_projection</code>, <code>id_seat</code>)) engine=InnoDB&quot; via JDBC Statement  <b>This error for users too.</b>"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645020394,"creation_date":1645020394,"answer_id":71143359,"question_id":71142042,"body_markdown":"Your table connections does not have any column `projection_id` that you are trying to use in the `CONSTRAINT pk_connections PRIMARY KEY (projection_id, seat_id)`.\r\n\r\nProbabbly you want this instead:\r\n\r\n    CREATE TABLE connections (\r\n                                 id CHAR (50) NOT NULL ,\r\n                                 id_projection CHAR (50) NOT NULL,\r\n                                 id_seat CHAR (50) NOT NULL,\r\n                                 id_ticket CHAR (50) NOT NULL,\r\n                                 status CHAR (25) NOT NULL DEFAULT &quot;empty&quot;,\r\n                                 CONSTRAINT pk_connections PRIMARY KEY (id_projection , id_seat ) /*sta stavit posto je slozeni kljuc*/\r\n    );","title":"Java MySql databse creation","body":"<p>Your table connections does not have any column <code>projection_id</code> that you are trying to use in the <code>CONSTRAINT pk_connections PRIMARY KEY (projection_id, seat_id)</code>.</p>\n<p>Probabbly you want this instead:</p>\n<pre><code>CREATE TABLE connections (\n                             id CHAR (50) NOT NULL ,\n                             id_projection CHAR (50) NOT NULL,\n                             id_seat CHAR (50) NOT NULL,\n                             id_ticket CHAR (50) NOT NULL,\n                             status CHAR (25) NOT NULL DEFAULT &quot;empty&quot;,\n                             CONSTRAINT pk_connections PRIMARY KEY (id_projection , id_seat ) /*sta stavit posto je slozeni kljuc*/\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20501264,"reputation":47,"user_id":15045151,"display_name":"Deni Bakulić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645185231,"creation_date":1645185231,"answer_id":71173058,"question_id":71142042,"body_markdown":"While trying to set up a new project I saw that for mysql dialect I accidently put MySQL8Dialect instead of 5 and mysql doesn&#39;t support using column definition in entities.","title":"Java MySql databse creation","body":"<p>While trying to set up a new project I saw that for mysql dialect I accidently put MySQL8Dialect instead of 5 and mysql doesn't support using column definition in entities.</p>\n"}],"owner":{"account_id":20501264,"reputation":47,"user_id":15045151,"display_name":"Deni Bakulić"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71173058,"answer_count":2,"score":0,"last_activity_date":1645185231,"creation_date":1645015146,"question_id":71142042,"body_markdown":"I am making a small online cinema ticket shop for university. Using springboot, java and mysql.\r\nI have a problem with the initial database creation. I will put all the code below. The problem I have is with creating table users. I can&#39;t spot the mistake since the table is the same as the others. Another problem I have is that I&#39;m using a composite key in one of my tables so that table and the related ones aren&#39;t altering as should.\r\n\r\n    CREATE TABLE users (\r\n                              user_id CHAR (50) NOT NULL,\r\n                              fullname CHAR (50) NOT NULL,\r\n                              email VARCHAR (50) NOT NULL ,\r\n                              username VARCHAR (25) NOT NULL,\r\n                              password VARCHAR (25) NOT NULL ,\r\n                              permission INTEGER DEFAULT 0,\r\n                              CONSTRAINT pk_users PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE seats (\r\n                               seat_id CHAR (50) NOT NULL,\r\n                               seat_number INTEGER NOT NULL,\r\n                               seat_letter CHAR (5) NOT NULL,\r\n                               CONSTRAINT pk_seats PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE theaters (\r\n                               theater_id CHAR (50) NOT NULL,\r\n                               name VARCHAR(50) NOT NULL,\r\n                               location VARCHAR(50) NOT NULL,\r\n                               number_of_halls INTEGER NOT NULL,\r\n                               CONSTRAINT pk_theaters PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE movies (\r\n                             movie_id CHAR (50) NOT NULL,\r\n                             name CHAR (50) NOT NULL,\r\n                             description VARCHAR (120)  NULL,\r\n                             length VARCHAR (25) NOT NULL,\r\n                             CONSTRAINT pk_movies PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE tickets (\r\n                          ticket_id CHAR (50) NOT NULL,\r\n                          reserve_or_buy CHAR (25) NOT NULL,\r\n                          id_user CHAR (50) NOT NULL,\r\n                          seat_projection_connection CHAR (50) NULL,/*kako dupli kljuc zapisat*/\r\n                          CONSTRAINT pk_tickets PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE halls (\r\n                                    hall_id  CHAR (50) NOT NULL,\r\n                                    name CHAR NULL,\r\n                                    number_of_seats INTEGER NULL,\r\n                                    description VARCHAR (120) NULL,\r\n                                    id_theater CHAR (50) NOT NULL ,\r\n                                    CONSTRAINT pk_halls PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE projections (\r\n                           projection_id CHAR (50) NOT NULL,\r\n                           date CHAR (25) NOT NULL,\r\n                           start_time CHAR (25) NOT NULL ,\r\n                           id_hall CHAR (50) NOT NULL ,\r\n                           id_movie CHAR (50) NOT NULL ,\r\n                           CONSTRAINT pk_projections PRIMARY KEY (id)\r\n    );\r\n    \r\n    CREATE TABLE connections (\r\n                                 id CHAR (50) NOT NULL ,\r\n                                 id_projection CHAR (50) NOT NULL,\r\n                                 id_seat CHAR (50) NOT NULL,\r\n                                 id_ticket CHAR (50) NOT NULL,\r\n                                 status CHAR (25) NOT NULL DEFAULT &quot;empty&quot;,\r\n                                 CONSTRAINT pk_connections PRIMARY KEY (projection_id, seat_id) /*sta stavit posto je slozeni kljuc*/\r\n    );\r\n    \r\n    ALTER TABLE users ADD CONSTRAINT uc_users_username UNIQUE (username);\r\n    \r\n    ALTER TABLE users ADD CONSTRAINT uc_users_email UNIQUE (email);\r\n    \r\n    ALTER TABLE tickets ADD CONSTRAINT FK_USER_ON_TICKETS FOREIGN KEY (id_user) REFERENCES tickets (ticket_id);\r\n    \r\n    ALTER TABLE halls ADD CONSTRAINT FK_THEATER_ON_HALL FOREIGN KEY (id_theater) REFERENCES halls (hall_id);\r\n    \r\n    ALTER TABLE projections ADD CONSTRAINT FK_HALL_ON_PROJECTION FOREIGN KEY (id_hall) REFERENCES projections (projection_id);\r\n    \r\n    ALTER TABLE projections ADD CONSTRAINT FK_MOVIE_ON_PROJECTION FOREIGN KEY (id_movie) REFERENCES projections (projection_id);\r\n    \r\n    ALTER TABLE connections ADD CONSTRAINT fk_CONNECTION_ON_PROJECTION FOREIGN KEY (id_projection) REFERENCES projections (projection_id);\r\n    \r\n    ALTER TABLE connections ADD CONSTRAINT FK_CONNECTION_ON_SEAT FOREIGN KEY (id_seat) REFERENCES seats (seat_id);\r\n    \r\n    ALTER TABLE connections ADD CONSTRAINT FK_TICKET_ON_CONNECTION FOREIGN KEY (id_ticket) REFERENCES tickets (ticket_id);\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private UUID userId;\r\n    \r\n        @Column(name = &quot;fullname&quot;,nullable = false)\r\n        private String fullName;\r\n    \r\n        @Column(name = &quot;email&quot;, nullable = false)\r\n        private String email;\r\n    \r\n        @Column(name =&quot;username&quot;, nullable = false )\r\n        private String username;\r\n    \r\n        @Column(name = &quot;password&quot;, nullable = false)\r\n        private String password;\r\n    \r\n        @Column(nullable = false, columnDefinition = &quot;0&quot;)\r\n        private Integer permission;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Ticket&gt; ticketList;\r\n    \r\n    \r\n    }\r\n  \r\n    \r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;tickets&quot;)\r\n    public class Ticket {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private UUID ticketId;\r\n    \r\n        @Column(name = &quot;status&quot;, nullable = false)\r\n        private String reserveOrBuy;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idUser&quot;)\r\n        private User user;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;seat&quot;),\r\n                @JoinColumn(name = &quot;projection&quot;)\r\n        })\r\n        private SeatProjectionConnection seatProjectionConnection;\r\n    }\r\n\r\n  \r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;projections&quot;)\r\n    public class Projection {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private UUID projectionId;\r\n    \r\n        @Column(name = &quot;date&quot;, nullable = false)\r\n        private String date;\r\n    \r\n        @Column(name = &quot;startTime&quot;, nullable = false)\r\n        private String startTime;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idHall&quot;)\r\n        private Hall hall;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idMovie&quot;)\r\n        private Movie movie;\r\n    \r\n        @OneToMany(mappedBy = &quot;projection&quot;)\r\n        List&lt;SeatProjectionConnection&gt; seatList;\r\n    \r\n    }\r\n\r\n  \r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;seats&quot;)\r\n    public class Seat {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;Id&quot;)\r\n        private long seatId;\r\n    \r\n        @Column(name = &quot;seatNumber&quot;, nullable = false)\r\n        private Integer seatNumber;\r\n    \r\n        @Column(name = &quot;seatLetter&quot;, nullable = false)\r\n        private String seatLetter;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;seat&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;SeatProjectionConnection&gt; projectionList;\r\n    \r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;connections&quot;)\r\n    public class SeatProjectionConnection{\r\n    \r\n        @EmbeddedId\r\n        private ConnectionKey id;\r\n    \r\n        @ManyToOne\r\n        @MapsId(&quot;projectionId&quot;)\r\n        @JoinColumn(name = &quot;idProjection&quot;)\r\n        private Projection projection;\r\n    \r\n        @ManyToOne\r\n        @MapsId(&quot;seatId&quot;)\r\n        @JoinColumn(name = &quot;idSeat&quot;)\r\n        private Seat seat;\r\n    \r\n        @OneToOne(mappedBy = &quot;seatProjectionConnection&quot;)\r\n        private Ticket ticket;\r\n    \r\n        @Column(name = &quot;status&quot;, nullable = false, columnDefinition = &quot;empty&quot;)\r\n        private String status;\r\n\r\n}\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Embeddable\r\n    public class ConnectionKey  implements Serializable {\r\n    \r\n        @Column(name = &quot;projectionId&quot;)\r\n        UUID projectionId;\r\n    \r\n        @Column(name = &quot;seatId&quot;)\r\n        Long seatId;\r\n    }\r\n\r\n","title":"Java MySql databse creation","body":"<p>I am making a small online cinema ticket shop for university. Using springboot, java and mysql.\nI have a problem with the initial database creation. I will put all the code below. The problem I have is with creating table users. I can't spot the mistake since the table is the same as the others. Another problem I have is that I'm using a composite key in one of my tables so that table and the related ones aren't altering as should.</p>\n<pre><code>CREATE TABLE users (\n                          user_id CHAR (50) NOT NULL,\n                          fullname CHAR (50) NOT NULL,\n                          email VARCHAR (50) NOT NULL ,\n                          username VARCHAR (25) NOT NULL,\n                          password VARCHAR (25) NOT NULL ,\n                          permission INTEGER DEFAULT 0,\n                          CONSTRAINT pk_users PRIMARY KEY (id)\n);\n\nCREATE TABLE seats (\n                           seat_id CHAR (50) NOT NULL,\n                           seat_number INTEGER NOT NULL,\n                           seat_letter CHAR (5) NOT NULL,\n                           CONSTRAINT pk_seats PRIMARY KEY (id)\n);\n\nCREATE TABLE theaters (\n                           theater_id CHAR (50) NOT NULL,\n                           name VARCHAR(50) NOT NULL,\n                           location VARCHAR(50) NOT NULL,\n                           number_of_halls INTEGER NOT NULL,\n                           CONSTRAINT pk_theaters PRIMARY KEY (id)\n);\n\nCREATE TABLE movies (\n                         movie_id CHAR (50) NOT NULL,\n                         name CHAR (50) NOT NULL,\n                         description VARCHAR (120)  NULL,\n                         length VARCHAR (25) NOT NULL,\n                         CONSTRAINT pk_movies PRIMARY KEY (id)\n);\n\nCREATE TABLE tickets (\n                      ticket_id CHAR (50) NOT NULL,\n                      reserve_or_buy CHAR (25) NOT NULL,\n                      id_user CHAR (50) NOT NULL,\n                      seat_projection_connection CHAR (50) NULL,/*kako dupli kljuc zapisat*/\n                      CONSTRAINT pk_tickets PRIMARY KEY (id)\n);\n\nCREATE TABLE halls (\n                                hall_id  CHAR (50) NOT NULL,\n                                name CHAR NULL,\n                                number_of_seats INTEGER NULL,\n                                description VARCHAR (120) NULL,\n                                id_theater CHAR (50) NOT NULL ,\n                                CONSTRAINT pk_halls PRIMARY KEY (id)\n);\n\nCREATE TABLE projections (\n                       projection_id CHAR (50) NOT NULL,\n                       date CHAR (25) NOT NULL,\n                       start_time CHAR (25) NOT NULL ,\n                       id_hall CHAR (50) NOT NULL ,\n                       id_movie CHAR (50) NOT NULL ,\n                       CONSTRAINT pk_projections PRIMARY KEY (id)\n);\n\nCREATE TABLE connections (\n                             id CHAR (50) NOT NULL ,\n                             id_projection CHAR (50) NOT NULL,\n                             id_seat CHAR (50) NOT NULL,\n                             id_ticket CHAR (50) NOT NULL,\n                             status CHAR (25) NOT NULL DEFAULT &quot;empty&quot;,\n                             CONSTRAINT pk_connections PRIMARY KEY (projection_id, seat_id) /*sta stavit posto je slozeni kljuc*/\n);\n\nALTER TABLE users ADD CONSTRAINT uc_users_username UNIQUE (username);\n\nALTER TABLE users ADD CONSTRAINT uc_users_email UNIQUE (email);\n\nALTER TABLE tickets ADD CONSTRAINT FK_USER_ON_TICKETS FOREIGN KEY (id_user) REFERENCES tickets (ticket_id);\n\nALTER TABLE halls ADD CONSTRAINT FK_THEATER_ON_HALL FOREIGN KEY (id_theater) REFERENCES halls (hall_id);\n\nALTER TABLE projections ADD CONSTRAINT FK_HALL_ON_PROJECTION FOREIGN KEY (id_hall) REFERENCES projections (projection_id);\n\nALTER TABLE projections ADD CONSTRAINT FK_MOVIE_ON_PROJECTION FOREIGN KEY (id_movie) REFERENCES projections (projection_id);\n\nALTER TABLE connections ADD CONSTRAINT fk_CONNECTION_ON_PROJECTION FOREIGN KEY (id_projection) REFERENCES projections (projection_id);\n\nALTER TABLE connections ADD CONSTRAINT FK_CONNECTION_ON_SEAT FOREIGN KEY (id_seat) REFERENCES seats (seat_id);\n\nALTER TABLE connections ADD CONSTRAINT FK_TICKET_ON_CONNECTION FOREIGN KEY (id_ticket) REFERENCES tickets (ticket_id);\n\n\n@Entity\n@Table(name = &quot;users&quot;)\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID userId;\n\n    @Column(name = &quot;fullname&quot;,nullable = false)\n    private String fullName;\n\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name =&quot;username&quot;, nullable = false )\n    private String username;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(nullable = false, columnDefinition = &quot;0&quot;)\n    private Integer permission;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;Ticket&gt; ticketList;\n\n\n}\n\n\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;tickets&quot;)\npublic class Ticket {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID ticketId;\n\n    @Column(name = &quot;status&quot;, nullable = false)\n    private String reserveOrBuy;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;idUser&quot;)\n    private User user;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumns({\n            @JoinColumn(name = &quot;seat&quot;),\n            @JoinColumn(name = &quot;projection&quot;)\n    })\n    private SeatProjectionConnection seatProjectionConnection;\n}\n\n\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;projections&quot;)\npublic class Projection {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID projectionId;\n\n    @Column(name = &quot;date&quot;, nullable = false)\n    private String date;\n\n    @Column(name = &quot;startTime&quot;, nullable = false)\n    private String startTime;\n\n    @JsonBackReference\n    @ManyToOne\n    @JoinColumn(name = &quot;idHall&quot;)\n    private Hall hall;\n\n    @JsonBackReference\n    @ManyToOne\n    @JoinColumn(name = &quot;idMovie&quot;)\n    private Movie movie;\n\n    @OneToMany(mappedBy = &quot;projection&quot;)\n    List&lt;SeatProjectionConnection&gt; seatList;\n\n}\n\n\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;seats&quot;)\npublic class Seat {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;Id&quot;)\n    private long seatId;\n\n    @Column(name = &quot;seatNumber&quot;, nullable = false)\n    private Integer seatNumber;\n\n    @Column(name = &quot;seatLetter&quot;, nullable = false)\n    private String seatLetter;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;seat&quot;, cascade = CascadeType.ALL)\n    private List&lt;SeatProjectionConnection&gt; projectionList;\n\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;connections&quot;)\npublic class SeatProjectionConnection{\n\n    @EmbeddedId\n    private ConnectionKey id;\n\n    @ManyToOne\n    @MapsId(&quot;projectionId&quot;)\n    @JoinColumn(name = &quot;idProjection&quot;)\n    private Projection projection;\n\n    @ManyToOne\n    @MapsId(&quot;seatId&quot;)\n    @JoinColumn(name = &quot;idSeat&quot;)\n    private Seat seat;\n\n    @OneToOne(mappedBy = &quot;seatProjectionConnection&quot;)\n    private Ticket ticket;\n\n    @Column(name = &quot;status&quot;, nullable = false, columnDefinition = &quot;empty&quot;)\n    private String status;\n</code></pre>\n<p>}</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Embeddable\npublic class ConnectionKey  implements Serializable {\n\n    @Column(name = &quot;projectionId&quot;)\n    UUID projectionId;\n\n    @Column(name = &quot;seatId&quot;)\n    Long seatId;\n}\n</code></pre>\n"},{"tags":["java","airflow","google-cloud-dataflow","google-cloud-composer"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1643708253,"post_id":70912125,"comment_id":125405537,"body_markdown":"You can refer to this [document](https://github.com/GoogleCloudPlatform/DataflowTemplates) for various dataflow template files and stage the template file. Check this [document](https://cloud.google.com/dataflow/docs/guides/templates/provided-templates) to specify the correct parameters for respective templates. You can create a task within your DAG using the Airflow’s [DataflowTemplatedJobStartOperator](https://airflow.apache.org/docs/apache-airflow-providers-google/stable/_api/airflow/providers/google/cloud/operators/dataflow/index.html). Please let me know if it’s helpful.","body":"You can refer to this <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates\" rel=\"nofollow noreferrer\">document</a> for various dataflow template files and stage the template file. Check this <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/provided-templates\" rel=\"nofollow noreferrer\">document</a> to specify the correct parameters for respective templates. You can create a task within your DAG using the Airflow’s <a href=\"https://airflow.apache.org/docs/apache-airflow-providers-google/stable/_api/airflow/providers/google/cloud/operators/dataflow/index.html\" rel=\"nofollow noreferrer\">DataflowTemplatedJobStartOperator</a>. Please let me know if it’s helpful."},{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1646661175,"post_id":70912125,"comment_id":126171625,"body_markdown":"Hi @recyclinguy, If my answer addressed your question, please consider accepting and upvoting it. If not, let me know so that I can improve the answer.","body":"Hi @recyclinguy, If my answer addressed your question, please consider accepting and upvoting it. If not, let me know so that I can improve the answer."}],"answers":[{"tags":[],"owner":{"account_id":19325647,"reputation":99,"user_id":14128359,"display_name":"recyclinguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644066177,"creation_date":1644065734,"answer_id":70998230,"question_id":70912125,"body_markdown":"I created the  Template File from bitbucket repo and created the template in GCS.\r\n\r\n    mvn compile exec:java \\\r\n    -Dexec.mainClass=com.google.cloud.teleport.templates.&lt;template-class&gt; \\\r\n    -Dexec.cleanupDaemonThreads=false \\\r\n    -Dexec.args=&quot; \\\r\n    --project=&lt;project-id&gt; \\\r\n    --stagingLocation=gs://&lt;bucket-name&gt;/staging \\\r\n    --tempLocation=gs://&lt;bucket-name&gt;/temp \\\r\n    --templateLocation=gs://&lt;bucket-name&gt;/templates/&lt;template-name&gt;.json \\\r\n    --runner=DataflowRunner&quot;\r\n\r\n\r\n\r\nMaven  also required extra parameters to create the template .\r\n\r\nQuestion - Do I need to  Create  json file for passing parameters to template  - ( ie via Create a separate folder  in the template location ) . I think I will be duplicating the parameters again in json file\r\n\r\nhow do i  to  call the json file in dataflow operator- What goes in  parameter\r\n\r\n    DataflowTemplatedJobStartOperator\r\n    \r\n    task_id=&quot;start_job&quot;,\r\n    template=&#39;gs://template location&#39;, \r\n    parameters={ what should be the  parameters ? should it point to \r\n               json file},\r\n    location= xxx\r\n\r\nAnother question I have is - When we deploy to upper environment especially UAT and PROD, we are not allow to run the pipeline until the allocated schedule time arrives.\r\nSo the question is, Is that possible to run MVN just to package and send the jar file to the staging without running the pipeline \r\n\r\nRegards","title":"Creating dataflow classic template to orchestrate the job via DataflowflowTemplatedJobOperator","body":"<p>I created the  Template File from bitbucket repo and created the template in GCS.</p>\n<pre><code>mvn compile exec:java \\\n-Dexec.mainClass=com.google.cloud.teleport.templates.&lt;template-class&gt; \\\n-Dexec.cleanupDaemonThreads=false \\\n-Dexec.args=&quot; \\\n--project=&lt;project-id&gt; \\\n--stagingLocation=gs://&lt;bucket-name&gt;/staging \\\n--tempLocation=gs://&lt;bucket-name&gt;/temp \\\n--templateLocation=gs://&lt;bucket-name&gt;/templates/&lt;template-name&gt;.json \\\n--runner=DataflowRunner&quot;\n</code></pre>\n<p>Maven  also required extra parameters to create the template .</p>\n<p>Question - Do I need to  Create  json file for passing parameters to template  - ( ie via Create a separate folder  in the template location ) . I think I will be duplicating the parameters again in json file</p>\n<p>how do i  to  call the json file in dataflow operator- What goes in  parameter</p>\n<pre><code>DataflowTemplatedJobStartOperator\n\ntask_id=&quot;start_job&quot;,\ntemplate='gs://template location', \nparameters={ what should be the  parameters ? should it point to \n           json file},\nlocation= xxx\n</code></pre>\n<p>Another question I have is - When we deploy to upper environment especially UAT and PROD, we are not allow to run the pipeline until the allocated schedule time arrives.\nSo the question is, Is that possible to run MVN just to package and send the jar file to the staging without running the pipeline</p>\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645184923,"creation_date":1645184923,"answer_id":71172993,"question_id":70912125,"body_markdown":"You can follow this [quickstart](https://cloud.google.com/dataflow/docs/quickstarts/quickstart-java-maven) to deploy Dataflow classic template using mvn compile\r\n\r\nYou don’t have to store parameters in the json file, you can add  parameters as given below using DataflowTemplatedJobStartOperator. For more information you can refer to this [document](https://airflow.apache.org/docs/apache-airflow-providers-google/stable/operators/cloud/dataflow.html#howto-operator-dataflowtemplatedjobstartoperator).\r\n\r\n    start_template_job = DataflowTemplatedJobStartOperator(\r\n        task_id=&quot;start-template-job&quot;,\r\n        template=&#39;gs://dataflow-templates/latest/Word_Count&#39;,\r\n        parameters={&#39;inputFile&#39;: &quot;gs://dataflow-samples/shakespeare/kinglear.txt&quot;, &#39;output&#39;: GCS_OUTPUT},\r\n        location=&#39;europe-west3&#39;,\r\n    )\r\n\r\nIt is not possible to run MVN just to package and send the jar file to the staging without running the pipeline.\r\n","title":"Creating dataflow classic template to orchestrate the job via DataflowflowTemplatedJobOperator","body":"<p>You can follow this <a href=\"https://cloud.google.com/dataflow/docs/quickstarts/quickstart-java-maven\" rel=\"nofollow noreferrer\">quickstart</a> to deploy Dataflow classic template using mvn compile</p>\n<p>You don’t have to store parameters in the json file, you can add  parameters as given below using DataflowTemplatedJobStartOperator. For more information you can refer to this <a href=\"https://airflow.apache.org/docs/apache-airflow-providers-google/stable/operators/cloud/dataflow.html#howto-operator-dataflowtemplatedjobstartoperator\" rel=\"nofollow noreferrer\">document</a>.</p>\n<pre><code>start_template_job = DataflowTemplatedJobStartOperator(\n    task_id=&quot;start-template-job&quot;,\n    template='gs://dataflow-templates/latest/Word_Count',\n    parameters={'inputFile': &quot;gs://dataflow-samples/shakespeare/kinglear.txt&quot;, 'output': GCS_OUTPUT},\n    location='europe-west3',\n)\n</code></pre>\n<p>It is not possible to run MVN just to package and send the jar file to the staging without running the pipeline.</p>\n"}],"owner":{"account_id":19325647,"reputation":99,"user_id":14128359,"display_name":"recyclinguy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645184923,"creation_date":1643521003,"question_id":70912125,"body_markdown":"I am trying to create and stage Dataflow Classic template . Following the document in the link provided below -\r\n\r\nhttps://cloud.google.com/dataflow/docs/guides/templates/creating-templates#java_8 .\r\n\r\n&gt; ***mvn compile exec:java \\  -Dexec.mainClass=com.example.myclass \\  -Dexec.args=&quot;--runner=DataflowRunner \\  --project=PROJECT_ID \\   --stagingLocation=gs://BUCKET_NAME/staging \\   --templateLocation=gs://BUCKET_NAME/templates/TEMPLATE_NAME   --region=REGION&quot;***\r\n\r\n\r\n\r\nComposer\r\n\r\n  \r\n\r\n&gt; ***start_job = DataflowTemplatedJobStartOperator(\r\n&gt;        task_id=&quot;start_job&quot;,\r\n&gt;        template=&#39;gs://bucket/latest/job1&#39;,\r\n&gt;        parameters={&#39;inputFile&#39;: API END POINT, &#39;output&#39;: \r\n&gt;                 GCS_OUTPUT},\r\n&gt;        location=&#39;REGION&#39;,***\r\n\r\n        \r\n\r\nMy understanding is first I will have to use maven compile and  deploy the template and  next use json type for passing the parameters to Dataflow templated operator\r\n\r\nI am not sure how the parameters and template has to be created . I have manually created dataflow jar file and deployed it to GCS bucket in the past. From the document it looks like the maven compile has to be used to compile and deploy the template and pass the parameter to the job with dataflow java operator .But now with the new design I suppose I have to pass the parameter via Dataflow Templated Job Start Operator.\r\n\r\nHas anyone used the Templated method to orchestrate custom Java dataflow job and if yes how is the json file used to pass the arguments. Any example will be very helpful . Currently I am compiling the binary from my local machine and uploading it on bucket.\r\n\r\nAppreciate any suggestion to solve the issue.\r\n\r\nRegards\r\n\r\n \r\n\r\n","title":"Creating dataflow classic template to orchestrate the job via DataflowflowTemplatedJobOperator","body":"<p>I am trying to create and stage Dataflow Classic template . Following the document in the link provided below -</p>\n<p><a href=\"https://cloud.google.com/dataflow/docs/guides/templates/creating-templates#java_8\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/templates/creating-templates#java_8</a> .</p>\n<blockquote>\n<p><em><strong>mvn compile exec:java \\  -Dexec.mainClass=com.example.myclass \\  -Dexec.args=&quot;--runner=DataflowRunner \\  --project=PROJECT_ID \\   --stagingLocation=gs://BUCKET_NAME/staging \\   --templateLocation=gs://BUCKET_NAME/templates/TEMPLATE_NAME   --region=REGION&quot;</strong></em></p>\n</blockquote>\n<p>Composer</p>\n<blockquote>\n<p><em><strong>start_job = DataflowTemplatedJobStartOperator(\ntask_id=&quot;start_job&quot;,\ntemplate='gs://bucket/latest/job1',\nparameters={'inputFile': API END POINT, 'output':\nGCS_OUTPUT},\nlocation='REGION',</strong></em></p>\n</blockquote>\n<p>My understanding is first I will have to use maven compile and  deploy the template and  next use json type for passing the parameters to Dataflow templated operator</p>\n<p>I am not sure how the parameters and template has to be created . I have manually created dataflow jar file and deployed it to GCS bucket in the past. From the document it looks like the maven compile has to be used to compile and deploy the template and pass the parameter to the job with dataflow java operator .But now with the new design I suppose I have to pass the parameter via Dataflow Templated Job Start Operator.</p>\n<p>Has anyone used the Templated method to orchestrate custom Java dataflow job and if yes how is the json file used to pass the arguments. Any example will be very helpful . Currently I am compiling the binary from my local machine and uploading it on bucket.</p>\n<p>Appreciate any suggestion to solve the issue.</p>\n<p>Regards</p>\n"},{"tags":["java","arrays","methods","nested","overriding"],"answers":[{"tags":[],"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645180498,"creation_date":1645180498,"answer_id":71172014,"question_id":71171079,"body_markdown":"the method inrange is never called.\r\n\r\nthere is a difference between declaring a method and using it.\r\n\r\nin your case you declared a method inrange that at the moment will always return false but I assume later on you plan to make it do the comparison.\r\n\r\nyou have to actually call it to use it. after\r\n\r\n    num3 = sc.nextInt();\r\n    \r\nyou can add\r\n\r\n    boolean result = inrange(num1, num2, num3);\r\n\r\n\r\nso I think where you are going wrong is thinking that declaring inrange with num1, num2, num3 as the same names as the variables are named creates a link. it does not. You can actually name them differently\r\n\r\n    public static boolean inrange(int first, int second, int third) {\r\n        // implementation goes here\r\n        return false;\r\n    }\r\n\r\nand call them with\r\n\r\n    num3 = sc.nextInt();\r\n    inrange(num1, num2, num3);\r\n\r\nand num1 will be put into the variable first, num2 will be put into the variable second.\r\n\r\nthe parameternames for inrange are only important for the duration of the inrange method. They get created as little containers in which you can dump the values you want to work with and inside the { } of the inrange method they are available but outside of the method they will not be visible. so you can actually have multiple methods use the same variable names but they don&#39;t overlap/get in eachothers way.\r\n\r\n    public static int add3(int number) {\r\n        return number + 3;\r\n    }\r\n  \r\n    public static int sub3(int number) {\r\n        return number - 3;\r\n    }\r\n\r\n    int age = 5;\r\n    // when you call these:\r\n    System.out.println(add3(age)); // prints 8\r\n    System.out.println(sub3(age)); // prints 2\r\n\r\nIn the beginning when you are learning it might be easy to view variables as boxes that you put values into. when you call a method you drop the contents of the age bucket(which contains 5) into the &#39;number&#39; bucket of the add3 method. then you start the machine. similarly when you call the sub3 method (which is separate entirely) you dump the value of the bucket (which is still 5) into the number bucket of sub3. \r\n\r\nwhatever label is on the bucket only matters inside the { } that they are attached to. in the case of your inrange it is the inrange method block. In the case of the variables inside main it is the main method block. ","title":"is between range the last lines of codes cannot be executed why?","body":"<p>the method inrange is never called.</p>\n<p>there is a difference between declaring a method and using it.</p>\n<p>in your case you declared a method inrange that at the moment will always return false but I assume later on you plan to make it do the comparison.</p>\n<p>you have to actually call it to use it. after</p>\n<pre><code>num3 = sc.nextInt();\n</code></pre>\n<p>you can add</p>\n<pre><code>boolean result = inrange(num1, num2, num3);\n</code></pre>\n<p>so I think where you are going wrong is thinking that declaring inrange with num1, num2, num3 as the same names as the variables are named creates a link. it does not. You can actually name them differently</p>\n<pre><code>public static boolean inrange(int first, int second, int third) {\n    // implementation goes here\n    return false;\n}\n</code></pre>\n<p>and call them with</p>\n<pre><code>num3 = sc.nextInt();\ninrange(num1, num2, num3);\n</code></pre>\n<p>and num1 will be put into the variable first, num2 will be put into the variable second.</p>\n<p>the parameternames for inrange are only important for the duration of the inrange method. They get created as little containers in which you can dump the values you want to work with and inside the { } of the inrange method they are available but outside of the method they will not be visible. so you can actually have multiple methods use the same variable names but they don't overlap/get in eachothers way.</p>\n<pre><code>public static int add3(int number) {\n    return number + 3;\n}\n\npublic static int sub3(int number) {\n    return number - 3;\n}\n\nint age = 5;\n// when you call these:\nSystem.out.println(add3(age)); // prints 8\nSystem.out.println(sub3(age)); // prints 2\n</code></pre>\n<p>In the beginning when you are learning it might be easy to view variables as boxes that you put values into. when you call a method you drop the contents of the age bucket(which contains 5) into the 'number' bucket of the add3 method. then you start the machine. similarly when you call the sub3 method (which is separate entirely) you dump the value of the bucket (which is still 5) into the number bucket of sub3.</p>\n<p>whatever label is on the bucket only matters inside the { } that they are attached to. in the case of your inrange it is the inrange method block. In the case of the variables inside main it is the main method block.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645180845,"creation_date":1645180845,"answer_id":71172095,"question_id":71171079,"body_markdown":"In addition to not calling `inrange`, its implementation is incorrect.\r\n```\r\npublic static boolean inrange(int num1,int num2,int num3) {\r\n        boolean inrange = false;\r\n        if (num2 &lt; num1 );\r\n        if (num2 &gt; num3);\r\n        return inrange;\r\n}\r\n```\r\n\r\nYour `if` statements do nothing, because they do not contain a statement.\r\n\r\nAn if statement can be written:\r\n```\r\nif (x == 1)\r\n   System.out.println(&quot;true&quot;);\r\n```\r\nSo the body of the if statement is a single statement.\r\n\r\nThat is *not* the same as:\r\n```\r\nif (x == 1);\r\n   System.out.println(&quot;true&quot;);\r\n```\r\nWhere the extra `;` gives the if statement an *empty* body. The println will always be executed in this case.\r\n\r\nBecause this can be tricky to get right, you should always write an if statement (or while, for etc.) with a block for a body:\r\n\r\n```\r\nif (x == 1) {\r\n   System.out.println(&quot;true&quot;);\r\n}\r\n```","title":"is between range the last lines of codes cannot be executed why?","body":"<p>In addition to not calling <code>inrange</code>, its implementation is incorrect.</p>\n<pre><code>public static boolean inrange(int num1,int num2,int num3) {\n        boolean inrange = false;\n        if (num2 &lt; num1 );\n        if (num2 &gt; num3);\n        return inrange;\n}\n</code></pre>\n<p>Your <code>if</code> statements do nothing, because they do not contain a statement.</p>\n<p>An if statement can be written:</p>\n<pre><code>if (x == 1)\n   System.out.println(&quot;true&quot;);\n</code></pre>\n<p>So the body of the if statement is a single statement.</p>\n<p>That is <em>not</em> the same as:</p>\n<pre><code>if (x == 1);\n   System.out.println(&quot;true&quot;);\n</code></pre>\n<p>Where the extra <code>;</code> gives the if statement an <em>empty</em> body. The println will always be executed in this case.</p>\n<p>Because this can be tricky to get right, you should always write an if statement (or while, for etc.) with a block for a body:</p>\n<pre><code>if (x == 1) {\n   System.out.println(&quot;true&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24154391,"reputation":26,"user_id":18118811,"display_name":"Gopal Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645184109,"creation_date":1645184109,"answer_id":71172807,"question_id":71171079,"body_markdown":"you have writen the wrong code,\r\nright implementation is:    \r\n\r\n    public static void main(String[] args) {\r\n    int num1 = 0;\r\n    int num2 = 0;\r\n    int num3 = 0;\r\n    boolean valid = true;\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.print(&quot;Please enter the low number:&quot;);\r\n    num1 = sc.nextInt();\r\n    \r\n    System.out.print(&quot;Please enter the number to be tested (the between number):&quot;);\r\n    num2 = sc.nextInt();\r\n    \r\n    System.out.print(&quot;Please enter the high number:&quot;);\r\n    num3 = sc.nextInt();\r\n    System.out.println(inrange(num1,num2,num3);}\r\n     public static boolean inrange(int num1,int num2,int num3) {\r\n        \r\n        if (num2 &gt; num1 &amp;&amp; num2 &lt; num3);\r\n              return true;\r\n        return false;}\r\n\r\n\r\n   ","title":"is between range the last lines of codes cannot be executed why?","body":"<p>you have writen the wrong code,\nright implementation is:</p>\n<pre><code>public static void main(String[] args) {\nint num1 = 0;\nint num2 = 0;\nint num3 = 0;\nboolean valid = true;\nScanner sc = new Scanner(System.in);\nSystem.out.print(&quot;Please enter the low number:&quot;);\nnum1 = sc.nextInt();\n\nSystem.out.print(&quot;Please enter the number to be tested (the between number):&quot;);\nnum2 = sc.nextInt();\n\nSystem.out.print(&quot;Please enter the high number:&quot;);\nnum3 = sc.nextInt();\nSystem.out.println(inrange(num1,num2,num3);}\n public static boolean inrange(int num1,int num2,int num3) {\n    \n    if (num2 &gt; num1 &amp;&amp; num2 &lt; num3);\n          return true;\n    return false;}\n</code></pre>\n"}],"owner":{"account_id":24098939,"reputation":1,"user_id":18071034,"display_name":"Archibald Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1645184109,"creation_date":1645176279,"question_id":71171079,"body_markdown":"package week7;\r\n\r\nimport java.util.Scanner;\r\npublic class IsBetween {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint num1 = 0;\r\n\t\tint num2 = 0;\r\n\t\tint num3 = 0;\r\n\t\tboolean valid = true;\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Please enter the low number:&quot;);\r\n\t\tnum1 = sc.nextInt();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the number to be tested (the between number):&quot;);\r\n\t\tnum2 = sc.nextInt();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the high number:&quot;);\r\n\t\tnum3 = sc.nextInt();\r\n\t}\r\n\t\tpublic static boolean inrange(int num1,int num2,int num3) {\r\n\t\t\tboolean inrange = false;\r\n\t\t\tif (num2 &lt; num1 );\r\n\t\t\tif (num2 &gt; num3);\r\n\t\t\treturn inrange;\r\nthe last codes do not execute why?","title":"is between range the last lines of codes cannot be executed why?","body":"<p>package week7;</p>\n<p>import java.util.Scanner;\npublic class IsBetween {</p>\n<pre><code>public static void main(String[] args) {\n    int num1 = 0;\n    int num2 = 0;\n    int num3 = 0;\n    boolean valid = true;\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Please enter the low number:&quot;);\n    num1 = sc.nextInt();\n    \n    System.out.print(&quot;Please enter the number to be tested (the between number):&quot;);\n    num2 = sc.nextInt();\n    \n    System.out.print(&quot;Please enter the high number:&quot;);\n    num3 = sc.nextInt();\n}\n    public static boolean inrange(int num1,int num2,int num3) {\n        boolean inrange = false;\n        if (num2 &lt; num1 );\n        if (num2 &gt; num3);\n        return inrange;\n</code></pre>\n<p>the last codes do not execute why?</p>\n"},{"tags":["java","android","flutter","gradle"],"comments":[{"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"score":0,"creation_date":1645177791,"post_id":71171274,"comment_id":125807222,"body_markdown":"Are you using Android Studio? Have you tried closing the project and opening it back again? It&#39;s likely that Android Studio just needs to re-index your project.","body":"Are you using Android Studio? Have you tried closing the project and opening it back again? It&#39;s likely that Android Studio just needs to re-index your project."},{"owner":{"display_name":"user16829612"},"score":0,"creation_date":1645178148,"post_id":71171274,"comment_id":125807380,"body_markdown":"@Omatt yes i use android studio. and have done that and i still get the error.","body":"@Omatt yes i use android studio. and have done that and i still get the error."}],"answers":[{"tags":[],"owner":{"account_id":17745868,"reputation":69,"user_id":12885166,"display_name":"Hichem Boutalbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645179751,"creation_date":1645179751,"answer_id":71171878,"question_id":71171274,"body_markdown":"if you changed ```com.android.tools.build:gradle:4.1.0``` with ```com.android.tools.build:gradle:7.0.3``` you also need to change in the same file this : ```ext.kotlin_version = &#39;1.6.10&#39;```\r\n\r\nfind the kotlin version for your gradle version .\r\n\r\n for example gradle:4.1.0 works with kotlin_version = 1.6.10","title":"Could not find gradle-7.0.3.jar","body":"<p>if you changed <code>com.android.tools.build:gradle:4.1.0</code> with <code>com.android.tools.build:gradle:7.0.3</code> you also need to change in the same file this : <code>ext.kotlin_version = '1.6.10'</code></p>\n<p>find the kotlin version for your gradle version .</p>\n<p>for example gradle:4.1.0 works with kotlin_version = 1.6.10</p>\n"},{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645184028,"creation_date":1645184028,"answer_id":71172798,"question_id":71171274,"body_markdown":"From the documentation at https://developer.android.com/studio/releases/gradle-plugin#updating-gradle , you need to add the gradle plugin classpath to your project `build.gradle` at `projectName/android/build.gradle`. And you also need to add google maven `google()` for the repositories. \r\n\r\nSee the following example of project `build.gradle`:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.10&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\nand you also need upgrading the gradle binary to version &gt;= 7.0 like the documentation says\r\n\r\n&gt; You can specify the Gradle version in either the File &gt; Project\r\n&gt; Structure &gt; Project menu in Android Studio, or by editing the Gradle\r\n&gt; distribution reference in the gradle/wrapper/gradle-wrapper.properties\r\n&gt; file. The following example sets the Gradle version to 7.0.0 in the\r\n&gt; gradle-wrapper.properties file.\r\n\r\nGo to `projectName/android/gradle/wrapper` and modified `gradle-wrapper.properties` so it becomes like the following (Remember to change the version to 7.0+):\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\r\n\r\n","title":"Could not find gradle-7.0.3.jar","body":"<p>From the documentation at <a href=\"https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#updating-gradle</a> , you need to add the gradle plugin classpath to your project <code>build.gradle</code> at <code>projectName/android/build.gradle</code>. And you also need to add google maven <code>google()</code> for the repositories.</p>\n<p>See the following example of project <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>and you also need upgrading the gradle binary to version &gt;= 7.0 like the documentation says</p>\n<blockquote>\n<p>You can specify the Gradle version in either the File &gt; Project\nStructure &gt; Project menu in Android Studio, or by editing the Gradle\ndistribution reference in the gradle/wrapper/gradle-wrapper.properties\nfile. The following example sets the Gradle version to 7.0.0 in the\ngradle-wrapper.properties file.</p>\n</blockquote>\n<p>Go to <code>projectName/android/gradle/wrapper</code> and modified <code>gradle-wrapper.properties</code> so it becomes like the following (Remember to change the version to 7.0+):</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\n</code></pre>\n"}],"owner":{"display_name":"user16829612"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645184028,"creation_date":1645177301,"question_id":71171274,"body_markdown":"When I want to run my application I get the following error:\r\n\r\n```\r\n&gt; Could not find gradle-7.0.3.jar (com.android.tools.build:gradle:7.0.3).\r\n     Searched in the following locations:\r\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.0.3/gradle-7.0.3.jar\r\n\r\n```\r\n\r\nso I tried to edit build.gradle and replace\r\n```com.android.tools.build:gradle:4.1.0``` with ```com.android.tools.build:gradle:7.0.3```\r\n\r\nbut I still get this error.","title":"Could not find gradle-7.0.3.jar","body":"<p>When I want to run my application I get the following error:</p>\n<pre><code>&gt; Could not find gradle-7.0.3.jar (com.android.tools.build:gradle:7.0.3).\n     Searched in the following locations:\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.0.3/gradle-7.0.3.jar\n\n</code></pre>\n<p>so I tried to edit build.gradle and replace\n<code>com.android.tools.build:gradle:4.1.0</code> with <code>com.android.tools.build:gradle:7.0.3</code></p>\n<p>but I still get this error.</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645179882,"creation_date":1645179882,"answer_id":71171902,"question_id":71171733,"body_markdown":"No easy way to do it with what you have now. Don&#39;t try to continue. Instead do it the right way and convert the `removeListIds(List&lt;Long&gt; ids)` method into a predicate that rejects the identifiers that are to be removed:\r\n\r\n    public boolean removeId(Long id) {\r\n        // your code here\r\n    }\r\n\r\n    list1.stream()\r\n        .flatMap(mc-&gt;mc.getQuestions().stream())\r\n        .map(Question::getQuestionId)\r\n        .filter(id -&gt; removeId(id)) \r\n        .collect(Collectors.toList());\r\n","title":"How to delete collected data inside the stream in Java?","body":"<p>No easy way to do it with what you have now. Don't try to continue. Instead do it the right way and convert the <code>removeListIds(List&lt;Long&gt; ids)</code> method into a predicate that rejects the identifiers that are to be removed:</p>\n<pre><code>public boolean removeId(Long id) {\n    // your code here\n}\n\nlist1.stream()\n    .flatMap(mc-&gt;mc.getQuestions().stream())\n    .map(Question::getQuestionId)\n    .filter(id -&gt; removeId(id)) \n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18961063,"reputation":28,"user_id":13836568,"display_name":"Mario Biagioni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645183933,"creation_date":1645183933,"answer_id":71172772,"question_id":71171733,"body_markdown":"You can do a filter:\r\n\r\n    list1.stream()\r\n       .flatMap(mc-&gt;mc.getQuestions().stream()                                    \r\n           .map(Question::getQuestionId))\r\n       .filter(x -&gt; !listOfIdToRemove.contains(x))\r\n       .collect(Collectors.toList());","title":"How to delete collected data inside the stream in Java?","body":"<p>You can do a filter:</p>\n<pre><code>list1.stream()\n   .flatMap(mc-&gt;mc.getQuestions().stream()                                    \n       .map(Question::getQuestionId))\n   .filter(x -&gt; !listOfIdToRemove.contains(x))\n   .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645183933,"creation_date":1645179152,"question_id":71171733,"body_markdown":"I have a repository method, that delete list of data (`removeListIds(List&lt;Long&gt; ids`)). The stream after doing his work collects the data. I need to delete this collected data inside the stream, does it possible? \r\n\r\n    list1.stream()\r\n                 .flatMap(mc-&gt;mc.getQuestions().stream()                                    \r\n                 .map(Question::getQuestionId)) .collect(Collectors.toList());\r\n\r\nI tried this:\r\n\r\n       list1.stream()\r\n                     .flatMap(mc-&gt;mc.getQuestions().stream()                                    \r\n                     .map(Question::getQuestionId)) .collect(Collectors.toList()).map(list-&gt;removeListIds(list);\r\n\r\nHow to do it right?","title":"How to delete collected data inside the stream in Java?","body":"<p>I have a repository method, that delete list of data (<code>removeListIds(List&lt;Long&gt; ids</code>)). The stream after doing his work collects the data. I need to delete this collected data inside the stream, does it possible?</p>\n<pre><code>list1.stream()\n             .flatMap(mc-&gt;mc.getQuestions().stream()                                    \n             .map(Question::getQuestionId)) .collect(Collectors.toList());\n</code></pre>\n<p>I tried this:</p>\n<pre><code>   list1.stream()\n                 .flatMap(mc-&gt;mc.getQuestions().stream()                                    \n                 .map(Question::getQuestionId)) .collect(Collectors.toList()).map(list-&gt;removeListIds(list);\n</code></pre>\n<p>How to do it right?</p>\n"},{"tags":["java","java.lang.class"],"comments":[{"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"score":0,"creation_date":1536244563,"post_id":52206414,"comment_id":91362199,"body_markdown":"It sounds like you need to pick up a Beginning Java book that describes the Java basics.","body":"It sounds like you need to pick up a Beginning Java book that describes the Java basics."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1536244597,"post_id":52206414,"comment_id":91362218,"body_markdown":"Welcome to Stack Overflow! Please take the [tour] (you get a badge!), have a look around, and read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask) *&quot;When i was writing code i had to use construction builded in greenfoot which was using parameter described as: java.lang.class where i had to type ClassName.class&quot;* It&#39;s always better to **show** than to **tell**. Show the code you&#39;re confused by, and point out the part that confuses you.","body":"Welcome to Stack Overflow! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> (you get a badge!), have a look around, and read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a> <i>&quot;When i was writing code i had to use construction builded in greenfoot which was using parameter described as: java.lang.class where i had to type ClassName.class&quot;</i> It&#39;s always better to <b>show</b> than to <b>tell</b>. Show the code you&#39;re confused by, and point out the part that confuses you."},{"owner":{"account_id":14282966,"reputation":559,"user_id":10317111,"display_name":"schemaboi"},"score":0,"creation_date":1536245221,"post_id":52206414,"comment_id":91362634,"body_markdown":"@Mike I am actually reading Beginning Java book connected with greenfoot while writing my own code, but it wasn&#39;t any explaination about it, just &quot;you don&#39;t have to know this at this level&quot;","body":"@Mike I am actually reading Beginning Java book connected with greenfoot while writing my own code, but it wasn&#39;t any explaination about it, just &quot;you don&#39;t have to know this at this level&quot;"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1536247978,"post_id":52206414,"comment_id":91364433,"body_markdown":"@schemaboi - Perhaps you should take the author at their word on the &quot;you don&#39;t have to know this at this level&quot; part -- presumably they get to it later, when they&#39;ve laid enough foundation.","body":"@schemaboi - Perhaps you should take the author at their word on the &quot;you don&#39;t have to know this at this level&quot; part -- presumably they get to it later, when they&#39;ve laid enough foundation."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536244554,"creation_date":1536244554,"answer_id":52206534,"question_id":52206414,"body_markdown":"It&#39;s called a [*class literal*](https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.8.2). `ClassName.class` provides access to the instance of [`Class`][1] that represents the given class. So for instance, `String.class` refers to the `Class` instance for the `String` class. Using that object, you can do do various things (like find out what its members are at runtime via reflection). (FWIW, objects provide also access to the `Class` instance for their class via their [`getClass` method][2].)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/Class.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#getClass()","title":".class - what is this construction and how it works?","body":"<p>It's called a <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.8.2\" rel=\"nofollow noreferrer\"><em>class literal</em></a>. <code>ClassName.class</code> provides access to the instance of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a> that represents the given class. So for instance, <code>String.class</code> refers to the <code>Class</code> instance for the <code>String</code> class. Using that object, you can do do various things (like find out what its members are at runtime via reflection). (FWIW, objects provide also access to the <code>Class</code> instance for their class via their <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>getClass</code> method</a>.)</p>\n"}],"owner":{"account_id":14282966,"reputation":559,"user_id":10317111,"display_name":"schemaboi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1645183580,"creation_date":1536244198,"question_id":52206414,"body_markdown":"I am beginner in programming and i just started working with greenfoot (software for creating games using Java). When i was writing code i had to use construction builded in greenfoot which was using parameter described as: java.lang.class where i had to type ClassName.class . I was trying to go through documentation and a lot of other sources to figure out how it works and what is this, but to be honest i couldnt understand anything. Is there is someone who can tell me in simply words what does it mean and how construction like ClassName.class works? That is the first time i see dot notation used like this, before I have seen only dot notation when i tried to refer to for example other class method like: OtherClass.method() . So is it just builded in instance variable of every class or something like this? Thanks in advance","title":".class - what is this construction and how it works?","body":"<p>I am beginner in programming and i just started working with greenfoot (software for creating games using Java). When i was writing code i had to use construction builded in greenfoot which was using parameter described as: java.lang.class where i had to type ClassName.class . I was trying to go through documentation and a lot of other sources to figure out how it works and what is this, but to be honest i couldnt understand anything. Is there is someone who can tell me in simply words what does it mean and how construction like ClassName.class works? That is the first time i see dot notation used like this, before I have seen only dot notation when i tried to refer to for example other class method like: OtherClass.method() . So is it just builded in instance variable of every class or something like this? Thanks in advance</p>\n"},{"tags":["java","program-entry-point"],"comments":[{"owner":{"account_id":403740,"reputation":12504,"user_id":771665,"accept_rate":84,"display_name":"MirroredFate"},"score":0,"creation_date":1379108031,"post_id":18795467,"comment_id":27716716,"body_markdown":"The `{...}` syntax is actually the same as just putting it in the constructor of the class.","body":"The <code>{...}</code> syntax is actually the same as just putting it in the constructor of the class."},{"owner":{"account_id":2215206,"reputation":2164,"user_id":1956013,"accept_rate":56,"display_name":"Ahmed Adel Ismail"},"score":1,"creation_date":1379111164,"post_id":18795467,"comment_id":27717787,"body_markdown":"this means that you need to know some more about the basics of java, if you need any explanation about the basics of java feel free to ask","body":"this means that you need to know some more about the basics of java, if you need any explanation about the basics of java feel free to ask"}],"answers":[{"tags":[],"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1379107478,"creation_date":1379107478,"answer_id":18795493,"question_id":18795467,"body_markdown":"When you enclose it in braces, you are putting it in an initializer block, which runs when the class is instantiated. No statements except variables declarations/initialization may take place outside of methods or initialization blocks in Java.","title":"system.out.println statement outside any method in java","body":"<p>When you enclose it in braces, you are putting it in an initializer block, which runs when the class is instantiated. No statements except variables declarations/initialization may take place outside of methods or initialization blocks in Java.</p>\n"},{"tags":[],"owner":{"account_id":2596359,"reputation":4683,"user_id":2249962,"accept_rate":62,"display_name":"JNL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379107862,"creation_date":1379107862,"answer_id":18795567,"question_id":18795467,"body_markdown":"A `Class` can only have attributes or methods.\r\n\r\nA [class][1] is the blueprint from which individual objects are created.\r\n\r\n        int a=3;   // attributes\r\n        int b=0;   // attributes\r\n        System.out.println(&quot;this statement gives error&quot;); //Error!! \r\n\r\n        {System.out.println(&quot;this works fine&quot;);}  // init block whenever an object is created.\r\n                                                  // since it is inside { }\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/concepts/class.html","title":"system.out.println statement outside any method in java","body":"<p>A <code>Class</code> can only have attributes or methods.</p>\n\n<p>A <a href=\"http://docs.oracle.com/javase/tutorial/java/concepts/class.html\" rel=\"noreferrer\">class</a> is the blueprint from which individual objects are created.</p>\n\n<pre><code>    int a=3;   // attributes\n    int b=0;   // attributes\n    System.out.println(\"this statement gives error\"); //Error!! \n\n    {System.out.println(\"this works fine\");}  // init block whenever an object is created.\n                                              // since it is inside { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1859277,"reputation":1504,"user_id":1684207,"accept_rate":100,"display_name":"Kinaan Khan Sherwani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645180938,"creation_date":1379108111,"answer_id":18795616,"question_id":18795467,"body_markdown":"`{...}` is called an [instance initializer](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.6) . It runs in addition to the constructor each time an instance object is created . \r\n\r\n`static{...}` is another type of block that is called [Static Initializer](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.7) it is when you add a static keyword before { } . This static initializer only runs when the class is first loaded.\r\n\r\n\r\nSo you can write code in these two block and class member functions.\r\n\r\nOther than that the only place left is meant for the class data members declaration and initialization. \r\n","title":"system.out.println statement outside any method in java","body":"<p><code>{...}</code> is called an <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.6\" rel=\"nofollow noreferrer\">instance initializer</a> . It runs in addition to the constructor each time an instance object is created .</p>\n<p><code>static{...}</code> is another type of block that is called <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.7\" rel=\"nofollow noreferrer\">Static Initializer</a> it is when you add a static keyword before { } . This static initializer only runs when the class is first loaded.</p>\n<p>So you can write code in these two block and class member functions.</p>\n<p>Other than that the only place left is meant for the class data members declaration and initialization.</p>\n"},{"tags":[],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645183483,"creation_date":1645182016,"answer_id":71172355,"question_id":18795467,"body_markdown":"**Basics/Fundamentals**\r\n\r\nJava `Class` contains only member functions and class variables and few other exceptions like instance initliazer, static blocks etc. \r\n\r\nYou can&#39;t just sprinkle executables(like `System.out.println()`) anywhere you wish inside `Class`.\r\n\r\n\r\n----------\r\n\r\n\r\n**Instance initliazer**\r\n\r\n\r\n\r\n`{...}` in Java is `instance initializer` which gets called whenever an `object` is created. Because it is `instance initializer`, it actually gets called before `constructor`. \r\n\r\nYou can write `System.out.println()` inside `{...} ` or `instance initializer`.\r\n\r\n\r\n----------\r\n\r\n**Static block**\r\n\r\n`static{...}` is called `static block` in Java, which contains lines of code which gets called ONLY ONCE when the `class` is loaded by `JVM`. \r\n\r\nAgain, You can write `System.out.println()` inside `{...} ` or `static block`.\r\n\r\n\r\n----------\r\n**Simple executable example below**\r\n\r\n    public class JavaExample {\r\n        public JavaExample (String name){\r\n            System.out.println(&quot;Inside constructor&quot; + name);\r\n        }\r\n        {\r\n            System.out.println(&quot;Inside instance initializer&quot;);\r\n        }\r\n\r\n        static{\r\n            System.out.println(&quot;Inside static block&quot;);\r\n        }\r\n        //System.out.println(&quot;Will give error&quot;); //ERROR\r\n\r\n        public static void main(String[] args) {\r\n            JavaExample obj1 = new JavaExample (&quot;obj1&quot;);\r\n            JavaExample obj2 = new JavaExample (&quot;obj2&quot;);\r\n            System.out.println(&quot;Inside the public static void main&quot;);\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    &gt; Inside static block \r\n    &gt; Inside instance initializer \r\n    &gt; Inside constructor: obj1 \r\n    &gt; Inside instance initializer \r\n    &gt; Inside constructor: obj2 \r\n    &gt; Inside the public static void main\r\n\r\nPlease note the order of execution. \r\n\r\n 1. Static block (gets called once when JVM loads Class, hence first of all)\r\n 2. Instance initializer (before the call of any object instantiation)\r\n 3. Constructor (during object creation/initialization)\r\n\r\n","title":"system.out.println statement outside any method in java","body":"<p><strong>Basics/Fundamentals</strong></p>\n<p>Java <code>Class</code> contains only member functions and class variables and few other exceptions like instance initliazer, static blocks etc.</p>\n<p>You can't just sprinkle executables(like <code>System.out.println()</code>) anywhere you wish inside <code>Class</code>.</p>\n<hr />\n<p><strong>Instance initliazer</strong></p>\n<p><code>{...}</code> in Java is <code>instance initializer</code> which gets called whenever an <code>object</code> is created. Because it is <code>instance initializer</code>, it actually gets called before <code>constructor</code>.</p>\n<p>You can write <code>System.out.println()</code> inside <code>{...} </code> or <code>instance initializer</code>.</p>\n<hr />\n<p><strong>Static block</strong></p>\n<p><code>static{...}</code> is called <code>static block</code> in Java, which contains lines of code which gets called ONLY ONCE when the <code>class</code> is loaded by <code>JVM</code>.</p>\n<p>Again, You can write <code>System.out.println()</code> inside <code>{...} </code> or <code>static block</code>.</p>\n<hr />\n<p><strong>Simple executable example below</strong></p>\n<pre><code>public class JavaExample {\n    public JavaExample (String name){\n        System.out.println(&quot;Inside constructor&quot; + name);\n    }\n    {\n        System.out.println(&quot;Inside instance initializer&quot;);\n    }\n\n    static{\n        System.out.println(&quot;Inside static block&quot;);\n    }\n    //System.out.println(&quot;Will give error&quot;); //ERROR\n\n    public static void main(String[] args) {\n        JavaExample obj1 = new JavaExample (&quot;obj1&quot;);\n        JavaExample obj2 = new JavaExample (&quot;obj2&quot;);\n        System.out.println(&quot;Inside the public static void main&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>&gt; Inside static block \n&gt; Inside instance initializer \n&gt; Inside constructor: obj1 \n&gt; Inside instance initializer \n&gt; Inside constructor: obj2 \n&gt; Inside the public static void main\n</code></pre>\n<p>Please note the order of execution.</p>\n<ol>\n<li>Static block (gets called once when JVM loads Class, hence first of all)</li>\n<li>Instance initializer (before the call of any object instantiation)</li>\n<li>Constructor (during object creation/initialization)</li>\n</ol>\n"}],"owner":{"account_id":3301942,"reputation":151,"user_id":2777893,"display_name":"user2777893"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9158,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1645183483,"creation_date":1379107355,"question_id":18795467,"body_markdown":"My question is can&#39;t we write an output statement outside the main in java? If I enclose it in { } braces then I don&#39;t get error, but if I directly write it, I get an error. why so?\r\n    \r\n    public class abc \r\n    { \r\n       int a=3; \r\n       int b=0; \r\n       System.out.println(&quot;this statement gives error&quot;); //Error!! \r\n       {System.out.println(&quot;this works fine&quot;);} \r\n       public static void main(String args[]) {\r\n\r\n       System.out.println(&quot;main&quot;); \r\n          abc t=new abc();\r\n       }\r\n    } \r\n\r\n\r\nI tried writing it in main, it works. Why doesn&#39;t it work without a method?","title":"system.out.println statement outside any method in java","body":"<p>My question is can't we write an output statement outside the main in java? If I enclose it in { } braces then I don't get error, but if I directly write it, I get an error. why so?</p>\n\n<pre><code>public class abc \n{ \n   int a=3; \n   int b=0; \n   System.out.println(\"this statement gives error\"); //Error!! \n   {System.out.println(\"this works fine\");} \n   public static void main(String args[]) {\n\n   System.out.println(\"main\"); \n      abc t=new abc();\n   }\n} \n</code></pre>\n\n<p>I tried writing it in main, it works. Why doesn't it work without a method?</p>\n"},{"tags":["java","spring","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":10590215,"reputation":318,"user_id":7801072,"display_name":"MattIT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528744365,"creation_date":1528744365,"answer_id":50804583,"question_id":50803727,"body_markdown":"Check if you are using suitable annotation, because one of them is deprecated.\r\n\r\n[Documentation - deprecated!](https://docs.spring.io/spring-security/site/docs/4.2.5.RELEASE/apidocs/org/springframework/security/web/bind/annotation/AuthenticationPrincipal.html)\r\n\r\n[Documentation - fine!](https://docs.spring.io/spring-security/site/docs/4.2.5.RELEASE/apidocs/org/springframework/security/core/annotation/AuthenticationPrincipal.html)\r\n\r\n---\r\nIn addition, be aware to resolve username (String) as an argument, not User type:\r\n&gt;Annotation that is used to resolve Authentication.getPrincipal() to a method argument.\r\n\r\n[Check this topic as well!](https://stackoverflow.com/questions/33616386/spring-security-authenticationprincipal) It can help.\r\n\r\n---\r\nI don&#39;t know if it is good practice (I&#39;m not considered &#39;pro&#39; in Spring yet), but in my personal project I get token from HttpServletRequest object passed in controller parameter. Then I use JwtTokenUtil class, which have `getUserFormToken(String token);` method to resolve user/username. It looks like this:\r\n\r\n## Controller ###\r\n\r\n    @Autowired\r\n    TestService testService;\r\n\r\n    @Autowired\r\n    UserService userService;\r\n    \r\n    @Autowired\r\n    private JwtTokenUtil jwtTokenUtil;\r\n    \r\n    @RequestMapping(value=&quot;/test&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    @ResponseBody\r\n    public List&lt;Test&gt; getTestsListByUserId(HttpServletRequest req){\r\n        String token = req.getHeader(HEADER_STRING).replace(TOKEN_PREFIX,&quot;&quot;);\r\n        return testService.findByUserId(userService.findByUsername(jwtTokenUtil.getUsernameFromToken(token)));\r\n    }\r\n\r\n## JwtTokenUtil ###\r\n\r\n    @Component\r\n    public class JwtTokenUtil implements Serializable {\r\n    \r\n    public String getUsernameFromToken(String token) {\r\n        return getClaimFromToken(token, Claims::getSubject);\r\n    }\r\n    \r\n    public Date getExpirationDateFromToken(String token) {\r\n        return getClaimFromToken(token, Claims::getExpiration);\r\n    }\r\n    \r\n    public &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = getAllClaimsFromToken(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n    \r\n    private Claims getAllClaimsFromToken(String token) {\r\n        return Jwts.parser()\r\n                .setSigningKey(SIGNING_KEY)\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n    \r\n    private Boolean isTokenExpired(String token) {\r\n        final Date expiration = getExpirationDateFromToken(token);\r\n        return expiration.before(new Date());\r\n    }\r\n    \r\n    public String generateToken(User user) {\r\n        return doGenerateToken(user.getUsername());\r\n    }\r\n    \r\n    private String doGenerateToken(String subject) {\r\n    \r\n        Claims claims = Jwts.claims().setSubject(subject);\r\n        claims.put(&quot;scopes&quot;, Arrays.asList(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;)));\r\n    \r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setIssuer(&quot;issuer&quot;)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + ACCESS_TOKEN_VALIDITY_SECONDS*1000))\r\n                .signWith(SignatureAlgorithm.HS256, SIGNING_KEY)\r\n                .compact();\r\n    }\r\n    \r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String username = getUsernameFromToken(token);\r\n        return (\r\n               username.equals(userDetails.getUsername())\r\n                       &amp;&amp; !isTokenExpired(token));\r\n        }\r\n    \r\n    }\r\n\r\nBut I generally have different filters implementation according yo yours. If you are interested - I used [this](https://www.devglan.com/spring-security/spring-boot-jwt-auth) tutorial and implementation.","title":"Spring with JWT auth, get current user","body":"<p>Check if you are using suitable annotation, because one of them is deprecated.</p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/4.2.5.RELEASE/apidocs/org/springframework/security/web/bind/annotation/AuthenticationPrincipal.html\" rel=\"nofollow noreferrer\">Documentation - deprecated!</a></p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/4.2.5.RELEASE/apidocs/org/springframework/security/core/annotation/AuthenticationPrincipal.html\" rel=\"nofollow noreferrer\">Documentation - fine!</a></p>\n\n<hr>\n\n<p>In addition, be aware to resolve username (String) as an argument, not User type:</p>\n\n<blockquote>\n  <p>Annotation that is used to resolve Authentication.getPrincipal() to a method argument.</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/33616386/spring-security-authenticationprincipal\">Check this topic as well!</a> It can help.</p>\n\n<hr>\n\n<p>I don't know if it is good practice (I'm not considered 'pro' in Spring yet), but in my personal project I get token from HttpServletRequest object passed in controller parameter. Then I use JwtTokenUtil class, which have <code>getUserFormToken(String token);</code> method to resolve user/username. It looks like this:</p>\n\n<h2>Controller</h2>\n\n<pre><code>@Autowired\nTestService testService;\n\n@Autowired\nUserService userService;\n\n@Autowired\nprivate JwtTokenUtil jwtTokenUtil;\n\n@RequestMapping(value=\"/test\", method = RequestMethod.GET, produces = \"application/json\")\n@ResponseBody\npublic List&lt;Test&gt; getTestsListByUserId(HttpServletRequest req){\n    String token = req.getHeader(HEADER_STRING).replace(TOKEN_PREFIX,\"\");\n    return testService.findByUserId(userService.findByUsername(jwtTokenUtil.getUsernameFromToken(token)));\n}\n</code></pre>\n\n<h2>JwtTokenUtil</h2>\n\n<pre><code>@Component\npublic class JwtTokenUtil implements Serializable {\n\npublic String getUsernameFromToken(String token) {\n    return getClaimFromToken(token, Claims::getSubject);\n}\n\npublic Date getExpirationDateFromToken(String token) {\n    return getClaimFromToken(token, Claims::getExpiration);\n}\n\npublic &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\n    final Claims claims = getAllClaimsFromToken(token);\n    return claimsResolver.apply(claims);\n}\n\nprivate Claims getAllClaimsFromToken(String token) {\n    return Jwts.parser()\n            .setSigningKey(SIGNING_KEY)\n            .parseClaimsJws(token)\n            .getBody();\n}\n\nprivate Boolean isTokenExpired(String token) {\n    final Date expiration = getExpirationDateFromToken(token);\n    return expiration.before(new Date());\n}\n\npublic String generateToken(User user) {\n    return doGenerateToken(user.getUsername());\n}\n\nprivate String doGenerateToken(String subject) {\n\n    Claims claims = Jwts.claims().setSubject(subject);\n    claims.put(\"scopes\", Arrays.asList(new SimpleGrantedAuthority(\"ROLE_ADMIN\")));\n\n    return Jwts.builder()\n            .setClaims(claims)\n            .setIssuer(\"issuer\")\n            .setIssuedAt(new Date(System.currentTimeMillis()))\n            .setExpiration(new Date(System.currentTimeMillis() + ACCESS_TOKEN_VALIDITY_SECONDS*1000))\n            .signWith(SignatureAlgorithm.HS256, SIGNING_KEY)\n            .compact();\n}\n\npublic Boolean validateToken(String token, UserDetails userDetails) {\n    final String username = getUsernameFromToken(token);\n    return (\n           username.equals(userDetails.getUsername())\n                   &amp;&amp; !isTokenExpired(token));\n    }\n\n}\n</code></pre>\n\n<p>But I generally have different filters implementation according yo yours. If you are interested - I used <a href=\"https://www.devglan.com/spring-security/spring-boot-jwt-auth\" rel=\"nofollow noreferrer\">this</a> tutorial and implementation.</p>\n"},{"tags":[],"owner":{"account_id":3255304,"reputation":845,"user_id":2744583,"accept_rate":70,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528800721,"creation_date":1528800721,"answer_id":50815407,"question_id":50803727,"body_markdown":"To retrieve a custom model i do next things:\r\n\r\nGet model from Database and set it as Principal.\r\n\r\n     private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\r\n            String token = request.getHeader(HEADER_STRING);\r\n            if (token != null) {\r\n                // parse the token.\r\n                String user;\r\n                try {\r\n                    user = Jwts.parser()\r\n                            .setSigningKey(SECRET.getBytes())\r\n                            .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))\r\n                            .getBody()\r\n                            .getSubject();\r\n                } catch (SignatureException e) {\r\n                    return null;\r\n                }\r\n                \r\n                // Get user model\r\n                ApplicationUser userModel = userRepository.findByUsername(user);\r\n    \r\n                // Set it\r\n                if (user != null &amp;&amp; userModel != null) return new UsernamePasswordAuthenticationToken(userModel, null, new ArrayList&lt;&gt;());\r\n    \r\n                return null;\r\n            }\r\n            return null;\r\n        }\r\n\r\nThen in controller retrieve using `@AuthenticationPrincipal` annotation.\r\n\r\n    public ApplicationUser getCurrentUser(@AuthenticationPrincipal ApplicationUser user) {\r\n     \treturn user;\r\n    }","title":"Spring with JWT auth, get current user","body":"<p>To retrieve a custom model i do next things:</p>\n\n<p>Get model from Database and set it as Principal.</p>\n\n<pre><code> private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\n        String token = request.getHeader(HEADER_STRING);\n        if (token != null) {\n            // parse the token.\n            String user;\n            try {\n                user = Jwts.parser()\n                        .setSigningKey(SECRET.getBytes())\n                        .parseClaimsJws(token.replace(TOKEN_PREFIX, \"\"))\n                        .getBody()\n                        .getSubject();\n            } catch (SignatureException e) {\n                return null;\n            }\n\n            // Get user model\n            ApplicationUser userModel = userRepository.findByUsername(user);\n\n            // Set it\n            if (user != null &amp;&amp; userModel != null) return new UsernamePasswordAuthenticationToken(userModel, null, new ArrayList&lt;&gt;());\n\n            return null;\n        }\n        return null;\n    }\n</code></pre>\n\n<p>Then in controller retrieve using <code>@AuthenticationPrincipal</code> annotation.</p>\n\n<pre><code>public ApplicationUser getCurrentUser(@AuthenticationPrincipal ApplicationUser user) {\n    return user;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14247300,"reputation":29,"user_id":10291948,"display_name":"zehurzeda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542509574,"creation_date":1542509343,"answer_id":53357461,"question_id":50803727,"body_markdown":"In your case the `@AuthenticationPrincipal` will return a string with the username,\r\nyou can get the user by calling the repository in your controller and getting the user by the username or declaring the repository as a `@Bean` and do the folowing:\r\n\r\n    public class JWTAuthorizationFilter extends BasicAuthenticationFilter {\r\n    \r\n    //Get the repository\r\n    private UserRepository userRepository;\r\n\r\n    public JWTAuthorizationFilter(AuthenticationManager authManager) {\r\n        super(authManager);\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest req,\r\n                                    HttpServletResponse res,\r\n                                    FilterChain chain) throws IOException, ServletException {\r\n        String header = req.getHeader(HEADER_STRING);\r\n\r\n        if (header == null || !header.startsWith(TOKEN_PREFIX)) {\r\n            chain.doFilter(req, res);\r\n            return;\r\n        }\r\n\r\n        UsernamePasswordAuthenticationToken authentication = getAuthentication(req);\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        chain.doFilter(req, res);\r\n    }\r\n\r\n    private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\r\n        String token = request.getHeader(HEADER_STRING);\r\n        if (token != null) {\r\n            // parse the token.\r\n            String user;\r\n            try {\r\n                user = Jwts.parser()\r\n                        .setSigningKey(SECRET.getBytes())\r\n                        .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))\r\n                        .getBody()\r\n                        .getSubject();\r\n            } catch (SignatureException e) {\r\n                return null;\r\n            }\r\n            \r\n            //Get your user\r\n            UserEntity userEntity = this.userRepository.findByUsername(user);\r\n            \r\n            if (user != null) {\r\n                 //Seting in your AuthenticationPrincipal the user\r\n                 return new UsernamePasswordAuthenticationToken(userEntity, null, new ArrayList&lt;&gt;());\r\n            }\r\n\r\n            return null;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    }","title":"Spring with JWT auth, get current user","body":"<p>In your case the <code>@AuthenticationPrincipal</code> will return a string with the username,\nyou can get the user by calling the repository in your controller and getting the user by the username or declaring the repository as a <code>@Bean</code> and do the folowing:</p>\n\n<pre><code>public class JWTAuthorizationFilter extends BasicAuthenticationFilter {\n\n//Get the repository\nprivate UserRepository userRepository;\n\npublic JWTAuthorizationFilter(AuthenticationManager authManager) {\n    super(authManager);\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest req,\n                                HttpServletResponse res,\n                                FilterChain chain) throws IOException, ServletException {\n    String header = req.getHeader(HEADER_STRING);\n\n    if (header == null || !header.startsWith(TOKEN_PREFIX)) {\n        chain.doFilter(req, res);\n        return;\n    }\n\n    UsernamePasswordAuthenticationToken authentication = getAuthentication(req);\n\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    chain.doFilter(req, res);\n}\n\nprivate UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\n    String token = request.getHeader(HEADER_STRING);\n    if (token != null) {\n        // parse the token.\n        String user;\n        try {\n            user = Jwts.parser()\n                    .setSigningKey(SECRET.getBytes())\n                    .parseClaimsJws(token.replace(TOKEN_PREFIX, \"\"))\n                    .getBody()\n                    .getSubject();\n        } catch (SignatureException e) {\n            return null;\n        }\n\n        //Get your user\n        UserEntity userEntity = this.userRepository.findByUsername(user);\n\n        if (user != null) {\n             //Seting in your AuthenticationPrincipal the user\n             return new UsernamePasswordAuthenticationToken(userEntity, null, new ArrayList&lt;&gt;());\n        }\n\n        return null;\n    }\n    return null;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1071752,"reputation":174,"user_id":1070842,"accept_rate":100,"display_name":"vaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556200055,"creation_date":1556200055,"answer_id":55850828,"question_id":50803727,"body_markdown":"If this is still actual, I have just answered similar question [here][1]\r\n\r\nMain point is to take `authorization token` from header:\r\n\r\n```\r\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n    String token = request.getHeader(&quot;Authorization&quot;).split(&quot; &quot;)[1];\r\n```\r\n\r\nafter that you can decode it and get parts which you need.\r\n\r\n  [1]: https://stackoverflow.com/a/55850687/1070842","title":"Spring with JWT auth, get current user","body":"<p>If this is still actual, I have just answered similar question <a href=\"https://stackoverflow.com/a/55850687/1070842\">here</a></p>\n\n<p>Main point is to take <code>authorization token</code> from header:</p>\n\n<pre><code>    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n    String token = request.getHeader(\"Authorization\").split(\" \")[1];\n</code></pre>\n\n<p>after that you can decode it and get parts which you need.</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645183404,"creation_date":1645179793,"answer_id":71171884,"question_id":50803727,"body_markdown":"I recently implemented a method to get the username or email from the JWT token in SpringBoot. Sharing the experience \r\n\r\n    private String getUserName() {\r\n             JwtAuthenticationToken authenticationToken = (JwtAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\r\n        Jwt jwt = (Jwt) authenticationToken.getCredentials();\r\n        String email = (String) jwt.getClaims().get(&quot;email&quot;);\r\n        return email;\r\n        }","title":"Spring with JWT auth, get current user","body":"<p>I recently implemented a method to get the username or email from the JWT token in SpringBoot. Sharing the experience</p>\n<pre><code>private String getUserName() {\n         JwtAuthenticationToken authenticationToken = (JwtAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\n    Jwt jwt = (Jwt) authenticationToken.getCredentials();\n    String email = (String) jwt.getClaims().get(&quot;email&quot;);\n    return email;\n    }\n</code></pre>\n"}],"owner":{"account_id":3255304,"reputation":845,"user_id":2744583,"accept_rate":70,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35407,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1645183404,"creation_date":1528740570,"question_id":50803727,"body_markdown":"I have Spring Boot REST application which uses JWT tokens for authorization. I want to get current logged user in controllers using `@AuthenticationPrincipal` annotation. But it always returns `null` if i return custom model from `loadUserByUsername` and auth stop working. My model implements `UserDetails`.\r\n\r\nI tried to extend the `org.springframework.security.core.userdetails.User` but i get rid errors from **JWTAuthenticationFilter** that default constructor not exists (`ApplicationUser creds = new ObjectMapper().readValue(req.getInputStream(), ApplicationUser.class);`)\r\n\r\nWhats wrong?\r\n\r\n**UserDetailsServiceImpl.java**\r\n\r\n    @Service\r\n    public class UserDetailsServiceImpl implements UserDetailsService {\r\n        private UserRepository userRepository;\r\n    \r\n        public UserDetailsServiceImpl(UserRepository userRepository) {\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            ApplicationUser applicationUser = userRepository.findByUsername(username);\r\n            if (applicationUser == null) throw new UsernameNotFoundException(username);\r\n    \r\n            return applicationUser;\r\n        }\r\n    }\r\n\r\n**ApplicationUser.java (model)**\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class ApplicationUser implements UserDetails {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String username;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String email;\r\n    \r\n        @Column(nullable = false)\r\n        private String password;\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return null;\r\n        }\r\n    }\r\n\r\n**JWTAuthenticationFilter**\r\n\r\n    public class JWTAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        public JWTAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n            super(new AntPathRequestMatcher(LOGIN_URL));\r\n    \r\n            this.authenticationManager = authenticationManager;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest req,\r\n                                                    HttpServletResponse res) throws AuthenticationException {\r\n            try {\r\n                ApplicationUser creds = new ObjectMapper()\r\n                        .readValue(req.getInputStream(), ApplicationUser.class);\r\n    \r\n                return authenticationManager.authenticate(\r\n                        new UsernamePasswordAuthenticationToken(\r\n                                creds.getUsername(),\r\n                                creds.getPassword(),\r\n                                new ArrayList&lt;&gt;())\r\n                );\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest req,\r\n                                                HttpServletResponse res,\r\n                                                FilterChain chain,\r\n                                                Authentication auth) throws IOException, ServletException {\r\n    \r\n            String token = Jwts.builder()\r\n                    .setSubject(((ApplicationUser) auth.getPrincipal()).getUsername())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\r\n                    .signWith(SignatureAlgorithm.HS512, SECRET.getBytes())\r\n                    .compact();\r\n    \r\n            res.addHeader(HEADER_STRING, TOKEN_PREFIX + token);\r\n        }\r\n    }\r\n\r\n**JWTAuthorizationFilter**\r\n\r\n    public class JWTAuthorizationFilter extends BasicAuthenticationFilter {\r\n    \r\n        public JWTAuthorizationFilter(AuthenticationManager authManager) {\r\n            super(authManager);\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest req,\r\n                                        HttpServletResponse res,\r\n                                        FilterChain chain) throws IOException, ServletException {\r\n            String header = req.getHeader(HEADER_STRING);\r\n    \r\n            if (header == null || !header.startsWith(TOKEN_PREFIX)) {\r\n                chain.doFilter(req, res);\r\n                return;\r\n            }\r\n    \r\n            UsernamePasswordAuthenticationToken authentication = getAuthentication(req);\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            chain.doFilter(req, res);\r\n        }\r\n    \r\n        private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\r\n            String token = request.getHeader(HEADER_STRING);\r\n            if (token != null) {\r\n                // parse the token.\r\n                String user;\r\n                try {\r\n                    user = Jwts.parser()\r\n                            .setSigningKey(SECRET.getBytes())\r\n                            .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))\r\n                            .getBody()\r\n                            .getSubject();\r\n                } catch (SignatureException e) {\r\n                    return null;\r\n                }\r\n    \r\n                if (user != null) return new UsernamePasswordAuthenticationToken(user, null, new ArrayList&lt;&gt;());\r\n    \r\n                return null;\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Spring with JWT auth, get current user","body":"<p>I have Spring Boot REST application which uses JWT tokens for authorization. I want to get current logged user in controllers using <code>@AuthenticationPrincipal</code> annotation. But it always returns <code>null</code> if i return custom model from <code>loadUserByUsername</code> and auth stop working. My model implements <code>UserDetails</code>.</p>\n\n<p>I tried to extend the <code>org.springframework.security.core.userdetails.User</code> but i get rid errors from <strong>JWTAuthenticationFilter</strong> that default constructor not exists (<code>ApplicationUser creds = new ObjectMapper().readValue(req.getInputStream(), ApplicationUser.class);</code>)</p>\n\n<p>Whats wrong?</p>\n\n<p><strong>UserDetailsServiceImpl.java</strong></p>\n\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    private UserRepository userRepository;\n\n    public UserDetailsServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        ApplicationUser applicationUser = userRepository.findByUsername(username);\n        if (applicationUser == null) throw new UsernameNotFoundException(username);\n\n        return applicationUser;\n    }\n}\n</code></pre>\n\n<p><strong>ApplicationUser.java (model)</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\npublic class ApplicationUser implements UserDetails {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(unique = true, nullable = false)\n    private String username;\n\n    @Column(unique = true, nullable = false)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return false;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return false;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>JWTAuthenticationFilter</strong></p>\n\n<pre><code>public class JWTAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\n    private AuthenticationManager authenticationManager;\n\n    public JWTAuthenticationFilter(AuthenticationManager authenticationManager) {\n        super(new AntPathRequestMatcher(LOGIN_URL));\n\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest req,\n                                                HttpServletResponse res) throws AuthenticationException {\n        try {\n            ApplicationUser creds = new ObjectMapper()\n                    .readValue(req.getInputStream(), ApplicationUser.class);\n\n            return authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(\n                            creds.getUsername(),\n                            creds.getPassword(),\n                            new ArrayList&lt;&gt;())\n            );\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest req,\n                                            HttpServletResponse res,\n                                            FilterChain chain,\n                                            Authentication auth) throws IOException, ServletException {\n\n        String token = Jwts.builder()\n                .setSubject(((ApplicationUser) auth.getPrincipal()).getUsername())\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\n                .signWith(SignatureAlgorithm.HS512, SECRET.getBytes())\n                .compact();\n\n        res.addHeader(HEADER_STRING, TOKEN_PREFIX + token);\n    }\n}\n</code></pre>\n\n<p><strong>JWTAuthorizationFilter</strong></p>\n\n<pre><code>public class JWTAuthorizationFilter extends BasicAuthenticationFilter {\n\n    public JWTAuthorizationFilter(AuthenticationManager authManager) {\n        super(authManager);\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req,\n                                    HttpServletResponse res,\n                                    FilterChain chain) throws IOException, ServletException {\n        String header = req.getHeader(HEADER_STRING);\n\n        if (header == null || !header.startsWith(TOKEN_PREFIX)) {\n            chain.doFilter(req, res);\n            return;\n        }\n\n        UsernamePasswordAuthenticationToken authentication = getAuthentication(req);\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        chain.doFilter(req, res);\n    }\n\n    private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\n        String token = request.getHeader(HEADER_STRING);\n        if (token != null) {\n            // parse the token.\n            String user;\n            try {\n                user = Jwts.parser()\n                        .setSigningKey(SECRET.getBytes())\n                        .parseClaimsJws(token.replace(TOKEN_PREFIX, \"\"))\n                        .getBody()\n                        .getSubject();\n            } catch (SignatureException e) {\n                return null;\n            }\n\n            if (user != null) return new UsernamePasswordAuthenticationToken(user, null, new ArrayList&lt;&gt;());\n\n            return null;\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645184205,"post_id":71172662,"comment_id":125809506,"body_markdown":"Each structure is well know per provider? You can use something like MapStruct to parse/transform. Not sure if it fits. https://mapstruct.org/. Also if you use Jackson can transform you json into Java objects (example: https://www.javaguides.net/2019/04/how-to-read-write-json-using-jackson-jsonparser-and-jsongenerator.html).","body":"Each structure is well know per provider? You can use something like MapStruct to parse/transform. Not sure if it fits. <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct.org</a>. Also if you use Jackson can transform you json into Java objects (example: <a href=\"https://www.javaguides.net/2019/04/how-to-read-write-json-using-jackson-jsonparser-and-jsongenerator.html\" rel=\"nofollow noreferrer\">javaguides.net/2019/04/&hellip;</a>)."},{"owner":{"account_id":435992,"reputation":1672,"user_id":822878,"accept_rate":68,"display_name":"Abhinav Garg"},"score":0,"creation_date":1645184476,"post_id":71172662,"comment_id":125809598,"body_markdown":"Actually provider also can be added at runtime, so we cannot pre define parsing per provider","body":"Actually provider also can be added at runtime, so we cannot pre define parsing per provider"}],"owner":{"account_id":435992,"reputation":1672,"user_id":822878,"accept_rate":68,"display_name":"Abhinav Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645183345,"creation_date":1645183345,"question_id":71172662,"body_markdown":"I am writing an API, which accepts a JSON string from multiple providers\r\n\r\nIt will receive JSON with different structure, and it will be parsed to fetch some information and saved to an Object\r\n\r\nThe problem here is, the API can receive any JSON structure, so I can&#39;t hard code parsing logic.\r\n\r\nI can detect which provider it came from, so is there any way to seed JSON parsing/transformation logic at runtime based on the provider?","title":"Java : Externalize JSON processing outside of code","body":"<p>I am writing an API, which accepts a JSON string from multiple providers</p>\n<p>It will receive JSON with different structure, and it will be parsed to fetch some information and saved to an Object</p>\n<p>The problem here is, the API can receive any JSON structure, so I can't hard code parsing logic.</p>\n<p>I can detect which provider it came from, so is there any way to seed JSON parsing/transformation logic at runtime based on the provider?</p>\n"},{"tags":["java","kubernetes","java-client"],"answers":[{"tags":[],"owner":{"account_id":355293,"reputation":4706,"user_id":694162,"accept_rate":88,"display_name":"sauerburger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645182892,"creation_date":1645182892,"answer_id":71172569,"question_id":71163299,"body_markdown":"There are a couple of issues with your example. In general, if you *successfully update* the environment variables in the pod template of your deployment, the Kubernetes operator will recognize the change and start a new pod to reflect the change.\r\n\r\nWhen you perform the update with a JSON patch by specifying the operation (`replace`), the path, and the value, the path must directly match the property in the deployment manifest. In your case, since you want to change the `value` of the environment variable, this would be:\r\n\r\n    /spec/template/spec/containers/0/env/8/value\r\n\r\nThere is no need to repeat the name of the environment variable. The index, here `8`, already signifies which variable you want to update, so there is no need to repeat `UPDATEDON`.\r\n\r\nThe equivalent command with `kubectl` would be\r\n\r\n    kubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu patch deployment aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q \\\r\n    --type=json -p=&#39;[{&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/spec/template/spec/containers/0/env/0/value&quot;, &quot;value&quot;: &quot;1645099482000&quot;}]&#39;\r\n\r\nAlternatively, instead of using a JSON patch, you can used the default patch type, like you did in your example. However, you forgot to add the outermost `spec/template` layers. Addionaly, you also need the given identify the container by specifying it&#39;s name. Here I&#39;ve used `test` as the container&#39;s name.\r\n\r\n    kubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu patch deployment aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q \\\r\n    -p &#39;{&quot;spec&quot;: {&quot;template&quot;: {&quot;spec&quot;: {&quot;containers&quot;: [{&quot;name&quot;: &quot;test&quot;, &quot;env&quot;:[{&quot;name&quot;:&quot;UPDATEDON&quot;,&quot;value&quot;:&quot;1645099482000&quot;}]}]}}}}&#39;\r\n\r\nThis way of updating has the advantage that you identify the container and the environment variable by their names, so and you don&#39;t need to rely on the ordering as would be the case with the index-based JSON patch path.","title":"how to update env variables in kubernetes deployment in java?","body":"<p>There are a couple of issues with your example. In general, if you <em>successfully update</em> the environment variables in the pod template of your deployment, the Kubernetes operator will recognize the change and start a new pod to reflect the change.</p>\n<p>When you perform the update with a JSON patch by specifying the operation (<code>replace</code>), the path, and the value, the path must directly match the property in the deployment manifest. In your case, since you want to change the <code>value</code> of the environment variable, this would be:</p>\n<pre><code>/spec/template/spec/containers/0/env/8/value\n</code></pre>\n<p>There is no need to repeat the name of the environment variable. The index, here <code>8</code>, already signifies which variable you want to update, so there is no need to repeat <code>UPDATEDON</code>.</p>\n<p>The equivalent command with <code>kubectl</code> would be</p>\n<pre><code>kubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu patch deployment aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q \\\n--type=json -p='[{&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/spec/template/spec/containers/0/env/0/value&quot;, &quot;value&quot;: &quot;1645099482000&quot;}]'\n</code></pre>\n<p>Alternatively, instead of using a JSON patch, you can used the default patch type, like you did in your example. However, you forgot to add the outermost <code>spec/template</code> layers. Addionaly, you also need the given identify the container by specifying it's name. Here I've used <code>test</code> as the container's name.</p>\n<pre><code>kubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu patch deployment aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q \\\n-p '{&quot;spec&quot;: {&quot;template&quot;: {&quot;spec&quot;: {&quot;containers&quot;: [{&quot;name&quot;: &quot;test&quot;, &quot;env&quot;:[{&quot;name&quot;:&quot;UPDATEDON&quot;,&quot;value&quot;:&quot;1645099482000&quot;}]}]}}}}'\n</code></pre>\n<p>This way of updating has the advantage that you identify the container and the environment variable by their names, so and you don't need to rely on the ordering as would be the case with the index-based JSON patch path.</p>\n"}],"owner":{"account_id":6715198,"reputation":55,"user_id":5177231,"display_name":"Pushpendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645182892,"creation_date":1645121360,"question_id":71163299,"body_markdown":"I want to restart deployment pod by patching ENV variable in deployment. Here is my code:\r\n\r\n```\r\nString PATCH_STR =  &quot;[{\\&quot;op\\&quot;:\\&quot;replace\\&quot;,\\&quot;path\\&quot;:\\&quot;/spec/template/spec/containers/0/env/8/UPDATEDON\\&quot;,\\&quot;value\\&quot;: \\&quot;%d\\&quot;}]&quot;;\r\n\r\nfinal String patchStr = String.format(PATCH_STR, System.currentTimeMillis());\r\n\r\n                AppsV1Api api = new AppsV1Api(apiClient);\r\n                V1Deployment deploy = PatchUtils.patch(V1Deployment.class,\r\n                    () -&gt; api.patchNamespacedDeploymentCall(\r\n                            deploymentName,\r\n                            namespace,\r\n                            new V1Patch(patchStr),\r\n                            null,\r\n                            null,\r\n                            null, // field-manager is optional\r\n                            null,\r\n                            null),\r\n                    V1Patch.PATCH_FORMAT_JSON_PATCH,\r\n                    apiClient);\r\n```\r\nThis code executes successfully but it does not start pod. Here is an equivalent kubectl command (it doesn&#39;t patch, so pod doesn&#39;t start):\r\n```\r\nkubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu patch deployment aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q -p &#39;{&quot;spec&quot;:{&quot;containers&quot;:[{&quot;env&quot;:[{&quot;name&quot;:&quot;UPDATEDON&quot;,&quot;value&quot;:&quot;1645099482000&quot;}]}]}}&#39;\r\n```\r\n\r\nIf I execute following command, it restarts pod:\r\n```\r\nkubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu set env deployment/aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q UPDATEDON=1645099482000\r\n```\r\nI thought of using `V1EnvVar/V1EnvVarBuilder` but I couldn&#39;t find equivalent java code.\r\n\r\n","title":"how to update env variables in kubernetes deployment in java?","body":"<p>I want to restart deployment pod by patching ENV variable in deployment. Here is my code:</p>\n<pre><code>String PATCH_STR =  &quot;[{\\&quot;op\\&quot;:\\&quot;replace\\&quot;,\\&quot;path\\&quot;:\\&quot;/spec/template/spec/containers/0/env/8/UPDATEDON\\&quot;,\\&quot;value\\&quot;: \\&quot;%d\\&quot;}]&quot;;\n\nfinal String patchStr = String.format(PATCH_STR, System.currentTimeMillis());\n\n                AppsV1Api api = new AppsV1Api(apiClient);\n                V1Deployment deploy = PatchUtils.patch(V1Deployment.class,\n                    () -&gt; api.patchNamespacedDeploymentCall(\n                            deploymentName,\n                            namespace,\n                            new V1Patch(patchStr),\n                            null,\n                            null,\n                            null, // field-manager is optional\n                            null,\n                            null),\n                    V1Patch.PATCH_FORMAT_JSON_PATCH,\n                    apiClient);\n</code></pre>\n<p>This code executes successfully but it does not start pod. Here is an equivalent kubectl command (it doesn't patch, so pod doesn't start):</p>\n<pre><code>kubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu patch deployment aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q -p '{&quot;spec&quot;:{&quot;containers&quot;:[{&quot;env&quot;:[{&quot;name&quot;:&quot;UPDATEDON&quot;,&quot;value&quot;:&quot;1645099482000&quot;}]}]}}'\n</code></pre>\n<p>If I execute following command, it restarts pod:</p>\n<pre><code>kubectl -n aaaac7bg7b6nsaaaaaaaaaaoyu set env deployment/aaaaaaaaxldpcswy2bl3jee6umwck72onc55wimyvldrfc442rokz3cpll2q UPDATEDON=1645099482000\n</code></pre>\n<p>I thought of using <code>V1EnvVar/V1EnvVarBuilder</code> but I couldn't find equivalent java code.</p>\n"},{"tags":["java","github","continuous-integration","github-actions"],"answers":[{"tags":[],"owner":{"account_id":2361230,"reputation":18506,"user_id":2067877,"accept_rate":65,"display_name":"Grzegorz Krukowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645182782,"creation_date":1645182782,"answer_id":71172540,"question_id":71155021,"body_markdown":"`GITHUB_TOKEN` is create automatically by GitHub - you don&#39;t have to define it anywhere, so it&#39;s not the problem for sure.\r\n\r\nWhen you look deeper into the action - it also uses `github.context.sha` and pulls only PRs for given SHA - so my guess is you are not creating PR that is connected to the SHA that is used to trigger workflow - if you update full workflow and show me PR that you expect to see there - I will be able to confirm that.","title":"GitHub action label is not able to match","body":"<p><code>GITHUB_TOKEN</code> is create automatically by GitHub - you don't have to define it anywhere, so it's not the problem for sure.</p>\n<p>When you look deeper into the action - it also uses <code>github.context.sha</code> and pulls only PRs for given SHA - so my guess is you are not creating PR that is connected to the SHA that is used to trigger workflow - if you update full workflow and show me PR that you expect to see there - I will be able to confirm that.</p>\n"}],"owner":{"account_id":22879899,"reputation":93,"user_id":17021647,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645182782,"creation_date":1645088222,"question_id":71155021,"body_markdown":"I am trying to run some steps based on labels below is the step I&#39;m using \r\n\r\n          - name: Check PR labels action\r\n            id: pr-label\r\n            uses: shioyang/check-pr-labels-on-push-action@v1.0.3\r\n            with:\r\n              github-token: ${{ secrets.GITHUB_TOKEN }}\r\n              labels: &#39;[&quot;security&quot;]&#39;\r\n\r\nand in the GitHub I have created label &quot;security&quot; but when I create PR with this(security) label above step is not working and in the debug it is printing steps.pr-label.outputs.result=&#39;false&#39; what is the issue with my configuration and have no idea what does secrets.GITHUB_TOKEN  do in the secrets I have not defined GITHUB_TOKEN but for other repo it works without GITHUB_TOKEN\r\n\r\n  ","title":"GitHub action label is not able to match","body":"<p>I am trying to run some steps based on labels below is the step I'm using</p>\n<pre><code>      - name: Check PR labels action\n        id: pr-label\n        uses: shioyang/check-pr-labels-on-push-action@v1.0.3\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          labels: '[&quot;security&quot;]'\n</code></pre>\n<p>and in the GitHub I have created label &quot;security&quot; but when I create PR with this(security) label above step is not working and in the debug it is printing steps.pr-label.outputs.result='false' what is the issue with my configuration and have no idea what does secrets.GITHUB_TOKEN  do in the secrets I have not defined GITHUB_TOKEN but for other repo it works without GITHUB_TOKEN</p>\n"},{"tags":["java","spring","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645188477,"post_id":71171626,"comment_id":125810953,"body_markdown":"The error in your question title does not match the error in your question (_&quot;No suitable driver found for jdbc:**mysl**://...&quot;_ vs _&quot;no suitable driver found for jdbc:**mysql**&quot;_.","body":"The error in your question title does not match the error in your question (<i>&quot;No suitable driver found for jdbc:**mysl**://...&quot;</i> vs <i>&quot;no suitable driver found for jdbc:**mysql**&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1645178882,"creation_date":1645178882,"answer_id":71171654,"question_id":71171626,"body_markdown":"You have an error in the connection string (**mysl**):\r\n\r\nIt should be:\r\n\r\n    dataSource.setUrl(&quot;jdbc:mysql://localhost/java_test&quot;);","title":"How do I resolve springframework no suitable driver found for jdbc:mysql","body":"<p>You have an error in the connection string (<strong>mysl</strong>):</p>\n<p>It should be:</p>\n<pre><code>dataSource.setUrl(&quot;jdbc:mysql://localhost/java_test&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2747016,"reputation":467,"user_id":2367228,"accept_rate":22,"display_name":"Rafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645179394,"creation_date":1645179394,"answer_id":71171788,"question_id":71171626,"body_markdown":"change the connection string to:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_name\r\n\r\nadd the following in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"How do I resolve springframework no suitable driver found for jdbc:mysql","body":"<p>change the connection string to:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/db_name\n</code></pre>\n<p>add the following in your pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24154391,"reputation":26,"user_id":18118811,"display_name":"Gopal Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645182731,"creation_date":1645182731,"answer_id":71172527,"question_id":71171626,"body_markdown":"you have write wrong url:\r\n\r\n    dataSource.setUrl(&quot;jdbc:mysql://localhost/java_test&quot;);\r\nand make sure to write dependency with suitable version of mysql in your server:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;version_of_mysql&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n","title":"How do I resolve springframework no suitable driver found for jdbc:mysql","body":"<p>you have write wrong url:</p>\n<pre><code>dataSource.setUrl(&quot;jdbc:mysql://localhost/java_test&quot;);\n</code></pre>\n<p>and make sure to write dependency with suitable version of mysql in your server:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;version&gt;version_of_mysql&lt;/version&gt;\n</code></pre>\n\n"}],"owner":{"account_id":22294782,"reputation":1051,"user_id":16520980,"display_name":"etranz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1645188481,"accepted_answer_id":71171654,"answer_count":3,"score":1,"last_activity_date":1645182731,"creation_date":1645178765,"question_id":71171626,"body_markdown":"I am new to java/spring and I am writing an app using spring framework\r\n\r\nbut I am getting the following error.\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: No suitable driver found for jdbc:mysl://localhost/java_test\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1025)\r\n    \tat com.oshabz.lesson5.config.Repositories.ProductRepository.addProduct(ProductRepository.java:15)\r\n    \tat com.oshabz.lesson5.config.Services.ProductService.addOneProduct(ProductService.java:15)\r\n    \tat com.oshabz.lesson4.App.main(App.java:17)\r\n\r\nMaven dependencies\r\n\r\nThe maven dependencies gets the jdbc, mysql-connector\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.15&lt;/version&gt;  \r\n        &lt;/dependency&gt;    \r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.3.15&lt;/version&gt;   \r\n         &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.3.15&lt;/version&gt;   \r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.3.15&lt;/version&gt;\r\n    \t&lt;/dependency&gt;  \r\n    \t &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.15&lt;/version&gt;    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.16&lt;/version&gt;    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nProject Config\r\n\r\nI did the context configuration on the projectConfig file \r\n\r\nI also configured the jdbc configuration. \r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.oshabz.lesson5.config.Repositories&quot;, &quot;com.oshabz.lesson5.config.Services&quot;})\r\n    public class ProjectConfig {\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tvar dataSource = new DriverManagerDataSource();\r\n    \t\tdataSource.setUrl(&quot;jdbc:mysl://localhost/java_test&quot;);\r\n    \t\tdataSource.setUsername(&quot;root&quot;);\r\n    \t\tdataSource.setPassword(&quot;&quot;);\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t \r\n    \t@Bean\r\n    \tpublic JdbcTemplate jdbcTemplate() {\r\n    \t\treturn new JdbcTemplate(dataSource());\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic PlatformTransactionManager transactionManager(DataSource dataSource) {\r\n    \t\treturn new DataSourceTransactionManager(dataSource);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"How do I resolve springframework no suitable driver found for jdbc:mysql","body":"<p>I am new to java/spring and I am writing an app using spring framework</p>\n<p>but I am getting the following error.</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: No suitable driver found for jdbc:mysl://localhost/java_test\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1025)\n    at com.oshabz.lesson5.config.Repositories.ProductRepository.addProduct(ProductRepository.java:15)\n    at com.oshabz.lesson5.config.Services.ProductService.addOneProduct(ProductService.java:15)\n    at com.oshabz.lesson4.App.main(App.java:17)\n</code></pre>\n<p>Maven dependencies</p>\n<p>The maven dependencies gets the jdbc, mysql-connector</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;5.3.15&lt;/version&gt;  \n    &lt;/dependency&gt;    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;   \n     &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;   \n     &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;  \n     &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;5.3.15&lt;/version&gt;    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.16&lt;/version&gt;    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>Project Config</p>\n<p>I did the context configuration on the projectConfig file</p>\n<p>I also configured the jdbc configuration.</p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = {&quot;com.oshabz.lesson5.config.Repositories&quot;, &quot;com.oshabz.lesson5.config.Services&quot;})\npublic class ProjectConfig {\n    \n    @Bean\n    public DataSource dataSource() {\n        var dataSource = new DriverManagerDataSource();\n        dataSource.setUrl(&quot;jdbc:mysl://localhost/java_test&quot;);\n        dataSource.setUsername(&quot;root&quot;);\n        dataSource.setPassword(&quot;&quot;);\n        return dataSource;\n    }\n     \n    @Bean\n    public JdbcTemplate jdbcTemplate() {\n        return new JdbcTemplate(dataSource());\n    }\n    \n    @Bean\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","c#","consumer"],"comments":[{"owner":{"account_id":5077552,"reputation":1724,"user_id":5816153,"display_name":"blogprogramisty.net"},"score":2,"creation_date":1459941037,"post_id":36449343,"comment_id":60511366,"body_markdown":"It is java code and we are c# programer and this interface is not the simple to us : ) Waht this cosumer do?","body":"It is java code and we are c# programer and this interface is not the simple to us : ) Waht this cosumer do?"},{"owner":{"account_id":3062054,"reputation":8791,"user_id":2594485,"display_name":"Dennis_E"},"score":2,"creation_date":1459941422,"post_id":36449343,"comment_id":60511645,"body_markdown":"Any delegate type that takes one parameter and does not return a value would be a candidate. `Action&lt;T&gt;` is one of them.","body":"Any delegate type that takes one parameter and does not return a value would be a candidate. <code>Action&lt;T&gt;</code> is one of them."},{"owner":{"account_id":3927994,"reputation":303,"user_id":3247663,"display_name":"vil.coyote.ch"},"score":0,"creation_date":1459941596,"post_id":36449343,"comment_id":60511782,"body_markdown":"Thanks Dennis, but How can I substitue accept methode ?","body":"Thanks Dennis, but How can I substitue accept methode ?"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":1,"creation_date":1459941770,"post_id":36449343,"comment_id":60511900,"body_markdown":"What are you looking for? The question doesn&#39;t make any sense as it is. There are lambdas, callbacks, Observables, LINQ all of which could do whatever you use `Consumer.accept` for","body":"What are you looking for? The question doesn&#39;t make any sense as it is. There are lambdas, callbacks, Observables, LINQ all of which could do whatever you use <code>Consumer.accept</code> for"},{"owner":{"account_id":3062054,"reputation":8791,"user_id":2594485,"display_name":"Dennis_E"},"score":0,"creation_date":1459941859,"post_id":36449343,"comment_id":60511970,"body_markdown":"@vil.coyote.ch In Java, the methods have different names. In case of `Consumer`, it&#39;s `accept`. In C#, the method name is always the same: `Invoke`. But you can omit it: `action(parameter)` is shorthand for `action.Invoke(parameter)`.","body":"@vil.coyote.ch In Java, the methods have different names. In case of <code>Consumer</code>, it&#39;s <code>accept</code>. In C#, the method name is always the same: <code>Invoke</code>. But you can omit it: <code>action(parameter)</code> is shorthand for <code>action.Invoke(parameter)</code>."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1459941951,"post_id":36449343,"comment_id":60512025,"body_markdown":"BTW from the *code* it looks like LINQ - `andThen` is the important part, not the implementation mechanism (Consume). Is this applying a filter or chaining steps? LINQ offers `Where` for filters. Almost all LINQ methods can be chained","body":"BTW from the <i>code</i> it looks like LINQ - <code>andThen</code> is the important part, not the implementation mechanism (Consume). Is this applying a filter or chaining steps? LINQ offers <code>Where</code> for filters. Almost all LINQ methods can be chained"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1459942015,"post_id":36449343,"comment_id":60512077,"body_markdown":"Also, you could use an iterator to consume one IEnumerable and return another.","body":"Also, you could use an iterator to consume one IEnumerable and return another."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1459942053,"post_id":36449343,"comment_id":60512111,"body_markdown":"@Dennis_E Invoke does nothing like what `Consume` shows. It just calls a delegate. Consume though, consumes something","body":"@Dennis_E Invoke does nothing like what <code>Consume</code> shows. It just calls a delegate. Consume though, consumes something"},{"owner":{"account_id":115345,"reputation":31815,"user_id":302918,"accept_rate":78,"display_name":"juharr"},"score":0,"creation_date":1459942197,"post_id":36449343,"comment_id":60512238,"body_markdown":"I think it would be like the following extension method \n`public static Action&lt;T&gt; AndThen&lt;T&gt;(this Action&lt;T&gt; before, Action&lt;T&gt; after)\n{\n    return t =&gt;\n    {\n        before(t);\n        after(t);\n     };\n}`  C# has extension methods instead of default methods.","body":"I think it would be like the following extension method  <code>public static Action&lt;T&gt; AndThen&lt;T&gt;(this Action&lt;T&gt; before, Action&lt;T&gt; after) {     return t =&gt;     {         before(t);         after(t);      }; }</code>  C# has extension methods instead of default methods."},{"owner":{"account_id":3062054,"reputation":8791,"user_id":2594485,"display_name":"Dennis_E"},"score":2,"creation_date":1459942521,"post_id":36449343,"comment_id":60512494,"body_markdown":"@PanagiotisKanavos `action.Invoke(parameter)` is the same thing as `consumer.accept(parameter)`. They just gave them different names. But I realize that&#39;s not the op&#39;s question.","body":"@PanagiotisKanavos <code>action.Invoke(parameter)</code> is the same thing as <code>consumer.accept(parameter)</code>. They just gave them different names. But I realize that&#39;s not the op&#39;s question."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1459942999,"post_id":36449343,"comment_id":60512854,"body_markdown":"@Dennis_E the semantics are completely different. `Consume` *accepts* data from another consumer before doing something on it. Invoke simply executes a delegate. Chaining like `Consume` though can be found in a *lot* of C# features - iterators accept and return IEnumerables. Observables accept data from and expose it to other observables and subscribers. Tasks do the same as well. At its simplest form, even nesting Func&lt;&gt; calls can do the same.","body":"@Dennis_E the semantics are completely different. <code>Consume</code> <i>accepts</i> data from another consumer before doing something on it. Invoke simply executes a delegate. Chaining like <code>Consume</code> though can be found in a <i>lot</i> of C# features - iterators accept and return IEnumerables. Observables accept data from and expose it to other observables and subscribers. Tasks do the same as well. At its simplest form, even nesting Func&lt;&gt; calls can do the same."},{"owner":{"account_id":3062054,"reputation":8791,"user_id":2594485,"display_name":"Dennis_E"},"score":0,"creation_date":1459943573,"post_id":36449343,"comment_id":60513287,"body_markdown":"@PanagiotisKanavos Are we talking about the same thing? You&#39;re talking about something called `Consume`, which doesn&#39;t appear in the question anywhere. I&#39;m talking about a type called `Consumer` and a method called `accept`.","body":"@PanagiotisKanavos Are we talking about the same thing? You&#39;re talking about something called <code>Consume</code>, which doesn&#39;t appear in the question anywhere. I&#39;m talking about a type called <code>Consumer</code> and a method called <code>accept</code>."}],"answers":[{"tags":[],"owner":{"account_id":51103,"reputation":142502,"user_id":152602,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459943265,"creation_date":1459943265,"answer_id":36450244,"question_id":36449343,"body_markdown":"`Consumer&lt;T&gt;` corresponds to `Action&lt;T&gt;` and the `andThen` method is a sequencing operator. You can define `andThen` as an extension method e.g.\r\n\r\n    public static Action&lt;T&gt; AndThen&lt;T&gt;(this Action&lt;T&gt; first, Action&lt;T&gt; next)\r\n    {\r\n        return e =&gt; { first(e); next(e); };\r\n    }\r\n","title":"What is the c# equivalent of Java 8 java.util.function.Consumer&lt;&gt;?","body":"<p><code>Consumer&lt;T&gt;</code> corresponds to <code>Action&lt;T&gt;</code> and the <code>andThen</code> method is a sequencing operator. You can define <code>andThen</code> as an extension method e.g.</p>\n\n<pre><code>public static Action&lt;T&gt; AndThen&lt;T&gt;(this Action&lt;T&gt; first, Action&lt;T&gt; next)\n{\n    return e =&gt; { first(e); next(e); };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6446720,"reputation":13586,"user_id":4995012,"display_name":"Fabjan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1645182369,"creation_date":1459943882,"answer_id":36450482,"question_id":36449343,"body_markdown":"&gt; &quot;Consumer interface represents an operation that accepts a single\r\n&gt; input argument and returns no result&quot;\r\n\r\nWell, provided that the quote above taken from [**here**][1] is accurate it’s roughly an equivalent of `Action&lt;T&gt;` delegate in C#;\r\n\r\nFor example this java code:\r\n\r\n    import java.util.function.Consumer;\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Consumer&lt;String&gt; c = (x) -&gt; System.out.println(x.toLowerCase());\r\n        c.accept(&quot;Java2s.com&quot;);\r\n      }\r\n    }\r\n\r\nConverted to C# would be: \r\n\r\n    using System;\r\n\r\n    public class Main\r\n    {\r\n      static void Main(string[] args)\r\n      {\r\n         Action&lt;string&gt; c = (x) =&gt; Console.WriteLine(x.ToLower());\r\n         c.Invoke(&quot;Java2s.com&quot;); // or simply c(&quot;Java2s.com&quot;);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorials/Java/java.util.function/Consumer/index.htm","title":"What is the c# equivalent of Java 8 java.util.function.Consumer&lt;&gt;?","body":"<blockquote>\n<p>&quot;Consumer interface represents an operation that accepts a single\ninput argument and returns no result&quot;</p>\n</blockquote>\n<p>Well, provided that the quote above taken from <a href=\"http://www.java2s.com/Tutorials/Java/java.util.function/Consumer/index.htm\" rel=\"nofollow noreferrer\"><strong>here</strong></a> is accurate it’s roughly an equivalent of <code>Action&lt;T&gt;</code> delegate in C#;</p>\n<p>For example this java code:</p>\n<pre><code>import java.util.function.Consumer;\n\npublic class Main {\n  public static void main(String[] args) {\n    Consumer&lt;String&gt; c = (x) -&gt; System.out.println(x.toLowerCase());\n    c.accept(&quot;Java2s.com&quot;);\n  }\n}\n</code></pre>\n<p>Converted to C# would be:</p>\n<pre><code>using System;\n\npublic class Main\n{\n  static void Main(string[] args)\n  {\n     Action&lt;string&gt; c = (x) =&gt; Console.WriteLine(x.ToLower());\n     c.Invoke(&quot;Java2s.com&quot;); // or simply c(&quot;Java2s.com&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3927994,"reputation":303,"user_id":3247663,"display_name":"vil.coyote.ch"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7838,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":36450482,"answer_count":2,"score":16,"last_activity_date":1645182369,"creation_date":1459940884,"question_id":36449343,"body_markdown":"Is there an equivalent of this interface in C#?\r\n\r\nExample: \r\n\r\n    Consumer&lt;Byte&gt; consumer = new Consumer&lt;&gt;();\r\n    consumer.accept(data[11]);\r\n\r\nI have searched around `Func&lt;&gt;` and `Action&lt;&gt;` but I have no idea.\r\n\r\nThe original Java code of `Consumer.accept()` interface is pretty simple. But not for me:\r\n\r\n    void accept(T t);\r\n\r\n    /**\r\n    * Returns a composed {@code Consumer} that performs, in sequence, this\r\n    * operation followed by the {@code after} operation. If performing either\r\n    * operation throws an exception, it is relayed to the caller of the\r\n    * composed operation.  If performing this operation throws an exception,\r\n    * the {@code after} operation will not be performed.\r\n    *\r\n    * @param after the operation to perform after this operation\r\n    * @return a composed {@code Consumer} that performs in sequence this\r\n    * operation followed by the {@code after} operation\r\n    * @throws NullPointerException if {@code after} is null\r\n    */\r\n    default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after) {\r\n        Objects.requireNonNull(after);\r\n        return (T t) -&gt; { accept(t); after.accept(t); };\r\n    }","title":"What is the c# equivalent of Java 8 java.util.function.Consumer&lt;&gt;?","body":"<p>Is there an equivalent of this interface in C#?</p>\n\n<p>Example: </p>\n\n<pre><code>Consumer&lt;Byte&gt; consumer = new Consumer&lt;&gt;();\nconsumer.accept(data[11]);\n</code></pre>\n\n<p>I have searched around <code>Func&lt;&gt;</code> and <code>Action&lt;&gt;</code> but I have no idea.</p>\n\n<p>The original Java code of <code>Consumer.accept()</code> interface is pretty simple. But not for me:</p>\n\n<pre><code>void accept(T t);\n\n/**\n* Returns a composed {@code Consumer} that performs, in sequence, this\n* operation followed by the {@code after} operation. If performing either\n* operation throws an exception, it is relayed to the caller of the\n* composed operation.  If performing this operation throws an exception,\n* the {@code after} operation will not be performed.\n*\n* @param after the operation to perform after this operation\n* @return a composed {@code Consumer} that performs in sequence this\n* operation followed by the {@code after} operation\n* @throws NullPointerException if {@code after} is null\n*/\ndefault Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after) {\n    Objects.requireNonNull(after);\n    return (T t) -&gt; { accept(t); after.accept(t); };\n}\n</code></pre>\n"},{"tags":["java","generics","type-inference","jls"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1645179582,"post_id":71171648,"comment_id":125807900,"body_markdown":"Do you realise that it is allowed to write unchecked exceptions in a `throws` clause? Your third point is not very reasonable.","body":"Do you realise that it is allowed to write unchecked exceptions in a <code>throws</code> clause? Your third point is not very reasonable."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1645179997,"post_id":71171648,"comment_id":125808014,"body_markdown":"&quot;this statement is incorrect&quot; I&#39;m guessing you mean that you think it shouldn&#39;t be designed in this way? The statement is certainly *correct* - the language designers can design it however they want, and `javac`&#39;s behaviour matches this description.","body":"&quot;this statement is incorrect&quot; I&#39;m guessing you mean that you think it shouldn&#39;t be designed in this way? The statement is certainly <i>correct</i> - the language designers can design it however they want, and <code>javac</code>&#39;s behaviour matches this description."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1645180138,"post_id":71171648,"comment_id":125808058,"body_markdown":"All I mean is that alpha(α) can be a `Checked Exception` type as well - and JLS should honour that - what seems from the language is that **JLS does not want alpha(α) to be of Checked type.**","body":"All I mean is that alpha(α) can be a <code>Checked Exception</code> type as well - and JLS should honour that - what seems from the language is that <b>JLS does not want alpha(α) to be of Checked type.</b>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1645180272,"post_id":71171648,"comment_id":125808101,"body_markdown":"This doesn&#39;t say that α _can&#39;t_ be a checked exception type, merely that it is not a checked exception type if possible.","body":"This doesn&#39;t say that α <i>can&#39;t</i> be a checked exception type, merely that it is not a checked exception type if possible."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1645180274,"post_id":71171648,"comment_id":125808102,"body_markdown":"Read the quote again, the language spec does allow alpha to be of a checked exception type. It&#39;s just that ***if possible***, it is not so.","body":"Read the quote again, the language spec does allow alpha to be of a checked exception type. It&#39;s just that <b><i>if possible</i></b>, it is not so."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1645180331,"post_id":71171648,"comment_id":125808116,"body_markdown":"You keep using the word &quot;ideally&quot; - what do you actually mean when you say that? In what respect are your choices ideal, and the choices of the language designers not ideal?","body":"You keep using the word &quot;ideally&quot; - what do you actually mean when you say that? In what respect are your choices ideal, and the choices of the language designers not ideal?"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1645180990,"post_id":71171648,"comment_id":125808329,"body_markdown":"@Sweeper : okay .. thanks for clarifying - was actually expecting the other statement to be written independently of the first in JLS - coz **if it is of unchecked type - not sure how will it contribute in the Type Inference resolution process.**","body":"@Sweeper : okay .. thanks for clarifying - was actually expecting the other statement to be written independently of the first in JLS - coz <b>if it is of unchecked type - not sure how will it contribute in the Type Inference resolution process.</b>"}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645182167,"creation_date":1645181107,"answer_id":71172152,"question_id":71171648,"body_markdown":"I think your interpretation/understanding of this statement is slightly misguided:\r\n\r\n&gt; A bound of the form throws α is purely informational: it directs resolution to optimize the instantiation of α so that, if possible, it is not a checked exception type.\r\n\r\nThat line is referring to the resolution, which, as I understand it, is not about where `throws α` is, but about where `α` is inferred, conceivably the invocation of the method.\r\n\r\nConsider this class:\r\n\r\n\tstatic class MyClass {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMyClass.&lt;RuntimeException&gt;something(0); // same as MyClass.something(1);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tMyClass.&lt;IOException&gt;something(2);\r\n\t\t\t} catch (IOException ex) {\r\n\t\t\t\t// checked exception\r\n\t\t\t}\r\n\t\t}\r\n\r\n        /**\r\n         * Will throw IOException if argument is 2, a RuntimeException otherwise\r\n         */\r\n\t\tstatic &lt;T extends Exception&gt; void something(int a) throws T {\r\n\t\t\tif (a == 2) {\r\n\t\t\t\tthrow (T) new IOException(); //of course it&#39;s a bad cast\r\n\t\t\t} else {\r\n\t\t\t\tthrow (T) new Exception();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAfter analyzing the two `something` method, focus on the invocation in the `main` method:\r\n\r\nThe call `MyClass.&lt;IOException&gt;something(0)` expects an IOException. The caller knows it (assume fully documented contract rather than tightly coupled code), and handles the exception.\r\n&lt;br/&gt;This already tells you that the variable **can** be a checked exception, contrary to what you think.\r\n\r\nOn the contrary, the call `MyClass.&lt;RuntimeException&gt;something(0)` expects a runtime exception on similar grounds.\r\n\r\nHow `α` (`T` in the above example) is inferred allows the compiler to skip forcing the caller to catch/handle the exception (if it&#39;s to look at the bound, which it&#39;d otherwise have to)\r\n\r\nNow about the &quot;optimization&quot;: The type variable being bounded as `extends Exception` can reasonably be expected to resolve to a checked exception. But, if the caller knows that it shall be a runtime exception, it can &quot;inform&quot; the compiler that it&#39;s going to be a runtime exception. This is what I did by specifying `RuntimeException` in the type witness (`RuntimeException` is also the resolved type when no type argument is given explicitly).\r\n\r\nWe can spend days to interpret &quot;optimization&quot;, but at least I as a caller did not have to try/catch the invocation, and I still didn&#39;t upset the compiler (first invocation).","title":"Type Inference resolution procedure involving throws clause in Java","body":"<p>I think your interpretation/understanding of this statement is slightly misguided:</p>\n<blockquote>\n<p>A bound of the form throws α is purely informational: it directs resolution to optimize the instantiation of α so that, if possible, it is not a checked exception type.</p>\n</blockquote>\n<p>That line is referring to the resolution, which, as I understand it, is not about where <code>throws α</code> is, but about where <code>α</code> is inferred, conceivably the invocation of the method.</p>\n<p>Consider this class:</p>\n<pre><code>static class MyClass {\n\n    public static void main(String[] args) {\n        MyClass.&lt;RuntimeException&gt;something(0); // same as MyClass.something(1);\n\n        try {\n            MyClass.&lt;IOException&gt;something(2);\n        } catch (IOException ex) {\n            // checked exception\n        }\n    }\n\n    /**\n     * Will throw IOException if argument is 2, a RuntimeException otherwise\n     */\n    static &lt;T extends Exception&gt; void something(int a) throws T {\n        if (a == 2) {\n            throw (T) new IOException(); //of course it's a bad cast\n        } else {\n            throw (T) new Exception();\n        }\n    }\n}\n</code></pre>\n<p>After analyzing the two <code>something</code> method, focus on the invocation in the <code>main</code> method:</p>\n<p>The call <code>MyClass.&lt;IOException&gt;something(0)</code> expects an IOException. The caller knows it (assume fully documented contract rather than tightly coupled code), and handles the exception.\n<br/>This already tells you that the variable <strong>can</strong> be a checked exception, contrary to what you think.</p>\n<p>On the contrary, the call <code>MyClass.&lt;RuntimeException&gt;something(0)</code> expects a runtime exception on similar grounds.</p>\n<p>How <code>α</code> (<code>T</code> in the above example) is inferred allows the compiler to skip forcing the caller to catch/handle the exception (if it's to look at the bound, which it'd otherwise have to)</p>\n<p>Now about the &quot;optimization&quot;: The type variable being bounded as <code>extends Exception</code> can reasonably be expected to resolve to a checked exception. But, if the caller knows that it shall be a runtime exception, it can &quot;inform&quot; the compiler that it's going to be a runtime exception. This is what I did by specifying <code>RuntimeException</code> in the type witness (<code>RuntimeException</code> is also the resolved type when no type argument is given explicitly).</p>\n<p>We can spend days to interpret &quot;optimization&quot;, but at least I as a caller did not have to try/catch the invocation, and I still didn't upset the compiler (first invocation).</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645181788,"creation_date":1645181452,"answer_id":71172224,"question_id":71171648,"body_markdown":"Consider this example:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        foo(() -&gt; System.out.println(&quot;Foo&quot;));\r\n    }\r\n\r\n    public static &lt;T extends Exception&gt; void foo(ThrowingRunnable&lt;T&gt; runnable) throws T {\r\n        runnable.run();\r\n    }\r\n}\r\n\r\ninterface ThrowingRunnable&lt;T extends Exception&gt; {\r\n    void run() throws T;\r\n}\r\n```\r\n\r\nDuring the inference of the type parameter `T` when calling `foo`, there will be a &quot;throws&quot; bound on the type variable `T`, and `T` is inferred to be `RuntimeException`. If not for this bound, `T` would have been inferred as `Exception` because of the `T extends Exception` bound. This would have meant that I needed to do:\r\n\r\n    try {\r\n        foo(() -&gt; System.out.println(&quot;Foo&quot;));\r\n    catch (Exception e) {\r\n        // This won&#39;t be reached!\r\n    }\r\n\r\nI had to handle the exception, even though all I&#39;m doing in the lambda is printing things! That doesn&#39;t seem very nice, does it?\r\n\r\nThe purpose of this bound is so that if there&#39;s no reason for the method to throw a checked exception, it doesn&#39;t throw a checked exception, so that you don&#39;t have to write so many try...catches all over the place. `foo` would *only* throw a checked exception if you do things like:\r\n\r\n```\r\nfoo(() -&gt; new FileOutputStream(&quot;foo&quot;));\r\n```\r\n\r\nIf the effect of the bound were instead to force `T` to be a checked exception, it wouldn&#39;t be very useful at all.","title":"Type Inference resolution procedure involving throws clause in Java","body":"<p>Consider this example:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        foo(() -&gt; System.out.println(&quot;Foo&quot;));\n    }\n\n    public static &lt;T extends Exception&gt; void foo(ThrowingRunnable&lt;T&gt; runnable) throws T {\n        runnable.run();\n    }\n}\n\ninterface ThrowingRunnable&lt;T extends Exception&gt; {\n    void run() throws T;\n}\n</code></pre>\n<p>During the inference of the type parameter <code>T</code> when calling <code>foo</code>, there will be a &quot;throws&quot; bound on the type variable <code>T</code>, and <code>T</code> is inferred to be <code>RuntimeException</code>. If not for this bound, <code>T</code> would have been inferred as <code>Exception</code> because of the <code>T extends Exception</code> bound. This would have meant that I needed to do:</p>\n<pre><code>try {\n    foo(() -&gt; System.out.println(&quot;Foo&quot;));\ncatch (Exception e) {\n    // This won't be reached!\n}\n</code></pre>\n<p>I had to handle the exception, even though all I'm doing in the lambda is printing things! That doesn't seem very nice, does it?</p>\n<p>The purpose of this bound is so that if there's no reason for the method to throw a checked exception, it doesn't throw a checked exception, so that you don't have to write so many try...catches all over the place. <code>foo</code> would <em>only</em> throw a checked exception if you do things like:</p>\n<pre><code>foo(() -&gt; new FileOutputStream(&quot;foo&quot;));\n</code></pre>\n<p>If the effect of the bound were instead to force <code>T</code> to be a checked exception, it wouldn't be very useful at all.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71172152,"answer_count":2,"score":5,"last_activity_date":1645182167,"creation_date":1645178862,"question_id":71171648,"body_markdown":"Consider the following article in [JLS &#167;18.1.3][1] - Bounds\r\n\r\nHere when we try to identify the set of bounds on the inference variables - we have one of the following situations:\r\n&gt; ...\r\n&gt; * throws α: The inference variable α appears in a throws clause.\r\n&gt;\r\n&gt; ...\r\n&gt; \r\n&gt; A bound of the form throws α is purely informational: it directs resolution to\r\noptimize the instantiation of α so that, if possible, it is not a **checked exception type**.\r\n&gt; \r\n\r\nI think this statement is incorrect:\r\n- this is because ideally the throws clause is mentioned to take care of **checked exceptions** which can happen during the course of execution of the code.\r\n- Then why still the JLS preventing **α** to be a **Checked Exception?**\r\n- Ideally the **inference variable α** must be bounded to be an **exception of Checked type** rather than being an **Unchecked variant**.\r\n\r\n**Is my understanding correct here or am I missing something?**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.1.3","title":"Type Inference resolution procedure involving throws clause in Java","body":"<p>Consider the following article in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.1.3\" rel=\"noreferrer\">JLS §18.1.3</a> - Bounds</p>\n<p>Here when we try to identify the set of bounds on the inference variables - we have one of the following situations:</p>\n<blockquote>\n<p>...</p>\n<ul>\n<li>throws α: The inference variable α appears in a throws clause.</li>\n</ul>\n<p>...</p>\n<p>A bound of the form throws α is purely informational: it directs resolution to\noptimize the instantiation of α so that, if possible, it is not a <strong>checked exception type</strong>.</p>\n</blockquote>\n<p>I think this statement is incorrect:</p>\n<ul>\n<li>this is because ideally the throws clause is mentioned to take care of <strong>checked exceptions</strong> which can happen during the course of execution of the code.</li>\n<li>Then why still the JLS preventing <strong>α</strong> to be a <strong>Checked Exception?</strong></li>\n<li>Ideally the <strong>inference variable α</strong> must be bounded to be an <strong>exception of Checked type</strong> rather than being an <strong>Unchecked variant</strong>.</li>\n</ul>\n<p><strong>Is my understanding correct here or am I missing something?</strong></p>\n"},{"tags":["java","angular","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":0,"creation_date":1644129863,"post_id":66492357,"comment_id":125520588,"body_markdown":"same issue - I believe you are also trying out the tutorial from bbachi https://github.com/bbachi/angular-java-example","body":"same issue - I believe you are also trying out the tutorial from bbachi <a href=\"https://github.com/bbachi/angular-java-example\" rel=\"nofollow noreferrer\">github.com/bbachi/angular-java-example</a>"},{"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"score":0,"creation_date":1644236275,"post_id":66492357,"comment_id":125543180,"body_markdown":"Hey, could be, I don&#39;t quite remember it anymore. I solved the issue but it&#39;s a long time ago, but what I could find in my code / remembered I have posted as answer now. Good luck!","body":"Hey, could be, I don&#39;t quite remember it anymore. I solved the issue but it&#39;s a long time ago, but what I could find in my code / remembered I have posted as answer now. Good luck!"},{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":0,"creation_date":1644383314,"post_id":66492357,"comment_id":125589526,"body_markdown":"I got the fix from another stackoverflow page, remove the default path &quot;/&quot; forwarding completely from code, make sure @EnableWebMVC annotation is not used and your Single Page Application (index.html) files are kept in &quot;resources/public&quot; path. SpringBoot automatically handles it :)","body":"I got the fix from another stackoverflow page, remove the default path &quot;/&quot; forwarding completely from code, make sure @EnableWebMVC annotation is not used and your Single Page Application (index.html) files are kept in &quot;resources/public&quot; path. SpringBoot automatically handles it :)"}],"answers":[{"tags":[],"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644236190,"creation_date":1644236190,"answer_id":71018433,"question_id":66492357,"body_markdown":"Narrowing down the ResourceHandler paths was the right approach:\r\n\r\n    registry.addResourceHandler(\r\n            &quot;/login/**&quot;,\r\n            &quot;/all other Uris of my website&quot;\r\n    ).addResourceLocations(&quot;classpath:/static/&quot;)\r\n     .resourceChain(true)\r\n     .addResolver(new PathResourceResolver() {\r\n       @Override\r\n       protected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n                  Resource requestedResource = location.createRelative(resourcePath);\r\n\r\n                  return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\r\n                          : new ClassPathResource(&quot;/static/index.html&quot;);\r\n                }\r\n              });\r\n\r\nThere was another problem that kept returning 404 for the other URIs, but that had nothing to do with the resourceHandler, but was a problem at our Gateway.","title":"Angular + Spring Boot: Forwarding all Angular routes to Angular and all API to the Spring Controllers","body":"<p>Narrowing down the ResourceHandler paths was the right approach:</p>\n<pre><code>registry.addResourceHandler(\n        &quot;/login/**&quot;,\n        &quot;/all other Uris of my website&quot;\n).addResourceLocations(&quot;classpath:/static/&quot;)\n .resourceChain(true)\n .addResolver(new PathResourceResolver() {\n   @Override\n   protected Resource getResource(String resourcePath, Resource location) throws IOException {\n              Resource requestedResource = location.createRelative(resourcePath);\n\n              return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\n                      : new ClassPathResource(&quot;/static/index.html&quot;);\n            }\n          });\n</code></pre>\n<p>There was another problem that kept returning 404 for the other URIs, but that had nothing to do with the resourceHandler, but was a problem at our Gateway.</p>\n"},{"tags":[],"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1645182100,"creation_date":1644383580,"answer_id":71044307,"question_id":66492357,"body_markdown":"1. Make sure no default path &quot;/&quot; is configured in your SpringBoot code/controller&#39;s\r\n2. Ensure you are not using @EnableWebMvc annotation anywhere in your app\r\n3. put all your UI files in the &quot;../resources/public&quot; folder (mainly your index.html shall be on this path)\r\n\r\nThis should resolve your issue&#39;s in general :)\r\n\r\nSpringBoot automatically detects this and works well for all sorts of Single-page applications.\r\n","title":"Angular + Spring Boot: Forwarding all Angular routes to Angular and all API to the Spring Controllers","body":"<ol>\n<li>Make sure no default path &quot;/&quot; is configured in your SpringBoot code/controller's</li>\n<li>Ensure you are not using @EnableWebMvc annotation anywhere in your app</li>\n<li>put all your UI files in the &quot;../resources/public&quot; folder (mainly your index.html shall be on this path)</li>\n</ol>\n<p>This should resolve your issue's in general :)</p>\n<p>SpringBoot automatically detects this and works well for all sorts of Single-page applications.</p>\n"}],"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71044307,"answer_count":2,"score":1,"last_activity_date":1645182100,"creation_date":1614946212,"question_id":66492357,"body_markdown":"I have a Spring Boot app and an Angular app. I want to serve the Angular App from the Spring Boot App. I build the Angular App and moved all files, including the index.html file, into /resources/static/ and just to be sure also to resources/public/. I also put the index.html into resources/templates. \r\nI received 404 when calling any of the angular routes e.g. mywebsite.com/login\r\n\r\nThen I added a controller to forward all requests to my Angular App:\r\n\r\n    @Controller\r\n    public class RedirectToAngularController {\r\n\r\n      /**\r\n      * Should redirect all routes to FrontEnd, but doesn&#39;t work.\r\n      */\r\n      @RequestMapping({&quot;/&quot;, &quot;/login&quot;, &quot;/login/**&quot;})\r\n      public String redirectLogin() {\r\n        log.info(&quot;Forwarding request to Angular (index.html)&quot;);\r\n        return &quot;forward:/index.html&quot;;\r\n      }\r\n    }\r\n\r\nIntelliJ gives me a warning for &quot;forward:/index.html&quot; that it can&#39;t find the URL:\r\n\r\n[![warning][1]][1]\r\n\r\nI still deployed my website and open it at `myWebsite.com/login` or `myWebsite.com/confirm`. Instead of my index.html file getting displayed I see `forward:/index.html` as a string in my browser. So it actually returns the string, not the file\r\nIn the logs &quot;Forwarding request to Angular (index.html)&quot; appears, but then it says: `Cannot find GET /index.html` in the next line.\r\n\r\nSo I deleted that controller and instead tried to solve this with a ResourceHandler:\r\n\r\n    @Configuration\r\n    public class WebAdapterConfig implements WebMvcConfigurer {\r\n    \r\n      @Override\r\n      public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**/*&quot;)\r\n                  .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                  .resourceChain(true)\r\n                  .addResolver(new PathResourceResolver() {\r\n                    @Override\r\n                    protected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n                      Resource requestedResource = location.createRelative(resourcePath);\r\n    \r\n                      return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\r\n                              : new ClassPathResource(&quot;/static/index.html&quot;);\r\n                    }\r\n                  });\r\n        registry.setOrder(-1);\r\n      }\r\n    }\r\n\r\nThis was described here: https://stackoverflow.com/questions/38516667/springboot-angular2-how-to-handle-html5-urls\r\nand also here: https://keepgrowing.in/java/springboot/make-spring-boot-surrender-routing-control-to-angular/\r\n\r\nBut this redirects everything! I now get the index file when I open mywebsite.com/login as well as when I make a postman request to my api (e.g. GET mywebsite.com/api/users)\r\n\r\nSo I tried to narrow it down by replacing `registry.addResourceHandler(&quot;/**/*&quot;)` with `registry.addResourceHandler(&quot;/login&quot;)` or `registry.addResourceHandler(&quot;/login/**&quot;, &quot;/confirm&quot;)`. But then only mywebsite.com/login/something and mywebsite.com/confirm retrun the index.html, but all other paths, including the URI for the api methods return 404!\r\n\r\nA third approach was to add view controller:\r\n\r\n    @Configuration\r\n    public class WebAdapterConfig implements WebMvcConfigurer {\r\n    \r\n      @Override\r\n      public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n        registry.addViewController(&quot;/login/**&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n        registry.addViewController(&quot;/confirm&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n      }\r\n    }\r\n\r\nBut then I always received 404 for all routes.\r\n\r\nI also added spring web MVC to my dependencies, but this didn&#39;t seem to change anything.\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    }\r\n\r\np.s. I don&#39;t use tymeleaf as my files are coming from angular. Maybe that&#39;s why `forward:/` doesn&#39;t work?\r\n\r\n  [1]: https://i.stack.imgur.com/8iKxZ.png","title":"Angular + Spring Boot: Forwarding all Angular routes to Angular and all API to the Spring Controllers","body":"<p>I have a Spring Boot app and an Angular app. I want to serve the Angular App from the Spring Boot App. I build the Angular App and moved all files, including the index.html file, into /resources/static/ and just to be sure also to resources/public/. I also put the index.html into resources/templates.\nI received 404 when calling any of the angular routes e.g. mywebsite.com/login</p>\n<p>Then I added a controller to forward all requests to my Angular App:</p>\n<pre><code>@Controller\npublic class RedirectToAngularController {\n\n  /**\n  * Should redirect all routes to FrontEnd, but doesn't work.\n  */\n  @RequestMapping({&quot;/&quot;, &quot;/login&quot;, &quot;/login/**&quot;})\n  public String redirectLogin() {\n    log.info(&quot;Forwarding request to Angular (index.html)&quot;);\n    return &quot;forward:/index.html&quot;;\n  }\n}\n</code></pre>\n<p>IntelliJ gives me a warning for &quot;forward:/index.html&quot; that it can't find the URL:</p>\n<p><a href=\"https://i.stack.imgur.com/8iKxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iKxZ.png\" alt=\"warning\" /></a></p>\n<p>I still deployed my website and open it at <code>myWebsite.com/login</code> or <code>myWebsite.com/confirm</code>. Instead of my index.html file getting displayed I see <code>forward:/index.html</code> as a string in my browser. So it actually returns the string, not the file\nIn the logs &quot;Forwarding request to Angular (index.html)&quot; appears, but then it says: <code>Cannot find GET /index.html</code> in the next line.</p>\n<p>So I deleted that controller and instead tried to solve this with a ResourceHandler:</p>\n<pre><code>@Configuration\npublic class WebAdapterConfig implements WebMvcConfigurer {\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**/*&quot;)\n              .addResourceLocations(&quot;classpath:/static/&quot;)\n              .resourceChain(true)\n              .addResolver(new PathResourceResolver() {\n                @Override\n                protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                  Resource requestedResource = location.createRelative(resourcePath);\n\n                  return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\n                          : new ClassPathResource(&quot;/static/index.html&quot;);\n                }\n              });\n    registry.setOrder(-1);\n  }\n}\n</code></pre>\n<p>This was described here: <a href=\"https://stackoverflow.com/questions/38516667/springboot-angular2-how-to-handle-html5-urls\">Springboot/Angular2 - How to handle HTML5 urls?</a>\nand also here: <a href=\"https://keepgrowing.in/java/springboot/make-spring-boot-surrender-routing-control-to-angular/\" rel=\"nofollow noreferrer\">https://keepgrowing.in/java/springboot/make-spring-boot-surrender-routing-control-to-angular/</a></p>\n<p>But this redirects everything! I now get the index file when I open mywebsite.com/login as well as when I make a postman request to my api (e.g. GET mywebsite.com/api/users)</p>\n<p>So I tried to narrow it down by replacing <code>registry.addResourceHandler(&quot;/**/*&quot;)</code> with <code>registry.addResourceHandler(&quot;/login&quot;)</code> or <code>registry.addResourceHandler(&quot;/login/**&quot;, &quot;/confirm&quot;)</code>. But then only mywebsite.com/login/something and mywebsite.com/confirm retrun the index.html, but all other paths, including the URI for the api methods return 404!</p>\n<p>A third approach was to add view controller:</p>\n<pre><code>@Configuration\npublic class WebAdapterConfig implements WebMvcConfigurer {\n\n  @Override\n  public void addViewControllers(ViewControllerRegistry registry) {\n    registry.addViewController(&quot;/login&quot;).setViewName(&quot;forward:/index.html&quot;);\n    registry.addViewController(&quot;/login/**&quot;).setViewName(&quot;forward:/index.html&quot;);\n    registry.addViewController(&quot;/confirm&quot;).setViewName(&quot;forward:/index.html&quot;);\n  }\n}\n</code></pre>\n<p>But then I always received 404 for all routes.</p>\n<p>I also added spring web MVC to my dependencies, but this didn't seem to change anything.</p>\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n}\n</code></pre>\n<p>p.s. I don't use tymeleaf as my files are coming from angular. Maybe that's why <code>forward:/</code> doesn't work?</p>\n"},{"tags":["java","json","spring","rest"],"comments":[{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1424631127,"post_id":28660500,"comment_id":45618791,"body_markdown":"Why are you not just sending the data in response that you actually want to get? In that case just send back the `User` object and Jackson does rest of that for you.","body":"Why are you not just sending the data in response that you actually want to get? In that case just send back the <code>User</code> object and Jackson does rest of that for you."},{"owner":{"account_id":3136019,"reputation":1106,"user_id":3560487,"accept_rate":79,"display_name":"csikos.balint"},"score":0,"creation_date":1424637489,"post_id":28660500,"comment_id":45620949,"body_markdown":"My first approach was to return the `User` object and parse it back with ObjectMapper and it worked. But now I am trying to use spring-boot-web with jpa and the default response is json+hal so I am expecting an API to parse it back to `User` again. If this parser doesn&#39;t exist than I need a configuration to spring-web to produce simple old json response.","body":"My first approach was to return the <code>User</code> object and parse it back with ObjectMapper and it worked. But now I am trying to use spring-boot-web with jpa and the default response is json+hal so I am expecting an API to parse it back to <code>User</code> again. If this parser doesn&#39;t exist than I need a configuration to spring-web to produce simple old json response."},{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1424637768,"post_id":28660500,"comment_id":45621042,"body_markdown":"It doesn&#39;t matter what the response from the GET request is. I suppose you want to send POST/UPDATE from front-end or wherever, then you simply just send only the data you need to map. Your http://localhost:8080/user GET can return this json with these wrappers. Now when sending data back to the server, you can only send the object you created or modified.","body":"It doesn&#39;t matter what the response from the GET request is. I suppose you want to send POST/UPDATE from front-end or wherever, then you simply just send only the data you need to map. Your <a href=\"http://localhost:8080/user\" rel=\"nofollow noreferrer\">localhost:8080/user</a> GET can return this json with these wrappers. Now when sending data back to the server, you can only send the object you created or modified."},{"owner":{"account_id":3136019,"reputation":1106,"user_id":3560487,"accept_rate":79,"display_name":"csikos.balint"},"score":0,"creation_date":1424638135,"post_id":28660500,"comment_id":45621155,"body_markdown":"Is there a library which can be used for the POST json construction or for the reponse travetsal? A HAL helper java API for ezxample.","body":"Is there a library which can be used for the POST json construction or for the reponse travetsal? A HAL helper java API for ezxample."},{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1424638599,"post_id":28660500,"comment_id":45621302,"body_markdown":"It&#39;s a bit unclear what you are trying to do. If you want to POST an object to back-end, there is absolutely no point having it in HAL format.","body":"It&#39;s a bit unclear what you are trying to do. If you want to POST an object to back-end, there is absolutely no point having it in HAL format."},{"owner":{"account_id":3136019,"reputation":1106,"user_id":3560487,"accept_rate":79,"display_name":"csikos.balint"},"score":1,"creation_date":1424639030,"post_id":28660500,"comment_id":45621417,"body_markdown":"The code and the json+hal response are at my backend. My fronted is also java (Vaadin) but on a different server. I am looking for a code axample how to retrive a user objet from the backend. Something like: `User user = (User) halJsonObjectMapper.parse( response, User.class);`. Sorry if my question is unclean.","body":"The code and the json+hal response are at my backend. My fronted is also java (Vaadin) but on a different server. I am looking for a code axample how to retrive a user objet from the backend. Something like: <code>User user = (User) halJsonObjectMapper.parse( response, User.class);</code>. Sorry if my question is unclean."},{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1424639429,"post_id":28660500,"comment_id":45621544,"body_markdown":"If you are getting this example json as your POST response then I believe there is no way to simply only get the user, this is collection &quot;_embedded&quot; seems to be what you want to unwrap and only way to map it to User is to have it in some Object that is returned using: `@JsonUnwrapped\nObject _embedded;`. Another thing you could look at is `Jackson2HalModule` for `ObjectMapper`","body":"If you are getting this example json as your POST response then I believe there is no way to simply only get the user, this is collection &quot;_embedded&quot; seems to be what you want to unwrap and only way to map it to User is to have it in some Object that is returned using: <code>@JsonUnwrapped Object _embedded;</code>. Another thing you could look at is <code>Jackson2HalModule</code> for <code>ObjectMapper</code>"}],"owner":{"account_id":3136019,"reputation":1106,"user_id":3560487,"accept_rate":79,"display_name":"csikos.balint"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1645181517,"creation_date":1424623880,"question_id":28660500,"body_markdown":"Recently I am investigating Spring Boot. I did a simple JPA + DATA + REST spring-boot application. For this initial creation...\r\n\r\n\r\n        User user = new User();\r\n        user.setFirstName(&quot;fname&quot;);\r\n        user.setLastName(&quot;lname&quot;);\r\n        user.setId(1);\r\n        List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n        Item item = new Item();\r\n        item.setName(&quot;item1&quot;);\r\n        item.setPattern(&quot;pattern1&quot;);\r\n        Item item2 = new Item();\r\n        item2.setName(&quot;item2&quot;);\r\n        item2.setPattern(&quot;pattern2&quot;);\r\n        itemRepository.save(item);\r\n        itemRepository.save(item2);\r\n        items.add(item);\r\n        items.add(item2);\r\n        user.setItems(items);\r\n        userRepository.save(user);\r\n\r\n\r\n...the REST interface provides HAL specific responses like this.\r\n\r\n    $ curl http://localhost:8080/user\r\n    {\r\n      &quot;_links&quot; : {\r\n        &quot;self&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/user{?page,size,sort}&quot;,\r\n          &quot;templated&quot; : true\r\n        },\r\n        &quot;search&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/user/search&quot;\r\n        }\r\n      },\r\n      &quot;_embedded&quot; : {\r\n        &quot;user&quot; : [ {\r\n          &quot;firstName&quot; : &quot;fname&quot;,\r\n          &quot;lastName&quot; : &quot;lname&quot;,\r\n          &quot;_links&quot; : {\r\n            &quot;self&quot; : {\r\n              &quot;href&quot; : &quot;http://localhost:8080/user/1&quot;\r\n            },\r\n            &quot;items&quot; : {\r\n              &quot;href&quot; : &quot;http://localhost:8080/user/1/items&quot;\r\n            }\r\n          }\r\n        } ]\r\n      },\r\n      &quot;page&quot; : {\r\n        &quot;size&quot; : 20,\r\n        &quot;totalElements&quot; : 1,\r\n        &quot;totalPages&quot; : 1,\r\n        &quot;number&quot; : 0\r\n      }\r\n    }\r\n\r\nNow I want to parse JSON+HAL response to get the User object, but I cannot find a clear example of doing this scenario in java. \r\n\r\nCould anyone help me? Thanks!\r\n","title":"How to parse JSON+HAL response into POJO","body":"<p>Recently I am investigating Spring Boot. I did a simple JPA + DATA + REST spring-boot application. For this initial creation...</p>\n\n<pre><code>    User user = new User();\n    user.setFirstName(\"fname\");\n    user.setLastName(\"lname\");\n    user.setId(1);\n    List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\n    Item item = new Item();\n    item.setName(\"item1\");\n    item.setPattern(\"pattern1\");\n    Item item2 = new Item();\n    item2.setName(\"item2\");\n    item2.setPattern(\"pattern2\");\n    itemRepository.save(item);\n    itemRepository.save(item2);\n    items.add(item);\n    items.add(item2);\n    user.setItems(items);\n    userRepository.save(user);\n</code></pre>\n\n<p>...the REST interface provides HAL specific responses like this.</p>\n\n<pre><code>$ curl http://localhost:8080/user\n{\n  \"_links\" : {\n    \"self\" : {\n      \"href\" : \"http://localhost:8080/user{?page,size,sort}\",\n      \"templated\" : true\n    },\n    \"search\" : {\n      \"href\" : \"http://localhost:8080/user/search\"\n    }\n  },\n  \"_embedded\" : {\n    \"user\" : [ {\n      \"firstName\" : \"fname\",\n      \"lastName\" : \"lname\",\n      \"_links\" : {\n        \"self\" : {\n          \"href\" : \"http://localhost:8080/user/1\"\n        },\n        \"items\" : {\n          \"href\" : \"http://localhost:8080/user/1/items\"\n        }\n      }\n    } ]\n  },\n  \"page\" : {\n    \"size\" : 20,\n    \"totalElements\" : 1,\n    \"totalPages\" : 1,\n    \"number\" : 0\n  }\n}\n</code></pre>\n\n<p>Now I want to parse JSON+HAL response to get the User object, but I cannot find a clear example of doing this scenario in java. </p>\n\n<p>Could anyone help me? Thanks!</p>\n"},{"tags":["java","eclipse","microsoft-graph-api","microsoft-graph-sdks"],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644219411,"creation_date":1644219411,"answer_id":71014889,"question_id":71014775,"body_markdown":"You need to change the scope to `https://graph.microsoft.com/.default`.\r\n\r\n    //Set the scopes for your ms-graph request\r\n    private final static List&lt;String&gt; SCOPES = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n\r\n`User.Read` and `Mail.Read` permissions must be preconfigured in Azure on the app registration and an administrator must grant consent to those permissions beforehand.\r\n\r\nResources:\r\n\r\n[Client credentials provider][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS#client-credentials-provider","title":"How to authenticate and get emails with Microsoft Graph","body":"<p>You need to change the scope to <code>https://graph.microsoft.com/.default</code>.</p>\n<pre><code>//Set the scopes for your ms-graph request\nprivate final static List&lt;String&gt; SCOPES = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n</code></pre>\n<p><code>User.Read</code> and <code>Mail.Read</code> permissions must be preconfigured in Azure on the app registration and an administrator must grant consent to those permissions beforehand.</p>\n<p>Resources:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS#client-credentials-provider\" rel=\"nofollow noreferrer\">Client credentials provider</a></p>\n"}],"owner":{"account_id":24178263,"reputation":15,"user_id":18139310,"display_name":"YT MAURITIUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71014889,"answer_count":1,"score":1,"last_activity_date":1645181383,"creation_date":1644218617,"question_id":71014775,"body_markdown":"I am searching for solutions to authenticate with Microsoft Graph and get all my emails in Eclipse IDE. I have used the authentication method of &#39;Client Credentials Provider&#39;. I am having issues with the SCOPES that need to be defined. Please find the error and my code below:\r\n\r\n    package JAVA_MicrosoftGraphAPI;\r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import com.azure.identity.ClientSecretCredential;\r\n    import com.azure.identity.ClientSecretCredentialBuilder;\r\n    import com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\n    import com.microsoft.graph.logger.DefaultLogger;\r\n    import com.microsoft.graph.logger.LoggerLevel;\r\n    import com.microsoft.graph.models.User;\r\n    import com.microsoft.graph.requests.GraphServiceClient;\r\n    import okhttp3.Request;\r\n    \r\n    public class YT_Video{\r\n    \r\n    \tprivate final static String CLIENT_ID = &quot;CLIENT_ID&quot;;\r\n    \tprivate final static String TENANT_ID = &quot;TENANT_ID&quot;;\r\n    \tprivate final static String SECRET_ID = &quot;SECRET&quot;;\r\n    \r\n    \t//Set the scopes for your ms-graph request\r\n    \tprivate final static List&lt;String&gt; SCOPES = Arrays.asList(&quot;User.Read&quot;, &quot;Mail.Read&quot;, &quot;openid&quot;, &quot;offline_access&quot;, &quot;profile&quot;);\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t// Create the auth provider.\t\t\r\n    \t\tfinal ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n    \t\t        .clientId(CLIENT_ID)\r\n    \t\t        .clientSecret(SECRET_ID)\r\n    \t\t\t\t.tenantId(TENANT_ID)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\t\r\n    \t\tfinal TokenCredentialAuthProvider tokenCredAuthProvider = new TokenCredentialAuthProvider(SCOPES, clientSecretCredential);\r\n    \t\tSystem.out.println(&quot;First Step Reached. &quot;);\r\n    \r\n    \r\n    \t\t// Create default logger to only log errors\r\n    \t\tDefaultLogger logger = new DefaultLogger();\r\n    \t\tlogger.setLoggingLevel(LoggerLevel.ERROR);\r\n    \r\n    \r\n    \t\t// Build a Graph client\r\n    \t\tGraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient.builder()\r\n    \t\t\t\t.authenticationProvider(tokenCredAuthProvider)\r\n    \t\t\t\t.logger(logger)\r\n    \t\t\t\t.buildClient();\r\n    \t\tSystem.out.println(&quot;Second Step Reached. &quot;);\r\n    \r\n    \t\tURL myUrl = new URL(&quot;https://graph.microsoft.com/v1.0/me/&quot;);\r\n    \t\tfinal String accessToken = tokenCredAuthProvider.getAuthorizationTokenAsync(myUrl).get();\r\n    \t\tSystem.out.println(&quot;Access token --&gt; &quot; + accessToken);\r\n    \r\n    \t\t// Just another optional step to get name of signed-in user.\r\n    \t\tfinal User me = ((GraphServiceClient&lt;Request&gt;) graphClient).me().buildRequest().get();\r\n    \t\tSystem.out.println(&quot;Hello &quot; + me.displayName +  &quot;( Synced !)&quot;);\r\n    \t\tSystem.out.println(&quot;Hello &quot; + me.mail +  &quot;( Mail !)&quot;);\r\n    \t\tSystem.out.println(&quot;Got &quot; + me.messages.getCount() + &quot; messages !&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n\r\n    \tat JAVA_MicrosoftGraphAPI.YT_Video.main(YT_Video.java:67)\r\n    Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS1002012: The provided value for scope User.Read openid profile offline_access Mail.Read is not valid. Client credential flows must have a scope value with /.default suffixed to the resource identifier (application ID URI).\r\n\r\n","title":"How to authenticate and get emails with Microsoft Graph","body":"<p>I am searching for solutions to authenticate with Microsoft Graph and get all my emails in Eclipse IDE. I have used the authentication method of 'Client Credentials Provider'. I am having issues with the SCOPES that need to be defined. Please find the error and my code below:</p>\n<pre><code>package JAVA_MicrosoftGraphAPI;\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.List;\nimport com.azure.identity.ClientSecretCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.logger.DefaultLogger;\nimport com.microsoft.graph.logger.LoggerLevel;\nimport com.microsoft.graph.models.User;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport okhttp3.Request;\n\npublic class YT_Video{\n\n    private final static String CLIENT_ID = &quot;CLIENT_ID&quot;;\n    private final static String TENANT_ID = &quot;TENANT_ID&quot;;\n    private final static String SECRET_ID = &quot;SECRET&quot;;\n\n    //Set the scopes for your ms-graph request\n    private final static List&lt;String&gt; SCOPES = Arrays.asList(&quot;User.Read&quot;, &quot;Mail.Read&quot;, &quot;openid&quot;, &quot;offline_access&quot;, &quot;profile&quot;);\n\n    public static void main(String[] args) throws Exception {\n        // Create the auth provider.        \n        final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n                .clientId(CLIENT_ID)\n                .clientSecret(SECRET_ID)\n                .tenantId(TENANT_ID)\n                .build();\n\n        \n        final TokenCredentialAuthProvider tokenCredAuthProvider = new TokenCredentialAuthProvider(SCOPES, clientSecretCredential);\n        System.out.println(&quot;First Step Reached. &quot;);\n\n\n        // Create default logger to only log errors\n        DefaultLogger logger = new DefaultLogger();\n        logger.setLoggingLevel(LoggerLevel.ERROR);\n\n\n        // Build a Graph client\n        GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient.builder()\n                .authenticationProvider(tokenCredAuthProvider)\n                .logger(logger)\n                .buildClient();\n        System.out.println(&quot;Second Step Reached. &quot;);\n\n        URL myUrl = new URL(&quot;https://graph.microsoft.com/v1.0/me/&quot;);\n        final String accessToken = tokenCredAuthProvider.getAuthorizationTokenAsync(myUrl).get();\n        System.out.println(&quot;Access token --&gt; &quot; + accessToken);\n\n        // Just another optional step to get name of signed-in user.\n        final User me = ((GraphServiceClient&lt;Request&gt;) graphClient).me().buildRequest().get();\n        System.out.println(&quot;Hello &quot; + me.displayName +  &quot;( Synced !)&quot;);\n        System.out.println(&quot;Hello &quot; + me.mail +  &quot;( Mail !)&quot;);\n        System.out.println(&quot;Got &quot; + me.messages.getCount() + &quot; messages !&quot;);\n\n    }\n\n}\n\n\n\n\n\n    at JAVA_MicrosoftGraphAPI.YT_Video.main(YT_Video.java:67)\nCaused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS1002012: The provided value for scope User.Read openid profile offline_access Mail.Read is not valid. Client credential flows must have a scope value with /.default suffixed to the resource identifier (application ID URI).\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"score":0,"creation_date":1645113225,"post_id":71161311,"comment_id":125789646,"body_markdown":"The class run result as below:                                                                                                    \n`s = :a:b:c:d:e                                                                                                                                      \ns2 = :a:b:c:d:e\nafter s.increment, s = :b:c:d:e:f\nafter s.increment, s2 = :a:c:d:e:f`","body":"The class run result as below:                                                                                                     <code>s = :a:b:c:d:e                                                                                                                                       s2 = :a:b:c:d:e after s.increment, s = :b:c:d:e:f after s.increment, s2 = :a:c:d:e:f</code>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1645113384,"post_id":71161311,"comment_id":125789708,"body_markdown":"You need to set the snake&#39;s `next` snake to be a clone of the original&#39;s `next` snake, if it is not null.","body":"You need to set the snake&#39;s <code>next</code> snake to be a clone of the original&#39;s <code>next</code> snake, if it is not null."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1645113514,"post_id":71161311,"comment_id":125789762,"body_markdown":"I would say a clone of the current `Snake` would be `return new Snake(c, next);`. I guess you are missing that constructor.","body":"I would say a clone of the current <code>Snake</code> would be <code>return new Snake(c, next);</code>. I guess you are missing that constructor."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645181185,"creation_date":1645137380,"answer_id":71166259,"question_id":71161311,"body_markdown":"### Solution 1\r\n\r\n    @Override\r\n    public Snake clone() {\r\n        return  new Snake(getLevel(), c);\r\n    }\r\n\r\n    private int getLevel() {\r\n        int i = 1;\r\n        Snake current = this;\r\n        while (current.next != null) {\r\n            i++;\r\n            current = current.next;\r\n        }\r\n        return i;\r\n    }\r\n\r\n### Solution 2\r\n\r\nCreate a constructor\r\n\r\n    private Snake(char c, Snake ob) {\r\n        this.c = c;\r\n        if (ob.next != null) {\r\n            this.next = new Snake(ob.next.c, ob.next);\r\n        }\r\n    }\r\n\r\nThe *clone* method:\r\n\r\n    @Override\r\n    public Snake clone() {\r\n        return new Snake(c, this);\r\n    }\r\n\r\n### Solution 3\r\n\r\n    @Override\r\n    public Snake clone() {\r\n        Snake deepCopy;\r\n\r\n        try {\r\n            deepCopy = (Snake) super.clone();\r\n\r\n            Snake current = this;\r\n            Snake deepCopyNext = deepCopy;\r\n            while (current.next != null) {\r\n                deepCopyNext.next = new Snake(0, current.next.c);\r\n                deepCopyNext = deepCopyNext.next;\r\n                current = current.next;\r\n            }\r\n        } catch (CloneNotSupportedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return deepCopy;\r\n    }\r\n\r\n### Solution 4 ([Apache Commons][1] Lang)\r\n\r\nThe class must implement `java.io.Serializable`\r\n\r\n    public class Snake implements Cloneable, Serializable\r\n\r\nThe *clone* method:\r\n\r\n    @Override\r\n    public Snake clone() {\r\n        return org.apache.commons.lang3.SerializationUtils.clone(this);\r\n    }\r\n\r\n### Solution 5 (JSON serialization with [Gson][2])\r\n\r\n    @Override\r\n    public Snake clone() {\r\n        com.google.gson.Gson gson = new com.google.gson.Gson();\r\n        return gson.fromJson(gson.toJson(this), Snake.class);\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [2]: https://en.wikipedia.org/wiki/Gson\r\n\r\n\r\n","title":"How to do deep copy for the below class in Java","body":"<h3>Solution 1</h3>\n<pre><code>@Override\npublic Snake clone() {\n    return  new Snake(getLevel(), c);\n}\n\nprivate int getLevel() {\n    int i = 1;\n    Snake current = this;\n    while (current.next != null) {\n        i++;\n        current = current.next;\n    }\n    return i;\n}\n</code></pre>\n<h3>Solution 2</h3>\n<p>Create a constructor</p>\n<pre><code>private Snake(char c, Snake ob) {\n    this.c = c;\n    if (ob.next != null) {\n        this.next = new Snake(ob.next.c, ob.next);\n    }\n}\n</code></pre>\n<p>The <em>clone</em> method:</p>\n<pre><code>@Override\npublic Snake clone() {\n    return new Snake(c, this);\n}\n</code></pre>\n<h3>Solution 3</h3>\n<pre><code>@Override\npublic Snake clone() {\n    Snake deepCopy;\n\n    try {\n        deepCopy = (Snake) super.clone();\n\n        Snake current = this;\n        Snake deepCopyNext = deepCopy;\n        while (current.next != null) {\n            deepCopyNext.next = new Snake(0, current.next.c);\n            deepCopyNext = deepCopyNext.next;\n            current = current.next;\n        }\n    } catch (CloneNotSupportedException e) {\n        throw new RuntimeException(e);\n    }\n\n    return deepCopy;\n}\n</code></pre>\n<h3>Solution 4 (<a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a> Lang)</h3>\n<p>The class must implement <code>java.io.Serializable</code></p>\n<pre><code>public class Snake implements Cloneable, Serializable\n</code></pre>\n<p>The <em>clone</em> method:</p>\n<pre><code>@Override\npublic Snake clone() {\n    return org.apache.commons.lang3.SerializationUtils.clone(this);\n}\n</code></pre>\n<h3>Solution 5 (JSON serialization with <a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a>)</h3>\n<pre><code>@Override\npublic Snake clone() {\n    com.google.gson.Gson gson = new com.google.gson.Gson();\n    return gson.fromJson(gson.toJson(this), Snake.class);\n}\n</code></pre>\n"}],"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71166259,"answer_count":1,"score":0,"last_activity_date":1645181349,"creation_date":1645113164,"question_id":71161311,"body_markdown":"Look at this class. I get the below class from a great book, &quot;On Java&quot;, but how can I deep copy the class?\r\n\r\n     public class Snake implements Cloneable {\r\n        private Snake next;\r\n        private char c;\r\n\r\n        public Snake(int i, char x) {\r\n            c = x;\r\n            if(--i &gt; 0)\r\n                next = new Snake(i, (char)(x + 1));\r\n        }\r\n\r\n        public void increment() {\r\n            c++;\r\n            if(next != null)\r\n                next.increment();\r\n        }\r\n\r\n        @Override public String toString() {\r\n            String s = &quot;:&quot; + c;\r\n            if(next != null)\r\n                s += next.toString();\r\n            return s;\r\n        }\r\n\r\n        @Override public Snake clone() {\r\n            try {\r\n               Snake snake = (Snake) super.clone();\r\n\r\n                return snake;\r\n\r\n            } catch(CloneNotSupportedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Snake s = new Snake(5, &#39;a&#39;);\r\n            System.out.println(&quot;s = &quot; + s);\r\n            Snake s2 = s.clone();\r\n            System.out.println(&quot;s2 = &quot; + s2);\r\n            s.increment();\r\n            System.out.println(\r\n                    &quot;after s.increment, s = &quot; + s);\r\n            System.out.println(\r\n                    &quot;after s.increment, s2 = &quot; + s2);\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to do deep copy for the below class in Java","body":"<p>Look at this class. I get the below class from a great book, &quot;On Java&quot;, but how can I deep copy the class?</p>\n<pre><code> public class Snake implements Cloneable {\n    private Snake next;\n    private char c;\n\n    public Snake(int i, char x) {\n        c = x;\n        if(--i &gt; 0)\n            next = new Snake(i, (char)(x + 1));\n    }\n\n    public void increment() {\n        c++;\n        if(next != null)\n            next.increment();\n    }\n\n    @Override public String toString() {\n        String s = &quot;:&quot; + c;\n        if(next != null)\n            s += next.toString();\n        return s;\n    }\n\n    @Override public Snake clone() {\n        try {\n           Snake snake = (Snake) super.clone();\n\n            return snake;\n\n        } catch(CloneNotSupportedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        Snake s = new Snake(5, 'a');\n        System.out.println(&quot;s = &quot; + s);\n        Snake s2 = s.clone();\n        System.out.println(&quot;s2 = &quot; + s2);\n        s.increment();\n        System.out.println(\n                &quot;after s.increment, s = &quot; + s);\n        System.out.println(\n                &quot;after s.increment, s2 = &quot; + s2);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","reverse-engineering","javac","recompile"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645173014,"post_id":71170391,"comment_id":125805475,"body_markdown":"Do you have a file named `classes2-dex2jar.jar.src.java`?","body":"Do you have a file named <code>classes2-dex2jar.jar.src.java</code>?"},{"owner":{"account_id":24009719,"reputation":1,"user_id":17993454,"display_name":"JAKOB FUGGER"},"score":0,"creation_date":1645173831,"post_id":71170391,"comment_id":125805763,"body_markdown":"yes i have that file. This file contains many java source files","body":"yes i have that file. This file contains many java source files"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645173961,"post_id":71170391,"comment_id":125805812,"body_markdown":"And that file is in your JDK `bin` directory? Can you show the result of running `dir`?","body":"And that file is in your JDK <code>bin</code> directory? Can you show the result of running <code>dir</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645174032,"post_id":71170391,"comment_id":125805843,"body_markdown":"You can&#39;t use javac to compile many java sources in a single jar. You will need to unpack it.","body":"You can&#39;t use javac to compile many java sources in a single jar. You will need to unpack it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645174292,"post_id":71170391,"comment_id":125805926,"body_markdown":"You&#39;ve given the file a `.java` suffix, but if it&#39;s a jar file, you can use the `jar` command: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jar.html","body":"You&#39;ve given the file a <code>.java</code> suffix, but if it&#39;s a jar file, you can use the <code>jar</code> command: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jar.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/windows/jar.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645174398,"post_id":71170391,"comment_id":125805949,"body_markdown":"And now you say that `classes2-dex2jar.jar.src.java` is a file folder?","body":"And now you say that <code>classes2-dex2jar.jar.src.java</code> is a file folder?"},{"owner":{"account_id":24009719,"reputation":1,"user_id":17993454,"display_name":"JAKOB FUGGER"},"score":0,"creation_date":1645174405,"post_id":71170391,"comment_id":125805951,"body_markdown":"its in a folder format so when i tried changing the file name extension  the format is not changing to a JAR format","body":"its in a folder format so when i tried changing the file name extension  the format is not changing to a JAR format"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1645174922,"post_id":71170391,"comment_id":125806128,"body_markdown":"What do you mean by &quot;it&#39;s in a folder format&quot;? Is it a file or is it a folder? It can&#39;t be both.","body":"What do you mean by &quot;it&#39;s in a folder format&quot;? Is it a file or is it a folder? It can&#39;t be both."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1645175539,"post_id":71170391,"comment_id":125806383,"body_markdown":"Right - so don&#39;t pass a folder to javac, which expects to be given names of java files. (As Joop says, this may well be easier in an IDE.)","body":"Right - so don&#39;t pass a folder to javac, which expects to be given names of java files. (As Joop says, this may well be easier in an IDE.)"},{"owner":{"account_id":24009719,"reputation":1,"user_id":17993454,"display_name":"JAKOB FUGGER"},"score":0,"creation_date":1645175714,"post_id":71170391,"comment_id":125806457,"body_markdown":"its a folder with human readeble source file","body":"its a folder with human readeble source file"},{"owner":{"account_id":24009719,"reputation":1,"user_id":17993454,"display_name":"JAKOB FUGGER"},"score":0,"creation_date":1645176794,"post_id":71170391,"comment_id":125806848,"body_markdown":"Please jon Skeet may  you please proovide me with instructions on how to do this i have already downloaded INTELLIJ IDEA  an IDE i will use","body":"Please jon Skeet may  you please proovide me with instructions on how to do this i have already downloaded INTELLIJ IDEA  an IDE i will use"},{"owner":{"account_id":24009719,"reputation":1,"user_id":17993454,"display_name":"JAKOB FUGGER"},"score":0,"creation_date":1645176925,"post_id":71170391,"comment_id":125806899,"body_markdown":"Please help me, how do i recompile it and make it functional using a recommended IDE like  INTELLIJ IDEA","body":"Please help me, how do i recompile it and make it functional using a recommended IDE like  INTELLIJ IDEA"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1645180567,"post_id":71170391,"comment_id":125808196,"body_markdown":"I&#39;m afraid that sort of &quot;interactive debugging&quot; isn&#39;t what Stack Overflow is for. We&#39;re not going to walk you through getting started with an IDE and reverse engineered code to compile, step by step","body":"I&#39;m afraid that sort of &quot;interactive debugging&quot; isn&#39;t what Stack Overflow is for. We&#39;re not going to walk you through getting started with an IDE and reverse engineered code to compile, step by step"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645174444,"creation_date":1645174444,"answer_id":71170708,"question_id":71170391,"body_markdown":"I am unsure about the real situation.\r\n\r\n- Unzip classes2-dex2jar.jar.\r\n- It contains a sub-directory src/java/ with sources typically in a directory tree.\r\n- For every package there is a directory: package x.y.z giving x/y/z/.\r\n- You would need to call javac inside src/java listing all *.java\r\n  with src/java on the class path (`-cp .`).\r\n- (It might be easier to do this in an IDE.)","title":"Recompiling using JAVAC command","body":"<p>I am unsure about the real situation.</p>\n<ul>\n<li>Unzip classes2-dex2jar.jar.</li>\n<li>It contains a sub-directory src/java/ with sources typically in a directory tree.</li>\n<li>For every package there is a directory: package x.y.z giving x/y/z/.</li>\n<li>You would need to call javac inside src/java listing all *.java\nwith src/java on the class path (<code>-cp .</code>).</li>\n<li>(It might be easier to do this in an IDE.)</li>\n</ul>\n"}],"owner":{"account_id":24009719,"reputation":1,"user_id":17993454,"display_name":"JAKOB FUGGER"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645181046,"creation_date":1645172734,"question_id":71170391,"body_markdown":"[this is the folder][1]I am battling to convert classes2-dex2jar.jar.src.java.\r\n\r\nSo I deleted ONE DRIVE which was recommended. JDK-8u321 and JRE-8u321 are properly installed.\r\n\r\nBut whenever I say : `javac classes2-dex2jar.jar.src.java` it&#39;s saying `javac: not a file`. I also\r\ntried `javac classes2-dex2jar.jar.src.java\\*` still it&#39;s javac not a file. \r\n\r\nthis file folder contains many java sourcefiles\r\n\r\n\r\nthis is the command&#39;s response\r\n\r\n![](https://i.stack.imgur.com/cD24f.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxO6j.png","title":"Recompiling using JAVAC command","body":"<p><a href=\"https://i.stack.imgur.com/gxO6j.png\" rel=\"nofollow noreferrer\">this is the folder</a>I am battling to convert classes2-dex2jar.jar.src.java.</p>\n<p>So I deleted ONE DRIVE which was recommended. JDK-8u321 and JRE-8u321 are properly installed.</p>\n<p>But whenever I say : <code>javac classes2-dex2jar.jar.src.java</code> it's saying <code>javac: not a file</code>. I also\ntried <code>javac classes2-dex2jar.jar.src.java\\*</code> still it's javac not a file.</p>\n<p>this file folder contains many java sourcefiles</p>\n<p>this is the command's response</p>\n<p><img src=\"https://i.stack.imgur.com/cD24f.png\" alt=\"\" /></p>\n"},{"tags":["java","inheritance","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645178763,"creation_date":1645178763,"answer_id":71171625,"question_id":71171373,"body_markdown":"from what you write this seems to be the situation:\r\n\r\n    // in a file A.java\r\n    public abstract class A {\r\n        private int quality;\r\n        public A(int quality) {\r\n            this.quality = quality;\r\n        }\r\n    }\r\n\r\n    // in another file B.java\r\n    public abstract class B extends A {\r\n        \r\n    }\r\n\r\nThe compiler will compile these classes because when it generates .class files the classes it generates have to be functional. You say &#39;without any code&#39; but the above is code. It is just not code that you are using anywhere.\r\n\r\nHowever the .class files that javac generates could be linked to from another source. The compiler doesn&#39;t know so it makes sure that the code compiles or it generates an error.\r\n\r\nin your case if you define a constructor, the parent constructor must be called explicitely or the default constructor is assumed. \r\n\r\nso your class B defines no constructor. A default constructor is generated invisibly. This default constructor can only try to call it&#39;s super constructor. Specifically it calls the parent default constructor. Except that constructor isn&#39;t there. \r\n\r\nThe generated constructor cannot call the constructor with 1 argument because it cannot know what to put in for that argument. So basically if you have a constructor argument, your child classes need to either provide that argument or you on the parent level provide a default constructor.\r\n\r\nso both of these work:\r\n\r\n     public abstract class A {\r\n        private int quality;\r\n        public A(int quality) {\r\n            this.quality = quality;\r\n        }\r\n    }\r\n\r\n    public abstract class B extends A {\r\n        public B() {\r\n            super(0);\r\n        }\r\n    }\r\n\r\nor\r\n\r\n    public abstract class A {\r\n        private int quality;\r\n        public A() {\r\n            this(0);\r\n        }\r\n        public A(int quality) {\r\n            this.quality = quality;\r\n        }\r\n    }\r\n\r\n    public abstract class B extends A {\r\n        \r\n    }\r\n\r\nIn the first case the child class explicitly calls the parent constructor. In the second the parent takes responsibility for knowing what to do with the value.\r\n\r\nProbably in your case (if you expect another class to extend B and provide implementation) you would want to do this though:\r\n\r\n    public abstract class A {\r\n        private int quality;\r\n        public A(int quality) {\r\n            this.quality = quality;\r\n        }\r\n    }\r\n\r\n    public abstract class B extends A {\r\n        public B(int quality) {\r\n            super(quality);\r\n        }\r\n    }\r\n\r\nThen when you extends this class with a non-abstract (concrete) class it can provide the value up the chain.\r\n\r\n\r\nAnd finally once more because I feel this is the idea behind your question:\r\n\r\nJust because the code isn&#39;t being utilized in the rest of your project doesn&#39;t mean the compiler isn&#39;t trying to create a usable class. because you can grab any class file from your project and copy it elsewhere and use it. So what the compiler delivers has to be correct or it throws an error.","title":"Abstract class java inheritance","body":"<p>from what you write this seems to be the situation:</p>\n<pre><code>// in a file A.java\npublic abstract class A {\n    private int quality;\n    public A(int quality) {\n        this.quality = quality;\n    }\n}\n\n// in another file B.java\npublic abstract class B extends A {\n    \n}\n</code></pre>\n<p>The compiler will compile these classes because when it generates .class files the classes it generates have to be functional. You say 'without any code' but the above is code. It is just not code that you are using anywhere.</p>\n<p>However the .class files that javac generates could be linked to from another source. The compiler doesn't know so it makes sure that the code compiles or it generates an error.</p>\n<p>in your case if you define a constructor, the parent constructor must be called explicitely or the default constructor is assumed.</p>\n<p>so your class B defines no constructor. A default constructor is generated invisibly. This default constructor can only try to call it's super constructor. Specifically it calls the parent default constructor. Except that constructor isn't there.</p>\n<p>The generated constructor cannot call the constructor with 1 argument because it cannot know what to put in for that argument. So basically if you have a constructor argument, your child classes need to either provide that argument or you on the parent level provide a default constructor.</p>\n<p>so both of these work:</p>\n<pre><code> public abstract class A {\n    private int quality;\n    public A(int quality) {\n        this.quality = quality;\n    }\n}\n\npublic abstract class B extends A {\n    public B() {\n        super(0);\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>public abstract class A {\n    private int quality;\n    public A() {\n        this(0);\n    }\n    public A(int quality) {\n        this.quality = quality;\n    }\n}\n\npublic abstract class B extends A {\n    \n}\n</code></pre>\n<p>In the first case the child class explicitly calls the parent constructor. In the second the parent takes responsibility for knowing what to do with the value.</p>\n<p>Probably in your case (if you expect another class to extend B and provide implementation) you would want to do this though:</p>\n<pre><code>public abstract class A {\n    private int quality;\n    public A(int quality) {\n        this.quality = quality;\n    }\n}\n\npublic abstract class B extends A {\n    public B(int quality) {\n        super(quality);\n    }\n}\n</code></pre>\n<p>Then when you extends this class with a non-abstract (concrete) class it can provide the value up the chain.</p>\n<p>And finally once more because I feel this is the idea behind your question:</p>\n<p>Just because the code isn't being utilized in the rest of your project doesn't mean the compiler isn't trying to create a usable class. because you can grab any class file from your project and copy it elsewhere and use it. So what the compiler delivers has to be correct or it throws an error.</p>\n"},{"tags":[],"owner":{"account_id":17977221,"reputation":109,"user_id":13064466,"display_name":"Ravindu Hirimuthugoda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645178894,"creation_date":1645178894,"answer_id":71171660,"question_id":71171373,"body_markdown":"Add the constructor to the child class and use `super()` inside the constructor.\r\n\r\nexample:\r\n\r\n    abstract class Parent{\r\n        private int x;\r\n        Parent(int x){\r\n            this.x = x;\r\n        }\r\n        \r\n    }\r\n    \r\n    abstract class Child extends Parent{\r\n        Child(int y){\r\n            super(y);\r\n        }\r\n        \r\n    }\r\n\r\nNow no compile errors :)","title":"Abstract class java inheritance","body":"<p>Add the constructor to the child class and use <code>super()</code> inside the constructor.</p>\n<p>example:</p>\n<pre><code>abstract class Parent{\n    private int x;\n    Parent(int x){\n        this.x = x;\n    }\n    \n}\n\nabstract class Child extends Parent{\n    Child(int y){\n        super(y);\n    }\n    \n}\n</code></pre>\n<p>Now no compile errors :)</p>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645180994,"creation_date":1645180994,"answer_id":71172123,"question_id":71171373,"body_markdown":"You have these two class definitions (or something equivalent).\r\n\r\n    abstract class Parent {\r\n        private int quality;\r\n        Parent(int quality) {\r\n            this.quality = quality;\r\n        }\r\n    }\r\n    \r\n    abstract class Child extends Parent {\r\n        \r\n    }\r\n\r\nLet&#39;s first look at `Parent`&#39;s constructor(s). There is only one, and it requires the caller to provide a `quality` value. You explicitly don&#39;t provide a constructor that allows you to leave the `quality` unspecified.\r\n\r\nNow you have a `Child` class that extends `Parent`. Do don&#39;t specify any constructor, so Java&#39;s default applies, to silently create a dumb no-args constructor.\r\n\r\nThe `Child` class extends its `Parent` class, meaning that every `Child` instance has all the properties of the `Parent`, including the `quality`. But when constructing a `Child`, you didn&#39;t provide a way to specify what value to use for `quality`.\r\n\r\nIn the Java inheritance system, a constructor must always start by initializing the parent class aspects of the instance, by calling a parent constructor, using the `super(...)` syntax. If you don&#39;t write that call yourself, it&#39;s silently inserted into your constructor.\r\n\r\nIt&#39;s good practice and often necessary to write explicit constructors instead of relying on some dumb automatics. And in case of inheritance, a constructor should begin with a `super(...)` call, specifying how to initialize the parent aspects of the instance to be created, in your case supplying a `quality` value to the parent constructor.\r\n\r\nSo, depending on your requirements, a solution might be\r\n\r\n    abstract class Child extends Parent {\r\n        Child() {\r\n            super(42); // All Child instances get a constant quality=42\r\n        }\r\n    }\r\n\r\nor\r\n\r\n    abstract class Child extends Parent {\r\n        // When cinstructing a Child instance, \r\n        // an explicit quality value must be supplied.\r\n        Child(int quality) {\r\n            super(quality);\r\n        }\r\n    }\r\n\r\nAfter applying all built-in Java automatic code rules, your original version is equivalent to\r\n\r\n    // Auto: If you don&#39;t specify a parent class, it&#39;s java.lang.Object\r\n    abstract class Parent extends Object {\r\n        private int quality;\r\n        Parent(int quality) {\r\n            super(); // Auto: calls the `Object()` constructor to initialize\r\n                     // aspects that every Java instance needs\r\n            this.quality = quality;\r\n        }\r\n    }\r\n\r\n    abstract class Child extends Parent {\r\n        // Auto: no constructor supplied in source, so a dumb one gets generated \r\n        Child() {\r\n            super(); // Auto: calls the parent&#39;s no-args constructor\r\n                     // But there is no such constructor, hence compile error.\r\n        }\r\n    }","title":"Abstract class java inheritance","body":"<p>You have these two class definitions (or something equivalent).</p>\n<pre><code>abstract class Parent {\n    private int quality;\n    Parent(int quality) {\n        this.quality = quality;\n    }\n}\n\nabstract class Child extends Parent {\n    \n}\n</code></pre>\n<p>Let's first look at <code>Parent</code>'s constructor(s). There is only one, and it requires the caller to provide a <code>quality</code> value. You explicitly don't provide a constructor that allows you to leave the <code>quality</code> unspecified.</p>\n<p>Now you have a <code>Child</code> class that extends <code>Parent</code>. Do don't specify any constructor, so Java's default applies, to silently create a dumb no-args constructor.</p>\n<p>The <code>Child</code> class extends its <code>Parent</code> class, meaning that every <code>Child</code> instance has all the properties of the <code>Parent</code>, including the <code>quality</code>. But when constructing a <code>Child</code>, you didn't provide a way to specify what value to use for <code>quality</code>.</p>\n<p>In the Java inheritance system, a constructor must always start by initializing the parent class aspects of the instance, by calling a parent constructor, using the <code>super(...)</code> syntax. If you don't write that call yourself, it's silently inserted into your constructor.</p>\n<p>It's good practice and often necessary to write explicit constructors instead of relying on some dumb automatics. And in case of inheritance, a constructor should begin with a <code>super(...)</code> call, specifying how to initialize the parent aspects of the instance to be created, in your case supplying a <code>quality</code> value to the parent constructor.</p>\n<p>So, depending on your requirements, a solution might be</p>\n<pre><code>abstract class Child extends Parent {\n    Child() {\n        super(42); // All Child instances get a constant quality=42\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>abstract class Child extends Parent {\n    // When cinstructing a Child instance, \n    // an explicit quality value must be supplied.\n    Child(int quality) {\n        super(quality);\n    }\n}\n</code></pre>\n<p>After applying all built-in Java automatic code rules, your original version is equivalent to</p>\n<pre><code>// Auto: If you don't specify a parent class, it's java.lang.Object\nabstract class Parent extends Object {\n    private int quality;\n    Parent(int quality) {\n        super(); // Auto: calls the `Object()` constructor to initialize\n                 // aspects that every Java instance needs\n        this.quality = quality;\n    }\n}\n\nabstract class Child extends Parent {\n    // Auto: no constructor supplied in source, so a dumb one gets generated \n    Child() {\n        super(); // Auto: calls the parent's no-args constructor\n                 // But there is no such constructor, hence compile error.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20095009,"reputation":29,"user_id":14734730,"display_name":"lanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1645371987,"accepted_answer_id":71171660,"answer_count":3,"score":0,"last_activity_date":1645180994,"creation_date":1645177692,"question_id":71171373,"body_markdown":"I have two abstract classes one inheritance from the other. In The Child abstract class I don’t have any code inside besides the declaration of the class. And in the parent abstract class I have a private int quality and a constructor that receives an int.\r\nFor some reason without any code the compiler give me compile time error.\r\nAs it tries to invoke parent class constructor but java gave his child only the default one.\r\n\r\nMy question is:\r\nWhy with out any code the compiler gives me that error.\r\n","title":"Abstract class java inheritance","body":"<p>I have two abstract classes one inheritance from the other. In The Child abstract class I don’t have any code inside besides the declaration of the class. And in the parent abstract class I have a private int quality and a constructor that receives an int.\nFor some reason without any code the compiler give me compile time error.\nAs it tries to invoke parent class constructor but java gave his child only the default one.</p>\n<p>My question is:\nWhy with out any code the compiler gives me that error.</p>\n"},{"tags":["java","groovy","sandbox","groovyshell"],"comments":[{"owner":{"account_id":191409,"reputation":1415,"user_id":431974,"accept_rate":67,"display_name":"BahmanM"},"score":0,"creation_date":1612832700,"post_id":66069960,"comment_id":116884734,"body_markdown":"You mean somewhere in a database or a conf file, a user enters `def isHighNetWorth(...) { ... }` and you&#39;d like to read that from the db/conf and execute it?","body":"You mean somewhere in a database or a conf file, a user enters <code>def isHighNetWorth(...) { ... }</code> and you&#39;d like to read that from the db/conf and execute it?"}],"answers":[{"tags":[],"owner":{"account_id":191409,"reputation":1415,"user_id":431974,"accept_rate":67,"display_name":"BahmanM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612559885,"creation_date":1612559885,"answer_id":66070697,"question_id":66069960,"body_markdown":"A bit more context would have been helpful, but given what you described:\r\n\r\nI&#39;d strongly recommend running groovyshell inside a container - one container per user/instance. \r\n\r\nYou can tightly control disk access, and also set a cap for CPU and memory usage of the container.\r\n\r\nAnd if you want to go to the extreme, you can easily run each container in a network of its own with no other nodes and no internet access.\r\n\r\nWith that, the bad code will be quite restricted to docker vulnerabilities which can be exploited from a JVM program.","title":"Groovy Shell Sandboxing Best Practices","body":"<p>A bit more context would have been helpful, but given what you described:</p>\n<p>I'd strongly recommend running groovyshell inside a container - one container per user/instance.</p>\n<p>You can tightly control disk access, and also set a cap for CPU and memory usage of the container.</p>\n<p>And if you want to go to the extreme, you can easily run each container in a network of its own with no other nodes and no internet access.</p>\n<p>With that, the bad code will be quite restricted to docker vulnerabilities which can be exploited from a JVM program.</p>\n"},{"tags":[],"owner":{"account_id":75666,"reputation":83,"user_id":216995,"display_name":"Charles Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616111088,"creation_date":1615482179,"answer_id":66587146,"question_id":66069960,"body_markdown":"I ended up creating a Policy file. Something like this:\r\n\r\n```\r\ngrant codeBase &quot;file:/your jar file&quot; {\r\n  permission java.security.AllPermissions;\r\n}\r\n\r\ngrant codeBase &quot;file:/groovy/shell&quot; {\r\n}\r\n\r\ngrant codeBase &quot;file:/groovy/script&quot; {\r\n}\r\n```\r\n\r\nWhen Groovy is executed in interpreted mode, the codeBase is either `file:/groovy/shell` or `file:/groovy/script`. You can grant specific permission(s) for either context. These permissions (or lack thereof) are independent to what you give to your main program.\r\n\r\nIn addition to the policy file, there are many other considerations too.\r\n\r\n1. What do you put into the evaluation context? If you put a 3rd party library, they may not even have the properly permission check in place.\r\n\r\n2. Some System calls, say `System.out.println()` doesn&#39;t have permission check either. So, maybe you also need a source code checker (Jenkins does that).\r\n\r\n3. To limit CPU, you may need to run the Groovy script in a separate thread.\r\n\r\n4. You probably want to limit what a Groovy script can `import` too. This can be achieved with a Groovy `ImportCustomizer`.\r\n\r\nI wrote an article: [Secure Groovy Script Execution in a Sandbox][1] to summarize my findings. I hope it will help others too.\r\n\r\n\r\n  [1]: https://chancharles.medium.com/secure-groovy-script-execution-in-a-sandbox-ea39f80ee87?source=friends_link&amp;sk=8f53e562a4cfbbcb2239cf2f78d2fb36","title":"Groovy Shell Sandboxing Best Practices","body":"<p>I ended up creating a Policy file. Something like this:</p>\n<pre><code>grant codeBase &quot;file:/your jar file&quot; {\n  permission java.security.AllPermissions;\n}\n\ngrant codeBase &quot;file:/groovy/shell&quot; {\n}\n\ngrant codeBase &quot;file:/groovy/script&quot; {\n}\n</code></pre>\n<p>When Groovy is executed in interpreted mode, the codeBase is either <code>file:/groovy/shell</code> or <code>file:/groovy/script</code>. You can grant specific permission(s) for either context. These permissions (or lack thereof) are independent to what you give to your main program.</p>\n<p>In addition to the policy file, there are many other considerations too.</p>\n<ol>\n<li><p>What do you put into the evaluation context? If you put a 3rd party library, they may not even have the properly permission check in place.</p>\n</li>\n<li><p>Some System calls, say <code>System.out.println()</code> doesn't have permission check either. So, maybe you also need a source code checker (Jenkins does that).</p>\n</li>\n<li><p>To limit CPU, you may need to run the Groovy script in a separate thread.</p>\n</li>\n<li><p>You probably want to limit what a Groovy script can <code>import</code> too. This can be achieved with a Groovy <code>ImportCustomizer</code>.</p>\n</li>\n</ol>\n<p>I wrote an article: <a href=\"https://chancharles.medium.com/secure-groovy-script-execution-in-a-sandbox-ea39f80ee87?source=friends_link&amp;sk=8f53e562a4cfbbcb2239cf2f78d2fb36\" rel=\"nofollow noreferrer\">Secure Groovy Script Execution in a Sandbox</a> to summarize my findings. I hope it will help others too.</p>\n"},{"tags":[],"owner":{"account_id":9320960,"reputation":476,"user_id":6919700,"display_name":"pxcv7r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645180841,"creation_date":1645180841,"answer_id":71172093,"question_id":66069960,"body_markdown":"Just relying on the Security Manager does not solve all the issues. There are multiple reasons why Security Manager is unsuited. Most importantly, it relies on the assumption that critical methods already incorporate the due permission checks. As already pointed out, this is not always the case. In the Java SE API alone, there are plenty of examples; expanding the scope to further 3rd party libraries, you will rarely see good implementations performing permission checks. This cannot be retrofitted. Security Manager was designed for protecting a desktop system; in contrast, on a multi-user system, you need additional protection against attacks on other users.\r\n\r\nA working approach is what Jenkins does: intercept all method calls and member accesses and check against a configured whitelist. This is implemented in https://github.com/jenkinsci/script-security-plugin\r\n\r\nA crucial thing here is how to maintain a usable whitelist. The Jenkins approach works with extensive lists of method signatures (plus blacklists). While this is a conservative approach, it&#39;s probably tedious to maintain. You should start with the smallest possible API subset that you want to offer. At best, there is a dedicated API for script users that hides all implementation details.\r\n\r\nThere are still some corner cases, in particular regarding resource exhaustion. Think for instance about the following script:\r\n    \r\n    for( int x = 7; true; x *= x );\r\n\r\nThis infinite loop will keep the CPU busy while there is no method call or field assingment to be intercepted. IMHO, the best way to handle this would be to execute the script in a separate thread and stop it after a given timeout. Yes, I mean calling `Thread.stop()`, because interrupts will just be ignored. Finally, scripts may raise any `Throwable`, even checked ones whithout declaring them; you should always use `catch Throwable` around a script.","title":"Groovy Shell Sandboxing Best Practices","body":"<p>Just relying on the Security Manager does not solve all the issues. There are multiple reasons why Security Manager is unsuited. Most importantly, it relies on the assumption that critical methods already incorporate the due permission checks. As already pointed out, this is not always the case. In the Java SE API alone, there are plenty of examples; expanding the scope to further 3rd party libraries, you will rarely see good implementations performing permission checks. This cannot be retrofitted. Security Manager was designed for protecting a desktop system; in contrast, on a multi-user system, you need additional protection against attacks on other users.</p>\n<p>A working approach is what Jenkins does: intercept all method calls and member accesses and check against a configured whitelist. This is implemented in <a href=\"https://github.com/jenkinsci/script-security-plugin\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/script-security-plugin</a></p>\n<p>A crucial thing here is how to maintain a usable whitelist. The Jenkins approach works with extensive lists of method signatures (plus blacklists). While this is a conservative approach, it's probably tedious to maintain. You should start with the smallest possible API subset that you want to offer. At best, there is a dedicated API for script users that hides all implementation details.</p>\n<p>There are still some corner cases, in particular regarding resource exhaustion. Think for instance about the following script:</p>\n<pre><code>for( int x = 7; true; x *= x );\n</code></pre>\n<p>This infinite loop will keep the CPU busy while there is no method call or field assingment to be intercepted. IMHO, the best way to handle this would be to execute the script in a separate thread and stop it after a given timeout. Yes, I mean calling <code>Thread.stop()</code>, because interrupts will just be ignored. Finally, scripts may raise any <code>Throwable</code>, even checked ones whithout declaring them; you should always use <code>catch Throwable</code> around a script.</p>\n"}],"owner":{"account_id":75666,"reputation":83,"user_id":216995,"display_name":"Charles Chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66587146,"answer_count":3,"score":2,"last_activity_date":1645180841,"creation_date":1612555847,"question_id":66069960,"body_markdown":"I am trying to set up a Groovy Shell sandbox that can execute untrusted code. These untrusted codes are provided by the end users (developers) as behaviour configurations, e.g. how to determine if a person is high net worth. So, they really are part of the main program. I need to make sure that I am not vulnerable to any bad code [e.g. infinite loop]/hacks.\r\n\r\nI understand that there are two things at play here:\r\n\r\n1. The Java VM that provides the runtime.\r\n2. The Groovy Shell that interprets and executes the code.\r\n\r\nAre there best practices to sandbox a Groovy Shell?\r\n\r\nThanks","title":"Groovy Shell Sandboxing Best Practices","body":"<p>I am trying to set up a Groovy Shell sandbox that can execute untrusted code. These untrusted codes are provided by the end users (developers) as behaviour configurations, e.g. how to determine if a person is high net worth. So, they really are part of the main program. I need to make sure that I am not vulnerable to any bad code [e.g. infinite loop]/hacks.</p>\n<p>I understand that there are two things at play here:</p>\n<ol>\n<li>The Java VM that provides the runtime.</li>\n<li>The Groovy Shell that interprets and executes the code.</li>\n</ol>\n<p>Are there best practices to sandbox a Groovy Shell?</p>\n<p>Thanks</p>\n"},{"tags":["java","jsqlparser"],"comments":[{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1645179782,"post_id":71171747,"comment_id":125807969,"body_markdown":"What is the error that you are getting ? Please add some details to your question","body":"What is the error that you are getting ? Please add some details to your question"},{"owner":{"account_id":6720502,"reputation":121,"user_id":5180726,"accept_rate":57,"display_name":"Ali Atıl"},"score":0,"creation_date":1645180166,"post_id":71171747,"comment_id":125808067,"body_markdown":"i don&#39;t get any errors. i am looking for the code to do this since the documentation is lacking and i can&#39;t find anywhere how to do this.","body":"i don&#39;t get any errors. i am looking for the code to do this since the documentation is lacking and i can&#39;t find anywhere how to do this."}],"answers":[{"tags":[],"owner":{"display_name":"user15314575"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645180704,"creation_date":1645180704,"answer_id":71172062,"question_id":71171747,"body_markdown":"According to the documentation it should work like this:\r\n\r\n    Select select = (Select) CCJSqlParserUtil.parse(&quot;select mydate from mytable&quot;);\r\n    SelectUtils.addExpression(select, new Column(&quot;mylocation&quot;));","title":"How to add new column to select statement with JSqlParser","body":"<p>According to the documentation it should work like this:</p>\n<pre><code>Select select = (Select) CCJSqlParserUtil.parse(&quot;select mydate from mytable&quot;);\nSelectUtils.addExpression(select, new Column(&quot;mylocation&quot;));\n</code></pre>\n"}],"owner":{"account_id":6720502,"reputation":121,"user_id":5180726,"accept_rate":57,"display_name":"Ali Atıl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71172062,"answer_count":1,"score":1,"last_activity_date":1645180704,"creation_date":1645179204,"question_id":71171747,"body_markdown":"This is my sql statement.\r\n\r\n```\r\nString sql = &quot;select mydate from mytable&quot;;\r\n```\r\nHow can i add new columns to it dynamically with JSqlParser?\r\n\r\n\r\nFor example i want to add &quot;mylocation&quot; column to my sql query:\r\n```\r\nString sql = &quot;select mydate, mylocation from mytable&quot;;\r\n```\r\n","title":"How to add new column to select statement with JSqlParser","body":"<p>This is my sql statement.</p>\n<pre><code>String sql = &quot;select mydate from mytable&quot;;\n</code></pre>\n<p>How can i add new columns to it dynamically with JSqlParser?</p>\n<p>For example i want to add &quot;mylocation&quot; column to my sql query:</p>\n<pre><code>String sql = &quot;select mydate, mylocation from mytable&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","microservices"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1649316185,"post_id":71172047,"comment_id":126845793,"body_markdown":"How are you trying to run the service? Is the mvn clean install successful?","body":"How are you trying to run the service? Is the mvn clean install successful?"}],"owner":{"account_id":24299030,"reputation":11,"user_id":18242810,"display_name":"Raja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645180648,"creation_date":1645180648,"question_id":71172047,"body_markdown":"I have been running this microService on IntelliJ and it had been running fine. One day suddenly it stopped working. On running the application it gives me the following error:\r\n\r\n```[INFO] --- exec-maven-plugin:1.5.0:exec (default-cli) @ business-integrations-jobs ---\r\n[ERROR] Command execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:764)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:711)\r\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:289)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n```\r\nThe code is absolutely fine, because this is the master branch and is working well for my peers. ","title":"SpringBoot Application stopped with error Command execution failed. org.apache.commons.exec.ExecuteException","body":"<p>I have been running this microService on IntelliJ and it had been running fine. One day suddenly it stopped working. On running the application it gives me the following error:</p>\n<pre><code>[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:764)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:711)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:289)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n<p>The code is absolutely fine, because this is the master branch and is working well for my peers.</p>\n"},{"tags":["java","spring-boot","java-stream"],"comments":[{"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"score":0,"creation_date":1645180475,"post_id":71171828,"comment_id":125808166,"body_markdown":"don&#39;t see in your code that you write anything to the database, so it should be no wonder that nothing is found in the database","body":"don&#39;t see in your code that you write anything to the database, so it should be no wonder that nothing is found in the database"},{"owner":{"account_id":23674083,"reputation":11,"user_id":17700515,"display_name":"Kiordan"},"score":0,"creation_date":1645196672,"post_id":71171828,"comment_id":125814149,"body_markdown":"And how i can write something to update my database.\nMy stream output is an List of ComplianceEventDto with this schema :\n{\n0 : {\n   orderLineId : &quot;UUID&quot;,\n   productId : &quot;UUID&quot;,\n   from : &quot;ONGOING&quot;,\n   to : &quot;NO_DATA&quot;\n},\n1 : ....}\n\nAnd this is the value of &quot;to&quot; that i want to save in my table order_line, in column ComplianceStatus","body":"And how i can write something to update my database. My stream output is an List of ComplianceEventDto with this schema : { 0 : {    orderLineId : &quot;UUID&quot;,    productId : &quot;UUID&quot;,    from : &quot;ONGOING&quot;,    to : &quot;NO_DATA&quot; }, 1 : ....}  And this is the value of &quot;to&quot; that i want to save in my table order_line, in column ComplianceStatus"}],"owner":{"account_id":23674083,"reputation":11,"user_id":17700515,"display_name":"Kiordan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645180479,"creation_date":1645179554,"question_id":71171828,"body_markdown":"I need to update the Compliance status of OrderLines of an Order with a button &quot;refresh status&quot; in front page, and this backend methods &quot;&quot;works&quot;&quot;.\r\n\r\nIn fact, my front refresh and show me the new Data in the column &quot;Compliance status&quot;, and my snackbar notification open a pop-up with &quot;X order lines have been updated&quot;\r\n\r\nBut, if i refresh &#39;F5&#39; my page or if i check my database, the older data are still here.\r\n\r\nCan someone explain me why ? \r\n\r\nStatus availables are : ONGOING, COMPLIANT, NOTCOMPLIANT, NO_DATA, TO_CHECK\r\n\r\nThis happens ONLY when before refresh, status are &lt;&gt; &quot;NO_DATA&quot; and after refresh status are &quot;NO_DATA&quot;. (&quot;NO_DATA&quot; means suppliers does not provide data -&gt; Generally when the production is permanently stopped).\r\n\r\nIn debug mode withy IntelliJ, we can see the \r\n- &quot;FROM&quot; value = for example, &quot;ONGOING&quot;\r\n- &quot;TO&quot; value = in this case, &quot;NO_DATA&quot;\r\n\r\nbut only the &quot;FROM&quot; data &quot;ONGOING&quot; is in my column or my database.\r\n\r\n\r\n\r\nMy service\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      @Transactional\r\n      public List&lt;ComplianceEventDto&gt; refreshComplianceStatuses(String shipmentReleaseId) {\r\n        log.debug(&quot;Finding compliance statuses from shipment release: &#39;{}&#39;...&quot;, shipmentReleaseId);\r\n        final Specification&lt;ShipmentRelease&gt; shipmentReleaseSpecification = byId(UUID.fromString(shipmentReleaseId)).and(fetchOrder());\r\n        // find shipment release from identifier\r\n        final ShipmentRelease shipmentRelease = shipmentReleaseRepository.findOne(shipmentReleaseSpecification)\r\n          .orElseThrow(ShipmentReleaseNotFoundException::new);\r\n\r\n        // find all lines\r\n        final Order order = shipmentRelease.getOrder();\r\n        final Specification&lt;ShipmentReleaseOrderLine&gt; specification = byOrder(order).and(fetchOrderLine()).and(byShipmentRelease(shipmentRelease));\r\n        final List&lt;ShipmentReleaseOrderLine&gt; shipmentReleaseOrderLines = shipmentReleaseOrderLineRepository.findAll(specification);\r\n\r\n        log.info(&quot;Finding compliance statuses from &#39;{}&#39; shipment release order lines ...&quot;, shipmentReleaseOrderLines.size());\r\n         return shipmentReleaseOrderLines.stream()\r\n          .map(ShipmentReleaseOrderLine::getOrderLine)\r\n          .distinct()\r\n          .filter(orderLine -&gt; !complianceService.findStatus(orderLine).equals(ComplianceStatus.COMPLIANT))\r\n          .map(orderLine -&gt; {\r\n            ComplianceStatus from = orderLine.getComplianceStatus();\r\n            ComplianceStatus to = complianceService.findQmsComplianceStatuses(orderLine.getOrder(), orderLine.getProduct());\r\n            log.info(&quot;Order line: &#39;{}&#39; compliance status has been updated from &#39;{}&#39; to &#39;{}&#39;&quot;, orderLine, from, to);\r\n            final ComplianceEventDto complianceEventDto = new ComplianceEventDto();\r\n            complianceEventDto.setFrom(ComplianceEventDto.FromEnum.valueOf(from.toString()));\r\n            complianceEventDto.setTo(ComplianceEventDto.ToEnum.valueOf(to.toString()));\r\n            complianceEventDto.setProductId(orderLine.getProduct().getId().toString());\r\n            complianceEventDto.setOrderLineId(orderLine.getId().toString());\r\n            return complianceEventDto;\r\n          })\r\n          .collect(Collectors.toList());\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy Controller \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      @Override\r\n      public ResponseEntity&lt;List&lt;ComplianceEventDto&gt;&gt; refreshCompliance(String shipmentReleaseId) {\r\n        final List&lt;ComplianceEventDto&gt; complianceStatuses = shipmentReleaseService.refreshComplianceStatuses(shipmentReleaseId);\r\n        return new ResponseEntity&lt;&gt;(complianceStatuses, new HttpHeaders(), HttpStatus.OK);\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMaybe the source of this error is somewhere else, i can share you others parts to helping. thanks\r\n\r\n\r\n","title":"update database using java stream","body":"<p>I need to update the Compliance status of OrderLines of an Order with a button &quot;refresh status&quot; in front page, and this backend methods &quot;&quot;works&quot;&quot;.</p>\n<p>In fact, my front refresh and show me the new Data in the column &quot;Compliance status&quot;, and my snackbar notification open a pop-up with &quot;X order lines have been updated&quot;</p>\n<p>But, if i refresh 'F5' my page or if i check my database, the older data are still here.</p>\n<p>Can someone explain me why ?</p>\n<p>Status availables are : ONGOING, COMPLIANT, NOTCOMPLIANT, NO_DATA, TO_CHECK</p>\n<p>This happens ONLY when before refresh, status are &lt;&gt; &quot;NO_DATA&quot; and after refresh status are &quot;NO_DATA&quot;. (&quot;NO_DATA&quot; means suppliers does not provide data -&gt; Generally when the production is permanently stopped).</p>\n<p>In debug mode withy IntelliJ, we can see the</p>\n<ul>\n<li>&quot;FROM&quot; value = for example, &quot;ONGOING&quot;</li>\n<li>&quot;TO&quot; value = in this case, &quot;NO_DATA&quot;</li>\n</ul>\n<p>but only the &quot;FROM&quot; data &quot;ONGOING&quot; is in my column or my database.</p>\n<p>My service\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  @Transactional\n  public List&lt;ComplianceEventDto&gt; refreshComplianceStatuses(String shipmentReleaseId) {\n    log.debug(\"Finding compliance statuses from shipment release: '{}'...\", shipmentReleaseId);\n    final Specification&lt;ShipmentRelease&gt; shipmentReleaseSpecification = byId(UUID.fromString(shipmentReleaseId)).and(fetchOrder());\n    // find shipment release from identifier\n    final ShipmentRelease shipmentRelease = shipmentReleaseRepository.findOne(shipmentReleaseSpecification)\n      .orElseThrow(ShipmentReleaseNotFoundException::new);\n\n    // find all lines\n    final Order order = shipmentRelease.getOrder();\n    final Specification&lt;ShipmentReleaseOrderLine&gt; specification = byOrder(order).and(fetchOrderLine()).and(byShipmentRelease(shipmentRelease));\n    final List&lt;ShipmentReleaseOrderLine&gt; shipmentReleaseOrderLines = shipmentReleaseOrderLineRepository.findAll(specification);\n\n    log.info(\"Finding compliance statuses from '{}' shipment release order lines ...\", shipmentReleaseOrderLines.size());\n     return shipmentReleaseOrderLines.stream()\n      .map(ShipmentReleaseOrderLine::getOrderLine)\n      .distinct()\n      .filter(orderLine -&gt; !complianceService.findStatus(orderLine).equals(ComplianceStatus.COMPLIANT))\n      .map(orderLine -&gt; {\n        ComplianceStatus from = orderLine.getComplianceStatus();\n        ComplianceStatus to = complianceService.findQmsComplianceStatuses(orderLine.getOrder(), orderLine.getProduct());\n        log.info(\"Order line: '{}' compliance status has been updated from '{}' to '{}'\", orderLine, from, to);\n        final ComplianceEventDto complianceEventDto = new ComplianceEventDto();\n        complianceEventDto.setFrom(ComplianceEventDto.FromEnum.valueOf(from.toString()));\n        complianceEventDto.setTo(ComplianceEventDto.ToEnum.valueOf(to.toString()));\n        complianceEventDto.setProductId(orderLine.getProduct().getId().toString());\n        complianceEventDto.setOrderLineId(orderLine.getId().toString());\n        return complianceEventDto;\n      })\n      .collect(Collectors.toList());\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My Controller</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  @Override\n  public ResponseEntity&lt;List&lt;ComplianceEventDto&gt;&gt; refreshCompliance(String shipmentReleaseId) {\n    final List&lt;ComplianceEventDto&gt; complianceStatuses = shipmentReleaseService.refreshComplianceStatuses(shipmentReleaseId);\n    return new ResponseEntity&lt;&gt;(complianceStatuses, new HttpHeaders(), HttpStatus.OK);\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Maybe the source of this error is somewhere else, i can share you others parts to helping. thanks</p>\n"},{"tags":["java","swing","invokelater","swingutilities"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1645179156,"post_id":71171290,"comment_id":125807770,"body_markdown":"I think you misunderstand the purpose of method `invokeLater`. Refer to [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) lesson in Oracle&#39;s Java tutorials.","body":"I think you misunderstand the purpose of method <code>invokeLater</code>. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> lesson in Oracle&#39;s Java tutorials."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1645180562,"post_id":71171290,"comment_id":125808189,"body_markdown":"Thank your for you comment Abra but I don&#39;t see where the mistake is. Do you mean I should  use a SwingWorker instead?","body":"Thank your for you comment Abra but I don&#39;t see where the mistake is. Do you mean I should  use a SwingWorker instead?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1645180699,"post_id":71171290,"comment_id":125808239,"body_markdown":"*&quot;I should use a SwingWorker instead&quot;* That&#39;s what I&#39;d have thought @Abra meant, yes.","body":"<i>&quot;I should use a SwingWorker instead&quot;</i> That&#39;s what I&#39;d have thought @Abra meant, yes."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1645181593,"post_id":71171290,"comment_id":125808551,"body_markdown":"Thank you Andrew. I give it a try...","body":"Thank you Andrew. I give it a try..."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":1,"creation_date":1645182659,"post_id":71171290,"comment_id":125808962,"body_markdown":"This was the solution. It&#39;s working fine now using a SwingWorker. Thank you for your help Abra and @Andrew Thompson ;-)","body":"This was the solution. It&#39;s working fine now using a SwingWorker. Thank you for your help Abra and @Andrew Thompson ;-)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1645202945,"post_id":71171290,"comment_id":125816860,"body_markdown":"*&quot;Thank you for your help Abra&quot;* And plus one for implementing the suggestion of @Abra without 99 back and forth comments and instead picking up the ball and running with it. I&#39;ve seen too much of the opposite of that recently, and this was a refreshing change. Glad you got it sorted. :)","body":"<i>&quot;Thank you for your help Abra&quot;</i> And plus one for implementing the suggestion of @Abra without 99 back and forth comments and instead picking up the ball and running with it. I&#39;ve seen too much of the opposite of that recently, and this was a refreshing change. Glad you got it sorted. :)"}],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645180419,"creation_date":1645177356,"question_id":71171290,"body_markdown":"I try to create and show a GUI and to populate later a DefaultComboBoxModel using `SwingUtilities.invokeLater(...)`.\r\n\r\nBut the UI is still freezing and components are not displayed until the loading thread has completed.\r\n\r\nThe main frame is instantiated by Spring application context.Building/showing GUI through &quot;fullInitialize&quot; method called by Spring after frame initialization has completed (see method code below).\r\n\r\n\r\n\t\r\n```\r\n    &lt;bean id=&quot;view&quot; class=&quot;be.philippefery.bigmap.view.MainView&quot; init-method=&quot;fullInitialize&quot;&gt;\r\n    \t&lt;constructor-arg index=&quot;0&quot; ref=&quot;applicationTitle&quot; /&gt;\r\n    \t&lt;property name=&quot;i18n&quot; ref=&quot;i18n&quot; /&gt;\r\n    \t&lt;property name=&quot;progressListener&quot; ref=&quot;progressBar&quot; /&gt;\r\n    \t&lt;property name=&quot;jb_importGpx&quot; ref=&quot;gpxImport&quot; /&gt;\r\n    \t&lt;property name=&quot;jb_importPointsOfInterest&quot; ref=&quot;poisImport&quot; /&gt;\r\n    \t&lt;property name=&quot;jp_gpxList&quot; ref=&quot;gpxFilteredTablePanel&quot; /&gt;\r\n    \t&lt;property name=&quot;jp_poiList&quot; ref=&quot;poiFilteredTablePanel&quot; /&gt;\r\n    &lt;/bean&gt;\r\n```    \t\r\n\r\nMainView class (MainView extends JFrame):\r\n```\r\n\tprivate void fullInitialize() throws IOException {\r\n\t\t//Creating the UI here\r\n\t\t//This includes a JList and its model which should be populated later (see below)\r\n\t\tcreateAndShowGUI();\t\t\t\t\r\n\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//Time consuming task sending HTTP requests to check if a list of servers are available\r\n\t\t\t\t\t//then filling a listModel instantiated through createAndShowGUI() method\r\n\t\t\t\t\tinitializeTilesServerList();\t\t\t\t\t\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\n```\r\n\tprivate void createAndShowGUI() throws IOException {\r\n\t\tthis.initialize();\r\n\t\tthis.jsonUtils = new JsonUtils();\r\n\t\tthis.createComponents();\r\n\t\tthis.buildLayout();\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n```\r\n\r\nThe problem I&#39;m having is that, even when populating the list using `SwingUtilities.invokeLater(...)`, the UI isn&#39;t displayed until this thread is terminated.\r\n\r\nThis is what is displayed while `SwingUtilities.invokeLater(...)` is running:\r\n[while thread is running][1]\r\n\r\n... and once terminated:\r\n[once thread terminated][2]\r\n\r\nAny idea?\r\n\r\n  [1]: https://i.stack.imgur.com/XGeZX.png\r\n  [2]: https://i.stack.imgur.com/505Ok.png","title":"Creating GUI and populating later the DefaultComboBoxModel of a JComboBox using SwingUtilities still freeze JFrame while populating thread is running","body":"<p>I try to create and show a GUI and to populate later a DefaultComboBoxModel using <code>SwingUtilities.invokeLater(...)</code>.</p>\n<p>But the UI is still freezing and components are not displayed until the loading thread has completed.</p>\n<p>The main frame is instantiated by Spring application context.Building/showing GUI through &quot;fullInitialize&quot; method called by Spring after frame initialization has completed (see method code below).</p>\n<pre><code>    &lt;bean id=&quot;view&quot; class=&quot;be.philippefery.bigmap.view.MainView&quot; init-method=&quot;fullInitialize&quot;&gt;\n        &lt;constructor-arg index=&quot;0&quot; ref=&quot;applicationTitle&quot; /&gt;\n        &lt;property name=&quot;i18n&quot; ref=&quot;i18n&quot; /&gt;\n        &lt;property name=&quot;progressListener&quot; ref=&quot;progressBar&quot; /&gt;\n        &lt;property name=&quot;jb_importGpx&quot; ref=&quot;gpxImport&quot; /&gt;\n        &lt;property name=&quot;jb_importPointsOfInterest&quot; ref=&quot;poisImport&quot; /&gt;\n        &lt;property name=&quot;jp_gpxList&quot; ref=&quot;gpxFilteredTablePanel&quot; /&gt;\n        &lt;property name=&quot;jp_poiList&quot; ref=&quot;poiFilteredTablePanel&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>MainView class (MainView extends JFrame):</p>\n<pre><code>    private void fullInitialize() throws IOException {\n        //Creating the UI here\n        //This includes a JList and its model which should be populated later (see below)\n        createAndShowGUI();             \n\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    //Time consuming task sending HTTP requests to check if a list of servers are available\n                    //then filling a listModel instantiated through createAndShowGUI() method\n                    initializeTilesServerList();                    \n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n</code></pre>\n<pre><code>    private void createAndShowGUI() throws IOException {\n        this.initialize();\n        this.jsonUtils = new JsonUtils();\n        this.createComponents();\n        this.buildLayout();\n        pack();\n        setVisible(true);\n    }\n</code></pre>\n<p>The problem I'm having is that, even when populating the list using <code>SwingUtilities.invokeLater(...)</code>, the UI isn't displayed until this thread is terminated.</p>\n<p>This is what is displayed while <code>SwingUtilities.invokeLater(...)</code> is running:\n<a href=\"https://i.stack.imgur.com/XGeZX.png\" rel=\"nofollow noreferrer\">while thread is running</a></p>\n<p>... and once terminated:\n<a href=\"https://i.stack.imgur.com/505Ok.png\" rel=\"nofollow noreferrer\">once thread terminated</a></p>\n<p>Any idea?</p>\n"},{"tags":["java","postgresql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645179995,"creation_date":1645179995,"answer_id":71171929,"question_id":71171201,"body_markdown":"The basic way to map JSON strings to jOOQ `Result` values is by using [`DSLContext.fetchFromJSON(String)`][1].\r\n\r\nUnfortunately, as of jOOQ 3.16, you cannot yet provide data type information to this mechanism, so everything will be a `String`, there&#39;s no implied `YearToSecond` support. There&#39;s a pending feature request https://github.com/jOOQ/jOOQ/issues/12012, which should ship soon as it is indeed very useful.\r\n\r\nThat feature request is merely a matter of opening up jOOQ&#39;s internals, which you already correctly assumed, existed. The relevant class in jOOQ 3.16 is `org.jooq.impl.JSONReader`, which could do the trick for you as a workaround, if you&#39;re willing to access jOOQ&#39;s internals via reflection?\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#fetchFromJSON(java.lang.String)","title":"Is it possible to map jooq Record from string","body":"<p>The basic way to map JSON strings to jOOQ <code>Result</code> values is by using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#fetchFromJSON(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DSLContext.fetchFromJSON(String)</code></a>.</p>\n<p>Unfortunately, as of jOOQ 3.16, you cannot yet provide data type information to this mechanism, so everything will be a <code>String</code>, there's no implied <code>YearToSecond</code> support. There's a pending feature request <a href=\"https://github.com/jOOQ/jOOQ/issues/12012\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12012</a>, which should ship soon as it is indeed very useful.</p>\n<p>That feature request is merely a matter of opening up jOOQ's internals, which you already correctly assumed, existed. The relevant class in jOOQ 3.16 is <code>org.jooq.impl.JSONReader</code>, which could do the trick for you as a workaround, if you're willing to access jOOQ's internals via reflection?</p>\n"}],"owner":{"account_id":5368627,"reputation":911,"user_id":4277762,"accept_rate":80,"display_name":"Damir Ciganović-Janković"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71171929,"answer_count":1,"score":0,"last_activity_date":1645179995,"creation_date":1645176900,"question_id":71171201,"body_markdown":"I have a case where I need to map jooq Record from json to class instance. We have used our own mapper for this in the past, but underlying table had only basic types so it was working fine. Now we have a need to map Postgres `interval` type to jooq `YearToSecond` and it is not working anymore. \r\n\r\nI was wondering if there is a way to create these via jooq api or at least somehow get to the underlying mapper that jooq uses (I assume jooq has some kind of a mapper underneath).\r\n\r\nExample:\r\n`{&quot;my_text&quot;:&quot;This is text&quot;,&quot;my_interval_type&quot;:&quot;05:00:00&quot;}` to deserialize to `MyRecord` class which will have `String myText` and `YearToSecond myIntervalType` fields","title":"Is it possible to map jooq Record from string","body":"<p>I have a case where I need to map jooq Record from json to class instance. We have used our own mapper for this in the past, but underlying table had only basic types so it was working fine. Now we have a need to map Postgres <code>interval</code> type to jooq <code>YearToSecond</code> and it is not working anymore.</p>\n<p>I was wondering if there is a way to create these via jooq api or at least somehow get to the underlying mapper that jooq uses (I assume jooq has some kind of a mapper underneath).</p>\n<p>Example:\n<code>{&quot;my_text&quot;:&quot;This is text&quot;,&quot;my_interval_type&quot;:&quot;05:00:00&quot;}</code> to deserialize to <code>MyRecord</code> class which will have <code>String myText</code> and <code>YearToSecond myIntervalType</code> fields</p>\n"},{"tags":["java","android","xml","android-studio"],"owner":{"account_id":16178365,"reputation":163,"user_id":11680484,"display_name":"RuthelCrab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645179970,"creation_date":1645179970,"question_id":71171924,"body_markdown":"I am working on an android studio app. and I&#39;ve problem in previewing the render in the IDE. can somebody please provide me a solution ?\r\n\r\ncode here\r\n\r\nin my XML file. i have no error and the application is running weel but the problem is when I open te previewer which show me there are error in rendering\r\nXML file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n  android:layout_width=&quot;match_parent&quot;\r\n  android:layout_height=&quot;match_parent&quot;\r\n  android:background=&quot;#fff&quot;\r\n  android:minHeight=&quot;500dp&quot;&gt;\r\n\r\n  &lt;EditText\r\n    android:id=&quot;@+id/edittext_search&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:inputType=&quot;text&quot;\r\n    android:textColor=&quot;@color/black&quot;\r\n    app:textColorHint=&quot;@color/black&quot;\r\n    android:background=&quot;@drawable/dw_backgroun_edit&quot;\r\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    android:importantForAutofill=&quot;no&quot; /&gt;\r\n\r\n  &lt;androidx.recyclerview.widget.RecyclerView\r\n    android:id=&quot;@+id/recyclerView_transactions&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;0dp&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    android:clipToPadding=&quot;false&quot;\r\n    android:overScrollMode=&quot;never&quot;\r\n    android:paddingVertical=&quot;8dp&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@id/edittext_search&quot; /&gt;\r\n\r\n  &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n    android:id=&quot;@+id/button_add_transaction&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginBottom=&quot;16dp&quot;\r\n    android:src=&quot;@drawable/ic_money&quot;\r\n    app:backgroundTint=&quot;@color/colorPrimary&quot;\r\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    app:tint=&quot;@color/white&quot;\r\n    tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nthis is the code of the error shown in the render panel and it indicates that the error is in a java file that is not editable: TextView.java\r\n```\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\r\n\tat android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\r\n\tat android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:934)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:954)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:361)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:727)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$7(RenderTask.java:883)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.NullPointerException\r\n\tat android.graphics.fonts.Font_Builder_Delegate.createBuffer(Font_Builder_Delegate.java:52)\r\n\tat android.graphics.fonts.Font$Builder.createBuffer(Font.java:264)\r\n\tat android.graphics.fonts.Font$Builder.&lt;init&gt;(Font.java:200)\r\n\tat android.graphics.Typeface$Builder.&lt;init&gt;(Typeface.java:517)\r\n\tat android.graphics.Typeface_Delegate.createFromDisk(Typeface_Delegate.java:99)\r\n\tat com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:488)\r\n\tat com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:500)\r\n\tat android.content.res.BridgeTypedArray.getFont(BridgeTypedArray.java:723)\r\n\tat android.widget.TextView.readTextAppearance(TextView.java:4087)\r\n\tat android.widget.TextView.&lt;init&gt;(TextView.java:1125)\r\n\tat android.widget.EditText.&lt;init&gt;(EditText.java:87)\r\n\tat android.widget.EditText.&lt;init&gt;(EditText.java:83)\r\n\tat androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:96)\r\n\tat androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:91)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createEditText(AppCompatViewInflater.java:216)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:133)\r\n\t... 27 more\r\n\r\n```\r\n\r\n[![andoid studio screenshots][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpAH8.png","title":"Error in my XML template in android studio which make render preview not be appear","body":"<p>I am working on an android studio app. and I've problem in previewing the render in the IDE. can somebody please provide me a solution ?</p>\n<p>code here</p>\n<p>in my XML file. i have no error and the application is running weel but the problem is when I open te previewer which show me there are error in rendering\nXML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:layout_height=&quot;match_parent&quot;\n  android:background=&quot;#fff&quot;\n  android:minHeight=&quot;500dp&quot;&gt;\n\n  &lt;EditText\n    android:id=&quot;@+id/edittext_search&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:inputType=&quot;text&quot;\n    android:textColor=&quot;@color/black&quot;\n    app:textColorHint=&quot;@color/black&quot;\n    android:background=&quot;@drawable/dw_backgroun_edit&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:importantForAutofill=&quot;no&quot; /&gt;\n\n  &lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView_transactions&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:background=&quot;@color/white&quot;\n    android:clipToPadding=&quot;false&quot;\n    android:overScrollMode=&quot;never&quot;\n    android:paddingVertical=&quot;8dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/edittext_search&quot; /&gt;\n\n  &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/button_add_transaction&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:src=&quot;@drawable/ic_money&quot;\n    app:backgroundTint=&quot;@color/colorPrimary&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:tint=&quot;@color/white&quot;\n    tools:ignore=&quot;ContentDescription&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>this is the code of the error shown in the render panel and it indicates that the error is in a java file that is not editable: TextView.java</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\n    at android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\n    at android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:934)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:954)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:505)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:361)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:727)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$7(RenderTask.java:883)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NullPointerException\n    at android.graphics.fonts.Font_Builder_Delegate.createBuffer(Font_Builder_Delegate.java:52)\n    at android.graphics.fonts.Font$Builder.createBuffer(Font.java:264)\n    at android.graphics.fonts.Font$Builder.&lt;init&gt;(Font.java:200)\n    at android.graphics.Typeface$Builder.&lt;init&gt;(Typeface.java:517)\n    at android.graphics.Typeface_Delegate.createFromDisk(Typeface_Delegate.java:99)\n    at com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:488)\n    at com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:500)\n    at android.content.res.BridgeTypedArray.getFont(BridgeTypedArray.java:723)\n    at android.widget.TextView.readTextAppearance(TextView.java:4087)\n    at android.widget.TextView.&lt;init&gt;(TextView.java:1125)\n    at android.widget.EditText.&lt;init&gt;(EditText.java:87)\n    at android.widget.EditText.&lt;init&gt;(EditText.java:83)\n    at androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:96)\n    at androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:91)\n    at androidx.appcompat.app.AppCompatViewInflater.createEditText(AppCompatViewInflater.java:216)\n    at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:133)\n    ... 27 more\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NpAH8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpAH8.png\" alt=\"andoid studio screenshots\" /></a></p>\n"},{"tags":["java","spring-boot","junit","mockito","powermock"],"owner":{"account_id":19130517,"reputation":11,"user_id":14671231,"display_name":"Sourav Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645179910,"creation_date":1645179910,"question_id":71171911,"body_markdown":"I&#39;m currently using versions as : \r\n&lt;br&gt;springboot-version : 2.0.1.RELEASE\r\n&lt;br&gt;Junit-version : 4.12\r\n&lt;br&gt;Powermock-module-junit4-verison : 1.6.4\r\n&lt;br&gt;Powermock-api-mockito-version : 1.6.4\r\nI need a compatible version for all these, as I&#39;m migrating my code from springboot-1x to 2x\r\n\r\nGetting this error : \r\n&lt;br&gt;\r\n\r\n       org.testng.TestNGException:\r\n    Failure in JUnit mode for class com.snapdeal.payments.disbursement.api.impl.XXX\r\n            at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:107)\r\n            at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)\r\n            at org.testng.TestRunner$1.run(TestRunner.java:697)\r\n            at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)\r\n            at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)\r\n            at org.testng.TestRunner.run(TestRunner.java:629)\r\n            at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n            at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n            at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n            at org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n            at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n            at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n            at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\r\n            at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n            at org.testng.TestNG.run(TestNG.java:1064)\r\n            at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:135)\r\n            at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:198)\r\n            at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:94)\r\n            at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:146)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\r\n    Caused by: java.lang.NoSuchMethodError: org.mockito.internal.handler.MockHandlerFactory.create(Lorg/mockito/mock/MockCreationSettings;)Lorg/mockito/internal/InternalMockHandler;\r\n            at org.powermock.api.mockito.internal.mockcreation.MockCreator.createMethodInvocationControl(MockCreator.java:109)\r\n            at org.powermock.api.mockito.internal.mockcreation.MockCreator.mock(MockCreator.java:59)\r\n            at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:203)\r\n            at org.powermock.api.extension.listener.AnnotationEnabler.standardInject(AnnotationEnabler.java:106)\r\n            at org.powermock.api.extension.listener.AnnotationEnabler.beforeTestMethod(AnnotationEnabler.java:54)\r\n            at org.powermock.tests.utils.impl.PowerMockTestNotifierImpl.notifyBeforeTestMethod(PowerMockTestNotifierImpl.java:90)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:292)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.ja\r\n    va:282)\r\n            at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\r\n            at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\r\n            at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n            at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n            at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:122)\r\n            at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:106)\r\n            at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n            at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n            at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n            at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n            at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)\r\n            ... 22 more\r\n\r\n\r\nand this also :\r\n\r\n    java.lang.AbstractMethodError: org.powermock.api.mockito.internal.mockmaker.PowerMockMaker.isTypeMockable(Ljava/lang/Class;)Lorg/mockito/plugins/MockMaker$TypeMockability;\r\n            at com.snapdeal.payments.disbursement.api.impl.XXX.&lt;init&gt;(XXX.java:41)\r\n\r\n\r\n\r\n","title":"What is the compatible version of Junit 4, powermock and springboot version 2x","body":"<p>I'm currently using versions as :\n<br>springboot-version : 2.0.1.RELEASE\n<br>Junit-version : 4.12\n<br>Powermock-module-junit4-verison : 1.6.4\n<br>Powermock-api-mockito-version : 1.6.4\nI need a compatible version for all these, as I'm migrating my code from springboot-1x to 2x</p>\n<p>Getting this error :\n<br></p>\n<pre><code>   org.testng.TestNGException:\nFailure in JUnit mode for class com.snapdeal.payments.disbursement.api.impl.XXX\n        at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:107)\n        at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)\n        at org.testng.TestRunner$1.run(TestRunner.java:697)\n        at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)\n        at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)\n        at org.testng.TestRunner.run(TestRunner.java:629)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:268)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n        at org.testng.TestNG.run(TestNG.java:1064)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:135)\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:198)\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:94)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:146)\n        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\nCaused by: java.lang.NoSuchMethodError: org.mockito.internal.handler.MockHandlerFactory.create(Lorg/mockito/mock/MockCreationSettings;)Lorg/mockito/internal/InternalMockHandler;\n        at org.powermock.api.mockito.internal.mockcreation.MockCreator.createMethodInvocationControl(MockCreator.java:109)\n        at org.powermock.api.mockito.internal.mockcreation.MockCreator.mock(MockCreator.java:59)\n        at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:203)\n        at org.powermock.api.extension.listener.AnnotationEnabler.standardInject(AnnotationEnabler.java:106)\n        at org.powermock.api.extension.listener.AnnotationEnabler.beforeTestMethod(AnnotationEnabler.java:54)\n        at org.powermock.tests.utils.impl.PowerMockTestNotifierImpl.notifyBeforeTestMethod(PowerMockTestNotifierImpl.java:90)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:292)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.ja\nva:282)\n        at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\n        at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\n        at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\n        at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\n        at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:122)\n        at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:106)\n        at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\n        at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n        at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)\n        ... 22 more\n</code></pre>\n<p>and this also :</p>\n<pre><code>java.lang.AbstractMethodError: org.powermock.api.mockito.internal.mockmaker.PowerMockMaker.isTypeMockable(Ljava/lang/Class;)Lorg/mockito/plugins/MockMaker$TypeMockability;\n        at com.snapdeal.payments.disbursement.api.impl.XXX.&lt;init&gt;(XXX.java:41)\n</code></pre>\n"},{"tags":["java","spring","http","spring-webflux"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":3,"creation_date":1582212925,"post_id":60323359,"comment_id":106707256,"body_markdown":"According to [RFC 7231](https://tools.ietf.org/html/rfc7231#section-4.3.5) `A payload within a DELETE request message has no defined semantics; sending a payload body on a DELETE request might cause some existing implementations to reject the request.`. You are dealing therefore with some non-standard-conform extension that might not be supported by default","body":"According to <a href=\"https://tools.ietf.org/html/rfc7231#section-4.3.5\" rel=\"nofollow noreferrer\">RFC 7231</a> <code>A payload within a DELETE request message has no defined semantics; sending a payload body on a DELETE request might cause some existing implementations to reject the request.</code>. You are dealing therefore with some non-standard-conform extension that might not be supported by default"}],"answers":[{"tags":[],"owner":{"account_id":15595474,"reputation":1060,"user_id":11251146,"display_name":"Nipuna Saranga"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1582222396,"creation_date":1582222396,"answer_id":60326207,"question_id":60323359,"body_markdown":"You can use webClient&#39;s `method()` operator. Simple example,\r\n\r\n    return webClient\r\n            .method(HttpMethod.DELETE)\r\n            .uri(&quot;/delete&quot;)\r\n            .body(BodyInserters.fromProducer(Mono.just(new JSONObject().put(&quot;body&quot;,&quot;stringBody&quot;).toString()), String.class))\r\n            .exchange() ","title":"How to send a body with HTTP DELETE when using WebFlux?","body":"<p>You can use webClient's <code>method()</code> operator. Simple example,</p>\n\n<pre><code>return webClient\n        .method(HttpMethod.DELETE)\n        .uri(\"/delete\")\n        .body(BodyInserters.fromProducer(Mono.just(new JSONObject().put(\"body\",\"stringBody\").toString()), String.class))\n        .exchange() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645179839,"creation_date":1645179839,"answer_id":71171894,"question_id":60323359,"body_markdown":"      return webClient\r\n                .method(HttpMethod.DELETE)\r\n                .uri(url)\r\n                .body(Mono.just(request), requestClass)\r\n                .retrieve() \r\n                .toEntity(Void.class);\r\n\r\n\r\nAs result, we will get:\r\n\r\n     Mono&lt;ResponseEntity&lt;Void&gt;&gt;\r\n\r\n","title":"How to send a body with HTTP DELETE when using WebFlux?","body":"<pre><code>  return webClient\n            .method(HttpMethod.DELETE)\n            .uri(url)\n            .body(Mono.just(request), requestClass)\n            .retrieve() \n            .toEntity(Void.class);\n</code></pre>\n<p>As result, we will get:</p>\n<pre><code> Mono&lt;ResponseEntity&lt;Void&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12469,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":60326207,"answer_count":2,"score":19,"last_activity_date":1645179839,"creation_date":1582212543,"question_id":60323359,"body_markdown":"I want to access an HTTP API which provides a `DELETE` endpoint. This particular endpoint expects a list of items (which I want to delete) as JSON body.\r\n\r\nNow, my problem is, I&#39;m using Spring Webflux. But its [WebClient][1] doesn&#39;t give me the possibility, to send a body with a `DELETE` request. For a `POST`, I&#39;d do this:\r\n\r\n    webClient.post()\r\n             .uri(&quot;/foo/bar&quot;)\r\n             .body(...)\r\n             .exchange()\r\n\r\nBut for `DELETE`, I get a [RequestHeadersSpec][2] which doesn&#39;t give me the option to provide a `body(...)`:\r\n\r\n    webClient.delete()\r\n             .uri(&quot;/foo/bar&quot;)\r\n             .body(...)       &lt;--- METHOD DOES NOT EXIST\r\n             .exchange()\r\n\r\nSo, what&#39;s the way to achieve this with Spring Webflux on the client side?\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.RequestHeadersSpec.html","title":"How to send a body with HTTP DELETE when using WebFlux?","body":"<p>I want to access an HTTP API which provides a <code>DELETE</code> endpoint. This particular endpoint expects a list of items (which I want to delete) as JSON body.</p>\n\n<p>Now, my problem is, I'm using Spring Webflux. But its <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> doesn't give me the possibility, to send a body with a <code>DELETE</code> request. For a <code>POST</code>, I'd do this:</p>\n\n<pre><code>webClient.post()\n         .uri(\"/foo/bar\")\n         .body(...)\n         .exchange()\n</code></pre>\n\n<p>But for <code>DELETE</code>, I get a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.RequestHeadersSpec.html\" rel=\"noreferrer\">RequestHeadersSpec</a> which doesn't give me the option to provide a <code>body(...)</code>:</p>\n\n<pre><code>webClient.delete()\n         .uri(\"/foo/bar\")\n         .body(...)       &lt;--- METHOD DOES NOT EXIST\n         .exchange()\n</code></pre>\n\n<p>So, what's the way to achieve this with Spring Webflux on the client side?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8412,"page":1580,"page_size":100}
