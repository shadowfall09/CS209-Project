{"items":[{"tags":["java","trivy"],"owner":{"account_id":4140698,"reputation":1600,"user_id":3396129,"accept_rate":71,"display_name":"LeoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689924933,"creation_date":1689878490,"question_id":76732844,"body_markdown":"I have a Java application where I need to run a Trivy vulnerability scan. This application has dependencies which has shaded dependencies.\r\nHow can we make Trivy scan for the shaded dependencies?","title":"Trivy scan for shaded dependencies","body":"<p>I have a Java application where I need to run a Trivy vulnerability scan. This application has dependencies which has shaded dependencies.\nHow can we make Trivy scan for the shaded dependencies?</p>\n"},{"tags":["java","gson","proguard","obfuscation"],"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1431081173,"post_id":30121642,"comment_id":48352905,"body_markdown":"Please show us the declaration of `selectedProfile` and `profiles` fields. Also if it&#39;s possible, please provide a non-obfuscated and obfuscated `.class` file. And which version of ProGuard are you using?","body":"Please show us the declaration of <code>selectedProfile</code> and <code>profiles</code> fields. Also if it&#39;s possible, please provide a non-obfuscated and obfuscated <code>.class</code> file. And which version of ProGuard are you using?"},{"owner":{"account_id":4454349,"reputation":85,"user_id":3625168,"accept_rate":60,"display_name":"user3625168"},"score":0,"creation_date":1431082816,"post_id":30121642,"comment_id":48353896,"body_markdown":"Added to bottom of post. \n\nWhole Class File (Un obfuscated) : http://pastebin.com/Jgh4x1SS\nProGuard version : 5.2.1\nDeclaration of Profiles field:\nprivate final Map&lt;String, Profile&gt; profiles = new HashMap&lt;String, Profile&gt;();","body":"Added to bottom of post.   Whole Class File (Un obfuscated) : <a href=\"http://pastebin.com/Jgh4x1SS\" rel=\"nofollow noreferrer\">pastebin.com/Jgh4x1SS</a> ProGuard version : 5.2.1 Declaration of Profiles field: private final Map&lt;String, Profile&gt; profiles = new HashMap&lt;String, Profile&gt;();"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1431083538,"post_id":30121642,"comment_id":48354344,"body_markdown":"Who writes in the `profiles` map? I suspect there is something in the Minecraft framework that uses reflection to decide what to populate your map with, and since the names have changed, it behaves differently with the obfuscated code.","body":"Who writes in the <code>profiles</code> map? I suspect there is something in the Minecraft framework that uses reflection to decide what to populate your map with, and since the names have changed, it behaves differently with the obfuscated code."},{"owner":{"account_id":1424271,"reputation":14854,"user_id":1348215,"accept_rate":78,"display_name":"Egor Neliuba"},"score":0,"creation_date":1431083569,"post_id":30121642,"comment_id":48354361,"body_markdown":"Show us the `RawProfileList` class.","body":"Show us the <code>RawProfileList</code> class."},{"owner":{"account_id":4454349,"reputation":85,"user_id":3625168,"accept_rate":60,"display_name":"user3625168"},"score":0,"creation_date":1431084030,"post_id":30121642,"comment_id":48354627,"body_markdown":"@biziclop if you look in this class (http://pastebin.com/Jgh4x1SS) the loadProfiles uses gson&#39;s fromJson method to set rawProfile&#39;s profiles to the values. RawProfileList class = http://pastebin.com/Jgh4x1SS","body":"@biziclop if you look in this class (<a href=\"http://pastebin.com/Jgh4x1SS\" rel=\"nofollow noreferrer\">pastebin.com/Jgh4x1SS</a>) the loadProfiles uses gson&#39;s fromJson method to set rawProfile&#39;s profiles to the values. RawProfileList class = <a href=\"http://pastebin.com/Jgh4x1SS\" rel=\"nofollow noreferrer\">pastebin.com/Jgh4x1SS</a>"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1431084235,"post_id":30121642,"comment_id":48354765,"body_markdown":"That&#39;s where I would start looking then. If you&#39;re getting a class cast exception when getting a value from a map, always look at the put, that&#39;s where the problems are likely to be.","body":"That&#39;s where I would start looking then. If you&#39;re getting a class cast exception when getting a value from a map, always look at the put, that&#39;s where the problems are likely to be."},{"owner":{"account_id":1424271,"reputation":14854,"user_id":1348215,"accept_rate":78,"display_name":"Egor Neliuba"},"score":1,"creation_date":1431084319,"post_id":30121642,"comment_id":48354821,"body_markdown":"Does your `proguard.cfg` contain [these rules](https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg)?","body":"Does your <code>proguard.cfg</code> contain <a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"nofollow noreferrer\">these rules</a>?"},{"owner":{"account_id":4454349,"reputation":85,"user_id":3625168,"accept_rate":60,"display_name":"user3625168"},"score":0,"creation_date":1431088719,"post_id":30121642,"comment_id":48357646,"body_markdown":"@EgorN Not all of it, only some. This is my proguard config file: http://pastebin.com/68gec9uG","body":"@EgorN Not all of it, only some. This is my proguard config file: <a href=\"http://pastebin.com/68gec9uG\" rel=\"nofollow noreferrer\">pastebin.com/68gec9uG</a>"},{"owner":{"account_id":4454349,"reputation":85,"user_id":3625168,"accept_rate":60,"display_name":"user3625168"},"score":0,"creation_date":1431152351,"post_id":30121642,"comment_id":48382907,"body_markdown":"@EgorN It worked!!!  don&#39;t know how, but it did. I&#39;m curious to know how it worked.","body":"@EgorN It worked!!!  don&#39;t know how, but it did. I&#39;m curious to know how it worked."}],"answers":[{"tags":[],"owner":{"account_id":1424271,"reputation":14854,"user_id":1348215,"accept_rate":78,"display_name":"Egor Neliuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1431162821,"creation_date":1431162821,"answer_id":30138142,"question_id":30121642,"body_markdown":"Your classes look fine. `ClassCastException` means that `Gson` didn&#39;t know that a field should have been serialized as `Profile`.\r\n\r\nMake sure your `proguard.cfg` contains all of [these rules](https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg).","title":"ProGuard: ClassCastException","body":"<p>Your classes look fine. <code>ClassCastException</code> means that <code>Gson</code> didn't know that a field should have been serialized as <code>Profile</code>.</p>\n\n<p>Make sure your <code>proguard.cfg</code> contains all of <a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"noreferrer\">these rules</a>.</p>\n"},{"tags":[],"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689924589,"creation_date":1689920350,"answer_id":76735547,"question_id":30121642,"body_markdown":"Adding to @EgorNeliuba&#39;s excellent answer, as [these rules][1] **alone** were insufficient in my situation:\r\n\r\n 1. `MyPrettyAmazingDataStruct` is fully serialized and instantiated from a corresponding JSON in **debug** mode.\r\n 2. `MyApp` is using `MyCoreLib`, hence 2 `build.gradle` files and 2 `proguard.cfg` files.\r\n\r\nMy ordeal started when my APK started crashing with: \r\n\r\n```\r\njava.lang.ClassCastException: e2.s cannot be cast to com.me.mycorelib.MyPrettyAmazingDataStruct\r\n```\r\nI checked `mapping.txt` and the only obfuscation to `e2.s` is:\r\n```\r\ncom.google.gson.internal.LinkedTreeMap -&gt; e2.s\r\n```\r\n\r\n**Note**: Getting Logcat to log messages from a Proguard-processed APK was an ordeal by itself because I did not know that the [-assumenosideeffects class android.util.Log][2] should be **commented out** in MyApp&#39;s proguard.cfg **as well**. It is not enough to do so in MyCoreLib&#39;s proguard.cfg **only**.\r\n\r\nSo, I naively added to **both** proguard.cfg files the following:\r\n```  \r\n-keep public class com.me.mycorelib.MyPrettyAmazingDataStruct\r\n-keepnames class  com.me.mycorelib.MyPrettyAmazingDataStruct\r\n-keepclassmembers class com.me.mycorelib.MyPrettyAmazingDataStruct\r\n```\r\nThat did not eliminate the exception.\r\n\r\nThen I found @EgorNeliuba&#39;s answer which added [these rules][1] (to **both files!**) and now MyApp is no longer crashing.\r\n\r\n\r\nLastly, it was helpful for me to finally understand the differences between:\r\n\r\n|Option|Class Name|Class Code|Member Name|Member Code|\r\n|------|----------|----------|-----------|-----------|\r\n|-keep|Preserved|Preserved|Preserved|Preserved|\r\n|-keepnames|Preserved|Optimized|Preserved|Optimized|\r\n|-keepclassmembers|Optimized|Optimized|Preserved|Preserved|\r\n\r\nPlease correct the above table if you spot any mistake.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\r\n  [2]: https://stackoverflow.com/a/22774371/3154666","title":"ProGuard: ClassCastException","body":"<p>Adding to @EgorNeliuba's excellent answer, as <a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"nofollow noreferrer\">these rules</a> <strong>alone</strong> were insufficient in my situation:</p>\n<ol>\n<li><code>MyPrettyAmazingDataStruct</code> is fully serialized and instantiated from a corresponding JSON in <strong>debug</strong> mode.</li>\n<li><code>MyApp</code> is using <code>MyCoreLib</code>, hence 2 <code>build.gradle</code> files and 2 <code>proguard.cfg</code> files.</li>\n</ol>\n<p>My ordeal started when my APK started crashing with:</p>\n<pre><code>java.lang.ClassCastException: e2.s cannot be cast to com.me.mycorelib.MyPrettyAmazingDataStruct\n</code></pre>\n<p>I checked <code>mapping.txt</code> and the only obfuscation to <code>e2.s</code> is:</p>\n<pre><code>com.google.gson.internal.LinkedTreeMap -&gt; e2.s\n</code></pre>\n<p><strong>Note</strong>: Getting Logcat to log messages from a Proguard-processed APK was an ordeal by itself because I did not know that the <a href=\"https://stackoverflow.com/a/22774371/3154666\">-assumenosideeffects class android.util.Log</a> should be <strong>commented out</strong> in MyApp's proguard.cfg <strong>as well</strong>. It is not enough to do so in MyCoreLib's proguard.cfg <strong>only</strong>.</p>\n<p>So, I naively added to <strong>both</strong> proguard.cfg files the following:</p>\n<pre><code>-keep public class com.me.mycorelib.MyPrettyAmazingDataStruct\n-keepnames class  com.me.mycorelib.MyPrettyAmazingDataStruct\n-keepclassmembers class com.me.mycorelib.MyPrettyAmazingDataStruct\n</code></pre>\n<p>That did not eliminate the exception.</p>\n<p>Then I found @EgorNeliuba's answer which added <a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"nofollow noreferrer\">these rules</a> (to <strong>both files!</strong>) and now MyApp is no longer crashing.</p>\n<p>Lastly, it was helpful for me to finally understand the differences between:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Option</th>\n<th>Class Name</th>\n<th>Class Code</th>\n<th>Member Name</th>\n<th>Member Code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-keep</td>\n<td>Preserved</td>\n<td>Preserved</td>\n<td>Preserved</td>\n<td>Preserved</td>\n</tr>\n<tr>\n<td>-keepnames</td>\n<td>Preserved</td>\n<td>Optimized</td>\n<td>Preserved</td>\n<td>Optimized</td>\n</tr>\n<tr>\n<td>-keepclassmembers</td>\n<td>Optimized</td>\n<td>Optimized</td>\n<td>Preserved</td>\n<td>Preserved</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Please correct the above table if you spot any mistake.</p>\n"}],"owner":{"account_id":4454349,"reputation":85,"user_id":3625168,"accept_rate":60,"display_name":"user3625168"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2975,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":30138142,"answer_count":2,"score":4,"last_activity_date":1689924589,"creation_date":1431081123,"question_id":30121642,"body_markdown":"I&#39;m getting this annoying `ClassCastException` when I obfuscate my Java code (which works fine before I obfuscate using `ProGuard`).\r\n\r\n       java.lang.ClassCastException: com.google.gson.internal.StringMap cannot be cast to net.minecraft.launcher.profile.Profile\r\n        \tat java.lang.ClassCastException: com.google.gson.internal.StringMap cannot be cast to net.minecraft.launcher.profile.Profile\r\n\tat net.minecraft.launcher.profile.ProfileManager.getSelectedProfile(SourceFile:117)\r\n\tat net.minecraft.launcher.g.run(SourceFile:184)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nThat ClastCastException error points to this bit of code, here (the bolded line being the exact line):\r\n\r\n\tpublic Profile getSelectedProfile()\r\n\t{\r\n\t\tif ((this.selectedProfile == null) || (!this.profiles.containsKey(this.selectedProfile))) {\r\n\t\t\tif (this.profiles.get(&quot;Default&quot;) != null)\r\n\t\t\t{\r\n\t\t\t\tthis.selectedProfile = &quot;Default&quot;;\r\n\t\t\t}\r\n\t\t\telse if (this.profiles.size() &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tthis.selectedProfile = ((Profile)this.profiles.values().iterator().next()).getName();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.selectedProfile = &quot;Default&quot;;\r\n\t\t\t\tthis.profiles.put(&quot;Default&quot;, new Profile(this.selectedProfile));\r\n\t\t\t}\r\n\t\t}\r\n\t\t*Profile profile = this.profiles.get(this.selectedProfile);*\r\n\t\treturn profile;\r\n\t}\r\n\r\nWhole Class File (Un obfuscated) : http://pastebin.com/Jgh4x1SS\r\n`RawProfileList` Class File (Un obfuscated) : http://pastebin.com/vPxFpYfC\r\n`ProGuard` version : 5.2.1\r\n\r\nDeclaration of Profiles field:\r\n\r\n    private final Map&lt;String, Profile&gt; profiles = new HashMap&lt;String, Profile&gt;();\r\n\r\n","title":"ProGuard: ClassCastException","body":"<p>I'm getting this annoying <code>ClassCastException</code> when I obfuscate my Java code (which works fine before I obfuscate using <code>ProGuard</code>).</p>\n\n<pre><code>   java.lang.ClassCastException: com.google.gson.internal.StringMap cannot be cast to net.minecraft.launcher.profile.Profile\n        at java.lang.ClassCastException: com.google.gson.internal.StringMap cannot be cast to net.minecraft.launcher.profile.Profile\nat net.minecraft.launcher.profile.ProfileManager.getSelectedProfile(SourceFile:117)\nat net.minecraft.launcher.g.run(SourceFile:184)\nat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>That ClastCastException error points to this bit of code, here (the bolded line being the exact line):</p>\n\n<pre><code>public Profile getSelectedProfile()\n{\n    if ((this.selectedProfile == null) || (!this.profiles.containsKey(this.selectedProfile))) {\n        if (this.profiles.get(\"Default\") != null)\n        {\n            this.selectedProfile = \"Default\";\n        }\n        else if (this.profiles.size() &gt; 0)\n        {\n            this.selectedProfile = ((Profile)this.profiles.values().iterator().next()).getName();\n        }\n        else\n        {\n            this.selectedProfile = \"Default\";\n            this.profiles.put(\"Default\", new Profile(this.selectedProfile));\n        }\n    }\n    *Profile profile = this.profiles.get(this.selectedProfile);*\n    return profile;\n}\n</code></pre>\n\n<p>Whole Class File (Un obfuscated) : <a href=\"http://pastebin.com/Jgh4x1SS\" rel=\"nofollow\">http://pastebin.com/Jgh4x1SS</a>\n<code>RawProfileList</code> Class File (Un obfuscated) : <a href=\"http://pastebin.com/vPxFpYfC\" rel=\"nofollow\">http://pastebin.com/vPxFpYfC</a>\n<code>ProGuard</code> version : 5.2.1</p>\n\n<p>Declaration of Profiles field:</p>\n\n<pre><code>private final Map&lt;String, Profile&gt; profiles = new HashMap&lt;String, Profile&gt;();\n</code></pre>\n"},{"tags":["java","android","background","imageview"],"comments":[{"owner":{"account_id":6023647,"reputation":1142,"user_id":4730040,"display_name":"Dmitriy Mitiai"},"score":0,"creation_date":1689930285,"post_id":76734413,"comment_id":135285744,"body_markdown":"What&#39;s the problem in your XML to set a full screen background image and download image there?","body":"What&#39;s the problem in your XML to set a full screen background image and download image there?"}],"answers":[{"tags":[],"owner":{"account_id":29054467,"reputation":36,"user_id":22256528,"display_name":"Muhammad Tariq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689924576,"creation_date":1689924576,"answer_id":76735974,"question_id":76734413,"body_markdown":"You need to download image from URL and that downloaded file use to set background of the activity. Make sure to replace &quot;https://www.example.com/image.jpg&quot; with the actual URL of the image you want to download. Also, replace R.layout.activity_your and R.id.your_activity_layout with the appropriate layout ID for your activity and the ID of the layout you want to set the background to, respectively.\r\n\r\n **Create a function to download the image**\r\n\r\n    suspend fun downloadImageFromUrl(context: Context, imageUrl: String): File? = withContext(Dispatchers.IO) {\r\n    var file: File? = null\r\n    try {\r\n        val url = URL(imageUrl)\r\n        val connection = url.openConnection() as HttpURLConnection\r\n        connection.doInput = true\r\n        connection.connect()\r\n        val input: InputStream = connection.inputStream\r\n\r\n        val outputDir = context.filesDir\r\n        file = File.createTempFile(&quot;image&quot;, &quot;.jpg&quot;, outputDir)\r\n        val outputStream = FileOutputStream(file)\r\n        val buffer = ByteArray(4 * 1024) // 4KB buffer\r\n\r\n        var bytesRead: Int\r\n        while (input.read(buffer).also { bytesRead = it } != -1) {\r\n            outputStream.write(buffer, 0, bytesRead)\r\n        }\r\n\r\n        outputStream.flush()\r\n        outputStream.close()\r\n        input.close()\r\n    } catch (e: Exception) {\r\n        e.printStackTrace()\r\n    }\r\n    file\r\n}\r\n\r\nIn your activity, use coroutines to download the image and set it as the background\r\n\r\n    class YourActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_your)\r\n\r\n        val imageUrl = &quot;https://www.example.com/image.jpg&quot; // Replace with your image URL\r\n\r\n        // Use a CoroutineScope to launch a coroutine\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            val downloadedFile = downloadImageFromUrl(applicationContext, imageUrl)\r\n            if (downloadedFile != null) {CoroutineScope(Dispatchers.Mian).launch {\r\n                onImageDownloaded(downloadedFile)}\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun onImageDownloaded(imageFile: File) {\r\n        val layout = findViewById&lt;RelativeLayout&gt;(R.id.your_activity_layout)\r\n        val bitmap = BitmapFactory.decodeFile(imageFile.absolutePath)\r\n        val drawable = BitmapDrawable(resources, bitmap)\r\n        layout.background = drawable\r\n    }\r\n}\r\n\r\nUsing coroutines, the image will be downloaded asynchronously without blocking the main thread, which can lead to a smoother user experience.\r\n","title":"How can I set downloaded image as background in activity?","body":"<p>You need to download image from URL and that downloaded file use to set background of the activity. Make sure to replace &quot;https://www.example.com/image.jpg&quot; with the actual URL of the image you want to download. Also, replace R.layout.activity_your and R.id.your_activity_layout with the appropriate layout ID for your activity and the ID of the layout you want to set the background to, respectively.</p>\n<p><strong>Create a function to download the image</strong></p>\n<pre><code>suspend fun downloadImageFromUrl(context: Context, imageUrl: String): File? = withContext(Dispatchers.IO) {\nvar file: File? = null\ntry {\n    val url = URL(imageUrl)\n    val connection = url.openConnection() as HttpURLConnection\n    connection.doInput = true\n    connection.connect()\n    val input: InputStream = connection.inputStream\n\n    val outputDir = context.filesDir\n    file = File.createTempFile(&quot;image&quot;, &quot;.jpg&quot;, outputDir)\n    val outputStream = FileOutputStream(file)\n    val buffer = ByteArray(4 * 1024) // 4KB buffer\n\n    var bytesRead: Int\n    while (input.read(buffer).also { bytesRead = it } != -1) {\n        outputStream.write(buffer, 0, bytesRead)\n    }\n\n    outputStream.flush()\n    outputStream.close()\n    input.close()\n} catch (e: Exception) {\n    e.printStackTrace()\n}\nfile\n</code></pre>\n<p>}</p>\n<p>In your activity, use coroutines to download the image and set it as the background</p>\n<pre><code>class YourActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_your)\n\n    val imageUrl = &quot;https://www.example.com/image.jpg&quot; // Replace with your image URL\n\n    // Use a CoroutineScope to launch a coroutine\n    CoroutineScope(Dispatchers.IO).launch {\n        val downloadedFile = downloadImageFromUrl(applicationContext, imageUrl)\n        if (downloadedFile != null) {CoroutineScope(Dispatchers.Mian).launch {\n            onImageDownloaded(downloadedFile)}\n        }\n    }\n}\n\nprivate fun onImageDownloaded(imageFile: File) {\n    val layout = findViewById&lt;RelativeLayout&gt;(R.id.your_activity_layout)\n    val bitmap = BitmapFactory.decodeFile(imageFile.absolutePath)\n    val drawable = BitmapDrawable(resources, bitmap)\n    layout.background = drawable\n}\n</code></pre>\n<p>}</p>\n<p>Using coroutines, the image will be downloaded asynchronously without blocking the main thread, which can lead to a smoother user experience.</p>\n"}],"owner":{"account_id":10370467,"reputation":25,"user_id":9714339,"display_name":"Алекс"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689924576,"creation_date":1689899011,"question_id":76734413,"body_markdown":"I get image from backend into variable ImageView and wish to set this image (which not in resourse files) as background in activity. I surf in internet, but found only variant with resource (drawable). But I have dinamic image.\r\n\r\nJava:\r\n\r\n```\r\npublic class CoreTest extends AppCompatActivity {\r\n...\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.core_test);\r\n...\r\n        Imageview imageView;\r\n        Picasso.get().load(GET_IMAGE_URL + testCountry.imageName).into(imageView);\r\n```\r\n\r\nXML\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/core_test&quot;\r\n    tools:context=&quot;.CoreTest&quot;&gt;\r\n...\r\n\r\n```\r\n\r\n","title":"How can I set downloaded image as background in activity?","body":"<p>I get image from backend into variable ImageView and wish to set this image (which not in resourse files) as background in activity. I surf in internet, but found only variant with resource (drawable). But I have dinamic image.</p>\n<p>Java:</p>\n<pre><code>public class CoreTest extends AppCompatActivity {\n...\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.core_test);\n...\n        Imageview imageView;\n        Picasso.get().load(GET_IMAGE_URL + testCountry.imageName).into(imageView);\n</code></pre>\n<p>XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/core_test&quot;\n    tools:context=&quot;.CoreTest&quot;&gt;\n...\n\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":358740,"reputation":5921,"user_id":699700,"accept_rate":69,"display_name":"Max Nanasy"},"score":0,"creation_date":1334605009,"post_id":10152159,"comment_id":13064967,"body_markdown":"RE: I think you are approaching the problem from the wrong side: UserDao fetches the user from an external system, and I want the username (used only cosmetically) to be consistent throughout a session, but refresh in a new session if it has changed in said external system.  Your approach would not exhibit this behavior.","body":"RE: I think you are approaching the problem from the wrong side: UserDao fetches the user from an external system, and I want the username (used only cosmetically) to be consistent throughout a session, but refresh in a new session if it has changed in said external system.  Your approach would not exhibit this behavior."},{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":0,"creation_date":1689783934,"post_id":10152159,"comment_id":135263599,"body_markdown":"if you want @Cacheable only for a session, you can use CacheManager bean with Session scope (the same works with request scope, if you want cache only for a request) –","body":"if you want @Cacheable only for a session, you can use CacheManager bean with Session scope (the same works with request scope, if you want cache only for a request) –"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1334391926,"creation_date":1334391926,"answer_id":10152159,"question_id":10151111,"body_markdown":"I think you are approaching the problem from the wrong side. Instead of having &quot;*local*&quot; session-scoped caches storing only one value have one global cache storing a map from user name to `User` values.\r\n\r\nIn your case drop `@Cacheable` on `getUserName()` and put it on `UserDao`:\r\n\r\n    public class UserDao {\r\n      @Cacheable(&quot;users&quot;)\r\n      public User getUserByLogin(String user) {\r\n        //...\r\n      }\r\n    }\r\n\r\nNot only this is more idiomatic usage of cache, but also it will prove to be easier to maintain and better performing.\r\n\r\nBack to your original question: no, this is not possible out-of-the-box. You would have to write your own [`CacheManager`](http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/cache/CacheManager.html) - probably a [tag:decorator] around existing implementation.","title":"Can Spring&#39;s @Cacheable annotation have the same scope as the annotated method&#39;s bean?","body":"<p>I think you are approaching the problem from the wrong side. Instead of having \"<em>local</em>\" session-scoped caches storing only one value have one global cache storing a map from user name to <code>User</code> values.</p>\n\n<p>In your case drop <code>@Cacheable</code> on <code>getUserName()</code> and put it on <code>UserDao</code>:</p>\n\n<pre><code>public class UserDao {\n  @Cacheable(\"users\")\n  public User getUserByLogin(String user) {\n    //...\n  }\n}\n</code></pre>\n\n<p>Not only this is more idiomatic usage of cache, but also it will prove to be easier to maintain and better performing.</p>\n\n<p>Back to your original question: no, this is not possible out-of-the-box. You would have to write your own <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/cache/CacheManager.html\" rel=\"nofollow\"><code>CacheManager</code></a> - probably a <a href=\"/questions/tagged/decorator\" class=\"post-tag\" title=\"show questions tagged 'decorator'\" rel=\"tag\">decorator</a> around existing implementation.</p>\n"},{"comments":[{"owner":{"account_id":358740,"reputation":5921,"user_id":699700,"accept_rate":69,"display_name":"Max Nanasy"},"score":0,"creation_date":1334604534,"post_id":10153553,"comment_id":13064788,"body_markdown":"This works, but has a memory leak without\n(\n\t\\@CacheEvict(value = &quot;userName&quot;, key=&quot;#root.target&quot;)\n\t\\@PreDestroy\n\tpublic void cleanup() {\n\t}\n)\nAlso, I&#39;ve decided not to use @Cacheable after all, since it does not guarantee that the value will be computed only once.","body":"This works, but has a memory leak without ( \t\\@CacheEvict(value = &quot;userName&quot;, key=&quot;#root.target&quot;) \t\\@PreDestroy \tpublic void cleanup() { \t} ) Also, I&#39;ve decided not to use @Cacheable after all, since it does not guarantee that the value will be computed only once."},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1334606386,"post_id":10153553,"comment_id":13065509,"body_markdown":"What do you mean by memory leak? Maybe your cache is too large. @Cacheable will lookup in cache first, so it guarantees that the value won&#39;t be computed while is still in cache.","body":"What do you mean by memory leak? Maybe your cache is too large. @Cacheable will lookup in cache first, so it guarantees that the value won&#39;t be computed while is still in cache."},{"owner":{"account_id":358740,"reputation":5921,"user_id":699700,"accept_rate":69,"display_name":"Max Nanasy"},"score":0,"creation_date":1334607087,"post_id":10153553,"comment_id":13065803,"body_markdown":"It&#39;s a memory leak because once the session ends, the value is still in cache, but can&#39;t be accessed.  The @PreDestroy ensures that the cached value is evicted when the session ends.","body":"It&#39;s a memory leak because once the session ends, the value is still in cache, but can&#39;t be accessed.  The @PreDestroy ensures that the cached value is evicted when the session ends."},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1334608894,"post_id":10153553,"comment_id":13066481,"body_markdown":"This is not a memory leak, and it&#39;s very usual in cache usage.","body":"This is not a memory leak, and it&#39;s very usual in cache usage."},{"owner":{"account_id":358740,"reputation":5921,"user_id":699700,"accept_rate":69,"display_name":"Max Nanasy"},"score":0,"creation_date":1334617325,"post_id":10153553,"comment_id":13069125,"body_markdown":"Using a default setup of SimpleCacheManager and ConcurrentMapCacheFactoryBean, the cache appears to have an unbounded size, so I would consider it a memory leak to create a cache entry per session and never evict said entry.  I also think that evicting once the session dies is a better solution than limiting the cache size for this use case, since I don&#39;t want the value to change throughout the lifetime of the session.","body":"Using a default setup of SimpleCacheManager and ConcurrentMapCacheFactoryBean, the cache appears to have an unbounded size, so I would consider it a memory leak to create a cache entry per session and never evict said entry.  I also think that evicting once the session dies is a better solution than limiting the cache size for this use case, since I don&#39;t want the value to change throughout the lifetime of the session."},{"owner":{"account_id":358740,"reputation":5921,"user_id":699700,"accept_rate":69,"display_name":"Max Nanasy"},"score":0,"creation_date":1334617717,"post_id":10153553,"comment_id":13069214,"body_markdown":"I&#39;m also starting to think that, as others have mentioned, this isn&#39;t what Cacheable is intended for, and I should just use the bean&#39;s internal caching I was using earlier to implement use cases of this nature.","body":"I&#39;m also starting to think that, as others have mentioned, this isn&#39;t what Cacheable is intended for, and I should just use the bean&#39;s internal caching I was using earlier to implement use cases of this nature."},{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":0,"creation_date":1689783853,"post_id":10153553,"comment_id":135263571,"body_markdown":"if you want @Cacheable only for a session, you can use CacheManager bean with Session scope (the same works with request scope, if you want cache only for a request)","body":"if you want @Cacheable only for a session, you can use CacheManager bean with Session scope (the same works with request scope, if you want cache only for a request)"}],"tags":[],"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"comment_count":7,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1334405940,"creation_date":1334405940,"answer_id":10153553,"question_id":10151111,"body_markdown":"I haven&#39;t tried it, but according to [Spring reference][1] I think this would work:\r\n\r\n    @Cacheable(value = &quot;userName&quot;, key = &quot;#root.target&quot;)\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/current/spring-framework-reference/html/cache.html#cache-spel-context","title":"Can Spring&#39;s @Cacheable annotation have the same scope as the annotated method&#39;s bean?","body":"<p>I haven't tried it, but according to <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/cache.html#cache-spel-context\" rel=\"nofollow\">Spring reference</a> I think this would work:</p>\n\n<pre><code>@Cacheable(value = \"userName\", key = \"#root.target\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1441032479,"post_id":10157408,"comment_id":52503079,"body_markdown":"Hi @Bozho could you please justify why you think it&#39;s better to use httpsession vs Cacheable in a spring web application?","body":"Hi @Bozho could you please justify why you think it&#39;s better to use httpsession vs Cacheable in a spring web application?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1441137476,"post_id":10157408,"comment_id":52554262,"body_markdown":"it&#39;s session-wide vs application-wide resources. It&#39;s additional effort if you want to use @Cacheable for session resources","body":"it&#39;s session-wide vs application-wide resources. It&#39;s additional effort if you want to use @Cacheable for session resources"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1334437916,"creation_date":1334437916,"answer_id":10157408,"question_id":10151111,"body_markdown":"If you want a session cache, use the session. That is, store the user in a private field in the session-scoped bean, or access the `HttpSession` object directly. `@Cacheable` is generally meant for application-wide resources. \r\n\r\nWell, you can use `key=&quot;#user.id&quot;`, and to invalidate the cache (manually or with `@CacheEvict`) on a `@PreDestroy` method, but it would be better if you don&#39;t mix the two - caching and session data.","title":"Can Spring&#39;s @Cacheable annotation have the same scope as the annotated method&#39;s bean?","body":"<p>If you want a session cache, use the session. That is, store the user in a private field in the session-scoped bean, or access the <code>HttpSession</code> object directly. <code>@Cacheable</code> is generally meant for application-wide resources. </p>\n\n<p>Well, you can use <code>key=\"#user.id\"</code>, and to invalidate the cache (manually or with <code>@CacheEvict</code>) on a <code>@PreDestroy</code> method, but it would be better if you don't mix the two - caching and session data.</p>\n"},{"tags":[],"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689924496,"creation_date":1689867001,"answer_id":76731460,"question_id":10151111,"body_markdown":"You can create CacheManager bean with Session (or Request if you want only for a request) scope.\r\nIt works perfectly fine.\r\n```\r\n  @Bean\r\n  @SessionScope\r\n  public CacheManager requestCacheManager() {\r\n    return new ConcurrentMapCacheManager();\r\n  }\r\n```\r\n\r\nConsider limiting/setting bounds for you cache (as some ppl mentioned about memory &#39;leaks&#39;)\r\nSo you can try using CaffeineCacheManager, where you can set maximum size, expire ttl etc.","title":"Can Spring&#39;s @Cacheable annotation have the same scope as the annotated method&#39;s bean?","body":"<p>You can create CacheManager bean with Session (or Request if you want only for a request) scope.\nIt works perfectly fine.</p>\n<pre><code>  @Bean\n  @SessionScope\n  public CacheManager requestCacheManager() {\n    return new ConcurrentMapCacheManager();\n  }\n</code></pre>\n<p>Consider limiting/setting bounds for you cache (as some ppl mentioned about memory 'leaks')\nSo you can try using CaffeineCacheManager, where you can set maximum size, expire ttl etc.</p>\n"}],"owner":{"account_id":358740,"reputation":5921,"user_id":699700,"accept_rate":69,"display_name":"Max Nanasy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12394,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":10153553,"answer_count":4,"score":7,"last_activity_date":1689924496,"creation_date":1334379027,"question_id":10151111,"body_markdown":"Is there an easy way to use Spring&#39;s `@Cacheable` annotation with a non-singleton (e.g. session-scoped) bean and have the cache have the same scope as said bean?\r\n\r\nExample:\r\n\r\n\timport javax.inject.Inject;\r\n\timport javax.inject.Named;\r\n\t\r\n\timport org.springframework.cache.annotation.Cacheable;\r\n\timport org.springframework.context.annotation.Scope;\r\n\timport org.springframework.security.core.context.SecurityContextHolder;\r\n\t\r\n\t@Named\r\n\t@Scope(&quot;session&quot;)\r\n\tpublic class UserNameRetriever {\r\n\t\t\r\n\t\t@Inject private UserDao userDao;\r\n\t\t\r\n\t\t@Cacheable(&quot;userName&quot;)\r\n\t\tpublic String getUserName() {\r\n\t\t\treturn userDao.getUserByLogin((String)SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getName();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nIdeally, `UserNameRetriever.getUserName()` would fetch the username from the `UserDao` once per session, but this code actually caches application-wide.","title":"Can Spring&#39;s @Cacheable annotation have the same scope as the annotated method&#39;s bean?","body":"<p>Is there an easy way to use Spring's <code>@Cacheable</code> annotation with a non-singleton (e.g. session-scoped) bean and have the cache have the same scope as said bean?</p>\n\n<p>Example:</p>\n\n<pre><code>import javax.inject.Inject;\nimport javax.inject.Named;\n\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.security.core.context.SecurityContextHolder;\n\n@Named\n@Scope(\"session\")\npublic class UserNameRetriever {\n\n    @Inject private UserDao userDao;\n\n    @Cacheable(\"userName\")\n    public String getUserName() {\n        return userDao.getUserByLogin((String)SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getName();\n    }\n\n}\n</code></pre>\n\n<p>Ideally, <code>UserNameRetriever.getUserName()</code> would fetch the username from the <code>UserDao</code> once per session, but this code actually caches application-wide.</p>\n"},{"tags":["java","android","kotlin","gradle","android-instrumentation"],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689924294,"creation_date":1689920693,"question_id":76735578,"body_markdown":"Am working on an SDK and its test failed with the following error. But still I can able to build assemble and the aar is working flawlessly. But when i run the test am getting the following error.. \r\n\r\n```java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/lifecycle/runtime/R$id;\r\nat androidx.lifecycle.ViewTreeLifecycleOwner.set(ViewTreeLifecycleOwner.java:49)\r\nat androidx.activity.ComponentActivity.initViewTreeOwners(ComponentActivity.java:431)\r\nat androidx.activity.ComponentActivity.setContentView(ComponentActivity.java:402)\r\nat com.demo.app.application.MainActivityFragment.onCreate(MainActivityFragment.java:20)\r\nat android.app.Activity.performCreate(Activity.java:7802)\r\nat android.app.Activity.performCreate(Activity.java:7791)\r\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\nat androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:730)\r\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\nat android.os.Handler.dispatchMessage(Handler.java:107)\r\nat android.os.Looper.loop(Looper.java:214)\r\nat android.app.ActivityThread.main(ActivityThread.java:7356)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\nCaused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.lifecycle.runtime.R$id&quot; on path: DexPathList[[zip file &quot;/data/app/com.app.demo.test-j1kivHfi4LEQWZGW5bU8sw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.app.demo.test-j1kivHfi4LEQWZGW5bU8sw==/lib/x86, /system/fake-libs, /data/app/com.app.demo.test-j1kivHfi4LEQWZGW5bU8sw==/base.apk!/lib/x86, /system/lib, /system/product/lib]]\r\nat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n... 20 more```\r\n\r\n\r\n\r\nin addition, in my log i can see the error \r\n\r\n\r\n ``` java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/lifecycle/runtime/R$id;\r\n        at androidx.lifecycle.ViewTreeLifecycleOwner.set(ViewTreeLifecycleOwner.java:49)\r\nTests on Pixel_XL_API_30(AVD) - 11 failed: Instrumentation run failed due to &#39;Process crashed.&#39;```","title":"instrumentation test failed with java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/lifecycle/runtime/R$id; error","body":"<p>Am working on an SDK and its test failed with the following error. But still I can able to build assemble and the aar is working flawlessly. But when i run the test am getting the following error..</p>\n<pre><code>at androidx.lifecycle.ViewTreeLifecycleOwner.set(ViewTreeLifecycleOwner.java:49)\nat androidx.activity.ComponentActivity.initViewTreeOwners(ComponentActivity.java:431)\nat androidx.activity.ComponentActivity.setContentView(ComponentActivity.java:402)\nat com.demo.app.application.MainActivityFragment.onCreate(MainActivityFragment.java:20)\nat android.app.Activity.performCreate(Activity.java:7802)\nat android.app.Activity.performCreate(Activity.java:7791)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\nat androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:730)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\nat android.os.Handler.dispatchMessage(Handler.java:107)\nat android.os.Looper.loop(Looper.java:214)\nat android.app.ActivityThread.main(ActivityThread.java:7356)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\nCaused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.lifecycle.runtime.R$id&quot; on path: DexPathList[[zip file &quot;/data/app/com.app.demo.test-j1kivHfi4LEQWZGW5bU8sw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.app.demo.test-j1kivHfi4LEQWZGW5bU8sw==/lib/x86, /system/fake-libs, /data/app/com.app.demo.test-j1kivHfi4LEQWZGW5bU8sw==/base.apk!/lib/x86, /system/lib, /system/product/lib]]\nat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n... 20 more```\n\n\n\nin addition, in my log i can see the error \n\n\n ``` java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/lifecycle/runtime/R$id;\n        at androidx.lifecycle.ViewTreeLifecycleOwner.set(ViewTreeLifecycleOwner.java:49)\nTests on Pixel_XL_API_30(AVD) - 11 failed: Instrumentation run failed due to 'Process crashed.'```\n</code></pre>\n"},{"tags":["java","spring-boot","jade4j"],"owner":{"account_id":23071180,"reputation":1,"user_id":17184859,"display_name":"Mikhail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689924055,"creation_date":1689692522,"question_id":76714149,"body_markdown":"I try to load style from my resources folder (/resources/static/styles.css) but embedded tomcat answers 404.\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class PugTemplateConfiguration {\r\n    @Bean\r\n    public SpringTemplateLoader templateLoader() {\r\n        SpringTemplateLoader templateLoader\r\n                = new SpringTemplateLoader();\r\n        templateLoader.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\r\n        templateLoader.setEncoding(&quot;UTF-8&quot;);\r\n        templateLoader.setSuffix(&quot;.pug&quot;);\r\n        return templateLoader;\r\n    }\r\n    @Bean\r\n    public PugConfiguration pugConfiguration() {\r\n        PugConfiguration configuration = new PugConfiguration();\r\n        configuration.setCaching(false);\r\n        configuration.setTemplateLoader(templateLoader());\r\n        return configuration;\r\n    }\r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        PugViewResolver viewResolver = new PugViewResolver();\r\n        viewResolver.setConfiguration(pugConfiguration());\r\n        return viewResolver;\r\n    }\r\n}\r\n```\r\ntemplates/index.pug\r\n```\r\ndoctype html\r\nhtml\r\n  head\r\n    meta(charset=&quot;UTF-8&quot;)\r\n    link(rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;)\r\n    title document title\r\n  body\r\n    p hello, world!\r\n```\r\nstyles located in resources/static/css/styles.css\r\nin target folder I can see it in /static/css/styles.css\r\n\r\nspring log:\r\n\r\n    DEBUG org.springframework.web.servlet.DispatcherServlet : GET &quot;/css/style.css&quot;, parameters={}\r\n    WARN  org.springframework.web.servlet.PageNotFound : No mapping for GET /css/style.css\r\n    DEBUG org.springframework.web.servlet.DispatcherServlet : Completed 404 NOT_FOUND\r\n\r\nI tried to move style.css to &#39;templates&#39; folder, but it did not help","title":"Can&#39;t load styles using pug4j template engine in spring boot","body":"<p>I try to load style from my resources folder (/resources/static/styles.css) but embedded tomcat answers 404.</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class PugTemplateConfiguration {\n    @Bean\n    public SpringTemplateLoader templateLoader() {\n        SpringTemplateLoader templateLoader\n                = new SpringTemplateLoader();\n        templateLoader.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\n        templateLoader.setEncoding(&quot;UTF-8&quot;);\n        templateLoader.setSuffix(&quot;.pug&quot;);\n        return templateLoader;\n    }\n    @Bean\n    public PugConfiguration pugConfiguration() {\n        PugConfiguration configuration = new PugConfiguration();\n        configuration.setCaching(false);\n        configuration.setTemplateLoader(templateLoader());\n        return configuration;\n    }\n    @Bean\n    public ViewResolver viewResolver() {\n        PugViewResolver viewResolver = new PugViewResolver();\n        viewResolver.setConfiguration(pugConfiguration());\n        return viewResolver;\n    }\n}\n</code></pre>\n<p>templates/index.pug</p>\n<pre><code>doctype html\nhtml\n  head\n    meta(charset=&quot;UTF-8&quot;)\n    link(rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;)\n    title document title\n  body\n    p hello, world!\n</code></pre>\n<p>styles located in resources/static/css/styles.css\nin target folder I can see it in /static/css/styles.css</p>\n<p>spring log:</p>\n<pre><code>DEBUG org.springframework.web.servlet.DispatcherServlet : GET &quot;/css/style.css&quot;, parameters={}\nWARN  org.springframework.web.servlet.PageNotFound : No mapping for GET /css/style.css\nDEBUG org.springframework.web.servlet.DispatcherServlet : Completed 404 NOT_FOUND\n</code></pre>\n<p>I tried to move style.css to 'templates' folder, but it did not help</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689923941,"creation_date":1689887767,"question_id":76733755,"body_markdown":"I try to define a Hibernate Entity that gets a list of calculated integers. \r\nThey are not stored in any table but calculated on the fly by database.\r\n\r\nIn my hibernate entity, I like to map this list to a List/Set.\r\n\r\n&gt; I try with `@Formula` like this\r\n```\r\n@Entity\r\npublic class MyClass {\r\n    ...\r\n    @Formula(value = &quot;database_fn_returning_id_list(col1, col2)&quot;)\r\n    private Set&lt;Integer&gt; idList = new HashSet&lt;&gt;();\r\n}\r\n```\r\nBut it doesn&#39;t compile\r\n`Could not determine type for java.util.Set, at table...`\r\n\r\n\r\n&gt; I also investigated with `@ElementCollection`\r\n\r\n```\r\n...\r\n@ElementCollection\r\n@CollectionTable( name = &quot;database_fn_returning_id_list(col1, col2)&quot;)\r\n...\r\n\r\n```\r\nI get runtime error `Schema-validation: missing table [database_fn_returning_id_list(col1, col2)]`.\r\nIt seems to accept only existing tables.\r\n\r\nDoes somebody have an idea?\r\n\r\n&gt; **UPDATE**\r\n\r\nAfter more research, it&#39;s seems than Hibernate don&#39;t map database array for following reason\r\n- Not all DBMS support arrays. Because of that, Hibernate doesn’t support native database array types.\r\n- Mappings as a @ElementCollection are not very efficient. Most developers prefer to model a many-to-many or one-to-many association.\r\n- Hibernate can’t offer lazy-loading for the elements of an array. That makes it a bad data type for any associations.\r\n- Possible to define custom `UserType` to support array of primitive types.\r\n\r\nSource : [here][1] (Thorben Janssen) and [here][2] (Baeldung)\r\n\r\n\r\n  [1]: https://thorben-janssen.com/mapping-arrays-with-hibernate/\r\n  [2]: https://www.baeldung.com/java-hibernate-map-postgresql-array\r\n\r\n\r\nYet I fallback to a not great but working solution. All integer are concatenated into a string with separator.\r\n\r\nWhen time and motivation will be available, I will dig into this `UserType`","title":"Hibernate + Map a list of Integer coming from a database function","body":"<p>I try to define a Hibernate Entity that gets a list of calculated integers.\nThey are not stored in any table but calculated on the fly by database.</p>\n<p>In my hibernate entity, I like to map this list to a List/Set.</p>\n<blockquote>\n<p>I try with <code>@Formula</code> like this</p>\n</blockquote>\n<pre><code>@Entity\npublic class MyClass {\n    ...\n    @Formula(value = &quot;database_fn_returning_id_list(col1, col2)&quot;)\n    private Set&lt;Integer&gt; idList = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>But it doesn't compile\n<code>Could not determine type for java.util.Set, at table...</code></p>\n<blockquote>\n<p>I also investigated with <code>@ElementCollection</code></p>\n</blockquote>\n<pre><code>...\n@ElementCollection\n@CollectionTable( name = &quot;database_fn_returning_id_list(col1, col2)&quot;)\n...\n\n</code></pre>\n<p>I get runtime error <code>Schema-validation: missing table [database_fn_returning_id_list(col1, col2)]</code>.\nIt seems to accept only existing tables.</p>\n<p>Does somebody have an idea?</p>\n<blockquote>\n<p><strong>UPDATE</strong></p>\n</blockquote>\n<p>After more research, it's seems than Hibernate don't map database array for following reason</p>\n<ul>\n<li>Not all DBMS support arrays. Because of that, Hibernate doesn’t support native database array types.</li>\n<li>Mappings as a @ElementCollection are not very efficient. Most developers prefer to model a many-to-many or one-to-many association.</li>\n<li>Hibernate can’t offer lazy-loading for the elements of an array. That makes it a bad data type for any associations.</li>\n<li>Possible to define custom <code>UserType</code> to support array of primitive types.</li>\n</ul>\n<p>Source : <a href=\"https://thorben-janssen.com/mapping-arrays-with-hibernate/\" rel=\"nofollow noreferrer\">here</a> (Thorben Janssen) and <a href=\"https://www.baeldung.com/java-hibernate-map-postgresql-array\" rel=\"nofollow noreferrer\">here</a> (Baeldung)</p>\n<p>Yet I fallback to a not great but working solution. All integer are concatenated into a string with separator.</p>\n<p>When time and motivation will be available, I will dig into this <code>UserType</code></p>\n"},{"tags":["java","rest","asynchronous","amazon-s3"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689923877,"post_id":76735884,"comment_id":135284610,"body_markdown":"You don&#39;t need a configuration change, you need to fix your code. The stream is *always* going to be closed when the `@PUT` method returns. You must have read the stream before that happens, no way around it.","body":"You don&#39;t need a configuration change, you need to fix your code. The stream is <i>always</i> going to be closed when the <code>@PUT</code> method returns. You must have read the stream before that happens, no way around it."}],"owner":{"account_id":29062026,"reputation":1,"user_id":22262451,"display_name":"Mayank Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689923801,"creation_date":1689923763,"question_id":76735884,"body_markdown":"I am trying to upload a file to s3 asynchronously using my Java Api, but in async thread the i/o stream is getting closed the request is completed\r\n\r\nhere is my code\r\n\r\nController class \r\n\r\n```\r\n@PUT\r\n   // @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    public String uploadFile(@FormDataParam(&quot;file&quot;) InputStream uploadedInputStream , @FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetail ) throws IOException {\r\n        String key  = &quot;media/&quot; + fileDetail.getFileName();\r\n        String s3MediaUrl =   S3Helper.IMG_BUCKET_NAME + key;\r\n        fileUploadService.uploadFile(uploadedInputStream,fileDetail);\r\n\r\n        return s3MediaUrl;\r\n    }\r\n```\r\nFileUpliadSerivce Class\r\n\r\n```\r\npublic void uploadFile(InputStream uploadedInputStream, FormDataContentDisposition fileDetail) throws OustMeException, IOException {\r\n        \r\nThread newThread = new Thread(() -&gt; {\r\n      byte[] bytes;\r\n            try {\r\n                bytes = IOUtils.toByteArray(uploadedInputStream);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            String fileName = fileDetail.getFileName();\r\n            String filePath = &quot;/tmp/&quot; + fileName;\r\n            File file = new File(filePath);\r\n            try (OutputStream out = Files.newOutputStream(file.toPath())) {\r\n                out.write(bytes);\r\n                out.flush();\r\n            } catch (IOException e) {\r\n                log.error(&quot;exception occurred while writing file to memory. Exception : {}&quot;, e.getMessage());\r\n                throw new RuntimeException(e);\r\n\r\n            }\r\n            String key = &quot;course/media/image/&quot; + fileName;\r\n            S3Helper.getInstance().upload(S3Helper.IMG_BUCKET_NAME, key, filePath);\r\n            file.delete();\r\n    \r\n});\r\n newThread.start();\r\n    }\r\n```\r\n\r\ngetting this exception on upload :\r\n\r\n```\r\nException in thread &quot;pool-3-thread-1&quot; org.jvnet.mimepull.MIMEParsingException: java.io.IOException: Stream Closed\r\n2023-07-21 12:15:40     at org.jvnet.mimepull.WeakDataFile.read(WeakDataFile.java:112)\r\n2023-07-21 12:15:40     at org.jvnet.mimepull.DataFile.read(DataFile.java:77)\r\n2023-07-21 12:15:40     at org.jvnet.mimepull.FileData.read(FileData.java:69)\r\n2023-07-21 12:15:40     at org.jvnet.mimepull.DataHead$ReadMultiStream.fetch(DataHead.java:265)\r\n2023-07-21 12:15:40     at org.jvnet.mimepull.DataHead$ReadMultiStream.read(DataHead.java:219)\r\n2023-07-21 12:15:40     at java.io.InputStream.read(InputStream.java:101)\r\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2146)\r\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copy(IOUtils.java:2102)\r\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2123)\r\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copy(IOUtils.java:2078)\r\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:721)\r\n2023-07-21 12:15:40     at com.oustme.data.service.impl.FileUploadService.lambda$uploadFile$0(FileUploadService.java:32)\r\n2023-07-21 12:15:40     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2023-07-21 12:15:40     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2023-07-21 12:15:40     at java.lang.Thread.run(Thread.java:750)\r\n2023-07-21 12:15:40 Caused by: java.io.IOException: Stream Closed\r\n2023-07-21 12:15:40     at java.io.RandomAccessFile.readBytes(Native Method)\r\n2023-07-21 12:15:40     at java.io.RandomAccessFile.read(RandomAccessFile.java:377)\r\n2023-07-21 12:15:40     at java.io.RandomAccessFile.readFully(RandomAccessFile.java:436)\r\n2023-07-21 12:15:40     at org.jvnet.mimepull.WeakDataFile.read(WeakDataFile.java:110)\r\n2023-07-21 12:15:40     ... 14 more\r\n```\r\nis there any configuration changes needed to be done to keep the stream alive?\r\n","title":"org.jvnet.mimepull.MIMEParsingException: java.io.IOException: Stream Closed","body":"<p>I am trying to upload a file to s3 asynchronously using my Java Api, but in async thread the i/o stream is getting closed the request is completed</p>\n<p>here is my code</p>\n<p>Controller class</p>\n<pre><code>@PUT\n   // @Produces(MediaType.APPLICATION_JSON)\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    public String uploadFile(@FormDataParam(&quot;file&quot;) InputStream uploadedInputStream , @FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetail ) throws IOException {\n        String key  = &quot;media/&quot; + fileDetail.getFileName();\n        String s3MediaUrl =   S3Helper.IMG_BUCKET_NAME + key;\n        fileUploadService.uploadFile(uploadedInputStream,fileDetail);\n\n        return s3MediaUrl;\n    }\n</code></pre>\n<p>FileUpliadSerivce Class</p>\n<pre><code>public void uploadFile(InputStream uploadedInputStream, FormDataContentDisposition fileDetail) throws OustMeException, IOException {\n        \nThread newThread = new Thread(() -&gt; {\n      byte[] bytes;\n            try {\n                bytes = IOUtils.toByteArray(uploadedInputStream);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n\n            String fileName = fileDetail.getFileName();\n            String filePath = &quot;/tmp/&quot; + fileName;\n            File file = new File(filePath);\n            try (OutputStream out = Files.newOutputStream(file.toPath())) {\n                out.write(bytes);\n                out.flush();\n            } catch (IOException e) {\n                log.error(&quot;exception occurred while writing file to memory. Exception : {}&quot;, e.getMessage());\n                throw new RuntimeException(e);\n\n            }\n            String key = &quot;course/media/image/&quot; + fileName;\n            S3Helper.getInstance().upload(S3Helper.IMG_BUCKET_NAME, key, filePath);\n            file.delete();\n    \n});\n newThread.start();\n    }\n</code></pre>\n<p>getting this exception on upload :</p>\n<pre><code>Exception in thread &quot;pool-3-thread-1&quot; org.jvnet.mimepull.MIMEParsingException: java.io.IOException: Stream Closed\n2023-07-21 12:15:40     at org.jvnet.mimepull.WeakDataFile.read(WeakDataFile.java:112)\n2023-07-21 12:15:40     at org.jvnet.mimepull.DataFile.read(DataFile.java:77)\n2023-07-21 12:15:40     at org.jvnet.mimepull.FileData.read(FileData.java:69)\n2023-07-21 12:15:40     at org.jvnet.mimepull.DataHead$ReadMultiStream.fetch(DataHead.java:265)\n2023-07-21 12:15:40     at org.jvnet.mimepull.DataHead$ReadMultiStream.read(DataHead.java:219)\n2023-07-21 12:15:40     at java.io.InputStream.read(InputStream.java:101)\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2146)\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copy(IOUtils.java:2102)\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2123)\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.copy(IOUtils.java:2078)\n2023-07-21 12:15:40     at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:721)\n2023-07-21 12:15:40     at com.oustme.data.service.impl.FileUploadService.lambda$uploadFile$0(FileUploadService.java:32)\n2023-07-21 12:15:40     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2023-07-21 12:15:40     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2023-07-21 12:15:40     at java.lang.Thread.run(Thread.java:750)\n2023-07-21 12:15:40 Caused by: java.io.IOException: Stream Closed\n2023-07-21 12:15:40     at java.io.RandomAccessFile.readBytes(Native Method)\n2023-07-21 12:15:40     at java.io.RandomAccessFile.read(RandomAccessFile.java:377)\n2023-07-21 12:15:40     at java.io.RandomAccessFile.readFully(RandomAccessFile.java:436)\n2023-07-21 12:15:40     at org.jvnet.mimepull.WeakDataFile.read(WeakDataFile.java:110)\n2023-07-21 12:15:40     ... 14 more\n</code></pre>\n<p>is there any configuration changes needed to be done to keep the stream alive?</p>\n"},{"tags":["java","arrays","data-structures"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1689916489,"post_id":76735267,"comment_id":135283490,"body_markdown":"You are wrong.  The sorted array is [ 0 1 5 5 8 8 9 ].  The third smallest is 5, the third largest is 8.","body":"You are wrong.  The sorted array is [ 0 1 5 5 8 8 9 ].  The third smallest is 5, the third largest is 8."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1689916879,"post_id":76735267,"comment_id":135283531,"body_markdown":"@TimRoberts: 8 is the third largest item/element, 5 is the third largest *value* - as Prabhjyot Singh isn&#39;t satisfied, *k smallest/largest element* may be worded misleadingly.","body":"@TimRoberts: 8 is the third largest item/element, 5 is the third largest <i>value</i> - as Prabhjyot Singh isn&#39;t satisfied, <i>k smallest/largest element</i> may be worded misleadingly."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1689918221,"post_id":76735267,"comment_id":135283707,"body_markdown":"Good spotting.  If you are supposed to remove duplicates, then [5 5] is correct.  If you are not supposed to remove duplicates, then [5 8] is correct.","body":"Good spotting.  If you are supposed to remove duplicates, then [5 5] is correct.  If you are not supposed to remove duplicates, then [5 8] is correct."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1689918262,"post_id":76735267,"comment_id":135283718,"body_markdown":"(See `println()`s, too.)","body":"(See <code>println()</code>s, too.)"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1689920075,"post_id":76735267,"comment_id":135283962,"body_markdown":"1) if you would like to continue with the approach which you chosen: [sort the array,use the same array to find  the kth smallest value]: you iterate from the beginnig of array trying to find the kth unique value from the beginnig ( so you skip counting when the previous value is equal to the current).  2)Anyhow in this solution I would also recommend to use more efficient sort (the buildin java .sort() is perfectly fine).   3) You can solve this problem without sorting the array as well, but you would need 2 additional arrays of size k, if you want I can share also this solution.","body":"1) if you would like to continue with the approach which you chosen: [sort the array,use the same array to find  the kth smallest value]: you iterate from the beginnig of array trying to find the kth unique value from the beginnig ( so you skip counting when the previous value is equal to the current).  2)Anyhow in this solution I would also recommend to use more efficient sort (the buildin java .sort() is perfectly fine).   3) You can solve this problem without sorting the array as well, but you would need 2 additional arrays of size k, if you want I can share also this solution."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1689950540,"post_id":76735267,"comment_id":135289795,"body_markdown":"Hey! It seems that you are new to StackOverflow. You can find many answers to this question on SO. Please check those before asking a question yourself.","body":"Hey! It seems that you are new to StackOverflow. You can find many answers to this question on SO. Please check those before asking a question yourself."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689923454,"creation_date":1689923454,"answer_id":76735841,"question_id":76735267,"body_markdown":"You would at least have to make &#119896; a dynamic value, so that it not only works for 3 but for any any other valid &#119896;.\r\n\r\nOne way to approach this is using two priority queues: one for keeping the &#119896; smallest (unique) values so far, and one for keeping the &#119896; greatest (unique) values so far. Also use a HashSet to skip processing values that were already encountered before.\r\n\r\nAt the end of this process, the two values at the fronts of both queues are the values to return.\r\n\r\nHere is how that could look:\r\n\r\n```\r\n    static int[] SmallestLargestArrayUsingFunction(int[] arr, int k) {\r\n        Queue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\r\n        Queue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\n        Set&lt;Integer&gt; collected = new HashSet&lt;Integer&gt;();\r\n\r\n        for (var value : arr) {\r\n            if (collected.contains(value)) continue;\r\n            collected.add(value);\r\n            if (k &gt; 0) {\r\n                k--;\r\n                minHeap.add(value);\r\n                maxHeap.add(value);\r\n            } else {\r\n                if (value &lt; maxHeap.peek()) {\r\n                    maxHeap.poll(); // Make room for lesser value\r\n                    maxHeap.add(value);\r\n                }\r\n                if (value &gt; minHeap.peek()) {\r\n                    minHeap.poll(); // Make room for greater value\r\n                    minHeap.add(value);\r\n                }\r\n            }\r\n        }\r\n        int[] ans = {maxHeap.peek(), minHeap.peek()};\r\n        return ans;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        int[] arr = { 5, 1, 8, 5, 9, 8, 0 };\r\n        int k = 3;\r\n        System.out.println(&quot;Orignal Array:&quot;);\r\n        printArray(arr);\r\n        System.out.println(&quot;Kth Smallest and Largest values using function are:&quot;);\r\n        int[] result = SmallestLargestArrayUsingFunction(arr, k);\r\n        System.out.println(result[0]+&quot; &quot;+result[1]); // 5 5 \r\n    }\r\n```\r\n","title":"Finding k Number of Largest and Smallest Elements in an Array (Java)","body":"<p>You would at least have to make 𝑘 a dynamic value, so that it not only works for 3 but for any any other valid 𝑘.</p>\n<p>One way to approach this is using two priority queues: one for keeping the 𝑘 smallest (unique) values so far, and one for keeping the 𝑘 greatest (unique) values so far. Also use a HashSet to skip processing values that were already encountered before.</p>\n<p>At the end of this process, the two values at the fronts of both queues are the values to return.</p>\n<p>Here is how that could look:</p>\n<pre><code>    static int[] SmallestLargestArrayUsingFunction(int[] arr, int k) {\n        Queue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\n        Queue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\n        Set&lt;Integer&gt; collected = new HashSet&lt;Integer&gt;();\n\n        for (var value : arr) {\n            if (collected.contains(value)) continue;\n            collected.add(value);\n            if (k &gt; 0) {\n                k--;\n                minHeap.add(value);\n                maxHeap.add(value);\n            } else {\n                if (value &lt; maxHeap.peek()) {\n                    maxHeap.poll(); // Make room for lesser value\n                    maxHeap.add(value);\n                }\n                if (value &gt; minHeap.peek()) {\n                    minHeap.poll(); // Make room for greater value\n                    minHeap.add(value);\n                }\n            }\n        }\n        int[] ans = {maxHeap.peek(), minHeap.peek()};\n        return ans;\n    }\n    \n    public static void main(String[] args) {\n        int[] arr = { 5, 1, 8, 5, 9, 8, 0 };\n        int k = 3;\n        System.out.println(&quot;Orignal Array:&quot;);\n        printArray(arr);\n        System.out.println(&quot;Kth Smallest and Largest values using function are:&quot;);\n        int[] result = SmallestLargestArrayUsingFunction(arr, k);\n        System.out.println(result[0]+&quot; &quot;+result[1]); // 5 5 \n    }\n</code></pre>\n"}],"owner":{"account_id":24749400,"reputation":1,"user_id":18635117,"display_name":"Prabhjyot Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689923454,"creation_date":1689916252,"question_id":76735267,"body_markdown":"Hi Stack Overflow community,\r\n\r\nI&#39;m working on a programming task where I need to find the k number of largest and smallest elements in an array. I&#39;ve written a program in Java to solve this problem, but I&#39;m facing some issues.\r\n\r\nHere&#39;s my current approach:\r\n\r\n```\r\npackage Arrays;\r\nimport java.util.Arrays;\r\npublic class KthSmallestAndLargestArray {\r\n        static void printArray(int[] arr) {\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n    static void KthSmallLargeArrayUsingLogic(int[] arr) {\r\n        int temp=0;\r\n        for (int i = 0; i &lt; arr.length - 1; i++) {\r\n            for (int j = 0; j &lt; arr.length - i - 1; j++) {\r\n                if (arr[j] &gt; arr[j + 1]) {\r\n                    temp = arr[j];\r\n                    arr[j] = arr[j + 1];\r\n                    arr[j + 1] = temp;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;Sorted Array:&quot;);\r\n        printArray(arr);\r\n        System.out.println(&quot;Kth Smallest and Largest values using logic are:&quot;);\r\n        System.out.println(arr[2]+&quot; &quot;+arr[arr.length-3]);\r\n    }\r\n    static int[] SmallestLargestArrayUsingFunction(int[] arr){\r\n        Arrays.sort(arr);\r\n        int[] ans={arr[0],arr[arr.length-1]};\r\n        System.out.println(arr[2]+&quot; &quot;+arr[arr.length-3]);\r\n        return ans;\r\n    }\r\n    public static void main(String[] args) {\r\n        int[] arr = { 5, 1, 8, 5, 9, 8, 0 };\r\n        System.out.println(&quot;Orignal Array:&quot;);\r\n        printArray(arr);\r\n        KthSmallLargeArrayUsingLogic(arr);\r\n        System.out.println(&quot;Kth Smallest and Largest values using function are:&quot;);\r\n        SmallestLargestArrayUsingFunction(arr);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe problem I&#39;m encountering is whenever I try finding 3rd largest and smallest in an array{ 5, 1, 8, 5, 9, 8, 0 } it is giving me output as {5,8} which is incorrect it should provide output as {5,5}, However I try solving this by removing duplicates from an array and it worked but I don&#39;t want to remove duplicates.\r\n\r\nWithout removing duplicates:\r\n[enter image description here](https://i.stack.imgur.com/EUW7I.png)\r\n\r\nAny help or advice would be greatly appreciated!","title":"Finding k Number of Largest and Smallest Elements in an Array (Java)","body":"<p>Hi Stack Overflow community,</p>\n<p>I'm working on a programming task where I need to find the k number of largest and smallest elements in an array. I've written a program in Java to solve this problem, but I'm facing some issues.</p>\n<p>Here's my current approach:</p>\n<pre><code>package Arrays;\nimport java.util.Arrays;\npublic class KthSmallestAndLargestArray {\n        static void printArray(int[] arr) {\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n    static void KthSmallLargeArrayUsingLogic(int[] arr) {\n        int temp=0;\n        for (int i = 0; i &lt; arr.length - 1; i++) {\n            for (int j = 0; j &lt; arr.length - i - 1; j++) {\n                if (arr[j] &gt; arr[j + 1]) {\n                    temp = arr[j];\n                    arr[j] = arr[j + 1];\n                    arr[j + 1] = temp;\n                }\n            }\n        }\n        System.out.println(&quot;Sorted Array:&quot;);\n        printArray(arr);\n        System.out.println(&quot;Kth Smallest and Largest values using logic are:&quot;);\n        System.out.println(arr[2]+&quot; &quot;+arr[arr.length-3]);\n    }\n    static int[] SmallestLargestArrayUsingFunction(int[] arr){\n        Arrays.sort(arr);\n        int[] ans={arr[0],arr[arr.length-1]};\n        System.out.println(arr[2]+&quot; &quot;+arr[arr.length-3]);\n        return ans;\n    }\n    public static void main(String[] args) {\n        int[] arr = { 5, 1, 8, 5, 9, 8, 0 };\n        System.out.println(&quot;Orignal Array:&quot;);\n        printArray(arr);\n        KthSmallLargeArrayUsingLogic(arr);\n        System.out.println(&quot;Kth Smallest and Largest values using function are:&quot;);\n        SmallestLargestArrayUsingFunction(arr);\n    }\n}\n</code></pre>\n<p>The problem I'm encountering is whenever I try finding 3rd largest and smallest in an array{ 5, 1, 8, 5, 9, 8, 0 } it is giving me output as {5,8} which is incorrect it should provide output as {5,5}, However I try solving this by removing duplicates from an array and it worked but I don't want to remove duplicates.</p>\n<p>Without removing duplicates:\n<a href=\"https://i.stack.imgur.com/EUW7I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Any help or advice would be greatly appreciated!</p>\n"},{"tags":["java","connection-pooling","jedis"],"comments":[{"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"score":0,"creation_date":1390211320,"post_id":21230503,"comment_id":31978356,"body_markdown":"Can you add the whole code of JedisFactory? Especially the getInstance() impl and getJedisPool()?","body":"Can you add the whole code of JedisFactory? Especially the getInstance() impl and getJedisPool()?"},{"owner":{"account_id":92573,"reputation":13381,"user_id":253656,"accept_rate":80,"display_name":"ipkiss"},"score":0,"creation_date":1390211450,"post_id":21230503,"comment_id":31978468,"body_markdown":"I added the complete code of JedisFactory","body":"I added the complete code of JedisFactory"},{"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"score":0,"creation_date":1390212494,"post_id":21230503,"comment_id":31979071,"body_markdown":"Do you use 2 or more threads? Could be a multithreading issue?","body":"Do you use 2 or more threads? Could be a multithreading issue?"},{"owner":{"account_id":92573,"reputation":13381,"user_id":253656,"accept_rate":80,"display_name":"ipkiss"},"score":0,"creation_date":1390214194,"post_id":21230503,"comment_id":31980063,"body_markdown":"My app is a servlet web and of course there are multi threads.","body":"My app is a servlet web and of course there are multi threads."},{"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"score":1,"creation_date":1390215354,"post_id":21230503,"comment_id":31980761,"body_markdown":"Then you should protect your JedisFactory and JedisPool instance with either setting them as static final (with eager instanciation) or volatile  (with double check locking - deferred instanciation). If not, each thread can make a local copy of it (for performance), the object can be instanciated twice. So it is possible that you have many JedisPool instances at runtime that just spam your redis server that does not have enough connections.","body":"Then you should protect your JedisFactory and JedisPool instance with either setting them as static final (with eager instanciation) or volatile  (with double check locking - deferred instanciation). If not, each thread can make a local copy of it (for performance), the object can be instanciated twice. So it is possible that you have many JedisPool instances at runtime that just spam your redis server that does not have enough connections."},{"owner":{"account_id":78976,"reputation":1526,"user_id":224335,"accept_rate":40,"display_name":"Jannik Jochem"},"score":0,"creation_date":1415093086,"post_id":21230503,"comment_id":42050479,"body_markdown":"Also note that `Jedis.close()` will automatically call `JedisPool.returnBrokenResource()` or `JedisPool.returnResource()` for you if the `Jedis` was acquired from a `Pool`.","body":"Also note that <code>Jedis.close()</code> will automatically call <code>JedisPool.returnBrokenResource()</code> or <code>JedisPool.returnResource()</code> for you if the <code>Jedis</code> was acquired from a <code>Pool</code>."}],"answers":[{"comments":[{"owner":{"account_id":92573,"reputation":13381,"user_id":253656,"accept_rate":80,"display_name":"ipkiss"},"score":2,"creation_date":1390267140,"post_id":21236427,"comment_id":32008624,"body_markdown":"Do you have any document that mentions about JedisPoolConfig params? I tried to search but just got a list of function api with no description. For example, I want to know what &quot;WhenExhaustedAction&quot; does?","body":"Do you have any document that mentions about JedisPoolConfig params? I tried to search but just got a list of function api with no description. For example, I want to know what &quot;WhenExhaustedAction&quot; does?"},{"owner":{"account_id":95302,"reputation":3910,"user_id":1392690,"accept_rate":79,"display_name":"JohnMerlino"},"score":1,"creation_date":1402623338,"post_id":21236427,"comment_id":37355305,"body_markdown":"There is no setMaxActive for JedisPoolConfig. This won&#39;t even compile.","body":"There is no setMaxActive for JedisPoolConfig. This won&#39;t even compile."},{"owner":{"account_id":25902,"reputation":3385,"user_id":66992,"accept_rate":50,"display_name":"Alexandre L Telles"},"score":4,"creation_date":1402625955,"post_id":21236427,"comment_id":37355864,"body_markdown":"@JohnMerlino you&#39;re right, in the newest version of Jedis, they changed the commons-pool to version 2.X, so the new method is called setMaxTotal() now, will update the answer soon.","body":"@JohnMerlino you&#39;re right, in the newest version of Jedis, they changed the commons-pool to version 2.X, so the new method is called setMaxTotal() now, will update the answer soon."}],"tags":[],"owner":{"account_id":25902,"reputation":3385,"user_id":66992,"accept_rate":50,"display_name":"Alexandre L Telles"},"comment_count":3,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1689923454,"creation_date":1390227848,"answer_id":21236427,"question_id":21230503,"body_markdown":"You haven&#39;t configured the **maxTotal** size of the pool, and the default value is only 8. You could change the JedisFactory constructor to:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    public JedisFactory() {\r\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n        &lt;b&gt;poolConfig.setMaxTotal(128);&lt;/b&gt;\r\n        jedisPool = new JedisPool(poolConfig, RedisDBConfig.HOST, RedisDBConfig.PORT, RedisDBConfig.TIMEOUT, RedisDBConfig.PASSWORD);\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nBeware also of the default value of the **WhenExhaustedAction** (WHEN_EXHAUSTED_BLOCK), as it may not be your desired behavior.\r\n\r\nJedis uses Apache Commons Pool, and you can read about its parameters here: [GenericObjectPool][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-pool/api-1.6/org/apache/commons/pool/impl/GenericObjectPool.html","title":"How Jedis Pool works?","body":"<p>You haven't configured the <strong>maxTotal</strong> size of the pool, and the default value is only 8. You could change the JedisFactory constructor to:</p>\n<pre><code>\n    public JedisFactory() {\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\n        <b>poolConfig.setMaxTotal(128);</b>\n        jedisPool = new JedisPool(poolConfig, RedisDBConfig.HOST, RedisDBConfig.PORT, RedisDBConfig.TIMEOUT, RedisDBConfig.PASSWORD);\n    }\n</code></pre>\n<p>Beware also of the default value of the <strong>WhenExhaustedAction</strong> (WHEN_EXHAUSTED_BLOCK), as it may not be your desired behavior.</p>\n<p>Jedis uses Apache Commons Pool, and you can read about its parameters here: <a href=\"http://commons.apache.org/proper/commons-pool/api-1.6/org/apache/commons/pool/impl/GenericObjectPool.html\" rel=\"nofollow noreferrer\">GenericObjectPool</a></p>\n"}],"owner":{"account_id":92573,"reputation":13381,"user_id":253656,"accept_rate":80,"display_name":"ipkiss"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61134,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"answer_count":1,"score":37,"last_activity_date":1689923454,"creation_date":1390210629,"question_id":21230503,"body_markdown":"I&#39;m using Jedis pool to manage connections to Redis server. An example code of mine as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public Set&lt;String&gt; getTopArticleList(int start, int end) {\r\n        Set&lt;String&gt; list = null;\r\n        Jedis j = JedisFactory.getInstance().getJedisPool().getResource();\r\n        Pipeline pipe = j.pipelined();\r\n        try {\r\n            // do stuff with redis\r\n            pipe.sync();\r\n        } catch (JedisConnectionException jex) {\r\n            JedisFactory.getInstance().getJedisPool().returnBrokenResource(j);\r\n        } finally {\r\n            JedisFactory.getInstance().getJedisPool().returnResource(j);\r\n        }\r\n        return list;\r\n    }\r\n\r\nCode to create and retrieve the Jedis pool:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class JedisFactory {\r\n        private static JedisPool jedisPool;\r\n        public JedisFactory() {\r\n            JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n            jedisPool = new JedisPool(\r\n                poolConfig,\r\n                RedisDBConfig.HOST,\r\n                RedisDBConfig.PORT,\r\n                RedisDBConfig.TIMEOUT,\r\n                RedisDBConfig.PASSWORD\r\n            );\r\n        }\r\n    \r\n        public JedisPool getJedisPool() {\r\n            return jedisPool;\r\n        }\r\n    \r\n        public static JedisFactory getInstance() {\r\n            if (instance == null) {\r\n                instance = new JedisFactory();\r\n            }\r\n            return instance;\r\n        }\r\n     }            \r\n\r\nThe problem is that after reaching the number of limited connections, the web cannot be accessed anymore. Am I doing something wrong?","title":"How Jedis Pool works?","body":"<p>I'm using Jedis pool to manage connections to Redis server. An example code of mine as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Set&lt;String&gt; getTopArticleList(int start, int end) {\n    Set&lt;String&gt; list = null;\n    Jedis j = JedisFactory.getInstance().getJedisPool().getResource();\n    Pipeline pipe = j.pipelined();\n    try {\n        // do stuff with redis\n        pipe.sync();\n    } catch (JedisConnectionException jex) {\n        JedisFactory.getInstance().getJedisPool().returnBrokenResource(j);\n    } finally {\n        JedisFactory.getInstance().getJedisPool().returnResource(j);\n    }\n    return list;\n}\n</code></pre>\n\n<p>Code to create and retrieve the Jedis pool:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class JedisFactory {\n    private static JedisPool jedisPool;\n    public JedisFactory() {\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\n        jedisPool = new JedisPool(\n            poolConfig,\n            RedisDBConfig.HOST,\n            RedisDBConfig.PORT,\n            RedisDBConfig.TIMEOUT,\n            RedisDBConfig.PASSWORD\n        );\n    }\n\n    public JedisPool getJedisPool() {\n        return jedisPool;\n    }\n\n    public static JedisFactory getInstance() {\n        if (instance == null) {\n            instance = new JedisFactory();\n        }\n        return instance;\n    }\n }            \n</code></pre>\n\n<p>The problem is that after reaching the number of limited connections, the web cannot be accessed anymore. Am I doing something wrong?</p>\n"},{"tags":["java","mysql","string","password-encryption"],"comments":[{"owner":{"display_name":"user890904"},"score":0,"creation_date":1401139977,"post_id":23877580,"comment_id":36756807,"body_markdown":"I see you have accepted an answer. yet you need to pay attention to this line: String test = encryptionfinal.replace(encryption, &quot;&quot;); \n\nreplace changes the first occurrence of the string and you never know if the encoded bytes in the array result in a string that itself contains the &quot;encryption&quot; string.","body":"I see you have accepted an answer. yet you need to pay attention to this line: String test = encryptionfinal.replace(encryption, &quot;&quot;);   replace changes the first occurrence of the string and you never know if the encoded bytes in the array result in a string that itself contains the &quot;encryption&quot; string."},{"owner":{"display_name":"user890904"},"score":0,"creation_date":1401140427,"post_id":23877580,"comment_id":36756990,"body_markdown":"also is your program portable too? or does it run on your own server? if you are going to store the key and encryption string in your code then it can be relatively easy find out.","body":"also is your program portable too? or does it run on your own server? if you are going to store the key and encryption string in your code then it can be relatively easy find out."},{"owner":{"display_name":"user3677640"},"score":0,"creation_date":1401174650,"post_id":23877580,"comment_id":36766449,"body_markdown":"It is portable how would I go about fixing the security issue and thanks A.J","body":"It is portable how would I go about fixing the security issue and thanks A.J"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689923315,"post_id":23877580,"comment_id":135284494,"body_markdown":"1. `String` is not a container for binary data. 2. MySQL already has facilities for encryption and indeed for passwords. 3. Don&#39;t encrypt passwords: see the tag info for [tag:password-encryption] for why not. 4. Don&#39;t re-invent the wheel.","body":"1. <code>String</code> is not a container for binary data. 2. MySQL already has facilities for encryption and indeed for passwords. 3. Don&#39;t encrypt passwords: see the tag info for <a href=\"https://stackoverflow.com/questions/tagged/password-encryption\">password-encryption</a> for why not. 4. Don&#39;t re-invent the wheel."}],"answers":[{"tags":[],"owner":{"account_id":3904817,"reputation":13849,"user_id":3231778,"accept_rate":100,"display_name":"Evandro Pomatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401150611,"creation_date":1401139014,"answer_id":23877835,"question_id":23877580,"body_markdown":"When you persist real user passwords (which I assume is what you are doing) for authentication you only need to store the password hash, and you should add the salt **before** the encryption, not after. Bellow is an example with MD5 but there are other algorithms for hash generation avaible for Java.\r\n\r\n    String saltedPassword = password + salt;\r\n    MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    md.update(saltedPassword .getBytes());\r\n    byte byteData[] = md.digest();\r\n\r\nA general good practice is to create a individual salt for each user. You never decrypt a hash, you only compare it again when the user inputs the password for validation.\r\n\r\nNow, if you are encrypting and storing a password that ***needs to be retrieved***, like a database password, or even for a real user why not, you dont need salt. A symmetric or asymmetric algorithm will be enough. I personally always use AES 256 when I need it, and it is supported by Java as well.\r\n\r\nTo store and retrieve it properly you will need to encoded the generated bytes returned by the algorith/Java API, and personally I always use **Base64** for it.\r\n\r\nThe [official Base64][1] came in Java 8, but it is avaible in ealier releases as well. You can use Apache implementation if you want too.\r\n\r\n    Base64.getEncoder().encodeToString(encryptedPasswordArray);\r\n\r\nI think this can lead you to solve your problem, but if you have any further questions please let us know.\r\n\r\n  [1]: http://blog.eyallupu.com/2013/11/base64-encoding-in-java-8.html","title":"Converting String To Byte - Java","body":"<p>When you persist real user passwords (which I assume is what you are doing) for authentication you only need to store the password hash, and you should add the salt <strong>before</strong> the encryption, not after. Bellow is an example with MD5 but there are other algorithms for hash generation avaible for Java.</p>\n\n<pre><code>String saltedPassword = password + salt;\nMessageDigest md = MessageDigest.getInstance(\"MD5\");\nmd.update(saltedPassword .getBytes());\nbyte byteData[] = md.digest();\n</code></pre>\n\n<p>A general good practice is to create a individual salt for each user. You never decrypt a hash, you only compare it again when the user inputs the password for validation.</p>\n\n<p>Now, if you are encrypting and storing a password that <strong><em>needs to be retrieved</em></strong>, like a database password, or even for a real user why not, you dont need salt. A symmetric or asymmetric algorithm will be enough. I personally always use AES 256 when I need it, and it is supported by Java as well.</p>\n\n<p>To store and retrieve it properly you will need to encoded the generated bytes returned by the algorith/Java API, and personally I always use <strong>Base64</strong> for it.</p>\n\n<p>The <a href=\"http://blog.eyallupu.com/2013/11/base64-encoding-in-java-8.html\" rel=\"nofollow\">official Base64</a> came in Java 8, but it is avaible in ealier releases as well. You can use Apache implementation if you want too.</p>\n\n<pre><code>Base64.getEncoder().encodeToString(encryptedPasswordArray);\n</code></pre>\n\n<p>I think this can lead you to solve your problem, but if you have any further questions please let us know.</p>\n"}],"owner":{"display_name":"user3677640"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23877835,"answer_count":1,"score":0,"last_activity_date":1689923363,"creation_date":1401137576,"question_id":23877580,"body_markdown":"I am currently making a new password storage program. To do this I am using MySQL and Java. I will be storing it into a portable (SQLite) database. However my problem is when making my security more secure it is failing. Before I put my password into a database I encrypt it for security I then add a more secure string to the end (right now) of the encryption. I know I probably shouldn&#39;t be telling you this but I will be changing it after I have had some help. My problem is when I add the two strings together it works. I then try and take away the second string (for decrypting) except the bytes does not equal 16 so I can&#39;t decrypt my password. I know there are several questions for converting strings to bytes except this one is different. My code is below.\r\n\r\n    public static String upload(String password, String username, String website) throws Exception, GeneralSecurityException{  \t\r\n    \t\t//Generates the encryption\r\n    \t\tString key = &quot;dcW2znalixOYi7jt&quot;;\r\n    \t\tbyte[] encrypted = Encryption.encrypt(key, password);\r\n    \t\tString encryption = &quot;syfs8yy48y3483434tg4&quot;;\r\n    \t\tString encryptionfinal = encrypted + encryption;\r\n    \t\tif(encryptionfinal.contains(encryption)){\r\n    \t\t\tSystem.out.println(&quot;LOL FAILURE&quot;);\r\n    \t\t\tSystem.out.println(encrypted);\r\n    \t\t\tString test = encryptionfinal.replace(encryption, &quot;&quot;);\r\n    \t\t\tSystem.out.println(encryptionfinal);\r\n    \t\t\tSystem.out.println(test);\r\n    \t\t\tbyte[] atest = test.getBytes();\r\n    \t\t\tSystem.out.println(&quot;Length Of Byte From Test:&quot;);\r\n    \t\t\tSystem.out.println(atest.length);\r\n    \t\t\tSystem.out.println(&quot;Length Of Byte From Key:&quot;);\r\n    \t\t\tSystem.out.println(key.length());\r\n    \t\t\tSystem.out.println(&quot;Length Of String Test:&quot;);\r\n    \t\t\tSystem.out.println(test.length());\r\n    \t\t\tSystem.out.println(&quot;Length Of Encryption:&quot;);\r\n    \t\t\tSystem.out.println(encrypted.length);\r\n    \t\t\tSystem.out.println(&quot;Length Of EncryptionFinal:&quot;);\r\n    \t\t\tSystem.out.println(encryptionfinal.length());\r\n    \t\t\tSystem.out.println(&quot;Length of encryption addon:&quot;);\r\n    \t\t\tSystem.out.println(encryption.length());\r\n    \t\t\tSystem.out.println(&quot;Length of encryption final - encryption addon:&quot;);\r\n    \t\t\tSystem.out.println(encryptionfinal.length() - encryption.length());\r\n    \t\t\tString decrypted = Encryption.decrypt(key, atest);\r\n    \t\t\tSystem.out.println(decrypted);\r\n    \t\t}\r\n    \t\tString sDriverName = &quot;org.sqlite.JDBC&quot;;\r\n    \t\tClass.forName(sDriverName); \r\n    \t    String sTempDb = &quot;passwords.db&quot;;\r\n    \t\tString sJdbc = &quot;jdbc:sqlite&quot;;\r\n    \t\tString sDbUrl = sJdbc + &quot;:&quot; + sTempDb;\r\n    \t\tConnection conn = DriverManager.getConnection(sDbUrl);\r\n    \t\tString sql = &quot;INSERT INTO information &quot; + &quot;VALUES (&quot;+null+&quot;,&#39;&quot;+encryptionfinal+&quot;&#39;, &#39;&quot;+username+&quot;&#39;, &#39;&quot;+website+&quot;&#39;);&quot;; \r\n    \t\tString insert = &quot;CREATE TABLE IF NOT EXISTS &#39;information&#39; (&#39;id&#39; INTEGER DEFAULT &#39;0&#39; PRIMARY KEY AUTOINCREMENT,&#39;password&#39;\tTEXT NOT NULL,&#39;username&#39;\tTEXT NOT NULL,&#39;website&#39;\tTEXT NOT NULL);&quot;;\r\n    \t\ttry {\r\n    \t\t    Statement stmt = conn.createStatement();\r\n    \t\t    stmt.executeUpdate(insert);\r\n    \t\t    stmt.executeUpdate(sql);\r\n    \t\t\tstmt.close();\r\n    \t\t}\r\n    \t\tfinally{\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\nThe problem with this is when I run it, it says \r\n\r\n    &gt; LOL FAILURE\r\n    javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when         decrypting with padded cipher\r\n    [B@2b8898c5\r\n    [B@2b8898c5syfs8yy48y3483434tg4\r\n    [B@2b8898c5\r\n    Length Of Byte From Test:\r\n    11\r\n    Length Of Byte From Key:\r\n    16\r\n    Length Of String Test:\r\n    11\r\n    Length Of Encryption:\r\n    16\r\n    Length Of EncryptionFinal:\r\n    31\r\n    Length of encryption addon:\r\n    20\r\n    Length of encryption final - encryption addon:\r\n    11\r\n\tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:913)\r\n\tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:824)\r\n\tat com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:436)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2121)\r\n\tat me.thomasjcf21.SecurePassword.Encryption.decrypt(Encryption.java:38)\r\n\tat me.thomasjcf21.SecurePassword.MySQL.upload(MySQL.java:37)\r\n\tat me.thomasjcf21.SecurePassword.Program$3.actionPerformed(Program.java:90)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$400(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\nPlease ignore the &quot;LOL Failure&quot; that was a test to see if it was working earlier on.","title":"Converting String To Byte - Java","body":"<p>I am currently making a new password storage program. To do this I am using MySQL and Java. I will be storing it into a portable (SQLite) database. However my problem is when making my security more secure it is failing. Before I put my password into a database I encrypt it for security I then add a more secure string to the end (right now) of the encryption. I know I probably shouldn't be telling you this but I will be changing it after I have had some help. My problem is when I add the two strings together it works. I then try and take away the second string (for decrypting) except the bytes does not equal 16 so I can't decrypt my password. I know there are several questions for converting strings to bytes except this one is different. My code is below.</p>\n<pre><code>public static String upload(String password, String username, String website) throws Exception, GeneralSecurityException{   \n        //Generates the encryption\n        String key = &quot;dcW2znalixOYi7jt&quot;;\n        byte[] encrypted = Encryption.encrypt(key, password);\n        String encryption = &quot;syfs8yy48y3483434tg4&quot;;\n        String encryptionfinal = encrypted + encryption;\n        if(encryptionfinal.contains(encryption)){\n            System.out.println(&quot;LOL FAILURE&quot;);\n            System.out.println(encrypted);\n            String test = encryptionfinal.replace(encryption, &quot;&quot;);\n            System.out.println(encryptionfinal);\n            System.out.println(test);\n            byte[] atest = test.getBytes();\n            System.out.println(&quot;Length Of Byte From Test:&quot;);\n            System.out.println(atest.length);\n            System.out.println(&quot;Length Of Byte From Key:&quot;);\n            System.out.println(key.length());\n            System.out.println(&quot;Length Of String Test:&quot;);\n            System.out.println(test.length());\n            System.out.println(&quot;Length Of Encryption:&quot;);\n            System.out.println(encrypted.length);\n            System.out.println(&quot;Length Of EncryptionFinal:&quot;);\n            System.out.println(encryptionfinal.length());\n            System.out.println(&quot;Length of encryption addon:&quot;);\n            System.out.println(encryption.length());\n            System.out.println(&quot;Length of encryption final - encryption addon:&quot;);\n            System.out.println(encryptionfinal.length() - encryption.length());\n            String decrypted = Encryption.decrypt(key, atest);\n            System.out.println(decrypted);\n        }\n        String sDriverName = &quot;org.sqlite.JDBC&quot;;\n        Class.forName(sDriverName); \n        String sTempDb = &quot;passwords.db&quot;;\n        String sJdbc = &quot;jdbc:sqlite&quot;;\n        String sDbUrl = sJdbc + &quot;:&quot; + sTempDb;\n        Connection conn = DriverManager.getConnection(sDbUrl);\n        String sql = &quot;INSERT INTO information &quot; + &quot;VALUES (&quot;+null+&quot;,'&quot;+encryptionfinal+&quot;', '&quot;+username+&quot;', '&quot;+website+&quot;');&quot;; \n        String insert = &quot;CREATE TABLE IF NOT EXISTS 'information' ('id' INTEGER DEFAULT '0' PRIMARY KEY AUTOINCREMENT,'password'    TEXT NOT NULL,'username'    TEXT NOT NULL,'website' TEXT NOT NULL);&quot;;\n        try {\n            Statement stmt = conn.createStatement();\n            stmt.executeUpdate(insert);\n            stmt.executeUpdate(sql);\n            stmt.close();\n        }\n        finally{\n            \n        }\n        return null;\n    }\n</code></pre>\n<p>The problem with this is when I run it, it says</p>\n<pre><code>&gt; LOL FAILURE\njavax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when         decrypting with padded cipher\n[B@2b8898c5\n[B@2b8898c5syfs8yy48y3483434tg4\n[B@2b8898c5\nLength Of Byte From Test:\n11\nLength Of Byte From Key:\n16\nLength Of String Test:\n11\nLength Of Encryption:\n16\nLength Of EncryptionFinal:\n31\nLength of encryption addon:\n20\nLength of encryption final - encryption addon:\n11\nat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:913)\nat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:824)\nat com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:436)\nat javax.crypto.Cipher.doFinal(Cipher.java:2121)\nat me.thomasjcf21.SecurePassword.Encryption.decrypt(Encryption.java:38)\nat me.thomasjcf21.SecurePassword.MySQL.upload(MySQL.java:37)\nat me.thomasjcf21.SecurePassword.Program$3.actionPerformed(Program.java:90)\nat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\nat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\nat java.awt.Component.processMouseEvent(Unknown Source)\nat javax.swing.JComponent.processMouseEvent(Unknown Source)\nat java.awt.Component.processEvent(Unknown Source)\nat java.awt.Container.processEvent(Unknown Source)\nat java.awt.Component.dispatchEventImpl(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Window.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\nat java.awt.EventQueue.access$400(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue.dispatchEvent(Unknown Source)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n<p>Please ignore the &quot;LOL Failure&quot; that was a test to see if it was working earlier on.</p>\n"},{"tags":["java","jmeter","garbage-collection","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689920977,"creation_date":1689920977,"answer_id":76735595,"question_id":76735049,"body_markdown":"If you&#39;re absolutely sure that this is due to garbage collection and [G1 garbage collector][1] is to blame you can comment out the line which tells JMeter to use it:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlso be aware that according to [9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure][3] you should always be using the latest version of JMeter and Java so consider upgrading to [JMeter 5.6.2][4] (or whatever is the latest stable version available at [JMeter Downloads][5] page)\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\r\n  [2]: https://i.stack.imgur.com/npB0W.png\r\n  [3]: https://www.blazemeter.com/blog/jmeter-memory-profiling#use\r\n  [4]: https://www.mail-archive.com/user@jmeter.apache.org/msg12970.html\r\n  [5]: https://jmeter.apache.org/download_jmeter.cgi","title":"Jmeter properties configuration adding UseConcMarkSweepGC &amp; DisableExplicitGC","body":"<p>If you're absolutely sure that this is due to garbage collection and <a href=\"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\" rel=\"nofollow noreferrer\">G1 garbage collector</a> is to blame you can comment out the line which tells JMeter to use it:</p>\n<p><a href=\"https://i.stack.imgur.com/npB0W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npB0W.png\" alt=\"enter image description here\" /></a></p>\n<p>Also be aware that according to <a href=\"https://www.blazemeter.com/blog/jmeter-memory-profiling#use\" rel=\"nofollow noreferrer\">9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure</a> you should always be using the latest version of JMeter and Java so consider upgrading to <a href=\"https://www.mail-archive.com/user@jmeter.apache.org/msg12970.html\" rel=\"nofollow noreferrer\">JMeter 5.6.2</a> (or whatever is the latest stable version available at <a href=\"https://jmeter.apache.org/download_jmeter.cgi\" rel=\"nofollow noreferrer\">JMeter Downloads</a> page)</p>\n"}],"owner":{"account_id":26449163,"reputation":125,"user_id":20092606,"display_name":"Harris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76735595,"answer_count":1,"score":0,"last_activity_date":1689922764,"creation_date":1689912312,"question_id":76735049,"body_markdown":"Can anyone help me how to add these `-XX:+UseConcMarkSweepGC` and `-XX:+DisableExplicitGC` on my Jmeter configuration, Current the issue I&#39;m encountering upon generating 6000 request per minute and after few hours request is decreasing. I tried to update this file /data/apache-jmeter-5.3/bin/jmeter unfortunately its not working. Your response is highly appreciated. \r\n\r\nFYI: I&#39;m using Jmeter 5.3 version\r\n\r\n[![Jmeter configuration][1]][1]\r\n\r\n[![Error Message][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ggC3E.png\r\n  [2]: https://i.stack.imgur.com/XWPBY.png","title":"Jmeter properties configuration adding UseConcMarkSweepGC &amp; DisableExplicitGC","body":"<p>Can anyone help me how to add these <code>-XX:+UseConcMarkSweepGC</code> and <code>-XX:+DisableExplicitGC</code> on my Jmeter configuration, Current the issue I'm encountering upon generating 6000 request per minute and after few hours request is decreasing. I tried to update this file /data/apache-jmeter-5.3/bin/jmeter unfortunately its not working. Your response is highly appreciated.</p>\n<p>FYI: I'm using Jmeter 5.3 version</p>\n<p><a href=\"https://i.stack.imgur.com/ggC3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ggC3E.png\" alt=\"Jmeter configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XWPBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWPBY.png\" alt=\"Error Message\" /></a></p>\n"},{"tags":["java","database","spring-boot","logback","sybase"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689925713,"post_id":76735747,"comment_id":135284935,"body_markdown":"Add this to `application.properties`: `logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG`","body":"Add this to <code>application.properties</code>: <code>logging.level.org.springframework.jdbc.core.JdbcTemplate=DEB&zwnj;&#8203;UG</code>"},{"owner":{"account_id":23908240,"reputation":11,"user_id":17905539,"display_name":"Himanshu Dixit"},"score":0,"creation_date":1689942002,"post_id":76735747,"comment_id":135287959,"body_markdown":"Can we change it to application.yml context ?\nAlso, application yml looks like this as of now :\n\n**logging:\n      config: classpath:logback-spring.xml**","body":"Can we change it to application.yml context ? Also, application yml looks like this as of now :  <b>logging:       config: classpath:logback-spring.xml</b>"}],"owner":{"account_id":23908240,"reputation":11,"user_id":17905539,"display_name":"Himanshu Dixit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689922595,"creation_date":1689922595,"question_id":76735747,"body_markdown":"Is there any way to log all the queries &amp; procedures in Sybase DB with Spring Boot Application having logback ?\r\n\r\nAs of now, I tried following in my **logback-spring.xml** - \r\n \r\n```\r\n&lt;logger name=&quot;org.springframework.jdbc.core.JdbcTemplate&quot; level =&quot;DEBUG&quot;&gt;\r\n&lt;appender-ref ref=&quot;console&quot;/&gt;\r\n&lt;/logger&gt;\r\n```\r\n\r\nThe above code didn&#39;t work for me.\r\nI&#39;m expecting to print/log all the Database queries/Proc in my Logger file/Splunk.","title":"How to log Sybase queries in SpringBoot","body":"<p>Is there any way to log all the queries &amp; procedures in Sybase DB with Spring Boot Application having logback ?</p>\n<p>As of now, I tried following in my <strong>logback-spring.xml</strong> -</p>\n<pre><code>&lt;logger name=&quot;org.springframework.jdbc.core.JdbcTemplate&quot; level =&quot;DEBUG&quot;&gt;\n&lt;appender-ref ref=&quot;console&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>The above code didn't work for me.\nI'm expecting to print/log all the Database queries/Proc in my Logger file/Splunk.</p>\n"},{"tags":["java","optaplanner"],"comments":[{"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"score":0,"creation_date":1690817837,"post_id":76735727,"comment_id":135402484,"body_markdown":"This should of been impossible (emphasis on should of); The queue has size (# move threads + selectedMoveBufferSize, where selectedMoveBufferSize is the maximum number of move evaluations at any given time). Before any move evaluations are made, each move thread need to take the current Setup/ApplyStep operation (of which there will be # move threads in the queue). No new MoveEvaluationOperations are added to the queue until they are all consumed (for reproducibility). Before a step is ended, the operation queue is cleared, and either # move threads ApplyStep or Destroy operations are added.","body":"This should of been impossible (emphasis on should of); The queue has size (# move threads + selectedMoveBufferSize, where selectedMoveBufferSize is the maximum number of move evaluations at any given time). Before any move evaluations are made, each move thread need to take the current Setup/ApplyStep operation (of which there will be # move threads in the queue). No new MoveEvaluationOperations are added to the queue until they are all consumed (for reproducibility). Before a step is ended, the operation queue is cleared, and either # move threads ApplyStep or Destroy operations are added."},{"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"score":0,"creation_date":1690817900,"post_id":76735727,"comment_id":135402497,"body_markdown":"What was your SolverConfig, domain and constraints?","body":"What was your SolverConfig, domain and constraints?"}],"owner":{"account_id":29061879,"reputation":1,"user_id":22262329,"display_name":"co_kl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689922343,"creation_date":1689922343,"question_id":76735727,"body_markdown":"I&#39;m using Optaplanner for some optimization problem and in the last days there is this error:\r\n\r\n`java.lang.IllegalStateException: Queue full\r\n\tat java.base/java.util.AbstractQueue.add(AbstractQueue.java:98)\r\n\tat java.base/java.util.concurrent.ArrayBlockingQueue.add(ArrayBlockingQueue.java:329)\r\n\tat org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.decideNextStep(MultiThreadedLocalSearchDecider.java:157)\r\n\tat org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.solve(DefaultLocalSearchPhase.java:72)\r\n\tat org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:83)\r\n\tat org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:193)`\r\n\r\nDoes anyone have an idea when this error occurs in Optaplanner? From my perspective Optaplanner adds moves (possible Solutions to the Optimization problem) to this operationQueue to be evaluated by the Operating Threads. It seems, that they&#39;re not fast enough with the evaluation.\r\n\r\nThe error occurs for &quot;bad&quot; optimization problems with less data, where it&#39;s hard to find a good solution.","title":"Optaplanner - Optimization problem - Error: Queue Full - ArrayBlockingQueue","body":"<p>I'm using Optaplanner for some optimization problem and in the last days there is this error:</p>\n<p><code>java.lang.IllegalStateException: Queue full at java.base/java.util.AbstractQueue.add(AbstractQueue.java:98) at java.base/java.util.concurrent.ArrayBlockingQueue.add(ArrayBlockingQueue.java:329) at org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.decideNextStep(MultiThreadedLocalSearchDecider.java:157) at org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.solve(DefaultLocalSearchPhase.java:72) at org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:83) at org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:193)</code></p>\n<p>Does anyone have an idea when this error occurs in Optaplanner? From my perspective Optaplanner adds moves (possible Solutions to the Optimization problem) to this operationQueue to be evaluated by the Operating Threads. It seems, that they're not fast enough with the evaluation.</p>\n<p>The error occurs for &quot;bad&quot; optimization problems with less data, where it's hard to find a good solution.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689911351,"post_id":76734750,"comment_id":135283025,"body_markdown":"If you log a stack trace from the `User` constructors, what is creating an instance?","body":"If you log a stack trace from the <code>User</code> constructors, what is creating an instance?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1689921344,"post_id":76734750,"comment_id":135284157,"body_markdown":"Remove the @Component annotation from the entity class. This is the cause. Spring creates an instance on start up.","body":"Remove the @Component annotation from the entity class. This is the cause. Spring creates an instance on start up."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689921868,"post_id":76734750,"comment_id":135284244,"body_markdown":"Why is your use an `@Component` that shouldn&#39;t be the case, remove it as a field from your service and controller as well? Next to that don&#39;t use `@Data` with entities see https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/","body":"Why is your use an <code>@Component</code> that shouldn&#39;t be the case, remove it as a field from your service and controller as well? Next to that don&#39;t use <code>@Data</code> with entities see <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a>"},{"owner":{"account_id":22137140,"reputation":11,"user_id":16387706,"display_name":"Jboyd34"},"score":0,"creation_date":1689938730,"post_id":76734750,"comment_id":135287309,"body_markdown":"I need to have the component annotations there so spring can auto detect beans. I also have a component annotation on two other entity classes and they&#39;re not creating a default row so I don&#39;t think my @Component is the cause","body":"I need to have the component annotations there so spring can auto detect beans. I also have a component annotation on two other entity classes and they&#39;re not creating a default row so I don&#39;t think my @Component is the cause"},{"owner":{"account_id":22137140,"reputation":11,"user_id":16387706,"display_name":"Jboyd34"},"score":0,"creation_date":1689938921,"post_id":76734750,"comment_id":135287343,"body_markdown":"I figured it out. I had an empty @Autowire annotation","body":"I figured it out. I had an empty @Autowire annotation"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689939101,"post_id":76734750,"comment_id":135287387,"body_markdown":"You definitely don&#39;t need to make a Spring bean from an entity. Remove those auto wired fields from other classes. Trust me and @M.Deinum","body":"You definitely don&#39;t need to make a Spring bean from an entity. Remove those auto wired fields from other classes. Trust me and @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690179857,"post_id":76734750,"comment_id":135311683,"body_markdown":"You didn&#39;t have an empty `@Autowired` it was on the `addUser` method (despite the empty line). It doesn&#39;t make sense to make components out of entities, Spring doesn&#39;t need to detect those and Spring Data has other means to detect entities and repositories.","body":"You didn&#39;t have an empty <code>@Autowired</code> it was on the <code>addUser</code> method (despite the empty line). It doesn&#39;t make sense to make components out of entities, Spring doesn&#39;t need to detect those and Spring Data has other means to detect entities and repositories."}],"owner":{"account_id":22137140,"reputation":11,"user_id":16387706,"display_name":"Jboyd34"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689922069,"creation_date":1689905924,"question_id":76734750,"body_markdown":"My h2 database creates a row with default values each time I restart my spring boot application. This is happening for my users entity. \r\n\r\n```java\r\n@Component\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity(name = &quot;Users&quot;)\r\n@Table(name = &quot;Users&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;userId&quot;)\r\n\tprivate int id;\r\n\t@Column(unique=true)\r\n\tprivate String username = &quot;&quot;;\r\n\tprivate String city = &quot;&quot;;\r\n\tprivate String state = &quot;&quot;;\r\n\tprivate String zip = &quot;&quot;;\r\n\tprivate boolean peanutAll = false;\r\n\tprivate boolean eggAll = false;\r\n\tprivate boolean dairyAll = false;\r\n}\r\n```\r\nHere is my properties file \r\n\r\n```\r\nspring.h2.console.enabled=true\r\nspring.datasource.url=jdbc:h2:mem:dcbapp;DATABASE_TO_UPPER=false;\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\nI&#39;m not sure if my controller and service class will be helpful or not since I&#39;m not making a request but I&#39;ll still provide it just incase.\r\n\r\n\r\n```java\r\n@RestController\r\n\r\n@RequestMapping(path=&quot;/user&quot;)\r\npublic class UserController {\r\n\t@Autowired UserService userv;\r\n\t@Autowired User returnUser;\r\n\t\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; addUser(@Valid @RequestBody User user){\r\n\tOptional&lt;User&gt; tempUser =\tOptional.ofNullable(userv.addUser(user));\r\n\treturn ResponseEntity.of(tempUser);\r\n\r\n\t}\r\n\t\r\n\t@PutMapping(&quot;/update&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; updateUser(@Valid @RequestBody User user){\r\n\t\tUser tempUser =\tuserv.updateUser(user);\r\n\t\treturn ResponseEntity.ok(tempUser);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/{username}&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; getUser(@PathVariable(value=&quot;username&quot;) String username ){\r\n\t\tUser tempUser = userv.getUserByUsername(username);\r\n\t\treturn ResponseEntity.ok(tempUser);\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n\r\n\t@Autowired UserRepo userRepo;\r\n\t@Autowired User tempUser;\r\n\t@Autowired \r\n\t\r\n\tpublic User addUser(User user) {\r\n\t\tif(userRepo.existsById(user.getId())) {\r\n\t\t\tthrow new UserAlreadyExistsException(String.format(&quot;User %s already exists&quot;, user.getUsername()));\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\t\treturn userRepo.save(user);\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\r\n\tpublic User getUserByUsername(String username) {\t\t\r\n\t\tUser tempUser = userRepo.findByUsername(username).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User doesn&#39;t exist: %s&quot;, username)));\t\t\r\n\t\treturn tempUser;\r\n    }\r\n\t\r\n\tpublic User getUserById(int id) {\r\n\t\tUser tempUser = userRepo.findById(id).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User doesn&#39;t exist with id: %d&quot;, id)));\r\n\t\treturn tempUser;\r\n\t}\r\n\t\r\n\t//you need to include id in json body request\r\n\tpublic User updateUser(User user) throws UserNotFoundException, ChangeUsernameException, MustMakeChangeException{\r\n\t\tOptional&lt;User&gt; tempUser1 = userRepo.findById(user.getId());\r\n\t\tif(tempUser1.isEmpty()) {\r\n\t\t\tthrow new UserNotFoundException(String.format(&quot;User doesn&#39;t exist: %s&quot;, user.getUsername()));\r\n\t\t}\r\n\t\tUser tempUser = tempUser1.get();\r\n\t\t\r\n\t\tif(!tempUser.getUsername().equals(user.getUsername())) {\r\n\t\t\tthrow new ChangeUsernameException(String.format(&quot;Unable to change username: %s&quot;, user.getUsername()));\r\n\t\t}\r\n\t\telse if(tempUser.getCity().equals(user.getCity()) &amp;&amp; tempUser.getState().equals(user.getState()) &amp;&amp; tempUser.getZip().equals(user.getZip())) {\r\n\t\t\t\r\n\t\t\tthrow new MustMakeChangeException(&quot;You must make an update to user&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\treturn userRepo.save(user);\r\n\t\t}\r\n\t\r\n\t}\r\n}\r\n```","title":"Why is my h2 database inserting a row with default values on each spring boot restart","body":"<p>My h2 database creates a row with default values each time I restart my spring boot application. This is happening for my users entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity(name = &quot;Users&quot;)\n@Table(name = &quot;Users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;userId&quot;)\n    private int id;\n    @Column(unique=true)\n    private String username = &quot;&quot;;\n    private String city = &quot;&quot;;\n    private String state = &quot;&quot;;\n    private String zip = &quot;&quot;;\n    private boolean peanutAll = false;\n    private boolean eggAll = false;\n    private boolean dairyAll = false;\n}\n</code></pre>\n<p>Here is my properties file</p>\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:dcbapp;DATABASE_TO_UPPER=false;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I'm not sure if my controller and service class will be helpful or not since I'm not making a request but I'll still provide it just incase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n\n@RequestMapping(path=&quot;/user&quot;)\npublic class UserController {\n    @Autowired UserService userv;\n    @Autowired User returnUser;\n    \n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;User&gt; addUser(@Valid @RequestBody User user){\n    Optional&lt;User&gt; tempUser =   Optional.ofNullable(userv.addUser(user));\n    return ResponseEntity.of(tempUser);\n\n    }\n    \n    @PutMapping(&quot;/update&quot;)\n    public ResponseEntity&lt;User&gt; updateUser(@Valid @RequestBody User user){\n        User tempUser = userv.updateUser(user);\n        return ResponseEntity.ok(tempUser);\n    }\n    \n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable(value=&quot;username&quot;) String username ){\n        User tempUser = userv.getUserByUsername(username);\n        return ResponseEntity.ok(tempUser);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n\n    @Autowired UserRepo userRepo;\n    @Autowired User tempUser;\n    @Autowired \n    \n    public User addUser(User user) {\n        if(userRepo.existsById(user.getId())) {\n            throw new UserAlreadyExistsException(String.format(&quot;User %s already exists&quot;, user.getUsername()));\n        }\n\n        else {\n                return userRepo.save(user);\n            }       \n        }\n    \n    public User getUserByUsername(String username) {        \n        User tempUser = userRepo.findByUsername(username).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User doesn't exist: %s&quot;, username)));      \n        return tempUser;\n    }\n    \n    public User getUserById(int id) {\n        User tempUser = userRepo.findById(id).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User doesn't exist with id: %d&quot;, id)));\n        return tempUser;\n    }\n    \n    //you need to include id in json body request\n    public User updateUser(User user) throws UserNotFoundException, ChangeUsernameException, MustMakeChangeException{\n        Optional&lt;User&gt; tempUser1 = userRepo.findById(user.getId());\n        if(tempUser1.isEmpty()) {\n            throw new UserNotFoundException(String.format(&quot;User doesn't exist: %s&quot;, user.getUsername()));\n        }\n        User tempUser = tempUser1.get();\n        \n        if(!tempUser.getUsername().equals(user.getUsername())) {\n            throw new ChangeUsernameException(String.format(&quot;Unable to change username: %s&quot;, user.getUsername()));\n        }\n        else if(tempUser.getCity().equals(user.getCity()) &amp;&amp; tempUser.getState().equals(user.getState()) &amp;&amp; tempUser.getZip().equals(user.getZip())) {\n            \n            throw new MustMakeChangeException(&quot;You must make an update to user&quot;);\n        }\n        else {\n            \n            return userRepo.save(user);\n        }\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","google-cloud-platform","spring-jms","spring-cloud-gcp"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689922742,"post_id":76735697,"comment_id":135284401,"body_markdown":"You should ask your reviewer what scheduling library they want you to use instead","body":"You should ask your reviewer what scheduling library they want you to use instead"},{"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"score":0,"creation_date":1689923221,"post_id":76735697,"comment_id":135284479,"body_markdown":"@Jorn they are looking for solution provided by gcp sdk itself like its implemented on second link that I have provided or somehow using JMS that I am not sure.","body":"@Jorn they are looking for solution provided by gcp sdk itself like its implemented on second link that I have provided or somehow using JMS that I am not sure."}],"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689922016,"creation_date":1689922016,"question_id":76735697,"body_markdown":"My requirement is to read gcp pubsub message in java. I have implemented it using java scheduler and google-cloud-pubsub maven dependency(https://cloud.google.com/pubsub/docs/pull). Its a Pull subscriptions not Push.\r\nBut same implementation was not accepted by reviewer. It was rejected by saying implement the same without Java scheduler and asked me to refer this link https://spring.io/guides/gs/messaging-gcp-pubsub/\r\n\r\nI tried POC with above link and its working fine with spring-boot but issue is its not supported using spring with version: 5.1.3.RELEASE that we are using.\r\n\r\nCan someone please help me or provide any reference that I can try to implement GCP pubsub read msg without Java scheduler and it supports spring version: 5.1.3.RELEASE.\r\n \r\n","title":"How to read GCP pubsub message in Java without @Scheduled","body":"<p>My requirement is to read gcp pubsub message in java. I have implemented it using java scheduler and google-cloud-pubsub maven dependency(<a href=\"https://cloud.google.com/pubsub/docs/pull\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/pull</a>). Its a Pull subscriptions not Push.\nBut same implementation was not accepted by reviewer. It was rejected by saying implement the same without Java scheduler and asked me to refer this link <a href=\"https://spring.io/guides/gs/messaging-gcp-pubsub/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-gcp-pubsub/</a></p>\n<p>I tried POC with above link and its working fine with spring-boot but issue is its not supported using spring with version: 5.1.3.RELEASE that we are using.</p>\n<p>Can someone please help me or provide any reference that I can try to implement GCP pubsub read msg without Java scheduler and it supports spring version: 5.1.3.RELEASE.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1689918629,"post_id":76735368,"comment_id":135283768,"body_markdown":"It&#39;s not supposed to be regular Java syntax. See [here](https://www.thymeleaf.org/doc/articles/standarddialect5minutes.html), particularly the `book.author.name` example.","body":"It&#39;s not supposed to be regular Java syntax. See <a href=\"https://www.thymeleaf.org/doc/articles/standarddialect5minutes.html\" rel=\"nofollow noreferrer\">here</a>, particularly the <code>book.author.name</code> example."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689921944,"creation_date":1689921944,"answer_id":76735688,"question_id":76735368,"body_markdown":"Thymeleaf syntax is not Java. Thymeleaf offers its own way of accessing properties, in this case using `.name` to access the Java method `name()`. But that&#39;s fully configurable, you could configure it so that `foo.bar` would also return `APPROVED`.\r\n\r\nJust don&#39;t assume that you can now also just use `.name` instead of `.name()` in plain Java code.","title":"How do Java enum values work without calling the name method (+thymeleaf)","body":"<p>Thymeleaf syntax is not Java. Thymeleaf offers its own way of accessing properties, in this case using <code>.name</code> to access the Java method <code>name()</code>. But that's fully configurable, you could configure it so that <code>foo.bar</code> would also return <code>APPROVED</code>.</p>\n<p>Just don't assume that you can now also just use <code>.name</code> instead of <code>.name()</code> in plain Java code.</p>\n"}],"owner":{"account_id":203988,"reputation":4794,"user_id":451945,"accept_rate":73,"display_name":"Frexuz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76735688,"answer_count":1,"score":-1,"last_activity_date":1689921944,"creation_date":1689918092,"question_id":76735368,"body_markdown":"In all examples of how to use enums in Java, i see that you use the `.name()` method, (or `.toString()`.\r\n\r\nHowever, it seems that using it __without__ the parentheses also works (?!). \r\n\r\nHOW / WHY? :D\r\n```html\r\n&lt;div th:text=&quot;${user.accountStatus.name == &#39;APPROVED&#39;}&quot;&gt;&lt;/div&gt; &lt;!-- prints true correctly --&gt;\r\n```\r\n\r\n(For extra context: It&#39;s quite confusing when reviewing code in a team where frontend developers (who don&#39;t know java) use it like this. Without knowing exactly why this works, from a language-agnostic standpoint, it _looks_ like a bug)","title":"How do Java enum values work without calling the name method (+thymeleaf)","body":"<p>In all examples of how to use enums in Java, i see that you use the <code>.name()</code> method, (or <code>.toString()</code>.</p>\n<p>However, it seems that using it <strong>without</strong> the parentheses also works (?!).</p>\n<p>HOW / WHY? :D</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div th:text=&quot;${user.accountStatus.name == 'APPROVED'}&quot;&gt;&lt;/div&gt; &lt;!-- prints true correctly --&gt;\n</code></pre>\n<p>(For extra context: It's quite confusing when reviewing code in a team where frontend developers (who don't know java) use it like this. Without knowing exactly why this works, from a language-agnostic standpoint, it <em>looks</em> like a bug)</p>\n"},{"tags":["java","android","kotlin","java-threads"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1689907286,"post_id":76734596,"comment_id":135282744,"body_markdown":"Concurrency in Java can be a complex subject.  Usually on a device like Android it&#39;s been simplified by library functions, but you&#39;ve shown us no code so we don&#39;t know what function you&#39;re having problems with.  Show some code please, and read up on concurrency: https://docs.oracle.com/javase/tutorial/essential/concurrency/","body":"Concurrency in Java can be a complex subject.  Usually on a device like Android it&#39;s been simplified by library functions, but you&#39;ve shown us no code so we don&#39;t know what function you&#39;re having problems with.  Show some code please, and read up on concurrency: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1689908610,"post_id":76734596,"comment_id":135282837,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1689947177,"post_id":76735146,"comment_id":135289056,"body_markdown":"If you were in an Activity or Fragment, you would use `lifecycleScope` for this rather than risking leaking your whole activity or fragment to a spare CoroutineScope that is never cancelled. Also, if the suspend function had blocking code, the withContext call should be inside the suspend function, not in the coroutine.","body":"If you were in an Activity or Fragment, you would use <code>lifecycleScope</code> for this rather than risking leaking your whole activity or fragment to a spare CoroutineScope that is never cancelled. Also, if the suspend function had blocking code, the withContext call should be inside the suspend function, not in the coroutine."}],"tags":[],"owner":{"account_id":29054467,"reputation":36,"user_id":22256528,"display_name":"Muhammad Tariq"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689914151,"creation_date":1689914151,"answer_id":76735146,"question_id":76734596,"body_markdown":" Within the coroutine, we use withContext to switch to the background thread (Dispatchers.IO) for the URL request and then switch back to the main thread to update the button color using the updateButtonColor function.`import kotlinx.coroutines.*\r\n\r\n    // Assuming you&#39;re inside an activity or a fragment\r\n    val myButton = findViewById&lt;Button&gt;(R.id.my_button)\r\n    \r\n    // Create a coroutine scope\r\n    val coroutineScope = CoroutineScope(Dispatchers.Main)\r\n    \r\n    // Function to perform the URL request and get the value (true or false)\r\n    suspend fun performURLRequest(): Boolean {\r\n        // Perform your URL request here and return the result (true or false)\r\n        delay(2000) // Simulating a network delay for demonstration purposes\r\n        return true\r\n    }\r\n    \r\n    // Function to update the button color based on the value\r\n    fun updateButtonColor(value: Boolean) {\r\n        if (value) {\r\n            myButton.setBackgroundColor(Color.GREEN)\r\n        } else {\r\n            myButton.setBackgroundColor(Color.RED)\r\n        }\r\n    }\r\n    \r\n    // Launch a coroutine in the main thread\r\n    coroutineScope.launch {\r\n        // Switch to the background thread for the URL request\r\n        val value = withContext(Dispatchers.IO) {\r\n            performURLRequest()\r\n        }\r\n    \r\n        // Now, switch back to the main thread to update the button color\r\n        updateButtonColor(value)\r\n    }\r\n    `","title":"Access values from another thread? Kotlin/Java","body":"<p>Within the coroutine, we use withContext to switch to the background thread (Dispatchers.IO) for the URL request and then switch back to the main thread to update the button color using the updateButtonColor function.`import kotlinx.coroutines.*</p>\n<pre><code>// Assuming you're inside an activity or a fragment\nval myButton = findViewById&lt;Button&gt;(R.id.my_button)\n\n// Create a coroutine scope\nval coroutineScope = CoroutineScope(Dispatchers.Main)\n\n// Function to perform the URL request and get the value (true or false)\nsuspend fun performURLRequest(): Boolean {\n    // Perform your URL request here and return the result (true or false)\n    delay(2000) // Simulating a network delay for demonstration purposes\n    return true\n}\n\n// Function to update the button color based on the value\nfun updateButtonColor(value: Boolean) {\n    if (value) {\n        myButton.setBackgroundColor(Color.GREEN)\n    } else {\n        myButton.setBackgroundColor(Color.RED)\n    }\n}\n\n// Launch a coroutine in the main thread\ncoroutineScope.launch {\n    // Switch to the background thread for the URL request\n    val value = withContext(Dispatchers.IO) {\n        performURLRequest()\n    }\n\n    // Now, switch back to the main thread to update the button color\n    updateButtonColor(value)\n}\n`\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9739092,"reputation":3041,"user_id":7221362,"display_name":"Steyrix"},"score":0,"creation_date":1689941571,"post_id":76735681,"comment_id":135287870,"body_markdown":"Volatile in this case does not ensure that updates will be seen instantly. Especially `toggleFlag` method which is not atomic, since it performs two operations - reading a flag and writing to a flag","body":"Volatile in this case does not ensure that updates will be seen instantly. Especially <code>toggleFlag</code> method which is not atomic, since it performs two operations - reading a flag and writing to a flag"}],"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689921879,"creation_date":1689921879,"answer_id":76735681,"question_id":76734596,"body_markdown":"```\r\n@Volatile\r\n\r\nprivate var flag: Boolean = false\r\n\r\nfun toggleFlag() {\r\n\r\nflag = !flag\r\n\r\n}\r\n\r\nfun performAction() {\r\n\r\nif (flag) {\r\n\r\n// Code execution when the flag is true\r\n\r\n} else {\r\n\r\n// Code execution when the flag is false\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\nIn this code, flag is declared as volatile. Multiple threads can call toggleFlag() to change its value, and performAction() uses the flag to decide which code path to take. With volatile, we ensure that any updates made by one thread are instantly seen by others. It&#39;s like using a special megaphone that ensures everyone hears the latest message.","title":"Access values from another thread? Kotlin/Java","body":"<pre><code>@Volatile\n\nprivate var flag: Boolean = false\n\nfun toggleFlag() {\n\nflag = !flag\n\n}\n\nfun performAction() {\n\nif (flag) {\n\n// Code execution when the flag is true\n\n} else {\n\n// Code execution when the flag is false\n\n}\n\n}\n</code></pre>\n<p>In this code, flag is declared as volatile. Multiple threads can call toggleFlag() to change its value, and performAction() uses the flag to decide which code path to take. With volatile, we ensure that any updates made by one thread are instantly seen by others. It's like using a special megaphone that ensures everyone hears the latest message.</p>\n"}],"owner":{"account_id":29060554,"reputation":3,"user_id":22261336,"display_name":"KrabimannBardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76735146,"answer_count":2,"score":0,"last_activity_date":1689921879,"creation_date":1689903082,"question_id":76734596,"body_markdown":"I am programming an app with Kotlin using Android Studio.  \r\nI want to open a specific URL to check if a value in it is true or false (SmartHome Stuff) and then change the color of a button in my app. When doing this on the main thread Kotlin throws an android.os.NetworkOnMainThreadException.  \r\nSo I created a new thread to do all the URL action over there and it is working (everything fine until here).\r\n\r\nThe problem is that I somehow need to get the value from the second thread into my main thread to change the button color. Or to &quot;get&quot; the button into the second thread and change the button color there.\r\n\r\nI&#180;m pretty new to programming so I&#180;m probably not aware about easy ways of fixing my problem.  \r\nThanks in advance","title":"Access values from another thread? Kotlin/Java","body":"<p>I am programming an app with Kotlin using Android Studio.<br />\nI want to open a specific URL to check if a value in it is true or false (SmartHome Stuff) and then change the color of a button in my app. When doing this on the main thread Kotlin throws an android.os.NetworkOnMainThreadException.<br />\nSo I created a new thread to do all the URL action over there and it is working (everything fine until here).</p>\n<p>The problem is that I somehow need to get the value from the second thread into my main thread to change the button color. Or to &quot;get&quot; the button into the second thread and change the button color there.</p>\n<p>I´m pretty new to programming so I´m probably not aware about easy ways of fixing my problem.<br />\nThanks in advance</p>\n"},{"tags":["java","mysql","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1689849125,"post_id":76728848,"comment_id":135272853,"body_markdown":"You are embedding `Country`. Does this also have an ID field? (It should not ...)","body":"You are embedding <code>Country</code>. Does this also have an ID field? (It should not ...)"}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689921757,"creation_date":1689921757,"answer_id":76735667,"question_id":76728848,"body_markdown":"In your Agency entity comment this line\r\n\r\n    @Column(name=&quot;id&quot;, insertable = false, updatable = false)","title":"Hibernate MappingException: Column &#39;id&#39; is duplicated in mapping for entity &#39;Agency&#39;","body":"<p>In your Agency entity comment this line</p>\n<pre><code>@Column(name=&quot;id&quot;, insertable = false, updatable = false)\n</code></pre>\n"}],"owner":{"account_id":29055833,"reputation":1,"user_id":22257641,"display_name":"Abdessamad_xerox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689921757,"creation_date":1689848079,"question_id":76728848,"body_markdown":"I&#39;m developing a Spring Boot application using Hibernate for ORM, and I&#39;m facing an issue with the entity mappings. When I try to run my application, it throws the following exception:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column &#39;id&#39; is duplicated in mapping for entity &#39;com.intelligentadmindashboard.intelligentadmindashboard.domain.Agency&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)\r\n    \r\n    Caused by: org.hibernate.MappingException: Column &#39;id&#39; is duplicated in mapping for entity &#39;com.intelligentadmindashboard.intelligentadmindashboard.domain.Agency&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)\r\n    \r\n    Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column &#39;id&#39; is duplicated in mapping for entity &#39;com.intelligentadmindashboard.intelligentadmindashboard.domain.Agency&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)\r\n\r\nThe issue seems to be related to the Agency entity, which is defined as follows:\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n@Entity\r\n@Table(name=&quot;tr_agency&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Agency {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;, insertable = false, updatable = false)\r\n\r\n    private long id;\r\n\r\n    @Column(name=&quot;label&quot;)\r\n    private String label;\r\n\r\n    @Column(name=&quot;leave_balance&quot;)\r\n    private Double leave_balance;\r\n\r\n    private LocalDateTime deleted_at;\r\n\r\n    private String code;\r\n\r\n    @Column(name=&quot;has_previous_year_holidays&quot;)\r\n    private Boolean has_previous_year_holidays;\r\n\r\n    @Embedded\r\n    private Country country;\r\n\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name=&quot;collaborator&quot;)\r\npublic class Collaborator {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n//other fields \r\n\r\n\r\n    @ManyToOne(targetEntity = Agency.class)\r\n    @JoinColumn(name=&quot;agency_id&quot;,referencedColumnName = &quot;id&quot;,insertable = false,updatable = false)\r\n    private  Agency agency;\r\n\r\n    @ManyToOne(targetEntity = ServiceType.class)\r\n    @JoinColumn(name=&quot;service_id&quot;,referencedColumnName = &quot;id&quot;)\r\n    private ServiceType serviceType;\r\n\r\n    @ManyToOne(targetEntity = Departement.class)\r\n    @JoinColumn(name=&quot;departement_id&quot;,referencedColumnName = &quot;id&quot;)\r\n    private Departement departement;\r\n\r\n    @ManyToOne(targetEntity = StatutProfessional.class)\r\n    @JoinColumn(name=&quot;statut_professionnel_id&quot;,referencedColumnName = &quot;id&quot;)\r\n    private StatutProfessional statutProfessional;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI don&#39;t where is the problem exactly\r\n\r\n\r\n\r\n","title":"Hibernate MappingException: Column &#39;id&#39; is duplicated in mapping for entity &#39;Agency&#39;","body":"<p>I'm developing a Spring Boot application using Hibernate for ORM, and I'm facing an issue with the entity mappings. When I try to run my application, it throws the following exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'id' is duplicated in mapping for entity 'com.intelligentadmindashboard.intelligentadmindashboard.domain.Agency' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)\n\nCaused by: org.hibernate.MappingException: Column 'id' is duplicated in mapping for entity 'com.intelligentadmindashboard.intelligentadmindashboard.domain.Agency' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)\n\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'id' is duplicated in mapping for entity 'com.intelligentadmindashboard.intelligentadmindashboard.domain.Agency' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)\n</code></pre>\n<p>The issue seems to be related to the Agency entity, which is defined as follows:</p>\n<pre><code>\n\n\n@Entity\n@Table(name=&quot;tr_agency&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Agency {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;, insertable = false, updatable = false)\n\n    private long id;\n\n    @Column(name=&quot;label&quot;)\n    private String label;\n\n    @Column(name=&quot;leave_balance&quot;)\n    private Double leave_balance;\n\n    private LocalDateTime deleted_at;\n\n    private String code;\n\n    @Column(name=&quot;has_previous_year_holidays&quot;)\n    private Boolean has_previous_year_holidays;\n\n    @Embedded\n    private Country country;\n\n\n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name=&quot;collaborator&quot;)\npublic class Collaborator {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n//other fields \n\n\n    @ManyToOne(targetEntity = Agency.class)\n    @JoinColumn(name=&quot;agency_id&quot;,referencedColumnName = &quot;id&quot;,insertable = false,updatable = false)\n    private  Agency agency;\n\n    @ManyToOne(targetEntity = ServiceType.class)\n    @JoinColumn(name=&quot;service_id&quot;,referencedColumnName = &quot;id&quot;)\n    private ServiceType serviceType;\n\n    @ManyToOne(targetEntity = Departement.class)\n    @JoinColumn(name=&quot;departement_id&quot;,referencedColumnName = &quot;id&quot;)\n    private Departement departement;\n\n    @ManyToOne(targetEntity = StatutProfessional.class)\n    @JoinColumn(name=&quot;statut_professionnel_id&quot;,referencedColumnName = &quot;id&quot;)\n    private StatutProfessional statutProfessional;\n\n}\n\n</code></pre>\n<p>I don't where is the problem exactly</p>\n"},{"tags":["java","android","dialog"],"owner":{"display_name":"user6413892"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1689921596,"creation_date":1464864220,"question_id":37589585,"body_markdown":"Is there any way to dismiss/close/cancel or at least *programatically/automatically* anwer the **class 0 messages** also called **flash messages** in android?  \r\n\r\nClass 0 Message dialog:\r\n\r\n![][1]\r\n\r\nI have gone through the following forums but no definitive answer is given.\r\n\r\n- androidforums.com/threads/class-0-zero-messages.331720/\r\n- www.droidforums.net/threads/can-you-block-class-0-messages.281093/\r\n\r\nThe following software (**Notification History Pro**) claims to have solved this problem.\r\n\r\n- https://play.google.com/store/apps/details?id=com.evanhe.nh \r\n\r\nI have used the free version but it doesn&#39;t provide the &quot;automatically close class 0/ flash message dialog&quot; feature.\r\nI have checked every possible answer on stackoverflow.com but they don&#39;t provide the answer to my question. \r\n\r\n- https://stackoverflow.com/questions/9123125/class-0-sms-flash-sms-on-android.\r\n\r\nI have also tried the following answers on dismissing the **USSD/system dialogs** on android with no avail. It only works for USSD/system dialogs but not for &quot;**class 0 messages**&quot;.\r\n\r\n- stackoverflow.com/questions/24013790/how-to-dismiss-system-dialog-in-android\r\n\r\n- stackoverflow.com/questions/24875914/a-new-way-to-manage-ussd-dialogs-in-android\r\n\r\n- stackoverflow.com/questions/24013790/how-to-dismiss-system-dialog-in-android\r\n\r\n- stackoverflow.com/questions/9908020/how-to-close-cancel-dismiss-a-system-dialog-programmatically-android\r\n\r\nAny help will be highly appreciated.\r\n\r\n**UPDATE**: The pro version of the Android application I referenced solves the problem. That said, I need to implement the feature in my own application. \r\n  [1]: http://i.stack.imgur.com/lH8L9m.png","title":"How to dismiss/close class 0 message dialogs in Android","body":"<p>Is there any way to dismiss/close/cancel or at least <em>programatically/automatically</em> anwer the <strong>class 0 messages</strong> also called <strong>flash messages</strong> in android?  </p>\n\n<p>Class 0 Message dialog:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lH8L9m.png\" alt=\"\"></p>\n\n<p>I have gone through the following forums but no definitive answer is given.</p>\n\n<ul>\n<li>androidforums.com/threads/class-0-zero-messages.331720/</li>\n<li>www.droidforums.net/threads/can-you-block-class-0-messages.281093/</li>\n</ul>\n\n<p>The following software (<strong>Notification History Pro</strong>) claims to have solved this problem.</p>\n\n<ul>\n<li><a href=\"https://play.google.com/store/apps/details?id=com.evanhe.nh\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.evanhe.nh</a> </li>\n</ul>\n\n<p>I have used the free version but it doesn't provide the \"automatically close class 0/ flash message dialog\" feature.\nI have checked every possible answer on stackoverflow.com but they don't provide the answer to my question. </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9123125/class-0-sms-flash-sms-on-android\">Class 0 SMS (flash SMS) on Android</a>.</li>\n</ul>\n\n<p>I have also tried the following answers on dismissing the <strong>USSD/system dialogs</strong> on android with no avail. It only works for USSD/system dialogs but not for \"<strong>class 0 messages</strong>\".</p>\n\n<ul>\n<li><p>stackoverflow.com/questions/24013790/how-to-dismiss-system-dialog-in-android</p></li>\n<li><p>stackoverflow.com/questions/24875914/a-new-way-to-manage-ussd-dialogs-in-android</p></li>\n<li><p>stackoverflow.com/questions/24013790/how-to-dismiss-system-dialog-in-android</p></li>\n<li><p>stackoverflow.com/questions/9908020/how-to-close-cancel-dismiss-a-system-dialog-programmatically-android</p></li>\n</ul>\n\n<p>Any help will be highly appreciated.</p>\n\n<p><strong>UPDATE</strong>: The pro version of the Android application I referenced solves the problem. That said, I need to implement the feature in my own application. </p>\n"},{"tags":["java","jformattedtextfield","maskformatter"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1467046984,"post_id":38059290,"comment_id":63557733,"body_markdown":"Why not `super(mask);` https://docs.oracle.com/javase/tutorial/java/IandI/super.html","body":"Why not <code>super(mask);</code> <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/super.html</a>"},{"owner":{"account_id":1980373,"reputation":49,"user_id":1777151,"accept_rate":60,"display_name":"james castillo"},"score":0,"creation_date":1467053831,"post_id":38059290,"comment_id":63561440,"body_markdown":"im sorry, I never really knew what super was for. Reading and tesing this out. Thanks!","body":"im sorry, I never really knew what super was for. Reading and tesing this out. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1980373,"reputation":49,"user_id":1777151,"accept_rate":60,"display_name":"james castillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689921495,"creation_date":1467104035,"answer_id":38071458,"question_id":38059290,"body_markdown":"    import java.awt.event.KeyEvent;\r\n    import javax.swing.JFormattedTextField;\r\n    import javax.swing.text.MaskFormatter;\r\n    \r\n    public final class JayTimeInput extends JFormattedTextField{\r\n      \r\n\r\n  \r\n    public JayTimeInput(){\r\n        myFormat();\r\n        addKeyListener(new java.awt.event.KeyAdapter() {\r\n            @Override\r\n            public void keyTyped(java.awt.event.KeyEvent evt) {\r\n                verify(evt);\r\n            }\r\n        });\r\n        \r\n    }\r\n    \r\n    public void myFormat() {\r\n        try {\r\n            MaskFormatter format = new MaskFormatter(&quot;##:##&quot;);\r\n            format.setPlaceholderCharacter(&#39;0&#39;);\r\n            this.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(format));\r\n        } catch (java.text.ParseException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public String getTime(){\r\n        return this.getText();\r\n    }\r\n    \r\n    public void setTime(String x){\r\n        this.setText(x);\r\n    }\r\n    \r\n    public void resetTime(){\r\n        this.setText(&quot;00:00&quot;);\r\n    }\r\n    \r\n    public void setFocus(boolean f){\r\n        this.setFocusable(f);\r\n        this.setVerifyInputWhenFocusTarget(f);\r\n    }\r\n    public void verify(KeyEvent evt){\r\n        try {\r\n                int carret = this.getCaretPosition();\r\n                char c = evt.getKeyChar();\r\n\r\n                if(carret==0){\r\n                    int hour = Integer.parseInt(c+&quot;&quot;);\r\n                    if(hour&gt;1){\r\n                        evt.consume();\r\n                    }\r\n                }\r\n\r\n                if(carret==1){\r\n                    int hour = Integer.parseInt(c+&quot;&quot;);\r\n                    if(hour&gt;2){\r\n                        evt.consume();\r\n                    }\r\n                }\r\n\r\n                if(carret==3){\r\n                    int min = Integer.parseInt(c+&quot;&quot;);\r\n                    if(min&gt;5){\r\n                        evt.consume();\r\n                    }\r\n                }\r\n        } catch (Exception e) {\r\n            //do nothing. nothing to catch since its keyevent\r\n        }\r\n    }\r\n    }","title":"Creating Custom Components - Extending to JFormattedField","body":"<pre><code>import java.awt.event.KeyEvent;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.text.MaskFormatter;\n\npublic final class JayTimeInput extends JFormattedTextField{\n  \n\n\npublic JayTimeInput(){\n    myFormat();\n    addKeyListener(new java.awt.event.KeyAdapter() {\n        @Override\n        public void keyTyped(java.awt.event.KeyEvent evt) {\n            verify(evt);\n        }\n    });\n    \n}\n\npublic void myFormat() {\n    try {\n        MaskFormatter format = new MaskFormatter(&quot;##:##&quot;);\n        format.setPlaceholderCharacter('0');\n        this.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(format));\n    } catch (java.text.ParseException ex) {\n        ex.printStackTrace();\n    }\n}\n\npublic String getTime(){\n    return this.getText();\n}\n\npublic void setTime(String x){\n    this.setText(x);\n}\n\npublic void resetTime(){\n    this.setText(&quot;00:00&quot;);\n}\n\npublic void setFocus(boolean f){\n    this.setFocusable(f);\n    this.setVerifyInputWhenFocusTarget(f);\n}\npublic void verify(KeyEvent evt){\n    try {\n            int carret = this.getCaretPosition();\n            char c = evt.getKeyChar();\n\n            if(carret==0){\n                int hour = Integer.parseInt(c+&quot;&quot;);\n                if(hour&gt;1){\n                    evt.consume();\n                }\n            }\n\n            if(carret==1){\n                int hour = Integer.parseInt(c+&quot;&quot;);\n                if(hour&gt;2){\n                    evt.consume();\n                }\n            }\n\n            if(carret==3){\n                int min = Integer.parseInt(c+&quot;&quot;);\n                if(min&gt;5){\n                    evt.consume();\n                }\n            }\n    } catch (Exception e) {\n        //do nothing. nothing to catch since its keyevent\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1980373,"reputation":49,"user_id":1777151,"accept_rate":60,"display_name":"james castillo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689921495,"creation_date":1467046330,"question_id":38059290,"body_markdown":"&lt;strike&gt;I am currently working on an application and I have a certain requirement for my interface: A time input.\n\nI need my controls to accept 12hrs to 24hrs input using JFormattedTextField and found this:\n\n     MaskFormatter mask = new MaskFormatter(&quot;##:##&quot;);\n     mask.setPlaceHolderCharacter(&#39;0&#39;);\n\nNow I created a class that extends to a JFormattedTextField\n\n     public class JayTimeInput extends JFormattedTextField{....\n\nnow I peeked inside JFormattedTextField&#39;s source and found something like this:\n     \n    public JFormattedTextField(Object mask){...\n\nmy question is: How do I create my JayTimeInput class that automatically has a mask formatter? I tried declaring it in my constructor but I am not sure about this:\n    \n    public JayTimeInput(){\n         try{\n              MaskFormatter mask = new MaskFormatter(&quot;##:##&quot;);\n              mask.setPlaceHolderCharacter(&#39;0&#39;);\n              new JFormattedTextField(mask);\n         }catch(Exception e){e.printStackTrace()}\n    }\n\nIve seen examples on how to use MaskFormatter and the only way I found was by declaring it like this:\n\n    MaskFormatter mask = new MaskFormatter(&quot;##:##&quot;);\n    mask.setPlaceHolderCharacter(&#39;0&#39;);\n    JFormattedTextField jformat = new JFormattedTextField(mask);\n\nIm not sure if my actionlistener was correctly done but I need this to work first.\n\nanyone help me out? im still new in creating my own controls by extending existing swings.&lt;/strike&gt;\n\n**UPDATE:**\n\n  I was looking at the wrong way of customizing my JFormattedTextField. I Should&#39;ve used FormatFactory. Answer code has been posted for anyone who needs it.","title":"Creating Custom Components - Extending to JFormattedField","body":"<p><strike>I am currently working on an application and I have a certain requirement for my interface: A time input.</p>\n<p>I need my controls to accept 12hrs to 24hrs input using JFormattedTextField and found this:</p>\n<pre><code> MaskFormatter mask = new MaskFormatter(&quot;##:##&quot;);\n mask.setPlaceHolderCharacter('0');\n</code></pre>\n<p>Now I created a class that extends to a JFormattedTextField</p>\n<pre><code> public class JayTimeInput extends JFormattedTextField{....\n</code></pre>\n<p>now I peeked inside JFormattedTextField's source and found something like this:</p>\n<pre><code>public JFormattedTextField(Object mask){...\n</code></pre>\n<p>my question is: How do I create my JayTimeInput class that automatically has a mask formatter? I tried declaring it in my constructor but I am not sure about this:</p>\n<pre><code>public JayTimeInput(){\n     try{\n          MaskFormatter mask = new MaskFormatter(&quot;##:##&quot;);\n          mask.setPlaceHolderCharacter('0');\n          new JFormattedTextField(mask);\n     }catch(Exception e){e.printStackTrace()}\n}\n</code></pre>\n<p>Ive seen examples on how to use MaskFormatter and the only way I found was by declaring it like this:</p>\n<pre><code>MaskFormatter mask = new MaskFormatter(&quot;##:##&quot;);\nmask.setPlaceHolderCharacter('0');\nJFormattedTextField jformat = new JFormattedTextField(mask);\n</code></pre>\n<p>Im not sure if my actionlistener was correctly done but I need this to work first.</p>\n<p>anyone help me out? im still new in creating my own controls by extending existing swings.</strike></p>\n<p><strong>UPDATE:</strong></p>\n<p>I was looking at the wrong way of customizing my JFormattedTextField. I Should've used FormatFactory. Answer code has been posted for anyone who needs it.</p>\n"},{"tags":["java","mysql","swing","jtable","resultset"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":2,"creation_date":1469118537,"post_id":38509422,"comment_id":64417026,"body_markdown":"1. everything inside `doInBackground()` is out of `EDT`, you have to notify GUI inside `publish()` ---&gt; `process()`, `setProcess()` or `done()`, 2. `JTable` != `DefaultListModel` 3. to reset `DefaultListModel`, run `SwingWorker`, where inside `publish() ---&gt; process()`, `setProcess()` or `done()` to add a new `Item` to `DefaultListModel`, nothing esle (clear for me) to your code or description","body":"1. everything inside <code>doInBackground()</code> is out of <code>EDT</code>, you have to notify GUI inside <code>publish()</code> ---&gt; <code>process()</code>, <code>setProcess()</code> or <code>done()</code>, 2. <code>JTable</code> != <code>DefaultListModel</code> 3. to reset <code>DefaultListModel</code>, run <code>SwingWorker</code>, where inside <code>publish() ---&gt; process()</code>, <code>setProcess()</code> or <code>done()</code> to add a new <code>Item</code> to <code>DefaultListModel</code>, nothing esle (clear for me) to your code or description"},{"owner":{"display_name":"user3677640"},"score":0,"creation_date":1469119109,"post_id":38509422,"comment_id":64417361,"body_markdown":"@mKorbel 1) For the rest of the application changes to the GUI from `doInBackground()` have worked. 2) I know the `DefaultListMenu` is what supplies the `JTable` with the information.\n\nIf the problem is because I&#39;m changing the code in the `doInBackground()` function then I&#39;m confused as to why sometimes it works and sometimes it doesn&#39;t.","body":"@mKorbel 1) For the rest of the application changes to the GUI from <code>doInBackground()</code> have worked. 2) I know the <code>DefaultListMenu</code> is what supplies the <code>JTable</code> with the information.  If the problem is because I&#39;m changing the code in the <code>doInBackground()</code> function then I&#39;m confused as to why sometimes it works and sometimes it doesn&#39;t."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1469126221,"post_id":38509422,"comment_id":64421206,"body_markdown":"It may work _sometimes_, but it is not reliable; more [here](http://stackoverflow.com/a/7158505/230513) and [here](http://stackoverflow.com/a/38499763/230513).","body":"It may work <i>sometimes</i>, but it is not reliable; more <a href=\"http://stackoverflow.com/a/7158505/230513\">here</a> and <a href=\"http://stackoverflow.com/a/38499763/230513\">here</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user3677640"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689921244,"creation_date":1469569242,"answer_id":38600354,"question_id":38509422,"body_markdown":"I have solved the issue by adding the information into the table from the done() function. The code is below\r\n\r\n    SwingWorker&lt;Void, Void&gt; worker = new SwingWorker&lt; Void, Void&gt;() {\r\n        \t\r\n        \tString[] billItems = null;\r\n        \t\r\n        \t@Override\r\n\t\t    public Void doInBackground() {\r\n        \t\t\r\n        \t\tString SQL = &quot;SELECT * FROM AddABill&quot;;\r\n        \t\t\r\n        \t\ttry {\r\n\t\t\t\t\tStatement stmt = GlobalVars.conn.createStatement();\r\n\t\t\t\t\t\r\n\t\t\t\t\tResultSet rs = stmt.executeQuery(SQL);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Set The Cursor To Last Position\r\n\t\t\t\t\trs.last();\r\n\t\t\t\t\t\r\n\t\t\t\t\tint totalRows = rs.getRow();\r\n\t\t\t\t\t\r\n\t\t\t\t\tbillItems = new String[totalRows];\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Set The Cursor Back To The Start\r\n\t\t\t\t\trs.beforeFirst();\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile(rs.next()){\r\n\t\t\t\t\t\tint rowNum = rs.getRow() - 1;\r\n\t\t\t\t\t\tbillItems[rowNum] = rs.getString(1) + &quot; - &quot; + rs.getString(2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trs.close();\r\n\t\t\t\t\tstmt.close();\r\n\t\t\t\t}\r\n        \t\t\r\n        \t\tcatch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;An Error Was Detected! :/&quot;);\r\n\t\t\t\t}\r\n        \t\t\r\n        \t\treturn null;\r\n        \t}\r\n        \t\r\n        \t@Override\r\n\t\t    public void done(){\r\n        \t\tmenuOptions.clear();\r\n        \t\t\r\n        \t\tfor(int i = 0; i &lt; billItems.length; i++){\r\n        \t\t\tmenuOptions.addElement(billItems[i]);\r\n        \t\t}\r\n        \t\t\r\n        \t\tloadingGif.setVisible(false);\r\n        \t}\r\n        \t\r\n        };","title":"Result Set not always being shown in the JTable","body":"<p>I have solved the issue by adding the information into the table from the done() function. The code is below</p>\n<pre><code>SwingWorker&lt;Void, Void&gt; worker = new SwingWorker&lt; Void, Void&gt;() {\n        \n        String[] billItems = null;\n        \n        @Override\n        public Void doInBackground() {\n            \n            String SQL = &quot;SELECT * FROM AddABill&quot;;\n            \n            try {\n                Statement stmt = GlobalVars.conn.createStatement();\n                \n                ResultSet rs = stmt.executeQuery(SQL);\n                \n                //Set The Cursor To Last Position\n                rs.last();\n                \n                int totalRows = rs.getRow();\n                \n                billItems = new String[totalRows];\n                \n                //Set The Cursor Back To The Start\n                rs.beforeFirst();\n                \n                while(rs.next()){\n                    int rowNum = rs.getRow() - 1;\n                    billItems[rowNum] = rs.getString(1) + &quot; - &quot; + rs.getString(2);\n                }\n                \n                rs.close();\n                stmt.close();\n            }\n            \n            catch (SQLException e) {\n                System.out.println(&quot;An Error Was Detected! :/&quot;);\n            }\n            \n            return null;\n        }\n        \n        @Override\n        public void done(){\n            menuOptions.clear();\n            \n            for(int i = 0; i &lt; billItems.length; i++){\n                menuOptions.addElement(billItems[i]);\n            }\n            \n            loadingGif.setVisible(false);\n        }\n        \n    };\n</code></pre>\n"}],"owner":{"display_name":"user3677640"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38600354,"answer_count":1,"score":0,"last_activity_date":1689921244,"creation_date":1469117944,"question_id":38509422,"body_markdown":"I am creating an application in Java which retrieves some information from a MySQL database and then displays it in a JTable on the screen.\r\n\r\nThe code I am using to get and put the information into a DefaultListModel&lt;&gt; is shown below. The DefaultListModel&lt;&gt; is then fed to the JTable which displays the information onto the screen.\r\n\r\n    SwingWorker&lt;Void, Void&gt; worker = new SwingWorker&lt; Void, Void&gt;() {\r\n        \t\r\n        \t@Override\r\n\t\t    public Void doInBackground() {\r\n        \t\t\r\n        \t\tString SQL = &quot;SELECT * FROM AddABill&quot;;\r\n        \t\t\r\n        \t\ttry {\r\n\t\t\t\t\tStatement stmt = GlobalVars.conn.createStatement();\r\n\t\t\t\t\t\r\n\t\t\t\t\tResultSet rs = stmt.executeQuery(SQL);\r\n\t\t\t\t\t\r\n\t\t\t\t\tmenuOptions.clear();\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile(rs.next()){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmenuOptions.addElement(rs.getString(1) + &quot; - &quot; + rs.getString(2));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trs.close();\r\n\t\t\t\t\tstmt.close();\r\n\t\t\t\t}\r\n        \t\t\r\n        \t\tcatch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;An Error Was Detected! :/&quot;);\r\n\t\t\t\t}\r\n        \t\t\r\n        \t\treturn null;\r\n        \t}\r\n        \t\r\n        \t@Override\r\n\t\t    public void done(){\r\n        \t\tloadingGif.setVisible(false);\r\n        \t}\r\n        \t\r\n        };\r\n        \r\n        worker.execute();\r\n\r\nThe issue I am having is that sometimes the information is displayed onto the screen and sometimes it isn&#39;t. Since there is no change in the query used I am assuming it is something to do with the MySQL connection.\r\n\r\nThe JTable and MenuOptions are setup like this\r\n\r\n    menuOptions = new DefaultListModel&lt;&gt;();\r\n    menuOptions.addElement(&quot;&quot;);\r\n        \r\n    menuList = new JList&lt;&gt;(menuOptions);\r\n    menuList.setFont(new Font(&quot;Myriad Hebrew&quot;, Font.PLAIN, 32));\r\n    menuList.setBackground(Color.decode(&quot;#005952&quot;));\r\n    menuList.setForeground(Color.decode(&quot;#BEC423&quot;));\r\n    menuList.setSelectionBackground(Color.decode(&quot;#660033&quot;));\r\n    menuList.setSelectionForeground(Color.decode(&quot;#FFFFFF&quot;));\r\n\r\nSo the question I am wondering is how can I make sure that the information is always displayed on the screen. A picture of when it is displayed and not displayed is shown below.\r\n\r\nDisplayed:\r\n\r\n[![Displayed][1]][1]\r\n\r\nNot Displayed:\r\n\r\n[![Not Displayed][2]][2]\r\n\r\nOn a final note to get the information to show I have to keep on re-running the code until it is eventually shown.\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/62ZBt.png\r\n  [2]: http://i.stack.imgur.com/j6ba1.png","title":"Result Set not always being shown in the JTable","body":"<p>I am creating an application in Java which retrieves some information from a MySQL database and then displays it in a JTable on the screen.</p>\n<p>The code I am using to get and put the information into a DefaultListModel&lt;&gt; is shown below. The DefaultListModel&lt;&gt; is then fed to the JTable which displays the information onto the screen.</p>\n<pre><code>SwingWorker&lt;Void, Void&gt; worker = new SwingWorker&lt; Void, Void&gt;() {\n        \n        @Override\n        public Void doInBackground() {\n            \n            String SQL = &quot;SELECT * FROM AddABill&quot;;\n            \n            try {\n                Statement stmt = GlobalVars.conn.createStatement();\n                \n                ResultSet rs = stmt.executeQuery(SQL);\n                \n                menuOptions.clear();\n                \n                while(rs.next()){\n                    \n                    menuOptions.addElement(rs.getString(1) + &quot; - &quot; + rs.getString(2));\n                }\n                \n                rs.close();\n                stmt.close();\n            }\n            \n            catch (SQLException e) {\n                System.out.println(&quot;An Error Was Detected! :/&quot;);\n            }\n            \n            return null;\n        }\n        \n        @Override\n        public void done(){\n            loadingGif.setVisible(false);\n        }\n        \n    };\n    \n    worker.execute();\n</code></pre>\n<p>The issue I am having is that sometimes the information is displayed onto the screen and sometimes it isn't. Since there is no change in the query used I am assuming it is something to do with the MySQL connection.</p>\n<p>The JTable and MenuOptions are setup like this</p>\n<pre><code>menuOptions = new DefaultListModel&lt;&gt;();\nmenuOptions.addElement(&quot;&quot;);\n    \nmenuList = new JList&lt;&gt;(menuOptions);\nmenuList.setFont(new Font(&quot;Myriad Hebrew&quot;, Font.PLAIN, 32));\nmenuList.setBackground(Color.decode(&quot;#005952&quot;));\nmenuList.setForeground(Color.decode(&quot;#BEC423&quot;));\nmenuList.setSelectionBackground(Color.decode(&quot;#660033&quot;));\nmenuList.setSelectionForeground(Color.decode(&quot;#FFFFFF&quot;));\n</code></pre>\n<p>So the question I am wondering is how can I make sure that the information is always displayed on the screen. A picture of when it is displayed and not displayed is shown below.</p>\n<p>Displayed:</p>\n<p><a href=\"https://i.stack.imgur.com/62ZBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62ZBt.png\" alt=\"Displayed\" /></a></p>\n<p>Not Displayed:</p>\n<p><a href=\"https://i.stack.imgur.com/j6ba1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j6ba1.png\" alt=\"Not Displayed\" /></a></p>\n<p>On a final note to get the information to show I have to keep on re-running the code until it is eventually shown.</p>\n"},{"tags":["java","maven","allure"],"comments":[{"owner":{"account_id":4853449,"reputation":2312,"user_id":3915166,"display_name":"Dmitry Baev"},"score":0,"creation_date":1500118327,"post_id":45111998,"comment_id":77206520,"body_markdown":"How are you run your tests?","body":"How are you run your tests?"},{"owner":{"account_id":3992044,"reputation":339,"user_id":3290656,"accept_rate":50,"display_name":"user3290656"},"score":0,"creation_date":1500135718,"post_id":45111998,"comment_id":77211438,"body_markdown":"mvn clean install exec:java site","body":"mvn clean install exec:java site"}],"answers":[{"comments":[{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":1,"creation_date":1625148779,"post_id":45895491,"comment_id":120555615,"body_markdown":"It is generated in local but not in jenkins what could be the issue?","body":"It is generated in local but not in jenkins what could be the issue?"},{"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"score":1,"creation_date":1644856476,"post_id":45895491,"comment_id":125710545,"body_markdown":"@AshokkumarGanesan. were u able to find the issue. I am also able to generate results on Local but when pipeline is running no allure-results is generating","body":"@AshokkumarGanesan. were u able to find the issue. I am also able to generate results on Local but when pipeline is running no allure-results is generating"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1644895317,"post_id":45895491,"comment_id":125720434,"body_markdown":"@Karan In my case, I deleted the job and created a new one with the *target/allure-results* path under post build actions and it started to work well","body":"@Karan In my case, I deleted the job and created a new one with the <i>target/allure-results</i> path under post build actions and it started to work well"},{"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"score":0,"creation_date":1644917298,"post_id":45895491,"comment_id":125725812,"body_markdown":"Thanks @AshokkumarGanesan , it also worked for us by manually creating allure-results folder one level up of project repo.  we took reference of this link\n\nhttps://stackoverflow.com/questions/53152923/allure-results-does-not-exists-in-jenkins","body":"Thanks @AshokkumarGanesan , it also worked for us by manually creating allure-results folder one level up of project repo.  we took reference of this link  <a href=\"https://stackoverflow.com/questions/53152923/allure-results-does-not-exists-in-jenkins\" title=\"allure results does not exists in jenkins\">stackoverflow.com/questions/53152923/&hellip;</a>"}],"tags":[],"owner":{"account_id":4853449,"reputation":2312,"user_id":3915166,"display_name":"Dmitry Baev"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1503751333,"creation_date":1503751333,"answer_id":45895491,"question_id":45111998,"body_markdown":"Create a file `allure.properties` under your test resources (usually it is `src/test/resources`) with the following content:\r\n\r\n    allure.results.directory=target/allure-results","title":"allure-results directory not generated under target folder","body":"<p>Create a file <code>allure.properties</code> under your test resources (usually it is <code>src/test/resources</code>) with the following content:</p>\n\n<pre><code>allure.results.directory=target/allure-results\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13068375,"reputation":71,"user_id":9442860,"display_name":"Tomahawks"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1551467565,"creation_date":1551467565,"answer_id":54950915,"question_id":45111998,"body_markdown":"Try out this solution - https://github.com/allure-framework/allure-maven/issues/30#issuecomment-276441970\r\n\r\nIn systemPropertyVariables create the following entry:\r\n\r\n`&lt;allure.results.directory&gt;target/allure-results&lt;/allure.results.directory&gt;`\r\n","title":"allure-results directory not generated under target folder","body":"<p>Try out this solution - <a href=\"https://github.com/allure-framework/allure-maven/issues/30#issuecomment-276441970\" rel=\"noreferrer\">https://github.com/allure-framework/allure-maven/issues/30#issuecomment-276441970</a></p>\n\n<p>In systemPropertyVariables create the following entry:</p>\n\n<p><code>&lt;allure.results.directory&gt;target/allure-results&lt;/allure.results.directory&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1260556,"reputation":1859,"user_id":1218956,"display_name":"Lauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639749299,"creation_date":1639749299,"answer_id":70394269,"question_id":45111998,"body_markdown":"If you have ***allure-results*** directory generated in your main project directory (instead being under ***./target***) as I did, then you want to run ***allure:report*** form commandline, then you might have luck with following command\r\n\r\n    mvn allure:report -Dallure.results.directory=../allure-results\r\n\r\nHere i use mac/linux directory separator, so on windows you might need backward slash instead.","title":"allure-results directory not generated under target folder","body":"<p>If you have <em><strong>allure-results</strong></em> directory generated in your main project directory (instead being under <em><strong>./target</strong></em>) as I did, then you want to run <em><strong>allure:report</strong></em> form commandline, then you might have luck with following command</p>\n<pre><code>mvn allure:report -Dallure.results.directory=../allure-results\n</code></pre>\n<p>Here i use mac/linux directory separator, so on windows you might need backward slash instead.</p>\n"},{"tags":[],"owner":{"account_id":7453273,"reputation":1,"user_id":5667285,"display_name":"Manjunath T.N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599199,"creation_date":1670599111,"answer_id":74745019,"question_id":45111998,"body_markdown":"Sometimes, there might also be a case that in your allure.properties, the path that you have written for ```allure.results.directory``` has a prefix &quot;/&quot;.\r\nRemove that and try again.\r\n \r\nMeaning, \r\n\r\n```allure.results.directory=/target/allure-results```\r\n\r\nshould be changed to \r\n\r\n```allure.results.directory=target/allure-results```","title":"allure-results directory not generated under target folder","body":"<p>Sometimes, there might also be a case that in your allure.properties, the path that you have written for <code>allure.results.directory</code> has a prefix &quot;/&quot;.\nRemove that and try again.</p>\n<p>Meaning,</p>\n<p><code>allure.results.directory=/target/allure-results</code></p>\n<p>should be changed to</p>\n<p><code>allure.results.directory=target/allure-results</code></p>\n"},{"tags":[],"owner":{"account_id":25480120,"reputation":9,"user_id":19276625,"display_name":"Vlad Boikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689921151,"creation_date":1689921151,"answer_id":76735612,"question_id":45111998,"body_markdown":"I moved allure.properties from &quot;src.test.java&quot; to &quot;src.test&quot; and now allure-results generating in /target/allure-results. So you may try to move allure.properties to another folder","title":"allure-results directory not generated under target folder","body":"<p>I moved allure.properties from &quot;src.test.java&quot; to &quot;src.test&quot; and now allure-results generating in /target/allure-results. So you may try to move allure.properties to another folder</p>\n"}],"owner":{"account_id":3992044,"reputation":339,"user_id":3290656,"accept_rate":50,"display_name":"user3290656"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34911,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1689921151,"creation_date":1500068627,"question_id":45111998,"body_markdown":"I upgraded to latest `&lt;allure2.version&gt;2.0-BETA14` in my Maven project. `test-results` folder is getting generated under the project directory instead of `target` directory. \r\n\r\nI have gone through the allure documentation website and they have suggest to add `&lt;allure.results.directory&gt;` in the system path to override but it doesn&#39;t seem to be working. \r\n\r\nI am building my TestNG suite programatically. This was working absolutely fine with allure1.\r\n\r\nBelow is my `pom.xml`: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.mycompany.test.projectA&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;scarpbook&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;scarpbook&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\r\n\t\t&lt;testng.version&gt;6.10&lt;/testng.version&gt;\r\n\r\n\t\t&lt;surefire.plugin.version&gt;2.19.1&lt;/surefire.plugin.version&gt;\r\n\t\t&lt;allure.version&gt;2.0-BETA14&lt;/allure.version&gt;\r\n\t\t&lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n\t\t&lt;allure.results.directory&gt;target/allure-results&lt;/allure.results.directory&gt;\r\n\t\t&lt;allure.report.directory&gt;target/allure-report&lt;/allure.report.directory&gt;\r\n\t\t&lt;tms&gt;\r\n\t\t\thttps://github.com/allure-framework/allure-docs/issues/{}\r\n\t\t&lt;/tms&gt;\r\n\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mycompany.testlib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${testng.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.21&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.mycompany.testlib.testrunner&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;argLine&gt;\r\n\t\t\t\t\t\t-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n\t\t\t\t\t&lt;/argLine&gt;\r\n\t\t\t\t\t &lt;systemProperties&gt;\r\n                    \t&lt;property&gt;\r\n                        \t&lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                        \t&lt;value&gt;${allure.results.directory}&lt;/value&gt;\r\n                    \t&lt;/property&gt;\r\n                    &lt;/systemProperties&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;reporting&gt;\r\n\t\t&lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.8&lt;/version&gt;\r\n\t\t\t\t    &lt;configuration&gt;\r\n            \t\t\t&lt;outputDirectory&gt;${basedir}/target/allure-reports/&lt;/outputDirectory&gt;\r\n            \t\t\t&lt;allureResultsDirectory&gt;${basedir}/target/allure-results&lt;/allureResultsDirectory&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"allure-results directory not generated under target folder","body":"<p>I upgraded to latest <code>&lt;allure2.version&gt;2.0-BETA14</code> in my Maven project. <code>test-results</code> folder is getting generated under the project directory instead of <code>target</code> directory. </p>\n\n<p>I have gone through the allure documentation website and they have suggest to add <code>&lt;allure.results.directory&gt;</code> in the system path to override but it doesn't seem to be working. </p>\n\n<p>I am building my TestNG suite programatically. This was working absolutely fine with allure1.</p>\n\n<p>Below is my <code>pom.xml</code>: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.mycompany.test.projectA&lt;/groupId&gt;\n&lt;artifactId&gt;scarpbook&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;scarpbook&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n\n    &lt;testng.version&gt;6.10&lt;/testng.version&gt;\n\n    &lt;surefire.plugin.version&gt;2.19.1&lt;/surefire.plugin.version&gt;\n    &lt;allure.version&gt;2.0-BETA14&lt;/allure.version&gt;\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n    &lt;allure.results.directory&gt;target/allure-results&lt;/allure.results.directory&gt;\n    &lt;allure.report.directory&gt;target/allure-report&lt;/allure.report.directory&gt;\n    &lt;tms&gt;\n        https://github.com/allure-framework/allure-docs/issues/{}\n    &lt;/tms&gt;\n\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mycompany.testlib&lt;/groupId&gt;\n        &lt;artifactId&gt;lib&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;${testng.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;java&lt;/executable&gt;\n                &lt;mainClass&gt;com.mycompany.testlib.testrunner&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;argLine&gt;\n                    -javaagent:\"${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\"\n                &lt;/argLine&gt;\n                 &lt;systemProperties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;allure.results.directory&lt;/name&gt;\n                        &lt;value&gt;${allure.results.directory}&lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/systemProperties&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;reporting&gt;\n    &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n            &lt;version&gt;2.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/target/allure-reports/&lt;/outputDirectory&gt;\n                    &lt;allureResultsDirectory&gt;${basedir}/target/allure-results&lt;/allureResultsDirectory&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1507939157,"post_id":46739110,"comment_id":80425745,"body_markdown":"You&#39;ve used a KPA that is available in BouncyCastle but not in JSSE, and the keytool only uses JSSE. Find a compatible KPA.","body":"You&#39;ve used a KPA that is available in BouncyCastle but not in JSSE, and the keytool only uses JSSE. Find a compatible KPA."},{"owner":{"account_id":71784,"reputation":28710,"user_id":207524,"accept_rate":78,"display_name":"Crystal"},"score":0,"creation_date":1507940209,"post_id":46739110,"comment_id":80425928,"body_markdown":"@EJP sorry for the dumb question, but what is KPA? I got most of that code from a tutorial","body":"@EJP sorry for the dumb question, but what is KPA? I got most of that code from a tutorial"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507942924,"post_id":46739110,"comment_id":80426387,"body_markdown":"Key Protection Algorithm, as mentioned in the error message.","body":"Key Protection Algorithm, as mentioned in the error message."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1507980858,"post_id":46739110,"comment_id":80434121,"body_markdown":"@EJP: I don&#39;t see how; posted code uses BCprov to create the _cert_, but autoselect for KeyStore JKS -- and BCprov doesn&#39;t provide JKS, only SUN does. Did you really mean JSSE specifically, or JCE? Historically SunJSSE provides PKCS12 but not JKS; I don&#39;t know if this changes in j9 when pkcs12 becomes &#39;preferred&#39;.","body":"@EJP: I don&#39;t see how; posted code uses BCprov to create the <i>cert</i>, but autoselect for KeyStore JKS -- and BCprov doesn&#39;t provide JKS, only SUN does. Did you really mean JSSE specifically, or JCE? Historically SunJSSE provides PKCS12 but not JKS; I don&#39;t know if this changes in j9 when pkcs12 becomes &#39;preferred&#39;."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1507981335,"post_id":46739110,"comment_id":80434273,"body_markdown":"(0) From code it&#39;s just as easy to write P12 as JKS, as I showed [on your previous Q](https://stackoverflow.com/questions/46657809/cannot-open-pkcs12-store-because-of-password) (1) have you changed your JRE/lib/security/java.security file, or does anything in your code configure a provider other than the Sun/Oracle ones and BC? (2) if you do this more than once, issuing multiple certs from the same CA with the same serial is a very bad idea (3) extkeyusage=clientauth means SSL/TLS client which _only_ signs so keyusage other than digSign is useless ...","body":"(0) From code it&#39;s just as easy to write P12 as JKS, as I showed <a href=\"https://stackoverflow.com/questions/46657809/cannot-open-pkcs12-store-because-of-password\">on your previous Q</a> (1) have you changed your JRE/lib/security/java.security file, or does anything in your code configure a provider other than the Sun/Oracle ones and BC? (2) if you do this more than once, issuing multiple certs from the same CA with the same serial is a very bad idea (3) extkeyusage=clientauth means SSL/TLS client which <i>only</i> signs so keyusage other than digSign is useless ..."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1507981904,"post_id":46739110,"comment_id":80434431,"body_markdown":"... (4) your command doesn&#39;t include -srcstorepass which means keytool will prompt for it, but you don&#39;t indicate how you handle that prompting (5) your command does specify -deststorepass clientName which is presumably not secret (a bad idea) and different from the key password (a worse idea) (6) there&#39;s no need to specify -srcalias and -destalias for a file with only one entry. ... but none of those explain the quite weird error you got. If the problem occurs with a throwaway key can you post that file somewhere readable?","body":"... (4) your command doesn&#39;t include -srcstorepass which means keytool will prompt for it, but you don&#39;t indicate how you handle that prompting (5) your command does specify -deststorepass clientName which is presumably not secret (a bad idea) and different from the key password (a worse idea) (6) there&#39;s no need to specify -srcalias and -destalias for a file with only one entry. ... but none of those explain the quite weird error you got. If the problem occurs with a throwaway key can you post that file somewhere readable?"}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1507981027,"post_id":46743030,"comment_id":80434173,"body_markdown":"OP showed code with `store.setKeyEntry()`, there&#39;s no possibility they have the trustedCert-vs-privateKey mistake.","body":"OP showed code with <code>store.setKeyEntry()</code>, there&#39;s no possibility they have the trustedCert-vs-privateKey mistake."},{"owner":{"account_id":11967453,"reputation":87,"user_id":8756729,"display_name":"rodriguesf53"},"score":0,"creation_date":1508134214,"post_id":46743030,"comment_id":80472958,"body_markdown":"@dave_thompson_085, I have not mentioned that the error is related to privateKey vs trustedCert. I just wanted the user to confirm the chain length and the Entry type. He can also check the Alias name if he runs the command","body":"@dave_thompson_085, I have not mentioned that the error is related to privateKey vs trustedCert. I just wanted the user to confirm the chain length and the Entry type. He can also check the Alias name if he runs the command"}],"tags":[],"owner":{"account_id":11967453,"reputation":87,"user_id":8756729,"display_name":"rodriguesf53"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507973713,"creation_date":1507973713,"answer_id":46743030,"question_id":46739110,"body_markdown":"I would like you to the following steps (suppose the name of the jks file is abc.jks)\r\n\r\n 1. Paste the abc.jks file in the bin folder of java where keytool.exe file is present (e.g. C:\\Program Files (x86)\\Java\\jre1.8.0_121\\bin)\r\n 2. Run this command `keytool -keystore abc.jks -list -v` and enter the password\r\n 3. Now you will need to check the following content in it\r\n       A. Entry type (It should be private, if it is not a then you don&#39;t have the key)\r\n       B. Certificate chain (It should be 3, if it is one then you need to import the CA certificates)\r\n\r\nyou can confirm the same in the image\r\n[![enter image description here][1]][1]\r\n\r\nYou can use the this command to convert the jks to pfx `keytool -importkeystore -srckeystore abc.jks -srcstoretype jks -destkeystore xyz.pfx -deststoretype pkcs12` (I will recommend to paste the abc.jks in the bin folder of java) at the end **you need to change the extension to P12**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X58vt.jpg","title":"Key protection algorithm not found: java.security.KeyStoreException: Certificate chain is not validate","body":"<p>I would like you to the following steps (suppose the name of the jks file is abc.jks)</p>\n\n<ol>\n<li>Paste the abc.jks file in the bin folder of java where keytool.exe file is present (e.g. C:\\Program Files (x86)\\Java\\jre1.8.0_121\\bin)</li>\n<li>Run this command <code>keytool -keystore abc.jks -list -v</code> and enter the password</li>\n<li>Now you will need to check the following content in it\n   A. Entry type (It should be private, if it is not a then you don't have the key)\n   B. Certificate chain (It should be 3, if it is one then you need to import the CA certificates)</li>\n</ol>\n\n<p>you can confirm the same in the image\n<a href=\"https://i.stack.imgur.com/X58vt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X58vt.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can use the this command to convert the jks to pfx <code>keytool -importkeystore -srckeystore abc.jks -srcstoretype jks -destkeystore xyz.pfx -deststoretype pkcs12</code> (I will recommend to paste the abc.jks in the bin folder of java) at the end <strong>you need to change the extension to P12</strong></p>\n"},{"comments":[{"owner":{"account_id":1418489,"reputation":1545,"user_id":1343614,"display_name":"Wytze"},"score":0,"creation_date":1613596825,"post_id":49705934,"comment_id":117127373,"body_markdown":"Had this problem too. It turned out that my DN was in reverse order. Fixed it using this other thread on SO.\n\nhttps://stackoverflow.com/questions/7567837/attributes-reversed-in-certificate-subject-and-issuer","body":"Had this problem too. It turned out that my DN was in reverse order. Fixed it using this other thread on SO.  <a href=\"https://stackoverflow.com/questions/7567837/attributes-reversed-in-certificate-subject-and-issuer\" title=\"attributes reversed in certificate subject and issuer\">stackoverflow.com/questions/7567837/&hellip;</a>"}],"tags":[],"owner":{"account_id":10155056,"reputation":61,"user_id":9404749,"display_name":"jm009"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523095608,"creation_date":1523093896,"answer_id":49705934,"question_id":46739110,"body_markdown":"I have the same exception, trying to programatically fill a key store.\r\n\r\nI tracked the problem down to [sun.security.pkcs12.PKCS12KeyStore](https://github.com/dmlloyd/openjdk/blob/jdk9/jdk9/jdk/src/java.base/share/classes/sun/security/pkcs12/PKCS12KeyStore.java)\r\n\r\nIn method `setKeyEntry`\r\n\r\n                if (chain != null) {\r\n                    // validate cert-chain\r\n                    if ((chain.length &gt; 1) &amp;&amp; (!validateChain(chain)))\r\n                       throw new KeyStoreException(&quot;Certificate chain is &quot; +\r\n                                                &quot;not valid&quot;);\r\n\r\nMethod `validateChain`\r\n\r\n    private boolean validateChain(Certificate[] certChain)\r\n    {\r\n        for (int i = 0; i &lt; certChain.length-1; i++) {\r\n            X500Principal issuerDN =\r\n                ((X509Certificate)certChain[i]).getIssuerX500Principal();\r\n            X500Principal subjectDN =\r\n                ((X509Certificate)certChain[i+1]).getSubjectX500Principal();\r\n            if (!(issuerDN.equals(subjectDN)))\r\n                return false;\r\n        }\r\n    \r\n\r\n        // Check for loops in the chain. If there are repeated certs,\r\n        // the Set of certs in the chain will contain fewer certs than\r\n        // the chain\r\n        Set&lt;Certificate&gt; set = new HashSet&lt;&gt;(Arrays.asList(certChain));\r\n        return set.size() == certChain.length;\r\n    }\r\n\r\nSo check for intermediateCredential and rootCredential.","title":"Key protection algorithm not found: java.security.KeyStoreException: Certificate chain is not validate","body":"<p>I have the same exception, trying to programatically fill a key store.</p>\n\n<p>I tracked the problem down to <a href=\"https://github.com/dmlloyd/openjdk/blob/jdk9/jdk9/jdk/src/java.base/share/classes/sun/security/pkcs12/PKCS12KeyStore.java\" rel=\"nofollow noreferrer\">sun.security.pkcs12.PKCS12KeyStore</a></p>\n\n<p>In method <code>setKeyEntry</code></p>\n\n<pre><code>            if (chain != null) {\n                // validate cert-chain\n                if ((chain.length &gt; 1) &amp;&amp; (!validateChain(chain)))\n                   throw new KeyStoreException(\"Certificate chain is \" +\n                                            \"not valid\");\n</code></pre>\n\n<p>Method <code>validateChain</code></p>\n\n<pre><code>private boolean validateChain(Certificate[] certChain)\n{\n    for (int i = 0; i &lt; certChain.length-1; i++) {\n        X500Principal issuerDN =\n            ((X509Certificate)certChain[i]).getIssuerX500Principal();\n        X500Principal subjectDN =\n            ((X509Certificate)certChain[i+1]).getSubjectX500Principal();\n        if (!(issuerDN.equals(subjectDN)))\n            return false;\n    }\n\n\n    // Check for loops in the chain. If there are repeated certs,\n    // the Set of certs in the chain will contain fewer certs than\n    // the chain\n    Set&lt;Certificate&gt; set = new HashSet&lt;&gt;(Arrays.asList(certChain));\n    return set.size() == certChain.length;\n}\n</code></pre>\n\n<p>So check for intermediateCredential and rootCredential.</p>\n"},{"tags":[],"owner":{"account_id":2492806,"reputation":404,"user_id":2169951,"accept_rate":83,"display_name":"M. Gopal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689921110,"creation_date":1689921110,"answer_id":76735607,"question_id":46739110,"body_markdown":"For me the order how I added the was the issue, By maintaining \r\n&quot;leaf-&gt; intermediate-&gt; root&quot; order everything was working fine","title":"Key protection algorithm not found: java.security.KeyStoreException: Certificate chain is not validate","body":"<p>For me the order how I added the was the issue, By maintaining\n&quot;leaf-&gt; intermediate-&gt; root&quot; order everything was working fine</p>\n"}],"owner":{"account_id":71784,"reputation":28710,"user_id":207524,"accept_rate":78,"display_name":"Crystal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1689921110,"creation_date":1507935830,"question_id":46739110,"body_markdown":"I&#39;m getting this error when I try to create a JKS file, write it to disk, then run keytool to convert it to a P12.  The reason I&#39;m going this route is because I cannot get a P12 that works for iOS in code (not a crypto person).  There was enough code out there to create a JKS.  To create my end credential, I&#39;m doing this:\r\n\r\n\tpublic X509Certificate buildEndEntityCert(PublicKey entityKey, PrivateKey caKey, X509Certificate caCert, String clientName)\r\n            throws Exception {\r\n        String name = &quot;CN=&quot; + clientName;\r\n        X509v3CertificateBuilder certBldr = new JcaX509v3CertificateBuilder(\r\n                caCert.getSubjectX500Principal(),\r\n                BigInteger.ONE,\r\n                new Date(System.currentTimeMillis()),\r\n                new Date(System.currentTimeMillis() + VALIDITY_PERIOD),\r\n                new X500Principal(name),\r\n                entityKey);\r\n\r\n        JcaX509ExtensionUtils extUtils = new JcaX509ExtensionUtils();\r\n\r\n        certBldr.addExtension(Extension.authorityKeyIdentifier, false, extUtils.createAuthorityKeyIdentifier(caCert))\r\n                .addExtension(Extension.subjectKeyIdentifier, false, extUtils.createSubjectKeyIdentifier(entityKey))\r\n                .addExtension(Extension.basicConstraints, false, new BasicConstraints(false))\r\n                .addExtension(Extension.keyUsage, false, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment | KeyUsage.nonRepudiation))\r\n                .addExtension(Extension.extendedKeyUsage, false, new ExtendedKeyUsage(KeyPurposeId.id_kp_clientAuth));\r\n\r\n        ContentSigner signer = new JcaContentSignerBuilder(&quot;SHA256withRSA&quot;).setProvider(&quot;BC&quot;).build(caKey);\r\n\r\n        return new JcaX509CertificateConverter().setProvider(&quot;BC&quot;).getCertificate(certBldr.build(signer));\r\n    }\r\n\r\nI call that method and create the JKS like this:\r\n\r\n\tKeyPair endPair = generateRSAKeyPair(2048);\r\n    X509Certificate endCert = buildEndEntityCert(endPair.getPublic(), intermediateCredential.getPrivateKey(), intermediateCredential.getCertificate(), clientName);  // intermediateCredential and rootCredential are properties of this class that get loaded when the app starts up\r\n    X500PrivateCredential endCredential = new X500PrivateCredential(endCert, endPair.getPrivate(), clientName);\r\n\r\n    KeyStore store = KeyStore.getInstance(&quot;JKS&quot;);\r\n    store.load(null, null);\r\n    store.setKeyEntry(clientName, endCredential.getPrivateKey(), &quot;secret&quot;.toCharArray(),\r\n            new Certificate[]{\r\n                    endCredential.getCertificate(),\r\n                    intermediateCredential.getCertificate(),\r\n                    rootCredential.getCertificate()\r\n            });\r\n    store.store(new FileOutputStream(clientName + &quot;.jks&quot;), &quot;secret&quot;.toCharArray());\r\n\r\nThen when I run keytool from ProcessBuilder:\r\n\r\n    &quot;C:\\\\Program Files\\\\Java\\\\jdk1.7.0_80\\\\bin\\\\keytool&quot;,     \r\n                    &quot;-importkeystore&quot;,\r\n                    &quot;-srckeystore&quot;,\r\n                    clientName + &quot;.jks&quot;,\r\n                    &quot;-destkeystore&quot;,\r\n                    clientName + &quot;.p12&quot;,\r\n                    &quot;-srcstoretype&quot;, &quot;JKS&quot;,\r\n                    &quot;-deststoretype&quot;, &quot;PKCS12&quot;,\r\n                    &quot;-deststorepass&quot;,\r\n                    clientName,\r\n                    &quot;-srcalias&quot;,\r\n                    clientName,\r\n                    &quot;-destalias&quot;,\r\n                    clientName\r\n\r\nI get:\r\n\r\n&gt; Problem importing entry for alias CLIENT_NAME: java.security.KeyStoreException: Key protection  algorithm not found: java.security.KeyStoreException: Certificate chain is not validate.\r\n\r\nI tried searching for this but did not find much info.  What does this mean or am  I am doing something wrong?\r\n","title":"Key protection algorithm not found: java.security.KeyStoreException: Certificate chain is not validate","body":"<p>I'm getting this error when I try to create a JKS file, write it to disk, then run keytool to convert it to a P12.  The reason I'm going this route is because I cannot get a P12 that works for iOS in code (not a crypto person).  There was enough code out there to create a JKS.  To create my end credential, I'm doing this:</p>\n\n<pre><code>public X509Certificate buildEndEntityCert(PublicKey entityKey, PrivateKey caKey, X509Certificate caCert, String clientName)\n        throws Exception {\n    String name = \"CN=\" + clientName;\n    X509v3CertificateBuilder certBldr = new JcaX509v3CertificateBuilder(\n            caCert.getSubjectX500Principal(),\n            BigInteger.ONE,\n            new Date(System.currentTimeMillis()),\n            new Date(System.currentTimeMillis() + VALIDITY_PERIOD),\n            new X500Principal(name),\n            entityKey);\n\n    JcaX509ExtensionUtils extUtils = new JcaX509ExtensionUtils();\n\n    certBldr.addExtension(Extension.authorityKeyIdentifier, false, extUtils.createAuthorityKeyIdentifier(caCert))\n            .addExtension(Extension.subjectKeyIdentifier, false, extUtils.createSubjectKeyIdentifier(entityKey))\n            .addExtension(Extension.basicConstraints, false, new BasicConstraints(false))\n            .addExtension(Extension.keyUsage, false, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment | KeyUsage.nonRepudiation))\n            .addExtension(Extension.extendedKeyUsage, false, new ExtendedKeyUsage(KeyPurposeId.id_kp_clientAuth));\n\n    ContentSigner signer = new JcaContentSignerBuilder(\"SHA256withRSA\").setProvider(\"BC\").build(caKey);\n\n    return new JcaX509CertificateConverter().setProvider(\"BC\").getCertificate(certBldr.build(signer));\n}\n</code></pre>\n\n<p>I call that method and create the JKS like this:</p>\n\n<pre><code>KeyPair endPair = generateRSAKeyPair(2048);\nX509Certificate endCert = buildEndEntityCert(endPair.getPublic(), intermediateCredential.getPrivateKey(), intermediateCredential.getCertificate(), clientName);  // intermediateCredential and rootCredential are properties of this class that get loaded when the app starts up\nX500PrivateCredential endCredential = new X500PrivateCredential(endCert, endPair.getPrivate(), clientName);\n\nKeyStore store = KeyStore.getInstance(\"JKS\");\nstore.load(null, null);\nstore.setKeyEntry(clientName, endCredential.getPrivateKey(), \"secret\".toCharArray(),\n        new Certificate[]{\n                endCredential.getCertificate(),\n                intermediateCredential.getCertificate(),\n                rootCredential.getCertificate()\n        });\nstore.store(new FileOutputStream(clientName + \".jks\"), \"secret\".toCharArray());\n</code></pre>\n\n<p>Then when I run keytool from ProcessBuilder:</p>\n\n<pre><code>\"C:\\\\Program Files\\\\Java\\\\jdk1.7.0_80\\\\bin\\\\keytool\",     \n                \"-importkeystore\",\n                \"-srckeystore\",\n                clientName + \".jks\",\n                \"-destkeystore\",\n                clientName + \".p12\",\n                \"-srcstoretype\", \"JKS\",\n                \"-deststoretype\", \"PKCS12\",\n                \"-deststorepass\",\n                clientName,\n                \"-srcalias\",\n                clientName,\n                \"-destalias\",\n                clientName\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>Problem importing entry for alias CLIENT_NAME: java.security.KeyStoreException: Key protection  algorithm not found: java.security.KeyStoreException: Certificate chain is not validate.</p>\n</blockquote>\n\n<p>I tried searching for this but did not find much info.  What does this mean or am  I am doing something wrong?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1689922793,"post_id":76735601,"comment_id":135284410,"body_markdown":"&quot;Invalid header signature; read 0x7265562D454D494D&quot;: If the file starts with these bytes, then it is not a valid OLE2 document. The bytes are ASCII code: &quot;MIME-Ver&quot; read in Little-Endian-Format. So the file seems to start with the text &quot;MIME-Version&quot;. That looks like a header field content instead of the start of a file. How was the file stored?","body":"&quot;Invalid header signature; read 0x7265562D454D494D&quot;: If the file starts with these bytes, then it is not a valid OLE2 document. The bytes are ASCII code: &quot;MIME-Ver&quot; read in Little-Endian-Format. So the file seems to start with the text &quot;MIME-Version&quot;. That looks like a header field content instead of the start of a file. How was the file stored?"},{"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"score":0,"creation_date":1689924192,"post_id":76735601,"comment_id":135284656,"body_markdown":"I have saved the file into my file system by exporting it from the atlassian confluence article in the browser from the option export to word","body":"I have saved the file into my file system by exporting it from the atlassian confluence article in the browser from the option export to word"},{"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"score":0,"creation_date":1689924707,"post_id":76735601,"comment_id":135284759,"body_markdown":"When i opened the saved document in vs code i am seeing the following text - ----- MIME-Version: 1.0\nContent-Type: multipart/related; boundary=&quot;----=_NextPart_01D9BBC8.A1782840&quot;\n\nThis document is a Single File Web Page, also known as a Web Archive file.  If you are seeing this message, your browser or editor doesn&#39;t support Web Archive files.  Please download a browser that supports Web Archive.\n\n------=_NextPart_01D9BBC8.A1782840","body":"When i opened the saved document in vs code i am seeing the following text - ----- MIME-Version: 1.0 Content-Type: multipart/related; boundary=&quot;----=_NextPart_01D9BBC8.A1782840&quot;  This document is a Single File Web Page, also known as a Web Archive file.  If you are seeing this message, your browser or editor doesn&#39;t support Web Archive files.  Please download a browser that supports Web Archive.  ------=_NextPart_01D9BBC8.A1782840"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1689925056,"post_id":76735601,"comment_id":135284821,"body_markdown":"&quot;If you are seeing this message, your browser or editor doesn&#39;t support Web Archive files.&quot; This message is very clear. Apache POI doesn&#39;t support Web Archive files.","body":"&quot;If you are seeing this message, your browser or editor doesn&#39;t support Web Archive files.&quot; This message is very clear. Apache POI doesn&#39;t support Web Archive files."},{"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"score":0,"creation_date":1689925501,"post_id":76735601,"comment_id":135284897,"body_markdown":"One update on the issue is i opened the exported word document from confluence in ms word and saved it back as .doc then my word doc parser written using apache poi is able to read it","body":"One update on the issue is i opened the exported word document from confluence in ms word and saved it back as .doc then my word doc parser written using apache poi is able to read it"}],"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689921062,"creation_date":1689921062,"question_id":76735601,"body_markdown":"\r\nI am trying to read a word document (.doc) which has been exported from confluence page in my org using the below code, I am getting the following exception, Am I doing anything wrong initializing word doc like this. If I read a word doc that I have created I am not getting any exception.\r\n\r\n```\r\ntry {\r\n                POIFSFileSystem fs = new POIFSFileSystem(new FileInputStream(inputFile));\r\n                HWPFDocument document = new HWPFDocument(fs);\r\n```\r\n\r\n```\r\norg.apache.poi.poifs.filesystem.NotOLE2FileException: Invalid header signature; read 0x7265562D454D494D, expected 0xE11AB1A1E011CFD0 - Your file appears not to be a valid OLE2 document\r\n\tat org.apache.poi.poifs.storage.HeaderBlock.&lt;init&gt;(HeaderBlock.java:149)\r\n\tat org.apache.poi.poifs.storage.HeaderBlock.&lt;init&gt;(HeaderBlock.java:115)\r\n\tat org.apache.poi.poifs.filesystem.POIFSFileSystem.&lt;init&gt;(POIFSFileSystem.java:326)\r\n\r\n","title":"Getting Invalid header signature Exception while reading word document from file system in java","body":"<p>I am trying to read a word document (.doc) which has been exported from confluence page in my org using the below code, I am getting the following exception, Am I doing anything wrong initializing word doc like this. If I read a word doc that I have created I am not getting any exception.</p>\n<pre><code>try {\n                POIFSFileSystem fs = new POIFSFileSystem(new FileInputStream(inputFile));\n                HWPFDocument document = new HWPFDocument(fs);\n</code></pre>\n<pre><code>org.apache.poi.poifs.filesystem.NotOLE2FileException: Invalid header signature; read 0x7265562D454D494D, expected 0xE11AB1A1E011CFD0 - Your file appears not to be a valid OLE2 document\n    at org.apache.poi.poifs.storage.HeaderBlock.&lt;init&gt;(HeaderBlock.java:149)\n    at org.apache.poi.poifs.storage.HeaderBlock.&lt;init&gt;(HeaderBlock.java:115)\n    at org.apache.poi.poifs.filesystem.POIFSFileSystem.&lt;init&gt;(POIFSFileSystem.java:326)\n\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1689934649,"post_id":76735573,"comment_id":135286576,"body_markdown":"*“the other scene”* -&gt; why create another scene? For your design. you can use a single scene with a stackpane or other pane type as root and transition via animation in and out new panes that you load in fxml and set as children of the scene root pane, which you never change, you only change the children.  Like [this](https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene), but animated.  You don’t need to “specify a node of a specific fxml scene”.","body":"<i>“the other scene”</i> -&gt; why create another scene? For your design. you can use a single scene with a stackpane or other pane type as root and transition via animation in and out new panes that you load in fxml and set as children of the scene root pane, which you never change, you only change the children.  Like <a href=\"https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene\">this</a>, but animated.  You don’t need to “specify a node of a specific fxml scene”."}],"owner":{"account_id":27691360,"reputation":13,"user_id":21137969,"display_name":"Crynda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689920910,"creation_date":1689920603,"question_id":76735573,"body_markdown":"I am working on the transition between scenes, the question is the following, in my program I plan to keep an animated background, and it occurred to me that for this, I could use a stack pane, put an imageview on it and load the gif in the latter, and then to make the transitions, simply change the anchor pane that is on the stack pane, that is, change the anchor pane keeping the same stack pane in all the scenes, this works when I change the mode nu (it&#39;s the scene that contains the stack pane with the background) to another scene, but when I want to do something inverse, for some reason it doesn&#39;t work, and it&#39;s probably that I just didn&#39;t know how to do it.\r\n\r\nThis is the code for the transition method from the menu scene to the configuration scene (it does work):\r\n\r\n    @FXML\r\n\tprivate void loadconfig(ActionEvent event) throws IOException {\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;config.fxml&quot;)); \r\n\t\tScene scene = myButton.getScene();\r\n\t\r\n\t\t\r\n\t\troot.translateYProperty().set(scene.getHeight()); //aqui movemos el root (escena a cargar), en este caso la altura \r\n\t\tmyStPane.getChildren().add(root);\r\n\t\t\r\n\t\tTranslateTransition translate = new TranslateTransition();\r\n\t\ttranslate.setNode(root);\r\n\t\ttranslate.setDuration(Duration.millis(150));\r\n\t\ttranslate.setToY(0);\r\n\t\ttranslate.setOnFinished(event1 -&gt; {\r\n\t\t\tmyStPane.getChildren().remove(myAnchorPane);//Esto se ejecuta al finalizar la animacion\r\n\t\t});\r\n\t\t\r\n\t\tTranslateTransition translat2 = new TranslateTransition();\r\n\t\ttranslat2.setNode(myAnchorPane);\r\n\t\ttranslat2.setDuration(Duration.millis(200));\r\n\t\ttranslat2.setToY(-500);\r\n\r\n\t\t\r\n\t\ttranslate.playFromStart();\r\n\t\ttranslat2.playFromStart();\r\n\t}\r\n\r\nAnd here is the attempted reverse animation:\r\n\r\n    @FXML///cambiar este metodo y checar temita con el stack pane flojo\r\n\tprivate void loadmenu(ActionEvent event) throws IOException {\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;menu.fxml&quot;)); //la escena raiz se carga, es decir toma como base esta desde la escena que se usara a continuacion\r\n\t\tScene scene = myButton.getScene();//se toma la escena desde un nodo, en este caso el boton que inicia la accion\r\n\t\t\r\n\t\troot.translateYProperty().set(scene.getHeight()); //aqui movemos el root (escena a cargar), en este caso la altura \r\n\t\tmyStPane.getChildren().add(root);\r\n\t\t\r\n\t\tTranslateTransition translate = new TranslateTransition();\r\n\t\ttranslate.setNode(root);\r\n\t\ttranslate.setDuration(Duration.millis(150));\r\n\t\ttranslate.setToY(0);\r\n\t\ttranslate.setOnFinished(event1 -&gt; {\r\n\t\t\tmyStPane.getChildren().remove(myAnchorPane);//Esto se ejecuta al finalizar la animacion\r\n\t\t});\r\n\t\t\r\n\t\tTranslateTransition translat2 = new TranslateTransition();\r\n\t\ttranslat2.setNode(myAnchorPane);\r\n\t\ttranslat2.setDuration(Duration.millis(200));\r\n\t\ttranslat2.setToY(-500);\r\n\r\n\t\t\r\n\t\ttranslate.playFromStart();\r\n\t\ttranslat2.playFromStart();\r\n\t}\r\n\r\nAs you will notice, it is almost the same, maybe I have to change it more. But the question is that when using it I get an error because since the other scene does not contain any stack pane and this is used to change the anchor pane, a null stack pane is sent and the method does not work correctly.\r\n\r\nIn case you need it, here is the code for the fxml scenes\r\n&quot;menu.fxml&quot;:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;StackPane fx:id=&quot;myStPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;768.0&quot; prefWidth=&quot;1366.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.scenes.MenuCont&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ImageView fitHeight=&quot;768.0&quot; fitWidth=&quot;1366.0&quot; pickOnBounds=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@Images/Fondo2.gif&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;AnchorPane fx:id=&quot;myAnchorPane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;ImageView fitHeight=&quot;262.0&quot; fitWidth=&quot;502.0&quot; layoutX=&quot;501.0&quot; layoutY=&quot;99.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n               &lt;image&gt;\r\n                  &lt;Image url=&quot;@Images/icon.png&quot; /&gt;\r\n               &lt;/image&gt;\r\n            &lt;/ImageView&gt;\r\n            &lt;Button fx:id=&quot;myButton&quot; layoutX=&quot;570.0&quot; layoutY=&quot;330.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#loadconfig&quot; text=&quot;Configuracion&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;30.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/StackPane&gt;\r\n```\r\nAnd &quot;config.fxml&quot;:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;myAnchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;768.0&quot; prefWidth=&quot;1366.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.scenes.MenuCont&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label layoutX=&quot;579.0&quot; layoutY=&quot;48.0&quot; text=&quot;Opciones&quot; textFill=&quot;WHITE&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;50.0&quot; /&gt;\r\n         &lt;/font&gt;&lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;myButton&quot; layoutX=&quot;1217.0&quot; layoutY=&quot;676.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToScene1&quot; text=&quot;Volver&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;30.0&quot; /&gt;\r\n         &lt;/font&gt;&lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n","title":"Is there a way to specify a node of a specific fxml scene?","body":"<p>I am working on the transition between scenes, the question is the following, in my program I plan to keep an animated background, and it occurred to me that for this, I could use a stack pane, put an imageview on it and load the gif in the latter, and then to make the transitions, simply change the anchor pane that is on the stack pane, that is, change the anchor pane keeping the same stack pane in all the scenes, this works when I change the mode nu (it's the scene that contains the stack pane with the background) to another scene, but when I want to do something inverse, for some reason it doesn't work, and it's probably that I just didn't know how to do it.</p>\n<p>This is the code for the transition method from the menu scene to the configuration scene (it does work):</p>\n<pre><code>@FXML\nprivate void loadconfig(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;config.fxml&quot;)); \n    Scene scene = myButton.getScene();\n\n    \n    root.translateYProperty().set(scene.getHeight()); //aqui movemos el root (escena a cargar), en este caso la altura \n    myStPane.getChildren().add(root);\n    \n    TranslateTransition translate = new TranslateTransition();\n    translate.setNode(root);\n    translate.setDuration(Duration.millis(150));\n    translate.setToY(0);\n    translate.setOnFinished(event1 -&gt; {\n        myStPane.getChildren().remove(myAnchorPane);//Esto se ejecuta al finalizar la animacion\n    });\n    \n    TranslateTransition translat2 = new TranslateTransition();\n    translat2.setNode(myAnchorPane);\n    translat2.setDuration(Duration.millis(200));\n    translat2.setToY(-500);\n\n    \n    translate.playFromStart();\n    translat2.playFromStart();\n}\n</code></pre>\n<p>And here is the attempted reverse animation:</p>\n<pre><code>@FXML///cambiar este metodo y checar temita con el stack pane flojo\nprivate void loadmenu(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;menu.fxml&quot;)); //la escena raiz se carga, es decir toma como base esta desde la escena que se usara a continuacion\n    Scene scene = myButton.getScene();//se toma la escena desde un nodo, en este caso el boton que inicia la accion\n    \n    root.translateYProperty().set(scene.getHeight()); //aqui movemos el root (escena a cargar), en este caso la altura \n    myStPane.getChildren().add(root);\n    \n    TranslateTransition translate = new TranslateTransition();\n    translate.setNode(root);\n    translate.setDuration(Duration.millis(150));\n    translate.setToY(0);\n    translate.setOnFinished(event1 -&gt; {\n        myStPane.getChildren().remove(myAnchorPane);//Esto se ejecuta al finalizar la animacion\n    });\n    \n    TranslateTransition translat2 = new TranslateTransition();\n    translat2.setNode(myAnchorPane);\n    translat2.setDuration(Duration.millis(200));\n    translat2.setToY(-500);\n\n    \n    translate.playFromStart();\n    translat2.playFromStart();\n}\n</code></pre>\n<p>As you will notice, it is almost the same, maybe I have to change it more. But the question is that when using it I get an error because since the other scene does not contain any stack pane and this is used to change the anchor pane, a null stack pane is sent and the method does not work correctly.</p>\n<p>In case you need it, here is the code for the fxml scenes\n&quot;menu.fxml&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;StackPane fx:id=&quot;myStPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;768.0&quot; prefWidth=&quot;1366.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.scenes.MenuCont&quot;&gt;\n   &lt;children&gt;\n      &lt;ImageView fitHeight=&quot;768.0&quot; fitWidth=&quot;1366.0&quot; pickOnBounds=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@Images/Fondo2.gif&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;AnchorPane fx:id=&quot;myAnchorPane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\n         &lt;children&gt;\n            &lt;ImageView fitHeight=&quot;262.0&quot; fitWidth=&quot;502.0&quot; layoutX=&quot;501.0&quot; layoutY=&quot;99.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@Images/icon.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n            &lt;Button fx:id=&quot;myButton&quot; layoutX=&quot;570.0&quot; layoutY=&quot;330.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#loadconfig&quot; text=&quot;Configuracion&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;30.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p>And &quot;config.fxml&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane fx:id=&quot;myAnchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;768.0&quot; prefWidth=&quot;1366.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.scenes.MenuCont&quot;&gt;\n   &lt;children&gt;\n      &lt;Label layoutX=&quot;579.0&quot; layoutY=&quot;48.0&quot; text=&quot;Opciones&quot; textFill=&quot;WHITE&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;50.0&quot; /&gt;\n         &lt;/font&gt;&lt;/Label&gt;\n      &lt;Button fx:id=&quot;myButton&quot; layoutX=&quot;1217.0&quot; layoutY=&quot;676.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToScene1&quot; text=&quot;Volver&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;30.0&quot; /&gt;\n         &lt;/font&gt;&lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","validation","protocol-buffers"],"answers":[{"comments":[{"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"score":0,"creation_date":1689919959,"post_id":76733510,"comment_id":135283945,"body_markdown":"Doesn&#39;t seem much of an answer, rather a rant on how protobuf has been designed.","body":"Doesn&#39;t seem much of an answer, rather a rant on how protobuf has been designed."},{"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"score":0,"creation_date":1689921560,"post_id":76733510,"comment_id":135284192,"body_markdown":"@jpa, does my first line fail to satisfy the question? And, if you are going to interpret the rest of it as criticism, I&#39;ll go on to point out that the description of this behaviour in GPB is buried deep in the docs in the page related to encoding, the very thing that application developers are encouraged to treat as opaque. Their overview makes no mention of this behaviour. Even where it is mentioned in the docs, the why-do-it? example is very limited, and fails to explore any of the problems that this behaviour can easily generate. When encountered, most people are surprised.","body":"@jpa, does my first line fail to satisfy the question? And, if you are going to interpret the rest of it as criticism, I&#39;ll go on to point out that the description of this behaviour in GPB is buried deep in the docs in the page related to encoding, the very thing that application developers are encouraged to treat as opaque. Their overview makes no mention of this behaviour. Even where it is mentioned in the docs, the why-do-it? example is very limited, and fails to explore any of the problems that this behaviour can easily generate. When encountered, most people are surprised."}],"tags":[],"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689885015,"creation_date":1689885015,"answer_id":76733510,"question_id":76727649,"body_markdown":"Apparently, not. \r\n\r\nThis happens with oneof&#39;s too. If a sender contrives to send more than one of the oneof&#39;s fields, the parser simply keeps the last one received.\r\n\r\nIt is pretty bizarre, especially to be so silent about it. The whole idea of a schema based serialisation system like GPB is that you can easily have an agreed contract / ICD / message set. They&#39;ve managed to make it very hard to detect in code that the contract isn&#39;t actually met...\r\n\r\nI suspect the reason they&#39;ve done this goes back to why Google invented GPB in the first place, to store data within Google&#39;s own systems. They probably wanted something that could do pretty well, even if old data was a long way out of spec compared to the current version of a schema. For most of Google&#39;s stuff, it doesn&#39;t matter if things occassionally go wrong; analytics, search, etc aren&#39;t exact anyway, who cares if an old bit of data parses weirdly in some server somewhere?\r\n\r\nBeing more tidly minded than it appears Google are, I much prefer to use ASN.1; it&#39;s a much more capable serialiser in the first place, and it makes it very easy to enforce an ICD / contract. \r\n\r\nWhen Google first announced GPB at a dev conference and the reasons why they&#39;d done it, apparently someone in the crowd asked, &quot;why didn&#39;t you just use ASN.1?&quot;, to which the answer was that Google had never heard of it, Google&#39;s developers not having used Google to search the Internet for &quot;binary serialisation standards&quot;. Says it all, really.","title":"Protobuf: parsing of optional fields works if the incoming data contains multiple values for that field?","body":"<p>Apparently, not.</p>\n<p>This happens with oneof's too. If a sender contrives to send more than one of the oneof's fields, the parser simply keeps the last one received.</p>\n<p>It is pretty bizarre, especially to be so silent about it. The whole idea of a schema based serialisation system like GPB is that you can easily have an agreed contract / ICD / message set. They've managed to make it very hard to detect in code that the contract isn't actually met...</p>\n<p>I suspect the reason they've done this goes back to why Google invented GPB in the first place, to store data within Google's own systems. They probably wanted something that could do pretty well, even if old data was a long way out of spec compared to the current version of a schema. For most of Google's stuff, it doesn't matter if things occassionally go wrong; analytics, search, etc aren't exact anyway, who cares if an old bit of data parses weirdly in some server somewhere?</p>\n<p>Being more tidly minded than it appears Google are, I much prefer to use ASN.1; it's a much more capable serialiser in the first place, and it makes it very easy to enforce an ICD / contract.</p>\n<p>When Google first announced GPB at a dev conference and the reasons why they'd done it, apparently someone in the crowd asked, &quot;why didn't you just use ASN.1?&quot;, to which the answer was that Google had never heard of it, Google's developers not having used Google to search the Internet for &quot;binary serialisation standards&quot;. Says it all, really.</p>\n"},{"comments":[{"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"score":0,"creation_date":1689954017,"post_id":76735553,"comment_id":135290483,"body_markdown":"Just a theoretical question: are you sure about that reserializing will result in the byte-for-byte equivalent? That would mean protobuf defines the order in which fields and their values have to be written. For a data serialization standard that doesn&#39;t care about fields exist multiple times this would be surprising.","body":"Just a theoretical question: are you sure about that reserializing will result in the byte-for-byte equivalent? That would mean protobuf defines the order in which fields and their values have to be written. For a data serialization standard that doesn&#39;t care about fields exist multiple times this would be surprising."},{"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"score":0,"creation_date":1689956993,"post_id":76735553,"comment_id":135291036,"body_markdown":"@JMax Canonically fields are written in the tag number order. Deserializers are required to support any order, but they are also required to support duplicate fields. It appears you want to enforce a stricter-than-spec requirement, so the canonical format produced by most protobuf libraries out there is the closest I know.","body":"@JMax Canonically fields are written in the tag number order. Deserializers are required to support any order, but they are also required to support duplicate fields. It appears you want to enforce a stricter-than-spec requirement, so the canonical format produced by most protobuf libraries out there is the closest I know."},{"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"score":1,"creation_date":1689961242,"post_id":76735553,"comment_id":135291776,"body_markdown":"There is no requirement in the specs requiring fields to be written in field order. It is specifically stated that field order is an implementation detail (https://protobuf.dev/programming-guides/encoding/ &quot;Field Order&quot;), and implementations future versions may alter the order. There is a specific warning, &quot;Do not assume the byte output of a serialized message is stable. This is especially true for messages with transitive bytes fields representing other serialized protocol buffer messages.&quot;. So, re-encoding and checking for byte-for-byte equivalence of original vs new is not advised.","body":"There is no requirement in the specs requiring fields to be written in field order. It is specifically stated that field order is an implementation detail (<a href=\"https://protobuf.dev/programming-guides/encoding/\" rel=\"nofollow noreferrer\">protobuf.dev/programming-guides/encoding</a> &quot;Field Order&quot;), and implementations future versions may alter the order. There is a specific warning, &quot;Do not assume the byte output of a serialized message is stable. This is especially true for messages with transitive bytes fields representing other serialized protocol buffer messages.&quot;. So, re-encoding and checking for byte-for-byte equivalence of original vs new is not advised."},{"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"score":0,"creation_date":1689961578,"post_id":76735553,"comment_id":135291835,"body_markdown":"There are very good reasons to need to know whether surplus fields have turned up, largely to do with communication between / within development teams. A schema file is an agreement between devs as to what an interface is. GPB .proto files can be changed in ways that mean different devs have different understandings of what an interface is, but GPB won&#39;t tell anyone that there is mistmatch. For example, if a message of fields becomes a `oneoff` message of fields, the wireformat doesn&#39;t change (because last-one-wins) but the definition of the interface is radically and significantly different.","body":"There are very good reasons to need to know whether surplus fields have turned up, largely to do with communication between / within development teams. A schema file is an agreement between devs as to what an interface is. GPB .proto files can be changed in ways that mean different devs have different understandings of what an interface is, but GPB won&#39;t tell anyone that there is mistmatch. For example, if a message of fields becomes a <code>oneoff</code> message of fields, the wireformat doesn&#39;t change (because last-one-wins) but the definition of the interface is radically and significantly different."},{"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"score":0,"creation_date":1690005745,"post_id":76735553,"comment_id":135295584,"body_markdown":"Yes, protobuf as a format does not offer safety against misguided changes to .proto files (AFAIK neither does ASN-1 or many other serialization formats either). If such mismatches are to be expected, a log message of non-canonical message format might ease debugging.","body":"Yes, protobuf as a format does not offer safety against misguided changes to .proto files (AFAIK neither does ASN-1 or many other serialization formats either). If such mismatches are to be expected, a log message of non-canonical message format might ease debugging."}],"tags":[],"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689920418,"creation_date":1689920418,"answer_id":76735553,"question_id":76727649,"body_markdown":"&gt; Or at least detect such defect incoming messages?\r\n\r\nOne way to detect any message that differs from the schema, is to re-encode the decoded message. That will force it to the canonical format, and if the message exactly matches the schema, the binary representations will be byte-for-byte equivalent.\r\n\r\n**However, I do not think you should do this.**\r\n\r\nIf the message is untrusted, what good does it do you to detect one particular kind of modification? The sender can fully control all message data anyway. If you want to enforce message integrity, you&#39;ll need to add a cryptographic signature or [HMAC](https://en.wikipedia.org/wiki/HMAC).\r\n\r\nThe behavior when same field is present multiple times is [&quot;last one wins&quot;](https://protobuf.dev/programming-guides/encoding/#last-one-wins). Sometimes it is useful behavior, sometimes not. But there doesn&#39;t seem to be any compelling reason to throw an error for it, and I&#39;m not aware of any protobuf library that supports doing that.","title":"Protobuf: parsing of optional fields works if the incoming data contains multiple values for that field?","body":"<blockquote>\n<p>Or at least detect such defect incoming messages?</p>\n</blockquote>\n<p>One way to detect any message that differs from the schema, is to re-encode the decoded message. That will force it to the canonical format, and if the message exactly matches the schema, the binary representations will be byte-for-byte equivalent.</p>\n<p><strong>However, I do not think you should do this.</strong></p>\n<p>If the message is untrusted, what good does it do you to detect one particular kind of modification? The sender can fully control all message data anyway. If you want to enforce message integrity, you'll need to add a cryptographic signature or <a href=\"https://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow noreferrer\">HMAC</a>.</p>\n<p>The behavior when same field is present multiple times is <a href=\"https://protobuf.dev/programming-guides/encoding/#last-one-wins\" rel=\"nofollow noreferrer\">&quot;last one wins&quot;</a>. Sometimes it is useful behavior, sometimes not. But there doesn't seem to be any compelling reason to throw an error for it, and I'm not aware of any protobuf library that supports doing that.</p>\n"}],"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689920418,"creation_date":1689838746,"question_id":76727649,"body_markdown":"I have a gRPC server and the incoming messages contain fields that are marked as `optional`. As the client which sends data to the server runs in an untrusted environment, invalid or modified incoming messages are possible. \r\n\r\nIn a test I noticed that if the client sends multiple values for that field (like it was defined as `repeated`), protobuf simply ignores the multiple values and uses the last received value, instead of throwing an Exception.\r\n\r\nIs there a possibility to switch behavior to something like a &quot;strict mode&quot; and let protobuf throw an error in such a case? Or at least detect such defect incoming messages?\r\n\r\nTested with `com.google.protobuf:protobuf-java:3.23.3`:\r\n\r\n```\r\nmessage Msg1 { \r\n    repeated string field = 1;\r\n}\r\nmessage Msg2 { \r\n    optional string field = 1;\r\n}\r\n\r\nMsg1 msg1 = Msg1.newBuilder().addField(&quot;value1&quot;).addField(&quot;value2&quot;).addField(&quot;value3&quot;).build();\r\nbyte[] data = msg1.msg1.toByteArray(); // serialization on client side\r\n\r\nMsg2 msg2 = Msg2.parseFrom(data); // deserializationon on server side. How to make this fail if the format is different\r\n\r\nSystem.out.println(msg.getField()); // outputs &quot;value3&quot;\r\n```","title":"Protobuf: parsing of optional fields works if the incoming data contains multiple values for that field?","body":"<p>I have a gRPC server and the incoming messages contain fields that are marked as <code>optional</code>. As the client which sends data to the server runs in an untrusted environment, invalid or modified incoming messages are possible.</p>\n<p>In a test I noticed that if the client sends multiple values for that field (like it was defined as <code>repeated</code>), protobuf simply ignores the multiple values and uses the last received value, instead of throwing an Exception.</p>\n<p>Is there a possibility to switch behavior to something like a &quot;strict mode&quot; and let protobuf throw an error in such a case? Or at least detect such defect incoming messages?</p>\n<p>Tested with <code>com.google.protobuf:protobuf-java:3.23.3</code>:</p>\n<pre><code>message Msg1 { \n    repeated string field = 1;\n}\nmessage Msg2 { \n    optional string field = 1;\n}\n\nMsg1 msg1 = Msg1.newBuilder().addField(&quot;value1&quot;).addField(&quot;value2&quot;).addField(&quot;value3&quot;).build();\nbyte[] data = msg1.msg1.toByteArray(); // serialization on client side\n\nMsg2 msg2 = Msg2.parseFrom(data); // deserializationon on server side. How to make this fail if the format is different\n\nSystem.out.println(msg.getField()); // outputs &quot;value3&quot;\n</code></pre>\n"},{"tags":["java","rest","http","containers","quarkus"],"answers":[{"comments":[{"owner":{"account_id":20743229,"reputation":13,"user_id":16433289,"display_name":"Chain Head"},"score":0,"creation_date":1689870147,"post_id":76726897,"comment_id":135277856,"body_markdown":"Ok. But, if I use the `smallrye-health-check` extension, then this setting would be _required_ right?","body":"Ok. But, if I use the <code>smallrye-health-check</code> extension, then this setting would be <i>required</i> right?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689920202,"post_id":76726897,"comment_id":135283985,"body_markdown":"`quarkus-smallrye-health` depends on `quarkus-vertx-http`","body":"<code>quarkus-smallrye-health</code> depends on <code>quarkus-vertx-http</code>"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689920164,"creation_date":1689830729,"answer_id":76726897,"question_id":76726232,"body_markdown":"If your application does not expose an HTTP server, setting `quarkus.http.host` will have no effect.\r\nMore technically, this setting is used by the `quarkus-vertx-http` extension.\r\n\r\nFurthermore, you can always override the docker `CMD` instruction if you want to.","title":"What is application server in base image?","body":"<p>If your application does not expose an HTTP server, setting <code>quarkus.http.host</code> will have no effect.\nMore technically, this setting is used by the <code>quarkus-vertx-http</code> extension.</p>\n<p>Furthermore, you can always override the docker <code>CMD</code> instruction if you want to.</p>\n"}],"owner":{"account_id":20743229,"reputation":13,"user_id":16433289,"display_name":"Chain Head"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76726897,"answer_count":1,"score":0,"last_activity_date":1689920164,"creation_date":1689818906,"question_id":76726232,"body_markdown":"In the [base image][1], the command uses `-Dquarkus.http.host=0.0.0.0`. My Quarkus application uses Kafka and I don&#39;t see the need to expose a HTTP server. How do I not expose this HTTP end-point? Also, is this end-point tied to the `quarkus-resteasy-reactive-jackson` extension?\r\n\r\n\r\n  [1]: https://quarkus.io/guides/quarkus-runtime-base-image","title":"What is application server in base image?","body":"<p>In the <a href=\"https://quarkus.io/guides/quarkus-runtime-base-image\" rel=\"nofollow noreferrer\">base image</a>, the command uses <code>-Dquarkus.http.host=0.0.0.0</code>. My Quarkus application uses Kafka and I don't see the need to expose a HTTP server. How do I not expose this HTTP end-point? Also, is this end-point tied to the <code>quarkus-resteasy-reactive-jackson</code> extension?</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689920027,"post_id":76733748,"comment_id":135283953,"body_markdown":"You don&#39;t as that isn&#39;t there yet. That is only there after the conversion. Instead of rolling your own security framework I suggest Spring Security which does this and much more and you can use standard mechanisms to get the object.","body":"You don&#39;t as that isn&#39;t there yet. That is only there after the conversion. Instead of rolling your own security framework I suggest Spring Security which does this and much more and you can use standard mechanisms to get the object."}],"owner":{"account_id":8771652,"reputation":11,"user_id":6558258,"display_name":"Yuri Zamboni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689920070,"creation_date":1689887623,"question_id":76733748,"body_markdown":"So, I&#39;m creating a authentication service with Java20 and WebFlux, I&#39;ve this `@Secured` annotation to validate my Bearer token and add in the parameter `ClientDto` the token Owner. \r\nI`m using `WebFilter` to intercept the request and validate my token, but I don&#39;t know how to override my `ClientDto` value. \r\n\r\n\r\n\r\n```java \r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/v1/client&quot;)\r\n@RestController(&quot;ClientControllerV1&quot;)\r\n@Secured\r\npublic class ClientController {\r\n\r\n    @PostMapping\r\n    public Mono&lt;ClientDto&gt; createClient(@RequestBody CreateClientRequest createClient, ClientDto tokenUser){\r\n        return clientServiceImp.createClient(createClient.getRole(), createClient.getUsername(), createClient.getPassword(), createClient.getEmail(), createClient.getTags());\r\n    }\r\n\r\n```\r\n\r\n\r\nI tried get RequestMappingHandlerMapping and find a way to change the value but I didn`t find a way.\r\n","title":"Override a value in my @RestContoller dynamically. Webflux","body":"<p>So, I'm creating a authentication service with Java20 and WebFlux, I've this <code>@Secured</code> annotation to validate my Bearer token and add in the parameter <code>ClientDto</code> the token Owner.\nI<code>m using </code>WebFilter<code>to intercept the request and validate my token, but I don't know how to override my</code>ClientDto` value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@RequestMapping(&quot;/v1/client&quot;)\n@RestController(&quot;ClientControllerV1&quot;)\n@Secured\npublic class ClientController {\n\n    @PostMapping\n    public Mono&lt;ClientDto&gt; createClient(@RequestBody CreateClientRequest createClient, ClientDto tokenUser){\n        return clientServiceImp.createClient(createClient.getRole(), createClient.getUsername(), createClient.getPassword(), createClient.getEmail(), createClient.getTags());\n    }\n\n</code></pre>\n<p>I tried get RequestMappingHandlerMapping and find a way to change the value but I didn`t find a way.</p>\n"},{"tags":["java","rabbitmq","quarkus","smallrye-reactive-messaging"],"owner":{"account_id":1685748,"reputation":21,"user_id":1549094,"display_name":"user1549094"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689919875,"creation_date":1689919875,"question_id":76735511,"body_markdown":"I have the following consumer for rabbitmq :\r\n\r\n```\r\n    @Incoming(&quot;incoming-msg&quot;)\r\n    @Blocking(ordered = false, value = &quot;my-worker-pool&quot;)\r\n    public Uni&lt;Void&gt; onExecutionReceive(final Message&lt;JsonObject&gt; message) {\r\n        message.ack();\r\n        .. do some stuff\r\n        return Uni.createFrom().voidItem();\r\n    }\r\n\r\n```\r\nwith\r\nsmallrye.messaging.worker.my-worker-pool.max-concurrency=3\r\n\r\nWith this configuration, I have only 3 messages process at the same time. The problem is that if I send let&#39;s say 5 messages the two non process messages will be in the queue in non acknowledge status instead of ready which prevent other consumer to take them.\r\n\r\nHow can i limit my channel to only those 3 messages and let other messages to ready status.\r\nI have tried :\r\nmp.messaging.incoming.incoming-msgmax-outstanding-messages=1.\r\n\r\nWith such parameter, it limits number of non acknowledge messages to 1, but it is not what i want (all messages ready except those 3 processing).\r\n\r\nHow can I do that ? Is it possible ? If not which strategy should i use for one consumer to let messages available if he is not able to process them ?\r\n\r\n","title":"AMQP Message consumption","body":"<p>I have the following consumer for rabbitmq :</p>\n<pre><code>    @Incoming(&quot;incoming-msg&quot;)\n    @Blocking(ordered = false, value = &quot;my-worker-pool&quot;)\n    public Uni&lt;Void&gt; onExecutionReceive(final Message&lt;JsonObject&gt; message) {\n        message.ack();\n        .. do some stuff\n        return Uni.createFrom().voidItem();\n    }\n\n</code></pre>\n<p>with\nsmallrye.messaging.worker.my-worker-pool.max-concurrency=3</p>\n<p>With this configuration, I have only 3 messages process at the same time. The problem is that if I send let's say 5 messages the two non process messages will be in the queue in non acknowledge status instead of ready which prevent other consumer to take them.</p>\n<p>How can i limit my channel to only those 3 messages and let other messages to ready status.\nI have tried :\nmp.messaging.incoming.incoming-msgmax-outstanding-messages=1.</p>\n<p>With such parameter, it limits number of non acknowledge messages to 1, but it is not what i want (all messages ready except those 3 processing).</p>\n<p>How can I do that ? Is it possible ? If not which strategy should i use for one consumer to let messages available if he is not able to process them ?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"score":2,"creation_date":1545776067,"post_id":53925923,"comment_id":94693406,"body_markdown":"Maybe your server didn&#39;t stopped yet","body":"Maybe your server didn&#39;t stopped yet"},{"owner":{"account_id":14695242,"reputation":552,"user_id":10612806,"display_name":"Evgeni Enchev"},"score":1,"creation_date":1545810105,"post_id":53925923,"comment_id":94698861,"body_markdown":"@Spara could be right, happens sometimes, but also eclipse gets lock on some files and maven cannot delete them. Try to exit eclipse and run maven from command line. Then start eclipse again.","body":"@Spara could be right, happens sometimes, but also eclipse gets lock on some files and maven cannot delete them. Try to exit eclipse and run maven from command line. Then start eclipse again."},{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1545821478,"post_id":53925923,"comment_id":94702564,"body_markdown":"this may helps you https://stackoverflow.com/questions/19489720/maven-failed-to-clean-project-failed-to-delete-org-ow2-util-asm-asm-tree","body":"this may helps you <a href=\"https://stackoverflow.com/questions/19489720/maven-failed-to-clean-project-failed-to-delete-org-ow2-util-asm-asm-tree\" title=\"maven failed to clean project failed to delete org ow2 util asm asm tree\">stackoverflow.com/questions/19489720/&hellip;</a>"},{"owner":{"account_id":12929719,"reputation":2931,"user_id":9349129,"display_name":"Dushmantha"},"score":1,"creation_date":1545831313,"post_id":53925923,"comment_id":94705899,"body_markdown":"this could happen some time (mostly when another process open the location) try deleting F:\\..project\\target manually and build project again","body":"this could happen some time (mostly when another process open the location) try deleting F:\\..project\\target manually and build project again"},{"owner":{"account_id":13216606,"reputation":422,"user_id":9544909,"display_name":"kwishna"},"score":0,"creation_date":1545846536,"post_id":53925923,"comment_id":94710813,"body_markdown":"Thank You Everyone. Might Be The File Were Being Used By Some Other System. Now, It Am Able To Do Maven Clean Successfully.","body":"Thank You Everyone. Might Be The File Were Being Used By Some Other System. Now, It Am Able To Do Maven Clean Successfully."}],"answers":[{"tags":[],"owner":{"account_id":21928672,"reputation":1,"user_id":16558954,"display_name":"Lakkoju Mahendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689919509,"creation_date":1689919509,"answer_id":76735481,"question_id":53925923,"body_markdown":"I have faced the similar issue. In my case I kept open the command prompt with the path pointing to my target folder of project. When I closed the command prompt and retied it worked. \r\n\r\nMake sure your target folder is not being used in any other application.","title":"Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean on project ...: Failed to clean project: Failed to delete project\\target","body":"<p>I have faced the similar issue. In my case I kept open the command prompt with the path pointing to my target folder of project. When I closed the command prompt and retied it worked.</p>\n<p>Make sure your target folder is not being used in any other application.</p>\n"}],"owner":{"account_id":13216606,"reputation":422,"user_id":9544909,"display_name":"kwishna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689919509,"creation_date":1545775701,"question_id":53925923,"body_markdown":" I Am Getting BUILD FAILURE On Performing maven clean   \r\n    Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project datadriven: Failed to clean project: Failed to delete F:\\workspace\\project\\target -&gt; \r\nWhen I Saw Inside My Target Folder : \r\n    \r\n    ..\\target\\classes\\META-INF\\maven\\com.project\\datadriven\\pom.xml\r\n    \r\n    ..\\target\\classes\\META-INF\\maven\\com.project\\datadriven\\pom.properties\r\n    \r\n    ..\\target\\classes\\META-INF\\MANIFEST.MF\r\n    \r\n    ..\\target\\test-classes\\log4j.properties\r\n\r\nThese Files Were Present. But, I Haven&#39;t Kept These Files At This Place. Except MANIFEST.MF They Are Present In Another Place.\r\n\r\nI Am New To Maven. I Can&#39;t Understand How To Solve This Problem.\r\n\r\n    &lt;build&gt; \r\n              &lt;plugins&gt; \r\n              &lt;plugin&gt; \r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.19.1&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n              &lt;suiteXmlFiles&gt;\r\n              &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n              &lt;/suiteXmlFiles&gt;          \r\n              &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n              &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n              &lt;forkMode&gt;once&lt;/forkMode&gt;             \r\n             &lt;properties&gt;\r\n              &lt;property&gt;\r\n              &lt;name&gt;usedefaultlisteners&lt;/name&gt;\r\n              &lt;value&gt;false&lt;/value&gt;\r\n              &lt;/property&gt;\r\n              &lt;property&gt;\r\n               &lt;name&gt;listener&lt;/name&gt;\r\n        \t&lt;value&gt;org.uncommons.reportng.HTMLReporter,org.uncommons.reportng.JUnitXMLReporter,com.abd.listeners.CustomListener&lt;/value&gt;\r\n               &lt;/property&gt;\r\n               &lt;/properties&gt;          \r\n               &lt;workingDirectory&gt;target/&lt;/workingDirectory&gt; \r\n               &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\t\r\n              &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.19.1&lt;/version&gt;\r\n              &lt;/plugin&gt;      \t\t\r\n              &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;3.5.1&lt;/version&gt;\r\n               &lt;configuration&gt;\r\n               &lt;source&gt;1.7&lt;/source&gt;\r\n               &lt;target&gt;1.7&lt;/target&gt;\r\n               &lt;/configuration&gt;\r\n               &lt;/plugin&gt;     \t\t\r\n               &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;3.1.0&lt;/version&gt;\r\n               &lt;/plugin&gt;\r\n              &lt;/plugins&gt;\r\n              \t\r\n              &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                &lt;include&gt;log4j.properties&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n               &lt;/testResource&gt;\r\n              &lt;/testResources&gt;\r\n            &lt;/build&gt;\r\n             \r\n            &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n              &lt;version&gt;1.7.25&lt;/version&gt;\r\n              &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n              &lt;version&gt;3.15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n              &lt;version&gt;3.15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n              &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;/dependencies&gt; \t\r\n            &lt;/project&gt;\r\n        \r\n        \r\n        Below Are The Errors On Console I Got On Doing cmd:\\\\  mvn clean -X\r\n        \r\n         [INFO]Deleting F:\\..project\\target\r\n         [INFO]Deleting directory F:\\..project\\target\r\n              BUILD FAILURE\r\n        [ERROR]Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project datadriven: Failed to clean project: Failed to delete F:\\..project\\target \r\n        org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project datadriven: Failed to clean project: Failed to delete F:\\..project\\target\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:497)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n        Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to clean project: Failed to delete F:\\..project\\target\r\n            at org.apache.maven.plugin.clean.CleanMojo.execute (CleanMojo.java:215)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:497)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n        Caused by: java.io.IOException: Failed to delete F:\\..project\\target\r\n            at org.apache.maven.plugin.clean.Cleaner.delete (Cleaner.java:249)\r\n            at org.apache.maven.plugin.clean.Cleaner.delete (Cleaner.java:191)\r\n            at org.apache.maven.plugin.clean.Cleaner.delete (Cleaner.java:117)\r\n            at org.apache.maven.plugin.clean.CleanMojo.execute (CleanMojo.java:193)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:497)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)","title":"Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean on project ...: Failed to clean project: Failed to delete project\\target","body":"<p>I Am Getting BUILD FAILURE On Performing maven clean<br>\n    Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project datadriven: Failed to clean project: Failed to delete F:\\workspace\\project\\target -> \nWhen I Saw Inside My Target Folder : </p>\n\n<pre><code>..\\target\\classes\\META-INF\\maven\\com.project\\datadriven\\pom.xml\n\n..\\target\\classes\\META-INF\\maven\\com.project\\datadriven\\pom.properties\n\n..\\target\\classes\\META-INF\\MANIFEST.MF\n\n..\\target\\test-classes\\log4j.properties\n</code></pre>\n\n<p>These Files Were Present. But, I Haven't Kept These Files At This Place. Except MANIFEST.MF They Are Present In Another Place.</p>\n\n<p>I Am New To Maven. I Can't Understand How To Solve This Problem.</p>\n\n<pre><code>&lt;build&gt; \n          &lt;plugins&gt; \n          &lt;plugin&gt; \n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.19.1&lt;/version&gt;\n          &lt;configuration&gt;\n          &lt;suiteXmlFiles&gt;\n          &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n          &lt;/suiteXmlFiles&gt;          \n          &lt;skipTests&gt;false&lt;/skipTests&gt;\n          &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n          &lt;forkMode&gt;once&lt;/forkMode&gt;             \n         &lt;properties&gt;\n          &lt;property&gt;\n          &lt;name&gt;usedefaultlisteners&lt;/name&gt;\n          &lt;value&gt;false&lt;/value&gt;\n          &lt;/property&gt;\n          &lt;property&gt;\n           &lt;name&gt;listener&lt;/name&gt;\n        &lt;value&gt;org.uncommons.reportng.HTMLReporter,org.uncommons.reportng.JUnitXMLReporter,com.abd.listeners.CustomListener&lt;/value&gt;\n           &lt;/property&gt;\n           &lt;/properties&gt;          \n           &lt;workingDirectory&gt;target/&lt;/workingDirectory&gt; \n           &lt;/configuration&gt;\n          &lt;/plugin&gt; \n          &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.19.1&lt;/version&gt;\n          &lt;/plugin&gt;             \n          &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.5.1&lt;/version&gt;\n           &lt;configuration&gt;\n           &lt;source&gt;1.7&lt;/source&gt;\n           &lt;target&gt;1.7&lt;/target&gt;\n           &lt;/configuration&gt;\n           &lt;/plugin&gt;            \n           &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.1.0&lt;/version&gt;\n           &lt;/plugin&gt;\n          &lt;/plugins&gt;\n\n          &lt;testResource&gt;\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n            &lt;include&gt;log4j.properties&lt;/include&gt;\n            &lt;/includes&gt;\n           &lt;/testResource&gt;\n          &lt;/testResources&gt;\n        &lt;/build&gt;\n\n        &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n          &lt;version&gt;1.7.25&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n          &lt;artifactId&gt;poi&lt;/artifactId&gt;\n          &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n          &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n          &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n          &lt;groupId&gt;log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n          &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;/dependencies&gt;     \n        &lt;/project&gt;\n\n\n    Below Are The Errors On Console I Got On Doing cmd:\\\\  mvn clean -X\n\n     [INFO]Deleting F:\\..project\\target\n     [INFO]Deleting directory F:\\..project\\target\n          BUILD FAILURE\n    [ERROR]Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project datadriven: Failed to clean project: Failed to delete F:\\..project\\target \n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project datadriven: Failed to clean project: Failed to delete F:\\..project\\target\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:497)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to clean project: Failed to delete F:\\..project\\target\n        at org.apache.maven.plugin.clean.CleanMojo.execute (CleanMojo.java:215)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:497)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n    Caused by: java.io.IOException: Failed to delete F:\\..project\\target\n        at org.apache.maven.plugin.clean.Cleaner.delete (Cleaner.java:249)\n        at org.apache.maven.plugin.clean.Cleaner.delete (Cleaner.java:191)\n        at org.apache.maven.plugin.clean.Cleaner.delete (Cleaner.java:117)\n        at org.apache.maven.plugin.clean.CleanMojo.execute (CleanMojo.java:193)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:497)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n</code></pre>\n"},{"tags":["java",".net","automation","selenium-chromedriver","cefglue"],"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689918165,"creation_date":1688488360,"question_id":76614495,"body_markdown":"**Background**: I have WPF based desktop application under test. The application has few cefglue based browser pages contained within .NET components. I use WinAppdriver for automating  WPF based screens and ChromeDriver  to automate the browser pages that are contained within WPF based app. I have a challenge to switch to browser pages  from WPF screen using chrome driver.\r\n\r\n\r\nHere is how I launch the WPF based app in java based automation code by specifying the remote debugging port.\r\n\r\n        String username = &quot;username&quot;;//Dummy detail\r\n        String password=&quot;password&quot;; //Dummy detail\r\n        String appName = &quot;TestApp.exe&quot;;\r\n        tring command = &quot;powershell.exe -command $securePassword = ConvertTo-SecureString &#39;&quot; + password + &quot;&#39; -AsPlainText -Force ; $credential = New-Object System.Management.Automation.PSCredential &#39;&quot; + username +\r\n                                &quot;&#39;, $securePassword ; Start-Process &quot; + appName + &quot;-launcher --remote-debugging-port=5555;&quot; +&quot; -Credential $credential;&quot;;\r\n        \r\n    Runtime.getRuntime().exec(command);\r\n\r\n\r\nHere is how I have setup chrome driver  to interact with cefglue browser page.\r\n\r\n \r\n\r\n     public ChromeDriver BrowserDriver() {\r\n            try {\r\n                System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\chromedriver.exe&quot;);\r\n                ChromeOptions chromeOptions = new ChromeOptions();\r\n                chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n                chromeOptions.addArguments(&quot;--disable-extensions&quot;);\r\n                chromeOptions.addArguments(&quot;--disable-plugins&quot;);\r\n                chromeOptions.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;127.0.0.1:5555&quot;);\r\n                chromeOptions.setBinary(&quot;C:\\\\Program Files\\\\CefGlue.BrowserSubProcess.exe&quot;);\r\n                chromeOptions.addArguments(&quot;--user-data-dir=C:\\\\Users&quot;);\r\n                ChromeDriver webDriver = new ChromeDriver(chromeOptions);\r\n                return webDriver;\r\n            }\r\n            catch (Exception ex){\r\n                LOGGER.error(&quot;Exception in starting chrome&quot; + ex.getMessage());\r\n                return null;\r\n            }\r\n\r\nI get below error:\r\n\r\n\r\nException in starting chromeunknown error: cannot connect to chrome at 127.0.0.1:5555\r\n\r\nfrom chrome not reachable\r\n\r\n\r\n&gt; 2023-06-19 10:56:34.780 [main] ERROR - Exception in starting\r\n&gt; chromeunknown error: cannot connect to chrome at 127.0.0.1:5555\r\n&gt; \r\n&gt; from chrome not reachable\r\n&gt; \r\n&gt; Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time:\r\n&gt; &#39;2018-11-14T08:17:03&#39;\r\n&gt; \r\n&gt; \r\n&gt; Driver info: driver.version: ChromeDriver\r\n&gt; \r\n&gt; remote stacktrace: Backtrace:\r\n&gt; \r\n&gt;     Ordinal0 [0x009FA113+1548563]\r\n&gt; \r\n&gt;     Ordinal0 [0x0097DDA1+1039777]\r\n&gt; \r\n&gt;     Ordinal0 [0x008FE32E+516910]\r\n&gt; \r\n&gt;     Ordinal0 [0x008F7EBF+491199]\r\n&gt; \r\n&gt;     Ordinal0 [0x0088F969+63849]\r\n&gt; \r\n&gt;     Ordinal0 [0x0088CDF6+52726]\r\n&gt; \r\n&gt;     Ordinal0 [0x0088B203+45571]\r\n&gt; \r\n&gt;     Ordinal0 [0x008AB797+178071]\r\n&gt; \r\n&gt;     Ordinal0 [0x008AB59D+177565]\r\n&gt; \r\n&gt;     Ordinal0 [0x008A95FB+169467]\r\n&gt; \r\n&gt;     Ordinal0 [0x0089160A+71178]\r\n&gt; \r\n&gt;     Ordinal0 [0x00892690+75408]\r\n&gt; \r\n&gt;     Ordinal0 [0x00892629+75305]\r\n&gt; \r\n&gt;     Ordinal0 [0x009971B7+1143223]\r\n&gt; \r\n&gt;     GetHandleVerifier [0x00A92B46+507814]\r\n&gt; \r\n&gt;     GetHandleVerifier [0x00A92864+507076]\r\n&gt; \r\n&gt;     GetHandleVerifier [0x00A99F47+537511]\r\n&gt; \r\n&gt;     GetHandleVerifier [0x00A93402+510050]\r\n&gt; \r\n&gt;     Ordinal0 [0x0098F29C+1110684]\r\n&gt; \r\n&gt;     Ordinal0 [0x0099938B+1151883]\r\n&gt; \r\n&gt;     Ordinal0 [0x009994F3+1152243]\r\n&gt; \r\n&gt;     Ordinal0 [0x009983F5+1147893]\r\n&gt; \r\n&gt;     BaseThreadInitThunk [0x773500C9+25]\r\n&gt; \r\n&gt;     RtlGetAppContainerNamedObjectPath [0x77497B4E+286]\r\n&gt; \r\n&gt;     RtlGetAppContainerNamedObjectPath [0x77497B1E+238]\r\n\r\n I strongly suspect the way the remote debugging port in specified in java during app launch. I&#39;m not sure if it is 100% correct. There aren&#39;t much details on this. Appreciate any help on this \r\n\r\nBy the way I&#39;m using chromedriver version 79, as the version of cefglue browser used within my desktop application is v79\r\n","title":"How to specify a remote debugging port through java code for a cefglue browser process that&#39;s contained within .NET application?","body":"<p><strong>Background</strong>: I have WPF based desktop application under test. The application has few cefglue based browser pages contained within .NET components. I use WinAppdriver for automating  WPF based screens and ChromeDriver  to automate the browser pages that are contained within WPF based app. I have a challenge to switch to browser pages  from WPF screen using chrome driver.</p>\n<p>Here is how I launch the WPF based app in java based automation code by specifying the remote debugging port.</p>\n<pre><code>    String username = &quot;username&quot;;//Dummy detail\n    String password=&quot;password&quot;; //Dummy detail\n    String appName = &quot;TestApp.exe&quot;;\n    tring command = &quot;powershell.exe -command $securePassword = ConvertTo-SecureString '&quot; + password + &quot;' -AsPlainText -Force ; $credential = New-Object System.Management.Automation.PSCredential '&quot; + username +\n                            &quot;', $securePassword ; Start-Process &quot; + appName + &quot;-launcher --remote-debugging-port=5555;&quot; +&quot; -Credential $credential;&quot;;\n    \nRuntime.getRuntime().exec(command);\n</code></pre>\n<p>Here is how I have setup chrome driver  to interact with cefglue browser page.</p>\n<pre><code> public ChromeDriver BrowserDriver() {\n        try {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\chromedriver.exe&quot;);\n            ChromeOptions chromeOptions = new ChromeOptions();\n            chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n            chromeOptions.addArguments(&quot;--disable-extensions&quot;);\n            chromeOptions.addArguments(&quot;--disable-plugins&quot;);\n            chromeOptions.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;127.0.0.1:5555&quot;);\n            chromeOptions.setBinary(&quot;C:\\\\Program Files\\\\CefGlue.BrowserSubProcess.exe&quot;);\n            chromeOptions.addArguments(&quot;--user-data-dir=C:\\\\Users&quot;);\n            ChromeDriver webDriver = new ChromeDriver(chromeOptions);\n            return webDriver;\n        }\n        catch (Exception ex){\n            LOGGER.error(&quot;Exception in starting chrome&quot; + ex.getMessage());\n            return null;\n        }\n</code></pre>\n<p>I get below error:</p>\n<p>Exception in starting chromeunknown error: cannot connect to chrome at 127.0.0.1:5555</p>\n<p>from chrome not reachable</p>\n<blockquote>\n<p>2023-06-19 10:56:34.780 [main] ERROR - Exception in starting\nchromeunknown error: cannot connect to chrome at 127.0.0.1:5555</p>\n<p>from chrome not reachable</p>\n<p>Build info: version: '3.141.59', revision: 'e82be7d358', time:\n'2018-11-14T08:17:03'</p>\n<p>Driver info: driver.version: ChromeDriver</p>\n<p>remote stacktrace: Backtrace:</p>\n<pre><code>Ordinal0 [0x009FA113+1548563]\n\nOrdinal0 [0x0097DDA1+1039777]\n\nOrdinal0 [0x008FE32E+516910]\n\nOrdinal0 [0x008F7EBF+491199]\n\nOrdinal0 [0x0088F969+63849]\n\nOrdinal0 [0x0088CDF6+52726]\n\nOrdinal0 [0x0088B203+45571]\n\nOrdinal0 [0x008AB797+178071]\n\nOrdinal0 [0x008AB59D+177565]\n\nOrdinal0 [0x008A95FB+169467]\n\nOrdinal0 [0x0089160A+71178]\n\nOrdinal0 [0x00892690+75408]\n\nOrdinal0 [0x00892629+75305]\n\nOrdinal0 [0x009971B7+1143223]\n\nGetHandleVerifier [0x00A92B46+507814]\n\nGetHandleVerifier [0x00A92864+507076]\n\nGetHandleVerifier [0x00A99F47+537511]\n\nGetHandleVerifier [0x00A93402+510050]\n\nOrdinal0 [0x0098F29C+1110684]\n\nOrdinal0 [0x0099938B+1151883]\n\nOrdinal0 [0x009994F3+1152243]\n\nOrdinal0 [0x009983F5+1147893]\n\nBaseThreadInitThunk [0x773500C9+25]\n\nRtlGetAppContainerNamedObjectPath [0x77497B4E+286]\n\nRtlGetAppContainerNamedObjectPath [0x77497B1E+238]\n</code></pre>\n</blockquote>\n<p>I strongly suspect the way the remote debugging port in specified in java during app launch. I'm not sure if it is 100% correct. There aren't much details on this. Appreciate any help on this</p>\n<p>By the way I'm using chromedriver version 79, as the version of cefglue browser used within my desktop application is v79</p>\n"},{"tags":["java","apache-nifi","snmp"],"comments":[{"owner":{"account_id":1838718,"reputation":11848,"user_id":1668575,"display_name":"mattyb"},"score":1,"creation_date":1689819734,"post_id":76720319,"comment_id":135268548,"body_markdown":"We would need a lot more details than that, such as a link to your code of your Maven module structure with the various POMs, as well as the version of Maven and Java you are using.","body":"We would need a lot more details than that, such as a link to your code of your Maven module structure with the various POMs, as well as the version of Maven and Java you are using."},{"owner":{"account_id":24047058,"reputation":85,"user_id":18025959,"display_name":"Faisal Khan"},"score":0,"creation_date":1690349762,"post_id":76720319,"comment_id":135339176,"body_markdown":"i have added my Pom.xml please let me know if anything else is needed","body":"i have added my Pom.xml please let me know if anything else is needed"},{"owner":{"account_id":1838718,"reputation":11848,"user_id":1668575,"display_name":"mattyb"},"score":0,"creation_date":1690386891,"post_id":76720319,"comment_id":135347192,"body_markdown":"It looks like your `tnm4j` library is a different package than the class that&#39;s missing the method","body":"It looks like your <code>tnm4j</code> library is a different package than the class that&#39;s missing the method"}],"owner":{"account_id":24047058,"reputation":85,"user_id":18025959,"display_name":"Faisal Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689917755,"creation_date":1689762547,"question_id":76720319,"body_markdown":"I am using this library in my Apache NiFi project, to perform a walk operation but it shows the following error\r\n\r\n    java.lang.NoSuchMethodError: &#39;void net.percederberg.mibble.asn1.Asn1Parser.reset(java.io.Reader, net.percederberg.grammatica.parser.Analyzer)&#39; at net.percederberg.mibble.MibLoader$MibSource.parseMib(MibLoader.java:970) at net.percederberg.mibble.MibLoader.loadQueue(MibLoader.java:724) at net.percederberg.mibble.MibLoader.load(MibLoader.java:550) at net.percederberg.mibble.MibLoader.load(MibLoader.java:451) at org.soulwing.snmp.provider.mibble.CachingMibRepository.load(CachingMibRepository.java:79) at org.soulwing.snmp.provider.mibble.MibbleMib.load(MibbleMib.java:226)\r\n\r\nThis is only a case with Apache NiFI but when i try with normal java project it will work fine.\r\nI did not seen any dependency conflict on here can anyone help me to resolves it.\r\nHere is My Pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.pnm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pnm&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;nifi-PNMtest-processors&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.soulwing.snmp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tnm4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-mock&lt;/artifactId&gt;\r\n            &lt;version&gt;1.20.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n\r\ncan you help me to resolves it.\r\nThanks in Advance.","title":"I have problem while using tnm4j library in my NIFI program","body":"<p>I am using this library in my Apache NiFi project, to perform a walk operation but it shows the following error</p>\n<pre><code>java.lang.NoSuchMethodError: 'void net.percederberg.mibble.asn1.Asn1Parser.reset(java.io.Reader, net.percederberg.grammatica.parser.Analyzer)' at net.percederberg.mibble.MibLoader$MibSource.parseMib(MibLoader.java:970) at net.percederberg.mibble.MibLoader.loadQueue(MibLoader.java:724) at net.percederberg.mibble.MibLoader.load(MibLoader.java:550) at net.percederberg.mibble.MibLoader.load(MibLoader.java:451) at org.soulwing.snmp.provider.mibble.CachingMibRepository.load(CachingMibRepository.java:79) at org.soulwing.snmp.provider.mibble.MibbleMib.load(MibbleMib.java:226)\n</code></pre>\n<p>This is only a case with Apache NiFI but when i try with normal java project it will work fine.\nI did not seen any dependency conflict on here can anyone help me to resolves it.\nHere is My Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.pnm&lt;/groupId&gt;\n    &lt;artifactId&gt;pnm&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;nifi-PNMtest-processors&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.soulwing.snmp&lt;/groupId&gt;\n        &lt;artifactId&gt;tnm4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-utils&lt;/artifactId&gt;\n        &lt;version&gt;1.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-mock&lt;/artifactId&gt;\n        &lt;version&gt;1.20.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>can you help me to resolves it.\nThanks in Advance.</p>\n"},{"tags":["java","testng","allure"],"answers":[{"comments":[{"owner":{"account_id":17097499,"reputation":1,"user_id":14494014,"display_name":"steed"},"score":0,"creation_date":1651077396,"post_id":72028134,"comment_id":127278343,"body_markdown":"Add pipeline script: bat generate -c -o C:\\Users\\steed\\.jenkins\\workspace\\retest\\allure-report\nallure-results does not exist","body":"Add pipeline script: bat generate -c -o C:\\Users\\steed\\.jenkins\\workspace\\retest\\allure-report allure-results does not exist"}],"tags":[],"owner":{"account_id":15836589,"reputation":821,"user_id":11426982,"display_name":"Moro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651059950,"creation_date":1651059950,"answer_id":72028134,"question_id":72020291,"body_markdown":"If you want allure to work with Jenkins you need to install `Allure` plugin for it and configure it in `Manage Jenkins -&gt; Global Tool Configuration -&gt; Allure Commandline...`\r\n\r\nThen inside your pipeline script, you simply call allure like this:\r\n\r\n    allure includeProperties: false, jdk: &#39;&#39;, results: [[path: &#39;allure-results&#39;]]\r\n\r\nthe `allure` part of the command has to match the name you set for allure in `Global Configuration`.","title":"allure-results does not exist in jenkins","body":"<p>If you want allure to work with Jenkins you need to install <code>Allure</code> plugin for it and configure it in <code>Manage Jenkins -&gt; Global Tool Configuration -&gt; Allure Commandline...</code></p>\n<p>Then inside your pipeline script, you simply call allure like this:</p>\n<pre><code>allure includeProperties: false, jdk: '', results: [[path: 'allure-results']]\n</code></pre>\n<p>the <code>allure</code> part of the command has to match the name you set for allure in <code>Global Configuration</code>.</p>\n"},{"tags":[],"owner":{"account_id":17097499,"reputation":1,"user_id":14494014,"display_name":"steed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654179949,"creation_date":1654179917,"answer_id":72477866,"question_id":72020291,"body_markdown":"Changed the startup command: bat &quot;mvn clean test -Dtest=BDDRunner&quot;","title":"allure-results does not exist in jenkins","body":"<p>Changed the startup command: bat &quot;mvn clean test -Dtest=BDDRunner&quot;</p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689828338,"post_id":76706859,"comment_id":135269182,"body_markdown":"Please format your answer.","body":"Please format your answer."}],"tags":[],"owner":{"account_id":27152388,"reputation":1,"user_id":20691692,"display_name":"Bryson Karanja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689917602,"creation_date":1689615245,"answer_id":76706859,"question_id":72020291,"body_markdown":"This one worked for me. Hope it helps\r\n\r\n    stage(&#39;Generate Allure Report&#39;) { steps { script { ws(&#39;/path of project/&#39;) { allure([ includeProperties: false, jdk: &#39;&#39;, properties: [], reportBuildPolicy: &#39;ALWAYS&#39;, results: [[path: &#39;allure-results&#39;]] ]) } } } }","title":"allure-results does not exist in jenkins","body":"<p>This one worked for me. Hope it helps</p>\n<pre><code>stage('Generate Allure Report') { steps { script { ws('/path of project/') { allure([ includeProperties: false, jdk: '', properties: [], reportBuildPolicy: 'ALWAYS', results: [[path: 'allure-results']] ]) } } } }\n</code></pre>\n"}],"owner":{"account_id":17097499,"reputation":1,"user_id":14494014,"display_name":"steed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72477866,"answer_count":3,"score":0,"last_activity_date":1689917602,"creation_date":1651005692,"question_id":72020291,"body_markdown":"Jenkins ignores properties and does not create allure-results. Please help. \r\n\r\n\r\n## pom.xml ##\r\n\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;GoogleTest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n        &lt;allure.version&gt;2.17.3&lt;/allure.version&gt;\r\n        &lt;cucumber.version&gt;7.2.3&lt;/cucumber.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.reload4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reload4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.19&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-java-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.qameta.allure/allure-commandline --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-commandline&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.3&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber3-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\r\n                    &lt;allureDownloadUrl&gt;https://repo.maven.apache.org/maven2/io/qameta/allure/allure-commandline/${allure.version}/allure-commandline-${allure.version}.zip&lt;/allureDownloadUrl&gt;\r\n                    &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\r\n                    &lt;reportDirectory&gt;${basedir}/target/allure-results&lt;/reportDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n## allure.properties ##\r\nallure.results.directory=target/allure-results\r\n\r\n## jenkins ##\r\nresults path: target/allure-results\r\n\r\nJenkins does not create the allure-results folder. If I create a folder myself, the files for the report do not fit in the workspace\r\n\r\n## add pipeline script ##\r\n\r\n    pipeline {\r\n    agent any\r\n\r\n    tools {\r\n        // Install the Maven version configured as &quot;M3&quot; and add it to the path.\r\n        \r\n        maven &quot;3.8.5&quot;\r\n    }\r\n\r\n    stages {\r\n        stage(&#39;Build&#39;) {\r\n            steps {\r\n                // Get some code from a GitHub repository\r\n                git &#39;https://github.com/steed777/GoogleTest.git&#39;\r\n\r\n                // Run Maven on a Unix agent.\r\n                bat &quot;mvn -Dtest=com.github.steed777.common.runner.**verify&quot;\r\n\r\n                // To run Maven on a Windows agent, use\r\n                // bat &quot;mvn -Dmaven.test.failure.ignore=true clean package&quot;\r\n            }\r\n\r\n            \r\n        }\r\n    }\r\n    post{\r\n        always{\r\n            allure([\r\n                \r\n                includeProperties: false, jdk: &#39;&#39;, results: [[path: &#39;target/allure-results&#39;]]\r\n                ])\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"allure-results does not exist in jenkins","body":"<p>Jenkins ignores properties and does not create allure-results. Please help.</p>\n<h2>pom.xml</h2>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;GoogleTest&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n    &lt;allure.version&gt;2.17.3&lt;/allure.version&gt;\n    &lt;cucumber.version&gt;7.2.3&lt;/cucumber.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;4.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.reload4j&lt;/groupId&gt;\n        &lt;artifactId&gt;reload4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.19&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n        &lt;version&gt;2.17.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-java-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.17.3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.qameta.allure/allure-commandline --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-commandline&lt;/artifactId&gt;\n        &lt;version&gt;2.17.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-cucumber3-jvm&lt;/artifactId&gt;\n        &lt;version&gt;2.17.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;source&gt;8&lt;/source&gt;\n                &lt;target&gt;8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                &lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\n                &lt;allureDownloadUrl&gt;https://repo.maven.apache.org/maven2/io/qameta/allure/allure-commandline/${allure.version}/allure-commandline-${allure.version}.zip&lt;/allureDownloadUrl&gt;\n                &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\n                &lt;reportDirectory&gt;${basedir}/target/allure-results&lt;/reportDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<h2>allure.properties</h2>\n<p>allure.results.directory=target/allure-results</p>\n<h2>jenkins</h2>\n<p>results path: target/allure-results</p>\n<p>Jenkins does not create the allure-results folder. If I create a folder myself, the files for the report do not fit in the workspace</p>\n<h2>add pipeline script</h2>\n<pre><code>pipeline {\nagent any\n\ntools {\n    // Install the Maven version configured as &quot;M3&quot; and add it to the path.\n    \n    maven &quot;3.8.5&quot;\n}\n\nstages {\n    stage('Build') {\n        steps {\n            // Get some code from a GitHub repository\n            git 'https://github.com/steed777/GoogleTest.git'\n\n            // Run Maven on a Unix agent.\n            bat &quot;mvn -Dtest=com.github.steed777.common.runner.**verify&quot;\n\n            // To run Maven on a Windows agent, use\n            // bat &quot;mvn -Dmaven.test.failure.ignore=true clean package&quot;\n        }\n\n        \n    }\n}\npost{\n    always{\n        allure([\n            \n            includeProperties: false, jdk: '', results: [[path: 'target/allure-results']]\n            ])\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","rsa","java-17"],"answers":[{"tags":[],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689914157,"creation_date":1689914157,"answer_id":76735147,"question_id":76725761,"body_markdown":"Based on @david_thompson_085&#39;s comment and [this post](https://stackoverflow.com/questions/41934846/read-rsa-private-key-of-format-pkcs1-in-java), I got the following solution to work.\r\n\r\n```\r\nPEMParser pemParser = new PEMParser(new StringReader(r.getPublicKey()));\r\nJcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\nObject o = pemParser.readObject();\r\nPublicKey pk = converter.getPublicKey((SubjectPublicKeyInfo)o);\r\n```\r\n\r\nNote, as described in the referenced post, I did have to set BouncyCastle as my security provider.\r\n\r\n```\r\nSecurity.addProvider(new BouncyCastleProvider());\r\n```","title":"How to create Java Key object from RSA public key in PEM format Java17","body":"<p>Based on @david_thompson_085's comment and <a href=\"https://stackoverflow.com/questions/41934846/read-rsa-private-key-of-format-pkcs1-in-java\">this post</a>, I got the following solution to work.</p>\n<pre><code>PEMParser pemParser = new PEMParser(new StringReader(r.getPublicKey()));\nJcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\nObject o = pemParser.readObject();\nPublicKey pk = converter.getPublicKey((SubjectPublicKeyInfo)o);\n</code></pre>\n<p>Note, as described in the referenced post, I did have to set BouncyCastle as my security provider.</p>\n<pre><code>Security.addProvider(new BouncyCastleProvider());\n</code></pre>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76735147,"answer_count":1,"score":0,"last_activity_date":1689914157,"creation_date":1689808877,"question_id":76725761,"body_markdown":"I am upgrading from Java 8 to Java 17. I had working code to convert RSA public key to a Java Key object using classes in sun.security.util. This is no longer allowed (as of Java 9 I believe). How can I update my code to be compatible with Java 17? I would prefer to use Bouncycastle, as it is already a dependency in my project.\r\n\r\nMy previous code:\r\n```\r\n            String keyData = r.getPublicKey()\r\n                    .replace(&quot;-----BEGIN RSA PUBLIC KEY-----&quot;, &quot;&quot;)\r\n                    .replace(&quot;-----END RSA PUBLIC KEY-----&quot;, &quot;&quot;);\r\n            byte[] content = Base64.decodeBase64(keyData);\r\n            DerInputStream derReader = new DerInputStream(content);\r\n            DerValue[] seq = derReader.getSequence(0);\r\n            BigInteger modulus = seq[0].getBigInteger();\r\n            BigInteger publicExp = seq[1].getBigInteger();\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus, publicExp);\r\n            PublicKey pk = kf.generatePublic(keySpec);\r\n```\r\nThe following classes were pulled from sun.security.util:\r\n```\r\nsun.security.util.DerInputStream;\r\nsun.security.util.DerValue;\r\n```","title":"How to create Java Key object from RSA public key in PEM format Java17","body":"<p>I am upgrading from Java 8 to Java 17. I had working code to convert RSA public key to a Java Key object using classes in sun.security.util. This is no longer allowed (as of Java 9 I believe). How can I update my code to be compatible with Java 17? I would prefer to use Bouncycastle, as it is already a dependency in my project.</p>\n<p>My previous code:</p>\n<pre><code>            String keyData = r.getPublicKey()\n                    .replace(&quot;-----BEGIN RSA PUBLIC KEY-----&quot;, &quot;&quot;)\n                    .replace(&quot;-----END RSA PUBLIC KEY-----&quot;, &quot;&quot;);\n            byte[] content = Base64.decodeBase64(keyData);\n            DerInputStream derReader = new DerInputStream(content);\n            DerValue[] seq = derReader.getSequence(0);\n            BigInteger modulus = seq[0].getBigInteger();\n            BigInteger publicExp = seq[1].getBigInteger();\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n            RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus, publicExp);\n            PublicKey pk = kf.generatePublic(keySpec);\n</code></pre>\n<p>The following classes were pulled from sun.security.util:</p>\n<pre><code>sun.security.util.DerInputStream;\nsun.security.util.DerValue;\n</code></pre>\n"},{"tags":["java","websocket","jvm","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1637608529,"post_id":70071123,"comment_id":123867131,"body_markdown":"Is that a whole stacktrace of java heap space? If not could you drop as a code to your post whole instead of screenshot? How long does your application work before OutOfMemory happens?","body":"Is that a whole stacktrace of java heap space? If not could you drop as a code to your post whole instead of screenshot? How long does your application work before OutOfMemory happens?"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":3,"creation_date":1637608968,"post_id":70071123,"comment_id":123867302,"body_markdown":"Manually calling `System.GC()` is not a good idea. You can use the following flag `-XX:+HeapDumpOnOutOfMemoryError` to get a heap dump before OOO. You can then analyse the heap. I suggest using [Eclipse Memory Analizer](https://www.eclipse.org/mat/) as it helps you discovering where all the objects are being held instead of being garbage collected. If the error has started happening just because an increase of users, then you just may simply need more heap (as you have stated with `-Xmx8192m`). But you should check if there is a memory leak.","body":"Manually calling <code>System.GC()</code> is not a good idea. You can use the following flag <code>-XX:+HeapDumpOnOutOfMemoryError</code> to get a heap dump before OOO. You can then analyse the heap. I suggest using <a href=\"https://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analizer</a> as it helps you discovering where all the objects are being held instead of being garbage collected. If the error has started happening just because an increase of users, then you just may simply need more heap (as you have stated with <code>-Xmx8192m</code>). But you should check if there is a memory leak."},{"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"score":0,"creation_date":1637609541,"post_id":70071123,"comment_id":123867510,"body_markdown":"@RafałSokalski Updated the stacktrace as code instead of screenshot and yes, that is the whole stacktrace. Application works fine for few days until the memory reaches max assigned and thus ends up with OutOfMemory","body":"@RafałSokalski Updated the stacktrace as code instead of screenshot and yes, that is the whole stacktrace. Application works fine for few days until the memory reaches max assigned and thus ends up with OutOfMemory"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1637609595,"post_id":70071123,"comment_id":123867536,"body_markdown":"could you also share code for sendText method?","body":"could you also share code for sendText method?"},{"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"score":1,"creation_date":1637609783,"post_id":70071123,"comment_id":123867576,"body_markdown":"@usuario Checked with Eclipse Memory Analizer, it shows that the 80% of memory is utilized by a GlobalSessions object which holds the list of open sessions.","body":"@usuario Checked with Eclipse Memory Analizer, it shows that the 80% of memory is utilized by a GlobalSessions object which holds the list of open sessions."},{"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"score":0,"creation_date":1637609892,"post_id":70071123,"comment_id":123867607,"body_markdown":"@RafałSokalski that code is present in ```broadcastToSessions()```","body":"@RafałSokalski that code is present in <code>broadcastToSessions()</code>"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1637609971,"post_id":70071123,"comment_id":123867628,"body_markdown":"`eachSession.getBasicRemote().sendText(mapper.writeValueAsString(messageObj));` That sendText method is not present in your post.","body":"<code>eachSession.getBasicRemote().sendText(mapper.writeValueAsStr&zwnj;&#8203;ing(messageObj));</code> That sendText method is not present in your post."},{"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"score":0,"creation_date":1637610407,"post_id":70071123,"comment_id":123867755,"body_markdown":"@RafałSokalski that is an in-built java library method associated with Session object to send the message to that particular session","body":"@RafałSokalski that is an in-built java library method associated with Session object to send the message to that particular session"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":0,"creation_date":1637615208,"post_id":70071123,"comment_id":123869354,"body_markdown":"@rahul, so the problem lies in that GlobalSessions object. You have a couple of options. **A)** Maybe there is a bug/issue and sessions are not cleared/removed after being closed. Check if number or active sessions relates the number of sessions stored in the object. I am not familiar with websockets, what type of class is GlobalSessions? maybe you are not removing them when onError **B)** Or maybe as you now have a higher number of users, you just need more heap to allocate all of them.","body":"@rahul, so the problem lies in that GlobalSessions object. You have a couple of options. <b>A)</b> Maybe there is a bug/issue and sessions are not cleared/removed after being closed. Check if number or active sessions relates the number of sessions stored in the object. I am not familiar with websockets, what type of class is GlobalSessions? maybe you are not removing them when onError <b>B)</b> Or maybe as you now have a higher number of users, you just need more heap to allocate all of them."},{"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"score":0,"creation_date":1637642825,"post_id":70071123,"comment_id":123874619,"body_markdown":"@usuario from the top command I can see that if number of clients decrese, memory utilization gets reduced. From this I came to conclusion that my server needs more heap allocation i.e., accepting your **B** case. But my question was, why am I still able to see the oldest of socket messages in my heap dump? Will those messages be there until the session gets deleted?","body":"@usuario from the top command I can see that if number of clients decrese, memory utilization gets reduced. From this I came to conclusion that my server needs more heap allocation i.e., accepting your <b>B</b> case. But my question was, why am I still able to see the oldest of socket messages in my heap dump? Will those messages be there until the session gets deleted?"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":2,"creation_date":1637655575,"post_id":70071123,"comment_id":123877747,"body_markdown":"@rahul after a full gc, all not reachable objects are cleaned from the heap. So if you see an object in the heap after a full gc, that object is somehow still referenced in your code. If that is not the desired behaviour, there is something wrong in code implementation. Heap objects are not GC cleaned based on age, but on reachability. Using Eclipse Memory Analizer you can track objects to its roots, so as to see who is holding references to that object.","body":"@rahul after a full gc, all not reachable objects are cleaned from the heap. So if you see an object in the heap after a full gc, that object is somehow still referenced in your code. If that is not the desired behaviour, there is something wrong in code implementation. Heap objects are not GC cleaned based on age, but on reachability. Using Eclipse Memory Analizer you can track objects to its roots, so as to see who is holding references to that object."},{"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"score":0,"creation_date":1637744866,"post_id":70071123,"comment_id":123905557,"body_markdown":"@usuario I figured out that as long as I keep hold of session objects, the messages sent to those sessions are still stored in the heap. These messages are still holding the reference of messages sent to those sessions and that&#39;s why the heap has this data store still. Thanks for the help.","body":"@usuario I figured out that as long as I keep hold of session objects, the messages sent to those sessions are still stored in the heap. These messages are still holding the reference of messages sent to those sessions and that&#39;s why the heap has this data store still. Thanks for the help."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689915105,"post_id":70071123,"comment_id":135283361,"body_markdown":"So you must be saving them in your `Session` object.","body":"So you must be saving them in your <code>Session</code> object."}],"answers":[{"tags":[],"owner":{"account_id":900013,"reputation":36,"user_id":936387,"display_name":"Adugna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689914093,"creation_date":1689914093,"answer_id":76735143,"question_id":70071123,"body_markdown":"&gt; static CopyOnWriteArrayList&lt;Session&gt; GlobalSessions = new CopyOnWriteArrayList&lt;Session&gt;();\r\n\r\nThis is a code smell to me. Statically initialized instance most of the time creates a memory leak. Check best practices to avoid memory leak.","title":"OutOfMemory : Java heap space","body":"<blockquote>\n<p>static CopyOnWriteArrayList GlobalSessions = new CopyOnWriteArrayList();</p>\n</blockquote>\n<p>This is a code smell to me. Statically initialized instance most of the time creates a memory leak. Check best practices to avoid memory leak.</p>\n"}],"owner":{"account_id":17684457,"reputation":29,"user_id":12837625,"display_name":"rahul"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1267,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689914093,"creation_date":1637607906,"question_id":70071123,"body_markdown":"I have a javax based websocket server which acts as communication between two clients running using tomcat9. Application was running fine for 7-8months and as no. of clients start increasing and the websocket calls starts increaing I&#39;m running into ```java.lang.OutOfMemoryError: Java heap space``` error.\r\n\r\n```\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.nio.HeapCharBuffer.&lt;init&gt;(HeapCharBuffer.java:57)\r\n\tat java.nio.CharBuffer.allocate(CharBuffer.java:335)\r\n\tat org.apache.tomcat.websocket.WsFrameBase.processInitialHeader(WsFrameBase.java:196)\r\n\tat org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:118)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:82)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)\r\n\tat org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)\r\n\tat org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:53)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1385)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nHere in the error, it says something with the CharBuffer allocation so I thought it must be related to String and to analyse more about it I took the heap dump of my application and below is the image from JProfiler.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere, the char[] is about 6Gb and holds all the usual ```onMessage(String message)``` calls.\r\n\r\nBelow is the simplified code from my project\r\n\r\n```@ServerEndpoint(value = &quot;/websocketendpoint&quot;, configurator = MyServerEndpointConfigurator.class)\r\npublic class WsServer {\r\n\t\r\n\tLogger logger = LogManager.getLogger(WsServer.class);\r\n\tstatic CopyOnWriteArrayList&lt;Session&gt; GlobalSessions = new CopyOnWriteArrayList&lt;Session&gt;();\r\n\r\n\t@OnOpen\r\n\tpublic void onOpen(Session session, EndpointConfig endpointConfig) {\r\n\t\tGlobalSessions.add(session);\r\n\t}\r\n\r\n\t@OnClose\r\n\tpublic void onClose(Session session, CloseReason reason) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\r\n\t\t\tGlobalSessions.remove(session);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage(),e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@OnError\r\n\tpublic void onError(Session session, Throwable t) {\r\n        \r\n\t\ttry {\r\n\t\t\tsession.close(new CloseReason(CloseReason.CloseCodes.VIOLATED_POLICY, t.getMessage()));\r\n\t\t\tif(t instanceof IOException) {\r\n\t\t\t\tlogger.error(t.getMessage());\r\n\t\t\t}else {\r\n\t\t\t\tlogger.error(t.getMessage(), t);\r\n\t\t\t}\r\n\t\t}catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t}\r\n\t\t\r\n    }\r\n\r\n\t@OnMessage(maxMessageSize = 5242880)\r\n\tpublic void onMessage(String message, Session session) {\r\n\t\tupdateLoggerFile(defaultLoggerName);\r\n\t\tLogger logger = LogManager.getLogger(WsServer.class);\r\n\t\ttry {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tMessage messageObj = mapper.readValue(message, Message.class);\r\n\t\t\tlogger.info(&quot;message=====&gt;&quot;+messageObj.toString());\r\n\t\t\tbroadcastToUISessions(messageObj);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage(),e);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void broadcastToSessions(Message messageObj) {\r\n\t\t\r\n\t\t\tGlobalSessions.forEach(eachSession -&gt; {\r\n\t\t\t\ttry {\r\n\t\r\n\t\t\t\t\tif (eachSession.isOpen()) {\r\n\t\t\t\t\t\tsynchronized(eachSession) {\r\n\t\t\t\t\t\t\teachSession.getBasicRemote().sendText(mapper.writeValueAsString(messageObj));\r\n\t\t\t\t        }\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t} catch (JsonProcessingException e) {\r\n\t\t\t\t\tlogger.error(e.getMessage(),e);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tlogger.error(e.getMessage(),e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n\t@OnMessage\r\n\tpublic void onMessage(PongMessage pongFrame, Session session) throws SchedulerException {\r\n\t\r\n\t\t//simple pingpong mechanism to check the client status\r\n\r\n\t}\r\n\t\r\n\tstatic void updateLoggerFile(String filename) {\r\n\t\tSystem.setProperty(&quot;abcFileName&quot;, &quot;&quot;+filename+&quot;.log&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nFrom the code you can see that I&#39;m not storing the message String in any global variable, each time a new message comes, the previous message gets deferrenced and should be garbage collected.\r\nBut these messages are still retained in the GC as soft reference. \r\n\r\nAm I missing something here?\r\nShouldn&#39;t the String value get cleared from the heap periodically every time GC runs?\r\nShould I manually call the ```System.GC()``` manually every hour (or after particular intervals)?\r\nShould I set some JAVA_OPTS for GC?\r\n\r\nOne temprory solution I found was to reduce the maxMessageSize from 5Mb to 1Mb for ```onMessage() ``` and reduce the memory occupancy to 1/5th.\r\n\r\nI have set JVM max heap size as ```-Xmx8192m``` \r\n\r\n\r\n  \r\n  [2]: https://i.stack.imgur.com/cIOQ9.png","title":"OutOfMemory : Java heap space","body":"<p>I have a javax based websocket server which acts as communication between two clients running using tomcat9. Application was running fine for 7-8months and as no. of clients start increasing and the websocket calls starts increaing I'm running into <code>java.lang.OutOfMemoryError: Java heap space</code> error.</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.nio.HeapCharBuffer.&lt;init&gt;(HeapCharBuffer.java:57)\n    at java.nio.CharBuffer.allocate(CharBuffer.java:335)\n    at org.apache.tomcat.websocket.WsFrameBase.processInitialHeader(WsFrameBase.java:196)\n    at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:118)\n    at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:82)\n    at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)\n    at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)\n    at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)\n    at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:53)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1385)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Here in the error, it says something with the CharBuffer allocation so I thought it must be related to String and to analyse more about it I took the heap dump of my application and below is the image from JProfiler.</p>\n<p><a href=\"https://i.stack.imgur.com/cIOQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cIOQ9.png\" alt=\"enter image description here\" /></a></p>\n<p>Here, the char[] is about 6Gb and holds all the usual <code>onMessage(String message)</code> calls.</p>\n<p>Below is the simplified code from my project</p>\n<pre><code>public class WsServer {\n    \n    Logger logger = LogManager.getLogger(WsServer.class);\n    static CopyOnWriteArrayList&lt;Session&gt; GlobalSessions = new CopyOnWriteArrayList&lt;Session&gt;();\n\n    @OnOpen\n    public void onOpen(Session session, EndpointConfig endpointConfig) {\n        GlobalSessions.add(session);\n    }\n\n    @OnClose\n    public void onClose(Session session, CloseReason reason) {\n        \n        try {\n        \n            GlobalSessions.remove(session);\n        } catch (Exception e) {\n            logger.error(e.getMessage(),e);\n        }\n    }\n    \n    @OnError\n    public void onError(Session session, Throwable t) {\n        \n        try {\n            session.close(new CloseReason(CloseReason.CloseCodes.VIOLATED_POLICY, t.getMessage()));\n            if(t instanceof IOException) {\n                logger.error(t.getMessage());\n            }else {\n                logger.error(t.getMessage(), t);\n            }\n        }catch (Exception e) {\n            logger.error(e.getMessage(), e);\n        }\n        \n    }\n\n    @OnMessage(maxMessageSize = 5242880)\n    public void onMessage(String message, Session session) {\n        updateLoggerFile(defaultLoggerName);\n        Logger logger = LogManager.getLogger(WsServer.class);\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            Message messageObj = mapper.readValue(message, Message.class);\n            logger.info(&quot;message=====&gt;&quot;+messageObj.toString());\n            broadcastToUISessions(messageObj);\n        } catch (Exception e) {\n            logger.error(e.getMessage(),e);\n        }\n        \n    }\n    \n    public void broadcastToSessions(Message messageObj) {\n        \n            GlobalSessions.forEach(eachSession -&gt; {\n                try {\n    \n                    if (eachSession.isOpen()) {\n                        synchronized(eachSession) {\n                            eachSession.getBasicRemote().sendText(mapper.writeValueAsString(messageObj));\n                        }\n                    }\n    \n                } catch (JsonProcessingException e) {\n                    logger.error(e.getMessage(),e);\n                } catch (IOException e) {\n                    logger.error(e.getMessage(),e);\n                }\n            });\n        \n    }\n    \n    \n\n    @OnMessage\n    public void onMessage(PongMessage pongFrame, Session session) throws SchedulerException {\n    \n        //simple pingpong mechanism to check the client status\n\n    }\n    \n    static void updateLoggerFile(String filename) {\n        System.setProperty(&quot;abcFileName&quot;, &quot;&quot;+filename+&quot;.log&quot;);\n    }\n}\n</code></pre>\n<p>From the code you can see that I'm not storing the message String in any global variable, each time a new message comes, the previous message gets deferrenced and should be garbage collected.\nBut these messages are still retained in the GC as soft reference.</p>\n<p>Am I missing something here?\nShouldn't the String value get cleared from the heap periodically every time GC runs?\nShould I manually call the <code>System.GC()</code> manually every hour (or after particular intervals)?\nShould I set some JAVA_OPTS for GC?</p>\n<p>One temprory solution I found was to reduce the maxMessageSize from 5Mb to 1Mb for <code>onMessage() </code> and reduce the memory occupancy to 1/5th.</p>\n<p>I have set JVM max heap size as <code>-Xmx8192m</code></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":3,"creation_date":1389639309,"post_id":21059451,"comment_id":31740153,"body_markdown":"Any basic JPA(2) docs will say that a List of Strings requires an ElementCollection annotation. As for why you refer to Python docs when using Java ...","body":"Any basic JPA(2) docs will say that a List of Strings requires an ElementCollection annotation. As for why you refer to Python docs when using Java ..."}],"answers":[{"comments":[{"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"score":0,"creation_date":1389516316,"post_id":21060068,"comment_id":31691511,"body_markdown":"Thanks Robin, but unfortunately didn&#39;t work :( I&#39;m trying to figuring out what&#39;s the problem. Error message will be gone by removing &quot;@Entity(name = &quot;Book&quot;)&quot;, however, I don&#39;t think it&#39;s the correct way.","body":"Thanks Robin, but unfortunately didn&#39;t work :( I&#39;m trying to figuring out what&#39;s the problem. Error message will be gone by removing &quot;@Entity(name = &quot;Book&quot;)&quot;, however, I don&#39;t think it&#39;s the correct way."}],"tags":[],"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389427680,"creation_date":1389427680,"answer_id":21060068,"question_id":21059451,"body_markdown":"As the message says, `@Basic` should not be used for containers (e.g. Java collections). It is only to be used for a limited list of basic types. Remove the `@Basic` annotation on that field.\r\n\r\nIf, as you say in the question, the error message is still there, you might need to try the following steps in order:\r\n\r\n 1. Save the file\r\n 2. Close and reopen the file\r\n 3. Clean and rebuild the project\r\n 4. Restart the IDE\r\n\r\n(these are generic steps, which I use when an IDE is generating a compilation error that obviously makes no sense.)","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>As the message says, <code>@Basic</code> should not be used for containers (e.g. Java collections). It is only to be used for a limited list of basic types. Remove the <code>@Basic</code> annotation on that field.</p>\n\n<p>If, as you say in the question, the error message is still there, you might need to try the following steps in order:</p>\n\n<ol>\n<li>Save the file</li>\n<li>Close and reopen the file</li>\n<li>Clean and rebuild the project</li>\n<li>Restart the IDE</li>\n</ol>\n\n<p>(these are generic steps, which I use when an IDE is generating a compilation error that obviously makes no sense.)</p>\n"},{"comments":[{"owner":{"account_id":3296493,"reputation":1463,"user_id":2773647,"accept_rate":67,"display_name":"cybersoft"},"score":3,"creation_date":1445293411,"post_id":21200106,"comment_id":54254414,"body_markdown":"It is not so a bug - if an entity holds a list of another entities, this means &quot;one to many&quot; relation, not &quot;basic&quot; field. If you add @OneToMany annotation, error in IDE will disappear.","body":"It is not so a bug - if an entity holds a list of another entities, this means &quot;one to many&quot; relation, not &quot;basic&quot; field. If you add @OneToMany annotation, error in IDE will disappear."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1617274987,"post_id":21200106,"comment_id":118261982,"body_markdown":"@Hesam I also think that this answer is really wrong.. and IDE bug has nothing to do with this question.","body":"@Hesam I also think that this answer is really wrong.. and IDE bug has nothing to do with this question."}],"tags":[],"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1616609367,"creation_date":1390020403,"answer_id":21200106,"question_id":21059451,"body_markdown":"The error seems not have impact on GAE since I can run the app and store data into storage. I guess it&#39;s a bug in IntelliJ IDEA and you can simply ignore it.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lWAX0.png","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>The error seems not have impact on GAE since I can run the app and store data into storage. I guess it's a bug in IntelliJ IDEA and you can simply ignore it.</p>\n<p><img src=\"https://i.stack.imgur.com/lWAX0.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":5643420,"reputation":3611,"user_id":4466399,"accept_rate":50,"display_name":"mikebertiean"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1450133566,"creation_date":1450133566,"answer_id":34278100,"question_id":21059451,"body_markdown":"Change `@basic` to `@OneToMany` for List types\r\n","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>Change <code>@basic</code> to <code>@OneToMany</code> for List types</p>\n"},{"tags":[],"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452901805,"creation_date":1452901805,"answer_id":34821813,"question_id":21059451,"body_markdown":"This can also happen when your class is missing its @Entity annotation. When you get weird warnings like these, sometimes it helps to try and compile and see if the compiler complains.","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>This can also happen when your class is missing its @Entity annotation. When you get weird warnings like these, sometimes it helps to try and compile and see if the compiler complains.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1664795646,"creation_date":1582720822,"answer_id":60414184,"question_id":21059451,"body_markdown":"You are most likely missing an *association mapping* (like `@OneToMany`) and/or `@Entity` annotation(s).\r\n\r\nI had a same problem in:\r\n```\r\n@Entity\r\npublic class SomeFee {\r\n    @Id\r\n    private Long id;\r\n    private List&lt;AdditionalFee&gt; additionalFees;\r\n    //other fields, getters, setters..\r\n}\r\n\r\nclass AdditionalFee {\r\n    @Id\r\n    private int id;\r\n    //other fields, getters, setters..\r\n}\r\n```\r\n\r\nand `additionalFees` was the field causing the problem.\r\n\r\nWhat I was missing and what helped me are the following:\r\n\r\n 1. `@Entity` annotation on the generic type argument (`AdditionalFee`) class;\r\n 2. `@OneToMany` (or any other type of association that fits particular business case) annotation on the `private List&lt;AdditionalFee&gt; additionalFees;` field.\r\n\r\nSo, the working version looked like this:\r\n\r\n```java\r\n@Entity\r\npublic class SomeFee {\r\n    @Id\r\n    private Long id;\r\n    @OneToMany\r\n    private List&lt;AdditionalFee&gt; additionalFees;\r\n    //other fields, getters, setters..\r\n}\r\n    \r\n@Entity\r\nclass AdditionalFee {\r\n    @Id\r\n    private int id;\r\n    //other fields, getters, setters..\r\n}\r\n```","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>You are most likely missing an <em>association mapping</em> (like <code>@OneToMany</code>) and/or <code>@Entity</code> annotation(s).</p>\n<p>I had a same problem in:</p>\n<pre><code>@Entity\npublic class SomeFee {\n    @Id\n    private Long id;\n    private List&lt;AdditionalFee&gt; additionalFees;\n    //other fields, getters, setters..\n}\n\nclass AdditionalFee {\n    @Id\n    private int id;\n    //other fields, getters, setters..\n}\n</code></pre>\n<p>and <code>additionalFees</code> was the field causing the problem.</p>\n<p>What I was missing and what helped me are the following:</p>\n<ol>\n<li><code>@Entity</code> annotation on the generic type argument (<code>AdditionalFee</code>) class;</li>\n<li><code>@OneToMany</code> (or any other type of association that fits particular business case) annotation on the <code>private List&lt;AdditionalFee&gt; additionalFees;</code> field.</li>\n</ol>\n<p>So, the working version looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class SomeFee {\n    @Id\n    private Long id;\n    @OneToMany\n    private List&lt;AdditionalFee&gt; additionalFees;\n    //other fields, getters, setters..\n}\n    \n@Entity\nclass AdditionalFee {\n    @Id\n    private int id;\n    //other fields, getters, setters..\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10387585,"reputation":1596,"user_id":7660084,"display_name":"Mr Special"},"score":4,"creation_date":1628654547,"post_id":62087335,"comment_id":121475807,"body_markdown":"I used it but tags are not stored into DB","body":"I used it but tags are not stored into DB"},{"owner":{"account_id":6422313,"reputation":921,"user_id":4978689,"accept_rate":71,"display_name":"mindOf_L"},"score":1,"creation_date":1671030635,"post_id":62087335,"comment_id":132009944,"body_markdown":"Maybe you need to declare a @Column(columnDefinition = &quot;String[]&quot;). In my case, I have to implement that way in PostgreSQL","body":"Maybe you need to declare a @Column(columnDefinition = &quot;String[]&quot;). In my case, I have to implement that way in PostgreSQL"}],"tags":[],"owner":{"account_id":41653,"reputation":1487,"user_id":121139,"accept_rate":20,"display_name":"Fred Campos"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1590759580,"creation_date":1590759580,"answer_id":62087335,"question_id":21059451,"body_markdown":"You can also use `@ElementCollection`:\r\n\r\n    @ElementCollection\r\n    private List&lt;String&gt; tags;","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>You can also use <code>@ElementCollection</code>:</p>\n\n<pre><code>@ElementCollection\nprivate List&lt;String&gt; tags;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27412974,"reputation":142,"user_id":20912639,"display_name":"Martin Maťovč&#237;k"},"score":0,"creation_date":1700646226,"post_id":68288156,"comment_id":136679114,"body_markdown":"worked for me with private Set&lt;String&gt;. Thanks!","body":"worked for me with private Set&lt;String&gt;. Thanks!"}],"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1625668933,"creation_date":1625668933,"answer_id":68288156,"question_id":21059451,"body_markdown":"Or you can mark it as `@Transient` if it doesn&#39;t exist on DB table. \r\n\r\n```\r\n@Transient\r\nprivate List&lt;String&gt; authorities = new ArrayList&lt;&gt;();\r\n```","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>Or you can mark it as <code>@Transient</code> if it doesn't exist on DB table.</p>\n<pre><code>@Transient\nprivate List&lt;String&gt; authorities = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645617936,"creation_date":1645617936,"answer_id":71236621,"question_id":21059451,"body_markdown":"&gt; &#39;Basic&#39; attribute type should not be a container\r\n\r\nThis error occurs when you declare an existing entity as an attribute in the current Entity without declaring the relationship type which could be either of the JPA relationships.\r\n[Detailed Article on JPA relationships][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-rest-relationships","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<blockquote>\n<p>'Basic' attribute type should not be a container</p>\n</blockquote>\n<p>This error occurs when you declare an existing entity as an attribute in the current Entity without declaring the relationship type which could be either of the JPA relationships.\n<a href=\"https://www.baeldung.com/spring-data-rest-relationships\" rel=\"nofollow noreferrer\">Detailed Article on JPA relationships</a></p>\n"},{"tags":[],"owner":{"account_id":15141541,"reputation":49,"user_id":10926405,"display_name":" Mannawar Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689913091,"creation_date":1689913091,"answer_id":76735094,"question_id":21059451,"body_markdown":"Check and specify whether it is ```@OneToMany @OneToOne @ManyToMany```\r\nas per the requirement and replace with @Basic","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>Check and specify whether it is <code>@OneToMany @OneToOne @ManyToMany</code>\nas per the requirement and replace with @Basic</p>\n"}],"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95063,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"accepted_answer_id":21200106,"answer_count":9,"score":57,"last_activity_date":1689913091,"creation_date":1389422454,"question_id":21059451,"body_markdown":"I have a JPA `@Entity class Place`, with some properties holding some information about a place, such as name of place, description, and URLs of some images.\r\n\r\nFor the URLs of images, I declare a `List&lt;Link&gt;` in my entity.\r\n\r\n![enter image description here][3]\r\n\r\nHowever, I am getting this error:\r\n\r\n&gt;`Basic attribute type should not be a container.`\r\n\r\nI tried to remove `@Basic`, but the error message is still there. Why does it shows this error?\r\n\r\n  [1]: https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Link\r\n  [2]: https://developers.google.com/appengine/docs/python/datastore/typesandpropertyclasses\r\n  [3]: http://i.stack.imgur.com/BWkDD.png\r\n","title":"Cannot declare List property in the JPA @Entity class. It says &#39;Basic&#39; attribute type should not be a container","body":"<p>I have a JPA <code>@Entity class Place</code>, with some properties holding some information about a place, such as name of place, description, and URLs of some images.</p>\n<p>For the URLs of images, I declare a <code>List&lt;Link&gt;</code> in my entity.</p>\n<p><img src=\"https://i.stack.imgur.com/BWkDD.png\" alt=\"enter image description here\" /></p>\n<p>However, I am getting this error:</p>\n<blockquote>\n<p><code>Basic attribute type should not be a container.</code></p>\n</blockquote>\n<p>I tried to remove <code>@Basic</code>, but the error message is still there. Why does it shows this error?</p>\n"},{"tags":["java","reflection","jar","urlclassloader"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689912459,"creation_date":1689897638,"answer_id":76734357,"question_id":76733705,"body_markdown":"Annotation elements are just methods. Meaning you can get the value of an annotation element by invoking a `Method` on the `Annotation` instance. For example, say we have the following annotation:\r\n\r\n```java\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\npublic @interface Foo {\r\n\r\n    String value();\r\n}\r\n```\r\n\r\nThen we get the value of the `value` element by doing:\r\n\r\n```java\r\nimport java.lang.annotation.Annotation;\r\nimport java.lang.reflect.Method;\r\n\r\n@Foo(&quot;Hello, World!&quot;)\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // Pretending we don&#39;t have compile-time access to &#39;Foo&#39;\r\n        Annotation fooAnnotation = Main.class.getAnnotations()[0];\r\n        Method valueMethod = fooAnnotation.annotationType().getMethod(&quot;value&quot;);\r\n        Object value = valueMethod.invoke(fooAnnotation);\r\n        System.out.printf(&quot;value = &#39;%s&#39;%n&quot;, value);\r\n    }\r\n}\r\n```\r\n\r\nAnd the output is:\r\n\r\n```none\r\nvalue = &#39;Hello, World!&#39;\r\n```\r\n\r\n","title":"How to get method annotation value","body":"<p>Annotation elements are just methods. Meaning you can get the value of an annotation element by invoking a <code>Method</code> on the <code>Annotation</code> instance. For example, say we have the following annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface Foo {\n\n    String value();\n}\n</code></pre>\n<p>Then we get the value of the <code>value</code> element by doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.Method;\n\n@Foo(&quot;Hello, World!&quot;)\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        // Pretending we don't have compile-time access to 'Foo'\n        Annotation fooAnnotation = Main.class.getAnnotations()[0];\n        Method valueMethod = fooAnnotation.annotationType().getMethod(&quot;value&quot;);\n        Object value = valueMethod.invoke(fooAnnotation);\n        System.out.printf(&quot;value = '%s'%n&quot;, value);\n    }\n}\n</code></pre>\n<p>And the output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>value = 'Hello, World!'\n</code></pre>\n"}],"owner":{"account_id":17617723,"reputation":105,"user_id":12823863,"display_name":"SP QRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76734357,"answer_count":1,"score":0,"last_activity_date":1689912459,"creation_date":1689887042,"question_id":76733705,"body_markdown":"I am writing a plugin for parsing a jar archive, using the url classloader, I get reflective access to the classes of this archive, I have annotation names by which I can find the classes corresponding to them in the bytecode (for obvious reasons, I do not have access to the annotation class itself from the code that is currently parsing this jar),\r\nI&#39;m sure there is some dirty trick to do this, please help\r\n\r\nfor example what i am doing in nutshell:\r\n\r\n```java\r\nPath pathToJar = Paths.get(&quot;/a/b/c/Application.jar&quot;);\r\n\r\nList&lt;Class&lt;?&gt;&gt; allJarClasses = loadAllJarClasses(pathToJar);\r\n\r\nString annotationName = &quot;MyAnnotation&quot;;\r\n\r\ngetValueFromAnnotationWithName(annotationName, allJarClasses);\r\n\r\n---\r\n\r\npublic String getValueFromAnnotationWithName(String annotationName, List&lt;Class&lt;?&gt;&gt; classes) {\r\n    classes.forEach(cl -&gt; {\r\n        Method[] methods = ...getMethods\r\n        for(Method m : methods) {\r\n            Annotations[] annotations = ...getAnnotations from method\r\n            for (Annotation a: annotations) {\r\n               if (a.annotationType().getName().matches(&quot;.*&quot; + annotationName)) {\r\n                     return getValueFromAnnotation(&quot;someValueName&quot;, a); &lt;- here i need help;\r\n               }\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nUpdate: \r\ni can get values while debugging in intellij idea\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j5eL1.png\r\n\r\nalso if do this:\r\n```java\r\nannotationMethod.toString()\r\n```\r\ni can get this:\r\n\r\n&gt;@ru.sparural.kafka.annotation.KafkaSparuralMapping(value=&quot;file/create&quot;)","title":"How to get method annotation value","body":"<p>I am writing a plugin for parsing a jar archive, using the url classloader, I get reflective access to the classes of this archive, I have annotation names by which I can find the classes corresponding to them in the bytecode (for obvious reasons, I do not have access to the annotation class itself from the code that is currently parsing this jar),\nI'm sure there is some dirty trick to do this, please help</p>\n<p>for example what i am doing in nutshell:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path pathToJar = Paths.get(&quot;/a/b/c/Application.jar&quot;);\n\nList&lt;Class&lt;?&gt;&gt; allJarClasses = loadAllJarClasses(pathToJar);\n\nString annotationName = &quot;MyAnnotation&quot;;\n\ngetValueFromAnnotationWithName(annotationName, allJarClasses);\n\n---\n\npublic String getValueFromAnnotationWithName(String annotationName, List&lt;Class&lt;?&gt;&gt; classes) {\n    classes.forEach(cl -&gt; {\n        Method[] methods = ...getMethods\n        for(Method m : methods) {\n            Annotations[] annotations = ...getAnnotations from method\n            for (Annotation a: annotations) {\n               if (a.annotationType().getName().matches(&quot;.*&quot; + annotationName)) {\n                     return getValueFromAnnotation(&quot;someValueName&quot;, a); &lt;- here i need help;\n               }\n            }\n        }\n    });\n}\n</code></pre>\n<p>Update:\ni can get values while debugging in intellij idea\n<a href=\"https://i.stack.imgur.com/j5eL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j5eL1.png\" alt=\"enter image description here\" /></a></p>\n<p>also if do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>annotationMethod.toString()\n</code></pre>\n<p>i can get this:</p>\n<blockquote>\n<p>@ru.sparural.kafka.annotation.KafkaSparuralMapping(value=&quot;file/create&quot;)</p>\n</blockquote>\n"},{"tags":["java","debugging","intellij-idea","remote-access","remote-debugging"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1487770918,"post_id":42380496,"comment_id":71933662,"body_markdown":"Do you mean a remote web server with some Java EE container or do you want to run your plain java application there? In the first case see the answer from @arghtype, otherwise my answer is more suitable.","body":"Do you mean a remote web server with some Java EE container or do you want to run your plain java application there? In the first case see the answer from @arghtype, otherwise my answer is more suitable."},{"owner":{"account_id":5139030,"reputation":2473,"user_id":4116969,"accept_rate":85,"display_name":"HimanAB"},"score":0,"creation_date":1487771131,"post_id":42380496,"comment_id":71933818,"body_markdown":"I mean running plain java on a remote server. Running my code on my laptop takes an age that&#39;s why I need to run it on our server which is a super powerful computer. What I want is to run my code using Intellij  which is installed on my laptop and the code is actually run on that server.","body":"I mean running plain java on a remote server. Running my code on my laptop takes an age that&#39;s why I need to run it on our server which is a super powerful computer. What I want is to run my code using Intellij  which is installed on my laptop and the code is actually run on that server."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1487771191,"post_id":42380496,"comment_id":71933856,"body_markdown":"Thanks, then please check my answer, it&#39;s exactly for your case.","body":"Thanks, then please check my answer, it&#39;s exactly for your case."}],"answers":[{"tags":[],"owner":{"account_id":2810741,"reputation":4424,"user_id":2417043,"accept_rate":67,"display_name":"arghtype"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1542839651,"creation_date":1487770153,"answer_id":42392868,"question_id":42380496,"body_markdown":"If you need to debug your web application running on remote server you can do it this way:\r\n\r\n**Deploy your code to remote server.** There are several ways to do it:\r\n\r\n - By intergration IDEA with you application server. Go into `Settings &gt; Build, Execution, Deployments &gt; Application Servers` and add your application server there. You could later use it as deployment target. See [documentation][1].\r\n - By integration via you building tool, for example, maven have plugins for integration with many app servers. This works well when your build process is complicated.\r\n - Manually - simple copy build artifacts into target app server machine and deploy manually. \r\n\r\n**Connect to server in debug mode.** To do this you need to create separate Run/ Debug configuration in IDEA. If you have Enterprise Edition you could choose configuration template for your server (e.q. *Tomcat Server*) and choose server from your *Application Servers* list. In Community Edition you have to use default [Remote][2] configuration instead. \r\n\r\nWhen setup is done, your workflow should be the following:\r\n\r\n 1. Make changes into code;\r\n 2. Redeploy it into server (restart it if necessary);\r\n 3. Run your debug configuration;\r\n 4. Access your application on server (via browser for example) to trigger required code for execution;\r\n 5. Debug\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.3/defining-application-servers-in-intellij-idea.html\r\n  [2]: https://www.jetbrains.com/help/idea/2016.3/run-debug-configuration-remote.html","title":"deploy/debug java code on a remote server using Intellij","body":"<p>If you need to debug your web application running on remote server you can do it this way:</p>\n\n<p><strong>Deploy your code to remote server.</strong> There are several ways to do it:</p>\n\n<ul>\n<li>By intergration IDEA with you application server. Go into <code>Settings &gt; Build, Execution, Deployments &gt; Application Servers</code> and add your application server there. You could later use it as deployment target. See <a href=\"https://www.jetbrains.com/help/idea/2016.3/defining-application-servers-in-intellij-idea.html\" rel=\"nofollow noreferrer\">documentation</a>.</li>\n<li>By integration via you building tool, for example, maven have plugins for integration with many app servers. This works well when your build process is complicated.</li>\n<li>Manually - simple copy build artifacts into target app server machine and deploy manually. </li>\n</ul>\n\n<p><strong>Connect to server in debug mode.</strong> To do this you need to create separate Run/ Debug configuration in IDEA. If you have Enterprise Edition you could choose configuration template for your server (e.q. <em>Tomcat Server</em>) and choose server from your <em>Application Servers</em> list. In Community Edition you have to use default <a href=\"https://www.jetbrains.com/help/idea/2016.3/run-debug-configuration-remote.html\" rel=\"nofollow noreferrer\">Remote</a> configuration instead. </p>\n\n<p>When setup is done, your workflow should be the following:</p>\n\n<ol>\n<li>Make changes into code;</li>\n<li>Redeploy it into server (restart it if necessary);</li>\n<li>Run your debug configuration;</li>\n<li>Access your application on server (via browser for example) to trigger required code for execution;</li>\n<li>Debug</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5139030,"reputation":2473,"user_id":4116969,"accept_rate":85,"display_name":"HimanAB"},"score":1,"creation_date":1487771370,"post_id":42392922,"comment_id":71933987,"body_markdown":"That guide, as you said, is for Php. Since this question might be for many other users as well, I appreciate if you could finalize your answer for java so that other users can also get their answer. So, what exactly is the process for Intellij?","body":"That guide, as you said, is for Php. Since this question might be for many other users as well, I appreciate if you could finalize your answer for java so that other users can also get their answer. So, what exactly is the process for Intellij?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1487774374,"post_id":42392922,"comment_id":71936311,"body_markdown":"I&#39;ve updated the answer with the real examples for IntelliJ IDEA, deploying via SFTP and running using SSH external tool.","body":"I&#39;ve updated the answer with the real examples for IntelliJ IDEA, deploying via SFTP and running using SSH external tool."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1487784474,"post_id":42392922,"comment_id":71943683,"body_markdown":"@HimanAB Is there anything else I can add so that you accept the answer?","body":"@HimanAB Is there anything else I can add so that you accept the answer?"},{"owner":{"account_id":5139030,"reputation":2473,"user_id":4116969,"accept_rate":85,"display_name":"HimanAB"},"score":0,"creation_date":1487786401,"post_id":42392922,"comment_id":71944963,"body_markdown":"I don&#39;t have access to my code at the moment so I honestly cannot test it right now to see if it works. I will definitely do so once I go home this evening. Thanks","body":"I don&#39;t have access to my code at the moment so I honestly cannot test it right now to see if it works. I will definitely do so once I go home this evening. Thanks"},{"owner":{"account_id":6608736,"reputation":746,"user_id":5125206,"accept_rate":89,"display_name":"lostsoul29"},"score":0,"creation_date":1499887137,"post_id":42392922,"comment_id":77105091,"body_markdown":"Beautiful explanation.","body":"Beautiful explanation."},{"owner":{"account_id":8206803,"reputation":2009,"user_id":6176277,"accept_rate":64,"display_name":"ThatDataGuy"},"score":0,"creation_date":1548256418,"post_id":42392922,"comment_id":95478580,"body_markdown":"Does this work for the community edition of intellij?","body":"Does this work for the community edition of intellij?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1548270913,"post_id":42392922,"comment_id":95485889,"body_markdown":"@ThatDataGuy This feature requires IntelliJ IDEA Ultimate.","body":"@ThatDataGuy This feature requires IntelliJ IDEA Ultimate."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":7,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1487774944,"creation_date":1487770320,"answer_id":42392922,"question_id":42380496,"body_markdown":"There is a [step by step deployment guide](https://confluence.jetbrains.com/display/PhpStorm/Deploying+PHP+applications+with+PhpStorm) for PhpStorm, but for IntelliJ IDEA it would be almost the same.\r\n\r\nHere is the example configuration for deploying a `.jar` file from `artifact` subdirectory to the remote server via SFTP into `/home/serge/artifact` directory:\r\n\r\n[![connection][1]][1]\r\n\r\n[![mappings][2]][2]\r\n\r\nI&#39;d [configure the artifact to produce the executable jar](https://stackoverflow.com/a/42200519/104891). Then adjust the deployment configuration to deploy the jar to the remote server. Or you can use Maven/Gradle to do the same.\r\n\r\nNext, you can configure [Remote SSH external tool](https://www.jetbrains.com/help/idea/2016.3/remote-ssh-external-tools.html) to run the jar on the server (via `java -jar jarname.jar`:\r\n\r\n[![remote ssh tool][3]][3]\r\n\r\nRunning on the remote server via `Tools` | `External Tools` | `hello`:\r\n\r\n[![running][4]][4]\r\n\r\nTo automate the process enable [Include in project build](http://i.stack.imgur.com/2UljW.png) for the artifact, enable `Automatic upload` in `Tools` | `Deployment` and enable [uploading of external changes](http://i.stack.imgur.com/8ZstI.png) in `Tools` | `Deployment` | `Options`.\r\n\r\nTo debug the code use [Remote Debug configuration](https://www.jetbrains.com/help/idea/2016.3/run-debug-configuration-remote.html). Copy the JVM options needed for debug and adjust the options in your remote SSH external tool so that the app is started in debug mode and can accept connections (make sure firewall rules are adjusted to permit the connections on the specified port).\r\n\r\n- [remote debug configuration](http://i.stack.imgur.com/N0qpJ.png)\r\n- [debug external tool configuration](http://i.stack.imgur.com/un32u.png)\r\n- [proof of working](http://i.stack.imgur.com/4JGyV.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TX1GO.png\r\n  [2]: https://i.stack.imgur.com/lvJAh.png\r\n  [3]: https://i.stack.imgur.com/b9zS0.png\r\n  [4]: https://i.stack.imgur.com/D81ly.png","title":"deploy/debug java code on a remote server using Intellij","body":"<p>There is a <a href=\"https://confluence.jetbrains.com/display/PhpStorm/Deploying+PHP+applications+with+PhpStorm\" rel=\"noreferrer\">step by step deployment guide</a> for PhpStorm, but for IntelliJ IDEA it would be almost the same.</p>\n\n<p>Here is the example configuration for deploying a <code>.jar</code> file from <code>artifact</code> subdirectory to the remote server via SFTP into <code>/home/serge/artifact</code> directory:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TX1GO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TX1GO.png\" alt=\"connection\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lvJAh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lvJAh.png\" alt=\"mappings\"></a></p>\n\n<p>I'd <a href=\"https://stackoverflow.com/a/42200519/104891\">configure the artifact to produce the executable jar</a>. Then adjust the deployment configuration to deploy the jar to the remote server. Or you can use Maven/Gradle to do the same.</p>\n\n<p>Next, you can configure <a href=\"https://www.jetbrains.com/help/idea/2016.3/remote-ssh-external-tools.html\" rel=\"noreferrer\">Remote SSH external tool</a> to run the jar on the server (via <code>java -jar jarname.jar</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b9zS0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b9zS0.png\" alt=\"remote ssh tool\"></a></p>\n\n<p>Running on the remote server via <code>Tools</code> | <code>External Tools</code> | <code>hello</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D81ly.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/D81ly.png\" alt=\"running\"></a></p>\n\n<p>To automate the process enable <a href=\"https://i.stack.imgur.com/2UljW.png\" rel=\"noreferrer\">Include in project build</a> for the artifact, enable <code>Automatic upload</code> in <code>Tools</code> | <code>Deployment</code> and enable <a href=\"https://i.stack.imgur.com/8ZstI.png\" rel=\"noreferrer\">uploading of external changes</a> in <code>Tools</code> | <code>Deployment</code> | <code>Options</code>.</p>\n\n<p>To debug the code use <a href=\"https://www.jetbrains.com/help/idea/2016.3/run-debug-configuration-remote.html\" rel=\"noreferrer\">Remote Debug configuration</a>. Copy the JVM options needed for debug and adjust the options in your remote SSH external tool so that the app is started in debug mode and can accept connections (make sure firewall rules are adjusted to permit the connections on the specified port).</p>\n\n<ul>\n<li><a href=\"https://i.stack.imgur.com/N0qpJ.png\" rel=\"noreferrer\">remote debug configuration</a></li>\n<li><a href=\"https://i.stack.imgur.com/un32u.png\" rel=\"noreferrer\">debug external tool configuration</a></li>\n<li><a href=\"https://i.stack.imgur.com/4JGyV.png\" rel=\"noreferrer\">proof of working</a></li>\n</ul>\n"}],"owner":{"account_id":5139030,"reputation":2473,"user_id":4116969,"accept_rate":85,"display_name":"HimanAB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17272,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42392922,"answer_count":2,"score":16,"last_activity_date":1689910720,"creation_date":1487722955,"question_id":42380496,"body_markdown":"I want to run my java code on a remote server for faster speed (The server is very powerful). What I want is to connect my Intellij to that remote server and run my code. But I want to still use the IntelliJ on my local machine (i.e. my laptop). \r\n\r\nI found a config section in IntelliJ which is in  `Default Setting-&gt;Build-executation-deployment-&gt; Deployment` and there I can set the address of my remote server and username and password. But I don&#39;t know what to do next. ","title":"deploy/debug java code on a remote server using Intellij","body":"<p>I want to run my java code on a remote server for faster speed (The server is very powerful). What I want is to connect my Intellij to that remote server and run my code. But I want to still use the IntelliJ on my local machine (i.e. my laptop). </p>\n\n<p>I found a config section in IntelliJ which is in  <code>Default Setting-&gt;Build-executation-deployment-&gt; Deployment</code> and there I can set the address of my remote server and username and password. But I don't know what to do next. </p>\n"},{"tags":["java","testng","extentreports"],"owner":{"account_id":7022067,"reputation":17,"user_id":5380974,"display_name":"Palemera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689907800,"creation_date":1689907800,"question_id":76734828,"body_markdown":"I am trying to use an existing Extent HTML Report rather than creating a new HTML Report in my Java project.\r\n\r\nSince I am using version 5.0.6, some methods such as the ExtentHtmlReporter have been deprecated.\r\n\r\nI have tests that fail due to test environment issues and when I rerun them, they pass.\r\n\r\nWhat I am trying to achieve is to update the failed test results with the new results without losing the tests that succeeded in my original run.\r\n\r\nThis is my current code:\r\n\r\n    var htmlReport = new ExtentSparkReporter(&quot;testReport.html&quot;);\r\n    var extentReport = new ExtentReports();\r\n    \r\n    extentReport.attachReporter(htmlReport);\r\n\r\nCan someone kindly assist me with how I can modify this code to use an existing test report? It currently just creates a new report with the same name (Essentially recreating it) with the test results of my last run and losing my old successful tests.\r\n\r\n","title":"How can I update test results for an existing HTML Extent Report in version 5.0.6","body":"<p>I am trying to use an existing Extent HTML Report rather than creating a new HTML Report in my Java project.</p>\n<p>Since I am using version 5.0.6, some methods such as the ExtentHtmlReporter have been deprecated.</p>\n<p>I have tests that fail due to test environment issues and when I rerun them, they pass.</p>\n<p>What I am trying to achieve is to update the failed test results with the new results without losing the tests that succeeded in my original run.</p>\n<p>This is my current code:</p>\n<pre><code>var htmlReport = new ExtentSparkReporter(&quot;testReport.html&quot;);\nvar extentReport = new ExtentReports();\n\nextentReport.attachReporter(htmlReport);\n</code></pre>\n<p>Can someone kindly assist me with how I can modify this code to use an existing test report? It currently just creates a new report with the same name (Essentially recreating it) with the test results of my last run and losing my old successful tests.</p>\n"},{"tags":["java","spring","spring-boot","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":60348,"reputation":3362,"user_id":180309,"accept_rate":87,"display_name":"Tofig Hasanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689907353,"creation_date":1689907353,"answer_id":76734806,"question_id":76734337,"body_markdown":"Yes, you can do that and it will work fine, as long as they both use same key schema and you can ensure that you don’t try to read the 2nd type of records with the 1st POJO mapper and vice versa. DynamoDB itself does not care about schema (beyond hash/sort keys). ","title":"Can we use same DynamoDb table for two different java POJO classes","body":"<p>Yes, you can do that and it will work fine, as long as they both use same key schema and you can ensure that you don’t try to read the 2nd type of records with the 1st POJO mapper and vice versa. DynamoDB itself does not care about schema (beyond hash/sort keys).</p>\n"}],"owner":{"account_id":5889555,"reputation":25,"user_id":4636601,"display_name":"Dwaipayan Goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76734806,"answer_count":1,"score":0,"last_activity_date":1689907353,"creation_date":1689897222,"question_id":76734337,"body_markdown":"In my current java code, it has two different implementations for JSON Objects in two different POJOs. One of the pojo is using DynamoDBAtrribute annotation. I want that for another pojo class as well. Is it possible to use same DynamoTable for multiple POJOS? ","title":"Can we use same DynamoDb table for two different java POJO classes","body":"<p>In my current java code, it has two different implementations for JSON Objects in two different POJOs. One of the pojo is using DynamoDBAtrribute annotation. I want that for another pojo class as well. Is it possible to use same DynamoTable for multiple POJOS?</p>\n"},{"tags":["java","endpoint","javalin"],"owner":{"account_id":29060649,"reputation":1,"user_id":22261408,"display_name":"Anthony Gomez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689905721,"creation_date":1689905721,"question_id":76734736,"body_markdown":"I&#39;m trying to create endpoints to register and log in with java and javalin. and it has some test cases that I have to pass. So far I&#39;ve passed 6 out of 7, but I can&#39;t get to pass the last test case of the login. Here is what I have for both endpoints:\r\n\r\n\r\n```\r\npublic class SocialMediaController {\r\n\r\n    private Map&lt;String, Account&gt; accounts = new HashMap&lt;&gt;();\r\n   \r\n private int accountIdCounter = 0; // \r\nCounter for generating account_id\r\n\r\n    public Javalin startAPI() {\r\n        Javalin app = Javalin.create();\r\n        app.post(&quot;/register&quot;, this::registerHandler);\r\n        app.post(&quot;/login&quot;, this::loginHandler);\r\n\r\n        return app;\r\n    }\r\n\r\n   \r\n    private void registerHandler(Context context) {\r\n        Account newAccount = context.bodyAsClass(Account.class);\r\n\r\n        if (newAccount.getUsername().isBlank() || newAccount.getPassword().length() &lt; 4) {\r\n            context.status(400).json(&quot;&quot;);\r\n            return;\r\n        }\r\n\r\n       \r\n        if (accounts.containsKey(newAccount.getUsername())) {\r\n            context.status(400).json(&quot;&quot;);\r\n            return;\r\n        }\r\n\r\n       \r\n        int accountId = generateAccountId();\r\n        newAccount.setAccount_id(accountId);\r\n\r\n       \r\n        accounts.put(newAccount.getUsername(), newAccount);\r\n\r\n    \r\n        context.status(200).json(newAccount);\r\n    }\r\n\r\n    private synchronized int generateAccountId() {\r\n        accountIdCounter++; // Increment the counter\r\n        return accountIdCounter;\r\n    }\r\n\r\n\r\n\r\n\r\n   private void loginHandler(Context context) {\r\n        Account loginAccount = context.bodyAsClass(Account.class);\r\n\r\n        Account matchedAccount = accounts.values().stream()\r\n                .filter(account -&gt; account.getUsername().equals(loginAccount.getUsername())\r\n                        &amp;&amp; account.getPassword().equals(loginAccount.getPassword()))\r\n                .findFirst()\r\n                .orElse(null);\r\n\r\n        if (matchedAccount != null) {\r\n            context.status(200).json(matchedAccount);\r\n        } else {\r\n            context.status(401).json(&quot;&quot;); \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the last test case that I can&#39;t get to pass:\r\n\r\n \r\n```\r\n@Test\r\n    public void loginSuccessful() throws IOException, InterruptedException {\r\n        HttpRequest postRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;http://localhost:8080/login&quot;))\r\n                .POST(HttpRequest.BodyPublishers.ofString(&quot;{&quot; +\r\n                        &quot;\\&quot;username\\&quot;: \\&quot;testuser1\\&quot;, &quot; +\r\n                        &quot;\\&quot;password\\&quot;: \\&quot;password\\&quot; }&quot;))\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .build();\r\n        HttpResponse response = webClient.send(postRequest, HttpResponse.BodyHandlers.ofString());\r\n        int status = response.statusCode();\r\n\r\n        Assert.assertEquals(200, status);\r\n        ObjectMapper om = new ObjectMapper();\r\n        Account expectedResult = new Account(1, &quot;testuser1&quot;, &quot;password&quot;);\r\n        Account actualResult = om.readValue(response.body().toString(), Account.class);\r\n        Assert.assertEquals(expectedResult, actualResult);        \r\n\r\n    }\r\n```\r\n\r\nDoes anyone have any idea on what I&#39;m doing wrong? I don&#39;t know much about Java\r\n\r\nI tried modifying the handlers and modifying the  private int accountIdCounter = 0; to 1 instead of 0 but I was unsuccesful at all my attempts to make it through","title":"Creating a register and log in endpoints with Java and Javalin","body":"<p>I'm trying to create endpoints to register and log in with java and javalin. and it has some test cases that I have to pass. So far I've passed 6 out of 7, but I can't get to pass the last test case of the login. Here is what I have for both endpoints:</p>\n<pre><code>public class SocialMediaController {\n\n    private Map&lt;String, Account&gt; accounts = new HashMap&lt;&gt;();\n   \n private int accountIdCounter = 0; // \nCounter for generating account_id\n\n    public Javalin startAPI() {\n        Javalin app = Javalin.create();\n        app.post(&quot;/register&quot;, this::registerHandler);\n        app.post(&quot;/login&quot;, this::loginHandler);\n\n        return app;\n    }\n\n   \n    private void registerHandler(Context context) {\n        Account newAccount = context.bodyAsClass(Account.class);\n\n        if (newAccount.getUsername().isBlank() || newAccount.getPassword().length() &lt; 4) {\n            context.status(400).json(&quot;&quot;);\n            return;\n        }\n\n       \n        if (accounts.containsKey(newAccount.getUsername())) {\n            context.status(400).json(&quot;&quot;);\n            return;\n        }\n\n       \n        int accountId = generateAccountId();\n        newAccount.setAccount_id(accountId);\n\n       \n        accounts.put(newAccount.getUsername(), newAccount);\n\n    \n        context.status(200).json(newAccount);\n    }\n\n    private synchronized int generateAccountId() {\n        accountIdCounter++; // Increment the counter\n        return accountIdCounter;\n    }\n\n\n\n\n   private void loginHandler(Context context) {\n        Account loginAccount = context.bodyAsClass(Account.class);\n\n        Account matchedAccount = accounts.values().stream()\n                .filter(account -&gt; account.getUsername().equals(loginAccount.getUsername())\n                        &amp;&amp; account.getPassword().equals(loginAccount.getPassword()))\n                .findFirst()\n                .orElse(null);\n\n        if (matchedAccount != null) {\n            context.status(200).json(matchedAccount);\n        } else {\n            context.status(401).json(&quot;&quot;); \n        }\n    }\n}\n</code></pre>\n<p>And this is the last test case that I can't get to pass:</p>\n<pre><code>@Test\n    public void loginSuccessful() throws IOException, InterruptedException {\n        HttpRequest postRequest = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;http://localhost:8080/login&quot;))\n                .POST(HttpRequest.BodyPublishers.ofString(&quot;{&quot; +\n                        &quot;\\&quot;username\\&quot;: \\&quot;testuser1\\&quot;, &quot; +\n                        &quot;\\&quot;password\\&quot;: \\&quot;password\\&quot; }&quot;))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .build();\n        HttpResponse response = webClient.send(postRequest, HttpResponse.BodyHandlers.ofString());\n        int status = response.statusCode();\n\n        Assert.assertEquals(200, status);\n        ObjectMapper om = new ObjectMapper();\n        Account expectedResult = new Account(1, &quot;testuser1&quot;, &quot;password&quot;);\n        Account actualResult = om.readValue(response.body().toString(), Account.class);\n        Assert.assertEquals(expectedResult, actualResult);        \n\n    }\n</code></pre>\n<p>Does anyone have any idea on what I'm doing wrong? I don't know much about Java</p>\n<p>I tried modifying the handlers and modifying the  private int accountIdCounter = 0; to 1 instead of 0 but I was unsuccesful at all my attempts to make it through</p>\n"},{"tags":["java","maven","nexus"],"answers":[{"comments":[{"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"score":0,"creation_date":1593500702,"post_id":62638140,"comment_id":110795311,"body_markdown":"My version tag in pom contains snapshot `&lt;version&gt;0.0.13-SNAPSHOT&lt;/version&gt;`. When I run release goal, the version is changed to 0.0.14-SNAPSHOT, release build is created with 0.0.13 and published to release path in Nexus. But the snapshot build is not published to Nexus. When I run mvn clean deploy with snapshot version, nothing happens.","body":"My version tag in pom contains snapshot <code>&lt;version&gt;0.0.13-SNAPSHOT&lt;&#47;version&gt;</code>. When I run release goal, the version is changed to 0.0.14-SNAPSHOT, release build is created with 0.0.13 and published to release path in Nexus. But the snapshot build is not published to Nexus. When I run mvn clean deploy with snapshot version, nothing happens."},{"owner":{"account_id":4026428,"reputation":2773,"user_id":3314484,"accept_rate":73,"display_name":"Joe W"},"score":0,"creation_date":1593586742,"post_id":62638140,"comment_id":110829343,"body_markdown":"Can you post the full log for mvn clean deploy? And if that doesn&#39;t show much run it with debug on mvn clean deploy -X and post the relevant part of that log","body":"Can you post the full log for mvn clean deploy? And if that doesn&#39;t show much run it with debug on mvn clean deploy -X and post the relevant part of that log"},{"owner":{"account_id":4026428,"reputation":2773,"user_id":3314484,"accept_rate":73,"display_name":"Joe W"},"score":0,"creation_date":1593608695,"post_id":62638140,"comment_id":110840260,"body_markdown":"@abi_pat Added what i think will fix it. You have `&lt;skip&gt;true&lt;/skip&gt;` in your deploy config in the pom.","body":"@abi_pat Added what i think will fix it. You have <code>&lt;skip&gt;true&lt;&#47;skip&gt;</code> in your deploy config in the pom."},{"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"score":0,"creation_date":1594031985,"post_id":62638140,"comment_id":110973990,"body_markdown":"I am confused then. If I remove the skip configuration, which plugin will execute for deploy goal - Maven deploy or Nexus staging maven? Because I tried removing and then running the release command and it gives me error.","body":"I am confused then. If I remove the skip configuration, which plugin will execute for deploy goal - Maven deploy or Nexus staging maven? Because I tried removing and then running the release command and it gives me error."},{"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"score":0,"creation_date":1594032006,"post_id":62638140,"comment_id":110974004,"body_markdown":"Error - [ERROR] Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy (default-deploy) on project company-service: Failed to deploy artifacts: Could not transfer artifact com.pct:auth-service:jar:0.0.13 from/to nexus-releases (http://localhost:8081/repository/releases): Failed to transfer file: http://localhost:8081/repository/releases/com/pct/auth-service/0.0.13/auth-service-0.0.13.jar. Return code is: 400, ReasonPhrase: Repository does not allow updating assets: releases.","body":"Error - [ERROR] Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy (default-deploy) on project company-service: Failed to deploy artifacts: Could not transfer artifact com.pct:auth-service:jar:0.0.13 from/to nexus-releases (<a href=\"http://localhost:8081/repository/releases\" rel=\"nofollow noreferrer\">localhost:8081/repository/releases</a>): Failed to transfer file: <a href=\"http://localhost:8081/repository/releases/com/pct/auth-service/0.0.13/auth-service-0.0.13.jar\" rel=\"nofollow noreferrer\">localhost:8081/repository/releases/com/pct/auth-service/0.0.&zwnj;&#8203;13/&hellip;</a>. Return code is: 400, ReasonPhrase: Repository does not allow updating assets: releases."},{"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"score":0,"creation_date":1594032068,"post_id":62638140,"comment_id":110974036,"body_markdown":"If my understanding is correct, both plugins are getting executed and Maven Deploy has already uploaded release build and Nexus plugin is again trying to upload same build and that is giving me error.","body":"If my understanding is correct, both plugins are getting executed and Maven Deploy has already uploaded release build and Nexus plugin is again trying to upload same build and that is giving me error."},{"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"score":0,"creation_date":1594032365,"post_id":62638140,"comment_id":110974179,"body_markdown":"Although, removing skip configuration allows uploading of snapshot builds in mvn deploy","body":"Although, removing skip configuration allows uploading of snapshot builds in mvn deploy"}],"tags":[],"owner":{"account_id":4026428,"reputation":2773,"user_id":3314484,"accept_rate":73,"display_name":"Joe W"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615320540,"creation_date":1593433641,"answer_id":62638140,"question_id":62638014,"body_markdown":"If you change the `version` of the asset you&#39;re deploying to include `-SNAPSHOT` it will automatically use the snapshot repository.\r\n\r\nFor example `6.2.0` will go to the release repo when you do `mvn deploy` or your release command.\r\n\r\nAnd `6.2.0-SNAPSHOT` will go to the snapshots repo when you do `mvn deploy` or your release command.\r\n\r\nAlso remove this:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;skip&gt;true&lt;/skip&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nFrom you maven-deploy-plugin and you&#39;ll be off and running!","title":"Publish snapshot and release both to Nexus using maven","body":"<p>If you change the <code>version</code> of the asset you're deploying to include <code>-SNAPSHOT</code> it will automatically use the snapshot repository.</p>\n<p>For example <code>6.2.0</code> will go to the release repo when you do <code>mvn deploy</code> or your release command.</p>\n<p>And <code>6.2.0-SNAPSHOT</code> will go to the snapshots repo when you do <code>mvn deploy</code> or your release command.</p>\n<p>Also remove this:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;skip&gt;true&lt;/skip&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>From you maven-deploy-plugin and you'll be off and running!</p>\n"}],"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10995,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689904955,"creation_date":1593433222,"question_id":62638014,"body_markdown":"I have followed the blogs [Maven Nexus Deploy][1] and [Maven Nexus Release][2] to enable publishing my builds of modular Spring Boot application in Nexus. I am using Nexus opensource and Maven 3.6.0\r\n\r\nMy plan is to have a setup where I can publish both snapshots and releases based on the maven goal I am running. My current pom contains following details -\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-deploy-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-source-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipSource&gt;true&lt;/skipSource&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;tagNameFormat&gt;v@{project.version}&lt;/tagNameFormat&gt;\r\n                        &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                        &lt;releaseProfiles&gt;releases&lt;/releaseProfiles&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n    &lt;distributionManagement&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n            &lt;url&gt;http://localhost:8081/repository/snapshots&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;nexus-releases&lt;/id&gt;\r\n            &lt;url&gt;http://localhost:8081/repository/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n    &lt;scm&gt;\r\n        // my scm details\r\n    &lt;/scm&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;releases&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.6.8&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;default-deploy&lt;/id&gt;\r\n                                &lt;phase&gt;deploy&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;deploy&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;serverId&gt;nexus-releases&lt;/serverId&gt;\r\n                            &lt;nexusUrl&gt;http://localhost:8081/nexus/&lt;/nexusUrl&gt;\r\n                            &lt;skipStaging&gt;true&lt;/skipStaging&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nMy maven settings.xml contains the server entries -\r\n\r\n    &lt;server&gt;\r\n        &lt;id&gt;nexus-releases&lt;/id&gt;\r\n        &lt;username&gt;deployment&lt;/username&gt;\r\n        &lt;password&gt;deployment&lt;/password&gt;\r\n    &lt;/server&gt;\r\n    &lt;server&gt;\r\n        &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n        &lt;username&gt;deployment&lt;/username&gt;\r\n        &lt;password&gt;deployment&lt;/password&gt;\r\n    &lt;/server&gt;\r\n\r\n\r\nWhen I run command\r\n\r\n    mvn -B release:clean release:prepare release:perform -Darguments=&quot;-DskipTests -Dmaven.javadoc.skip=true&quot;\r\n\r\nit works fine and my release build is uploaded to Nexus releases path.\r\n\r\nMy questions are -\r\n1. Which command should I run so that my snapshot builds are created and uploaded to Nexus snapshots path?\r\n2. If the command is `mvn clean deploy` I tried it and it still doesn&#39;t upload snapshot to Nexus. Output for deploy step in above command is -\r\n\r\n    [INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ company-service ---\r\n    [INFO] Skipping artifact deployment\r\n\r\n\r\n**EDIT 1 -**\r\n\r\nI ran `mvn clean deploy -X` and the logs for deploy plugin are -\r\n\r\n\t[INFO] \r\n\t[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ company-service ---\r\n\t[DEBUG] Configuring mojo org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.8.2, parent: sun.misc.Launcher$AppClassLoader@7852e922]\r\n\t[DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy&#39; with basic configurator --&gt;\r\n\t[DEBUG]   (f) artifact = com.exa:company-service:jar:0.0.13-SNAPSHOT\r\n\t[DEBUG]   (f) attachedArtifacts = []\r\n\t[DEBUG]   (f) deployAtEnd = false\r\n\t[DEBUG]   (s) localRepository =       id: local\r\n\t\t  url: file:///root/.m2/repository/\r\n\t   layout: default\r\n\tsnapshots: [enabled =&gt; true, update =&gt; always]\r\n\t releases: [enabled =&gt; true, update =&gt; always]\r\n\r\n\t[DEBUG]   (f) offline = false\r\n\t[DEBUG]   (f) packaging = jar\r\n\t[DEBUG]   (f) pomFile = /home/dell/repos/exa/exa-microservices/company-service/pom.xml\r\n\t[DEBUG]   (f) project = MavenProject: com.exa:company-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/company-service/pom.xml\r\n\t[DEBUG]   (f) reactorProjects = [MavenProject: com.exa:exa-microservices:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/pom.xml, MavenProject: com.exa:discovery-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/discovery-service/pom.xml, MavenProject: com.exa:gateway-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/gateway-service/pom.xml, MavenProject: com.exa:common-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/common-service/pom.xml, MavenProject: com.exa:auth-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/auth-service/pom.xml, MavenProject: com.exa:device-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/device-service/pom.xml, MavenProject: com.exa:installer-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/installer-service/pom.xml, MavenProject: com.exa:company-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/company-service/pom.xml]\r\n\t[DEBUG]   (f) retryFailedDeploymentCount = 1\r\n\t[DEBUG]   (f) skip = true\r\n\t[DEBUG]   (f) updateReleaseInfo = false\r\n\t[DEBUG] -- end configuration --\r\n\t[INFO] Skipping artifact deployment\r\n\t[INFO] ------------------------------------------------------------------------\r\n\r\n    \r\n  [1]: https://www.baeldung.com/maven-deploy-nexus\r\n  [2]: https://www.baeldung.com/maven-release-nexus","title":"Publish snapshot and release both to Nexus using maven","body":"<p>I have followed the blogs <a href=\"https://www.baeldung.com/maven-deploy-nexus\" rel=\"nofollow noreferrer\">Maven Nexus Deploy</a> and <a href=\"https://www.baeldung.com/maven-release-nexus\" rel=\"nofollow noreferrer\">Maven Nexus Release</a> to enable publishing my builds of modular Spring Boot application in Nexus. I am using Nexus opensource and Maven 3.6.0</p>\n<p>My plan is to have a setup where I can publish both snapshots and releases based on the maven goal I am running. My current pom contains following details -</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-deploy-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-source-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipSource&gt;true&lt;/skipSource&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tagNameFormat&gt;v@{project.version}&lt;/tagNameFormat&gt;\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                    &lt;releaseProfiles&gt;releases&lt;/releaseProfiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n&lt;distributionManagement&gt;\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;nexus-snapshots&lt;/id&gt;\n        &lt;url&gt;http://localhost:8081/repository/snapshots&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;nexus-releases&lt;/id&gt;\n        &lt;url&gt;http://localhost:8081/repository/releases&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n&lt;scm&gt;\n    // my scm details\n&lt;/scm&gt;\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;releases&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.6.8&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;default-deploy&lt;/id&gt;\n                            &lt;phase&gt;deploy&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;deploy&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;serverId&gt;nexus-releases&lt;/serverId&gt;\n                        &lt;nexusUrl&gt;http://localhost:8081/nexus/&lt;/nexusUrl&gt;\n                        &lt;skipStaging&gt;true&lt;/skipStaging&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>My maven settings.xml contains the server entries -</p>\n<pre><code>&lt;server&gt;\n    &lt;id&gt;nexus-releases&lt;/id&gt;\n    &lt;username&gt;deployment&lt;/username&gt;\n    &lt;password&gt;deployment&lt;/password&gt;\n&lt;/server&gt;\n&lt;server&gt;\n    &lt;id&gt;nexus-snapshots&lt;/id&gt;\n    &lt;username&gt;deployment&lt;/username&gt;\n    &lt;password&gt;deployment&lt;/password&gt;\n&lt;/server&gt;\n</code></pre>\n<p>When I run command</p>\n<pre><code>mvn -B release:clean release:prepare release:perform -Darguments=&quot;-DskipTests -Dmaven.javadoc.skip=true&quot;\n</code></pre>\n<p>it works fine and my release build is uploaded to Nexus releases path.</p>\n<p>My questions are -</p>\n<ol>\n<li><p>Which command should I run so that my snapshot builds are created and uploaded to Nexus snapshots path?</p>\n</li>\n<li><p>If the command is <code>mvn clean deploy</code> I tried it and it still doesn't upload snapshot to Nexus. Output for deploy step in above command is -</p>\n<p>[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ company-service ---\n[INFO] Skipping artifact deployment</p>\n</li>\n</ol>\n<p><strong>EDIT 1 -</strong></p>\n<p>I ran <code>mvn clean deploy -X</code> and the logs for deploy plugin are -</p>\n<pre><code>[INFO] \n[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ company-service ---\n[DEBUG] Configuring mojo org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.8.2, parent: sun.misc.Launcher$AppClassLoader@7852e922]\n[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy' with basic configurator --&gt;\n[DEBUG]   (f) artifact = com.exa:company-service:jar:0.0.13-SNAPSHOT\n[DEBUG]   (f) attachedArtifacts = []\n[DEBUG]   (f) deployAtEnd = false\n[DEBUG]   (s) localRepository =       id: local\n      url: file:///root/.m2/repository/\n   layout: default\nsnapshots: [enabled =&gt; true, update =&gt; always]\n releases: [enabled =&gt; true, update =&gt; always]\n\n[DEBUG]   (f) offline = false\n[DEBUG]   (f) packaging = jar\n[DEBUG]   (f) pomFile = /home/dell/repos/exa/exa-microservices/company-service/pom.xml\n[DEBUG]   (f) project = MavenProject: com.exa:company-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/company-service/pom.xml\n[DEBUG]   (f) reactorProjects = [MavenProject: com.exa:exa-microservices:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/pom.xml, MavenProject: com.exa:discovery-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/discovery-service/pom.xml, MavenProject: com.exa:gateway-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/gateway-service/pom.xml, MavenProject: com.exa:common-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/common-service/pom.xml, MavenProject: com.exa:auth-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/auth-service/pom.xml, MavenProject: com.exa:device-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/device-service/pom.xml, MavenProject: com.exa:installer-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/installer-service/pom.xml, MavenProject: com.exa:company-service:0.0.13-SNAPSHOT @ /home/dell/repos/exa/exa-microservices/company-service/pom.xml]\n[DEBUG]   (f) retryFailedDeploymentCount = 1\n[DEBUG]   (f) skip = true\n[DEBUG]   (f) updateReleaseInfo = false\n[DEBUG] -- end configuration --\n[INFO] Skipping artifact deployment\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":29060655,"reputation":1,"user_id":22261413,"display_name":"박찬호"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689903015,"creation_date":1689903015,"question_id":76734592,"body_markdown":"\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int REQUEST_CAMERA_PERMISSION = 100;\r\n\r\n    private TextureView textureView;\r\n    private Button captureButton;\r\n    private CameraDevice cameraDevice;\r\n    private String cameraId;\r\n    private Handler backgroundHandler;\r\n    private HandlerThread backgroundThread;\r\n    private Size previewSize;\r\n    private ImageReader imageReader;\r\n    private String currentPhotoPath;\r\n    private static final int PERMISSION_REQUEST_CODE = 100;\r\n    private static final String[] PERMISSIONS = {\r\n            Manifest.permission.BLUETOOTH,\r\n            Manifest.permission.BLUETOOTH_ADMIN,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.CAMERA,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n    };\r\n    private CameraManager cameraManager;\r\n    private ImageView backgroundImageView;\r\n    private Button toggleButton;\r\n    private SharedPreferences sharedPreferences;\r\n    private Handler handler;\r\n    private boolean isBackgroundThreadRunning = false;\r\n    private ValueAnimator animator;\r\n    private CameraCaptureSession session;\r\n    private CameraCaptureSession previewCaptureSession;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // 상단바와 네비게이션바 숨기기\r\n        getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_main);\r\n        backgroundImageView = findViewById(R.id.background_image);\r\n\r\n        // 저장된 테마 인덱스 가져오기\r\n        sharedPreferences = getSharedPreferences(&quot;MyPrefsFile&quot;, MODE_PRIVATE);\r\n        int themeIndex = sharedPreferences.getInt(&quot;currentThemeIndex&quot;, 1);\r\n\r\n        // 테마에 맞는 배경화면 설정\r\n        String imageName = &quot;b&quot; + themeIndex;\r\n        int drawableId = getResources().getIdentifier(imageName, &quot;drawable&quot;, getPackageName());\r\n        if (drawableId != 0) {\r\n            Drawable backgroundDrawable = ContextCompat.getDrawable(this, drawableId);\r\n            backgroundImageView.setImageDrawable(backgroundDrawable);\r\n        }\r\n\r\n        toggleButton = findViewById(R.id.button_toggle);\r\n\r\n        toggleButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                toggleTheme();\r\n            }\r\n        });\r\n\r\n        // BluetoothPrinter 클래스 생성자 호출 시 권한 요청\r\n        //mPrinter = new BluetoothPrinter(this);\r\n        textureView = findViewById(R.id.texture_view);\r\n        captureButton = findViewById(R.id.capture_button);\r\n\r\n        textureView.setSurfaceTextureListener(surfaceTextureListener);\r\n        captureButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                playButtonSound();\r\n                setTimer(5);\r\n\r\n            }\r\n        });\r\n        if (checkPermissions()) {\r\n            // 권한이 모두 허용되었을 경우 실행할 코드 작성\r\n        }\r\n        else\r\n        {\r\n\r\n        }\r\n    }\r\n\r\n    private void toggleTheme() {\r\n        int themeIndex = sharedPreferences.getInt(&quot;currentThemeIndex&quot;, 1);\r\n        themeIndex = (themeIndex % 7) + 1;\r\n\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putInt(&quot;currentThemeIndex&quot;, themeIndex);\r\n        editor.apply();\r\n        setThemeBackground(themeIndex);\r\n    }\r\n    private void setThemeBackground(int theme) {\r\n        int themeIndex = theme;\r\n        // 테마에 맞는 배경화면 설정\r\n        String imageName = &quot;b&quot; + themeIndex;\r\n        int drawableId = getResources().getIdentifier(imageName, &quot;drawable&quot;, getPackageName());\r\n        if (drawableId != 0) {\r\n            ImageView backgroundImageView = findViewById(R.id.background_image);\r\n            backgroundImageView.setImageResource(drawableId);\r\n        }\r\n    }\r\n    private void setTimer(final int seconds) {\r\n        final TextView textView = findViewById(R.id.textView); // 타이머를 출력할 TextView\r\n        final View flashView = findViewById(R.id.flash_view); // 플래시 뷰\r\n        final GradientDrawable gradientDrawable = (GradientDrawable) flashView.getBackground(); // 배경 drawable 가져오기\r\n\r\n        final Animation shake = AnimationUtils.loadAnimation(this, R.anim.shake);\r\n        if (handler != null) {\r\n            handler.removeCallbacksAndMessages(null);\r\n        }\r\n        if (animator != null) {\r\n            animator.cancel();\r\n        }\r\n        handler = new Handler();\r\n        final int delay = 1000; // milliseconds\r\n        captureButton.setEnabled(false);\r\n        handler.postDelayed(new Runnable() {\r\n            int countdown = seconds;\r\n\r\n            @Override\r\n            public void run() {\r\n                if (countdown &gt; 0) {\r\n                    textView.setVisibility(View.VISIBLE);\r\n                    textView.setText(String.valueOf(countdown)); // 남은 시간을 초 단위로 TextView에 출력\r\n                    textView.startAnimation(shake);\r\n                    countdown--;\r\n                    handler.postDelayed(this, delay);\r\n                } else {\r\n                    captureButton.setEnabled(true);\r\n                    textView.setText(&quot;&quot;); // 타이머 종료 시 0을 출력\r\n                    textView.setVisibility(View.INVISIBLE);\r\n                    // 찰칵 소리 재생\r\n                    playShutterSound();\r\n\r\n                    // 플래시 뷰 애니메이션 적용\r\n                    animator = ValueAnimator.ofFloat(0.9f, 0.1f, 0.9f); // gradientRadius 값을 변경하는 애니메이션\r\n                    animator.setDuration(20);\r\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                        @Override\r\n                        public void onAnimationUpdate(ValueAnimator animation) {\r\n                            float value = (float) animation.getAnimatedValue();\r\n                            // UI 스레드에서 변경\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    gradientDrawable.setGradientRadius(value); // radientRadius 값 변경\r\n                                    flashView.setBackground(gradientDrawable); // 배경 drawable 적용\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    animator.addListener(new AnimatorListenerAdapter() {\r\n                        @Override\r\n                        public void onAnimationStart(Animator animation) {\r\n                            // UI 스레드에서 변경\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    // 애니메이션 시작시 플래시 뷰 표시\r\n                                    flashView.setVisibility(View.VISIBLE);\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        @Override\r\n                        public void onAnimationEnd(Animator animation) {\r\n                            // UI 스레드에서 변경\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    // 애니메이션 종료시 플래시 뷰 숨김\r\n                                    flashView.setVisibility(View.GONE);\r\n                                    takePicture();\r\n                                }\r\n                            });\r\n                            // 사진 촬영\r\n\r\n                        }\r\n                    });\r\n                    animator.start(); // 애니메이션 시작\r\n                }\r\n            }\r\n        }, delay);\r\n    }\r\n\r\n    private void playShutterSound() {\r\n        MediaPlayer mp = MediaPlayer.create(this, R.raw.shutter_sound);\r\n        mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                mp.release();\r\n            }\r\n        });\r\n        mp.start();\r\n    }\r\n    private boolean checkPermissions() {\r\n        boolean allGranted = true;\r\n\r\n        for (String permission : PERMISSIONS) {\r\n            if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                allGranted = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // WRITE_EXTERNAL_STORAGE 권한 확인\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            allGranted = false;\r\n        }\r\n\r\n        if (!allGranted) {\r\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_REQUEST_CODE);\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // 권한이 허용된 경우 실행할 코드 작성\r\n            } else {\r\n                // 권한이 거부된 경우 처리할 코드 작성\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n    private final TextureView.SurfaceTextureListener surfaceTextureListener = new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n\r\n            setupCamera();\r\n            openCamera();\r\n            textureView.setRotation(-90.0f); // 텍스쳐뷰를 90도 회전\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\r\n        }\r\n\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) {\r\n        }\r\n    };\r\n    private void playButtonSound() {\r\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.button_sound2);\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mediaPlayer) {\r\n                mediaPlayer.release();\r\n            }\r\n        });\r\n        mediaPlayer.start();\r\n    }\r\n    private void setupCamera() {\r\n        cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            for (String id : cameraManager.getCameraIdList()) {\r\n                CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(id);\r\n                if (characteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) {\r\n                    StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n                    previewSize = map.getOutputSizes(SurfaceTexture.class)[0];\r\n                    cameraId = id;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void openCamera() {\r\n        cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n                cameraManager.openCamera(cameraId, cameraDeviceStateCallback, backgroundHandler);\r\n            } else {\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private final CameraDevice.StateCallback cameraDeviceStateCallback = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(@NonNull CameraDevice camera) {\r\n            cameraDevice = camera;\r\n            startPreview();\r\n        }\r\n\r\n        @Override\r\n        public void onDisconnected(@NonNull CameraDevice camera) {\r\n            camera.close();\r\n            cameraDevice = null;\r\n        }\r\n\r\n        @Override\r\n        public void onError(@NonNull CameraDevice camera, int error) {\r\n            camera.close();\r\n            cameraDevice = null;\r\n        }\r\n    };\r\n\r\n    private void startPreview() {\r\n        if (cameraDevice == null) {\r\n            Log.e(&quot;tag&quot;, &quot;Camera device is null. Not starting preview.&quot;);\r\n            return;\r\n        }\r\n        SurfaceTexture surfaceTexture = textureView.getSurfaceTexture();\r\n        surfaceTexture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\r\n        Surface previewSurface = new Surface(surfaceTexture);\r\n\r\n        try {\r\n            final CaptureRequest.Builder captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilder.addTarget(previewSurface);\r\n\r\n            cameraDevice.createCaptureSession(Arrays.asList(previewSurface), new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(@NonNull CameraCaptureSession session) {\r\n                    try {\r\n                        previewCaptureSession =session;\r\n                        CaptureRequest captureRequest = captureRequestBuilder.build();\r\n                        session.setRepeatingRequest(captureRequest, null, backgroundHandler);\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onConfigureFailed(@NonNull CameraCaptureSession session) {\r\n                }\r\n            }, backgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void closeCamera() {\r\n        if (cameraDevice != null) {\r\n            cameraDevice.close();\r\n            cameraDevice = null;\r\n        }\r\n    }\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n        super.onWindowFocusChanged(hasFocus);\r\n        if (hasFocus) {\r\n            hideSystemUI();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        closeCamera();\r\n        stopBackgroundThread();\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        startBackgroundThread();\r\n        if (textureView.isAvailable()) {\r\n            setupCamera();\r\n            openCamera();\r\n        } else {\r\n            textureView.setSurfaceTextureListener(surfaceTextureListener);\r\n        }\r\n    }\r\n\r\n    private void startBackgroundThread() {\r\n        if (!isBackgroundThreadRunning) {\r\n            backgroundThread = new HandlerThread(&quot;Camera Background&quot;);\r\n            backgroundThread.start();\r\n            backgroundHandler = new Handler(backgroundThread.getLooper());\r\n            isBackgroundThreadRunning = true;\r\n        }\r\n    }\r\n\r\n    private void stopBackgroundThread() {\r\n        if (isBackgroundThreadRunning) {\r\n            backgroundThread.quitSafely();\r\n            try {\r\n                backgroundThread.join();\r\n                backgroundThread = null;\r\n                backgroundHandler = null;\r\n                isBackgroundThreadRunning = false;\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void takePicture() {\r\n        if (cameraDevice == null) {\r\n            cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n            try {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n                    cameraManager.openCamera(cameraId, cameraDeviceStateCallback, backgroundHandler);\r\n                } else {\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n                }\r\n            } catch (CameraAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            // previewCaptureSession을 사용하여 이미 열려있는 카메라 디바이스를 사용\r\n            if (previewCaptureSession != null) {\r\n                cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n                CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n                Size[] jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\r\n\r\n                int width = textureView.getWidth();\r\n                int height = textureView.getHeight();\r\n\r\n                ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\r\n                reader.setOnImageAvailableListener(imageAvailableListener, backgroundHandler);\r\n\r\n                CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n                captureBuilder.addTarget(reader.getSurface());\r\n                captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n                // 세피아 필터 적용\r\n                captureBuilder.set(CaptureRequest.CONTROL_EFFECT_MODE, CameraMetadata.CONTROL_EFFECT_MODE_SEPIA);\r\n\r\n                if (Arrays.asList(characteristics.get(CameraCharacteristics.LENS_INFO_AVAILABLE_OPTICAL_STABILIZATION)).contains(CameraMetadata.LENS_OPTICAL_STABILIZATION_MODE_ON)) {\r\n                    captureBuilder.set(CaptureRequest.LENS_OPTICAL_STABILIZATION_MODE, CameraMetadata.LENS_OPTICAL_STABILIZATION_MODE_ON);\r\n                }\r\n                if (Arrays.asList(characteristics.get(CameraCharacteristics.CONTROL_AVAILABLE_VIDEO_STABILIZATION_MODES)).contains(CameraMetadata.CONTROL_VIDEO_STABILIZATION_MODE_ON)) {\r\n                    captureBuilder.set(CaptureRequest.CONTROL_VIDEO_STABILIZATION_MODE, CameraMetadata.CONTROL_VIDEO_STABILIZATION_MODE_ON);\r\n                }\r\n\r\n                CameraCaptureSession.CaptureCallback captureCallback = new CameraCaptureSession.CaptureCallback() {\r\n                    @Override\r\n                    public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n                        super.onCaptureCompleted(session, request, result);\r\n                    }\r\n                };\r\n\r\n                cameraDevice.createCaptureSession(Arrays.asList(reader.getSurface()), new CameraCaptureSession.StateCallback() {\r\n                    @Override\r\n                    public void onConfigured(@NonNull CameraCaptureSession session) {\r\n                        try {\r\n                            session.capture(captureBuilder.build(), captureCallback, backgroundHandler);\r\n                        } catch (CameraAccessException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onConfigureFailed(@NonNull CameraCaptureSession session) {\r\n                    }\r\n                }, backgroundHandler);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private final ImageReader.OnImageAvailableListener imageAvailableListener = new ImageReader.OnImageAvailableListener() {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            Image image = null;\r\n            try {\r\n                image = reader.acquireLatestImage();\r\n                ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n                byte[] bytes = new byte[buffer.capacity()];\r\n                buffer.get(bytes);\r\n                saveImage(bytes);\r\n                image.close();\r\n                startPrintActivity();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (image != null) {\r\n                    image.close();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    private void saveImage(byte[] bytes) throws IOException {\r\n        File file = createImageFile();\r\n\r\n        try (FileOutputStream outputStream = new FileOutputStream(file)) {\r\n            outputStream.write(bytes);\r\n            currentPhotoPath = file.getAbsolutePath();\r\n        }\r\n    }\r\n    private void startPrintActivity() {\r\n        Intent intent = new Intent(MainActivity.this, PrintActivity.class);\r\n        intent.putExtra(&quot;image_path&quot;, currentPhotoPath);\r\n        startActivity(intent);\r\n    }\r\n    private File createImageFile() throws IOException {\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), &quot;Camera&quot;);\r\n        if (!storageDir.exists()) {\r\n            storageDir.mkdirs();\r\n        }\r\n        File image = new File(storageDir, imageFileName + &quot;.jpg&quot;);\r\n        return image;\r\n    }\r\n    private void hideSystemUI() {\r\n        getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\r\n    }\r\n}\r\n```\r\n\r\nThis is the complete code from my MainActivity.java, and I&#39;m encountering a &#39;CameraAccessException&#39; with the following details:\r\n\r\n\r\n\r\n```\r\nSession 0: Exception while stopping repeating: \r\n                                                                                         android.hardware.camera2.CameraAccessException: CAMERA_DISCONNECTED (2): cancelRequest:518: Camera device no longer alive\r\n                                                                                         \tat android.hardware.camera2.CameraManager.throwAsPublicException(CameraManager.java:1149)\r\n                                                                                         \tat android.hardware.camera2.impl.ICameraDeviceUserWrapper.cancelRequest(ICameraDeviceUserWrapper.java:97)\r\n                                                                                         \tat android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1151)\r\n                                                                                         \tat android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)\r\n                                                                                         \tat android.hardware.camera2.impl.CameraCaptureSessionImpl$2.onDisconnected(CameraCaptureSessionImpl.java:737)\r\n                                                                                         \tat android.hardware.camera2.impl.CameraDeviceImpl$7.run(CameraDeviceImpl.java:244)\r\n                                                                                         \tat android.os.Handler.handleCallback(Handler.java:883)\r\n                                                                                         \tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n                                                                                         \tat android.os.Looper.loop(Looper.java:237)\r\n                                                                                         \tat android.os.HandlerThread.run(HandlerThread.java:67)\r\n                                                                                         Caused by: android.os.ServiceSpecificException: cancelRequest:518: Camera device no longer alive (code 4)\r\n                                                                                         \tat android.os.Parcel.createException(Parcel.java:2102)\r\n                                                                                         \tat android.os.Parcel.readException(Parcel.java:2056)\r\n                                                                                         \tat android.os.Parcel.readException(Parcel.java:2004)\r\n                                                                                         \tat android.hardware.camera2.ICameraDeviceUser$Stub$Proxy.cancelRequest(ICameraDeviceUser.java:676)\r\n                                                                                         \tat android.hardware.camera2.impl.ICameraDeviceUserWrapper.cancelRequest(ICameraDeviceUserWrapper.java:95)\r\n                                                                                         \tat android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1151)&#160;\r\n                                                                                         \tat android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)&#160;\r\n                                                                                         \tat android.hardware.camera2.impl.CameraCaptureSessionImpl$2.onDisconnected(CameraCaptureSessionImpl.java:737)&#160;\r\n                                                                                         \tat android.hardware.camera2.impl.CameraDeviceImpl$7.run(CameraDeviceImpl.java:244)&#160;\r\n                                                                                         \tat android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n                                                                                         \tat android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n                                                                                         \tat android.os.Looper.loop(Looper.java:237)&#160;\r\n                                                                                         \tat android.os.HandlerThread.run(HandlerThread.java:67)&#160;\r\n```\r\n\r\n\r\n\r\nI&#39;m unsure where exactly this error is originating from and how to solve it. Any assistance would be appreciated.\r\n\r\n&#39;m not sure where the problem is occurring and I don&#39;t know how to go about resolving it","title":"android.hardware.camera2.CameraAccessException: CAMERA_DISCONNECTED (2) ERROR","body":"<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int REQUEST_CAMERA_PERMISSION = 100;\n\n    private TextureView textureView;\n    private Button captureButton;\n    private CameraDevice cameraDevice;\n    private String cameraId;\n    private Handler backgroundHandler;\n    private HandlerThread backgroundThread;\n    private Size previewSize;\n    private ImageReader imageReader;\n    private String currentPhotoPath;\n    private static final int PERMISSION_REQUEST_CODE = 100;\n    private static final String[] PERMISSIONS = {\n            Manifest.permission.BLUETOOTH,\n            Manifest.permission.BLUETOOTH_ADMIN,\n            Manifest.permission.BLUETOOTH_CONNECT,\n            Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.CAMERA,\n            Manifest.permission.ACCESS_COARSE_LOCATION,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE\n    };\n    private CameraManager cameraManager;\n    private ImageView backgroundImageView;\n    private Button toggleButton;\n    private SharedPreferences sharedPreferences;\n    private Handler handler;\n    private boolean isBackgroundThreadRunning = false;\n    private ValueAnimator animator;\n    private CameraCaptureSession session;\n    private CameraCaptureSession previewCaptureSession;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // 상단바와 네비게이션바 숨기기\n        getWindow().getDecorView().setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_main);\n        backgroundImageView = findViewById(R.id.background_image);\n\n        // 저장된 테마 인덱스 가져오기\n        sharedPreferences = getSharedPreferences(&quot;MyPrefsFile&quot;, MODE_PRIVATE);\n        int themeIndex = sharedPreferences.getInt(&quot;currentThemeIndex&quot;, 1);\n\n        // 테마에 맞는 배경화면 설정\n        String imageName = &quot;b&quot; + themeIndex;\n        int drawableId = getResources().getIdentifier(imageName, &quot;drawable&quot;, getPackageName());\n        if (drawableId != 0) {\n            Drawable backgroundDrawable = ContextCompat.getDrawable(this, drawableId);\n            backgroundImageView.setImageDrawable(backgroundDrawable);\n        }\n\n        toggleButton = findViewById(R.id.button_toggle);\n\n        toggleButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                toggleTheme();\n            }\n        });\n\n        // BluetoothPrinter 클래스 생성자 호출 시 권한 요청\n        //mPrinter = new BluetoothPrinter(this);\n        textureView = findViewById(R.id.texture_view);\n        captureButton = findViewById(R.id.capture_button);\n\n        textureView.setSurfaceTextureListener(surfaceTextureListener);\n        captureButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                playButtonSound();\n                setTimer(5);\n\n            }\n        });\n        if (checkPermissions()) {\n            // 권한이 모두 허용되었을 경우 실행할 코드 작성\n        }\n        else\n        {\n\n        }\n    }\n\n    private void toggleTheme() {\n        int themeIndex = sharedPreferences.getInt(&quot;currentThemeIndex&quot;, 1);\n        themeIndex = (themeIndex % 7) + 1;\n\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putInt(&quot;currentThemeIndex&quot;, themeIndex);\n        editor.apply();\n        setThemeBackground(themeIndex);\n    }\n    private void setThemeBackground(int theme) {\n        int themeIndex = theme;\n        // 테마에 맞는 배경화면 설정\n        String imageName = &quot;b&quot; + themeIndex;\n        int drawableId = getResources().getIdentifier(imageName, &quot;drawable&quot;, getPackageName());\n        if (drawableId != 0) {\n            ImageView backgroundImageView = findViewById(R.id.background_image);\n            backgroundImageView.setImageResource(drawableId);\n        }\n    }\n    private void setTimer(final int seconds) {\n        final TextView textView = findViewById(R.id.textView); // 타이머를 출력할 TextView\n        final View flashView = findViewById(R.id.flash_view); // 플래시 뷰\n        final GradientDrawable gradientDrawable = (GradientDrawable) flashView.getBackground(); // 배경 drawable 가져오기\n\n        final Animation shake = AnimationUtils.loadAnimation(this, R.anim.shake);\n        if (handler != null) {\n            handler.removeCallbacksAndMessages(null);\n        }\n        if (animator != null) {\n            animator.cancel();\n        }\n        handler = new Handler();\n        final int delay = 1000; // milliseconds\n        captureButton.setEnabled(false);\n        handler.postDelayed(new Runnable() {\n            int countdown = seconds;\n\n            @Override\n            public void run() {\n                if (countdown &gt; 0) {\n                    textView.setVisibility(View.VISIBLE);\n                    textView.setText(String.valueOf(countdown)); // 남은 시간을 초 단위로 TextView에 출력\n                    textView.startAnimation(shake);\n                    countdown--;\n                    handler.postDelayed(this, delay);\n                } else {\n                    captureButton.setEnabled(true);\n                    textView.setText(&quot;&quot;); // 타이머 종료 시 0을 출력\n                    textView.setVisibility(View.INVISIBLE);\n                    // 찰칵 소리 재생\n                    playShutterSound();\n\n                    // 플래시 뷰 애니메이션 적용\n                    animator = ValueAnimator.ofFloat(0.9f, 0.1f, 0.9f); // gradientRadius 값을 변경하는 애니메이션\n                    animator.setDuration(20);\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                        @Override\n                        public void onAnimationUpdate(ValueAnimator animation) {\n                            float value = (float) animation.getAnimatedValue();\n                            // UI 스레드에서 변경\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    gradientDrawable.setGradientRadius(value); // radientRadius 값 변경\n                                    flashView.setBackground(gradientDrawable); // 배경 drawable 적용\n                                }\n                            });\n                        }\n                    });\n                    animator.addListener(new AnimatorListenerAdapter() {\n                        @Override\n                        public void onAnimationStart(Animator animation) {\n                            // UI 스레드에서 변경\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    // 애니메이션 시작시 플래시 뷰 표시\n                                    flashView.setVisibility(View.VISIBLE);\n                                }\n                            });\n                        }\n\n                        @Override\n                        public void onAnimationEnd(Animator animation) {\n                            // UI 스레드에서 변경\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    // 애니메이션 종료시 플래시 뷰 숨김\n                                    flashView.setVisibility(View.GONE);\n                                    takePicture();\n                                }\n                            });\n                            // 사진 촬영\n\n                        }\n                    });\n                    animator.start(); // 애니메이션 시작\n                }\n            }\n        }, delay);\n    }\n\n    private void playShutterSound() {\n        MediaPlayer mp = MediaPlayer.create(this, R.raw.shutter_sound);\n        mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                mp.release();\n            }\n        });\n        mp.start();\n    }\n    private boolean checkPermissions() {\n        boolean allGranted = true;\n\n        for (String permission : PERMISSIONS) {\n            if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n                allGranted = false;\n                break;\n            }\n        }\n\n        // WRITE_EXTERNAL_STORAGE 권한 확인\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            allGranted = false;\n        }\n\n        if (!allGranted) {\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_REQUEST_CODE);\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // 권한이 허용된 경우 실행할 코드 작성\n            } else {\n                // 권한이 거부된 경우 처리할 코드 작성\n                finish();\n            }\n        }\n    }\n    private final TextureView.SurfaceTextureListener surfaceTextureListener = new TextureView.SurfaceTextureListener() {\n        @Override\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n\n            setupCamera();\n            openCamera();\n            textureView.setRotation(-90.0f); // 텍스쳐뷰를 90도 회전\n        }\n\n        @Override\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\n        }\n\n        @Override\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n            return false;\n        }\n\n        @Override\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) {\n        }\n    };\n    private void playButtonSound() {\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.button_sound2);\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n                mediaPlayer.release();\n            }\n        });\n        mediaPlayer.start();\n    }\n    private void setupCamera() {\n        cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n        try {\n            for (String id : cameraManager.getCameraIdList()) {\n                CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(id);\n                if (characteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) {\n                    StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n                    previewSize = map.getOutputSizes(SurfaceTexture.class)[0];\n                    cameraId = id;\n                    break;\n                }\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n\n    private void openCamera() {\n        cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n        try {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n                cameraManager.openCamera(cameraId, cameraDeviceStateCallback, backgroundHandler);\n            } else {\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private final CameraDevice.StateCallback cameraDeviceStateCallback = new CameraDevice.StateCallback() {\n        @Override\n        public void onOpened(@NonNull CameraDevice camera) {\n            cameraDevice = camera;\n            startPreview();\n        }\n\n        @Override\n        public void onDisconnected(@NonNull CameraDevice camera) {\n            camera.close();\n            cameraDevice = null;\n        }\n\n        @Override\n        public void onError(@NonNull CameraDevice camera, int error) {\n            camera.close();\n            cameraDevice = null;\n        }\n    };\n\n    private void startPreview() {\n        if (cameraDevice == null) {\n            Log.e(&quot;tag&quot;, &quot;Camera device is null. Not starting preview.&quot;);\n            return;\n        }\n        SurfaceTexture surfaceTexture = textureView.getSurfaceTexture();\n        surfaceTexture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\n        Surface previewSurface = new Surface(surfaceTexture);\n\n        try {\n            final CaptureRequest.Builder captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            captureRequestBuilder.addTarget(previewSurface);\n\n            cameraDevice.createCaptureSession(Arrays.asList(previewSurface), new CameraCaptureSession.StateCallback() {\n                @Override\n                public void onConfigured(@NonNull CameraCaptureSession session) {\n                    try {\n                        previewCaptureSession =session;\n                        CaptureRequest captureRequest = captureRequestBuilder.build();\n                        session.setRepeatingRequest(captureRequest, null, backgroundHandler);\n                    } catch (CameraAccessException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n                }\n            }, backgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void closeCamera() {\n        if (cameraDevice != null) {\n            cameraDevice.close();\n            cameraDevice = null;\n        }\n    }\n    @Override\n    public void onWindowFocusChanged(boolean hasFocus) {\n        super.onWindowFocusChanged(hasFocus);\n        if (hasFocus) {\n            hideSystemUI();\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        closeCamera();\n        stopBackgroundThread();\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        startBackgroundThread();\n        if (textureView.isAvailable()) {\n            setupCamera();\n            openCamera();\n        } else {\n            textureView.setSurfaceTextureListener(surfaceTextureListener);\n        }\n    }\n\n    private void startBackgroundThread() {\n        if (!isBackgroundThreadRunning) {\n            backgroundThread = new HandlerThread(&quot;Camera Background&quot;);\n            backgroundThread.start();\n            backgroundHandler = new Handler(backgroundThread.getLooper());\n            isBackgroundThreadRunning = true;\n        }\n    }\n\n    private void stopBackgroundThread() {\n        if (isBackgroundThreadRunning) {\n            backgroundThread.quitSafely();\n            try {\n                backgroundThread.join();\n                backgroundThread = null;\n                backgroundHandler = null;\n                isBackgroundThreadRunning = false;\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void takePicture() {\n        if (cameraDevice == null) {\n            cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n            try {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n                    cameraManager.openCamera(cameraId, cameraDeviceStateCallback, backgroundHandler);\n                } else {\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n                }\n            } catch (CameraAccessException e) {\n                e.printStackTrace();\n            }\n        }\n        try {\n            // previewCaptureSession을 사용하여 이미 열려있는 카메라 디바이스를 사용\n            if (previewCaptureSession != null) {\n                cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n                CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\n                Size[] jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\n\n                int width = textureView.getWidth();\n                int height = textureView.getHeight();\n\n                ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\n                reader.setOnImageAvailableListener(imageAvailableListener, backgroundHandler);\n\n                CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n                captureBuilder.addTarget(reader.getSurface());\n                captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n                // 세피아 필터 적용\n                captureBuilder.set(CaptureRequest.CONTROL_EFFECT_MODE, CameraMetadata.CONTROL_EFFECT_MODE_SEPIA);\n\n                if (Arrays.asList(characteristics.get(CameraCharacteristics.LENS_INFO_AVAILABLE_OPTICAL_STABILIZATION)).contains(CameraMetadata.LENS_OPTICAL_STABILIZATION_MODE_ON)) {\n                    captureBuilder.set(CaptureRequest.LENS_OPTICAL_STABILIZATION_MODE, CameraMetadata.LENS_OPTICAL_STABILIZATION_MODE_ON);\n                }\n                if (Arrays.asList(characteristics.get(CameraCharacteristics.CONTROL_AVAILABLE_VIDEO_STABILIZATION_MODES)).contains(CameraMetadata.CONTROL_VIDEO_STABILIZATION_MODE_ON)) {\n                    captureBuilder.set(CaptureRequest.CONTROL_VIDEO_STABILIZATION_MODE, CameraMetadata.CONTROL_VIDEO_STABILIZATION_MODE_ON);\n                }\n\n                CameraCaptureSession.CaptureCallback captureCallback = new CameraCaptureSession.CaptureCallback() {\n                    @Override\n                    public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n                        super.onCaptureCompleted(session, request, result);\n                    }\n                };\n\n                cameraDevice.createCaptureSession(Arrays.asList(reader.getSurface()), new CameraCaptureSession.StateCallback() {\n                    @Override\n                    public void onConfigured(@NonNull CameraCaptureSession session) {\n                        try {\n                            session.capture(captureBuilder.build(), captureCallback, backgroundHandler);\n                        } catch (CameraAccessException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n                    }\n                }, backgroundHandler);\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private final ImageReader.OnImageAvailableListener imageAvailableListener = new ImageReader.OnImageAvailableListener() {\n        @Override\n        public void onImageAvailable(ImageReader reader) {\n            Image image = null;\n            try {\n                image = reader.acquireLatestImage();\n                ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n                byte[] bytes = new byte[buffer.capacity()];\n                buffer.get(bytes);\n                saveImage(bytes);\n                image.close();\n                startPrintActivity();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                if (image != null) {\n                    image.close();\n                }\n            }\n        }\n    };\n\n    private void saveImage(byte[] bytes) throws IOException {\n        File file = createImageFile();\n\n        try (FileOutputStream outputStream = new FileOutputStream(file)) {\n            outputStream.write(bytes);\n            currentPhotoPath = file.getAbsolutePath();\n        }\n    }\n    private void startPrintActivity() {\n        Intent intent = new Intent(MainActivity.this, PrintActivity.class);\n        intent.putExtra(&quot;image_path&quot;, currentPhotoPath);\n        startActivity(intent);\n    }\n    private File createImageFile() throws IOException {\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), &quot;Camera&quot;);\n        if (!storageDir.exists()) {\n            storageDir.mkdirs();\n        }\n        File image = new File(storageDir, imageFileName + &quot;.jpg&quot;);\n        return image;\n    }\n    private void hideSystemUI() {\n        getWindow().getDecorView().setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\n    }\n}\n</code></pre>\n<p>This is the complete code from my MainActivity.java, and I'm encountering a 'CameraAccessException' with the following details:</p>\n<pre><code>Session 0: Exception while stopping repeating: \n                                                                                         android.hardware.camera2.CameraAccessException: CAMERA_DISCONNECTED (2): cancelRequest:518: Camera device no longer alive\n                                                                                            at android.hardware.camera2.CameraManager.throwAsPublicException(CameraManager.java:1149)\n                                                                                            at android.hardware.camera2.impl.ICameraDeviceUserWrapper.cancelRequest(ICameraDeviceUserWrapper.java:97)\n                                                                                            at android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1151)\n                                                                                            at android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)\n                                                                                            at android.hardware.camera2.impl.CameraCaptureSessionImpl$2.onDisconnected(CameraCaptureSessionImpl.java:737)\n                                                                                            at android.hardware.camera2.impl.CameraDeviceImpl$7.run(CameraDeviceImpl.java:244)\n                                                                                            at android.os.Handler.handleCallback(Handler.java:883)\n                                                                                            at android.os.Handler.dispatchMessage(Handler.java:100)\n                                                                                            at android.os.Looper.loop(Looper.java:237)\n                                                                                            at android.os.HandlerThread.run(HandlerThread.java:67)\n                                                                                         Caused by: android.os.ServiceSpecificException: cancelRequest:518: Camera device no longer alive (code 4)\n                                                                                            at android.os.Parcel.createException(Parcel.java:2102)\n                                                                                            at android.os.Parcel.readException(Parcel.java:2056)\n                                                                                            at android.os.Parcel.readException(Parcel.java:2004)\n                                                                                            at android.hardware.camera2.ICameraDeviceUser$Stub$Proxy.cancelRequest(ICameraDeviceUser.java:676)\n                                                                                            at android.hardware.camera2.impl.ICameraDeviceUserWrapper.cancelRequest(ICameraDeviceUserWrapper.java:95)\n                                                                                            at android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1151) \n                                                                                            at android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526) \n                                                                                            at android.hardware.camera2.impl.CameraCaptureSessionImpl$2.onDisconnected(CameraCaptureSessionImpl.java:737) \n                                                                                            at android.hardware.camera2.impl.CameraDeviceImpl$7.run(CameraDeviceImpl.java:244) \n                                                                                            at android.os.Handler.handleCallback(Handler.java:883) \n                                                                                            at android.os.Handler.dispatchMessage(Handler.java:100) \n                                                                                            at android.os.Looper.loop(Looper.java:237) \n                                                                                            at android.os.HandlerThread.run(HandlerThread.java:67) \n</code></pre>\n<p>I'm unsure where exactly this error is originating from and how to solve it. Any assistance would be appreciated.</p>\n<p>'m not sure where the problem is occurring and I don't know how to go about resolving it</p>\n"},{"tags":["java","generics","input","arraylist","subtyping"],"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1689872792,"post_id":76732170,"comment_id":135278313,"body_markdown":"You mention ArrayList&lt;ArrayList&gt; twice as if they where to different things. Could this be a mistake?","body":"You mention ArrayList&lt;ArrayList&gt; twice as if they where to different things. Could this be a mistake?"},{"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"score":0,"creation_date":1689873249,"post_id":76732170,"comment_id":135278401,"body_markdown":"Why not use: ArrayList&lt;? extends ArrayList&lt;? extends Number&gt;&gt;","body":"Why not use: ArrayList&lt;? extends ArrayList&lt;? extends Number&gt;&gt;"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689874078,"post_id":76732170,"comment_id":135278539,"body_markdown":"You should write the method to accept `List&lt;? extends List&lt;? extends Number&gt;&gt;`, rather than `ArrayList`; because there&#39;s _almost never_ a good reason to restrict it to just ArrayList over any other kind of List.","body":"You should write the method to accept <code>List&lt;? extends List&lt;? extends Number&gt;&gt;</code>, rather than <code>ArrayList</code>; because there&#39;s <i>almost never</i> a good reason to restrict it to just ArrayList over any other kind of List."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689874147,"post_id":76732170,"comment_id":135278549,"body_markdown":"I don&#39;t really understand the thing about the custom-formatted `toString` method - are you wanting to do a specific thing for `Integer` and a specific thing for `Double`, or are you just invoking `toString()` on the elements? (If you&#39;re just invoking `toString()`, there&#39;s no need to restrict to `Integer` and `Double`)","body":"I don&#39;t really understand the thing about the custom-formatted <code>toString</code> method - are you wanting to do a specific thing for <code>Integer</code> and a specific thing for <code>Double</code>, or are you just invoking <code>toString()</code> on the elements? (If you&#39;re just invoking <code>toString()</code>, there&#39;s no need to restrict to <code>Integer</code> and <code>Double</code>)"},{"owner":{"account_id":13116800,"reputation":5,"user_id":10666181,"display_name":"Lapid Palid"},"score":0,"creation_date":1689884412,"post_id":76732170,"comment_id":135280483,"body_markdown":"@AndyTurner Yes, need a custom formatted toString method, as in different output than the default toString. But no, it does the same thing for both Double and Integer, namely printing them in the chosen format.","body":"@AndyTurner Yes, need a custom formatted toString method, as in different output than the default toString. But no, it does the same thing for both Double and Integer, namely printing them in the chosen format."},{"owner":{"account_id":13116800,"reputation":5,"user_id":10666181,"display_name":"Lapid Palid"},"score":0,"creation_date":1689884803,"post_id":76732170,"comment_id":135280561,"body_markdown":"As far as wildcarding the List/ArrayList, tried both, but it has the same issue with adding I mentioned: &quot;The method add(capture#11-of ? extends Number) in the type ArrayList&lt;capture#11-of ? extends Number&gt; is not applicable for the arguments (capture#13-of ? extends Number)&quot;","body":"As far as wildcarding the List/ArrayList, tried both, but it has the same issue with adding I mentioned: &quot;The method add(capture#11-of ? extends Number) in the type ArrayList&lt;capture#11-of ? extends Number&gt; is not applicable for the arguments (capture#13-of ? extends Number)&quot;"}],"answers":[{"comments":[{"owner":{"account_id":13116800,"reputation":5,"user_id":10666181,"display_name":"Lapid Palid"},"score":0,"creation_date":1689953387,"post_id":76734543,"comment_id":135290352,"body_markdown":"Holy crap you&#39;re a mensch!! Thank you!!! Messed around w wildcards and generics, but just didn&#39;t get the right combo and didn&#39;t know how. This is such a huge help, I have several methods that can benefit from this, Thank You!!","body":"Holy crap you&#39;re a mensch!! Thank you!!! Messed around w wildcards and generics, but just didn&#39;t get the right combo and didn&#39;t know how. This is such a huge help, I have several methods that can benefit from this, Thank You!!"}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689902483,"creation_date":1689902064,"answer_id":76734543,"question_id":76732170,"body_markdown":"You can solve this by making the method generic, with a type parameter `N extends Numeric`. Here is a complete example:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class NumberFormatter {\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;Integer&gt;&gt; intMatrix = List.of(\r\n                List.of(1, 2),\r\n                List.of(3, 4)\r\n        );\r\n        /*\r\n         * 1 3\r\n         * 2 4\r\n         */\r\n        List&lt;List&lt;Double&gt;&gt; doubleMatrix = List.of(\r\n                List.of(5.6, 7.8),\r\n                List.of(9.0, 1.2)\r\n        );\r\n        /*\r\n         * 5.6 9.0\r\n         * 7.8 1.2\r\n         */\r\n        System.out.println(matrixToString(intMatrix));\r\n        System.out.println(matrixToString(doubleMatrix));\r\n    }\r\n\r\n    static &lt;N&gt; String matrixToString(List&lt;? extends List&lt;N&gt;&gt; matrix) {\r\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n        for (int j = 0; j &lt; matrix.get(0).size(); j++) {\r\n            List&lt;N&gt; n = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; matrix.size(); i++) {\r\n                n.add(matrix.get(i).get(j));\r\n            }\r\n            s.add(myArrayListToString(n, ParseType.EMPTY_EMPTY_SPACE));\r\n        }\r\n        return myArrayListToString(s, ParseType.EMPTY_EMPTY_NEWLINE);\r\n    }\r\n\r\n    private static String myArrayListToString(List&lt;?&gt; nums, ParseType parseType) {\r\n        return nums.stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining(parseType.delimiter));\r\n    }\r\n\r\n    private enum ParseType {\r\n        EMPTY_EMPTY_NEWLINE(&quot;\\n&quot;), EMPTY_EMPTY_SPACE(&quot; &quot;);\r\n\r\n        private final String delimiter;\r\n\r\n        private ParseType(String delimiter) {\r\n            this.delimiter = delimiter;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that the behaviour of transposing the matrix in the output was in the original code provided, so I assumed that this is intentional and preserved this behaviour.\r\n\r\nAlso, there&#39;s nothing in this implementation of `matrixToString` that actually requires the data in the matrix to be numeric, as the only method called on each cell is `Object.toString()`. If you wish to allow any type of data in the matrix, simply remove `extends Number` from the type parameter, and the method will have the same behaviour for numeric types while also allowing other types.","title":"Writing a custom-formatted toString method for a matrix. Need it to accept either Integer or Double","body":"<p>You can solve this by making the method generic, with a type parameter <code>N extends Numeric</code>. Here is a complete example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class NumberFormatter {\n    public static void main(String[] args) {\n        List&lt;List&lt;Integer&gt;&gt; intMatrix = List.of(\n                List.of(1, 2),\n                List.of(3, 4)\n        );\n        /*\n         * 1 3\n         * 2 4\n         */\n        List&lt;List&lt;Double&gt;&gt; doubleMatrix = List.of(\n                List.of(5.6, 7.8),\n                List.of(9.0, 1.2)\n        );\n        /*\n         * 5.6 9.0\n         * 7.8 1.2\n         */\n        System.out.println(matrixToString(intMatrix));\n        System.out.println(matrixToString(doubleMatrix));\n    }\n\n    static &lt;N&gt; String matrixToString(List&lt;? extends List&lt;N&gt;&gt; matrix) {\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\n        for (int j = 0; j &lt; matrix.get(0).size(); j++) {\n            List&lt;N&gt; n = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; matrix.size(); i++) {\n                n.add(matrix.get(i).get(j));\n            }\n            s.add(myArrayListToString(n, ParseType.EMPTY_EMPTY_SPACE));\n        }\n        return myArrayListToString(s, ParseType.EMPTY_EMPTY_NEWLINE);\n    }\n\n    private static String myArrayListToString(List&lt;?&gt; nums, ParseType parseType) {\n        return nums.stream()\n                .map(Object::toString)\n                .collect(Collectors.joining(parseType.delimiter));\n    }\n\n    private enum ParseType {\n        EMPTY_EMPTY_NEWLINE(&quot;\\n&quot;), EMPTY_EMPTY_SPACE(&quot; &quot;);\n\n        private final String delimiter;\n\n        private ParseType(String delimiter) {\n            this.delimiter = delimiter;\n        }\n    }\n}\n</code></pre>\n<p>Note that the behaviour of transposing the matrix in the output was in the original code provided, so I assumed that this is intentional and preserved this behaviour.</p>\n<p>Also, there's nothing in this implementation of <code>matrixToString</code> that actually requires the data in the matrix to be numeric, as the only method called on each cell is <code>Object.toString()</code>. If you wish to allow any type of data in the matrix, simply remove <code>extends Number</code> from the type parameter, and the method will have the same behaviour for numeric types while also allowing other types.</p>\n"}],"owner":{"account_id":13116800,"reputation":5,"user_id":10666181,"display_name":"Lapid Palid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76734543,"answer_count":1,"score":0,"last_activity_date":1689902483,"creation_date":1689872676,"question_id":76732170,"body_markdown":"For now input is restricted to the form of `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;` or `ArrayList&lt;ArrayList&lt;Double&gt;&gt;`. I understand that `ArrayList&lt;Integer&gt;` is not a subclass of `ArrayList&lt;Number&gt;`, and when I try to use `ArrayList&lt;?&gt;` or `ArrayList&lt;? extends Number&gt;` the other known errors occur with adding (namely that they&#39;re not superclasses either AND the runtime-adding issue). Yes, I could just make two copies of the method, one for `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;` and one for `ArrayList&lt;ArrayList&lt;Double&gt;&gt;`, but that&#39;s ugly for other reasons. Similarly, converting to arrays or making my own custom matrix class.\r\n\r\nI&#39;ve seen lots of posts on this problem, but no solutions anywhere except to rewrite large sections of code. Is there any simple answer in Java for how to write a method that can accept both of those as input?\r\n\r\nI&#39;ve tried everything I can think of. That&#39;s why I&#39;m here. I can&#39;t even create a helper method to break out the inner ArrayLists, since that method would itself have to accept one of the aforementioned inputs.\r\n\r\nThe current code, if it helps:\r\n\r\n    static String integerMatrixToString(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix) {\r\n\t\tArrayList&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n\t\tfor (int j = 0; j &lt; matrix.get(0).size(); j++) {\t\r\n\t\t\tArrayList&lt;Integer&gt; n = new ArrayList&lt;&gt;();\r\n\t\t\tfor (int i = 0; i &lt; matrix.size(); i++) {\r\n\t\t\t\tn.add(matrix.get(i).get(j));\r\n\t\t\t}\r\n\t\t\ts.add(myArrayListToString(n, ParseType.EMPTY_EMPTY_SPACE));\r\n\t\t}\r\n\t\treturn myArrayListToString(s, ParseType.EMPTY_EMPTY_NEWLINE);\r\n\t}","title":"Writing a custom-formatted toString method for a matrix. Need it to accept either Integer or Double","body":"<p>For now input is restricted to the form of <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code> or <code>ArrayList&lt;ArrayList&lt;Double&gt;&gt;</code>. I understand that <code>ArrayList&lt;Integer&gt;</code> is not a subclass of <code>ArrayList&lt;Number&gt;</code>, and when I try to use <code>ArrayList&lt;?&gt;</code> or <code>ArrayList&lt;? extends Number&gt;</code> the other known errors occur with adding (namely that they're not superclasses either AND the runtime-adding issue). Yes, I could just make two copies of the method, one for <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code> and one for <code>ArrayList&lt;ArrayList&lt;Double&gt;&gt;</code>, but that's ugly for other reasons. Similarly, converting to arrays or making my own custom matrix class.</p>\n<p>I've seen lots of posts on this problem, but no solutions anywhere except to rewrite large sections of code. Is there any simple answer in Java for how to write a method that can accept both of those as input?</p>\n<p>I've tried everything I can think of. That's why I'm here. I can't even create a helper method to break out the inner ArrayLists, since that method would itself have to accept one of the aforementioned inputs.</p>\n<p>The current code, if it helps:</p>\n<pre><code>static String integerMatrixToString(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix) {\n    ArrayList&lt;String&gt; s = new ArrayList&lt;&gt;();\n    for (int j = 0; j &lt; matrix.get(0).size(); j++) {    \n        ArrayList&lt;Integer&gt; n = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; matrix.size(); i++) {\n            n.add(matrix.get(i).get(j));\n        }\n        s.add(myArrayListToString(n, ParseType.EMPTY_EMPTY_SPACE));\n    }\n    return myArrayListToString(s, ParseType.EMPTY_EMPTY_NEWLINE);\n}\n</code></pre>\n"},{"tags":["java","wso2","jvm","heap-memory","wso2-enterprise-integrator"],"comments":[{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1689709750,"post_id":76714463,"comment_id":135251405,"body_markdown":"You will have to analyze the heap dump and see what&#39;s eating up the memory. Just looking at the integration code we can&#39;t tell what&#39;s happening. What&#39;s the size of the heap dump when the issue happens?","body":"You will have to analyze the heap dump and see what&#39;s eating up the memory. Just looking at the integration code we can&#39;t tell what&#39;s happening. What&#39;s the size of the heap dump when the issue happens?"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1689745035,"post_id":76714463,"comment_id":135254820,"body_markdown":"Hi @ycr\nThanks for your reply. heapdump file consumes 1.2 GB","body":"Hi @ycr Thanks for your reply. heapdump file consumes 1.2 GB"},{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1689765428,"post_id":76714463,"comment_id":135258768,"body_markdown":"That seems too small if you have allocated 32GB of memory. I don&#39;t think you are really facing an OOM issue. I suspect you have not allocated memory to the JVM properly. Also if you have an external monitoring tools check the memory growth of the pod.","body":"That seems too small if you have allocated 32GB of memory. I don&#39;t think you are really facing an OOM issue. I suspect you have not allocated memory to the JVM properly. Also if you have an external monitoring tools check the memory growth of the pod."},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1689852286,"post_id":76714463,"comment_id":135273407,"body_markdown":"Hi @ycr As mentioned in question, intermittently facing OOM or heap space issue in this ETL process, can you have any idea on allocation memory to JVM ?","body":"Hi @ycr As mentioned in question, intermittently facing OOM or heap space issue in this ETL process, can you have any idea on allocation memory to JVM ?"}],"answers":[{"comments":[{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":1,"creation_date":1690905631,"post_id":76734460,"comment_id":135416842,"body_markdown":"Hi @ycr\nI have made changes in integrator.sh file to allocate memory to JVM like JVM_MEM_OPTS=&quot;-Xms1024m -Xmx4096m&quot; and process is working fine now, PS: JVM configuration in Rancher which is defined already  not passed to wso2 startup script, so default configuration exists(JVM_MEM_OPTS=&quot;-Xms256m -Xmx1024m&quot;) earlier, now this JVM params limit are increased","body":"Hi @ycr I have made changes in integrator.sh file to allocate memory to JVM like JVM_MEM_OPTS=&quot;-Xms1024m -Xmx4096m&quot; and process is working fine now, PS: JVM configuration in Rancher which is defined already  not passed to wso2 startup script, so default configuration exists(JVM_MEM_OPTS=&quot;-Xms256m -Xmx1024m&quot;) earlier, now this JVM params limit are increased"}],"tags":[],"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689900118,"creation_date":1689900118,"answer_id":76734460,"question_id":76714463,"body_markdown":"In order to set the JVM memory params, one option is to add the following environment variable to the Pod, `JVM_MEM_OPTS` by setting the Xms and Xmx values. \r\n\r\n```\r\nJVM_MEM_OPTS=&quot;-Xms8192m -Xmx32768m&quot;\r\n```\r\n\r\nThen on the server startup logs, you should see the following logs with the updated memory params.\r\n\r\n```\r\nCARBON_HOME environment variable is set to /home/xxx/xx/xxx/wso2ei-6.5.0\r\nUsing Java memory options: -Xms256m -Xmx1024m\r\n```","title":"WSO2 EI Docker container 6.4.0 - Facing java.lang.OutOfMemoryError: GC overhead limit exceeded in ETL process","body":"<p>In order to set the JVM memory params, one option is to add the following environment variable to the Pod, <code>JVM_MEM_OPTS</code> by setting the Xms and Xmx values.</p>\n<pre><code>JVM_MEM_OPTS=&quot;-Xms8192m -Xmx32768m&quot;\n</code></pre>\n<p>Then on the server startup logs, you should see the following logs with the updated memory params.</p>\n<pre><code>CARBON_HOME environment variable is set to /home/xxx/xx/xxx/wso2ei-6.5.0\nUsing Java memory options: -Xms256m -Xmx1024m\n</code></pre>\n"}],"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76734460,"answer_count":1,"score":1,"last_activity_date":1689900118,"creation_date":1689694641,"question_id":76714463,"body_markdown":"There is ETL process running in WSO2 EI 6.4.0.\r\n\r\nFlow: `Task Scheduler --&gt; Proxy Service --&gt; Sequence`\r\n\r\n - Task scheduler will trigger proxy service based on cron expression(eg. `0 45 0/2 ? * * *` ) \r\n - Proxy service will fetch Data from source by using bigquery connector runQuery Operation and invoke sequence\r\n - Inside Sequence, Iterate mediator placed to iterate each record and framing payload to invoke DSS which will push data to target system.\r\n\r\nBelow is the sample sequence code for reference:\r\n\r\n    &lt;iterate expression=&quot;$body//rows&quot; id=&quot;BigQID&quot; sequential=&quot;true&quot;&gt;\r\n                &lt;target&gt;\r\n                    &lt;sequence&gt;\r\n                        &lt;property name=&quot;FORCE_ERROR_ON_SOAP_FAULT&quot; scope=&quot;default&quot; type=&quot;STRING&quot; value=&quot;true&quot;/&gt;\r\n                        &lt;property expression=&quot;//f[1]/v/text()&quot; name=&quot;name&quot; scope=&quot;default&quot; type=&quot;STRING&quot;/&gt;\r\n                        &lt;property expression=&quot;//f[2]/v/text()&quot; name=&quot;email&quot; scope=&quot;default&quot; type=&quot;STRING&quot;/&gt;\r\n                        &lt;property expression=&quot;//f[3]/v/text()&quot; name=&quot;phone&quot; scope=&quot;default&quot; type=&quot;STRING&quot;/&gt;\r\n                        \r\n                        &lt;!--  Frame payload for DSS Call --&gt;\r\n                        &lt;header name=&quot;Action&quot; scope=&quot;default&quot; value=&quot;urn:wso2_dss_insert_op&quot;/&gt;\r\n                        &lt;payloadFactory media-type=&quot;xml&quot;&gt;\r\n                            &lt;format&gt;\r\n                                &lt;Envelope xmlns=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n                                    &lt;Body&gt;\r\n                                        &lt;wso2_dss_insert_op xmlns=&quot;http://ws.wso2.org/dataservice&quot;&gt;\r\n                                            &lt;name&gt;$1&lt;/name&gt;\r\n                                            &lt;email&gt;$2&lt;/email&gt;\r\n                                            &lt;phone&gt;$3&lt;/phone&gt;\r\n                                        &lt;/wso2_dss_insert_op&gt;\r\n                                    &lt;/Body&gt;\r\n                                &lt;/Envelope&gt;\r\n                            &lt;/format&gt;\r\n                            &lt;args&gt;\r\n                                &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property(&#39;name&#39;)&quot;/&gt;\r\n                                &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property(&#39;email&#39;)&quot;/&gt;\r\n                                &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property(&#39;phone&#39;)&quot;/&gt;\r\n                                \r\n                            &lt;/args&gt;\r\n                        &lt;/payloadFactory&gt;\r\n                        &lt;!--  calling DSS to push data to eMite CDW DB --&gt;\r\n                        &lt;call&gt;\r\n                            &lt;endpoint&gt;\r\n                                &lt;http method=&quot;post&quot; uri-template=&quot;http://localhost:8280/test-etl/services/WSO2_TEST_DSS/wso2_dss_insert_op&quot;&gt;\r\n                                    &lt;timeout&gt;\r\n                                        &lt;duration&gt;60000&lt;/duration&gt;\r\n                                    &lt;/timeout&gt;\r\n                                    &lt;suspendOnFailure&gt;\r\n                                        &lt;errorCodes&gt;-1&lt;/errorCodes&gt;\r\n                                        &lt;initialDuration&gt;0&lt;/initialDuration&gt;\r\n                                        &lt;progressionFactor&gt;1.0&lt;/progressionFactor&gt;\r\n                                        &lt;maximumDuration&gt;0&lt;/maximumDuration&gt;\r\n                                    &lt;/suspendOnFailure&gt;\r\n                                    &lt;markForSuspension&gt;\r\n                                        &lt;retriesBeforeSuspension&gt;0&lt;/retriesBeforeSuspension&gt;\r\n                                    &lt;/markForSuspension&gt;\r\n                                &lt;/http&gt;\r\n                            &lt;/endpoint&gt;\r\n                        &lt;/call&gt;\r\n                    &lt;/sequence&gt;\r\n                &lt;/target&gt;\r\n            &lt;/iterate&gt;\r\n            &lt;property name=&quot;result&quot; scope=&quot;default&quot;&gt;\r\n                &lt;result xmlns=&quot;&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;!--  Aggregate for collecting DSS response in order to identify target updated row count --&gt;\r\n            &lt;aggregate id=&quot;BigQID&quot;&gt;\r\n                &lt;completeCondition&gt;\r\n                    &lt;messageCount max=&quot;-1&quot; min=&quot;-1&quot;/&gt;\r\n                &lt;/completeCondition&gt;\r\n                &lt;onComplete aggregateElementType=&quot;root&quot; enclosingElementProperty=&quot;result&quot; expression=&quot;$body/*[1]&quot;&gt;\r\n                    &lt;log level=&quot;custom&quot;&gt;\r\n                        &lt;property name=&quot;ON Aggregate SEQ&quot; value=&quot;called***&quot;/&gt;\r\n                        &lt;property expression=&quot;fn:count(//*[local-name()=&#39;UpdatedRowCount&#39;])&quot; name=&quot;*********BigQueryETL-wso2_dss-TargetCount:: &quot;/&gt;\r\n                    &lt;/log&gt;\r\n                &lt;/onComplete&gt;\r\n            &lt;/aggregate&gt;\r\n\r\nDSS-Code:\r\n\r\n   \r\n\r\n     &lt;data name=&quot;WSO2_TEST_DSS&quot; transports=&quot;http https local&quot;&gt;\r\n      \r\n       &lt;config id=&quot;TestDataSource&quot;&gt;\r\n            &lt;property name=&quot;carbon_datasource_name&quot;&gt;WSO2_ETL_TEST_DB&lt;/property&gt;\r\n        &lt;/config&gt;\r\n     \r\n       &lt;query id=&quot;emp_insert_Q&quot; returnUpdatedRowCount=&quot;true&quot; useConfig=&quot;TestDataSource&quot;&gt;\r\n          &lt;sql&gt;insert into  empdata.employee (name,email,phone) values(?,?,?)&lt;/sql&gt;\r\n          &lt;result element=&quot;UpdatedRowCount&quot; rowName=&quot;&quot; useColumnNumbers=&quot;true&quot;&gt;\r\n             &lt;element column=&quot;1&quot; name=&quot;Value&quot; xsdType=&quot;integer&quot;/&gt;\r\n          &lt;/result&gt;\r\n          &lt;param name=&quot;name&quot; sqlType=&quot;STRING&quot;/&gt;\r\n          &lt;param name=&quot;email&quot; sqlType=&quot;STRING&quot;/&gt;\r\n          &lt;param name=&quot;phone&quot; sqlType=&quot;STRING&quot;/&gt;\r\n    \t  \r\n       &lt;/query&gt;\r\n       &lt;operation name=&quot;wso2_dss_insert_op&quot;&gt;\r\n          &lt;call-query href=&quot;emp_insert_Q&quot;&gt;\r\n             &lt;with-param name=&quot;name&quot; query-param=&quot;name&quot;/&gt;\r\n             &lt;with-param name=&quot;email&quot; query-param=&quot;email&quot;/&gt;\r\n             &lt;with-param name=&quot;phone&quot; query-param=&quot;phone&quot;/&gt;\r\n          &lt;/call-query&gt;\r\n       &lt;/operation&gt;\r\n       \r\n    &lt;/data&gt;\r\n\r\nWhat I have understood is that when data volume exceeds more than 8000, Getting ERROR like `java.lang.OutOfMemoryError: GC overhead limit exceeded` or `java.lang.OutOfMemoryError: Java heap space`\r\n\r\nERROR Logs:\r\n\r\n        [2023-07-18 13:43:17,828] [-1234] [] [PassThroughMessageProcessor-252] ERROR {org.apache.axis2.transport.base.threads.NativeWorkerPool} -  Uncaught exception\r\n    java.lang.OutOfMemoryError: GC overhead limit exceeded \r\n    at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.readEndElementTag(AbstractXMLStreamReader.java:382)at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.consume(JsonXMLStreamReader.java:211)at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.consume(JsonXMLStreamReader.java:154)at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.consume(JsonXMLStreamReader.java:184)at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.hasNext(AbstractXMLStreamReader.java:445)at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.next(AbstractXMLStreamReader.java:455at org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:681)at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)at org.apache.axiom.om.impl.llom.OMElementImpl.getNextOMSibling(OMElementImpl.java:336)at org.apache.axiom.om.impl.OMNavigator._getFirstChild(OMNavigator.java:199)at org.apache.axiom.om.impl.OMNavigator.updateNextNode(OMNavigator.java:140)at org.apache.axiom.om.impl.OMNavigator.getNext(OMNavigator.java:112)at org.apache.axiom.om.impl.SwitchingWrapper.updateNextNode(SwitchingWrapper.java:1113)at org.apache.axiom.om.impl.SwitchingWrapper.&lt;init&gt;(SwitchingWrapper.java:235)at org.apache.axiom.om.impl.OMStAXWrapper.&lt;init&gt;(OMStAXWrapper.java:74)at org.apache.axiom.om.impl.llom.OMStAXWrapper.&lt;init&gt;(OMStAXWrapper.java:52)at org.apache.axiom.om.impl.llom.OMContainerHelper.getXMLStreamReader(OMContainerHelper.java:51)at org.apache.axiom.om.impl.llom.OMElementImpl.getXMLStreamReader(OMElementImpl.java:736)at org.apache.axiom.om.impl.llom.OMElementImpl.cloneOMElement(OMElementImpl.java:1038)at org.apache.synapse.util.MessageHelper.cloneSOAPEnvelope(MessageHelper.java:690)at org.apache.synapse.mediators.eip.splitter.IterateMediator.mediate(IterateMediator.java:123)at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:108)at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:70)at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)at org.apache.synapse.mediators.filters.FilterMediator.mediate(FilterMediator.java:203)\r\n    \r\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:108)at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:70)at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\r\n    \r\n    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\r\n\r\n - To overcome issue, Clearing `heap-dump.hprof` in the `&lt;EI_HOME&gt;/repository/logs` file whenever encountered above ERROR and restarting the container\r\n - But intermittently facing similar issue again.\r\n - There is JVM configuration in Rancher where container management is done. JVM_Initial size is `8192` and JVM_Max size is `32768`\r\n\r\nJava version: `1.8.0_171`\r\n\r\nIs there any memory leak which we can control via code? or any way to resolve this issue in WSO2 EI?\r\n","title":"WSO2 EI Docker container 6.4.0 - Facing java.lang.OutOfMemoryError: GC overhead limit exceeded in ETL process","body":"<p>There is ETL process running in WSO2 EI 6.4.0.</p>\n<p>Flow: <code>Task Scheduler --&gt; Proxy Service --&gt; Sequence</code></p>\n<ul>\n<li>Task scheduler will trigger proxy service based on cron expression(eg. <code>0 45 0/2 ? * * *</code> )</li>\n<li>Proxy service will fetch Data from source by using bigquery connector runQuery Operation and invoke sequence</li>\n<li>Inside Sequence, Iterate mediator placed to iterate each record and framing payload to invoke DSS which will push data to target system.</li>\n</ul>\n<p>Below is the sample sequence code for reference:</p>\n<pre><code>&lt;iterate expression=&quot;$body//rows&quot; id=&quot;BigQID&quot; sequential=&quot;true&quot;&gt;\n            &lt;target&gt;\n                &lt;sequence&gt;\n                    &lt;property name=&quot;FORCE_ERROR_ON_SOAP_FAULT&quot; scope=&quot;default&quot; type=&quot;STRING&quot; value=&quot;true&quot;/&gt;\n                    &lt;property expression=&quot;//f[1]/v/text()&quot; name=&quot;name&quot; scope=&quot;default&quot; type=&quot;STRING&quot;/&gt;\n                    &lt;property expression=&quot;//f[2]/v/text()&quot; name=&quot;email&quot; scope=&quot;default&quot; type=&quot;STRING&quot;/&gt;\n                    &lt;property expression=&quot;//f[3]/v/text()&quot; name=&quot;phone&quot; scope=&quot;default&quot; type=&quot;STRING&quot;/&gt;\n                    \n                    &lt;!--  Frame payload for DSS Call --&gt;\n                    &lt;header name=&quot;Action&quot; scope=&quot;default&quot; value=&quot;urn:wso2_dss_insert_op&quot;/&gt;\n                    &lt;payloadFactory media-type=&quot;xml&quot;&gt;\n                        &lt;format&gt;\n                            &lt;Envelope xmlns=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n                                &lt;Body&gt;\n                                    &lt;wso2_dss_insert_op xmlns=&quot;http://ws.wso2.org/dataservice&quot;&gt;\n                                        &lt;name&gt;$1&lt;/name&gt;\n                                        &lt;email&gt;$2&lt;/email&gt;\n                                        &lt;phone&gt;$3&lt;/phone&gt;\n                                    &lt;/wso2_dss_insert_op&gt;\n                                &lt;/Body&gt;\n                            &lt;/Envelope&gt;\n                        &lt;/format&gt;\n                        &lt;args&gt;\n                            &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property('name')&quot;/&gt;\n                            &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property('email')&quot;/&gt;\n                            &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property('phone')&quot;/&gt;\n                            \n                        &lt;/args&gt;\n                    &lt;/payloadFactory&gt;\n                    &lt;!--  calling DSS to push data to eMite CDW DB --&gt;\n                    &lt;call&gt;\n                        &lt;endpoint&gt;\n                            &lt;http method=&quot;post&quot; uri-template=&quot;http://localhost:8280/test-etl/services/WSO2_TEST_DSS/wso2_dss_insert_op&quot;&gt;\n                                &lt;timeout&gt;\n                                    &lt;duration&gt;60000&lt;/duration&gt;\n                                &lt;/timeout&gt;\n                                &lt;suspendOnFailure&gt;\n                                    &lt;errorCodes&gt;-1&lt;/errorCodes&gt;\n                                    &lt;initialDuration&gt;0&lt;/initialDuration&gt;\n                                    &lt;progressionFactor&gt;1.0&lt;/progressionFactor&gt;\n                                    &lt;maximumDuration&gt;0&lt;/maximumDuration&gt;\n                                &lt;/suspendOnFailure&gt;\n                                &lt;markForSuspension&gt;\n                                    &lt;retriesBeforeSuspension&gt;0&lt;/retriesBeforeSuspension&gt;\n                                &lt;/markForSuspension&gt;\n                            &lt;/http&gt;\n                        &lt;/endpoint&gt;\n                    &lt;/call&gt;\n                &lt;/sequence&gt;\n            &lt;/target&gt;\n        &lt;/iterate&gt;\n        &lt;property name=&quot;result&quot; scope=&quot;default&quot;&gt;\n            &lt;result xmlns=&quot;&quot;/&gt;\n        &lt;/property&gt;\n        &lt;!--  Aggregate for collecting DSS response in order to identify target updated row count --&gt;\n        &lt;aggregate id=&quot;BigQID&quot;&gt;\n            &lt;completeCondition&gt;\n                &lt;messageCount max=&quot;-1&quot; min=&quot;-1&quot;/&gt;\n            &lt;/completeCondition&gt;\n            &lt;onComplete aggregateElementType=&quot;root&quot; enclosingElementProperty=&quot;result&quot; expression=&quot;$body/*[1]&quot;&gt;\n                &lt;log level=&quot;custom&quot;&gt;\n                    &lt;property name=&quot;ON Aggregate SEQ&quot; value=&quot;called***&quot;/&gt;\n                    &lt;property expression=&quot;fn:count(//*[local-name()='UpdatedRowCount'])&quot; name=&quot;*********BigQueryETL-wso2_dss-TargetCount:: &quot;/&gt;\n                &lt;/log&gt;\n            &lt;/onComplete&gt;\n        &lt;/aggregate&gt;\n</code></pre>\n<p>DSS-Code:</p>\n<pre><code> &lt;data name=&quot;WSO2_TEST_DSS&quot; transports=&quot;http https local&quot;&gt;\n  \n   &lt;config id=&quot;TestDataSource&quot;&gt;\n        &lt;property name=&quot;carbon_datasource_name&quot;&gt;WSO2_ETL_TEST_DB&lt;/property&gt;\n    &lt;/config&gt;\n \n   &lt;query id=&quot;emp_insert_Q&quot; returnUpdatedRowCount=&quot;true&quot; useConfig=&quot;TestDataSource&quot;&gt;\n      &lt;sql&gt;insert into  empdata.employee (name,email,phone) values(?,?,?)&lt;/sql&gt;\n      &lt;result element=&quot;UpdatedRowCount&quot; rowName=&quot;&quot; useColumnNumbers=&quot;true&quot;&gt;\n         &lt;element column=&quot;1&quot; name=&quot;Value&quot; xsdType=&quot;integer&quot;/&gt;\n      &lt;/result&gt;\n      &lt;param name=&quot;name&quot; sqlType=&quot;STRING&quot;/&gt;\n      &lt;param name=&quot;email&quot; sqlType=&quot;STRING&quot;/&gt;\n      &lt;param name=&quot;phone&quot; sqlType=&quot;STRING&quot;/&gt;\n      \n   &lt;/query&gt;\n   &lt;operation name=&quot;wso2_dss_insert_op&quot;&gt;\n      &lt;call-query href=&quot;emp_insert_Q&quot;&gt;\n         &lt;with-param name=&quot;name&quot; query-param=&quot;name&quot;/&gt;\n         &lt;with-param name=&quot;email&quot; query-param=&quot;email&quot;/&gt;\n         &lt;with-param name=&quot;phone&quot; query-param=&quot;phone&quot;/&gt;\n      &lt;/call-query&gt;\n   &lt;/operation&gt;\n   \n&lt;/data&gt;\n</code></pre>\n<p>What I have understood is that when data volume exceeds more than 8000, Getting ERROR like <code>java.lang.OutOfMemoryError: GC overhead limit exceeded</code> or <code>java.lang.OutOfMemoryError: Java heap space</code></p>\n<p>ERROR Logs:</p>\n<pre><code>    [2023-07-18 13:43:17,828] [-1234] [] [PassThroughMessageProcessor-252] ERROR {org.apache.axis2.transport.base.threads.NativeWorkerPool} -  Uncaught exception\njava.lang.OutOfMemoryError: GC overhead limit exceeded \nat org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.readEndElementTag(AbstractXMLStreamReader.java:382)at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.consume(JsonXMLStreamReader.java:211)at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.consume(JsonXMLStreamReader.java:154)at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.consume(JsonXMLStreamReader.java:184)at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.hasNext(AbstractXMLStreamReader.java:445)at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.next(AbstractXMLStreamReader.java:455at org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:681)at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)at org.apache.axiom.om.impl.llom.OMElementImpl.getNextOMSibling(OMElementImpl.java:336)at org.apache.axiom.om.impl.OMNavigator._getFirstChild(OMNavigator.java:199)at org.apache.axiom.om.impl.OMNavigator.updateNextNode(OMNavigator.java:140)at org.apache.axiom.om.impl.OMNavigator.getNext(OMNavigator.java:112)at org.apache.axiom.om.impl.SwitchingWrapper.updateNextNode(SwitchingWrapper.java:1113)at org.apache.axiom.om.impl.SwitchingWrapper.&lt;init&gt;(SwitchingWrapper.java:235)at org.apache.axiom.om.impl.OMStAXWrapper.&lt;init&gt;(OMStAXWrapper.java:74)at org.apache.axiom.om.impl.llom.OMStAXWrapper.&lt;init&gt;(OMStAXWrapper.java:52)at org.apache.axiom.om.impl.llom.OMContainerHelper.getXMLStreamReader(OMContainerHelper.java:51)at org.apache.axiom.om.impl.llom.OMElementImpl.getXMLStreamReader(OMElementImpl.java:736)at org.apache.axiom.om.impl.llom.OMElementImpl.cloneOMElement(OMElementImpl.java:1038)at org.apache.synapse.util.MessageHelper.cloneSOAPEnvelope(MessageHelper.java:690)at org.apache.synapse.mediators.eip.splitter.IterateMediator.mediate(IterateMediator.java:123)at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:108)at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:70)at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)at org.apache.synapse.mediators.filters.FilterMediator.mediate(FilterMediator.java:203)\n\nat org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:108)at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:70)at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n\nat org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n</code></pre>\n<ul>\n<li>To overcome issue, Clearing <code>heap-dump.hprof</code> in the <code>&lt;EI_HOME&gt;/repository/logs</code> file whenever encountered above ERROR and restarting the container</li>\n<li>But intermittently facing similar issue again.</li>\n<li>There is JVM configuration in Rancher where container management is done. JVM_Initial size is <code>8192</code> and JVM_Max size is <code>32768</code></li>\n</ul>\n<p>Java version: <code>1.8.0_171</code></p>\n<p>Is there any memory leak which we can control via code? or any way to resolve this issue in WSO2 EI?</p>\n"},{"tags":["java","scala","field","playframework-2.0","hidden"],"answers":[{"tags":[],"owner":{"account_id":62578,"reputation":11137,"user_id":185840,"accept_rate":80,"display_name":"virtualeyes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341056718,"creation_date":1341056718,"answer_id":11273815,"question_id":11273769,"body_markdown":"Ok, can do this as well:\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;foo&quot; value=&quot;@{_form(&quot;foo&quot;).value.map(x=&gt;x).getOrElse(&quot;&quot;)}&quot;&gt;","title":"Play 2.0 generate hidden field without div wrapper","body":"<p>Ok, can do this as well:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"foo\" value=\"@{_form(\"foo\").value.map(x=&gt;x).getOrElse(\"\")}\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1035988,"reputation":1047,"user_id":1043276,"display_name":"Steven Luu"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1341057700,"creation_date":1341057222,"answer_id":11273861,"question_id":11273769,"body_markdown":"You don&#39;t need to use a `@helper.input` in this case. Try this:\r\n\r\n    @defining(_form(&quot;userID&quot;)) { uidField =&gt;\r\n      &lt;input type=&quot;hidden&quot; name=&quot;@uidField.name&quot; id=&quot;@uidField.id&quot; value=&quot;@uidField.value&quot;&gt;\r\n    }","title":"Play 2.0 generate hidden field without div wrapper","body":"<p>You don't need to use a <code>@helper.input</code> in this case. Try this:</p>\n\n<pre><code>@defining(_form(\"userID\")) { uidField =&gt;\n  &lt;input type=\"hidden\" name=\"@uidField.name\" id=\"@uidField.id\" value=\"@uidField.value\"&gt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":898238,"reputation":881,"user_id":935039,"display_name":"teemoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1360233368,"creation_date":1360233368,"answer_id":14748998,"question_id":11273769,"body_markdown":"Although the question has already been answered, I&#39;d like to give a complete example because this would have helped me alot.\r\n\r\nYou may define your own hidden input helper in a file called &quot;app/views/helper/inputHidden.scala.html&quot; that would look like:\r\n\r\n    @**\r\n    * Generate a hidden HTML input.\r\n    *\r\n    * Example:\r\n    * {{{\r\n    *   @inputHidden(field = myForm(&quot;name&quot;), args = &#39;data-ref -&gt; 0)\r\n    * }}}\r\n    *\r\n    * @param field The form field.\r\n    * @param args Set of extra attributes.\r\n    * @param handler The field constructor.\r\n    *@\r\n    @(field: play.api.data.Field, args: (Symbol,Any)*)(implicit handler: FieldConstructor, lang: play.api.i18n.Lang)\r\n    \r\n    @id = @{ args.toMap.get(&#39;id).map(_.toString).getOrElse(field.id) }\r\n    @inputType = @{ args.toMap.get(&#39;type).map(_.toString).getOrElse(&quot;hidden&quot;) }\r\n    @htmlArgs = @{ args.filter(arg =&gt; !arg._1.name.startsWith(&quot;_&quot;) &amp;&amp; arg._1 != &#39;id).toMap.filter(_._1 != &#39;type) }\r\n    \r\n    &lt;input type=&quot;@inputType&quot; id=&quot;@id&quot; name=&quot;@field.name&quot; value=&quot;@field.value&quot; @toHtmlArgs(htmlArgs)&gt;\r\n\r\nThis allows you to reuse the code in all your views and to give additional parameters like `data-ref=&quot;...&quot;` to your hidden field.","title":"Play 2.0 generate hidden field without div wrapper","body":"<p>Although the question has already been answered, I'd like to give a complete example because this would have helped me alot.</p>\n\n<p>You may define your own hidden input helper in a file called \"app/views/helper/inputHidden.scala.html\" that would look like:</p>\n\n<pre><code>@**\n* Generate a hidden HTML input.\n*\n* Example:\n* {{{\n*   @inputHidden(field = myForm(\"name\"), args = 'data-ref -&gt; 0)\n* }}}\n*\n* @param field The form field.\n* @param args Set of extra attributes.\n* @param handler The field constructor.\n*@\n@(field: play.api.data.Field, args: (Symbol,Any)*)(implicit handler: FieldConstructor, lang: play.api.i18n.Lang)\n\n@id = @{ args.toMap.get('id).map(_.toString).getOrElse(field.id) }\n@inputType = @{ args.toMap.get('type).map(_.toString).getOrElse(\"hidden\") }\n@htmlArgs = @{ args.filter(arg =&gt; !arg._1.name.startsWith(\"_\") &amp;&amp; arg._1 != 'id).toMap.filter(_._1 != 'type) }\n\n&lt;input type=\"@inputType\" id=\"@id\" name=\"@field.name\" value=\"@field.value\" @toHtmlArgs(htmlArgs)&gt;\n</code></pre>\n\n<p>This allows you to reuse the code in all your views and to give additional parameters like <code>data-ref=\"...\"</code> to your hidden field.</p>\n"},{"comments":[{"owner":{"account_id":62578,"reputation":11137,"user_id":185840,"accept_rate":80,"display_name":"virtualeyes"},"score":0,"creation_date":1379650995,"post_id":18907120,"comment_id":27913743,"body_markdown":"+1 interesting corner case. Using jquery validation plugin here, date and time pickers don&#39;t have the issue you&#39;re describing, but I can see how a hidden field failing validation would be quite baffling to the user with no indication as to why the form won&#39;t submit.","body":"+1 interesting corner case. Using jquery validation plugin here, date and time pickers don&#39;t have the issue you&#39;re describing, but I can see how a hidden field failing validation would be quite baffling to the user with no indication as to why the form won&#39;t submit."}],"tags":[],"owner":{"account_id":110730,"reputation":3980,"user_id":292921,"accept_rate":72,"display_name":"Cristian Vrabie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379637068,"creation_date":1379637068,"answer_id":18907120,"question_id":11273769,"body_markdown":"Using the raw html as previous answers suggest works well in some cases but don&#39;t forget that the hidden input might require validation (for example, if it&#39;s being populated with JavaScript in reply to some user interaction, like some date pickers do). If you have validation errors on that field the submission will fail but there won&#39;t be any visual queue as to why. \r\n\r\nYou can write extra html to show the error for the hidden field but I would actually stick with `@helper.input` and hide the input with css, if the `error` class is not present. You don&#39;t need javascript to do it.","title":"Play 2.0 generate hidden field without div wrapper","body":"<p>Using the raw html as previous answers suggest works well in some cases but don't forget that the hidden input might require validation (for example, if it's being populated with JavaScript in reply to some user interaction, like some date pickers do). If you have validation errors on that field the submission will fail but there won't be any visual queue as to why. </p>\n\n<p>You can write extra html to show the error for the hidden field but I would actually stick with <code>@helper.input</code> and hide the input with css, if the <code>error</code> class is not present. You don't need javascript to do it.</p>\n"},{"tags":[],"owner":{"account_id":3421133,"reputation":51,"user_id":2868723,"display_name":"Zeru Giran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689900081,"creation_date":1689900081,"answer_id":76734456,"question_id":11273769,"body_markdown":"Yo can add this to the view:\r\n\r\n    @inputHidden(field: Field) = {\r\n        &lt;input name=&quot;@(field.name)&quot; type=&quot;hidden&quot; value=&quot;@field.value&quot;&gt;\r\n    }\r\n\r\nOr you can create a new file called &quot;app/views/helper/inputHidden.scala.html&quot;\r\n\r\nIn both cases, it is used like this:\r\n\r\n    @inputHidden(myForm(&quot;userID&quot;))","title":"Play 2.0 generate hidden field without div wrapper","body":"<p>Yo can add this to the view:</p>\n<pre><code>@inputHidden(field: Field) = {\n    &lt;input name=&quot;@(field.name)&quot; type=&quot;hidden&quot; value=&quot;@field.value&quot;&gt;\n}\n</code></pre>\n<p>Or you can create a new file called &quot;app/views/helper/inputHidden.scala.html&quot;</p>\n<p>In both cases, it is used like this:</p>\n<pre><code>@inputHidden(myForm(&quot;userID&quot;))\n</code></pre>\n"}],"owner":{"account_id":62578,"reputation":11137,"user_id":185840,"accept_rate":80,"display_name":"virtualeyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3515,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11273861,"answer_count":5,"score":4,"last_activity_date":1689900081,"creation_date":1341056355,"question_id":11273769,"body_markdown":"Am generating a hidden fields like so:\r\n\r\n    @helper.input(_form(&quot;userID&quot;), &#39;_label-&gt; None) { (id, name, value, args) =&gt;\r\n      &lt;input type=&quot;hidden&quot; name=&quot;@name&quot; id=&quot;@id&quot; value=&quot;@value&quot; @toHtmlArgs(args)&gt;\r\n    }\r\n\r\nWhich works fine except for the fact that the div wrapper block element is created, which creates visual empty space in the form, not looking good -- how to make hidden input elements display without div wrapper?\r\n\r\nI know I can jQuery hide the parent div wrapper, but I&#39;d like to not generate it in the first place.","title":"Play 2.0 generate hidden field without div wrapper","body":"<p>Am generating a hidden fields like so:</p>\n\n<pre><code>@helper.input(_form(\"userID\"), '_label-&gt; None) { (id, name, value, args) =&gt;\n  &lt;input type=\"hidden\" name=\"@name\" id=\"@id\" value=\"@value\" @toHtmlArgs(args)&gt;\n}\n</code></pre>\n\n<p>Which works fine except for the fact that the div wrapper block element is created, which creates visual empty space in the form, not looking good -- how to make hidden input elements display without div wrapper?</p>\n\n<p>I know I can jQuery hide the parent div wrapper, but I'd like to not generate it in the first place.</p>\n"},{"tags":["java","plugins","minecraft","classnotfoundexception","maven-dependency"],"owner":{"account_id":29060450,"reputation":1,"user_id":22261264,"display_name":"Paclib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689899425,"creation_date":1689899425,"question_id":76734431,"body_markdown":"I&#39;m currently developing a **Velocity Minecraft plugin**, and I&#39;m encountering a **ClassNotFoundException** for FileUtils from org.apache.commons.io.FileUtils, even though I have added the library to my project&#39;s dependencies in the pom.xml file.\r\n\r\nAll compiles fine, but when I run the plugin on my velocity proxy server and execute the command, I get the **ClassNotFoundException**. \r\n\r\nI&#39;m using Velocity version 3.2.0-SNAPSHOT and Java 17 for my project. The dependency that causes the issue is org.apache.commons.io.FileUtils from commons-io version 2.13.0.\r\n\r\nMy Pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;pvpstartplugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PvpStart&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;\r\n            17\r\n        &lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;maven-central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;papermc&lt;/id&gt;\r\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.velocitypowered&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is were I use **FileUtils**:\r\n\r\n```\r\npackage pvpstartplugin.command;\r\n\r\nimport com.velocitypowered.api.command.SimpleCommand;\r\nimport org.apache.commons.io.FileUtils;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class PvP implements SimpleCommand {\r\n\r\n    @Override\r\n    public void execute(Invocation invocation) {\r\n        File sourceWorldDir = new File(&quot;/server/mc/castleGame/castleWorlds/Riveredgecastle/world&quot;);\r\n        File targetWorldDir = new File(&quot;/server/mc/castleGame/pvpServer/world&quot;);\r\n\r\n        try {\r\n            copyWorldContents(sourceWorldDir, targetWorldDir);\r\n\r\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;./start.sh&quot;);\r\n            processBuilder.directory(new File(&quot;/server/mc/castleGame/pvpServer&quot;));\r\n            processBuilder.start();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void copyWorldContents(File source, File target) throws IOException {\r\n        FileUtils.cleanDirectory(target);\r\n        FileUtils.copyDirectory(source, target);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI also **tried version 2.11.0** of the library, but it did not work.\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI have confirmed that the **commons-io-2.13.0.jar is present in my ~/.m2/repository/org/apache/commons/commons-io/2.13.0/** directory.\r\n\r\nAny help is appreciated","title":"ClassNotFoundException for Dependency in Velocity Minecraft Plugin","body":"<p>I'm currently developing a <strong>Velocity Minecraft plugin</strong>, and I'm encountering a <strong>ClassNotFoundException</strong> for FileUtils from org.apache.commons.io.FileUtils, even though I have added the library to my project's dependencies in the pom.xml file.</p>\n<p>All compiles fine, but when I run the plugin on my velocity proxy server and execute the command, I get the <strong>ClassNotFoundException</strong>.</p>\n<p>I'm using Velocity version 3.2.0-SNAPSHOT and Java 17 for my project. The dependency that causes the issue is org.apache.commons.io.FileUtils from commons-io version 2.13.0.</p>\n<p>My Pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;pvpstartplugin&lt;/groupId&gt;\n    &lt;artifactId&gt;PvpStart&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;\n            17\n        &lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven-central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;papermc&lt;/id&gt;\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.velocitypowered&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-api&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is were I use <strong>FileUtils</strong>:</p>\n<pre><code>package pvpstartplugin.command;\n\nimport com.velocitypowered.api.command.SimpleCommand;\nimport org.apache.commons.io.FileUtils;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class PvP implements SimpleCommand {\n\n    @Override\n    public void execute(Invocation invocation) {\n        File sourceWorldDir = new File(&quot;/server/mc/castleGame/castleWorlds/Riveredgecastle/world&quot;);\n        File targetWorldDir = new File(&quot;/server/mc/castleGame/pvpServer/world&quot;);\n\n        try {\n            copyWorldContents(sourceWorldDir, targetWorldDir);\n\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;./start.sh&quot;);\n            processBuilder.directory(new File(&quot;/server/mc/castleGame/pvpServer&quot;));\n            processBuilder.start();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void copyWorldContents(File source, File target) throws IOException {\n        FileUtils.cleanDirectory(target);\n        FileUtils.copyDirectory(source, target);\n    }\n}\n</code></pre>\n<p>I also <strong>tried version 2.11.0</strong> of the library, but it did not work.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have confirmed that the <strong>commons-io-2.13.0.jar is present in my ~/.m2/repository/org/apache/commons/commons-io/2.13.0/</strong> directory.</p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","spring","spring-boot","spring-websocket"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1495969744,"post_id":44226412,"comment_id":75463189,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-create-a-non-web-application","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-create-a-non-web-application\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":10672664,"reputation":679,"user_id":7857283,"display_name":"Kiril  Mytsykov"},"score":0,"creation_date":1598564347,"post_id":49970020,"comment_id":112508585,"body_markdown":"But what if I need to subscribe on few topics? I see that you have only one handler and without subscriptions on topics.","body":"But what if I need to subscribe on few topics? I see that you have only one handler and without subscriptions on topics."}],"tags":[],"owner":{"account_id":3399928,"reputation":1809,"user_id":2852405,"display_name":"Gleidson Cardoso da Silva"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524426074,"creation_date":1524426074,"answer_id":49970020,"question_id":44226412,"body_markdown":"I&#39;m sorry for the delay in having your question answered.\r\n\r\nI also had difficulty finding the answer, so I created a repository in Github with a simple solution, its here:\r\n\r\nhttps://github.com/GleidsonSilva/springboot-ws-client\r\n\r\nI hope it is still useful to someone! :)\r\n\r\nCheers!","title":"Spring boot application with websocket client only","body":"<p>I'm sorry for the delay in having your question answered.</p>\n\n<p>I also had difficulty finding the answer, so I created a repository in Github with a simple solution, its here:</p>\n\n<p><a href=\"https://github.com/GleidsonSilva/springboot-ws-client\" rel=\"nofollow noreferrer\">https://github.com/GleidsonSilva/springboot-ws-client</a></p>\n\n<p>I hope it is still useful to someone! :)</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":9379274,"reputation":93,"user_id":8185956,"accept_rate":20,"display_name":"amelongo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689895146,"creation_date":1689889583,"answer_id":76733912,"question_id":44226412,"body_markdown":"I struggle to find a solution for this as all the examples online use a combination of server and client. In the event you only need to connect to a remote websocket server using a webflux server, the code needed to do this is only:\r\n\r\n        WebSocketClient client = new ReactorNettyWebSocketClient();\r\n    \r\n    URI url = new URI(&quot;ws://remote:8080/path&quot;);\r\n    client.execute(url, session -&gt;\r\n    \t\tsession.receive()\r\n    \t\t\t\t.doOnNext(/*logic to handle message*/)\r\n    \t\t\t\t.then()).subscribe();\r\n\r\nYou can find the documentation here(&quot;Client&quot; Section: https://docs.spring.io/spring-framework/reference/web/webflux-websocket.html","title":"Spring boot application with websocket client only","body":"<p>I struggle to find a solution for this as all the examples online use a combination of server and client. In the event you only need to connect to a remote websocket server using a webflux server, the code needed to do this is only:</p>\n<pre><code>    WebSocketClient client = new ReactorNettyWebSocketClient();\n\nURI url = new URI(&quot;ws://remote:8080/path&quot;);\nclient.execute(url, session -&gt;\n        session.receive()\n                .doOnNext(/*logic to handle message*/)\n                .then()).subscribe();\n</code></pre>\n<p>You can find the documentation here(&quot;Client&quot; Section: <a href=\"https://docs.spring.io/spring-framework/reference/web/webflux-websocket.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webflux-websocket.html</a></p>\n"}],"owner":{"account_id":434752,"reputation":8981,"user_id":820947,"accept_rate":75,"display_name":"onkami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3221,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1689895146,"creation_date":1495968442,"question_id":44226412,"body_markdown":"I am writing a Spring Boot app that uses spring websocket client with jetty, but I do not need any server functions. How can I switch off Jetty server part, so it won&#39;t get activated at startup and does not listen on a port?","title":"Spring boot application with websocket client only","body":"<p>I am writing a Spring Boot app that uses spring websocket client with jetty, but I do not need any server functions. How can I switch off Jetty server part, so it won't get activated at startup and does not listen on a port?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689898061,"post_id":76734223,"comment_id":135281986,"body_markdown":"The error mentions the `javax.management` package, yet you&#39;re opening the `javax.management.openmbean` package. If you need both, then add another argument for the former, otherwise replace the argument for the latter with one for the former.","body":"The error mentions the <code>javax.management</code> package, yet you&#39;re opening the <code>javax.management.openmbean</code> package. If you need both, then add another argument for the former, otherwise replace the argument for the latter with one for the former."}],"owner":{"account_id":476231,"reputation":435,"user_id":887028,"accept_rate":45,"display_name":"Kim Gabrielsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689895009,"creation_date":1689895009,"question_id":76734223,"body_markdown":"I&#39;m running some junit test in my old setup without problems. I have upgraded java to java 17. Now when I run the test i receive a lot of similar messages like the title says.\r\n\r\nUntil now I&#39;ve been able to solve it by adding the following to maven surefire plugin:\r\n\r\n```\r\n          &lt;argLine&gt;\r\n            --add-opens java.base/java.lang=ALL-UNNAMED\r\n            --add-opens java.base/java.io=ALL-UNNAMED\r\n            --add-opens java.base/java.util=ALL-UNNAMED\r\n            --add-opens java.naming/javax.naming.spi=ALL-UNNAMED\r\n-----&gt;      --add-opens java.management/javax.management.openmbean=ALL-UNNAMED\r\n            --add-opens java.base/sun.security.util=ALL-UNNAMED\r\n            --add-opens java.base/sun.net.www.protocol.jar=ALL-UNNAMED\r\n          &lt;/argLine&gt;\r\n```\r\n\r\ndespite having added openmbean to this list it does not solve the problem. What do I need to write in the argLine to remove the \r\n\r\ndoes not &quot;opens javax.management&quot; to unnamed module\r\n\r\nerror message?\r\n\r\n\r\nKim","title":"how do i solve does not &quot;opens javax.management&quot; to unnamed module","body":"<p>I'm running some junit test in my old setup without problems. I have upgraded java to java 17. Now when I run the test i receive a lot of similar messages like the title says.</p>\n<p>Until now I've been able to solve it by adding the following to maven surefire plugin:</p>\n<pre><code>          &lt;argLine&gt;\n            --add-opens java.base/java.lang=ALL-UNNAMED\n            --add-opens java.base/java.io=ALL-UNNAMED\n            --add-opens java.base/java.util=ALL-UNNAMED\n            --add-opens java.naming/javax.naming.spi=ALL-UNNAMED\n-----&gt;      --add-opens java.management/javax.management.openmbean=ALL-UNNAMED\n            --add-opens java.base/sun.security.util=ALL-UNNAMED\n            --add-opens java.base/sun.net.www.protocol.jar=ALL-UNNAMED\n          &lt;/argLine&gt;\n</code></pre>\n<p>despite having added openmbean to this list it does not solve the problem. What do I need to write in the argLine to remove the</p>\n<p>does not &quot;opens javax.management&quot; to unnamed module</p>\n<p>error message?</p>\n<p>Kim</p>\n"},{"tags":["java","hadoop","mapreduce","hadoop-yarn"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689894282,"post_id":76726152,"comment_id":135281678,"body_markdown":"You need to find the real error from the link - `For more detailed output, check application tracking page:http://administrator:8088/cluster/app/application_1689669155126_0010Then, click on links to logs of each attempt`","body":"You need to find the real error from the link - <code>For more detailed output, check application tracking page:http:&#47;&#47;administrator:8088&#47;cluster&#47;app&#47;application_16896&zwnj;&#8203;69155126_0010Then, click on links to logs of each attempt</code>"},{"owner":{"account_id":11600543,"reputation":1,"user_id":8497807,"display_name":"PnEndless"},"score":0,"creation_date":1689905731,"post_id":76726152,"comment_id":135282608,"body_markdown":"i have tried to check logs, actually there is a log dir for this job but no content is loged at all, and checked it on web ui interface only get &#39;No logs available for container container_1689669155126_0010_02_000001&#39; ,i am really confued and don&#39;t know how to take next step, now i am trying to use eclipse remote debug and wish to get a clue","body":"i have tried to check logs, actually there is a log dir for this job but no content is loged at all, and checked it on web ui interface only get &#39;No logs available for container container_1689669155126_0010_02_000001&#39; ,i am really confued and don&#39;t know how to take next step, now i am trying to use eclipse remote debug and wish to get a clue"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689945687,"post_id":76726152,"comment_id":135288748,"body_markdown":"I&#39;ve never tried remote debug with Hadoop, because cannot attach to multiple node managers at once (your code will be broken apart to multiple map tasks and reduce tasks, each would use different JVM remote ports, if they run at the same time, on the same machine)... In any case, the code you&#39;ve shown isn&#39;t mapreduce, doesn&#39;t log anything, nor uses Hbase, so can you clarify what you&#39;re trying to run?","body":"I&#39;ve never tried remote debug with Hadoop, because cannot attach to multiple node managers at once (your code will be broken apart to multiple map tasks and reduce tasks, each would use different JVM remote ports, if they run at the same time, on the same machine)... In any case, the code you&#39;ve shown isn&#39;t mapreduce, doesn&#39;t log anything, nor uses Hbase, so can you clarify what you&#39;re trying to run?"}],"owner":{"account_id":11600543,"reputation":1,"user_id":8497807,"display_name":"PnEndless"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689894242,"creation_date":1689817078,"question_id":76726152,"body_markdown":"i am setting up a psudo hadoop mapreduce cluster and hbase, and i want to submit a hbase mapreduce job to the cluster, now the cluster is working well and dependency libs is transmited to the directory /tmp/hadoop-yarn/.../.staging/ under hdfs, but job class itself is not here.\r\ni run my program in idea IDE, when i debug the process of submitting job, i get that the problem point is at\r\n\r\n```\r\npublic static String findContainingJar(Class&lt;?&gt; clazz) {\r\n  ClassLoader loader = clazz.getClassLoader();\r\n  String classFile = clazz.getName().replaceAll(&quot;\\\\.&quot;, &quot;/&quot;) + &quot;.class&quot;;\r\n  try {\r\n    for(final Enumeration&lt;URL&gt; itr = loader.getResources(classFile);\r\n        itr.hasMoreElements();) {\r\n      final URL url = itr.nextElement();\r\n      //at here the protocol of url is alway &#39;file&#39;, so the next process is \r\n      //not executed, but i don&#39;t know how to slove it\r\n      if (&quot;jar&quot;.equals(url.getProtocol())) {\r\n        String toReturn = url.getPath();\r\n        if (toReturn.startsWith(&quot;file:&quot;)) {\r\n          toReturn = toReturn.substring(&quot;file:&quot;.length());\r\n        }\r\n        toReturn = URLDecoder.decode(toReturn, &quot;UTF-8&quot;);\r\n        return toReturn.replaceAll(&quot;!.*$&quot;, &quot;&quot;);\r\n      }\r\n    }\r\n  } catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n  }\r\n  return null;\r\n}\r\n```\r\n\r\n\r\n\r\nwhen program is run , i got exception\r\n\r\n```\r\nApplication Overview\r\nUser: \troot\r\nName: \ttestJob\r\nApplication Type: \tMAPREDUCE\r\nApplication Tags: \t\r\nYarnApplicationState: \tFAILED\r\nQueue: \tdefault\r\nFinalStatus Reported by AM: \tFAILED\r\nStarted: \t  20 08:34:56 +0800 2023\r\nElapsed: \t2sec\r\nTracking URL: \tHistory\r\nDiagnostics: \t\r\nApplication application_1689669155126_0010 failed 2 times due to AM Container for appattempt_1689669155126_0010_000002 exited with exitCode: 1\r\nFor more detailed output, check application tracking page:http://administrator:8088/cluster/app/application_1689669155126_0010Then, click on links to logs of each attempt.\r\nDiagnostics: Exception from container-launch.\r\nContainer id: container_1689669155126_0010_02_000001\r\nExit code: 1\r\nException message: /bin/bash:  0 line:fg: no job control\r\nStack trace: ExitCodeException exitCode=1: /bin/bash: 0 line:fg: no job control\r\nat org.apache.hadoop.util.Shell.runCommand(Shell.java:582)\r\nat org.apache.hadoop.util.Shell.run(Shell.java:479)\r\nat org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:773)\r\nat org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.launchContainer(DefaultContainerExecutor.java:212)\r\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:302)\r\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:82)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\nContainer exited with a non-zero exit code 1\r\nFailing this attempt. Failing the application. \r\n```\r\n\r\nhere is the output when i run ./bin/hadoop fs -ls -R /tmp/hadoop-yarn\r\n\r\n```\r\ndrwx------   - root supergroup          0 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010\r\n-rw-r--r--  10 root supergroup         80 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/job.split\r\n-rw-r--r--   3 root supergroup         27 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/job.splitmetainfo\r\n-rw-r--r--   3 root supergroup     120063 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/job.xml\r\ndrwx------   - root supergroup          0 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars\r\n-rw-r--r--  10 root supergroup    1648200 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/guava-11.0.2.jar\r\n-rw-r--r--  10 root supergroup    3479293 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hadoop-common-2.7.3.jar\r\n-rw-r--r--  10 root supergroup    1556539 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hadoop-mapreduce-client-core-2.7.3.jar\r\n-rw-r--r--  10 root supergroup     927930 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-client-0.98.5-hadoop2.jar\r\n-rw-r--r--  10 root supergroup     440700 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-common-0.98.5-hadoop2.jar\r\n-rw-r--r--  10 root supergroup      32679 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-hadoop-compat-0.98.5-hadoop2.jar\r\n-rw-r--r--  10 root supergroup    3389801 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-protocol-0.98.5-hadoop2.jar\r\n-rw-r--r--  10 root supergroup    3461695 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-server-0.98.5-hadoop2.jar\r\n-rw-r--r--  10 root supergroup      95975 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/high-scale-lib-1.1.1.jar\r\n-rw-r--r--  10 root supergroup      31532 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/htrace-core-2.04.jar\r\n-rw-r--r--  10 root supergroup    1199572 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/netty-3.6.2.Final.jar\r\n-rw-r--r--  10 root supergroup     533455 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/protobuf-java-2.5.0.jar\r\n-rw-r--r--  10 root supergroup     792964 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/zookeeper-3.4.6.jar\r\n```\r\n\r\nwith no logs\r\nNo logs available for container container_1689669155126_0010_02_000001","title":"iam new to hadoop mapreduce and face a trouble when submit my mapreduce job from windows to the cluster running on linux","body":"<p>i am setting up a psudo hadoop mapreduce cluster and hbase, and i want to submit a hbase mapreduce job to the cluster, now the cluster is working well and dependency libs is transmited to the directory /tmp/hadoop-yarn/.../.staging/ under hdfs, but job class itself is not here.\ni run my program in idea IDE, when i debug the process of submitting job, i get that the problem point is at</p>\n<pre><code>public static String findContainingJar(Class&lt;?&gt; clazz) {\n  ClassLoader loader = clazz.getClassLoader();\n  String classFile = clazz.getName().replaceAll(&quot;\\\\.&quot;, &quot;/&quot;) + &quot;.class&quot;;\n  try {\n    for(final Enumeration&lt;URL&gt; itr = loader.getResources(classFile);\n        itr.hasMoreElements();) {\n      final URL url = itr.nextElement();\n      //at here the protocol of url is alway 'file', so the next process is \n      //not executed, but i don't know how to slove it\n      if (&quot;jar&quot;.equals(url.getProtocol())) {\n        String toReturn = url.getPath();\n        if (toReturn.startsWith(&quot;file:&quot;)) {\n          toReturn = toReturn.substring(&quot;file:&quot;.length());\n        }\n        toReturn = URLDecoder.decode(toReturn, &quot;UTF-8&quot;);\n        return toReturn.replaceAll(&quot;!.*$&quot;, &quot;&quot;);\n      }\n    }\n  } catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n  return null;\n}\n</code></pre>\n<p>when program is run , i got exception</p>\n<pre><code>Application Overview\nUser:   root\nName:   testJob\nApplication Type:   MAPREDUCE\nApplication Tags:   \nYarnApplicationState:   FAILED\nQueue:  default\nFinalStatus Reported by AM:     FAILED\nStarted:      20 08:34:56 +0800 2023\nElapsed:    2sec\nTracking URL:   History\nDiagnostics:    \nApplication application_1689669155126_0010 failed 2 times due to AM Container for appattempt_1689669155126_0010_000002 exited with exitCode: 1\nFor more detailed output, check application tracking page:http://administrator:8088/cluster/app/application_1689669155126_0010Then, click on links to logs of each attempt.\nDiagnostics: Exception from container-launch.\nContainer id: container_1689669155126_0010_02_000001\nExit code: 1\nException message: /bin/bash:  0 line:fg: no job control\nStack trace: ExitCodeException exitCode=1: /bin/bash: 0 line:fg: no job control\nat org.apache.hadoop.util.Shell.runCommand(Shell.java:582)\nat org.apache.hadoop.util.Shell.run(Shell.java:479)\nat org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:773)\nat org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.launchContainer(DefaultContainerExecutor.java:212)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:302)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:82)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nContainer exited with a non-zero exit code 1\nFailing this attempt. Failing the application. \n</code></pre>\n<p>here is the output when i run ./bin/hadoop fs -ls -R /tmp/hadoop-yarn</p>\n<pre><code>drwx------   - root supergroup          0 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010\n-rw-r--r--  10 root supergroup         80 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/job.split\n-rw-r--r--   3 root supergroup         27 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/job.splitmetainfo\n-rw-r--r--   3 root supergroup     120063 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/job.xml\ndrwx------   - root supergroup          0 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars\n-rw-r--r--  10 root supergroup    1648200 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/guava-11.0.2.jar\n-rw-r--r--  10 root supergroup    3479293 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hadoop-common-2.7.3.jar\n-rw-r--r--  10 root supergroup    1556539 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hadoop-mapreduce-client-core-2.7.3.jar\n-rw-r--r--  10 root supergroup     927930 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-client-0.98.5-hadoop2.jar\n-rw-r--r--  10 root supergroup     440700 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-common-0.98.5-hadoop2.jar\n-rw-r--r--  10 root supergroup      32679 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-hadoop-compat-0.98.5-hadoop2.jar\n-rw-r--r--  10 root supergroup    3389801 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-protocol-0.98.5-hadoop2.jar\n-rw-r--r--  10 root supergroup    3461695 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/hbase-server-0.98.5-hadoop2.jar\n-rw-r--r--  10 root supergroup      95975 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/high-scale-lib-1.1.1.jar\n-rw-r--r--  10 root supergroup      31532 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/htrace-core-2.04.jar\n-rw-r--r--  10 root supergroup    1199572 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/netty-3.6.2.Final.jar\n-rw-r--r--  10 root supergroup     533455 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/protobuf-java-2.5.0.jar\n-rw-r--r--  10 root supergroup     792964 2023-07-20 08:34 /tmp/hadoop-yarn/staging/root/.staging/job_1689669155126_0010/libjars/zookeeper-3.4.6.jar\n</code></pre>\n<p>with no logs\nNo logs available for container container_1689669155126_0010_02_000001</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-test"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689885289,"post_id":76733497,"comment_id":135280635,"body_markdown":"You can&#39;t mock a deeply-nested call like that: if `contentRepository` is your mocked object, you can only specify the behavior of `contentRepository.findAll()`.","body":"You can&#39;t mock a deeply-nested call like that: if <code>contentRepository</code> is your mocked object, you can only specify the behavior of <code>contentRepository.findAll()</code>."},{"owner":{"account_id":29059706,"reputation":1,"user_id":22260685,"display_name":"Earl"},"score":0,"creation_date":1689886273,"post_id":76733497,"comment_id":135280781,"body_markdown":"So I&#39;ll have to do this instead `Mockito.when(contentRepository.findAll()).thenReturn(contentDTOList);`  \n\n but in that case how do I properly stub `.findAll()` so it returns a list of type ContentDTO and not of type Content? Or in the other words, how do I stub a stream method?","body":"So I&#39;ll have to do this instead <code>Mockito.when(contentRepository.findAll()).thenReturn(content&zwnj;&#8203;DTOList);</code>     but in that case how do I properly stub <code>.findAll()</code> so it returns a list of type ContentDTO and not of type Content? Or in the other words, how do I stub a stream method?"},{"owner":{"account_id":29059706,"reputation":1,"user_id":22260685,"display_name":"Earl"},"score":0,"creation_date":1689886943,"post_id":76733497,"comment_id":135280875,"body_markdown":"I understand now I just used the stream method outside the stubbing call, thank you for the help!","body":"I understand now I just used the stream method outside the stubbing call, thank you for the help!"}],"answers":[{"comments":[{"owner":{"account_id":29059706,"reputation":1,"user_id":22260685,"display_name":"Earl"},"score":0,"creation_date":1689887531,"post_id":76733696,"comment_id":135280964,"body_markdown":"When you say &quot;preconditions to pass it to the mapper&quot;, do you mean the stubbed method call `Mockito.when(contentRepository.findAll()).thenReturn(repositoryValues);`   interally calls `.map()` method automatically converting the initial list of type Content to ContentDTO? Can you expand what you mean by &quot;preconditions&quot;? Thank you for the response!","body":"When you say &quot;preconditions to pass it to the mapper&quot;, do you mean the stubbed method call <code>Mockito.when(contentRepository.findAll()).thenReturn(reposit&zwnj;&#8203;oryValues);</code>   interally calls <code>.map()</code> method automatically converting the initial list of type Content to ContentDTO? Can you expand what you mean by &quot;preconditions&quot;? Thank you for the response!"},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1689893644,"post_id":76733696,"comment_id":135281617,"body_markdown":"Not exactly, `Mockito.when(contentRepository.findAll()).thenReturn(repositoryValues);` will return a &quot;known list of records&quot; (repositoryValues), when the `findAll` method is called. Then the execution flow of `getAllContents` will continue, next statement being the `stream()` converting the stubbed list (known precondition) into a stream, and then execution the `map` function over the values in that same stream.","body":"Not exactly, <code>Mockito.when(contentRepository.findAll()).thenReturn(reposit&zwnj;&#8203;oryValues);</code> will return a &quot;known list of records&quot; (repositoryValues), when the <code>findAll</code> method is called. Then the execution flow of <code>getAllContents</code> will continue, next statement being the <code>stream()</code> converting the stubbed list (known precondition) into a stream, and then execution the <code>map</code> function over the values in that same stream."}],"tags":[],"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689894110,"creation_date":1689886950,"answer_id":76733696,"question_id":76733497,"body_markdown":"&gt; Is this the proper way to unit test getAllContents() inside my service class?\r\n\r\nIf you try to stub the whole content of `getAllContents` it would not really test much since you do not let the method execute anything at all. And besides you should mock simple statements based on mock objects, let&#39;s analyze it for a bit\r\n```java\r\n Mockito.when(contentRepository.findAll() //this is a call to `mock.method()`\r\n                .stream() // this would be a call to real List object so it cannot longer be mocked\r\n                .map(contentDTOMapper) \r\n                .collect(Collectors.toList()))\r\n        .thenReturn(contentDTOList);\r\n```\r\n\r\n&gt; How do I resolve this issue or how can I write this in a better way?\r\n\r\nYou should mock only the `mock.method` kind of calls, to make it simpler something like this\r\n```java\r\n List&lt;Content&gt; repositoryValues = new ArrayList&lt;&gt;();\r\n        repositoryValues.add(content);\r\n        repositoryValues.add(content);\r\n Mockito.when(contentRepository.findAll())\r\n        .thenReturn(repositoryValues);\r\n```\r\nThe code above will give a set of values for the mapper to work with, then the logic inside `getAllContents` will use that preconditions to pass it to the mapper. and return the correctly converted `List&lt;ContentDTO&gt;`.\r\n\r\nFinally your test can compare the test generated list against your test prepared `contentDTOList` to verify that the logic works as expected, fulfilling the scope of test (runtime vs known values)\r\n\r\n**-- Update look into the test runtime of getAllContents**\r\n\r\nDuring test, if you were to debug the `getAllContents` method it should look something like this\r\n\r\n```java\r\ncontentRepository.findAll() // returns preconditioned (known) value stubbed in the mock a.k.a &quot;repositoryValues&quot;\r\n                .stream() // This converts the &quot;known&quot; list returned above into a stream of values\r\n                .map(contentDTOMapper) // This will call your mapper providing each value (the ones you setup in your &quot;when&quot; stub), one at a time \r\n                .collect(Collectors.toList())\r\n```","title":"ClassCastException encountered in a Unit Test using Mockito to stub a Stream API &quot;map()&quot; method","body":"<blockquote>\n<p>Is this the proper way to unit test getAllContents() inside my service class?</p>\n</blockquote>\n<p>If you try to stub the whole content of <code>getAllContents</code> it would not really test much since you do not let the method execute anything at all. And besides you should mock simple statements based on mock objects, let's analyze it for a bit</p>\n<pre class=\"lang-java prettyprint-override\"><code> Mockito.when(contentRepository.findAll() //this is a call to `mock.method()`\n                .stream() // this would be a call to real List object so it cannot longer be mocked\n                .map(contentDTOMapper) \n                .collect(Collectors.toList()))\n        .thenReturn(contentDTOList);\n</code></pre>\n<blockquote>\n<p>How do I resolve this issue or how can I write this in a better way?</p>\n</blockquote>\n<p>You should mock only the <code>mock.method</code> kind of calls, to make it simpler something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code> List&lt;Content&gt; repositoryValues = new ArrayList&lt;&gt;();\n        repositoryValues.add(content);\n        repositoryValues.add(content);\n Mockito.when(contentRepository.findAll())\n        .thenReturn(repositoryValues);\n</code></pre>\n<p>The code above will give a set of values for the mapper to work with, then the logic inside <code>getAllContents</code> will use that preconditions to pass it to the mapper. and return the correctly converted <code>List&lt;ContentDTO&gt;</code>.</p>\n<p>Finally your test can compare the test generated list against your test prepared <code>contentDTOList</code> to verify that the logic works as expected, fulfilling the scope of test (runtime vs known values)</p>\n<p><strong>-- Update look into the test runtime of getAllContents</strong></p>\n<p>During test, if you were to debug the <code>getAllContents</code> method it should look something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>contentRepository.findAll() // returns preconditioned (known) value stubbed in the mock a.k.a &quot;repositoryValues&quot;\n                .stream() // This converts the &quot;known&quot; list returned above into a stream of values\n                .map(contentDTOMapper) // This will call your mapper providing each value (the ones you setup in your &quot;when&quot; stub), one at a time \n                .collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":29059706,"reputation":1,"user_id":22260685,"display_name":"Earl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689894110,"creation_date":1689884900,"question_id":76733497,"body_markdown":"I&#39;m attempting to perform a unit test on a service layer method within a Spring Boot application that simply retrieves all entities inside the database. I&#39;m using Stream API to map all entities retrieved using `ListCrudRepository ` method `findAll()` and convert each entity into a DTO. I created a mapper class to be invoked inside the `.map()` of the stream.\r\n\r\n```//Class to convert from Content entity to ContentDTO\r\n@Service\r\npublic class ContentDTOMapper implements Function\\&lt;Content, ContentDTO\\&gt; {\r\n\r\n    @Override\r\n    public ContentDTO apply(Content content) {\r\n        return new ContentDTO(\r\n                content.getTitle(),\r\n                content.getDesc(),\r\n                content.getStatus(),\r\n                content.getContentType(),\r\n                content.getDateCreated(),\r\n                content.getDateUpdated(),\r\n                content.getUrl()\r\n        );\r\n    }\r\n\r\n}\r\n```\r\n\r\n``` //Method being unit tested\r\npublic List&lt;ContentDTO&gt; getAllContents() {\r\n        return repository.findAll()\r\n                .stream()\r\n                .map(contentDTOMapper)\r\n                .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nI&#39;m trying to stub the `getAllContents()` method using Mockito but I&#39;m getting a ClassCastException whenever I try to test the method\r\n\r\n```\r\n@SpringBootTest\r\npublic class ContentServiceImplTest {\r\n\r\n    @InjectMocks //this annotation creates all available mock objects that can be injected\r\n    //must explicitly use &quot;new&quot; to create the object whose method is to be tested\r\n    ContentServiceImpl contentService = new ContentServiceImpl();\r\n    \r\n    @Mock //creates the mock objects or the &quot;dependent&quot; objects of the class being primarily tested\r\n    ContentRepository contentRepository;\r\n    @Mock\r\n    ContentDTOMapper contentDTOMapper;\r\n    @Mock\r\n    Environment environment;\r\n\r\n@Test\r\nvoid getAllContentsValidTest(){\r\n//given - prepare data\r\nContent content = new Content();\r\ncontent.setId(1);\r\ncontent.setTitle(&quot;test content title name&quot;);\r\ncontent.setDesc(&quot;test content description for a new content&quot;);\r\ncontent.setStatus(Status.PUBLISHED);\r\ncontent.setContentType(Type.ARTICLE);\r\ncontent.setDateCreated(LocalDateTime.now());\r\ncontent.setDateUpdated(LocalDateTime.of(2099, Month.DECEMBER, 15,12,12));\r\ncontent.setUrl(&quot;http://test.com&quot;);\r\n\r\n        Content content2 = new Content();\r\n        content2.setId(2);\r\n        content2.setTitle(&quot;test content title name2&quot;);\r\n        content2.setDesc(&quot;test content description for a new content2&quot;);\r\n        content2.setStatus(Status.PUBLISHED);\r\n        content2.setContentType(Type.ARTICLE);\r\n        content2.setDateCreated(LocalDateTime.now());\r\n        content2.setDateUpdated(LocalDateTime.of(2099, Month.DECEMBER, 15,12,12));\r\n        content2.setUrl(&quot;http://test2.com&quot;);\r\n    \r\n        ContentDTO contentDTO = new ContentDTO(\r\n                content.getTitle(),\r\n                content.getDesc(),\r\n                content.getStatus(),\r\n                content.getContentType(),\r\n                content.getDateCreated(),\r\n                content.getDateUpdated(),\r\n                content.getUrl()\r\n        );\r\n    \r\n        ContentDTO contentDTO2 = new ContentDTO(\r\n                content2.getTitle(),\r\n                content2.getDesc(),\r\n                content2.getStatus(),\r\n                content2.getContentType(),\r\n                content2.getDateCreated(),\r\n                content2.getDateUpdated(),\r\n                content2.getUrl()\r\n        );\r\n    \r\n    \r\n    \r\n        //when\r\n        List&lt;ContentDTO&gt; contentDTOList = new ArrayList&lt;&gt;();\r\n        contentDTOList.add(contentDTO);\r\n        contentDTOList.add(contentDTO2);\r\n    \r\n        Mockito.when(contentRepository.findAll().stream()\r\n                .map(contentDTOMapper)\r\n                .collect(Collectors.toList())).thenReturn(contentDTOList);\r\n    \r\n        List&lt;ContentDTO&gt; actual = contentService.getAllContents(); //ERROR OCCURS HERE\r\n    \r\n        //then\r\n        Assertions.assertEquals(actual,contentDTOList);\r\n    }\r\n```\r\n\r\nThis is the specific exception\r\n\r\n```\r\n\r\njava.lang.ClassCastException: class dev.earlpadron.contentcalendar.model.DTO.ContentDTO cannot be cast to class dev.earlpadron.contentcalendar.model.Content (dev.earlpadron.contentcalendar.model.DTO.ContentDTO and dev.earlpadron.contentcalendar.model.Content are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nIs this the proper way to unit test `getAllContents()` inside my service class? How do I resolve this issue or how can I write this in a better way?\r\n\r\n```\r\n```","title":"ClassCastException encountered in a Unit Test using Mockito to stub a Stream API &quot;map()&quot; method","body":"<p>I'm attempting to perform a unit test on a service layer method within a Spring Boot application that simply retrieves all entities inside the database. I'm using Stream API to map all entities retrieved using <code>ListCrudRepository </code> method <code>findAll()</code> and convert each entity into a DTO. I created a mapper class to be invoked inside the <code>.map()</code> of the stream.</p>\n<pre><code>@Service\npublic class ContentDTOMapper implements Function\\&lt;Content, ContentDTO\\&gt; {\n\n    @Override\n    public ContentDTO apply(Content content) {\n        return new ContentDTO(\n                content.getTitle(),\n                content.getDesc(),\n                content.getStatus(),\n                content.getContentType(),\n                content.getDateCreated(),\n                content.getDateUpdated(),\n                content.getUrl()\n        );\n    }\n\n}\n</code></pre>\n<pre><code>public List&lt;ContentDTO&gt; getAllContents() {\n        return repository.findAll()\n                .stream()\n                .map(contentDTOMapper)\n                .collect(Collectors.toList());\n}\n</code></pre>\n<p>I'm trying to stub the <code>getAllContents()</code> method using Mockito but I'm getting a ClassCastException whenever I try to test the method</p>\n<pre><code>@SpringBootTest\npublic class ContentServiceImplTest {\n\n    @InjectMocks //this annotation creates all available mock objects that can be injected\n    //must explicitly use &quot;new&quot; to create the object whose method is to be tested\n    ContentServiceImpl contentService = new ContentServiceImpl();\n    \n    @Mock //creates the mock objects or the &quot;dependent&quot; objects of the class being primarily tested\n    ContentRepository contentRepository;\n    @Mock\n    ContentDTOMapper contentDTOMapper;\n    @Mock\n    Environment environment;\n\n@Test\nvoid getAllContentsValidTest(){\n//given - prepare data\nContent content = new Content();\ncontent.setId(1);\ncontent.setTitle(&quot;test content title name&quot;);\ncontent.setDesc(&quot;test content description for a new content&quot;);\ncontent.setStatus(Status.PUBLISHED);\ncontent.setContentType(Type.ARTICLE);\ncontent.setDateCreated(LocalDateTime.now());\ncontent.setDateUpdated(LocalDateTime.of(2099, Month.DECEMBER, 15,12,12));\ncontent.setUrl(&quot;http://test.com&quot;);\n\n        Content content2 = new Content();\n        content2.setId(2);\n        content2.setTitle(&quot;test content title name2&quot;);\n        content2.setDesc(&quot;test content description for a new content2&quot;);\n        content2.setStatus(Status.PUBLISHED);\n        content2.setContentType(Type.ARTICLE);\n        content2.setDateCreated(LocalDateTime.now());\n        content2.setDateUpdated(LocalDateTime.of(2099, Month.DECEMBER, 15,12,12));\n        content2.setUrl(&quot;http://test2.com&quot;);\n    \n        ContentDTO contentDTO = new ContentDTO(\n                content.getTitle(),\n                content.getDesc(),\n                content.getStatus(),\n                content.getContentType(),\n                content.getDateCreated(),\n                content.getDateUpdated(),\n                content.getUrl()\n        );\n    \n        ContentDTO contentDTO2 = new ContentDTO(\n                content2.getTitle(),\n                content2.getDesc(),\n                content2.getStatus(),\n                content2.getContentType(),\n                content2.getDateCreated(),\n                content2.getDateUpdated(),\n                content2.getUrl()\n        );\n    \n    \n    \n        //when\n        List&lt;ContentDTO&gt; contentDTOList = new ArrayList&lt;&gt;();\n        contentDTOList.add(contentDTO);\n        contentDTOList.add(contentDTO2);\n    \n        Mockito.when(contentRepository.findAll().stream()\n                .map(contentDTOMapper)\n                .collect(Collectors.toList())).thenReturn(contentDTOList);\n    \n        List&lt;ContentDTO&gt; actual = contentService.getAllContents(); //ERROR OCCURS HERE\n    \n        //then\n        Assertions.assertEquals(actual,contentDTOList);\n    }\n</code></pre>\n<p>This is the specific exception</p>\n<pre><code>\njava.lang.ClassCastException: class dev.earlpadron.contentcalendar.model.DTO.ContentDTO cannot be cast to class dev.earlpadron.contentcalendar.model.Content (dev.earlpadron.contentcalendar.model.DTO.ContentDTO and dev.earlpadron.contentcalendar.model.Content are in unnamed module of loader 'app')\n</code></pre>\n<p>Is this the proper way to unit test <code>getAllContents()</code> inside my service class? How do I resolve this issue or how can I write this in a better way?</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","module","dependencies"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689819880,"post_id":76726061,"comment_id":135268560,"body_markdown":"Note when you have an annotation-only dependency, where those annotations only have meaning at compile-time, you should prefer `requires static` over just `requires`. As for dependencies that don&#39;t have a module-info descriptor, they can still be declared in a requires directive. These modules are known as &quot;automatic&quot; modules, and their names and versions are determined using [the algorithm described here](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleFinder.html#of(java.nio.file.Path...)). However, automatic modules cannot be used with the `jlink` tool.","body":"Note when you have an annotation-only dependency, where those annotations only have meaning at compile-time, you should prefer <code>requires static</code> over just <code>requires</code>. As for dependencies that don&#39;t have a module-info descriptor, they can still be declared in a requires directive. These modules are known as &quot;automatic&quot; modules, and their names and versions are determined using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleFinder.html#of(java.nio.file.Path...)\" rel=\"nofollow noreferrer\">the algorithm described here</a>. However, automatic modules cannot be used with the <code>jlink</code> tool."},{"owner":{"account_id":23340316,"reputation":27,"user_id":17415298,"display_name":"Machigan"},"score":0,"creation_date":1689820127,"post_id":76726061,"comment_id":135268588,"body_markdown":"@Slaw Thanks for the precisions (if I use annotation I&#39;ll use this static keyworkd) !\nFor the second commentary, it&#39;s normal that I can&#39;t have access to these annotations in the code ? So it means that I can&#39;t use it ?","body":"@Slaw Thanks for the precisions (if I use annotation I&#39;ll use this static keyworkd) ! For the second commentary, it&#39;s normal that I can&#39;t have access to these annotations in the code ? So it means that I can&#39;t use it ?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689820606,"post_id":76726061,"comment_id":135268621,"body_markdown":"To clarify, you _are_ using an annotation-only dependency. And you know it only has meaning at compile-time because you used `&lt;scope&gt;compile&lt;/scope&gt;` in you POM file. Plus, [these annotations](https://github.com/JetBrains/java-annotations/blob/master/common/src/main/java/org/jetbrains/annotations/NotNull.java) have a retention policy of `CLASS`, meaning they can&#39;t be accessed at run-time via reflection. So, you should have `requires static org.jetbrains.annotations;` in your module-info descriptor, as you don&#39;t need or want those annotations at run-time.","body":"To clarify, you <i>are</i> using an annotation-only dependency. And you know it only has meaning at compile-time because you used <code>&lt;scope&gt;compile&lt;&#47;scope&gt;</code> in you POM file. Plus, <a href=\"https://github.com/JetBrains/java-annotations/blob/master/common/src/main/java/org/jetbrains/annotations/NotNull.java\" rel=\"nofollow noreferrer\">these annotations</a> have a retention policy of <code>CLASS</code>, meaning they can&#39;t be accessed at run-time via reflection. So, you should have <code>requires static org.jetbrains.annotations;</code> in your module-info descriptor, as you don&#39;t need or want those annotations at run-time."},{"owner":{"account_id":23340316,"reputation":27,"user_id":17415298,"display_name":"Machigan"},"score":0,"creation_date":1689821164,"post_id":76726061,"comment_id":135268661,"body_markdown":"@Slaw Okay, the clarifications was really helpful !\nNow I  confirm that I can use the annotation !\nReally thank you\n\nCan you just re-write this in the answer section, so I can mark the question as solved ? \n(Or do you prefere that I write it myself ?)","body":"@Slaw Okay, the clarifications was really helpful ! Now I  confirm that I can use the annotation ! Really thank you  Can you just re-write this in the answer section, so I can mark the question as solved ?  (Or do you prefere that I write it myself ?)"}],"answers":[{"comments":[{"owner":{"account_id":23340316,"reputation":27,"user_id":17415298,"display_name":"Machigan"},"score":0,"creation_date":1689904440,"post_id":76734119,"comment_id":135282488,"body_markdown":"Really thank you for the explication (in commentary section too) !\nHave a great day !","body":"Really thank you for the explication (in commentary section too) ! Have a great day !"}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689893382,"creation_date":1689892841,"answer_id":76734119,"question_id":76726061,"body_markdown":"Your problem is not related to using non-modular dependencies in a modular context. As you&#39;ve discovered, the dependency in question **is** modular; it has a `module-info` descriptor. And the name of this module is `org.jetbrains.annotations`.\r\n\r\nThe problem is that the dependency is a _compile-time only_ dependency. You&#39;ve explicitly marked it as such by using `&lt;scope&gt;compile&lt;/scope&gt;` in your POM file&lt;sup&gt;1&lt;/sup&gt;. That means Maven will place the dependency on the module-path at _compile-time_ but **not** at _run-time_. This leads to an error because you have:\r\n\r\n```java\r\nrequires org.jetbrians.annotations;\r\n```\r\n\r\nThat tells the _Java Platform Module System_ that the `org.jetbrains.annotations` module is required by the `DVDIndexer` module at **both** compile-time **and** run-time. To solve this problem, you need to have the following directive instead:\r\n\r\n```java\r\nrequires static org.jetbrains.annotations;\r\n```\r\n\r\nThe `static` keyword in this context means the required module is optional at run-time (but still required at compile-time). The main purpose of this feature is to allow a module to require another module at compile-time without forcing said other module to be present at run-time. In other words, it allows for compile-time only dependencies.\r\n\r\n---\r\n\r\n&lt;sup&gt;1. This is a good thing. The [java-annotations][1] library is designed to be a compile-time only dependency. Its purpose is to provide better documentation and possibly allow code analyzers to better analyze code for potential errors. But the library itself defines no run-time behavior, and the annotations all have a retention policy of `CLASS` (meaning they are not visible via reflection). Thus, there&#39;s no reason to require the dependency at run-time.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/JetBrains/java-annotations","title":"Add non-modular dependancy in modular project","body":"<p>Your problem is not related to using non-modular dependencies in a modular context. As you've discovered, the dependency in question <strong>is</strong> modular; it has a <code>module-info</code> descriptor. And the name of this module is <code>org.jetbrains.annotations</code>.</p>\n<p>The problem is that the dependency is a <em>compile-time only</em> dependency. You've explicitly marked it as such by using <code>&lt;scope&gt;compile&lt;/scope&gt;</code> in your POM file<sup>1</sup>. That means Maven will place the dependency on the module-path at <em>compile-time</em> but <strong>not</strong> at <em>run-time</em>. This leads to an error because you have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requires org.jetbrians.annotations;\n</code></pre>\n<p>That tells the <em>Java Platform Module System</em> that the <code>org.jetbrains.annotations</code> module is required by the <code>DVDIndexer</code> module at <strong>both</strong> compile-time <strong>and</strong> run-time. To solve this problem, you need to have the following directive instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requires static org.jetbrains.annotations;\n</code></pre>\n<p>The <code>static</code> keyword in this context means the required module is optional at run-time (but still required at compile-time). The main purpose of this feature is to allow a module to require another module at compile-time without forcing said other module to be present at run-time. In other words, it allows for compile-time only dependencies.</p>\n<hr />\n<p><sup>1. This is a good thing. The <a href=\"https://github.com/JetBrains/java-annotations\" rel=\"nofollow noreferrer\">java-annotations</a> library is designed to be a compile-time only dependency. Its purpose is to provide better documentation and possibly allow code analyzers to better analyze code for potential errors. But the library itself defines no run-time behavior, and the annotations all have a retention policy of <code>CLASS</code> (meaning they are not visible via reflection). Thus, there's no reason to require the dependency at run-time.</sup></p>\n"}],"owner":{"account_id":23340316,"reputation":27,"user_id":17415298,"display_name":"Machigan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76734119,"answer_count":1,"score":0,"last_activity_date":1689893382,"creation_date":1689815177,"question_id":76726061,"body_markdown":"I am pretty new to the system of the modular project. \r\nFor the context, I began a JavaFX project in version 17 and I have now a `module-info.java` file that I never heard before.\r\nWith more informations I begin to understand how it works. But I have an issue.\r\n\r\nIn my project I use Maven and I add this dependency :\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;24.0.1&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI want to use the `@NotNull`, `@Nullable` etc... annotations in my project. But when I try to use it I have this error when I run :\r\n```\r\njava: cannot find symbol\r\n  symbol:   class NotNull\r\n  location: class be.machigan.dvdindexer.services.DVDFolder\r\n```\r\n\r\nSo I was thinking of add it to the `module-info.java` file like this :\r\n```java\r\nmodule DVDIndexer {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.google.gson;\r\n    requires org.jetbrains.annotations; // &lt;- here\r\n\r\n    opens be.machigan.dvdindexer to javafx.fxml, com.google.gson;\r\n    opens be.machigan.dvdindexer.services to com.google.gson;\r\n    exports be.machigan.dvdindexer;\r\n    exports be.machigan.dvdindexer.controllers;\r\n    opens be.machigan.dvdindexer.controllers to javafx.fxml;\r\n}\r\n```\r\n\r\nBut when I run it, I have this error :\r\n```\r\njava: module not found: org.jetbrains.annotations\r\n```\r\nAnd whith that error the annotations isn&#39;t recognized by the IDE (like the other situation above).\r\n\r\nI have search on Internett and I have learn that the error can occurs because of the dependency doesn&#39;t have a `module-info.class` file. But I search on the Github of the dependency and there is a `module-info.java`. [Here][1].\r\n\r\nAnd even that, for the futur I don&#39;t know how to add a dependency that doesn&#39;t have a `module-info.java`.\r\n\r\nThanks in advance for the help !\r\n\r\n  [1]: https://github.com/JetBrains/java-annotations/blob/master/module-info/src/main/java/module-info.java","title":"Add non-modular dependancy in modular project","body":"<p>I am pretty new to the system of the modular project.\nFor the context, I began a JavaFX project in version 17 and I have now a <code>module-info.java</code> file that I never heard before.\nWith more informations I begin to understand how it works. But I have an issue.</p>\n<p>In my project I use Maven and I add this dependency :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;24.0.1&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I want to use the <code>@NotNull</code>, <code>@Nullable</code> etc... annotations in my project. But when I try to use it I have this error when I run :</p>\n<pre><code>java: cannot find symbol\n  symbol:   class NotNull\n  location: class be.machigan.dvdindexer.services.DVDFolder\n</code></pre>\n<p>So I was thinking of add it to the <code>module-info.java</code> file like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>module DVDIndexer {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires com.google.gson;\n    requires org.jetbrains.annotations; // &lt;- here\n\n    opens be.machigan.dvdindexer to javafx.fxml, com.google.gson;\n    opens be.machigan.dvdindexer.services to com.google.gson;\n    exports be.machigan.dvdindexer;\n    exports be.machigan.dvdindexer.controllers;\n    opens be.machigan.dvdindexer.controllers to javafx.fxml;\n}\n</code></pre>\n<p>But when I run it, I have this error :</p>\n<pre><code>java: module not found: org.jetbrains.annotations\n</code></pre>\n<p>And whith that error the annotations isn't recognized by the IDE (like the other situation above).</p>\n<p>I have search on Internett and I have learn that the error can occurs because of the dependency doesn't have a <code>module-info.class</code> file. But I search on the Github of the dependency and there is a <code>module-info.java</code>. <a href=\"https://github.com/JetBrains/java-annotations/blob/master/module-info/src/main/java/module-info.java\" rel=\"nofollow noreferrer\">Here</a>.</p>\n<p>And even that, for the futur I don't know how to add a dependency that doesn't have a <code>module-info.java</code>.</p>\n<p>Thanks in advance for the help !</p>\n"},{"tags":["java","exception","eof"],"comments":[{"owner":{"account_id":976596,"reputation":3543,"user_id":997555,"accept_rate":52,"display_name":"maress"},"score":1,"creation_date":1403271484,"post_id":24328545,"comment_id":37606487,"body_markdown":"The list is returned regardless, cause the exception is caught, and hence does not halt execution of the method, it returns normally. Now if some data had been added to the list, those data will be returned","body":"The list is returned regardless, cause the exception is caught, and hence does not halt execution of the method, it returns normally. Now if some data had been added to the list, those data will be returned"},{"owner":{"account_id":4554113,"reputation":19,"user_id":3698300,"display_name":"rohit.agrawal"},"score":0,"creation_date":1403271895,"post_id":24328545,"comment_id":37606739,"body_markdown":"That makes sense but even after getting rid of the finally block and closing the streams just after while loop I get the same error.","body":"That makes sense but even after getting rid of the finally block and closing the streams just after while loop I get the same error."}],"answers":[{"comments":[{"owner":{"account_id":4554113,"reputation":19,"user_id":3698300,"display_name":"rohit.agrawal"},"score":0,"creation_date":1403273072,"post_id":24328780,"comment_id":37607525,"body_markdown":"Do you mean I can use a condition like while(1) and do the deserializing inside loop?If so. Can you give an example?","body":"Do you mean I can use a condition like while(1) and do the deserializing inside loop?If so. Can you give an example?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1403279406,"post_id":24328780,"comment_id":37611375,"body_markdown":"You&#39;ve just given an example yourself. It&#39;s not difficult.","body":"You&#39;ve just given an example yourself. It&#39;s not difficult."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689892479,"creation_date":1403271969,"answer_id":24328780,"question_id":24328545,"body_markdown":"Because you&#39;ve reached the end of the file.\r\n\r\nYou seem to think that `readObject()` returns null at end of file. It doesn&#39;t. It returns null if and only if you wrote a null.\r\n\r\nThe correct test is to catch `EOFException` and break, not to read until `readObject()` returns null.","title":"Why am I getting java.io.EOFException?","body":"<p>Because you've reached the end of the file.</p>\n<p>You seem to think that <code>readObject()</code> returns null at end of file. It doesn't. It returns null if and only if you wrote a null.</p>\n<p>The correct test is to catch <code>EOFException</code> and break, not to read until <code>readObject()</code> returns null.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1403279343,"post_id":24329002,"comment_id":37611343,"body_markdown":"It won&#39;t avoid the EOFException check. There can&#39;t be any guarantee that the writing process actually wrote the number of objects specified by the header count. It could have written fewer and then been interrupted, or failed somehow. It could even have written more. You still have to deal with EOFException.","body":"It won&#39;t avoid the EOFException check. There can&#39;t be any guarantee that the writing process actually wrote the number of objects specified by the header count. It could have written fewer and then been interrupted, or failed somehow. It could even have written more. You still have to deal with EOFException."},{"owner":{"account_id":2468942,"reputation":1563,"user_id":2151331,"display_name":"fajarkoe"},"score":0,"creation_date":1403279575,"post_id":24329002,"comment_id":37611482,"body_markdown":"@EJP That is correct. I am assuming that the file is intact. That is to say, the file can be written without any problem. If don&#39;t assume this, we may get other exceptions, not just EOFException.","body":"@EJP That is correct. I am assuming that the file is intact. That is to say, the file can be written without any problem. If don&#39;t assume this, we may get other exceptions, not just EOFException."}],"tags":[],"owner":{"account_id":2468942,"reputation":1563,"user_id":2151331,"display_name":"fajarkoe"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403272629,"creation_date":1403272629,"answer_id":24329002,"question_id":24328545,"body_markdown":"EJP is correct that the error happens because the method `readObject()` does not return NULL when there is no more Show in the file.\r\n\r\nEJP also has suggested a solution. I just want to suggest several other solutions, but instead of fixing the code that read the file, the solutions fix the code that write the file.\r\n\r\nCurrently, the file is generated by calling `writeObject()` method multiple times, each with a `Show` object. Instead of doing this you can:\r\n\r\n1. Create a `List` object that holds the shows. Write this `List` into file. When you read this file, you can just read the `List` back. You don&#39;t have to use while loop, and therefore, avoid the EOF exception check.\r\n\r\n2. Write the number of shows first to the file. After that, write the shows, one by one, to the file. When you read the file, you need to first read the number of shows, which informs you how many shows to read from the file. This will avoid the EOF exception check.","title":"Why am I getting java.io.EOFException?","body":"<p>EJP is correct that the error happens because the method <code>readObject()</code> does not return NULL when there is no more Show in the file.</p>\n\n<p>EJP also has suggested a solution. I just want to suggest several other solutions, but instead of fixing the code that read the file, the solutions fix the code that write the file.</p>\n\n<p>Currently, the file is generated by calling <code>writeObject()</code> method multiple times, each with a <code>Show</code> object. Instead of doing this you can:</p>\n\n<ol>\n<li><p>Create a <code>List</code> object that holds the shows. Write this <code>List</code> into file. When you read this file, you can just read the <code>List</code> back. You don't have to use while loop, and therefore, avoid the EOF exception check.</p></li>\n<li><p>Write the number of shows first to the file. After that, write the shows, one by one, to the file. When you read the file, you need to first read the number of shows, which informs you how many shows to read from the file. This will avoid the EOF exception check.</p></li>\n</ol>\n"}],"owner":{"account_id":4554113,"reputation":19,"user_id":3698300,"display_name":"rohit.agrawal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24328780,"answer_count":2,"score":2,"last_activity_date":1689892479,"creation_date":1403271215,"question_id":24328545,"body_markdown":"This is a method to read show details from a .ser file containing serialized objects of type Show. The method successfully return the list but gives an Exception before. Why is it so and how do I get rid of it?\r\n\r\n\r\n\tpublic List&lt;Show&gt; populateDataFromFile(String fileName) {\r\n\t\t\tList&lt;Show&gt; shows=new ArrayList&lt;Show&gt;();\r\n\t\t\tObjectInputStream obj=null;\r\n\t\ttry {\r\n\t\t\tFileInputStream fin=new FileInputStream(fileName);\r\n\t\t\tobj=new ObjectInputStream(fin);\r\n\t\t\tShow show=null;\r\n\t\t\twhile((show=(Show) obj.readObject())!=null)\r\n\t\t\t{\r\n\t\t\t\tshows.add(show);\r\n\t\t\t\tshow.getShowName();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(shows);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}catch(ClassNotFoundException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}finally\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tobj.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn shows;\r\n\t}\r\n\r\n\r\n\r\nThe output is\r\n\r\n    java.io.EOFException\r\n\tat java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2571)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1315)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:369)\r\n\tat com.util.DataManagerImpl.populateDataFromFile(DataManagerImpl.java:23)\r\n\tat com.psl.Client.main(Client.java:9)\r\n    Show Name: Sahi re Sahi\r\n    Show Time: 6:30 PM\r\n    Seats Available: 40\r\n    Show Name: Ek Shyam Aapke Naam\r\n    Show Time: 6:30 PM\r\n    Seats Available: 40\r\n    Show Name: Moruchi Maushi\r\n    Show Time: 6:30 PM\r\n    Seats Available: 40\r\n    Show Name: All The Best\r\n    Show Time: 6:30 PM\r\n    Seats Available: 40\r\n    Show Name: Naksharanche Dene\r\n    Show Time: 6:30 PM\r\n    Seats Available: 40\r\n\r\nThe main method is\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tDataManager dm=new DataManagerImpl();\r\n\t\tList&lt;Show&gt;shows=dm.populateDataFromFile(&quot;ShowDetails.ser&quot;);\r\n\t\t// Call all the functionalities from here to test your code.    \r\n\t\tfor(Show show:shows)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Show Name: &quot;+show.getShowName());\r\n\t\t\tSystem.out.println(&quot;Show Time: &quot;+show.getShowTime());\r\n\t\t\tSystem.out.println(&quot;Seats Available: &quot;+show.getSeatsAvailable());\r\n\t\t}\r\n\t}","title":"Why am I getting java.io.EOFException?","body":"<p>This is a method to read show details from a .ser file containing serialized objects of type Show. The method successfully return the list but gives an Exception before. Why is it so and how do I get rid of it?</p>\n\n<pre><code>public List&lt;Show&gt; populateDataFromFile(String fileName) {\n        List&lt;Show&gt; shows=new ArrayList&lt;Show&gt;();\n        ObjectInputStream obj=null;\n    try {\n        FileInputStream fin=new FileInputStream(fileName);\n        obj=new ObjectInputStream(fin);\n        Show show=null;\n        while((show=(Show) obj.readObject())!=null)\n        {\n            shows.add(show);\n            show.getShowName();\n        }\n        System.out.println(shows);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }catch(ClassNotFoundException e)\n    {\n        e.printStackTrace();\n    }finally\n    {\n        try {\n            obj.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    return shows;\n}\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>java.io.EOFException\nat java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2571)\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1315)\nat java.io.ObjectInputStream.readObject(ObjectInputStream.java:369)\nat com.util.DataManagerImpl.populateDataFromFile(DataManagerImpl.java:23)\nat com.psl.Client.main(Client.java:9)\nShow Name: Sahi re Sahi\nShow Time: 6:30 PM\nSeats Available: 40\nShow Name: Ek Shyam Aapke Naam\nShow Time: 6:30 PM\nSeats Available: 40\nShow Name: Moruchi Maushi\nShow Time: 6:30 PM\nSeats Available: 40\nShow Name: All The Best\nShow Time: 6:30 PM\nSeats Available: 40\nShow Name: Naksharanche Dene\nShow Time: 6:30 PM\nSeats Available: 40\n</code></pre>\n\n<p>The main method is</p>\n\n<pre><code>public static void main(String[] args) {\n    DataManager dm=new DataManagerImpl();\n    List&lt;Show&gt;shows=dm.populateDataFromFile(\"ShowDetails.ser\");\n    // Call all the functionalities from here to test your code.    \n    for(Show show:shows)\n    {\n        System.out.println(\"Show Name: \"+show.getShowName());\n        System.out.println(\"Show Time: \"+show.getShowTime());\n        System.out.println(\"Seats Available: \"+show.getSeatsAvailable());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","microservices","httpclient","logbook"],"owner":{"account_id":11858721,"reputation":1,"user_id":8678051,"display_name":"Jackeline Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689892040,"creation_date":1689892040,"question_id":76734077,"body_markdown":"My service sends requests for another service that in some use cases, send requests for a third service. I want to log the requests and responses generated in the interaction of my second and third services with the same correlationId that exists in the logs from my first service.\r\nCan I do that using Logbook and java.net.http.HttpClient? And how?\r\nregards.\r\n\r\n\r\nI already configurated logbook at my service and I can log all requests and responses from this service correctly. \r\nBut when I call an endpoint that have interactions with another services, I can&#39;t configure the correlation and log the requests and responses as I want.","title":"How can I log the requests and responses from integrated services using logbook?","body":"<p>My service sends requests for another service that in some use cases, send requests for a third service. I want to log the requests and responses generated in the interaction of my second and third services with the same correlationId that exists in the logs from my first service.\nCan I do that using Logbook and java.net.http.HttpClient? And how?\nregards.</p>\n<p>I already configurated logbook at my service and I can log all requests and responses from this service correctly.\nBut when I call an endpoint that have interactions with another services, I can't configure the correlation and log the requests and responses as I want.</p>\n"},{"tags":["java","enums","maven-plugin"],"comments":[{"owner":{"account_id":3362599,"reputation":539,"user_id":2824080,"accept_rate":70,"display_name":"robross0606"},"score":0,"creation_date":1689890354,"post_id":76733806,"comment_id":135281329,"body_markdown":"I was finally able to find https://issues.apache.org/jira/browse/MNG-4292 and https://issues.apache.org/jira/browse/MNG-5861.  MNG-5861 comment says &quot;Enums are supported, see the Enum section here: http://maven.apache.org/guides/plugin/guide-java-plugin-development.html&quot; but that page does not appear to have any such section.  So confusing...","body":"I was finally able to find <a href=\"https://issues.apache.org/jira/browse/MNG-4292\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MNG-4292</a> and <a href=\"https://issues.apache.org/jira/browse/MNG-5861\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MNG-5861</a>.  MNG-5861 comment says &quot;Enums are supported, see the Enum section here: <a href=\"http://maven.apache.org/guides/plugin/guide-java-plugin-development.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/plugin/&hellip;</a>&quot; but that page does not appear to have any such section.  So confusing..."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689891774,"creation_date":1689891774,"answer_id":76734057,"question_id":76733806,"body_markdown":"Attribute `defaultValue` of `@Parameter` annotation is a `String` type.\r\n\r\nAll plugins parameter in pom.xml and/or in command line are provided as String, so `defaultValue` is also a String type.  \r\nMaven convert parameters from String to destination type in runtime.\r\nHere is list of common converters: https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Configuring_Parameters\r\n \r\n\r\nFor annotation attribute you must provide a constant value, so in your case it must be:\r\n\r\n```java\r\n@Parameter(defaultValue = &quot;DIRECT&quot;)\r\n```\r\n\r\nFor Enums Maven will use `Enum.valueOf(String)` for convert this value in runtime.\r\n\r\n---\r\n\r\nASF project JIRA has address: https://issues.apache.org/   \r\nCorrect address for mentioned issues is: https://issues.apache.org/jira/browse/MNG-4292\r\n","title":"Using a Java enum as a Maven mojo property","body":"<p>Attribute <code>defaultValue</code> of <code>@Parameter</code> annotation is a <code>String</code> type.</p>\n<p>All plugins parameter in pom.xml and/or in command line are provided as String, so <code>defaultValue</code> is also a String type.<br />\nMaven convert parameters from String to destination type in runtime.\nHere is list of common converters: <a href=\"https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Configuring_Parameters\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Configuring_Parameters</a></p>\n<p>For annotation attribute you must provide a constant value, so in your case it must be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(defaultValue = &quot;DIRECT&quot;)\n</code></pre>\n<p>For Enums Maven will use <code>Enum.valueOf(String)</code> for convert this value in runtime.</p>\n<hr />\n<p>ASF project JIRA has address: <a href=\"https://issues.apache.org/\" rel=\"nofollow noreferrer\">https://issues.apache.org/</a><br />\nCorrect address for mentioned issues is: <a href=\"https://issues.apache.org/jira/browse/MNG-4292\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MNG-4292</a></p>\n"}],"owner":{"account_id":3362599,"reputation":539,"user_id":2824080,"accept_rate":70,"display_name":"robross0606"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76734057,"answer_count":1,"score":0,"last_activity_date":1689891774,"creation_date":1689888396,"question_id":76733806,"body_markdown":"I&#39;m building a custom Maven plugin and would like one of the configuration parameters of the mojo to be driven by a Java enum.  I&#39;ve searched all over the web and cannot seem to find any indication of how/whether this is possible, short of references to an &quot;MNG-4292&quot; ticket ([ref][1]) which seem to imply it is possible but the links are dead.\r\n\r\nI tried creating an enum \r\n\r\n```java\r\npublic enum MyEnum {\r\n\tNONE,\r\n\tDIRECT,\r\n\tINCREMENT\r\n}\r\n```\r\n\r\nand then using it on a `@Parameter` annotation \r\n\r\n```java\r\nimport org.apache.maven.plugin.AbstractMojo;\r\n\r\nimport org.apache.maven.plugin.MojoExecutionException;\r\nimport org.apache.maven.plugin.MojoFailureException;\r\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\r\nimport org.apache.maven.plugins.annotations.Mojo;\r\nimport org.apache.maven.plugins.annotations.Parameter;\r\n\r\nimport java.util.Enumeration;\r\nimport java.util.Properties;\r\n\r\n/**\r\n * My Mojo.\r\n */\r\n@Mojo(name = &quot;sync&quot;, defaultPhase = LifecyclePhase.GENERATE_RESOURCES, threadSafe = true)\r\npublic class MyMojo extends AbstractMojo {\r\n\r\n  @Parameter(defaultValue = MyEnum.DIRECT)\r\n  private MyEnum pickOne;\r\n\r\n  ...\r\n}\r\n```\r\n\r\nHowever, I get IDE errors like:\r\n\r\n&gt; Type mismatch: cannot convert from MyEnum to String\r\n\r\n\r\nCan anyone explain how/if you can use a Java enum on a Maven mojo parameter?\r\n\r\n\r\n  [1]: https://issues.maven.apache.narkive.com/6ycxGZQo/jira-created-mng-4292-support-enum-type-parameters-in-mojos","title":"Using a Java enum as a Maven mojo property","body":"<p>I'm building a custom Maven plugin and would like one of the configuration parameters of the mojo to be driven by a Java enum.  I've searched all over the web and cannot seem to find any indication of how/whether this is possible, short of references to an &quot;MNG-4292&quot; ticket (<a href=\"https://issues.maven.apache.narkive.com/6ycxGZQo/jira-created-mng-4292-support-enum-type-parameters-in-mojos\" rel=\"nofollow noreferrer\">ref</a>) which seem to imply it is possible but the links are dead.</p>\n<p>I tried creating an enum</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum MyEnum {\n    NONE,\n    DIRECT,\n    INCREMENT\n}\n</code></pre>\n<p>and then using it on a <code>@Parameter</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.maven.plugin.AbstractMojo;\n\nimport org.apache.maven.plugin.MojoExecutionException;\nimport org.apache.maven.plugin.MojoFailureException;\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.plugins.annotations.Parameter;\n\nimport java.util.Enumeration;\nimport java.util.Properties;\n\n/**\n * My Mojo.\n */\n@Mojo(name = &quot;sync&quot;, defaultPhase = LifecyclePhase.GENERATE_RESOURCES, threadSafe = true)\npublic class MyMojo extends AbstractMojo {\n\n  @Parameter(defaultValue = MyEnum.DIRECT)\n  private MyEnum pickOne;\n\n  ...\n}\n</code></pre>\n<p>However, I get IDE errors like:</p>\n<blockquote>\n<p>Type mismatch: cannot convert from MyEnum to String</p>\n</blockquote>\n<p>Can anyone explain how/if you can use a Java enum on a Maven mojo parameter?</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689891217,"creation_date":1689881749,"answer_id":76733213,"question_id":76731755,"body_markdown":"When injecting a [nested controller][1], the field name follows the pattern of `&lt;fx:id&gt;Controller`. Since you have:\r\n\r\n&gt;```xml\r\n&gt; &lt;fx:include source=&quot;overview-view.fxml&quot; fx:id=&quot;overviewPane&quot;/&gt;\r\n&gt;```\r\n\r\nThat means you need to have `overviewPaneController` as the name of the field declared in `MainController`.\r\n\r\nYou have a similar problem with `aController`. In the FXML file, you have `fx:id=&quot;APane&quot;`. So, the field name actually needs to be `APaneController`. Note the capital `A` there, because that&#39;s what you have in the FXML file. I recommend fixing the name in the FXML file to `aPane` and then use `aPaneController` as the field name. That additionally makes it align with the corresponding node field:\r\n\r\n&gt; ```java\r\n&gt; @FXML \r\n&gt; private Pane aPane;\r\n&gt; ```\r\n\r\nAnd it makes it so you&#39;re following standard Java naming conventions.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers","title":"Injected Controllers throw NullpointerException in JavaFX","body":"<p>When injecting a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"nofollow noreferrer\">nested controller</a>, the field name follows the pattern of <code>&lt;fx:id&gt;Controller</code>. Since you have:</p>\n<blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fx:include source=&quot;overview-view.fxml&quot; fx:id=&quot;overviewPane&quot;/&gt;\n</code></pre>\n</blockquote>\n<p>That means you need to have <code>overviewPaneController</code> as the name of the field declared in <code>MainController</code>.</p>\n<p>You have a similar problem with <code>aController</code>. In the FXML file, you have <code>fx:id=&quot;APane&quot;</code>. So, the field name actually needs to be <code>APaneController</code>. Note the capital <code>A</code> there, because that's what you have in the FXML file. I recommend fixing the name in the FXML file to <code>aPane</code> and then use <code>aPaneController</code> as the field name. That additionally makes it align with the corresponding node field:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML \nprivate Pane aPane;\n</code></pre>\n</blockquote>\n<p>And it makes it so you're following standard Java naming conventions.</p>\n"}],"owner":{"account_id":12103743,"reputation":37,"user_id":8843403,"display_name":"Tony_V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76733213,"answer_count":1,"score":1,"last_activity_date":1689891217,"creation_date":1689869295,"question_id":76731755,"body_markdown":"In this application a HBox mainView contains a treeView and an overView containing a Button &quot;A&quot;. Pressing the button will make the overView disappear and ViewA appear instead. \r\n\r\n\r\n**main-view.fxml:**\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    \r\n    &lt;HBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:id=&quot;mainView&quot; fx:controller=&quot;com.desktop.controllers.MainController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;fx:include source=&quot;tree-view.fxml&quot; fx:id=&quot;treePane&quot;/&gt;\r\n            &lt;fx:include source=&quot;overview-view.fxml&quot; fx:id=&quot;overviewPane&quot;/&gt;\r\n            &lt;fx:include source=&quot;A-view.fxml&quot; visible=&quot;false&quot; fx:id=&quot;APane&quot;/&gt;\r\n        &lt;/children&gt;\r\n    &lt;/HBox&gt;\r\n\r\n**overview-view.fxml:**\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:id=&quot;overviewPane&quot; fx:controller=&quot;com.desktop.controllers.OverviewController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;Button fx:id=&quot;AButton&quot; text=&quot;A&quot; onAction=&quot;#handleSwitchToA&quot;/&gt;\r\n        &lt;/children&gt;\r\n    &lt;/VBox&gt;\r\n\r\n**a-view.fxml:**\r\n\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:id=&quot;aPane&quot; fx:controller=&quot;com.desktop.controllers.AController&quot;&gt;\r\n        &lt;children&gt;\r\n                &lt;Label fx:id=&quot;aLabel&quot; text=&quot;A&quot;/&gt;\r\n        &lt;/children&gt;\r\n    &lt;/VBox&gt;\r\n\r\nSince the application is very small I do not want to create multiple scenes and pass the treeView as reference. Instead I want to maintain one scene and just toggle the visibility between the Views A ... etc from the overview.\r\nI tried to copy the injection of MainController like in this [example][1] \r\n\r\n**MainController:**\r\n\r\n    public class MainController implements Initializable {\r\n        private Pane rootPane;\r\n        @FXML\r\n        private HBox mainView;\r\n        @FXML\r\n        private AController aController;\r\n        @FXML\r\n        private OverviewController overviewController;\r\n        @FXML\r\n        private VBox overviewPane;\r\n        @FXML\r\n        private Pane aPane;\r\n        @FXML\r\n        public void handleSwitchToA() {\r\n            overviewController.getOverviewPane().setVisible(false);\r\n            overviewController.getOverviewPane().setManaged(false);\r\n    \r\n            aController.getAPane().setVisible(true);\r\n            aController.getAPane().setVisible(true);\r\n        }\r\n        public void setStartPane(Pane rootPane) {\r\n            this.rootPane = rootPane;\r\n        }\r\n        @Override\r\n        @FXML\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            assert overviewPane != null : &quot;fx:id=\\&quot;overviewPane\\&quot; was not injected: check your FXML file &#39;main-view.fxml&#39;.&quot;;\r\n            overviewController.setMainController(this);\r\n            aController.setMainController(this);\r\n        }\r\n    }\r\n\r\n**OverViewController:**\r\n\r\n    public class OverviewController implements Initializable {\r\n        @FXML\r\n        private VBox overviewPane;\r\n        private MainController mainController;\r\n        public void setMainController(MainController mainController) {\r\n            this.mainController = mainController;\r\n        }\r\n        public VBox getOverviewPane() {\r\n            return overviewPane;\r\n        }\r\n        @FXML\r\n        void handleSwitchToA(ActionEvent actionEvent) {mainController.handleSwitchToA();}\r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n        }\r\n    }\r\n\r\n**TestApplication:**\r\n\r\n    public class TestApplication extends Application {\r\n        private MainController mainController;\r\n        private TreeController treeController;\r\n        private Stage primaryStage;\r\n        Pane rootPane;\r\n        Scene rootScene;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws IOException {\r\n            this.primaryStage = primaryStage;\r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/desktop/main-view.fxml&quot;));\r\n            rootPane = fxmlLoader.load();\r\n            rootScene = new Scene(rootPane);\r\n            mainController = fxmlLoader.getController();\r\n            mainController.setStartPane(rootPane);\r\n            primaryStage.setScene(rootScene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nUnfortunately I run into an initialization issue here:\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke \r\n    &quot;com.desktop.controllers.OverviewController.setMainController(com.desktop.controllers.MainController)&quot; because &quot;this.overviewController&quot; is null\r\n    \tat com.madesktop/com.desktop.controllers.MainController.initialize(MainController.java:67)\r\n    \tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2655)\r\n    \t... 12 more\r\n\r\n\r\nI tried to track the issue by putting println(&quot;&quot;) into the initialize() methods of the controllers.\r\nThe order in which the controllers get initialized is\r\n1.OverViewController\r\n2.AController\r\n3.MainController\r\n\r\nI cannot figure out why OverViewController is not initialized. Can anybody help out ?\r\n\r\n  [1]: https://stackoverflow.com/a/35867504/8843403\r\n\r\n","title":"Injected Controllers throw NullpointerException in JavaFX","body":"<p>In this application a HBox mainView contains a treeView and an overView containing a Button &quot;A&quot;. Pressing the button will make the overView disappear and ViewA appear instead.</p>\n<p><strong>main-view.fxml:</strong>\n</p>\n<pre><code>&lt;?import javafx.scene.layout.HBox?&gt;\n\n&lt;HBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:id=&quot;mainView&quot; fx:controller=&quot;com.desktop.controllers.MainController&quot;&gt;\n    &lt;children&gt;\n        &lt;fx:include source=&quot;tree-view.fxml&quot; fx:id=&quot;treePane&quot;/&gt;\n        &lt;fx:include source=&quot;overview-view.fxml&quot; fx:id=&quot;overviewPane&quot;/&gt;\n        &lt;fx:include source=&quot;A-view.fxml&quot; visible=&quot;false&quot; fx:id=&quot;APane&quot;/&gt;\n    &lt;/children&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p><strong>overview-view.fxml:</strong>\n</p>\n<pre><code>&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:id=&quot;overviewPane&quot; fx:controller=&quot;com.desktop.controllers.OverviewController&quot;&gt;\n    &lt;children&gt;\n        &lt;Button fx:id=&quot;AButton&quot; text=&quot;A&quot; onAction=&quot;#handleSwitchToA&quot;/&gt;\n    &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>a-view.fxml:</strong></p>\n<pre><code>&lt;?import javafx.scene.control.Label?&gt;\n&lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:id=&quot;aPane&quot; fx:controller=&quot;com.desktop.controllers.AController&quot;&gt;\n    &lt;children&gt;\n            &lt;Label fx:id=&quot;aLabel&quot; text=&quot;A&quot;/&gt;\n    &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>Since the application is very small I do not want to create multiple scenes and pass the treeView as reference. Instead I want to maintain one scene and just toggle the visibility between the Views A ... etc from the overview.\nI tried to copy the injection of MainController like in this <a href=\"https://stackoverflow.com/a/35867504/8843403\">example</a></p>\n<p><strong>MainController:</strong></p>\n<pre><code>public class MainController implements Initializable {\n    private Pane rootPane;\n    @FXML\n    private HBox mainView;\n    @FXML\n    private AController aController;\n    @FXML\n    private OverviewController overviewController;\n    @FXML\n    private VBox overviewPane;\n    @FXML\n    private Pane aPane;\n    @FXML\n    public void handleSwitchToA() {\n        overviewController.getOverviewPane().setVisible(false);\n        overviewController.getOverviewPane().setManaged(false);\n\n        aController.getAPane().setVisible(true);\n        aController.getAPane().setVisible(true);\n    }\n    public void setStartPane(Pane rootPane) {\n        this.rootPane = rootPane;\n    }\n    @Override\n    @FXML\n    public void initialize(URL location, ResourceBundle resources) {\n        assert overviewPane != null : &quot;fx:id=\\&quot;overviewPane\\&quot; was not injected: check your FXML file 'main-view.fxml'.&quot;;\n        overviewController.setMainController(this);\n        aController.setMainController(this);\n    }\n}\n</code></pre>\n<p><strong>OverViewController:</strong></p>\n<pre><code>public class OverviewController implements Initializable {\n    @FXML\n    private VBox overviewPane;\n    private MainController mainController;\n    public void setMainController(MainController mainController) {\n        this.mainController = mainController;\n    }\n    public VBox getOverviewPane() {\n        return overviewPane;\n    }\n    @FXML\n    void handleSwitchToA(ActionEvent actionEvent) {mainController.handleSwitchToA();}\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    }\n}\n</code></pre>\n<p><strong>TestApplication:</strong></p>\n<pre><code>public class TestApplication extends Application {\n    private MainController mainController;\n    private TreeController treeController;\n    private Stage primaryStage;\n    Pane rootPane;\n    Scene rootScene;\n\n    @Override\n    public void start(Stage primaryStage) throws IOException {\n        this.primaryStage = primaryStage;\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/desktop/main-view.fxml&quot;));\n        rootPane = fxmlLoader.load();\n        rootScene = new Scene(rootPane);\n        mainController = fxmlLoader.getController();\n        mainController.setStartPane(rootPane);\n        primaryStage.setScene(rootScene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Unfortunately I run into an initialization issue here:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke \n&quot;com.desktop.controllers.OverviewController.setMainController(com.desktop.controllers.MainController)&quot; because &quot;this.overviewController&quot; is null\n    at com.madesktop/com.desktop.controllers.MainController.initialize(MainController.java:67)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2655)\n    ... 12 more\n</code></pre>\n<p>I tried to track the issue by putting println(&quot;&quot;) into the initialize() methods of the controllers.\nThe order in which the controllers get initialized is\n1.OverViewController\n2.AController\n3.MainController</p>\n<p>I cannot figure out why OverViewController is not initialized. Can anybody help out ?</p>\n"},{"tags":["java","spring-boot","apache-flink","rocksdb"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1689565170,"post_id":76676862,"comment_id":135226161,"body_markdown":"How are you restarting the application?","body":"How are you restarting the application?"},{"owner":{"account_id":26258892,"reputation":1,"user_id":19930540,"display_name":"saif"},"score":0,"creation_date":1689655744,"post_id":76676862,"comment_id":135240528,"body_markdown":"I am manually restarting the application or you can say the .jar file of the application","body":"I am manually restarting the application or you can say the .jar file of the application"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1689806426,"post_id":76676862,"comment_id":135267466,"body_markdown":"With this manual restart, are you supplying either a retained checkpoint or a savepoint? Without this, the state will be lost.","body":"With this manual restart, are you supplying either a retained checkpoint or a savepoint? Without this, the state will be lost."},{"owner":{"account_id":26258892,"reputation":1,"user_id":19930540,"display_name":"saif"},"score":0,"creation_date":1689853806,"post_id":76676862,"comment_id":135273737,"body_markdown":"No I am not supplying retained checkpoint or a savepoint, How I am supposed to supply retained checkpoint or savepoint ? Do i need to add any configuration in my code or I need to run it with an argument if so what argument do I need to provide?","body":"No I am not supplying retained checkpoint or a savepoint, How I am supposed to supply retained checkpoint or savepoint ? Do i need to add any configuration in my code or I need to run it with an argument if so what argument do I need to provide?"}],"answers":[{"comments":[{"owner":{"account_id":26258892,"reputation":1,"user_id":19930540,"display_name":"saif"},"score":0,"creation_date":1689898112,"post_id":76733959,"comment_id":135281990,"body_markdown":"Hello david I am not using flink independently, I am using flink with my java application by using flink core, flink java stream, flink kafka connector, flick rockdb etc. So by running the java application it creates a flick cluster by itself. So in this case what do you suggest what should I do to recover the previously stored states.","body":"Hello david I am not using flink independently, I am using flink with my java application by using flink core, flink java stream, flink kafka connector, flick rockdb etc. So by running the java application it creates a flick cluster by itself. So in this case what do you suggest what should I do to recover the previously stored states."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1689916717,"post_id":76733959,"comment_id":135283512,"body_markdown":"That mode of running Flink is not intended to be used for production deployments.","body":"That mode of running Flink is not intended to be used for production deployments."},{"owner":{"account_id":26258892,"reputation":1,"user_id":19930540,"display_name":"saif"},"score":0,"creation_date":1690975282,"post_id":76733959,"comment_id":135426963,"body_markdown":"Hello david, when I run the jar file with the Flink clusture I get the following error \n\norg.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not instantiate outputs in order.\n\tat org.apache.flink.streaming.api.graph.StreamConfig.getVertexNonChainedOutputs(StreamConfig.java:559)\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.createRecordWriters(StreamTask.java:1618)\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.createRecordWriterDelegate(StreamTask.java:1602)\n\t\n\nCan You tell me how to overcome this ?","body":"Hello david, when I run the jar file with the Flink clusture I get the following error   org.apache.flink.streaming.runtime.tasks.StreamTaskException&zwnj;&#8203;: Could not instantiate outputs in order. \tat org.apache.flink.streaming.api.graph.StreamConfig.getVertexN&zwnj;&#8203;onChainedOutputs(Str&zwnj;&#8203;eamConfig.java:559) \tat org.apache.flink.streaming.runtime.tasks.StreamTask.createRe&zwnj;&#8203;cordWriters(StreamTa&zwnj;&#8203;sk.java:1618) \tat org.apache.flink.streaming.runtime.tasks.StreamTask.createRe&zwnj;&#8203;cordWriterDelegate(S&zwnj;&#8203;treamTask.java:1602) \t  Can You tell me how to overcome this ?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1690991268,"post_id":76733959,"comment_id":135430923,"body_markdown":"I&#39;ve never seen that error. I don&#39;t know what can cause it.","body":"I&#39;ve never seen that error. I don&#39;t know what can cause it."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689890598,"creation_date":1689890260,"answer_id":76733959,"question_id":76676862,"body_markdown":"By default, each time you a Flink application the job starts without any state. In order to restart an application using state saved from an earlier job, you need to explicitly make that happen by specifying the location of the savepoint (or checkpoint).\r\n\r\nRestarting a job from a savepoint (or a retained checkpoint) using the CLI is described [here in docs](https://nightlies.apache.org/flink/flink-docs-stable/docs/deployment/cli/#starting-a-job-from-a-savepoint).\r\n\r\nAn example:\r\n\r\n```bash\r\n$ ./bin/flink run \\\r\n      --detached \\ \r\n      --fromSavepoint /tmp/flink-savepoints/savepoint-cca7bc-bb1e257f0dab \\\r\n      ./examples/streaming/StateMachineExample.jar\r\n```\r\n\r\nThe same thing can also be done from [the REST API](https://nightlies.apache.org/flink/flink-docs-stable/docs/ops/rest_api/#jars-jarid-run).\r\n\r\nFor a more complete tutorial, see [the section in the Flink Operations Playground on upgrading and rescaling a job](https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/try-flink/flink-operations-playground/#upgrading--rescaling-a-job).\r\n\r\nFor more information about which operational tasks can safely be done with a savepoint vs a checkpoint, see [Checkpoints vs Savepoints](https://nightlies.apache.org/flink/flink-docs-stable/docs/ops/state/checkpoints_vs_savepoints/).","title":"Not able to recover states after restart apche flink with Spring boot","body":"<p>By default, each time you a Flink application the job starts without any state. In order to restart an application using state saved from an earlier job, you need to explicitly make that happen by specifying the location of the savepoint (or checkpoint).</p>\n<p>Restarting a job from a savepoint (or a retained checkpoint) using the CLI is described <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/deployment/cli/#starting-a-job-from-a-savepoint\" rel=\"nofollow noreferrer\">here in docs</a>.</p>\n<p>An example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./bin/flink run \\\n      --detached \\ \n      --fromSavepoint /tmp/flink-savepoints/savepoint-cca7bc-bb1e257f0dab \\\n      ./examples/streaming/StateMachineExample.jar\n</code></pre>\n<p>The same thing can also be done from <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/ops/rest_api/#jars-jarid-run\" rel=\"nofollow noreferrer\">the REST API</a>.</p>\n<p>For a more complete tutorial, see <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/try-flink/flink-operations-playground/#upgrading--rescaling-a-job\" rel=\"nofollow noreferrer\">the section in the Flink Operations Playground on upgrading and rescaling a job</a>.</p>\n<p>For more information about which operational tasks can safely be done with a savepoint vs a checkpoint, see <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/ops/state/checkpoints_vs_savepoints/\" rel=\"nofollow noreferrer\">Checkpoints vs Savepoints</a>.</p>\n"}],"owner":{"account_id":26258892,"reputation":1,"user_id":19930540,"display_name":"saif"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689890598,"creation_date":1689232927,"question_id":76676862,"body_markdown":"```\r\n             Configuration configuration = new Configuration();\r\n            configuration.setBoolean(&quot;state.backend.local-recovery&quot;, true);\r\n            configuration.setString(&quot;state.checkpoints.dir&quot;, rcokDbStorageLocation);\r\n            configuration.setString(&quot;state.checkpoints.num-retained&quot;, &quot;20&quot;);\r\n            StreamExecutionEnvironment environment = StreamExecutionEnvironment.createLocalEnvironment(1, configuration);\r\n            CheckpointConfig checkpointConfig = environment.getCheckpointConfig();\r\n            environment.setRestartStrategy(RestartStrategies.fixedDelayRestart(3, Time.seconds(5)));\r\n            checkpointConfig.enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);\r\n            environment.getConfig().enableObjectReuse();\r\n            environment.enableCheckpointing(5000, CheckpointingMode.EXACTLY_ONCE);\r\n            environment.setStateBackend((StateBackend)new RocksDBStateBackend(rcokDbStorageLocation).configure(configuration));\r\n            environment.getConfig().setGlobalJobParameters(configuration);\r\n            FlinkKafkaConsumer011&lt;String&gt; flinkKafkaConsumer2 = createStringConsumerForTopic(Constants.KAFKA_TOPIC_FLINK_LOGIN_FAILED);\r\n            DataStream&lt;String&gt; stringInputStream2 = environment.addSource(flinkKafkaConsumer2);\r\n\r\n            DataStream&lt;UserLoginRequest&gt; userLoginWithPinRequestDataStream = stringInputStream2.flatMap(new JsonDeserializer&lt;&gt;(UserLoginRequest.class)).returns(UserLoginRequest.class);\r\n            userLoginWithPinRequestDataStream\r\n                    .keyBy(UserLoginRequest::getUser_id)\r\n                    .process(new WrongLoginProcessor())\r\n                    .name(AppConstants.MONITOR_NAME.LOGIN_WITH_PIN);\r\n            environment.execute();\r\n```\r\n\r\nThis is my configuration at restart of my spring boot application I am not fetch previous states what is the issue here?\r\n\r\nfor example I had 2 states in the rockdb then after restart those 20 states should be recoverd from the rockdb","title":"Not able to recover states after restart apche flink with Spring boot","body":"<pre><code>             Configuration configuration = new Configuration();\n            configuration.setBoolean(&quot;state.backend.local-recovery&quot;, true);\n            configuration.setString(&quot;state.checkpoints.dir&quot;, rcokDbStorageLocation);\n            configuration.setString(&quot;state.checkpoints.num-retained&quot;, &quot;20&quot;);\n            StreamExecutionEnvironment environment = StreamExecutionEnvironment.createLocalEnvironment(1, configuration);\n            CheckpointConfig checkpointConfig = environment.getCheckpointConfig();\n            environment.setRestartStrategy(RestartStrategies.fixedDelayRestart(3, Time.seconds(5)));\n            checkpointConfig.enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);\n            environment.getConfig().enableObjectReuse();\n            environment.enableCheckpointing(5000, CheckpointingMode.EXACTLY_ONCE);\n            environment.setStateBackend((StateBackend)new RocksDBStateBackend(rcokDbStorageLocation).configure(configuration));\n            environment.getConfig().setGlobalJobParameters(configuration);\n            FlinkKafkaConsumer011&lt;String&gt; flinkKafkaConsumer2 = createStringConsumerForTopic(Constants.KAFKA_TOPIC_FLINK_LOGIN_FAILED);\n            DataStream&lt;String&gt; stringInputStream2 = environment.addSource(flinkKafkaConsumer2);\n\n            DataStream&lt;UserLoginRequest&gt; userLoginWithPinRequestDataStream = stringInputStream2.flatMap(new JsonDeserializer&lt;&gt;(UserLoginRequest.class)).returns(UserLoginRequest.class);\n            userLoginWithPinRequestDataStream\n                    .keyBy(UserLoginRequest::getUser_id)\n                    .process(new WrongLoginProcessor())\n                    .name(AppConstants.MONITOR_NAME.LOGIN_WITH_PIN);\n            environment.execute();\n</code></pre>\n<p>This is my configuration at restart of my spring boot application I am not fetch previous states what is the issue here?</p>\n<p>for example I had 2 states in the rockdb then after restart those 20 states should be recoverd from the rockdb</p>\n"},{"tags":["java","logging","apache-kafka","apache-flink"],"answers":[{"comments":[{"owner":{"account_id":11475245,"reputation":35,"user_id":8410936,"display_name":"JDP"},"score":0,"creation_date":1689837086,"post_id":76721605,"comment_id":135270436,"body_markdown":"Thanks for the response @OneCricketeer. If I am not wrong, KafkaAppender is used to write logs to a Kafka topic, so you are suggesting to use it to have the logs captured to a Kafka topic, quite unclear to me. Also just wanted to check if logging is not at all possible if we use the FlinkSQL API?","body":"Thanks for the response @OneCricketeer. If I am not wrong, KafkaAppender is used to write logs to a Kafka topic, so you are suggesting to use it to have the logs captured to a Kafka topic, quite unclear to me. Also just wanted to check if logging is not at all possible if we use the FlinkSQL API?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689890468,"post_id":76721605,"comment_id":135281338,"body_markdown":"I honestly didn&#39;t really understand your question. Flink uses log4j, and log4j can write to Kafka... That has nothing to do with creation of FlinkSQL tables. If you want to print the data from the table that you&#39;ve created, then you need to run a select query, which your question didn&#39;t include. Or, as answered, you should use `FlinkKafkaConsumer` to read records, which is different from the Table API","body":"I honestly didn&#39;t really understand your question. Flink uses log4j, and log4j can write to Kafka... That has nothing to do with creation of FlinkSQL tables. If you want to print the data from the table that you&#39;ve created, then you need to run a select query, which your question didn&#39;t include. Or, as answered, you should use <code>FlinkKafkaConsumer</code> to read records, which is different from the Table API"},{"owner":{"account_id":11475245,"reputation":35,"user_id":8410936,"display_name":"JDP"},"score":0,"creation_date":1689929719,"post_id":76721605,"comment_id":135285648,"body_markdown":"Apologies @OneCricketeer for any misunderstanding. I got your point on using the ```FlinkKafkaConsumer``` to consume the Kafka records, but since I am already using the Flink SQL API for reading from the Kafka topic , I wanted to know if there are any options that Flink provides to enable logging for the SQL operations (like the insert, update from which I can get the payload of Kafka) similar to how we can enable for hibernate or other ORM frameworks.","body":"Apologies @OneCricketeer for any misunderstanding. I got your point on using the <code>FlinkKafkaConsumer</code> to consume the Kafka records, but since I am already using the Flink SQL API for reading from the Kafka topic , I wanted to know if there are any options that Flink provides to enable logging for the SQL operations (like the insert, update from which I can get the payload of Kafka) similar to how we can enable for hibernate or other ORM frameworks."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689945998,"post_id":76721605,"comment_id":135288820,"body_markdown":"You need to execute a select query. From there, you get a TableResult object you can iterate over and log the rows. The Row object is the closest you&#39;ll get to ORM. https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sql/queries/overview/#execute-a-query outside of that, Flink log4j configs may or may not print any given query, I&#39;m not sure, but that&#39;s unrelated to Kafka","body":"You need to execute a select query. From there, you get a TableResult object you can iterate over and log the rows. The Row object is the closest you&#39;ll get to ORM. <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sql/queries/overview/#execute-a-query\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-master/docs/dev/table/&zwnj;&#8203;sql/&hellip;</a> outside of that, Flink log4j configs may or may not print any given query, I&#39;m not sure, but that&#39;s unrelated to Kafka"},{"owner":{"account_id":11475245,"reputation":35,"user_id":8410936,"display_name":"JDP"},"score":0,"creation_date":1690103730,"post_id":76721605,"comment_id":135304068,"body_markdown":"Thanks @OneCricketeer, I will try the way you have suggested and see if that would give me the expected result.","body":"Thanks @OneCricketeer, I will try the way you have suggested and see if that would give me the expected result."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771763,"creation_date":1689771763,"answer_id":76721605,"question_id":76720934,"body_markdown":"There&#39;s a log4j KafkaAppender, yes, but you&#39;ll need to explicitly log the records in the code; using FlinkKafkaConsumer class and manual iterating over the stream, rather than FlinkSQL api ","title":"Logs of Kafka payload in Table Api connector of Apache Flink","body":"<p>There's a log4j KafkaAppender, yes, but you'll need to explicitly log the records in the code; using FlinkKafkaConsumer class and manual iterating over the stream, rather than FlinkSQL api</p>\n"}],"owner":{"account_id":11475245,"reputation":35,"user_id":8410936,"display_name":"JDP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689890528,"creation_date":1689766894,"question_id":76720934,"body_markdown":"I am using the upsert-kafka table API connector of Apache Flink to consume events from a kafka topic, I want to log the kafka payloads that are consumed , is there a way to log it.\r\n\r\nMy code looks as below:\r\n\r\n```\r\nEnvironmentSettings settings = EnvironmentSettings.newInstance().inStreamingMode().build();\r\n\t\tTableEnvironment tEnv = TableEnvironment.create(settings);\r\nString statement = &quot;CREATE TABLE Employee (\\r\\n&quot; +\r\n&quot;  employee  ROW(id STRING, name STRING\\r\\n&quot; +\r\n&quot;  ),\\r\\n&quot; +\r\n&quot;  PRIMARY KEY (employeeId) NOT ENFORCED\\r\\n&quot; +\r\n&quot;) WITH (\\r\\n&quot; +\r\n&quot;  &#39;connector&#39; = &#39;upsert-kafka&#39;,\\r\\n&quot; +\r\n&quot;  &#39;topic&#39; = &#39;employee&#39;,\\r\\n&quot; +\r\n&quot;  &#39;properties.bootstrap.servers&#39; = &#39;kafka-cp-kafka:9092&#39;,\\r\\n&quot; +\r\n&quot;  &#39;key.format&#39; = &#39;raw&#39;,\\r\\n&quot; +\r\n&quot;  &#39;value.format&#39; = &#39;avro-confluent&#39;,\\r\\n&quot; +\r\n&quot;  &#39;value.avro-confluent.url&#39; = &#39;http://kafka-cp-schema-registry:8081&#39;,\\r\\n&quot; +\r\n&quot;)&quot;;\r\ntEnv.executeSql(statement);\r\n```\r\nI added log4j.properties to enable log but it did not work. ","title":"Logs of Kafka payload in Table Api connector of Apache Flink","body":"<p>I am using the upsert-kafka table API connector of Apache Flink to consume events from a kafka topic, I want to log the kafka payloads that are consumed , is there a way to log it.</p>\n<p>My code looks as below:</p>\n<pre><code>EnvironmentSettings settings = EnvironmentSettings.newInstance().inStreamingMode().build();\n        TableEnvironment tEnv = TableEnvironment.create(settings);\nString statement = &quot;CREATE TABLE Employee (\\r\\n&quot; +\n&quot;  employee  ROW(id STRING, name STRING\\r\\n&quot; +\n&quot;  ),\\r\\n&quot; +\n&quot;  PRIMARY KEY (employeeId) NOT ENFORCED\\r\\n&quot; +\n&quot;) WITH (\\r\\n&quot; +\n&quot;  'connector' = 'upsert-kafka',\\r\\n&quot; +\n&quot;  'topic' = 'employee',\\r\\n&quot; +\n&quot;  'properties.bootstrap.servers' = 'kafka-cp-kafka:9092',\\r\\n&quot; +\n&quot;  'key.format' = 'raw',\\r\\n&quot; +\n&quot;  'value.format' = 'avro-confluent',\\r\\n&quot; +\n&quot;  'value.avro-confluent.url' = 'http://kafka-cp-schema-registry:8081',\\r\\n&quot; +\n&quot;)&quot;;\ntEnv.executeSql(statement);\n</code></pre>\n<p>I added log4j.properties to enable log but it did not work.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689234211,"post_id":76676164,"comment_id":135185135,"body_markdown":"Take a look at [ExecutorService](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html) and go from there","body":"Take a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a> and go from there"},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1689282995,"post_id":76676164,"comment_id":135195680,"body_markdown":"any other tutorial, library or any other existing examples to implement scheduler will be appreciated.","body":"any other tutorial, library or any other existing examples to implement scheduler will be appreciated."}],"answers":[{"tags":[],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689890289,"creation_date":1689890289,"answer_id":76733963,"question_id":76676164,"body_markdown":"After a long exploring options I found a solution of my problems through an existing libraries which is easy to integrate &amp; controllable.\r\n\r\n[Quartz][1] is the best fitted option in my case.\r\n\r\nQuartz Scheduler’s APIs and Terminologies\r\n-----------------------------------------\r\n\r\n**1. Scheduler: -**\r\nThe Primary API for scheduling, unscheduling, adding, and removing Jobs.\r\n\r\n**2. Job: -**\r\nThe interface to be implemented by classes that represent a ‘job’ in Quartz. It has a single method called execute() where you write the work that needs to be performed by the Job.\r\n\r\n**3. JobDetail: -**\r\nA JobDetail represents an instance of a Job. It also contains additional data in the form of a JobDataMap that is passed to the Job when it is executed.\r\nEvery JobDetail is identified by a JobKey that consists of a name and a group. The name must be unique within a group.\r\n\r\n**4. Trigger: -**\r\nA Trigger, as the name suggests, defines the schedule at which a given Job will be executed. A Job can have many Triggers, but a Trigger can only be associated with one Job. Every Trigger is identified by a TriggerKey that comprises of a name and a group. The name must be unique within a group Just like JobDetails, Triggers can also send parameters/data to the Job.\r\n\r\n**5. JobBuilder: -**\r\nJobBuilder is a fluent builder-style API to construct JobDetail instances.\r\n\r\n**6. TriggerBuilder: -**\r\nTriggerBuilder is used to instantiate Triggers.\r\n  \r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/","title":"Job Scheduler libraries in Java Swing / Desktop","body":"<p>After a long exploring options I found a solution of my problems through an existing libraries which is easy to integrate &amp; controllable.</p>\n<p><a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> is the best fitted option in my case.</p>\n<h2>Quartz Scheduler’s APIs and Terminologies</h2>\n<p><strong>1. Scheduler: -</strong>\nThe Primary API for scheduling, unscheduling, adding, and removing Jobs.</p>\n<p><strong>2. Job: -</strong>\nThe interface to be implemented by classes that represent a ‘job’ in Quartz. It has a single method called execute() where you write the work that needs to be performed by the Job.</p>\n<p><strong>3. JobDetail: -</strong>\nA JobDetail represents an instance of a Job. It also contains additional data in the form of a JobDataMap that is passed to the Job when it is executed.\nEvery JobDetail is identified by a JobKey that consists of a name and a group. The name must be unique within a group.</p>\n<p><strong>4. Trigger: -</strong>\nA Trigger, as the name suggests, defines the schedule at which a given Job will be executed. A Job can have many Triggers, but a Trigger can only be associated with one Job. Every Trigger is identified by a TriggerKey that comprises of a name and a group. The name must be unique within a group Just like JobDetails, Triggers can also send parameters/data to the Job.</p>\n<p><strong>5. JobBuilder: -</strong>\nJobBuilder is a fluent builder-style API to construct JobDetail instances.</p>\n<p><strong>6. TriggerBuilder: -</strong>\nTriggerBuilder is used to instantiate Triggers.</p>\n"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76733963,"answer_count":1,"score":0,"last_activity_date":1689890289,"creation_date":1689225776,"question_id":76676164,"body_markdown":"I need to build a `job scheduler` for manufacturing items, which will be used to schedule a jobs depending upon the `Jobs` &amp; `Datetime`. I don&#39;t have any idea which components will be helpful in `Java Swing application / desktop` &amp; some other `resources` to create this sort of form. \r\n\r\nIs there any library/jars exists to help me out to create this sort of requirements where user can schedule a job, can change a job like data bars? \r\n\r\nWhich components I can use to build scheduler, just like project scheduler?","title":"Job Scheduler libraries in Java Swing / Desktop","body":"<p>I need to build a <code>job scheduler</code> for manufacturing items, which will be used to schedule a jobs depending upon the <code>Jobs</code> &amp; <code>Datetime</code>. I don't have any idea which components will be helpful in <code>Java Swing application / desktop</code> &amp; some other <code>resources</code> to create this sort of form.</p>\n<p>Is there any library/jars exists to help me out to create this sort of requirements where user can schedule a job, can change a job like data bars?</p>\n<p>Which components I can use to build scheduler, just like project scheduler?</p>\n"},{"tags":["java","spring-boot","hibernate","maven","jpa"],"answers":[{"comments":[{"owner":{"account_id":28828413,"reputation":3,"user_id":22079441,"display_name":"JuiceWizard"},"score":0,"creation_date":1689920763,"post_id":76733913,"comment_id":135284067,"body_markdown":"I&#39;ve tried your solution but it still yields the same exception. If i enable spring.jpa.show-sql, hibernate generated sql shows correct queries being executed, but only after iterating over these lists i get ClassCastException: WriterJPA cannot be cast to class DirectorJPA","body":"I&#39;ve tried your solution but it still yields the same exception. If i enable spring.jpa.show-sql, hibernate generated sql shows correct queries being executed, but only after iterating over these lists i get ClassCastException: WriterJPA cannot be cast to class DirectorJPA"}],"tags":[],"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689889591,"creation_date":1689889591,"answer_id":76733913,"question_id":76713667,"body_markdown":"try to update the mapping to\r\n\r\n    @ManyToMany(targetEntity = DirectorJPA.class)\r\n    @JoinTable(\r\n            name = &quot;media_directors&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;director_id&quot;, referencedColumnName = &quot;person_id&quot;))\r\n    private List&lt;DirectorJPA&gt; directors = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany(targetEntity = WriterJPA.class)\r\n    @JoinTable(\r\n            name = &quot;media_writers&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;writer_id&quot;, referencedColumnName = &quot;person_id&quot;))\r\n    private List&lt;WriterJPA&gt; writers = new ArrayList&lt;&gt;();","title":"Spring Boot ClassCastException when iterating over lists of child classes with same parent, annotated many-to-many","body":"<p>try to update the mapping to</p>\n<pre><code>@ManyToMany(targetEntity = DirectorJPA.class)\n@JoinTable(\n        name = &quot;media_directors&quot;,\n        joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;director_id&quot;, referencedColumnName = &quot;person_id&quot;))\nprivate List&lt;DirectorJPA&gt; directors = new ArrayList&lt;&gt;();\n\n@ManyToMany(targetEntity = WriterJPA.class)\n@JoinTable(\n        name = &quot;media_writers&quot;,\n        joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;writer_id&quot;, referencedColumnName = &quot;person_id&quot;))\nprivate List&lt;WriterJPA&gt; writers = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":28828413,"reputation":3,"user_id":22079441,"display_name":"JuiceWizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689889591,"creation_date":1689689373,"question_id":76713667,"body_markdown":"I&#39;m building a REST api in java using Spring Boot 3.1.1 with Maven that retrieves information about Movies, their Directors and Writers. Movie class is a child of Media class, and has a many-to-many relationship with Director and Writer classes, whom both extend the same Person class.\r\n\r\nAfter retreiving MovieJPA objects from repository i get ClassCastException when iterating over DirectorJPA and WriterJPA lists. I can print them in console one after another using System.out.println, suggesting that their data is retreived from database, but only when i iterate over them one after another, i get the exception and i don&#39;t know why.\r\n\r\n**Media parent class:**\r\n\r\n```\r\n@Entity(name = &quot;Media&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@Table(name = &quot;media&quot;)\r\npublic class MediaJPA implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    //Other attributes\r\n    \r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;media_directors&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;director_id&quot;, referencedColumnName = &quot;person_id&quot;))\r\n    private List&lt;DirectorJPA&gt; directors = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;media_writers&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;writer_id&quot;, referencedColumnName = &quot;person_id&quot;))\r\n    private List&lt;WriterJPA&gt; writers = new ArrayList&lt;&gt;();\r\n\r\n    //constructors; getter and setter methods\r\n\r\n}\r\n```\r\n\r\n**Movie child class:**\r\n\r\n```\r\n@Entity(name = &quot;Movie&quot;)\r\n@Table(name = &quot;movie&quot;)\r\n@PrimaryKeyJoinColumn(name = &quot;media_id&quot;)\r\npublic class MovieJPA extends MediaJPA {\r\n\r\n    private Integer length;\r\n\r\n//constructors; getter and setter methods\r\n\r\n}\r\n```\r\n\r\n**Person parent class:**\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@Table(name = &quot;person&quot;)\r\npublic class PersonJPA implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    //Other attributes\r\n\r\n    //constructors; getter and setter methods\r\n\r\n}\r\n```\r\n\r\n**Director child class:**\r\n\r\n```\r\n@Entity(name = &quot;Director&quot;)\r\n@Table(name = &quot;director&quot;)\r\n@PrimaryKeyJoinColumn(name = &quot;person_id&quot;)\r\npublic class DirectorJPA extends PersonJPA{\r\n    \r\n}\r\n```\r\n\r\n**Writer child class:**\r\n\r\n```\r\n@Entity(name = &quot;Writer&quot;)\r\n@Table(name = &quot;writer&quot;)\r\n@PrimaryKeyJoinColumn(name = &quot;person_id&quot;)\r\npublic class WriterJPA extends PersonJPA {\r\n\r\n}\r\n```\r\n\r\nAs i&#39;ve learned, spring boot is supposed to provide implementation for my JPA class:\r\n\r\n```\r\n@Repository\r\npublic interface IMovieRepository extends JpaRepository&lt;MovieJPA, Long&gt;{\r\n    \r\n}\r\n```\r\n\r\nProblem arrises in my service class:\r\n\r\n```\r\n@Service\r\npublic class MovieService {\r\n\r\n    @Autowired\r\n    private IMovieRepository movieRepo;\r\n\r\n    public void getAllMoviesTest() {\r\n        for (MovieJPA jpa : movieRepo.findAll()) {\r\n\r\n            //this works\r\n            System.out.println(&quot;&quot;+jpa.getDirectors());\r\n            System.out.println(&quot;&quot;+jpa.getWriters());\r\n\r\n            //Both of these for loops together won&#39;t work, but alone work\r\n            for (DirectorJPA director : jpa.getDirectors()) {\r\n                System.out.println(&quot;Director: &quot; + director.getFirstName() + &quot; &quot; + director.getLastName());\r\n            }\r\n            for (WriterJPA writer : jpa.getWriters()) {\r\n                System.out.println(&quot;Writer:&quot; + writer.getFirstName() + &quot; &quot; + writer.getLastName());\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAfter executing code above i get the following exception:\r\n\r\n`java.lang.ClassCastException: class DirectorJPA cannot be cast to class WriterJPA`\r\n\r\nMy dependencies are listed below:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI tried searching the internet for answers, but i found nothing.","title":"Spring Boot ClassCastException when iterating over lists of child classes with same parent, annotated many-to-many","body":"<p>I'm building a REST api in java using Spring Boot 3.1.1 with Maven that retrieves information about Movies, their Directors and Writers. Movie class is a child of Media class, and has a many-to-many relationship with Director and Writer classes, whom both extend the same Person class.</p>\n<p>After retreiving MovieJPA objects from repository i get ClassCastException when iterating over DirectorJPA and WriterJPA lists. I can print them in console one after another using System.out.println, suggesting that their data is retreived from database, but only when i iterate over them one after another, i get the exception and i don't know why.</p>\n<p><strong>Media parent class:</strong></p>\n<pre><code>@Entity(name = &quot;Media&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = &quot;media&quot;)\npublic class MediaJPA implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    //Other attributes\n    \n    @ManyToMany\n    @JoinTable(\n            name = &quot;media_directors&quot;,\n            joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;director_id&quot;, referencedColumnName = &quot;person_id&quot;))\n    private List&lt;DirectorJPA&gt; directors = new ArrayList&lt;&gt;();\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;media_writers&quot;,\n            joinColumns = @JoinColumn(name = &quot;media_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;writer_id&quot;, referencedColumnName = &quot;person_id&quot;))\n    private List&lt;WriterJPA&gt; writers = new ArrayList&lt;&gt;();\n\n    //constructors; getter and setter methods\n\n}\n</code></pre>\n<p><strong>Movie child class:</strong></p>\n<pre><code>@Entity(name = &quot;Movie&quot;)\n@Table(name = &quot;movie&quot;)\n@PrimaryKeyJoinColumn(name = &quot;media_id&quot;)\npublic class MovieJPA extends MediaJPA {\n\n    private Integer length;\n\n//constructors; getter and setter methods\n\n}\n</code></pre>\n<p><strong>Person parent class:</strong></p>\n<pre><code>@Entity(name = &quot;Person&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = &quot;person&quot;)\npublic class PersonJPA implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    //Other attributes\n\n    //constructors; getter and setter methods\n\n}\n</code></pre>\n<p><strong>Director child class:</strong></p>\n<pre><code>@Entity(name = &quot;Director&quot;)\n@Table(name = &quot;director&quot;)\n@PrimaryKeyJoinColumn(name = &quot;person_id&quot;)\npublic class DirectorJPA extends PersonJPA{\n    \n}\n</code></pre>\n<p><strong>Writer child class:</strong></p>\n<pre><code>@Entity(name = &quot;Writer&quot;)\n@Table(name = &quot;writer&quot;)\n@PrimaryKeyJoinColumn(name = &quot;person_id&quot;)\npublic class WriterJPA extends PersonJPA {\n\n}\n</code></pre>\n<p>As i've learned, spring boot is supposed to provide implementation for my JPA class:</p>\n<pre><code>@Repository\npublic interface IMovieRepository extends JpaRepository&lt;MovieJPA, Long&gt;{\n    \n}\n</code></pre>\n<p>Problem arrises in my service class:</p>\n<pre><code>@Service\npublic class MovieService {\n\n    @Autowired\n    private IMovieRepository movieRepo;\n\n    public void getAllMoviesTest() {\n        for (MovieJPA jpa : movieRepo.findAll()) {\n\n            //this works\n            System.out.println(&quot;&quot;+jpa.getDirectors());\n            System.out.println(&quot;&quot;+jpa.getWriters());\n\n            //Both of these for loops together won't work, but alone work\n            for (DirectorJPA director : jpa.getDirectors()) {\n                System.out.println(&quot;Director: &quot; + director.getFirstName() + &quot; &quot; + director.getLastName());\n            }\n            for (WriterJPA writer : jpa.getWriters()) {\n                System.out.println(&quot;Writer:&quot; + writer.getFirstName() + &quot; &quot; + writer.getLastName());\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>After executing code above i get the following exception:</p>\n<p><code>java.lang.ClassCastException: class DirectorJPA cannot be cast to class WriterJPA</code></p>\n<p>My dependencies are listed below:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I tried searching the internet for answers, but i found nothing.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":5,"creation_date":1326398728,"post_id":8841489,"comment_id":11041355,"body_markdown":"I don&#39;t think you quite grasp what you use hashtables for. (This isn&#39;t it).","body":"I don&#39;t think you quite grasp what you use hashtables for. (This isn&#39;t it)."},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":3,"creation_date":1326398754,"post_id":8841489,"comment_id":11041363,"body_markdown":"Seems to me that a Map is not the correct approach to what you are trying to do...","body":"Seems to me that a Map is not the correct approach to what you are trying to do..."}],"answers":[{"comments":[{"owner":{"account_id":425197,"reputation":4621,"user_id":805660,"accept_rate":86,"display_name":"programmer"},"score":0,"creation_date":1326399222,"post_id":8841504,"comment_id":11041514,"body_markdown":"Is the List going to be quick?Cause i&#39;m having about 60 files and i need the work to be done quickly","body":"Is the List going to be quick?Cause i&#39;m having about 60 files and i need the work to be done quickly"},{"owner":{"account_id":425197,"reputation":4621,"user_id":805660,"accept_rate":86,"display_name":"programmer"},"score":0,"creation_date":1326399831,"post_id":8841504,"comment_id":11041716,"body_markdown":"After i have created the Lists for each word, i have to iterate through the lists and concatenate every file of the list for each word.Let&#39;s say that i have 10000 words and each of the word appears in 10 files that means that i&#39;m going to create 10000 Lists of 10 entries each. After that i have to write to a random access file for each word the files every word appears in.","body":"After i have created the Lists for each word, i have to iterate through the lists and concatenate every file of the list for each word.Let&#39;s say that i have 10000 words and each of the word appears in 10 files that means that i&#39;m going to create 10000 Lists of 10 entries each. After that i have to write to a random access file for each word the files every word appears in."},{"owner":{"account_id":425197,"reputation":4621,"user_id":805660,"accept_rate":86,"display_name":"programmer"},"score":0,"creation_date":1326399865,"post_id":8841504,"comment_id":11041725,"body_markdown":"e.g. &quot;Hello&quot; 5 &quot;file1,file2,file3,file4,file5&quot; etc. In order to find the files for each word i have to iterate through the whole list.Isn&#39;t that going to be a bit slow? Isn&#39;t that better to have only a pair &lt;5,&quot;file1,file2,file3,file4,file5&quot;","body":"e.g. &quot;Hello&quot; 5 &quot;file1,file2,file3,file4,file5&quot; etc. In order to find the files for each word i have to iterate through the whole list.Isn&#39;t that going to be a bit slow? Isn&#39;t that better to have only a pair &lt;5,&quot;file1,file2,file3,file4,file5&quot;"},{"owner":{"display_name":"user395760"},"score":5,"creation_date":1326399875,"post_id":8841504,"comment_id":11041728,"body_markdown":"For 60 entries, you could copy the list thrice and do cartwheels each time you add an element and still spend so little time it would appear instantaneous to you. Ever heard that Knuth quote about optimization? Your bottleneck is whatever you do with those strings, not how you store them (if you want to find all files containing that word, you still have to check all files regardless of how you stored the files). Why do you think it could even begin to matter?","body":"For 60 entries, you could copy the list thrice and do cartwheels each time you add an element and still spend so little time it would appear instantaneous to you. Ever heard that Knuth quote about optimization? Your bottleneck is whatever you do with those strings, not how you store them (if you want to find all files containing that word, you still have to check all files regardless of how you stored the files). Why do you think it could even begin to matter?"},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":1,"creation_date":1326400112,"post_id":8841504,"comment_id":11041804,"body_markdown":"Actually, his bottleneck is almost certainly the IO and the grep for the Strings.  But I like the suggestion of doing cartwheels, so +1.","body":"Actually, his bottleneck is almost certainly the IO and the grep for the Strings.  But I like the suggestion of doing cartwheels, so +1."}],"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1326398588,"creation_date":1326398588,"answer_id":8841504,"question_id":8841489,"body_markdown":"The Map approach might not be the best.  The issue is you are changing your key value.\r\n\r\n\r\nNote it might be better to just have a `List&lt;String&gt;`, and everytime you match the word, just add the file to the list.  You can get the count easily with `list.size()`","title":"How can a HashMap consist only of one entry/object?","body":"<p>The Map approach might not be the best.  The issue is you are changing your key value.</p>\n\n<p>Note it might be better to just have a <code>List&lt;String&gt;</code>, and everytime you match the word, just add the file to the list.  You can get the count easily with <code>list.size()</code></p>\n"},{"comments":[{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":2,"creation_date":1326399005,"post_id":8841528,"comment_id":11041437,"body_markdown":"this is a good solution if he is searching on more than one word.  But for one word, a List or array will do...","body":"this is a good solution if he is searching on more than one word.  But for one word, a List or array will do..."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1326398999,"creation_date":1326398679,"answer_id":8841528,"question_id":8841489,"body_markdown":"I&#39;ll try to suggest a bit different solution to what I think your task is:\r\n\r\n- you have words (`hello`, etc)\r\n- you want to count how much files it is found in\r\n- you want to know the files\r\n\r\nYou can use a [`MultiMap`][1] (guava) for that:\r\n\r\n- `map.put(&quot;hello&quot;, &quot;file1.txt&quot;); map.put(&quot;hello&quot;, &quot;file2.txt&quot;);`\r\n- `map.keys().count(&quot;hello&quot;)` - gets you the number of times each word is found\r\n- `map.get(&quot;hello&quot;)` returns a `Collection&lt;String&gt;` containing all the files for that word\r\n\r\nAnd you can have as many words in that map as you like. If you needed one-entry-per-map, you&#39;d need X maps for X words.\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html","title":"How can a HashMap consist only of one entry/object?","body":"<p>I'll try to suggest a bit different solution to what I think your task is:</p>\n\n<ul>\n<li>you have words (<code>hello</code>, etc)</li>\n<li>you want to count how much files it is found in</li>\n<li>you want to know the files</li>\n</ul>\n\n<p>You can use a <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\"><code>MultiMap</code></a> (guava) for that:</p>\n\n<ul>\n<li><code>map.put(\"hello\", \"file1.txt\"); map.put(\"hello\", \"file2.txt\");</code></li>\n<li><code>map.keys().count(\"hello\")</code> - gets you the number of times each word is found</li>\n<li><code>map.get(\"hello\")</code> returns a <code>Collection&lt;String&gt;</code> containing all the files for that word</li>\n</ul>\n\n<p>And you can have as many words in that map as you like. If you needed one-entry-per-map, you'd need X maps for X words.</p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326399377,"creation_date":1326398707,"answer_id":8841532,"question_id":8841489,"body_markdown":"Here&#39;s an idea for having a map with a single key/value: create the map, add the single key-value pair, and then make it unmodifiable using [`Collections.unmodifiableMap()`](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableMap%28java.util.Map%29). In that way, no other elements can be added to the map. Like this:\r\n\r\n\tHashMap&lt;Integer, String&gt; docsCollection = new HashMap&lt;Integer, String&gt;();\r\n\tdocsCollection.put(2, &quot;foo.txt,hello.txt&quot;);\r\n\tdocsCollection = Collections.unmodifiableMap(docsCollection);\r\n\r\nThis works _only_ if you know the key/value beforehand; after the call to `unmodifiableMap` the map is effectively frozen and you won&#39;t be able to add/remove further elements from it.\r\n\r\nNow, what you ask in the question is _not_ suitable for using a map, that&#39;s not the correct data structure for using in this case. You&#39;d be better off having an `ArrayList&lt;String&gt;`, adding to it the file names where the word was found, and using the list&#39;s `size()` method for determining the number of files where the word was found.","title":"How can a HashMap consist only of one entry/object?","body":"<p>Here's an idea for having a map with a single key/value: create the map, add the single key-value pair, and then make it unmodifiable using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableMap%28java.util.Map%29\" rel=\"nofollow\"><code>Collections.unmodifiableMap()</code></a>. In that way, no other elements can be added to the map. Like this:</p>\n\n<pre><code>HashMap&lt;Integer, String&gt; docsCollection = new HashMap&lt;Integer, String&gt;();\ndocsCollection.put(2, \"foo.txt,hello.txt\");\ndocsCollection = Collections.unmodifiableMap(docsCollection);\n</code></pre>\n\n<p>This works <em>only</em> if you know the key/value beforehand; after the call to <code>unmodifiableMap</code> the map is effectively frozen and you won't be able to add/remove further elements from it.</p>\n\n<p>Now, what you ask in the question is <em>not</em> suitable for using a map, that's not the correct data structure for using in this case. You'd be better off having an <code>ArrayList&lt;String&gt;</code>, adding to it the file names where the word was found, and using the list's <code>size()</code> method for determining the number of files where the word was found.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326398795,"creation_date":1326398795,"answer_id":8841547,"question_id":8841489,"body_markdown":"Is there a reason you need to use a HashMap?  You could just have an int (for the count) and a String or StringBuffer (for the filenames) and update them.\r\n\r\nAlternatively, you could have a List&lt;String&gt; into which you add the filename each time something is found.  To get the count, use List.size().  But I see that @hvgotcodes already beat me to the punch with that idea.","title":"How can a HashMap consist only of one entry/object?","body":"<p>Is there a reason you need to use a HashMap?  You could just have an int (for the count) and a String or StringBuffer (for the filenames) and update them.</p>\n\n<p>Alternatively, you could have a List into which you add the filename each time something is found.  To get the count, use List.size().  But I see that @hvgotcodes already beat me to the punch with that idea.</p>\n"},{"comments":[{"owner":{"account_id":425197,"reputation":4621,"user_id":805660,"accept_rate":86,"display_name":"programmer"},"score":0,"creation_date":1326399366,"post_id":8841590,"comment_id":11041564,"body_markdown":"Well i need to store for each word the frequency and the files it appears in.Let&#39;s say that i have 10000 words, then i need to create 10000 classes. Isn&#39;t that going to cost me a lot in time?","body":"Well i need to store for each word the frequency and the files it appears in.Let&#39;s say that i have 10000 words, then i need to create 10000 classes. Isn&#39;t that going to cost me a lot in time?"},{"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"score":2,"creation_date":1326399852,"post_id":8841590,"comment_id":11041720,"body_markdown":"No. What is going to cost you time is searching the words. Keep your program simple and elegant and you will certainly end up having better performances than using data structures that do no meet your initial needs.","body":"No. What is going to cost you time is searching the words. Keep your program simple and elegant and you will certainly end up having better performances than using data structures that do no meet your initial needs."}],"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326398981,"creation_date":1326398981,"answer_id":8841590,"question_id":8841489,"body_markdown":"You are not really using a ``HashMap`` so to speak : your counter is not really a key.\r\n\r\nWhat you seem to need according to your explanation is an ``Object`` representing the result of your search, such as:\r\n\r\n    public class SearchResult {\r\n         private String searchedWord;\r\n         private long counter;\r\n         private List&lt;String&gt; containingFiles;\r\n         // ...\r\n    }","title":"How can a HashMap consist only of one entry/object?","body":"<p>You are not really using a <code>HashMap</code> so to speak : your counter is not really a key.</p>\n\n<p>What you seem to need according to your explanation is an <code>Object</code> representing the result of your search, such as:</p>\n\n<pre><code>public class SearchResult {\n     private String searchedWord;\n     private long counter;\n     private List&lt;String&gt; containingFiles;\n     // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326399047,"creation_date":1326399047,"answer_id":8841601,"question_id":8841489,"body_markdown":"To ensure that what you want works:\r\n\r\n1. Declare the value to be a `List&lt;String&gt;`.\r\n2. Remove the original key/value pair and replace it with the new contents every time you found a word.\r\n\r\nSomething like:\r\n\r\n    HashMap&lt;Integer, List&lt;String&gt;&gt; map = new HashMap&lt;Integer, List&lt;String&gt;&gt;();\r\n    // some loop\r\n    if(/* new word found */) {\r\n       Integer key = (Integer)map.keySet().toArray()[0];\r\n       List&lt;String&gt; value = (List&lt;String&gt;)map.get(key);\r\n       value.add(word);\r\n       map.remove(key);\r\n       map.put((key + 1), value);\r\n    }","title":"How can a HashMap consist only of one entry/object?","body":"<p>To ensure that what you want works:</p>\n\n<ol>\n<li>Declare the value to be a <code>List&lt;String&gt;</code>.</li>\n<li>Remove the original key/value pair and replace it with the new contents every time you found a word.</li>\n</ol>\n\n<p>Something like:</p>\n\n<pre><code>HashMap&lt;Integer, List&lt;String&gt;&gt; map = new HashMap&lt;Integer, List&lt;String&gt;&gt;();\n// some loop\nif(/* new word found */) {\n   Integer key = (Integer)map.keySet().toArray()[0];\n   List&lt;String&gt; value = (List&lt;String&gt;)map.get(key);\n   value.add(word);\n   map.remove(key);\n   map.put((key + 1), value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326399214,"creation_date":1326399214,"answer_id":8841640,"question_id":8841489,"body_markdown":"Not the good way to go.\r\n\r\nTry instead a `Map&lt;String, Set&lt;String&gt;&gt;` where the key is the keyword and the value is the set of files you found the keyword into. Adding to it will then look like:\r\n\r\n\r\n    //further up\r\n    final Map&lt;String, Set&lt;String&gt;&gt; map = new HashMap&lt;String, Set&lt;String&gt;&gt;();\r\n\r\n    //then:\r\n    public void addRef(final String keyword, final String filename)\r\n    {\r\n        if (!map.containsKey(keyword)) // keyword not encountered yet\r\n            map.put(keyword, new HashSet&lt;String&gt;());\r\n\r\n        map.get(keyword).add(filename);\r\n    }\r\n\r\nThen you&#39;ll be able to collect information from this map when the need arises. In particular, to collect the number of files a keyword was found into, you would:\r\n\r\n\r\n    for (final String keyword: map.keySet())\r\n        System.out.printf(&quot;%s was encountered %d time(s)\\n&quot;,\r\n            keyword, map.get(keyword).size());\r\n\r\n","title":"How can a HashMap consist only of one entry/object?","body":"<p>Not the good way to go.</p>\n\n<p>Try instead a <code>Map&lt;String, Set&lt;String&gt;&gt;</code> where the key is the keyword and the value is the set of files you found the keyword into. Adding to it will then look like:</p>\n\n<pre><code>//further up\nfinal Map&lt;String, Set&lt;String&gt;&gt; map = new HashMap&lt;String, Set&lt;String&gt;&gt;();\n\n//then:\npublic void addRef(final String keyword, final String filename)\n{\n    if (!map.containsKey(keyword)) // keyword not encountered yet\n        map.put(keyword, new HashSet&lt;String&gt;());\n\n    map.get(keyword).add(filename);\n}\n</code></pre>\n\n<p>Then you'll be able to collect information from this map when the need arises. In particular, to collect the number of files a keyword was found into, you would:</p>\n\n<pre><code>for (final String keyword: map.keySet())\n    System.out.printf(\"%s was encountered %d time(s)\\n\",\n        keyword, map.get(keyword).size());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":425197,"reputation":4621,"user_id":805660,"accept_rate":86,"display_name":"programmer"},"score":0,"creation_date":1326399993,"post_id":8841713,"comment_id":11041768,"body_markdown":"What does the (1) mean here: private HashMap&lt;Integer, String&gt; occurrences = new HashMap&lt;Integer, String&gt;(1); &lt;--?","body":"What does the (1) mean here: private HashMap&lt;Integer, String&gt; occurrences = new HashMap&lt;Integer, String&gt;(1); &lt;--?"},{"owner":{"account_id":268112,"reputation":2718,"user_id":556672,"display_name":"davogotland"},"score":0,"creation_date":1326400363,"post_id":8841713,"comment_id":11041904,"body_markdown":"@programmer http://docs.oracle.com/javase/1.5.0/docs/api/java/util/HashMap.html#HashMap%28int%29 op asked for hashmap with one entry. no point in getting 15 empty ones ;)","body":"@programmer <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/HashMap.html#HashMap%28int%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/util/&hellip;</a> op asked for hashmap with one entry. no point in getting 15 empty ones ;)"}],"tags":[],"owner":{"account_id":268112,"reputation":2718,"user_id":556672,"display_name":"davogotland"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326399617,"creation_date":1326399617,"answer_id":8841713,"question_id":8841489,"body_markdown":"    public class YourClass {\r\n        private HashMap&lt;Integer, String&gt; occurrences = new HashMap&lt;Integer, String&gt;(1);\r\n        \r\n        public void addFile(String name) {\r\n            int count = 0;\r\n            String names = &quot;&quot;;\r\n            \r\n            if(occurrences.size() &gt; 0) {\r\n                count = (int)(occurrences.keySet().toArray()[0]);\r\n                names = occurrences.get(count);\r\n                names += &quot;,&quot;;\r\n            }\r\n            \r\n            count++;\r\n            names += name;\r\n            occurrences.remove(count);\r\n            occurrences.put(count, names);\r\n        }\r\n    }\r\n\r\nwhen you find a file (let&#39;s call it hello.txt), and let&#39;s say you&#39;re in YourClass when you find it, you do:\r\n\r\n    addFile(&quot;hello.txt&quot;);\r\n\r\ndo note that this is utterly retarded &gt;.&lt;\r\n\r\ngo with vakimshaar&#39;s solution ;)","title":"How can a HashMap consist only of one entry/object?","body":"<pre><code>public class YourClass {\n    private HashMap&lt;Integer, String&gt; occurrences = new HashMap&lt;Integer, String&gt;(1);\n\n    public void addFile(String name) {\n        int count = 0;\n        String names = \"\";\n\n        if(occurrences.size() &gt; 0) {\n            count = (int)(occurrences.keySet().toArray()[0]);\n            names = occurrences.get(count);\n            names += \",\";\n        }\n\n        count++;\n        names += name;\n        occurrences.remove(count);\n        occurrences.put(count, names);\n    }\n}\n</code></pre>\n\n<p>when you find a file (let's call it hello.txt), and let's say you're in YourClass when you find it, you do:</p>\n\n<pre><code>addFile(\"hello.txt\");\n</code></pre>\n\n<p>do note that this is utterly retarded >.&lt;</p>\n\n<p>go with vakimshaar's solution ;)</p>\n"},{"tags":[],"owner":{"account_id":949401,"reputation":2018,"user_id":975886,"display_name":"Nikolay Nikiforchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1375714646,"creation_date":1375714646,"answer_id":18061320,"question_id":8841489,"body_markdown":"Try this way:\r\n\r\n    DocsCollection = Collections.singletonMap(2, &quot;foo.txt,hello.txt&quot;);\r\n\r\nthis Map can&#39;t be modified, if you want to to that just do this:\r\n\r\n    DocsCollection = Collections.singletonMap(3, &quot;foo.txt,hello.txt&quot;);","title":"How can a HashMap consist only of one entry/object?","body":"<p>Try this way:</p>\n\n<pre><code>DocsCollection = Collections.singletonMap(2, \"foo.txt,hello.txt\");\n</code></pre>\n\n<p>this Map can't be modified, if you want to to that just do this:</p>\n\n<pre><code>DocsCollection = Collections.singletonMap(3, \"foo.txt,hello.txt\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617711676,"creation_date":1617711676,"answer_id":66968556,"question_id":8841489,"body_markdown":"There was historically a paucity with the standard provided data structures of standard Java.  Apache Collections has been used hand-in-hand on many occasions to add in these additional data structures we felt we were missing.  I think the OP case here is one of those holes.  And yes the HashMap is not the correct approach and the problem was modeled wrong by the OP.\r\n\r\nFor the case of one key, value pair in a Map, often that is exactly what we need: a Pair or more generally a Tuple.  This works really well if both &quot;the key&quot; and &quot;the value&quot; were to generally have the same data type for each instance of the data structure we need.\r\n\r\nI will refer to [this SO question][1] (which itself is a duplicate although has a lot of good information) how historically one might use tuples in Java.  An example of a supplemental class which can be used is `org.apache.commons.lang3.tuple`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2670982/using-pairs-or-2-tuples-in-java","title":"How can a HashMap consist only of one entry/object?","body":"<p>There was historically a paucity with the standard provided data structures of standard Java.  Apache Collections has been used hand-in-hand on many occasions to add in these additional data structures we felt we were missing.  I think the OP case here is one of those holes.  And yes the HashMap is not the correct approach and the problem was modeled wrong by the OP.</p>\n<p>For the case of one key, value pair in a Map, often that is exactly what we need: a Pair or more generally a Tuple.  This works really well if both &quot;the key&quot; and &quot;the value&quot; were to generally have the same data type for each instance of the data structure we need.</p>\n<p>I will refer to <a href=\"https://stackoverflow.com/questions/2670982/using-pairs-or-2-tuples-in-java\">this SO question</a> (which itself is a duplicate although has a lot of good information) how historically one might use tuples in Java.  An example of a supplemental class which can be used is <code>org.apache.commons.lang3.tuple</code></p>\n"},{"tags":[],"owner":{"account_id":1428132,"reputation":2457,"user_id":1351164,"accept_rate":90,"display_name":"GedankenNebel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689889243,"creation_date":1689889243,"answer_id":76733882,"question_id":8841489,"body_markdown":"These days one would probably use `Map.of(key, value)`\r\n\r\n        /**\r\n     * Returns an unmodifiable map containing a single mapping.\r\n     * See &lt;a href=&quot;#unmodifiable&quot;&gt;Unmodifiable Maps&lt;/a&gt; for details.\r\n     *\r\n     * @param &lt;K&gt; the {@code Map}&#39;s key type\r\n     * @param &lt;V&gt; the {@code Map}&#39;s value type\r\n     * @param k1 the mapping&#39;s key\r\n     * @param v1 the mapping&#39;s value\r\n     * @return a {@code Map} containing the specified mapping\r\n     * @throws NullPointerException if the key or the value is {@code null}\r\n     *\r\n     * @since 9\r\n     */\r\n    static &lt;K, V&gt; Map&lt;K, V&gt; of(K k1, V v1) {\r\n        return new ImmutableCollections.Map1&lt;&gt;(k1, v1);\r\n    }","title":"How can a HashMap consist only of one entry/object?","body":"<p>These days one would probably use <code>Map.of(key, value)</code></p>\n<pre><code>    /**\n * Returns an unmodifiable map containing a single mapping.\n * See &lt;a href=&quot;#unmodifiable&quot;&gt;Unmodifiable Maps&lt;/a&gt; for details.\n *\n * @param &lt;K&gt; the {@code Map}'s key type\n * @param &lt;V&gt; the {@code Map}'s value type\n * @param k1 the mapping's key\n * @param v1 the mapping's value\n * @return a {@code Map} containing the specified mapping\n * @throws NullPointerException if the key or the value is {@code null}\n *\n * @since 9\n */\nstatic &lt;K, V&gt; Map&lt;K, V&gt; of(K k1, V v1) {\n    return new ImmutableCollections.Map1&lt;&gt;(k1, v1);\n}\n</code></pre>\n"}],"owner":{"account_id":425197,"reputation":4621,"user_id":805660,"accept_rate":86,"display_name":"programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56369,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":8841504,"answer_count":11,"score":17,"last_activity_date":1689889243,"creation_date":1326398483,"question_id":8841489,"body_markdown":"I would like to have a `HashMap` with only one key-value object.\r\n\r\nI have created the following `HashMap`:\r\n\r\n        HashMap &lt;Integer,String&gt;DocsCollection = new HashMap &lt;Integer,String&gt;();\r\n\r\nIn the HashMap I would like to have only one entry/object.\r\nThe key type is an Integer.\r\nThe value type is a String.\r\n\r\n&gt; e.g. &lt;key,value&gt; = &lt;1,&quot;foo.txt&quot;&gt; \r\n\r\nEvery time I find a specific word in a file I would like to\r\n\r\n1. Increment the counter in key\r\n\r\n2. Add the new file in the value\r\n\r\ne.g. Let&#39;s say that I&#39;m searching for the word &quot;Hello&quot; in a `DocsCollection`,\r\nI have to store for every appearance of the word &quot;Hello&quot; the term frequency and concatenate the new file to the previous value.\r\n\r\n&gt;&lt;3,&quot;foo.txt,hello.txt,test.txt&quot;&gt; \r\n\r\n3 means that I&#39;ve found the word &quot;Hello&quot; in three files.\r\n\r\nand the Value consists of the files where the word was found\r\n\r\nIf I use the method put, a new entry is created in the `HashMap` cause the key changes.\r\nIt&#39;s not stable. It begins with &quot;1&quot; but when I find the word second time , the key increments and then the put method inserts a new entry with a new key\r\nBut i would like to have only one entry and modify the key.\r\nCan this be done?\r\nHow can i have only one object in a HashMap and modify the key every time?\r\n\r\n       DocsCollection.put(2,&quot;foo.txt,hello.txt&quot;); \r\n\r\n \r\nThanks, in advance\r\n \r\n\r\n        \r\n","title":"How can a HashMap consist only of one entry/object?","body":"<p>I would like to have a <code>HashMap</code> with only one key-value object.</p>\n\n<p>I have created the following <code>HashMap</code>:</p>\n\n<pre><code>    HashMap &lt;Integer,String&gt;DocsCollection = new HashMap &lt;Integer,String&gt;();\n</code></pre>\n\n<p>In the HashMap I would like to have only one entry/object.\nThe key type is an Integer.\nThe value type is a String.</p>\n\n<blockquote>\n  <p>e.g.  = &lt;1,\"foo.txt\"> </p>\n</blockquote>\n\n<p>Every time I find a specific word in a file I would like to</p>\n\n<ol>\n<li><p>Increment the counter in key</p></li>\n<li><p>Add the new file in the value</p></li>\n</ol>\n\n<p>e.g. Let's say that I'm searching for the word \"Hello\" in a <code>DocsCollection</code>,\nI have to store for every appearance of the word \"Hello\" the term frequency and concatenate the new file to the previous value.</p>\n\n<blockquote>\n  <p>&lt;3,\"foo.txt,hello.txt,test.txt\"> </p>\n</blockquote>\n\n<p>3 means that I've found the word \"Hello\" in three files.</p>\n\n<p>and the Value consists of the files where the word was found</p>\n\n<p>If I use the method put, a new entry is created in the <code>HashMap</code> cause the key changes.\nIt's not stable. It begins with \"1\" but when I find the word second time , the key increments and then the put method inserts a new entry with a new key\nBut i would like to have only one entry and modify the key.\nCan this be done?\nHow can i have only one object in a HashMap and modify the key every time?</p>\n\n<pre><code>   DocsCollection.put(2,\"foo.txt,hello.txt\"); \n</code></pre>\n\n<p>Thanks, in advance</p>\n"},{"tags":["java","ios","appium"],"answers":[{"tags":[],"owner":{"account_id":23430403,"reputation":116,"user_id":17489347,"display_name":"Dima Berezovskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689888782,"creation_date":1689888782,"answer_id":76733837,"question_id":76631256,"body_markdown":"call this method where needed with the required parameter\r\n```java\r\nimport io.appium.java_client.MobileBy;\r\nimport io.appium.java_client.ios.IOSDriver;\r\nimport org.openqa.selenium.Alert;\r\n/**\r\n * Handle alert .\r\n *\r\n * @param If true, accept the alert; if false, dismiss the alert.\r\n */\r\npublic void handleAlert(boolean accept) {\r\n    try {\r\n        Alert alert = driver.switchTo().alert();\r\n        if (accept) {\r\n            alert.accept();\r\n        } else {\r\n            alert.dismiss();\r\n        }\r\n    } catch (Exception e) {\r\n        // Handle any exception that might occur while handling the alert.\r\n    }\r\n}","title":"Appium iOS autoAcceptAlerts Closing Native App Alert","body":"<p>call this method where needed with the required parameter</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.appium.java_client.MobileBy;\nimport io.appium.java_client.ios.IOSDriver;\nimport org.openqa.selenium.Alert;\n/**\n * Handle alert .\n *\n * @param If true, accept the alert; if false, dismiss the alert.\n */\npublic void handleAlert(boolean accept) {\n    try {\n        Alert alert = driver.switchTo().alert();\n        if (accept) {\n            alert.accept();\n        } else {\n            alert.dismiss();\n        }\n    } catch (Exception e) {\n        // Handle any exception that might occur while handling the alert.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689888782,"creation_date":1688664660,"question_id":76631256,"body_markdown":"I am trying to run tests on an physical iPhone using Appium, Cucumber, and TestNG. The app has quite a few permission alerts that I am handling by setting the driver capability `appium:autoAcceptAlerts, true`. However this is also closing some native app alerts.\r\n\r\nSpecifically there is an alert that asks the user to confirm if they want to change their password. When autoAcceptAlerts is enabled it is selecting the CANCEL option for me when I would like to handle the alert on a test by test bases.\r\n\r\nI tried using the driver setting `acceptAlertButtonSelector` but that never worked for me.\r\n\r\n**How can I get Appium to filter out certain alerts for autoAcceptAlerts or temporarily disable it as part of my test step?**\r\n\r\nNote: There are some alerts with the same options that appium ignores for the autoAcceptAlert but others it handles itself.","title":"Appium iOS autoAcceptAlerts Closing Native App Alert","body":"<p>I am trying to run tests on an physical iPhone using Appium, Cucumber, and TestNG. The app has quite a few permission alerts that I am handling by setting the driver capability <code>appium:autoAcceptAlerts, true</code>. However this is also closing some native app alerts.</p>\n<p>Specifically there is an alert that asks the user to confirm if they want to change their password. When autoAcceptAlerts is enabled it is selecting the CANCEL option for me when I would like to handle the alert on a test by test bases.</p>\n<p>I tried using the driver setting <code>acceptAlertButtonSelector</code> but that never worked for me.</p>\n<p><strong>How can I get Appium to filter out certain alerts for autoAcceptAlerts or temporarily disable it as part of my test step?</strong></p>\n<p>Note: There are some alerts with the same options that appium ignores for the autoAcceptAlert but others it handles itself.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689888112,"creation_date":1689888112,"answer_id":76733784,"question_id":76732514,"body_markdown":"&gt; this is because I have a persistent store per partition and a separate stream thread per partition\r\n\r\nCorrect. You need to [Query state from the entire app](https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html#querying-remote-state-stores-for-the-entire-app).","title":"KafkaStreams persistent state store returns only fraction of all keys","body":"<blockquote>\n<p>this is because I have a persistent store per partition and a separate stream thread per partition</p>\n</blockquote>\n<p>Correct. You need to <a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html#querying-remote-state-stores-for-the-entire-app\" rel=\"nofollow noreferrer\">Query state from the entire app</a>.</p>\n"}],"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689888112,"creation_date":1689875516,"question_id":76732514,"body_markdown":"I&#39;m using KafkaStreams pre-2.5 version.\r\nSo I&#39;m getting the read-only store this way:\r\n\r\n    ReadOnlyKeyValueStore&lt;String, Object&gt; store = streams.store(&quot;store_name&quot;, QueryableStoreTypes.&lt;String, Object&gt;keyValueStore());\r\n    Iterator&lt;KeyValue&lt;String, Object&gt;&gt; itr = store.all();\r\n    long keyCounter = 0;\r\n    while (itr.hasNext()) {\r\n        itr.next();\r\n        counter++;\r\n    }\r\nIn  this case the counter has the expected value.\r\n\r\nBut if I do the same on the persistent store in Punctuator, I only see the fraction of expected values, although I use the same state store name.\r\nI assume that because the state store name is the same, I would be getting same values, but this is not true.\r\n\r\n    @Override\r\n    public void init(ProcessorContext context) {\r\n        KeyValueStore&lt;String, Object&gt; stateStore = \r\n            (KeyValueStore&lt;String, Object&gt;) context.getStateStore(this.stateStoreName);\r\n        context.schedule(Duration.ofDays(1),\r\n            PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore));\r\n    }\r\n    \r\n    private static Punctuator getPunctuator(KeyValueStore&lt;String, Object&gt; stateStore) {\r\n        return timestamp -&gt; {\r\n              long counter = 0;\r\n              try (final KeyValueIterator&lt;String, Object&gt; iter = stateStore.all()) {\r\n                while (iter.hasNext()) {\r\n                    iter.next();\r\n                    counter++\r\n                }\r\n              }\r\n            });\r\n        };\r\n    }\r\n\r\nWhat am I doing wrong? why the persistent state store is not getting the full set of the keys while the read-only store does?\r\n\r\n========================EDIT=========================\r\n\r\nI suspect this is because I have a persistent store per partition and a separate stream thread per partition. So every stream thread gets the persistent store only having keys from the partition to which the stream thread is assigned. So combined together, if I multiply the counter by X partitions I have, I roughly get the expected number, which would explain what&#39;s going on.\r\nIs this assumption correct?","title":"KafkaStreams persistent state store returns only fraction of all keys","body":"<p>I'm using KafkaStreams pre-2.5 version.\nSo I'm getting the read-only store this way:</p>\n<pre><code>ReadOnlyKeyValueStore&lt;String, Object&gt; store = streams.store(&quot;store_name&quot;, QueryableStoreTypes.&lt;String, Object&gt;keyValueStore());\nIterator&lt;KeyValue&lt;String, Object&gt;&gt; itr = store.all();\nlong keyCounter = 0;\nwhile (itr.hasNext()) {\n    itr.next();\n    counter++;\n}\n</code></pre>\n<p>In  this case the counter has the expected value.</p>\n<p>But if I do the same on the persistent store in Punctuator, I only see the fraction of expected values, although I use the same state store name.\nI assume that because the state store name is the same, I would be getting same values, but this is not true.</p>\n<pre><code>@Override\npublic void init(ProcessorContext context) {\n    KeyValueStore&lt;String, Object&gt; stateStore = \n        (KeyValueStore&lt;String, Object&gt;) context.getStateStore(this.stateStoreName);\n    context.schedule(Duration.ofDays(1),\n        PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore));\n}\n\nprivate static Punctuator getPunctuator(KeyValueStore&lt;String, Object&gt; stateStore) {\n    return timestamp -&gt; {\n          long counter = 0;\n          try (final KeyValueIterator&lt;String, Object&gt; iter = stateStore.all()) {\n            while (iter.hasNext()) {\n                iter.next();\n                counter++\n            }\n          }\n        });\n    };\n}\n</code></pre>\n<p>What am I doing wrong? why the persistent state store is not getting the full set of the keys while the read-only store does?</p>\n<p>========================EDIT=========================</p>\n<p>I suspect this is because I have a persistent store per partition and a separate stream thread per partition. So every stream thread gets the persistent store only having keys from the partition to which the stream thread is assigned. So combined together, if I multiply the counter by X partitions I have, I roughly get the expected number, which would explain what's going on.\nIs this assumption correct?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13706618,"reputation":1211,"user_id":9890027,"display_name":"Ders"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689888096,"creation_date":1689888096,"answer_id":76733780,"question_id":76733351,"body_markdown":"You will need to use some kind of hashing. You will need to override the methods Java uses to compare keys for equality so that keys are equal if everything except their amount matches. Using `Set&lt;Payment&gt;` to build this feels pretty bad since\r\n\r\n1. `Payment`s will inevitably be considered equal despite having different amounts\r\n1. It requires mutating `Set` keys that are considered equal even though they are in fact not\r\n\r\nAvoiding mutating the keys makes this is a much better case for `HashMap`. I would probably also add a utility class to hold the overridden equality methods.\r\n\r\n\r\n```java\r\nclass PaymentDetails extends Payment {\r\n\r\n    public PaymentDetails(Payment payment) {\r\n        super(payment);\r\n    }\r\n\r\n    // override your methods (`hashCode` and `equals`) using the superclass properties\r\n}\r\n\r\nclass Payment {\r\n\r\n    private PaymentDetails details;\r\n\r\n    public PaymentDetails getDetails() {\r\n        if (details == null) details = new PaymentDetails(this);\r\n        return details;\r\n    }\r\n}\r\n\r\nMap&lt;PaymentDetails, BigDecimal&gt; dailyNetTransactions = new HashMap&lt;&gt;();\r\n\r\nPaymentDetails details;\r\npayments.forEach(payment -&gt; {\r\n    details = payment.getDetails();\r\n    if (!dailyNetTransactions.containsKey(details)) {\r\n        dailyNetTransactions.put(details, payment.amount);\r\n    } else {\r\n        dailyNetTransactions.get(details) += payment.amount;\r\n    }\r\n});\r\n```\r\n\r\nI don&#39;t write Java and the circular-ish class setup feels a bit off but hopefully I captured the general idea.","title":"Reducing and sum on a Set of multiple objects and multiple criteria","body":"<p>You will need to use some kind of hashing. You will need to override the methods Java uses to compare keys for equality so that keys are equal if everything except their amount matches. Using <code>Set&lt;Payment&gt;</code> to build this feels pretty bad since</p>\n<ol>\n<li><code>Payment</code>s will inevitably be considered equal despite having different amounts</li>\n<li>It requires mutating <code>Set</code> keys that are considered equal even though they are in fact not</li>\n</ol>\n<p>Avoiding mutating the keys makes this is a much better case for <code>HashMap</code>. I would probably also add a utility class to hold the overridden equality methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PaymentDetails extends Payment {\n\n    public PaymentDetails(Payment payment) {\n        super(payment);\n    }\n\n    // override your methods (`hashCode` and `equals`) using the superclass properties\n}\n\nclass Payment {\n\n    private PaymentDetails details;\n\n    public PaymentDetails getDetails() {\n        if (details == null) details = new PaymentDetails(this);\n        return details;\n    }\n}\n\nMap&lt;PaymentDetails, BigDecimal&gt; dailyNetTransactions = new HashMap&lt;&gt;();\n\nPaymentDetails details;\npayments.forEach(payment -&gt; {\n    details = payment.getDetails();\n    if (!dailyNetTransactions.containsKey(details)) {\n        dailyNetTransactions.put(details, payment.amount);\n    } else {\n        dailyNetTransactions.get(details) += payment.amount;\n    }\n});\n</code></pre>\n<p>I don't write Java and the circular-ish class setup feels a bit off but hopefully I captured the general idea.</p>\n"}],"owner":{"account_id":29059516,"reputation":1,"user_id":22260541,"display_name":"AeonPhx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689888096,"creation_date":1689883316,"question_id":76733351,"body_markdown":"Following exercise gives me a headache.\r\n\r\nI would like to merge a set or list of objects according to several criteria and sum up some attributes, but keep the remaining attributes, which are always the same.\r\n\r\nLet&#39;s assume following class (for illustrative purposes):\r\n\r\n```lang-java\r\npublic class Payment {\r\n  BigDecimal amount;  // --&gt; aggregate 1 with sum\r\n  Long quantity; // aggregate 2 with sum\r\n  LocalDate date;   // criteria 1\r\n  String paymentGroup;  // criteria 2\r\n  String currency;  // --&gt; keep as is (or FindFirst)\r\n  String type// --&gt; keep as is (or findFirst\r\n}\r\n```\r\n\r\nand following input data:\r\n\r\n```lang-java\r\nnew Payment(new BigDecimal(100), 15L, &quot;2023-07-20&quot;, &quot;G1&quot;, &quot;EUR&quot;, &quot;Lorem ipsum&quot;);  // -&gt; Reduce to #1\r\nnew Payment(new BigDecimal(200), 10L, &quot;2023-07-20&quot;, &quot;G1&quot;, &quot;EUR&quot;, &quot;Lorem ipsum&quot;);  // -&gt; Reduce to #1\r\nnew Payment(new BigDecimal(300), 10L, &quot;2023-07-20&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;); // -&gt; Reduce to #2\r\nnew Payment(new BigDecimal(400), 20L, &quot;2023-07-20&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;); // -&gt; Reduce to #2\r\nnew Payment(new BigDecimal(500), 25L, &quot;2023-07-21&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Ipsum dolor&quot;);  // -&gt; Reduce to #3\r\n```\r\n\r\nShould result in a Set or List of (preserve Dimensions and Attributes):\r\n\r\n```\r\nPayment[300, 25, &quot;2023-07-20&quot;, &quot;G1&quot;, &quot;EUR&quot;, &quot;Lorem ipsum&quot;],\r\nPayment[700, 30, &quot;2023-07-20&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;],\r\nPayment[500, 25, &quot;2023-07-21&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;]\r\n```\r\n\r\nThe guarantee of an initial sorted list is not given.\r\n\r\nAny clean idea with reduce(), groupingBy() with java11 or greater, maybe with a custom comparator/hashCode etc. (or using a library for that) would be great.\r\nExtensible criteria columns for reduction without extensive nesting would be supreme. ","title":"Reducing and sum on a Set of multiple objects and multiple criteria","body":"<p>Following exercise gives me a headache.</p>\n<p>I would like to merge a set or list of objects according to several criteria and sum up some attributes, but keep the remaining attributes, which are always the same.</p>\n<p>Let's assume following class (for illustrative purposes):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Payment {\n  BigDecimal amount;  // --&gt; aggregate 1 with sum\n  Long quantity; // aggregate 2 with sum\n  LocalDate date;   // criteria 1\n  String paymentGroup;  // criteria 2\n  String currency;  // --&gt; keep as is (or FindFirst)\n  String type// --&gt; keep as is (or findFirst\n}\n</code></pre>\n<p>and following input data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Payment(new BigDecimal(100), 15L, &quot;2023-07-20&quot;, &quot;G1&quot;, &quot;EUR&quot;, &quot;Lorem ipsum&quot;);  // -&gt; Reduce to #1\nnew Payment(new BigDecimal(200), 10L, &quot;2023-07-20&quot;, &quot;G1&quot;, &quot;EUR&quot;, &quot;Lorem ipsum&quot;);  // -&gt; Reduce to #1\nnew Payment(new BigDecimal(300), 10L, &quot;2023-07-20&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;); // -&gt; Reduce to #2\nnew Payment(new BigDecimal(400), 20L, &quot;2023-07-20&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;); // -&gt; Reduce to #2\nnew Payment(new BigDecimal(500), 25L, &quot;2023-07-21&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Ipsum dolor&quot;);  // -&gt; Reduce to #3\n</code></pre>\n<p>Should result in a Set or List of (preserve Dimensions and Attributes):</p>\n<pre><code>Payment[300, 25, &quot;2023-07-20&quot;, &quot;G1&quot;, &quot;EUR&quot;, &quot;Lorem ipsum&quot;],\nPayment[700, 30, &quot;2023-07-20&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;],\nPayment[500, 25, &quot;2023-07-21&quot;, &quot;G2&quot;, &quot;EUR&quot;, &quot;Lorem dipsum&quot;]\n</code></pre>\n<p>The guarantee of an initial sorted list is not given.</p>\n<p>Any clean idea with reduce(), groupingBy() with java11 or greater, maybe with a custom comparator/hashCode etc. (or using a library for that) would be great.\nExtensible criteria columns for reduction without extensive nesting would be supreme.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":1,"creation_date":1470910633,"post_id":260744,"comment_id":65146447,"body_markdown":"You forgot package-private. It can make sure subclasses are only made in that package.","body":"You forgot package-private. It can make sure subclasses are only made in that package."},{"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"score":0,"creation_date":1496705380,"post_id":260744,"comment_id":75759219,"body_markdown":"Note that protected constructor can also be used for ad hoc instantiation.","body":"Note that protected constructor can also be used for ad hoc instantiation."},{"owner":{"account_id":8385,"reputation":4789,"user_id":15075,"accept_rate":90,"display_name":"Richard Walton"},"score":0,"creation_date":1498436872,"post_id":260744,"comment_id":76484618,"body_markdown":"&quot;Ad hoc instantiation&quot;?","body":"&quot;Ad hoc instantiation&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":13676,"reputation":1576,"user_id":27613,"display_name":"IAmCodeMonkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1225768631,"creation_date":1225768631,"answer_id":260751,"question_id":260744,"body_markdown":"If this behavior is true, and I&#39;m not sure it is, you should always use the most restricted scope available for your application to function. So in that case, I would recommend using protected.","title":"Abstract class constructor access modifier","body":"<p>If this behavior is true, and I'm not sure it is, you should always use the most restricted scope available for your application to function. So in that case, I would recommend using protected.</p>\n"},{"comments":[{"owner":{"account_id":5419,"reputation":13287,"user_id":8709,"display_name":"Ken Gentle"},"score":0,"creation_date":1225770957,"post_id":260779,"comment_id":118287,"body_markdown":"I believe the modifiers are switched -- with this structure B can&#39;t be called from outside Scratch and doesn&#39;t support the argument.\n\nSwapping them, however, does work, although Intellij&#39;s critic complains about access to a private member.","body":"I believe the modifiers are switched -- with this structure B can&#39;t be called from outside Scratch and doesn&#39;t support the argument.  Swapping them, however, does work, although Intellij&#39;s critic complains about access to a private member."},{"owner":{"account_id":15673,"reputation":674,"user_id":33338,"display_name":"Jordan Stewart"},"score":0,"creation_date":1225771684,"post_id":260779,"comment_id":118303,"body_markdown":"My idea was to show that A&#39;s constructor is irrelevant to all code outside of its subclasses. It perhaps isn&#39;t the best example :)\n\nWhat matters is that the abstract class&#39;s constructor can be either protected or public, but it is always called from the subclass so there&#39;s no real difference.","body":"My idea was to show that A&#39;s constructor is irrelevant to all code outside of its subclasses. It perhaps isn&#39;t the best example :)  What matters is that the abstract class&#39;s constructor can be either protected or public, but it is always called from the subclass so there&#39;s no real difference."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1626295674,"post_id":260779,"comment_id":120858134,"body_markdown":"Where&#39;s the quote from, a deleted answer?","body":"Where&#39;s the quote from, a deleted answer?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1689887306,"post_id":260779,"comment_id":135280925,"body_markdown":"Confirmed that it&#39;s on a deleted answer.","body":"Confirmed that it&#39;s on a deleted answer."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1689887402,"post_id":260779,"comment_id":135280948,"body_markdown":"Since the quote is from a deleted answer, and this answer stands on its own without the quote, I&#39;m removing the quote from this answer.","body":"Since the quote is from a deleted answer, and this answer stands on its own without the quote, I&#39;m removing the quote from this answer."}],"tags":[],"owner":{"account_id":15673,"reputation":674,"user_id":33338,"display_name":"Jordan Stewart"},"comment_count":5,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1689887440,"creation_date":1225769415,"answer_id":260779,"question_id":260744,"body_markdown":"An abstract class&#39;s constructor can only be called from the implementation&#39;s constructor, so there is no difference between it being public or protected.  E.g.:\r\n\r\n\r\n    public class Scratch\r\n    {\r\n        public static abstract class A\r\n        {\r\n            public A( int i ) {}\r\n        }\r\n        \r\n        public static class B extends A\r\n        {\r\n            private B() { super(0); };\r\n        }\r\n    }\r\n","title":"Abstract class constructor access modifier","body":"<p>An abstract class's constructor can only be called from the implementation's constructor, so there is no difference between it being public or protected.  E.g.:</p>\n<pre><code>public class Scratch\n{\n    public static abstract class A\n    {\n        public A( int i ) {}\n    }\n    \n    public static class B extends A\n    {\n        private B() { super(0); };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1225770795,"creation_date":1225770795,"answer_id":260826,"question_id":260744,"body_markdown":"&gt; since the abstract type seems to indicate that technically a public constructor will act very much protected\r\n\r\nUmm... for abstract classes this constructor scope [public or protected] is not of much difference since the instantiation is not allowed [even if public]. Since it is meant to be invoked by the subclass, it can invoke either public or protected constructor seamlessly.\r\n\r\nIts completely on choice what to use. I generally prefer public as it is in most of the cases.","title":"Abstract class constructor access modifier","body":"<blockquote>\n  <p>since the abstract type seems to indicate that technically a public constructor will act very much protected</p>\n</blockquote>\n\n<p>Umm... for abstract classes this constructor scope [public or protected] is not of much difference since the instantiation is not allowed [even if public]. Since it is meant to be invoked by the subclass, it can invoke either public or protected constructor seamlessly.</p>\n\n<p>Its completely on choice what to use. I generally prefer public as it is in most of the cases.</p>\n"},{"tags":[],"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1225775134,"creation_date":1225775134,"answer_id":260951,"question_id":260744,"body_markdown":"At the very least, an abstract class should have a protected constructor.  It&#39;s not strictly necessary since it&#39;s not possible to use the constructor anyway but it makes the contract explicit.\r\n\r\nAnother option is to make the constructor private.  This is only a good idea though if all of the implementations of the class are private inner classes.  A rare but useful example.  ","title":"Abstract class constructor access modifier","body":"<p>At the very least, an abstract class should have a protected constructor.  It's not strictly necessary since it's not possible to use the constructor anyway but it makes the contract explicit.</p>\n\n<p>Another option is to make the constructor private.  This is only a good idea though if all of the implementations of the class are private inner classes.  A rare but useful example.  </p>\n"}],"owner":{"account_id":8385,"reputation":4789,"user_id":15075,"accept_rate":90,"display_name":"Richard Walton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14863,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":260779,"answer_count":4,"score":29,"last_activity_date":1689887440,"creation_date":1225768483,"question_id":260744,"body_markdown":"An abstract class can only be used as a base class which is extended by some other class, right? The constructor(s) of an abstract class can have the usual access modifiers (public, protected, and private (for internal use)).  Which of `protected` and `public` is the correct access modifier to use, since the abstract type seems to indicate that technically a public constructor will act very much protected?  Should I just use protected on all my constructors?","title":"Abstract class constructor access modifier","body":"<p>An abstract class can only be used as a base class which is extended by some other class, right? The constructor(s) of an abstract class can have the usual access modifiers (public, protected, and private (for internal use)).  Which of <code>protected</code> and <code>public</code> is the correct access modifier to use, since the abstract type seems to indicate that technically a public constructor will act very much protected?  Should I just use protected on all my constructors?</p>\n"},{"tags":["java","arrays","recursion","data-structures","time-complexity"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1689712410,"post_id":76716348,"comment_id":135251869,"body_markdown":"It&#39;s O(n). The number of swaps is directly proportional to the size of the array.","body":"It&#39;s O(n). The number of swaps is directly proportional to the size of the array."},{"owner":{"account_id":19586593,"reputation":103,"user_id":14334579,"display_name":"Ninad Walanj"},"score":0,"creation_date":1689793743,"post_id":76716348,"comment_id":135265561,"body_markdown":"@shmosel Could you please elaborate on your response? I am unable to understand. The size of the array is 5. how is the size proportional to the number of swaps?","body":"@shmosel Could you please elaborate on your response? I am unable to understand. The size of the array is 5. how is the size proportional to the number of swaps?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1689795001,"post_id":76716348,"comment_id":135265783,"body_markdown":"How many swaps are required for size 5? How many for 10? How many for 50? How many for 100? Do you see a pattern?","body":"How many swaps are required for size 5? How many for 10? How many for 50? How many for 100? Do you see a pattern?"}],"answers":[{"tags":[],"owner":{"account_id":9035402,"reputation":1127,"user_id":6731606,"display_name":"Evgeniy Mikhalev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689884729,"creation_date":1689884729,"answer_id":76733481,"question_id":76716348,"body_markdown":"You code complexity is O(N). Recursion here can be confusing, but in fact, it can be easily converted to the following code without any recursion:\r\n\r\n    class HelloWorld {\r\n    public static void main(String[] args) {\r\n        int[] arr = { 1, 2, 3, 4, 5 };\r\n\r\n        int i=0;\r\n        int j=arr.length-1;\r\n        for ( ;i&lt;j; ) {\r\n            int temp;\r\n            temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n            i++;\r\n            j--;\r\n        }\r\n\r\n\r\n        for (i = 0; i &lt; arr.length; i++) {\r\n            System.out.println(arr[i]);\r\n        }\r\n    }\r\n}\r\n\r\nThis is the same algorithm as yours. You need only N/2 loop iterations.","title":"Finding time complexity of a recursion code","body":"<p>You code complexity is O(N). Recursion here can be confusing, but in fact, it can be easily converted to the following code without any recursion:</p>\n<pre><code>class HelloWorld {\npublic static void main(String[] args) {\n    int[] arr = { 1, 2, 3, 4, 5 };\n\n    int i=0;\n    int j=arr.length-1;\n    for ( ;i&lt;j; ) {\n        int temp;\n        temp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = temp;\n        i++;\n        j--;\n    }\n\n\n    for (i = 0; i &lt; arr.length; i++) {\n        System.out.println(arr[i]);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>This is the same algorithm as yours. You need only N/2 loop iterations.</p>\n"}],"owner":{"account_id":19586593,"reputation":103,"user_id":14334579,"display_name":"Ninad Walanj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689886298,"creation_date":1689712302,"question_id":76716348,"body_markdown":"The code is written in **Java**. Here, I am **reversing an integer array using recursion.**\r\n\r\n\r\nI am unable to find the time complexity of the below code:\r\n\r\n    class Test2 {\r\n        public static int[] reverse(int[] arr, int start, int end) {\r\n            if (start &lt; end) {\r\n                int temp;\r\n                temp = arr[start];\r\n                arr[start] = arr[end];\r\n                arr[end] = temp;\r\n    \r\n                reverse(arr, start + 1, end - 1);\r\n            }\r\n            return arr;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int[] arr = { 1, 2, 3, 4, 5 };\r\n            int[] value = reverse(arr, 0, arr.length - 1);\r\n            for (int i = 0; i &lt; value.length; i++) {\r\n                System.out.println(value[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAlso, please provide an explanation of the time complexity solution, if possible.\r\n\r\n\r\nThank you.\r\n","title":"Finding time complexity of a recursion code","body":"<p>The code is written in <strong>Java</strong>. Here, I am <strong>reversing an integer array using recursion.</strong></p>\n<p>I am unable to find the time complexity of the below code:</p>\n<pre><code>class Test2 {\n    public static int[] reverse(int[] arr, int start, int end) {\n        if (start &lt; end) {\n            int temp;\n            temp = arr[start];\n            arr[start] = arr[end];\n            arr[end] = temp;\n\n            reverse(arr, start + 1, end - 1);\n        }\n        return arr;\n    }\n\n    public static void main(String[] args) {\n        int[] arr = { 1, 2, 3, 4, 5 };\n        int[] value = reverse(arr, 0, arr.length - 1);\n        for (int i = 0; i &lt; value.length; i++) {\n            System.out.println(value[i]);\n        }\n    }\n}\n</code></pre>\n<p>Also, please provide an explanation of the time complexity solution, if possible.</p>\n<p>Thank you.</p>\n"},{"tags":["java","c++builder-11-alexandria"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689884083,"post_id":76732107,"comment_id":135280433,"body_markdown":"You are trying to debug what application (it is a c, c++, Java, Swift, Kotlin, etc project?) in what kind of phone (I guess Android but you should say it. It isn&#39;t iOS right?)? If it is Android, is the project pure C++? You should provide more details.","body":"You are trying to debug what application (it is a c, c++, Java, Swift, Kotlin, etc project?) in what kind of phone (I guess Android but you should say it. It isn&#39;t iOS right?)? If it is Android, is the project pure C++? You should provide more details."},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1689885491,"post_id":76732107,"comment_id":135280668,"body_markdown":"Presumably Android, since it is running Java on top of Linux","body":"Presumably Android, since it is running Java on top of Linux"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689940813,"post_id":76732107,"comment_id":135287717,"body_markdown":"And some of the jars are named after Android and Google services for Android.  But that should be provided up front in the question","body":"And some of the jars are named after Android and Google services for Android.  But that should be provided up front in the question"},{"owner":{"account_id":1724236,"reputation":147,"user_id":1579291,"accept_rate":80,"display_name":"Nigel Stevens"},"score":0,"creation_date":1690118554,"post_id":76732107,"comment_id":135305670,"body_markdown":"Managed to fix this by the following :\n\n1/. In Rad Studio, in the Project WIndow, right clicked on Project / Target Platforms (Android 32 bit) / Android SDK 25.2.5 32-bit / Libraries, then in the menu that pops up, click on Revert System Files to Default\n\n2/. Uninstall the app from the phone, reboot the phone then debug the app as usual","body":"Managed to fix this by the following :  1/. In Rad Studio, in the Project WIndow, right clicked on Project / Target Platforms (Android 32 bit) / Android SDK 25.2.5 32-bit / Libraries, then in the menu that pops up, click on Revert System Files to Default  2/. Uninstall the app from the phone, reboot the phone then debug the app as usual"}],"owner":{"account_id":1724236,"reputation":147,"user_id":1579291,"accept_rate":80,"display_name":"Nigel Stevens"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689885461,"creation_date":1689872205,"question_id":76732107,"body_markdown":"Running C++Builder 11 Version 28.0.48361.3236 Community Edition under Windows 10.\r\n\r\nSince updating my Community Edition of C++Builder, when I try to debug an app on my phone, I get loads of Java errors, but didn&#39;t even know Java was part of it.\r\n\r\nHow do I find out what&#39;s gone wrong?\r\n\r\nI&#39;ve noticed that a file mentioned in the first error (see below), &quot;dex_list.txt&quot;, seems to contain the paths of several files, of which the following do not exist:\r\n\r\n - android-support-v4.dex.jar\r\n - apk-expansion.dex.jar\r\n - cloud-messaging.dex.jar\r\n - google-analytics-v2.dex.jar\r\n - google-play-billing.dex.jar\r\n - google-play-services.dex.jar\r\n\r\nThe errors start with:\r\n\r\n```none\r\npaclient command line\r\n  c:\\program files (x86)\\embarcadero\\studio\\22.0\\bin\\paclient.exe -u8 --dexmerge=&quot;C:\\Program Files\\Java\\jdk1.8.0_60\\bin\\java.exe,c:\\program files \r\n  (x86)\\embarcadero\\studio\\22.0\\bin\\Android\\r8-3.3.28.jar,C:\\My C++ Source Code\\Android\\ToDoList\\Android\\Debug\\ToDoList.classes,23,C:\\My C++ Source \r\n  Code\\Android\\ToDoList\\Android\\Debug\\dex_list.txt&quot;\r\n  \r\n[PAClient Error] Error: E7688 Unable to execute &#39;&quot;C:\\Program Files\\Java\\jdk1.8.0_60\\bin\\java.exe&quot; -cp &quot;c:\\program files (x86)\\embarcadero\\studio\\22.0\\bin\\Android\\r8-3.3.28.jar&quot; com.android.tools.r8.D8 --release --min-api 23 --output &quot;C:\\My C++ Source Code\\Android\\ToDoList\\Android\\Debug\\ToDoList.classes&quot; @&quot;C:\\My C++ Source Code\\Android\\ToDoList\\Android\\Debug\\dex_list.txt&quot;&#39; (Error 1)\r\n\r\n[PAClient Error] Error: E7688 Error in c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\android-support-v4.dex.jar:\r\n\r\n[PAClient Error] Error: E7688 java.nio.file.NoSuchFileException: c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\android-support-v4.dex.jar\r\n\r\n[PAClient Error] Error: E7688 Error in c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\apk-expansion.dex.jar:\r\n\r\n[PAClient Error] Error: E7688 java.nio.file.NoSuchFileException: c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\apk-expansion.dex.jar\r\n```","title":"How can I fix Java errors after upgrading to C++Builder Alexandria (Windows 10)?","body":"<p>Running C++Builder 11 Version 28.0.48361.3236 Community Edition under Windows 10.</p>\n<p>Since updating my Community Edition of C++Builder, when I try to debug an app on my phone, I get loads of Java errors, but didn't even know Java was part of it.</p>\n<p>How do I find out what's gone wrong?</p>\n<p>I've noticed that a file mentioned in the first error (see below), &quot;dex_list.txt&quot;, seems to contain the paths of several files, of which the following do not exist:</p>\n<ul>\n<li>android-support-v4.dex.jar</li>\n<li>apk-expansion.dex.jar</li>\n<li>cloud-messaging.dex.jar</li>\n<li>google-analytics-v2.dex.jar</li>\n<li>google-play-billing.dex.jar</li>\n<li>google-play-services.dex.jar</li>\n</ul>\n<p>The errors start with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>paclient command line\n  c:\\program files (x86)\\embarcadero\\studio\\22.0\\bin\\paclient.exe -u8 --dexmerge=&quot;C:\\Program Files\\Java\\jdk1.8.0_60\\bin\\java.exe,c:\\program files \n  (x86)\\embarcadero\\studio\\22.0\\bin\\Android\\r8-3.3.28.jar,C:\\My C++ Source Code\\Android\\ToDoList\\Android\\Debug\\ToDoList.classes,23,C:\\My C++ Source \n  Code\\Android\\ToDoList\\Android\\Debug\\dex_list.txt&quot;\n  \n[PAClient Error] Error: E7688 Unable to execute '&quot;C:\\Program Files\\Java\\jdk1.8.0_60\\bin\\java.exe&quot; -cp &quot;c:\\program files (x86)\\embarcadero\\studio\\22.0\\bin\\Android\\r8-3.3.28.jar&quot; com.android.tools.r8.D8 --release --min-api 23 --output &quot;C:\\My C++ Source Code\\Android\\ToDoList\\Android\\Debug\\ToDoList.classes&quot; @&quot;C:\\My C++ Source Code\\Android\\ToDoList\\Android\\Debug\\dex_list.txt&quot;' (Error 1)\n\n[PAClient Error] Error: E7688 Error in c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\android-support-v4.dex.jar:\n\n[PAClient Error] Error: E7688 java.nio.file.NoSuchFileException: c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\android-support-v4.dex.jar\n\n[PAClient Error] Error: E7688 Error in c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\apk-expansion.dex.jar:\n\n[PAClient Error] Error: E7688 java.nio.file.NoSuchFileException: c:\\program files (x86)\\embarcadero\\studio\\22.0\\lib\\android\\Debug\\apk-expansion.dex.jar\n</code></pre>\n"},{"tags":["java","datetime","locale"],"comments":[{"owner":{"account_id":5570191,"reputation":13,"user_id":4415836,"display_name":"Suyash Gupta"},"score":0,"creation_date":1688669673,"post_id":76631716,"comment_id":135108578,"body_markdown":"its a time stamp I extracted from db table, need to format in date &amp; time","body":"its a time stamp I extracted from db table, need to format in date &amp; time"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1688669864,"post_id":76631716,"comment_id":135108608,"body_markdown":"do you really have a `BigInteger` or is the *actual*  input a `String` (as in posted code) || an standard advice - stop using classes like `Date`, `Calendar, `SimpleDateFormat`, ... outdated by classes from the `java.time` package with Java 8 (almost 10 years ago)","body":"do you really have a <code>BigInteger</code> or is the <i>actual</i>  input a <code>String</code> (as in posted code) || an standard advice - stop using classes like <code>Date</code>, <code>Calendar, </code>SimpleDateFormat<code>, ... outdated by classes from the </code>java.time` package with Java 8 (almost 10 years ago)"},{"owner":{"account_id":5570191,"reputation":13,"user_id":4415836,"display_name":"Suyash Gupta"},"score":0,"creation_date":1688669948,"post_id":76631716,"comment_id":135108617,"body_markdown":"its a string, since integer can&#39;t handle such big value, I tried Big Int","body":"its a string, since integer can&#39;t handle such big value, I tried Big Int"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688670160,"post_id":76631716,"comment_id":135108653,"body_markdown":"a `long` would be sufficient, **but** there is no reason to convert it into a number - converting a `String` to some date/time by using the `parse()` method (opposite of `format`) of a [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html) (the replacement for `SimpleDateFormat`)","body":"a <code>long</code> would be sufficient, <b>but</b> there is no reason to convert it into a number - converting a <code>String</code> to some date/time by using the <code>parse()</code> method (opposite of <code>format</code>) of a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> (the replacement for <code>SimpleDateFormat</code>)"},{"owner":{"account_id":5570191,"reputation":13,"user_id":4415836,"display_name":"Suyash Gupta"},"score":0,"creation_date":1688670463,"post_id":76631716,"comment_id":135108701,"body_markdown":"I tried this\n\n\t\tLocalDateTime dateTime = LocalDateTime.parse(&quot;2023062223380346&quot;);\n\nerror- java.time.format.DateTimeParseException: Text &#39;2023062223380346&#39; could not be parsed at index 0","body":"I tried this  \t\tLocalDateTime dateTime = LocalDateTime.parse(&quot;2023062223380346&quot;);  error- java.time.format.DateTimeParseException: Text &#39;2023062223380346&#39; could not be parsed at index 0"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1688671098,"post_id":76631716,"comment_id":135108807,"body_markdown":"Your input does not match your output. Did you mean an input of `&quot;20230622233803466&quot;` rather than `&quot;2023062223380346&quot;`? (Note the last digits, one six versus two.)","body":"Your input does not match your output. Did you mean an input of <code>&quot;20230622233803466&quot;</code> rather than <code>&quot;2023062223380346&quot;</code>? (Note the last digits, one six versus two.)"},{"owner":{"account_id":5570191,"reputation":13,"user_id":4415836,"display_name":"Suyash Gupta"},"score":0,"creation_date":1688672161,"post_id":76631716,"comment_id":135108988,"body_markdown":"This is the exact input- 2023062223380346\noutput format- yyyy-mm-dd hh:mm:ss","body":"This is the exact input- 2023062223380346 output format- yyyy-mm-dd hh:mm:ss"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1688672702,"post_id":76631716,"comment_id":135109077,"body_markdown":"https://stackoverflow.com/questions/36085626/localdatetime-parse-with-a-pattern-only-numbers   the answer from this one works just needs to remove the `appendLiteral` and add `.appendValue(ChronoField.MILLI_OF_SECOND, 2)`  and use `LocalDateTime`","body":"<a href=\"https://stackoverflow.com/questions/36085626/localdatetime-parse-with-a-pattern-only-numbers\" title=\"localdatetime parse with a pattern only numbers\">stackoverflow.com/questions/36085626/&hellip;</a>   the answer from this one works just needs to remove the <code>appendLiteral</code> and add <code>.appendValue(ChronoField.MILLI_OF_SECOND, 2)</code>  and use <code>LocalDateTime</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1688673426,"post_id":76631716,"comment_id":135109225,"body_markdown":"@SuyashGupta In your last Comment, count the number of digits in the input. Then count the number of digits in your formatting pattern. Those two counts are *not* the same number. Can you see why that is a problem?","body":"@SuyashGupta In your last Comment, count the number of digits in the input. Then count the number of digits in your formatting pattern. Those two counts are <i>not</i> the same number. Can you see why that is a problem?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1688681090,"post_id":76631716,"comment_id":135110460,"body_markdown":"In your desired output, should the COLON character in `03:466` be a [decimal separator](https://en.wikipedia.org/wiki/Decimal_separator) such as COMMA `,` or FULL STOP (`.`) such as `03,466` or `03.466` ?","body":"In your desired output, should the COLON character in <code>03:466</code> be a <a href=\"https://en.wikipedia.org/wiki/Decimal_separator\" rel=\"nofollow noreferrer\">decimal separator</a> such as COMMA <code>,</code> or FULL STOP (<code>.</code>) such as <code>03,466</code> or <code>03.466</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1688681194,"post_id":76631942,"comment_id":135110476,"body_markdown":"@user16320675 I posted a Comment to ask if that is a typo. This Question is really such a mess that I regret posting an Answer at all. The Question should have been closed for its poor quality.","body":"@user16320675 I posted a Comment to ask if that is a typo. This Question is really such a mess that I regret posting an Answer at all. The Question should have been closed for its poor quality."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688674000,"creation_date":1688671145,"answer_id":76631942,"question_id":76631716,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime\r\n    .parse( \r\n        &quot;20230622233803466&quot; , \r\n        DateTimeFormatter.ofPattern ( &quot;uuuuMMddHHmmssSSS&quot; ) \r\n    )\r\n    .toString()\r\n    .replace( &quot;T&quot; , &quot; &quot; )\r\n\r\n&gt;2023-06-22 23:38:03.466\r\n\r\n# Details\r\n\r\nYou are using terrible legacy date-time classes were years ago supplanted by the modern java.time classes defined in JSR 310. Always use *java.time* classes for your date-time handling.\r\n\r\n# *java.time* classes\r\n\r\nI assume your example input string `&quot;2023062223380346&quot;` is a typo, as it is missing a digit on the end when compared to your desired output `2023-06-22 23:38:03:466`. \r\n\r\nDefine a formatting pattern to match your input.\r\n\r\n    String input = &quot;20230622233803466&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;uuuuMMddHHmmssSSS&quot; );\r\n\r\nParse as a `LocalDateTime`, a date with time of day but lacking the context of a time zone or offset-from-UTC.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( input , f ) ;\r\n\r\nGenerate text in standard ISO 8601 format.\r\n\r\n    String iso8601 = ldt.toString() ; \r\n\r\nReplace the `T` in the middle with a SPACE, per your desired output.\r\n\r\n    String output = iso8601.replace( &quot;T&quot; , &quot; &quot; ) ;\r\n\r\nSee this code [run at Ideone.com][1].\r\n\r\n&gt;iso8601 = 2023-06-22T23:38:03.466\r\n&gt;\r\n&gt;output = 2023-06-22 23:38:03.466\r\n\r\n\r\nApparently you want to interpret this as representing a moment in a specific time zone. Use time zone names rather than assuming an offset. Offsets can vary for different periods of time — that is the definition of a time zone, a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/London&quot; ) ;\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\n&gt;zdt.toString() = 2023-06-22T23:38:03.466+01:00[Europe/London]\r\n\r\n\r\n----------\r\n\r\nTip: Educate the publisher of your data about the benefits of using standard [ISO 8601][2] formats when communicating date-time values textually.\r\n\r\n\r\n  [1]: https://ideone.com/UBK9uD\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601","title":"I have a big integer value which I need to convert into date time in (yyyy-mm-dd hr:ss:mss)","body":"<h1>tl;dr</h1>\n<pre><code>LocalDateTime\n.parse( \n    &quot;20230622233803466&quot; , \n    DateTimeFormatter.ofPattern ( &quot;uuuuMMddHHmmssSSS&quot; ) \n)\n.toString()\n.replace( &quot;T&quot; , &quot; &quot; )\n</code></pre>\n<blockquote>\n<p>2023-06-22 23:38:03.466</p>\n</blockquote>\n<h1>Details</h1>\n<p>You are using terrible legacy date-time classes were years ago supplanted by the modern java.time classes defined in JSR 310. Always use <em>java.time</em> classes for your date-time handling.</p>\n<h1><em>java.time</em> classes</h1>\n<p>I assume your example input string <code>&quot;2023062223380346&quot;</code> is a typo, as it is missing a digit on the end when compared to your desired output <code>2023-06-22 23:38:03:466</code>.</p>\n<p>Define a formatting pattern to match your input.</p>\n<pre><code>String input = &quot;20230622233803466&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;uuuuMMddHHmmssSSS&quot; );\n</code></pre>\n<p>Parse as a <code>LocalDateTime</code>, a date with time of day but lacking the context of a time zone or offset-from-UTC.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( input , f ) ;\n</code></pre>\n<p>Generate text in standard ISO 8601 format.</p>\n<pre><code>String iso8601 = ldt.toString() ; \n</code></pre>\n<p>Replace the <code>T</code> in the middle with a SPACE, per your desired output.</p>\n<pre><code>String output = iso8601.replace( &quot;T&quot; , &quot; &quot; ) ;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/UBK9uD\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>iso8601 = 2023-06-22T23:38:03.466</p>\n<p>output = 2023-06-22 23:38:03.466</p>\n</blockquote>\n<p>Apparently you want to interpret this as representing a moment in a specific time zone. Use time zone names rather than assuming an offset. Offsets can vary for different periods of time — that is the definition of a time zone, a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/London&quot; ) ;\nZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n<blockquote>\n<p>zdt.toString() = 2023-06-22T23:38:03.466+01:00[Europe/London]</p>\n</blockquote>\n<hr />\n<p>Tip: Educate the publisher of your data about the benefits of using standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats when communicating date-time values textually.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689885085,"creation_date":1689884598,"answer_id":76733468,"question_id":76631716,"body_markdown":"In case you get a strign with known format, you can extract required part and build any `date/time` object, that accept all these parts separately. E.g. `ZonedDateTime`.\r\n\r\nIn case you nee a `Date` object, you can build it based on `ZonedDateTime`.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    String str = &quot;2023062223380346&quot;;\r\n    ZonedDateTime zonedDateTime = convert(str, ZoneId.of(&quot;Europe/London&quot;));\r\n    System.out.println(zonedDateTime);  // 2023-06-22T23:38:03.000000046+01:00[Europe/London]\r\n}\r\n\r\npublic static ZonedDateTime convert(String str, ZoneId zoneId) {\r\n    return ZonedDateTime.of(Integer.parseInt(str.substring(0, 4)),\r\n                            Integer.parseInt(str.substring(4, 6)),\r\n                            Integer.parseInt(str.substring(6, 8)),\r\n                            Integer.parseInt(str.substring(8, 10)),\r\n                            Integer.parseInt(str.substring(10, 12)),\r\n                            Integer.parseInt(str.substring(12, 14)),\r\n                            Integer.parseInt(str.substring(14)),\r\n                            zoneId);\r\n}\r\n```","title":"I have a big integer value which I need to convert into date time in (yyyy-mm-dd hr:ss:mss)","body":"<p>In case you get a strign with known format, you can extract required part and build any <code>date/time</code> object, that accept all these parts separately. E.g. <code>ZonedDateTime</code>.</p>\n<p>In case you nee a <code>Date</code> object, you can build it based on <code>ZonedDateTime</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    String str = &quot;2023062223380346&quot;;\n    ZonedDateTime zonedDateTime = convert(str, ZoneId.of(&quot;Europe/London&quot;));\n    System.out.println(zonedDateTime);  // 2023-06-22T23:38:03.000000046+01:00[Europe/London]\n}\n\npublic static ZonedDateTime convert(String str, ZoneId zoneId) {\n    return ZonedDateTime.of(Integer.parseInt(str.substring(0, 4)),\n                            Integer.parseInt(str.substring(4, 6)),\n                            Integer.parseInt(str.substring(6, 8)),\n                            Integer.parseInt(str.substring(8, 10)),\n                            Integer.parseInt(str.substring(10, 12)),\n                            Integer.parseInt(str.substring(12, 14)),\n                            Integer.parseInt(str.substring(14)),\n                            zoneId);\n}\n</code></pre>\n"}],"owner":{"account_id":5570191,"reputation":13,"user_id":4415836,"display_name":"Suyash Gupta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76631942,"answer_count":2,"score":0,"last_activity_date":1689885085,"creation_date":1688669070,"question_id":76631716,"body_markdown":"I have a big integer value which I need to convert into date time in (yyyy-mm-dd hr:ss:mss)\r\n\r\n\t\t\r\n\r\n    BigInteger sum= new BigInteger(&quot;2023062223380346&quot;);\r\n    \t//\tlong unixSeconds = 1429582984839;\r\n    \t\t   Date date1 = new Date(sum); \r\n    \t\t   SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy h:mm:ss a&quot;); \r\n    \t\t   sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+1&quot;));\r\n    \t\t   String formattedDate = sdf.format(date1);\r\n    \t\t    System.out.println(formattedDate);\r\n\r\n\r\nExpected output- 2023-06-22 23:38:03:466","title":"I have a big integer value which I need to convert into date time in (yyyy-mm-dd hr:ss:mss)","body":"<p>I have a big integer value which I need to convert into date time in (yyyy-mm-dd hr:ss:mss)</p>\n<pre><code>BigInteger sum= new BigInteger(&quot;2023062223380346&quot;);\n    //  long unixSeconds = 1429582984839;\n           Date date1 = new Date(sum); \n           SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy h:mm:ss a&quot;); \n           sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+1&quot;));\n           String formattedDate = sdf.format(date1);\n            System.out.println(formattedDate);\n</code></pre>\n<p>Expected output- 2023-06-22 23:38:03:466</p>\n"},{"tags":["java","android","opencv","arcore"],"owner":{"account_id":29057372,"reputation":1,"user_id":22258863,"display_name":"JB King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689884817,"creation_date":1689861102,"question_id":76730592,"body_markdown":"I developed an AR application based on AR Core in Android. Because I also used ArUco marker to help me tarcking the object location in real-world, so it&#39;s nessesary to alline the coordinate system of detected surface geometry in AR Core with the ArUco marker. I took a screenshot of the surface geometry, they usally show in white dots in a triangle shape and will change sometime when the application detects significant orientation change of the smartphone.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI was failed to alline those 2 coordinate system because I don&#39;t know how to get the rotation info of that surface geometry, is there a way to achive that? Or I should try something eles to alline the coordinate system?\r\n\r\nI tried to get the orientation of the smartphone by reading the data of accelerometer and gyroscope. But as I described before, the surface geometry didn&#39;t change immediately when the orientation changes. As a temporary solution, I can only visually align the two coordinate systems by applying a rotation matrix.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUX1p.jpg","title":"Is there a way to get the rotation info of surface geometry in AR Core","body":"<p>I developed an AR application based on AR Core in Android. Because I also used ArUco marker to help me tarcking the object location in real-world, so it's nessesary to alline the coordinate system of detected surface geometry in AR Core with the ArUco marker. I took a screenshot of the surface geometry, they usally show in white dots in a triangle shape and will change sometime when the application detects significant orientation change of the smartphone.</p>\n<p><a href=\"https://i.stack.imgur.com/sUX1p.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUX1p.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I was failed to alline those 2 coordinate system because I don't know how to get the rotation info of that surface geometry, is there a way to achive that? Or I should try something eles to alline the coordinate system?</p>\n<p>I tried to get the orientation of the smartphone by reading the data of accelerometer and gyroscope. But as I described before, the surface geometry didn't change immediately when the orientation changes. As a temporary solution, I can only visually align the two coordinate systems by applying a rotation matrix.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":29059026,"reputation":1,"user_id":22260167,"display_name":"ola22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689884695,"creation_date":1689877392,"question_id":76732737,"body_markdown":"I have 4 tables in my database \r\n\r\n[![enter image description here][1]][1]\r\n\r\nDespite type of question it can have options or not.\r\n\r\n\r\n```\r\n@Override\r\n\t@Transactional\r\n\tpublic Presentation updatePresentation(Long id, PresentationRequestDto updatedPresentationRequest,\r\n\t\t\tUserPrincipal currentUser) {\r\n\t\tPresentation presentation = presentationRepository.findById(id)\r\n\t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(AppConstants.PRESENTATION, AppConstants.ID, id));\r\n\t\tif (AppUtils.checkUserIsCurrentUserOrAdmin(presentation.getUser(), currentUser)) {\r\n\t\t\tpresentation.setTitle(updatedPresentationRequest.getTitle());\r\n\r\n\t\t\tList&lt;Slide&gt; existingSlides = presentation.getSlides();\r\n\t\t\tList&lt;SlideRequestDto&gt; updatedSlides = updatedPresentationRequest.getSlides();\r\n\r\n\t\t\tfor (SlideRequestDto updatedSlide : updatedSlides) {\r\n\t\t\t\tif (updatedSlide.getId() != null) {\r\n\t\t\t\t\tSlide existingSlide = existingSlides.stream()\r\n\t\t\t\t\t\t\t.filter(slide -&gt; slide.getId().equals(updatedSlide.getId())).findFirst()\r\n\t\t\t\t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(AppConstants.SLIDE, AppConstants.ID,\r\n\t\t\t\t\t\t\t\t\tupdatedSlide.getId()));\r\n\t\t\t\t\texistingSlide.setTitle(updatedSlide.getTitle());\r\n\t\t\t\t\tSlideType slideType = slideTypeRepository.findByName(SlideTypeName.valueOf(updatedSlide.getType()));\r\n\t\t\t\t\texistingSlide.setType(slideType);\r\n\r\n\t\t\t\t\tif (AppConstants.OPTIONS_SLIDES_TYPES.contains(slideType.getName())) {\r\n\t\t\t\t\t\tList&lt;Option&gt; existingOptions = existingSlide.getOptions();\r\n\t\t\t\t\t\tList&lt;Option&gt; updatedOptions = updatedSlide.getOptions();\r\n\r\n\t\t\t\t\t\t// update existing option\r\n\t\t\t\t\t\tfor (Option updatedOption : updatedOptions) {\r\n\t\t\t\t\t\t\tfor (Option existingOption : existingOptions) {\r\n\t\t\t\t\t\t\t\tif (existingOption.getId() != null\r\n\t\t\t\t\t\t\t\t\t\t&amp;&amp; existingOption.getId().equals(updatedOption.getId())) {\r\n\t\t\t\t\t\t\t\t\texistingOption.setOption(updatedOption.getOption());\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// add new option\r\n\t\t\t\t\t\tfor (Option updatedOption : updatedOptions) {\r\n\t\t\t\t\t\t\tif (updatedOption.getId() == null) {\r\n\t\t\t\t\t\t\t\tOption newOption = new Option();\r\n\t\t\t\t\t\t\t\tnewOption.setOption(updatedOption.getOption());\r\n\t\t\t\t\t\t\t\tnewOption.setSlide(existingSlide);\r\n\t\t\t\t\t\t\t\texistingOptions.add(newOption);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// remove options that are not in updateOptions list\r\n\t\t\t\t\t\texistingOptions.removeIf(existingOption -&gt; existingOption.getId() != null\r\n\t\t\t\t\t\t\t\t&amp;&amp; updatedOptions.stream().noneMatch(updatedOption -&gt; updatedOption.getId() != null\r\n\t\t\t\t\t\t\t\t\t\t&amp;&amp; updatedOption.getId().equals(existingOption.getId())));\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSlideType slideType = slideTypeRepository.findByName(SlideTypeName.valueOf(updatedSlide.getType()));\r\n\t\t\t\t\tSlide newSlide = new Slide();\r\n\t\t\t\t\tnewSlide.setTitle(updatedSlide.getTitle());\r\n\t\t\t\t\tnewSlide.setType(slideType);\r\n\t\t\t\t\tnewSlide.setPresentation(presentation);\r\n\t\t\t\t\tif (AppConstants.OPTIONS_SLIDES_TYPES.contains(slideType.getName())) {\r\n\t\t\t\t\t\tList&lt;Option&gt; options = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\tOption option = new Option();\r\n\t\t\t\t\t\tfor (Option updatedOption : updatedSlide.getOptions()) {\r\n\t\t\t\t\t\t\tOption newOption = new Option();\r\n\t\t\t\t\t\t\tnewOption.setOption(updatedOption.getOption());\r\n\t\t\t\t\t\t\tnewOption.setSlide(newSlide);\r\n\t\t\t\t\t\t\toptions.add(option);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewSlide.setOptions(options);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpresentation.addSlide(newSlide);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\texistingSlides.removeIf(\r\n\t\t\t\t\texistingSlide -&gt; updatedSlides.stream().noneMatch(updatedSlide -&gt; updatedSlide.getId() != null\r\n\t\t\t\t\t\t\t&amp;&amp; updatedSlide.getId().equals(existingSlide.getId())));\r\n\r\n\t\t\tPresentation updatedPresentation = presentationRepository.save(presentation);\r\n\t\t\treturn updatedPresentation;\r\n\t\t}\r\n\r\n\t\tthrow new UnauthorizedException(new ApiResponseDto(false, &quot;You do not have permissions to edit that post.&quot;));\r\n\r\n\t}\r\n```\r\n\r\nI have some presentations already created and I want to update fields on it. I want to increase and decrease number of options and slides. Adding new options/slides to request body works fine. Updating already present option or slide title works too. But when I want to decrease number of options/slides they are still in database and in the response body.\r\n\r\nI have presentation like that:\r\n```\r\n{\r\n    &quot;createdAt&quot;: &quot;2023-07-20T16:35:52.935813600Z&quot;,\r\n    &quot;id&quot;: 23,\r\n    &quot;title&quot;: &quot;test&quot;,\r\n    &quot;code&quot;: &quot;810817&quot;,\r\n    &quot;slides&quot;: [\r\n        {\r\n            &quot;createdAt&quot;: &quot;2023-07-20T16:35:52.976128400Z&quot;,\r\n            &quot;id&quot;: 23,\r\n            &quot;title&quot;: &quot;z options&quot;,\r\n            &quot;type&quot;: {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;MULTIPLE_CHOICE&quot;\r\n            },\r\n            &quot;options&quot;: [\r\n                {\r\n                    &quot;id&quot;: 10,\r\n                    &quot;option&quot;: &quot;Updated Option 1 for Slide 1&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 11,\r\n                    &quot;option&quot;: &quot;Updated Option 2 for Slide 1&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 12,\r\n                    &quot;option&quot;: &quot;New Option for Slide 1&quot;\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nand I want to update it using below request body so I want to delete options with ids 11 and 12, and update option name for &quot;new&quot;. Updating name works but deleting doen not.\r\n\r\n```\r\n{\r\n  &quot;title&quot;: &quot;Updated Presentation Title&quot;,\r\n  &quot;slides&quot;: [\r\n    {\r\n      &quot;id&quot;: 23,\r\n      &quot;title&quot;: &quot;Updated Slide 1 Title&quot;,\r\n      &quot;type&quot;: &quot;MULTIPLE_CHOICE&quot;,\r\n      &quot;options&quot;: [\r\n        {\r\n            &quot;id&quot;: 10,\r\n          &quot;option&quot;: &quot;new&quot;\r\n        }\r\n      ]\r\n    }]\r\n}\r\n```\r\n\r\nMy models:\r\nPresentation.java:\r\n```\r\npackage com.project.mindsync.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.project.mindsync.model.audit.DateAudit;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Table(name = &quot;presentatations&quot;)\r\n@Setter\r\n@Getter\r\npublic class Presentation extends DateAudit {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\tprivate String title;\r\n\tprivate String code;\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n\t@JsonIgnore\r\n\tprivate User user;\r\n\r\n\t@OneToMany(mappedBy = &quot;presentation&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n\tprivate List&lt;Slide&gt; slides;\r\n\r\n\t@JsonIgnore\r\n\t@OneToMany(mappedBy = &quot;presentation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;Show&gt; shows;\r\n\r\n\tpublic List&lt;Slide&gt; getSlides() {\r\n\t\treturn slides == null ? null : new ArrayList&lt;&gt;(slides);\r\n\t}\r\n\r\n\tpublic void addSlide(Slide slide) {\r\n\t\tif (slides == null) {\r\n\t\t\tslides = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tslides.add(slide);\r\n\t\tslide.setPresentation(this);\r\n\t}\r\n\r\n\tpublic void setSlides(List&lt;Slide&gt; slides) {\r\n\t\tthis.slides = slides;\r\n\t}\r\n\r\n\tpublic List&lt;Show&gt; getShows() {\r\n\t\treturn shows == null ? null : new ArrayList&lt;&gt;(shows);\r\n\t}\r\n\r\n\tpublic void setShows(List&lt;Show&gt; shows) {\r\n\t\tif (shows == null) {\r\n\t\t\tthis.shows = null;\r\n\t\t} else {\r\n\t\t\tthis.shows = Collections.unmodifiableList(shows);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nSLide.java:\r\n```\r\npackage com.project.mindsync.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport org.hibernate.annotations.OnDelete;\r\nimport org.hibernate.annotations.OnDeleteAction;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.project.mindsync.model.audit.DateAudit;\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Table(name = &quot;slides&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Slide extends DateAudit {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\tprivate String title;\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;type_id&quot;, nullable = false)\r\n\t@OnDelete(action = OnDeleteAction.CASCADE)\r\n\tprivate SlideType type;\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;presentation_id&quot;, nullable = false)\r\n\t@JsonIgnore\r\n\tprivate Presentation presentation;\r\n\r\n\t@OneToMany(mappedBy = &quot;slide&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;Option&gt; options;\r\n\r\n\tpublic SlideType getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic Slide(String title, SlideType slideType) {\r\n\t\tthis.title = title;\r\n\t\tthis.type = slideType;\r\n\t}\r\n\r\n\tpublic List&lt;Option&gt; getOptions() {\r\n\t\treturn options == null ? null : new ArrayList&lt;&gt;(options);\r\n\t}\r\n\r\n\tpublic void setOptions(List&lt;Option&gt; options) {\r\n\t\tthis.options = options;\r\n\t}\r\n\r\n\tpublic void removeOption(Option option){\r\n\t\toptions.remove(option);\r\n\t\toption.setSlide(this);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI tried to debug code and after this part of code:\r\n```\r\nexistingOptions.removeIf(existingOption -&gt; existingOption.getId() != null\r\n\t\t\t\t\t\t\t\t&amp;&amp; updatedOptions.stream().noneMatch(updatedOption -&gt; updatedOption.getId() != null\r\n\t\t\t\t\t\t\t\t\t\t&amp;&amp; updatedOption.getId().equals(existingOption.getId())));\r\n```\r\n\r\noptions/slides seems to be removed correctly but then database are not being updated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0kL7O.png","title":"Java Spring Boot - Not able to remove fields from database","body":"<p>I have 4 tables in my database</p>\n<p><a href=\"https://i.stack.imgur.com/0kL7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0kL7O.png\" alt=\"enter image description here\" /></a></p>\n<p>Despite type of question it can have options or not.</p>\n<pre><code>@Override\n    @Transactional\n    public Presentation updatePresentation(Long id, PresentationRequestDto updatedPresentationRequest,\n            UserPrincipal currentUser) {\n        Presentation presentation = presentationRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(AppConstants.PRESENTATION, AppConstants.ID, id));\n        if (AppUtils.checkUserIsCurrentUserOrAdmin(presentation.getUser(), currentUser)) {\n            presentation.setTitle(updatedPresentationRequest.getTitle());\n\n            List&lt;Slide&gt; existingSlides = presentation.getSlides();\n            List&lt;SlideRequestDto&gt; updatedSlides = updatedPresentationRequest.getSlides();\n\n            for (SlideRequestDto updatedSlide : updatedSlides) {\n                if (updatedSlide.getId() != null) {\n                    Slide existingSlide = existingSlides.stream()\n                            .filter(slide -&gt; slide.getId().equals(updatedSlide.getId())).findFirst()\n                            .orElseThrow(() -&gt; new ResourceNotFoundException(AppConstants.SLIDE, AppConstants.ID,\n                                    updatedSlide.getId()));\n                    existingSlide.setTitle(updatedSlide.getTitle());\n                    SlideType slideType = slideTypeRepository.findByName(SlideTypeName.valueOf(updatedSlide.getType()));\n                    existingSlide.setType(slideType);\n\n                    if (AppConstants.OPTIONS_SLIDES_TYPES.contains(slideType.getName())) {\n                        List&lt;Option&gt; existingOptions = existingSlide.getOptions();\n                        List&lt;Option&gt; updatedOptions = updatedSlide.getOptions();\n\n                        // update existing option\n                        for (Option updatedOption : updatedOptions) {\n                            for (Option existingOption : existingOptions) {\n                                if (existingOption.getId() != null\n                                        &amp;&amp; existingOption.getId().equals(updatedOption.getId())) {\n                                    existingOption.setOption(updatedOption.getOption());\n                                    break;\n                                }\n                            }\n                        }\n\n                        // add new option\n                        for (Option updatedOption : updatedOptions) {\n                            if (updatedOption.getId() == null) {\n                                Option newOption = new Option();\n                                newOption.setOption(updatedOption.getOption());\n                                newOption.setSlide(existingSlide);\n                                existingOptions.add(newOption);\n                            }\n                        }\n\n                        // remove options that are not in updateOptions list\n                        existingOptions.removeIf(existingOption -&gt; existingOption.getId() != null\n                                &amp;&amp; updatedOptions.stream().noneMatch(updatedOption -&gt; updatedOption.getId() != null\n                                        &amp;&amp; updatedOption.getId().equals(existingOption.getId())));\n\n                    }\n                } else {\n                    SlideType slideType = slideTypeRepository.findByName(SlideTypeName.valueOf(updatedSlide.getType()));\n                    Slide newSlide = new Slide();\n                    newSlide.setTitle(updatedSlide.getTitle());\n                    newSlide.setType(slideType);\n                    newSlide.setPresentation(presentation);\n                    if (AppConstants.OPTIONS_SLIDES_TYPES.contains(slideType.getName())) {\n                        List&lt;Option&gt; options = new ArrayList&lt;&gt;();\n                        Option option = new Option();\n                        for (Option updatedOption : updatedSlide.getOptions()) {\n                            Option newOption = new Option();\n                            newOption.setOption(updatedOption.getOption());\n                            newOption.setSlide(newSlide);\n                            options.add(option);\n                        }\n                        newSlide.setOptions(options);\n                    }\n                    presentation.addSlide(newSlide);\n                }\n            }\n\n            existingSlides.removeIf(\n                    existingSlide -&gt; updatedSlides.stream().noneMatch(updatedSlide -&gt; updatedSlide.getId() != null\n                            &amp;&amp; updatedSlide.getId().equals(existingSlide.getId())));\n\n            Presentation updatedPresentation = presentationRepository.save(presentation);\n            return updatedPresentation;\n        }\n\n        throw new UnauthorizedException(new ApiResponseDto(false, &quot;You do not have permissions to edit that post.&quot;));\n\n    }\n</code></pre>\n<p>I have some presentations already created and I want to update fields on it. I want to increase and decrease number of options and slides. Adding new options/slides to request body works fine. Updating already present option or slide title works too. But when I want to decrease number of options/slides they are still in database and in the response body.</p>\n<p>I have presentation like that:</p>\n<pre><code>{\n    &quot;createdAt&quot;: &quot;2023-07-20T16:35:52.935813600Z&quot;,\n    &quot;id&quot;: 23,\n    &quot;title&quot;: &quot;test&quot;,\n    &quot;code&quot;: &quot;810817&quot;,\n    &quot;slides&quot;: [\n        {\n            &quot;createdAt&quot;: &quot;2023-07-20T16:35:52.976128400Z&quot;,\n            &quot;id&quot;: 23,\n            &quot;title&quot;: &quot;z options&quot;,\n            &quot;type&quot;: {\n                &quot;id&quot;: 1,\n                &quot;name&quot;: &quot;MULTIPLE_CHOICE&quot;\n            },\n            &quot;options&quot;: [\n                {\n                    &quot;id&quot;: 10,\n                    &quot;option&quot;: &quot;Updated Option 1 for Slide 1&quot;\n                },\n                {\n                    &quot;id&quot;: 11,\n                    &quot;option&quot;: &quot;Updated Option 2 for Slide 1&quot;\n                },\n                {\n                    &quot;id&quot;: 12,\n                    &quot;option&quot;: &quot;New Option for Slide 1&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>and I want to update it using below request body so I want to delete options with ids 11 and 12, and update option name for &quot;new&quot;. Updating name works but deleting doen not.</p>\n<pre><code>{\n  &quot;title&quot;: &quot;Updated Presentation Title&quot;,\n  &quot;slides&quot;: [\n    {\n      &quot;id&quot;: 23,\n      &quot;title&quot;: &quot;Updated Slide 1 Title&quot;,\n      &quot;type&quot;: &quot;MULTIPLE_CHOICE&quot;,\n      &quot;options&quot;: [\n        {\n            &quot;id&quot;: 10,\n          &quot;option&quot;: &quot;new&quot;\n        }\n      ]\n    }]\n}\n</code></pre>\n<p>My models:\nPresentation.java:</p>\n<pre><code>package com.project.mindsync.model;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.project.mindsync.model.audit.DateAudit;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\n@Table(name = &quot;presentatations&quot;)\n@Setter\n@Getter\npublic class Presentation extends DateAudit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String title;\n    private String code;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @JsonIgnore\n    private User user;\n\n    @OneToMany(mappedBy = &quot;presentation&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    private List&lt;Slide&gt; slides;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;presentation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Show&gt; shows;\n\n    public List&lt;Slide&gt; getSlides() {\n        return slides == null ? null : new ArrayList&lt;&gt;(slides);\n    }\n\n    public void addSlide(Slide slide) {\n        if (slides == null) {\n            slides = new ArrayList&lt;&gt;();\n        }\n        slides.add(slide);\n        slide.setPresentation(this);\n    }\n\n    public void setSlides(List&lt;Slide&gt; slides) {\n        this.slides = slides;\n    }\n\n    public List&lt;Show&gt; getShows() {\n        return shows == null ? null : new ArrayList&lt;&gt;(shows);\n    }\n\n    public void setShows(List&lt;Show&gt; shows) {\n        if (shows == null) {\n            this.shows = null;\n        } else {\n            this.shows = Collections.unmodifiableList(shows);\n        }\n    }\n}\n\n</code></pre>\n<p>SLide.java:</p>\n<pre><code>package com.project.mindsync.model;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport org.hibernate.annotations.OnDelete;\nimport org.hibernate.annotations.OnDeleteAction;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.project.mindsync.model.audit.DateAudit;\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Table(name = &quot;slides&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Slide extends DateAudit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String title;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;type_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private SlideType type;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;presentation_id&quot;, nullable = false)\n    @JsonIgnore\n    private Presentation presentation;\n\n    @OneToMany(mappedBy = &quot;slide&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Option&gt; options;\n\n    public SlideType getType() {\n        return type;\n    }\n\n    public Slide(String title, SlideType slideType) {\n        this.title = title;\n        this.type = slideType;\n    }\n\n    public List&lt;Option&gt; getOptions() {\n        return options == null ? null : new ArrayList&lt;&gt;(options);\n    }\n\n    public void setOptions(List&lt;Option&gt; options) {\n        this.options = options;\n    }\n\n    public void removeOption(Option option){\n        options.remove(option);\n        option.setSlide(this);\n    }\n\n}\n</code></pre>\n<p>I tried to debug code and after this part of code:</p>\n<pre><code>existingOptions.removeIf(existingOption -&gt; existingOption.getId() != null\n                                &amp;&amp; updatedOptions.stream().noneMatch(updatedOption -&gt; updatedOption.getId() != null\n                                        &amp;&amp; updatedOption.getId().equals(existingOption.getId())));\n</code></pre>\n<p>options/slides seems to be removed correctly but then database are not being updated</p>\n"},{"tags":["java","eclipse","class"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1319606272,"post_id":7898923,"comment_id":9643444,"body_markdown":"Do these other classes have a main method in them?","body":"Do these other classes have a main method in them?"},{"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"score":0,"creation_date":1319607071,"post_id":7898923,"comment_id":9643516,"body_markdown":"Running program and use shortcut in Eclipse, serious business.","body":"Running program and use shortcut in Eclipse, serious business."},{"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"score":1,"creation_date":1319615143,"post_id":7898923,"comment_id":9644779,"body_markdown":"What&#39;s with the smiley face? :)","body":"What&#39;s with the smiley face? :)"}],"answers":[{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1453111387,"post_id":7898934,"comment_id":57443581,"body_markdown":"Also it is required that a main method contains &quot;String[] args&quot; as an argument as written in http://stackoverflow.com/questions/17114756/eclipse-run-as-has-no-java-application-option-what-exactly-is-needed-to-be?lq=1.","body":"Also it is required that a main method contains &quot;String[] args&quot; as an argument as written in <a href=\"http://stackoverflow.com/questions/17114756/eclipse-run-as-has-no-java-application-option-what-exactly-is-needed-to-be?lq=1\" title=\"eclipse run as has no java application option what exactly is needed to be\">stackoverflow.com/questions/17114756/&hellip;</a>."}],"tags":[],"owner":{"account_id":405311,"reputation":76346,"user_id":774116,"display_name":"Gryphius"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319606133,"creation_date":1319606133,"answer_id":7898934,"question_id":7898923,"body_markdown":"select your class, then select the small triangle right to the green button, in the dropdown select &quot;Run As&quot; -&gt; &quot;Java Application&quot;","title":"eclipse how to run a different class","body":"<p>select your class, then select the small triangle right to the green button, in the dropdown select \"Run As\" -> \"Java Application\"</p>\n"},{"tags":[],"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319606551,"creation_date":1319606551,"answer_id":7898963,"question_id":7898923,"body_markdown":"You can directly left click on your corresponding class code which you want to run and go to **run as--&gt;java application**.hope this will help. :)","title":"eclipse how to run a different class","body":"<p>You can directly left click on your corresponding class code which you want to run and go to <strong>run as-->java application</strong>.hope this will help. :)</p>\n"},{"tags":[],"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319606960,"creation_date":1319606960,"answer_id":7899005,"question_id":7898923,"body_markdown":"Apart from ways mentioned in the other answers, you can also try this short key.\r\n\r\nShort key : Press ALT + SHIFT + X then J\r\n\r\nHope this helps. :)","title":"eclipse how to run a different class","body":"<p>Apart from ways mentioned in the other answers, you can also try this short key.</p>\n\n<p>Short key : Press ALT + SHIFT + X then J</p>\n\n<p>Hope this helps. :)</p>\n"},{"tags":[],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319613684,"creation_date":1319613684,"answer_id":7899760,"question_id":7898923,"body_markdown":"First thing to note that class you want to run should have main method in it.\r\nright click on that class and run as --&gt; java application. it will run :)","title":"eclipse how to run a different class","body":"<p>First thing to note that class you want to run should have main method in it.\nright click on that class and run as --> java application. it will run :)</p>\n"},{"tags":[],"owner":{"account_id":12419181,"reputation":1,"user_id":9047063,"display_name":"Shravan Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512361293,"creation_date":1512316886,"answer_id":47620235,"question_id":7898923,"body_markdown":"`main` method is missing in your script:\r\n\r\n    public static void main(String[] args)\r\n ","title":"eclipse how to run a different class","body":"<p><code>main</code> method is missing in your script:</p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n"}],"owner":{"account_id":988545,"reputation":129,"user_id":1006428,"accept_rate":0,"display_name":"Nicholas Kong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18911,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1689884522,"creation_date":1319605917,"question_id":7898923,"body_markdown":"I want to work on my different class lets say for example house.java but the green play button seems to be locked a program called project.java and only that program. how do I tell Eclipse to run a different classes in the same folder besides the project.java? ","title":"eclipse how to run a different class","body":"<p>I want to work on my different class lets say for example house.java but the green play button seems to be locked a program called project.java and only that program. how do I tell Eclipse to run a different classes in the same folder besides the project.java? </p>\n"},{"tags":["java","spring-boot","parallel-processing","apache-camel","apache-camel-3"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689884463,"creation_date":1689884463,"answer_id":76733456,"question_id":76731240,"body_markdown":"If you&#39;re using the SQL component to read tables, you can use the [outputHeader][1] option to store the query results in different headers. \r\n\r\nOtherwise, you can use the Enrich EIP to accumulate the query results however you&#39;d like.\r\n\r\nFinally, you could do something simple and just copy each query result to a header or property. e.g.\r\n\r\n```\r\n.to(&quot;sql&quot;) // or whatever you&#39;re doing to get the data\r\n.setHeader(&quot;results1&quot;, body())\r\n.to(&quot;sql...&quot;) // or whatever you&#39;re doing to get the data\r\n.setHeader(&quot;results2&quot;, body())\r\n```\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/sql-component.html#_endpoint_query_option_outputHeader","title":"Parallel process and compare in Apache Camel","body":"<p>If you're using the SQL component to read tables, you can use the <a href=\"https://camel.apache.org/components/3.20.x/sql-component.html#_endpoint_query_option_outputHeader\" rel=\"nofollow noreferrer\">outputHeader</a> option to store the query results in different headers.</p>\n<p>Otherwise, you can use the Enrich EIP to accumulate the query results however you'd like.</p>\n<p>Finally, you could do something simple and just copy each query result to a header or property. e.g.</p>\n<pre><code>.to(&quot;sql&quot;) // or whatever you're doing to get the data\n.setHeader(&quot;results1&quot;, body())\n.to(&quot;sql...&quot;) // or whatever you're doing to get the data\n.setHeader(&quot;results2&quot;, body())\n</code></pre>\n"}],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689884463,"creation_date":1689865414,"question_id":76731240,"body_markdown":"I&#39;m currently working in a camel project where there is a need to trigger a scheduler that would read data from two separate tables(say table A and B) simultaneously, then compare their outputs against each other, prepare a final list and update the 1st table(Table A). This is my first usage of Apache Camel and I don&#39;t really have lot of ideas.. however sharing below a rough approach.. kindly help out.\r\n\r\nsomething like this, I don&#39;t want to join the output instead want both the resultsets available for comparison.\r\n```\r\nfrom(&quot;direct:start)\r\n            .processor(&quot;process1&quot;)\r\n            .processor(&quot;process2&quot;)\r\n.to(&quot;direct:compareAndUpdate&quot;);\r\n```","title":"Parallel process and compare in Apache Camel","body":"<p>I'm currently working in a camel project where there is a need to trigger a scheduler that would read data from two separate tables(say table A and B) simultaneously, then compare their outputs against each other, prepare a final list and update the 1st table(Table A). This is my first usage of Apache Camel and I don't really have lot of ideas.. however sharing below a rough approach.. kindly help out.</p>\n<p>something like this, I don't want to join the output instead want both the resultsets available for comparison.</p>\n<pre><code>from(&quot;direct:start)\n            .processor(&quot;process1&quot;)\n            .processor(&quot;process2&quot;)\n.to(&quot;direct:compareAndUpdate&quot;);\n</code></pre>\n"},{"tags":["java","android","kotlin","decimalformat"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1689884545,"post_id":76733241,"comment_id":135280507,"body_markdown":"Android does not use open JDK.  So any bugs opened in it or closed in it are immaterial.","body":"Android does not use open JDK.  So any bugs opened in it or closed in it are immaterial."},{"owner":{"account_id":194664,"reputation":13476,"user_id":437146,"accept_rate":78,"display_name":"NightFury"},"score":0,"creation_date":1689885372,"post_id":76733241,"comment_id":135280648,"body_markdown":"Hi @GabeSechan thanks for reply. I am curious to know how android uses java libraries? We include jvm version and source + target compatibility in build.gradle. Therefore project&#39;s compilation does depend upon java version installed on machine. Android by default includes which java version? If you can tell or point towards some source to read. Thank you.","body":"Hi @GabeSechan thanks for reply. I am curious to know how android uses java libraries? We include jvm version and source + target compatibility in build.gradle. Therefore project&#39;s compilation does depend upon java version installed on machine. Android by default includes which java version? If you can tell or point towards some source to read. Thank you."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1689885751,"post_id":76733241,"comment_id":135280706,"body_markdown":"THe JDK is not the only implementation of Java.  There&#39;s several of them.  Android doesn&#39;t use the open JDK version.  It uses the ART version.  Before that it used Dalvik.  It has never used OpenJDK. https://source.android.com/docs/core/runtime","body":"THe JDK is not the only implementation of Java.  There&#39;s several of them.  Android doesn&#39;t use the open JDK version.  It uses the ART version.  Before that it used Dalvik.  It has never used OpenJDK. <a href=\"https://source.android.com/docs/core/runtime\" rel=\"nofollow noreferrer\">source.android.com/docs/core/runtime</a>"}],"answers":[{"comments":[{"owner":{"account_id":194664,"reputation":13476,"user_id":437146,"accept_rate":78,"display_name":"NightFury"},"score":0,"creation_date":1689885683,"post_id":76733452,"comment_id":135280696,"body_markdown":"Your comment and answer together makes some sense. I need to inform my team that this is how Android functions! Thank you.","body":"Your comment and answer together makes some sense. I need to inform my team that this is how Android functions! Thank you."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689884415,"creation_date":1689884415,"answer_id":76733452,"question_id":76733241,"body_markdown":"THat&#39;s the rounding mode you specified.  HALF_EVEN means an exact .5 rounds to the even number.  Specify the rounding mode you prefer if you don&#39;t want that.  HALF_UP may be what you want.","title":"DecimalFormat behaves different if decimal ends with 5 digit","body":"<p>THat's the rounding mode you specified.  HALF_EVEN means an exact .5 rounds to the even number.  Specify the rounding mode you prefer if you don't want that.  HALF_UP may be what you want.</p>\n"}],"owner":{"account_id":194664,"reputation":13476,"user_id":437146,"accept_rate":78,"display_name":"NightFury"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76733452,"answer_count":1,"score":0,"last_activity_date":1689884415,"creation_date":1689881981,"question_id":76733241,"body_markdown":"**DecimalFormat** is behaving differently on Android [Kotlin] vs. Kotlin scratch file in my Android Studio, if decimal digits end at 5. \r\n\r\nFor example; if I try to format **10.495** with **2** decimal places, Android shows **10.50** while Kotlin scratch file returns **10.49**. \r\n\r\nPlease note that my Mac OSX has java 17 installed, so Kotlin file is running on Java 17. While `build.gradle` has been configured to use jvm 11. I tried to use Jvm 17 in build.gradle, but still the result was same.\r\n\r\n&lt;h4&gt;Code:&lt;/h4&gt;\r\n\r\n```\r\nfun formatNumber(num: Double): String {\r\n    val df = DecimalFormat(&quot;0.00&quot;)\r\n    df.roundingMode = HALF_EVEN\r\n    return df.format(num)\r\n}\r\n```\r\n\r\n**Formatted Result on Android**\r\n\r\n| Original Value | Rounded off |\r\n| -------------- | -------------- |\r\n| 23.805    | 23.80            |\r\n| 15.985    | 15.98           |\r\n| 10.495    | 10.50     &lt;--      |\r\n| 49.505    | 49.50     &lt;--      |\r\n\r\n\r\n**Formatted Result on Kotlin Scratch File**\r\n\r\n Original Value | Rounded off |\r\n| -------------- | -------------- |\r\n| 23.805    | 23.80            |\r\n| 15.985    | 15.98           |\r\n| 10.495    | 10.49   &lt;--        |\r\n| 49.505    | 49.51   &lt;--        |\r\n\r\nPlease note the difference in last two numbers. I want to understand why both have different results. I have tried different rounding modes, but none helps. Even iOS and web has results same as Kotlin scratch file. I came across [this](https://bugs.openjdk.org/browse/JDK-7131459) bug in JDK, but it has been marked resolved. Even using BigDecimal doesn&#39;t help. How can I make sure it rounds off correctly if last digit is 5 using existing language libs? Any direction is appreciated. Thanks.","title":"DecimalFormat behaves different if decimal ends with 5 digit","body":"<p><strong>DecimalFormat</strong> is behaving differently on Android [Kotlin] vs. Kotlin scratch file in my Android Studio, if decimal digits end at 5.</p>\n<p>For example; if I try to format <strong>10.495</strong> with <strong>2</strong> decimal places, Android shows <strong>10.50</strong> while Kotlin scratch file returns <strong>10.49</strong>.</p>\n<p>Please note that my Mac OSX has java 17 installed, so Kotlin file is running on Java 17. While <code>build.gradle</code> has been configured to use jvm 11. I tried to use Jvm 17 in build.gradle, but still the result was same.</p>\n<h4>Code:</h4>\n<pre><code>fun formatNumber(num: Double): String {\n    val df = DecimalFormat(&quot;0.00&quot;)\n    df.roundingMode = HALF_EVEN\n    return df.format(num)\n}\n</code></pre>\n<p><strong>Formatted Result on Android</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Original Value</th>\n<th>Rounded off</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>23.805</td>\n<td>23.80</td>\n</tr>\n<tr>\n<td>15.985</td>\n<td>15.98</td>\n</tr>\n<tr>\n<td>10.495</td>\n<td>10.50     &lt;--</td>\n</tr>\n<tr>\n<td>49.505</td>\n<td>49.50     &lt;--</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Formatted Result on Kotlin Scratch File</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Original Value</th>\n<th>Rounded off</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>23.805</td>\n<td>23.80</td>\n</tr>\n<tr>\n<td>15.985</td>\n<td>15.98</td>\n</tr>\n<tr>\n<td>10.495</td>\n<td>10.49   &lt;--</td>\n</tr>\n<tr>\n<td>49.505</td>\n<td>49.51   &lt;--</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Please note the difference in last two numbers. I want to understand why both have different results. I have tried different rounding modes, but none helps. Even iOS and web has results same as Kotlin scratch file. I came across <a href=\"https://bugs.openjdk.org/browse/JDK-7131459\" rel=\"nofollow noreferrer\">this</a> bug in JDK, but it has been marked resolved. Even using BigDecimal doesn't help. How can I make sure it rounds off correctly if last digit is 5 using existing language libs? Any direction is appreciated. Thanks.</p>\n"},{"tags":["java","jvm","classloader"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689561990,"post_id":76699669,"comment_id":135225944,"body_markdown":"Why are you asking? Do you have an issue related to the Platform ClassLoader ?","body":"Why are you asking? Do you have an issue related to the Platform ClassLoader ?"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689586176,"post_id":76699669,"comment_id":135229147,"body_markdown":"I&#39;m just trying to get a better understanding of the JVM","body":"I&#39;m just trying to get a better understanding of the JVM"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1689913426,"post_id":76699669,"comment_id":135283210,"body_markdown":"Related question: https://stackoverflow.com/questions/72927583/what-is-considered-as-java-core-module/72934411#72934411","body":"Related question: <a href=\"https://stackoverflow.com/questions/72927583/what-is-considered-as-java-core-module/72934411#72934411\" title=\"what is considered as java core module\">stackoverflow.com/questions/72927583/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689892433,"post_id":76733439,"comment_id":135281521,"body_markdown":"Great explanation, all makes sense, thanks a lot, kind man!","body":"Great explanation, all makes sense, thanks a lot, kind man!"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690489656,"post_id":76733439,"comment_id":135365076,"body_markdown":"I don&#39;t understand why certain packages are loaded by one class loader and other by another. It&#39;s almost as if it&#39;s totally random","body":"I don&#39;t understand why certain packages are loaded by one class loader and other by another. It&#39;s almost as if it&#39;s totally random"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689884312,"creation_date":1689884312,"answer_id":76733439,"question_id":76699669,"body_markdown":"The decision is made per module. You can use the following code to group the modules per class loader:\r\n\r\n```java\r\nModuleLayer.boot().modules().stream()\r\n  .collect(Collectors.groupingBy(\r\n    m -&gt; Optional.ofNullable(m.getClassLoader())\r\n                 .map(ClassLoader::getName).orElse(&quot;boot&quot;),\r\n    Collectors.mapping(Module::getName,\r\n                       Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;()))))\r\n  .entrySet().stream()\r\n  .sorted(Comparator.comparingInt(\r\n                     e -&gt; List.of(&quot;boot&quot;, &quot;platform&quot;, &quot;app&quot;).indexOf(e.getKey())))\r\n  .map(e -&gt; e.getKey() + &quot;\\n\\t&quot; + String.join(&quot;\\n\\t&quot;, e.getValue()))\r\n  .forEach(System.out::println);\r\n```\r\n\r\nwhich will print something alike:\r\n```none\r\nboot\r\n\tjava.base\r\n\tjava.datatransfer\r\n\tjava.desktop\r\n\tjava.instrument\r\n\tjava.logging\r\n\tjava.management\r\n\tjava.management.rmi\r\n\tjava.naming\r\n\tjava.prefs\r\n\tjava.rmi\r\n\tjava.security.sasl\r\n\tjava.xml\r\n\tjdk.jfr\r\n\tjdk.management\r\n\tjdk.management.agent\r\n\tjdk.management.jfr\r\n\tjdk.naming.rmi\r\n\tjdk.net\r\n\tjdk.sctp\r\n\tjdk.unsupported\r\nplatform\r\n\tjava.compiler\r\n\tjava.net.http\r\n\tjava.scripting\r\n\tjava.security.jgss\r\n\tjava.smartcardio\r\n\tjava.sql\r\n\tjava.sql.rowset\r\n\tjava.transaction.xa\r\n\tjava.xml.crypto\r\n\tjdk.accessibility\r\n\tjdk.charsets\r\n\tjdk.crypto.cryptoki\r\n\tjdk.crypto.ec\r\n\tjdk.dynalink\r\n\tjdk.httpserver\r\n\tjdk.jsobject\r\n\tjdk.localedata\r\n\tjdk.naming.dns\r\n\tjdk.scripting.nashorn\r\n\tjdk.security.auth\r\n\tjdk.security.jgss\r\n\tjdk.xml.dom\r\n\tjdk.zipfs\r\napp\r\n\tjdk.attach\r\n\tjdk.compiler\r\n\tjdk.editpad\r\n\tjdk.internal.ed\r\n\tjdk.internal.jvmstat\r\n\tjdk.internal.le\r\n\tjdk.internal.opt\r\n\tjdk.jartool\r\n\tjdk.javadoc\r\n\tjdk.jconsole\r\n\tjdk.jdeps\r\n\tjdk.jdi\r\n\tjdk.jdwp.agent\r\n\tjdk.jlink\r\n\tjdk.jshell\r\n\tjdk.jstatd\r\n\tjdk.unsupported.desktop\r\n```\r\n[Demonstration on tio.run](https://tio.run/##bVHLctswDLzrKzg6ganDD7A7OTSTQyaOfXCnlyYHWIJdunxoSCitppNvd0DJSdymuBAEsdjF8oBPeHlofx6t72JidZC76dk6c7GoPtQyJ0JvrqNz1HBMeVFVXb91tlGNw5zVPdqg/lRK4lTPjCzHU7St8vIKG0427L8/Kkz7rKX5eB/b3tESB0pmGyODNn4sZckmStAy0zQTL7zzm32KfSfzvgwwsnp1eaXWHdsY0Jm4W/XO4dYReLMnvi4ilxFbSqD1CPgrjMcOzprmcwGt0JM2Md24TFAXgbWejdgzHQIsMmDa5Q03@8gxxRmU4@kimgF0WSDQL/U1EW2IP1@JUj2KNRQ4DVL7x5Ysn0StuOI7TCgzxaiSip7bwPB/CVR4ljazmHTaaqbqziHvYvIll41qbWxo6fd6B1T8u6MBXsUUq8Yh7y/qk6ofwgPXkkzfbA5RvnwqzqbOb@h6gtMQ4brB5gdshszkTex5Pu8EyC7oxbHofK6ejy8)\r\n\r\nNote that the classes loaded by the bootstrap class loader are not strictly necessary to run the JVM. Only a few classes within the `java.base` module are really required by the JVM. You can use the `jlink` command to create an environment containing only the modules required by your application and in the most extreme example, that could be an environment only containing `java.base` (and your application module, to be useful).\r\n\r\nYou may recognize a pattern in the decision about the module to class loader mapping, but as with any decision made by humans, there can be outliers.\r\n\r\nIt’s not really important anyway; when you ask a module-capable class loader to load a class belonging to a named module (and all JDK classes belong to a named module) within the same module layer, it will delegate to the module’s class loader anyway.\r\n\r\nFor example, the following code\r\n\r\n```java\r\nClass&lt;?&gt; c = Class.forName(&quot;com.sun.source.doctree.VersionTree&quot;,\r\n    false, ClassLoader.getPlatformClassLoader());\r\nSystem.out.println(c + &quot;\\n\\t&quot; + c.getClassLoader() + &quot;\\n\\t&quot; + c.getModule());\r\n```\r\n\r\nprints\r\n\r\n```none\r\ninterface com.sun.source.doctree.VersionTree\r\n\tjdk.internal.loader.ClassLoaders$AppClassLoader@5bc2b487\r\n\tmodule jdk.compiler\r\n```\r\n\r\ndemonstrating that asking the platform class loader for a class belonging to a module associated with the application class loader will succeed.\r\n\r\n[Demonstration on tio.run](https://tio.run/##ZY5NTgMxDIX3cwprVjOi5AL8LVB3FCEVsaEsTOIOKUk8ip0CQj37kCksQHjjZz99z97hHk937nUay3PwFmxAEVihT/DZQK2fvShqbXv2DmJ1u7Vmn4bHJ8A8SA/6kvlNYPluaVTPlZ6u56jzq0uwcAHHwWw532KkrrUcjZRkhEu2ZBxbzUTmgbJU@L7qdnE8v8UgtPjGbxgdZTOQ3gXUmhV/rbu@P2vWH6IUDRc1Y31PQ@osnEC7SRttq7Az/Af6567YlUBz2jTfPzSH6Qs)","title":"Which exact classes are loaded by Platform ClassLoader?","body":"<p>The decision is made per module. You can use the following code to group the modules per class loader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ModuleLayer.boot().modules().stream()\n  .collect(Collectors.groupingBy(\n    m -&gt; Optional.ofNullable(m.getClassLoader())\n                 .map(ClassLoader::getName).orElse(&quot;boot&quot;),\n    Collectors.mapping(Module::getName,\n                       Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;()))))\n  .entrySet().stream()\n  .sorted(Comparator.comparingInt(\n                     e -&gt; List.of(&quot;boot&quot;, &quot;platform&quot;, &quot;app&quot;).indexOf(e.getKey())))\n  .map(e -&gt; e.getKey() + &quot;\\n\\t&quot; + String.join(&quot;\\n\\t&quot;, e.getValue()))\n  .forEach(System.out::println);\n</code></pre>\n<p>which will print something alike:</p>\n<pre class=\"lang-none prettyprint-override\"><code>boot\n    java.base\n    java.datatransfer\n    java.desktop\n    java.instrument\n    java.logging\n    java.management\n    java.management.rmi\n    java.naming\n    java.prefs\n    java.rmi\n    java.security.sasl\n    java.xml\n    jdk.jfr\n    jdk.management\n    jdk.management.agent\n    jdk.management.jfr\n    jdk.naming.rmi\n    jdk.net\n    jdk.sctp\n    jdk.unsupported\nplatform\n    java.compiler\n    java.net.http\n    java.scripting\n    java.security.jgss\n    java.smartcardio\n    java.sql\n    java.sql.rowset\n    java.transaction.xa\n    java.xml.crypto\n    jdk.accessibility\n    jdk.charsets\n    jdk.crypto.cryptoki\n    jdk.crypto.ec\n    jdk.dynalink\n    jdk.httpserver\n    jdk.jsobject\n    jdk.localedata\n    jdk.naming.dns\n    jdk.scripting.nashorn\n    jdk.security.auth\n    jdk.security.jgss\n    jdk.xml.dom\n    jdk.zipfs\napp\n    jdk.attach\n    jdk.compiler\n    jdk.editpad\n    jdk.internal.ed\n    jdk.internal.jvmstat\n    jdk.internal.le\n    jdk.internal.opt\n    jdk.jartool\n    jdk.javadoc\n    jdk.jconsole\n    jdk.jdeps\n    jdk.jdi\n    jdk.jdwp.agent\n    jdk.jlink\n    jdk.jshell\n    jdk.jstatd\n    jdk.unsupported.desktop\n</code></pre>\n<p><a href=\"https://tio.run/##bVHLctswDLzrKzg6ganDD7A7OTSTQyaOfXCnlyYHWIJdunxoSCitppNvd0DJSdymuBAEsdjF8oBPeHlofx6t72JidZC76dk6c7GoPtQyJ0JvrqNz1HBMeVFVXb91tlGNw5zVPdqg/lRK4lTPjCzHU7St8vIKG0427L8/Kkz7rKX5eB/b3tESB0pmGyODNn4sZckmStAy0zQTL7zzm32KfSfzvgwwsnp1eaXWHdsY0Jm4W/XO4dYReLMnvi4ilxFbSqD1CPgrjMcOzprmcwGt0JM2Md24TFAXgbWejdgzHQIsMmDa5Q03@8gxxRmU4@kimgF0WSDQL/U1EW2IP1@JUj2KNRQ4DVL7x5Ysn0StuOI7TCgzxaiSip7bwPB/CVR4ljazmHTaaqbqziHvYvIll41qbWxo6fd6B1T8u6MBXsUUq8Yh7y/qk6ofwgPXkkzfbA5RvnwqzqbOb@h6gtMQ4brB5gdshszkTex5Pu8EyC7oxbHofK6ejy8\" rel=\"noreferrer\">Demonstration on tio.run</a></p>\n<p>Note that the classes loaded by the bootstrap class loader are not strictly necessary to run the JVM. Only a few classes within the <code>java.base</code> module are really required by the JVM. You can use the <code>jlink</code> command to create an environment containing only the modules required by your application and in the most extreme example, that could be an environment only containing <code>java.base</code> (and your application module, to be useful).</p>\n<p>You may recognize a pattern in the decision about the module to class loader mapping, but as with any decision made by humans, there can be outliers.</p>\n<p>It’s not really important anyway; when you ask a module-capable class loader to load a class belonging to a named module (and all JDK classes belong to a named module) within the same module layer, it will delegate to the module’s class loader anyway.</p>\n<p>For example, the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; c = Class.forName(&quot;com.sun.source.doctree.VersionTree&quot;,\n    false, ClassLoader.getPlatformClassLoader());\nSystem.out.println(c + &quot;\\n\\t&quot; + c.getClassLoader() + &quot;\\n\\t&quot; + c.getModule());\n</code></pre>\n<p>prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>interface com.sun.source.doctree.VersionTree\n    jdk.internal.loader.ClassLoaders$AppClassLoader@5bc2b487\n    module jdk.compiler\n</code></pre>\n<p>demonstrating that asking the platform class loader for a class belonging to a module associated with the application class loader will succeed.</p>\n<p><a href=\"https://tio.run/##ZY5NTgMxDIX3cwprVjOi5AL8LVB3FCEVsaEsTOIOKUk8ip0CQj37kCksQHjjZz99z97hHk937nUay3PwFmxAEVihT/DZQK2fvShqbXv2DmJ1u7Vmn4bHJ8A8SA/6kvlNYPluaVTPlZ6u56jzq0uwcAHHwWw532KkrrUcjZRkhEu2ZBxbzUTmgbJU@L7qdnE8v8UgtPjGbxgdZTOQ3gXUmhV/rbu@P2vWH6IUDRc1Y31PQ@osnEC7SRttq7Az/Af6567YlUBz2jTfPzSH6Qs\" rel=\"noreferrer\">Demonstration on tio.run</a></p>\n"}],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":76733439,"answer_count":1,"score":5,"last_activity_date":1689884312,"creation_date":1689529771,"question_id":76699669,"body_markdown":"Let&#39;s assume, we&#39;re using OpenJDK 20. The [official documentation says][1]:\r\n&gt; The [platform class loader][2] is responsible for loading the platform classes. Platform classes include Java SE platform APIs, their implementation classes, and JDK-specific run-time classes that are defined by the platform class loader or its ancestors. The platform class loader can be used as the parent of a `ClassLoader` instance.\r\n\r\nAt the same time, I understood from the Oracle specification that Bootstrap ClassLoader loads the core runtime classes **required** to start the JVM. I also understood that Platform ClassLoader does not load anything into an empty program:\r\n```shell\r\njshell&gt; ClassLoader.getPlatformClassLoader().getDefinedPackages();\r\n$1 ==&gt; Package[0] { }\r\n```\r\nBut it loads **some** packages from Java SE, like `java.sql`:\r\n```shell\r\njshell&gt; java.sql.Connection.class.getClassLoader()\r\n$2 ==&gt; jdk.internal.loader.ClassLoaders$PlatformClassLoader@27fa135a\r\n\r\njshell&gt; ClassLoader.getPlatformClassLoader().getDefinedPackages()\r\n$3 ==&gt; Package[1] { package java.sql }\r\n```\r\nAnd some not (like `java.util.logging`, as the same child of [java-se module][3]):\r\n```shell\r\njshell&gt; java.util.logging.ConsoleHandler.class.getClassLoader();\r\n$4 ==&gt; null\r\n```\r\n\r\nAm I correct in stating that Platform ClassLoader loads the public types of system modules that a developer **might** need? If so, which specific packages (or better ask, modules?) fall under this &quot;might&quot;?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#getPlatformClassLoader()\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.se/module-summary.html","title":"Which exact classes are loaded by Platform ClassLoader?","body":"<p>Let's assume, we're using OpenJDK 20. The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\" rel=\"noreferrer\">official documentation says</a>:</p>\n<blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#getPlatformClassLoader()\" rel=\"noreferrer\">platform class loader</a> is responsible for loading the platform classes. Platform classes include Java SE platform APIs, their implementation classes, and JDK-specific run-time classes that are defined by the platform class loader or its ancestors. The platform class loader can be used as the parent of a <code>ClassLoader</code> instance.</p>\n</blockquote>\n<p>At the same time, I understood from the Oracle specification that Bootstrap ClassLoader loads the core runtime classes <strong>required</strong> to start the JVM. I also understood that Platform ClassLoader does not load anything into an empty program:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jshell&gt; ClassLoader.getPlatformClassLoader().getDefinedPackages();\n$1 ==&gt; Package[0] { }\n</code></pre>\n<p>But it loads <strong>some</strong> packages from Java SE, like <code>java.sql</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jshell&gt; java.sql.Connection.class.getClassLoader()\n$2 ==&gt; jdk.internal.loader.ClassLoaders$PlatformClassLoader@27fa135a\n\njshell&gt; ClassLoader.getPlatformClassLoader().getDefinedPackages()\n$3 ==&gt; Package[1] { package java.sql }\n</code></pre>\n<p>And some not (like <code>java.util.logging</code>, as the same child of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.se/module-summary.html\" rel=\"noreferrer\">java-se module</a>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jshell&gt; java.util.logging.ConsoleHandler.class.getClassLoader();\n$4 ==&gt; null\n</code></pre>\n<p>Am I correct in stating that Platform ClassLoader loads the public types of system modules that a developer <strong>might</strong> need? If so, which specific packages (or better ask, modules?) fall under this &quot;might&quot;?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":19099324,"reputation":2170,"user_id":13947931,"display_name":"mikolaj semeniuk"},"score":0,"creation_date":1612970014,"post_id":66139092,"comment_id":116932489,"body_markdown":"Yeah of course you have right and I also know this type of importing dependencies as You said, but was curious if there is a way do this via Spring CLI.","body":"Yeah of course you have right and I also know this type of importing dependencies as You said, but was curious if there is a way do this via Spring CLI."},{"owner":{"account_id":20336792,"reputation":554,"user_id":14917277,"display_name":"anurag-dhamala"},"score":0,"creation_date":1612970188,"post_id":66139092,"comment_id":116932576,"body_markdown":"I checked on few pages, but I couldn&#39;t find anywhere mentioned about adding dependencies on existing project via Spring CLI.","body":"I checked on few pages, but I couldn&#39;t find anywhere mentioned about adding dependencies on existing project via Spring CLI."}],"tags":[],"owner":{"account_id":20336792,"reputation":554,"user_id":14917277,"display_name":"anurag-dhamala"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612968196,"creation_date":1612968196,"answer_id":66139092,"question_id":66138708,"body_markdown":"You can use pom.xml to add dependencies to your existing spring project whether you created your project by using Spring CLI or any other way. \r\n\r\n1. Go to Maven Repository: https://mvnrepository.com/\r\n2. Search for your required dependencies\r\n3. Copy the dependency for maven and paste it in your pom.xml\r\n","title":"Adding dependencies to existing project via Spring CLI","body":"<p>You can use pom.xml to add dependencies to your existing spring project whether you created your project by using Spring CLI or any other way.</p>\n<ol>\n<li>Go to Maven Repository: <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></li>\n<li>Search for your required dependencies</li>\n<li>Copy the dependency for maven and paste it in your pom.xml</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613010069,"creation_date":1613010069,"answer_id":66147921,"question_id":66138708,"body_markdown":"If you are using `STS` or `Eclipse` for your development then you can easily add `dependencies` using `CLI`.&lt;br/&gt; You need to press the `Ctrl+Space Bar` in your `pom.xml`.&lt;br/&gt; It will show you the option with `Edit starters` as shown below, then click on it it will open your `CLI interface`\r\n\r\n`Ctrl+Space Bar`\r\n[![Ctrl+Space Bar][1]][1]\r\n\r\n[![CLI interface][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o7ehF.png\r\n  [2]: https://i.stack.imgur.com/wtw6c.png","title":"Adding dependencies to existing project via Spring CLI","body":"<p>If you are using <code>STS</code> or <code>Eclipse</code> for your development then you can easily add <code>dependencies</code> using <code>CLI</code>.<br/> You need to press the <code>Ctrl+Space Bar</code> in your <code>pom.xml</code>.<br/> It will show you the option with <code>Edit starters</code> as shown below, then click on it it will open your <code>CLI interface</code></p>\n<p><code>Ctrl+Space Bar</code>\n<a href=\"https://i.stack.imgur.com/o7ehF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o7ehF.png\" alt=\"Ctrl+Space Bar\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/wtw6c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wtw6c.png\" alt=\"CLI interface\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11372996,"reputation":1224,"user_id":8635168,"display_name":"samivic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650008948,"creation_date":1650008948,"answer_id":71881406,"question_id":66138708,"body_markdown":"To add a dependancy from Spring CLI, you can use the following command:\r\n\r\n    spring init -a &lt;name_of_your_artifact&gt; --dependencies=web,data-jpa &lt;my_project&gt;\r\n\r\nwhere:\r\n\r\n***&lt;name_of_your_artifact&gt;***: the artifact Id for the project.\r\n\r\nand\r\n\r\n***&lt;my_project&gt;***: name of the file where the .zip of spring initilizer will be extractred.\r\n\r\n","title":"Adding dependencies to existing project via Spring CLI","body":"<p>To add a dependancy from Spring CLI, you can use the following command:</p>\n<pre><code>spring init -a &lt;name_of_your_artifact&gt; --dependencies=web,data-jpa &lt;my_project&gt;\n</code></pre>\n<p>where:</p>\n<p><em><strong>&lt;name_of_your_artifact&gt;</strong></em>: the artifact Id for the project.</p>\n<p>and</p>\n<p><em><strong>&lt;my_project&gt;</strong></em>: name of the file where the .zip of spring initilizer will be extractred.</p>\n"},{"tags":[],"owner":{"account_id":29059739,"reputation":1,"user_id":22260711,"display_name":"Manish Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689884129,"creation_date":1689884129,"answer_id":76733424,"question_id":66138708,"body_markdown":"To add the dependency in the existing project follow the below steps:\r\n\r\n1. Right-click on project\r\n2. Select Spring -&gt; Add Starters\r\n3. Search for the required dependencies and add them\r\n4. Click on Next\r\n5. Select pom.xml/HELP.md or both\r\n6. Finish","title":"Adding dependencies to existing project via Spring CLI","body":"<p>To add the dependency in the existing project follow the below steps:</p>\n<ol>\n<li>Right-click on project</li>\n<li>Select Spring -&gt; Add Starters</li>\n<li>Search for the required dependencies and add them</li>\n<li>Click on Next</li>\n<li>Select pom.xml/HELP.md or both</li>\n<li>Finish</li>\n</ol>\n"}],"owner":{"account_id":19099324,"reputation":2170,"user_id":13947931,"display_name":"mikolaj semeniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1689884129,"creation_date":1612966877,"question_id":66138708,"body_markdown":"Is there any way to add dependencies to existing spring project using Spring CLI **(for instance via shell)**?\r\n\r\nI tried to looked for on this website\r\n[docs.spring.io](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-cli.html#cli-default-grab-deduced-coordinates-custom-dependency-management).\r\n\r\nBut I couldn&#39;t find working way of adding dependency like `Spring Web` or `Spring Data JPA` to existing spring project.\r\n","title":"Adding dependencies to existing project via Spring CLI","body":"<p>Is there any way to add dependencies to existing spring project using Spring CLI <strong>(for instance via shell)</strong>?</p>\n<p>I tried to looked for on this website\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-cli.html#cli-default-grab-deduced-coordinates-custom-dependency-management\" rel=\"nofollow noreferrer\">docs.spring.io</a>.</p>\n<p>But I couldn't find working way of adding dependency like <code>Spring Web</code> or <code>Spring Data JPA</code> to existing spring project.</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":1,"creation_date":1353104872,"post_id":13425309,"comment_id":18348927,"body_markdown":"log the number as a string, maybe? may be able to bypass the number formatting that way.","body":"log the number as a string, maybe? may be able to bypass the number formatting that way."}],"answers":[{"tags":[],"owner":{"account_id":948241,"reputation":1090,"user_id":975018,"accept_rate":76,"display_name":"svbnet"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1353104986,"creation_date":1353104986,"answer_id":13425392,"question_id":13425309,"body_markdown":"Have you tried `number.toString()`?","title":"how to stop java util logging from formatting my numbers","body":"<p>Have you tried <code>number.toString()</code>?</p>\n"},{"comments":[{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":1,"creation_date":1540937851,"post_id":13425398,"comment_id":93045606,"body_markdown":"This does extra work that is the responsibility of the https://docs.oracle.com/javase/7/docs/api/java/util/logging/Formatter.html specifically. And it also does extra processing on the CPU even if the logging might not be enabled. Don&#39;t do this.","body":"This does extra work that is the responsibility of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/logging/&hellip;</a> specifically. And it also does extra processing on the CPU even if the logging might not be enabled. Don&#39;t do this."},{"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"score":0,"creation_date":1591208665,"post_id":13425398,"comment_id":109971908,"body_markdown":"Could you please elaborate on an alternative way of avoiding the thousands while logging numbers? (it is extremely annoying, I am so surprised they decided to do in that way)","body":"Could you please elaborate on an alternative way of avoiding the thousands while logging numbers? (it is extremely annoying, I am so surprised they decided to do in that way)"}],"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"comment_count":2,"down_vote_count":3,"up_vote_count":5,"is_accepted":true,"score":2,"last_activity_date":1353106967,"creation_date":1353105040,"answer_id":13425398,"question_id":13425309,"body_markdown":"Try one of the below (don&#39;t have the visibility of your `number` object type):\r\n\r\n1. Using `String.valueOf()`\r\n\r\n        logger.log(Level.INFO, &quot;print this number = {0}&quot;, String.valueOf(number));\r\n\r\n2. Using `Number.toString`\r\n\r\n        logger.log(Level.INFO, &quot;print this number = {0}&quot;, number.toString);\r\n\r\n2. Using `NumberFormat.setGroupingUsed(false)`    \r\n\r\n        NumberFormat formatter = new NumberFormat();     \r\n        formatter.setGroupingUsed(false);\r\n        logger.log(Level.INFO, &quot;print this number = {0}&quot;, formatter.format(number));\r\n","title":"how to stop java util logging from formatting my numbers","body":"<p>Try one of the below (don't have the visibility of your <code>number</code> object type):</p>\n\n<ol>\n<li><p>Using <code>String.valueOf()</code></p>\n\n<pre><code>logger.log(Level.INFO, \"print this number = {0}\", String.valueOf(number));\n</code></pre></li>\n<li><p>Using <code>Number.toString</code></p>\n\n<pre><code>logger.log(Level.INFO, \"print this number = {0}\", number.toString);\n</code></pre></li>\n<li><p>Using <code>NumberFormat.setGroupingUsed(false)</code>    </p>\n\n<pre><code>NumberFormat formatter = new NumberFormat();     \nformatter.setGroupingUsed(false);\nlogger.log(Level.INFO, \"print this number = {0}\", formatter.format(number));\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":104301,"reputation":2012,"user_id":278938,"accept_rate":68,"display_name":"Robin Bajaj"},"score":0,"creation_date":1353105367,"post_id":13425409,"comment_id":18349091,"body_markdown":"u mean like this ??\n\nlogger.log(Level.INFO, &quot;print this number = {0, number, #}&quot;, number);","body":"u mean like this ??  logger.log(Level.INFO, &quot;print this number = {0, number, #}&quot;, number);"},{"owner":{"account_id":145196,"reputation":8731,"user_id":354831,"accept_rate":86,"display_name":"Alexandre Lavoie"},"score":0,"creation_date":1353105419,"post_id":13425409,"comment_id":18349111,"body_markdown":"Exactly, same as when you are using i18n resources for text!","body":"Exactly, same as when you are using i18n resources for text!"},{"owner":{"account_id":104301,"reputation":2012,"user_id":278938,"accept_rate":68,"display_name":"Robin Bajaj"},"score":0,"creation_date":1353105710,"post_id":13425409,"comment_id":18349207,"body_markdown":"that didn&#39;t work. it prints as \n&quot;print this number = 0&quot;\n\nin this case","body":"that didn&#39;t work. it prints as  &quot;print this number = 0&quot;  in this case"},{"owner":{"account_id":145196,"reputation":8731,"user_id":354831,"accept_rate":86,"display_name":"Alexandre Lavoie"},"score":0,"creation_date":1353105819,"post_id":13425409,"comment_id":18349246,"body_markdown":"I think you need to use this way unfortunatly : String result = MessageFormat.format(\n     &quot;At {1,time} on {1,date}, there was {2} on planet {0,number,integer}.&quot;,\n     planet, new Date(), event);","body":"I think you need to use this way unfortunatly : String result = MessageFormat.format(      &quot;At {1,time} on {1,date}, there was {2} on planet {0,number,integer}.&quot;,      planet, new Date(), event);"},{"owner":{"account_id":104301,"reputation":2012,"user_id":278938,"accept_rate":68,"display_name":"Robin Bajaj"},"score":0,"creation_date":1353107157,"post_id":13425409,"comment_id":18349633,"body_markdown":"thx for your response. that will get clunky for my use, but I am sure it will work. Going with String.valueof(number) for now.","body":"thx for your response. that will get clunky for my use, but I am sure it will work. Going with String.valueof(number) for now."},{"owner":{"account_id":145196,"reputation":8731,"user_id":354831,"accept_rate":86,"display_name":"Alexandre Lavoie"},"score":0,"creation_date":1353107649,"post_id":13425409,"comment_id":18349800,"body_markdown":"Every situation has it solution :)","body":"Every situation has it solution :)"},{"owner":{"account_id":384274,"reputation":5408,"user_id":1655398,"accept_rate":43,"display_name":"Alvin Thompson"},"score":2,"creation_date":1467309666,"post_id":13425409,"comment_id":63691742,"body_markdown":"This worked fine for me without the use of `MesageFormat`. This solution is also likely faster/more efficient than `String.valueOf` or `number.toString` since the logger won&#39;t bother formatting the number if the handler&#39;s log level isn&#39;t reached. If you use `String.valueOf`, it must be called every time regardless of the log level.","body":"This worked fine for me without the use of <code>MesageFormat</code>. This solution is also likely faster/more efficient than <code>String.valueOf</code> or <code>number.toString</code> since the logger won&#39;t bother formatting the number if the handler&#39;s log level isn&#39;t reached. If you use <code>String.valueOf</code>, it must be called every time regardless of the log level."}],"tags":[],"owner":{"account_id":145196,"reputation":8731,"user_id":354831,"accept_rate":86,"display_name":"Alexandre Lavoie"},"comment_count":7,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1353105683,"creation_date":1353105101,"answer_id":13425409,"question_id":13425309,"body_markdown":"The default format isn&#39;t what you want, change it like this :\r\n\r\n    {0,number,#}\r\n\r\n**EDIT :**\r\n\r\nHere you have more information about *MessageFormatPattern* http://docs.oracle.com/javase/1.5.0/docs/api/java/text/MessageFormat.html","title":"how to stop java util logging from formatting my numbers","body":"<p>The default format isn't what you want, change it like this :</p>\n\n<pre><code>{0,number,#}\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>Here you have more information about <em>MessageFormatPattern</em> <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/text/MessageFormat.html</a></p>\n"},{"comments":[{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":0,"creation_date":1690917064,"post_id":76733403,"comment_id":135418998,"body_markdown":"Woah....100 percent no. The most upvoted answer is literally how you use the stock formatter provided by default to format a number without commas. This is an insane amount of things to re-do, for something the stock formatter does for you by default.","body":"Woah....100 percent no. The most upvoted answer is literally how you use the stock formatter provided by default to format a number without commas. This is an insane amount of things to re-do, for something the stock formatter does for you by default."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1692706590,"post_id":76733403,"comment_id":135658065,"body_markdown":"@searchengine27 The answer by Alexandre Lavoie requires changing the call sites, and so as far as i&#39;m concerned, is not an answer to this question at all. This is indeed some crufty code, but that&#39;s because the poor architecture of java.util.logging and java.text require such code to do this!","body":"@searchengine27 The answer by Alexandre Lavoie requires changing the call sites, and so as far as i&#39;m concerned, is not an answer to this question at all. This is indeed some crufty code, but that&#39;s because the poor architecture of java.util.logging and java.text require such code to do this!"}],"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689883882,"creation_date":1689883882,"answer_id":76733403,"question_id":13425309,"body_markdown":"This is harder than it should be, but it&#39;s possible. The logging framework ends up passing log records to handlers, which use a formatter to format them, producing strings. By default, they use a SimpleFormatter, whose formatMessage method ends up using MessageFormat to do the work.\r\n\r\nIt&#39;s possible to [modify a MessageFormat to not format numbers](https://stackoverflow.com/a/76733366/116639), and just convert them using toString. So we need to write our own formatter which uses MessageFormat, but does that. It&#39;s ugly but it works.\r\n\r\nHere&#39;s what i wrote:\r\n\r\n```\r\npublic class SimplerFormatter extends SimpleFormatter {\r\n\r\n    private static final Format TRIVIAL_FORMAT = new Format() {\r\n        @Override\r\n        public StringBuffer format(Object obj, StringBuffer buf, FieldPosition pos) {\r\n            pos.setBeginIndex(buf.length());\r\n            buf.append(obj);\r\n            pos.setEndIndex(buf.length());\r\n            return buf;\r\n        }\r\n\r\n        @Override\r\n        public Object parseObject(String source, ParsePosition pos) {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public String formatMessage(LogRecord record) {\r\n        String format = record.getMessage();\r\n\r\n        Object[] parameters = record.getParameters();\r\n        if (parameters == null || parameters.length == 0) {\r\n            return format;\r\n        }\r\n\r\n        try {\r\n            return newMessageFormat(format).format(parameters);\r\n        } catch (Exception e) {\r\n            return format;\r\n        }\r\n    }\r\n\r\n    private static MessageFormat newMessageFormat(String format) {\r\n        MessageFormat messageFormat = new MessageFormat(format);\r\n\r\n        Format[] argumentFormats = messageFormat.getFormats();\r\n        for (int i = 0; i &lt; argumentFormats.length; i++) {\r\n            if (argumentFormats[i] == null) {\r\n                messageFormat.setFormat(i, TRIVIAL_FORMAT);\r\n            }\r\n        }\r\n\r\n        return messageFormat;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPass an instance of that to Handler::setFormat, and that handler will no longer format your numbers.\r\n","title":"how to stop java util logging from formatting my numbers","body":"<p>This is harder than it should be, but it's possible. The logging framework ends up passing log records to handlers, which use a formatter to format them, producing strings. By default, they use a SimpleFormatter, whose formatMessage method ends up using MessageFormat to do the work.</p>\n<p>It's possible to <a href=\"https://stackoverflow.com/a/76733366/116639\">modify a MessageFormat to not format numbers</a>, and just convert them using toString. So we need to write our own formatter which uses MessageFormat, but does that. It's ugly but it works.</p>\n<p>Here's what i wrote:</p>\n<pre><code>public class SimplerFormatter extends SimpleFormatter {\n\n    private static final Format TRIVIAL_FORMAT = new Format() {\n        @Override\n        public StringBuffer format(Object obj, StringBuffer buf, FieldPosition pos) {\n            pos.setBeginIndex(buf.length());\n            buf.append(obj);\n            pos.setEndIndex(buf.length());\n            return buf;\n        }\n\n        @Override\n        public Object parseObject(String source, ParsePosition pos) {\n            throw new UnsupportedOperationException();\n        }\n    };\n\n    @Override\n    public String formatMessage(LogRecord record) {\n        String format = record.getMessage();\n\n        Object[] parameters = record.getParameters();\n        if (parameters == null || parameters.length == 0) {\n            return format;\n        }\n\n        try {\n            return newMessageFormat(format).format(parameters);\n        } catch (Exception e) {\n            return format;\n        }\n    }\n\n    private static MessageFormat newMessageFormat(String format) {\n        MessageFormat messageFormat = new MessageFormat(format);\n\n        Format[] argumentFormats = messageFormat.getFormats();\n        for (int i = 0; i &lt; argumentFormats.length; i++) {\n            if (argumentFormats[i] == null) {\n                messageFormat.setFormat(i, TRIVIAL_FORMAT);\n            }\n        }\n\n        return messageFormat;\n    }\n\n}\n</code></pre>\n<p>Pass an instance of that to Handler::setFormat, and that handler will no longer format your numbers.</p>\n"}],"owner":{"account_id":104301,"reputation":2012,"user_id":278938,"accept_rate":68,"display_name":"Robin Bajaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3301,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":13425398,"answer_count":4,"score":12,"last_activity_date":1689883882,"creation_date":1353104591,"question_id":13425309,"body_markdown":"I am using Java Util logging and whenever I do statement like this \r\n\r\n    logger.log(Level.INFO, &quot;print this number = {0}&quot;, number);\r\n\r\nit formats my number from 278487683165614 to 278,487,683,165,614  \r\n\r\nthis is extremely annoying while searching through logs. \r\n\r\nCan i stop it from doing this ? Please help. \r\n\r\n","title":"how to stop java util logging from formatting my numbers","body":"<p>I am using Java Util logging and whenever I do statement like this </p>\n\n<pre><code>logger.log(Level.INFO, \"print this number = {0}\", number);\n</code></pre>\n\n<p>it formats my number from 278487683165614 to 278,487,683,165,614  </p>\n\n<p>this is extremely annoying while searching through logs. </p>\n\n<p>Can i stop it from doing this ? Please help. </p>\n"},{"tags":["java","windows-10","keystore","mongodb-compass"],"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689883594,"creation_date":1689883594,"question_id":76733374,"body_markdown":"I&#39;m using Mongo Compass 1.29.6 on Windows 10.  It is installed to this directory\r\n\r\n    C:\\Program Files\\MongoDB Compass\r\n\r\nI would like to figure out what JRE Mongo Compass is using because I want to add some trusted certificates to the key store.  However, I cannot find a JRE within the above directory.  The child directories are\r\n\r\n    locales\r\n    swiftshader\r\n    resources\r\n\r\nI have a $JAVA_HOME environment variable set on my system.  Would it be getting its JRE from there?","title":"How do I determine what JRE Mongo Compass is using on Windows 10?","body":"<p>I'm using Mongo Compass 1.29.6 on Windows 10.  It is installed to this directory</p>\n<pre><code>C:\\Program Files\\MongoDB Compass\n</code></pre>\n<p>I would like to figure out what JRE Mongo Compass is using because I want to add some trusted certificates to the key store.  However, I cannot find a JRE within the above directory.  The child directories are</p>\n<pre><code>locales\nswiftshader\nresources\n</code></pre>\n<p>I have a $JAVA_HOME environment variable set on my system.  Would it be getting its JRE from there?</p>\n"},{"tags":["java","apache-kafka","avro","confluent-schema-registry"],"answers":[{"comments":[{"owner":{"account_id":13515296,"reputation":153,"user_id":9750088,"display_name":"antonig"},"score":0,"creation_date":1689883631,"post_id":76724743,"comment_id":135280346,"body_markdown":"thanks, this helped me reach a conclusion.\n\nUnfortunately for a reason not worth elaborating on this particular consumer was forced to use a ByteArrayDeserializer.","body":"thanks, this helped me reach a conclusion.  Unfortunately for a reason not worth elaborating on this particular consumer was forced to use a ByteArrayDeserializer."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689856142,"creation_date":1689796016,"answer_id":76724743,"question_id":76724120,"body_markdown":"If the producer used the Schema Registry, then the encoded Avro bytes are not &quot;valid&quot; Avro; [they start with 5 bytes that are not part of the Avro spec](https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/index.html#wire-format). The bytes also aren&#39;t Avro file container format, therefore `DataFileReader` shouldn&#39;t be used. \r\n\r\nUltimately, there is no reason to use `ByteArrayDeserializer`, but even if you did, that&#39;s not stopping you from manually constructing `new KafkaAvroDeserializer()` and calling its deserialize function. That class is open source if you want to see how it really works. ","title":"Deserializing a byte[] array from a Kafka ByteArrayDeserializer into a GenericRecord or a SpecificRecord with schema","body":"<p>If the producer used the Schema Registry, then the encoded Avro bytes are not &quot;valid&quot; Avro; <a href=\"https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/index.html#wire-format\" rel=\"nofollow noreferrer\">they start with 5 bytes that are not part of the Avro spec</a>. The bytes also aren't Avro file container format, therefore <code>DataFileReader</code> shouldn't be used.</p>\n<p>Ultimately, there is no reason to use <code>ByteArrayDeserializer</code>, but even if you did, that's not stopping you from manually constructing <code>new KafkaAvroDeserializer()</code> and calling its deserialize function. That class is open source if you want to see how it really works.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689887610,"post_id":76733371,"comment_id":135280976,"body_markdown":"Why make this into another deserializer class? This will end up doing the exact same thing as setting `KafkaAvroDeserializer` in the consumer config (along with `specific.avro.reader`, which also has a constant, by the way)","body":"Why make this into another deserializer class? This will end up doing the exact same thing as setting <code>KafkaAvroDeserializer</code> in the consumer config (along with <code>specific.avro.reader</code>, which also has a constant, by the way)"},{"owner":{"account_id":13515296,"reputation":153,"user_id":9750088,"display_name":"antonig"},"score":0,"creation_date":1690304596,"post_id":76733371,"comment_id":135333650,"body_markdown":"In this particular implementation of a Kafka receiver I was forced to use a preconfigured byte[] deserializer only","body":"In this particular implementation of a Kafka receiver I was forced to use a preconfigured byte[] deserializer only"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690321556,"post_id":76733371,"comment_id":135336666,"body_markdown":"Are you able to provide more details? You have written Java code. Therefore, you can override Consumer Properties freely, even if that means using reflection","body":"Are you able to provide more details? You have written Java code. Therefore, you can override Consumer Properties freely, even if that means using reflection"}],"tags":[],"owner":{"account_id":13515296,"reputation":153,"user_id":9750088,"display_name":"antonig"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689883564,"creation_date":1689883564,"answer_id":76733371,"question_id":76724120,"body_markdown":"Based on the other answer here, I was able to manually deserialize this with the following code:\r\n\r\n```java\r\npublic AvroObjectDeserializer(String schemaRegistryUrl, String kafkaTopic) {\r\n    this.kafkaTopic = kafkaTopic;\r\n\r\n    deserializer = new KafkaAvroDeserializer();\r\n    Map&lt;String, String&gt; kafkaProps = new HashMap&lt;&gt;();\r\n    kafkaProps.put(SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n    // tells Kafka / Schema Registry that we will be using a specific Avro type; not GenericRecord\r\n    kafkaProps.put(&quot;specific.avro.reader&quot;, &quot;true&quot;);\r\n    deserializer.configure(kafkaProps, true);\r\n  }\r\n\r\n  @Override\r\n  public T deserialize(byte[] data) {\r\n    // kafka knows how to deserialize to type T via schema registry which has mapping info\r\n    // topic -&gt; Avro Serialized class\r\n    final Object o = deserializer.deserialize(kafkaTopic, data);\r\n    return (T) o;\r\n  }","title":"Deserializing a byte[] array from a Kafka ByteArrayDeserializer into a GenericRecord or a SpecificRecord with schema","body":"<p>Based on the other answer here, I was able to manually deserialize this with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AvroObjectDeserializer(String schemaRegistryUrl, String kafkaTopic) {\n    this.kafkaTopic = kafkaTopic;\n\n    deserializer = new KafkaAvroDeserializer();\n    Map&lt;String, String&gt; kafkaProps = new HashMap&lt;&gt;();\n    kafkaProps.put(SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n    // tells Kafka / Schema Registry that we will be using a specific Avro type; not GenericRecord\n    kafkaProps.put(&quot;specific.avro.reader&quot;, &quot;true&quot;);\n    deserializer.configure(kafkaProps, true);\n  }\n\n  @Override\n  public T deserialize(byte[] data) {\n    // kafka knows how to deserialize to type T via schema registry which has mapping info\n    // topic -&gt; Avro Serialized class\n    final Object o = deserializer.deserialize(kafkaTopic, data);\n    return (T) o;\n  }\n</code></pre>\n"}],"owner":{"account_id":13515296,"reputation":153,"user_id":9750088,"display_name":"antonig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76724743,"answer_count":2,"score":0,"last_activity_date":1689883564,"creation_date":1689790119,"question_id":76724120,"body_markdown":"I currently have an event stream with a Kafka topic that sends a schema-registry manager event through Java Spring Kafka. On the producer side, I&#39;m sending with no problems:\r\n\r\n```java\r\nprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, IntegerSerializer.class);\r\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n```\r\n\r\nI can receive these messages without any problem by specifying the Kafka receiver as follows:\r\n```java\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, IntegerDeserializer.class);\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.KafkaAvroDeserializer.class);\r\n```\r\n\r\nI already have access to the generated class Java class that is pulled from the schema registry and using this config I can deserialize no problem.\r\n\r\nWhere I am facing an issue is that I have a consumer that has to receive the message using:\r\n\r\n```java\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n``` \r\n\r\nNo matter what I try implementation wise, everything I face throws the following exceptions depending on implementation: \r\n`org.apache.avro.InvalidAvroMagicException: Not an Avro data file.`\r\n`org.apache.avro.AvroRuntimeException: Malformed data. Length is negative: -55`\r\n\r\nThis is the only prior I can find. I have tried deserialization with and without the schema and the same errors occur. I do have access to the schema at deserialization time, the same generated Java used to send the message on the producer side.\r\n\r\nhttps://stackoverflow.com/questions/56538745/deserialize-avro-to-generic-record-without-schema\r\n\r\nI have attached two example impls to the bottom of this post to show what has not worked:\r\n\r\nThe following has been tried with and without the specific schema, as well as deserializing to a single object vs an array of objects or to a GenericRecord:\r\n```java\r\n    //event is of type byte[]\r\nLOG.info(&quot;Recieved Event: {}&quot;, event);\r\n    LOG.debug(&quot;data=&#39;{}&#39;&quot;, DatatypeConverter.printHexBinary(event));\r\n    ByteArrayInputStream in = new ByteArrayInputStream(event);\r\n    DatumReader&lt;SpecificSchemaObject&gt; userDatumReader = new SpecificDatumReader&lt;&gt;(SpecificSchemaObject.getClassSchema());\r\n    BinaryDecoder decoder = DecoderFactory.get().directBinaryDecoder(in, null);\r\n    List&lt;SpecificSchemaObject&gt; records = new ArrayList&lt;SpecificSchemaObject&gt;();\r\n    SpecificSchemaObject result = null;\r\n    try {\r\n      while (true) {\r\n        try {\r\n          SpecificSchemaObject record = userDatumReader.read(null, decoder);\r\n          records.add(record);\r\n        } catch (EOFException eof) {\r\n          break;\r\n        }\r\n      }\r\n      result = (SpecificSchemaObject) userDatumReader.read(null, decoder);\r\n      LOG.info(&quot;deserialized data=&#39;{}&#39;&quot;, records);\r\n      result = (SpecificSchemaObject) records;\r\n    } catch (IOException ioe) {\r\n\r\n    }\r\n```\r\n\r\n```java\r\nSchema schema = WebsiteAdminEvent.getClassSchema();\r\n    DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n    Decoder decoder = DecoderFactory.get().directBinaryDecoder(new ByteArrayInputStream(event), null);\r\n    GenericRecord gr = null;\r\n    try {\r\n      gr = datumReader.read(null, decoder);\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    LOG.info(&quot;got record: &quot;, gr);\r\n```\r\n\r\n\r\n```java\r\n    //event is of type byte[]\r\n    List&lt;WebsiteAdminEvent&gt; listOfRecords = new ArrayList&lt;&gt;();\r\n    DatumReader&lt;WebsiteAdminEvent&gt; reader = new GenericDatumReader&lt;&gt;();\r\n    DataFileReader&lt;WebsiteAdminEvent&gt; fileReader =\r\n        null;\r\n    try {\r\n      fileReader = new DataFileReader&lt;&gt;(new SeekableByteArrayInput(event), reader);\r\n\r\n      WebsiteAdminEvent record = null;\r\n\r\n      while (fileReader.hasNext()) {\r\n        listOfRecords.add(fileReader.next(record));\r\n      }\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n```","title":"Deserializing a byte[] array from a Kafka ByteArrayDeserializer into a GenericRecord or a SpecificRecord with schema","body":"<p>I currently have an event stream with a Kafka topic that sends a schema-registry manager event through Java Spring Kafka. On the producer side, I'm sending with no problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, IntegerSerializer.class);\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n</code></pre>\n<p>I can receive these messages without any problem by specifying the Kafka receiver as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, IntegerDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.KafkaAvroDeserializer.class);\n</code></pre>\n<p>I already have access to the generated class Java class that is pulled from the schema registry and using this config I can deserialize no problem.</p>\n<p>Where I am facing an issue is that I have a consumer that has to receive the message using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n</code></pre>\n<p>No matter what I try implementation wise, everything I face throws the following exceptions depending on implementation:\n<code>org.apache.avro.InvalidAvroMagicException: Not an Avro data file.</code>\n<code>org.apache.avro.AvroRuntimeException: Malformed data. Length is negative: -55</code></p>\n<p>This is the only prior I can find. I have tried deserialization with and without the schema and the same errors occur. I do have access to the schema at deserialization time, the same generated Java used to send the message on the producer side.</p>\n<p><a href=\"https://stackoverflow.com/questions/56538745/deserialize-avro-to-generic-record-without-schema\">Deserialize avro to generic record without schema</a></p>\n<p>I have attached two example impls to the bottom of this post to show what has not worked:</p>\n<p>The following has been tried with and without the specific schema, as well as deserializing to a single object vs an array of objects or to a GenericRecord:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //event is of type byte[]\nLOG.info(&quot;Recieved Event: {}&quot;, event);\n    LOG.debug(&quot;data='{}'&quot;, DatatypeConverter.printHexBinary(event));\n    ByteArrayInputStream in = new ByteArrayInputStream(event);\n    DatumReader&lt;SpecificSchemaObject&gt; userDatumReader = new SpecificDatumReader&lt;&gt;(SpecificSchemaObject.getClassSchema());\n    BinaryDecoder decoder = DecoderFactory.get().directBinaryDecoder(in, null);\n    List&lt;SpecificSchemaObject&gt; records = new ArrayList&lt;SpecificSchemaObject&gt;();\n    SpecificSchemaObject result = null;\n    try {\n      while (true) {\n        try {\n          SpecificSchemaObject record = userDatumReader.read(null, decoder);\n          records.add(record);\n        } catch (EOFException eof) {\n          break;\n        }\n      }\n      result = (SpecificSchemaObject) userDatumReader.read(null, decoder);\n      LOG.info(&quot;deserialized data='{}'&quot;, records);\n      result = (SpecificSchemaObject) records;\n    } catch (IOException ioe) {\n\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Schema schema = WebsiteAdminEvent.getClassSchema();\n    DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n    Decoder decoder = DecoderFactory.get().directBinaryDecoder(new ByteArrayInputStream(event), null);\n    GenericRecord gr = null;\n    try {\n      gr = datumReader.read(null, decoder);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n    LOG.info(&quot;got record: &quot;, gr);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    //event is of type byte[]\n    List&lt;WebsiteAdminEvent&gt; listOfRecords = new ArrayList&lt;&gt;();\n    DatumReader&lt;WebsiteAdminEvent&gt; reader = new GenericDatumReader&lt;&gt;();\n    DataFileReader&lt;WebsiteAdminEvent&gt; fileReader =\n        null;\n    try {\n      fileReader = new DataFileReader&lt;&gt;(new SeekableByteArrayInput(event), reader);\n\n      WebsiteAdminEvent record = null;\n\n      while (fileReader.hasNext()) {\n        listOfRecords.add(fileReader.next(record));\n      }\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n</code></pre>\n"},{"tags":["java","messageformat"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1485253082,"post_id":41825415,"comment_id":70838152,"body_markdown":"[Here](http://stackoverflow.com/questions/1942118/how-do-i-format-a-long-integer-as-a-string-without-separator-in-java) they suggest calling `Long.toString()` on the number you need without commas, and [it seems to work](http://ideone.com/1wBpV5)","body":"<a href=\"http://stackoverflow.com/questions/1942118/how-do-i-format-a-long-integer-as-a-string-without-separator-in-java\">Here</a> they suggest calling <code>Long.toString()</code> on the number you need without commas, and <a href=\"http://ideone.com/1wBpV5\" rel=\"nofollow noreferrer\">it seems to work</a>"}],"answers":[{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1485257141,"post_id":41826252,"comment_id":70840801,"body_markdown":"Thanks! This is indeed an idea that solves this (I&#39;d suggest using java.lang.String.valueOf(Object) for this), but unfortunately has performance disadvantages in my setting - I updated the question accordingly.","body":"Thanks! This is indeed an idea that solves this (I&#39;d suggest using java.lang.String.valueOf(Object) for this), but unfortunately has performance disadvantages in my setting - I updated the question accordingly."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1485292624,"post_id":41826252,"comment_id":70863533,"body_markdown":"Jboss&#39;s framework, which uses MessageFormat in the end.","body":"Jboss&#39;s framework, which uses MessageFormat in the end."}],"tags":[],"owner":{"account_id":2853397,"reputation":61,"user_id":2450109,"display_name":"Shylock.Gou"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485255045,"creation_date":1485255045,"answer_id":41826252,"question_id":41825415,"body_markdown":"        final String format = MessageFormat.format(&quot;The object: {0}&quot;, a == null ? null : a.toString());\r\n\r\n        System.out.println(&quot;format = &quot; + format);","title":"java.text.MessageFormat without grouping separators for numbers","body":"<pre><code>    final String format = MessageFormat.format(\"The object: {0}\", a == null ? null : a.toString());\n\n    System.out.println(\"format = \" + format);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485258582,"creation_date":1485257521,"answer_id":41827161,"question_id":41825415,"body_markdown":"A variant of [Shylock.Gou&#39;s answer][1] that would avoid calling someobject.toString() when this isn&#39;t actually used because the loglevel is forbidden, one could wrap the object so that toString is called on use only. This still seems somewhat awkward, though.\r\n\r\n    public Object wrapToString(Object obj) {\r\n        return new Object() {\r\n            /** {@inheritDoc} */\r\n            @Override\r\n            public String toString() {\r\n                return String.valueOf(obj);\r\n            }\r\n        };\r\n    }\r\n\r\nThen again, one could also pollute the code by wraping the logging statement with a loglevel check - which might or might not be better, depending on taste.\r\n\r\n  [1]: https://stackoverflow.com/a/41826252/21499","title":"java.text.MessageFormat without grouping separators for numbers","body":"<p>A variant of <a href=\"https://stackoverflow.com/a/41826252/21499\">Shylock.Gou's answer</a> that would avoid calling someobject.toString() when this isn't actually used because the loglevel is forbidden, one could wrap the object so that toString is called on use only. This still seems somewhat awkward, though.</p>\n\n<pre><code>public Object wrapToString(Object obj) {\n    return new Object() {\n        /** {@inheritDoc} */\n        @Override\n        public String toString() {\n            return String.valueOf(obj);\n        }\n    };\n}\n</code></pre>\n\n<p>Then again, one could also pollute the code by wraping the logging statement with a loglevel check - which might or might not be better, depending on taste.</p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689883478,"creation_date":1689883478,"answer_id":76733366,"question_id":41825415,"body_markdown":"I don&#39;t know a way to do this within the format string. But you can do it at the level of the MessageFormat object.\r\n\r\nThe way a MessageFormat works is that it converts a pattern into a template string and an array of subsidiary formats for each argument. It then delegates formatting of each argument to the corresponding argument format.\r\n\r\nIt&#39;s possible to inspect and replace the argument formats after creating the MessageFormat. So, we can identify the format(s) for arguments we want to format specially, and replace them with a format which does what we want. And doing what we want is simple, if a little verbose - we end up with the value and a StringBuffer, so we can just append the value to the StringBuffer.\r\n\r\nHelpfully, where you use a default format, like `{0}`, MessageFormat actually just puts a null in the array (when formatting, when it finds a null, falls through to some default formatting code). So if we want to change the way default formatting is done, we can just look for those nulls.\r\n\r\nThis code:\r\n\r\n```\r\nMessageFormat messageFormat = new MessageFormat(&quot;The object: {0}&quot;);\r\n\r\nFormat[] argumentFormats = messageFormat.getFormats();\r\nfor (int i = 0; i &lt; argumentFormats.length; i++) {\r\n    if (argumentFormats[i] == null) {\r\n        messageFormat.setFormat(i, new Format() {\r\n            @Override\r\n            public StringBuffer format(Object obj, StringBuffer buf, FieldPosition pos) {\r\n                pos.setBeginIndex(buf.length());\r\n                buf.append(obj);\r\n                pos.setEndIndex(buf.length());\r\n                return buf;\r\n            }\r\n\r\n            @Override\r\n            public Object parseObject(String source, ParsePosition pos) {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nSystem.out.println(messageFormat.format(new Object[]{1231231}));\r\nSystem.out.println(messageFormat.format(new Object[]{LocalDate.now()}));\r\n```\r\n\r\nPrints:\r\n\r\n```\r\nThe object: 1231231\r\nThe object: 2023-07-20\r\n```\r\n\r\nWhich i think is what you want.\r\n\r\nNow, the approach i have taken here replaces *all* default formats with this simple appending format. You might not want to do that. If there was a specific argument you wanted to format specially, you could forget about the loop, and just set the format at the right place directly. Otherwise, you could use some other logic for deciding which formats to replace.\r\n","title":"java.text.MessageFormat without grouping separators for numbers","body":"<p>I don't know a way to do this within the format string. But you can do it at the level of the MessageFormat object.</p>\n<p>The way a MessageFormat works is that it converts a pattern into a template string and an array of subsidiary formats for each argument. It then delegates formatting of each argument to the corresponding argument format.</p>\n<p>It's possible to inspect and replace the argument formats after creating the MessageFormat. So, we can identify the format(s) for arguments we want to format specially, and replace them with a format which does what we want. And doing what we want is simple, if a little verbose - we end up with the value and a StringBuffer, so we can just append the value to the StringBuffer.</p>\n<p>Helpfully, where you use a default format, like <code>{0}</code>, MessageFormat actually just puts a null in the array (when formatting, when it finds a null, falls through to some default formatting code). So if we want to change the way default formatting is done, we can just look for those nulls.</p>\n<p>This code:</p>\n<pre><code>MessageFormat messageFormat = new MessageFormat(&quot;The object: {0}&quot;);\n\nFormat[] argumentFormats = messageFormat.getFormats();\nfor (int i = 0; i &lt; argumentFormats.length; i++) {\n    if (argumentFormats[i] == null) {\n        messageFormat.setFormat(i, new Format() {\n            @Override\n            public StringBuffer format(Object obj, StringBuffer buf, FieldPosition pos) {\n                pos.setBeginIndex(buf.length());\n                buf.append(obj);\n                pos.setEndIndex(buf.length());\n                return buf;\n            }\n\n            @Override\n            public Object parseObject(String source, ParsePosition pos) {\n                throw new UnsupportedOperationException();\n            }\n        });\n    }\n}\n\nSystem.out.println(messageFormat.format(new Object[]{1231231}));\nSystem.out.println(messageFormat.format(new Object[]{LocalDate.now()}));\n</code></pre>\n<p>Prints:</p>\n<pre><code>The object: 1231231\nThe object: 2023-07-20\n</code></pre>\n<p>Which i think is what you want.</p>\n<p>Now, the approach i have taken here replaces <em>all</em> default formats with this simple appending format. You might not want to do that. If there was a specific argument you wanted to format specially, you could forget about the loop, and just set the format at the right place directly. Otherwise, you could use some other logic for deciding which formats to replace.</p>\n"}],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2833,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689883478,"creation_date":1485252755,"question_id":41825415,"body_markdown":"Is there any possibility to define a format for java.text.MessageFormat that formats numbers without grouping separators *and* other objects with .toString()?\r\n\r\nMy trouble is that I have to format an argument for which I don&#39;t in advance whether it is a number or not. If I just use\r\n\r\n    java.text.MessageFormat.format(&quot;The object: {0}&quot;,someobject)\r\n\r\nthat usually just calls `someobject.toString()` as I want, but when `someobject` is actually a number `1231231`, it returns (in the German locale) `The object: 1,231,231`, but I want `The object: 1231231` here. Formatting with \r\n\r\n    java.text.MessageFormat.format(&quot;{0,number,#}&quot;,1231231)\r\n\r\nreturns `The object: 1231231`, but this doesn&#39;t work when the argument is not a number. Is there a way to specify a format that works for both numbers and other objects?\r\n\r\n(In case your wondering: unfortunately, changing the locale of the MessageFormat is not an option, since that&#39;s deeply buried in JBoss&#39; logging framework and inaccessible.)\r\n\r\n**UPDATE**: calling String.valueOf(someobject) before passing it as an argument does solve this problem, but also isn&#39;t feasible in my case, since this problem occurs when logging, and I don&#39;t want to call the potentially expensive someobject.toString() when the logging level doesn&#39;t allow the log message and the MessageFormat is thus never applied.","title":"java.text.MessageFormat without grouping separators for numbers","body":"<p>Is there any possibility to define a format for java.text.MessageFormat that formats numbers without grouping separators <em>and</em> other objects with .toString()?</p>\n\n<p>My trouble is that I have to format an argument for which I don't in advance whether it is a number or not. If I just use</p>\n\n<pre><code>java.text.MessageFormat.format(\"The object: {0}\",someobject)\n</code></pre>\n\n<p>that usually just calls <code>someobject.toString()</code> as I want, but when <code>someobject</code> is actually a number <code>1231231</code>, it returns (in the German locale) <code>The object: 1,231,231</code>, but I want <code>The object: 1231231</code> here. Formatting with </p>\n\n<pre><code>java.text.MessageFormat.format(\"{0,number,#}\",1231231)\n</code></pre>\n\n<p>returns <code>The object: 1231231</code>, but this doesn't work when the argument is not a number. Is there a way to specify a format that works for both numbers and other objects?</p>\n\n<p>(In case your wondering: unfortunately, changing the locale of the MessageFormat is not an option, since that's deeply buried in JBoss' logging framework and inaccessible.)</p>\n\n<p><strong>UPDATE</strong>: calling String.valueOf(someobject) before passing it as an argument does solve this problem, but also isn't feasible in my case, since this problem occurs when logging, and I don't want to call the potentially expensive someobject.toString() when the logging level doesn't allow the log message and the MessageFormat is thus never applied.</p>\n"},{"tags":["java","datetime-format","java-11","java-17","datetimeformatter"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689157203,"post_id":76668113,"comment_id":135172564,"body_markdown":"The way you try all those formats, you’ll always see the exception of the last attempt, which fails at position zero already. If you were checking the exception of the match attempt you expected to succeed, you could see at which position in the input string it failed.","body":"The way you try all those formats, you’ll always see the exception of the last attempt, which fails at position zero already. If you were checking the exception of the match attempt you expected to succeed, you could see at which position in the input string it failed."},{"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"score":0,"creation_date":1689165011,"post_id":76668113,"comment_id":135174267,"body_markdown":"@Holger Yes I did, and it fails if the date in List `formats` have uppercase **AM/PM** and succeeds at LowerCase **am/pm**. I want to know why this is happening as it was running perfectly in Java11. Also knowing the reason might help me prevent any issues rising in the java src code logic.","body":"@Holger Yes I did, and it fails if the date in List <code>formats</code> have uppercase <b>AM/PM</b> and succeeds at LowerCase <b>am/pm</b>. I want to know why this is happening as it was running perfectly in Java11. Also knowing the reason might help me prevent any issues rising in the java src code logic."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689245081,"post_id":76668113,"comment_id":135187405,"body_markdown":"Can not reproduce. The `DateTimeFormatter` even produces uppercase AM/PM when formatting a datetime. And the example program doesn’t fail with JDK&#160;17 when using US locale.","body":"Can not reproduce. The <code>DateTimeFormatter</code> even produces uppercase AM/PM when formatting a datetime. And the example program doesn’t fail with JDK 17 when using US locale."},{"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"score":0,"creation_date":1689326770,"post_id":76668113,"comment_id":135200753,"body_markdown":"Okay, @Holger could it be possible that this issue persists as my system default is ASIA/Kolkata (en_IN) as locale. If yes then without switching my locale to US or English, How do I fix it? I am new to java and spring, it will be great if you could tell me why is this happening or from where I can know about it?","body":"Okay, @Holger could it be possible that this issue persists as my system default is ASIA/Kolkata (en_IN) as locale. If yes then without switching my locale to US or English, How do I fix it? I am new to java and spring, it will be great if you could tell me why is this happening or from where I can know about it?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689621007,"creation_date":1689621007,"answer_id":76707445,"question_id":76668113,"body_markdown":"&gt; ...could it be possible that this issue persists as my system default\r\n&gt; is ASIA/Kolkata (en_IN) as locale. If yes then without switching my\r\n&gt; locale to US or English, How do I fix it?\r\n\r\nI highly recommend that you always specify a `Locale` with a `DateTimeFormatter` object which is always `Locale`-sensitive. However, if you do not want to use it in this case, you can use create a case-insensitive `DateTimeFormatter`. \r\n\r\n**Demo**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter dtf = new DateTimeFormatterBuilder()\r\n                    .parseCaseInsensitive() // For case-insensitive (e.g. am, Am, AM) parsing\r\n                    .appendPattern(&quot;d MMM uuuu h:m a&quot;)\r\n                    .toFormatter();\r\n    \r\n            // Test\r\n            Stream.of(\r\n                    &quot;24 Oct 2016 7:31 pm&quot;,\r\n                    &quot;24 Oct 2016 7:31 PM&quot;\r\n            ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, dtf)));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    2016-10-24T19:31\r\n    2016-10-24T19:31\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/SPHQGX)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"java.time.format.DateTimeParseException in java 17 but not in java 11","body":"<blockquote>\n<p>...could it be possible that this issue persists as my system default\nis ASIA/Kolkata (en_IN) as locale. If yes then without switching my\nlocale to US or English, How do I fix it?</p>\n</blockquote>\n<p>I highly recommend that you always specify a <code>Locale</code> with a <code>DateTimeFormatter</code> object which is always <code>Locale</code>-sensitive. However, if you do not want to use it in this case, you can use create a case-insensitive <code>DateTimeFormatter</code>.</p>\n<p><strong>Demo</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = new DateTimeFormatterBuilder()\n                .parseCaseInsensitive() // For case-insensitive (e.g. am, Am, AM) parsing\n                .appendPattern(&quot;d MMM uuuu h:m a&quot;)\n                .toFormatter();\n\n        // Test\n        Stream.of(\n                &quot;24 Oct 2016 7:31 pm&quot;,\n                &quot;24 Oct 2016 7:31 PM&quot;\n        ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, dtf)));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2016-10-24T19:31\n2016-10-24T19:31\n</code></pre>\n<p><a href=\"https://ideone.com/SPHQGX\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689883304,"creation_date":1689147059,"question_id":76668113,"body_markdown":"I am migrating a service from jdk 11 to jdk 17. But I kept getting errors in **java 17**:\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;09/18/2018 10:31:40 PM&#39; could not be parsed at index 0\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\r\n\tat java.base/java.time.ZonedDateTime.parse(ZonedDateTime.java:600)\r\n\tat Main.convertToEpoch(Main.java:15)\r\n\tat Main.getOrderTime(Main.java:54)\r\n\tat Main.lambda$dateTest$0(Main.java:60)\r\n\tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4204)\r\n\tat Main.dateTest(Main.java:60)\r\n\tat Main.main(Main.java:71)\r\n\r\nHowever I don&#39;t get this error in **java 11**. Following is the sample code:\r\n\r\n    public class Main {\r\n    public static Long convertToEpoch(String dateTime, String pattern) {\r\n        System.out.println(ZoneId.systemDefault());\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern).withZone(ZoneId.systemDefault());\r\n        return ZonedDateTime.parse(dateTime, dateTimeFormatter).toInstant().toEpochMilli();\r\n    }\r\n\r\n    private static Long getOrderTime(String orderSavedTime) {\r\n        try {\r\n            return convertToEpoch(orderSavedTime, &quot;yyyy-M-d&#39;T&#39;H:m:sXXX&quot;);\r\n        } catch (DateTimeParseException e) {\r\n            System.out.println(&quot;unable to parse date in yyyy-M-d&#39;T&#39;H:m:sXXX  trying next format &quot;);\r\n        }\r\n        try {\r\n            //one space less\r\n            return convertToEpoch(orderSavedTime, &quot;MMM d yyyy h:m:s a&quot;);\r\n        } catch (DateTimeParseException e) {\r\n            System.out.println(&quot;unable to parse date in MMM d yyyy h:m:s a trying next format &quot;);\r\n        }\r\n\r\n        try {\r\n            return convertToEpoch(orderSavedTime, &quot;M/d/yy h:m:s a&quot;);\r\n        } catch (DateTimeParseException e) {\r\n            System.out.println(&quot;unable to parse date in M/d/yy h:m:s a trying next format &quot;);\r\n        }\r\n        try {\r\n            return convertToEpoch(orderSavedTime, &quot;M/d/yyyy h:m:s a&quot;);\r\n        } catch (DateTimeParseException e) {\r\n            System.out.println(&quot;unable to parse date in M/d/yyyy h:m:s a trying next format &quot;);\r\n        }\r\n\r\n        try {\r\n            return convertToEpoch(orderSavedTime, &quot;yyyy-M-d H:m:s&quot;);\r\n        } catch (DateTimeParseException e) {\r\n            System.out.println(&quot;unable to parse date in yyyy-M-d H:m:s trying next format &quot;);\r\n        }\r\n\r\n        try {\r\n            return convertToEpoch(orderSavedTime, &quot;MMM  d yyyy h:m:s:SSSa&quot;);\r\n        } catch (DateTimeParseException e) {\r\n            System.out.println(&quot;unable to parse date in yyyy-M-d H:m:s trying next format &quot;);\r\n        }\r\n\r\n        return convertToEpoch(orderSavedTime, &quot;MMM d yyyy h:m:s:SSSa&quot;);\r\n    }\r\n\r\n    public static void dateTest() {\r\n        List&lt;String&gt; formats = Arrays.asList(&quot;09/18/2018 10:31:40 PM&quot;, &quot;10/18/2018 3:39:24 AM&quot;, &quot;9/18/2018 10:31:40 PM&quot;, &quot;9/18/2018 3:39:24 PM&quot;, &quot;9/18/2018 2:43:08 PM&quot;,\r\n                &quot;9/18/2018 5:09:05 PM&quot;, &quot;09/09/2018 06:32:29 PM&quot;, &quot;09/09/18 06:32:29 PM&quot;, &quot;08/09/18 06:02:20 PM&quot;, &quot;8/9/18 6:2:2 PM&quot;, &quot;Nov  1 2018 12:00:00:000AM&quot;);\r\n        formats.forEach(v -&gt; System.out.println(v + &quot; -&gt; &quot; + new Date(getOrderTime(v))));\r\n        System.out.println(&quot;new form&quot;);\r\n        formats = Arrays.asList(&quot;Sep 22 2014 10:33:55:555AM&quot;, &quot;Sep 02 2014 2:3:5:555AM&quot;, &quot;Sep 2 2014 2:3:05 AM&quot;, &quot;Oct 12 2004 02:3:50 PM&quot;, &quot;2018-09-08T00:00:00+05:30&quot;,\r\n                &quot;Nov  1 2018 12:00:00:000AM&quot;);\r\n        formats.forEach(v -&gt; System.out.println(\r\n                v + &quot; -&gt; &quot; + ZonedDateTime.ofInstant(Instant.ofEpochMilli(getOrderTime(v)), ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;MMM d yyyy h:m:s:SSSa&quot;))));\r\n        formats.forEach(v -&gt; System.out.println(v + &quot; -&gt; &quot; + ZonedDateTime.ofInstant(Instant.ofEpochMilli(getOrderTime(v)), ZoneId.systemDefault())));\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        dateTest();\r\n        }\r\n    }\r\n\r\nSame sample code in java11 runs properly:\r\n*Partial output (for first element)*\r\n\r\n    Asia/Kolkata\r\n    unable to parse date in yyyy-M-d&#39;T&#39;H:m:sXXX  trying next format \r\n    Asia/Kolkata\r\n    unable to parse date in MMM d yyyy h:m:s a trying next format \r\n    Asia/Kolkata\r\n    unable to parse date in M/d/yy h:m:s a trying next format \r\n    Asia/Kolkata\r\n    09/18/2018 10:31:40 PM -&gt; Tue Sep 18 22:31:40 IST 2018\r\n\r\nIt might be related to **AM/PM** markers and case sensitivity, but the original code is *legacy* and I don&#39;t want to make a lot of changes.","title":"java.time.format.DateTimeParseException in java 17 but not in java 11","body":"<p>I am migrating a service from jdk 11 to jdk 17. But I kept getting errors in <strong>java 17</strong>:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '09/18/2018 10:31:40 PM' could not be parsed at index 0\nat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\nat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\nat java.base/java.time.ZonedDateTime.parse(ZonedDateTime.java:600)\nat Main.convertToEpoch(Main.java:15)\nat Main.getOrderTime(Main.java:54)\nat Main.lambda$dateTest$0(Main.java:60)\nat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4204)\nat Main.dateTest(Main.java:60)\nat Main.main(Main.java:71)\n</code></pre>\n<p>However I don't get this error in <strong>java 11</strong>. Following is the sample code:</p>\n<pre><code>public class Main {\npublic static Long convertToEpoch(String dateTime, String pattern) {\n    System.out.println(ZoneId.systemDefault());\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern).withZone(ZoneId.systemDefault());\n    return ZonedDateTime.parse(dateTime, dateTimeFormatter).toInstant().toEpochMilli();\n}\n\nprivate static Long getOrderTime(String orderSavedTime) {\n    try {\n        return convertToEpoch(orderSavedTime, &quot;yyyy-M-d'T'H:m:sXXX&quot;);\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;unable to parse date in yyyy-M-d'T'H:m:sXXX  trying next format &quot;);\n    }\n    try {\n        //one space less\n        return convertToEpoch(orderSavedTime, &quot;MMM d yyyy h:m:s a&quot;);\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;unable to parse date in MMM d yyyy h:m:s a trying next format &quot;);\n    }\n\n    try {\n        return convertToEpoch(orderSavedTime, &quot;M/d/yy h:m:s a&quot;);\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;unable to parse date in M/d/yy h:m:s a trying next format &quot;);\n    }\n    try {\n        return convertToEpoch(orderSavedTime, &quot;M/d/yyyy h:m:s a&quot;);\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;unable to parse date in M/d/yyyy h:m:s a trying next format &quot;);\n    }\n\n    try {\n        return convertToEpoch(orderSavedTime, &quot;yyyy-M-d H:m:s&quot;);\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;unable to parse date in yyyy-M-d H:m:s trying next format &quot;);\n    }\n\n    try {\n        return convertToEpoch(orderSavedTime, &quot;MMM  d yyyy h:m:s:SSSa&quot;);\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;unable to parse date in yyyy-M-d H:m:s trying next format &quot;);\n    }\n\n    return convertToEpoch(orderSavedTime, &quot;MMM d yyyy h:m:s:SSSa&quot;);\n}\n\npublic static void dateTest() {\n    List&lt;String&gt; formats = Arrays.asList(&quot;09/18/2018 10:31:40 PM&quot;, &quot;10/18/2018 3:39:24 AM&quot;, &quot;9/18/2018 10:31:40 PM&quot;, &quot;9/18/2018 3:39:24 PM&quot;, &quot;9/18/2018 2:43:08 PM&quot;,\n            &quot;9/18/2018 5:09:05 PM&quot;, &quot;09/09/2018 06:32:29 PM&quot;, &quot;09/09/18 06:32:29 PM&quot;, &quot;08/09/18 06:02:20 PM&quot;, &quot;8/9/18 6:2:2 PM&quot;, &quot;Nov  1 2018 12:00:00:000AM&quot;);\n    formats.forEach(v -&gt; System.out.println(v + &quot; -&gt; &quot; + new Date(getOrderTime(v))));\n    System.out.println(&quot;new form&quot;);\n    formats = Arrays.asList(&quot;Sep 22 2014 10:33:55:555AM&quot;, &quot;Sep 02 2014 2:3:5:555AM&quot;, &quot;Sep 2 2014 2:3:05 AM&quot;, &quot;Oct 12 2004 02:3:50 PM&quot;, &quot;2018-09-08T00:00:00+05:30&quot;,\n            &quot;Nov  1 2018 12:00:00:000AM&quot;);\n    formats.forEach(v -&gt; System.out.println(\n            v + &quot; -&gt; &quot; + ZonedDateTime.ofInstant(Instant.ofEpochMilli(getOrderTime(v)), ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;MMM d yyyy h:m:s:SSSa&quot;))));\n    formats.forEach(v -&gt; System.out.println(v + &quot; -&gt; &quot; + ZonedDateTime.ofInstant(Instant.ofEpochMilli(getOrderTime(v)), ZoneId.systemDefault())));\n\n}\n\npublic static void main(String[] args) {\n    dateTest();\n    }\n}\n</code></pre>\n<p>Same sample code in java11 runs properly:\n<em>Partial output (for first element)</em></p>\n<pre><code>Asia/Kolkata\nunable to parse date in yyyy-M-d'T'H:m:sXXX  trying next format \nAsia/Kolkata\nunable to parse date in MMM d yyyy h:m:s a trying next format \nAsia/Kolkata\nunable to parse date in M/d/yy h:m:s a trying next format \nAsia/Kolkata\n09/18/2018 10:31:40 PM -&gt; Tue Sep 18 22:31:40 IST 2018\n</code></pre>\n<p>It might be related to <strong>AM/PM</strong> markers and case sensitivity, but the original code is <em>legacy</em> and I don't want to make a lot of changes.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689879135,"post_id":76732813,"comment_id":135279562,"body_markdown":"Maybe you added some properties that are overwrting the flyway/jpa schema thats used. Or started with wrong spring-profile because of new deployment config, etc. Could you provide more information in that direction?","body":"Maybe you added some properties that are overwrting the flyway/jpa schema thats used. Or started with wrong spring-profile because of new deployment config, etc. Could you provide more information in that direction?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1689882146,"post_id":76732813,"comment_id":135280123,"body_markdown":"@LenglBoy application.properties added to the question. I didn&#39;t changed nothing in the application.properties after migration to new DB. The `synchronizer` application just don&#39;t connect to its correct schema  :(","body":"@LenglBoy application.properties added to the question. I didn&#39;t changed nothing in the application.properties after migration to new DB. The <code>synchronizer</code> application just don&#39;t connect to its correct schema  :("}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689882047,"creation_date":1689878105,"question_id":76732813,"body_markdown":"I have an application that is already running on a working Postgres database.\r\n\r\nThis database has 3 schemes: console, synchronizer and public, which I use console and synchronizer in my applications.\r\n\r\nMy application consists of two microservices. One access console schema and another access synchronizer schema, both using spring boot 2.6.6, Spring Data and Flyway.\r\n\r\nThe apps use the same username and password, they differ only in the connection string.\r\n\r\nApplication accessing `console`:\r\n\r\n```\r\nspring.datasource.url =jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=console&amp;prepareThreshold=0\r\n\r\n```\r\n\r\nApplication accessing the `synchronizer`:\r\n\r\n```\r\nspring.datasource.url =jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=synchronizer&amp;prepareThreshold=0\r\n\r\n```\r\n\r\nAs I said, it&#39;s currently working.\r\n\r\nMy team is now migrating this database to a high availability Postgres cluster. My DBA did a dump from the working Postgres and restored it into the new Postgres cluster.\r\n\r\nNow in this new cluster, my apps are no longer able to use their correct schema. I didn&#39;t change anything in the application.properties file. It should work correctly because it&#39;s literally a working database dump.\r\n\r\nIf ` search_path = &quot;$user&quot;, public, console, synchronizer`, my application which uses `synchronizer`, ignores its correct schema and tries to use `console`.\r\n\r\nIf `search_path=console,synchronizer`, again, my application which uses `synchronizer`, ignores its correct schema and tries to use `console`.\r\n\r\nIf ` search_path = &quot;$user&quot;, public` none of the applications will be able to use your scheme. Applications try to create a schema called `&quot;$user&quot;, public`.\r\n\r\nIf ` search_path = synchronizer`, my application using `synchronizer` even manages to access the database, but gives another error: `ERROR: Unable to release PostgreSQL advisory lock`.\r\n\r\nWhat am I missing? There&#39;s a configuration that I should apply on the new Postgres?\r\n\r\nApplication properties `synchronizer-api:`\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto = validate\r\nspring.flyway.enabled=true\r\nspring.flyway.baseline-on-migrate=true\r\n\r\nspring.datasource.url = jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=synchronizer&amp;prepareThreshold=0\r\n\r\nspring.datasource.username = postgres\r\nspring.datasource.password = password\r\n\r\n\r\n\r\nserver.port=8080\r\n\r\n...\r\n```\r\n\r\nApplication properties `console-api:`\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto = validate\r\nspring.flyway.baseline-on-migrate=true\r\n\r\nspring.datasource.url = jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=console&amp;prepareThreshold=0\r\nspring.datasource.username = postgres\r\nspring.datasource.password = password\r\n\r\n\r\n\r\nserver.port=80\r\n\r\nspring.flyway.enabled=true\r\n\r\nspring.jpa.properties.hibernate.show_sql=false\r\nspring.jpa.properties.hibernate.format_sql=false\r\n\r\n...\r\n```","title":"Spring Boot not able to use correct schema Postgres - Spring Data + Flyway","body":"<p>I have an application that is already running on a working Postgres database.</p>\n<p>This database has 3 schemes: console, synchronizer and public, which I use console and synchronizer in my applications.</p>\n<p>My application consists of two microservices. One access console schema and another access synchronizer schema, both using spring boot 2.6.6, Spring Data and Flyway.</p>\n<p>The apps use the same username and password, they differ only in the connection string.</p>\n<p>Application accessing <code>console</code>:</p>\n<pre><code>spring.datasource.url =jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=console&amp;prepareThreshold=0\n\n</code></pre>\n<p>Application accessing the <code>synchronizer</code>:</p>\n<pre><code>spring.datasource.url =jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=synchronizer&amp;prepareThreshold=0\n\n</code></pre>\n<p>As I said, it's currently working.</p>\n<p>My team is now migrating this database to a high availability Postgres cluster. My DBA did a dump from the working Postgres and restored it into the new Postgres cluster.</p>\n<p>Now in this new cluster, my apps are no longer able to use their correct schema. I didn't change anything in the application.properties file. It should work correctly because it's literally a working database dump.</p>\n<p>If <code> search_path = &quot;$user&quot;, public, console, synchronizer</code>, my application which uses <code>synchronizer</code>, ignores its correct schema and tries to use <code>console</code>.</p>\n<p>If <code>search_path=console,synchronizer</code>, again, my application which uses <code>synchronizer</code>, ignores its correct schema and tries to use <code>console</code>.</p>\n<p>If <code> search_path = &quot;$user&quot;, public</code> none of the applications will be able to use your scheme. Applications try to create a schema called <code>&quot;$user&quot;, public</code>.</p>\n<p>If <code> search_path = synchronizer</code>, my application using <code>synchronizer</code> even manages to access the database, but gives another error: <code>ERROR: Unable to release PostgreSQL advisory lock</code>.</p>\n<p>What am I missing? There's a configuration that I should apply on the new Postgres?</p>\n<p>Application properties <code>synchronizer-api:</code></p>\n<pre><code>spring.jpa.hibernate.ddl-auto = validate\nspring.flyway.enabled=true\nspring.flyway.baseline-on-migrate=true\n\nspring.datasource.url = jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=synchronizer&amp;prepareThreshold=0\n\nspring.datasource.username = postgres\nspring.datasource.password = password\n\n\n\nserver.port=8080\n\n...\n</code></pre>\n<p>Application properties <code>console-api:</code></p>\n<pre><code>spring.jpa.hibernate.ddl-auto = validate\nspring.flyway.baseline-on-migrate=true\n\nspring.datasource.url = jdbc:postgresql://postgres.postgres:5432/postgres?stringtype=unspecified&amp;currentSchema=console&amp;prepareThreshold=0\nspring.datasource.username = postgres\nspring.datasource.password = password\n\n\n\nserver.port=80\n\nspring.flyway.enabled=true\n\nspring.jpa.properties.hibernate.show_sql=false\nspring.jpa.properties.hibernate.format_sql=false\n\n...\n</code></pre>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":13001928,"reputation":46,"user_id":9397755,"display_name":"Jennifer Reif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689881815,"creation_date":1689881815,"answer_id":76733221,"question_id":76628337,"body_markdown":"I&#39;m doing something similar in a project of mine, and I don&#39;t believe Spring Data Neo4j is overwriting the end node any more. I believe this was changed to do a lookup before saving (MERGE).\r\n\r\nHowever, if it is still overwriting the values, I would be inclined to create a custom query that does a MATCH on the related nodes (User, in your case) and then does a MERGE on the new relationship. That would ensure it does not overwrite existing values. Hope this helps!","title":"Spring Data Neo4j: Easiest way to save Node with references to its related nodes","body":"<p>I'm doing something similar in a project of mine, and I don't believe Spring Data Neo4j is overwriting the end node any more. I believe this was changed to do a lookup before saving (MERGE).</p>\n<p>However, if it is still overwriting the values, I would be inclined to create a custom query that does a MATCH on the related nodes (User, in your case) and then does a MERGE on the new relationship. That would ensure it does not overwrite existing values. Hope this helps!</p>\n"}],"owner":{"account_id":5279295,"reputation":813,"user_id":4215196,"accept_rate":100,"display_name":"Dimitrios Begnis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689881815,"creation_date":1688642820,"question_id":76628337,"body_markdown":"I&#39;am wondering whats the easiest and best way to save new nodes with references to its related nodes. \r\n\r\nI&#39;ve already seen the [this question][1] where the use of projections is recommended. \r\n\r\nI was wondering if this is the only and/or best way to save nodes.I&#39;ve tried it out and for me the code looks somewhat redundant. As an example I have User-Nodes and Post-Nodes: \r\n\r\n```java\r\npublic class User {\r\n  \r\n  @Id @GeneratedValue\r\n  String id;\r\n  String name;\r\n  String email;\r\n\r\n  @Relationship(type = &quot;FOLLOWER&quot; direction = Relationship.Direction.INCOMMING)\r\n  Set&lt;User&gt; follower;\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class Post {\r\n  \r\n  @Id @GeneratedValue\r\n  String id;\r\n  String title;\r\n  String description;\r\n  String imageUrl;\r\n\r\n  @Relationship(type = &quot;POSTED_BY&quot; direction = Relationship.Direction.OUTGOING)\r\n  User user;\r\n}\r\n```\r\n\r\nIn my example a new Post will be sent over a REST-API which will look like: \r\n\r\n```json\r\n{\r\n&quot;title&quot;:&quot;Title&quot;, \r\n&quot;description&quot;: &quot;Post description&quot;,\r\n&quot;imageUrl&quot;: &quot;http//localhost:8080/assets/image.png&quot;,\r\n&quot;user&quot;: &quot;[user id]&quot;\r\n}\r\n```\r\n\r\nSo when saving the new Post I would like to save all properties and create a relation to the existing user node. However to do so I am currently having a Post-Projection Interface which has getters for all properties plus a getter for the User relation which returns a projection with just the id. \r\n\r\n```java\r\npublic interface PostProjection extends IdProjection {\r\n  String getTitle();\r\n  String getDescription();\r\n  String getImageUrl();\r\n  IdProjection getUser();\r\n}\r\n\r\npublic interface IdProjection {\r\n  String getId();\r\n}\r\n```\r\n\r\nThe Post node can then be saved with `neo4jTemplate.saveAs(post,PostProjection.class)`. \r\n\r\nSo now to my main question if there is any other way to save a new post. With the current solution I need to create a projection interface with IdProjections for relationships for every node class I have in application. This seems to be a bit redundant as from my point of view this seems to be a general use case. \r\n\r\nThe other possible solution I tried out was to retrieve the user object from the database (also to check if the user exists). But in this case all the user&#39;s followers also get loaded which seems to be a bit overhead, especially when there are many relationships. \r\n\r\n\r\nSo is there a way to save node with references to related notes without creating seperate projection classes for each node classes? \r\n\r\n  [1]: https://stackoverflow.com/questions/73489008/spring-data-neo4j-reference-related-nodes-without-overwriting-them-on-save","title":"Spring Data Neo4j: Easiest way to save Node with references to its related nodes","body":"<p>I'am wondering whats the easiest and best way to save new nodes with references to its related nodes.</p>\n<p>I've already seen the <a href=\"https://stackoverflow.com/questions/73489008/spring-data-neo4j-reference-related-nodes-without-overwriting-them-on-save\">this question</a> where the use of projections is recommended.</p>\n<p>I was wondering if this is the only and/or best way to save nodes.I've tried it out and for me the code looks somewhat redundant. As an example I have User-Nodes and Post-Nodes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n  \n  @Id @GeneratedValue\n  String id;\n  String name;\n  String email;\n\n  @Relationship(type = &quot;FOLLOWER&quot; direction = Relationship.Direction.INCOMMING)\n  Set&lt;User&gt; follower;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Post {\n  \n  @Id @GeneratedValue\n  String id;\n  String title;\n  String description;\n  String imageUrl;\n\n  @Relationship(type = &quot;POSTED_BY&quot; direction = Relationship.Direction.OUTGOING)\n  User user;\n}\n</code></pre>\n<p>In my example a new Post will be sent over a REST-API which will look like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;title&quot;:&quot;Title&quot;, \n&quot;description&quot;: &quot;Post description&quot;,\n&quot;imageUrl&quot;: &quot;http//localhost:8080/assets/image.png&quot;,\n&quot;user&quot;: &quot;[user id]&quot;\n}\n</code></pre>\n<p>So when saving the new Post I would like to save all properties and create a relation to the existing user node. However to do so I am currently having a Post-Projection Interface which has getters for all properties plus a getter for the User relation which returns a projection with just the id.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PostProjection extends IdProjection {\n  String getTitle();\n  String getDescription();\n  String getImageUrl();\n  IdProjection getUser();\n}\n\npublic interface IdProjection {\n  String getId();\n}\n</code></pre>\n<p>The Post node can then be saved with <code>neo4jTemplate.saveAs(post,PostProjection.class)</code>.</p>\n<p>So now to my main question if there is any other way to save a new post. With the current solution I need to create a projection interface with IdProjections for relationships for every node class I have in application. This seems to be a bit redundant as from my point of view this seems to be a general use case.</p>\n<p>The other possible solution I tried out was to retrieve the user object from the database (also to check if the user exists). But in this case all the user's followers also get loaded which seems to be a bit overhead, especially when there are many relationships.</p>\n<p>So is there a way to save node with references to related notes without creating seperate projection classes for each node classes?</p>\n"},{"tags":["java","android-studio","google-maps"],"comments":[{"owner":{"account_id":23132203,"reputation":1,"user_id":17236949,"display_name":"Raye Nelson"},"score":0,"creation_date":1689881509,"post_id":76733173,"comment_id":135280007,"body_markdown":"The first part of the code segment is the gradle.app","body":"The first part of the code segment is the gradle.app"},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1690178606,"post_id":76733173,"comment_id":135311522,"body_markdown":"What tutorial are you following with this?","body":"What tutorial are you following with this?"}],"owner":{"account_id":23132203,"reputation":1,"user_id":17236949,"display_name":"Raye Nelson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689881752,"creation_date":1689881444,"question_id":76733173,"body_markdown":"Hello I&#39;ve been trying to get my android studio project to work but I keep running into error. This time the app is crashing on the emulator. I&#39;ve added code for my main_activity.xml, mainactivity.java. the gradle and manifest.xml. I&#39;ve tried many times watch over 20 tutorials on youtube and had no luck. I any knows what wrong with the code or where I can find a copy of a similar project all I need is for the map to work. I already have a api code .I just didn&#39;t post it.Any suggestion would be helpful.\r\n\r\n. [[enter image description here](https://i.stack.imgur.com/DVNhf.png)](https://i.stack.imgur.com/61FQx.png)\r\n````gradle.app\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.googlemaptutorail&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.googlemaptutorail&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    \r\n}\r\n```\r\n\r\n```\r\nmainactivity.java\r\npackage com.example.googlemaptutorail;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport android.os.Bundle;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback{\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n        mapFragment.getMapAsync(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nmain-activity.xlm (layout)\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:id=&quot;@+id/maps&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot; &gt;\r\n        &lt;/androidx.fragment.app.FragmentContainerView&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nandroidmanifest.xml\r\n ```\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Googlemaptutorail&quot;\r\n        to`ols:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;APIcode&quot;&gt; &lt;/meta-data&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n```\r\n","title":"Android studio google maps implantation error","body":"<p>Hello I've been trying to get my android studio project to work but I keep running into error. This time the app is crashing on the emulator. I've added code for my main_activity.xml, mainactivity.java. the gradle and manifest.xml. I've tried many times watch over 20 tutorials on youtube and had no luck. I any knows what wrong with the code or where I can find a copy of a similar project all I need is for the map to work. I already have a api code .I just didn't post it.Any suggestion would be helpful.</p>\n<p>. [<a href=\"https://i.stack.imgur.com/DVNhf.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/61FQx.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/61FQx.png</a>)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.googlemaptutorail'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.googlemaptutorail&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    \n}\n```\n\n```\nmainactivity.java\npackage com.example.googlemaptutorail;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport android.os.Bundle;\nimport com.google.android.gms.maps.OnMapReadyCallback;\n\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback{\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n        mapFragment.getMapAsync(this);\n\n    }\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n\n    }\n}\n```\n\n\n```\nmain-activity.xlm (layout)\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:id=&quot;@+id/maps&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot; &gt;\n        &lt;/androidx.fragment.app.FragmentContainerView&gt;\n\n```\n\n\n\n\nandroidmanifest.xml\n ```\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Googlemaptutorail&quot;\n        to`ols:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\n                android:value=&quot;APIcode&quot;&gt; &lt;/meta-data&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n```\n</code></pre>\n"},{"tags":["java","jackson","deserialization","json-deserialization","jackson-databind"],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689881732,"creation_date":1689629358,"question_id":76708186,"body_markdown":"Jackson bean configured to use custom Deserializer\r\n```java\r\n@JsonDeserialize(using = Planet.Deserializer.class)\r\npublic class Planet {\r\n\r\n  static Map&lt;String, Planet&gt; SINGLETONS = Map.of(\r\n          &quot;EARTH&quot;, new Planet(&quot;Earth&quot;, 1),\r\n          &quot;MARS&quot;, new Planet(&quot;Mars&quot;, 2)\r\n  );\r\n\r\n  String name;\r\n  // size is here to prevent Jackson from using the constructor\r\n  int size;\r\n\r\n  Planet(String name, int size) {\r\n    this.name = name;\r\n    this.size = size;\r\n  }\r\n\r\n  static Planet valueOf(String name) {\r\n    Planet planet = SINGLETONS.get(name);\r\n    if (planet == null) {\r\n      throw new IllegalArgumentException(&quot;No Planet by the name &quot; + name + &quot; found&quot;);\r\n    }\r\n    return planet;\r\n  }\r\n\r\n  public String getName() {\r\n    return this.name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public static class Deserializer extends StdDeserializer&lt;Planet&gt; {\r\n\r\n    public Deserializer() {\r\n      super((Class&lt;?&gt;) null);\r\n    }\r\n\r\n    @Override\r\n    public Planet deserialize(JsonParser jsonParser, DeserializationContext ctx) throws IOException {\r\n      final String value = jsonParser.getValueAsString();\r\n      return Planet.valueOf(value.toUpperCase());\r\n    }\r\n  }\r\n}\r\n```\r\n### Planet works\r\n```java\r\npublic class Expedition {\r\n  Planet destination;\r\n  public Planet getDestination() {\r\n    return destination;\r\n  }\r\n  public void setDestination(Planet destination) {\r\n    this.destination = destination;\r\n  }\r\n}\r\n// custom deserializer is used\r\nnew ObjectMapper().readValue(&quot;{\\&quot;destination\\&quot;:\\&quot;mars\\&quot;}&quot;, Expedition.class)\r\n```\r\n### List\\&lt;Planet&gt; works\r\n```java\r\npublic class Expedition {\r\n  List&lt;Planet&gt; list;\r\n  public List&lt;Planet&gt; getList() {\r\n    return this.list;\r\n  }\r\n  public void setList(List&lt;Planet&gt; list) {\r\n    this.list = list;\r\n  }\r\n}\r\n// custom deserializer is used\r\nnew ObjectMapper().readValue(&quot;{\\&quot;list\\&quot;:[\\&quot;mars\\&quot;]}&quot;, Expedition.class)\r\n```\r\n### Map&lt;Planet, String&gt; does not work\r\n```java\r\npublic class Expedition {\r\n  private Map&lt;Planet, String&gt; map;\r\n  public Map&lt;Planet, String&gt; getMap() {\r\n    return this.map;\r\n  }\r\n  public void setMap(Map&lt;Planet, String&gt; map) {\r\n    this.map = map;\r\n  }\r\n}\r\n// custom deserializer is not used, invokes valueOf directly instead\r\nnew ObjectMapper().readValue(&quot;{\\&quot;map\\&quot;:{\\&quot;mars\\&quot; : \\&quot;a\\&quot;}}&quot;, Expedition.class)\r\n```\r\nWhy isn&#39;t Jackson using the custom deserializer when the class is used as Map key ?  \r\n\r\n##### Solution for the issue:\r\nI fixed the issue on my end by using`@JsonDeserialize(keyUsing = ...)` in the Expedition class\r\n\r\n**jackson-databind 2.15.2**","title":"Jackson does not use custom Deserializer specified in class annotation","body":"<p>Jackson bean configured to use custom Deserializer</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = Planet.Deserializer.class)\npublic class Planet {\n\n  static Map&lt;String, Planet&gt; SINGLETONS = Map.of(\n          &quot;EARTH&quot;, new Planet(&quot;Earth&quot;, 1),\n          &quot;MARS&quot;, new Planet(&quot;Mars&quot;, 2)\n  );\n\n  String name;\n  // size is here to prevent Jackson from using the constructor\n  int size;\n\n  Planet(String name, int size) {\n    this.name = name;\n    this.size = size;\n  }\n\n  static Planet valueOf(String name) {\n    Planet planet = SINGLETONS.get(name);\n    if (planet == null) {\n      throw new IllegalArgumentException(&quot;No Planet by the name &quot; + name + &quot; found&quot;);\n    }\n    return planet;\n  }\n\n  public String getName() {\n    return this.name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public static class Deserializer extends StdDeserializer&lt;Planet&gt; {\n\n    public Deserializer() {\n      super((Class&lt;?&gt;) null);\n    }\n\n    @Override\n    public Planet deserialize(JsonParser jsonParser, DeserializationContext ctx) throws IOException {\n      final String value = jsonParser.getValueAsString();\n      return Planet.valueOf(value.toUpperCase());\n    }\n  }\n}\n</code></pre>\n<h3>Planet works</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Expedition {\n  Planet destination;\n  public Planet getDestination() {\n    return destination;\n  }\n  public void setDestination(Planet destination) {\n    this.destination = destination;\n  }\n}\n// custom deserializer is used\nnew ObjectMapper().readValue(&quot;{\\&quot;destination\\&quot;:\\&quot;mars\\&quot;}&quot;, Expedition.class)\n</code></pre>\n<h3>List&lt;Planet&gt; works</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Expedition {\n  List&lt;Planet&gt; list;\n  public List&lt;Planet&gt; getList() {\n    return this.list;\n  }\n  public void setList(List&lt;Planet&gt; list) {\n    this.list = list;\n  }\n}\n// custom deserializer is used\nnew ObjectMapper().readValue(&quot;{\\&quot;list\\&quot;:[\\&quot;mars\\&quot;]}&quot;, Expedition.class)\n</code></pre>\n<h3>Map&lt;Planet, String&gt; does not work</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Expedition {\n  private Map&lt;Planet, String&gt; map;\n  public Map&lt;Planet, String&gt; getMap() {\n    return this.map;\n  }\n  public void setMap(Map&lt;Planet, String&gt; map) {\n    this.map = map;\n  }\n}\n// custom deserializer is not used, invokes valueOf directly instead\nnew ObjectMapper().readValue(&quot;{\\&quot;map\\&quot;:{\\&quot;mars\\&quot; : \\&quot;a\\&quot;}}&quot;, Expedition.class)\n</code></pre>\n<p>Why isn't Jackson using the custom deserializer when the class is used as Map key ?</p>\n<h5>Solution for the issue:</h5>\n<p>I fixed the issue on my end by using<code>@JsonDeserialize(keyUsing = ...)</code> in the Expedition class</p>\n<p><strong>jackson-databind 2.15.2</strong></p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1649253422,"post_id":71767826,"comment_id":126829223,"body_markdown":"Have you tried to invelidate ItelijIdea cache? `Main Menu | File | Invalidate caches`","body":"Have you tried to invelidate ItelijIdea cache? <code>Main Menu | File | Invalidate caches</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1649254814,"post_id":71767826,"comment_id":126829874,"body_markdown":"Go to plain console (not within your IDE) and do `mvn clean package -U`...","body":"Go to plain console (not within your IDE) and do <code>mvn clean package -U</code>..."},{"owner":{"account_id":20202243,"reputation":97,"user_id":14817638,"display_name":"Gaurav Kumar"},"score":0,"creation_date":1649313444,"post_id":71767826,"comment_id":126844911,"body_markdown":"@khmarbaise\nIts not working.","body":"@khmarbaise Its not working."},{"owner":{"account_id":20202243,"reputation":97,"user_id":14817638,"display_name":"Gaurav Kumar"},"score":0,"creation_date":1649313677,"post_id":71767826,"comment_id":126844971,"body_markdown":"Invalidating the caches worked for me.","body":"Invalidating the caches worked for me."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649315508,"post_id":71767826,"comment_id":126845545,"body_markdown":"Are you inside a coroprate network with firewall/proxy etc. ?","body":"Are you inside a coroprate network with firewall/proxy etc. ?"},{"owner":{"account_id":20202243,"reputation":97,"user_id":14817638,"display_name":"Gaurav Kumar"},"score":0,"creation_date":1649318289,"post_id":71767826,"comment_id":126846492,"body_markdown":"@khmarbaise\nNo. Its my home computer.","body":"@khmarbaise No. Its my home computer."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649319042,"post_id":71767826,"comment_id":126846795,"body_markdown":"The error message `The operation was cancelled.` looks weird...","body":"The error message <code>The operation was cancelled.</code> looks weird..."}],"answers":[{"tags":[],"owner":{"account_id":29059561,"reputation":1,"user_id":22260573,"display_name":"Francisco Denis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689881726,"creation_date":1689881726,"answer_id":76733208,"question_id":71767826,"body_markdown":"I had to solve the same issue,it looks like there is a mistake on the groupId declaration, try with:\r\n\r\n\t\t\t&lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\r\n\r\n Thanks!\r\n","title":"maven is not downloading spring shell starter dependency","body":"<p>I had to solve the same issue,it looks like there is a mistake on the groupId declaration, try with:</p>\n<pre><code>        &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\n</code></pre>\n<p>Thanks!</p>\n"}],"owner":{"account_id":20202243,"reputation":97,"user_id":14817638,"display_name":"Gaurav Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689881726,"creation_date":1649252314,"question_id":71767826,"body_markdown":"I just have created a spring boot starter project in IntelliJ Idea with no extra dependencies added. After that I am trying to add spring-shell-starter dependency in it.\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nWhen I am syncing it, its not downloading the dependency and showing the error -\r\n**Cannot resolve org.springframework.shell:spring-shell-starter:pom:2.0.1.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.shell:spring-shell-starter:pom:2.0.1.RELEASE from/to central (https://repo.maven.apache.org/maven2): The operation was cancelled.**\r\n\r\nHere is the pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-shell-demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-shell-demo&lt;/name&gt;\r\n    &lt;description&gt;spring-shell-demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nPlease help me out with this.","title":"maven is not downloading spring shell starter dependency","body":"<p>I just have created a spring boot starter project in IntelliJ Idea with no extra dependencies added. After that I am trying to add spring-shell-starter dependency in it.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I am syncing it, its not downloading the dependency and showing the error -\n<strong>Cannot resolve org.springframework.shell:spring-shell-starter:pom:2.0.1.RELEASE failed to transfer from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.shell:spring-shell-starter:pom:2.0.1.RELEASE from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): The operation was cancelled.</strong></p>\n<p>Here is the pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-shell-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-shell-demo&lt;/name&gt;\n    &lt;description&gt;spring-shell-demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please help me out with this.</p>\n"},{"tags":["java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":2722070,"reputation":347,"user_id":2348156,"display_name":"TimeMalt"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1575382072,"creation_date":1575382072,"answer_id":59158952,"question_id":59158951,"body_markdown":"Wrapping with a function solved my problem:\r\n\r\n```\r\nlet callback = function(res) { Android.onResult(res); }\r\ncallback(&#39;test&#39;)\r\n```\r\n\r\nI was able to get a tip from this comment, which pointed me in the correct direction:\r\nhttps://github.com/react-native-community/react-native-webview/issues/323#issuecomment-511824940","title":"Java bridge method can&#39;t be invoked on a non-injected object","body":"<p>Wrapping with a function solved my problem:</p>\n\n<pre><code>let callback = function(res) { Android.onResult(res); }\ncallback('test')\n</code></pre>\n\n<p>I was able to get a tip from this comment, which pointed me in the correct direction:\n<a href=\"https://github.com/react-native-community/react-native-webview/issues/323#issuecomment-511824940\" rel=\"noreferrer\">https://github.com/react-native-community/react-native-webview/issues/323#issuecomment-511824940</a></p>\n"},{"tags":[],"owner":{"account_id":1266690,"reputation":51,"user_id":1223846,"display_name":"Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670941903,"creation_date":1670941903,"answer_id":74786448,"question_id":59158951,"body_markdown":"I just had the same issue.\r\nIn my case I had a `success` callback I needed to call (`window.Android.success`). My code looked somewhat like this:\r\n```typescript\r\nconst triggerWebviewSuccessCallback = (message: string): void =&gt; {\r\n  const androidCallback = window.Android?.success;\r\n  const iosCallback = window.webkit?.messageHandler?.success?.postMessage;\r\n\r\n  androidCallback?.(message);\r\n  iosCallback?.(message);\r\n};\r\n```\r\n\r\nIn my case the assignment of `window.Android.success` to `androidCallback` was what caused the issue. The solution was simple (and can be written both shorter and cleaner): call the function directly without reassigning it\r\n```typescript\r\nconst triggerWebviewSuccessCallback = (message: string): void =&gt; {\r\n  const androidCallback = window.Android?.success;\r\n  const iosCallback = window.webkit?.messageHandler?.success?.postMessage;\r\n\r\n  if (androidCallback) {\r\n    window.Android.success(message);\r\n  }\r\n\r\n  if (iosCallback) {\r\n    window.webkit.messageHandler.success.postMessage(message);\r\n  }\r\n};\r\n```","title":"Java bridge method can&#39;t be invoked on a non-injected object","body":"<p>I just had the same issue.\nIn my case I had a <code>success</code> callback I needed to call (<code>window.Android.success</code>). My code looked somewhat like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const triggerWebviewSuccessCallback = (message: string): void =&gt; {\n  const androidCallback = window.Android?.success;\n  const iosCallback = window.webkit?.messageHandler?.success?.postMessage;\n\n  androidCallback?.(message);\n  iosCallback?.(message);\n};\n</code></pre>\n<p>In my case the assignment of <code>window.Android.success</code> to <code>androidCallback</code> was what caused the issue. The solution was simple (and can be written both shorter and cleaner): call the function directly without reassigning it</p>\n<pre class=\"lang-js prettyprint-override\"><code>const triggerWebviewSuccessCallback = (message: string): void =&gt; {\n  const androidCallback = window.Android?.success;\n  const iosCallback = window.webkit?.messageHandler?.success?.postMessage;\n\n  if (androidCallback) {\n    window.Android.success(message);\n  }\n\n  if (iosCallback) {\n    window.webkit.messageHandler.success.postMessage(message);\n  }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1614899,"reputation":128,"user_id":1492867,"accept_rate":80,"display_name":"user1492867"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689880821,"creation_date":1689880821,"answer_id":76733108,"question_id":59158951,"body_markdown":"As has been alluded to in the previous answers, the problem is that assigning the function to a variable changes the functions `this`.\r\n\r\nBased on the discussion here: https://bugs.chromium.org/p/chromium/issues/detail?id=514628 I found that it is possible to keep calling the function stored to a variable as in the original question using the .bind function which was useful for me as changing my code to call the function directly was not feasible.\r\n\r\n```\r\nlet callback = Android.onResult.bind(Android)\r\ncallback(&#39;test&#39;)\r\n``` ","title":"Java bridge method can&#39;t be invoked on a non-injected object","body":"<p>As has been alluded to in the previous answers, the problem is that assigning the function to a variable changes the functions <code>this</code>.</p>\n<p>Based on the discussion here: <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=514628\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=514628</a> I found that it is possible to keep calling the function stored to a variable as in the original question using the .bind function which was useful for me as changing my code to call the function directly was not feasible.</p>\n<pre><code>let callback = Android.onResult.bind(Android)\ncallback('test')\n</code></pre>\n"}],"owner":{"account_id":2722070,"reputation":347,"user_id":2348156,"display_name":"TimeMalt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3581,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1689880821,"creation_date":1575382072,"question_id":59158951,"body_markdown":"In my Android app I am using a WebView with setJavaScriptEnabled(true) and a JavaScript interface that gets callbacks.\r\n\r\nI found that I get the error message `Java bridge method can&#39;t be invoked on a non-injected object` when I run code like the following.\r\n\r\nMy Java code has:\r\n```\r\npublic class WebAppInterface {\r\n    @JavascriptInterface\r\n    public void onResult(String json) {\r\n        // Do something here\r\n    }\r\n}\r\n```\r\n\r\n```\r\nwebView.addJavascriptInterface(WebAppInterface(), &quot;Android&quot;)\r\n```\r\n\r\nIn the JavaScript of the WebView I am running:\r\n```\r\nlet callback = Android.onResult\r\ncallback(&#39;test&#39;) //boom :(\r\n```\r\n\r\nBut calling the callback generates the error.","title":"Java bridge method can&#39;t be invoked on a non-injected object","body":"<p>In my Android app I am using a WebView with setJavaScriptEnabled(true) and a JavaScript interface that gets callbacks.</p>\n\n<p>I found that I get the error message <code>Java bridge method can't be invoked on a non-injected object</code> when I run code like the following.</p>\n\n<p>My Java code has:</p>\n\n<pre><code>public class WebAppInterface {\n    @JavascriptInterface\n    public void onResult(String json) {\n        // Do something here\n    }\n}\n</code></pre>\n\n<pre><code>webView.addJavascriptInterface(WebAppInterface(), \"Android\")\n</code></pre>\n\n<p>In the JavaScript of the WebView I am running:</p>\n\n<pre><code>let callback = Android.onResult\ncallback('test') //boom :(\n</code></pre>\n\n<p>But calling the callback generates the error.</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-config"],"answers":[{"comments":[{"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"score":1,"creation_date":1527609759,"post_id":33179106,"comment_id":88186471,"body_markdown":"For anyone using a Windows path (maybe, like me, you&#39;re going through the Spring Cloud tutorial on your workstation), I found that I needed the &quot;spring.profiles.active=native&quot; property and the git URI using this format: &quot;spring.cloud.config.server.git.uri = file:///C:/Users/MyUser/Documents/config&quot;","body":"For anyone using a Windows path (maybe, like me, you&#39;re going through the Spring Cloud tutorial on your workstation), I found that I needed the &quot;spring.profiles.active=native&quot; property and the git URI using this format: &quot;spring.cloud.config.server.git.uri = file:///C:/Users/MyUser/Documents/config&quot;"},{"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"score":2,"creation_date":1528980365,"post_id":33179106,"comment_id":88718238,"body_markdown":"Scratch that, this is what I needed: \n\n&quot;spring.profiles.active=native&quot; and &quot;spring.cloud.config.server.native.searchLocations=C:/Users/MyUser/Documents/config&quot;","body":"Scratch that, this is what I needed:   &quot;spring.profiles.active=native&quot; and &quot;spring.cloud.config.server.native.searchLocations=C:/Users/&zwnj;&#8203;MyUser/Documents/con&zwnj;&#8203;fig&quot;"}],"tags":[],"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1445027572,"creation_date":1445027572,"answer_id":33179106,"question_id":33178448,"body_markdown":"Run with `spring.profiles.active=native`. See the [File System Backend](http://projects.spring.io/spring-cloud/spring-cloud.html) for more details. You&#39;ll want to set `spring.cloud.config.server.native.searchLocations` to the dirs you want to look at.","title":"Using Spring Cloud Config without Git repo","body":"<p>Run with <code>spring.profiles.active=native</code>. See the <a href=\"http://projects.spring.io/spring-cloud/spring-cloud.html\" rel=\"noreferrer\">File System Backend</a> for more details. You'll want to set <code>spring.cloud.config.server.native.searchLocations</code> to the dirs you want to look at.</p>\n"},{"comments":[{"owner":{"account_id":388093,"reputation":1419,"user_id":746823,"accept_rate":69,"display_name":"Metalhead"},"score":0,"creation_date":1574843351,"post_id":33217841,"comment_id":104370378,"body_markdown":"Not necessary the directory is on the classpath","body":"Not necessary the directory is on the classpath"}],"tags":[],"owner":{"account_id":1119038,"reputation":1566,"user_id":1107753,"accept_rate":64,"display_name":"user1107753"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1445267128,"creation_date":1445267128,"answer_id":33217841,"question_id":33178448,"body_markdown":"You could try changing the search path to the following \r\n\r\n    classpath:/configs","title":"Using Spring Cloud Config without Git repo","body":"<p>You could try changing the search path to the following </p>\n\n<pre><code>classpath:/configs\n</code></pre>\n"},{"comments":[{"owner":{"account_id":392452,"reputation":844,"user_id":753724,"accept_rate":36,"display_name":"syr"},"score":2,"creation_date":1501150374,"post_id":41277586,"comment_id":77656528,"body_markdown":"Really? It only worked when config is a git repo and its files are committed. Otherwise, the config server would not see the yml/properties files (using Camden.SR5).","body":"Really? It only worked when config is a git repo and its files are committed. Otherwise, the config server would not see the yml/properties files (using Camden.SR5)."},{"owner":{"account_id":2349210,"reputation":3506,"user_id":2058534,"accept_rate":77,"display_name":"prettyvoid"},"score":0,"creation_date":1522073674,"post_id":41277586,"comment_id":85990691,"body_markdown":"Ya this doesn&#39;t work unless that directory is a git repo","body":"Ya this doesn&#39;t work unless that directory is a git repo"},{"owner":{"account_id":2937310,"reputation":1678,"user_id":2515942,"accept_rate":94,"display_name":"Murat Aykanat"},"score":1,"creation_date":1525603052,"post_id":41277586,"comment_id":87414120,"body_markdown":"For windows without git; this worked for me: `spring.cloud.config.server.native.searchLocations=file:/C:/toybox-config-server-repo/` (1.5.10.RELEASE)","body":"For windows without git; this worked for me: <code>spring.cloud.config.server.native.searchLocations=file:&#47;C:&#47;t&zwnj;&#8203;oybox-config-server-&zwnj;&#8203;repo&#47;</code> (1.5.10.RELEASE)"}],"tags":[],"owner":{"account_id":3010181,"reputation":375,"user_id":2553889,"display_name":"Horatiu"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1491281136,"creation_date":1482390646,"answer_id":41277586,"question_id":33178448,"body_markdown":"For **Windows** I used it like this:\r\n\r\n    spring.cloud.config.server.git.uri=C:\\\\\\\\Users\\\\\\\\my.user\\\\\\\\Desktop\\\\\\\\config\\\\\\\\","title":"Using Spring Cloud Config without Git repo","body":"<p>For <strong>Windows</strong> I used it like this:</p>\n\n<pre><code>spring.cloud.config.server.git.uri=C:\\\\\\\\Users\\\\\\\\my.user\\\\\\\\Desktop\\\\\\\\config\\\\\\\\\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4923650,"reputation":985,"user_id":3965524,"accept_rate":91,"display_name":"JavaTec"},"score":0,"creation_date":1541529500,"post_id":50495007,"comment_id":93245995,"body_markdown":"file:/// (note 3 forward slashes as opposed to 2 which was the case with original question - did the trick for me!)","body":"file:/// (note 3 forward slashes as opposed to 2 which was the case with original question - did the trick for me!)"}],"tags":[],"owner":{"account_id":8923106,"reputation":31,"user_id":6658794,"display_name":"regoug hicham"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542668312,"creation_date":1527099636,"answer_id":50495007,"question_id":33178448,"body_markdown":"try to make your path to the directory without specifying the name of the file:\r\n\r\nfile:///C:/Users/home/Desktop/yourProject/git-repo","title":"Using Spring Cloud Config without Git repo","body":"<p>try to make your path to the directory without specifying the name of the file:</p>\n\n<p>file:///C:/Users/home/Desktop/yourProject/git-repo</p>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583175376,"creation_date":1583168315,"answer_id":60493423,"question_id":33178448,"body_markdown":"You can try this following ways:\r\n    \r\n    file:\\\\C:/WORKSPACE/GIT/repo\r\n    file:///C:/microservices/repo\r\n    file:///C:/Users/test/Documents/workspace-sts-3.9.4.RELEASE/repo\r\n    file:\\\\C:/Users/test/Documents/workspace-sts-3.9.4.RELEASE/repo","title":"Using Spring Cloud Config without Git repo","body":"<p>You can try this following ways:</p>\n\n<pre><code>file:\\\\C:/WORKSPACE/GIT/repo\nfile:///C:/microservices/repo\nfile:///C:/Users/test/Documents/workspace-sts-3.9.4.RELEASE/repo\nfile:\\\\C:/Users/test/Documents/workspace-sts-3.9.4.RELEASE/repo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613962933,"creation_date":1613962933,"answer_id":66309507,"question_id":33178448,"body_markdown":"Please follow the below mentioned configurations\r\n\r\n**Here is the Reference** \r\n\r\n[https://cloud.spring.io/spring-cloud-config/reference/html/#_spring_cloud_config_server][1]\r\n\r\n\r\n**# Working - in Windows** \r\n\r\n    spring.cloud.config.server.git.uri=file:/C:/git-repo \r\n    \r\n    spring.cloud.config.server.git.uri=file:///C:/git-repo \r\n    \r\n    spring.cloud.config.server.git.uri=C:\\\\\\\\git-repo  \r\n\r\n**#Not Working - in Windows**\r\n  \r\n\r\n    #spring.cloud.config.server.git.uri=file:///C:\\git-repo \r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/reference/html/#_spring_cloud_config_server","title":"Using Spring Cloud Config without Git repo","body":"<p>Please follow the below mentioned configurations</p>\n<p><strong>Here is the Reference</strong></p>\n<p><a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/#_spring_cloud_config_server\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/reference/html/#_spring_cloud_config_server</a></p>\n<p><strong># Working - in Windows</strong></p>\n<pre><code>spring.cloud.config.server.git.uri=file:/C:/git-repo \n\nspring.cloud.config.server.git.uri=file:///C:/git-repo \n\nspring.cloud.config.server.git.uri=C:\\\\\\\\git-repo  \n</code></pre>\n<p><strong>#Not Working - in Windows</strong></p>\n<pre><code>#spring.cloud.config.server.git.uri=file:///C:\\git-repo \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2840168,"reputation":1654,"user_id":2439949,"accept_rate":33,"display_name":"sy456"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618328563,"creation_date":1618328563,"answer_id":67078152,"question_id":33178448,"body_markdown":"This worked for **Windows** (I created a config folder in /Desktop): \r\n\r\n    spring.cloud.config.server.git.uri=file:///${user.home}/Desktop/config\r\n\r\nThe following didn&#39;t work so I used above:\r\n\r\n    spring.cloud.config.server.git.uri=file://${HOME}/Desktop/config\r\n\r\n","title":"Using Spring Cloud Config without Git repo","body":"<p>This worked for <strong>Windows</strong> (I created a config folder in /Desktop):</p>\n<pre><code>spring.cloud.config.server.git.uri=file:///${user.home}/Desktop/config\n</code></pre>\n<p>The following didn't work so I used above:</p>\n<pre><code>spring.cloud.config.server.git.uri=file://${HOME}/Desktop/config\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689880618,"creation_date":1689880618,"answer_id":76733090,"question_id":33178448,"body_markdown":"I had the same problem and I use this : \r\n\r\n    spring.cloud.config.server.git.uri=file:///G:/software installed ssd/intelij/spring-boot-project/microservice-with-config-server/git\r\n\r\nthe **&quot;git&quot;** is the name of my folder I put my file **&quot;limits-service.properties&quot;**\r\n\r\nAlso check the git local branch, be the **&quot;main&quot;** not **&quot;master&quot;**,\r\nIf not, change it to the main.\r\nAfter all check the properties are set are the same name, I made all this mistake, so I hope it is helpfull for the other people.thanks\r\n\r\n","title":"Using Spring Cloud Config without Git repo","body":"<p>I had the same problem and I use this :</p>\n<pre><code>spring.cloud.config.server.git.uri=file:///G:/software installed ssd/intelij/spring-boot-project/microservice-with-config-server/git\n</code></pre>\n<p>the <strong>&quot;git&quot;</strong> is the name of my folder I put my file <strong>&quot;limits-service.properties&quot;</strong></p>\n<p>Also check the git local branch, be the <strong>&quot;main&quot;</strong> not <strong>&quot;master&quot;</strong>,\nIf not, change it to the main.\nAfter all check the properties are set are the same name, I made all this mistake, so I hope it is helpfull for the other people.thanks</p>\n"}],"owner":{"account_id":231218,"reputation":1521,"user_id":495312,"accept_rate":61,"display_name":"Turar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35327,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"accepted_answer_id":33217841,"answer_count":8,"score":43,"last_activity_date":1689880618,"creation_date":1445024675,"question_id":33178448,"body_markdown":"Is it possible to use Spring Cloud Config without using any Git repo at all? I&#39;m trying to test it with a local directory with this in application.properties:\r\n\r\n`spring.cloud.config.server.git.uri=file://${user.dir}/src/main/resources/config-repo`\r\n\r\nBut I get the following error:\r\n\r\njava.lang.IllegalStateException: No .git at file://path/to/src/main/resources/config-repo\r\n\r\nSo is it not possible to use Spring Cloud if one is not using Git at all?\r\n\r\n**UPDATE:**\r\n\r\nThanks to Spencer&#39;s advice, I added the following:\r\n\r\n`spring.profiles.active=native\r\nspring.cloud.config.server.native.searchLocations=${user.dir}/src/main/resources/configs`\r\n\r\nAnd I have a file &quot;bar.properties&quot; inside &quot;configs&quot; with the following contents:\r\n\r\n    foo: bar\r\n\r\nBut the response I get is not reading the file:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;bar&quot;,\r\n      &quot;profiles&quot;: [\r\n        &quot;default&quot;\r\n      ],\r\n      &quot;label&quot;: &quot;master&quot;,\r\n      &quot;propertySources&quot;: []\r\n    }\r\n\r\nThe URL I&#39;m using is http://localhost:8888/bar/default\r\n\r\nAm I missing something else? Thanks again in advance!\r\n","title":"Using Spring Cloud Config without Git repo","body":"<p>Is it possible to use Spring Cloud Config without using any Git repo at all? I'm trying to test it with a local directory with this in application.properties:</p>\n\n<p><code>spring.cloud.config.server.git.uri=file://${user.dir}/src/main/resources/config-repo</code></p>\n\n<p>But I get the following error:</p>\n\n<p>java.lang.IllegalStateException: No .git at file://path/to/src/main/resources/config-repo</p>\n\n<p>So is it not possible to use Spring Cloud if one is not using Git at all?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Thanks to Spencer's advice, I added the following:</p>\n\n<p><code>spring.profiles.active=native\nspring.cloud.config.server.native.searchLocations=${user.dir}/src/main/resources/configs</code></p>\n\n<p>And I have a file \"bar.properties\" inside \"configs\" with the following contents:</p>\n\n<pre><code>foo: bar\n</code></pre>\n\n<p>But the response I get is not reading the file:</p>\n\n<pre><code>{\n  \"name\": \"bar\",\n  \"profiles\": [\n    \"default\"\n  ],\n  \"label\": \"master\",\n  \"propertySources\": []\n}\n</code></pre>\n\n<p>The URL I'm using is <a href=\"http://localhost:8888/bar/default\" rel=\"noreferrer\">http://localhost:8888/bar/default</a></p>\n\n<p>Am I missing something else? Thanks again in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689921531,"post_id":76733048,"comment_id":135284187,"body_markdown":"You register it twice yourself. Either ditch the `@Bean` method or remove the `WebMmcRegistrations`. You don&#39;t need both.","body":"You register it twice yourself. Either ditch the <code>@Bean</code> method or remove the <code>WebMmcRegistrations</code>. You don&#39;t need both."}],"owner":{"account_id":17509928,"reputation":31,"user_id":12698239,"display_name":"icehead"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689880189,"creation_date":1689880189,"question_id":76733048,"body_markdown":"I have difficulties with a simple Spring Boot configuration. One of the beans is being instantiated twice and the config overall looks non-optimal, especially in adding interceptors part (although it works fine).\r\n\r\nIntro:\r\n1. ApiHandlerMapping class inherits RequestMappingHandlerMapping. Some of the logic relies on .getHandlerMethods() call on this bean.\r\n2. CustomResourceHandler implements HandlerInterceptor interface.\r\n\r\nConfig looks like this:\r\n\r\n```\r\n@Configuration\r\npublic class Config implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(\r\n\t\tcustomResourceHandler(apiHandlerMapping(dataProvider(apiProperties()), apiProperties()),\r\n\t\tapiProperties()));\r\n    }\r\n\r\n        @Bean\r\n        @ConfigurationProperties\r\n    public ApiProperties apiProperties() {\r\n        return new ApiProperties();\r\n    }\r\n\t\r\n\t@Bean\r\n    public DataProvider dataProvider(ApiProperties apiProperties) {\r\n        return new DataProvider(apiProperties);\r\n    }\r\n\r\n\t@Bean\r\n\tpublic ApiHandlerMapping apiHandlerMapping(DataProvider dataProvider, ApiProperties apiProperties) {\r\n        return new ApiVersionHandlerMapping(dataProvider, apiProperties);\r\n    }\r\n\t\r\n\t@Bean\r\n    public CustomResourceHandler customResourceHandler(ApiHandlerMapping apiHandlerMapping,\r\n                                                               ApiProperties apiProperties) {\r\n        return new CustomResourceHandler(apiHandlerMapping, apiProperties);\r\n    }\r\n\r\n\t@Bean\r\n    public WebMvcRegistrations apiVersions(DataProvider dataProvider, ApiProperties apiProperties) {\r\n        return new WebMvcRegistrations() {\r\n            @Override\r\n            public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\r\n                return new ApiVersionHandlerMapping(dataProvider, apiProperties);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nIs there a chance to refactor this config to instantiate ApiHandlerMapping only once and have a neat and nice interceptor injection?\r\nIs it a better option to extend DelegatingWebMvcConfiguration and override RequestMappingHandlerMapping there to not to implement WebMvcConfigurer?\r\n\r\nApiVersionHandlerMapping is being instantiated at least 2 times here, even though everything works fine.\r\nI&#39;ve tried to eliminate one of the instantiation points by:\r\n\r\n```\r\n    @Bean\r\n    public WebMvcRegistrations apiVersions(ApiHandlerMapping apiHandlerMapping) {\r\n        return new WebMvcRegistrations() {\r\n            @Override\r\n            public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\r\n                return apiHandlerMapping;\r\n            }\r\n        };\r\n    }\r\n```\r\n, but got &quot;ambiguous handler methods mapping&quot; error for each of the test endpoints, which are basically &quot;/test-url/a&quot;, &quot;/test-url/b&quot;, so they don&#39;t intersect.","title":"Can&#39;t replace default RequestMappingHandlerMapping properly","body":"<p>I have difficulties with a simple Spring Boot configuration. One of the beans is being instantiated twice and the config overall looks non-optimal, especially in adding interceptors part (although it works fine).</p>\n<p>Intro:</p>\n<ol>\n<li>ApiHandlerMapping class inherits RequestMappingHandlerMapping. Some of the logic relies on .getHandlerMethods() call on this bean.</li>\n<li>CustomResourceHandler implements HandlerInterceptor interface.</li>\n</ol>\n<p>Config looks like this:</p>\n<pre><code>@Configuration\npublic class Config implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(\n        customResourceHandler(apiHandlerMapping(dataProvider(apiProperties()), apiProperties()),\n        apiProperties()));\n    }\n\n        @Bean\n        @ConfigurationProperties\n    public ApiProperties apiProperties() {\n        return new ApiProperties();\n    }\n    \n    @Bean\n    public DataProvider dataProvider(ApiProperties apiProperties) {\n        return new DataProvider(apiProperties);\n    }\n\n    @Bean\n    public ApiHandlerMapping apiHandlerMapping(DataProvider dataProvider, ApiProperties apiProperties) {\n        return new ApiVersionHandlerMapping(dataProvider, apiProperties);\n    }\n    \n    @Bean\n    public CustomResourceHandler customResourceHandler(ApiHandlerMapping apiHandlerMapping,\n                                                               ApiProperties apiProperties) {\n        return new CustomResourceHandler(apiHandlerMapping, apiProperties);\n    }\n\n    @Bean\n    public WebMvcRegistrations apiVersions(DataProvider dataProvider, ApiProperties apiProperties) {\n        return new WebMvcRegistrations() {\n            @Override\n            public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\n                return new ApiVersionHandlerMapping(dataProvider, apiProperties);\n            }\n        };\n    }\n</code></pre>\n<p>Is there a chance to refactor this config to instantiate ApiHandlerMapping only once and have a neat and nice interceptor injection?\nIs it a better option to extend DelegatingWebMvcConfiguration and override RequestMappingHandlerMapping there to not to implement WebMvcConfigurer?</p>\n<p>ApiVersionHandlerMapping is being instantiated at least 2 times here, even though everything works fine.\nI've tried to eliminate one of the instantiation points by:</p>\n<pre><code>    @Bean\n    public WebMvcRegistrations apiVersions(ApiHandlerMapping apiHandlerMapping) {\n        return new WebMvcRegistrations() {\n            @Override\n            public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\n                return apiHandlerMapping;\n            }\n        };\n    }\n</code></pre>\n<p>, but got &quot;ambiguous handler methods mapping&quot; error for each of the test endpoints, which are basically &quot;/test-url/a&quot;, &quot;/test-url/b&quot;, so they don't intersect.</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1689874229,"post_id":76732246,"comment_id":135278576,"body_markdown":"Thread safety is not only about avoiding race conditions. You have multiple threads (no matter by who created) that calls same class. That class have some fields and multiple threads write and read them in parallel. If the class is nit synchronized in some way, it easily could end up in one thread reading fields written by another one","body":"Thread safety is not only about avoiding race conditions. You have multiple threads (no matter by who created) that calls same class. That class have some fields and multiple threads write and read them in parallel. If the class is nit synchronized in some way, it easily could end up in one thread reading fields written by another one"},{"owner":{"account_id":16855267,"reputation":91,"user_id":12187278,"display_name":"Miguel gramacho"},"score":0,"creation_date":1689887521,"post_id":76732246,"comment_id":135280963,"body_markdown":"I see, its not tied to spring webflux or web for instance, but rather how we set mutable state that is available  for changes in the heap","body":"I see, its not tied to spring webflux or web for instance, but rather how we set mutable state that is available  for changes in the heap"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689879732,"creation_date":1689879163,"answer_id":76732930,"question_id":76732246,"body_markdown":"Assuming the [`HmacUtils`][1] from the Apache Commons Codec project, the documentation states the following (emphasis is mine).\r\n\r\n&gt; This class is immutable and thread-safe. **However the Mac may not be.**\r\n\r\nSo the `HmacUtils` itself is thread-safe, going by this message this can only mean that the `Mac` you are using isn&#39;t. By default it will use the ones from the Crypto library from the JDK. And I believe that the MD5 digest in there is, indeed, not thread-safe. \r\n\r\n**NOTE:** I had a quick look and the MD5 from the standard library is keeping state, which is modified/worked on in the MD5. So multiple threads shouldn&#39;t share a single MD5 instance I think. \r\n\r\nYou might try to use the MD5 from the Bouncy Castle library which might be thread-safe. \r\n\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/HmacUtils.html","title":"Race Condition in Spring WebFlux","body":"<p>Assuming the <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/HmacUtils.html\" rel=\"nofollow noreferrer\"><code>HmacUtils</code></a> from the Apache Commons Codec project, the documentation states the following (emphasis is mine).</p>\n<blockquote>\n<p>This class is immutable and thread-safe. <strong>However the Mac may not be.</strong></p>\n</blockquote>\n<p>So the <code>HmacUtils</code> itself is thread-safe, going by this message this can only mean that the <code>Mac</code> you are using isn't. By default it will use the ones from the Crypto library from the JDK. And I believe that the MD5 digest in there is, indeed, not thread-safe.</p>\n<p><strong>NOTE:</strong> I had a quick look and the MD5 from the standard library is keeping state, which is modified/worked on in the MD5. So multiple threads shouldn't share a single MD5 instance I think.</p>\n<p>You might try to use the MD5 from the Bouncy Castle library which might be thread-safe.</p>\n"}],"owner":{"account_id":16855267,"reputation":91,"user_id":12187278,"display_name":"Miguel gramacho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689879732,"creation_date":1689873327,"question_id":76732246,"body_markdown":"I have a class that declares HmacUtils as following:\r\n\r\n`public static final HmacUtils HMAC_UTILS = new HmacUtils(HmacAlgorithms.HMAC_MD5, &quot;secret&quot;);`\r\n\r\nAnd then one of the methods of my class uses the `HMAC_UTILS.hmacHex` method.\r\n\r\nI have identified a flaky test that relates to this. For the same inputs to `hmacHex` the assertions fail because sometimes the value returned from the method differs from the expectation.\r\nThis caused me to think about race conditions. Making the method that calls `hmacHex` **synchronized** solved the issue, meaning that there are no more flaky tests.\r\n\r\nHow can it be that some underlying netty threads ended up in a race condition? From my understanding I should not be worried about race conditions with spring webflux since I&#39;m not managing/creating threads myself.\r\n\r\nI expect that working with spring webflux when I&#39;m not directly managing threads should not make my think about thread-safety.","title":"Race Condition in Spring WebFlux","body":"<p>I have a class that declares HmacUtils as following:</p>\n<p><code>public static final HmacUtils HMAC_UTILS = new HmacUtils(HmacAlgorithms.HMAC_MD5, &quot;secret&quot;);</code></p>\n<p>And then one of the methods of my class uses the <code>HMAC_UTILS.hmacHex</code> method.</p>\n<p>I have identified a flaky test that relates to this. For the same inputs to <code>hmacHex</code> the assertions fail because sometimes the value returned from the method differs from the expectation.\nThis caused me to think about race conditions. Making the method that calls <code>hmacHex</code> <strong>synchronized</strong> solved the issue, meaning that there are no more flaky tests.</p>\n<p>How can it be that some underlying netty threads ended up in a race condition? From my understanding I should not be worried about race conditions with spring webflux since I'm not managing/creating threads myself.</p>\n<p>I expect that working with spring webflux when I'm not directly managing threads should not make my think about thread-safety.</p>\n"},{"tags":["java","date","time","format","simpledateformat"],"comments":[{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":95,"creation_date":1323197267,"post_id":8405087,"comment_id":10379264,"body_markdown":"It&#39;s [ISO 8601](http://en.wikipedia.org/wiki/ISO_8601)","body":"It&#39;s <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>"},{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":8,"creation_date":1431165221,"post_id":8405087,"comment_id":48385938,"body_markdown":"ISO8601 doe allow a Z at the end. See the link above, look for UTC.","body":"ISO8601 doe allow a Z at the end. See the link above, look for UTC."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":8,"creation_date":1516141608,"post_id":8405087,"comment_id":83566707,"body_markdown":"@t1gor The `Z` at the end is short for `Zulu` and means [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time). This format most certainly *is* part of the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) collection of standard date-time text formats. By the way, these standard formats are used by default in the *java.time* classes.","body":"@t1gor The <code>Z</code> at the end is short for <code>Zulu</code> and means <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>. This format most certainly <i>is</i> part of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> collection of standard date-time text formats. By the way, these standard formats are used by default in the <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1517507181,"post_id":8405087,"comment_id":84133831,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667954532,"post_id":8405087,"comment_id":131290327,"body_markdown":"Related: [*How to get the date and time in format 2022-10-03T19:45:47.844Z in Java*](https://stackoverflow.com/q/74356407/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/74356407/642706\"><i>How to get the date and time in format 2022-10-03T19:45:47.844Z in Java</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":2269480,"reputation":71,"user_id":1997292,"display_name":"user1997292"},"score":0,"creation_date":1453974948,"post_id":8405121,"comment_id":57839393,"body_markdown":"Is this &quot;2016-01-27T17:44:55UTC&quot;, ISO8601 too ?","body":"Is this &quot;2016-01-27T17:44:55UTC&quot;, ISO8601 too ?"},{"owner":{"account_id":64845,"reputation":13917,"user_id":191215,"accept_rate":56,"display_name":"smparkes"},"score":0,"creation_date":1453988500,"post_id":8405121,"comment_id":57848801,"body_markdown":"I don&#39;t believe so. It&#39;s close but _UTC_ as a suffix isn&#39;t allowed. It has to be Z or a time zone offset, e.g., +0100. Z and UTC have the same meaning, though, so changing the _UTC_ to _Z_ would yield valid ISO 8601.","body":"I don&#39;t believe so. It&#39;s close but <i>UTC</i> as a suffix isn&#39;t allowed. It has to be Z or a time zone offset, e.g., +0100. Z and UTC have the same meaning, though, so changing the <i>UTC</i> to <i>Z</i> would yield valid ISO 8601."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682020708,"post_id":8405121,"comment_id":134154388,"body_markdown":"@user1997292 No. In ISO 8601 UTC can be indicated as `Z`, `+00:00`, `+0000` or `+00`.","body":"@user1997292 No. In ISO 8601 UTC can be indicated as <code>Z</code>, <code>+00:00</code>, <code>+0000</code> or <code>+00</code>."}],"tags":[],"owner":{"account_id":64845,"reputation":13917,"user_id":191215,"accept_rate":56,"display_name":"smparkes"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1323197319,"creation_date":1323197319,"answer_id":8405121,"question_id":8405087,"body_markdown":"Not sure about the Java parsing, but that&#39;s ISO8601: http://en.wikipedia.org/wiki/ISO_8601","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>Not sure about the Java parsing, but that's ISO8601: <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/ISO_8601</a></p>\n"},{"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":16,"creation_date":1433318244,"post_id":8405125,"comment_id":49294845,"body_markdown":"Why do we need the single quotes around `T` and `Z`?","body":"Why do we need the single quotes around <code>T</code> and <code>Z</code>?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":13,"creation_date":1433319787,"post_id":8405125,"comment_id":49295772,"body_markdown":"@MarounMaroun: Basically we want those *literal* characters. It may not be necessary for `T` (I can&#39;t remember how SimpleDateFormat handles unknown specifiers) but for `Z` we want it to be the character &#39;Z&#39; rather than &quot;a UTC offset value&quot; (e.g. &quot;00&quot;).","body":"@MarounMaroun: Basically we want those <i>literal</i> characters. It may not be necessary for <code>T</code> (I can&#39;t remember how SimpleDateFormat handles unknown specifiers) but for <code>Z</code> we want it to be the character &#39;Z&#39; rather than &quot;a UTC offset value&quot; (e.g. &quot;00&quot;)."},{"owner":{"account_id":965965,"reputation":391,"user_id":989383,"display_name":"user989383"},"score":0,"creation_date":1453448479,"post_id":8405125,"comment_id":57614505,"body_markdown":"java.lang.IllegalArgumentException: Illegal pattern character &#39;T&#39;                       If you don&#39;t use single quotes around T or Z  SimpleDateFormat throws this exception.","body":"java.lang.IllegalArgumentException: Illegal pattern character &#39;T&#39;                       If you don&#39;t use single quotes around T or Z  SimpleDateFormat throws this exception."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1453448515,"post_id":8405125,"comment_id":57614521,"body_markdown":"@user989383: Are you sure you quoted it as I did (with the apostrophes)? It should be absolutely fine.","body":"@user989383: Are you sure you quoted it as I did (with the apostrophes)? It should be absolutely fine."},{"owner":{"account_id":5705595,"reputation":6905,"user_id":4509268,"accept_rate":94,"display_name":"Jad Chahine"},"score":0,"creation_date":1474483264,"post_id":8405125,"comment_id":66553740,"body_markdown":"@JonSkeet: Hi John, I have this date and I wish to get a pattern of this date to convert it to another format :`2017-03-10T06:00:00.000+11:00` PLEASE HELP","body":"@JonSkeet: Hi John, I have this date and I wish to get a pattern of this date to convert it to another format :<code>2017-03-10T06:00:00.000+11:00</code> PLEASE HELP"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1474483314,"post_id":8405125,"comment_id":66553763,"body_markdown":"@JadChahine: So have you done a search for questions about converting date/time values from one format to another? There are *hundreds* (if not thousands) of similar questions on SO.","body":"@JadChahine: So have you done a search for questions about converting date/time values from one format to another? There are <i>hundreds</i> (if not thousands) of similar questions on SO."},{"owner":{"account_id":5705595,"reputation":6905,"user_id":4509268,"accept_rate":94,"display_name":"Jad Chahine"},"score":0,"creation_date":1474483423,"post_id":8405125,"comment_id":66553811,"body_markdown":"@JonSkeet: Yes really i search a lot but I don&#39;t found a format that takes into account the last characters of this date format which is `+11:00`","body":"@JonSkeet: Yes really i search a lot but I don&#39;t found a format that takes into account the last characters of this date format which is <code>+11:00</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1474483686,"post_id":8405125,"comment_id":66553965,"body_markdown":"@JadChahine: Well that&#39;s the offset from UTC. So look in the documentation for `SImpleDateFormat`... and then you need to work out which time zone you&#39;re actually interested in.","body":"@JadChahine: Well that&#39;s the offset from UTC. So look in the documentation for <code>SImpleDateFormat</code>... and then you need to work out which time zone you&#39;re actually interested in."},{"owner":{"account_id":8493479,"reputation":7117,"user_id":6381711,"display_name":"nyedidikeke"},"score":0,"creation_date":1478950082,"post_id":8405125,"comment_id":68361704,"body_markdown":"Point of correction please *(for clarity)*: the ***Z*** is the zone designator for the *zero **UTC** offset* and does not means ***&quot;Zulu time&quot;***. Reference is made to [***Zulu time***](https://en.wikipedia.org/wiki/List_of_military_time_zones) as ***Zulu*** is the [***NATO phonetic alphabet***](https://en.wikipedia.org/wiki/NATO_phonetic_alphabet) word for letter [***Z***](https://en.wikipedia.org/wiki/Z) *(26th letter of the English alphabet)*.","body":"Point of correction please <i>(for clarity)</i>: the <b><i>Z</i></b> is the zone designator for the <i>zero <b>UTC</b> offset</i> and does not means <b><i>&quot;Zulu time&quot;</i></b>. Reference is made to <a href=\"https://en.wikipedia.org/wiki/List_of_military_time_zones\" rel=\"nofollow noreferrer\"><b><i>Zulu time</i></b></a> as <b><i>Zulu</i></b> is the <a href=\"https://en.wikipedia.org/wiki/NATO_phonetic_alphabet\" rel=\"nofollow noreferrer\"><b><i>NATO phonetic alphabet</i></b></a> word for letter <a href=\"https://en.wikipedia.org/wiki/Z\" rel=\"nofollow noreferrer\"><b><i>Z</i></b></a> <i>(26th letter of the English alphabet)</i>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1478989349,"post_id":8405125,"comment_id":68373201,"body_markdown":"@nyedidikeke: In the Wikipedia page you linked to, it shows &quot;Zulu time zone&quot; for UTC. I&#39;m not sure what you believe you&#39;re correcting.","body":"@nyedidikeke: In the Wikipedia page you linked to, it shows &quot;Zulu time zone&quot; for UTC. I&#39;m not sure what you believe you&#39;re correcting."},{"owner":{"account_id":8493479,"reputation":7117,"user_id":6381711,"display_name":"nyedidikeke"},"score":11,"creation_date":1478994918,"post_id":8405125,"comment_id":68374527,"body_markdown":"@JonSkeet: it may generate an unnecessary debate; not disputing your answer but intended to draw attention the ***Z*** which got its letter initial from &quot;zero UTC offset&quot;. Letter Z is referred to as &quot;Zulu&quot; in the **NATO phonetic alphabet**. In turns, the military approach to refer to the zero UTC offset is anchored on letter Z which they identify as Zulu, earning it their coded name: Zulu time zone. It is important to note that the Z has not lost its meaning and still is the zone designator for the zero UTC offset as Zulu time zone (from Z) is simply an inherited coded language to refer to it.","body":"@JonSkeet: it may generate an unnecessary debate; not disputing your answer but intended to draw attention the <b><i>Z</i></b> which got its letter initial from &quot;zero UTC offset&quot;. Letter Z is referred to as &quot;Zulu&quot; in the <b>NATO phonetic alphabet</b>. In turns, the military approach to refer to the zero UTC offset is anchored on letter Z which they identify as Zulu, earning it their coded name: Zulu time zone. It is important to note that the Z has not lost its meaning and still is the zone designator for the zero UTC offset as Zulu time zone (from Z) is simply an inherited coded language to refer to it."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1479022965,"post_id":8405125,"comment_id":68379083,"body_markdown":"@nyedidikeke: I still disagree about whether anyone else is ever going to care about the distinction with reference to my answer, but I&#39;ve updated it. I&#39;m not going to go into all the detail though, as the history is broadly irrelevant to the answer.","body":"@nyedidikeke: I still disagree about whether anyone else is ever going to care about the distinction with reference to my answer, but I&#39;ve updated it. I&#39;m not going to go into all the detail though, as the history is broadly irrelevant to the answer."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1488458775,"post_id":8405125,"comment_id":72246072,"body_markdown":"You can test this date pattern online: http://dateformatter.danielhari.com/?p=yyyy-MM-dd%27T%27HH%3Amm%3Ass.SSS%27Z%27","body":"You can test this date pattern online: <a href=\"http://dateformatter.danielhari.com/?p=yyyy-MM-dd%27T%27HH%3Amm%3Ass.SSS%27Z%27\" rel=\"nofollow noreferrer\">dateformatter.danielhari.com/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1509943602,"post_id":8405125,"comment_id":81209644,"body_markdown":"Good Answer, but now outdated. The java.time classes supplant both the legacy date-classes bundled with the earliest versions of Java as well as the Joda-Time project.","body":"Good Answer, but now outdated. The java.time classes supplant both the legacy date-classes bundled with the earliest versions of Java as well as the Joda-Time project."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1509949536,"post_id":8405125,"comment_id":81211428,"body_markdown":"@Basil: Yes, but I&#39;m not going to go and edit every answer from years ago to use java.time. As the question specifically talks about Java 1.4, I think it stands reasonably to answer that specific question.","body":"@Basil: Yes, but I&#39;m not going to go and edit every answer from years ago to use java.time. As the question specifically talks about Java 1.4, I think it stands reasonably to answer that specific question."},{"owner":{"account_id":1909975,"reputation":6687,"user_id":1724059,"accept_rate":58,"display_name":"CodeBrew"},"score":0,"creation_date":1545153316,"post_id":8405125,"comment_id":94524179,"body_markdown":"Note that `setTimeZene` is very important as Z means the zero offset from this timezone.","body":"Note that <code>setTimeZene</code> is very important as Z means the zero offset from this timezone."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1545156254,"post_id":8405125,"comment_id":94525631,"body_markdown":"@CodeBrew: Not &quot;from this time zone&quot; but from UTC.","body":"@CodeBrew: Not &quot;from this time zone&quot; but from UTC."},{"owner":{"account_id":1909975,"reputation":6687,"user_id":1724059,"accept_rate":58,"display_name":"CodeBrew"},"score":0,"creation_date":1545188436,"post_id":8405125,"comment_id":94535870,"body_markdown":"@JonSkeet at first I didn&#39;t `setTimeZone` to UTC, then my date formatter converted a date string in the format like `2011-08-12T15:17:46.384Z` to `2011-08-12T20:17:46.384Z`, effectively thinking the original string I gave was in my own timezone (EST). Once I `setTimeZone` to UTC the converted result became correct. Of course I was using Swift, but the syntax is close to what you posted here. Could you try it in Java without `setTimeZone` and compare the difference? Thanks","body":"@JonSkeet at first I didn&#39;t <code>setTimeZone</code> to UTC, then my date formatter converted a date string in the format like <code>2011-08-12T15:17:46.384Z</code> to <code>2011-08-12T20:17:46.384Z</code>, effectively thinking the original string I gave was in my own timezone (EST). Once I <code>setTimeZone</code> to UTC the converted result became correct. Of course I was using Swift, but the syntax is close to what you posted here. Could you try it in Java without <code>setTimeZone</code> and compare the difference? Thanks"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1545202271,"post_id":8405125,"comment_id":94539461,"body_markdown":"@CodeBrew: I wasn&#39;t saying that the call to `setTimeZone` wasn&#39;t required. It absolutely is. I&#39;m saying that Z doesn&#39;t mean &quot;the zero offset from this time zone&quot; - it means &quot;UTC&quot; (or &quot;zero offset from UTC&quot; if you want).","body":"@CodeBrew: I wasn&#39;t saying that the call to <code>setTimeZone</code> wasn&#39;t required. It absolutely is. I&#39;m saying that Z doesn&#39;t mean &quot;the zero offset from this time zone&quot; - it means &quot;UTC&quot; (or &quot;zero offset from UTC&quot; if you want)."},{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1676446142,"post_id":8405125,"comment_id":133136040,"body_markdown":"2023-02-14T17:53:01.4447335 &lt;- I have this time, does anyone know which format is this ? , no z at the end but accurate to more milliseconds","body":"2023-02-14T17:53:01.4447335 &lt;- I have this time, does anyone know which format is this ? , no z at the end but accurate to more milliseconds"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676446903,"post_id":8405125,"comment_id":133136206,"body_markdown":"@SithijaPiyumanThewaHettige: Please don&#39;t use comment threads to get answers to new questions.","body":"@SithijaPiyumanThewaHettige: Please don&#39;t use comment threads to get answers to new questions."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":21,"down_vote_count":1,"up_vote_count":743,"is_accepted":true,"score":742,"last_activity_date":1557501465,"creation_date":1323197350,"answer_id":8405125,"question_id":8405087,"body_markdown":"The T is just a literal to separate the date from the time, and the Z means &quot;zero hour offset&quot; also known as &quot;Zulu time&quot; (UTC). If your strings *always* have a &quot;Z&quot; you can use:\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(\r\n        &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.US);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\nOr using [Joda Time][1], you can use [`ISODateTimeFormat.dateTime()`][2].\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/\r\n  [2]: https://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime--","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>The T is just a literal to separate the date from the time, and the Z means \"zero hour offset\" also known as \"Zulu time\" (UTC). If your strings <em>always</em> have a \"Z\" you can use:</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\n    \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", Locale.US);\nformat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n</code></pre>\n\n<p>Or using <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda Time</a>, you can use <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime--\" rel=\"noreferrer\"><code>ISODateTimeFormat.dateTime()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1509942947,"post_id":36798830,"comment_id":81209505,"body_markdown":"@star The “Zulu” comes from military and aviation tradition where 25 letters of the alphabet A-Z (no &quot;J&quot;), each letter having a pronounceable name, represents [their version of time zones](https://en.wikipedia.org/wiki/List_of_military_time_zones). The &quot;Zulu&quot; zone is zero hours offset from UTC. See [this](https://www.timeanddate.com/time/zones/z) and [this](https://en.wikipedia.org/w/index.php?title=Coordinated_Universal_Time&amp;mobileaction=toggle_view_desktop#Time_zones).","body":"@star The “Zulu” comes from military and aviation tradition where 25 letters of the alphabet A-Z (no &quot;J&quot;), each letter having a pronounceable name, represents <a href=\"https://en.wikipedia.org/wiki/List_of_military_time_zones\" rel=\"nofollow noreferrer\">their version of time zones</a>. The &quot;Zulu&quot; zone is zero hours offset from UTC. See <a href=\"https://www.timeanddate.com/time/zones/z\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://en.wikipedia.org/w/index.php?title=Coordinated_Universal_Time&amp;mobileaction=toggle_view_desktop#Time_zones\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":3517646,"reputation":1362,"user_id":2940677,"display_name":"Faisal"},"score":0,"creation_date":1633349211,"post_id":36798830,"comment_id":122727834,"body_markdown":"the LocalDateTime.parse(&quot;2021-11-22T09:00:00.000Z&quot;) throws exception  while parsing. Any suggestion, how to format the same input using `java.time` to format to &quot;EEEE, MMMM dd&quot;? thanks.","body":"the LocalDateTime.parse(&quot;2021-11-22T09:00:00.000Z&quot;) throws exception  while parsing. Any suggestion, how to format the same input using <code>java.time</code> to format to &quot;EEEE, MMMM dd&quot;? thanks."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1633365839,"post_id":36798830,"comment_id":122735185,"body_markdown":"@Faisal Your attempt to parse a moment (a date with time and offset) as  a `LocalDateTime` is illogical. A `LocalDateTime` is not a moment, not a specific point on the timeline, because it has no concept of an offset-from-UTC nor time zone. Your input should be parsed as an `Instant`, like this: `Instant.parse(&quot;2021-11-22T09:00:00.000Z&quot;)`.","body":"@Faisal Your attempt to parse a moment (a date with time and offset) as  a <code>LocalDateTime</code> is illogical. A <code>LocalDateTime</code> is not a moment, not a specific point on the timeline, because it has no concept of an offset-from-UTC nor time zone. Your input should be parsed as an <code>Instant</code>, like this: <code>Instant.parse(&quot;2021-11-22T09:00:00.000Z&quot;)</code>."},{"owner":{"account_id":3517646,"reputation":1362,"user_id":2940677,"display_name":"Faisal"},"score":0,"creation_date":1633514585,"post_id":36798830,"comment_id":122777800,"body_markdown":"Make sense. Can an Instance be parsed to expected format?","body":"Make sense. Can an Instance be parsed to expected format?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1633533974,"post_id":36798830,"comment_id":122786388,"body_markdown":"@Faisal Apply a time zone (`ZoneId`) through which you want to perceive a date. This gets you a `ZonedDateTime`. Extract from that a `LocalDate`. Use a `DateTimeFormatter` to generate text in any format you desire, or automatically localize. All that has been covered many times already on Stack Overflow.","body":"@Faisal Apply a time zone (<code>ZoneId</code>) through which you want to perceive a date. This gets you a <code>ZonedDateTime</code>. Extract from that a <code>LocalDate</code>. Use a <code>DateTimeFormatter</code> to generate text in any format you desire, or automatically localize. All that has been covered many times already on Stack Overflow."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":1,"up_vote_count":186,"is_accepted":false,"score":185,"last_activity_date":1594935667,"creation_date":1461342039,"answer_id":36798830,"question_id":8405087,"body_markdown":"# tl;dr\r\n\r\nStandard [**ISO 8601**][1] format is used by your input string.\r\n\r\n\r\n    Instant.parse ( &quot;2011-08-12T20:17:46.384Z&quot; ) \r\n\r\n\r\n# ISO 8601\r\n\r\nThis format is defined by the sensible practical standard, [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).\r\n\r\nThe `T` separates the date portion from the time-of-day portion. The `Z` on the end means [UTC][2] (that is, an offset-from-UTC of zero hours-minutes-seconds). The `Z` is [pronounced “Zulu”][3]. \r\n\r\n# java.time\r\n\r\nThe old date-time classes bundled with the earliest versions of Java have proven to be poorly designed, confusing, and troublesome. Avoid them.\r\n\r\nInstead, use the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework built into Java 8 and later. The java.time classes supplant both the old date-time classes and the highly successful Joda-Time library. \r\n\r\nThe java.time classes use [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) by default when parsing/generating textual representations of date-time values.\r\n\r\nThe [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond). That class can directly parse your input string without bothering to define a formatting pattern. \r\n\r\n    Instant instant = Instant.parse ( &quot;2011-08-12T20:17:46.384Z&quot; ) ;\r\n\r\n\r\n----------\r\n\r\n[![Table of date-time types in Java, both modern and legacy][4]][4]\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][5]][5]\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones\r\n  [4]: https://i.stack.imgur.com/p0TgD.png\r\n  [5]: https://i.stack.imgur.com/Sksw9.png","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<h1>tl;dr</h1>\n<p>Standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\"><strong>ISO 8601</strong></a> format is used by your input string.</p>\n<pre><code>Instant.parse ( &quot;2011-08-12T20:17:46.384Z&quot; ) \n</code></pre>\n<h1>ISO 8601</h1>\n<p>This format is defined by the sensible practical standard, <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a>.</p>\n<p>The <code>T</code> separates the date portion from the time-of-day portion. The <code>Z</code> on the end means <a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> (that is, an offset-from-UTC of zero hours-minutes-seconds). The <code>Z</code> is <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones\" rel=\"noreferrer\">pronounced “Zulu”</a>.</p>\n<h1>java.time</h1>\n<p>The old date-time classes bundled with the earliest versions of Java have proven to be poorly designed, confusing, and troublesome. Avoid them.</p>\n<p>Instead, use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8 and later. The java.time classes supplant both the old date-time classes and the highly successful Joda-Time library.</p>\n<p>The java.time classes use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> by default when parsing/generating textual representations of date-time values.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>. That class can directly parse your input string without bothering to define a formatting pattern.</p>\n<pre><code>Instant instant = Instant.parse ( &quot;2011-08-12T20:17:46.384Z&quot; ) ;\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/p0TgD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p0TgD.png\" alt=\"Table of date-time types in Java, both modern and legacy\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7272263,"reputation":400,"user_id":6845273,"display_name":"VeryLazyBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1524816644,"creation_date":1524816644,"answer_id":50058068,"question_id":8405087,"body_markdown":"There are other ways to parse it rather than the first answer. To parse it:&lt;br&gt;&lt;br&gt;\r\n(1) If you want to grab information about date and time, you can parse it to a `ZonedDatetime`(since **Java 8**) or `Date`(old) object:\r\n\r\n    // ZonedDateTime&#39;s default format requires a zone ID(like [Australia/Sydney]) in the end.\r\n    // Here, we provide a format which can parse the string correctly.\r\n    DateTimeFormatter dtf = DateTimeFormatter.ISO_DATE_TIME;\r\n    ZonedDateTime zdt = ZonedDateTime.parse(&quot;2011-08-12T20:17:46.384Z&quot;, dtf);\r\n\r\nor\r\n\r\n    // &#39;T&#39; is a literal.\r\n    // &#39;X&#39; is ISO Zone Offset[like +01, -08]; For UTC, it is interpreted as &#39;Z&#39;(Zero) literal.\r\n    String pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;;\r\n    \r\n    // since no built-in format, we provides pattern directly.\r\n    DateFormat df = new SimpleDateFormat(pattern);\r\n\r\n    Date myDate = df.parse(&quot;2011-08-12T20:17:46.384Z&quot;);\r\n\r\n(2) If you don&#39;t care the date and time and just want to treat the information as a moment in nanoseconds, then you can use `Instant`:\r\n\r\n    // The ISO format without zone ID is Instant&#39;s default.\r\n    // There is no need to pass any format.\r\n    Instant ins = Instant.parse(&quot;2011-08-12T20:17:46.384Z&quot;);","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>There are other ways to parse it rather than the first answer. To parse it:<br><br>\n(1) If you want to grab information about date and time, you can parse it to a <code>ZonedDatetime</code>(since <strong>Java 8</strong>) or <code>Date</code>(old) object:</p>\n\n<pre><code>// ZonedDateTime's default format requires a zone ID(like [Australia/Sydney]) in the end.\n// Here, we provide a format which can parse the string correctly.\nDateTimeFormatter dtf = DateTimeFormatter.ISO_DATE_TIME;\nZonedDateTime zdt = ZonedDateTime.parse(\"2011-08-12T20:17:46.384Z\", dtf);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// 'T' is a literal.\n// 'X' is ISO Zone Offset[like +01, -08]; For UTC, it is interpreted as 'Z'(Zero) literal.\nString pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSX\";\n\n// since no built-in format, we provides pattern directly.\nDateFormat df = new SimpleDateFormat(pattern);\n\nDate myDate = df.parse(\"2011-08-12T20:17:46.384Z\");\n</code></pre>\n\n<p>(2) If you don't care the date and time and just want to treat the information as a moment in nanoseconds, then you can use <code>Instant</code>:</p>\n\n<pre><code>// The ISO format without zone ID is Instant's default.\n// There is no need to pass any format.\nInstant ins = Instant.parse(\"2011-08-12T20:17:46.384Z\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1569303448,"post_id":54089674,"comment_id":102542320,"body_markdown":"You should not be putting apostrophes around the `Z`. That means to expect but ignore that letter. But that letter should not be ignored. That letter provides valuable information, the fact that the string was intended for UTC, an offset of zero. Your format is discarding this important fact. Furthermore, there is no need to even bother defining this formatting pattern. A formatter for this pattern is built in.","body":"You should not be putting apostrophes around the <code>Z</code>. That means to expect but ignore that letter. But that letter should not be ignored. That letter provides valuable information, the fact that the string was intended for UTC, an offset of zero. Your format is discarding this important fact. Furthermore, there is no need to even bother defining this formatting pattern. A formatter for this pattern is built in."}],"tags":[],"owner":{"account_id":7773442,"reputation":17,"user_id":5882263,"display_name":"Salih Kesepara"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1546969615,"creation_date":1546942780,"answer_id":54089674,"question_id":8405087,"body_markdown":"You can use the following example.\r\n\r\n        String date = &quot;2011-08-12T20:17:46.384Z&quot;;\r\n        \r\n        String inputPattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;;\r\n        \r\n        String outputPattern = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n        \r\n        LocalDateTime inputDate = null;\r\n        String outputDate = null;\r\n        \r\n        \r\n        DateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(inputPattern, Locale.ENGLISH);\r\n        DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(outputPattern, Locale.ENGLISH);\r\n        \r\n        inputDate = LocalDateTime.parse(date, inputFormatter);\r\n        outputDate = outputFormatter.format(inputDate);\r\n        \r\n        System.out.println(&quot;inputDate: &quot; + inputDate);\r\n        System.out.println(&quot;outputDate: &quot; + outputDate);","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>You can use the following example.</p>\n\n<pre><code>    String date = \"2011-08-12T20:17:46.384Z\";\n\n    String inputPattern = \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\";\n\n    String outputPattern = \"yyyy-MM-dd HH:mm:ss\";\n\n    LocalDateTime inputDate = null;\n    String outputDate = null;\n\n\n    DateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(inputPattern, Locale.ENGLISH);\n    DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(outputPattern, Locale.ENGLISH);\n\n    inputDate = LocalDateTime.parse(date, inputFormatter);\n    outputDate = outputFormatter.format(inputDate);\n\n    System.out.println(\"inputDate: \" + inputDate);\n    System.out.println(\"outputDate: \" + outputDate);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1557415523,"post_id":56058635,"comment_id":98765566,"body_markdown":"Both `java.util.Date` and the *Joda-Time* project were supplanted years ago by the modern *java.time* classes defined in JSR 310. The advice here is long outdated.","body":"Both <code>java.util.Date</code> and the <i>Joda-Time</i> project were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310. The advice here is long outdated."},{"owner":{"account_id":9145391,"reputation":866,"user_id":6801819,"display_name":"Gapmeister66"},"score":0,"creation_date":1570198838,"post_id":56058635,"comment_id":102849136,"body_markdown":"java.time was introduced in Java 8. This question specifically references Java 1.4 and therefore I have deliberately avoided use of the newer classes. This solution caters for older code bases. I suppose the author could move his codebase to Java 8 but that is not always straightforward, efficient or necessary.","body":"java.time was introduced in Java 8. This question specifically references Java 1.4 and therefore I have deliberately avoided use of the newer classes. This solution caters for older code bases. I suppose the author could move his codebase to Java 8 but that is not always straightforward, efficient or necessary."}],"tags":[],"owner":{"account_id":9145391,"reputation":866,"user_id":6801819,"display_name":"Gapmeister66"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1557402085,"creation_date":1557402085,"answer_id":56058635,"question_id":8405087,"body_markdown":"This technique translates java.util.Date to UTC format (or any other) and back again.\r\n\r\nDefine a class like so:\r\n\r\n    import java.util.Date;\r\n\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.format.DateTimeFormat;\r\n    import org.joda.time.format.DateTimeFormatter;\r\n\r\n    public class UtcUtility {\r\n\r\n\tpublic static DateTimeFormatter UTC = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).withZoneUTC();\r\n   \r\n\r\n\tpublic static Date parse(DateTimeFormatter dateTimeFormatter, String date) {\r\n\t\treturn dateTimeFormatter.parseDateTime(date).toDate();\r\n\t}\r\n\r\n\tpublic static String format(DateTimeFormatter dateTimeFormatter, Date date) {\r\n\t\treturn format(dateTimeFormatter, date.getTime());\r\n\t}\r\n\r\n\tprivate static String format(DateTimeFormatter dateTimeFormatter, long timeInMillis) {\r\n\t\tDateTime dateTime = new DateTime(timeInMillis);\r\n\t\tString formattedString = dateTimeFormatter.print(dateTime);\r\n\t\treturn formattedString;\r\n\t}\r\n\r\n\r\n}\r\n\r\nThen use it like this:\r\n\r\n    Date date = format(UTC, &quot;2020-04-19T00:30:07.000Z&quot;)\r\n\r\nor\r\n\r\n    String date = parse(UTC, new Date())\r\n\r\nYou can also define other date formats if you require (not just UTC)\r\n","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>This technique translates java.util.Date to UTC format (or any other) and back again.</p>\n\n<p>Define a class like so:</p>\n\n<pre><code>import java.util.Date;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.format.DateTimeFormat;\nimport org.joda.time.format.DateTimeFormatter;\n\npublic class UtcUtility {\n\npublic static DateTimeFormatter UTC = DateTimeFormat.forPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\").withZoneUTC();\n\n\npublic static Date parse(DateTimeFormatter dateTimeFormatter, String date) {\n    return dateTimeFormatter.parseDateTime(date).toDate();\n}\n\npublic static String format(DateTimeFormatter dateTimeFormatter, Date date) {\n    return format(dateTimeFormatter, date.getTime());\n}\n\nprivate static String format(DateTimeFormatter dateTimeFormatter, long timeInMillis) {\n    DateTime dateTime = new DateTime(timeInMillis);\n    String formattedString = dateTimeFormatter.print(dateTime);\n    return formattedString;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Then use it like this:</p>\n\n<pre><code>Date date = format(UTC, \"2020-04-19T00:30:07.000Z\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>String date = parse(UTC, new Date())\n</code></pre>\n\n<p>You can also define other date formats if you require (not just UTC)</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1569581732,"post_id":58126175,"comment_id":102653057,"body_markdown":"This has already been asked and answered [here](https://stackoverflow.com/questions/52480189/parse-date-string-in-java) and [here](https://stackoverflow.com/questions/57325267/zoneddatetime-ignore-00-for-ss-part). And your solution is wrong. While `T` is a literal and needs to be quoted, `Z` is an offset (of zero) and needs to be parsed as such, or you will get wrong results. I don’t know what you mean that it hasn’t been anticipated, I believe that it has.","body":"This has already been asked and answered <a href=\"https://stackoverflow.com/questions/52480189/parse-date-string-in-java\">here</a> and <a href=\"https://stackoverflow.com/questions/57325267/zoneddatetime-ignore-00-for-ss-part\">here</a>. And your solution is wrong. While <code>T</code> is a literal and needs to be quoted, <code>Z</code> is an offset (of zero) and needs to be parsed as such, or you will get wrong results. I don’t know what you mean that it hasn’t been anticipated, I believe that it has."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1569603549,"post_id":58126175,"comment_id":102663893,"body_markdown":"No, no, no, do not ignore the `Z`. You are discarding valuable information. Processing a date-time value while ignoring time zone or offset-from-UTC is like processing an amount of money while ignoring currency!","body":"No, no, no, do not ignore the <code>Z</code>. You are discarding valuable information. Processing a date-time value while ignoring time zone or offset-from-UTC is like processing an amount of money while ignoring currency!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1569603737,"post_id":58126175,"comment_id":102663965,"body_markdown":"The `T` merely separates the date portion from the time-of-day portion, and adds no meaning. The `Z` on the other hand definitely adds meaning.","body":"The <code>T</code> merely separates the date portion from the time-of-day portion, and adds no meaning. The <code>Z</code> on the other hand definitely adds meaning."},{"owner":{"account_id":11821690,"reputation":129,"user_id":8650619,"display_name":"spencemw"},"score":0,"creation_date":1569630010,"post_id":58126175,"comment_id":102670894,"body_markdown":"Ole, thanks for the links.  Ill certainly read those.  And I accept that I certainly could be wrong as a youngin.   All Im saying is that wrapping the Z in single quotes like a char in the pattern solved the error.  My criticism is that whoever designed &quot;pattern&quot; part of the class could have coded around the presence or absence of &#39;Z&#39; (or a diff time zone?) and &#39;T&#39; being wraped in &#39; &#39; or not. Because they didnt its unique. The format Im dealing with comes from JSON from a commercial API parsed to a string.  But I need to parse all that into date time calendar etc to make them more useful.","body":"Ole, thanks for the links.  Ill certainly read those.  And I accept that I certainly could be wrong as a youngin.   All Im saying is that wrapping the Z in single quotes like a char in the pattern solved the error.  My criticism is that whoever designed &quot;pattern&quot; part of the class could have coded around the presence or absence of &#39;Z&#39; (or a diff time zone?) and &#39;T&#39; being wraped in &#39; &#39; or not. Because they didnt its unique. The format Im dealing with comes from JSON from a commercial API parsed to a string.  But I need to parse all that into date time calendar etc to make them more useful."}],"tags":[],"owner":{"account_id":11821690,"reputation":129,"user_id":8650619,"display_name":"spencemw"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1569543034,"creation_date":1569543034,"answer_id":58126175,"question_id":8405087,"body_markdown":"@John-Skeet gave me the clue to fix my own issue around this.  As a younger programmer this small issue is easy to miss and hard to diagnose.  So Im sharing it in the hopes it will help someone.  \r\n\r\nMy issue was that I wanted to parse the following string contraining a time stamp from a JSON I have no influence over and put it in more useful variables.  But I kept getting errors.  \r\n\r\nSo given the following (pay attention to the string parameter inside ofPattern(); \r\n\r\n    String str = &quot;20190927T182730.000Z&quot;\r\n\r\n    LocalDateTime fin;\r\n    fin = LocalDateTime.parse( str, DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss.SSSZ&quot;) );\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text \r\n    &#39;20190927T182730.000Z&#39; could not be parsed at index 19\r\n\r\nThe problem?  The Z at the end of the Pattern needs to be wrapped in &#39;Z&#39; just like the &#39;T&#39; is.  Change\r\n`&quot;yyyyMMdd&#39;T&#39;HHmmss.SSSZ&quot;` to  `&quot;yyyyMMdd&#39;T&#39;HHmmss.SSS&#39;Z&#39;&quot;` and it works.  \r\n\r\nRemoving the Z from the pattern alltogether also led to errors.\r\n\r\n\r\nFrankly, I&#39;d expect a Java class to have anticipated this.  ","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>@John-Skeet gave me the clue to fix my own issue around this.  As a younger programmer this small issue is easy to miss and hard to diagnose.  So Im sharing it in the hopes it will help someone.  </p>\n\n<p>My issue was that I wanted to parse the following string contraining a time stamp from a JSON I have no influence over and put it in more useful variables.  But I kept getting errors.  </p>\n\n<p>So given the following (pay attention to the string parameter inside ofPattern(); </p>\n\n<pre><code>String str = \"20190927T182730.000Z\"\n\nLocalDateTime fin;\nfin = LocalDateTime.parse( str, DateTimeFormatter.ofPattern(\"yyyyMMdd'T'HHmmss.SSSZ\") );\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException: Text \n'20190927T182730.000Z' could not be parsed at index 19\n</code></pre>\n\n<p>The problem?  The Z at the end of the Pattern needs to be wrapped in 'Z' just like the 'T' is.  Change\n<code>\"yyyyMMdd'T'HHmmss.SSSZ\"</code> to  <code>\"yyyyMMdd'T'HHmmss.SSS'Z'\"</code> and it works.  </p>\n\n<p>Removing the Z from the pattern alltogether also led to errors.</p>\n\n<p>Frankly, I'd expect a Java class to have anticipated this.  </p>\n"},{"tags":[],"owner":{"account_id":2255833,"reputation":2036,"user_id":1987045,"accept_rate":40,"display_name":"rahulrvp"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571130862,"creation_date":1571130862,"answer_id":58391187,"question_id":8405087,"body_markdown":"If you guys are looking for a solution for Android, you can use the following code to get the epoch seconds from the timestamp string.\r\n\r\n    public static long timestampToEpochSeconds(String srcTimestamp) {\r\n        long epoch = 0;\r\n\r\n        try {\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                Instant instant = Instant.parse(srcTimestamp);\r\n                epoch = instant.getEpochSecond();\r\n            } else {\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;hh:mm:ss.SSSSSS&#39;Z&#39;&quot;, Locale.getDefault());\r\n                sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n                Date date = sdf.parse(srcTimestamp);\r\n                if (date != null) {\r\n                    epoch = date.getTime() / 1000;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return epoch;\r\n    }\r\n\r\nSample input: 2019-10-15T05:51:31.537979Z\r\n\r\nSample output: 1571128673","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>If you guys are looking for a solution for Android, you can use the following code to get the epoch seconds from the timestamp string.</p>\n\n<pre><code>public static long timestampToEpochSeconds(String srcTimestamp) {\n    long epoch = 0;\n\n    try {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            Instant instant = Instant.parse(srcTimestamp);\n            epoch = instant.getEpochSecond();\n        } else {\n            SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'hh:mm:ss.SSSSSS'Z'\", Locale.getDefault());\n            sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n            Date date = sdf.parse(srcTimestamp);\n            if (date != null) {\n                epoch = date.getTime() / 1000;\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return epoch;\n}\n</code></pre>\n\n<p>Sample input: 2019-10-15T05:51:31.537979Z</p>\n\n<p>Sample output: 1571128673</p>\n"},{"tags":[],"owner":{"account_id":9723082,"reputation":21,"user_id":7211128,"display_name":"Firma 777"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621320922,"creation_date":1621320922,"answer_id":67581323,"question_id":8405087,"body_markdown":"In JavaScript\r\n=============\r\n\r\n    let isoDateTimeString = new Date().toISOString();\r\n\r\n**Description**\r\n\r\nDate/time format like &quot;YYYY-MM-DDThh:mm:ss.SSSZ&quot; is [ISO 8601][1] date/time format.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<h1>In JavaScript</h1>\n<pre><code>let isoDateTimeString = new Date().toISOString();\n</code></pre>\n<p><strong>Description</strong></p>\n<p>Date/time format like &quot;YYYY-MM-DDThh:mm:ss.SSSZ&quot; is <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> date/time format.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1689879573,"creation_date":1622645589,"answer_id":67807544,"question_id":8405087,"body_markdown":"# *java.time*\r\n\r\n**You do not need `DateTimeFormatter` to parse the given date-time string.**\r\n\r\n\r\nJava SE 8 Date-Time API(`java.time` API or the modern Date-Time API) is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and does not require using a `DateTimeFormatter` object explicitly as long as the Date-Time string conforms to the ISO 8601 standards.\r\n\r\nThe `Z` in the string is the [timezone designator](https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators) for zero-timezone offset. It stands for Zulu and specifies the `Etc/UTC` timezone (which has the timezone offset of `+00:00` hours).\r\n\r\nThe `T` in the string is just the [Date-Time separator](https://en.wikipedia.org/wiki/ISO_8601#Times) as per the ISO-8601 standards.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDateTime = &quot;2011-08-12T20:17:46.384Z&quot;;\r\n    \r\n    \t\tInstant instant = Instant.parse(strDateTime);\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(strDateTime);\r\n    \t\tZonedDateTime zdt = ZonedDateTime.parse(strDateTime);\r\n    \t\t\r\n    \t\tSystem.out.println(instant);\r\n    \t\tSystem.out.println(odt);\r\n    \t\tSystem.out.println(zdt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n    2011-08-12T20:17:46.384Z\r\n    2011-08-12T20:17:46.384Z\r\n    2011-08-12T20:17:46.384Z\r\n\r\nLearn more about `java.time`, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n# The legacy Date-time API\r\n\r\nThe legacy Date-time API (`java.util` Date-Time API and their formatting API, `SimpleDateFormat`) are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nFor the sake of completeness, I&#39;ve written a solution to parse this Date-Time string using the legacy API.\r\n\r\n**Do not use `&#39;Z&#39;` in the pattern with the Date-Time parsing/formatting API.**\r\n\r\nAs already described above, `Z` (without quotes) is the timezone designator for zero-timezone offset whereas `&#39;Z&#39;` is just a character literal and it does not hold any meaning. Use the format, `y-M-d&#39;T&#39;H:m:s.SSSXXX`. Check the [documentation](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) to learn more about these symbols.\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tString strDateTime = &quot;2011-08-12T20:17:46.384Z&quot;;\r\n    \r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;y-M-d&#39;T&#39;H:m:s.SSSXXX&quot;, Locale.ENGLISH);\r\n    \t\tDate date = sdf.parse(strDateTime);\r\n    \t\t// ...\r\n    \t}\r\n    }\r\n\r\nNote that a `java.util.Date` object is not a real Date-Time object like the [modern Date-Time types](https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html); rather, it represents the number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely `January 1, 1970, 00:00:00 GMT` (or UTC). Since it does not hold any format and timezone information, it applies the format, `EEE MMM dd HH:mm:ss z yyyy` and the JVM&#39;s timezone to return the value of `Date#toString` derived from this milliseconds value. If you need to print the Date-Time in a different format and timezone, you will need to use a `SimpleDateFormat` with the desired format and the applicable timezone e.g.\r\n\r\n```\r\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\nString formatted = sdf.format(date);\r\nSystem.out.println(formatted); // 2011-8-12T20:17:46.384Z\r\n```\r\n\r\n# Joda Date-Time API\r\n\r\nQuoted below is a notice at the [Home Page of Joda-Time](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\nAgain, for the sake of completeness, I&#39;ve written a solution to parse this Date-Time string using the Joda Date-Time API.\r\n\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.format.DateTimeFormat;\r\n    import org.joda.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString dateTimeStr = &quot;2011-08-12T20:17:46.384Z&quot;;\r\n    \t\tDateTimeFormatter dtf = DateTimeFormat.forPattern(&quot;y-M-d&#39;T&#39;H:m:s.SSSZ&quot;).withOffsetParsed();\r\n    \t\tDateTime dateTime = dtf.parseDateTime(dateTimeStr);\r\n    \t\tSystem.out.println(dateTime);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n    2011-08-12T20:17:46.384Z\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<h1><em>java.time</em></h1>\n<p><strong>You do not need <code>DateTimeFormatter</code> to parse the given date-time string.</strong></p>\n<p>Java SE 8 Date-Time API(<code>java.time</code> API or the modern Date-Time API) is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and does not require using a <code>DateTimeFormatter</code> object explicitly as long as the Date-Time string conforms to the ISO 8601 standards.</p>\n<p>The <code>Z</code> in the string is the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">timezone designator</a> for zero-timezone offset. It stands for Zulu and specifies the <code>Etc/UTC</code> timezone (which has the timezone offset of <code>+00:00</code> hours).</p>\n<p>The <code>T</code> in the string is just the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Times\" rel=\"nofollow noreferrer\">Date-Time separator</a> as per the ISO-8601 standards.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;2011-08-12T20:17:46.384Z&quot;;\n\n        Instant instant = Instant.parse(strDateTime);\n        OffsetDateTime odt = OffsetDateTime.parse(strDateTime);\n        ZonedDateTime zdt = ZonedDateTime.parse(strDateTime);\n        \n        System.out.println(instant);\n        System.out.println(odt);\n        System.out.println(zdt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>2011-08-12T20:17:46.384Z\n2011-08-12T20:17:46.384Z\n2011-08-12T20:17:46.384Z\n</code></pre>\n<p>Learn more about <code>java.time</code>, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<h1>The legacy Date-time API</h1>\n<p>The legacy Date-time API (<code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code>) are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p>For the sake of completeness, I've written a solution to parse this Date-Time string using the legacy API.</p>\n<p><strong>Do not use <code>'Z'</code> in the pattern with the Date-Time parsing/formatting API.</strong></p>\n<p>As already described above, <code>Z</code> (without quotes) is the timezone designator for zero-timezone offset whereas <code>'Z'</code> is just a character literal and it does not hold any meaning. Use the format, <code>y-M-d'T'H:m:s.SSSXXX</code>. Check the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">documentation</a> to learn more about these symbols.</p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) throws ParseException {\n        String strDateTime = &quot;2011-08-12T20:17:46.384Z&quot;;\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;y-M-d'T'H:m:s.SSSXXX&quot;, Locale.ENGLISH);\n        Date date = sdf.parse(strDateTime);\n        // ...\n    }\n}\n</code></pre>\n<p>Note that a <code>java.util.Date</code> object is not a real Date-Time object like the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">modern Date-Time types</a>; rather, it represents the number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely <code>January 1, 1970, 00:00:00 GMT</code> (or UTC). Since it does not hold any format and timezone information, it applies the format, <code>EEE MMM dd HH:mm:ss z yyyy</code> and the JVM's timezone to return the value of <code>Date#toString</code> derived from this milliseconds value. If you need to print the Date-Time in a different format and timezone, you will need to use a <code>SimpleDateFormat</code> with the desired format and the applicable timezone e.g.</p>\n<pre><code>sdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\nString formatted = sdf.format(date);\nSystem.out.println(formatted); // 2011-8-12T20:17:46.384Z\n</code></pre>\n<h1>Joda Date-Time API</h1>\n<p>Quoted below is a notice at the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Home Page of Joda-Time</a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p>Again, for the sake of completeness, I've written a solution to parse this Date-Time string using the Joda Date-Time API.</p>\n<pre><code>import org.joda.time.DateTime;\nimport org.joda.time.format.DateTimeFormat;\nimport org.joda.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        String dateTimeStr = &quot;2011-08-12T20:17:46.384Z&quot;;\n        DateTimeFormatter dtf = DateTimeFormat.forPattern(&quot;y-M-d'T'H:m:s.SSSZ&quot;).withOffsetParsed();\n        DateTime dateTime = dtf.parseDateTime(dateTimeStr);\n        System.out.println(dateTime);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>2011-08-12T20:17:46.384Z\n</code></pre>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":12654613,"reputation":113,"user_id":9197524,"display_name":"Mayank PATEl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689879523,"creation_date":1654761924,"answer_id":72556747,"question_id":8405087,"body_markdown":"Z represent UTC time zone. With java8+, you can simply use Instant.\r\n\r\n    public static void main(String[] args) {\r\n\t\tString time = &quot;2022-06-08T04:55:01.000Z&quot;;\r\n\t\tSystem.out.println(Instant.parse(time).toEpochMilli());\r\n\t}","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>Z represent UTC time zone. With java8+, you can simply use Instant.</p>\n<pre><code>public static void main(String[] args) {\n    String time = &quot;2022-06-08T04:55:01.000Z&quot;;\n    System.out.println(Instant.parse(time).toEpochMilli());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682020311,"post_id":76066945,"comment_id":134154316,"body_markdown":"No need to fiddle with your own format pattern string since Joda-Time knows ISO 8601 format well. And never hard-code `Z` as a literal in the format. It’s the offset and needs to be parsed as an offset. Use for example `ISODateTimeFormat.dateTimeParser() .withOffsetParsed() .parseDateTime(datetimeString)` (yields `Parsed date and time: 2099-12-31T14:20:04.000Z`).","body":"No need to fiddle with your own format pattern string since Joda-Time knows ISO 8601 format well. And never hard-code <code>Z</code> as a literal in the format. It’s the offset and needs to be parsed as an offset. Use for example <code>ISODateTimeFormat.dateTimeParser() .withOffsetParsed() .parseDateTime(datetimeString)</code> (yields <code>Parsed date and time: 2099-12-31T14:20:04.000Z</code>)."}],"tags":[],"owner":{"account_id":3668752,"reputation":6568,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689879510,"creation_date":1682013057,"answer_id":76066945,"question_id":8405087,"body_markdown":"FOR JODA TIME\r\n\r\n    String datetimeString = &quot;2099-12-31T14:20:04Z&quot;;\r\n\tDateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;).withZoneUTC();\r\n\tDateTime dateTime = formatter.parseDateTime(datetimeString);\r\n\tSystem.out.println(&quot;Parsed date and time: &quot; + dateTime);","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>FOR JODA TIME</p>\n<pre><code>String datetimeString = &quot;2099-12-31T14:20:04Z&quot;;\nDateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;).withZoneUTC();\nDateTime dateTime = formatter.parseDateTime(datetimeString);\nSystem.out.println(&quot;Parsed date and time: &quot; + dateTime);\n</code></pre>\n"}],"owner":{"account_id":17349,"reputation":31140,"user_id":38743,"accept_rate":79,"display_name":"Sarah Vessels"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850673,"favorite_count":0,"down_vote_count":0,"up_vote_count":667,"accepted_answer_id":8405125,"answer_count":12,"score":667,"last_activity_date":1689879573,"creation_date":1323197157,"question_id":8405087,"body_markdown":"I have the following date:  `2011-08-12T20:17:46.384Z`.  What format is this?  I&#39;m trying to parse it with Java 1.4 via `DateFormat.getDateInstance().parse(dateStr)` and I&#39;m getting\r\n\r\n&gt; java.text.ParseException: Unparseable date: &quot;2011-08-12T20:17:46.384Z&quot;\r\n\r\nI think I should be using [SimpleDateFormat][1] for parsing, but I have to know the format string first.  All I have for that so far is `yyyy-MM-dd`, because I don&#39;t know what the `T` means in this string--something time zone-related?  This date string is coming from the `lcmis:downloadedOn` tag shown on [Files CMIS download history media type][2].\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://www-10.lotus.com/ldd/appdevwiki.nsf/dx/Files_CMIS_download_history_media_type","title":"What is this date format? 2011-08-12T20:17:46.384Z","body":"<p>I have the following date:  <code>2011-08-12T20:17:46.384Z</code>.  What format is this?  I'm trying to parse it with Java 1.4 via <code>DateFormat.getDateInstance().parse(dateStr)</code> and I'm getting</p>\n\n<blockquote>\n  <p>java.text.ParseException: Unparseable date: \"2011-08-12T20:17:46.384Z\"</p>\n</blockquote>\n\n<p>I think I should be using <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> for parsing, but I have to know the format string first.  All I have for that so far is <code>yyyy-MM-dd</code>, because I don't know what the <code>T</code> means in this string--something time zone-related?  This date string is coming from the <code>lcmis:downloadedOn</code> tag shown on <a href=\"http://www-10.lotus.com/ldd/appdevwiki.nsf/dx/Files_CMIS_download_history_media_type\" rel=\"noreferrer\">Files CMIS download history media type</a>.</p>\n"},{"tags":["java","spring-boot","micrometer","spring-micrometer","micrometer-tracing"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689062241,"post_id":76659748,"comment_id":135156076,"body_markdown":"You only added dependencies as there is no auto configuration for Micrometer in this version of Spring Boot you have to manually register all necessary components.","body":"You only added dependencies as there is no auto configuration for Micrometer in this version of Spring Boot you have to manually register all necessary components."},{"owner":{"account_id":5896567,"reputation":197,"user_id":4641534,"display_name":"Sezer Aydın"},"score":0,"creation_date":1689064987,"post_id":76659748,"comment_id":135156707,"body_markdown":"Thank you so much for your answer. what do you mean manually register necessary components ?\nI didn&#39;t find do you have any links,pls ?","body":"Thank you so much for your answer. what do you mean manually register necessary components ? I didn&#39;t find do you have any links,pls ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689065189,"post_id":76659748,"comment_id":135156761,"body_markdown":"Check what Spring Boot 3 is registering for components in the context to enable micrometer tracing, you will need to replicate that for Spring Boot 2.2.","body":"Check what Spring Boot 3 is registering for components in the context to enable micrometer tracing, you will need to replicate that for Spring Boot 2.2."},{"owner":{"account_id":5896567,"reputation":197,"user_id":4641534,"display_name":"Sezer Aydın"},"score":0,"creation_date":1689065997,"post_id":76659748,"comment_id":135156926,"body_markdown":"sorry, I still didn&#39;t understand what is registering for components in the context to enable micrometer tracing. they said that just add the library and use it  in the all tutorial.\nam I missing something?","body":"sorry, I still didn&#39;t understand what is registering for components in the context to enable micrometer tracing. they said that just add the library and use it  in the all tutorial. am I missing something?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689066095,"post_id":76659748,"comment_id":135156951,"body_markdown":"Why do you think adding some dependencies, write a log line will automagically work? Support for Micrometer was **added in Spring Boot 3**, so if you try it with **Spring Boot 2** this won&#39;t automagically work. You will need to setup micrometer yourself.","body":"Why do you think adding some dependencies, write a log line will automagically work? Support for Micrometer was <b>added in Spring Boot 3</b>, so if you try it with <b>Spring Boot 2</b> this won&#39;t automagically work. You will need to setup micrometer yourself."}],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689879035,"creation_date":1689879035,"answer_id":76732909,"question_id":76659748,"body_markdown":"If you want Distributed Tracing and if you are on:\r\n - Spring Boot 2.7.x -&gt; you should use Spring Cloud Sleuth\r\n - Spring Boot 3.x.  -&gt; you should use Micrometer Tracing\r\n\r\n(Boot 2.2.x is very old and no longer supported, you should upgrade.)","title":"Micrometer Tracing not working with Spring Boot 2.2.2","body":"<p>If you want Distributed Tracing and if you are on:</p>\n<ul>\n<li>Spring Boot 2.7.x -&gt; you should use Spring Cloud Sleuth</li>\n<li>Spring Boot 3.x.  -&gt; you should use Micrometer Tracing</li>\n</ul>\n<p>(Boot 2.2.x is very old and no longer supported, you should upgrade.)</p>\n"}],"owner":{"account_id":5896567,"reputation":197,"user_id":4641534,"display_name":"Sezer Aydın"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76732909,"answer_count":1,"score":0,"last_activity_date":1689879035,"creation_date":1689061886,"question_id":76659748,"body_markdown":"I am using the spring boot 2.2.2.Release version. \r\n\r\n\r\nthis is my controller class.\r\n```\r\n@RestController\r\npublic class HelloController {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(HelloController.class);\r\n    @GetMapping(value = &quot;{userId}&quot;)\r\n    public String test(@PathVariable(&quot;userId&quot;) String userId){\r\n        LOGGER.info(&quot;user =  {}&quot;,userId);\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nthis is my pom.xml and in the detail i have added the micrometer tracing library and use the spring boot 2.2.2 version. and also i use the log4j2 library.\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;loglama&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;loglama&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t &lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-log4j-appender&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.micrometer/micrometer-tracing --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.micrometer/micrometer-tracing-bridge-brave --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\nthis is the pattern and i added **[%X{traceId},%X{spanId}]**.\r\n```\r\nappender.console.layout.pattern = [%d{yyy-MM-dd HH:mm:ss:SSS}] [%X{traceId},%X{spanId}] [%p] - %l - %m%n\r\n ```\r\n\r\n\r\nthe log output is : \r\n```\r\n[2023-07-11 10:45:49:889] [,] [INFO] - com.example.loglama.controller.HelloController.test(HelloController.java:18) - user =  demo123\r\n\r\n``` \r\nif you can see the traceId and spaceId are empty.\r\nthe company doesn&#39;t want to upgrade the spring boot version for that I have to fix this issue with this version.\r\nHow can fix this issue ? \r\n","title":"Micrometer Tracing not working with Spring Boot 2.2.2","body":"<p>I am using the spring boot 2.2.2.Release version.</p>\n<p>this is my controller class.</p>\n<pre><code>@RestController\npublic class HelloController {\n\n    private static final Logger LOGGER = LogManager.getLogger(HelloController.class);\n    @GetMapping(value = &quot;{userId}&quot;)\n    public String test(@PathVariable(&quot;userId&quot;) String userId){\n        LOGGER.info(&quot;user =  {}&quot;,userId);\n        return &quot;ok&quot;;\n    }\n}\n\n</code></pre>\n<p>this is my pom.xml and in the detail i have added the micrometer tracing library and use the spring boot 2.2.2 version. and also i use the log4j2 library.</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;loglama&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;loglama&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n         &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-log4j-appender&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.micrometer/micrometer-tracing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.micrometer/micrometer-tracing-bridge-brave --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.1.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>this is the pattern and i added <strong>[%X{traceId},%X{spanId}]</strong>.</p>\n<pre><code>appender.console.layout.pattern = [%d{yyy-MM-dd HH:mm:ss:SSS}] [%X{traceId},%X{spanId}] [%p] - %l - %m%n\n</code></pre>\n<p>the log output is :</p>\n<pre><code>[2023-07-11 10:45:49:889] [,] [INFO] - com.example.loglama.controller.HelloController.test(HelloController.java:18) - user =  demo123\n\n</code></pre>\n<p>if you can see the traceId and spaceId are empty.\nthe company doesn't want to upgrade the spring boot version for that I have to fix this issue with this version.\nHow can fix this issue ?</p>\n"},{"tags":["java","tomcat","jenkins","devops"],"answers":[{"tags":[],"owner":{"account_id":15917099,"reputation":11,"user_id":11485347,"display_name":"Vaijnath Jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559737756,"creation_date":1559735749,"answer_id":56460021,"question_id":53314417,"body_markdown":"Comment tag Valve in `context.xml` files\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteAddrValve&quot;\r\n    allow=&quot;127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1&quot; /&gt;\r\n\r\nThere are multiple `context.xml` files in tomcat directory, update following context.xml files and restart tomcat service-\r\n\r\n - `/apache-tomcat-8.5.41/webapps/manager/META-INF/context.xml`\r\n - `/apache-tomcat-8.5.41/webapps/host-manager/META-INF/context.xml`","title":"Build step failed with exception org.codehaus.cargo.container.ContainerException: Failed to redeploy","body":"<p>Comment tag Valve in <code>context.xml</code> files</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.valves.RemoteAddrValve\"\nallow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1\" /&gt;\n</code></pre>\n\n<p>There are multiple <code>context.xml</code> files in tomcat directory, update following context.xml files and restart tomcat service-</p>\n\n<ul>\n<li><code>/apache-tomcat-8.5.41/webapps/manager/META-INF/context.xml</code></li>\n<li><code>/apache-tomcat-8.5.41/webapps/host-manager/META-INF/context.xml</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690284184,"post_id":76732907,"comment_id":135328842,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76732907/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11639489,"reputation":1,"user_id":8539610,"display_name":"Majid Mortazavi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689879031,"creation_date":1689879031,"answer_id":76732907,"question_id":53314417,"body_markdown":"It seems you have error 401 for username and password. In the pic you send username is `sparsh` but in `context.xml` you use `tomcat` as a username.\r\nTry to set correct username/password.","title":"Build step failed with exception org.codehaus.cargo.container.ContainerException: Failed to redeploy","body":"<p>It seems you have error 401 for username and password. In the pic you send username is <code>sparsh</code> but in <code>context.xml</code> you use <code>tomcat</code> as a username.\nTry to set correct username/password.</p>\n"}],"owner":{"account_id":10952543,"reputation":11,"user_id":8048460,"display_name":"Sparsh Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689879031,"creation_date":1542267146,"question_id":53314417,"body_markdown":"I get below error when trying to deploy a WAR using Jenkins.\r\n\r\nI created new Deploy-to-staging project, edited its config as follows:\r\n\r\n - In Build, select copy artifacts from another project \r\n[select the project artifact][1]\r\n \r\n - [Select Post-build Actions][2]\r\n\r\nOn my attempt to build the (Project Build) code, Deploy-to-staging fails, and I get\r\n\r\n&gt;ERROR: Build step failed with exception\r\norg.codehaus.cargo.container.ContainerException: Failed to redeploy [/var/lib/jenkins/workspace/Deploy-to-staging/webapp/target/webapp.war]\r\n\tat org.codehaus.cargo.container.tomcat.internal.AbstractTomcatManagerDeployer.redeploy(AbstractTomcatManagerDeployer.java:188)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:77)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:147)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:117)\r\n\tat hudson.FilePath.act(FilePath.java:1077)\r\n\tat hudson.FilePath.act(FilePath.java:1060)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:114)\r\n\tat hudson.plugins.deploy.PasswordProtectedAdapterCargo.redeploy(PasswordProtectedAdapterCargo.java:93)\r\n\tat hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:64)\r\n\tat hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:744)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:690)\r\n\tat hudson.model.Build$BuildExecution.post2(Build.java:186)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:635)\r\n\tat hudson.model.Run.execute(Run.java:1844)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:429)\r\nCaused by: org.codehaus.cargo.container.tomcat.internal.TomcatManagerException: The username and password you provided are not correct (error 401)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:698)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.list(TomcatManager.java:876)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.getStatus(TomcatManager.java:889)\r\n\tat org.codehaus.cargo.container.tomcat.internal.AbstractTomcatManagerDeployer.redeploy(AbstractTomcatManagerDeployer.java:173)\r\n\t... 17 more\r\nCaused by: java.io.IOException: Server returned HTTP response code: 401 for URL: http://localhost:8090//manager/text/list\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:571)\r\n\t... 20 more\r\norg.codehaus.cargo.container.tomcat.internal.TomcatManagerException: The username and password you provided are not correct (error 401)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:698)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.list(TomcatManager.java:876)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.getStatus(TomcatManager.java:889)\r\n\tat org.codehaus.cargo.container.tomcat.internal.AbstractTomcatManagerDeployer.redeploy(AbstractTomcatManagerDeployer.java:173)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:77)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:147)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:117)\r\n\tat hudson.FilePath.act(FilePath.java:1077)\r\n\tat hudson.FilePath.act(FilePath.java:1060)\r\n\tat hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:114)\r\n\tat hudson.plugins.deploy.PasswordProtectedAdapterCargo.redeploy(PasswordProtectedAdapterCargo.java:93)\r\n\tat hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:64)\r\n\tat hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:744)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:690)\r\n\tat hudson.model.Build$BuildExecution.post2(Build.java:186)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:635)\r\n\tat hudson.model.Run.execute(Run.java:1844)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:429)\r\nCaused by: java.io.IOException: Server returned HTTP response code: 401 for URL: http://localhost:8090//manager/text/list\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n\tat org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:571)\r\n\t... 20 more\r\nBuild step &#39;Deploy war/ear to a container&#39; marked build as failure\r\nFinished: FAILURE\r\n\r\nHow can I fix this?\r\n\r\nMy tomcat credentials, located in [tomcat directory]/conf/tomcat-users.xml, are as follows:\r\n\r\n    &lt;tomcat-users&gt;\r\n        &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n        &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n        &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;manager-script,admin-gui&quot; /&gt;       \r\n&lt;/tomcat-users&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/7vVTC.png\r\n  [2]: https://i.stack.imgur.com/vZa0k.png","title":"Build step failed with exception org.codehaus.cargo.container.ContainerException: Failed to redeploy","body":"<p>I get below error when trying to deploy a WAR using Jenkins.</p>\n\n<p>I created new Deploy-to-staging project, edited its config as follows:</p>\n\n<ul>\n<li><p>In Build, select copy artifacts from another project \n<a href=\"https://i.stack.imgur.com/7vVTC.png\" rel=\"nofollow noreferrer\">select the project artifact</a></p></li>\n<li><p><a href=\"https://i.stack.imgur.com/vZa0k.png\" rel=\"nofollow noreferrer\">Select Post-build Actions</a></p></li>\n</ul>\n\n<p>On my attempt to build the (Project Build) code, Deploy-to-staging fails, and I get</p>\n\n<blockquote>\n  <p>ERROR: Build step failed with exception\n  org.codehaus.cargo.container.ContainerException: Failed to redeploy [/var/lib/jenkins/workspace/Deploy-to-staging/webapp/target/webapp.war]\n      at org.codehaus.cargo.container.tomcat.internal.AbstractTomcatManagerDeployer.redeploy(AbstractTomcatManagerDeployer.java:188)\n      at hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:77)\n      at hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:147)\n      at hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:117)\n      at hudson.FilePath.act(FilePath.java:1077)\n      at hudson.FilePath.act(FilePath.java:1060)\n      at hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:114)\n      at hudson.plugins.deploy.PasswordProtectedAdapterCargo.redeploy(PasswordProtectedAdapterCargo.java:93)\n      at hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:64)\n      at hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\n      at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:744)\n      at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:690)\n      at hudson.model.Build$BuildExecution.post2(Build.java:186)\n      at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:635)\n      at hudson.model.Run.execute(Run.java:1844)\n      at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\n      at hudson.model.ResourceController.execute(ResourceController.java:97)\n      at hudson.model.Executor.run(Executor.java:429)\n  Caused by: org.codehaus.cargo.container.tomcat.internal.TomcatManagerException: The username and password you provided are not correct (error 401)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:698)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.list(TomcatManager.java:876)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.getStatus(TomcatManager.java:889)\n      at org.codehaus.cargo.container.tomcat.internal.AbstractTomcatManagerDeployer.redeploy(AbstractTomcatManagerDeployer.java:173)\n      ... 17 more\n  Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: <a href=\"http://localhost:8090//manager/text/list\" rel=\"nofollow noreferrer\">http://localhost:8090//manager/text/list</a>\n      at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\n      at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:571)\n      ... 20 more\n  org.codehaus.cargo.container.tomcat.internal.TomcatManagerException: The username and password you provided are not correct (error 401)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:698)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.list(TomcatManager.java:876)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.getStatus(TomcatManager.java:889)\n      at org.codehaus.cargo.container.tomcat.internal.AbstractTomcatManagerDeployer.redeploy(AbstractTomcatManagerDeployer.java:173)\n      at hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:77)\n      at hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:147)\n      at hudson.plugins.deploy.CargoContainerAdapter$DeployCallable.invoke(CargoContainerAdapter.java:117)\n      at hudson.FilePath.act(FilePath.java:1077)\n      at hudson.FilePath.act(FilePath.java:1060)\n      at hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:114)\n      at hudson.plugins.deploy.PasswordProtectedAdapterCargo.redeploy(PasswordProtectedAdapterCargo.java:93)\n      at hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:64)\n      at hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\n      at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:744)\n      at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:690)\n      at hudson.model.Build$BuildExecution.post2(Build.java:186)\n      at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:635)\n      at hudson.model.Run.execute(Run.java:1844)\n      at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\n      at hudson.model.ResourceController.execute(ResourceController.java:97)\n      at hudson.model.Executor.run(Executor.java:429)\n  Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: <a href=\"http://localhost:8090//manager/text/list\" rel=\"nofollow noreferrer\">http://localhost:8090//manager/text/list</a>\n      at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\n      at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n      at org.codehaus.cargo.container.tomcat.internal.TomcatManager.invoke(TomcatManager.java:571)\n      ... 20 more\n  Build step 'Deploy war/ear to a container' marked build as failure\n  Finished: FAILURE</p>\n</blockquote>\n\n<p>How can I fix this?</p>\n\n<p>My tomcat credentials, located in [tomcat directory]/conf/tomcat-users.xml, are as follows:</p>\n\n<pre><code>&lt;tomcat-users&gt;\n    &lt;role rolename=\"manager-script\"/&gt;\n    &lt;role rolename=\"admin-gui\"/&gt;\n    &lt;user username=\"tomcat\" password=\"tomcat\" roles=\"manager-script,admin-gui\" /&gt;       \n</code></pre>\n\n<p></p>\n"},{"tags":["java","mysql","java-time"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1689877125,"post_id":76732533,"comment_id":135279177,"body_markdown":"What is the type `creation_date` column?","body":"What is the type <code>creation_date</code> column?"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1689877275,"post_id":76732533,"comment_id":135279217,"body_markdown":"@ArvindKumarAvinash in mysql it is type datetime and in my java model it is of type LocalDateTime","body":"@ArvindKumarAvinash in mysql it is type datetime and in my java model it is of type LocalDateTime"}],"answers":[{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1689878703,"post_id":76732705,"comment_id":135279480,"body_markdown":"Cool yes I was searching a bit, I should not worry because since im saving with the zoneId of argentina to the mysql databse, it is respecting this, but your proposal to change to ZonedDateTime is interesting, if I save to mysql database, it will still be valid for the datetime column?","body":"Cool yes I was searching a bit, I should not worry because since im saving with the zoneId of argentina to the mysql databse, it is respecting this, but your proposal to change to ZonedDateTime is interesting, if I save to mysql database, it will still be valid for the datetime column?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1689878888,"post_id":76732705,"comment_id":135279504,"body_markdown":"*if I save to mysql database, it will still be valid for the datetime column?* - not without changing the column type in your DB &#128522;. Please do check [this](https://stackoverflow.com/a/67752047/10819573) and [this](https://stackoverflow.com/a/67505173/10819573).","body":"<i>if I save to mysql database, it will still be valid for the datetime column?</i> - not without changing the column type in your DB 😊. Please do check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this</a>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1689879382,"post_id":76732705,"comment_id":135279615,"body_markdown":"Another suggested reading is [this](https://dev.mysql.com/blog-archive/support-for-date-time-types-in-connector-j-8-0/). Check here the section, **OffsetDateTime and ZonedDateTime support**.","body":"Another suggested reading is <a href=\"https://dev.mysql.com/blog-archive/support-for-date-time-types-in-connector-j-8-0/\" rel=\"nofollow noreferrer\">this</a>. Check here the section, <b>OffsetDateTime and ZonedDateTime support</b>."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689877660,"creation_date":1689877052,"answer_id":76732705,"question_id":76732533,"body_markdown":"`entity.getCreationDate().atZone(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;))` returns a `ZonedDateTime` and hence the error because then you are trying to find a difference between a `ZonedDateTime` and a `LocalDateTime`. Change it to\r\n\r\n    long seconds = ChronoUnit.SECONDS.between(entity.getCreationDate(), argDate());\r\n\r\nSince you are already storing `LocalDateTime` in your database, this will give you the difference between the two `LocalDateTime`s.\r\n\r\nIf you still want to use `entity.getCreationDate().atZone(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;))`, you need to change the definition of `argDate` to\r\n\r\n    public static ZonedDateTime argDate() {\r\n        return ZonedDateTime.now(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;));\r\n    }\r\nso that you can find the difference between two `ZonedDateTime`s.","title":"DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor","body":"<p><code>entity.getCreationDate().atZone(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;))</code> returns a <code>ZonedDateTime</code> and hence the error because then you are trying to find a difference between a <code>ZonedDateTime</code> and a <code>LocalDateTime</code>. Change it to</p>\n<pre><code>long seconds = ChronoUnit.SECONDS.between(entity.getCreationDate(), argDate());\n</code></pre>\n<p>Since you are already storing <code>LocalDateTime</code> in your database, this will give you the difference between the two <code>LocalDateTime</code>s.</p>\n<p>If you still want to use <code>entity.getCreationDate().atZone(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;))</code>, you need to change the definition of <code>argDate</code> to</p>\n<pre><code>public static ZonedDateTime argDate() {\n    return ZonedDateTime.now(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;));\n}\n</code></pre>\n<p>so that you can find the difference between two <code>ZonedDateTime</code>s.</p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76732705,"answer_count":1,"score":1,"last_activity_date":1689878606,"creation_date":1689875690,"question_id":76732533,"body_markdown":"I have a datetime column in mysql database (colum is called creation_date), everytime im going to save the entity that has that column I fill that column like so (it is a LocalDateTime in my java class):\r\n\r\n\tpublic static LocalDateTime argDate() {\r\n\t\treturn LocalDateTime.now(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;));\r\n\t}\r\n\r\nSo I need to make a calculation with that date, to check which records have certain conditions and one of those is if the time between the current date and that &quot;creation_date&quot; is equal or higher than **70 seconds**, do something with that, so I would like to **make sure I am working with only Argentina time** to have accurate results and no mistakes, so this works:\r\n\r\n    long seconds = ChronoUnit.SECONDS.between(entity.getCreationDate(), argDate());\r\n\r\nthat method works, but I wanted to be 100% sure that I am working with Argentina date, so I tried this but **started getting the error in the title**:\r\n\r\n\r\n    long seconds = ChronoUnit.SECONDS.between(entity.getCreationDate().atZone(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;)), argDate());\r\n\r\nThe thing is I have many questions right now, one is if the column type at Mysql will always give me back the datetime in Argentina time because since I am always saving it with that ZoneId, I would expect that to be that way...\r\n\r\nAnd another one is how can I fix that error on the title? So I make sure I am working with Argentina time and the calculation of the seconds is good\r\n\r\nSo far I believe that my assumption that the Mysql datetime being in Argentina time is correct, because I decided to log some entries and this is the output:\r\n\r\n    LocalDateTime now = argDate();\r\n    log.info(&quot;database entity creation_date (arg): {}, now (arg): {}&quot;, entity.getCreationDate(), now);\r\n\r\nOutput:\r\n\r\n    database entity creation_date (arg): 2023-07-20T15:08:25, now (arg): 2023-07-20T15:09:24.013604344\r\n\r\nBut my fear is that maybe this is not true? And the timezone of the server of the database is argentina time luckyly? Or is it respecting the zoneId I gave it when saving it\r\n\r\n**Research**:\r\n\r\nAccording to [this answer][1] I should not worry about this scenario, since it is a datetime column it will respect the zoneId I gave it before saving it (Argentina), so when I retrieve this from database it will already be in Arg time, but still curious of how to fix the error on title \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19846739/12085680","title":"DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor","body":"<p>I have a datetime column in mysql database (colum is called creation_date), everytime im going to save the entity that has that column I fill that column like so (it is a LocalDateTime in my java class):</p>\n<pre><code>public static LocalDateTime argDate() {\n    return LocalDateTime.now(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;));\n}\n</code></pre>\n<p>So I need to make a calculation with that date, to check which records have certain conditions and one of those is if the time between the current date and that &quot;creation_date&quot; is equal or higher than <strong>70 seconds</strong>, do something with that, so I would like to <strong>make sure I am working with only Argentina time</strong> to have accurate results and no mistakes, so this works:</p>\n<pre><code>long seconds = ChronoUnit.SECONDS.between(entity.getCreationDate(), argDate());\n</code></pre>\n<p>that method works, but I wanted to be 100% sure that I am working with Argentina date, so I tried this but <strong>started getting the error in the title</strong>:</p>\n<pre><code>long seconds = ChronoUnit.SECONDS.between(entity.getCreationDate().atZone(ZoneId.of(&quot;America/Argentina/Buenos_Aires&quot;)), argDate());\n</code></pre>\n<p>The thing is I have many questions right now, one is if the column type at Mysql will always give me back the datetime in Argentina time because since I am always saving it with that ZoneId, I would expect that to be that way...</p>\n<p>And another one is how can I fix that error on the title? So I make sure I am working with Argentina time and the calculation of the seconds is good</p>\n<p>So far I believe that my assumption that the Mysql datetime being in Argentina time is correct, because I decided to log some entries and this is the output:</p>\n<pre><code>LocalDateTime now = argDate();\nlog.info(&quot;database entity creation_date (arg): {}, now (arg): {}&quot;, entity.getCreationDate(), now);\n</code></pre>\n<p>Output:</p>\n<pre><code>database entity creation_date (arg): 2023-07-20T15:08:25, now (arg): 2023-07-20T15:09:24.013604344\n</code></pre>\n<p>But my fear is that maybe this is not true? And the timezone of the server of the database is argentina time luckyly? Or is it respecting the zoneId I gave it when saving it</p>\n<p><strong>Research</strong>:</p>\n<p>According to <a href=\"https://stackoverflow.com/a/19846739/12085680\">this answer</a> I should not worry about this scenario, since it is a datetime column it will respect the zoneId I gave it before saving it (Argentina), so when I retrieve this from database it will already be in Arg time, but still curious of how to fix the error on title</p>\n"},{"tags":["java","spring","spring-boot","cucumber","integration-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689841694,"post_id":76727731,"comment_id":135271353,"body_markdown":"`prePostEnabled = true` means that it is enabled not disabled, you should use `false` instead.","body":"<code>prePostEnabled = true</code> means that it is enabled not disabled, you should use <code>false</code> instead."},{"owner":{"account_id":4537393,"reputation":1204,"user_id":3686193,"display_name":"Vithursa Mahendrarajah"},"score":0,"creation_date":1689842563,"post_id":76727731,"comment_id":135271553,"body_markdown":"modified it. it didn&#39;t resolve the issue.","body":"modified it. it didn&#39;t resolve the issue."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689878573,"creation_date":1689877699,"answer_id":76732776,"question_id":76727731,"body_markdown":"Setup test security context in a `@Given` step instead of disabling security.\r\n\r\nSample taken from [this README](https://github.com/ch4mpy/spring-addons/blob/master/spring-addons-oauth2-test/Cucumber.md) I wrote (at a time Keycloak adapters for Spring where not deprecated):\r\n\r\nGherkin feature:\r\n```\r\nFeature: Testing a secured REST API\r\n  Users should be able to GET greetings only if authenticated\r\n\r\n  Scenario: Authorized users should be greeted\r\n    Given the following user roles:\r\n      | ROLE_user   |\r\n      | ROLE_TESTER |\r\n    When a get request is sent to greeting endpoint\r\n    Then a greeting is returned\r\n\r\n  Scenario: Unauthorized users should not be able to access greetings\r\n    Given user is not authenticated\r\n    When a get request is sent to greeting endpoint\r\n    Then 401 is returned\r\n```\r\nThe following uses some code from `com.c4-soft.springaddons:spring-addons-oauth2-test`, a lib of mine published on maven-central, to ease defining OpenID claims. You can skip this dependency if you are not interested in claims details (if authorities and user name are enough):\r\n```java\r\npublic class JwtTestingBuilder {\r\n\tprotected final OpenidClaimSetBuilder claimsBuilder;\r\n\tprivate final Set&lt;String&gt; authorities;\r\n\tprivate String bearerString = &quot;machin.truc.chose&quot;;\r\n\tprivate Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;(Map.of(&quot;machin&quot;, &quot;truc&quot;));\r\n\r\n\tpublic JwtTestingBuilder() {\r\n\t\tthis.claimsBuilder = new OpenidClaimSetBuilder().subject(Defaults.SUBJECT).name(Defaults.AUTH_NAME);\r\n\t\tthis.authorities = new HashSet&lt;&gt;(Defaults.AUTHORITIES);\r\n\t}\r\n\r\n\tpublic JwtAuthenticationToken build() {\r\n\t\tfinal var claims = claimsBuilder.build();\r\n\t\tfinal var iat = Instant.now();\r\n\t\tfinal var exp = iat.plusMillis(60000);\r\n\t\tfinal var jwt = new Jwt(bearerString, iat, exp, headers, claims);\r\n\t\treturn new JwtAuthenticationToken(jwt, authorities.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toSet()), claims.getName());\r\n\t}\r\n\r\n\tpublic JwtTestingBuilder authorities(String... authorities) {\r\n\t\treturn authorities(Stream.of(authorities));\r\n\t}\r\n\r\n\tpublic JwtTestingBuilder authorities(Stream&lt;String&gt; authorities) {\r\n\t\tthis.authorities.clear();\r\n\t\tthis.authorities.addAll(authorities.toList());\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic JwtTestingBuilder claims(Consumer&lt;OpenidClaimSetBuilder&gt; tokenBuilderConsumer) {\r\n\t\ttokenBuilderConsumer.accept(claimsBuilder);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic JwtTestingBuilder bearerString(String bearerString) {\r\n\t\tthis.bearerString = bearerString;\r\n\t\treturn this;\r\n\t}\r\n}\r\n```\r\nSteps:\r\n```java\r\npublic class GreetingControllerSuite {\r\n\r\n\t@Autowired\r\n\tMockMvc mockMvc;\r\n\r\n\tMvcResult result;\r\n\r\n\t@Given(&quot;user is not authenticated&quot;)\r\n\tpublic void unauthenticatedUser() {\r\n\t\tTestSecurityContextHolder.clearContext();\r\n\t}\r\n\r\n\t@Given(&quot;the following user roles:&quot;)\r\n\tpublic void authenticateAsUser(List&lt;String&gt; rolesTable) {\r\n\t\tTestSecurityContextHolder.clearContext();\r\n\t\tfinal Stream&lt;String&gt; roles = rolesTable.stream().map(String::trim);\r\n\t\tTestSecurityContextHolder.setAuthentication(new JwtTestingBuilder().authorities(roles).build());\r\n\t}\r\n\r\n\t@When(&quot;a get request is sent to greeting endpoint&quot;)\r\n\tpublic void getGreet() throws Exception {\r\n\t\tresult = mockMvc.perform(get(&quot;/greet&quot;)).andReturn();\r\n\t}\r\n\r\n\t@Then(&quot;401 is returned&quot;)\r\n\tpublic void unauthorizedStatus() throws Exception {\r\n\t\tassertEquals(401, result.getResponse().getStatus());\r\n\t}\r\n\r\n\t@Then(&quot;a greeting is returned&quot;)\r\n\tpublic void greetingIsReturned() throws Exception {\r\n\t\tassertEquals(200, result.getResponse().getStatus());\r\n\t\tfinal var body = result.getResponse().getContentAsString();\r\n\t\tassertThat(body.contains(&quot;Hello user! You are granted with &quot;));\r\n\t\tassertThat(body.contains(&quot;ROLE_user&quot;));\r\n\t\tassertThat(body.contains(&quot;ROLE_TESTER&quot;));\r\n\t}\r\n}\r\n```\r\nCucumber JUnit 4 adapter:\r\n```java\r\nimport org.junit.runner.RunWith;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;classpath:cucumber-features&quot;, plugin = {\r\n\t\t&quot;pretty&quot;,\r\n\t\t&quot;html:target/cucumber&quot; }, extraGlue = &quot;com.c4_soft.springaddons.samples.webmvc.cucumber.extraglue&quot;)\r\npublic class CucumberIntegrationTest {\r\n}\r\n```\r\nSpring &quot;extraglue&quot;:\r\n```java\r\npackage com.c4_soft.springaddons.samples.webmvc.cucumber.extraglue;\r\n\r\n...\r\n\r\n@CucumberContextConfiguration\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@ContextConfiguration(classes = { SpringBootSampleApp.class })\r\n@AutoConfigureMockMvc\r\npublic static class CucumberSpringConfiguration {\r\n}\r\n```","title":"Disable @PreAuthorize annotation when running a profile","body":"<p>Setup test security context in a <code>@Given</code> step instead of disabling security.</p>\n<p>Sample taken from <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/spring-addons-oauth2-test/Cucumber.md\" rel=\"nofollow noreferrer\">this README</a> I wrote (at a time Keycloak adapters for Spring where not deprecated):</p>\n<p>Gherkin feature:</p>\n<pre><code>Feature: Testing a secured REST API\n  Users should be able to GET greetings only if authenticated\n\n  Scenario: Authorized users should be greeted\n    Given the following user roles:\n      | ROLE_user   |\n      | ROLE_TESTER |\n    When a get request is sent to greeting endpoint\n    Then a greeting is returned\n\n  Scenario: Unauthorized users should not be able to access greetings\n    Given user is not authenticated\n    When a get request is sent to greeting endpoint\n    Then 401 is returned\n</code></pre>\n<p>The following uses some code from <code>com.c4-soft.springaddons:spring-addons-oauth2-test</code>, a lib of mine published on maven-central, to ease defining OpenID claims. You can skip this dependency if you are not interested in claims details (if authorities and user name are enough):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JwtTestingBuilder {\n    protected final OpenidClaimSetBuilder claimsBuilder;\n    private final Set&lt;String&gt; authorities;\n    private String bearerString = &quot;machin.truc.chose&quot;;\n    private Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;(Map.of(&quot;machin&quot;, &quot;truc&quot;));\n\n    public JwtTestingBuilder() {\n        this.claimsBuilder = new OpenidClaimSetBuilder().subject(Defaults.SUBJECT).name(Defaults.AUTH_NAME);\n        this.authorities = new HashSet&lt;&gt;(Defaults.AUTHORITIES);\n    }\n\n    public JwtAuthenticationToken build() {\n        final var claims = claimsBuilder.build();\n        final var iat = Instant.now();\n        final var exp = iat.plusMillis(60000);\n        final var jwt = new Jwt(bearerString, iat, exp, headers, claims);\n        return new JwtAuthenticationToken(jwt, authorities.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toSet()), claims.getName());\n    }\n\n    public JwtTestingBuilder authorities(String... authorities) {\n        return authorities(Stream.of(authorities));\n    }\n\n    public JwtTestingBuilder authorities(Stream&lt;String&gt; authorities) {\n        this.authorities.clear();\n        this.authorities.addAll(authorities.toList());\n        return this;\n    }\n\n    public JwtTestingBuilder claims(Consumer&lt;OpenidClaimSetBuilder&gt; tokenBuilderConsumer) {\n        tokenBuilderConsumer.accept(claimsBuilder);\n        return this;\n    }\n\n    public JwtTestingBuilder bearerString(String bearerString) {\n        this.bearerString = bearerString;\n        return this;\n    }\n}\n</code></pre>\n<p>Steps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GreetingControllerSuite {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    MvcResult result;\n\n    @Given(&quot;user is not authenticated&quot;)\n    public void unauthenticatedUser() {\n        TestSecurityContextHolder.clearContext();\n    }\n\n    @Given(&quot;the following user roles:&quot;)\n    public void authenticateAsUser(List&lt;String&gt; rolesTable) {\n        TestSecurityContextHolder.clearContext();\n        final Stream&lt;String&gt; roles = rolesTable.stream().map(String::trim);\n        TestSecurityContextHolder.setAuthentication(new JwtTestingBuilder().authorities(roles).build());\n    }\n\n    @When(&quot;a get request is sent to greeting endpoint&quot;)\n    public void getGreet() throws Exception {\n        result = mockMvc.perform(get(&quot;/greet&quot;)).andReturn();\n    }\n\n    @Then(&quot;401 is returned&quot;)\n    public void unauthorizedStatus() throws Exception {\n        assertEquals(401, result.getResponse().getStatus());\n    }\n\n    @Then(&quot;a greeting is returned&quot;)\n    public void greetingIsReturned() throws Exception {\n        assertEquals(200, result.getResponse().getStatus());\n        final var body = result.getResponse().getContentAsString();\n        assertThat(body.contains(&quot;Hello user! You are granted with &quot;));\n        assertThat(body.contains(&quot;ROLE_user&quot;));\n        assertThat(body.contains(&quot;ROLE_TESTER&quot;));\n    }\n}\n</code></pre>\n<p>Cucumber JUnit 4 adapter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.runner.RunWith;\n\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;classpath:cucumber-features&quot;, plugin = {\n        &quot;pretty&quot;,\n        &quot;html:target/cucumber&quot; }, extraGlue = &quot;com.c4_soft.springaddons.samples.webmvc.cucumber.extraglue&quot;)\npublic class CucumberIntegrationTest {\n}\n</code></pre>\n<p>Spring &quot;extraglue&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.c4_soft.springaddons.samples.webmvc.cucumber.extraglue;\n\n...\n\n@CucumberContextConfiguration\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@ContextConfiguration(classes = { SpringBootSampleApp.class })\n@AutoConfigureMockMvc\npublic static class CucumberSpringConfiguration {\n}\n</code></pre>\n"}],"owner":{"account_id":4537393,"reputation":1204,"user_id":3686193,"display_name":"Vithursa Mahendrarajah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689878573,"creation_date":1689839420,"question_id":76727731,"body_markdown":"I have written API functional test cases for Spring boot Application using cucumber test framework. The tests are executed after starting the spring boot application in a profile with dedicated configurations for test cases, using the following command:\r\n\r\n```\r\nmvn spring-boot:start -Dspring-boot.run.profiles=test -Dspring-boot.run.arguments=&quot;--spring.config.name=application-test --spring.config.location=./src/test/resources/application-test.yaml&quot; test spring-boot:stop -DskipTests=false\r\n\r\n```\r\n\r\nThe API call is made from test cases once the spring application is started and the responses are validated in the tests.\r\n\r\nI have disabled the security in test cases using the custom WebSecurityConfigurerAdapter given below:\r\n\r\n```\r\n@TestConfiguration\r\n@Order(1)\r\n@Profile(&quot;test&quot;)\r\npublic class TestSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .permitAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThe security is disabled. But there are some controllers where the role is checked with @PreAuthorize annotation. The calls made to the controller with @PreAuthorize annotation is failed with the following error:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: 1689838624242,\r\n    &quot;errorType&quot;: &quot;UNKNOWN&quot;,\r\n    &quot;errors&quot;: [\r\n        &quot;Access is denied&quot;\r\n    ]\r\n}\r\n```\r\n\r\nTried several options to disabled to PreAuthorize field to specific profile but none of them worked. Appreciate any idea on how to disable the @PreAuthorize check for a selected profile or in test cases with Cucumber.\r\n\r\n\r\nThe options already tried:\r\n\r\n1. set ```@EnableGlobalMethodSecurity(prePostEnabled = true)``` in test. It didn&#39;t work\r\n2. Referred to this [SO answer][1]. My spring boot application is secured with Oauth2, which I disabled in tests. so sending basic auth credentials will not work. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44561974/restassured-how-to-disable-preauthorize-when?rq=4","title":"Disable @PreAuthorize annotation when running a profile","body":"<p>I have written API functional test cases for Spring boot Application using cucumber test framework. The tests are executed after starting the spring boot application in a profile with dedicated configurations for test cases, using the following command:</p>\n<pre><code>mvn spring-boot:start -Dspring-boot.run.profiles=test -Dspring-boot.run.arguments=&quot;--spring.config.name=application-test --spring.config.location=./src/test/resources/application-test.yaml&quot; test spring-boot:stop -DskipTests=false\n\n</code></pre>\n<p>The API call is made from test cases once the spring application is started and the responses are validated in the tests.</p>\n<p>I have disabled the security in test cases using the custom WebSecurityConfigurerAdapter given below:</p>\n<pre><code>@TestConfiguration\n@Order(1)\n@Profile(&quot;test&quot;)\npublic class TestSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .anyRequest()\n                .permitAll();\n    }\n\n}\n</code></pre>\n<p>The security is disabled. But there are some controllers where the role is checked with @PreAuthorize annotation. The calls made to the controller with @PreAuthorize annotation is failed with the following error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1689838624242,\n    &quot;errorType&quot;: &quot;UNKNOWN&quot;,\n    &quot;errors&quot;: [\n        &quot;Access is denied&quot;\n    ]\n}\n</code></pre>\n<p>Tried several options to disabled to PreAuthorize field to specific profile but none of them worked. Appreciate any idea on how to disable the @PreAuthorize check for a selected profile or in test cases with Cucumber.</p>\n<p>The options already tried:</p>\n<ol>\n<li>set <code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code> in test. It didn't work</li>\n<li>Referred to this <a href=\"https://stackoverflow.com/questions/44561974/restassured-how-to-disable-preauthorize-when?rq=4\">SO answer</a>. My spring boot application is secured with Oauth2, which I disabled in tests. so sending basic auth credentials will not work.</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1502054202,"post_id":45536679,"comment_id":78033463,"body_markdown":"In the second instance you have completely defeated the point of the builder. A builder builds _complete_, _valid_ and _immutable_ instances - yours now does none of those things. What&#39;s even worse is that the builder can mutate the built object **after** `build` is called. I don&#39;t see any problem with the &quot;duplicated fields&quot; - but your proposed alternative is just awful.","body":"In the second instance you have completely defeated the point of the builder. A builder builds <i>complete</i>, <i>valid</i> and <i>immutable</i> instances - yours now does none of those things. What&#39;s even worse is that the builder can mutate the built object <b>after</b> <code>build</code> is called. I don&#39;t see any problem with the &quot;duplicated fields&quot; - but your proposed alternative is just awful."},{"owner":{"account_id":3482547,"reputation":887,"user_id":7783416,"accept_rate":80,"display_name":"user2914191"},"score":0,"creation_date":1502054327,"post_id":45536679,"comment_id":78033496,"body_markdown":"i see what you mean thanks for the feedback","body":"i see what you mean thanks for the feedback"},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":1,"creation_date":1502054871,"post_id":45536679,"comment_id":78033606,"body_markdown":"what first comment said is not right IMHO. A builder can do whatever it needs to do before the build method is called. And your code does not prove to be wrong or right (it depends on the code you don&#39;t show). a builder can mutate an object as it wants to while is on the process of being built. The only MUST is that noone outside the builder must be able to modify it, and also that once build method is called noone at all (not even the builder) can modify it.  The members of Person you show are private and immutable so everything is fine. The key here is if you have a public setter or not.","body":"what first comment said is not right IMHO. A builder can do whatever it needs to do before the build method is called. And your code does not prove to be wrong or right (it depends on the code you don&#39;t show). a builder can mutate an object as it wants to while is on the process of being built. The only MUST is that noone outside the builder must be able to modify it, and also that once build method is called noone at all (not even the builder) can modify it.  The members of Person you show are private and immutable so everything is fine. The key here is if you have a public setter or not."},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":0,"creation_date":1502055918,"post_id":45536679,"comment_id":78033826,"body_markdown":"@BoristheSpider why do you say the object can be modified sfter build is called? the code shown does not prove that. before doing so contundent comments (and with subjective adjectives like &quot;awful&quot;) i would just read carefuly the design.","body":"@BoristheSpider why do you say the object can be modified sfter build is called? the code shown does not prove that. before doing so contundent comments (and with subjective adjectives like &quot;awful&quot;) i would just read carefuly the design."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1502056303,"post_id":45536679,"comment_id":78033888,"body_markdown":"@albert_nil of course it does. The builder holds a reference to the object it&#39;s creating, it simply returns the reference from `build`. Calling, say, `id` after calling `build` will change the value of `id` on the built object. There are other reasons why this isn&#39;t the builder pattern; for example because `build` should return a different instance each invocation. This is just the definition of the builder pattern - no use arguing.","body":"@albert_nil of course it does. The builder holds a reference to the object it&#39;s creating, it simply returns the reference from <code>build</code>. Calling, say, <code>id</code> after calling <code>build</code> will change the value of <code>id</code> on the built object. There are other reasons why this isn&#39;t the builder pattern; for example because <code>build</code> should return a different instance each invocation. This is just the definition of the builder pattern - no use arguing."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1502056404,"post_id":45536679,"comment_id":78033909,"body_markdown":"Yes the builder pattern in Java done right requires an enormous amount of boilerplate. No, your alternative isn&#39;t right. Have a look at Google AutoValue. It takes away most of the pain: https://github.com/google/auto/blob/master/value/userguide/index.md","body":"Yes the builder pattern in Java done right requires an enormous amount of boilerplate. No, your alternative isn&#39;t right. Have a look at Google AutoValue. It takes away most of the pain: <a href=\"https://github.com/google/auto/blob/master/value/userguide/index.md\" rel=\"nofollow noreferrer\">github.com/google/auto/blob/master/value/userguide/index.md</a>"},{"owner":{"account_id":6186964,"reputation":7558,"user_id":6245827,"display_name":"oowekyala"},"score":1,"creation_date":1502056419,"post_id":45536679,"comment_id":78033911,"body_markdown":"@albert_nil If you used that implementation to build a Person like so: `Builder b = new Person.Builder(); Person p = b.name(&quot;foo&quot;).build();`, a call to e.g. `b.name(&quot;bar&quot;);` would change the name of `p`. That&#39;s really undesirable.","body":"@albert_nil If you used that implementation to build a Person like so: <code>Builder b = new Person.Builder(); Person p = b.name(&quot;foo&quot;).build();</code>, a call to e.g. <code>b.name(&quot;bar&quot;);</code> would change the name of <code>p</code>. That&#39;s really undesirable."},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":0,"creation_date":1502056903,"post_id":45536679,"comment_id":78034030,"body_markdown":"@Oowekyala (and BoristheSpider) now i see it. you are right and i&#39;m wrong. i missed that scenario. Will remove my answer to remove noise.","body":"@Oowekyala (and BoristheSpider) now i see it. you are right and i&#39;m wrong. i missed that scenario. Will remove my answer to remove noise."},{"owner":{"account_id":10913378,"reputation":527,"user_id":8022004,"display_name":"qlown"},"score":0,"creation_date":1502057163,"post_id":45536679,"comment_id":78034082,"body_markdown":"Devil&#39;s advocate: what if that `Builder` has an additional field like `boolean done=false` that would be set to `true` within `build()`, and all other setters would check that to prevent @Oowekyala&#39;s scenario? (I&#39;m sure there&#39;s a hole, but... me curious)","body":"Devil&#39;s advocate: what if that <code>Builder</code> has an additional field like <code>boolean done=false</code> that would be set to <code>true</code> within <code>build()</code>, and all other setters would check that to prevent @Oowekyala&#39;s scenario? (I&#39;m sure there&#39;s a hole, but... me curious)"},{"owner":{"account_id":6186964,"reputation":7558,"user_id":6245827,"display_name":"oowekyala"},"score":0,"creation_date":1502060927,"post_id":45536679,"comment_id":78034876,"body_markdown":"@qlown well I guess you could either make those setters no ops or throw an exception when improperly used. The former is confusing, the latter is certainly worse... Anyway you&#39;d just have spreaded the boilerplate around your class","body":"@qlown well I guess you could either make those setters no ops or throw an exception when improperly used. The former is confusing, the latter is certainly worse... Anyway you&#39;d just have spreaded the boilerplate around your class"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1502088415,"post_id":45536679,"comment_id":78041441,"body_markdown":"@qlown it doesn&#39;t solve the real problem, of the member fields not being `final`. It also requires you to have that check in every builder method, which one can argue is worse that just having to have the fields twice.","body":"@qlown it doesn&#39;t solve the real problem, of the member fields not being <code>final</code>. It also requires you to have that check in every builder method, which one can argue is worse that just having to have the fields twice."},{"owner":{"account_id":8747220,"reputation":738,"user_id":6542013,"accept_rate":75,"display_name":"SuhasD"},"score":0,"creation_date":1540301565,"post_id":45536679,"comment_id":92808654,"body_markdown":"@BoristheSpider just curious, If i want to create hundreds of instances of Person i need create to Builder for each instance separately. Will this create any issue with memory footprint ? With normal approach, (copying fields inside builder) i can create Builder once and use it to create hundreds of instances of Person.","body":"@BoristheSpider just curious, If i want to create hundreds of instances of Person i need create to Builder for each instance separately. Will this create any issue with memory footprint ? With normal approach, (copying fields inside builder) i can create Builder once and use it to create hundreds of instances of Person."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1540303245,"post_id":45536679,"comment_id":92809829,"body_markdown":"&quot;_If i want to create hundreds of instances of Person i need create to Builder for each instance separately_&quot; - indeed with a real builder you can just call `build()` over and over again on the same `Builder`. This antipattern is broken for your reason too - and anyone using it as a normal builder is going to have a nasty surprise.","body":"&quot;<i>If i want to create hundreds of instances of Person i need create to Builder for each instance separately</i>&quot; - indeed with a real builder you can just call <code>build()</code> over and over again on the same <code>Builder</code>. This antipattern is broken for your reason too - and anyone using it as a normal builder is going to have a nasty surprise."},{"owner":{"account_id":8747220,"reputation":738,"user_id":6542013,"accept_rate":75,"display_name":"SuhasD"},"score":0,"creation_date":1540361945,"post_id":45536679,"comment_id":92830942,"body_markdown":"@BoristheSpider Any issue with memory footprint with respect to these 2 builder approaches ?","body":"@BoristheSpider Any issue with memory footprint with respect to these 2 builder approaches ?"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1689727055,"post_id":45536679,"comment_id":135253405,"body_markdown":"Want to avoid duplicate code and/or lot of boilerplate code on builders? Use Lombok and annotate your product class with `@Builder`. Other than that, in order to avoid having to duplicate the same properties within a product and its builder one needs to externalize the properties to a state object, create that state object within the builder and pass it along to the constructor of the product which then either uses the configured state object only internally or allows read access on certain properties to the outside","body":"Want to avoid duplicate code and/or lot of boilerplate code on builders? Use Lombok and annotate your product class with <code>@Builder</code>. Other than that, in order to avoid having to duplicate the same properties within a product and its builder one needs to externalize the properties to a state object, create that state object within the builder and pass it along to the constructor of the product which then either uses the configured state object only internally or allows read access on certain properties to the outside"}],"answers":[{"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1502056387,"post_id":45536905,"comment_id":78033906,"body_markdown":"As described above; code is not fine. In fact, specifically, it violates your point 4.","body":"As described above; code is not fine. In fact, specifically, it violates your point 4."},{"owner":{"account_id":4283732,"reputation":585,"user_id":4111747,"accept_rate":0,"display_name":"user265732"},"score":0,"creation_date":1502056397,"post_id":45536905,"comment_id":78033907,"body_markdown":"Following your definition - how comes that you find the second approach perfectly fine? After invoking build, one can invoke the id method and modify the returned object&#39;s ID.\n\nAnother weird thing here, although not very critical,  is that you create the Person object before invoking the build method.","body":"Following your definition - how comes that you find the second approach perfectly fine? After invoking build, one can invoke the id method and modify the returned object&#39;s ID.  Another weird thing here, although not very critical,  is that you create the Person object before invoking the build method."},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":1,"creation_date":1502057259,"post_id":45536905,"comment_id":78034107,"body_markdown":"you are right, i didn&#39;t noticed build was returning person instance as is. It should return a clone/copy or at least have a flag in builder to forbid calling any other builder instance method after build is called. Will update answer","body":"you are right, i didn&#39;t noticed build was returning person instance as is. It should return a clone/copy or at least have a flag in builder to forbid calling any other builder instance method after build is called. Will update answer"},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":1,"creation_date":1502057821,"post_id":45536905,"comment_id":78034251,"body_markdown":"@user265732 regarding your concern about instance created before build method, i would say this can make a difference depending on your specific Builder needs. If your build method will do some validations that would prevent object to be created always, then this could be an important difference. But if it&#39;s not the case (Builder just used as a way to reach immutability while still being able to fill instance on several steps), then it should not be a difference at all: you will probably call the build method if you start filling a builder. But it&#39;s true that it might be important.","body":"@user265732 regarding your concern about instance created before build method, i would say this can make a difference depending on your specific Builder needs. If your build method will do some validations that would prevent object to be created always, then this could be an important difference. But if it&#39;s not the case (Builder just used as a way to reach immutability while still being able to fill instance on several steps), then it should not be a difference at all: you will probably call the build method if you start filling a builder. But it&#39;s true that it might be important."},{"owner":{"account_id":4283732,"reputation":585,"user_id":4111747,"accept_rate":0,"display_name":"user265732"},"score":0,"creation_date":1502058643,"post_id":45536905,"comment_id":78034463,"body_markdown":"Didn&#39;t fully understand your validation argument which should support the fact that a Person object is created in advance -  Are you talking about validations that can only be performed on the object and not on each field? Can you provide an example (which makes sense to be in the builder&#39;s scope)?","body":"Didn&#39;t fully understand your validation argument which should support the fact that a Person object is created in advance -  Are you talking about validations that can only be performed on the object and not on each field? Can you provide an example (which makes sense to be in the builder&#39;s scope)?"},{"owner":{"account_id":6186964,"reputation":7558,"user_id":6245827,"display_name":"oowekyala"},"score":1,"creation_date":1502061584,"post_id":45536905,"comment_id":78035042,"body_markdown":"@albert_nil you mention that if the builder is meant to achieve immutability it does not matter whether the instance is created in the build method or before. But calling the constructor in the build method enables you to make the fields of Person final, which I&#39;d argue is safer and makes less boilerplate than providing private setters for those fields","body":"@albert_nil you mention that if the builder is meant to achieve immutability it does not matter whether the instance is created in the build method or before. But calling the constructor in the build method enables you to make the fields of Person final, which I&#39;d argue is safer and makes less boilerplate than providing private setters for those fields"},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":1,"creation_date":1502084978,"post_id":45536905,"comment_id":78040094,"body_markdown":"@Oowekyala i didn&#39;t say to provide private setters, i said to not provide public setters. You can remove setters at all. i agree that generally speaking is prefersble final members (along with more safety measures). It&#39;s one of the downs. Not saying this approach is better than others, just that is valid. It has its pros and cons IMHO","body":"@Oowekyala i didn&#39;t say to provide private setters, i said to not provide public setters. You can remove setters at all. i agree that generally speaking is prefersble final members (along with more safety measures). It&#39;s one of the downs. Not saying this approach is better than others, just that is valid. It has its pros and cons IMHO"},{"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"score":0,"creation_date":1502085183,"post_id":45536905,"comment_id":78040172,"body_markdown":"@user265732 there are times in which you add validations ln the &quot;build&quot; method. For example, maybe when field 1 value is A is mandatory to have a field 2 value filled. When field 2 is not A, field 2 can be null. In these scenarios, if the validation fails, your build method will throw an exception (IllegalArgumentException for instance), and no instance will be constructed at all.","body":"@user265732 there are times in which you add validations ln the &quot;build&quot; method. For example, maybe when field 1 value is A is mandatory to have a field 2 value filled. When field 2 is not A, field 2 can be null. In these scenarios, if the validation fails, your build method will throw an exception (IllegalArgumentException for instance), and no instance will be constructed at all."}],"tags":[],"owner":{"account_id":11432624,"reputation":1648,"user_id":8380917,"display_name":"albert_nil"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1502057455,"creation_date":1502055493,"answer_id":45536905,"question_id":45536679,"body_markdown":"Your code would be fine as long as:\n\n 1. you keep your Person member variables private (you are doing so)\n 2. you don&#39;t provide methods that allow modification of those member variables (the code you show does not do, but you have omitted parts of it)\n 3. those member variables are immutable or you ensure getters provide copies of them. usually better that the members are already immutable (hint: even java collections). otherwise you will be creating  instances on each getX call.\n 4. once Builder.build is called, noone must be able to modify Person instance state, not even Builder itself. **this is not happening in the code you posted**\n 5. builder does not expose &quot;temporal instance&quot; being built (if any at all). No instance must be exposed aside the return of build method.\n\nthere are opinions about which is the preferred way or not, matter of taste most of the time. But in terms of being right or not, that approach would be fine with some modifications. At the end, what happens before the build is called is purely internal to the Builder. It&#39;s an implementation matter. The important thing is that the previous rules are met.\n\nTo fix rule 4: your Builder.build method should return a deep clone of the temp instance being used (there are ways to achcieve that without needing to specify each field). Or, you should have a flag in builder that forbids calling any other method on Builder instance, once build has been called.\n\nSide note: i usually prefer that Builder class also uses private constructor. I would have this on Person class:\n\n    public static Builder builder() {\n        return new Builder();\n    }\n\nThis can give you more flexibility on the way to initialize the Builder, or even you can have several builder methods doing not exactly the same stuff in terms of &quot;preconfiguring&quot; the builder (and since they are methods, you have more flexibility on naming than on constructors :) )","title":"java nested builder pattern duplicate fields","body":"<p>Your code would be fine as long as:</p>\n\n<ol>\n<li>you keep your Person member variables private (you are doing so)</li>\n<li>you don't provide methods that allow modification of those member variables (the code you show does not do, but you have omitted parts of it)</li>\n<li>those member variables are immutable or you ensure getters provide copies of them. usually better that the members are already immutable (hint: even java collections). otherwise you will be creating  instances on each getX call.</li>\n<li>once Builder.build is called, noone must be able to modify Person instance state, not even Builder itself. <strong>this is not happening in the code you posted</strong></li>\n<li>builder does not expose \"temporal instance\" being built (if any at all). No instance must be exposed aside the return of build method.</li>\n</ol>\n\n<p>there are opinions about which is the preferred way or not, matter of taste most of the time. But in terms of being right or not, that approach would be fine with some modifications. At the end, what happens before the build is called is purely internal to the Builder. It's an implementation matter. The important thing is that the previous rules are met.</p>\n\n<p>To fix rule 4: your Builder.build method should return a deep clone of the temp instance being used (there are ways to achcieve that without needing to specify each field). Or, you should have a flag in builder that forbids calling any other method on Builder instance, once build has been called.</p>\n\n<p>Side note: i usually prefer that Builder class also uses private constructor. I would have this on Person class:</p>\n\n<pre><code>public static Builder builder() {\n    return new Builder();\n}\n</code></pre>\n\n<p>This can give you more flexibility on the way to initialize the Builder, or even you can have several builder methods doing not exactly the same stuff in terms of \"preconfiguring\" the builder (and since they are methods, you have more flexibility on naming than on constructors :) )</p>\n"},{"comments":[{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1689687227,"post_id":76688749,"comment_id":135246715,"body_markdown":"Builder pattern is for constructing complex objects step by step. Here we loss the original intention.","body":"Builder pattern is for constructing complex objects step by step. Here we loss the original intention."},{"owner":{"account_id":23943351,"reputation":1,"user_id":17936059,"display_name":"FINNER"},"score":0,"creation_date":1689708789,"post_id":76688749,"comment_id":135251265,"body_markdown":"Do we? You can still build your object using method chaining, just like with a standard builder.","body":"Do we? You can still build your object using method chaining, just like with a standard builder."}],"tags":[],"owner":{"account_id":23943351,"reputation":1,"user_id":17936059,"display_name":"FINNER"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689878567,"creation_date":1689345673,"answer_id":76688749,"question_id":45536679,"body_markdown":"The simplest way, in my eyes, for getting rid of duplicate fields would be this:\r\n\r\n    class Person{\r\n\r\n        private final Builder builder;\r\n\r\n        private Person(Builder builder){\r\n            this.builder = builder;\r\n        }\r\n\r\n        public static class Builder{\r\n            private int id;\r\n            private String name;\r\n            private int age;\r\n            ... so on\r\n\r\n            public Builder id(int id){\r\n                this.id = id;\r\n                return this;\r\n            }\r\n            public Builder name(String name){\r\n                this.name = name;\r\n                return this;\r\n            }\r\n            ... so on\r\n\r\n            public Person build(){\r\n                return new Person(this.copy());\r\n            }\r\n\r\n            public Builder copy(){\r\n                return new Builder()\r\n                    .id(id)\r\n                    .name(name)\r\n                    .age(age)\r\n                    ... so on\r\n            }\r\n        }\r\n\r\n        // Optional getters\r\n        public int getID(){\r\n            return builder.id;\r\n        }\r\n        public String getName(){\r\n            return builder.name;\r\n        }\r\n        ... so on\r\n        // Optional setters\r\n        public void setID(int id){\r\n            builder.id = id;\r\n        }\r\n        public void setName(String name){\r\n            builder.name = name;\r\n        }\r\n        ... so on\r\n    }\r\nThis should still adhere to the rules laid out by albert_nil&#39;s answer, even with getters/setters since it&#39;s a **copy** of the builder being returned when build() is invoked.\r\n\r\nBut I think one thing to watch out for is serializing, because it will go from this:\r\n\r\n    Person: {\r\n        id: 0,\r\n        name: null,\r\n        age: 0,\r\n        ... so on\r\n    }\r\n\r\nTo this:\r\n\r\n    Person: {\r\n        builder: {\r\n            id: 0,\r\n            name: null,\r\n            age: 0,\r\n            ... so on\r\n        }\r\n    }","title":"java nested builder pattern duplicate fields","body":"<p>The simplest way, in my eyes, for getting rid of duplicate fields would be this:</p>\n<pre><code>class Person{\n\n    private final Builder builder;\n\n    private Person(Builder builder){\n        this.builder = builder;\n    }\n\n    public static class Builder{\n        private int id;\n        private String name;\n        private int age;\n        ... so on\n\n        public Builder id(int id){\n            this.id = id;\n            return this;\n        }\n        public Builder name(String name){\n            this.name = name;\n            return this;\n        }\n        ... so on\n\n        public Person build(){\n            return new Person(this.copy());\n        }\n\n        public Builder copy(){\n            return new Builder()\n                .id(id)\n                .name(name)\n                .age(age)\n                ... so on\n        }\n    }\n\n    // Optional getters\n    public int getID(){\n        return builder.id;\n    }\n    public String getName(){\n        return builder.name;\n    }\n    ... so on\n    // Optional setters\n    public void setID(int id){\n        builder.id = id;\n    }\n    public void setName(String name){\n        builder.name = name;\n    }\n    ... so on\n}\n</code></pre>\n<p>This should still adhere to the rules laid out by albert_nil's answer, even with getters/setters since it's a <strong>copy</strong> of the builder being returned when build() is invoked.</p>\n<p>But I think one thing to watch out for is serializing, because it will go from this:</p>\n<pre><code>Person: {\n    id: 0,\n    name: null,\n    age: 0,\n    ... so on\n}\n</code></pre>\n<p>To this:</p>\n<pre><code>Person: {\n    builder: {\n        id: 0,\n        name: null,\n        age: 0,\n        ... so on\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3482547,"reputation":887,"user_id":7783416,"accept_rate":80,"display_name":"user2914191"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45536905,"answer_count":2,"score":7,"last_activity_date":1689878567,"creation_date":1502053893,"question_id":45536679,"body_markdown":"The nested builder patterns that I&#39;ve come across online usually have something like this:\r\n\r\n    class Person{\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int age;\r\n        ... so on\r\n    \r\n        private Person(Builder builder){\r\n            this.id = builder.id;\r\n            this.name = builder.name;\r\n            this.age = builder.age;\r\n        }\r\n    \r\n        public static class Builder{\r\n            \r\n            private int id;\r\n            private String name;\r\n            private int age;\r\n            ... so on\r\n    \r\n            public Builder id(int id){\r\n                this.id = id;\r\n                return this;\r\n            }\r\n            public Builder name(String name){\r\n                 this.name = name;\r\n                 return this;\r\n            }\r\n            .... so on\r\n    \r\n            public Person build(){\r\n                return new Person(this);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nMy question is, is it necessary to duplicate fields in `Person` and `Builder`? It seems like a lot of redundant code. And my second question is, would the following code be a viable replacement, why or why not?\r\n\r\n\r\n    class Person{\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int age;\r\n        ... so on\r\n    \r\n        private Person(){}\r\n    \r\n        public static class Builder{\r\n            \r\n            private Person person = new Person();\r\n    \r\n            public Builder id(int id){\r\n                this.person.id = id;\r\n                return this;\r\n            }\r\n            public Builder name(String name){\r\n                 this.person.name = name;\r\n                 return this;\r\n            }\r\n            .... so on\r\n    \r\n            public Person build(){\r\n                return person;\r\n            }\r\n            // UPDATED -- another build method\r\n            public Person build(){\r\n                Person built = this.person;\r\n                this.person = new Person();\r\n                return built;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNote: I understand this topic may be opinionated and there may not be a &quot;right&quot; answer, but I just want to hear different ideas and opinions. I&#39;m not looking for the `ultimate truth`.","title":"java nested builder pattern duplicate fields","body":"<p>The nested builder patterns that I've come across online usually have something like this:</p>\n\n<pre><code>class Person{\n\n    private int id;\n    private String name;\n    private int age;\n    ... so on\n\n    private Person(Builder builder){\n        this.id = builder.id;\n        this.name = builder.name;\n        this.age = builder.age;\n    }\n\n    public static class Builder{\n\n        private int id;\n        private String name;\n        private int age;\n        ... so on\n\n        public Builder id(int id){\n            this.id = id;\n            return this;\n        }\n        public Builder name(String name){\n             this.name = name;\n             return this;\n        }\n        .... so on\n\n        public Person build(){\n            return new Person(this);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>My question is, is it necessary to duplicate fields in <code>Person</code> and <code>Builder</code>? It seems like a lot of redundant code. And my second question is, would the following code be a viable replacement, why or why not?</p>\n\n<pre><code>class Person{\n\n    private int id;\n    private String name;\n    private int age;\n    ... so on\n\n    private Person(){}\n\n    public static class Builder{\n\n        private Person person = new Person();\n\n        public Builder id(int id){\n            this.person.id = id;\n            return this;\n        }\n        public Builder name(String name){\n             this.person.name = name;\n             return this;\n        }\n        .... so on\n\n        public Person build(){\n            return person;\n        }\n        // UPDATED -- another build method\n        public Person build(){\n            Person built = this.person;\n            this.person = new Person();\n            return built;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Note: I understand this topic may be opinionated and there may not be a \"right\" answer, but I just want to hear different ideas and opinions. I'm not looking for the <code>ultimate truth</code>.</p>\n"},{"tags":["java","jstl","jsp-tags","displaytag"],"comments":[{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1400613547,"post_id":23767702,"comment_id":36548821,"body_markdown":"Any input is highly appreciated.","body":"Any input is highly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":3926026,"reputation":3785,"user_id":3246484,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400618759,"creation_date":1400618759,"answer_id":23769630,"question_id":23767702,"body_markdown":"If you are including sort=&quot;external&quot;, you are telling displayTag that your backend code is performing the sorting(like implementing Comparable interface) and displayTag help is not required.\r\nIf you are including partialList=&quot;true&quot;, you are telling displayTag, that only partial list of items are to displayed and not full.\r\n\r\nIf you are learning as to how to use displayTag and its intrinsic sorting behavior and tblItems properties are simple data types like String, int etc.,(for user defined types like a class, you need them to implement Comparable interface again) then replace your first line as and try:\r\n\r\n\t\t&lt;display-el:table defaultsort=&quot;1&quot; htmlId=&quot;tbl&quot; id=&quot;row&quot; name=&quot;tblItems&quot; class=&quot;default&quot; style=&quot;width:100%&quot; export=&quot;false&quot; cellspacing=&quot;1&quot; cellpadding=&quot;1&quot; pagesize=&quot;10&quot; decorator=&quot;abc.web.testIncludeDecorator&quot; requestURI=&quot;${pageContext.request.contextPath}/../${requestScope.requestURI}&quot;&gt;\r\n \r\n ","title":"How to add sorting to display tag","body":"<p>If you are including sort=\"external\", you are telling displayTag that your backend code is performing the sorting(like implementing Comparable interface) and displayTag help is not required.\nIf you are including partialList=\"true\", you are telling displayTag, that only partial list of items are to displayed and not full.</p>\n\n<p>If you are learning as to how to use displayTag and its intrinsic sorting behavior and tblItems properties are simple data types like String, int etc.,(for user defined types like a class, you need them to implement Comparable interface again) then replace your first line as and try:</p>\n\n<pre><code>    &lt;display-el:table defaultsort=\"1\" htmlId=\"tbl\" id=\"row\" name=\"tblItems\" class=\"default\" style=\"width:100%\" export=\"false\" cellspacing=\"1\" cellpadding=\"1\" pagesize=\"10\" decorator=\"abc.web.testIncludeDecorator\" requestURI=\"${pageContext.request.contextPath}/../${requestScope.requestURI}\"&gt;\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689877140,"creation_date":1400611854,"question_id":23767702,"body_markdown":"I am trying to use sorting option in display tag. Saw a couple of examples online and understand that ```sortable=&quot;true&quot;``` will make the column sortable. Adding ```sortable=&quot;true&quot;``` to the column makes the column hyperlink but onclick nothing happens. I mean it is not sorted either way. Can someone let me know.\r\n\r\nThis is how the code looks.\r\n\r\n    &lt;display-el:table sort=&quot;external&quot; defaultsort=&quot;1&quot; htmlId=&quot;tbl&quot; id=&quot;row&quot; name=&quot;tblItems&quot; class=&quot;default&quot; style=&quot;width:100%&quot; export=&quot;false&quot; cellspacing=&quot;1&quot; cellpadding=&quot;1&quot; pagesize=&quot;10&quot; partialList=&quot;true&quot; size=&quot;resultSize&quot; decorator=&quot;abc.web.testIncludeDecorator&quot; requestURI=&quot;${pageContext.request.contextPath}/../${requestScope.requestURI}&quot;&gt;\r\n     \t&lt;display-el:column property=&quot;test1&quot; title=&quot;abc&quot; sortable=&quot;true&quot;  class=&quot;defaultTest&quot; style=&quot;width:2%;&quot; /&gt;\r\n       \t&lt;display-el:column property=&quot;crid&quot; title=&quot;def&quot; sortable=&quot;true&quot; class=&quot;defaultTest&quot; style=&quot;width:2%;&quot; /&gt;        \t \r\n        &lt;display-el:column property=&quot;sample&quot; title=&quot;ghi&quot; sortable=&quot;true&quot; class=&quot;defaultTest&quot; style=&quot;width:2%;&quot; /&gt;\r\n    &lt;/display-el:table&gt;","title":"How to add sorting to display tag","body":"<p>I am trying to use sorting option in display tag. Saw a couple of examples online and understand that <code>sortable=&quot;true&quot;</code> will make the column sortable. Adding <code>sortable=&quot;true&quot;</code> to the column makes the column hyperlink but onclick nothing happens. I mean it is not sorted either way. Can someone let me know.</p>\n<p>This is how the code looks.</p>\n<pre><code>&lt;display-el:table sort=&quot;external&quot; defaultsort=&quot;1&quot; htmlId=&quot;tbl&quot; id=&quot;row&quot; name=&quot;tblItems&quot; class=&quot;default&quot; style=&quot;width:100%&quot; export=&quot;false&quot; cellspacing=&quot;1&quot; cellpadding=&quot;1&quot; pagesize=&quot;10&quot; partialList=&quot;true&quot; size=&quot;resultSize&quot; decorator=&quot;abc.web.testIncludeDecorator&quot; requestURI=&quot;${pageContext.request.contextPath}/../${requestScope.requestURI}&quot;&gt;\n    &lt;display-el:column property=&quot;test1&quot; title=&quot;abc&quot; sortable=&quot;true&quot;  class=&quot;defaultTest&quot; style=&quot;width:2%;&quot; /&gt;\n    &lt;display-el:column property=&quot;crid&quot; title=&quot;def&quot; sortable=&quot;true&quot; class=&quot;defaultTest&quot; style=&quot;width:2%;&quot; /&gt;          \n    &lt;display-el:column property=&quot;sample&quot; title=&quot;ghi&quot; sortable=&quot;true&quot; class=&quot;defaultTest&quot; style=&quot;width:2%;&quot; /&gt;\n&lt;/display-el:table&gt;\n</code></pre>\n"},{"tags":["java","maven","dependencies","pom.xml","maven-war-plugin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1687854890,"post_id":76563005,"comment_id":134991319,"body_markdown":"How will your application function without the transitive dependencies?","body":"How will your application function without the transitive dependencies?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687856711,"post_id":76563005,"comment_id":134991686,"body_markdown":"Your `&lt;exclusion&gt;` is correct. It will exclude the transitive dependencies.","body":"Your <code>&lt;exclusion&gt;</code> is correct. It will exclude the transitive dependencies."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687867894,"post_id":76563005,"comment_id":134994082,"body_markdown":"The biggest issue here is that most of the deps in batik-all are optional.. if I looked correctly only 2 are required... than the question is why do you have to exclude them? The other question is why using batik-all as a dependency and not the other package which are really needed? can you give more details on what you like to achieve?","body":"The biggest issue here is that most of the deps in batik-all are optional.. if I looked correctly only 2 are required... than the question is why do you have to exclude them? The other question is why using batik-all as a dependency and not the other package which are really needed? can you give more details on what you like to achieve?"},{"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"score":0,"creation_date":1687890844,"post_id":76563005,"comment_id":134999679,"body_markdown":"@tgdavies - I have tested my application without the transitive jar files sitting in the WEB-INF/lib directory in the war file, and the app loaded successfully.","body":"@tgdavies - I have tested my application without the transitive jar files sitting in the WEB-INF/lib directory in the war file, and the app loaded successfully."},{"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"score":0,"creation_date":1687891983,"post_id":76563005,"comment_id":134999929,"body_markdown":"@JFabianMeier - Although &#39;&lt;exclusions&gt;&#39; is an option, it did not work for me. All the transitive jar files were still included in the resulting packaged war file.","body":"@JFabianMeier - Although &#39;&lt;exclusions&gt;&#39; is an option, it did not work for me. All the transitive jar files were still included in the resulting packaged war file."},{"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"score":0,"creation_date":1687891991,"post_id":76563005,"comment_id":134999932,"body_markdown":"@khmarbaise - I want to prevent any transitive jar files from being included in the WEB-INF/lib folder of the packaged war file. Although most of the batik-all dependecies have the optional=true flag set, they are still being downloaded during build time and copied into the war.","body":"@khmarbaise - I want to prevent any transitive jar files from being included in the WEB-INF/lib folder of the packaged war file. Although most of the batik-all dependecies have the optional=true flag set, they are still being downloaded during build time and copied into the war."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1687893164,"post_id":76563005,"comment_id":135000121,"body_markdown":"There must be some other error in your setup. Exclusions are what they say. They exclude transitive dependencies. If they are still there, you have an error somewhere else. Furthermore, optional dependencies are NOT downloaded and put into the WAR. This is also not true.","body":"There must be some other error in your setup. Exclusions are what they say. They exclude transitive dependencies. If they are still there, you have an error somewhere else. Furthermore, optional dependencies are NOT downloaded and put into the WAR. This is also not true."},{"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"score":0,"creation_date":1687942567,"post_id":76563005,"comment_id":135006135,"body_markdown":"@JFabianMeier - What I seen while researching suggests that it should work however a full pom.xml file is never provided as an example to show how the wildcard exclusion will work in a pom that needs to generate a war file. The pom file I wrote isn&#39;t complex at all. It has dependencies listed and 1 plugin used (which is the maven-war-plugin). I am not sure if another plugin needs to be added to the pom in order for the exclusion wildcard to take into effect. Can you provide me an example of a full working pom file where the wild card exclusion are recognized when built?","body":"@JFabianMeier - What I seen while researching suggests that it should work however a full pom.xml file is never provided as an example to show how the wildcard exclusion will work in a pom that needs to generate a war file. The pom file I wrote isn&#39;t complex at all. It has dependencies listed and 1 plugin used (which is the maven-war-plugin). I am not sure if another plugin needs to be added to the pom in order for the exclusion wildcard to take into effect. Can you provide me an example of a full working pom file where the wild card exclusion are recognized when built?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687945024,"post_id":76563005,"comment_id":135006647,"body_markdown":"Actually, I wonder why you have `&lt;type&gt;pom&lt;/type&gt;` in your dependency. Maybe this causes the problem","body":"Actually, I wonder why you have <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> in your dependency. Maybe this causes the problem"},{"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"score":0,"creation_date":1687983142,"post_id":76563005,"comment_id":135014635,"body_markdown":"@JFabianMeier - I&#39;ve tried removing that and rebuilding, it didn&#39;t make a difference. Still say the transitive dependencies in my war file.","body":"@JFabianMeier - I&#39;ve tried removing that and rebuilding, it didn&#39;t make a difference. Still say the transitive dependencies in my war file."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688227830,"creation_date":1688227830,"answer_id":76595529,"question_id":76563005,"body_markdown":"The reason for this:\r\n\r\n`batik-all` is a fat JAR. It already contains its dependencies. So you can only take it completely or leave it.\r\n\r\nThe alternative is to use other `batik` JARs that are not fat JARs.","title":"Exclude transitive maven dependencies from generated war file","body":"<p>The reason for this:</p>\n<p><code>batik-all</code> is a fat JAR. It already contains its dependencies. So you can only take it completely or leave it.</p>\n<p>The alternative is to use other <code>batik</code> JARs that are not fat JARs.</p>\n"},{"tags":[],"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689876512,"creation_date":1689876512,"answer_id":76732641,"question_id":76563005,"body_markdown":"After considering everyone&#39;s response to my question I decided to take a step back in approaching the maven transitive dependencies for my project.\r\n\r\nI removed all the dependencies, re-ran a `mvn clean install` command, and for all the build errors that returned I identified each and every dependency that would resolve the build errors to find out which dependency definitions were copying transitive jar files and applied the below specifically to those:\r\n~~~\r\n    &lt;exclusions&gt;      \r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;*&lt;/groupId&gt;       \r\n            &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n~~~\r\nRunning `mvn dependency:tree` also helped to visually see the relationships between various dependencies and their transitive dependencies.\r\n\r\nStarting over from the beginning helped me identify which maven dependency definitions were truly causing the transitive jar files to be copied into the final deployable artifact for my project.","title":"Exclude transitive maven dependencies from generated war file","body":"<p>After considering everyone's response to my question I decided to take a step back in approaching the maven transitive dependencies for my project.</p>\n<p>I removed all the dependencies, re-ran a <code>mvn clean install</code> command, and for all the build errors that returned I identified each and every dependency that would resolve the build errors to find out which dependency definitions were copying transitive jar files and applied the below specifically to those:</p>\n<pre><code>    &lt;exclusions&gt;      \n        &lt;exclusion&gt;\n            &lt;groupId&gt;*&lt;/groupId&gt;       \n            &lt;artifactId&gt;*&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n</code></pre>\n<p>Running <code>mvn dependency:tree</code> also helped to visually see the relationships between various dependencies and their transitive dependencies.</p>\n<p>Starting over from the beginning helped me identify which maven dependency definitions were truly causing the transitive jar files to be copied into the final deployable artifact for my project.</p>\n"}],"owner":{"account_id":3967209,"reputation":23,"user_id":3272795,"display_name":"ďąяЌąɲǥeℓ"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689876512,"creation_date":1687854547,"question_id":76563005,"body_markdown":"I am in the process of converting a monolithic legacy enterprise application to use maven instead of ant. I created a list of dependencies that ant was using for the builds and accordingly created a maven pom file to list those dependencies in.\r\n\r\nThe problem I&#39;m currently facing is to try to include only the **direct dependencies** listed in the pom file, so that when an artifact is generated (war file in my case) only the direct dependencies are included in the WEB-INF/lib folder of the packaged war file for the maven project.\r\n\r\nExample dependency used:\r\n~~~\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-all --&gt;\r\n    &lt;dependency&gt;     \r\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;     \r\n        &lt;artifactId&gt;batik-all&lt;/artifactId&gt;     \r\n        &lt;version&gt;1.16&lt;/version&gt;     \r\n        &lt;type&gt;pom&lt;/type&gt; \r\n    &lt;/dependency&gt;\r\n~~~\r\n\r\nExecuting: mvn clean -U install\r\n\r\nResults in downloading and packaging approximately 30 transitive dependencies just for batik-all-1.16.jar\r\n(The transitive dependencies for batik-all can be seen listed here [batik-all-1.16.pom](https://repo1.maven.org/maven2/org/apache/xmlgraphics/batik-all/1.16/batik-all-1.16.pom))\r\n\r\nAfter doing a lot of research, I came across this as a possible solution but it made no difference (didn&#39;t resolve my problem - still included all the transitive jars).\r\n~~~\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-all --&gt;\r\n    &lt;dependency&gt;     \r\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;     \r\n        &lt;artifactId&gt;batik-all&lt;/artifactId&gt;     \r\n        &lt;version&gt;1.16&lt;/version&gt;     \r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;exclusions&gt;         \r\n            &lt;exclusion&gt;             \r\n                &lt;groupId&gt;*&lt;/groupId&gt;             \r\n                &lt;artifactId&gt;*&lt;/artifactId&gt;         \r\n            &lt;/exclusion&gt;     \r\n        &lt;/exclusions&gt; \r\n    &lt;/dependency&gt;\r\n~~~\r\n\r\nAnyone have an idea to resolve this issue?\r\n\r\nI would prefer not to use the tag `&lt;packagingExclusions&gt;` available under the maven-war-plugin only because I would have to exclude almost 80 specific transitive dependencies total for all the dependencies I need for the project, from being copied into the generated WEB-INF/lib folder of the war file.\r\n\r\nUsing maven version: 3.3.9 and maven-war-plugin-pinned version: 3.2.2","title":"Exclude transitive maven dependencies from generated war file","body":"<p>I am in the process of converting a monolithic legacy enterprise application to use maven instead of ant. I created a list of dependencies that ant was using for the builds and accordingly created a maven pom file to list those dependencies in.</p>\n<p>The problem I'm currently facing is to try to include only the <strong>direct dependencies</strong> listed in the pom file, so that when an artifact is generated (war file in my case) only the direct dependencies are included in the WEB-INF/lib folder of the packaged war file for the maven project.</p>\n<p>Example dependency used:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-all --&gt;\n    &lt;dependency&gt;     \n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;     \n        &lt;artifactId&gt;batik-all&lt;/artifactId&gt;     \n        &lt;version&gt;1.16&lt;/version&gt;     \n        &lt;type&gt;pom&lt;/type&gt; \n    &lt;/dependency&gt;\n</code></pre>\n<p>Executing: mvn clean -U install</p>\n<p>Results in downloading and packaging approximately 30 transitive dependencies just for batik-all-1.16.jar\n(The transitive dependencies for batik-all can be seen listed here <a href=\"https://repo1.maven.org/maven2/org/apache/xmlgraphics/batik-all/1.16/batik-all-1.16.pom\" rel=\"nofollow noreferrer\">batik-all-1.16.pom</a>)</p>\n<p>After doing a lot of research, I came across this as a possible solution but it made no difference (didn't resolve my problem - still included all the transitive jars).</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-all --&gt;\n    &lt;dependency&gt;     \n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;     \n        &lt;artifactId&gt;batik-all&lt;/artifactId&gt;     \n        &lt;version&gt;1.16&lt;/version&gt;     \n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;exclusions&gt;         \n            &lt;exclusion&gt;             \n                &lt;groupId&gt;*&lt;/groupId&gt;             \n                &lt;artifactId&gt;*&lt;/artifactId&gt;         \n            &lt;/exclusion&gt;     \n        &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n</code></pre>\n<p>Anyone have an idea to resolve this issue?</p>\n<p>I would prefer not to use the tag <code>&lt;packagingExclusions&gt;</code> available under the maven-war-plugin only because I would have to exclude almost 80 specific transitive dependencies total for all the dependencies I need for the project, from being copied into the generated WEB-INF/lib folder of the war file.</p>\n<p>Using maven version: 3.3.9 and maven-war-plugin-pinned version: 3.2.2</p>\n"},{"tags":["java","gradient-descent","backpropagation"],"owner":{"account_id":29058954,"reputation":1,"user_id":22260112,"display_name":"Abel Paiz Ilyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689876489,"creation_date":1689876489,"question_id":76732640,"body_markdown":"I am working on a neural network that learns through back propagation. I&#39;ve done some research and apparently randomized initial weights are essential.\r\n\r\nHowever, the error or cost of the final configuration of weights is almost the exact same initializing to random numbers and to 1/n (n being the number of neurons in that layer). And it turns out the final set of weights when it is initialized to 1/n isn&#39;t fully &quot;random&quot;. Which makes me think that there is an important step that I&#39;m missing that makes the algorithm see no difference between a neural network with a lot of hidden layers and neurons and a neural network with one hidden layer with one neuron. That would explain why the error is the same with the symmetry unbroken (through randomization) or with only one hidden layer and one neuron.\r\nThese are the results:\r\n[1/n](https://i.stack.imgur.com/xDLsf.png)[Random](https://i.stack.imgur.com/t9B6x.png)\r\n\r\nIf anyone has any clue about what the problem could be, please let me know.","title":"Back propagation Randomized initial weights","body":"<p>I am working on a neural network that learns through back propagation. I've done some research and apparently randomized initial weights are essential.</p>\n<p>However, the error or cost of the final configuration of weights is almost the exact same initializing to random numbers and to 1/n (n being the number of neurons in that layer). And it turns out the final set of weights when it is initialized to 1/n isn't fully &quot;random&quot;. Which makes me think that there is an important step that I'm missing that makes the algorithm see no difference between a neural network with a lot of hidden layers and neurons and a neural network with one hidden layer with one neuron. That would explain why the error is the same with the symmetry unbroken (through randomization) or with only one hidden layer and one neuron.\nThese are the results:\n<a href=\"https://i.stack.imgur.com/xDLsf.png\" rel=\"nofollow noreferrer\">1/n</a><a href=\"https://i.stack.imgur.com/t9B6x.png\" rel=\"nofollow noreferrer\">Random</a></p>\n<p>If anyone has any clue about what the problem could be, please let me know.</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1689877535,"post_id":76732549,"comment_id":135279271,"body_markdown":"do you mean something like green/blue deployment strategy?","body":"do you mean something like green/blue deployment strategy?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689878483,"post_id":76732549,"comment_id":135279432,"body_markdown":"If you are using cloud infra you can do anything you want. This isn&#39;t a Spring Boot feature but something that you should solve on a different level.","body":"If you are using cloud infra you can do anything you want. This isn&#39;t a Spring Boot feature but something that you should solve on a different level."}],"owner":{"account_id":953960,"reputation":2945,"user_id":979590,"accept_rate":38,"display_name":"Gabriel Belingueres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689875767,"creation_date":1689875767,"question_id":76732549,"body_markdown":"I&#39;d like to know if, for Spring Boot applications deployed as standalone jar files, there is anything resembling the &quot;parallel deployment&quot; feature of Tomcat, where a new version of the app start serving new sessions but the old version of the app still serves already created sessions. Is there any way to replace this feature?","title":"Spring Boot parallel deployment feature","body":"<p>I'd like to know if, for Spring Boot applications deployed as standalone jar files, there is anything resembling the &quot;parallel deployment&quot; feature of Tomcat, where a new version of the app start serving new sessions but the old version of the app still serves already created sessions. Is there any way to replace this feature?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7871,"page":297,"page_size":100}
