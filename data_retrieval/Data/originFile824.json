{"items":[{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670513946,"creation_date":1670513946,"answer_id":74732796,"question_id":74732482,"body_markdown":"You have to join the two conditions with and. This is how it looks with JPA JPQL\r\n\r\n    select q from Queue\r\n    where q.location.uuid = :location_uuid\r\n    and q.queueRoom.uuid = :room_uuid\r\n\r\nAnd this would be JPA Criteria API\r\n\r\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Queue&gt; criteria = builder.createQuery(Queue.class);\r\n    Root&lt;Queue&gt; queueRoot = criteria.from(Queue.class);\r\n    criteria.where(\r\n        builder.and(\r\n            builder.equal(queueRoot.get(&quot;location&quot;).get(&quot;uuid&quot;), location_uuid),\r\n            builder.equal(queueRoot.get(&quot;queueRoom&quot;).get(&quot;uuid&quot;), room_uuid)\r\n        )\r\n    );","title":"Add restrictions based on joint table values","body":"<p>You have to join the two conditions with and. This is how it looks with JPA JPQL</p>\n<pre><code>select q from Queue\nwhere q.location.uuid = :location_uuid\nand q.queueRoom.uuid = :room_uuid\n</code></pre>\n<p>And this would be JPA Criteria API</p>\n<pre><code>CriteriaBuilder builder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Queue&gt; criteria = builder.createQuery(Queue.class);\nRoot&lt;Queue&gt; queueRoot = criteria.from(Queue.class);\ncriteria.where(\n    builder.and(\n        builder.equal(queueRoot.get(&quot;location&quot;).get(&quot;uuid&quot;), location_uuid),\n        builder.equal(queueRoot.get(&quot;queueRoom&quot;).get(&quot;uuid&quot;), room_uuid)\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":8656323,"reputation":51,"user_id":6480460,"display_name":"CKW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670513946,"creation_date":1670512473,"question_id":74732482,"body_markdown":"I have a table called queue, the model looks like this:\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.AUTO)\r\n@Column(name = &quot;queue_id&quot;)\r\nprivate Integer queueId;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;location_id&quot;, nullable = false)\r\nprivate Location location;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;queue_room_id&quot;, nullable = true)\r\npublic QueueRoom queueRoom;\r\n\r\n@Override\r\npublic Integer getId() {\r\n\treturn getQueueId();\r\n}\r\n\r\n@Override\r\npublic void setId(Integer id) {\r\n\tthis.setQueueId(id);\r\n}\r\n```\r\n\r\nI am trying to retrieve queues based on a location uuid and queue room uuid. The foreign key on the queue table is the id. I can get queues by location uuid and queues by room uuid separately, but I can&#39;t seem to figure out a way to combine both restrictions. Any advise will be appreciated.\r\n```\r\n@Override\r\npublic List&lt;Queue&gt; getAllQueuesByLocationAndQueueRoom(String locationUuid, String queueRoomUuid) {\r\n\tCriteria criteria = getCurrentSession().createCriteria(Queue.class, &quot;q&quot;);\r\n\t//Include/exclude retired queues\r\n\tincludeVoidedObjects(criteria, false);\r\n\t\r\n\tCriteria locationCriteria = criteria.createCriteria(&quot;location&quot;, &quot;ql&quot;);\r\n\tlocationCriteria.add(Restrictions.eq(&quot;ql.uuid&quot;, locationUuid));\r\n\tCriteria queueRoomCriteria = criteria.createCriteria(&quot;queueRoom&quot;, &quot;qr&quot;);\r\n\tqueueRoomCriteria.add(Restrictions.eq(&quot;qr.uuid&quot;, queueRoomUuid));\r\n\t\r\n\treturn (List&lt;Queue&gt;) queueRoomCriteria.list();\r\n}\r\n```","title":"Add restrictions based on joint table values","body":"<p>I have a table called queue, the model looks like this:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;queue_id&quot;)\nprivate Integer queueId;\n\n@ManyToOne\n@JoinColumn(name = &quot;location_id&quot;, nullable = false)\nprivate Location location;\n\n@ManyToOne\n@JoinColumn(name = &quot;queue_room_id&quot;, nullable = true)\npublic QueueRoom queueRoom;\n\n@Override\npublic Integer getId() {\n    return getQueueId();\n}\n\n@Override\npublic void setId(Integer id) {\n    this.setQueueId(id);\n}\n</code></pre>\n<p>I am trying to retrieve queues based on a location uuid and queue room uuid. The foreign key on the queue table is the id. I can get queues by location uuid and queues by room uuid separately, but I can't seem to figure out a way to combine both restrictions. Any advise will be appreciated.</p>\n<pre><code>@Override\npublic List&lt;Queue&gt; getAllQueuesByLocationAndQueueRoom(String locationUuid, String queueRoomUuid) {\n    Criteria criteria = getCurrentSession().createCriteria(Queue.class, &quot;q&quot;);\n    //Include/exclude retired queues\n    includeVoidedObjects(criteria, false);\n    \n    Criteria locationCriteria = criteria.createCriteria(&quot;location&quot;, &quot;ql&quot;);\n    locationCriteria.add(Restrictions.eq(&quot;ql.uuid&quot;, locationUuid));\n    Criteria queueRoomCriteria = criteria.createCriteria(&quot;queueRoom&quot;, &quot;qr&quot;);\n    queueRoomCriteria.add(Restrictions.eq(&quot;qr.uuid&quot;, queueRoomUuid));\n    \n    return (List&lt;Queue&gt;) queueRoomCriteria.list();\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-fragments"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":4,"creation_date":1612874741,"post_id":66119231,"comment_id":116897568,"body_markdown":"You mean `onDestroyView`? (not `onDestroy`)","body":"You mean <code>onDestroyView</code>? (not <code>onDestroy</code>)"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":8,"creation_date":1612875188,"post_id":66119231,"comment_id":116897754,"body_markdown":"As is mentioned in [the documentation](https://developer.android.com/topic/libraries/view-binding): _&quot;Fragments outlive their views. Make sure you clean up any references to the binding class instance in the fragment&#39;s onDestroyView() method.&quot;_","body":"As is mentioned in <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">the documentation</a>: <i>&quot;Fragments outlive their views. Make sure you clean up any references to the binding class instance in the fragment&#39;s onDestroyView() method.&quot;</i>"},{"owner":{"account_id":8616112,"reputation":143,"user_id":6452883,"display_name":"Aorstab"},"score":0,"creation_date":1640081491,"post_id":66119231,"comment_id":124505169,"body_markdown":"how if i set it in onDestroy? are there drawbacks if i do that? @Michael","body":"how if i set it in onDestroy? are there drawbacks if i do that? @Michael"},{"owner":{"account_id":17308616,"reputation":586,"user_id":12536790,"display_name":"Viktor"},"score":0,"creation_date":1640098096,"post_id":66119231,"comment_id":124511478,"body_markdown":"@Aorstab memory leaks. You can easily google it.","body":"@Aorstab memory leaks. You can easily google it."}],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1612875162,"creation_date":1612875162,"answer_id":66119393,"question_id":66119231,"body_markdown":"It is necessary and a really good practice, specially in Android where memory restrictions are huge, you really need to take care of cleaning up resources as and when you are done with them. `ViewBinding` will generate a custom `ViewBinding` class which will keep references to all your `views` inside `Fragment`, if ViewBinding is not cleared or set to null, it won&#39;t be eligible for `GC`, thereby holding all the views in memory even though you are not using it, leading to memory leaks. So yes, it is always better to set it to `null` at the end of life cycle.","title":"Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()?","body":"<p>It is necessary and a really good practice, specially in Android where memory restrictions are huge, you really need to take care of cleaning up resources as and when you are done with them. <code>ViewBinding</code> will generate a custom <code>ViewBinding</code> class which will keep references to all your <code>views</code> inside <code>Fragment</code>, if ViewBinding is not cleared or set to null, it won't be eligible for <code>GC</code>, thereby holding all the views in memory even though you are not using it, leading to memory leaks. So yes, it is always better to set it to <code>null</code> at the end of life cycle.</p>\n"},{"tags":[],"owner":{"account_id":14096747,"reputation":696,"user_id":10183294,"display_name":"SVK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1612875383,"creation_date":1612875383,"answer_id":66119445,"question_id":66119231,"body_markdown":"Yes it is recommended to set ViewBinding to **null** in `onDestroyView`.\r\n\r\n**ViewBinding** is scoped to the lifecycle of the fragment&#39;s view (between `onCreateView` and `onDestroyView`).   **i.e.** it is is only valid between onCreateView and onDestroyView.\r\n\r\nHence, please set the respective ViewBinding to null in fragment&#39;s `onDestroyView`.","title":"Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()?","body":"<p>Yes it is recommended to set ViewBinding to <strong>null</strong> in <code>onDestroyView</code>.</p>\n<p><strong>ViewBinding</strong> is scoped to the lifecycle of the fragment's view (between <code>onCreateView</code> and <code>onDestroyView</code>).   <strong>i.e.</strong> it is is only valid between onCreateView and onDestroyView.</p>\n<p>Hence, please set the respective ViewBinding to null in fragment's <code>onDestroyView</code>.</p>\n"},{"tags":[],"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670513896,"creation_date":1670513896,"answer_id":74732784,"question_id":66119231,"body_markdown":"It is necessary to clean up references to the both  viewBinding and dataBinding.\r\nFor viewBindng it&#39;s even mentioned in Android official doc \r\nhttps://developer.android.com/topic/libraries/view-binding\r\n\r\nSince dataBinding is similar to viewBinding we can use the same technique for it also. Following code snippet is from official doc\r\n\r\n    private var _binding: ResultProfileBinding? = null\r\n\r\n   private val binding get() = _binding!!\r\n\r\n    override fun onCreateView(\r\n      inflater: LayoutInflater,\r\n      container: ViewGroup?,\r\n      savedInstanceState: Bundle?\r\n    ): View? {\r\n      _binding = ResultProfileBinding.inflate(inflater, container, false)\r\n      val view = binding.root\r\n      return view\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n     super.onDestroyView()\r\n     _binding = null\r\n    }","title":"Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()?","body":"<p>It is necessary to clean up references to the both  viewBinding and dataBinding.\nFor viewBindng it's even mentioned in Android official doc\n<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/view-binding</a></p>\n<p>Since dataBinding is similar to viewBinding we can use the same technique for it also. Following code snippet is from official doc</p>\n<pre><code>private var _binding: ResultProfileBinding? = null\n</code></pre>\n<p>private val binding get() = _binding!!</p>\n<pre><code>override fun onCreateView(\n  inflater: LayoutInflater,\n  container: ViewGroup?,\n  savedInstanceState: Bundle?\n): View? {\n  _binding = ResultProfileBinding.inflate(inflater, container, false)\n  val view = binding.root\n  return view\n}\n\noverride fun onDestroyView() {\n super.onDestroyView()\n _binding = null\n}\n</code></pre>\n"}],"owner":{"account_id":17308616,"reputation":586,"user_id":12536790,"display_name":"Viktor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7134,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":66119393,"answer_count":3,"score":21,"last_activity_date":1670513896,"creation_date":1612874583,"question_id":66119231,"body_markdown":"Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()? Sometimes I see that thing in tutorials. Is it really necessary?","title":"Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()?","body":"<p>Is it necessary to set ViewBinding to null in Fragment's onDestroy()? Sometimes I see that thing in tutorials. Is it really necessary?</p>\n"},{"tags":["java","apache-poi","exe4j"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670492434,"post_id":74728139,"comment_id":131889439,"body_markdown":"https://github.com/beryx/badass-runtime-plugin/issues/44 and https://github.com/traccar/traccar/issues/4126","body":"<a href=\"https://github.com/beryx/badass-runtime-plugin/issues/44\" rel=\"nofollow noreferrer\">github.com/beryx/badass-runtime-plugin/issues/44</a> and <a href=\"https://github.com/traccar/traccar/issues/4126\" rel=\"nofollow noreferrer\">github.com/traccar/traccar/issues/4126</a>"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1670508613,"post_id":74728139,"comment_id":131894842,"body_markdown":"Key line is `Caused by: java.nio.charset.UnsupportedCharsetException: Big5` - what happens if you include all the Java Character Sets in your JVM?","body":"Key line is <code>Caused by: java.nio.charset.UnsupportedCharsetException: Big5</code> - what happens if you include all the Java Character Sets in your JVM?"}],"answers":[{"tags":[],"owner":{"account_id":14542114,"reputation":163,"user_id":10503467,"display_name":"M_L_Sing_Jump_Rap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670513710,"creation_date":1670513710,"answer_id":74732738,"question_id":74728139,"body_markdown":"I have solved problem and thanks for XtremeBaumer and Gagravarr.\r\n\r\n**Reasons：**\r\nBecause the JVM cannot support the Character. I create such a converter，which could call the available character set when using the exclusive characters.\r\n\r\n**Method：**\r\nFirstly, I create a file named ***java.nio.charset.spi.CharsetProvider*** in the folder of META-INF/services. \r\n Then, I create **ChineseCharsetProvider.java** in project folder. \r\n\r\n```\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.spi.CharsetProvider;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\n\r\npublic class ChineseCharsetProvider extends CharsetProvider {\r\n    private static final String GB2312 = &quot;GB2312&quot;;\r\n    private static final String BIG5 = &quot;Big5&quot;;\r\n    private static final String GBK = &quot;GBK&quot;;\r\n\r\n    @Override\r\n    public Iterator&lt;Charset&gt; charsets() {\r\n        return Collections.emptyIterator();\r\n    }\r\n\r\n    @Override\r\n    public Charset charsetForName(String charsetName) {\r\n        if (GB2312.equalsIgnoreCase(charsetName) || BIG5.equalsIgnoreCase(charsetName))\r\n            return Charset.forName(GBK);\r\n        return Charset.defaultCharset();\r\n    }\r\n}\r\n```","title":"How to solve Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ExceptionInInitializerError because of poi.ss.util.CellReference.&lt;init&gt;?","body":"<p>I have solved problem and thanks for XtremeBaumer and Gagravarr.</p>\n<p><strong>Reasons：</strong>\nBecause the JVM cannot support the Character. I create such a converter，which could call the available character set when using the exclusive characters.</p>\n<p><strong>Method：</strong>\nFirstly, I create a file named <em><strong>java.nio.charset.spi.CharsetProvider</strong></em> in the folder of META-INF/services.\nThen, I create <strong>ChineseCharsetProvider.java</strong> in project folder.</p>\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.charset.spi.CharsetProvider;\nimport java.util.Collections;\nimport java.util.Iterator;\n\npublic class ChineseCharsetProvider extends CharsetProvider {\n    private static final String GB2312 = &quot;GB2312&quot;;\n    private static final String BIG5 = &quot;Big5&quot;;\n    private static final String GBK = &quot;GBK&quot;;\n\n    @Override\n    public Iterator&lt;Charset&gt; charsets() {\n        return Collections.emptyIterator();\n    }\n\n    @Override\n    public Charset charsetForName(String charsetName) {\n        if (GB2312.equalsIgnoreCase(charsetName) || BIG5.equalsIgnoreCase(charsetName))\n            return Charset.forName(GBK);\n        return Charset.defaultCharset();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14542114,"reputation":163,"user_id":10503467,"display_name":"M_L_Sing_Jump_Rap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74732738,"answer_count":1,"score":0,"last_activity_date":1670513710,"creation_date":1670491964,"question_id":74728139,"body_markdown":"I make a script to read excel file, And it&#39;s no problem to run on IDEA IDK or  cmd by ```java -jar script.jar``` .\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/HVemQ.png &quot; width=&quot;500&quot; /&gt;\r\n\r\nHowever, when I use exe4j to transfer EXE file. It reports error like:\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ExceptionInInitializerError\r\n\tat org.apache.poi.ss.util.CellReference.&lt;init&gt;(CellReference.java:109)\r\n\tat org.apache.poi.xssf.usermodel.XSSFCell.&lt;init&gt;(XSSFCell.java:117)\r\n\tat org.apache.poi.xssf.usermodel.XSSFRow.&lt;init&gt;(XSSFRow.java:74)\r\n\tat org.apache.poi.xssf.usermodel.XSSFSheet.initRows(XSSFSheet.java:270)\r\n\tat org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:233)\r\n\tat org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:220)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:452)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:417)\r\n\tat org.apache.poi.ooxml.POIXMLDocument.load(POIXMLDocument.java:184)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:286)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:307)\r\n\tat proect.Util.Excel_Util.readDataSet(Excel_Util.java:90)\r\n\tat proect.Util.Excel_Util.dealDataset(Excel_Util.java:54)\r\n\tat proect.Main.&lt;init&gt;(Main.java:58)\r\n\tat proect.Main$10.run(Main.java:578)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.nio.charset.UnsupportedCharsetException: Big5\r\n\tat java.base/java.nio.charset.Charset.forName(Charset.java:527)\r\n\tat org.apache.poi.util.StringUtil.&lt;clinit&gt;(StringUtil.java:39)\r\n\t... 28 more\r\n\r\n\r\n```\r\n\r\nThe D1.excel is the file to read. The excel code like:\r\n```\r\n@SuppressWarnings(&quot;resource&quot;)\r\n    public static void readDataSet(String filePath){\r\n        InputStream in;\r\n        DataFormatter formatter = new DataFormatter();\r\n        try{\r\n            Excel_Util eu = new Excel_Util();\r\n            ClassLoader cl = eu.getClass().getClassLoader();\r\n             in = cl.getResourceAsStream(&quot;D1.xlsx&quot;);\r\n\r\n            //input = new FileInputStream(filePath);\r\n            XSSFWorkbook book = new XSSFWorkbook(in);\r\n            XSSFSheet sheet = book.getSheetAt(0);\r\n            XSSFRow row;\r\n            for(int i=sheet.getFirstRowNum()+1;i&lt;sheet.getPhysicalNumberOfRows();++i){\r\n                row = sheet.getRow(i);\r\n                Scheme_No_Column.add(row.getCell(0).getStringCellValue());\r\n                Pv_Capacity_Column.add(row.getCell(1).getStringCellValue());\r\n                Device_No_Column.add(row.getCell(2).getStringCellValue());\r\n                Power_Column.add(formatter.formatCellValue(sheet.getRow(i).getCell(3)));\r\n            }\r\n\r\n            }catch(FileNotFoundException IOE){\r\n                System.out.println(&quot;文件不在正确的位置（the file is not found in the location）&quot;);\r\n\r\n            }catch(IOException IOE){\r\n                System.out.println(&quot;Excel的文件内容不正确（the content of the excel is not correct）&quot;);\r\n            }\r\n\r\n        }\r\n        \r\n```\r\n\r\nThe awt code like:\r\n```\r\npackage proect;\r\n\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n */\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n/**\r\n *\r\n * @author Lenovo\r\n */\r\n\r\nimport proect.Util.Excel_Util;\r\nimport proect.Util.Regular_Match_Engine;\r\n\r\nimport java.awt.*;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\nimport javax.swing.border.Border;\r\n\r\nimport proect.PV.Devices;\r\nimport proect.PV.PV_Modules;\r\n\r\n\r\n\r\npublic class Main extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form Home\r\n     */\r\n    //private static boolean loop = true;\r\n    private static int case_=2;\r\n    \r\n    JFrame frame_1 = new JFrame();\r\n    \r\n     JProgressBar bar = new JProgressBar();\r\n    \r\n    Excel_Util excel = new Excel_Util();\r\n    \r\n    PV_Modules pv = new PV_Modules();\r\n    \r\n    ArrayList&lt;Devices&gt; List = new ArrayList();\r\n        \r\n    Regular_Match_Engine RME = new Regular_Match_Engine();\r\n\r\n    \r\n    \r\n    \r\n    \r\n    public Main() {\r\n        \r\n        //handle data\r\n        \r\n        List = excel.dealDataset(&quot;./src/main/java/proect/dataset/D1.xlsx&quot;);\r\n        \r\n        List = pv.mergeDevices(List);\r\n        \r\n        //TextAreaOutputStream st = new TextAreaOutputStream(jTextArea1,&quot;output&quot;);\r\n         \r\n        //\r\n        \r\n        //Begin_frame_1();\r\n        //frame_1.dispose();\r\n        ClassLoader cl = this.getClass().getClassLoader();\r\n        String path = this.getClass().getProtectionDomain().getCodeSource().getLocation().getPath();\r\n        \r\n        this.setTitle(&quot;光伏型号筛选脚本&quot;);\r\n        ImageIcon image = new ImageIcon(path+&quot;/petro.png&quot;);\r\n        this.setIconImage(image.getImage());\r\n        initComponents();\r\n       \r\n       \r\n        \r\n    }\r\n    \r\n    \r\n  \r\n\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents\r\n    private void initComponents() {\r\n\r\n        bg = new javax.swing.JPanel();\r\n        sidepane = new javax.swing.JPanel();\r\n        btn_search = new javax.swing.JPanel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jPanel3 = new javax.swing.JPanel();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        btn_exit = new javax.swing.JPanel();\r\n        jLabel6 = new javax.swing.JLabel();\r\n        jLabel9 = new javax.swing.JLabel();\r\n        jSeparator1 = new javax.swing.JSeparator();\r\n        btn_pv1 = new javax.swing.JPanel();\r\n        jLabel11 = new javax.swing.JLabel();\r\n        jPanel1 = new javax.swing.JPanel();\r\n        jLabel7 = new javax.swing.JLabel();\r\n        jTextField1 = new javax.swing.JTextField();\r\n        jLabel10 = new javax.swing.JLabel();\r\n        jButton2 = new javax.swing.JButton();\r\n        jLabel8 = new javax.swing.JLabel();\r\n        jScrollPane2 = new javax.swing.JScrollPane();\r\n        jTextArea1 = new javax.swing.JTextArea();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        bg.setBackground(new java.awt.Color(255, 255, 255));\r\n\r\n        sidepane.setBackground(new java.awt.Color(54, 33, 89));\r\n        sidepane.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\r\n\r\n        btn_search.setBackground(new java.awt.Color(64, 43, 100));\r\n        btn_search.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mousePressed(java.awt.event.MouseEvent evt) {\r\n                btn_searchMousePressed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel2.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\r\n        jLabel2.setForeground(new java.awt.Color(204, 204, 204));\r\n        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel2.setText(&quot;1. 简单全局搜索&quot;);\r\n        jLabel2.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                jLabel2MouseClicked(evt);\r\n            }\r\n            public void mousePressed(java.awt.event.MouseEvent evt) {\r\n                jLabel2MousePressed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout btn_searchLayout = new javax.swing.GroupLayout(btn_search);\r\n        btn_search.setLayout(btn_searchLayout);\r\n        btn_searchLayout.setHorizontalGroup(\r\n            btn_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(btn_searchLayout.createSequentialGroup()\r\n                .addGap(71, 71, 71)\r\n                .addComponent(jLabel2)\r\n                .addContainerGap(83, Short.MAX_VALUE))\r\n        );\r\n        btn_searchLayout.setVerticalGroup(\r\n            btn_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(btn_searchLayout.createSequentialGroup()\r\n                .addGap(43, 43, 43)\r\n                .addComponent(jLabel2)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        sidepane.add(btn_search, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 180, 240, 60));\r\n\r\n        jPanel3.setBackground(new java.awt.Color(85, 65, 118));\r\n        jPanel3.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mousePressed(java.awt.event.MouseEvent evt) {\r\n                jPanel3MousePressed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel4.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\r\n        jLabel4.setForeground(new java.awt.Color(204, 204, 204));\r\n        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel4.setText(&quot;欢迎来到筛选脚本&quot;);\r\n\r\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\r\n        jPanel3.setLayout(jPanel3Layout);\r\n        jPanel3Layout.setHorizontalGroup(\r\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel3Layout.createSequentialGroup()\r\n                .addGap(75, 75, 75)\r\n                .addComponent(jLabel4)\r\n                .addContainerGap(66, Short.MAX_VALUE))\r\n        );\r\n        jPanel3Layout.setVerticalGroup(\r\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel3Layout.createSequentialGroup()\r\n                .addGap(41, 41, 41)\r\n                .addComponent(jLabel4)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        sidepane.add(jPanel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 120, 240, 60));\r\n\r\n        btn_exit.setBackground(new java.awt.Color(64, 43, 100));\r\n        btn_exit.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mousePressed(java.awt.event.MouseEvent evt) {\r\n                btn_exitMousePressed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel6.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\r\n        jLabel6.setForeground(new java.awt.Color(204, 204, 204));\r\n        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel6.setText(&quot;3. 离开脚本&quot;);\r\n        jLabel6.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                jLabel6MouseClicked(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout btn_exitLayout = new javax.swing.GroupLayout(btn_exit);\r\n        btn_exit.setLayout(btn_exitLayout);\r\n        btn_exitLayout.setHorizontalGroup(\r\n            btn_exitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(btn_exitLayout.createSequentialGroup()\r\n                .addGap(71, 71, 71)\r\n                .addComponent(jLabel6)\r\n                .addContainerGap(106, Short.MAX_VALUE))\r\n        );\r\n        btn_exitLayout.setVerticalGroup(\r\n            btn_exitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(btn_exitLayout.createSequentialGroup()\r\n                .addGap(42, 42, 42)\r\n                .addComponent(jLabel6)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        sidepane.add(btn_exit, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 310, 240, 60));\r\n\r\n        jLabel9.setFont(new java.awt.Font(&quot;Mistral&quot;, 1, 24)); // NOI18N\r\n        jLabel9.setForeground(new java.awt.Color(204, 204, 204));\r\n        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel9.setText(&quot;KeepToo&quot;);\r\n        sidepane.add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 20, -1, -1));\r\n        sidepane.add(jSeparator1, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 40, 190, 10));\r\n\r\n        btn_pv1.setBackground(new java.awt.Color(64, 43, 100));\r\n        btn_pv1.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                btn_pv1MouseClicked(evt);\r\n            }\r\n        });\r\n\r\n        jLabel11.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\r\n        jLabel11.setForeground(new java.awt.Color(204, 204, 204));\r\n        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel11.setText(&quot;2. 光伏设备容量查询&quot;);\r\n        jLabel11.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                jLabel11MouseClicked(evt);\r\n            }\r\n            public void mousePressed(java.awt.event.MouseEvent evt) {\r\n                jLabel11MousePressed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout btn_pv1Layout = new javax.swing.GroupLayout(btn_pv1);\r\n        btn_pv1.setLayout(btn_pv1Layout);\r\n        btn_pv1Layout.setHorizontalGroup(\r\n            btn_pv1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(btn_pv1Layout.createSequentialGroup()\r\n                .addGap(69, 69, 69)\r\n                .addComponent(jLabel11)\r\n                .addContainerGap(65, Short.MAX_VALUE))\r\n        );\r\n        btn_pv1Layout.setVerticalGroup(\r\n            btn_pv1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(btn_pv1Layout.createSequentialGroup()\r\n                .addGap(47, 47, 47)\r\n                .addComponent(jLabel11)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        sidepane.add(btn_pv1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 240, -1, 70));\r\n\r\n        jPanel1.setBackground(new java.awt.Color(110, 89, 222));\r\n\r\n        jLabel7.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 14)); // NOI18N\r\n        jLabel7.setForeground(new java.awt.Color(204, 204, 204));\r\n        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel7.setText(&quot;管理系统&quot;);\r\n\r\n        jTextField1.setText(&quot;输入光伏容量((kWp))...&quot;);\r\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jTextField1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel10.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 0, 18)); // NOI18N\r\n        jLabel10.setForeground(new java.awt.Color(255, 255, 255));\r\n        jLabel10.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel10.setText(&quot;请输入关键词：__________________________________________&quot;);\r\n\r\n        jButton2.setText(&quot;确认&quot;);\r\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(jPanel1Layout.createSequentialGroup()\r\n                        .addGap(65, 65, 65)\r\n                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                            .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 403, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                .addComponent(jLabel7)\r\n                                .addGap(111, 111, 111)))\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addComponent(jLabel10))\r\n                .addContainerGap(87, Short.MAX_VALUE))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jLabel7)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 27, Short.MAX_VALUE)\r\n                .addComponent(jLabel10)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jButton2)))\r\n        );\r\n\r\n        jLabel8.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 0, 18)); // NOI18N\r\n        jLabel8.setForeground(new java.awt.Color(0, 0, 255));\r\n        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        jLabel8.setText(&quot;搜索结果如下：&quot;);\r\n\r\n        jTextArea1.setColumns(20);\r\n        jTextArea1.setRows(5);\r\n        jScrollPane2.setViewportView(jTextArea1);\r\n\r\n        javax.swing.GroupLayout bgLayout = new javax.swing.GroupLayout(bg);\r\n        bg.setLayout(bgLayout);\r\n        bgLayout.setHorizontalGroup(\r\n            bgLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(bgLayout.createSequentialGroup()\r\n                .addComponent(sidepane, javax.swing.GroupLayout.PREFERRED_SIZE, 234, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGroup(bgLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(bgLayout.createSequentialGroup()\r\n                        .addGap(12, 12, 12)\r\n                        .addComponent(jLabel8))\r\n                    .addGroup(bgLayout.createSequentialGroup()\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGroup(bgLayout.createSequentialGroup()\r\n                        .addGap(30, 30, 30)\r\n                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 526, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        bgLayout.setVerticalGroup(\r\n            bgLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(bgLayout.createSequentialGroup()\r\n                .addComponent(sidepane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n            .addGroup(bgLayout.createSequentialGroup()\r\n                .addGap(47, 47, 47)\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)\r\n                .addComponent(jLabel8)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 259, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(31, 31, 31))\r\n        );\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(bg, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(bg, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;//GEN-END:initComponents\r\n\r\n    private void jLabel11MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel11MousePressed\r\n        // TODO add your handling code here:\r\n        resetColor(btn_search);\r\n        resetColor(btn_exit);\r\n        setColor(btn_pv1);\r\n    }//GEN-LAST:event_jLabel11MousePressed\r\n\r\n    private void jPanel3MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jPanel3MousePressed\r\n        // TODO add your handling code here:\r\n       \r\n    }//GEN-LAST:event_jPanel3MousePressed\r\n\r\n    private void btn_searchMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_searchMousePressed\r\n        // TODO add your handling code here:\r\n        setColor(btn_search);\r\n        resetColor(btn_exit);\r\n        resetColor(btn_pv1);\r\n    }//GEN-LAST:event_btn_searchMousePressed\r\n\r\n    private void btn_exitMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_exitMousePressed\r\n        // TODO add your handling code here:\r\n        resetColor(btn_search);\r\n        setColor(btn_exit);\r\n        resetColor(btn_pv1);\r\n    }//GEN-LAST:event_btn_exitMousePressed\r\n\r\n    private void jLabel2MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel2MousePressed\r\n        // TODO add your handling code here:\r\n    }//GEN-LAST:event_jLabel2MousePressed\r\n\r\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField1ActionPerformed\r\n        // TODO add your handling code here:\r\n    }//GEN-LAST:event_jTextField1ActionPerformed\r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed\r\n        if(case_==1){\r\n            String searchContent = jTextField1.getText();\r\n            RME.Text_matching(List, searchContent);\r\n            jTextArea1.setText(&quot;&quot;+RME.getString());\r\n            RME.clear();\r\n        }else if(case_==2){\r\n             String searchContent = jTextField1.getText();\r\n             RME.Pv_Capacity_matching(List, searchContent);\r\n             jTextArea1.setText(&quot;&quot;+RME.getString());\r\n             RME.clear();\r\n        }\r\n        // TODO add your handling code here:\r\n    }//GEN-LAST:event_jButton2ActionPerformed\r\n\r\n    //点击选项1\r\n    private void jLabel2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel2MouseClicked\r\n        case_=1;\r\n        jTextField1.setText(&quot;输入关键词&quot;); \r\n\r\n\r\n        // TODO add your handling code here:\r\n    }//GEN-LAST:event_jLabel2MouseClicked\r\n\r\n    private void btn_pv1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_pv1MouseClicked\r\n        \r\n        // TODO add your handling code here:\r\n    }//GEN-LAST:event_btn_pv1MouseClicked\r\n\r\n    private void jLabel11MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel11MouseClicked\r\n        case_=2;\r\n         jTextField1.setText(&quot;输入光伏容量(kWp)&quot;);\r\n    }//GEN-LAST:event_jLabel11MouseClicked\r\n\r\n    private void jLabel6MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel6MouseClicked\r\n        System.exit(0); // TODO add your handling code here:\r\n    }//GEN-LAST:event_jLabel6MouseClicked\r\n\r\n    \r\n    void setColor(JPanel panel){\r\n        panel.setBackground(new Color(85,65,118));\r\n    }\r\n    \r\n    void resetColor(JPanel panel){\r\n        panel.setBackground(new Color(63,43,100));\r\n    }\r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Main().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify//GEN-BEGIN:variables\r\n    private javax.swing.JPanel bg;\r\n    private javax.swing.JPanel btn_exit;\r\n    private javax.swing.JPanel btn_pv1;\r\n    private javax.swing.JPanel btn_search;\r\n    private javax.swing.JButton jButton2;\r\n    private javax.swing.JLabel jLabel10;\r\n    private javax.swing.JLabel jLabel11;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JLabel jLabel7;\r\n    private javax.swing.JLabel jLabel8;\r\n    private javax.swing.JLabel jLabel9;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel3;\r\n    private javax.swing.JScrollPane jScrollPane2;\r\n    private javax.swing.JSeparator jSeparator1;\r\n    private javax.swing.JTextArea jTextArea1;\r\n    private javax.swing.JTextField jTextField1;\r\n    private javax.swing.JPanel sidepane;\r\n    // End of variables declaration//GEN-END:variables\r\n}\r\n\r\n```\r\n\r\nI don&#39;t understand why it reports error when transfering from ***.java*** to ***.exe***. Could someone help me, thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HVemQ.png","title":"How to solve Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ExceptionInInitializerError because of poi.ss.util.CellReference.&lt;init&gt;?","body":"<p>I make a script to read excel file, And it's no problem to run on IDEA IDK or  cmd by <code>java -jar script.jar</code> .</p>\n<img src=\"https://i.stack.imgur.com/HVemQ.png%20\" width=\"500\" />\n<p>However, when I use exe4j to transfer EXE file. It reports error like:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ExceptionInInitializerError\n    at org.apache.poi.ss.util.CellReference.&lt;init&gt;(CellReference.java:109)\n    at org.apache.poi.xssf.usermodel.XSSFCell.&lt;init&gt;(XSSFCell.java:117)\n    at org.apache.poi.xssf.usermodel.XSSFRow.&lt;init&gt;(XSSFRow.java:74)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.initRows(XSSFSheet.java:270)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:233)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:220)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:452)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:417)\n    at org.apache.poi.ooxml.POIXMLDocument.load(POIXMLDocument.java:184)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:286)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:307)\n    at proect.Util.Excel_Util.readDataSet(Excel_Util.java:90)\n    at proect.Util.Excel_Util.dealDataset(Excel_Util.java:54)\n    at proect.Main.&lt;init&gt;(Main.java:58)\n    at proect.Main$10.run(Main.java:578)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.nio.charset.UnsupportedCharsetException: Big5\n    at java.base/java.nio.charset.Charset.forName(Charset.java:527)\n    at org.apache.poi.util.StringUtil.&lt;clinit&gt;(StringUtil.java:39)\n    ... 28 more\n\n\n</code></pre>\n<p>The D1.excel is the file to read. The excel code like:</p>\n<pre><code>@SuppressWarnings(&quot;resource&quot;)\n    public static void readDataSet(String filePath){\n        InputStream in;\n        DataFormatter formatter = new DataFormatter();\n        try{\n            Excel_Util eu = new Excel_Util();\n            ClassLoader cl = eu.getClass().getClassLoader();\n             in = cl.getResourceAsStream(&quot;D1.xlsx&quot;);\n\n            //input = new FileInputStream(filePath);\n            XSSFWorkbook book = new XSSFWorkbook(in);\n            XSSFSheet sheet = book.getSheetAt(0);\n            XSSFRow row;\n            for(int i=sheet.getFirstRowNum()+1;i&lt;sheet.getPhysicalNumberOfRows();++i){\n                row = sheet.getRow(i);\n                Scheme_No_Column.add(row.getCell(0).getStringCellValue());\n                Pv_Capacity_Column.add(row.getCell(1).getStringCellValue());\n                Device_No_Column.add(row.getCell(2).getStringCellValue());\n                Power_Column.add(formatter.formatCellValue(sheet.getRow(i).getCell(3)));\n            }\n\n            }catch(FileNotFoundException IOE){\n                System.out.println(&quot;文件不在正确的位置（the file is not found in the location）&quot;);\n\n            }catch(IOException IOE){\n                System.out.println(&quot;Excel的文件内容不正确（the content of the excel is not correct）&quot;);\n            }\n\n        }\n        \n</code></pre>\n<p>The awt code like:</p>\n<pre><code>package proect;\n\n/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\n\nimport javax.swing.*;\nimport java.awt.*;\n\n/**\n *\n * @author Lenovo\n */\n\nimport proect.Util.Excel_Util;\nimport proect.Util.Regular_Match_Engine;\n\nimport java.awt.*;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport javax.swing.border.Border;\n\nimport proect.PV.Devices;\nimport proect.PV.PV_Modules;\n\n\n\npublic class Main extends javax.swing.JFrame {\n\n    /**\n     * Creates new form Home\n     */\n    //private static boolean loop = true;\n    private static int case_=2;\n    \n    JFrame frame_1 = new JFrame();\n    \n     JProgressBar bar = new JProgressBar();\n    \n    Excel_Util excel = new Excel_Util();\n    \n    PV_Modules pv = new PV_Modules();\n    \n    ArrayList&lt;Devices&gt; List = new ArrayList();\n        \n    Regular_Match_Engine RME = new Regular_Match_Engine();\n\n    \n    \n    \n    \n    public Main() {\n        \n        //handle data\n        \n        List = excel.dealDataset(&quot;./src/main/java/proect/dataset/D1.xlsx&quot;);\n        \n        List = pv.mergeDevices(List);\n        \n        //TextAreaOutputStream st = new TextAreaOutputStream(jTextArea1,&quot;output&quot;);\n         \n        //\n        \n        //Begin_frame_1();\n        //frame_1.dispose();\n        ClassLoader cl = this.getClass().getClassLoader();\n        String path = this.getClass().getProtectionDomain().getCodeSource().getLocation().getPath();\n        \n        this.setTitle(&quot;光伏型号筛选脚本&quot;);\n        ImageIcon image = new ImageIcon(path+&quot;/petro.png&quot;);\n        this.setIconImage(image.getImage());\n        initComponents();\n       \n       \n        \n    }\n    \n    \n  \n\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents\n    private void initComponents() {\n\n        bg = new javax.swing.JPanel();\n        sidepane = new javax.swing.JPanel();\n        btn_search = new javax.swing.JPanel();\n        jLabel2 = new javax.swing.JLabel();\n        jPanel3 = new javax.swing.JPanel();\n        jLabel4 = new javax.swing.JLabel();\n        btn_exit = new javax.swing.JPanel();\n        jLabel6 = new javax.swing.JLabel();\n        jLabel9 = new javax.swing.JLabel();\n        jSeparator1 = new javax.swing.JSeparator();\n        btn_pv1 = new javax.swing.JPanel();\n        jLabel11 = new javax.swing.JLabel();\n        jPanel1 = new javax.swing.JPanel();\n        jLabel7 = new javax.swing.JLabel();\n        jTextField1 = new javax.swing.JTextField();\n        jLabel10 = new javax.swing.JLabel();\n        jButton2 = new javax.swing.JButton();\n        jLabel8 = new javax.swing.JLabel();\n        jScrollPane2 = new javax.swing.JScrollPane();\n        jTextArea1 = new javax.swing.JTextArea();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        bg.setBackground(new java.awt.Color(255, 255, 255));\n\n        sidepane.setBackground(new java.awt.Color(54, 33, 89));\n        sidepane.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\n\n        btn_search.setBackground(new java.awt.Color(64, 43, 100));\n        btn_search.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mousePressed(java.awt.event.MouseEvent evt) {\n                btn_searchMousePressed(evt);\n            }\n        });\n\n        jLabel2.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\n        jLabel2.setForeground(new java.awt.Color(204, 204, 204));\n        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel2.setText(&quot;1. 简单全局搜索&quot;);\n        jLabel2.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                jLabel2MouseClicked(evt);\n            }\n            public void mousePressed(java.awt.event.MouseEvent evt) {\n                jLabel2MousePressed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout btn_searchLayout = new javax.swing.GroupLayout(btn_search);\n        btn_search.setLayout(btn_searchLayout);\n        btn_searchLayout.setHorizontalGroup(\n            btn_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(btn_searchLayout.createSequentialGroup()\n                .addGap(71, 71, 71)\n                .addComponent(jLabel2)\n                .addContainerGap(83, Short.MAX_VALUE))\n        );\n        btn_searchLayout.setVerticalGroup(\n            btn_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(btn_searchLayout.createSequentialGroup()\n                .addGap(43, 43, 43)\n                .addComponent(jLabel2)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        sidepane.add(btn_search, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 180, 240, 60));\n\n        jPanel3.setBackground(new java.awt.Color(85, 65, 118));\n        jPanel3.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mousePressed(java.awt.event.MouseEvent evt) {\n                jPanel3MousePressed(evt);\n            }\n        });\n\n        jLabel4.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\n        jLabel4.setForeground(new java.awt.Color(204, 204, 204));\n        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel4.setText(&quot;欢迎来到筛选脚本&quot;);\n\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\n        jPanel3.setLayout(jPanel3Layout);\n        jPanel3Layout.setHorizontalGroup(\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel3Layout.createSequentialGroup()\n                .addGap(75, 75, 75)\n                .addComponent(jLabel4)\n                .addContainerGap(66, Short.MAX_VALUE))\n        );\n        jPanel3Layout.setVerticalGroup(\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel3Layout.createSequentialGroup()\n                .addGap(41, 41, 41)\n                .addComponent(jLabel4)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        sidepane.add(jPanel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 120, 240, 60));\n\n        btn_exit.setBackground(new java.awt.Color(64, 43, 100));\n        btn_exit.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mousePressed(java.awt.event.MouseEvent evt) {\n                btn_exitMousePressed(evt);\n            }\n        });\n\n        jLabel6.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\n        jLabel6.setForeground(new java.awt.Color(204, 204, 204));\n        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel6.setText(&quot;3. 离开脚本&quot;);\n        jLabel6.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                jLabel6MouseClicked(evt);\n            }\n        });\n\n        javax.swing.GroupLayout btn_exitLayout = new javax.swing.GroupLayout(btn_exit);\n        btn_exit.setLayout(btn_exitLayout);\n        btn_exitLayout.setHorizontalGroup(\n            btn_exitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(btn_exitLayout.createSequentialGroup()\n                .addGap(71, 71, 71)\n                .addComponent(jLabel6)\n                .addContainerGap(106, Short.MAX_VALUE))\n        );\n        btn_exitLayout.setVerticalGroup(\n            btn_exitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(btn_exitLayout.createSequentialGroup()\n                .addGap(42, 42, 42)\n                .addComponent(jLabel6)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        sidepane.add(btn_exit, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 310, 240, 60));\n\n        jLabel9.setFont(new java.awt.Font(&quot;Mistral&quot;, 1, 24)); // NOI18N\n        jLabel9.setForeground(new java.awt.Color(204, 204, 204));\n        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel9.setText(&quot;KeepToo&quot;);\n        sidepane.add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 20, -1, -1));\n        sidepane.add(jSeparator1, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 40, 190, 10));\n\n        btn_pv1.setBackground(new java.awt.Color(64, 43, 100));\n        btn_pv1.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                btn_pv1MouseClicked(evt);\n            }\n        });\n\n        jLabel11.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 12)); // NOI18N\n        jLabel11.setForeground(new java.awt.Color(204, 204, 204));\n        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel11.setText(&quot;2. 光伏设备容量查询&quot;);\n        jLabel11.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                jLabel11MouseClicked(evt);\n            }\n            public void mousePressed(java.awt.event.MouseEvent evt) {\n                jLabel11MousePressed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout btn_pv1Layout = new javax.swing.GroupLayout(btn_pv1);\n        btn_pv1.setLayout(btn_pv1Layout);\n        btn_pv1Layout.setHorizontalGroup(\n            btn_pv1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(btn_pv1Layout.createSequentialGroup()\n                .addGap(69, 69, 69)\n                .addComponent(jLabel11)\n                .addContainerGap(65, Short.MAX_VALUE))\n        );\n        btn_pv1Layout.setVerticalGroup(\n            btn_pv1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(btn_pv1Layout.createSequentialGroup()\n                .addGap(47, 47, 47)\n                .addComponent(jLabel11)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        sidepane.add(btn_pv1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 240, -1, 70));\n\n        jPanel1.setBackground(new java.awt.Color(110, 89, 222));\n\n        jLabel7.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 1, 14)); // NOI18N\n        jLabel7.setForeground(new java.awt.Color(204, 204, 204));\n        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel7.setText(&quot;管理系统&quot;);\n\n        jTextField1.setText(&quot;输入光伏容量((kWp))...&quot;);\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jTextField1ActionPerformed(evt);\n            }\n        });\n\n        jLabel10.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 0, 18)); // NOI18N\n        jLabel10.setForeground(new java.awt.Color(255, 255, 255));\n        jLabel10.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel10.setText(&quot;请输入关键词：__________________________________________&quot;);\n\n        jButton2.setText(&quot;确认&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(jPanel1Layout.createSequentialGroup()\n                        .addGap(65, 65, 65)\n                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n                            .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 403, javax.swing.GroupLayout.PREFERRED_SIZE)\n                            .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addComponent(jLabel7)\n                                .addGap(111, 111, 111)))\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addComponent(jLabel10))\n                .addContainerGap(87, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jLabel7)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 27, Short.MAX_VALUE)\n                .addComponent(jLabel10)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jButton2)))\n        );\n\n        jLabel8.setFont(new java.awt.Font(&quot;Microsoft YaHei UI Light&quot;, 0, 18)); // NOI18N\n        jLabel8.setForeground(new java.awt.Color(0, 0, 255));\n        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel8.setText(&quot;搜索结果如下：&quot;);\n\n        jTextArea1.setColumns(20);\n        jTextArea1.setRows(5);\n        jScrollPane2.setViewportView(jTextArea1);\n\n        javax.swing.GroupLayout bgLayout = new javax.swing.GroupLayout(bg);\n        bg.setLayout(bgLayout);\n        bgLayout.setHorizontalGroup(\n            bgLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(bgLayout.createSequentialGroup()\n                .addComponent(sidepane, javax.swing.GroupLayout.PREFERRED_SIZE, 234, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGroup(bgLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(bgLayout.createSequentialGroup()\n                        .addGap(12, 12, 12)\n                        .addComponent(jLabel8))\n                    .addGroup(bgLayout.createSequentialGroup()\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(bgLayout.createSequentialGroup()\n                        .addGap(30, 30, 30)\n                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 526, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        bgLayout.setVerticalGroup(\n            bgLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(bgLayout.createSequentialGroup()\n                .addComponent(sidepane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addContainerGap())\n            .addGroup(bgLayout.createSequentialGroup()\n                .addGap(47, 47, 47)\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)\n                .addComponent(jLabel8)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 259, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(31, 31, 31))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(bg, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(bg, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;//GEN-END:initComponents\n\n    private void jLabel11MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel11MousePressed\n        // TODO add your handling code here:\n        resetColor(btn_search);\n        resetColor(btn_exit);\n        setColor(btn_pv1);\n    }//GEN-LAST:event_jLabel11MousePressed\n\n    private void jPanel3MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jPanel3MousePressed\n        // TODO add your handling code here:\n       \n    }//GEN-LAST:event_jPanel3MousePressed\n\n    private void btn_searchMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_searchMousePressed\n        // TODO add your handling code here:\n        setColor(btn_search);\n        resetColor(btn_exit);\n        resetColor(btn_pv1);\n    }//GEN-LAST:event_btn_searchMousePressed\n\n    private void btn_exitMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_exitMousePressed\n        // TODO add your handling code here:\n        resetColor(btn_search);\n        setColor(btn_exit);\n        resetColor(btn_pv1);\n    }//GEN-LAST:event_btn_exitMousePressed\n\n    private void jLabel2MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel2MousePressed\n        // TODO add your handling code here:\n    }//GEN-LAST:event_jLabel2MousePressed\n\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField1ActionPerformed\n        // TODO add your handling code here:\n    }//GEN-LAST:event_jTextField1ActionPerformed\n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed\n        if(case_==1){\n            String searchContent = jTextField1.getText();\n            RME.Text_matching(List, searchContent);\n            jTextArea1.setText(&quot;&quot;+RME.getString());\n            RME.clear();\n        }else if(case_==2){\n             String searchContent = jTextField1.getText();\n             RME.Pv_Capacity_matching(List, searchContent);\n             jTextArea1.setText(&quot;&quot;+RME.getString());\n             RME.clear();\n        }\n        // TODO add your handling code here:\n    }//GEN-LAST:event_jButton2ActionPerformed\n\n    //点击选项1\n    private void jLabel2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel2MouseClicked\n        case_=1;\n        jTextField1.setText(&quot;输入关键词&quot;); \n\n\n        // TODO add your handling code here:\n    }//GEN-LAST:event_jLabel2MouseClicked\n\n    private void btn_pv1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_pv1MouseClicked\n        \n        // TODO add your handling code here:\n    }//GEN-LAST:event_btn_pv1MouseClicked\n\n    private void jLabel11MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel11MouseClicked\n        case_=2;\n         jTextField1.setText(&quot;输入光伏容量(kWp)&quot;);\n    }//GEN-LAST:event_jLabel11MouseClicked\n\n    private void jLabel6MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel6MouseClicked\n        System.exit(0); // TODO add your handling code here:\n    }//GEN-LAST:event_jLabel6MouseClicked\n\n    \n    void setColor(JPanel panel){\n        panel.setBackground(new Color(85,65,118));\n    }\n    \n    void resetColor(JPanel panel){\n        panel.setBackground(new Color(63,43,100));\n    }\n    \n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Main().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify//GEN-BEGIN:variables\n    private javax.swing.JPanel bg;\n    private javax.swing.JPanel btn_exit;\n    private javax.swing.JPanel btn_pv1;\n    private javax.swing.JPanel btn_search;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JLabel jLabel10;\n    private javax.swing.JLabel jLabel11;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JLabel jLabel7;\n    private javax.swing.JLabel jLabel8;\n    private javax.swing.JLabel jLabel9;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel3;\n    private javax.swing.JScrollPane jScrollPane2;\n    private javax.swing.JSeparator jSeparator1;\n    private javax.swing.JTextArea jTextArea1;\n    private javax.swing.JTextField jTextField1;\n    private javax.swing.JPanel sidepane;\n    // End of variables declaration//GEN-END:variables\n}\n\n</code></pre>\n<p>I don't understand why it reports error when transfering from <em><strong>.java</strong></em> to <em><strong>.exe</strong></em>. Could someone help me, thanks.</p>\n"},{"tags":["java","android","firebase","class","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670574227,"post_id":74731763,"comment_id":131910049,"body_markdown":"There is no way you can return the `titleInformation` as a result o a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can return the <code>titleInformation</code> as a result o a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"tags":[],"owner":{"account_id":27190894,"reputation":1,"user_id":20724678,"display_name":"Gella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670513204,"creation_date":1670513140,"answer_id":74732617,"question_id":74731763,"body_markdown":"\r\nTry using @Autowire annotation for your dependency injection.\r\n\r\nInstead Of:\r\n\r\n    GetDiaryInformation Data;\r\n\r\nTry:\r\n\r\n    @Autowired\r\n    private GetDiaryInformation Data;\r\n\r\nOr you could try:\r\n\r\n    private GetDiaryInformation getDiaryInformation;\r\n    \r\n        public ReadDiary (GetDiaryInformation getDiaryInformation) {\r\n         this.getDiaryInformation = getDiaryInformation; \r\n    }\r\n\r\nhttps://www.baeldung.com/inversion-control-and-dependency-injection-in-spring\r\n\r\n*Dependency injection is a pattern we can use to implement IoC, where the control is inverted, setting an object&#39;s dependencies. Connecting objects with other objects, or “injecting” objects into other objects, is done by an assembler rather than by the objects themselves.*\r\n\r\n","title":"Android Java Firestore db OnComplete method can&#39;t pass arraylist to Activity Class","body":"<p>Try using @Autowire annotation for your dependency injection.</p>\n<p>Instead Of:</p>\n<pre><code>GetDiaryInformation Data;\n</code></pre>\n<p>Try:</p>\n<pre><code>@Autowired\nprivate GetDiaryInformation Data;\n</code></pre>\n<p>Or you could try:</p>\n<pre><code>private GetDiaryInformation getDiaryInformation;\n\n    public ReadDiary (GetDiaryInformation getDiaryInformation) {\n     this.getDiaryInformation = getDiaryInformation; \n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring</a></p>\n<p><em>Dependency injection is a pattern we can use to implement IoC, where the control is inverted, setting an object's dependencies. Connecting objects with other objects, or “injecting” objects into other objects, is done by an assembler rather than by the objects themselves.</em></p>\n"}],"owner":{"account_id":25890491,"reputation":13,"user_id":19617971,"display_name":"&#214;mer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670574237,"answer_count":1,"score":0,"last_activity_date":1670513204,"creation_date":1670509550,"question_id":74731763,"body_markdown":"I have a firestore db and I am trying to get data from there.My purpose is getting data from there in my **getDiaryInformation** Class and put all datas to an Arraylist.After put all datas I want to send it to my Activity Class.But when I try the return my arraylist from my **getDiaryInformation** to my Activity class it returns empty even it has data inside of it.Simply I am adding my values to my Arraylist but can&#39;t send to my Activity class when I try to return it.What can I do for returning my values to my Activity class?\r\n\r\n\r\n\r\nHere is my **getDiaryInformation** class.I put my title values to my arraylist.I am trying to send that arraylist to my activity class.\r\n\r\n`\r\n\r\n    public class GetDiaryInformation {\r\n        ArrayList&lt;String&gt; titleInformation=new ArrayList&lt;&gt;();\r\n       \r\n    \r\n        public ArrayList&lt;String&gt; getTitle(){\r\n            FirebaseFirestore db=FirebaseFirestore.getInstance();\r\n            db.collection(&quot;diary&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        for (QueryDocumentSnapshot document:task.getResult()) {\r\n                            titleInformation.add(document.get(&quot;title&quot;).toString());\r\n                        }\r\n    \r\n                    }\r\n                    else{\r\n                        Log.d(&quot;EXCEPTION&quot;,task.getException().getMessage());\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            return titleInformation;\r\n        }\r\n    \r\n    \r\n    }`\r\n\r\nHere is I am trying to get values from **getDiaryInformation** class.After I get the values I want to print them but my arraylist returns empty. \r\n\r\n    `public class ReadDiary extends AppCompatActivity {\r\n        GetDiaryInformation Data;\r\n        ArrayList&lt;String&gt; titleInformation=new ArrayList&lt;&gt;();\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_read_diary);\r\n            getSupportActionBar().setTitle(&quot;Read Your Diaries&quot;);\r\n    \r\n    \r\n            Data=new GetDiaryInformation();\r\n            titleInformation=Data.getTitle();\r\n            Log.d(&quot;NEPTUN&quot;, String.valueOf(titleInformation.size()));\r\n            for (int i = 0; i &lt; Data.titleInformation.size(); i++) {\r\n                Log.d(&quot;MARS&quot;,titleInformation.get(i));\r\n            }\r\n            \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }`\r\n\r\nI looked [https://stackoverflow.com/questions/55319499/synchronized-java-oncomplete-method](https://www.stackoverflow.com/) but couldn&#39;t understand what to do.Also tried to add interface like in that link but I am calling my method in my Activity class so it&#39;s another problem for me.\r\nWhat can I do to prevent that and get my all values to my Arraylist?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android Java Firestore db OnComplete method can&#39;t pass arraylist to Activity Class","body":"<p>I have a firestore db and I am trying to get data from there.My purpose is getting data from there in my <strong>getDiaryInformation</strong> Class and put all datas to an Arraylist.After put all datas I want to send it to my Activity Class.But when I try the return my arraylist from my <strong>getDiaryInformation</strong> to my Activity class it returns empty even it has data inside of it.Simply I am adding my values to my Arraylist but can't send to my Activity class when I try to return it.What can I do for returning my values to my Activity class?</p>\n<p>Here is my <strong>getDiaryInformation</strong> class.I put my title values to my arraylist.I am trying to send that arraylist to my activity class.</p>\n<p>`</p>\n<pre><code>public class GetDiaryInformation {\n    ArrayList&lt;String&gt; titleInformation=new ArrayList&lt;&gt;();\n   \n\n    public ArrayList&lt;String&gt; getTitle(){\n        FirebaseFirestore db=FirebaseFirestore.getInstance();\n        db.collection(&quot;diary&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if(task.isSuccessful()){\n                    for (QueryDocumentSnapshot document:task.getResult()) {\n                        titleInformation.add(document.get(&quot;title&quot;).toString());\n                    }\n\n                }\n                else{\n                    Log.d(&quot;EXCEPTION&quot;,task.getException().getMessage());\n\n                }\n\n            }\n\n        });\n\n        return titleInformation;\n    }\n\n\n}`\n</code></pre>\n<p>Here is I am trying to get values from <strong>getDiaryInformation</strong> class.After I get the values I want to print them but my arraylist returns empty.</p>\n<pre><code>`public class ReadDiary extends AppCompatActivity {\n    GetDiaryInformation Data;\n    ArrayList&lt;String&gt; titleInformation=new ArrayList&lt;&gt;();\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_read_diary);\n        getSupportActionBar().setTitle(&quot;Read Your Diaries&quot;);\n\n\n        Data=new GetDiaryInformation();\n        titleInformation=Data.getTitle();\n        Log.d(&quot;NEPTUN&quot;, String.valueOf(titleInformation.size()));\n        for (int i = 0; i &lt; Data.titleInformation.size(); i++) {\n            Log.d(&quot;MARS&quot;,titleInformation.get(i));\n        }\n        \n\n    }\n\n\n\n\n\n}`\n</code></pre>\n<p>I looked <a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/questions/55319499/synchronized-java-oncomplete-method</a> but couldn't understand what to do.Also tried to add interface like in that link but I am calling my method in my Activity class so it's another problem for me.\nWhat can I do to prevent that and get my all values to my Arraylist?</p>\n"},{"tags":["java","spring-boot","gitlab","gitlab-ci","gitlab-ci-runner"],"comments":[{"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"score":0,"creation_date":1548764669,"post_id":54316911,"comment_id":95651627,"body_markdown":"Could you please clarify a bit the issue? What is the expected result? Because when you run the spring boot application it is running continuously and you see that )","body":"Could you please clarify a bit the issue? What is the expected result? Because when you run the spring boot application it is running continuously and you see that )"},{"owner":{"account_id":768732,"reputation":59580,"user_id":971888,"accept_rate":86,"display_name":"Rolando"},"score":0,"creation_date":1548801487,"post_id":54316911,"comment_id":95671242,"body_markdown":"Yes, I want to know how to make it so that as soon as I push code into fit repo, it will auto deploy and start the app instead of GitLab runner being stuck.","body":"Yes, I want to know how to make it so that as soon as I push code into fit repo, it will auto deploy and start the app instead of GitLab runner being stuck."},{"owner":{"account_id":6975617,"reputation":676,"user_id":5350482,"accept_rate":75,"display_name":"ZhenyaM"},"score":0,"creation_date":1549035214,"post_id":54316911,"comment_id":95772024,"body_markdown":"Maybe better `repackage` jar by spring boot plugin and then run jar?","body":"Maybe better <code>repackage</code> jar by spring boot plugin and then run jar?"}],"answers":[{"tags":[],"owner":{"account_id":14219511,"reputation":676,"user_id":10272286,"display_name":"SizableShrimp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1548925927,"creation_date":1548925927,"answer_id":54456995,"question_id":54316911,"body_markdown":"I believe you can use the `run` stage for this. It would look something like\r\n```\r\nrun:\r\n  stage: run\r\n  script:\r\n    - mvn $MAVEN_CLI_OPTS spring-boot:run\r\n```\r\nYou can see an example of this [here](https://docs.gitlab.com/ee/ci/yaml/#stages).\r\n\r\nMake sure you also define the `stages` to include `run` as the docs state\r\n\r\n&gt;If no `stages` are defined in `.gitlab-ci.yml`, then the `build`, `test` and `deploy` are allowed to be used as job’s stage by default. (see [stages](https://docs.gitlab.com/ee/ci/yaml/#stages))\r\n\r\nIs the sample file you provided above your entire configuration file or only a snippet of it? If so, I can adjust my answer to fit your needs. Thanks!","title":"How to run spring-boot application using GitLab runner?","body":"<p>I believe you can use the <code>run</code> stage for this. It would look something like</p>\n\n<pre><code>run:\n  stage: run\n  script:\n    - mvn $MAVEN_CLI_OPTS spring-boot:run\n</code></pre>\n\n<p>You can see an example of this <a href=\"https://docs.gitlab.com/ee/ci/yaml/#stages\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Make sure you also define the <code>stages</code> to include <code>run</code> as the docs state</p>\n\n<blockquote>\n  <p>If no <code>stages</code> are defined in <code>.gitlab-ci.yml</code>, then the <code>build</code>, <code>test</code> and <code>deploy</code> are allowed to be used as job’s stage by default. (see <a href=\"https://docs.gitlab.com/ee/ci/yaml/#stages\" rel=\"nofollow noreferrer\">stages</a>)</p>\n</blockquote>\n\n<p>Is the sample file you provided above your entire configuration file or only a snippet of it? If so, I can adjust my answer to fit your needs. Thanks!</p>\n"},{"tags":[],"owner":{"account_id":19415804,"reputation":31,"user_id":14199323,"display_name":"ConnorSummeril"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598913614,"creation_date":1598913614,"answer_id":63679077,"question_id":54316911,"body_markdown":"I&#39;m sorry this is so late. I&#39;ve recently just had the same problem. Gitlab runner blocks on child processes, and any process in the child tree. This makes the `disown` command impossible since you can&#39;t get to it. Forking, and `nohup` also don&#39;t work.\r\n\r\nThe only solution I could figure out was using the `at` command https://linux.die.net/man/1/at\r\n\r\nBasically I put my command in a script then did:\r\n\r\n`at now &lt; my_blocking_command_script.sh`\r\n\r\nThat successfully complete the runner and kicked off my program in the background.","title":"How to run spring-boot application using GitLab runner?","body":"<p>I'm sorry this is so late. I've recently just had the same problem. Gitlab runner blocks on child processes, and any process in the child tree. This makes the <code>disown</code> command impossible since you can't get to it. Forking, and <code>nohup</code> also don't work.</p>\n<p>The only solution I could figure out was using the <code>at</code> command <a href=\"https://linux.die.net/man/1/at\" rel=\"nofollow noreferrer\">https://linux.die.net/man/1/at</a></p>\n<p>Basically I put my command in a script then did:</p>\n<p><code>at now &lt; my_blocking_command_script.sh</code></p>\n<p>That successfully complete the runner and kicked off my program in the background.</p>\n"}],"owner":{"account_id":768732,"reputation":59580,"user_id":971888,"accept_rate":86,"display_name":"Rolando"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3509,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":54456995,"answer_count":2,"score":3,"last_activity_date":1670513185,"creation_date":1548193558,"question_id":54316911,"body_markdown":"I have a spring-boot maven application I&#39;ve been running locally as:\r\n\r\n    mvn spring-boot:run\r\n\r\nI want to be able to run this in GitLab runner so that when I push the code to master, it automatically copies the latest up there and runs the application.\r\n\r\nMy GitLab runner is configured in shell mode right now, and I have inside of the `.gitlab-ci.yml` file a deploy task that runs just that:\r\n\r\n    mvn spring-boot:run\r\n\r\nThe issue I am running into is after the application starts, I can see that it is running... but it never shows as success or completed. It just hangs there (because the terminal is still running when you execute that command?)\r\n\r\nQuestion is, is there an alternate set of commands I should be running to get my spring-boot application to update and run each time I push to master? What is it i should be putting into my `gitlab-ci.yml` (or other files). Note that I am not using docker or kubernetes... just shell.\r\n\r\nSample gitlab CI:\r\n\r\n    run-deploy:\r\n      stage: deploy\r\n      script:\r\n        - mvn $MAVEN_CLI_OPTS spring-boot:run \r\n\r\nTrying nohup with that also fails.\r\n`- nohup mvn $MAVEN_CLI_OPTS spring-boot:run &amp;`","title":"How to run spring-boot application using GitLab runner?","body":"<p>I have a spring-boot maven application I've been running locally as:</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>I want to be able to run this in GitLab runner so that when I push the code to master, it automatically copies the latest up there and runs the application.</p>\n\n<p>My GitLab runner is configured in shell mode right now, and I have inside of the <code>.gitlab-ci.yml</code> file a deploy task that runs just that:</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>The issue I am running into is after the application starts, I can see that it is running... but it never shows as success or completed. It just hangs there (because the terminal is still running when you execute that command?)</p>\n\n<p>Question is, is there an alternate set of commands I should be running to get my spring-boot application to update and run each time I push to master? What is it i should be putting into my <code>gitlab-ci.yml</code> (or other files). Note that I am not using docker or kubernetes... just shell.</p>\n\n<p>Sample gitlab CI:</p>\n\n<pre><code>run-deploy:\n  stage: deploy\n  script:\n    - mvn $MAVEN_CLI_OPTS spring-boot:run \n</code></pre>\n\n<p>Trying nohup with that also fails.\n<code>- nohup mvn $MAVEN_CLI_OPTS spring-boot:run &amp;</code></p>\n"},{"tags":["java","arrays","list","hashmap","swt"],"answers":[{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1378826105,"creation_date":1378826105,"answer_id":18722713,"question_id":18722533,"body_markdown":"You should really think about using a [`ListViewer`](http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjface%2Fviewers%2FListViewer.html) instead. A `ListViewer` can contain any bean object you want and show any of it&#39;s fields as the text in the `List`.\r\n\r\n[Here](http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/SampleListViewer.htm) is an example of a `ListViewer`.\r\n\r\n---\r\n\r\nIt&#39;s definitely a lot more code, but it will be worth it in the end.","title":"List Object with multiple &quot;keys&quot; in it","body":"<p>You should really think about using a <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjface%2Fviewers%2FListViewer.html\" rel=\"nofollow\"><code>ListViewer</code></a> instead. A <code>ListViewer</code> can contain any bean object you want and show any of it's fields as the text in the <code>List</code>.</p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/SampleListViewer.htm\" rel=\"nofollow\">Here</a> is an example of a <code>ListViewer</code>.</p>\n\n<hr>\n\n<p>It's definitely a lot more code, but it will be worth it in the end.</p>\n"},{"tags":[],"owner":{"account_id":3286063,"reputation":41,"user_id":2765560,"display_name":"user2765560"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378833712,"creation_date":1378826215,"answer_id":18722765,"question_id":18722533,"body_markdown":"Use a `HashMap`, if you would like to store the key - value pair in the collection\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class Test1 {     \r\n    \r\n        public static void main( String [] args) \r\n        {     \r\n        \tHashMap&lt;String, String&gt; map = new HashMap&lt;String,String&gt;();\r\n        \tmap.put(&quot;1&quot;, &quot;Example XY&quot;);\r\n        \tmap.put(&quot;2&quot;, &quot;Example XZ&quot;);\r\n        } \r\n    } \r\n**Note**: you can not have duplicate values for key\r\n","title":"List Object with multiple &quot;keys&quot; in it","body":"<p>Use a <code>HashMap</code>, if you would like to store the key - value pair in the collection</p>\n\n<pre><code>import java.util.HashMap;\n\npublic class Test1 {     \n\n    public static void main( String [] args) \n    {     \n        HashMap&lt;String, String&gt; map = new HashMap&lt;String,String&gt;();\n        map.put(\"1\", \"Example XY\");\n        map.put(\"2\", \"Example XZ\");\n    } \n} \n</code></pre>\n\n<p><strong>Note</strong>: you can not have duplicate values for key</p>\n"},{"tags":[],"owner":{"account_id":2596359,"reputation":4683,"user_id":2249962,"accept_rate":62,"display_name":"JNL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379104431,"creation_date":1379103965,"answer_id":18794670,"question_id":18722533,"body_markdown":"You should look into [MultiMap][1]\r\n\r\nUse `MultiMap&lt;String, String&gt;`\r\n\r\n\r\n    Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\r\n       \r\n      // Adding some key/value\r\n      myMultimap.put(&quot;E1&quot;, &quot;One&quot;);\r\n      myMultimap.put(&quot;E1&quot;, &quot;Two&quot;);\r\n      myMultimap.put(&quot;E1&quot;, &quot;Three&quot;);\r\n      myMultimap.put(&quot;E2&quot;, &quot;AnotherOne&quot;);\r\n       \r\n      // Getting the size\r\n      int size = myMultimap.size();\r\n      System.out.println(size);  // 4\r\n       \r\n      // Getting values\r\n      Collection&lt;string&gt; sample = myMultimap.get(&quot;E1&quot;);\r\n      System.out.println(E1); // [One, Two, Three];\r\n\r\n\r\nHope this helps.\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/MultiMap.html","title":"List Object with multiple &quot;keys&quot; in it","body":"<p>You should look into <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/MultiMap.html\" rel=\"nofollow\">MultiMap</a></p>\n\n<p>Use <code>MultiMap&lt;String, String&gt;</code></p>\n\n<pre><code>Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\n\n  // Adding some key/value\n  myMultimap.put(\"E1\", \"One\");\n  myMultimap.put(\"E1\", \"Two\");\n  myMultimap.put(\"E1\", \"Three\");\n  myMultimap.put(\"E2\", \"AnotherOne\");\n\n  // Getting the size\n  int size = myMultimap.size();\n  System.out.println(size);  // 4\n\n  // Getting values\n  Collection&lt;string&gt; sample = myMultimap.get(\"E1\");\n  System.out.println(E1); // [One, Two, Three];\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379106034,"creation_date":1379106034,"answer_id":18795160,"question_id":18722533,"body_markdown":"You have to consider what it means when an object has the same key.  If it&#39;s not the same object than the key you are using is wrong.  You could add the data to the objects instead of using strings and then have a list with multiples of each &quot;name&quot; \r\n\r\n    List l = new ArrayList&lt;SomeObject&gt;;\r\n\r\n    list.put(new SomeObject(&quot;red ball&quot;, 1))\r\n    list.put(new SomeObject(&quot;red ball&quot;, 2))\r\n\r\nor make a map of lists of values \r\n\r\n    Map&lt;String,List&lt;SomeObject&gt;&gt; = new HashMap&lt;String,List&lt;SomeObject&gt;&gt;;\r\n        map.get(&quot;Red Ball&quot;)==null ? map.put(new ArrayList&lt;SomeObject&gt;(){{ add(x) }})\r\n                                  : map.get(&quot;Red Ball&quot;).add(x);\r\n\r\nPersonally I prefer solution 1.\r\n\r\n\r\n\r\n","title":"List Object with multiple &quot;keys&quot; in it","body":"<p>You have to consider what it means when an object has the same key.  If it's not the same object than the key you are using is wrong.  You could add the data to the objects instead of using strings and then have a list with multiples of each \"name\" </p>\n\n<pre><code>List l = new ArrayList&lt;SomeObject&gt;;\n\nlist.put(new SomeObject(\"red ball\", 1))\nlist.put(new SomeObject(\"red ball\", 2))\n</code></pre>\n\n<p>or make a map of lists of values </p>\n\n<pre><code>Map&lt;String,List&lt;SomeObject&gt;&gt; = new HashMap&lt;String,List&lt;SomeObject&gt;&gt;;\n    map.get(\"Red Ball\")==null ? map.put(new ArrayList&lt;SomeObject&gt;(){{ add(x) }})\n                              : map.get(\"Red Ball\").add(x);\n</code></pre>\n\n<p>Personally I prefer solution 1.</p>\n"}],"owner":{"account_id":3285995,"reputation":307,"user_id":2765509,"accept_rate":89,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18722713,"answer_count":4,"score":0,"last_activity_date":1670513035,"creation_date":1378825660,"question_id":18722533,"body_markdown":"Hoi,\r\n\r\ncurrently I have a List in Java where I add Entrys via `list.add(&quot;Example&quot;);`\r\n\r\nBut now I would like to add IDs to each entry. I could do this via\r\n\r\n    list.put(&quot;Example XY&quot;);\r\n    list.setData(&quot;Example XY&quot;, 1);\r\nBut in my lists there are a lot of duplicate &quot;Names&quot;. So they Keys for the names get overriden because it seems that I cant set duplicate keys in it.\r\n\r\nSomebody got an Idea how to solve it? Thanks a lot!\r\n","title":"List Object with multiple &quot;keys&quot; in it","body":"<p>Hoi,</p>\n\n<p>currently I have a List in Java where I add Entrys via <code>list.add(\"Example\");</code></p>\n\n<p>But now I would like to add IDs to each entry. I could do this via</p>\n\n<pre><code>list.put(\"Example XY\");\nlist.setData(\"Example XY\", 1);\n</code></pre>\n\n<p>But in my lists there are a lot of duplicate \"Names\". So they Keys for the names get overriden because it seems that I cant set duplicate keys in it.</p>\n\n<p>Somebody got an Idea how to solve it? Thanks a lot!</p>\n"},{"tags":["java","outputstream","xuggle","xuggler"],"comments":[{"owner":{"account_id":1111425,"reputation":840,"user_id":1101823,"accept_rate":100,"display_name":"Phani Rahul"},"score":0,"creation_date":1380158398,"post_id":12731806,"comment_id":28099543,"body_markdown":"did you figure out the answer?","body":"did you figure out the answer?"},{"owner":{"account_id":178679,"reputation":11876,"user_id":410824,"accept_rate":81,"display_name":"Grammin"},"score":0,"creation_date":1380200956,"post_id":12731806,"comment_id":28118001,"body_markdown":"I don&#39;t think I did? Sorry","body":"I don&#39;t think I did? Sorry"},{"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"score":0,"creation_date":1401390424,"post_id":12731806,"comment_id":36876341,"body_markdown":"@PhaniRahul I have submitted an answer if you&#39;re still looking to encode to an OutputStream.","body":"@PhaniRahul I have submitted an answer if you&#39;re still looking to encode to an OutputStream."}],"answers":[{"tags":[],"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401390316,"creation_date":1401390316,"answer_id":23941046,"question_id":12731806,"body_markdown":"I believe the way you are creating the `IMediaWriter` is incorrect. You don&#39;t want to open the writer&#39;s container yourself either. When you are using an `OutputStream` instead of a file you can do it by using the `com.xuggle.xuggler.io.XugglerIO` mapper like this:\r\n\r\n    // create a media writer and specify the output stream\r\n    final IMediaWriter writer = ToolFactory.makeWriter(XugglerIO.map(outputStream));\r\n    \r\n    // manually set the container format (because it can&#39;t detect it by filename anymore)\r\n    IContainerFormat containerFormat = IContainerFormat.make();\r\n    containerFormat.setOutputFormat(&quot;ogg&quot;, null, &quot;application/ogg&quot;);\r\n    mWriter.getContainer().setFormat(containerFormat);\r\n    \r\n    // add the video stream\r\n    writer.addVideoStream(videoStreamIndex, videoStreamId, ICodec.ID.CODEC_ID_THEORA, width, height);\r\n\r\nKeep in mind that if you are trying to create a format that has to be able to &quot;seek&quot; within the output bytes as part of it&#39;s creation process (e.g. .mov), then it won&#39;t work with a simple `OutputStream` as I have shown. You would have to write to a file instead of an `OutputStream`.","title":"How to write to an outputStream using xuggler?","body":"<p>I believe the way you are creating the <code>IMediaWriter</code> is incorrect. You don't want to open the writer's container yourself either. When you are using an <code>OutputStream</code> instead of a file you can do it by using the <code>com.xuggle.xuggler.io.XugglerIO</code> mapper like this:</p>\n\n<pre><code>// create a media writer and specify the output stream\nfinal IMediaWriter writer = ToolFactory.makeWriter(XugglerIO.map(outputStream));\n\n// manually set the container format (because it can't detect it by filename anymore)\nIContainerFormat containerFormat = IContainerFormat.make();\ncontainerFormat.setOutputFormat(\"ogg\", null, \"application/ogg\");\nmWriter.getContainer().setFormat(containerFormat);\n\n// add the video stream\nwriter.addVideoStream(videoStreamIndex, videoStreamId, ICodec.ID.CODEC_ID_THEORA, width, height);\n</code></pre>\n\n<p>Keep in mind that if you are trying to create a format that has to be able to \"seek\" within the output bytes as part of it's creation process (e.g. .mov), then it won't work with a simple <code>OutputStream</code> as I have shown. You would have to write to a file instead of an <code>OutputStream</code>.</p>\n"}],"owner":{"account_id":178679,"reputation":11876,"user_id":410824,"accept_rate":81,"display_name":"Grammin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1670513008,"creation_date":1349368627,"question_id":12731806,"body_markdown":"So I&#39;m trying to write my encoded buffered image to an output stream but I can&#39;t get any data to come through on the stream...  Could anyone tell me what I&#39;m doing wrong and why I can&#39;t see any output? \r\n\r\nI would expect that when I call the write.encodeVideo method that it encode&#39;s video into my ByteArrayOutputStream... is that assumption wrong?\r\n\r\n\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n       \r\n    // video parameters\r\n    final int videoStreamIndex = 0;\r\n    final int videoStreamId = 0;\r\n    final long frameRate = DEFAULT_TIME_UNIT.convert(15, MILLISECONDS);\r\n    final int width = 512;\r\n    final int height = 254;\r\n    long nextFrameTime = 0;\r\n    \r\n    // create a media writer and specify the output file\r\n    final IMediaWriter writer = ToolFactory.makeWriter(&quot;aaa.ogg&quot;);\r\n       \r\n    IContainer ic = writer.getContainer();\r\n    ic.open(outputStream, writer.getContainer().getContainerFormat(), true, false);\r\n    \r\n    ICodec codec = ICodec.guessEncodingCodec(null, null,&quot;aaa.ogg&quot;, null, ICodec.Type.CODEC_TYPE_VIDEO);\r\n    \r\n    // add the video stream\r\n    writer.addVideoStream(videoStreamIndex, videoStreamId, codec, width, height);\r\n    \r\n    BufferedImage img = null;\r\n    try\r\n    {\r\n      img = ImageIO.read(new File(&quot;/data/aaa.png&quot;));\r\n    }\r\n    catch (final IOException e)\r\n    {\r\n      e.printStackTrace();\r\n    }\r\n       \r\n    for(int yy =0; yy &lt; 2048-height; yy=yy+8)\r\n    {\r\n      nextFrameTime++;\r\n      BufferedImage frame = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\r\n      frame = img.getSubimage(0, yy, width, height);\r\n      BufferedImage frame2 = convertToType(frame, BufferedImage.TYPE_3BYTE_BGR);\r\n    \r\n      //encode the video\r\n      writer.encodeVideo(videoStreamIndex, frame2, nextFrameTime, DEFAULT_TIME_UNIT);\r\n         \r\n      nextFrameTime += frameRate;\r\n    }\r\n       \r\n    writer.close();\r\n    outputStream.flush();\r\n    outputStream.close();","title":"How to write to an outputStream using xuggler?","body":"<p>So I'm trying to write my encoded buffered image to an output stream but I can't get any data to come through on the stream...  Could anyone tell me what I'm doing wrong and why I can't see any output?</p>\n<p>I would expect that when I call the write.encodeVideo method that it encode's video into my ByteArrayOutputStream... is that assumption wrong?</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n   \n// video parameters\nfinal int videoStreamIndex = 0;\nfinal int videoStreamId = 0;\nfinal long frameRate = DEFAULT_TIME_UNIT.convert(15, MILLISECONDS);\nfinal int width = 512;\nfinal int height = 254;\nlong nextFrameTime = 0;\n\n// create a media writer and specify the output file\nfinal IMediaWriter writer = ToolFactory.makeWriter(&quot;aaa.ogg&quot;);\n   \nIContainer ic = writer.getContainer();\nic.open(outputStream, writer.getContainer().getContainerFormat(), true, false);\n\nICodec codec = ICodec.guessEncodingCodec(null, null,&quot;aaa.ogg&quot;, null, ICodec.Type.CODEC_TYPE_VIDEO);\n\n// add the video stream\nwriter.addVideoStream(videoStreamIndex, videoStreamId, codec, width, height);\n\nBufferedImage img = null;\ntry\n{\n  img = ImageIO.read(new File(&quot;/data/aaa.png&quot;));\n}\ncatch (final IOException e)\n{\n  e.printStackTrace();\n}\n   \nfor(int yy =0; yy &lt; 2048-height; yy=yy+8)\n{\n  nextFrameTime++;\n  BufferedImage frame = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\n  frame = img.getSubimage(0, yy, width, height);\n  BufferedImage frame2 = convertToType(frame, BufferedImage.TYPE_3BYTE_BGR);\n\n  //encode the video\n  writer.encodeVideo(videoStreamIndex, frame2, nextFrameTime, DEFAULT_TIME_UNIT);\n     \n  nextFrameTime += frameRate;\n}\n   \nwriter.close();\noutputStream.flush();\noutputStream.close();\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670512550,"creation_date":1670512550,"answer_id":74732496,"question_id":74731447,"body_markdown":"It is a bug in the XML configuration.\r\n\r\nThe `KafkaMessageDrivenChannelAdapter` has a respective property:\r\n\r\n\t/**\r\n\t * Specify a {@link RecordFilterStrategy} to wrap\r\n\t * {@link KafkaMessageDrivenChannelAdapter.IntegrationRecordMessageListener} into\r\n\t * {@link FilteringMessageListenerAdapter}.\r\n\t * @param recordFilterStrategy the {@link RecordFilterStrategy} to use.\r\n\t */\r\n\tpublic void setRecordFilterStrategy(RecordFilterStrategy&lt;K, V&gt; recordFilterStrategy) {\r\n\r\nWe just missed to expose it for the XML configuration.\r\n\r\nFeel free to raise a GH issue on the matter!\r\n\r\nAs a workaround consider to declare a regular `&lt;bean&gt;` for the `KafkaMessageDrivenChannelAdapter` instead of that XML config. Or just move away from XML config altogether in favor of Java DSL: https://docs.spring.io/spring-integration/docs/current/reference/html/kafka.html#kafka-inbound-adapter-configuration","title":"RecordFilterStrategy with int-kafka:message-driven-channel-adapter","body":"<p>It is a bug in the XML configuration.</p>\n<p>The <code>KafkaMessageDrivenChannelAdapter</code> has a respective property:</p>\n<pre><code>/**\n * Specify a {@link RecordFilterStrategy} to wrap\n * {@link KafkaMessageDrivenChannelAdapter.IntegrationRecordMessageListener} into\n * {@link FilteringMessageListenerAdapter}.\n * @param recordFilterStrategy the {@link RecordFilterStrategy} to use.\n */\npublic void setRecordFilterStrategy(RecordFilterStrategy&lt;K, V&gt; recordFilterStrategy) {\n</code></pre>\n<p>We just missed to expose it for the XML configuration.</p>\n<p>Feel free to raise a GH issue on the matter!</p>\n<p>As a workaround consider to declare a regular <code>&lt;bean&gt;</code> for the <code>KafkaMessageDrivenChannelAdapter</code> instead of that XML config. Or just move away from XML config altogether in favor of Java DSL: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/kafka.html#kafka-inbound-adapter-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/kafka.html#kafka-inbound-adapter-configuration</a></p>\n"}],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74732496,"answer_count":1,"score":0,"last_activity_date":1670512550,"creation_date":1670508173,"question_id":74731447,"body_markdown":"Is there a way to inject a listener with custom RecordFilterStategy?\r\n\r\n    &lt;int-kafka:message-driven-channel-adapter\r\n            id=&quot;kafkaConsumer&quot;\r\n            listener-container=&quot;listenerContainer&quot;\r\n            channel=&quot;consumerChannel&quot;\r\n            message-converter=&quot;messageConverter&quot;\r\n            payload-type=&quot;java.lang.String&quot;\r\n    /&gt;\r\n\r\nI&#39;ve tried to do the following: \r\n\r\n    &lt;bean id=&quot;containerProperties&quot; class=&quot;org.springframework.kafka.listener.config.ContainerProperties&quot;&gt;\r\n        &lt;constructor-arg name=&quot;topics&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;someTopic&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/constructor-arg&gt;\r\n        &lt;property name=&quot;errorHandler&quot; ref=&quot;listenerErrorHandler&quot;/&gt;\r\n        &lt;property name=&quot;messageListener&quot; ref=&quot;filteringMessageListener&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;recordFilterStrategy&quot; class=&quot;com.some.path&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;filteringMessageListener&quot; class=&quot;org.springframework.kafka.listener.adapter.FilteringMessageListenerAdapter&quot;&gt;\r\n        &lt;constructor-arg&gt;\r\n            &lt;bean factory-bean=&quot;containerProperties&quot; factory-method=&quot;getMessageListener&quot;/&gt;\r\n        &lt;/constructor-arg&gt;\r\n        &lt;constructor-arg ref=&quot;recordFilterStrategy&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nBut I got en error: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Container must not already have a listener","title":"RecordFilterStrategy with int-kafka:message-driven-channel-adapter","body":"<p>Is there a way to inject a listener with custom RecordFilterStategy?</p>\n<pre><code>&lt;int-kafka:message-driven-channel-adapter\n        id=&quot;kafkaConsumer&quot;\n        listener-container=&quot;listenerContainer&quot;\n        channel=&quot;consumerChannel&quot;\n        message-converter=&quot;messageConverter&quot;\n        payload-type=&quot;java.lang.String&quot;\n/&gt;\n</code></pre>\n<p>I've tried to do the following:</p>\n<pre><code>&lt;bean id=&quot;containerProperties&quot; class=&quot;org.springframework.kafka.listener.config.ContainerProperties&quot;&gt;\n    &lt;constructor-arg name=&quot;topics&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;someTopic&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/constructor-arg&gt;\n    &lt;property name=&quot;errorHandler&quot; ref=&quot;listenerErrorHandler&quot;/&gt;\n    &lt;property name=&quot;messageListener&quot; ref=&quot;filteringMessageListener&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;recordFilterStrategy&quot; class=&quot;com.some.path&quot;/&gt;\n\n&lt;bean id=&quot;filteringMessageListener&quot; class=&quot;org.springframework.kafka.listener.adapter.FilteringMessageListenerAdapter&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean factory-bean=&quot;containerProperties&quot; factory-method=&quot;getMessageListener&quot;/&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg ref=&quot;recordFilterStrategy&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But I got en error: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Container must not already have a listener</p>\n"},{"tags":["java","spring-boot","jdbc","firebird"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1670488870,"post_id":74718125,"comment_id":131888356,"body_markdown":"What is the exception stacktrace? (please use `e.printStackTrace()`). As an aside, the code as shown is plain Java/JDBC, not Spring Boot specific. Likely you haven&#39;t added Jaybird (the Firebird JDBC driver) to the dependencies.","body":"What is the exception stacktrace? (please use <code>e.printStackTrace()</code>). As an aside, the code as shown is plain Java/JDBC, not Spring Boot specific. Likely you haven&#39;t added Jaybird (the Firebird JDBC driver) to the dependencies."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670489284,"post_id":74718125,"comment_id":131888502,"body_markdown":"I suggest you read a basic introduction on Spring Boot so you understand how the Spring Boot way of creating connections works. For example [How to: Data Access](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access)","body":"I suggest you read a basic introduction on Spring Boot so you understand how the Spring Boot way of creating connections works. For example <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access\" rel=\"nofollow noreferrer\">How to: Data Access</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670489402,"post_id":74718125,"comment_id":131888544,"body_markdown":"BTW: It looks like you created a new account. Was that intentional?","body":"BTW: It looks like you created a new account. Was that intentional?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670512428,"creation_date":1670510120,"answer_id":74731904,"question_id":74718125,"body_markdown":"Take the following steps:\r\n\r\n1. Go to https://start.spring.io/\r\n2. Configure it with Maven (or Gradle if you prefer that)\r\n3. Enter the desired coordinates for your project\r\n4. Add dependency JDBC\r\n5. Click Generate and unpack the zip to a location on your computer\r\n6. Open the project in you favorite IDE\r\n7. In the pom.xml, in the `dependencies` section add Jaybird (the Firebird JDBC driver):\r\n\r\n    ```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    ```\r\n\r\n   Or, if you used Gradle, add to the `dependencies` section of `build.gradle`:\r\n\r\n    ```groovy\r\n    runtimeOnly &#39;org.firebirdsql.jdbc:jaybird&#39;\r\n    ```\r\n8. In `src/main/resources/application.properties` add:\r\n\r\n    ```ini\r\n    spring.datasource.url=jdbc:firebirdsql://localhost/employee\r\n    spring.datasource.username=sysdba\r\n    spring.datasource.password=masterkey\r\n    ```\r\n9. In the package generated by the initializr (default `com.example.demo`), add a new class `SimpleRunner`:\r\n\r\n    ```java\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Component\r\n    public class SimpleRunner implements CommandLineRunner {\r\n    \r\n        private final DataSource dataSource;\r\n    \r\n        public SimpleRunner(DataSource dataSource) {\r\n            this.dataSource = dataSource;\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            try (var connection = dataSource.getConnection();\r\n                 var stmt = connection.createStatement();\r\n                 var rs = stmt.executeQuery(&quot;select first_name, last_name from employee&quot;)) {\r\n                while (rs.next()) {\r\n                    System.out.printf(&quot;%s %s%n&quot;, \r\n                            rs.getString(&quot;first_name&quot;), rs.getString(&quot;last_name&quot;));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\nThis very basic application will connect to the Firebird example database `employee`, and print out the first and last names of the employees in the `employee` table.","title":"Firebird connection using Spring Boot","body":"<p>Take the following steps:</p>\n<ol>\n<li><p>Go to <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></p>\n</li>\n<li><p>Configure it with Maven (or Gradle if you prefer that)</p>\n</li>\n<li><p>Enter the desired coordinates for your project</p>\n</li>\n<li><p>Add dependency JDBC</p>\n</li>\n<li><p>Click Generate and unpack the zip to a location on your computer</p>\n</li>\n<li><p>Open the project in you favorite IDE</p>\n</li>\n<li><p>In the pom.xml, in the <code>dependencies</code> section add Jaybird (the Firebird JDBC driver):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or, if you used Gradle, add to the <code>dependencies</code> section of <code>build.gradle</code>:</p>\n<pre><code>runtimeOnly 'org.firebirdsql.jdbc:jaybird'\n</code></pre>\n</li>\n<li><p>In <code>src/main/resources/application.properties</code> add:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.datasource.url=jdbc:firebirdsql://localhost/employee\nspring.datasource.username=sysdba\nspring.datasource.password=masterkey\n</code></pre>\n</li>\n<li><p>In the package generated by the initializr (default <code>com.example.demo</code>), add a new class <code>SimpleRunner</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport javax.sql.DataSource;\n\n@Component\npublic class SimpleRunner implements CommandLineRunner {\n\n    private final DataSource dataSource;\n\n    public SimpleRunner(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        try (var connection = dataSource.getConnection();\n             var stmt = connection.createStatement();\n             var rs = stmt.executeQuery(&quot;select first_name, last_name from employee&quot;)) {\n            while (rs.next()) {\n                System.out.printf(&quot;%s %s%n&quot;, \n                        rs.getString(&quot;first_name&quot;), rs.getString(&quot;last_name&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>This very basic application will connect to the Firebird example database <code>employee</code>, and print out the first and last names of the employees in the <code>employee</code> table.</p>\n"}],"owner":{"account_id":27178762,"reputation":11,"user_id":20714359,"display_name":"paulo cesar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670512428,"creation_date":1670422888,"question_id":74718125,"body_markdown":"How to create a Firebird connection using Spring Boot to make views in SQL using the Firebird database? I have no idea how to build this.\r\n\r\n```\r\ntry {\r\n    Class.forName(&quot;org.firebirdsql.jdbc.FBDriver&quot;);\r\n    Connection con= DriverManager.getConnection(&quot;jdbc:firebirdsql:localhost/3050:C:/DB/DASHBOARD.FDB&quot;,&quot;sysdba&quot;,&quot;masterkey&quot;);\r\n    Statement stm= con.createStatement();\r\n    ResultSet res= stm.executeQuery(&quot;SELECT * FROM TBLEMPLOYEE&quot;);\r\n    while (res.next()) {\r\n        System.out.println(&quot;DASHBOARD LASTNAME:&quot;\r\n                + res.getString(&quot;LASTNAME&quot;));\r\n    }\r\n} catch (Exception e) {\r\n    System.out.println(e);\r\n}\r\n```\r\n\r\nI tried to make a connection string, but without success because Spring doesn&#39;t recognize it.","title":"Firebird connection using Spring Boot","body":"<p>How to create a Firebird connection using Spring Boot to make views in SQL using the Firebird database? I have no idea how to build this.</p>\n<pre><code>try {\n    Class.forName(&quot;org.firebirdsql.jdbc.FBDriver&quot;);\n    Connection con= DriverManager.getConnection(&quot;jdbc:firebirdsql:localhost/3050:C:/DB/DASHBOARD.FDB&quot;,&quot;sysdba&quot;,&quot;masterkey&quot;);\n    Statement stm= con.createStatement();\n    ResultSet res= stm.executeQuery(&quot;SELECT * FROM TBLEMPLOYEE&quot;);\n    while (res.next()) {\n        System.out.println(&quot;DASHBOARD LASTNAME:&quot;\n                + res.getString(&quot;LASTNAME&quot;));\n    }\n} catch (Exception e) {\n    System.out.println(e);\n}\n</code></pre>\n<p>I tried to make a connection string, but without success because Spring doesn't recognize it.</p>\n"},{"tags":["java","java-stream","java-11"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1670360834,"post_id":74708979,"comment_id":131858066,"body_markdown":"We might have more insight if you were more specific about the nature of your concurrency tests and the failures observed in them.","body":"We might have more insight if you were more specific about the nature of your concurrency tests and the failures observed in them."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670592663,"post_id":74708979,"comment_id":131915548,"body_markdown":"`invokeAll(tasks)` does already invoke all callables and return when all of them have been completed. There is no point in chaining a `forEach` with an action that does nothing but call `get` without using the result. Besides that, try to use `List.of(…)` instead of `Set.of(…)`. That might give you better parallel processing.","body":"<code>invokeAll(tasks)</code> does already invoke all callables and return when all of them have been completed. There is no point in chaining a <code>forEach</code> with an action that does nothing but call <code>get</code> without using the result. Besides that, try to use <code>List.of(…)</code> instead of <code>Set.of(…)</code>. That might give you better parallel processing."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670360706,"creation_date":1670360706,"answer_id":74709026,"question_id":74708979,"body_markdown":"`parallelStream` uses the [fork/join common pool](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html) which is an Executor, so you&#39;re right, it&#39;s almost the same.\r\n\r\nThe fork/join pool is used for all kinds of things so maybe some other, unrelated task was interfering. By declaring the Executor yourself, you are guaranteeing 4 dedicated threads.\r\n\r\n`forEach` is a fine terminal operation for the first example. The one to avoid would be `forEachOrdered`, which breaks the parallelism. ","title":"Is there any difference between parallelStream() and ExecutorService?","body":"<p><code>parallelStream</code> uses the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">fork/join common pool</a> which is an Executor, so you're right, it's almost the same.</p>\n<p>The fork/join pool is used for all kinds of things so maybe some other, unrelated task was interfering. By declaring the Executor yourself, you are guaranteeing 4 dedicated threads.</p>\n<p><code>forEach</code> is a fine terminal operation for the first example. The one to avoid would be <code>forEachOrdered</code>, which breaks the parallelism.</p>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670512140,"creation_date":1670512140,"answer_id":74732411,"question_id":74708979,"body_markdown":"## `ExecutorService` vs `parallelStream()`\r\n\r\nFrom the first sight they are interchangeable approaches since `parallelStream()` uses `ForkJoinPool` that uses `Executors` in turn. The syntax sugar if you want.\r\nBut it isn’t always the true.  The `ForkJoinPool` (and therefore `parallelStream()`) since Java 9 returns `Executor` with the `ClassLoader` that differ from the main `ClassLoader` from which you probably forked.\r\nIt could lead to strange problems: I had the library that wasn’t loaded by the `ClassLoader` from `ForkJoinPool` and I got `ClassNotFoundException`, one of the possible solutions is:\r\n```java\r\nfinal ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\ntasks.parallelStream().forEach(task -&gt; {\r\n    Thread.currentThread().setContextClassLoader(cl);\r\n    task.get();\r\n});\r\n```\r\nBut as for me - it doesn’t look so well and by that reason, for my particular case, I decided to use pure `Executors` without any side effects. You can find more solutions of the problem in that [SO question](https://stackoverflow.com/questions/49113207/completablefuture-forkjoinpool-set-class-loader/57551188#57551188). I hope this helps someone.","title":"Is there any difference between parallelStream() and ExecutorService?","body":"<h2><code>ExecutorService</code> vs <code>parallelStream()</code></h2>\n<p>From the first sight they are interchangeable approaches since <code>parallelStream()</code> uses <code>ForkJoinPool</code> that uses <code>Executors</code> in turn. The syntax sugar if you want.\nBut it isn’t always the true.  The <code>ForkJoinPool</code> (and therefore <code>parallelStream()</code>) since Java 9 returns <code>Executor</code> with the <code>ClassLoader</code> that differ from the main <code>ClassLoader</code> from which you probably forked.\nIt could lead to strange problems: I had the library that wasn’t loaded by the <code>ClassLoader</code> from <code>ForkJoinPool</code> and I got <code>ClassNotFoundException</code>, one of the possible solutions is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ClassLoader cl = Thread.currentThread().getContextClassLoader();\ntasks.parallelStream().forEach(task -&gt; {\n    Thread.currentThread().setContextClassLoader(cl);\n    task.get();\n});\n</code></pre>\n<p>But as for me - it doesn’t look so well and by that reason, for my particular case, I decided to use pure <code>Executors</code> without any side effects. You can find more solutions of the problem in that <a href=\"https://stackoverflow.com/questions/49113207/completablefuture-forkjoinpool-set-class-loader/57551188#57551188\">SO question</a>. I hope this helps someone.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74709026,"answer_count":2,"score":0,"last_activity_date":1670512354,"creation_date":1670360347,"question_id":74708979,"body_markdown":"I have a list of heavy tasks that should be run in parallel. I like the java Stream API and don&#39;t want to touch `Executors` directly, for that reason I&#39;ve written the following code:\r\n\r\n```java\r\nSet&lt;Runnable&gt; tasks = Set.of(heavyTask(),…);\r\ntasks.parallelStream().forEach(Runnable::run);\r\n```\r\nQuite often (not always!) my concurrency tests fails during “heavy task” execution. OK, probably it&#39;s a race condition. I&#39;ve rewritten the code using `Executors` directly:\r\n```java\r\ntry {\r\n    Set&lt;Callable&lt;Object&gt;&gt; tasks = Set.of(heavyTask(),…);\r\n    Executors.newFixedThreadPool(4)\r\n        .invokeAll(tasks).forEach(future-&gt;{\r\n            try {\r\n                future.get();\r\n            } catch (InterruptedException | ExecutionException ignore) {\r\n        }\r\n    });\r\n} catch (InterruptedException ignore) {\r\n}\r\n``` \r\nThe problem with heavy tasks is gone. I&#39;m really confused.  I thought that `parallelStream()` uses `Executors` under the hood and it&#39;s almost the same. Is there any difference between `.parallelStream()` and `ExecutorService`? Or maybe `forEach` isn&#39;t correct termination operation in the first code example?\r\n","title":"Is there any difference between parallelStream() and ExecutorService?","body":"<p>I have a list of heavy tasks that should be run in parallel. I like the java Stream API and don't want to touch <code>Executors</code> directly, for that reason I've written the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Runnable&gt; tasks = Set.of(heavyTask(),…);\ntasks.parallelStream().forEach(Runnable::run);\n</code></pre>\n<p>Quite often (not always!) my concurrency tests fails during “heavy task” execution. OK, probably it's a race condition. I've rewritten the code using <code>Executors</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Set&lt;Callable&lt;Object&gt;&gt; tasks = Set.of(heavyTask(),…);\n    Executors.newFixedThreadPool(4)\n        .invokeAll(tasks).forEach(future-&gt;{\n            try {\n                future.get();\n            } catch (InterruptedException | ExecutionException ignore) {\n        }\n    });\n} catch (InterruptedException ignore) {\n}\n</code></pre>\n<p>The problem with heavy tasks is gone. I'm really confused.  I thought that <code>parallelStream()</code> uses <code>Executors</code> under the hood and it's almost the same. Is there any difference between <code>.parallelStream()</code> and <code>ExecutorService</code>? Or maybe <code>forEach</code> isn't correct termination operation in the first code example?</p>\n"},{"tags":["java","quicksort"],"comments":[{"owner":{"account_id":1113893,"reputation":5696,"user_id":1103752,"accept_rate":94,"display_name":"ACarter"},"score":2,"creation_date":1670505637,"post_id":74730911,"comment_id":131893733,"body_markdown":"in what way is it not working correctly?","body":"in what way is it not working correctly?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670505693,"post_id":74730911,"comment_id":131893753,"body_markdown":"Your `partition` method seems off.  Normally I see two loops there.  One to move an &quot;upper&quot; partition down and one loop to move a &quot;lower&quot; partition up.","body":"Your <code>partition</code> method seems off.  Normally I see two loops there.  One to move an &quot;upper&quot; partition down and one loop to move a &quot;lower&quot; partition up."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670505787,"post_id":74730911,"comment_id":131893782,"body_markdown":"I&#39;ll toot my own horn a little here, but if you want some commentary on a quicksort implementation you can compare comments here: https://codereview.stackexchange.com/questions/226467/quicksort-with-insertion-sort-and-improved-pivot-selection","body":"I&#39;ll toot my own horn a little here, but if you want some commentary on a quicksort implementation you can compare comments here: <a href=\"https://codereview.stackexchange.com/questions/226467/quicksort-with-insertion-sort-and-improved-pivot-selection\" title=\"quicksort with insertion sort and improved pivot selection\">codereview.stackexchange.com/questions/226467/&hellip;</a>"},{"owner":{"account_id":23410452,"reputation":3,"user_id":17472248,"display_name":"ralph367"},"score":0,"creation_date":1670506147,"post_id":74730911,"comment_id":131893923,"body_markdown":"@ACarter The array isn&#39;t being fully sorted. Some numbers are, usually on the left side, but there are a few oddball numbers that are out of place. Here&#39;s a comparison of one of the outputs:\n\nBefore\n[9, 3, 1, 7, 2, 18, 4, 49, 94, 23, 11, 71]\n\nAfter\n[1, 3, 7, 2, 49, 9, 18, 4, 23, 11, 94, 71]","body":"@ACarter The array isn&#39;t being fully sorted. Some numbers are, usually on the left side, but there are a few oddball numbers that are out of place. Here&#39;s a comparison of one of the outputs:  Before [9, 3, 1, 7, 2, 18, 4, 49, 94, 23, 11, 71]  After [1, 3, 7, 2, 49, 9, 18, 4, 23, 11, 94, 71]"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670506956,"post_id":74730911,"comment_id":131894235,"body_markdown":"It&#39;s `partition` that does the actual sorting.  So for example, `if (list[j] &lt; pivot){ i++; swap(list, i, j);` At no point do you check that the value at index `i` is greater than `pivot`, so there&#39;s some &quot;oddball&quot; values for you right there.","body":"It&#39;s <code>partition</code> that does the actual sorting.  So for example, <code>if (list[j] &lt; pivot){ i++; swap(list, i, j);</code> At no point do you check that the value at index <code>i</code> is greater than <code>pivot</code>, so there&#39;s some &quot;oddball&quot; values for you right there."}],"answers":[{"tags":[],"owner":{"account_id":480217,"reputation":541,"user_id":893323,"display_name":"x22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670512255,"creation_date":1670511285,"answer_id":74732199,"question_id":74730911,"body_markdown":"You are passing wrong parameters to method `swap()` when swapping the pivot at the end of `partition()`. \r\n\r\nChange\r\n\r\n    swap(list, list[i + 1], list[hi]);\r\nto\r\n\r\n    swap(list, i + 1, hi);\r\n\r\nAdditionally the following check in method `swap()`:\r\n\r\n    if (a &gt;= list.length || b &gt;= list.length){\r\n        return;\r\n    }\r\nshould not be needed. Values of `a` and `b` could be too high only due to the above mentioned mistake but with correct code it should never happen.\r\n","title":"Quicksort implementation isn&#39;t returning expected result","body":"<p>You are passing wrong parameters to method <code>swap()</code> when swapping the pivot at the end of <code>partition()</code>.</p>\n<p>Change</p>\n<pre><code>swap(list, list[i + 1], list[hi]);\n</code></pre>\n<p>to</p>\n<pre><code>swap(list, i + 1, hi);\n</code></pre>\n<p>Additionally the following check in method <code>swap()</code>:</p>\n<pre><code>if (a &gt;= list.length || b &gt;= list.length){\n    return;\n}\n</code></pre>\n<p>should not be needed. Values of <code>a</code> and <code>b</code> could be too high only due to the above mentioned mistake but with correct code it should never happen.</p>\n"}],"owner":{"account_id":23410452,"reputation":3,"user_id":17472248,"display_name":"ralph367"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1670512255,"creation_date":1670505556,"question_id":74730911,"body_markdown":"I&#39;ve been trying to write up a quicksort algorithm in Java, but it&#39;s not working correctly. I&#39;ve compared the code with several other implementations online and I honestly can&#39;t figure out what the issue is.\r\n\r\n    public class Quicksort {\r\n    public void sort(int[] list){\r\n        sort(list, 0, list.length - 1);\r\n    }\r\n\r\n    private void sort(int[] list, int li, int hi){\r\n        if (li &lt; hi){\r\n            int pi = partition(list, li, hi);\r\n            sort(list, li, pi - 1);\r\n            sort(list, pi + 1, hi);\r\n        }\r\n    }\r\n\r\n    private int partition(int[] list, int li, int hi){\r\n        int pivot = list[hi];\r\n\r\n        int i = (li - 1);\r\n        \r\n        for (int j = li; j &lt;= hi; j++){\r\n            if (list[j] &lt; pivot){\r\n                i++;\r\n                swap(list, i, j);\r\n            }\r\n        }\r\n\r\n        swap(list, list[i + 1], list[hi]);\r\n        return (i + 1);\r\n    }\r\n\r\n    private void swap(int[] list, int a, int b){\r\n        if (a &gt;= list.length || b &gt;= list.length){\r\n            return;\r\n        }\r\n\r\n        int temp = list[a];\r\n        list[a] = list[b];\r\n        list[b] = temp;\r\n    }\r\n\r\n    private int getPivot(int[] list, int li, int hi){\r\n        int mi = hi / 2;\r\n\r\n        int chosen = Math.max(Math.max(list[hi], list[li]), list[mi]);\r\n\r\n        System.out.println(chosen);\r\n        return chosen;\r\n    }\r\n    }","title":"Quicksort implementation isn&#39;t returning expected result","body":"<p>I've been trying to write up a quicksort algorithm in Java, but it's not working correctly. I've compared the code with several other implementations online and I honestly can't figure out what the issue is.</p>\n<pre><code>public class Quicksort {\npublic void sort(int[] list){\n    sort(list, 0, list.length - 1);\n}\n\nprivate void sort(int[] list, int li, int hi){\n    if (li &lt; hi){\n        int pi = partition(list, li, hi);\n        sort(list, li, pi - 1);\n        sort(list, pi + 1, hi);\n    }\n}\n\nprivate int partition(int[] list, int li, int hi){\n    int pivot = list[hi];\n\n    int i = (li - 1);\n    \n    for (int j = li; j &lt;= hi; j++){\n        if (list[j] &lt; pivot){\n            i++;\n            swap(list, i, j);\n        }\n    }\n\n    swap(list, list[i + 1], list[hi]);\n    return (i + 1);\n}\n\nprivate void swap(int[] list, int a, int b){\n    if (a &gt;= list.length || b &gt;= list.length){\n        return;\n    }\n\n    int temp = list[a];\n    list[a] = list[b];\n    list[b] = temp;\n}\n\nprivate int getPivot(int[] list, int li, int hi){\n    int mi = hi / 2;\n\n    int chosen = Math.max(Math.max(list[hi], list[li]), list[mi]);\n\n    System.out.println(chosen);\n    return chosen;\n}\n}\n</code></pre>\n"},{"tags":["java","android","database","firebase","kotlin"],"comments":[{"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"score":0,"creation_date":1677846000,"post_id":74719972,"comment_id":133422207,"body_markdown":"Set Layout Manager to Recyclerview.","body":"Set Layout Manager to Recyclerview."}],"answers":[{"tags":[],"owner":{"account_id":26579939,"reputation":106,"user_id":20204744,"display_name":"MRF"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670432262,"creation_date":1670432262,"answer_id":74720276,"question_id":74719972,"body_markdown":"As stated in your Log you haven&#39;t attatched the adapter to your RecyclerView.\r\nTry this in the MainActivity onCreate():\r\n\r\n    mainBinding.yourRecyclerView.adapter = userAdapter\r\n","title":"E/RecyclerView: No adapter attached; skipping layout Can&#39;t show list of users in app","body":"<p>As stated in your Log you haven't attatched the adapter to your RecyclerView.\nTry this in the MainActivity onCreate():</p>\n<pre><code>mainBinding.yourRecyclerView.adapter = userAdapter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16041428,"reputation":120,"user_id":11577746,"display_name":"ERTUGRUL KOC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670480936,"creation_date":1670480936,"answer_id":74726326,"question_id":74719972,"body_markdown":"Sometimes when update you want your recylerview, you must notifyDataSetChanged().\r\n**Example**\r\n\r\n    mainBinding.yourRecylerview.adapter = userAdapter\r\n    userAdapter.NotifyDataSetChanged()\r\n","title":"E/RecyclerView: No adapter attached; skipping layout Can&#39;t show list of users in app","body":"<p>Sometimes when update you want your recylerview, you must notifyDataSetChanged().\n<strong>Example</strong></p>\n<pre><code>mainBinding.yourRecylerview.adapter = userAdapter\nuserAdapter.NotifyDataSetChanged()\n</code></pre>\n"}],"owner":{"account_id":21525736,"reputation":41,"user_id":15866050,"display_name":"xMaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670482294,"accepted_answer_id":74720276,"answer_count":2,"score":0,"last_activity_date":1670512034,"creation_date":1670430858,"question_id":74719972,"body_markdown":"Can anyone help mi solve this problem? I want to show list of users in the app.\r\n\r\nLogcat error: E/RecyclerView: No adapter attached; skipping layout \r\n\r\nUser code\r\n\r\n```\r\ndata class Users(val userId : String = &quot;&quot;,\r\n                 val name : String = &quot;&quot;,\r\n                 val email : String = &quot;&quot;) {\r\n                 }\r\n```\r\n\r\nUsersAdapter code\r\n\r\n```\r\nclass UsersAdapter(var context : Context,\r\n                   var userList : ArrayList&lt;Users&gt;) : RecyclerView.Adapter&lt;UsersAdapter.UsersViewHolder&gt;() {\r\n\r\n    inner class UsersViewHolder(val adapterBinding : UsersItemBinding)\r\n        : RecyclerView.ViewHolder(adapterBinding.root){}\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): UsersViewHolder {\r\n\r\n        val binding = UsersItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n\r\n        return UsersViewHolder(binding)\r\n\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: UsersViewHolder, position: Int) {\r\n\r\n        holder.adapterBinding.friendUserName.text = userList[position].name\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n\r\n        return userList.size\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n[MainActivity](https://pastebin.com/7NbMXXcd) code","title":"E/RecyclerView: No adapter attached; skipping layout Can&#39;t show list of users in app","body":"<p>Can anyone help mi solve this problem? I want to show list of users in the app.</p>\n<p>Logcat error: E/RecyclerView: No adapter attached; skipping layout</p>\n<p>User code</p>\n<pre><code>data class Users(val userId : String = &quot;&quot;,\n                 val name : String = &quot;&quot;,\n                 val email : String = &quot;&quot;) {\n                 }\n</code></pre>\n<p>UsersAdapter code</p>\n<pre><code>class UsersAdapter(var context : Context,\n                   var userList : ArrayList&lt;Users&gt;) : RecyclerView.Adapter&lt;UsersAdapter.UsersViewHolder&gt;() {\n\n    inner class UsersViewHolder(val adapterBinding : UsersItemBinding)\n        : RecyclerView.ViewHolder(adapterBinding.root){}\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): UsersViewHolder {\n\n        val binding = UsersItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n\n        return UsersViewHolder(binding)\n\n    }\n\n    override fun onBindViewHolder(holder: UsersViewHolder, position: Int) {\n\n        holder.adapterBinding.friendUserName.text = userList[position].name\n\n\n\n\n    }\n\n    override fun getItemCount(): Int {\n\n        return userList.size\n\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://pastebin.com/7NbMXXcd\" rel=\"nofollow noreferrer\">MainActivity</a> code</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670510513,"creation_date":1670510208,"answer_id":74731920,"question_id":74722113,"body_markdown":"To insert a file using native query used the following approach:\r\n\r\n1. Create a bean for your JdbcTemplate\r\n\r\n```\r\n    @Bean\r\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n        return new JdbcTemplate(dataSource);\r\n    }\r\n\r\n```\r\n2. Make use of JdbcTemplate and preparedStatement to insert the data\r\n\r\n```\r\n @Autowired\r\n private JdbcTemplate jdbcTemplate;\r\n```\r\n\r\n```\r\n@Override\r\n@Transactional\r\npublic void insertEncodeData(CustomerData customer) {\r\n  String insertStatement = &quot;insert into customer (name,data) VALUES (?,?)&quot;;\r\n\r\n        jdbcTemplate.update(insertStatement, ps -&gt; {\r\n            \r\n            ps.setString(1,customer.getName());\r\n            ps.setClob(2,org.hibernate.engine.jdbc.ClobProxy.generateProxy(customer.getContent()));\r\n        });\r\n \r\n}\r\n```\r\nThe given approach insert the encoded file properly using native query.","title":"How to convert string into lob while inserting the data through jpa native query?","body":"<p>To insert a file using native query used the following approach:</p>\n<ol>\n<li>Create a bean for your JdbcTemplate</li>\n</ol>\n<pre><code>    @Bean\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\n        return new JdbcTemplate(dataSource);\n    }\n\n</code></pre>\n<ol start=\"2\">\n<li>Make use of JdbcTemplate and preparedStatement to insert the data</li>\n</ol>\n<pre><code> @Autowired\n private JdbcTemplate jdbcTemplate;\n</code></pre>\n<pre><code>@Override\n@Transactional\npublic void insertEncodeData(CustomerData customer) {\n  String insertStatement = &quot;insert into customer (name,data) VALUES (?,?)&quot;;\n\n        jdbcTemplate.update(insertStatement, ps -&gt; {\n            \n            ps.setString(1,customer.getName());\n            ps.setClob(2,org.hibernate.engine.jdbc.ClobProxy.generateProxy(customer.getContent()));\n        });\n \n}\n</code></pre>\n<p>The given approach insert the encoded file properly using native query.</p>\n"}],"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74731920,"answer_count":1,"score":0,"last_activity_date":1670510513,"creation_date":1670441859,"question_id":74722113,"body_markdown":"I am able to insert the encoded file in my Postgres database properly when I am using @lob for encoded file while mapping my entity with database and using save() method to insert the data\r\n\r\n```\r\n@Lob\r\n@Column(name=&quot;data&quot;, columnDefinition = &quot;text&quot;)\r\nprivate String fileContent;\r\n``` \r\nWhen I am trying to insert the same encoded file using insert native query it is not inserting properly.\r\n\r\n```\r\n@Override\r\n@Transactional\r\npublic void insertEncodeData(CustomerData customer) {\r\n   entityManager.createNativeQuery(&quot;insert into customer (name,data) VALUES (?,?)&quot;)\r\n                .setParameter(1, customer.getName())\r\n                .setParameter(2, customer.getData())\r\n                .executeUpdate();\r\n    }\r\n```\r\nThe encoded base 64 file is not storing in lob format, it is consider as simple string. Can anyone help me this?\r\n\r\nTry 1\r\n\r\n```\r\n@Override\r\n@Transactional\r\npublic void insertEncodeData(CustomerData customer) {\r\n  Clob lob = entityManager.unwrap(Session.class).getLobHelper().createClob(customer.getData());\r\n   entityManager.createNativeQuery(&quot;insert into customer (name,data) VALUES (?,?)&quot;)\r\n                .setParameter(1, customer.getName())\r\n                .setParameter(2, lob)\r\n                .executeUpdate();\r\n    }\r\n```\r\nI had converted the encoded file into clob and tried to insert it but still not working.\r\n\r\nThank you in advance!\r\n","title":"How to convert string into lob while inserting the data through jpa native query?","body":"<p>I am able to insert the encoded file in my Postgres database properly when I am using @lob for encoded file while mapping my entity with database and using save() method to insert the data</p>\n<pre><code>@Lob\n@Column(name=&quot;data&quot;, columnDefinition = &quot;text&quot;)\nprivate String fileContent;\n</code></pre>\n<p>When I am trying to insert the same encoded file using insert native query it is not inserting properly.</p>\n<pre><code>@Override\n@Transactional\npublic void insertEncodeData(CustomerData customer) {\n   entityManager.createNativeQuery(&quot;insert into customer (name,data) VALUES (?,?)&quot;)\n                .setParameter(1, customer.getName())\n                .setParameter(2, customer.getData())\n                .executeUpdate();\n    }\n</code></pre>\n<p>The encoded base 64 file is not storing in lob format, it is consider as simple string. Can anyone help me this?</p>\n<p>Try 1</p>\n<pre><code>@Override\n@Transactional\npublic void insertEncodeData(CustomerData customer) {\n  Clob lob = entityManager.unwrap(Session.class).getLobHelper().createClob(customer.getData());\n   entityManager.createNativeQuery(&quot;insert into customer (name,data) VALUES (?,?)&quot;)\n                .setParameter(1, customer.getName())\n                .setParameter(2, lob)\n                .executeUpdate();\n    }\n</code></pre>\n<p>I had converted the encoded file into clob and tried to insert it but still not working.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1670497424,"post_id":74729202,"comment_id":131891090,"body_markdown":"Is the `CoreService` properly injected into `LimitService`?","body":"Is the <code>CoreService</code> properly injected into <code>LimitService</code>?"},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1670499418,"post_id":74729202,"comment_id":131891747,"body_markdown":"Try to remove `MockitoAnnotations.openMocks(this);` u only need this call when you do not annotate with `@ExtendWith(MockitoExtension.class)`. Just in case to prevent double mock creation and or wrong injection","body":"Try to remove <code>MockitoAnnotations.openMocks(this);</code> u only need this call when you do not annotate with <code>@ExtendWith(MockitoExtension.class)</code>. Just in case to prevent double mock creation and or wrong injection"},{"owner":{"account_id":24202101,"reputation":121,"user_id":18159797,"display_name":"smillis12"},"score":0,"creation_date":1670503204,"post_id":74729202,"comment_id":131892937,"body_markdown":"@DanielRafaelWosch it worked.. but I&#39;m confused. I have over 50+ test classes and I always use openMocks. why is it not working in that specific case? (thank you so much by the way)","body":"@DanielRafaelWosch it worked.. but I&#39;m confused. I have over 50+ test classes and I always use openMocks. why is it not working in that specific case? (thank you so much by the way)"},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1670503591,"post_id":74729202,"comment_id":131893050,"body_markdown":"Do the other test classes use a combination of injectMocks and `MockitoAnnotations.openMocks(this)`? I only see `MockitoAnnotations.openMocks(this)` when not using `@InjectMocks` - Instead constructing the `sut`in `beforeEach`. In your posted case you are mixing both. Therefore I _assume_ that openMocks overrides the injection.","body":"Do the other test classes use a combination of injectMocks and <code>MockitoAnnotations.openMocks(this)</code>? I only see <code>MockitoAnnotations.openMocks(this)</code> when not using <code>@InjectMocks</code> - Instead constructing the <code>sut</code>in <code>beforeEach</code>. In your posted case you are mixing both. Therefore I <i>assume</i> that openMocks overrides the injection."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670510402,"creation_date":1670510402,"answer_id":74731966,"question_id":74729202,"body_markdown":"```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class LimitServiceTest {\r\n\r\n    @Mock\r\n    private CoreService coreService;\r\n\r\n    @Mock\r\n    private AuditService audit;\r\n\r\n    @InjectMocks\r\n    private LimitService service;\r\n\r\n    @BeforeEach\r\n    public void init(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    // ...\r\n```\r\n\r\n`@InjectMocks` runs first (executed by `MockitoExtension`) and assigns the mock instances to the fields in your annotated `LimitService` field.\r\n\r\nLater, `openMocks` creates a second set of mock instances and will assign them to the fields in your test (but not re-assign the service&#39;s fields). The service will still reference the mock instances created by the extension.\r\n\r\nThis can be verified by printing the identity hash codes of the fields before and after calling `openMocks`:\r\n\r\n```\r\n    @BeforeEach\r\n    public void init(){\r\n        System.err.println(&quot;@InjectMocks:&quot;);\r\n        System.err.println(System.identityHashCode(coreService));\r\n        System.err.println(System.identityHashCode(service.coreService));\r\n        MockitoAnnotations.openMocks(this);\r\n\r\n        System.err.println(&quot;openMocks(this):&quot;);\r\n        System.err.println(System.identityHashCode(coreService));\r\n        System.err.println(System.identityHashCode(service.coreService));\r\n    }\r\n```\r\n\r\n(This requires temporarily making the `LimitService#coreService` field accessible). Example output:\r\n\r\n```\r\n@InjectMocks:\r\n763677574\r\n763677574\r\nopenMocks(this):\r\n234857227\r\n763677574\r\n```\r\n\r\nCalling `when` now sets up stubbing for the second mock instance, but your service does not know about this instance, because it only holds a reference to the first mock instance.\r\n\r\nThis and related problems are discussed in the answer to [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/a/74027325/112968).","title":"Mockito when().thenReturn() returns always null","body":"<pre><code>@ExtendWith(MockitoExtension.class)\npublic class LimitServiceTest {\n\n    @Mock\n    private CoreService coreService;\n\n    @Mock\n    private AuditService audit;\n\n    @InjectMocks\n    private LimitService service;\n\n    @BeforeEach\n    public void init(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n    // ...\n</code></pre>\n<p><code>@InjectMocks</code> runs first (executed by <code>MockitoExtension</code>) and assigns the mock instances to the fields in your annotated <code>LimitService</code> field.</p>\n<p>Later, <code>openMocks</code> creates a second set of mock instances and will assign them to the fields in your test (but not re-assign the service's fields). The service will still reference the mock instances created by the extension.</p>\n<p>This can be verified by printing the identity hash codes of the fields before and after calling <code>openMocks</code>:</p>\n<pre><code>    @BeforeEach\n    public void init(){\n        System.err.println(&quot;@InjectMocks:&quot;);\n        System.err.println(System.identityHashCode(coreService));\n        System.err.println(System.identityHashCode(service.coreService));\n        MockitoAnnotations.openMocks(this);\n\n        System.err.println(&quot;openMocks(this):&quot;);\n        System.err.println(System.identityHashCode(coreService));\n        System.err.println(System.identityHashCode(service.coreService));\n    }\n</code></pre>\n<p>(This requires temporarily making the <code>LimitService#coreService</code> field accessible). Example output:</p>\n<pre><code>@InjectMocks:\n763677574\n763677574\nopenMocks(this):\n234857227\n763677574\n</code></pre>\n<p>Calling <code>when</code> now sets up stubbing for the second mock instance, but your service does not know about this instance, because it only holds a reference to the first mock instance.</p>\n<p>This and related problems are discussed in the answer to <a href=\"https://stackoverflow.com/a/74027325/112968\">Why is my class not calling my mocked methods in unit test?</a>.</p>\n"}],"owner":{"account_id":24202101,"reputation":121,"user_id":18159797,"display_name":"smillis12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74731966,"answer_count":1,"score":0,"last_activity_date":1670510402,"creation_date":1670497052,"question_id":74729202,"body_markdown":"I have the following service :\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class LimitService {\r\n\r\n    private final CoreService coreService;\r\n    private final AuditService audit;\r\n\r\n    public Limit get(User user) {\r\n\r\n            Limit limit = coreService.get(user);\r\n            if (limit != null) {\r\n                Optional.ofNullable(limit.getAvailable())\r\n                    .map(String::valueOf)\r\n                    .map(BigDecimal::new)\r\n                    .map(availableValue -&gt; availableValue.setScale(2, RoundingMode.HALF_DOWN))\r\n                    .map(BigDecimal::doubleValue)\r\n                .ifPresentOrElse(val -&gt; limit.setAvailable(val), () -&gt; limit.setAvailable(0d));\r\n            }\r\n            return limit;\r\n    }\r\n}\r\n```\r\n\r\nand the following associated test\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class LimitServiceTest {\r\n\r\n    @Mock\r\n    private CoreService coreService;\r\n\r\n    @Mock\r\n    private AuditService audit;\r\n\r\n    @InjectMocks\r\n    private LimitService service;\r\n\r\n    @BeforeEach\r\n    public void init(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void shouldReturnNull(){\r\n        assertThat(this.service.get(new User())).isNull();\r\n    }\r\n\r\n    @Test\r\n    public void shouldSetToZero_whenNull(){\r\n        User user = new User();\r\n        Mockito.when(this.coreService.get(any(User.class)))\r\n            .thenReturn(new Limit());\r\n        assertThat(this.service.get(user)).extracting(Limit::getAvailable)\r\n            .isEqualTo(0d);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nWhen I run the second test in debug mode, I can see that a mock is actually generated for CoreService but Mockito seems to ignore the when..thenReturn.\r\n\r\nI&#39;ve also tried to use eq(user) instead of any(User.class), but the result is the same.\r\nI&#39;ve a similar test in another project and everything works fine.\r\nI can&#39;t find out why this is not working in this case..\r\n","title":"Mockito when().thenReturn() returns always null","body":"<p>I have the following service :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class LimitService {\n\n    private final CoreService coreService;\n    private final AuditService audit;\n\n    public Limit get(User user) {\n\n            Limit limit = coreService.get(user);\n            if (limit != null) {\n                Optional.ofNullable(limit.getAvailable())\n                    .map(String::valueOf)\n                    .map(BigDecimal::new)\n                    .map(availableValue -&gt; availableValue.setScale(2, RoundingMode.HALF_DOWN))\n                    .map(BigDecimal::doubleValue)\n                .ifPresentOrElse(val -&gt; limit.setAvailable(val), () -&gt; limit.setAvailable(0d));\n            }\n            return limit;\n    }\n}\n</code></pre>\n<p>and the following associated test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class LimitServiceTest {\n\n    @Mock\n    private CoreService coreService;\n\n    @Mock\n    private AuditService audit;\n\n    @InjectMocks\n    private LimitService service;\n\n    @BeforeEach\n    public void init(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n\n    @Test\n    public void shouldReturnNull(){\n        assertThat(this.service.get(new User())).isNull();\n    }\n\n    @Test\n    public void shouldSetToZero_whenNull(){\n        User user = new User();\n        Mockito.when(this.coreService.get(any(User.class)))\n            .thenReturn(new Limit());\n        assertThat(this.service.get(user)).extracting(Limit::getAvailable)\n            .isEqualTo(0d);\n    }\n}\n\n\n</code></pre>\n<p>When I run the second test in debug mode, I can see that a mock is actually generated for CoreService but Mockito seems to ignore the when..thenReturn.</p>\n<p>I've also tried to use eq(user) instead of any(User.class), but the result is the same.\nI've a similar test in another project and everything works fine.\nI can't find out why this is not working in this case..</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6583618,"reputation":1602,"user_id":5087118,"accept_rate":83,"display_name":"bpgeck"},"score":0,"creation_date":1438802619,"post_id":31840942,"comment_id":51603736,"body_markdown":"Do you know where this exception occurs? It&#39;s tough to try to read all of your code for the first time","body":"Do you know where this exception occurs? It&#39;s tough to try to read all of your code for the first time"},{"owner":{"account_id":6735936,"reputation":29,"user_id":5190750,"accept_rate":25,"display_name":"Michael Gibson"},"score":0,"creation_date":1438804556,"post_id":31840942,"comment_id":51604849,"body_markdown":"@bpgeck I am sorry, yes it occurs at LoginPage.verifyURL()","body":"@bpgeck I am sorry, yes it occurs at LoginPage.verifyURL()"},{"owner":{"account_id":6583618,"reputation":1602,"user_id":5087118,"accept_rate":83,"display_name":"bpgeck"},"score":0,"creation_date":1438809100,"post_id":31840942,"comment_id":51607329,"body_markdown":"Have you checked to see if it&#39;s **just** the `LoginPage.verifyURL()`? This could be caused by `loginPage` not being correctly instantiated","body":"Have you checked to see if it&#39;s <b>just</b> the <code>LoginPage.verifyURL()</code>? This could be caused by <code>loginPage</code> not being correctly instantiated"},{"owner":{"account_id":6735936,"reputation":29,"user_id":5190750,"accept_rate":25,"display_name":"Michael Gibson"},"score":1,"creation_date":1438811913,"post_id":31840942,"comment_id":51608564,"body_markdown":"@bpgeck after some more tinkering, it looks like it had to with `LoginPageTest.setUp()` having the incorrect annotation. I was using `@Before` and should have been using `@BeforeClass`. Since I was using the incorrect annotation, it wasn&#39;t initializing my driver correctly causing it to just return null on everything.","body":"@bpgeck after some more tinkering, it looks like it had to with <code>LoginPageTest.setUp()</code> having the incorrect annotation. I was using <code>@Before</code> and should have been using <code>@BeforeClass</code>. Since I was using the incorrect annotation, it wasn&#39;t initializing my driver correctly causing it to just return null on everything."},{"owner":{"account_id":6583618,"reputation":1602,"user_id":5087118,"accept_rate":83,"display_name":"bpgeck"},"score":0,"creation_date":1438814197,"post_id":31840942,"comment_id":51609404,"body_markdown":"Glad you were able to figure it out","body":"Glad you were able to figure it out"},{"owner":{"account_id":963835,"reputation":745,"user_id":987644,"display_name":"Amit Horakeri"},"score":0,"creation_date":1458205733,"post_id":31840942,"comment_id":59758973,"body_markdown":"@MichaelGibson Can you please tell me how you are using CONFIG.FIREFOX. Are you using properties file or anyother way to fetch the variable value or can you share a sample code of above. It would be helpful for me because I am trying to implement the same type of framework in my project.","body":"@MichaelGibson Can you please tell me how you are using CONFIG.FIREFOX. Are you using properties file or anyother way to fetch the variable value or can you share a sample code of above. It would be helpful for me because I am trying to implement the same type of framework in my project."},{"owner":{"account_id":6735936,"reputation":29,"user_id":5190750,"accept_rate":25,"display_name":"Michael Gibson"},"score":0,"creation_date":1458319889,"post_id":31840942,"comment_id":59824301,"body_markdown":"@AmitHorakeri I have a java config class that holds global variables. Config.FIREFOX_DRIVER it is just an string value that represent what browser should be launched. This was early stages of the project so I did not have other options added at the time.","body":"@AmitHorakeri I have a java config class that holds global variables. Config.FIREFOX_DRIVER it is just an string value that represent what browser should be launched. This was early stages of the project so I did not have other options added at the time."},{"owner":{"account_id":963835,"reputation":745,"user_id":987644,"display_name":"Amit Horakeri"},"score":0,"creation_date":1458542651,"post_id":31840942,"comment_id":59888816,"body_markdown":"@MichaelGibson Thanks a lot, it helped me.!","body":"@MichaelGibson Thanks a lot, it helped me.!"}],"answers":[{"tags":[],"owner":{"account_id":27190845,"reputation":1,"user_id":20724636,"display_name":"grobmeid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670510334,"creation_date":1670510334,"answer_id":74731950,"question_id":31840942,"body_markdown":"So, I was just dealing with this same problem and realized this question was asked about 7 years ago. I thought I would share what I have come up with as my solution. \r\n\r\nFor the instance you are trying to access you are passing a null. You assign a value to something that hasn&#39;t been initialized yet which gives you the exception you are seeing :) a null value into the driver loginPage is a no no. First initialize -&gt; then pass value -&gt; happy outputs. \r\n\r\nI&#39;m not here to give you a coding lesson as you have proven to show you know what you are doing, but happy coding!","title":"Selenium WebDriver NullPointerException while grabbing url","body":"<p>So, I was just dealing with this same problem and realized this question was asked about 7 years ago. I thought I would share what I have come up with as my solution.</p>\n<p>For the instance you are trying to access you are passing a null. You assign a value to something that hasn't been initialized yet which gives you the exception you are seeing :) a null value into the driver loginPage is a no no. First initialize -&gt; then pass value -&gt; happy outputs.</p>\n<p>I'm not here to give you a coding lesson as you have proven to show you know what you are doing, but happy coding!</p>\n"}],"owner":{"account_id":6735936,"reputation":29,"user_id":5190750,"accept_rate":25,"display_name":"Michael Gibson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670510334,"creation_date":1438802008,"question_id":31840942,"body_markdown":"I have found multiple answers to this issue but none that seem to help me here. When ever i run my test, I get a NullPointerException. I image it is a simple fix but I can&#39;t find it. \r\n\r\nHere is my set up class: \r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.testng.annotations.AfterClass;\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.Parameters;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    import static org.junit.Assert.fail;\r\n\r\n    public class TestSetUp {\r\n\r\n    private WebDriver driver;\r\n\r\n    protected StringBuffer verificationErrors = new StringBuffer();\r\n\r\n    public WebDriver getDriver() {\r\n        return driver;\r\n    }\r\n\r\n    private void setDriver(String type, String url) {\r\n\r\n        switch (type) {\r\n            case Config.FIREFOX_DRIVER:\r\n                System.out.println(&quot;Setting drivers for Firefox...&quot;);\r\n                driver = initFireFoxDriver(url);\r\n                break;\r\n            default:\r\n                System.out.print(&quot;invalid browser type&quot;);\r\n        }\r\n    }\r\n\r\n    private static WebDriver initFireFoxDriver(String url) {\r\n        System.out.println(&quot;Launching Firefox browser...&quot;);\r\n        WebDriver driver = new FirefoxDriver();\r\n        driver.manage().window().maximize();\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n        driver.navigate().to(url);\r\n        return driver;\r\n    }\r\n\r\n    @BeforeClass\r\n    @Parameters({&quot;type&quot;,&quot;url&quot;})\r\n    public void initializeTestBaseSetup(String type, String url) {\r\n        try {\r\n            setDriver(type, url);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error.....&quot; + Arrays.toString(e.getStackTrace()));\r\n        }\r\n    }\r\n\r\n    @AfterClass\r\n    public void tearDown() {\r\n        driver.quit();\r\n        String verificationErrorString = verificationErrors.toString();\r\n        if (!&quot;&quot;.equals(verificationErrorString)) {\r\n            fail(verificationErrorString);\r\n        }\r\n    }\r\n    }\r\n\r\nThis is my LoginPage class where the error is being thrown:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n\r\n    public class LoginPage {\r\n\r\n    private WebDriver driver;\r\n\r\n    public LoginPage(WebDriver driver) {\r\n        this.driver = driver;\r\n    }\r\n\r\n    private String getLoginTitle() {\r\n        return driver.getTitle();\r\n    }\r\n\r\n    public boolean verifyURL() {\r\n\r\n        return driver.getCurrentUrl().contains(&quot;login&quot;);\r\n    }\r\n\r\n    public boolean verifyLoginTitle() {\r\n        return getLoginTitle().contains(Config.TITLE + &quot; - Log In&quot;);\r\n    }\r\n\r\n    public boolean verifySignInError() {\r\n        enterUsername(&quot;test&quot;);\r\n        enterPassword(&quot;pass&quot;);\r\n        clickLogin();\r\n        return getErrorMessage().contains(&quot;Incorrect Username or Password&quot;);\r\n    }\r\n\r\n    public boolean verifyForgotPassword() {\r\n        return driver.findElement(Config.FORGOT_PASS_NODE).isDisplayed();\r\n    }\r\n\r\n    public boolean verifyLicencing() {\r\n        Config.changeSetting(&quot;multi_license&quot;, 1, driver);\r\n\r\n        return driver.findElement(Config.LIC_KEY_NODE).isDisplayed();\r\n    }\r\n\r\n    public boolean verifyCreateAccount() {\r\n        Config.changeSetting(&quot;user_reg&quot;, 0, driver);\r\n\r\n        if(driver.findElement(Config.CREATE_ACCOUNT_NODE).isDisplayed()) {\r\n            return false;\r\n        }\r\n        else {\r\n            Config.changeSetting(&quot;user_reg&quot;, 1, driver);\r\n        }\r\n\r\n        return driver.findElement(Config.CREATE_ACCOUNT_NODE).isDisplayed();\r\n    }\r\n\r\n    public HomePage signIn(String username, String password) {\r\n        enterUsername(username);\r\n        enterPassword(password);\r\n        clickLogin();\r\n\r\n        return new HomePage(driver);\r\n    }\r\n\r\n    public void enterUsername(String username) {\r\n        WebElement identity = driver.findElement(Config.IDENTITY_NODE);\r\n        if(identity.isDisplayed())\r\n            identity.sendKeys(username);\r\n    }\r\n\r\n    public void enterPassword(String password) {\r\n        WebElement pass = driver.findElement(Config.CREDENTIAL_NODE);\r\n        if(pass.isDisplayed())\r\n            pass.sendKeys(password);\r\n    }\r\n\r\n    public void clickLogin() {\r\n        WebElement loginBtn = driver.findElement(Config.SUBMIT_NODE);\r\n        if(loginBtn.isDisplayed())\r\n            loginBtn.click();\r\n    }\r\n\r\n    public String getErrorMessage() {\r\n        String errorMessage = null;\r\n        WebElement errorMsg = driver.findElement(Config.DANGER_NODE);\r\n        if(errorMsg.isDisplayed())\r\n            errorMessage = errorMsg.getText();\r\n        return errorMessage;\r\n    }\r\n\r\n    }\r\n\r\nAnd finally my test case:\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Before;\r\n    import org.testng.annotations.Test;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    public class LoginPageTest extends TestSetUp {\r\n\r\n    private WebDriver driver;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        driver = getDriver();\r\n    }\r\n\r\n    @Test\r\n    public void verifyLoginInFunction() {\r\n        System.out.println(&quot;Log In functionality being tested...&quot;);\r\n\r\n        LoginPage loginPage = new LoginPage(driver);\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;The url is incorrect&quot;, loginPage.verifyURL());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;Title did not match&quot;, loginPage.verifyLoginTitle());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;Error message did not match&quot;, loginPage.verifySignInError());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;\\&#39;Forgot Password?\\&#39; link is missing&quot;, loginPage.verifyForgotPassword());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;Create Account setting not working&quot;, loginPage.verifyCreateAccount());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;Additional Licence Key setting not working&quot;, loginPage.verifyLicencing());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n\r\n        HomePage homePage = loginPage.signIn(Config.STUDENT, Config.STUDENTPASS);\r\n\r\n        try {\r\n            Assert.assertTrue(&quot;Login did not work&quot;, homePage.verifyURL());\r\n        } catch (Error e) {\r\n            verificationErrors.append(e.toString());\r\n        }\r\n    }\r\n    }\r\n\r\nI have been trying and just do not know what is causing the issue. ","title":"Selenium WebDriver NullPointerException while grabbing url","body":"<p>I have found multiple answers to this issue but none that seem to help me here. When ever i run my test, I get a NullPointerException. I image it is a simple fix but I can't find it. </p>\n\n<p>Here is my set up class: </p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Parameters;\n\nimport java.util.Arrays;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.Assert.fail;\n\npublic class TestSetUp {\n\nprivate WebDriver driver;\n\nprotected StringBuffer verificationErrors = new StringBuffer();\n\npublic WebDriver getDriver() {\n    return driver;\n}\n\nprivate void setDriver(String type, String url) {\n\n    switch (type) {\n        case Config.FIREFOX_DRIVER:\n            System.out.println(\"Setting drivers for Firefox...\");\n            driver = initFireFoxDriver(url);\n            break;\n        default:\n            System.out.print(\"invalid browser type\");\n    }\n}\n\nprivate static WebDriver initFireFoxDriver(String url) {\n    System.out.println(\"Launching Firefox browser...\");\n    WebDriver driver = new FirefoxDriver();\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    driver.navigate().to(url);\n    return driver;\n}\n\n@BeforeClass\n@Parameters({\"type\",\"url\"})\npublic void initializeTestBaseSetup(String type, String url) {\n    try {\n        setDriver(type, url);\n    } catch (Exception e) {\n        System.out.println(\"Error.....\" + Arrays.toString(e.getStackTrace()));\n    }\n}\n\n@AfterClass\npublic void tearDown() {\n    driver.quit();\n    String verificationErrorString = verificationErrors.toString();\n    if (!\"\".equals(verificationErrorString)) {\n        fail(verificationErrorString);\n    }\n}\n}\n</code></pre>\n\n<p>This is my LoginPage class where the error is being thrown:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class LoginPage {\n\nprivate WebDriver driver;\n\npublic LoginPage(WebDriver driver) {\n    this.driver = driver;\n}\n\nprivate String getLoginTitle() {\n    return driver.getTitle();\n}\n\npublic boolean verifyURL() {\n\n    return driver.getCurrentUrl().contains(\"login\");\n}\n\npublic boolean verifyLoginTitle() {\n    return getLoginTitle().contains(Config.TITLE + \" - Log In\");\n}\n\npublic boolean verifySignInError() {\n    enterUsername(\"test\");\n    enterPassword(\"pass\");\n    clickLogin();\n    return getErrorMessage().contains(\"Incorrect Username or Password\");\n}\n\npublic boolean verifyForgotPassword() {\n    return driver.findElement(Config.FORGOT_PASS_NODE).isDisplayed();\n}\n\npublic boolean verifyLicencing() {\n    Config.changeSetting(\"multi_license\", 1, driver);\n\n    return driver.findElement(Config.LIC_KEY_NODE).isDisplayed();\n}\n\npublic boolean verifyCreateAccount() {\n    Config.changeSetting(\"user_reg\", 0, driver);\n\n    if(driver.findElement(Config.CREATE_ACCOUNT_NODE).isDisplayed()) {\n        return false;\n    }\n    else {\n        Config.changeSetting(\"user_reg\", 1, driver);\n    }\n\n    return driver.findElement(Config.CREATE_ACCOUNT_NODE).isDisplayed();\n}\n\npublic HomePage signIn(String username, String password) {\n    enterUsername(username);\n    enterPassword(password);\n    clickLogin();\n\n    return new HomePage(driver);\n}\n\npublic void enterUsername(String username) {\n    WebElement identity = driver.findElement(Config.IDENTITY_NODE);\n    if(identity.isDisplayed())\n        identity.sendKeys(username);\n}\n\npublic void enterPassword(String password) {\n    WebElement pass = driver.findElement(Config.CREDENTIAL_NODE);\n    if(pass.isDisplayed())\n        pass.sendKeys(password);\n}\n\npublic void clickLogin() {\n    WebElement loginBtn = driver.findElement(Config.SUBMIT_NODE);\n    if(loginBtn.isDisplayed())\n        loginBtn.click();\n}\n\npublic String getErrorMessage() {\n    String errorMessage = null;\n    WebElement errorMsg = driver.findElement(Config.DANGER_NODE);\n    if(errorMsg.isDisplayed())\n        errorMessage = errorMsg.getText();\n    return errorMessage;\n}\n\n}\n</code></pre>\n\n<p>And finally my test case:</p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Before;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.WebDriver;\n\npublic class LoginPageTest extends TestSetUp {\n\nprivate WebDriver driver;\n\n@Before\npublic void setUp() {\n    driver = getDriver();\n}\n\n@Test\npublic void verifyLoginInFunction() {\n    System.out.println(\"Log In functionality being tested...\");\n\n    LoginPage loginPage = new LoginPage(driver);\n\n    try {\n        Assert.assertTrue(\"The url is incorrect\", loginPage.verifyURL());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n\n    try {\n        Assert.assertTrue(\"Title did not match\", loginPage.verifyLoginTitle());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n\n    try {\n        Assert.assertTrue(\"Error message did not match\", loginPage.verifySignInError());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n\n    try {\n        Assert.assertTrue(\"\\'Forgot Password?\\' link is missing\", loginPage.verifyForgotPassword());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n\n    try {\n        Assert.assertTrue(\"Create Account setting not working\", loginPage.verifyCreateAccount());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n\n    try {\n        Assert.assertTrue(\"Additional Licence Key setting not working\", loginPage.verifyLicencing());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n\n    HomePage homePage = loginPage.signIn(Config.STUDENT, Config.STUDENTPASS);\n\n    try {\n        Assert.assertTrue(\"Login did not work\", homePage.verifyURL());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n}\n}\n</code></pre>\n\n<p>I have been trying and just do not know what is causing the issue. </p>\n"},{"tags":["java","hibernate","shared-primary-key"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1569391271,"post_id":58091951,"comment_id":102576589,"body_markdown":"Why do they share the primary key? Is it a OneToOne relationship or more something like inheritance?","body":"Why do they share the primary key? Is it a OneToOne relationship or more something like inheritance?"},{"owner":{"account_id":16457393,"reputation":11,"user_id":11889279,"display_name":"Poppy"},"score":0,"creation_date":1569392133,"post_id":58091951,"comment_id":102576905,"body_markdown":"It is a one to one relationship","body":"It is a one to one relationship"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1569392294,"post_id":58091951,"comment_id":102576965,"body_markdown":"Possible duplicate of [can someone please explain me @MapsId in hibernate?](https://stackoverflow.com/questions/9923643/can-someone-please-explain-me-mapsid-in-hibernate)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9923643/can-someone-please-explain-me-mapsid-in-hibernate\">can someone please explain me @MapsId in hibernate?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9474658,"reputation":63,"user_id":7044415,"display_name":"shariqayaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670510233,"creation_date":1670510233,"answer_id":74731928,"question_id":58091951,"body_markdown":"suppose it is your primary table:\r\nhaving these\r\n\r\nTable/class 1\r\n\r\n    @Entity\r\n    @Table(name=&quot;primetable&quot;)\r\n    public class PrimeTable{\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        int id;\r\n    ...\r\n    ...\r\n    ...\r\n\r\n\r\nTable/class 2\r\n\r\n    @Entity\r\n    @Table(name=&quot;secondtable&quot;)\r\n    public class SecondTable{\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;prime_id&quot;, nullable=false) // this is fk in sec. table\r\n        PrimeTable primetable;\r\n    ...\r\n    ...\r\n    ...\r\n\r\nWhen you actually writing into db\r\n\r\n\r\n    public SecondTable simpleSave(SecondTable secondtable) {\r\n    \r\n            Session session = sessionFactory.getCurrentSession();\r\n            session.beginTransaction();\r\n    \r\n            // these following two line take care of your primary key\r\n            session.saveOrUpdate(secondtable.getPrimeTable());\r\n            session.saveOrUpdate(secondtable);\r\n    \r\n            //Commit transaction to save it to db\r\n            session.getTransaction().commit();\r\n    \r\n            //Close the session and release database conn\r\n            session.close();\r\n    \r\n            System.out.println(&quot;primetable added to db ID: &quot; + primetable.getId());\r\n            return primetable;\r\n    }\r\n\r\n\r\nRememeber, during getter/setter don&#39;t set your Id yourself, also remember it will create duplicate in child table, and parent table will give you exception message you may handle it before hit commit or saveOrUpdate\r\n","title":"How to implement a shared primary key using hibernate @ID","body":"<p>suppose it is your primary table:\nhaving these</p>\n<p>Table/class 1</p>\n<pre><code>@Entity\n@Table(name=&quot;primetable&quot;)\npublic class PrimeTable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    int id;\n...\n...\n...\n</code></pre>\n<p>Table/class 2</p>\n<pre><code>@Entity\n@Table(name=&quot;secondtable&quot;)\npublic class SecondTable{\n    @ManyToOne\n    @JoinColumn(name=&quot;prime_id&quot;, nullable=false) // this is fk in sec. table\n    PrimeTable primetable;\n...\n...\n...\n</code></pre>\n<p>When you actually writing into db</p>\n<pre><code>public SecondTable simpleSave(SecondTable secondtable) {\n\n        Session session = sessionFactory.getCurrentSession();\n        session.beginTransaction();\n\n        // these following two line take care of your primary key\n        session.saveOrUpdate(secondtable.getPrimeTable());\n        session.saveOrUpdate(secondtable);\n\n        //Commit transaction to save it to db\n        session.getTransaction().commit();\n\n        //Close the session and release database conn\n        session.close();\n\n        System.out.println(&quot;primetable added to db ID: &quot; + primetable.getId());\n        return primetable;\n}\n</code></pre>\n<p>Rememeber, during getter/setter don't set your Id yourself, also remember it will create duplicate in child table, and parent table will give you exception message you may handle it before hit commit or saveOrUpdate</p>\n"}],"owner":{"account_id":16457393,"reputation":11,"user_id":11889279,"display_name":"Poppy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670510233,"creation_date":1569391070,"question_id":58091951,"body_markdown":"I have two tables in my database. The first table auto generates its primary key and I want the second table to get its primary key from the PK of the first table. Is it possible to implement this using hibernate as when I don&#39;t include a @GeneratedValue tag on the PK column of the second table it throws an error.","title":"How to implement a shared primary key using hibernate @ID","body":"<p>I have two tables in my database. The first table auto generates its primary key and I want the second table to get its primary key from the PK of the first table. Is it possible to implement this using hibernate as when I don't include a @GeneratedValue tag on the PK column of the second table it throws an error.</p>\n"},{"tags":["java","apache-kafka","apache-camel"],"comments":[{"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"score":0,"creation_date":1645470070,"post_id":71175506,"comment_id":125875182,"body_markdown":"The output for this, if I queue up 50 messages on the topic is 50 of these log messages: BODY:{&quot;readingTimestampEvent&quot;:1645468048841,&quot;reading&quot;:{&quot;utcOffset&quot;:&quot;0&quot;,&quot;data&quot;:{&quot;temp&quot;:&quot;25&quot;},&quot;profileId&quot;:&quot;252c8574-a9df-4490-bb48-ffc11f6e535c&quot;,&quot;sensorType&quot;:&quot;my-iot-sensor&quot;,&quot;operationId&quot;:&quot;4f7ecee7-0a19-41ac-8b28-b77df3223862&quot;,&quot;sensorId&quot;:&quot;41804b07-6f6f-40fa-a506-3625cac11b8e&quot;,&quot;timestamp&quot;:1645470318721}}","body":"The output for this, if I queue up 50 messages on the topic is 50 of these log messages: BODY:{&quot;readingTimestampEvent&quot;:1645468048841,&quot;reading&quot;:{&quot;utcO&zwnj;&#8203;ffset&quot;:&quot;0&quot;,&quot;data&quot;:{&quot;&zwnj;&#8203;temp&quot;:&quot;25&quot;},&quot;profile&zwnj;&#8203;Id&quot;:&quot;252c8574-a9df-4&zwnj;&#8203;490-bb48-ffc11f6e535&zwnj;&#8203;c&quot;,&quot;sensorType&quot;:&quot;my-&zwnj;&#8203;iot-sensor&quot;,&quot;operati&zwnj;&#8203;onId&quot;:&quot;4f7ecee7-0a19&zwnj;&#8203;-41ac-8b28-b77df3223&zwnj;&#8203;862&quot;,&quot;sensorId&quot;:&quot;418&zwnj;&#8203;04b07-6f6f-40fa-a506&zwnj;&#8203;-3625cac11b8e&quot;,&quot;time&zwnj;&#8203;stamp&quot;:1645470318721&zwnj;&#8203;}}"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645657573,"creation_date":1645657573,"answer_id":71245078,"question_id":71175506,"body_markdown":"At the lowest layer, the `KafkaConsumer#poll` method is going to return an `Iterator&lt;ConsumerRecord&gt;`; there&#39;s no way around that. \r\n\r\nI don&#39;t have in-depth experience with Camel, but in order to get a &quot;batch&quot; of records, you&#39;ll need some intermediate collection to &quot;queue&quot; the data that you want to eventually send downstream to some &quot;collection consumer&quot; process. Then you will need some &quot;switch&quot; processor that says &quot;wait, process this batch&quot; or &quot;continue filling this batch&quot;.\r\n\r\nAs far as databases go, that process is exactly what Kafka Connect JDBC Sink does with `batch.size` config. ","title":"Batch consumer camel kafka","body":"<p>At the lowest layer, the <code>KafkaConsumer#poll</code> method is going to return an <code>Iterator&lt;ConsumerRecord&gt;</code>; there's no way around that.</p>\n<p>I don't have in-depth experience with Camel, but in order to get a &quot;batch&quot; of records, you'll need some intermediate collection to &quot;queue&quot; the data that you want to eventually send downstream to some &quot;collection consumer&quot; process. Then you will need some &quot;switch&quot; processor that says &quot;wait, process this batch&quot; or &quot;continue filling this batch&quot;.</p>\n<p>As far as databases go, that process is exactly what Kafka Connect JDBC Sink does with <code>batch.size</code> config.</p>\n"},{"tags":[],"owner":{"account_id":174792,"reputation":617,"user_id":404376,"accept_rate":60,"display_name":"zwessels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670510201,"creation_date":1670510201,"answer_id":74731917,"question_id":71175506,"body_markdown":"We solved a similar requirement by using the Aggregation [1] capability provided by Camel\r\n\r\nA rough code snippet\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        // 1. Define your Aggregation Strat\r\n        AggregationStrategy agg = AggregationStrategies.flexible(String.class)\r\n        .accumulateInCollection(ArrayList.class)\r\n        .pick(body());\r\n\r\n        from(&quot;kafka:your-topic?and-other-params&quot;)\r\n        // 2. Define your Aggregation Strat Params\r\n        .aggregate(constant(true), agg)\r\n        .completionInterval(1000)\r\n        .completionSize(100)\r\n        .parallelProcessing(true)\r\n        // 3. Generate bulk insert statement\r\n        .process(exchange -&gt; {\r\n          List&lt;String&gt; body = (List&lt;String&gt;) exchange.getIn().getBody();\r\n\r\n          String query = generateBulkInsertQueryStatement(&quot;target-table&quot;, body);\r\n\r\n          exchange.getMessage().setBody(query);\r\n        })\r\n        .to(&quot;jdbc:dataSource&quot;);\r\n    }\r\n\r\n1. There are a variety of strategies that you can implement, but we chose this particular one because it allows you to create a `List` of strings for the message contents that we need to ingest into the db. [2]\r\n\r\n2. We set a variety of different params such as `completionInterval` &amp; `completionSize`. The most important one for us was to set `parallellProcessing(true)` [3] ; without that our performance wasn&#39;t nearly getting the required throughput. \r\n\r\n3. Once the aggregation has either collected 100 messages or 1000 ms has passed, then the processor generates a bulk insert statement, which then gets sent to the db.\r\n\r\n\r\n[1] https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html\r\n\r\n[2] https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html#_aggregating_into_a_list\r\n\r\n[3] https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html#_worker_pools","title":"Batch consumer camel kafka","body":"<p>We solved a similar requirement by using the Aggregation [1] capability provided by Camel</p>\n<p>A rough code snippet</p>\n<pre><code>@Override\npublic void configure() throws Exception {\n    // 1. Define your Aggregation Strat\n    AggregationStrategy agg = AggregationStrategies.flexible(String.class)\n    .accumulateInCollection(ArrayList.class)\n    .pick(body());\n\n    from(&quot;kafka:your-topic?and-other-params&quot;)\n    // 2. Define your Aggregation Strat Params\n    .aggregate(constant(true), agg)\n    .completionInterval(1000)\n    .completionSize(100)\n    .parallelProcessing(true)\n    // 3. Generate bulk insert statement\n    .process(exchange -&gt; {\n      List&lt;String&gt; body = (List&lt;String&gt;) exchange.getIn().getBody();\n\n      String query = generateBulkInsertQueryStatement(&quot;target-table&quot;, body);\n\n      exchange.getMessage().setBody(query);\n    })\n    .to(&quot;jdbc:dataSource&quot;);\n}\n</code></pre>\n<ol>\n<li><p>There are a variety of strategies that you can implement, but we chose this particular one because it allows you to create a <code>List</code> of strings for the message contents that we need to ingest into the db. [2]</p>\n</li>\n<li><p>We set a variety of different params such as <code>completionInterval</code> &amp; <code>completionSize</code>. The most important one for us was to set <code>parallellProcessing(true)</code> [3] ; without that our performance wasn't nearly getting the required throughput.</p>\n</li>\n<li><p>Once the aggregation has either collected 100 messages or 1000 ms has passed, then the processor generates a bulk insert statement, which then gets sent to the db.</p>\n</li>\n</ol>\n<p>[1] <a href=\"https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html</a></p>\n<p>[2] <a href=\"https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html#_aggregating_into_a_list\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html#_aggregating_into_a_list</a></p>\n<p>[3] <a href=\"https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html#_worker_pools\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html#_worker_pools</a></p>\n"}],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71245078,"answer_count":2,"score":3,"last_activity_date":1670510201,"creation_date":1645196200,"question_id":71175506,"body_markdown":"I am unable to read in batch with the kafka camel consumer, despite following an example posted here.  Are there changes I need to make to my producer, or is the problem most likely with my consumer configuration?\r\n\r\nThe application in question utilizes the [kafka camel component][1] to ingest messages from a rest endpoint, validate them, and place them on a topic.  I then have a separate service that consumes them from the topic and persists them in a time-series database.\r\n\r\nThe messages were being produced and consumed one at a time, but the database expects the messages to be consumed and committed in batch for optimal performance.  Without touching the producer, I tried adjusting the consumer to match the example in the answer to this question:\r\n\r\nhttps://stackoverflow.com/questions/51843677/how-to-transactionally-poll-kafka-from-camel\r\n\r\nI wasn&#39;t sure how the messages would appear, so for now I&#39;m just logging them:\r\n\r\n        from(kafkaReadingConsumerEndpoint).routeId(&quot;rawReadingsConsumer&quot;).process(exchange -&gt; {\r\n            // simple approach to generating errors\r\n            String body = exchange.getIn().getBody(String.class);\r\n            if (body.startsWith(&quot;error&quot;)) {\r\n                throw new RuntimeException(&quot;can&#39;t handle the message&quot;);\r\n            }\r\n            log.info(&quot;BODY:{}&quot;, body);\r\n        }).process(kafkaOffsetManager);\r\n\r\nBut the messages still appear to be coming across one at a time with no batch read.\r\n\r\nMy consumer config is this:\r\n\r\n      kafka:\r\n        host: myhost\r\n        port: myport\r\n        consumer:\r\n          seekTo: beginning\r\n          maxPartitionFetchBytes: 55000\r\n          maxPollRecords: 50\r\n          consumerCount: 1\r\n          autoOffsetReset: earliest\r\n          autoCommitEnable: false\r\n          allowManualCommit: true\r\n          breakOnFirstError: true\r\n\r\nDoes my config need work, or are there changes I need to make to the producer to have this work correctly?\r\n\r\n  [1]: https://camel.apache.org/components/3.15.x/kafka-component.html\r\n","title":"Batch consumer camel kafka","body":"<p>I am unable to read in batch with the kafka camel consumer, despite following an example posted here.  Are there changes I need to make to my producer, or is the problem most likely with my consumer configuration?</p>\n<p>The application in question utilizes the <a href=\"https://camel.apache.org/components/3.15.x/kafka-component.html\" rel=\"nofollow noreferrer\">kafka camel component</a> to ingest messages from a rest endpoint, validate them, and place them on a topic.  I then have a separate service that consumes them from the topic and persists them in a time-series database.</p>\n<p>The messages were being produced and consumed one at a time, but the database expects the messages to be consumed and committed in batch for optimal performance.  Without touching the producer, I tried adjusting the consumer to match the example in the answer to this question:</p>\n<p><a href=\"https://stackoverflow.com/questions/51843677/how-to-transactionally-poll-kafka-from-camel\">How to transactionally poll Kafka from Camel?</a></p>\n<p>I wasn't sure how the messages would appear, so for now I'm just logging them:</p>\n<pre><code>    from(kafkaReadingConsumerEndpoint).routeId(&quot;rawReadingsConsumer&quot;).process(exchange -&gt; {\n        // simple approach to generating errors\n        String body = exchange.getIn().getBody(String.class);\n        if (body.startsWith(&quot;error&quot;)) {\n            throw new RuntimeException(&quot;can't handle the message&quot;);\n        }\n        log.info(&quot;BODY:{}&quot;, body);\n    }).process(kafkaOffsetManager);\n</code></pre>\n<p>But the messages still appear to be coming across one at a time with no batch read.</p>\n<p>My consumer config is this:</p>\n<pre><code>  kafka:\n    host: myhost\n    port: myport\n    consumer:\n      seekTo: beginning\n      maxPartitionFetchBytes: 55000\n      maxPollRecords: 50\n      consumerCount: 1\n      autoOffsetReset: earliest\n      autoCommitEnable: false\n      allowManualCommit: true\n      breakOnFirstError: true\n</code></pre>\n<p>Does my config need work, or are there changes I need to make to the producer to have this work correctly?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","byte-buddy"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1542220136,"post_id":53306613,"comment_id":93493934,"body_markdown":"The pom file would be helpful.","body":"The pom file would be helpful."},{"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"score":0,"creation_date":1542222282,"post_id":53306613,"comment_id":93494958,"body_markdown":"If you&#39;ve upgraded the spring boot version, please try to delete .m2 folder and try again. If the project is new, please add the pom file and mention which type of connector did you use - embedded or external database.","body":"If you&#39;ve upgraded the spring boot version, please try to delete .m2 folder and try again. If the project is new, please add the pom file and mention which type of connector did you use - embedded or external database."},{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1542225520,"post_id":53306613,"comment_id":93496384,"body_markdown":"take a look at [this](https://github.com/mockk/mockk/issues/80).","body":"take a look at <a href=\"https://github.com/mockk/mockk/issues/80\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":7412668,"reputation":101,"user_id":5639568,"display_name":"Ulrich Cech"},"score":0,"creation_date":1542283268,"post_id":53306613,"comment_id":93517973,"body_markdown":"I updated the issue with the dependencies from pom.xml and the database-configuration (external database)","body":"I updated the issue with the dependencies from pom.xml and the database-configuration (external database)"},{"owner":{"account_id":7412668,"reputation":101,"user_id":5639568,"display_name":"Ulrich Cech"},"score":0,"creation_date":1542373166,"post_id":53306613,"comment_id":93555550,"body_markdown":"I made some further hints:\nThe combination JDK 10.0.2 and SpringBoot 2.1.0 and JDK 11 with SpringBoot 2.0.6/2.1.0 produces these errors.","body":"I made some further hints: The combination JDK 10.0.2 and SpringBoot 2.1.0 and JDK 11 with SpringBoot 2.0.6/2.1.0 produces these errors."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1543389724,"creation_date":1543389724,"answer_id":53514118,"question_id":53306613,"body_markdown":"Byte Buddy is used by Hibernate. By forcing Byte Buddy into *test* scope, the library is now missing at runtime.","title":"SpringBoot 2.1.0 throws ClassNotFoundException when trying to integrate database access","body":"<p>Byte Buddy is used by Hibernate. By forcing Byte Buddy into <em>test</em> scope, the library is now missing at runtime.</p>\n"},{"tags":[],"owner":{"account_id":15977419,"reputation":51,"user_id":11529946,"display_name":"amit bhandari"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558384938,"creation_date":1558380545,"answer_id":56227025,"question_id":53306613,"body_markdown":"add dependency in pom.xml\r\n```html\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;byte-buddy-dep&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"SpringBoot 2.1.0 throws ClassNotFoundException when trying to integrate database access","body":"<p>add dependency in pom.xml</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n    &lt;artifactId&gt;byte-buddy-dep&lt;/artifactId&gt;\n    &lt;version&gt;1.9.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10816377,"reputation":1283,"user_id":7955174,"display_name":"aCiD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580032745,"creation_date":1580032745,"answer_id":59917247,"question_id":53306613,"body_markdown":"It worked for me when I removed the folder for `hibernate` from the path \r\n\r\n    C:\\Users\\&lt;Your user&gt;\\.m2\\repository\\org\r\n\r\nAlso deleted the folder `net\\bytebuddy`\r\n\r\nIn eclipse, Right Click on the project and then Maven -&gt; Update Project","title":"SpringBoot 2.1.0 throws ClassNotFoundException when trying to integrate database access","body":"<p>It worked for me when I removed the folder for <code>hibernate</code> from the path </p>\n\n<pre><code>C:\\Users\\&lt;Your user&gt;\\.m2\\repository\\org\n</code></pre>\n\n<p>Also deleted the folder <code>net\\bytebuddy</code></p>\n\n<p>In eclipse, Right Click on the project and then Maven -> Update Project</p>\n"},{"tags":[],"owner":{"account_id":14482568,"reputation":21,"user_id":10461423,"display_name":"raphaelmue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584987778,"creation_date":1584987778,"answer_id":60819479,"question_id":53306613,"body_markdown":"For me helped adding the following to the `module-info.java` file:\r\n\r\n    requires net.bytebuddy;\r\n\r\nThis is only applicable for applications with Java 9 or higher.","title":"SpringBoot 2.1.0 throws ClassNotFoundException when trying to integrate database access","body":"<p>For me helped adding the following to the <code>module-info.java</code> file:</p>\n\n<pre><code>requires net.bytebuddy;\n</code></pre>\n\n<p>This is only applicable for applications with Java 9 or higher.</p>\n"},{"tags":[],"owner":{"account_id":5742470,"reputation":33,"user_id":4534723,"display_name":"emresahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670510156,"creation_date":1670241711,"answer_id":74687869,"question_id":53306613,"body_markdown":"For me adding as dependency in module.xml helped.\r\n\r\n    &lt;dependencies&gt; \r\n      &lt;module name=&quot;net.bytebuddy&quot;/&gt; \r\n    &lt;/dependencies&gt;\r\n\r\nIt already comes with hibernate5 but I was not seeing the dependency.\r\n","title":"SpringBoot 2.1.0 throws ClassNotFoundException when trying to integrate database access","body":"<p>For me adding as dependency in module.xml helped.</p>\n<pre><code>&lt;dependencies&gt; \n  &lt;module name=&quot;net.bytebuddy&quot;/&gt; \n&lt;/dependencies&gt;\n</code></pre>\n<p>It already comes with hibernate5 but I was not seeing the dependency.</p>\n"}],"owner":{"account_id":7412668,"reputation":101,"user_id":5639568,"display_name":"Ulrich Cech"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1670510156,"creation_date":1542220056,"question_id":53306613,"body_markdown":"I have a simple `SpringBoot 2.1.0` application and try to add the database-connectivity with `JPA`. Everything is set up with the &quot;`spring-boot-starter-data-jpa`&quot; dependency in `pom.xml`, but when I start the application, I get this `ClassNotFoundException`.\r\n\r\nI tried already adding byte-buddy manually as dependency, but this changes nothing.\r\n\r\nHas someone solved this problem already?\r\n\r\nMany thanks for every hint in advance!\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: net/bytebuddy/matcher/ElementMatchers\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1745)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:853)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: net/bytebuddy/matcher/ElementMatchers\r\n\tat org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.&lt;clinit&gt;(BytecodeProviderImpl.java:43)\r\n\tat org.hibernate.cfg.Environment.buildBytecodeProvider(Environment.java:357)\r\n\tat org.hibernate.cfg.Environment.buildBytecodeProvider(Environment.java:352)\r\n\tat org.hibernate.cfg.Environment.&lt;clinit&gt;(Environment.java:246)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:78)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:67)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:202)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:167)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741)\r\n\t... 16 common frames omitted\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: net.bytebuddy.matcher.ElementMatchers\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 31 common frames omitted\r\n\r\n\r\n\r\nHere is the pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\nAnd here is the database-configuration in application.yml\r\n\r\n    spring\r\n      jpa:\r\n        database: POSTGRESQL\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: create-drop\r\n      datasource:\r\n        platform: postgres\r\n        url: jdbc:postgresql://localhost:5432/db\r\n        username: postgres\r\n        password: &lt;something&gt;\r\n        driverClassName: org.postgresql.Driver\r\n","title":"SpringBoot 2.1.0 throws ClassNotFoundException when trying to integrate database access","body":"<p>I have a simple <code>SpringBoot 2.1.0</code> application and try to add the database-connectivity with <code>JPA</code>. Everything is set up with the \"<code>spring-boot-starter-data-jpa</code>\" dependency in <code>pom.xml</code>, but when I start the application, I get this <code>ClassNotFoundException</code>.</p>\n\n<p>I tried already adding byte-buddy manually as dependency, but this changes nothing.</p>\n\n<p>Has someone solved this problem already?</p>\n\n<p>Many thanks for every hint in advance!</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: net/bytebuddy/matcher/ElementMatchers\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1745)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:853)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n\nCaused by: java.lang.NoClassDefFoundError: net/bytebuddy/matcher/ElementMatchers\nat org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.&lt;clinit&gt;(BytecodeProviderImpl.java:43)\nat org.hibernate.cfg.Environment.buildBytecodeProvider(Environment.java:357)\nat org.hibernate.cfg.Environment.buildBytecodeProvider(Environment.java:352)\nat org.hibernate.cfg.Environment.&lt;clinit&gt;(Environment.java:246)\nat org.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:78)\nat org.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:67)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:202)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:167)\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741)\n... 16 common frames omitted\n\nCaused by: java.lang.ClassNotFoundException: net.bytebuddy.matcher.ElementMatchers\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 31 common frames omitted\n</code></pre>\n\n<p>Here is the pom.xml:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n        &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n        &lt;version&gt;1.9.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And here is the database-configuration in application.yml</p>\n\n<pre><code>spring\n  jpa:\n    database: POSTGRESQL\n    show-sql: true\n    hibernate:\n      ddl-auto: create-drop\n  datasource:\n    platform: postgres\n    url: jdbc:postgresql://localhost:5432/db\n    username: postgres\n    password: &lt;something&gt;\n    driverClassName: org.postgresql.Driver\n</code></pre>\n"},{"tags":["java","java-me","lwuit","java-wireless-toolkit"],"comments":[{"owner":{"account_id":227021,"reputation":14353,"user_id":488433,"accept_rate":94,"display_name":"bharath"},"score":0,"creation_date":1316438727,"post_id":7470677,"comment_id":9041083,"body_markdown":"Are you using `Obfuscation` in your project?","body":"Are you using <code>Obfuscation</code> in your project?"},{"owner":{"display_name":"user833129"},"score":0,"creation_date":1316438965,"post_id":7470677,"comment_id":9041155,"body_markdown":"@bharath How to know if I use Obfuscation in my project ?","body":"@bharath How to know if I use Obfuscation in my project ?"},{"owner":{"account_id":227021,"reputation":14353,"user_id":488433,"accept_rate":94,"display_name":"bharath"},"score":0,"creation_date":1316439095,"post_id":7470677,"comment_id":9041192,"body_markdown":"Open project properties and look on obfuscation.","body":"Open project properties and look on obfuscation."},{"owner":{"display_name":"user833129"},"score":0,"creation_date":1316439905,"post_id":7470677,"comment_id":9041428,"body_markdown":"The obfuscation level is `Off`.","body":"The obfuscation level is <code>Off</code>."},{"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"score":0,"creation_date":1421853638,"post_id":7470677,"comment_id":44520628,"body_markdown":"possible duplicate of [Compiling issue in NetBeans](http://stackoverflow.com/questions/6293410/compiling-issue-in-netbeans)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6293410/compiling-issue-in-netbeans\">Compiling issue in NetBeans</a>"}],"answers":[{"tags":[],"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1316448666,"creation_date":1316448666,"answer_id":7473990,"question_id":7470677,"body_markdown":"according to comments in older SO question, &quot;-Xlint in NetBeans is set under project properties, run or compile options&quot; - see details here: https://stackoverflow.com/questions/6293410/compiling-issue-in-netbeans\r\n\r\nThere is also a [thread at Netbeans forums](http://forums.netbeans.org/ptopic39838.html). They say,  \r\n&gt; Go to the Compiling section of the Project Properties. These is a check box labeled &quot;Report use of deprecated API&quot;. Checking that will turn on -Xlint.","title":"Some input files use or override a deprecated API","body":"<p>according to comments in older SO question, \"-Xlint in NetBeans is set under project properties, run or compile options\" - see details here: <a href=\"https://stackoverflow.com/questions/6293410/compiling-issue-in-netbeans\">Compiling issue in NetBeans</a></p>\n\n<p>There is also a <a href=\"http://forums.netbeans.org/ptopic39838.html\" rel=\"noreferrer\">thread at Netbeans forums</a>. They say,  </p>\n\n<blockquote>\n  <p>Go to the Compiling section of the Project Properties. These is a check box labeled \"Report use of deprecated API\". Checking that will turn on -Xlint.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20793313,"reputation":5,"user_id":15270944,"display_name":"hamidreza gholami"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1614156254,"creation_date":1614125012,"answer_id":66342790,"question_id":7470677,"body_markdown":"Your error will be solved if you replace the deprecated functions. IDEs like Android Studio will show them with squiggly lines, some IDEs will suggest replacements you can easily use.","title":"Some input files use or override a deprecated API","body":"<p>Your error will be solved if you replace the deprecated functions. IDEs like Android Studio will show them with squiggly lines, some IDEs will suggest replacements you can easily use.</p>\n"},{"tags":[],"owner":{"account_id":20409705,"reputation":31,"user_id":14973418,"display_name":"TMB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670509991,"creation_date":1670509991,"answer_id":74731875,"question_id":7470677,"body_markdown":"Implement this code below and outside of compileOptions bracket located in the build.gradle (Module) and implement this code. This should resolve the issue. \r\n\r\n```\r\n    allprojects {\r\n        tasks.withType(JavaCompile){\r\n            options.compilerArgs &lt;&lt;&quot;-Xlint:deprecation&quot;\r\n        }\r\n    }\r\n```\r\n","title":"Some input files use or override a deprecated API","body":"<p>Implement this code below and outside of compileOptions bracket located in the build.gradle (Module) and implement this code. This should resolve the issue.</p>\n<pre><code>    allprojects {\n        tasks.withType(JavaCompile){\n            options.compilerArgs &lt;&lt;&quot;-Xlint:deprecation&quot;\n        }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user833129"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117582,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":7473990,"answer_count":3,"score":27,"last_activity_date":1670509991,"creation_date":1316434086,"question_id":7470677,"body_markdown":"I just downloaded the new LWUIT 1.5 and when I compiled my project then I saw in the output trace these lines:\r\n\r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n\r\nI use Sun Java ME SDK 3.0 \r\n\r\nSo how to make the `-Xlint` recompilation?","title":"Some input files use or override a deprecated API","body":"<p>I just downloaded the new LWUIT 1.5 and when I compiled my project then I saw in the output trace these lines:</p>\n\n<pre><code>Note: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n\n<p>I use Sun Java ME SDK 3.0 </p>\n\n<p>So how to make the <code>-Xlint</code> recompilation?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","azure-active-directory"],"comments":[{"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"score":0,"creation_date":1670353014,"post_id":74707044,"comment_id":131855607,"body_markdown":"Have you tried something like `http://localhost:8080/login/oauth2/code/azure`","body":"Have you tried something like <code>http:&#47;&#47;localhost:8080&#47;login&#47;oauth2&#47;code&#47;azure</code>"},{"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"score":0,"creation_date":1670404520,"post_id":74707044,"comment_id":131866700,"body_markdown":"@kavyaSaraboju Many thanks for the suggestion. I haven&#39;t tried this - would you recommend it? I have asked to switch it to https://localhost:11120/login/oauth2/code/ as this is what I have seen used in tutorials and this is what is working in my proof of concept (http not https). Should I use &#39;azure&#39; at the end as per your example? One trouble is, as I am working in a tied down, heavily administered environment, any change takes a few days to effect, so I don&#39;t have the luxury of trying lots of combinations quickly unfortunately!","body":"@kavyaSaraboju Many thanks for the suggestion. I haven&#39;t tried this - would you recommend it? I have asked to switch it to <a href=\"https://localhost:11120/login/oauth2/code/\" rel=\"nofollow noreferrer\">localhost:11120/login/oauth2/code</a> as this is what I have seen used in tutorials and this is what is working in my proof of concept (http not https). Should I use &#39;azure&#39; at the end as per your example? One trouble is, as I am working in a tied down, heavily administered environment, any change takes a few days to effect, so I don&#39;t have the luxury of trying lots of combinations quickly unfortunately!"}],"answers":[{"tags":[],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670509761,"creation_date":1670509761,"answer_id":74731826,"question_id":74707044,"body_markdown":"I am posting an answer because we managed to get past this particular hurdle by adding to the security exceptions in our Security Config class (original code shown in the original post).\r\n\r\nAdding two variations of `login/oauth2/code` to the exceptions, gives the full set below.\r\n\r\n    &quot;/&quot;, &quot;/home&quot;, &quot;/login**&quot;, &quot;/callback/&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/oauth2/authorization/**&quot;, &quot;login/oauth2/code&quot;, &quot;/login/oauth2/code**&quot;)\r\n\r\nThis fixed the `Too Many Redirects` issue. However, the next hurdle is dealing with a 404 exception, which is now occurring when attempting to access `login/oauth2/code`. For this I have asked another SO question: https://stackoverflow.com/questions/74731727/spring-boot-sso-azure-ad-redirection-causing-404-error-after-successful-authoriz\r\n\r\nMany thanks!\r\n","title":"Too many redirects: SSO implementation in Spring Boot using OAuth2 against Azure AD","body":"<p>I am posting an answer because we managed to get past this particular hurdle by adding to the security exceptions in our Security Config class (original code shown in the original post).</p>\n<p>Adding two variations of <code>login/oauth2/code</code> to the exceptions, gives the full set below.</p>\n<pre><code>&quot;/&quot;, &quot;/home&quot;, &quot;/login**&quot;, &quot;/callback/&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/oauth2/authorization/**&quot;, &quot;login/oauth2/code&quot;, &quot;/login/oauth2/code**&quot;)\n</code></pre>\n<p>This fixed the <code>Too Many Redirects</code> issue. However, the next hurdle is dealing with a 404 exception, which is now occurring when attempting to access <code>login/oauth2/code</code>. For this I have asked another SO question: <a href=\"https://stackoverflow.com/questions/74731727/spring-boot-sso-azure-ad-redirection-causing-404-error-after-successful-authoriz\">Spring Boot SSO Azure AD Redirection causing 404 Error after successful authorization</a></p>\n<p>Many thanks!</p>\n"}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670509761,"creation_date":1670349121,"question_id":74707044,"body_markdown":"In my `Java 11`, `Spring Boot 2.7.4`, `Maven` application, I am using `Spring Security`, specifically `AadWebSecurityConfigurerAdapter`, in order to authenticate my users via Azure AD Integration following a tutorial. First step was to include the following dependencies in my pom.xml file:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nNext, I am overriding `AadWebSecurityConfigurerAdapter` as follows. Note the security exceptions. \r\n\r\n```\r\nimport com.azure.spring.cloud.autoconfigure.aad.AadWebSecurityConfigurerAdapter;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class AadOAuth2LoginSecurityConfig extends AadWebSecurityConfigurerAdapter implements Ordered {\r\n\r\n    @Value(&quot;${sso.azure.ad.auth.provider.order:2}&quot;)\r\n    private int order;\r\n\r\n    /**\r\n     * Add configuration logic as needed.\r\n     */\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n                .antMatcher(&quot;/**&quot;)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/login**&quot;,&quot;/callback/&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/oauth2/authorization/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return order;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis code works fine in a simple proof of concept deployment. In this PoC, the service is running directly in my IDE on a personal laptop and the Azure AD is a simple test account I setup myself and some test users. The redirect URI points to localhost:\r\n\r\n```\r\nhttp://localhost:11120/login/oauth2/code/\r\n```\r\n\r\nHowever, in my production environment, the code is containerised into `Docker` images, which are deployed to a set of `AWS` `EC2` instances sitting behind a load balancer and the Azure AD instance is an official production one registered for my organisation. The redirect URI references the load balancer (note the lack of a trailing forward slash):\r\n\r\n```\r\nhttps://my-load-balancer:11120/login/oauth2/code\r\n```\r\n\r\nIn my production deployment, browser users are first redirected to the Microsoft login screen as expected, and they are successfully able to authenticate themselves. But when the application then attempts to obtain a token, I see a repeating redirection loop in the logs, as pasted below. Note that the logs have been sanitized and the tokens replaced with `0.ARXXXXX` for brevity. I have labelled the initial request plus the first and second attempts to authenticate, after that the same pattern is seen in a loop.\r\n\r\n```\r\n    Original request:\r\n    2022-12-06 15:58:59,437 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-10] Securing GET /content/documents/myapp?test_no=I1111115432BBBBBBB&amp;entry_number=415895J\r\n    \r\n    2022-12-06 15:58:59,446 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor [https-jsse-nio-11120-exec-10] Failed to authorize filter invocation [GET /content/documents\r\n    /myapp?test_no=I1111115432BBBBBBB&amp;entry_number=415895J] with attributes [authenticated]\r\n    \r\n    2022-12-06 15:58:59,461 DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache [https-jsse-nio-11120-exec-10] Saved request https://my-load-balancer:11120/content/\r\n    documents/myapp?test_no=I1111115432BBBBBBB&amp;entry_number=415895J to session\r\n    \r\n    First attempt to authenticate:\r\n    2022-12-06 15:58:59,470 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-10] Redirecting to https://my-load-balancer:11120/oauth2/authorization/azure\r\n    \r\n    2022-12-06 15:58:59,537 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-9] Securing GET /oauth2/authorization/azure\r\n    \r\n    2022-12-06 15:58:59,558 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-9] Redirecting to https://login.microsoftonline.com/ac52f73c-fd1a-4a9a-8e7a-4a248f31\r\n    39e1/oauth2/v2.0/authorize?response_type=code&amp;client_id=YYYYYYY&amp;scope=openid%20profile%20offline_access&amp;state=0jyV5HiOjxBLTG4cIs1koydlLFEPCZx_4RWuNg3wQpw%3D&amp;redirect_uri\r\n    =https://my-load-balancer:11120/login/oauth2/code&amp;nonce=N-Tc2RIad5dFccOHTx79ifPhgs4UYoEnnJIJk0rApl8\r\n    \r\n    2022-12-06 15:59:00,356 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-10] Securing GET /login/oauth2/code?code=0.ARXXXXX\r\n    \r\n    2022-12-06 15:59:00,357 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor [https-jsse-nio-11120-exec-10] Failed to authorize filter invocation [GET /login/oauth2/code\r\n    ?code=0.ARXXXXX] with attributes [authenticated]\r\n    \r\n    2022-12-06 15:59:00,358 DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache [https-jsse-nio-11120-exec-10] Saved request https://my-load-balancer:11120/login/oa\r\n    uth2/code?code=0.ARXXXXX to session\r\n    \r\n    Second attempt to authenticate:\r\n    2022-12-06 15:59:00,358 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-10] Redirecting to https://my-load-balancer:11120/oauth2/authorization/azure\r\n    \r\n    2022-12-06 15:59:00,391 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-1] Securing GET /oauth2/authorization/azure\r\n    \r\n    2022-12-06 15:59:00,415 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-1] Redirecting to https://login.microsoftonline.com/ac52f73c-fd1a-4a9a-8e7a-4a248f31\r\n    39e1/oauth2/v2.0/authorize?response_type=code&amp;client_id=YYYYYYY&amp;scope=openid%20profile%20offline_access&amp;state=N6S7RwKvgVQjwB1oAzcdvBF0rcCVbMkemLVV4KjfaKU%3D&amp;redirect_uri\r\n    =https://my-load-balancer:11120/login/oauth2/code&amp;nonce=_Bg814QoGQJv7fbzslGq2oh_MePQLPBHTp8j2wdkY0w\r\n    \r\n    2022-12-06 15:59:00,693 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-3] Securing GET /login/oauth2/code?code=0.ARXXXXX\r\n    \r\n    2022-12-06 15:59:00,694 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor [https-jsse-nio-11120-exec-3] Failed to authorize filter invocation [GET /login/oauth2/code?\r\n    code=0.ARXXXXX] with attributes [authenticated]\r\n    \r\n    2022-12-06 15:59:00,695 DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache [https-jsse-nio-11120-exec-3] Saved request https://my-load-balancer:11120/login/oau\r\n    th2/code?code=0.ARXXXXX to session\r\n    \r\n    Further attempts to authenticate follow in a loop until &#39;too many redirects&#39; error is seen in browser.\r\n```\r\n\r\nAs a first attempt to fix this issue, I added the security exceptions seen in the code example above to exempt those patterns from security, but this made no difference.\r\n\r\nI then thought that perhaps the Docker container could not &#39;see&#39; login.microsoftonline.com in order to authenticate. However, I can clearly see it in the logs and I do not see any connection exceptions or similar that I would expect to see if this were the issue.\r\n\r\nNow, I am thinking that the issue may well be due to the fact that the redirect URI points to a load balancer rather than localhost. Regarding this, I was advised to use the following config settings, but it had no effect:\r\n\r\n```\r\nserver.forward-headers-strategy=NATIVE\r\nserver.tomcat.redirect-context-root=false\r\n```\r\n\r\nI am now thinking that I should try setting the redirect URI to localhost rather than the load balancer and to include a trailing slash in the redirect URI. I will try this, but as I am working in a tied down production environment, it will take a few days to effect.\r\n\r\nIn the meantime, I would be very grateful for any suggestions or ideas and I thank you for reading my post.\r\n\r\n\r\n\r\n","title":"Too many redirects: SSO implementation in Spring Boot using OAuth2 against Azure AD","body":"<p>In my <code>Java 11</code>, <code>Spring Boot 2.7.4</code>, <code>Maven</code> application, I am using <code>Spring Security</code>, specifically <code>AadWebSecurityConfigurerAdapter</code>, in order to authenticate my users via Azure AD Integration following a tutorial. First step was to include the following dependencies in my pom.xml file:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Next, I am overriding <code>AadWebSecurityConfigurerAdapter</code> as follows. Note the security exceptions.</p>\n<pre><code>import com.azure.spring.cloud.autoconfigure.aad.AadWebSecurityConfigurerAdapter;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.core.Ordered;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class AadOAuth2LoginSecurityConfig extends AadWebSecurityConfigurerAdapter implements Ordered {\n\n    @Value(&quot;${sso.azure.ad.auth.provider.order:2}&quot;)\n    private int order;\n\n    /**\n     * Add configuration logic as needed.\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;, &quot;/login**&quot;,&quot;/callback/&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/oauth2/authorization/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n    @Override\n    public int getOrder() {\n        return order;\n    }\n\n}\n</code></pre>\n<p>This code works fine in a simple proof of concept deployment. In this PoC, the service is running directly in my IDE on a personal laptop and the Azure AD is a simple test account I setup myself and some test users. The redirect URI points to localhost:</p>\n<pre><code>http://localhost:11120/login/oauth2/code/\n</code></pre>\n<p>However, in my production environment, the code is containerised into <code>Docker</code> images, which are deployed to a set of <code>AWS</code> <code>EC2</code> instances sitting behind a load balancer and the Azure AD instance is an official production one registered for my organisation. The redirect URI references the load balancer (note the lack of a trailing forward slash):</p>\n<pre><code>https://my-load-balancer:11120/login/oauth2/code\n</code></pre>\n<p>In my production deployment, browser users are first redirected to the Microsoft login screen as expected, and they are successfully able to authenticate themselves. But when the application then attempts to obtain a token, I see a repeating redirection loop in the logs, as pasted below. Note that the logs have been sanitized and the tokens replaced with <code>0.ARXXXXX</code> for brevity. I have labelled the initial request plus the first and second attempts to authenticate, after that the same pattern is seen in a loop.</p>\n<pre><code>    Original request:\n    2022-12-06 15:58:59,437 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-10] Securing GET /content/documents/myapp?test_no=I1111115432BBBBBBB&amp;entry_number=415895J\n    \n    2022-12-06 15:58:59,446 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor [https-jsse-nio-11120-exec-10] Failed to authorize filter invocation [GET /content/documents\n    /myapp?test_no=I1111115432BBBBBBB&amp;entry_number=415895J] with attributes [authenticated]\n    \n    2022-12-06 15:58:59,461 DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache [https-jsse-nio-11120-exec-10] Saved request https://my-load-balancer:11120/content/\n    documents/myapp?test_no=I1111115432BBBBBBB&amp;entry_number=415895J to session\n    \n    First attempt to authenticate:\n    2022-12-06 15:58:59,470 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-10] Redirecting to https://my-load-balancer:11120/oauth2/authorization/azure\n    \n    2022-12-06 15:58:59,537 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-9] Securing GET /oauth2/authorization/azure\n    \n    2022-12-06 15:58:59,558 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-9] Redirecting to https://login.microsoftonline.com/ac52f73c-fd1a-4a9a-8e7a-4a248f31\n    39e1/oauth2/v2.0/authorize?response_type=code&amp;client_id=YYYYYYY&amp;scope=openid%20profile%20offline_access&amp;state=0jyV5HiOjxBLTG4cIs1koydlLFEPCZx_4RWuNg3wQpw%3D&amp;redirect_uri\n    =https://my-load-balancer:11120/login/oauth2/code&amp;nonce=N-Tc2RIad5dFccOHTx79ifPhgs4UYoEnnJIJk0rApl8\n    \n    2022-12-06 15:59:00,356 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-10] Securing GET /login/oauth2/code?code=0.ARXXXXX\n    \n    2022-12-06 15:59:00,357 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor [https-jsse-nio-11120-exec-10] Failed to authorize filter invocation [GET /login/oauth2/code\n    ?code=0.ARXXXXX] with attributes [authenticated]\n    \n    2022-12-06 15:59:00,358 DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache [https-jsse-nio-11120-exec-10] Saved request https://my-load-balancer:11120/login/oa\n    uth2/code?code=0.ARXXXXX to session\n    \n    Second attempt to authenticate:\n    2022-12-06 15:59:00,358 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-10] Redirecting to https://my-load-balancer:11120/oauth2/authorization/azure\n    \n    2022-12-06 15:59:00,391 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-1] Securing GET /oauth2/authorization/azure\n    \n    2022-12-06 15:59:00,415 DEBUG org.springframework.security.web.DefaultRedirectStrategy [https-jsse-nio-11120-exec-1] Redirecting to https://login.microsoftonline.com/ac52f73c-fd1a-4a9a-8e7a-4a248f31\n    39e1/oauth2/v2.0/authorize?response_type=code&amp;client_id=YYYYYYY&amp;scope=openid%20profile%20offline_access&amp;state=N6S7RwKvgVQjwB1oAzcdvBF0rcCVbMkemLVV4KjfaKU%3D&amp;redirect_uri\n    =https://my-load-balancer:11120/login/oauth2/code&amp;nonce=_Bg814QoGQJv7fbzslGq2oh_MePQLPBHTp8j2wdkY0w\n    \n    2022-12-06 15:59:00,693 DEBUG org.springframework.security.web.FilterChainProxy [https-jsse-nio-11120-exec-3] Securing GET /login/oauth2/code?code=0.ARXXXXX\n    \n    2022-12-06 15:59:00,694 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor [https-jsse-nio-11120-exec-3] Failed to authorize filter invocation [GET /login/oauth2/code?\n    code=0.ARXXXXX] with attributes [authenticated]\n    \n    2022-12-06 15:59:00,695 DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache [https-jsse-nio-11120-exec-3] Saved request https://my-load-balancer:11120/login/oau\n    th2/code?code=0.ARXXXXX to session\n    \n    Further attempts to authenticate follow in a loop until 'too many redirects' error is seen in browser.\n</code></pre>\n<p>As a first attempt to fix this issue, I added the security exceptions seen in the code example above to exempt those patterns from security, but this made no difference.</p>\n<p>I then thought that perhaps the Docker container could not 'see' login.microsoftonline.com in order to authenticate. However, I can clearly see it in the logs and I do not see any connection exceptions or similar that I would expect to see if this were the issue.</p>\n<p>Now, I am thinking that the issue may well be due to the fact that the redirect URI points to a load balancer rather than localhost. Regarding this, I was advised to use the following config settings, but it had no effect:</p>\n<pre><code>server.forward-headers-strategy=NATIVE\nserver.tomcat.redirect-context-root=false\n</code></pre>\n<p>I am now thinking that I should try setting the redirect URI to localhost rather than the load balancer and to include a trailing slash in the redirect URI. I will try this, but as I am working in a tied down production environment, it will take a few days to effect.</p>\n<p>In the meantime, I would be very grateful for any suggestions or ideas and I thank you for reading my post.</p>\n"},{"tags":["java","api","openapi"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1670510216,"post_id":74731802,"comment_id":131895463,"body_markdown":"I think the first solution its the best in your case. I mean, by desing the third-party library with your objects are outside of your domain, so not a boilerplate if you have your own DTO in your domain, casually its the same object in terms of fields and behavior, but the difference its is in your domain and you have the control.","body":"I think the first solution its the best in your case. I mean, by desing the third-party library with your objects are outside of your domain, so not a boilerplate if you have your own DTO in your domain, casually its the same object in terms of fields and behavior, but the difference its is in your domain and you have the control."}],"owner":{"account_id":297370,"reputation":3213,"user_id":602856,"accept_rate":40,"display_name":"rainer198"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670509680,"creation_date":1670509680,"question_id":74731802,"body_markdown":"Let&#39;s assume I want to follow the API-first approach with openapi. The response of an endpoint should be a JSON of Java objects whose classes are implemented in a third-party library. Thus, they already exist and are not under my control. \r\n\r\nWhat is the best option here to specify the API?\r\n- Define a new DTO type in my openapi spec and implement a mapper from existing class to generated DTO class? Feels like boilerplate code.\r\n- define the response to be a string and mention in the description that the String encodes a JSON of an existing-class object. This would cleary generate ugly code.\r\n\r\nThere isn&#39;t a way to reference existing Java classes in the spec file, I guess.\r\n\r\n","title":"Openapi - Api-First approach and third-party classes as response","body":"<p>Let's assume I want to follow the API-first approach with openapi. The response of an endpoint should be a JSON of Java objects whose classes are implemented in a third-party library. Thus, they already exist and are not under my control.</p>\n<p>What is the best option here to specify the API?</p>\n<ul>\n<li>Define a new DTO type in my openapi spec and implement a mapper from existing class to generated DTO class? Feels like boilerplate code.</li>\n<li>define the response to be a string and mention in the description that the String encodes a JSON of an existing-class object. This would cleary generate ugly code.</li>\n</ul>\n<p>There isn't a way to reference existing Java classes in the spec file, I guess.</p>\n"},{"tags":["java","string","sorting"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670301838,"post_id":74697257,"comment_id":131839024,"body_markdown":"Your outer loop, `for(int count = 0 ; count &lt;= numberOfWords; count++){`, runs one more time than the number of words (so 4 times if there are 3 words). Should it? The `number` parameter of your `getWord` method, is that 0-based or 1-based? Meaning, if there are three words, are they numbered 0, 1, 2 or is it 1, 2, 3?","body":"Your outer loop, <code>for(int count = 0 ; count &lt;= numberOfWords; count++){</code>, runs one more time than the number of words (so 4 times if there are 3 words). Should it? The <code>number</code> parameter of your <code>getWord</code> method, is that 0-based or 1-based? Meaning, if there are three words, are they numbered 0, 1, 2 or is it 1, 2, 3?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670301889,"post_id":74697257,"comment_id":131839032,"body_markdown":"It’s a good time to learn to use your debugger.","body":"It’s a good time to learn to use your debugger."},{"owner":{"account_id":20791309,"reputation":23,"user_id":15269407,"display_name":"manuelmsni"},"score":0,"creation_date":1670303324,"post_id":74697257,"comment_id":131839222,"body_markdown":"&quot;Yeah, I had it as: &quot;for (int count = 1; count &lt;= numberOfWords; count++)&quot;, but it didn&#39;t work anyway. The number parameter is 1-based.&quot;","body":"&quot;Yeah, I had it as: &quot;for (int count = 1; count &lt;= numberOfWords; count++)&quot;, but it didn&#39;t work anyway. The number parameter is 1-based.&quot;"},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1670303615,"post_id":74697257,"comment_id":131839248,"body_markdown":"The code seems to work for me. It gives: &#39;arbol,bedel,casa,diploma,excursion,guea,factura,xilofono&#39;. What output were you expecting?","body":"The code seems to work for me. It gives: &#39;arbol,bedel,casa,diploma,excursion,guea,factura,xilofono&#39;. What output were you expecting?"},{"owner":{"account_id":20791309,"reputation":23,"user_id":15269407,"display_name":"manuelmsni"},"score":0,"creation_date":1670303804,"post_id":74697257,"comment_id":131839277,"body_markdown":"Since &#39;f&#39; comes before &#39;g&#39; in the alphabet:\n&#39;arbol,bedel,casa,diploma,excursion,factura,guea,xilofono&#39;. I think it fails because factura is the first word in the input string.","body":"Since &#39;f&#39; comes before &#39;g&#39; in the alphabet: &#39;arbol,bedel,casa,diploma,excursion,factura,guea,xilofono&#39;. I think it fails because factura is the first word in the input string."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670306124,"post_id":74697257,"comment_id":131839671,"body_markdown":"Is your algorithm sound? Say you have input `con,bueno,a`. For `con` you are not comparing with any other word. For `bueno` you see that it should be switched with `con`, so you get `bueno,con,a`. Finally you look at `a`. It comes alphabetically before both of the other words, so you swap with the first of those, `bueno` and get `a,con,bueno`. Then your method returns. By the way your problem is not *only* with the first word in the input. I sorted `g,f,e,d,c,b,a` and got `a,g,f,e,d,c,b`.","body":"Is your algorithm sound? Say you have input <code>con,bueno,a</code>. For <code>con</code> you are not comparing with any other word. For <code>bueno</code> you see that it should be switched with <code>con</code>, so you get <code>bueno,con,a</code>. Finally you look at <code>a</code>. It comes alphabetically before both of the other words, so you swap with the first of those, <code>bueno</code> and get <code>a,con,bueno</code>. Then your method returns. By the way your problem is not <i>only</i> with the first word in the input. I sorted <code>g,f,e,d,c,b,a</code> and got <code>a,g,f,e,d,c,b</code>."}],"answers":[{"tags":[],"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670308289,"creation_date":1670302858,"answer_id":74697492,"question_id":74697257,"body_markdown":"Here are a few tips for cleaner programming:\r\n        \r\n1. Try to make the code easy enough to understand so that you don&#39;t need comments explaining what individual methods do. If you do need comments, include them. \r\n\r\n2. Break your code up into smaller methods. The following code could be included in a method called:  \r\n`private static String changeOrderIfAscending(String phrase, int numberOfWords, String splitBy, char order)`\r\n        \r\n        if (order == &#39;&gt;&#39;){\r\n            String aux;\r\n            aux = &quot;&quot;;\r\n            for(int count = numberOfWords ; count &gt;= 1; count--){\r\n                aux += getWord(phrase, splitBy, count);\r\n                if(count != 1){\r\n                    aux += splitBy;\r\n                }\r\n            }\r\n            phrase = aux;\r\n        }\r\n\r\n3. In the loop in the above method softwords you are using `+=` for String concatenation. Instead, you could use StringBuilder:\r\n        \r\n        if (order == &#39;&gt;&#39;){\r\n            StringBuilder aux;\r\n            aux = new StringBuilder();\r\n            for(int count = numberOfWords ; count &gt;= 1; count--){\r\n                aux.append(getWord(phrase, splitBy, count));\r\n                if(count != 1){\r\n                    aux.append(splitBy);\r\n                }\r\n            }\r\n            phrase = aux.toString();\r\n        }\r\n\r\nThere are 2 other String concatenations with `+=` in the method replaceWord.","title":"This Java code alphabetically sorts a string without using arrays. But it fails in the first word of the given string","body":"<p>Here are a few tips for cleaner programming:</p>\n<ol>\n<li><p>Try to make the code easy enough to understand so that you don't need comments explaining what individual methods do. If you do need comments, include them.</p>\n</li>\n<li><p>Break your code up into smaller methods. The following code could be included in a method called:<br />\n<code>private static String changeOrderIfAscending(String phrase, int numberOfWords, String splitBy, char order)</code></p>\n<pre><code> if (order == '&gt;'){\n     String aux;\n     aux = &quot;&quot;;\n     for(int count = numberOfWords ; count &gt;= 1; count--){\n         aux += getWord(phrase, splitBy, count);\n         if(count != 1){\n             aux += splitBy;\n         }\n     }\n     phrase = aux;\n }\n</code></pre>\n</li>\n<li><p>In the loop in the above method softwords you are using <code>+=</code> for String concatenation. Instead, you could use StringBuilder:</p>\n<pre><code> if (order == '&gt;'){\n     StringBuilder aux;\n     aux = new StringBuilder();\n     for(int count = numberOfWords ; count &gt;= 1; count--){\n         aux.append(getWord(phrase, splitBy, count));\n         if(count != 1){\n             aux.append(splitBy);\n         }\n     }\n     phrase = aux.toString();\n }\n</code></pre>\n</li>\n</ol>\n<p>There are 2 other String concatenations with <code>+=</code> in the method replaceWord.</p>\n"},{"tags":[],"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670310463,"creation_date":1670310463,"answer_id":74698528,"question_id":74697257,"body_markdown":"Here is an implementation of BubbleSort with your algorithms for sorting a string without using arrays.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        /* sort alphabetically this string without using arrays*/\r\n        String phrase;\r\n        phrase = &quot;g,f,e,d,c,b,a&quot;;\r\n        phrase = &quot;creo,que,sera,brasil,contra,francia,en,el,mundial&quot;\r\n        phrase = &quot;factura,casa,arbol,xilofono,bedel,diploma,excursion,guea&quot;;\r\n        System.out.println(bubbleSort(phrase, &quot;,&quot;, &#39;&lt;&#39;));\r\n    }\r\n\r\n    private static String bubbleSort(String phrase, String splitBy, char order) {\r\n        int numberOfWords = countWords(phrase, splitBy);\r\n        for (int i = 0; i &lt; numberOfWords; i++)\r\n            for (int j = 0; j &lt; numberOfWords - i; j++)\r\n                if (getWord(phrase, splitBy, j).compareTo(getWord(phrase, splitBy, j + 1)) &gt; 0)\r\n                    phrase = swapWords(phrase, splitBy, j,j + 1);\r\n        phrase = changeOrderIfAscending(phrase, numberOfWords, splitBy, order);\r\n        return phrase;\r\n    }\r\n\r\n    private static int countWords(String phrase, String splitBy){\r\n        int count;\r\n        int position;\r\n        count = 0;\r\n        position = 0;\r\n        while(position != -1){\r\n            if (count == 0){\r\n                position = phrase.indexOf(splitBy);\r\n            } else {\r\n                position = phrase.indexOf(splitBy, position + 1);\r\n            }\r\n            if (position != -1){\r\n                count++;\r\n            }\r\n        }\r\n        return count + 1;\r\n    }\r\n\r\n    private static String getWord(String phrase, String splitBy, int number){\r\n        String word;\r\n        Scanner splitter;\r\n        int count;\r\n        splitter = new Scanner(phrase);\r\n        splitter.useDelimiter(splitBy);\r\n        word = &quot;&quot;;\r\n        count = 1;\r\n        while (count &lt;= number){\r\n            word = splitter.next();\r\n            count++;\r\n        }\r\n        return word;\r\n    }\r\n\r\n    private static String swapWords(String phrase, String splitBy, int number1, int number2){\r\n        String word1 = getWord(phrase, splitBy, number1);\r\n        String word2 = getWord(phrase, splitBy, number2);\r\n        phrase = replaceWord(phrase, splitBy, number1, word2);\r\n        phrase = replaceWord(phrase, splitBy, number2, word1);\r\n        return phrase;\r\n    }\r\n\r\n    private static String replaceWord(String phrase, String splitBy, int position, String replacement){\r\n        String output;\r\n        int numberOfWords;\r\n        output=&quot;&quot;;\r\n        numberOfWords = countWords(phrase, splitBy);\r\n        for(int count = 1 ; count &lt;= numberOfWords; count++){\r\n            if(count != position){\r\n                output += getWord(phrase, splitBy, count);\r\n            } else {\r\n                output += replacement;\r\n            }\r\n            if(count != numberOfWords){\r\n                output += splitBy;\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\n    private static String changeOrderIfAscending(String phrase, int numberOfWords, String splitBy, char order){\r\n        if (order == &#39;&gt;&#39;){\r\n            StringBuilder aux;\r\n            aux = new StringBuilder();\r\n            for(int count = numberOfWords ; count &gt;= 1; count--){\r\n                aux.append(getWord(phrase, splitBy, count));\r\n                if(count != 1){\r\n                    aux.append(splitBy);\r\n                }\r\n            }\r\n            phrase = aux.toString();\r\n        }\r\n        return phrase;\r\n    }","title":"This Java code alphabetically sorts a string without using arrays. But it fails in the first word of the given string","body":"<p>Here is an implementation of BubbleSort with your algorithms for sorting a string without using arrays.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    /* sort alphabetically this string without using arrays*/\n    String phrase;\n    phrase = &quot;g,f,e,d,c,b,a&quot;;\n    phrase = &quot;creo,que,sera,brasil,contra,francia,en,el,mundial&quot;\n    phrase = &quot;factura,casa,arbol,xilofono,bedel,diploma,excursion,guea&quot;;\n    System.out.println(bubbleSort(phrase, &quot;,&quot;, '&lt;'));\n}\n\nprivate static String bubbleSort(String phrase, String splitBy, char order) {\n    int numberOfWords = countWords(phrase, splitBy);\n    for (int i = 0; i &lt; numberOfWords; i++)\n        for (int j = 0; j &lt; numberOfWords - i; j++)\n            if (getWord(phrase, splitBy, j).compareTo(getWord(phrase, splitBy, j + 1)) &gt; 0)\n                phrase = swapWords(phrase, splitBy, j,j + 1);\n    phrase = changeOrderIfAscending(phrase, numberOfWords, splitBy, order);\n    return phrase;\n}\n\nprivate static int countWords(String phrase, String splitBy){\n    int count;\n    int position;\n    count = 0;\n    position = 0;\n    while(position != -1){\n        if (count == 0){\n            position = phrase.indexOf(splitBy);\n        } else {\n            position = phrase.indexOf(splitBy, position + 1);\n        }\n        if (position != -1){\n            count++;\n        }\n    }\n    return count + 1;\n}\n\nprivate static String getWord(String phrase, String splitBy, int number){\n    String word;\n    Scanner splitter;\n    int count;\n    splitter = new Scanner(phrase);\n    splitter.useDelimiter(splitBy);\n    word = &quot;&quot;;\n    count = 1;\n    while (count &lt;= number){\n        word = splitter.next();\n        count++;\n    }\n    return word;\n}\n\nprivate static String swapWords(String phrase, String splitBy, int number1, int number2){\n    String word1 = getWord(phrase, splitBy, number1);\n    String word2 = getWord(phrase, splitBy, number2);\n    phrase = replaceWord(phrase, splitBy, number1, word2);\n    phrase = replaceWord(phrase, splitBy, number2, word1);\n    return phrase;\n}\n\nprivate static String replaceWord(String phrase, String splitBy, int position, String replacement){\n    String output;\n    int numberOfWords;\n    output=&quot;&quot;;\n    numberOfWords = countWords(phrase, splitBy);\n    for(int count = 1 ; count &lt;= numberOfWords; count++){\n        if(count != position){\n            output += getWord(phrase, splitBy, count);\n        } else {\n            output += replacement;\n        }\n        if(count != numberOfWords){\n            output += splitBy;\n        }\n    }\n    return output;\n}\n\nprivate static String changeOrderIfAscending(String phrase, int numberOfWords, String splitBy, char order){\n    if (order == '&gt;'){\n        StringBuilder aux;\n        aux = new StringBuilder();\n        for(int count = numberOfWords ; count &gt;= 1; count--){\n            aux.append(getWord(phrase, splitBy, count));\n            if(count != 1){\n                aux.append(splitBy);\n            }\n        }\n        phrase = aux.toString();\n    }\n    return phrase;\n}\n</code></pre>\n"}],"owner":{"account_id":20791309,"reputation":23,"user_id":15269407,"display_name":"manuelmsni"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670509446,"creation_date":1670300467,"question_id":74697257,"body_markdown":"I tried to write this Java code that alphabetically sorts a string without using arrays, but it fails on the first word of the input string. I&#39;ve tried to fix it but I&#39;m unable to figure out a solution. I&#39;m learning to code and i need a hint.\r\n\r\nThis Java code implements a function that sorts an input string alphabetically without using arrays. The function is called sortWords and it takes three arguments: phrase, which is the string to be sorted; splitBy, which is the character or string of characters that will be used to split the string into individual words; and order, which is a character that determines whether the output order should be ascending (&#39;&lt;&#39;) or descending (&#39;&gt;&#39;).\r\n\r\nsortWords uses several helper functions to accomplish its task. The countWords function counts the number of words in a given string, using the given character or string of characters as a delimiter. The getWord function retrieves a specific word from a given string, using the given character or string of characters as a delimiter. And the replaceWord function replaces a specific word in a given string with another given word, using the given character or string of characters as a delimiter.\r\n\r\nThe main logic of sortWords is as follows:\r\n\r\n1. Count the number of words in the given string using countWords.\r\n2. Iterate over all the words in the string, from the first to the last.\r\n3. For each word, search for the smallest word that comes before it in the string and has not been processed yet.\r\n4. If a smaller word is found, replace it with the original word using replaceWord, and save the original word for later use.\r\n5. Repeat this process until all words in the string have been processed.\r\n6. If a descending order (&#39;&gt;&#39;) has been specified, reverse the order of the words in the string using an auxiliary string and getWord.\r\n7. Return the sorted string.\r\n\r\nExpected result:  &#39;arbol,bedel,casa,diploma,excursion,factura,guea,xilofono&#39;.\r\nSince &#39;f&#39; comes before &#39;g&#39; in the alphabet.\r\n\r\nObserved result: &#39;arbol,bedel,casa,diploma,excursion,guea,factura,xilofono&#39;.\r\nI think it fails because factura is the first word in the input string.\r\n\r\n``` lang-java\r\n    static Scanner sc = new Scanner(System.in);\r\n    public static void main(String[] args){\r\n        /* sort alphabetically this string without using arrays*/\r\n        String phrase;\r\n        phrase = &quot;factura,casa,arbol,xilofono,bedel,diploma,excursion,guea&quot;;\r\n        System.out.println(sortWords(phrase, &quot;,&quot;, &#39;&lt;&#39;));\r\n    }\r\n\r\n    private static String getWord(String phrase, String splitBy, int number){\r\n        String word;\r\n        Scanner splitter;\r\n        int count;\r\n        splitter = new Scanner(phrase);\r\n        splitter.useDelimiter(splitBy);\r\n        word = &quot;&quot;;\r\n        count = 1;\r\n        while (count &lt;= number){\r\n            word = splitter.next();\r\n            count++;\r\n        }\r\n        return word;\r\n    }\r\n\r\n    private static int countWords(String phrase, String splitBy){\r\n        int count;\r\n        int position;\r\n        count = 0;\r\n        position = 0;\r\n        while(position != -1){\r\n            if (count == 0){\r\n                position = phrase.indexOf(splitBy);\r\n            } else {\r\n                position = phrase.indexOf(splitBy, position + 1);\r\n            }\r\n            if (position != -1){\r\n                count++;\r\n            }\r\n        }\r\n        return count + 1;\r\n    }\r\n\r\n    private static String sortWords(String phrase, String splitBy, char order){\r\n        int numberOfWords;\r\n        numberOfWords = countWords(phrase, splitBy);\r\n        for(int count = 1 ; count &lt;= numberOfWords; count++){\r\n            String wordToCheck;\r\n            String wordToSwitchWith;\r\n            int switchWithNumber;\r\n            wordToCheck = getWord(phrase, splitBy, count);\r\n            wordToSwitchWith = wordToCheck;\r\n            switchWithNumber = count;\r\n            for(int checkVS = count -1 ; checkVS &gt;= 1; checkVS--){\r\n                String wordToCompareWith;\r\n                wordToCompareWith = getWord(phrase, splitBy, checkVS);\r\n                if(wordToCheck.compareTo(wordToCompareWith) &lt; 0 ){\r\n                    wordToSwitchWith =  wordToCompareWith;\r\n                    switchWithNumber = checkVS;\r\n                }\r\n            }\r\n            phrase = replaceWord(phrase, splitBy, count, wordToSwitchWith);\r\n            phrase = replaceWord(phrase, splitBy, switchWithNumber, wordToCheck);\r\n        }\r\n        if (order == &#39;&gt;&#39;){\r\n            String aux;\r\n            aux = &quot;&quot;;\r\n            for(int count = numberOfWords ; count &gt;= 1; count--){\r\n                aux += getWord(phrase, splitBy, count);\r\n                if(count != 1){\r\n                    aux += splitBy;\r\n                }\r\n            }\r\n            phrase = aux;\r\n        }\r\n        return phrase;\r\n    }\r\n\r\n    private static String replaceWord(String phrase, String splitBy, int position, String replacement){\r\n        String output;\r\n        int numberOfWords;\r\n        output=&quot;&quot;;\r\n        numberOfWords = countWords(phrase, splitBy);\r\n        for(int count = 1 ; count &lt;= numberOfWords; count++){\r\n            if(count != position){\r\n                output += getWord(phrase, splitBy, count);\r\n            } else {\r\n                output += replacement;\r\n            }\r\n            if(count != numberOfWords){\r\n                output += splitBy;\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n}\r\n```\r\n","title":"This Java code alphabetically sorts a string without using arrays. But it fails in the first word of the given string","body":"<p>I tried to write this Java code that alphabetically sorts a string without using arrays, but it fails on the first word of the input string. I've tried to fix it but I'm unable to figure out a solution. I'm learning to code and i need a hint.</p>\n<p>This Java code implements a function that sorts an input string alphabetically without using arrays. The function is called sortWords and it takes three arguments: phrase, which is the string to be sorted; splitBy, which is the character or string of characters that will be used to split the string into individual words; and order, which is a character that determines whether the output order should be ascending ('&lt;') or descending ('&gt;').</p>\n<p>sortWords uses several helper functions to accomplish its task. The countWords function counts the number of words in a given string, using the given character or string of characters as a delimiter. The getWord function retrieves a specific word from a given string, using the given character or string of characters as a delimiter. And the replaceWord function replaces a specific word in a given string with another given word, using the given character or string of characters as a delimiter.</p>\n<p>The main logic of sortWords is as follows:</p>\n<ol>\n<li>Count the number of words in the given string using countWords.</li>\n<li>Iterate over all the words in the string, from the first to the last.</li>\n<li>For each word, search for the smallest word that comes before it in the string and has not been processed yet.</li>\n<li>If a smaller word is found, replace it with the original word using replaceWord, and save the original word for later use.</li>\n<li>Repeat this process until all words in the string have been processed.</li>\n<li>If a descending order ('&gt;') has been specified, reverse the order of the words in the string using an auxiliary string and getWord.</li>\n<li>Return the sorted string.</li>\n</ol>\n<p>Expected result:  'arbol,bedel,casa,diploma,excursion,factura,guea,xilofono'.\nSince 'f' comes before 'g' in the alphabet.</p>\n<p>Observed result: 'arbol,bedel,casa,diploma,excursion,guea,factura,xilofono'.\nI think it fails because factura is the first word in the input string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static Scanner sc = new Scanner(System.in);\n    public static void main(String[] args){\n        /* sort alphabetically this string without using arrays*/\n        String phrase;\n        phrase = &quot;factura,casa,arbol,xilofono,bedel,diploma,excursion,guea&quot;;\n        System.out.println(sortWords(phrase, &quot;,&quot;, '&lt;'));\n    }\n\n    private static String getWord(String phrase, String splitBy, int number){\n        String word;\n        Scanner splitter;\n        int count;\n        splitter = new Scanner(phrase);\n        splitter.useDelimiter(splitBy);\n        word = &quot;&quot;;\n        count = 1;\n        while (count &lt;= number){\n            word = splitter.next();\n            count++;\n        }\n        return word;\n    }\n\n    private static int countWords(String phrase, String splitBy){\n        int count;\n        int position;\n        count = 0;\n        position = 0;\n        while(position != -1){\n            if (count == 0){\n                position = phrase.indexOf(splitBy);\n            } else {\n                position = phrase.indexOf(splitBy, position + 1);\n            }\n            if (position != -1){\n                count++;\n            }\n        }\n        return count + 1;\n    }\n\n    private static String sortWords(String phrase, String splitBy, char order){\n        int numberOfWords;\n        numberOfWords = countWords(phrase, splitBy);\n        for(int count = 1 ; count &lt;= numberOfWords; count++){\n            String wordToCheck;\n            String wordToSwitchWith;\n            int switchWithNumber;\n            wordToCheck = getWord(phrase, splitBy, count);\n            wordToSwitchWith = wordToCheck;\n            switchWithNumber = count;\n            for(int checkVS = count -1 ; checkVS &gt;= 1; checkVS--){\n                String wordToCompareWith;\n                wordToCompareWith = getWord(phrase, splitBy, checkVS);\n                if(wordToCheck.compareTo(wordToCompareWith) &lt; 0 ){\n                    wordToSwitchWith =  wordToCompareWith;\n                    switchWithNumber = checkVS;\n                }\n            }\n            phrase = replaceWord(phrase, splitBy, count, wordToSwitchWith);\n            phrase = replaceWord(phrase, splitBy, switchWithNumber, wordToCheck);\n        }\n        if (order == '&gt;'){\n            String aux;\n            aux = &quot;&quot;;\n            for(int count = numberOfWords ; count &gt;= 1; count--){\n                aux += getWord(phrase, splitBy, count);\n                if(count != 1){\n                    aux += splitBy;\n                }\n            }\n            phrase = aux;\n        }\n        return phrase;\n    }\n\n    private static String replaceWord(String phrase, String splitBy, int position, String replacement){\n        String output;\n        int numberOfWords;\n        output=&quot;&quot;;\n        numberOfWords = countWords(phrase, splitBy);\n        for(int count = 1 ; count &lt;= numberOfWords; count++){\n            if(count != position){\n                output += getWord(phrase, splitBy, count);\n            } else {\n                output += replacement;\n            }\n            if(count != numberOfWords){\n                output += splitBy;\n            }\n        }\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670508564,"creation_date":1670508564,"answer_id":74731538,"question_id":74731318,"body_markdown":"You can use `toMap` instead of `groupingBy`, and `BinaryOperator` instead of `Collectors.maxBy`, like:\r\n\r\n    public Map&lt;Integer, StudentGrade&gt; getMaxGradeByStudent(List&lt;StudentGrade&gt; grades) {\r\n        return grades.stream()\r\n                .collect(Collectors.toMap(StudentGrade::getStudentId,\r\n                       x -&gt; x, // Or Function.identity(),\r\n                       BinaryOperator.maxBy(Comparator.comparing(StudentGrade::getValue))));\r\n    }\r\n\r\n","title":"How to group by an attribute and get a map of max values?","body":"<p>You can use <code>toMap</code> instead of <code>groupingBy</code>, and <code>BinaryOperator</code> instead of <code>Collectors.maxBy</code>, like:</p>\n<pre><code>public Map&lt;Integer, StudentGrade&gt; getMaxGradeByStudent(List&lt;StudentGrade&gt; grades) {\n    return grades.stream()\n            .collect(Collectors.toMap(StudentGrade::getStudentId,\n                   x -&gt; x, // Or Function.identity(),\n                   BinaryOperator.maxBy(Comparator.comparing(StudentGrade::getValue))));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14725095,"reputation":234,"user_id":10634590,"display_name":"Демьян Бельский"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670509204,"creation_date":1670509204,"answer_id":74731696,"question_id":74731318,"body_markdown":"You can use this if you&#39;d like to avoid streams\r\n\r\n    public Map&lt;Integer, StudentGrade&gt; getMaxGradeByStudent(List&lt;StudentGrade&gt; grades) {\r\n        Map&lt;Integer, StudentGrade&gt; studentIdToMaxGrade = new HashMap&lt;&gt;();\r\n        for (StudentGrade grade : grades) {\r\n            studentIdToMaxGrade.merge(\r\n                    grade.getStudentId(),\r\n                    grade,\r\n                    BinaryOperator.maxBy(Comparator.comparing(StudentGrade::getValue))\r\n            );\r\n        }\r\n        return studentIdToMaxGrade;\r\n    }","title":"How to group by an attribute and get a map of max values?","body":"<p>You can use this if you'd like to avoid streams</p>\n<pre><code>public Map&lt;Integer, StudentGrade&gt; getMaxGradeByStudent(List&lt;StudentGrade&gt; grades) {\n    Map&lt;Integer, StudentGrade&gt; studentIdToMaxGrade = new HashMap&lt;&gt;();\n    for (StudentGrade grade : grades) {\n        studentIdToMaxGrade.merge(\n                grade.getStudentId(),\n                grade,\n                BinaryOperator.maxBy(Comparator.comparing(StudentGrade::getValue))\n        );\n    }\n    return studentIdToMaxGrade;\n}\n</code></pre>\n"}],"owner":{"account_id":8989377,"reputation":113,"user_id":6701858,"display_name":"ptt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74731538,"answer_count":2,"score":1,"last_activity_date":1670509204,"creation_date":1670507528,"question_id":74731318,"body_markdown":"I have the following class:\r\n\r\n    public class StudentGrade {\r\n       int studentId;\r\n       double value;\r\n       Date date;\r\n       ...\r\n    }\r\n\r\nI would like to get the max grade by student as a map (studentId -&gt; StudentGrade)\r\n\r\n    public Map&lt;Integer, StudentGrade&gt; getMaxGradeByStudent(List&lt;StudentGrade&gt; grades) {\r\n        Map&lt;Integer, Optional&lt;StudentGrade&gt;&gt; maxGrades = grades.stream().collect(\r\n            Collectors.groupingBy(\r\n                StudentGrade::getStudentId,\r\n                Collectors.maxBy(Comparator.comparing(StudentGrade::getValue)))\r\n        );\r\n        Map&lt;Integer, StudentGrade&gt; finalGrades = new HashMap&lt;&gt;();\r\n        maxGrades.entrySet().forEach(entry -&gt; {\r\n            entry.getValue().ifPresent(value -&gt; finalGrades.put(entry.getKey(), value));\r\n        })\r\n    }\r\n\r\nIs there a better way to do this? I would like to avoid having to initialize a new Hashmap and use streams for everything.","title":"How to group by an attribute and get a map of max values?","body":"<p>I have the following class:</p>\n<pre><code>public class StudentGrade {\n   int studentId;\n   double value;\n   Date date;\n   ...\n}\n</code></pre>\n<p>I would like to get the max grade by student as a map (studentId -&gt; StudentGrade)</p>\n<pre><code>public Map&lt;Integer, StudentGrade&gt; getMaxGradeByStudent(List&lt;StudentGrade&gt; grades) {\n    Map&lt;Integer, Optional&lt;StudentGrade&gt;&gt; maxGrades = grades.stream().collect(\n        Collectors.groupingBy(\n            StudentGrade::getStudentId,\n            Collectors.maxBy(Comparator.comparing(StudentGrade::getValue)))\n    );\n    Map&lt;Integer, StudentGrade&gt; finalGrades = new HashMap&lt;&gt;();\n    maxGrades.entrySet().forEach(entry -&gt; {\n        entry.getValue().ifPresent(value -&gt; finalGrades.put(entry.getKey(), value));\n    })\n}\n</code></pre>\n<p>Is there a better way to do this? I would like to avoid having to initialize a new Hashmap and use streams for everything.</p>\n"},{"tags":["java","image-processing","image-resizing"],"answers":[{"tags":[],"owner":{"account_id":219860,"reputation":1378,"user_id":476982,"display_name":"AdamH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1288025328,"creation_date":1288025328,"answer_id":4016893,"question_id":4016805,"body_markdown":"You need more information than just the Icon reference. You need access to the actual image. You&#39;re new image is a black square because you never set the source if the image (i.e. you create a new black image and then scale the empty image).","title":"How do I resize an image with Java?","body":"<p>You need more information than just the Icon reference. You need access to the actual image. You're new image is a black square because you never set the source if the image (i.e. you create a new black image and then scale the empty image).</p>\n"},{"tags":[],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1288045915,"creation_date":1288025803,"answer_id":4016970,"question_id":4016805,"body_markdown":"Try this.\r\n\r\n    ImageIcon icon = model.icon();\r\n    Image image = new BufferedImage(icon.getIconWidth(), icon.getIconHeight(), BufferedImage.TYPE_INT_RGB);\r\n    image.getGraphics().drawImage(icon.getImage(), 0, 0, 16, 16, null);\r\n    return new ImageIcon(image);","title":"How do I resize an image with Java?","body":"<p>Try this.</p>\n\n<pre><code>ImageIcon icon = model.icon();\nImage image = new BufferedImage(icon.getIconWidth(), icon.getIconHeight(), BufferedImage.TYPE_INT_RGB);\nimage.getGraphics().drawImage(icon.getImage(), 0, 0, 16, 16, null);\nreturn new ImageIcon(image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15931,"reputation":14364,"user_id":34201,"display_name":"andrewmu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288025955,"creation_date":1288025955,"answer_id":4016989,"question_id":4016805,"body_markdown":"You are not putting the Icon into the Image.  If icon is an `ImageIcon`, then you can do:\r\n\r\n    ..\r\n    Graphics2D g2 = image.createGraphics();\r\n    g2.drawImage(icon.getImage(), 0, 0, 16, 16, null);\r\n    g2.dispose();\r\n    return new ImageIcon(image);","title":"How do I resize an image with Java?","body":"<p>You are not putting the Icon into the Image.  If icon is an <code>ImageIcon</code>, then you can do:</p>\n\n<pre><code>..\nGraphics2D g2 = image.createGraphics();\ng2.drawImage(icon.getImage(), 0, 0, 16, 16, null);\ng2.dispose();\nreturn new ImageIcon(image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670509165,"creation_date":1670509165,"answer_id":74731682,"question_id":4016805,"body_markdown":"   \r\n\r\n You can use this method also for seizing images\r\n\r\n     public static void resize(final String inputImagePath, final String outputImagePath, final int scaledWidth, final int scaledHeight) throws IOException {\r\n        final File inputFile = new File(inputImagePath);\r\n        final BufferedImage inputImage = ImageIO.read(inputFile);\r\n\r\n        final BufferedImage outputImage = new BufferedImage(scaledWidth, scaledHeight, inputImage.getType());\r\n\r\n        final Graphics2D g2d = outputImage.createGraphics();\r\n        g2d.drawImage(inputImage, 0, 0, scaledWidth, scaledHeight, null);\r\n        g2d.dispose();\r\n\r\n        final String formatName = outputImagePath.substring(outputImagePath.lastIndexOf(&quot;.&quot;) + 1);\r\n\r\n        ImageIO.write(outputImage, formatName, new File(outputImagePath));\r\n    }","title":"How do I resize an image with Java?","body":"<p>You can use this method also for seizing images</p>\n<pre><code> public static void resize(final String inputImagePath, final String outputImagePath, final int scaledWidth, final int scaledHeight) throws IOException {\n    final File inputFile = new File(inputImagePath);\n    final BufferedImage inputImage = ImageIO.read(inputFile);\n\n    final BufferedImage outputImage = new BufferedImage(scaledWidth, scaledHeight, inputImage.getType());\n\n    final Graphics2D g2d = outputImage.createGraphics();\n    g2d.drawImage(inputImage, 0, 0, scaledWidth, scaledHeight, null);\n    g2d.dispose();\n\n    final String formatName = outputImagePath.substring(outputImagePath.lastIndexOf(&quot;.&quot;) + 1);\n\n    ImageIO.write(outputImage, formatName, new File(outputImagePath));\n}\n</code></pre>\n"}],"owner":{"account_id":215727,"reputation":6239,"user_id":470535,"accept_rate":100,"display_name":"Peter C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4016970,"answer_count":4,"score":1,"last_activity_date":1670509165,"creation_date":1288024653,"question_id":4016805,"body_markdown":"I have a bunch of 48x48 images that I need 16x16 versions of, and instead of storing the 16x16 versions, I want to resize them on the fly. My current code looks like this (model.icon() returns the 48x48 image):\r\n\r\n    Icon icon = model.icon();\r\n    Image image = new BufferedImage(icon.getIconWidth(), icon.getIconHeight(), BufferedImage.TYPE_INT_RGB);\r\n    return new ImageIcon(image.getScaledInstance(16, 16, Image.SCALE_AREA_AVERAGING));\r\n\r\nUnfortunately, when this code is run, I get a 16x16 black square instead of the image.","title":"How do I resize an image with Java?","body":"<p>I have a bunch of 48x48 images that I need 16x16 versions of, and instead of storing the 16x16 versions, I want to resize them on the fly. My current code looks like this (model.icon() returns the 48x48 image):</p>\n\n<pre><code>Icon icon = model.icon();\nImage image = new BufferedImage(icon.getIconWidth(), icon.getIconHeight(), BufferedImage.TYPE_INT_RGB);\nreturn new ImageIcon(image.getScaledInstance(16, 16, Image.SCALE_AREA_AVERAGING));\n</code></pre>\n\n<p>Unfortunately, when this code is run, I get a 16x16 black square instead of the image.</p>\n"},{"tags":["java","tomcat","64-bit","32bit-64bit","32-bit"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1670500008,"post_id":74728870,"comment_id":131891944,"body_markdown":"What do you want? Get Java as a 64 bit version installed? Or changing Tomcat to be 64 bit? Or do you want to modify your web application running on Tomcat to ba 64 bit?","body":"What do you want? Get Java as a 64 bit version installed? Or changing Tomcat to be 64 bit? Or do you want to modify your web application running on Tomcat to ba 64 bit?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1670500660,"post_id":74728870,"comment_id":131892147,"body_markdown":"There is nothing else to do: if you&#39;re running the tomcat with a 64-bit JVM, all is good","body":"There is nothing else to do: if you&#39;re running the tomcat with a 64-bit JVM, all is good"},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1670501174,"post_id":74728870,"comment_id":131892321,"body_markdown":"But then, why the installer is installing the app in (x86) directory?","body":"But then, why the installer is installing the app in (x86) directory?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670506369,"post_id":74728870,"comment_id":131894009,"body_markdown":"“When I install the app it gets installed on C:/Program Files (x86)/ directory.”  What app are you speaking of?  What installer are you speaking of?  Is this an app you wrote?  Did you use an installer you built?","body":"“When I install the app it gets installed on C:/Program Files (x86)/ directory.”  What app are you speaking of?  What installer are you speaking of?  Is this an app you wrote?  Did you use an installer you built?"},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1670508785,"post_id":74728870,"comment_id":131894916,"body_markdown":"@VGR I have updated the description. Should have mentioned earlier.","body":"@VGR I have updated the description. Should have mentioned earlier."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670509011,"post_id":74728870,"comment_id":131895013,"body_markdown":"In that case, it sounds like an issue with the installer.  Do you happen to know how that installer was built?","body":"In that case, it sounds like an issue with the installer.  Do you happen to know how that installer was built?"}],"answers":[{"tags":[],"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670499056,"creation_date":1670499056,"answer_id":74729626,"question_id":74728870,"body_markdown":"Having the tomcat installed on (x86) directory it means you are using the 32 bit installation.\r\nYour options are :\r\n\r\n - Download the 64 bit installation for your Tomcat Version from https://dlcdn.apache.org/tomcat/ and set the configuration from scratch.\r\n - Manually change the tomcat&#39;s executable, as suggested [here][1] but in the opposite way.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68570171/install-32-bit-tomcat-in-a-64-bit-windows-environment","title":"How to migrate a 32 bit java web app to 64 bit?","body":"<p>Having the tomcat installed on (x86) directory it means you are using the 32 bit installation.\nYour options are :</p>\n<ul>\n<li>Download the 64 bit installation for your Tomcat Version from <a href=\"https://dlcdn.apache.org/tomcat/\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/tomcat/</a> and set the configuration from scratch.</li>\n<li>Manually change the tomcat's executable, as suggested <a href=\"https://stackoverflow.com/questions/68570171/install-32-bit-tomcat-in-a-64-bit-windows-environment\">here</a> but in the opposite way.</li>\n</ul>\n"}],"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670509118,"creation_date":1670495528,"question_id":74728870,"body_markdown":"I have a java web application which runs on tomcat 8.5 (as a windows service). This is a 32 bit application.  When I insatll the app it gets installed on C:/Program Files (x86)/ directory. I need to migrate this to 64 bit(for memory allocation issues) but I can&#39;t find any code/configuration file that might help me to do this. \r\n\r\nI did some googling and found [This PDF](https://www.stackoverflow.com/) but doesn&#39;t seem relevant. Where should I look for these code/configuration? Is there any standard way of doing this? &lt;br&gt; \r\nI am sorry if this is a dump question. I haven&#39;t done this before so don&#39;t have any clue. I also don&#39;t have much information to provide but here are some that might help\r\n\r\n1. My operating system is 64 bit\r\n2. I have 64 bit java installed (checked with java -version command)\r\n3. The tomcat8.exe (the windows service mentioned earlier) is 64 bit (Saw in Task Manager)\r\n4. The installer and the web app was built by previous developers\r\n\r\n**Update: Installed java is 64 bit. the 32 bit java.exe was coming from previous version of the application installed**","title":"How to migrate a 32 bit java web app to 64 bit?","body":"<p>I have a java web application which runs on tomcat 8.5 (as a windows service). This is a 32 bit application.  When I insatll the app it gets installed on C:/Program Files (x86)/ directory. I need to migrate this to 64 bit(for memory allocation issues) but I can't find any code/configuration file that might help me to do this.</p>\n<p>I did some googling and found <a href=\"https://www.stackoverflow.com/\">This PDF</a> but doesn't seem relevant. Where should I look for these code/configuration? Is there any standard way of doing this? <br>\nI am sorry if this is a dump question. I haven't done this before so don't have any clue. I also don't have much information to provide but here are some that might help</p>\n<ol>\n<li>My operating system is 64 bit</li>\n<li>I have 64 bit java installed (checked with java -version command)</li>\n<li>The tomcat8.exe (the windows service mentioned earlier) is 64 bit (Saw in Task Manager)</li>\n<li>The installer and the web app was built by previous developers</li>\n</ol>\n<p><strong>Update: Installed java is 64 bit. the 32 bit java.exe was coming from previous version of the application installed</strong></p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670508980,"creation_date":1670508980,"answer_id":74731638,"question_id":74728045,"body_markdown":"***Spring-Cloud-Netflix-Ribbon*** has been deprecated and is not included in the 2020.0.0 release train. ***Spring-Cloud-LoadBalancer*** is the alternative.\r\n\r\nUpdated my properties as following as per *spring-cloud-loadbalancer*: \r\n\r\n    spring.cloud.discovery.client.simple.instances.MY-SERVICE[0].uri=https://my-service-api.prod.cloud.net\r\n\r\n\r\n\r\nReference document to configure *spring-cloud-openfeign* : https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/\r\n\r\n","title":"Feignclient is not fetching the list of servers configured","body":"<p><em><strong>Spring-Cloud-Netflix-Ribbon</strong></em> has been deprecated and is not included in the 2020.0.0 release train. <em><strong>Spring-Cloud-LoadBalancer</strong></em> is the alternative.</p>\n<p>Updated my properties as following as per <em>spring-cloud-loadbalancer</em>:</p>\n<pre><code>spring.cloud.discovery.client.simple.instances.MY-SERVICE[0].uri=https://my-service-api.prod.cloud.net\n</code></pre>\n<p>Reference document to configure <em>spring-cloud-openfeign</em> : <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/</a></p>\n"}],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74731638,"answer_count":1,"score":1,"last_activity_date":1670508980,"creation_date":1670491502,"question_id":74728045,"body_markdown":"I&#39;m using **Spring Boot 2.7.6** with **Spring Cloud 2021.0.5**,\r\nMy Feignclient is not fetching the list of servers configured in application properties, printing following lines in log,\r\n\r\n    o.s.c.openfeign.FeignClientFactoryBean   : For &#39;MY-SERVICE&#39; URL not provided. Will try picking an instance via load-balancing.\r\n\r\nInstead of the configured URL it is taking default url i.e., http://MY-SERVICE/.. But I&#39;m not using eureka server.\r\n\r\nFeign Client:\r\n\r\n    @FeignClient(name= &quot;MY-SERVICE&quot;, fallbackFactory = MyServiceClientFallbackFactory.class)\r\n    public interface MyServiceApiClient {\r\n        ........\r\n    }\r\n\r\nAplication properties:\r\n\r\n    MY-SERVICE.ribbon.listOfServers=https://my-service-api.prod.cloud.net\r\n\r\n\r\nBuild.gradle\r\n\r\n     implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;\r\n     implementation &#39;io.github.openfeign:feign-httpclient&#39;\r\n     implementation &#39;io.github.openfeign:feign-hystrix&#39;\r\n\r\n\r\n","title":"Feignclient is not fetching the list of servers configured","body":"<p>I'm using <strong>Spring Boot 2.7.6</strong> with <strong>Spring Cloud 2021.0.5</strong>,\nMy Feignclient is not fetching the list of servers configured in application properties, printing following lines in log,</p>\n<pre><code>o.s.c.openfeign.FeignClientFactoryBean   : For 'MY-SERVICE' URL not provided. Will try picking an instance via load-balancing.\n</code></pre>\n<p>Instead of the configured URL it is taking default url i.e., http://MY-SERVICE/.. But I'm not using eureka server.</p>\n<p>Feign Client:</p>\n<pre><code>@FeignClient(name= &quot;MY-SERVICE&quot;, fallbackFactory = MyServiceClientFallbackFactory.class)\npublic interface MyServiceApiClient {\n    ........\n}\n</code></pre>\n<p>Aplication properties:</p>\n<pre><code>MY-SERVICE.ribbon.listOfServers=https://my-service-api.prod.cloud.net\n</code></pre>\n<p>Build.gradle</p>\n<pre><code> implementation 'org.springframework.cloud:spring-cloud-starter-openfeign'\n implementation 'io.github.openfeign:feign-httpclient'\n implementation 'io.github.openfeign:feign-hystrix'\n</code></pre>\n"},{"tags":["java","android","android-contentresolver","mediastore"],"answers":[{"tags":[],"owner":{"account_id":8332992,"reputation":323,"user_id":6260873,"accept_rate":100,"display_name":"Elfie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463810258,"creation_date":1463810258,"answer_id":37359438,"question_id":35230755,"body_markdown":"You just need to add more selectionArgs, each for every file type. Or you just create an list or array which contains all the file types as strings. Next you only need a loop which goes to the next file type until there are no more left.\r\nFor example:\r\n    \r\n    ArrayList&lt;MyFile&gt; list  = new ArrayList&lt;MyFile&gt;();\r\n    ArrayList&lt;String&gt; fileTypeArray = new ArrayList&lt;DString&gt;(); \r\n\r\n    for(int i = 0; i &lt; fileTypeArray.size(); i++){\r\n         String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot;=?&quot; + &quot;&quot;;\r\n         String[] selectionArgs = new String[] {     MimeTypeMap.getSingleton().getMimeTypeFromExtension(fileTypeArray.get(i))};\r\n\r\n        Uri contentUri  = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        String[] columns = {\r\n                MediaStore.Files.FileColumns.MIME_TYPE ,\r\n                MediaStore.Files.FileColumns.MEDIA_TYPE ,\r\n                MediaStore.Files.FileColumns.DATA ,\r\n        };\r\n        String SortOrder = null;\r\n\r\n         Cursor cursor = contentR.query(contentUri ,\r\n                columns ,\r\n                selection ,\r\n                selectionArgs ,\r\n                SortOrder);\r\n    }","title":"Android - Java - MediaStore - How to use selection for multiple conditions","body":"<p>You just need to add more selectionArgs, each for every file type. Or you just create an list or array which contains all the file types as strings. Next you only need a loop which goes to the next file type until there are no more left.\nFor example:</p>\n\n<pre><code>ArrayList&lt;MyFile&gt; list  = new ArrayList&lt;MyFile&gt;();\nArrayList&lt;String&gt; fileTypeArray = new ArrayList&lt;DString&gt;(); \n\nfor(int i = 0; i &lt; fileTypeArray.size(); i++){\n     String selection = MediaStore.Files.FileColumns.MIME_TYPE + \"=?\" + \"\";\n     String[] selectionArgs = new String[] {     MimeTypeMap.getSingleton().getMimeTypeFromExtension(fileTypeArray.get(i))};\n\n    Uri contentUri  = MediaStore.Files.getContentUri(\"external\");\n    String[] columns = {\n            MediaStore.Files.FileColumns.MIME_TYPE ,\n            MediaStore.Files.FileColumns.MEDIA_TYPE ,\n            MediaStore.Files.FileColumns.DATA ,\n    };\n    String SortOrder = null;\n\n     Cursor cursor = contentR.query(contentUri ,\n            columns ,\n            selection ,\n            selectionArgs ,\n            SortOrder);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5222496,"reputation":66,"user_id":4175502,"display_name":"steveA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670508965,"creation_date":1670508965,"answer_id":74731630,"question_id":35230755,"body_markdown":"Another alternative is to not include the MIME_TYPE in the selection but having it in the columns allows you to check it when processing each entry in the cursor.\r\n\r\nSomething like:\r\n\r\n    val projection - arrayOf(\r\n        MediaStore.Downloads.MIME_TYPE,\r\n    ...\r\n    \r\n    if (cursor.count &gt; 0) {\r\n            val mimeColumn : Int =\r\n    \t\t\tcursor.getColumnIndex(MediaStore.Files.FileColumns.MIME_TYPE)\r\n    \t\tcursor.use { cursor -&gt;\r\n    \t\t\tcursor.moveToFirst()\r\n    \t\t\tdo {\r\n    \t\t\t\tval mimeType = cursor.getString(mimeColumn)\r\n    \t\t\t\t...\r\n    \t\t\t\tif( mimeType == MediaStore.Downloads.MIME_TYPE ) { // or wherever...\r\n    \t\t\t\t\t// process it\r\n    \t\t\t\t}\r\n    \t\t\t} while (cursor.moveToNext())\r\n    \t\t}\r\n    \t\t...\r\n\r\n\t\t\r\n\r\n\r\n ","title":"Android - Java - MediaStore - How to use selection for multiple conditions","body":"<p>Another alternative is to not include the MIME_TYPE in the selection but having it in the columns allows you to check it when processing each entry in the cursor.</p>\n<p>Something like:</p>\n<pre><code>val projection - arrayOf(\n    MediaStore.Downloads.MIME_TYPE,\n...\n\nif (cursor.count &gt; 0) {\n        val mimeColumn : Int =\n            cursor.getColumnIndex(MediaStore.Files.FileColumns.MIME_TYPE)\n        cursor.use { cursor -&gt;\n            cursor.moveToFirst()\n            do {\n                val mimeType = cursor.getString(mimeColumn)\n                ...\n                if( mimeType == MediaStore.Downloads.MIME_TYPE ) { // or wherever...\n                    // process it\n                }\n            } while (cursor.moveToNext())\n        }\n        ...\n\n    \n</code></pre>\n"}],"owner":{"account_id":5207358,"reputation":110,"user_id":4164838,"accept_rate":50,"display_name":"YoniR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670508965,"creation_date":1454695793,"question_id":35230755,"body_markdown":"I wan&#39;t to get all the document (Docs) files from an android device. I use ContentResolver with MediaStore.Files to achive that. I can get all the files from one type , for example: pdf , but I wonder how to get files from number of types.\r\n\r\nMy code:\r\n\r\n        String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot;=?&quot; +\r\n                &quot;&quot;;\r\n        String[] selectionArgs = new String[] { MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;)};\r\n\r\n        ArrayList&lt;MyFile&gt; list  = new ArrayList&lt;MyFile&gt;();\r\n\r\n        Uri contentUri  = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n\r\n\r\n        String[] columns = {\r\n                MediaStore.Files.FileColumns.MIME_TYPE ,\r\n                MediaStore.Files.FileColumns.MEDIA_TYPE ,\r\n                MediaStore.Files.FileColumns.DATA ,\r\n        };\r\n        String SortOrder = null;\r\n\r\n\r\n        Cursor cursor = contentR.query(contentUri ,\r\n                columns ,\r\n                selection ,\r\n                selectionArgs ,\r\n                SortOrder);\r\n\r\nHow can I use the selection &amp; selectioArgs for multiple conditions like in SQL: OR , AND ...\r\nThe selectionArgs will have all the files types that I&#39;m looking for: pdf , txt , doc ...\r\n\r\nFor example:\r\nSelection = MediaStore.Files.FileColumns.MIME_TYPE + &quot;=?&quot; + &quot;OR&quot; + MediaStore.Files.FileColumns.MIME_TYPE + &quot;=?&quot; ;\r\n\r\nSelectionArgs = {&quot;pdf&quot; , &quot;txt&quot;}; \r\n\r\n\r\nThanks for any help or direction :-)","title":"Android - Java - MediaStore - How to use selection for multiple conditions","body":"<p>I wan't to get all the document (Docs) files from an android device. I use ContentResolver with MediaStore.Files to achive that. I can get all the files from one type , for example: pdf , but I wonder how to get files from number of types.</p>\n\n<p>My code:</p>\n\n<pre><code>    String selection = MediaStore.Files.FileColumns.MIME_TYPE + \"=?\" +\n            \"\";\n    String[] selectionArgs = new String[] { MimeTypeMap.getSingleton().getMimeTypeFromExtension(\"pdf\")};\n\n    ArrayList&lt;MyFile&gt; list  = new ArrayList&lt;MyFile&gt;();\n\n    Uri contentUri  = MediaStore.Files.getContentUri(\"external\");\n\n\n    String[] columns = {\n            MediaStore.Files.FileColumns.MIME_TYPE ,\n            MediaStore.Files.FileColumns.MEDIA_TYPE ,\n            MediaStore.Files.FileColumns.DATA ,\n    };\n    String SortOrder = null;\n\n\n    Cursor cursor = contentR.query(contentUri ,\n            columns ,\n            selection ,\n            selectionArgs ,\n            SortOrder);\n</code></pre>\n\n<p>How can I use the selection &amp; selectioArgs for multiple conditions like in SQL: OR , AND ...\nThe selectionArgs will have all the files types that I'm looking for: pdf , txt , doc ...</p>\n\n<p>For example:\nSelection = MediaStore.Files.FileColumns.MIME_TYPE + \"=?\" + \"OR\" + MediaStore.Files.FileColumns.MIME_TYPE + \"=?\" ;</p>\n\n<p>SelectionArgs = {\"pdf\" , \"txt\"}; </p>\n\n<p>Thanks for any help or direction :-)</p>\n"},{"tags":["java","amazon-web-services","amazon-ses"],"comments":[{"owner":{"account_id":12817136,"reputation":914,"user_id":9273414,"display_name":"Hubert Bratek"},"score":0,"creation_date":1670513955,"post_id":74731497,"comment_id":131896945,"body_markdown":"Can you confirm that they are added BCC in the payload?","body":"Can you confirm that they are added BCC in the payload?"},{"owner":{"account_id":21740497,"reputation":27,"user_id":16047939,"display_name":"N. G."},"score":0,"creation_date":1670533009,"post_id":74731497,"comment_id":131902780,"body_markdown":"yes, it was provided @Ajris","body":"yes, it was provided @Ajris"},{"owner":{"account_id":21740497,"reputation":27,"user_id":16047939,"display_name":"N. G."},"score":0,"creation_date":1670572542,"post_id":74731497,"comment_id":131909593,"body_markdown":"I stated that it works when I have just a recipient in a BCC section. If I also put a recipient in a TO section, just that user gets an email","body":"I stated that it works when I have just a recipient in a BCC section. If I also put a recipient in a TO section, just that user gets an email"},{"owner":{"account_id":12817136,"reputation":914,"user_id":9273414,"display_name":"Hubert Bratek"},"score":0,"creation_date":1670629957,"post_id":74731497,"comment_id":131925193,"body_markdown":"Please provide the whole raw Message and rawEmailRequest to analyze.","body":"Please provide the whole raw Message and rawEmailRequest to analyze."},{"owner":{"account_id":21740497,"reputation":27,"user_id":16047939,"display_name":"N. G."},"score":0,"creation_date":1670752766,"post_id":74731497,"comment_id":131942078,"body_markdown":"In case when I sent an email to a BCC recipient:\nrawEmailRequest.destination contains that recipient, but  the BCC header is never set. Should i do it on some other way? I don&#39;t get it why message.setRecipients(RecipientType.BCC, InternetAddress.parse(bccEmail));\n          don&#39;t work","body":"In case when I sent an email to a BCC recipient: rawEmailRequest.destination contains that recipient, but  the BCC header is never set. Should i do it on some other way? I don&#39;t get it why message.setRecipients(RecipientType.BCC, InternetAddress.parse(bccEmail));           don&#39;t work"}],"owner":{"account_id":21740497,"reputation":27,"user_id":16047939,"display_name":"N. G."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670508455,"creation_date":1670508382,"question_id":74731497,"body_markdown":"I am trying to send an email using \r\n\r\n```\r\namazonSimpleEmailService.sendRawEmail\r\n```\r\n\r\nSending an e-mail works only when the e-mail is sent to a person in the BCC header, and it does not work when someone is in the TO: or CC: section. does anyone know why? I couldn&#39;t find anything in the AWS documentation https://docs.aws.amazon.com/ses/latest/APIReference/API_SendRawEmail.html\r\n\r\n\r\n\r\n```\r\n  public void send(Payload request) throws MessagingException, IOException {\r\n      List&lt;String&gt; recipients = new LinkedList&lt;&gt;();\r\n\r\n      String from = request.getFrom();\r\n      String targetEmail = request.getRecipient();\r\n      String ccEmail = request.getCc();\r\n      String bccEmail = request.getBcc();\r\n\r\n      Session session = Session.getDefaultInstance(new Properties());\r\n      MimeMessage message = new MimeMessage(session);\r\n\r\n      message.setSubject(request.getSubject());\r\n      message.setFrom(new InternetAddress(from));\r\n      if (targetEmail != null) {\r\n          message.setRecipients(RecipientType.TO, InternetAddress.parse(targetEmail));\r\n          recipients.add(targetEmail);\r\n      }\r\n      if (ccEmail != null) {\r\n          message.setRecipients(RecipientType.CC, InternetAddress.parse(ccEmail));\r\n          recipients.add(ccEmail);\r\n      }\r\n      if (bccEmail != null) {\r\n          message.setRecipients(RecipientType.BCC, InternetAddress.parse(bccEmail));\r\n          recipients.add(bccEmail);\r\n      }\r\n      MimeBodyPart htmlPart = new MimeBodyPart();\r\n      htmlPart.setContent(request.getBody(), &quot;text/html; charset=UTF-8;&quot;);\r\n\r\n      MimeMultipart bodyContainer = new MimeMultipart(&quot;alternative&quot;);\r\n      bodyContainer.addBodyPart(htmlPart);\r\n\r\n      MimeBodyPart htmlWrapper = new MimeBodyPart();\r\n      htmlWrapper.setContent(bodyContainer);\r\n\r\n      MimeMultipart messageContainer = new MimeMultipart(&quot;mixed&quot;);\r\n      messageContainer.addBodyPart(htmlWrapper);\r\n\r\n      Attachment attachment = request.getAttachment();\r\n      if (Objects.nonNull(attachment)) {\r\n          MimeBodyPart attachmentBodyPart = new MimeBodyPart();\r\n          DataHandler dataHandler = new DataHandler(attachment.getByteArrayDataSource());\r\n\r\n          attachmentBodyPart.setDataHandler(dataHandler);\r\n          attachmentBodyPart.setFileName(attachment.getFileName());\r\n\r\n          messageContainer.addBodyPart(attachmentBodyPart);\r\n      }\r\n\r\n      message.setContent(messageContainer);\r\n\r\n      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n      message.writeTo(outputStream);\r\n\r\n      RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\r\n\r\n      SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\r\n      rawEmailRequest.withSource(from);\r\n      rawEmailRequest.withDestinations(recipients);\r\n\r\n      SendRawEmailResult sendRawEmailResult = amazonSimpleEmailService.sendRawEmail(rawEmailRequest);\r\n      log.info(&quot;Email sent. MessageId: {}&quot;, targetEmail, ccEmail, bccEmail, sendRawEmailResult.getMessageId());\r\n  }\r\n```\r\n","title":"Email to BCC recepient is not sent","body":"<p>I am trying to send an email using</p>\n<pre><code>amazonSimpleEmailService.sendRawEmail\n</code></pre>\n<p>Sending an e-mail works only when the e-mail is sent to a person in the BCC header, and it does not work when someone is in the TO: or CC: section. does anyone know why? I couldn't find anything in the AWS documentation <a href=\"https://docs.aws.amazon.com/ses/latest/APIReference/API_SendRawEmail.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/ses/latest/APIReference/API_SendRawEmail.html</a></p>\n<pre><code>  public void send(Payload request) throws MessagingException, IOException {\n      List&lt;String&gt; recipients = new LinkedList&lt;&gt;();\n\n      String from = request.getFrom();\n      String targetEmail = request.getRecipient();\n      String ccEmail = request.getCc();\n      String bccEmail = request.getBcc();\n\n      Session session = Session.getDefaultInstance(new Properties());\n      MimeMessage message = new MimeMessage(session);\n\n      message.setSubject(request.getSubject());\n      message.setFrom(new InternetAddress(from));\n      if (targetEmail != null) {\n          message.setRecipients(RecipientType.TO, InternetAddress.parse(targetEmail));\n          recipients.add(targetEmail);\n      }\n      if (ccEmail != null) {\n          message.setRecipients(RecipientType.CC, InternetAddress.parse(ccEmail));\n          recipients.add(ccEmail);\n      }\n      if (bccEmail != null) {\n          message.setRecipients(RecipientType.BCC, InternetAddress.parse(bccEmail));\n          recipients.add(bccEmail);\n      }\n      MimeBodyPart htmlPart = new MimeBodyPart();\n      htmlPart.setContent(request.getBody(), &quot;text/html; charset=UTF-8;&quot;);\n\n      MimeMultipart bodyContainer = new MimeMultipart(&quot;alternative&quot;);\n      bodyContainer.addBodyPart(htmlPart);\n\n      MimeBodyPart htmlWrapper = new MimeBodyPart();\n      htmlWrapper.setContent(bodyContainer);\n\n      MimeMultipart messageContainer = new MimeMultipart(&quot;mixed&quot;);\n      messageContainer.addBodyPart(htmlWrapper);\n\n      Attachment attachment = request.getAttachment();\n      if (Objects.nonNull(attachment)) {\n          MimeBodyPart attachmentBodyPart = new MimeBodyPart();\n          DataHandler dataHandler = new DataHandler(attachment.getByteArrayDataSource());\n\n          attachmentBodyPart.setDataHandler(dataHandler);\n          attachmentBodyPart.setFileName(attachment.getFileName());\n\n          messageContainer.addBodyPart(attachmentBodyPart);\n      }\n\n      message.setContent(messageContainer);\n\n      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n      message.writeTo(outputStream);\n\n      RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\n\n      SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\n      rawEmailRequest.withSource(from);\n      rawEmailRequest.withDestinations(recipients);\n\n      SendRawEmailResult sendRawEmailResult = amazonSimpleEmailService.sendRawEmail(rawEmailRequest);\n      log.info(&quot;Email sent. MessageId: {}&quot;, targetEmail, ccEmail, bccEmail, sendRawEmailResult.getMessageId());\n  }\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":27166642,"reputation":34,"user_id":20704061,"display_name":"Mavlyan Sadirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670507227,"creation_date":1670507227,"answer_id":74731238,"question_id":74731168,"body_markdown":"You can add multiple body parameters to your path operation function, even though a request can only have a single body.\r\n","title":"Multiple objects in @RequestBody possible?","body":"<p>You can add multiple body parameters to your path operation function, even though a request can only have a single body.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670508020,"creation_date":1670507709,"answer_id":74731357,"question_id":74731168,"body_markdown":"`@RequestBody` will be used to read the body of the http request which is just 1.\r\n\r\nThen inside the body of the http request there can be several objects contained, but all should belong to the same body of http request.\r\n\r\nIf we talk about `json` then the http body request would be in the form\r\n\r\n    {\r\n       object1: { },\r\n       object2: { },\r\n       ...\r\n    }\r\n\r\nSo you can have only 1 `@RequestBody` which could then contain several nested objects like `object1`, `object2`, ...etc\r\n\r\nIn your case it would be\r\n\r\n    @Getter\r\n    @Setter\r\n    public class WrapperRequestExample {  \r\n         private KeyStoreRequest keyStoreRequest;\r\n         private SecretKeyDTO secretKeyDTO;\r\n    }\r\n\r\nand your controller will then be\r\n\r\n  \r\n\r\n     public void storeSecretKey(@RequestBody WrapperRequestExample wrapperRequestExample) {\r\n            wrapperRequestExample.getKeyStoreRequest(); //access keyStoreRequest\r\n            wrapperRequestExample.getSecretKeyDTO(); //access secretKeyDTO\r\n        }","title":"Multiple objects in @RequestBody possible?","body":"<p><code>@RequestBody</code> will be used to read the body of the http request which is just 1.</p>\n<p>Then inside the body of the http request there can be several objects contained, but all should belong to the same body of http request.</p>\n<p>If we talk about <code>json</code> then the http body request would be in the form</p>\n<pre><code>{\n   object1: { },\n   object2: { },\n   ...\n}\n</code></pre>\n<p>So you can have only 1 <code>@RequestBody</code> which could then contain several nested objects like <code>object1</code>, <code>object2</code>, ...etc</p>\n<p>In your case it would be</p>\n<pre><code>@Getter\n@Setter\npublic class WrapperRequestExample {  \n     private KeyStoreRequest keyStoreRequest;\n     private SecretKeyDTO secretKeyDTO;\n}\n</code></pre>\n<p>and your controller will then be</p>\n<pre><code> public void storeSecretKey(@RequestBody WrapperRequestExample wrapperRequestExample) {\n        wrapperRequestExample.getKeyStoreRequest(); //access keyStoreRequest\n        wrapperRequestExample.getSecretKeyDTO(); //access secretKeyDTO\n    }\n</code></pre>\n"}],"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74731357,"answer_count":2,"score":1,"last_activity_date":1670508020,"creation_date":1670506889,"question_id":74731168,"body_markdown":"Is it possible to pass multiple objects to the @RequestBody from Spring Boot like this?\r\n\r\n    public void storeSecretKey(@RequestBody final KeyStoreRequest keyStoreRequest, @RequestBody final SecretKeyDTO secretKeyDTO) throws CertificateException, IOException, NoSuchAlgorithmException, KeyStoreException, NoSuchProviderException { \r\n\r\nor do i have to write like a wrapper class that combines both of the objects that i need data from?","title":"Multiple objects in @RequestBody possible?","body":"<p>Is it possible to pass multiple objects to the @RequestBody from Spring Boot like this?</p>\n<pre><code>public void storeSecretKey(@RequestBody final KeyStoreRequest keyStoreRequest, @RequestBody final SecretKeyDTO secretKeyDTO) throws CertificateException, IOException, NoSuchAlgorithmException, KeyStoreException, NoSuchProviderException { \n</code></pre>\n<p>or do i have to write like a wrapper class that combines both of the objects that i need data from?</p>\n"},{"tags":["java","dependency-injection","eclipse-rcp","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1669822861,"post_id":74629670,"comment_id":131731575,"body_markdown":"Only things that are created using `org.eclipse.e4.core.contexts.ContextInjectionFactory` are injected. That includes objects in the Application.e4xmi and some extension points with an `inject` argument.","body":"Only things that are created using <code>org.eclipse.e4.core.contexts.ContextInjectionFactory</code> are injected. That includes objects in the Application.e4xmi and some extension points with an <code>inject</code> argument."},{"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"score":0,"creation_date":1669823269,"post_id":74629670,"comment_id":131731726,"body_markdown":"Thanks for your answer. Maybe I should be more precise. I have my own class, annotated with @Creatable. It is injected in another plugin, call it plugin B. In Plugin C I want to do exactly the same, but the field annotated with ```@Inject``` is always null. Then I tried to get some known eclipse model classes to be injected in PLugin C (e.g. ```@Inject ESelectionService```) but this is also always null. So I think I am doeing something wrong. Any suggestions? I tried to compare Manifest.MFs but they look rather equal ...","body":"Thanks for your answer. Maybe I should be more precise. I have my own class, annotated with @Creatable. It is injected in another plugin, call it plugin B. In Plugin C I want to do exactly the same, but the field annotated with <code>@Inject</code> is always null. Then I tried to get some known eclipse model classes to be injected in PLugin C (e.g. <code>@Inject ESelectionService</code>) but this is also always null. So I think I am doeing something wrong. Any suggestions? I tried to compare Manifest.MFs but they look rather equal ..."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1669823411,"post_id":74629670,"comment_id":131731783,"body_markdown":"As I said the injection will only work if the plug-in B class was created using ContextInjectionFactory - so if the was a e4 MPart it would work, if it is just a plain Java class created with `new` it will not be injected.","body":"As I said the injection will only work if the plug-in B class was created using ContextInjectionFactory - so if the was a e4 MPart it would work, if it is just a plain Java class created with <code>new</code> it will not be injected."},{"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"score":0,"creation_date":1669824270,"post_id":74629670,"comment_id":131732119,"body_markdown":"Hi greg. Understood now! I tried with ```ContextInjectionFactory.make(MyObject.class, context);``` and it is working now. So to be precise: The new operator is replaced with a call to a static method.. In any way: Tnanks a lot!","body":"Hi greg. Understood now! I tried with <code>ContextInjectionFactory.make(MyObject.class, context);</code> and it is working now. So to be precise: The new operator is replaced with a call to a static method.. In any way: Tnanks a lot!"},{"owner":{"account_id":6767185,"reputation":17842,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1670507928,"post_id":74629670,"comment_id":131894611,"body_markdown":"Please don&#39;t add &quot;solved&quot; to your question title or body. See [what should I do when someone answers](https://stackoverflow.com/help/someone-answers) on how to show you&#39;ve solved your problem. If you found the answer yourself, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Please don&#39;t add &quot;solved&quot; to your question title or body. See <a href=\"https://stackoverflow.com/help/someone-answers\">what should I do when someone answers</a> on how to show you&#39;ve solved your problem. If you found the answer yourself, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."}],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670507889,"creation_date":1669819601,"question_id":74629670,"body_markdown":"Im working at an Eclipse 4 RCP application and I implemented an Plugin for Console output. Its designed for injection inside other Plugins so that i have only one console (The Injection was an wished feature). Its still working for already existing plugins so at all it should work everywhere. But before this plugin I implemented another Plugin and also wanted to use the new console there. Now, with same Syntax and Imports i get nothing.\r\n\r\nNote: also tried to inject the ESelectionService as test if it depends on my own plugin but its also null\r\n\r\nThe class for the Console:\r\n\r\n```\r\n@Creatable //With org.eclipse.e4.core.di.annotations.Creatable\r\n@Singleton //With javax.inject.Singleton\r\npublic class TextConsoleLogger implements ITextConsoleLogger{\r\n...\r\n}\r\n```\r\n\r\n\r\nand for injection I use the normal \r\n```\r\n@Inject \r\n```\r\nfrom javax.inject.Inject\r\n\r\nIs there any setting inside an Pluggin which i have to set to inject Objects?\r\n\r\nThanks for help :D\r\n\r\nAs it still works in old Plugins (&quot;old&quot; = already written/created by other Developer) i already tried with comparison and takking different settings so i got no more ideas :/\r\n\r\n ","title":"Is there any special setting in Plugins for Injections","body":"<p>Im working at an Eclipse 4 RCP application and I implemented an Plugin for Console output. Its designed for injection inside other Plugins so that i have only one console (The Injection was an wished feature). Its still working for already existing plugins so at all it should work everywhere. But before this plugin I implemented another Plugin and also wanted to use the new console there. Now, with same Syntax and Imports i get nothing.</p>\n<p>Note: also tried to inject the ESelectionService as test if it depends on my own plugin but its also null</p>\n<p>The class for the Console:</p>\n<pre><code>@Creatable //With org.eclipse.e4.core.di.annotations.Creatable\n@Singleton //With javax.inject.Singleton\npublic class TextConsoleLogger implements ITextConsoleLogger{\n...\n}\n</code></pre>\n<p>and for injection I use the normal</p>\n<pre><code>@Inject \n</code></pre>\n<p>from javax.inject.Inject</p>\n<p>Is there any setting inside an Pluggin which i have to set to inject Objects?</p>\n<p>Thanks for help :D</p>\n<p>As it still works in old Plugins (&quot;old&quot; = already written/created by other Developer) i already tried with comparison and takking different settings so i got no more ideas :/</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670507645,"creation_date":1670502021,"answer_id":74730204,"question_id":74730126,"body_markdown":"The repository is not discoverable as you are specifying another root classpath.\r\nIn your @EnableJpaRepositories configuration change the base package from :\r\n\r\n    basePackages = &quot;com.pzh.code.chion.model.db1&quot;\r\n\r\nto\r\n\r\n    basePackages = &quot;com.pzh.code.chion.repository.db1&quot;\r\n\r\nsame for the second datasource, in which you are again specifying the entity/models directory instead of the actual Repositories.","title":"Parameter 0 of constructor in com.pzh.code.archyonix.service.impl.db1.UserServiceImpl required a bean of type","body":"<p>The repository is not discoverable as you are specifying another root classpath.\nIn your @EnableJpaRepositories configuration change the base package from :</p>\n<pre><code>basePackages = &quot;com.pzh.code.chion.model.db1&quot;\n</code></pre>\n<p>to</p>\n<pre><code>basePackages = &quot;com.pzh.code.chion.repository.db1&quot;\n</code></pre>\n<p>same for the second datasource, in which you are again specifying the entity/models directory instead of the actual Repositories.</p>\n"}],"owner":{"account_id":27189171,"reputation":13,"user_id":20723232,"display_name":"cmkN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74730204,"answer_count":1,"score":1,"last_activity_date":1670507645,"creation_date":1670501657,"question_id":74730126,"body_markdown":"Description:\r\n\r\nParameter 0 of constructor in com.pzh.code.chion.service.impl.db1.UserServiceImpl required a bean of type &#39;com.pzh.code.chion.repository.db1.UserRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.pzh.code.chion.repository.db1.UserRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n\r\nUser.java\r\n```\r\npackage com.pzh.code.chion.model.db1;\r\n\r\nimport lombok.Data;\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(schema = &quot;cb41477_chion&quot;, name = &quot;users&quot;)\r\n@Data\r\npublic class User extends BaseEntity {\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;rub&quot;)\r\n    private Integer rub = 0;\r\n\r\n    @Column(name = &quot;onix&quot;)\r\n    private Integer onix = 0;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n\r\n    @JoinTable(name = &quot;user_roles&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    private List&lt;Role&gt; roles;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n\r\n    @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n    private Vote votes;\r\n\r\n\r\n}\r\n\r\n```\r\nUserRepository.java\r\n```\r\npackage com.pzh.code.chion.repository.db1;\r\n\r\nimport com.pzh.code.chion.model.db1.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    User findByUsername(String name);\r\n    User findByEmail(String email);\r\n    Boolean existsByUsername(String name);\r\n    //Boolean existsByEmail(String email);\r\n}\r\n\r\n```\r\nUserServiceImpl.java\r\n```\r\npackage com.pzh.code.chion.service.impl.db1;\r\n\r\nimport com.pzh.code.chion.repository.db1.UserRepository;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport com.pzh.code.chion.model.db1.Role;\r\nimport com.pzh.code.chion.model.db1.Status;\r\nimport com.pzh.code.chion.model.db1.User;\r\nimport com.pzh.code.chion.repository.db1.RoleRepository;\r\nimport com.pzh.code.chion.service.db1.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Transactional\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final RoleRepository roleRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public UserServiceImpl(UserRepository userRepository, RoleRepository roleRepository) {\r\n        this.userRepository = userRepository;\r\n        this.roleRepository = roleRepository;\r\n        this.passwordEncoder = new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public User register(User user) {\r\n        Role roleUser = roleRepository.findByName(&quot;ROLE_USER&quot;);\r\n        List&lt;Role&gt; userRoles = new ArrayList&lt;&gt;();\r\n        userRoles.add(roleUser);\r\n\r\n        user.setPassword(&quot;{bcrypt}&quot;+passwordEncoder.encode(user.getPassword()));\r\n        user.setRoles(userRoles);\r\n        user.setStatus(Status.ACTIVE);\r\n\r\n        User registeredUser = userRepository.save(user);\r\n\r\n        log.info(&quot;IN register - user: {} successfully registered&quot;, registeredUser);\r\n\r\n        return registeredUser;\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public User save(User user) {\r\n        User savedUser = userRepository.save(user);\r\n\r\n        log.info(&quot;IN save - user: {} successfully saved&quot;, savedUser);\r\n\r\n        return savedUser;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;User&gt; getAll() {\r\n        List&lt;User&gt; result = userRepository.findAll();\r\n        log.info(&quot;IN getAll - {} users found&quot;, result.size());\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public User findByUsername(String username) {\r\n        User result = userRepository.findByUsername(username);\r\n        log.info(&quot;IN findByUsername - user: {} found by username: {}&quot;, result, username);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public User findByEmail(String email) {\r\n        User result = userRepository.findByEmail(email);\r\n        log.info(&quot;IN findByEmail - user: {} found by email: {}&quot;, result, email);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public User findById(Long id) {\r\n        User result = userRepository.findById(id).orElse(null);\r\n\r\n        if (result == null) {\r\n            log.warn(&quot;IN findById - no user found by id: {}&quot;, id);\r\n            return null;\r\n        }\r\n\r\n        log.info(&quot;IN findById - user: {} found by id: {}&quot;, result);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public void delete(Long id) {\r\n        userRepository.deleteById(id);\r\n        log.info(&quot;IN delete - user with id: {} successfully deleted&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nUserService.java\r\n```\r\npackage com.pzh.code.chion.service.db1;\r\n\r\nimport com.pzh.code.chion.model.db1.User;\r\n\r\nimport java.util.List;\r\npublic interface UserService {\r\n\r\n    User register(User user);\r\n\r\n    User save(User user);\r\n\r\n    List&lt;User&gt; getAll();\r\n\r\n    User findByUsername(String username);\r\n    User findByEmail(String email);\r\n\r\n    User findById(Long id);\r\n\r\n    void delete(Long id);\r\n}\r\n\r\n```\r\nSpringDataBaseConfig.java\r\n```\r\npackage com.pzh.code.chion.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\n@PropertySource({ &quot;classpath:application.properties&quot; })\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.pzh.code.chion.model.db1&quot;,\r\n        entityManagerFactoryRef = &quot;primaryEntityManager&quot;,\r\n        transactionManagerRef = &quot;primaryTransactionManager&quot;\r\n)\r\npublic class SpringDataBaseConfig {\r\n        @Autowired\r\n        private Environment env;\r\n\r\n        @Bean\r\n        @Primary\r\n        public LocalContainerEntityManagerFactoryBean primaryEntityManager() {\r\n                LocalContainerEntityManagerFactoryBean em\r\n                        = new LocalContainerEntityManagerFactoryBean();\r\n                em.setDataSource(primaryDataSource());\r\n                em.setPackagesToScan(\r\n                        new String[] { &quot;com.pzh.code.chion.model.db1&quot; });\r\n\r\n                HibernateJpaVendorAdapter vendorAdapter\r\n                        = new HibernateJpaVendorAdapter();\r\n                em.setJpaVendorAdapter(vendorAdapter);\r\n                HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n                properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n                        env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n                properties.put(&quot;hibernate.dialect&quot;,\r\n                        env.getProperty(&quot;hibernate.dialect&quot;));\r\n                em.setJpaPropertyMap(properties);\r\n\r\n                return em;\r\n        }\r\n\r\n        @Primary\r\n        @Bean\r\n        public DataSource primaryDataSource() {\r\n\r\n                DriverManagerDataSource dataSource\r\n                        = new DriverManagerDataSource();\r\n                dataSource.setDriverClassName(\r\n                        env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\r\n                dataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\r\n                dataSource.setUsername(env.getProperty(&quot;spring.datasource.username&quot;));\r\n                dataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\r\n\r\n                return dataSource;\r\n        }\r\n\r\n        @Primary\r\n        @Bean\r\n        public PlatformTransactionManager primaryTransactionManager() {\r\n\r\n                JpaTransactionManager transactionManager\r\n                        = new JpaTransactionManager();\r\n                transactionManager.setEntityManagerFactory(\r\n                        primaryEntityManager().getObject());\r\n                return transactionManager;\r\n        }\r\n\r\n}\r\n\r\n```\r\nSpringMGDataBaseConfig.java\r\n```\r\npackage com.pzh.code.chion.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\n@PropertySource({ &quot;classpath:application.properties&quot; })\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.pzh.code.chion.model.db2&quot;,\r\n        entityManagerFactoryRef = &quot;mgEntityManager&quot;,\r\n        transactionManagerRef = &quot;mgTransactionManager&quot;\r\n)\r\npublic class SpringMGDataBaseConfig {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean mgEntityManager() {\r\n        LocalContainerEntityManagerFactoryBean em\r\n                = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(mgDataSource());\r\n        em.setPackagesToScan(\r\n                new String[] { &quot;com.pzh.code.chion.model.db2&quot; });\r\n\r\n        HibernateJpaVendorAdapter vendorAdapter\r\n                = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n                env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                env.getProperty(&quot;hibernate.dialect&quot;));\r\n        em.setJpaPropertyMap(properties);\r\n\r\n        return em;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DataSource mgDataSource() {\r\n\r\n        DriverManagerDataSource dataSource\r\n                = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(\r\n                env.getProperty(&quot;spring.mg-datasource.driver-class-name&quot;));\r\n        dataSource.setUrl(env.getProperty(&quot;spring.mg-datasource.url&quot;));\r\n        dataSource.setUsername(env.getProperty(&quot;spring.mg-datasource.username&quot;));\r\n        dataSource.setPassword(env.getProperty(&quot;spring.mg-datasource.password&quot;));\r\n\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager mgTransactionManager() {\r\n\r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(\r\n                mgEntityManager().getObject());\r\n        return transactionManager;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni tried to:\r\n\r\n@Component\r\n\r\n@Service\r\n\r\n@Repository \r\n\r\netc... More than 10 posts fixing a problem like my problem\r\n\r\nThe problem appeared after I connected the second database using this link https://www.baeldung.com/spring-data-jpa-multiple-databases","title":"Parameter 0 of constructor in com.pzh.code.archyonix.service.impl.db1.UserServiceImpl required a bean of type","body":"<p>Description:</p>\n<p>Parameter 0 of constructor in com.pzh.code.chion.service.impl.db1.UserServiceImpl required a bean of type 'com.pzh.code.chion.repository.db1.UserRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.pzh.code.chion.repository.db1.UserRepository' in your configuration.</p>\n<p>Process finished with exit code 1</p>\n<p>User.java</p>\n<pre><code>package com.pzh.code.chion.model.db1;\n\nimport lombok.Data;\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(schema = &quot;cb41477_chion&quot;, name = &quot;users&quot;)\n@Data\npublic class User extends BaseEntity {\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;rub&quot;)\n    private Integer rub = 0;\n\n    @Column(name = &quot;onix&quot;)\n    private Integer onix = 0;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n\n    @JoinTable(name = &quot;user_roles&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)})\n    private List&lt;Role&gt; roles;\n\n    @OneToOne(fetch = FetchType.EAGER)\n\n    @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;user_id&quot;)\n    private Vote votes;\n\n\n}\n\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>package com.pzh.code.chion.repository.db1;\n\nimport com.pzh.code.chion.model.db1.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByUsername(String name);\n    User findByEmail(String email);\n    Boolean existsByUsername(String name);\n    //Boolean existsByEmail(String email);\n}\n\n</code></pre>\n<p>UserServiceImpl.java</p>\n<pre><code>package com.pzh.code.chion.service.impl.db1;\n\nimport com.pzh.code.chion.repository.db1.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport com.pzh.code.chion.model.db1.Role;\nimport com.pzh.code.chion.model.db1.Status;\nimport com.pzh.code.chion.model.db1.User;\nimport com.pzh.code.chion.repository.db1.RoleRepository;\nimport com.pzh.code.chion.service.db1.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\n@Slf4j\n@RequiredArgsConstructor\n@Transactional\npublic class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n    private final RoleRepository roleRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public UserServiceImpl(UserRepository userRepository, RoleRepository roleRepository) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n        this.passwordEncoder = new BCryptPasswordEncoder();\n    }\n\n    @Override\n    @Bean\n    public User register(User user) {\n        Role roleUser = roleRepository.findByName(&quot;ROLE_USER&quot;);\n        List&lt;Role&gt; userRoles = new ArrayList&lt;&gt;();\n        userRoles.add(roleUser);\n\n        user.setPassword(&quot;{bcrypt}&quot;+passwordEncoder.encode(user.getPassword()));\n        user.setRoles(userRoles);\n        user.setStatus(Status.ACTIVE);\n\n        User registeredUser = userRepository.save(user);\n\n        log.info(&quot;IN register - user: {} successfully registered&quot;, registeredUser);\n\n        return registeredUser;\n    }\n\n    @Override\n    @Bean\n    public User save(User user) {\n        User savedUser = userRepository.save(user);\n\n        log.info(&quot;IN save - user: {} successfully saved&quot;, savedUser);\n\n        return savedUser;\n    }\n\n    @Override\n    public List&lt;User&gt; getAll() {\n        List&lt;User&gt; result = userRepository.findAll();\n        log.info(&quot;IN getAll - {} users found&quot;, result.size());\n        return result;\n    }\n\n    @Override\n    public User findByUsername(String username) {\n        User result = userRepository.findByUsername(username);\n        log.info(&quot;IN findByUsername - user: {} found by username: {}&quot;, result, username);\n        return result;\n    }\n\n    @Override\n    public User findByEmail(String email) {\n        User result = userRepository.findByEmail(email);\n        log.info(&quot;IN findByEmail - user: {} found by email: {}&quot;, result, email);\n        return result;\n    }\n\n    @Override\n    public User findById(Long id) {\n        User result = userRepository.findById(id).orElse(null);\n\n        if (result == null) {\n            log.warn(&quot;IN findById - no user found by id: {}&quot;, id);\n            return null;\n        }\n\n        log.info(&quot;IN findById - user: {} found by id: {}&quot;, result);\n        return result;\n    }\n\n    @Override\n    public void delete(Long id) {\n        userRepository.deleteById(id);\n        log.info(&quot;IN delete - user with id: {} successfully deleted&quot;);\n    }\n}\n\n</code></pre>\n<p>UserService.java</p>\n<pre><code>package com.pzh.code.chion.service.db1;\n\nimport com.pzh.code.chion.model.db1.User;\n\nimport java.util.List;\npublic interface UserService {\n\n    User register(User user);\n\n    User save(User user);\n\n    List&lt;User&gt; getAll();\n\n    User findByUsername(String username);\n    User findByEmail(String email);\n\n    User findById(Long id);\n\n    void delete(Long id);\n}\n\n</code></pre>\n<p>SpringDataBaseConfig.java</p>\n<pre><code>package com.pzh.code.chion.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n@Configuration\n@PropertySource({ &quot;classpath:application.properties&quot; })\n@EnableJpaRepositories(\n        basePackages = &quot;com.pzh.code.chion.model.db1&quot;,\n        entityManagerFactoryRef = &quot;primaryEntityManager&quot;,\n        transactionManagerRef = &quot;primaryTransactionManager&quot;\n)\npublic class SpringDataBaseConfig {\n        @Autowired\n        private Environment env;\n\n        @Bean\n        @Primary\n        public LocalContainerEntityManagerFactoryBean primaryEntityManager() {\n                LocalContainerEntityManagerFactoryBean em\n                        = new LocalContainerEntityManagerFactoryBean();\n                em.setDataSource(primaryDataSource());\n                em.setPackagesToScan(\n                        new String[] { &quot;com.pzh.code.chion.model.db1&quot; });\n\n                HibernateJpaVendorAdapter vendorAdapter\n                        = new HibernateJpaVendorAdapter();\n                em.setJpaVendorAdapter(vendorAdapter);\n                HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n                properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\n                        env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n                properties.put(&quot;hibernate.dialect&quot;,\n                        env.getProperty(&quot;hibernate.dialect&quot;));\n                em.setJpaPropertyMap(properties);\n\n                return em;\n        }\n\n        @Primary\n        @Bean\n        public DataSource primaryDataSource() {\n\n                DriverManagerDataSource dataSource\n                        = new DriverManagerDataSource();\n                dataSource.setDriverClassName(\n                        env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\n                dataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\n                dataSource.setUsername(env.getProperty(&quot;spring.datasource.username&quot;));\n                dataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\n\n                return dataSource;\n        }\n\n        @Primary\n        @Bean\n        public PlatformTransactionManager primaryTransactionManager() {\n\n                JpaTransactionManager transactionManager\n                        = new JpaTransactionManager();\n                transactionManager.setEntityManagerFactory(\n                        primaryEntityManager().getObject());\n                return transactionManager;\n        }\n\n}\n\n</code></pre>\n<p>SpringMGDataBaseConfig.java</p>\n<pre><code>package com.pzh.code.chion.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n@Configuration\n@PropertySource({ &quot;classpath:application.properties&quot; })\n@EnableJpaRepositories(\n        basePackages = &quot;com.pzh.code.chion.model.db2&quot;,\n        entityManagerFactoryRef = &quot;mgEntityManager&quot;,\n        transactionManagerRef = &quot;mgTransactionManager&quot;\n)\npublic class SpringMGDataBaseConfig {\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean mgEntityManager() {\n        LocalContainerEntityManagerFactoryBean em\n                = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(mgDataSource());\n        em.setPackagesToScan(\n                new String[] { &quot;com.pzh.code.chion.model.db2&quot; });\n\n        HibernateJpaVendorAdapter vendorAdapter\n                = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\n                env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.put(&quot;hibernate.dialect&quot;,\n                env.getProperty(&quot;hibernate.dialect&quot;));\n        em.setJpaPropertyMap(properties);\n\n        return em;\n    }\n\n\n    @Bean\n    public DataSource mgDataSource() {\n\n        DriverManagerDataSource dataSource\n                = new DriverManagerDataSource();\n        dataSource.setDriverClassName(\n                env.getProperty(&quot;spring.mg-datasource.driver-class-name&quot;));\n        dataSource.setUrl(env.getProperty(&quot;spring.mg-datasource.url&quot;));\n        dataSource.setUsername(env.getProperty(&quot;spring.mg-datasource.username&quot;));\n        dataSource.setPassword(env.getProperty(&quot;spring.mg-datasource.password&quot;));\n\n        return dataSource;\n    }\n\n    @Bean\n    public PlatformTransactionManager mgTransactionManager() {\n\n        JpaTransactionManager transactionManager\n                = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(\n                mgEntityManager().getObject());\n        return transactionManager;\n    }\n}\n\n</code></pre>\n<p>i tried to:</p>\n<p>@Component</p>\n<p>@Service</p>\n<p>@Repository</p>\n<p>etc... More than 10 posts fixing a problem like my problem</p>\n<p>The problem appeared after I connected the second database using this link <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-multiple-databases</a></p>\n"},{"tags":["java","spring-boot","model","freemarker"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669100952,"post_id":74528648,"comment_id":131560626,"body_markdown":"so far, there is no actual question in your question, nor is there actual (Java) code to look over.","body":"so far, there is no actual question in your question, nor is there actual (Java) code to look over."},{"owner":{"account_id":20011206,"reputation":35,"user_id":14668183,"display_name":"Guhan"},"score":0,"creation_date":1669108708,"post_id":74528648,"comment_id":131563008,"body_markdown":"@Stultuske I have added the controller code now .","body":"@Stultuske I have added the controller code now ."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1669125139,"post_id":74528648,"comment_id":131568942,"body_markdown":"Use method parameters annotated like `@RequestParam(&quot;fvalue&quot;)`.","body":"Use method parameters annotated like <code>@RequestParam(&quot;fvalue&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":20011206,"reputation":35,"user_id":14668183,"display_name":"Guhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670506799,"creation_date":1670299590,"answer_id":74697176,"question_id":74528648,"body_markdown":"By using `HttpServletRequest` request, `HttpServletResponse` response we can get the data from HTML form.\r\nUsing the below code.\r\n```\r\npublic void getDataFromForm(HttpServletRequest request, HttpServletResponse response) throws ServletException{\r\n                \r\n     // Get the values from the request using &#39;getParameter&#39;\r\n     String name = request.getParameter(&quot;name&quot;);\r\n                \r\n}\r\n```\r\nFor more info, you can see [this](https://www.geeksforgeeks.org/servlet-form-data/).","title":"Extract data from HTML to controller without using model in JAVA - freemarker","body":"<p>By using <code>HttpServletRequest</code> request, <code>HttpServletResponse</code> response we can get the data from HTML form.\nUsing the below code.</p>\n<pre><code>public void getDataFromForm(HttpServletRequest request, HttpServletResponse response) throws ServletException{\n                \n     // Get the values from the request using 'getParameter'\n     String name = request.getParameter(&quot;name&quot;);\n                \n}\n</code></pre>\n<p>For more info, you can see <a href=\"https://www.geeksforgeeks.org/servlet-form-data/\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":20011206,"reputation":35,"user_id":14668183,"display_name":"Guhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74697176,"answer_count":1,"score":0,"last_activity_date":1670506799,"creation_date":1669100896,"question_id":74528648,"body_markdown":"```\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Report Preview&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;h2&gt;Patient Data&lt;/h2&gt;\r\n            &lt;form action = &quot;reportUpdate&quot; method = &quot;post&quot; &gt;\r\n              &lt;input  type=&quot;text&quot; name=&quot;fvalue&quot; value=&quot;testingData1&quot;/&gt;\r\n              &lt;input  type=&quot;text&quot;  name=&quot;svalue&quot; value=&quot;testingData2&quot;/&gt;\r\n              &lt;input  type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n        &lt;script type = &quot;text/javascript&quot; src = &quot;main.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nI have a SpringBootProject and I&#39;m using the above Freemarker code template file(*.ftl). I tried to display some input field with the values(binded), after editing I want to extract the data from HTML input tags(fvalue,svalue) to controller without using any model. How to get the values?\r\n\r\nMy controller code:\r\n\r\n```\r\n@PostMapping({ &quot;/reportUpdate&quot;})\r\n    public String reportToUpdate( ) {\r\n        \r\n        String firstName = &quot;&quot;; // I should get fvalue here\r\n        String secondName = &quot;&quot;; // I should get svalue here\r\n        \r\n        //Some other logics which will use above value.\r\n        \r\n        return &quot;Data saved!&quot;;\r\n    }\r\n```","title":"Extract data from HTML to controller without using model in JAVA - freemarker","body":"<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Report Preview&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;h2&gt;Patient Data&lt;/h2&gt;\n            &lt;form action = &quot;reportUpdate&quot; method = &quot;post&quot; &gt;\n              &lt;input  type=&quot;text&quot; name=&quot;fvalue&quot; value=&quot;testingData1&quot;/&gt;\n              &lt;input  type=&quot;text&quot;  name=&quot;svalue&quot; value=&quot;testingData2&quot;/&gt;\n              &lt;input  type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;script type = &quot;text/javascript&quot; src = &quot;main.js&quot;&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have a SpringBootProject and I'm using the above Freemarker code template file(*.ftl). I tried to display some input field with the values(binded), after editing I want to extract the data from HTML input tags(fvalue,svalue) to controller without using any model. How to get the values?</p>\n<p>My controller code:</p>\n<pre><code>@PostMapping({ &quot;/reportUpdate&quot;})\n    public String reportToUpdate( ) {\n        \n        String firstName = &quot;&quot;; // I should get fvalue here\n        String secondName = &quot;&quot;; // I should get svalue here\n        \n        //Some other logics which will use above value.\n        \n        return &quot;Data saved!&quot;;\n    }\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1492911734,"post_id":43566530,"comment_id":74183488,"body_markdown":"Worked fine for me. Try adding `return null;` after the for.","body":"Worked fine for me. Try adding <code>return null;</code> after the for."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1492913838,"post_id":43566530,"comment_id":74183814,"body_markdown":"1) Clearly, this code doesn&#39;t compile.  2) If you fix the compilation / logic errors, A Java method with return type String can still only ever return one value per call.  So the behavior (generating multiple CAPTCHAs) is not caused by this code.  Please provide an MCVE.","body":"1) Clearly, this code doesn&#39;t compile.  2) If you fix the compilation / logic errors, A Java method with return type String can still only ever return one value per call.  So the behavior (generating multiple CAPTCHAs) is not caused by this code.  Please provide an MCVE."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1492913978,"post_id":43566530,"comment_id":74183841,"body_markdown":"Hint: the last 3 statements in the loop should be outside of the loop.","body":"Hint: the last 3 statements in the loop should be outside of the loop."}],"answers":[{"tags":[],"owner":{"account_id":5028986,"reputation":1194,"user_id":4039840,"display_name":"TuyenNTA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492912076,"creation_date":1492912076,"answer_id":43566570,"question_id":43566530,"body_markdown":"Your code is missing a return statement for method GenCaptcha, so that it can not be ran to return 2 captcha. Add a return statement, then your method will run well.","title":"Want to create captcha in java","body":"<p>Your code is missing a return statement for method GenCaptcha, so that it can not be ran to return 2 captcha. Add a return statement, then your method will run well.</p>\n"},{"tags":[],"owner":{"account_id":5005045,"reputation":460,"user_id":4022947,"display_name":"Aritra Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670506459,"creation_date":1492939188,"answer_id":43569358,"question_id":43566530,"body_markdown":"```java\r\nimport java.util.Random;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Test t = new Test();\r\n        System.out.println(t.getCaptcha());\r\n    }\r\n\r\n    public String getCaptcha() {\r\n        char data[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;,\r\n                &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;,\r\n                &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;,\r\n                &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;,\r\n                &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;,\r\n                &#39;7&#39;, &#39;8&#39;, &#39;9&#39;};\r\n        char index[] = new char[7];\r\n\r\n        Random r = new Random();\r\n        int i = 0;\r\n        for (i = 0; i &lt; (index.length); i++) {\r\n            int ran = r.nextInt(data.length);\r\n            index[i] = data[ran];\r\n        }\r\n        return new String(index);\r\n    }\r\n}\r\n```\r\n\r\nThis modifies your code a bit, but will get the job done. Hope you find this snippet useful.\r\n\r\nEDIT: This code logic can be rewritten to use ASCII value range also, but not posting the code for the same as this will suffice.\r\n\r\nThanks\r\n","title":"Want to create captcha in java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\npublic class Test {\n    public static void main(String[] args) {\n        Test t = new Test();\n        System.out.println(t.getCaptcha());\n    }\n\n    public String getCaptcha() {\n        char data[] = {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k',\n                'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w',\n                'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I',\n                'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U',\n                'V', 'W', 'X', 'Y', 'Z', '0', '1', '2', '3', '4', '5', '6',\n                '7', '8', '9'};\n        char index[] = new char[7];\n\n        Random r = new Random();\n        int i = 0;\n        for (i = 0; i &lt; (index.length); i++) {\n            int ran = r.nextInt(data.length);\n            index[i] = data[ran];\n        }\n        return new String(index);\n    }\n}\n</code></pre>\n<p>This modifies your code a bit, but will get the job done. Hope you find this snippet useful.</p>\n<p>EDIT: This code logic can be rewritten to use ASCII value range also, but not posting the code for the same as this will suffice.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":8680132,"reputation":39,"user_id":6496317,"accept_rate":0,"display_name":"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4062,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1670506459,"creation_date":1492911379,"question_id":43566530,"body_markdown":"    import java.util.Random;\r\n    public class MyCaptcha {\r\n        public String GenCaptcha()\r\n        {\r\n\t\t\r\n            char data[]={&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,&#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;};\r\n            char index[]=new char[7];\r\n        \r\n            Random r=new Random();\r\n            int i =0;\r\n        \r\n            for( i=0;i&lt;(index.length);i++)\r\n            {\r\n       \t        int ran=r.nextInt(data.length);\r\n                index[i]=data[ran];\r\n                String captcha=String.valueOf(index);\r\n                System.out.println(&quot;captcha is&quot;+captcha);\r\n\t            return captcha;\r\n\t        }\r\n        }\r\n\r\nThe problem with this code is that its generating two captcha at a time but i want to create single captcha on refresh help me out in editing this code","title":"Want to create captcha in java","body":"<pre><code>import java.util.Random;\npublic class MyCaptcha {\n    public String GenCaptcha()\n    {\n\n        char data[]={'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','0','1','2','3','4','5','6','7','8','9'};\n        char index[]=new char[7];\n\n        Random r=new Random();\n        int i =0;\n\n        for( i=0;i&lt;(index.length);i++)\n        {\n            int ran=r.nextInt(data.length);\n            index[i]=data[ran];\n            String captcha=String.valueOf(index);\n            System.out.println(\"captcha is\"+captcha);\n            return captcha;\n        }\n    }\n</code></pre>\n\n<p>The problem with this code is that its generating two captcha at a time but i want to create single captcha on refresh help me out in editing this code</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","recovery"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1670247802,"post_id":74688781,"comment_id":131825214,"body_markdown":"Try [describeContinuousBackups](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClient.html#describeContinuousBackups(software.amazon.awssdk.services.dynamodb.model.DescribeContinuousBackupsRequest)) whose response will give you continuousBackupsDescription, which represents the continuous backups and point in time recovery settings on the table.","body":"Try <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClient.html#describeContinuousBackups(software.amazon.awssdk.services.dynamodb.model.DescribeContinuousBackupsRequest)\" rel=\"nofollow noreferrer\">describeContinuousBackups</a> whose response will give you continuousBackupsDescription, which represents the continuous backups and point in time recovery settings on the table."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670248249,"creation_date":1670248249,"answer_id":74689277,"question_id":74688781,"body_markdown":"According to the documentation, you can use `DescribeContineousBackupsRequest`:\r\n\r\n&gt; Checks the status of continuous backups and point in time recovery on\r\n&gt; the specified table. Continuous backups are ENABLED on all tables at\r\n&gt; table creation. If point in time recovery is enabled,\r\n&gt; PointInTimeRecoveryStatus will be set to ENABLED.\r\n&gt; \r\n&gt; After continuous backups and point in time recovery are enabled, you\r\n&gt; can restore to any point in time within EarliestRestorableDateTime and\r\n&gt; LatestRestorableDateTime.\r\n&gt; \r\n&gt; LatestRestorableDateTime is typically 5 minutes before the current\r\n&gt; time. You can restore your table to any point in time during the last\r\n&gt; 35 days.\r\n&gt; \r\n&gt; You can call DescribeContinuousBackups at a maximum rate of 10 times\r\n&gt; per second.\r\n\r\n\r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_DescribeContinuousBackups.html\r\n\r\n\r\n\r\n    DescribeContinuousBackupsRequest backupsRequest =\r\n                    DescribeContinuousBackupsRequest\r\n                            .builder()\r\n                            .tableName(&quot;table&quot;)\r\n                            .build();\r\n    \r\n            DescribeContinuousBackupsResponse backupsResponse = dbClient.describeContinuousBackups(backupsRequest);\r\n    \r\n            if(backupsResponse.continuousBackupsDescription().pointInTimeRecoveryDescription().pointInTimeRecoveryStatus().equals(&quot;DISABLED&quot;)) {\r\n    \r\n                result = &quot;false&quot;;\r\n                failReason = &quot;Continuous Backup is not enabled for DynamoDB Tables.&quot;\r\n                        + &quot;DynamoDB table without backup can result in accidental data loss. Your AWS DynamoDB tables should make use of Point-in-time Recovery &quot;\r\n                        + &quot;(PITR) feature in order to automatically take continuous backups of your DynamoDB data.&quot;;\r\n                offenders.add(&quot;Table Name: &quot; + tablesResponse.tableNames());\r\n    \r\n            }\r\n\r\nReference:  https://github.com/harshangp20/dynamoDBAudit/blob/094041168f6d105675f376c31275074b2c1dea45/src/main/java/org/lambda/service/DynamoDBCheckList.java#L317\r\n\r\n","title":"AWS DynamoDB Java SDK how to see if Point-in-time recovery (PITR) is enabled on table?","body":"<p>According to the documentation, you can use <code>DescribeContineousBackupsRequest</code>:</p>\n<blockquote>\n<p>Checks the status of continuous backups and point in time recovery on\nthe specified table. Continuous backups are ENABLED on all tables at\ntable creation. If point in time recovery is enabled,\nPointInTimeRecoveryStatus will be set to ENABLED.</p>\n<p>After continuous backups and point in time recovery are enabled, you\ncan restore to any point in time within EarliestRestorableDateTime and\nLatestRestorableDateTime.</p>\n<p>LatestRestorableDateTime is typically 5 minutes before the current\ntime. You can restore your table to any point in time during the last\n35 days.</p>\n<p>You can call DescribeContinuousBackups at a maximum rate of 10 times\nper second.</p>\n</blockquote>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_DescribeContinuousBackups.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_DescribeContinuousBackups.html</a></p>\n<pre><code>DescribeContinuousBackupsRequest backupsRequest =\n                DescribeContinuousBackupsRequest\n                        .builder()\n                        .tableName(&quot;table&quot;)\n                        .build();\n\n        DescribeContinuousBackupsResponse backupsResponse = dbClient.describeContinuousBackups(backupsRequest);\n\n        if(backupsResponse.continuousBackupsDescription().pointInTimeRecoveryDescription().pointInTimeRecoveryStatus().equals(&quot;DISABLED&quot;)) {\n\n            result = &quot;false&quot;;\n            failReason = &quot;Continuous Backup is not enabled for DynamoDB Tables.&quot;\n                    + &quot;DynamoDB table without backup can result in accidental data loss. Your AWS DynamoDB tables should make use of Point-in-time Recovery &quot;\n                    + &quot;(PITR) feature in order to automatically take continuous backups of your DynamoDB data.&quot;;\n            offenders.add(&quot;Table Name: &quot; + tablesResponse.tableNames());\n\n        }\n</code></pre>\n<p>Reference:  <a href=\"https://github.com/harshangp20/dynamoDBAudit/blob/094041168f6d105675f376c31275074b2c1dea45/src/main/java/org/lambda/service/DynamoDBCheckList.java#L317\" rel=\"nofollow noreferrer\">https://github.com/harshangp20/dynamoDBAudit/blob/094041168f6d105675f376c31275074b2c1dea45/src/main/java/org/lambda/service/DynamoDBCheckList.java#L317</a></p>\n"},{"tags":[],"owner":{"account_id":27052370,"reputation":1,"user_id":20605545,"display_name":"Raunak Kumari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670506453,"creation_date":1670248568,"answer_id":74689331,"question_id":74688781,"body_markdown":"```\r\nDescribeContinuousBackupsRequest backupsRequest = DescribeContinuousBackupsRequest\r\n             .builder().tableName(&quot;table&quot;).build();\r\n\r\nDescribeContinuousBackupsResponse backupsResponse = dbClient.describeContinuousBackups(backupsRequest);\r\n\r\nif(backupsResponse.continuousBackupsDescription().pointInTimeRecoveryDescription().pointInTimeRecoveryStatus().equals(&quot;DISABLED&quot;)) {\r\n\r\n   result = &quot;false&quot;;\r\n   failReason = &quot;Continuous Backup is not enabled for DynamoDB Tables.&quot;\r\n         + &quot;DynamoDB table without backup can result in accidental data loss. Your AWS DynamoDB tables should make use of Point-in-time Recovery &quot;\r\n         + &quot;(PITR) feature in order to automatically take continuous backups of your DynamoDB data.&quot;;\r\n}\r\n```","title":"AWS DynamoDB Java SDK how to see if Point-in-time recovery (PITR) is enabled on table?","body":"<pre><code>DescribeContinuousBackupsRequest backupsRequest = DescribeContinuousBackupsRequest\n             .builder().tableName(&quot;table&quot;).build();\n\nDescribeContinuousBackupsResponse backupsResponse = dbClient.describeContinuousBackups(backupsRequest);\n\nif(backupsResponse.continuousBackupsDescription().pointInTimeRecoveryDescription().pointInTimeRecoveryStatus().equals(&quot;DISABLED&quot;)) {\n\n   result = &quot;false&quot;;\n   failReason = &quot;Continuous Backup is not enabled for DynamoDB Tables.&quot;\n         + &quot;DynamoDB table without backup can result in accidental data loss. Your AWS DynamoDB tables should make use of Point-in-time Recovery &quot;\n         + &quot;(PITR) feature in order to automatically take continuous backups of your DynamoDB data.&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":14656206,"reputation":3,"user_id":10584694,"display_name":"Jordy Rutjens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74689277,"answer_count":2,"score":0,"last_activity_date":1670506453,"creation_date":1670246002,"question_id":74688781,"body_markdown":"Would like to figure out how I can get to know if PITR is enabled. \r\n\r\nfor AWS Java.\r\n\r\n\r\n\r\nchecked for PointInTimeRecoverySpecification but no succes. Neither did using TableDescription.","title":"AWS DynamoDB Java SDK how to see if Point-in-time recovery (PITR) is enabled on table?","body":"<p>Would like to figure out how I can get to know if PITR is enabled.</p>\n<p>for AWS Java.</p>\n<p>checked for PointInTimeRecoverySpecification but no succes. Neither did using TableDescription.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1670505392,"post_id":74730833,"comment_id":131893652,"body_markdown":"`String words[]` is an array of multiple Strings. You are trying to call a method of String on that array: `words.charAt(i)` which can&#39;t work because words isn&#39;t a single String but multiple Strings.  You first need to get an element of that array and then you can call the charAt method on that single String. eG. `words[0].charAt(0)` will get the first character of your first String, `words[9].charAt(4)` would get the fifth character of the 10th String of your array.","body":"<code>String words[]</code> is an array of multiple Strings. You are trying to call a method of String on that array: <code>words.charAt(i)</code> which can&#39;t work because words isn&#39;t a single String but multiple Strings.  You first need to get an element of that array and then you can call the charAt method on that single String. eG. <code>words[0].charAt(0)</code> will get the first character of your first String, <code>words[9].charAt(4)</code> would get the fifth character of the 10th String of your array."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670505876,"post_id":74730833,"comment_id":131893814,"body_markdown":"I should probably also mention that your code to get input makes little sense. You tell the User `&quot;Input two words: &quot;` but then ask for input of a single number. You then use that single number to initialize your String array but never fill that array with anything. If you want your user to really be able to input 2 words you need to use another method like `nextLine()`.","body":"I should probably also mention that your code to get input makes little sense. You tell the User <code>&quot;Input two words: &quot;</code> but then ask for input of a single number. You then use that single number to initialize your String array but never fill that array with anything. If you want your user to really be able to input 2 words you need to use another method like <code>nextLine()</code>."}],"owner":{"account_id":27189939,"reputation":11,"user_id":20723880,"display_name":"gusion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670506372,"creation_date":1670505142,"question_id":74730833,"body_markdown":"I&#39;m trying to capitalize the common letters of two words. Does anyone know why my code doesn&#39;t work? \r\n\r\nIt says: \r\n\r\n```\r\nMain.java:22: error: cannot find symbol\r\n    \tchar character = words.charAt(i);\r\n    \t                      ^\r\n  symbol:   method charAt(int)\r\n  location: variable words of type String[]\r\n```\r\n\r\nThe code is:\r\n\r\n```java\t\r\n    int word2;\r\n    int space_count = 0;\r\n \r\n\r\n    //get input\r\n    System.out.println (&quot;Input two words: &quot;);\r\n    int word = sameletters.nextInt();\r\n    \r\n    String words[] = new String[word];\r\n\r\n    //find the begining of the second word\r\n    for(int i = 0, n = words.length; i&lt;n; i++)\r\n    {\r\n    \tchar character = words.charAt(i);\r\n        if(Character.isWhitespace(character))\r\n        {\r\n            word2 = i + 1;\r\n            space_count++;\r\n        }\r\n    }\r\n\r\n    //validate the input.\r\n    for(int i = 0, n = words.length; i&lt;n; i++)\r\n    {\r\n    if(space_count != 1)\r\n    {\r\n        System.out.println (&quot;MUST CONTAIN 2 WORDS\\n&quot;);\r\n        break;\r\n    }\r\n    }\r\n\r\n    //loop for the first word\r\n    for (int i = 0, n = word2 - 1; i &lt; n; i++)\r\n    {\r\n        //loop for the second word\r\n        for (int j = word2, x = words.length; j &lt; x; j++)\r\n        {\r\n            //compare the letters\r\n            if(words[i] == words[j])\r\n            {\r\n                words[i] = words[i].toUpperCase();\r\n                words[j] = words[j].toUpperCase();\r\n            }\r\n        }\r\n    }\r\n\r\n    //print output\r\n    System.out.println (&quot;\\n&quot; + words);\r\n    sameletters.close();\r\n}\r\n}\r\n```","title":"How to capitalize the common letters of two words?","body":"<p>I'm trying to capitalize the common letters of two words. Does anyone know why my code doesn't work?</p>\n<p>It says:</p>\n<pre><code>Main.java:22: error: cannot find symbol\n        char character = words.charAt(i);\n                              ^\n  symbol:   method charAt(int)\n  location: variable words of type String[]\n</code></pre>\n<p>The code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int word2;\n    int space_count = 0;\n \n\n    //get input\n    System.out.println (&quot;Input two words: &quot;);\n    int word = sameletters.nextInt();\n    \n    String words[] = new String[word];\n\n    //find the begining of the second word\n    for(int i = 0, n = words.length; i&lt;n; i++)\n    {\n        char character = words.charAt(i);\n        if(Character.isWhitespace(character))\n        {\n            word2 = i + 1;\n            space_count++;\n        }\n    }\n\n    //validate the input.\n    for(int i = 0, n = words.length; i&lt;n; i++)\n    {\n    if(space_count != 1)\n    {\n        System.out.println (&quot;MUST CONTAIN 2 WORDS\\n&quot;);\n        break;\n    }\n    }\n\n    //loop for the first word\n    for (int i = 0, n = word2 - 1; i &lt; n; i++)\n    {\n        //loop for the second word\n        for (int j = word2, x = words.length; j &lt; x; j++)\n        {\n            //compare the letters\n            if(words[i] == words[j])\n            {\n                words[i] = words[i].toUpperCase();\n                words[j] = words[j].toUpperCase();\n            }\n        }\n    }\n\n    //print output\n    System.out.println (&quot;\\n&quot; + words);\n    sameletters.close();\n}\n}\n</code></pre>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670431365,"post_id":74719772,"comment_id":131876425,"body_markdown":"How are you representing these as Java classes, not as Json?","body":"How are you representing these as Java classes, not as Json?"},{"owner":{"account_id":13522174,"reputation":151,"user_id":9755070,"display_name":"a1a1a1a1a1"},"score":0,"creation_date":1670433350,"post_id":74719772,"comment_id":131877127,"body_markdown":"MasterObject containing an arrayList of OutterObject which itself contain an arrayList of InnerObject.\n\nI edited the description and json example.","body":"MasterObject containing an arrayList of OutterObject which itself contain an arrayList of InnerObject.  I edited the description and json example."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670435276,"post_id":74719772,"comment_id":131877769,"body_markdown":"You should show those classes, then.  The JSON doesn&#39;t really help us answer your question at all.","body":"You should show those classes, then.  The JSON doesn&#39;t really help us answer your question at all."},{"owner":{"account_id":13522174,"reputation":151,"user_id":9755070,"display_name":"a1a1a1a1a1"},"score":0,"creation_date":1670499038,"post_id":74719772,"comment_id":131891628,"body_markdown":"The java class is the representation of this json as a java object using arrayList for arrays. It was shorter to just show the data structure as Json. Will update the question later with java representation.","body":"The java class is the representation of this json as a java object using arrayList for arrays. It was shorter to just show the data structure as Json. Will update the question later with java representation."},{"owner":{"account_id":13522174,"reputation":151,"user_id":9755070,"display_name":"a1a1a1a1a1"},"score":0,"creation_date":1670506980,"post_id":74719772,"comment_id":131894250,"body_markdown":"I found a solution. I&#39;m open to improvement if you see some.","body":"I found a solution. I&#39;m open to improvement if you see some."}],"answers":[{"tags":[],"owner":{"account_id":1951540,"reputation":1641,"user_id":1755511,"accept_rate":100,"display_name":"Ashbay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670443138,"creation_date":1670443138,"answer_id":74722284,"question_id":74719772,"body_markdown":" 1. Use flatMap to gather all objects in the same array : \r\n\r\n    `OutterObject.stream().flatMap(outer -&gt; outer.getInnerObject().stream());`\r\n\r\n 2. Use max() and Comparator to get the higher value \r\n 3. Combine both to get something like :\r\n\r\n    `Optional&lt;Date&gt; maxDate = OutterObject.stream().flatMap(outer -&gt; outer.getInnerObject().stream()).max(Comparator.comparing(InnerObject::getDate));`","title":"find the record of OutterObject where InnerObject id is x and date is most recent","body":"<ol>\n<li><p>Use flatMap to gather all objects in the same array :</p>\n<p><code>OutterObject.stream().flatMap(outer -&gt; outer.getInnerObject().stream());</code></p>\n</li>\n<li><p>Use max() and Comparator to get the higher value</p>\n</li>\n<li><p>Combine both to get something like :</p>\n<p><code>Optional&lt;Date&gt; maxDate = OutterObject.stream().flatMap(outer -&gt; outer.getInnerObject().stream()).max(Comparator.comparing(InnerObject::getDate));</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13522174,"reputation":151,"user_id":9755070,"display_name":"a1a1a1a1a1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670506362,"creation_date":1670506362,"answer_id":74731062,"question_id":74719772,"body_markdown":"This is solved with :\r\n\r\n\t\t\tOptional&lt;SimpleImmutableEntry&lt;String, InnerObject&gt;&gt; mostRecentOutterObjectId=  MasterObject.getOutter().stream()\r\n\t\t\t\t.flatMap(outter-&gt; outter.getInner().stream()\r\n\t\t\t\t\t\t.map(inner-&gt; new SimpleImmutableEntry&lt;String, InnerObject&gt;(outter.getId(), inner)))\r\n\t\t\t\t.filter(outterMap-&gt; StringUtils.equals(outterMap.getValue().getId(), &quot;ab&quot;)))\r\n\t\t\t\t.max((innerA,innerB) -&gt; innerA.getValue().getDate().compareTo(innerB.getValue().getDate()));\r\n\r\nI am open to improvement if you see some.","title":"find the record of OutterObject where InnerObject id is x and date is most recent","body":"<p>This is solved with :</p>\n<pre><code>        Optional&lt;SimpleImmutableEntry&lt;String, InnerObject&gt;&gt; mostRecentOutterObjectId=  MasterObject.getOutter().stream()\n            .flatMap(outter-&gt; outter.getInner().stream()\n                    .map(inner-&gt; new SimpleImmutableEntry&lt;String, InnerObject&gt;(outter.getId(), inner)))\n            .filter(outterMap-&gt; StringUtils.equals(outterMap.getValue().getId(), &quot;ab&quot;)))\n            .max((innerA,innerB) -&gt; innerA.getValue().getDate().compareTo(innerB.getValue().getDate()));\n</code></pre>\n<p>I am open to improvement if you see some.</p>\n"}],"owner":{"account_id":13522174,"reputation":151,"user_id":9755070,"display_name":"a1a1a1a1a1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670506362,"creation_date":1670429945,"question_id":74719772,"body_markdown":"I am trying to get the id of the OutterObject where the InnerObject id is a specific value and the date is the most recent of all InnerObject of all OutterObject.\r\n\r\nI&#39;m trying to achieve that with streams.\r\n\r\nSearching for id &quot;ab&quot;, it should return &quot;def&quot;\r\nhere is a json example of the structre.\r\n  \r\n\r\n     {\r\n    \t&quot;OutterObject&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: &quot;abc&quot;,\r\n    \t\t\t&quot;InnerObject&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: &quot;ab&quot;,\r\n    \t\t\t\t\t&quot;date&quot;: &quot;1&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: &quot;de&quot;,\r\n    \t\t\t\t\t&quot;date&quot;: &quot;2&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: &quot;ab&quot;,\r\n    \t\t\t\t\t&quot;date&quot;: &quot;3&quot;\r\n    \t\t\t\t}\r\n    \t\t\t]\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: &quot;def&quot;,\r\n    \t\t\t&quot;InnerObject&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: &quot;ab&quot;,\r\n    \t\t\t\t\t&quot;date&quot;: &quot;9&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: &quot;de&quot;,\r\n    \t\t\t\t\t&quot;date&quot;: &quot;3&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: &quot;ab&quot;,\r\n    \t\t\t\t\t&quot;date&quot;: &quot;1&quot;\r\n    \t\t\t\t}\r\n    \t\t\t]\r\n    \t\t}\r\n    \t]\r\n    }","title":"find the record of OutterObject where InnerObject id is x and date is most recent","body":"<p>I am trying to get the id of the OutterObject where the InnerObject id is a specific value and the date is the most recent of all InnerObject of all OutterObject.</p>\n<p>I'm trying to achieve that with streams.</p>\n<p>Searching for id &quot;ab&quot;, it should return &quot;def&quot;\nhere is a json example of the structre.</p>\n<pre><code> {\n    &quot;OutterObject&quot;: [\n        {\n            &quot;id&quot;: &quot;abc&quot;,\n            &quot;InnerObject&quot;: [\n                {\n                    &quot;id&quot;: &quot;ab&quot;,\n                    &quot;date&quot;: &quot;1&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;de&quot;,\n                    &quot;date&quot;: &quot;2&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;ab&quot;,\n                    &quot;date&quot;: &quot;3&quot;\n                }\n            ]\n        },\n        {\n            &quot;id&quot;: &quot;def&quot;,\n            &quot;InnerObject&quot;: [\n                {\n                    &quot;id&quot;: &quot;ab&quot;,\n                    &quot;date&quot;: &quot;9&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;de&quot;,\n                    &quot;date&quot;: &quot;3&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;ab&quot;,\n                    &quot;date&quot;: &quot;1&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1506538601,"creation_date":1506538601,"answer_id":46455315,"question_id":46454473,"body_markdown":"You can externalize the `@EnableSwagger2` to its own `@Configruation` and load it conditionally via a property or profile. e.g.\r\n\r\n    @Profile(&quot;!production&quot;)\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfiguration{\r\n        //Additional Swagger Beans\r\n    \r\n   }\r\n\r\nthis would activate swagger for any profile that isn&#39;t production. ","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>You can externalize the <code>@EnableSwagger2</code> to its own <code>@Configruation</code> and load it conditionally via a property or profile. e.g.</p>\n\n<pre><code>@Profile(\"!production\")\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfiguration{\n    //Additional Swagger Beans\n</code></pre>\n\n<p>}</p>\n\n<p>this would activate swagger for any profile that isn't production. </p>\n"},{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1506620029,"creation_date":1506551011,"answer_id":46458135,"question_id":46454473,"body_markdown":"My answer is similar to the answer provided earlier with a slight difference. I usually create a separate spring profile named `swagger`. When I want to enable Swagger, l pass the following VM flag while starting my application, ` -Dspring.profiles.active=swagger`. Here is an example of my Swagger configuration,\r\n\r\n    \r\n    @Profile(value = {&quot;swagger&quot;})\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfiguration {\r\n        ...\r\n    }\r\n\r\nNext time when you try to access `swagger-ui.html` without `swagger` profile, you will get an empty Swagger screen but not 404.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you don&#39;t want to load the static Swagger UI page at all, you can write a simple controller as shown below,\r\n\r\n    @Profile(&quot;!swagger&quot;)\r\n    @RestController\r\n    @Slf4j\r\n    public class DisableSwaggerUiController {\r\n    \r\n        @RequestMapping(value = &quot;swagger-ui.html&quot;, method = RequestMethod.GET)\r\n        public void getSwagger(HttpServletResponse httpResponse) throws IOException {\r\n            httpResponse.setStatus(HttpStatus.NOT_FOUND.value());\r\n        }\r\n    }\r\n\r\nNow if you try to access `swagger-ui.html` without `swagger` profile, you will get a 404.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fXDPA.png","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>My answer is similar to the answer provided earlier with a slight difference. I usually create a separate spring profile named <code>swagger</code>. When I want to enable Swagger, l pass the following VM flag while starting my application, <code>-Dspring.profiles.active=swagger</code>. Here is an example of my Swagger configuration,</p>\n\n<pre><code>@Profile(value = {\"swagger\"})\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfiguration {\n    ...\n}\n</code></pre>\n\n<p>Next time when you try to access <code>swagger-ui.html</code> without <code>swagger</code> profile, you will get an empty Swagger screen but not 404.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fXDPA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fXDPA.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you don't want to load the static Swagger UI page at all, you can write a simple controller as shown below,</p>\n\n<pre><code>@Profile(\"!swagger\")\n@RestController\n@Slf4j\npublic class DisableSwaggerUiController {\n\n    @RequestMapping(value = \"swagger-ui.html\", method = RequestMethod.GET)\n    public void getSwagger(HttpServletResponse httpResponse) throws IOException {\n        httpResponse.setStatus(HttpStatus.NOT_FOUND.value());\n    }\n}\n</code></pre>\n\n<p>Now if you try to access <code>swagger-ui.html</code> without <code>swagger</code> profile, you will get a 404.</p>\n"},{"tags":[],"owner":{"account_id":14788519,"reputation":41,"user_id":10680086,"display_name":"Ramon Franquesa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542717922,"creation_date":1542717922,"answer_id":53393289,"question_id":46454473,"body_markdown":"If you dont have Swagger annotations inside controllers... just exclude SwaggerConfig.class and swagger dependencies on build\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;com/company/app/SwaggerConfig.java&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>If you dont have Swagger annotations inside controllers... just exclude SwaggerConfig.class and swagger dependencies on build</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;com/company/app/SwaggerConfig.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4431896,"reputation":1819,"user_id":3608867,"display_name":"Jacques Koorts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597146758,"creation_date":1560519512,"answer_id":56599376,"question_id":46454473,"body_markdown":"For those that use the code gen:\r\n\r\n```java\r\n@Controller\r\n@Profile({&quot;dev&quot;, &quot;staging&quot;})\r\npublic class HomeController {\r\n    @RequestMapping(value = &quot;/&quot;)\r\n    public String index() {\r\n        System.out.println(&quot;swagger-ui.html&quot;);\r\n        return &quot;redirect:swagger-ui.html&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd add the file to you .swagger-codegen-ignore else your changes are overwritten on the next maven build","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>For those that use the code gen:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@Profile({&quot;dev&quot;, &quot;staging&quot;})\npublic class HomeController {\n    @RequestMapping(value = &quot;/&quot;)\n    public String index() {\n        System.out.println(&quot;swagger-ui.html&quot;);\n        return &quot;redirect:swagger-ui.html&quot;;\n    }\n}\n</code></pre>\n<p>And add the file to you .swagger-codegen-ignore else your changes are overwritten on the next maven build</p>\n"},{"tags":[],"owner":{"account_id":6287412,"reputation":655,"user_id":4886105,"accept_rate":60,"display_name":"Vamsi Krishna DS"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1614158846,"creation_date":1613670042,"answer_id":66265231,"question_id":46454473,"body_markdown":"with swagger 3.0.0 version you can add `springfox.documentation.enabled=false` in corresponding environment profile `application.properties` file.\r\nFor example, I have added this to `application-prod.properties` to disable in production (while running the app you must specify the profile using VM args like `-Dspring.profiles.active=prod`)","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>with swagger 3.0.0 version you can add <code>springfox.documentation.enabled=false</code> in corresponding environment profile <code>application.properties</code> file.\nFor example, I have added this to <code>application-prod.properties</code> to disable in production (while running the app you must specify the profile using VM args like <code>-Dspring.profiles.active=prod</code>)</p>\n"},{"tags":[],"owner":{"account_id":8557545,"reputation":1433,"user_id":6412684,"display_name":"Kymo Wang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619174838,"creation_date":1619174838,"answer_id":67228590,"question_id":46454473,"body_markdown":"Just remove dependency.\r\n```xml\r\n&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;--&gt;\r\n```\r\nIt does not affect compiling.","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>Just remove dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;--&gt;\n</code></pre>\n<p>It does not affect compiling.</p>\n"},{"tags":[],"owner":{"account_id":6300349,"reputation":71,"user_id":4895231,"display_name":"Hayden"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628129360,"creation_date":1628129360,"answer_id":68659802,"question_id":46454473,"body_markdown":"For SpringDoc users, add this to your `application.properties`\r\n\r\n    springdoc.api-docs.enabled=false\r\n\r\nTo disable Swagger only when the `prod` profile is active, add it to your `application-prod.properties` instead","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>For SpringDoc users, add this to your <code>application.properties</code></p>\n<pre><code>springdoc.api-docs.enabled=false\n</code></pre>\n<p>To disable Swagger only when the <code>prod</code> profile is active, add it to your <code>application-prod.properties</code> instead</p>\n"},{"tags":[],"owner":{"account_id":18128690,"reputation":101,"user_id":13184013,"display_name":"Henrik Solum"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1670506340,"creation_date":1631000130,"answer_id":69084106,"question_id":46454473,"body_markdown":"Adding onto @Hayden&#39;s answer (I don&#39;t have enough points to comment..)\r\n\r\nAccording to the springdoc documentation, you can disable both the springdoc api endpoints and swagger-ui using the following properties:\r\n\r\nhttps://springdoc.org/#disabling-the-springdoc-openapi-endpoints\r\n\r\n    # Disabling the /v3/api-docs endpoint\r\n    springdoc.api-docs.enabled=false\r\n\r\nhttps://springdoc.org/#disabling-the-swagger-ui\r\n\r\n    # Disabling the swagger-ui\r\n    springdoc.swagger-ui.enabled=false\r\n","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>Adding onto @Hayden's answer (I don't have enough points to comment..)</p>\n<p>According to the springdoc documentation, you can disable both the springdoc api endpoints and swagger-ui using the following properties:</p>\n<p><a href=\"https://springdoc.org/#disabling-the-springdoc-openapi-endpoints\" rel=\"noreferrer\">https://springdoc.org/#disabling-the-springdoc-openapi-endpoints</a></p>\n<pre><code># Disabling the /v3/api-docs endpoint\nspringdoc.api-docs.enabled=false\n</code></pre>\n<p><a href=\"https://springdoc.org/#disabling-the-swagger-ui\" rel=\"noreferrer\">https://springdoc.org/#disabling-the-swagger-ui</a></p>\n<pre><code># Disabling the swagger-ui\nspringdoc.swagger-ui.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644945356,"creation_date":1644944917,"answer_id":71130552,"question_id":46454473,"body_markdown":"When using **springdoc-openapi-ui** dependency one can disable swagger-ui through the property:\r\n\r\n    springdoc.swagger-ui.enabled=false\r\n\r\nas stated in [Spring Doc FAQ][1].\r\n\r\n\r\n  [1]: https://springdoc.org/faq.html#how-can-i-define-multiple-openapi-definitions-in-one-spring-boot-project","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>When using <strong>springdoc-openapi-ui</strong> dependency one can disable swagger-ui through the property:</p>\n<pre><code>springdoc.swagger-ui.enabled=false\n</code></pre>\n<p>as stated in <a href=\"https://springdoc.org/faq.html#how-can-i-define-multiple-openapi-definitions-in-one-spring-boot-project\" rel=\"nofollow noreferrer\">Spring Doc FAQ</a>.</p>\n"},{"tags":[],"owner":{"account_id":6405244,"reputation":323,"user_id":4966704,"display_name":"Alexandre Liscia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666275590,"creation_date":1666275590,"answer_id":74141460,"question_id":46454473,"body_markdown":"In latest version of spring boot you can add this in yout application.yml :\r\n\r\n    springdoc:\r\n      swagger-ui:\r\n        enabled: false\r\n      api-docs:\r\n        enabled: false\r\n\r\nSo that **swagger-ui** key is used to disable the swagger interface and **api-docs** one is used to disable the route on which the JSON describing your API is served.\r\n\r\nIn my config I have a **prod** profile wich reads an application-prod.yml containing those lines.","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>In latest version of spring boot you can add this in yout application.yml :</p>\n<pre><code>springdoc:\n  swagger-ui:\n    enabled: false\n  api-docs:\n    enabled: false\n</code></pre>\n<p>So that <strong>swagger-ui</strong> key is used to disable the swagger interface and <strong>api-docs</strong> one is used to disable the route on which the JSON describing your API is served.</p>\n<p>In my config I have a <strong>prod</strong> profile wich reads an application-prod.yml containing those lines.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39380,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":46458135,"answer_count":10,"score":28,"last_activity_date":1670506340,"creation_date":1506535553,"question_id":46454473,"body_markdown":"I have read following topic:\r\n[Disabling Swagger with Spring MVC][1]\r\n\r\nand I wrote:\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.project.name.controller&quot;))\r\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\r\n                .build()\r\n                .apiInfo(apiInfo())\r\n                .enable(false);\r\n    }\r\n\r\nBut in case if I try to access swagger ui: `localhost:8080/swagger-ui.html`   \r\nI see\r\n[![enter image description here][2]][2]\r\n\r\nIt looks not accurate. Can I fully disabled this URL ? 404 for example or something like this.\r\n\r\n  [1]: https://stackoverflow.com/a/27976261/2674303\r\n  [2]: https://i.stack.imgur.com/Q1Ihv.jpg","title":"How to fully disable swagger-ui in spring-boot?(/swagger-ui.html should return 404)","body":"<p>I have read following topic:\n<a href=\"https://stackoverflow.com/a/27976261/2674303\">Disabling Swagger with Spring MVC</a></p>\n\n<p>and I wrote:</p>\n\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(\"com.project.name.controller\"))\n            .paths(PathSelectors.ant(\"/api/**\"))\n            .build()\n            .apiInfo(apiInfo())\n            .enable(false);\n}\n</code></pre>\n\n<p>But in case if I try to access swagger ui: <code>localhost:8080/swagger-ui.html</code><br>\nI see\n<a href=\"https://i.stack.imgur.com/Q1Ihv.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q1Ihv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>It looks not accurate. Can I fully disabled this URL ? 404 for example or something like this.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670236082,"creation_date":1670236082,"answer_id":74686680,"question_id":74686556,"body_markdown":"You need to use `@ControllerAdvice` and make a custom exception handling. Spring should thrown `MethodArgumentNotValidException` or `ConstraintViolationException` - it depends do you throw the exception from the Controller or not.\r\n\r\n```\r\n    @ExceptionHandler(value = MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;MyResponse&gt; handleException(MethodArgumentNotValidException exception) {\r\n        String customException = exception.getBindingResult().getFieldErrors().stream()\r\n                       .map(x -&gt; x.getField() + x.getDefaultMessage())\r\n                       .collect(Collectors.joining(&quot;,&quot;))\r\n\r\n        return  ResponseEntity.badRequest().body(new MyResponse(customException);\r\n    }\r\n```\r\n\r\n`MyResponse` could have the message","title":"Custom spring boot validation response","body":"<p>You need to use <code>@ControllerAdvice</code> and make a custom exception handling. Spring should thrown <code>MethodArgumentNotValidException</code> or <code>ConstraintViolationException</code> - it depends do you throw the exception from the Controller or not.</p>\n<pre><code>    @ExceptionHandler(value = MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;MyResponse&gt; handleException(MethodArgumentNotValidException exception) {\n        String customException = exception.getBindingResult().getFieldErrors().stream()\n                       .map(x -&gt; x.getField() + x.getDefaultMessage())\n                       .collect(Collectors.joining(&quot;,&quot;))\n\n        return  ResponseEntity.badRequest().body(new MyResponse(customException);\n    }\n</code></pre>\n<p><code>MyResponse</code> could have the message</p>\n"},{"tags":[],"owner":{"account_id":21350420,"reputation":1,"user_id":15719973,"display_name":"Bidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670506098,"creation_date":1670236153,"answer_id":74686694,"question_id":74686556,"body_markdown":"If you want a normal API Jason Request please use `@Entity` instead:\r\n```\r\n@Entity\r\npublic class ApiTransactionRequest {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO) //Add this line if you your ID will be created by the Webapp\r\n    @NotNull\r\n    private String id;\r\n    @NotNull\r\n    private String transaction_id;\r\n    @NotNull\r\n    private String apiOperation;\r\n    @NotNull\r\n// omitted input\r\n```\r\n\r\nIn your Controller you will to Something like this\r\n```\r\n@RestController\r\npublic class UserController {\r\n\r\n    @PostMapping(&quot;/users&quot;)\r\n    ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody User user) {\r\n        // persisting the user\r\n        return ResponseEntity.ok(&quot;User is valid&quot;);\r\n    }\r\n    \r\n    // standard constructors / other methods\r\n}\r\n```\r\nYou can look it up [here](https://www.baeldung.com/spring-boot-bean-validation)\r\n","title":"Custom spring boot validation response","body":"<p>If you want a normal API Jason Request please use <code>@Entity</code> instead:</p>\n<pre><code>@Entity\npublic class ApiTransactionRequest {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO) //Add this line if you your ID will be created by the Webapp\n    @NotNull\n    private String id;\n    @NotNull\n    private String transaction_id;\n    @NotNull\n    private String apiOperation;\n    @NotNull\n// omitted input\n</code></pre>\n<p>In your Controller you will to Something like this</p>\n<pre><code>@RestController\npublic class UserController {\n\n    @PostMapping(&quot;/users&quot;)\n    ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody User user) {\n        // persisting the user\n        return ResponseEntity.ok(&quot;User is valid&quot;);\n    }\n    \n    // standard constructors / other methods\n}\n</code></pre>\n<p>You can look it up <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":78138,"reputation":343,"user_id":533894,"accept_rate":75,"display_name":"nofomopls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74686680,"answer_count":2,"score":0,"last_activity_date":1670506098,"creation_date":1670235413,"question_id":74686556,"body_markdown":"I used spring-boot validation below:\r\n\r\nin gradle:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\nin request:\r\n\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class ApiTransactionRequest {\r\n    \tprivate String id;\r\n    \t@NotNull\r\n    \tprivate String transaction_id;\r\n    \t@NotNull\r\n    \tprivate String apiOperation;\r\n    \t@NotNull\r\n    ...\r\n\r\nWhen testing this case I got these infos: \r\nSpring app show this log: \r\n\r\n&gt; WARN 28840 --- [nio-8080-exec-1]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.web.bind.MethodArgumentNotValidException:\r\n&gt; Validation failed for argument [0] in public\r\n&gt; org.springframework.http.ResponseEntity\r\n\r\nHttp Response(spring boot validation response message)\r\n\r\n    {\r\n       &quot;timestamp&quot;: &quot;2022-12-05T09:58:55.011+00:00&quot;,\r\n       &quot;status&quot;: 400,\r\n       &quot;error&quot;: &quot;Bad Request&quot;,\r\n       &quot;path&quot;: &quot;/transactions&quot;\r\n    }\r\n\r\nActually I want to get the custom http response instead spring boot validation message, like this:\r\n\r\n    {\r\n       &quot;date&quot;: &quot;2022-12-05&quot;,\r\n       &quot;status&quot;: 400.03,\r\n       &quot;error&quot;: &quot;Transaction id is invalid&quot;,\r\n       &quot;message&quot;: &quot;Transaction id is not null&quot;\r\n    }\r\n\r\nAny helps, tks\r\n\r\n  [1]: https://i.stack.imgur.com/uQgL9.png\r\n","title":"Custom spring boot validation response","body":"<p>I used spring-boot validation below:</p>\n<p>in gradle:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-validation'\n</code></pre>\n<p>in request:</p>\n<pre><code>import javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class ApiTransactionRequest {\n    private String id;\n    @NotNull\n    private String transaction_id;\n    @NotNull\n    private String apiOperation;\n    @NotNull\n...\n</code></pre>\n<p>When testing this case I got these infos:\nSpring app show this log:</p>\n<blockquote>\n<p>WARN 28840 --- [nio-8080-exec-1]\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.web.bind.MethodArgumentNotValidException:\nValidation failed for argument [0] in public\norg.springframework.http.ResponseEntity</p>\n</blockquote>\n<p>Http Response(spring boot validation response message)</p>\n<pre><code>{\n   &quot;timestamp&quot;: &quot;2022-12-05T09:58:55.011+00:00&quot;,\n   &quot;status&quot;: 400,\n   &quot;error&quot;: &quot;Bad Request&quot;,\n   &quot;path&quot;: &quot;/transactions&quot;\n}\n</code></pre>\n<p>Actually I want to get the custom http response instead spring boot validation message, like this:</p>\n<pre><code>{\n   &quot;date&quot;: &quot;2022-12-05&quot;,\n   &quot;status&quot;: 400.03,\n   &quot;error&quot;: &quot;Transaction id is invalid&quot;,\n   &quot;message&quot;: &quot;Transaction id is not null&quot;\n}\n</code></pre>\n<p>Any helps, tks</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670230024,"post_id":71955445,"comment_id":131819136,"body_markdown":"`http://www.thymeleaf.org` in that case is just a &quot;name&quot; (commonly resolved by your IDE) it has not the meaning as &quot;schema location&quot;/xsd uri","body":"<code>http:&#47;&#47;www.thymeleaf.org</code> in that case is just a &quot;name&quot; (commonly resolved by your IDE) it has not the meaning as &quot;schema location&quot;/xsd uri"}],"answers":[{"tags":[],"owner":{"account_id":18073424,"reputation":1,"user_id":13137455,"display_name":"trippycamtv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670505953,"creation_date":1670229356,"answer_id":74685327,"question_id":71955445,"body_markdown":"I was having the same issue in IntelliJ and I fixed it with this solution:\r\n\r\n1. Navigate to the following File &gt; Settings &gt; Plugins\r\n2. From here you will search &quot;ThymeLeaf&quot; once you do &quot;JBLHtmlToThymeLeaf&quot; will come up\r\n3. Install it\r\n4. Then go to your HTML file, right click it and select &quot;JBLHtmlToThymeleaf&quot;\r\n\r\nThis will add `namespace(xmlns:th=&quot;http://www.thymeleaf.org&quot;)` attribute to HTML tag.","title":"xmlns:th=&quot;http://www.thymeleaf.org&quot; cannot be fetch by intellij","body":"<p>I was having the same issue in IntelliJ and I fixed it with this solution:</p>\n<ol>\n<li>Navigate to the following File &gt; Settings &gt; Plugins</li>\n<li>From here you will search &quot;ThymeLeaf&quot; once you do &quot;JBLHtmlToThymeLeaf&quot; will come up</li>\n<li>Install it</li>\n<li>Then go to your HTML file, right click it and select &quot;JBLHtmlToThymeleaf&quot;</li>\n</ol>\n<p>This will add <code>namespace(xmlns:th=&quot;http://www.thymeleaf.org&quot;)</code> attribute to HTML tag.</p>\n"}],"owner":{"account_id":15352190,"reputation":21,"user_id":11075602,"display_name":"Rahil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1670505953,"creation_date":1650548192,"question_id":71955445,"body_markdown":"I am learning spring boot and there is a problem in my thymeleaf template.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div th:if=&quot;${message}&quot;&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nWhen i fetch the external resource, there is an invalid URL exception saying: No XML at the specified location: http://www.thymeleaf.org\r\n\r\nThe dependency in maven is imported. I am using Intellij Community 2021.3.2\r\n\r\n","title":"xmlns:th=&quot;http://www.thymeleaf.org&quot; cannot be fetch by intellij","body":"<p>I am learning spring boot and there is a problem in my thymeleaf template.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\" xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div th:if=\"${message}\"&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nWhen i fetch the external resource, there is an invalid URL exception saying: No XML at the specified location: <a href=\"http://www.thymeleaf.org\" rel=\"nofollow noreferrer\">http://www.thymeleaf.org</a></p>\n<p>The dependency in maven is imported. I am using Intellij Community 2021.3.2</p>\n"},{"tags":["java","jvm","garbage-collection","wrapper"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1670513042,"post_id":74730966,"comment_id":131896545,"body_markdown":"How big are the log files, and how fast is the storage device that these logs are written to?","body":"How big are the log files, and how fast is the storage device that these logs are written to?"},{"owner":{"account_id":2317365,"reputation":677,"user_id":2034106,"accept_rate":50,"display_name":"Svetoslav Angelov"},"score":0,"creation_date":1670514151,"post_id":74730966,"comment_id":131897020,"body_markdown":"log files are 2mb and the storage is a corporate so it is really quick","body":"log files are 2mb and the storage is a corporate so it is really quick"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1670527367,"post_id":74730966,"comment_id":131901203,"body_markdown":"Why don&#39;t you look with a profiler at what the process is doing during these 20 minutes.","body":"Why don&#39;t you look with a profiler at what the process is doing during these 20 minutes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670605953,"post_id":74730966,"comment_id":131919880,"body_markdown":"What do you mean with “the storage is a corporate”? The only meaning of the word “corporate” I know of, is about ownership and that doesn’t say anything about the speed of the device. And, of course, the log files are only 2MB, because you told the JVM to split the logs into 2MB chunks. So the actual question would be, how many of them are created during startup.","body":"What do you mean with “the storage is a corporate”? The only meaning of the word “corporate” I know of, is about ownership and that doesn’t say anything about the speed of the device. And, of course, the log files are only 2MB, because you told the JVM to split the logs into 2MB chunks. So the actual question would be, how many of them are created during startup."}],"owner":{"account_id":2317365,"reputation":677,"user_id":2034106,"accept_rate":50,"display_name":"Svetoslav Angelov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670505847,"creation_date":1670505847,"question_id":74730966,"body_markdown":"since i want to take data from the GC of the JVM the following parameters were added in the custom_wrapper.conf\r\n\r\n    wrapper.java.additional.306=-Xlog:gc:utctime\r\n    wrapper.java.additional.307=-verbose:gc\r\n    wrapper.java.additional.308=-Xlog:gc*\r\n    wrapper.java.additional.309=-Xloggc:/opt/java/logs/gc-%t.log\r\n    wrapper.java.additional.310=-Xlog::::filecount=5,filesize=2M\r\n\r\nAfter adding those parameters the application is starting dramatically slow - around 20mins.\r\nBefore those paramaters normal start was around 2 mins.\r\n\r\nDo i made some mistakes with adding the parameters or this is a normal behavior?\r\n\r\n","title":"Slow starting of Java app after adding GC parameters","body":"<p>since i want to take data from the GC of the JVM the following parameters were added in the custom_wrapper.conf</p>\n<pre><code>wrapper.java.additional.306=-Xlog:gc:utctime\nwrapper.java.additional.307=-verbose:gc\nwrapper.java.additional.308=-Xlog:gc*\nwrapper.java.additional.309=-Xloggc:/opt/java/logs/gc-%t.log\nwrapper.java.additional.310=-Xlog::::filecount=5,filesize=2M\n</code></pre>\n<p>After adding those parameters the application is starting dramatically slow - around 20mins.\nBefore those paramaters normal start was around 2 mins.</p>\n<p>Do i made some mistakes with adding the parameters or this is a normal behavior?</p>\n"},{"tags":["java"],"owner":{"account_id":26725244,"reputation":21,"user_id":20328459,"display_name":"Sven WebDev Munich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670505567,"creation_date":1670488107,"question_id":74727445,"body_markdown":"I am trying to connect an app-engine application to a Tensforflow model running on a Vertex AI endpoint.\r\nIt works if I provide my personal authentication details but these need to be refreshed all the time.\r\n\r\nGoing through the documentation it sounds like App Engine can authenticate to an endpoint automatically using the endpoint APIs - Based on this [example][1]\r\n\r\nUnfortunately Eclipse cannot find &quot;com.google.cloud.aiplatform.*&quot; and I am not sure which library should include this.\r\n\r\nThe documentation provides a list of all the standard libraries which can be defined in the [Eclispe built-path][2] but I am under the impression the endpoint API is not part of it.\r\n\r\nWould be great to understand if there is a standard library I could add to make this work like &quot;Google Cloud Platform Libraries -&gt; Cloud Datastore&quot;\r\n\r\nAlternatively I could use another authentication method like an API keys but I could not figure out which service account needs which API key to authenticate against my end point.\r\n\r\nThank you \r\n\r\n\r\n\r\nI am trying to compile the [sample example][1] provided here with Java 8 but Eclipse cannot find the library.\r\n\r\nI was expecting to activate a standard Google Cloud library to get the example running and then figure out the authentication against the Google Cloud Endpoint.\r\n\r\n\r\n  [1]: https://cloud.google.com/vertex-ai/docs/samples/aiplatform-create-endpoint-sample\r\n  [2]: https://cloud.google.com/eclipse/docs/libraries","title":"Google Cloud Java project cannot find endpoint library","body":"<p>I am trying to connect an app-engine application to a Tensforflow model running on a Vertex AI endpoint.\nIt works if I provide my personal authentication details but these need to be refreshed all the time.</p>\n<p>Going through the documentation it sounds like App Engine can authenticate to an endpoint automatically using the endpoint APIs - Based on this <a href=\"https://cloud.google.com/vertex-ai/docs/samples/aiplatform-create-endpoint-sample\" rel=\"nofollow noreferrer\">example</a></p>\n<p>Unfortunately Eclipse cannot find &quot;com.google.cloud.aiplatform.*&quot; and I am not sure which library should include this.</p>\n<p>The documentation provides a list of all the standard libraries which can be defined in the <a href=\"https://cloud.google.com/eclipse/docs/libraries\" rel=\"nofollow noreferrer\">Eclispe built-path</a> but I am under the impression the endpoint API is not part of it.</p>\n<p>Would be great to understand if there is a standard library I could add to make this work like &quot;Google Cloud Platform Libraries -&gt; Cloud Datastore&quot;</p>\n<p>Alternatively I could use another authentication method like an API keys but I could not figure out which service account needs which API key to authenticate against my end point.</p>\n<p>Thank you</p>\n<p>I am trying to compile the <a href=\"https://cloud.google.com/vertex-ai/docs/samples/aiplatform-create-endpoint-sample\" rel=\"nofollow noreferrer\">sample example</a> provided here with Java 8 but Eclipse cannot find the library.</p>\n<p>I was expecting to activate a standard Google Cloud library to get the example running and then figure out the authentication against the Google Cloud Endpoint.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-ide"],"comments":[{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1670504508,"post_id":74730333,"comment_id":131893343,"body_markdown":"Please share the code, not screenshots of the code. And one more thing, what if you try to sleep/wait a couple of seconds before select the element? Maybe you are trying to interact with the element before it is present.","body":"Please share the code, not screenshots of the code. And one more thing, what if you try to sleep/wait a couple of seconds before select the element? Maybe you are trying to interact with the element before it is present."},{"owner":{"account_id":3521176,"reputation":44445,"user_id":2943403,"display_name":"mickmackusa"},"score":0,"creation_date":1672028357,"post_id":74730333,"comment_id":132209200,"body_markdown":"Stack Overflow does not want screenshots of errors; it wants text (because it is parsable). Your question should be edited to meet quality requirements.","body":"Stack Overflow does not want screenshots of errors; it wants text (because it is parsable). Your question should be edited to meet quality requirements."}],"answers":[{"tags":[],"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670505481,"creation_date":1670505481,"answer_id":74730895,"question_id":74730333,"body_markdown":"What if you try?:\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign_in_form\\&quot;]/p[1]/input&quot;))\r\n            .click();\r\n\r\n    Thread.sleep(5000);\r\n    driver.findElement(By.xpath(&quot;//select[@id=&#39;appointments_consulate_appointment_facility_id&#39;]&quot;)).selectByValue(&quot;125&quot;);\r\n\r\nYou will need to import package:\r\n\r\n    package com.journaldev.threads;\r\n\r\nI&#39;m thinking maybe the element is not present when you try to interact with it\r\n\r\n","title":"Not being able to interact with Selenium in the Select class","body":"<p>What if you try?:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign_in_form\\&quot;]/p[1]/input&quot;))\n        .click();\n\nThread.sleep(5000);\ndriver.findElement(By.xpath(&quot;//select[@id='appointments_consulate_appointment_facility_id']&quot;)).selectByValue(&quot;125&quot;);\n</code></pre>\n<p>You will need to import package:</p>\n<pre><code>package com.journaldev.threads;\n</code></pre>\n<p>I'm thinking maybe the element is not present when you try to interact with it</p>\n"}],"owner":{"account_id":24402864,"reputation":5,"user_id":18331361,"display_name":"Quadante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1670534761,"accepted_answer_id":74730895,"answer_count":1,"score":-2,"last_activity_date":1670505481,"creation_date":1670502701,"question_id":74730333,"body_markdown":"I am writing as I support with screenshots but it does not recognize xpath. \r\n\r\n[1]\r\n(https://i.stack.imgur.com/b1L2G.png)\r\n\r\n[2]\r\n(https://i.stack.imgur.com/2ypQV.png)\r\n\r\n[error]\r\n(https://i.stack.imgur.com/DmgNa.png)\r\n\r\nI want to run the &quot;Select&quot; method from the xpath I&#39;m looking for and access the desired &quot;value&quot; value and interact.\r\n\r\n\r\n           WebElement elem = driver.findElement(By.xpath(&quot;//select[@id=&#39;appointments_consulate_appointment_facility_id&#39;]&quot;));\r\n\r\n        Select sel = new Select(elem);\r\n        sel.selectByValue(&quot;125&quot;);\r\n\r\n\r\n**Full code:** \r\n\r\n        public static void main(String[] args) throws InterruptedException {\r\n\r\n        WebDriver driver = new EdgeDriver();\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;src/main/resources/chromedriver.exe&quot;);\r\n\r\n        driver.get(&quot;https://ais.usvisa-info.com/tr-tr/niv/schedule/44581745/appointment&quot;);\r\n        driver.\r\n                findElement(By.xpath(&quot;/html/body/div[7]/div[3]/div/button&quot;))\r\n                .click();\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;user_email\\&quot;]&quot;))\r\n                .sendKeys(&quot;blablabla&quot;);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;user_password\\&quot;]&quot;))\r\n                .sendKeys(&quot;blablabla&quot;) ;\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign_in_form\\&quot;]/div[3]/label/div&quot;))\r\n                .click();\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign_in_form\\&quot;]/p[1]/input&quot;))\r\n                .click();\r\n        \r\n        WebElement elem = driver.findElement(By.xpath(&quot;//select[@id=&#39;appointments_consulate_appointment_facility_id&#39;]&quot;));\r\n\r\n        Select sel = new Select(elem);\r\n        sel.selectByValue(&quot;125&quot;);\r\n\r\n","title":"Not being able to interact with Selenium in the Select class","body":"<p>I am writing as I support with screenshots but it does not recognize xpath.</p>\n<p>[1]\n(<a href=\"https://i.stack.imgur.com/b1L2G.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/b1L2G.png</a>)</p>\n<p>[2]\n(<a href=\"https://i.stack.imgur.com/2ypQV.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2ypQV.png</a>)</p>\n<p>[error]\n(<a href=\"https://i.stack.imgur.com/DmgNa.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DmgNa.png</a>)</p>\n<p>I want to run the &quot;Select&quot; method from the xpath I'm looking for and access the desired &quot;value&quot; value and interact.</p>\n<pre><code>       WebElement elem = driver.findElement(By.xpath(&quot;//select[@id='appointments_consulate_appointment_facility_id']&quot;));\n\n    Select sel = new Select(elem);\n    sel.selectByValue(&quot;125&quot;);\n</code></pre>\n<p><strong>Full code:</strong></p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n\n    WebDriver driver = new EdgeDriver();\n\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;src/main/resources/chromedriver.exe&quot;);\n\n    driver.get(&quot;https://ais.usvisa-info.com/tr-tr/niv/schedule/44581745/appointment&quot;);\n    driver.\n            findElement(By.xpath(&quot;/html/body/div[7]/div[3]/div/button&quot;))\n            .click();\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;user_email\\&quot;]&quot;))\n            .sendKeys(&quot;blablabla&quot;);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;user_password\\&quot;]&quot;))\n            .sendKeys(&quot;blablabla&quot;) ;\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign_in_form\\&quot;]/div[3]/label/div&quot;))\n            .click();\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign_in_form\\&quot;]/p[1]/input&quot;))\n            .click();\n    \n    WebElement elem = driver.findElement(By.xpath(&quot;//select[@id='appointments_consulate_appointment_facility_id']&quot;));\n\n    Select sel = new Select(elem);\n    sel.selectByValue(&quot;125&quot;);\n</code></pre>\n"},{"tags":["java","jdbc","db2","ibm-midrange"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1670419220,"post_id":74717302,"comment_id":131871832,"body_markdown":"It is normal for syntax to differ between Db2 platforms (LUW versus i-series).  Only use the __correct__ documentation for your target Db2-server platform.  Why not use the SIGNAL statement for i-series, refer to documentation for i series at https://www.ibm.com/docs/en/i/7.5?topic=statements-signal","body":"It is normal for syntax to differ between Db2 platforms (LUW versus i-series).  Only use the <b>correct</b> documentation for your target Db2-server platform.  Why not use the SIGNAL statement for i-series, refer to documentation for i series at <a href=\"https://www.ibm.com/docs/en/i/7.5?topic=statements-signal\" rel=\"nofollow noreferrer\">ibm.com/docs/en/i/7.5?topic=statements-signal</a>"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1670581588,"post_id":74717302,"comment_id":131912212,"body_markdown":"RAISE_APPLICATION_ERROR works in DB2LUW because Oracle compatibility has been activated. There&#39;s not such thing on IBM i, [RAISE_ERROR](https://www.ibm.com/docs/en/i/7.5?topic=functions-raise-error) is available in both DB2LUW and DB2forI","body":"RAISE_APPLICATION_ERROR works in DB2LUW because Oracle compatibility has been activated. There&#39;s not such thing on IBM i, <a href=\"https://www.ibm.com/docs/en/i/7.5?topic=functions-raise-error\" rel=\"nofollow noreferrer\">RAISE_ERROR</a> is available in both DB2LUW and DB2forI"}],"owner":{"account_id":17961084,"reputation":1,"user_id":20035993,"display_name":"Ramakrishnan Kuppusami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670505427,"creation_date":1670418933,"question_id":74717302,"body_markdown":"https://www.ibm.com/docs/en/db2/9.7?topic=plsql-raise-application-error\r\n\r\nI&#39;m getting the following exception in java when my plslq function code uses the RAISE_APPLICATION_ERROR to throw an error to the caller\r\n\r\n&gt; [[SQL0204] RAISE_APPLICATION_ERROR in *LIBL type *N not found.]\r\n\r\nNote:\r\nMy code works fine in Db2 for Windows(DB2 LUW)\r\n\r\nExpecting an alternate way to implement the custom application error handling.","title":"What is the equivalent/alternate to RAISE_APPLICATION_ERROR in db2 for iSeries platform?","body":"<p><a href=\"https://www.ibm.com/docs/en/db2/9.7?topic=plsql-raise-application-error\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/db2/9.7?topic=plsql-raise-application-error</a></p>\n<p>I'm getting the following exception in java when my plslq function code uses the RAISE_APPLICATION_ERROR to throw an error to the caller</p>\n<blockquote>\n<p>[[SQL0204] RAISE_APPLICATION_ERROR in *LIBL type *N not found.]</p>\n</blockquote>\n<p>Note:\nMy code works fine in Db2 for Windows(DB2 LUW)</p>\n<p>Expecting an alternate way to implement the custom application error handling.</p>\n"},{"tags":["java","android","notifications","alarmmanager","airplane-mode"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1670503787,"post_id":74730070,"comment_id":131893120,"body_markdown":"yes, its possible to show notification in airplane mode, why not? enable such mode, then start playing some music in any player (e.g. VLC) - it will show `Notification`","body":"yes, its possible to show notification in airplane mode, why not? enable such mode, then start playing some music in any player (e.g. VLC) - it will show <code>Notification</code>"},{"owner":{"account_id":19138160,"reputation":13,"user_id":13978709,"display_name":"Abdul Rehman Jamil"},"score":0,"creation_date":1670592523,"post_id":74730070,"comment_id":131915505,"body_markdown":"programmatically?","body":"programmatically?"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1670593728,"post_id":74730070,"comment_id":131915895,"body_markdown":"is there any other way for showing `Notification`? if you know any please share","body":"is there any other way for showing <code>Notification</code>? if you know any please share"}],"owner":{"account_id":19138160,"reputation":13,"user_id":13978709,"display_name":"Abdul Rehman Jamil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670505316,"creation_date":1670501404,"question_id":74730070,"body_markdown":"Is there any way to show the notification from alarm manager while the phone is in airplane mode?\r\n\r\nI&#39;m working on an app that uses the background service to display notifications and is testing the ability to display notifications in airplane mode. Is it possible?","title":"Pop notification in airplane mode","body":"<p>Is there any way to show the notification from alarm manager while the phone is in airplane mode?</p>\n<p>I'm working on an app that uses the background service to display notifications and is testing the ability to display notifications in airplane mode. Is it possible?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670417885,"post_id":74717058,"comment_id":131871390,"body_markdown":"What is the message that you get?","body":"What is the message that you get?"},{"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"score":0,"creation_date":1670422685,"post_id":74717058,"comment_id":131873029,"body_markdown":"It toasts &quot;Not Done&quot; @Alex Mamo","body":"It toasts &quot;Not Done&quot; @Alex Mamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670422854,"post_id":74717058,"comment_id":131873098,"body_markdown":"Have you tried to log the error message `Toast.makeText(AddCountryActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();` rather than &quot;Not Done&quot;? Most likely you&#39;re getting [PERMISSION_DENIED: Missing or insufficient permissions](https://medium.com/firebase-tips-tricks/how-to-fix-firestore-error-permission-denied-missing-or-insufficient-permissions-777d591f404), right?","body":"Have you tried to log the error message <code>Toast.makeText(AddCountryActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();</code> rather than &quot;Not Done&quot;? Most likely you&#39;re getting <a href=\"https://medium.com/firebase-tips-tricks/how-to-fix-firestore-error-permission-denied-missing-or-insufficient-permissions-777d591f404\" rel=\"nofollow noreferrer\">PERMISSION_DENIED: Missing or insufficient permissions</a>, right?"},{"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"score":0,"creation_date":1670425164,"post_id":74717058,"comment_id":131874054,"body_markdown":"Yes, my problem is solved, the issue was in the rules in the firestore. @Alex Mamo","body":"Yes, my problem is solved, the issue was in the rules in the firestore. @Alex Mamo"}],"answers":[{"tags":[],"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670505295,"creation_date":1670505295,"answer_id":74730857,"question_id":74717058,"body_markdown":"Answering as Community wiki, As mentioned by Alex Mamo in above comments.\r\n\r\nCan you try to log the error message by\r\n`Toast.makeText(AddCountryActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();`\r\nInstead of “Not Done”. \r\n\r\nYou can refer to this [Document][1] on How to fix Firestore Error: PERMISSION_DENIED: Missing or insufficient permissions.\r\n\r\n[1]: https://medium.com/firebase-tips-tricks/how-to-fix-firestore-error-permission-denied-missing-or-insufficient-permissions-777d591f404\r\n\r\n","title":"Data is not inserting to Firebase firestore","body":"<p>Answering as Community wiki, As mentioned by Alex Mamo in above comments.</p>\n<p>Can you try to log the error message by\n<code>Toast.makeText(AddCountryActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();</code>\nInstead of “Not Done”.</p>\n<p>You can refer to this <a href=\"https://medium.com/firebase-tips-tricks/how-to-fix-firestore-error-permission-denied-missing-or-insufficient-permissions-777d591f404\" rel=\"nofollow noreferrer\">Document</a> on How to fix Firestore Error: PERMISSION_DENIED: Missing or insufficient permissions.</p>\n"}],"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670505295,"creation_date":1670417744,"question_id":74717058,"body_markdown":"I am inserting simple data into Firebase firestore using Hashmap. The data contains the continent name, country name and country flag image. But data is not inserted into the firestore, and toast in addOnFailuresListner is showing.\r\nThis is addCountry XML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.AddCountryActivity&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/include&quot;\r\n        layout=&quot;@layout/appbar&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/include&quot;\r\n            android:layout_marginVertical=&quot;20dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Add New Country&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/scrollView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_below=&quot;@+id/title&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginHorizontal=&quot;20dp&quot;\r\n            android:gravity=&quot;start&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/include&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:text=&quot;Select Continent&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n\r\n                    style=&quot;@style/TextInputLayoutStyles&quot;&gt;\r\n                    &lt;AutoCompleteTextView\r\n                        android:id=&quot;@+id/auto_complete_continent&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:inputType=&quot;none&quot;\r\n                        android:backgroundTint=&quot;@color/white&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:text=&quot;Select Continent&quot;/&gt;\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:text=&quot;Select Country&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n\r\n                    style=&quot;@style/TextInputLayoutStyles&quot;&gt;\r\n                    &lt;AutoCompleteTextView\r\n                        android:id=&quot;@+id/auto_complete_country&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:inputType=&quot;none&quot;\r\n                        android:backgroundTint=&quot;@color/white&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:text=&quot;Select Country&quot; /&gt;\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                android:text=&quot;Browse Flag Image&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imgFlag&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;150dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:background=&quot;@color/dark_gray&quot;\r\n                /&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/browseBtn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:backgroundTint=&quot;@color/app_basic_color&quot;\r\n                android:text=&quot;Browse&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/insertBtn&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:backgroundTint=&quot;@color/app_basic_color&quot;\r\n                android:text=&quot;INSERT data&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThis list_items XML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;TextView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:padding=&quot;16dp&quot;\r\n    android:ellipsize=&quot;end&quot;\r\n    android:maxLines=&quot;1&quot;\r\n    android:textAppearance=&quot;?attr/textAppearanceSubtitle1&quot;&gt;\r\n&lt;/TextView&gt;\r\n```\r\n\r\nThis is addCountry java file\r\n\r\n```\r\npackage com.example.universityhubfyp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.Manifest;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.media.Image;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TableLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.OnProgressListener;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.karumi.dexter.Dexter;\r\nimport com.karumi.dexter.PermissionToken;\r\nimport com.karumi.dexter.listener.PermissionDeniedResponse;\r\nimport com.karumi.dexter.listener.PermissionGrantedResponse;\r\nimport com.karumi.dexter.listener.PermissionRequest;\r\nimport com.karumi.dexter.listener.single.PermissionListener;\r\n\r\nimport java.io.InputStream;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Random;\r\n\r\npublic class AddCountryActivity extends AppCompatActivity {\r\n\r\n    String[] continents = {&quot;Asia&quot;, &quot;Africa&quot;, &quot;Europe&quot;, &quot;North America&quot;, &quot;South America&quot;, &quot;Australia/Oceania&quot;,&quot;Antarctica&quot;};\r\n    String[] countries = {&quot;Afghanistan (AF)&quot;,&quot;Aland Island (AX)&quot;,&quot;Albania(AL)&quot;,&quot;Algeria (DZ)&quot;,&quot;American Samoa (AS)&quot;, &quot;Andorra(AD)&quot;,&quot;Angola (AO)&quot;,&quot;Anguilla (Al)&quot;,&quot;Antartica(AQ)&quot;,&quot;Antigua and Barbuda (AG)&quot;,&quot;Aregentina(AG)&quot;, &quot;Armenia (AM)&quot;,&quot;Aruba (AW)&quot;,&quot;Australia (AU)&quot;,&quot;Austria (AT)&quot;,&quot;Azerbaijan (AZ)&quot;,&quot;Bahamas (BS)&quot;, &quot;Bahrain (BH)&quot;,&quot;Bangladesh (BD)&quot;,&quot;Barbados (BB)&quot;,&quot;Belarus (BY)&quot;,&quot;belgium (BE)&quot;,&quot;Belize (BZ)&quot;, &quot;Benin (BJ)&quot;,&quot;Bermuda (BM)&quot;,&quot;Bhutan (BT)&quot;, &quot;Bolivia, Pleurinational State of (BO)&quot;, &quot;Bosnia and Herzegovina (BA)&quot;,&quot;Botswana (BW)&quot;,&quot;Brazil (BR)&quot;,&quot;British Indian Ocean Territory (IO)&quot;, &quot;British Virgin Islands (VG)&quot;,&quot;Brunei Darussalam (BN)&quot;,&quot;Bulgaria ( BG)&quot;,&quot;Burkina Faso (BF)&quot;, &quot;Burundi (BI)&quot;,&quot;Cambodia (KH)&quot;,&quot;Cameroon (CM)&quot;,&quot;Canada (CA)&quot;,&quot;Cape Verde (CV)&quot;,&quot;Cayman Islands (KY)&quot;, &quot;Central African Republic (CF)&quot;,&quot;Chad (TD)&quot;,&quot;Chile (CL)&quot;,&quot;China (CN)&quot;,&quot;Christmas Island (CX)&quot;, &quot;Cocos(kelling) Islands (CC)&quot;,&quot;Colombia (CO)&quot;,&quot;Comoros (KM)&quot;,&quot;Congo (CG)&quot;, &quot;Congo, The Democratic Republic Of The (CD)&quot;,&quot;Cook Islands (CK)&quot;,&quot;Costa Rica (CR)&quot;,&quot;Cote divoire (CL)&quot;, &quot;Croatia (HR)&quot;,&quot;Cuba (CU)&quot;,&quot;Curacao(CW)&quot;,&quot;Cyprus (CY)&quot;,&quot;Czech Republic (CZ)&quot;,&quot;Denmark (DK)&quot;, &quot;Dijibouti (DJ)&quot;,&quot;Dominica (DM)&quot;,&quot;Dominican Republic (DO)&quot;,&quot;Ecuador (EC)&quot;,&quot;Egypt (EG)&quot;, &quot;El Salvador (SV)&quot;,&quot;Equatorial Guiena(GQ)&quot;,&quot;Eritrea (ER)&quot;,&quot;Estonia (EE)&quot;,&quot;Ethioia (ET)&quot;, &quot;Falkland Islands (malvinas) (FK)&quot;,&quot;Faroe Islands (FO)&quot;,&quot;Fiji (FJ)&quot;,&quot;Finland (FL)&quot;,&quot;France (FR)&quot;,\r\n            &quot;French Guyana (GF)&quot;,&quot;French Polynesia (PF)&quot;,&quot;Gabon (GA)&quot;,&quot;Gambia (GM)&quot;,&quot;Georgia (GE)&quot;,&quot;Germany (DE)&quot;, &quot;Ghana (GH)&quot;,&quot;Gibralter (Gl)&quot;,&quot;Greece (GR)&quot;,&quot;Greenland (GL)&quot;,&quot;Grenada (GD)&quot;,&quot;Guadeloupe (GP)&quot;,&quot;Guam (GU)&quot;, &quot;Guatemala (GT)&quot;,&quot;Guemsey (GG)&quot;,&quot;Guinea (GN)&quot;,&quot;Guinea-bissau (GW)&quot;,&quot;Guyana (GY)&quot;,&quot;Haiti (HT)&quot;, &quot;Holy See (Vatican City State) (VA)&quot;,&quot;Honduras (HN)&quot;,&quot;Hong Kong (HK)&quot;,&quot;Hungary (HU)&quot;,&quot;Iceland (IS)&quot;, &quot;India (IN)&quot;,&quot;Indonesia (ID)&quot;,&quot;Iran, Islamic Republic Of (IR)&quot;,&quot;Iraq (IQ)&quot;,&quot;Ireland (IE)&quot;, &quot;Isle Of Man (IM)&quot;,&quot;Israel (IL)&quot;,&quot;Italy (IT)&quot;,&quot;Jamaica (JM)&quot;,&quot;Japan (JP)&quot;,&quot;Jersey (JE)&quot;,&quot;Jordan (JO)&quot;, &quot;Kazakhstan (KZ)&quot;,&quot;Kenya (KE)&quot;,&quot;Kiribati (Kl)&quot;,&quot;Kosovo (XK)&quot;,&quot;Kuwait (KW)&quot;,&quot;Kyrgyzstan (KG)&quot;, &quot;Lao People&#39;s Democratic Republic (LA)&quot;,&quot;Latvia (LV)&quot;,&quot;Lebanon (LB)&quot;,&quot;Lesotho (LS)&quot;,&quot;Liberia (LR)&quot;, &quot;Libya (LY)&quot;,&quot;Liechtenstein (LI)&quot;,&quot;Lithuania (LT)&quot;,&quot;Luxembourg (LU)&quot;,&quot;Macau (MO)&quot;, &quot;Macedonia (FYROM) (MK)&quot;,&quot;Madagascar (MG)&quot;,&quot;Malawi (MW)&quot;,&quot;Malaysia (MY)&quot;,&quot;Maldives (MV)&quot;,&quot;Mali (ML)&quot;, &quot;Malta (ML)&quot;,&quot;Marshall Islands (MH)&quot;,&quot;Martinique (MQ)&quot;,&quot;Mauritania (MR)&quot;,&quot;Mauritius (MU)&quot;,&quot;Mayotte (YT)&quot;, &quot;Maxico (MX)&quot;,&quot;Micronesia, Federated States Of  (FM)&quot;,&quot;Moldova, Republic Of (MD)&quot;,&quot;Monaco (MC)&quot;, &quot;Mangolia (MN)&quot;,&quot;Montenegro (ME)&quot;,&quot;Montserrat (MS)&quot;,&quot;Morocco (MA)&quot;,&quot;Mozambique (MZ)&quot;,&quot;Myanmar (MM)&quot;, &quot;Namibia (NA)&quot;,&quot;Nauru (NR)&quot;,&quot;Nepal (Np)&quot;,&quot;Netherlands (NL)&quot;,&quot;New Caledonia (NC)&quot;,&quot;New Zealand (NZ)&quot;, &quot;Nicaragua (NI)&quot;,&quot;Niger (NE)&quot;,&quot;Nigeria (NG)&quot;,&quot;Niue (NU)&quot;,&quot;Norfolk islands (NF)&quot;,&quot;North Korea (KP)&quot;, &quot;Northern Mariana islands (MP)&quot;,&quot;Norway (NO)&quot;,&quot;Oman (OM)&quot;,&quot;Pakistan (PK)&quot;,&quot;Palau (PW)&quot;,&quot;Palestine (PS)&quot;, &quot;Panama (PA)&quot;,&quot;Papua New Guinea (PG)&quot;,&quot;Paraguay (PY)&quot;,&quot;Peru (PE)&quot;,&quot;Philipines (PH)&quot;, &quot;Pitcaim Islands (PN)&quot;,&quot;Poland (PL)&quot;,&quot;Portugal (PT)&quot;,&quot;Puerto Rico (PR)&quot;,&quot;Qatar (QA)&quot;,&quot;Reunion (RE)&quot;,\r\n            &quot;Romania (RO)&quot;,&quot;Russian Federation (RU)&quot;,&quot;Rawanda (RW)&quot;,&quot;Saint Barthelelemy (BL)&quot;, &quot;Saint Helena,Ascension And Tristan Da Cunha(SH)&quot;,&quot;Saint Kitts and Nevis (KN)&quot;,&quot;Saint Lucia (LC)&quot;, &quot;Saint Martin (MF)&quot;,&quot;Saint Pierre And Miquelon (PM)&quot;,&quot;Saint Vincent &amp; The Grenadines (VC)&quot;,&quot;Samoa (WS)&quot;, &quot;San Marino (SM)&quot;,&quot;Sao Tome And Principe (ST)&quot;,&quot;Saudi Arabia (SA)&quot;,&quot;Senegal (SN)&quot;,&quot;Serbia (RS)&quot;, &quot;Seychelles (SC)&quot;,&quot;Sierra Leone (SL)&quot;,&quot;Singapore (SG)&quot;,&quot;Sint Marten (SX)&quot;,&quot;Slovakia (SK)&quot;,&quot;Slovenia (SL)&quot;, &quot;Solomon Islands (SB)&quot;,&quot;Somalia (SO)&quot;,&quot;South Africa (ZA)&quot;,&quot;South Korea (KR)&quot;,&quot;South Sudan (SS)&quot;, &quot;Spain (ES)&quot;,&quot;Sri Lanka (LK)&quot;,&quot;Sudan (SD)&quot;,&quot;Suriname (SR)&quot;,&quot;Swaziland (SZ)&quot;,&quot;Sweden (SE)&quot;, &quot;Switzerland (CH)&quot;,&quot;Syrian Arab Republic (SY)&quot;,&quot;Taiwan (TW)&quot;,&quot;Tajikistan (TJ)&quot;, &quot;Tanzania, United Republic Of (TZ)&quot;,&quot;Thailand (TH)&quot;,&quot;Timor-leste (TL)&quot;,&quot;Togo (TG)&quot;,&quot; Tokelau(TK)&quot;, &quot;Tonga (TO)&quot;,&quot;Trinidad &amp; Tabago (TT)&quot;,&quot;Tunisisa (TN)&quot;,&quot;Turkey (TR)&quot;,&quot;Turkmenistan (TM)&quot;, &quot;Turks and Caicos Islands (TC)&quot;,&quot;Tuvalu (TV)&quot;,&quot;Uganda (UG)&quot;,&quot;Ukraine (UA)&quot;, &quot;United Arab Emirates (UAE) (AE)&quot;,&quot;United Kingdom (GB)&quot;,&quot;United States (US)&quot;,&quot;Urguay (UY)&quot;, &quot;US Virgin Islands (VI)&quot;,&quot;Uzbekistan (UZ)&quot;,&quot;Vanuatu (VU)&quot;,&quot;Venezuela, Bolivarian Republic Of (VE)&quot;, &quot;Vietnam (VN)&quot;,&quot;Wallis And Futuna (WF)&quot;,&quot;Yemen (YE)&quot;,&quot;Zambia (ZM)&quot;,&quot;Zimbabwe (ZW)&quot;};\r\n    AutoCompleteTextView autoCompleteContinents, autoCompleteCountries;\r\n    ArrayAdapter&lt;String&gt; adapterItems;\r\n    String continentItem, countryItem;\r\n\r\n    ImageView flagImage;\r\n    Button browsBtn, insertBtn;\r\n    Uri filepath;\r\n    Bitmap bitmap;\r\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_country);\r\n\r\n//*****************************Continent and country Picker************************\r\n        autoCompleteContinents = findViewById(R.id.auto_complete_continent);\r\n        autoCompleteCountries = findViewById(R.id.auto_complete_country);\r\n        adapterItems = new ArrayAdapter&lt;String&gt;(this, R.layout.list_items, continents);\r\n        autoCompleteContinents.setAdapter(adapterItems);\r\n        autoCompleteContinents.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                continentItem = adapterView.getItemAtPosition(i).toString();\r\n            }\r\n        });\r\n\r\n        adapterItems = new ArrayAdapter&lt;String&gt;(this, R.layout.list_items, countries);\r\n        autoCompleteCountries.setAdapter(adapterItems);\r\n        autoCompleteCountries.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                countryItem = adapterView.getItemAtPosition(i).toString();\r\n            }\r\n        });\r\n        //**************************************END***************************************\r\n\r\n        //**************************************Browse Image from storage***************************************\r\n        browsBtn = findViewById(R.id.browseBtn);\r\n        flagImage = findViewById(R.id.imgFlag);\r\n\r\n        browsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Dexter.withContext(AddCountryActivity.this)\r\n                        .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                        .withListener(new PermissionListener() {\r\n                            @Override\r\n                            public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                                intent.setType(&quot;image/*&quot;);\r\n                                startActivityIfNeeded(Intent.createChooser(intent,&quot;Select Image File&quot;), 1);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                                permissionToken.continuePermissionRequest();\r\n                            }\r\n                        }).check();\r\n            }\r\n        });\r\n\r\n        //**************************************End***************************************\r\n\r\n        insertBtn = findViewById(R.id.insertBtn);\r\n        insertBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                insertCountryData();\r\n\r\n            }\r\n        });\r\n    }\r\n    //**************************************Browse Image from storage***************************************\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)  {\r\n        if (requestCode==1 &amp;&amp; resultCode==RESULT_OK)\r\n        {\r\n            filepath=data.getData();\r\n            try {\r\n                InputStream inputStream=getContentResolver().openInputStream(filepath);\r\n                bitmap= BitmapFactory.decodeStream(inputStream);\r\n                flagImage.setImageBitmap(bitmap);\r\n            }\r\n            catch (Exception ex){\r\n\r\n            }\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n//**************************************End***************************************\r\n//**************************************Insert Country Data to fire base***************************************\r\n\r\n    private void insertCountryData(){\r\n        String continent = continentItem.trim();\r\n        String country = countryItem.trim();\r\n\r\n\r\n        ProgressDialog dialog = new ProgressDialog(this);\r\n        dialog.setTitle(&quot;File Uploader&quot;);\r\n        dialog.show();\r\n\r\n\r\n\r\n        FirebaseStorage firebaseStorage = FirebaseStorage.getInstance();\r\n        StorageReference storageReference = firebaseStorage.getReference(&quot;Image1&quot;+new Random().nextInt(50));\r\n\r\n        storageReference.putFile(filepath)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        storageReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n\r\n                            @Override\r\n                            public void onSuccess(Uri uri) {\r\n\r\n                                dialog.dismiss();\r\n\r\n                                HashMap&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n                                map.put(&quot;ContinentName&quot;, continent);\r\n                                map.put(&quot;CountryName&quot;, country);\r\n                                map.put(&quot;FlagImage&quot;, uri.toString());\r\n\r\n                                \r\n                                firestore.collection(&quot;Countries&quot;).document(country.toString()).set(map).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        Toast.makeText(AddCountryActivity.this, &quot;Done&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }).addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        Toast.makeText(AddCountryActivity.this, &quot;Not Done&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n//                                FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\r\n//                                DatabaseReference databaseReference = firebaseDatabase.getReference(&quot;CountryList&quot;);\r\n//                                databaseReference.push().setValue(map);\r\n                                //Toast.makeText(AddCountryActivity.this, &quot;Done&quot;, Toast.LENGTH_SHORT).show();\r\n//                                startActivity(new Intent(AddCountryActivity.this,AdminMainActivity.class));\r\n//                                finish();\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\r\n                        float percent = (100 * snapshot.getBytesTransferred()/snapshot.getTotalByteCount());\r\n                        dialog.setMessage(&quot;Uploded: &quot;+(int)percent+&quot;%&quot;);\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    //**************************************End***************************************\r\n\r\n    //*************************onBackPress going back**************************************\r\n    // onBackPressed starts.\r\n//  onBackPressed single click going back to the previous activity.\r\n//  onBackPressed double click app is close.\r\n    int counter = 0;\r\n    @Override\r\n    public void onBackPressed(){\r\n        counter++;\r\n        if (counter == 1)\r\n            startActivity(new Intent(AddCountryActivity.this,AdminMainActivity.class));\r\n        finish();\r\n//            setContentView(R.layout.activity_main);\r\n//        if (counter ==2)\r\n//            super.onBackPressed();\r\n    }\r\n    // onBackPressed ends\r\n    //*****************************End**********************************\r\n}\r\n```","title":"Data is not inserting to Firebase firestore","body":"<p>I am inserting simple data into Firebase firestore using Hashmap. The data contains the continent name, country name and country flag image. But data is not inserted into the firestore, and toast in addOnFailuresListner is showing.\nThis is addCountry XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.AddCountryActivity&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/include&quot;\n        layout=&quot;@layout/appbar&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/include&quot;\n            android:layout_marginVertical=&quot;20dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Add New Country&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;ScrollView\n            android:id=&quot;@+id/scrollView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_below=&quot;@+id/title&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginHorizontal=&quot;20dp&quot;\n            android:gravity=&quot;start&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/include&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:text=&quot;Select Continent&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n\n                    style=&quot;@style/TextInputLayoutStyles&quot;&gt;\n                    &lt;AutoCompleteTextView\n                        android:id=&quot;@+id/auto_complete_continent&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:inputType=&quot;none&quot;\n                        android:backgroundTint=&quot;@color/white&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:text=&quot;Select Continent&quot;/&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:text=&quot;Select Country&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n\n                    style=&quot;@style/TextInputLayoutStyles&quot;&gt;\n                    &lt;AutoCompleteTextView\n                        android:id=&quot;@+id/auto_complete_country&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:inputType=&quot;none&quot;\n                        android:backgroundTint=&quot;@color/white&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:text=&quot;Select Country&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                android:text=&quot;Browse Flag Image&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n            &lt;ImageView\n                android:id=&quot;@+id/imgFlag&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;150dp&quot;\n                android:scaleType=&quot;fitXY&quot;\n                android:background=&quot;@color/dark_gray&quot;\n                /&gt;\n            &lt;Button\n                android:id=&quot;@+id/browseBtn&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;20dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:backgroundTint=&quot;@color/app_basic_color&quot;\n                android:text=&quot;Browse&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/insertBtn&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:backgroundTint=&quot;@color/app_basic_color&quot;\n                android:text=&quot;INSERT data&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n        &lt;/ScrollView&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This list_items XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:padding=&quot;16dp&quot;\n    android:ellipsize=&quot;end&quot;\n    android:maxLines=&quot;1&quot;\n    android:textAppearance=&quot;?attr/textAppearanceSubtitle1&quot;&gt;\n&lt;/TextView&gt;\n</code></pre>\n<p>This is addCountry java file</p>\n<pre><code>package com.example.universityhubfyp;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.media.Image;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TableLayout;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.OnProgressListener;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\nimport com.karumi.dexter.Dexter;\nimport com.karumi.dexter.PermissionToken;\nimport com.karumi.dexter.listener.PermissionDeniedResponse;\nimport com.karumi.dexter.listener.PermissionGrantedResponse;\nimport com.karumi.dexter.listener.PermissionRequest;\nimport com.karumi.dexter.listener.single.PermissionListener;\n\nimport java.io.InputStream;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Random;\n\npublic class AddCountryActivity extends AppCompatActivity {\n\n    String[] continents = {&quot;Asia&quot;, &quot;Africa&quot;, &quot;Europe&quot;, &quot;North America&quot;, &quot;South America&quot;, &quot;Australia/Oceania&quot;,&quot;Antarctica&quot;};\n    String[] countries = {&quot;Afghanistan (AF)&quot;,&quot;Aland Island (AX)&quot;,&quot;Albania(AL)&quot;,&quot;Algeria (DZ)&quot;,&quot;American Samoa (AS)&quot;, &quot;Andorra(AD)&quot;,&quot;Angola (AO)&quot;,&quot;Anguilla (Al)&quot;,&quot;Antartica(AQ)&quot;,&quot;Antigua and Barbuda (AG)&quot;,&quot;Aregentina(AG)&quot;, &quot;Armenia (AM)&quot;,&quot;Aruba (AW)&quot;,&quot;Australia (AU)&quot;,&quot;Austria (AT)&quot;,&quot;Azerbaijan (AZ)&quot;,&quot;Bahamas (BS)&quot;, &quot;Bahrain (BH)&quot;,&quot;Bangladesh (BD)&quot;,&quot;Barbados (BB)&quot;,&quot;Belarus (BY)&quot;,&quot;belgium (BE)&quot;,&quot;Belize (BZ)&quot;, &quot;Benin (BJ)&quot;,&quot;Bermuda (BM)&quot;,&quot;Bhutan (BT)&quot;, &quot;Bolivia, Pleurinational State of (BO)&quot;, &quot;Bosnia and Herzegovina (BA)&quot;,&quot;Botswana (BW)&quot;,&quot;Brazil (BR)&quot;,&quot;British Indian Ocean Territory (IO)&quot;, &quot;British Virgin Islands (VG)&quot;,&quot;Brunei Darussalam (BN)&quot;,&quot;Bulgaria ( BG)&quot;,&quot;Burkina Faso (BF)&quot;, &quot;Burundi (BI)&quot;,&quot;Cambodia (KH)&quot;,&quot;Cameroon (CM)&quot;,&quot;Canada (CA)&quot;,&quot;Cape Verde (CV)&quot;,&quot;Cayman Islands (KY)&quot;, &quot;Central African Republic (CF)&quot;,&quot;Chad (TD)&quot;,&quot;Chile (CL)&quot;,&quot;China (CN)&quot;,&quot;Christmas Island (CX)&quot;, &quot;Cocos(kelling) Islands (CC)&quot;,&quot;Colombia (CO)&quot;,&quot;Comoros (KM)&quot;,&quot;Congo (CG)&quot;, &quot;Congo, The Democratic Republic Of The (CD)&quot;,&quot;Cook Islands (CK)&quot;,&quot;Costa Rica (CR)&quot;,&quot;Cote divoire (CL)&quot;, &quot;Croatia (HR)&quot;,&quot;Cuba (CU)&quot;,&quot;Curacao(CW)&quot;,&quot;Cyprus (CY)&quot;,&quot;Czech Republic (CZ)&quot;,&quot;Denmark (DK)&quot;, &quot;Dijibouti (DJ)&quot;,&quot;Dominica (DM)&quot;,&quot;Dominican Republic (DO)&quot;,&quot;Ecuador (EC)&quot;,&quot;Egypt (EG)&quot;, &quot;El Salvador (SV)&quot;,&quot;Equatorial Guiena(GQ)&quot;,&quot;Eritrea (ER)&quot;,&quot;Estonia (EE)&quot;,&quot;Ethioia (ET)&quot;, &quot;Falkland Islands (malvinas) (FK)&quot;,&quot;Faroe Islands (FO)&quot;,&quot;Fiji (FJ)&quot;,&quot;Finland (FL)&quot;,&quot;France (FR)&quot;,\n            &quot;French Guyana (GF)&quot;,&quot;French Polynesia (PF)&quot;,&quot;Gabon (GA)&quot;,&quot;Gambia (GM)&quot;,&quot;Georgia (GE)&quot;,&quot;Germany (DE)&quot;, &quot;Ghana (GH)&quot;,&quot;Gibralter (Gl)&quot;,&quot;Greece (GR)&quot;,&quot;Greenland (GL)&quot;,&quot;Grenada (GD)&quot;,&quot;Guadeloupe (GP)&quot;,&quot;Guam (GU)&quot;, &quot;Guatemala (GT)&quot;,&quot;Guemsey (GG)&quot;,&quot;Guinea (GN)&quot;,&quot;Guinea-bissau (GW)&quot;,&quot;Guyana (GY)&quot;,&quot;Haiti (HT)&quot;, &quot;Holy See (Vatican City State) (VA)&quot;,&quot;Honduras (HN)&quot;,&quot;Hong Kong (HK)&quot;,&quot;Hungary (HU)&quot;,&quot;Iceland (IS)&quot;, &quot;India (IN)&quot;,&quot;Indonesia (ID)&quot;,&quot;Iran, Islamic Republic Of (IR)&quot;,&quot;Iraq (IQ)&quot;,&quot;Ireland (IE)&quot;, &quot;Isle Of Man (IM)&quot;,&quot;Israel (IL)&quot;,&quot;Italy (IT)&quot;,&quot;Jamaica (JM)&quot;,&quot;Japan (JP)&quot;,&quot;Jersey (JE)&quot;,&quot;Jordan (JO)&quot;, &quot;Kazakhstan (KZ)&quot;,&quot;Kenya (KE)&quot;,&quot;Kiribati (Kl)&quot;,&quot;Kosovo (XK)&quot;,&quot;Kuwait (KW)&quot;,&quot;Kyrgyzstan (KG)&quot;, &quot;Lao People's Democratic Republic (LA)&quot;,&quot;Latvia (LV)&quot;,&quot;Lebanon (LB)&quot;,&quot;Lesotho (LS)&quot;,&quot;Liberia (LR)&quot;, &quot;Libya (LY)&quot;,&quot;Liechtenstein (LI)&quot;,&quot;Lithuania (LT)&quot;,&quot;Luxembourg (LU)&quot;,&quot;Macau (MO)&quot;, &quot;Macedonia (FYROM) (MK)&quot;,&quot;Madagascar (MG)&quot;,&quot;Malawi (MW)&quot;,&quot;Malaysia (MY)&quot;,&quot;Maldives (MV)&quot;,&quot;Mali (ML)&quot;, &quot;Malta (ML)&quot;,&quot;Marshall Islands (MH)&quot;,&quot;Martinique (MQ)&quot;,&quot;Mauritania (MR)&quot;,&quot;Mauritius (MU)&quot;,&quot;Mayotte (YT)&quot;, &quot;Maxico (MX)&quot;,&quot;Micronesia, Federated States Of  (FM)&quot;,&quot;Moldova, Republic Of (MD)&quot;,&quot;Monaco (MC)&quot;, &quot;Mangolia (MN)&quot;,&quot;Montenegro (ME)&quot;,&quot;Montserrat (MS)&quot;,&quot;Morocco (MA)&quot;,&quot;Mozambique (MZ)&quot;,&quot;Myanmar (MM)&quot;, &quot;Namibia (NA)&quot;,&quot;Nauru (NR)&quot;,&quot;Nepal (Np)&quot;,&quot;Netherlands (NL)&quot;,&quot;New Caledonia (NC)&quot;,&quot;New Zealand (NZ)&quot;, &quot;Nicaragua (NI)&quot;,&quot;Niger (NE)&quot;,&quot;Nigeria (NG)&quot;,&quot;Niue (NU)&quot;,&quot;Norfolk islands (NF)&quot;,&quot;North Korea (KP)&quot;, &quot;Northern Mariana islands (MP)&quot;,&quot;Norway (NO)&quot;,&quot;Oman (OM)&quot;,&quot;Pakistan (PK)&quot;,&quot;Palau (PW)&quot;,&quot;Palestine (PS)&quot;, &quot;Panama (PA)&quot;,&quot;Papua New Guinea (PG)&quot;,&quot;Paraguay (PY)&quot;,&quot;Peru (PE)&quot;,&quot;Philipines (PH)&quot;, &quot;Pitcaim Islands (PN)&quot;,&quot;Poland (PL)&quot;,&quot;Portugal (PT)&quot;,&quot;Puerto Rico (PR)&quot;,&quot;Qatar (QA)&quot;,&quot;Reunion (RE)&quot;,\n            &quot;Romania (RO)&quot;,&quot;Russian Federation (RU)&quot;,&quot;Rawanda (RW)&quot;,&quot;Saint Barthelelemy (BL)&quot;, &quot;Saint Helena,Ascension And Tristan Da Cunha(SH)&quot;,&quot;Saint Kitts and Nevis (KN)&quot;,&quot;Saint Lucia (LC)&quot;, &quot;Saint Martin (MF)&quot;,&quot;Saint Pierre And Miquelon (PM)&quot;,&quot;Saint Vincent &amp; The Grenadines (VC)&quot;,&quot;Samoa (WS)&quot;, &quot;San Marino (SM)&quot;,&quot;Sao Tome And Principe (ST)&quot;,&quot;Saudi Arabia (SA)&quot;,&quot;Senegal (SN)&quot;,&quot;Serbia (RS)&quot;, &quot;Seychelles (SC)&quot;,&quot;Sierra Leone (SL)&quot;,&quot;Singapore (SG)&quot;,&quot;Sint Marten (SX)&quot;,&quot;Slovakia (SK)&quot;,&quot;Slovenia (SL)&quot;, &quot;Solomon Islands (SB)&quot;,&quot;Somalia (SO)&quot;,&quot;South Africa (ZA)&quot;,&quot;South Korea (KR)&quot;,&quot;South Sudan (SS)&quot;, &quot;Spain (ES)&quot;,&quot;Sri Lanka (LK)&quot;,&quot;Sudan (SD)&quot;,&quot;Suriname (SR)&quot;,&quot;Swaziland (SZ)&quot;,&quot;Sweden (SE)&quot;, &quot;Switzerland (CH)&quot;,&quot;Syrian Arab Republic (SY)&quot;,&quot;Taiwan (TW)&quot;,&quot;Tajikistan (TJ)&quot;, &quot;Tanzania, United Republic Of (TZ)&quot;,&quot;Thailand (TH)&quot;,&quot;Timor-leste (TL)&quot;,&quot;Togo (TG)&quot;,&quot; Tokelau(TK)&quot;, &quot;Tonga (TO)&quot;,&quot;Trinidad &amp; Tabago (TT)&quot;,&quot;Tunisisa (TN)&quot;,&quot;Turkey (TR)&quot;,&quot;Turkmenistan (TM)&quot;, &quot;Turks and Caicos Islands (TC)&quot;,&quot;Tuvalu (TV)&quot;,&quot;Uganda (UG)&quot;,&quot;Ukraine (UA)&quot;, &quot;United Arab Emirates (UAE) (AE)&quot;,&quot;United Kingdom (GB)&quot;,&quot;United States (US)&quot;,&quot;Urguay (UY)&quot;, &quot;US Virgin Islands (VI)&quot;,&quot;Uzbekistan (UZ)&quot;,&quot;Vanuatu (VU)&quot;,&quot;Venezuela, Bolivarian Republic Of (VE)&quot;, &quot;Vietnam (VN)&quot;,&quot;Wallis And Futuna (WF)&quot;,&quot;Yemen (YE)&quot;,&quot;Zambia (ZM)&quot;,&quot;Zimbabwe (ZW)&quot;};\n    AutoCompleteTextView autoCompleteContinents, autoCompleteCountries;\n    ArrayAdapter&lt;String&gt; adapterItems;\n    String continentItem, countryItem;\n\n    ImageView flagImage;\n    Button browsBtn, insertBtn;\n    Uri filepath;\n    Bitmap bitmap;\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_country);\n\n//*****************************Continent and country Picker************************\n        autoCompleteContinents = findViewById(R.id.auto_complete_continent);\n        autoCompleteCountries = findViewById(R.id.auto_complete_country);\n        adapterItems = new ArrayAdapter&lt;String&gt;(this, R.layout.list_items, continents);\n        autoCompleteContinents.setAdapter(adapterItems);\n        autoCompleteContinents.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                continentItem = adapterView.getItemAtPosition(i).toString();\n            }\n        });\n\n        adapterItems = new ArrayAdapter&lt;String&gt;(this, R.layout.list_items, countries);\n        autoCompleteCountries.setAdapter(adapterItems);\n        autoCompleteCountries.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                countryItem = adapterView.getItemAtPosition(i).toString();\n            }\n        });\n        //**************************************END***************************************\n\n        //**************************************Browse Image from storage***************************************\n        browsBtn = findViewById(R.id.browseBtn);\n        flagImage = findViewById(R.id.imgFlag);\n\n        browsBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Dexter.withContext(AddCountryActivity.this)\n                        .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                        .withListener(new PermissionListener() {\n                            @Override\n                            public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                                Intent intent = new Intent(Intent.ACTION_PICK);\n                                intent.setType(&quot;image/*&quot;);\n                                startActivityIfNeeded(Intent.createChooser(intent,&quot;Select Image File&quot;), 1);\n                            }\n\n                            @Override\n                            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n\n                            }\n\n                            @Override\n                            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                                permissionToken.continuePermissionRequest();\n                            }\n                        }).check();\n            }\n        });\n\n        //**************************************End***************************************\n\n        insertBtn = findViewById(R.id.insertBtn);\n        insertBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                insertCountryData();\n\n            }\n        });\n    }\n    //**************************************Browse Image from storage***************************************\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)  {\n        if (requestCode==1 &amp;&amp; resultCode==RESULT_OK)\n        {\n            filepath=data.getData();\n            try {\n                InputStream inputStream=getContentResolver().openInputStream(filepath);\n                bitmap= BitmapFactory.decodeStream(inputStream);\n                flagImage.setImageBitmap(bitmap);\n            }\n            catch (Exception ex){\n\n            }\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n//**************************************End***************************************\n//**************************************Insert Country Data to fire base***************************************\n\n    private void insertCountryData(){\n        String continent = continentItem.trim();\n        String country = countryItem.trim();\n\n\n        ProgressDialog dialog = new ProgressDialog(this);\n        dialog.setTitle(&quot;File Uploader&quot;);\n        dialog.show();\n\n\n\n        FirebaseStorage firebaseStorage = FirebaseStorage.getInstance();\n        StorageReference storageReference = firebaseStorage.getReference(&quot;Image1&quot;+new Random().nextInt(50));\n\n        storageReference.putFile(filepath)\n                .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        storageReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n\n                            @Override\n                            public void onSuccess(Uri uri) {\n\n                                dialog.dismiss();\n\n                                HashMap&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n                                map.put(&quot;ContinentName&quot;, continent);\n                                map.put(&quot;CountryName&quot;, country);\n                                map.put(&quot;FlagImage&quot;, uri.toString());\n\n                                \n                                firestore.collection(&quot;Countries&quot;).document(country.toString()).set(map).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onSuccess(Void unused) {\n                                        Toast.makeText(AddCountryActivity.this, &quot;Done&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                }).addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n                                        Toast.makeText(AddCountryActivity.this, &quot;Not Done&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                });\n//                                FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n//                                DatabaseReference databaseReference = firebaseDatabase.getReference(&quot;CountryList&quot;);\n//                                databaseReference.push().setValue(map);\n                                //Toast.makeText(AddCountryActivity.this, &quot;Done&quot;, Toast.LENGTH_SHORT).show();\n//                                startActivity(new Intent(AddCountryActivity.this,AdminMainActivity.class));\n//                                finish();\n                            }\n                        });\n                    }\n                })\n                .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\n                        float percent = (100 * snapshot.getBytesTransferred()/snapshot.getTotalByteCount());\n                        dialog.setMessage(&quot;Uploded: &quot;+(int)percent+&quot;%&quot;);\n                    }\n                });\n\n    }\n\n    //**************************************End***************************************\n\n    //*************************onBackPress going back**************************************\n    // onBackPressed starts.\n//  onBackPressed single click going back to the previous activity.\n//  onBackPressed double click app is close.\n    int counter = 0;\n    @Override\n    public void onBackPressed(){\n        counter++;\n        if (counter == 1)\n            startActivity(new Intent(AddCountryActivity.this,AdminMainActivity.class));\n        finish();\n//            setContentView(R.layout.activity_main);\n//        if (counter ==2)\n//            super.onBackPressed();\n    }\n    // onBackPressed ends\n    //*****************************End**********************************\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1670505072,"creation_date":1657619246,"answer_id":72950287,"question_id":72949605,"body_markdown":"Well, the problem is following: Lombok is an annotation processor, and the code generated with/by Lombok does not depend on Lombok anymore. In Maven terms that means the dependency on Lombok should have `provided` scope (in order to not include the Lombok jar into the target artifact). Unfortunately, the Spring developers have another opinion about dependencies with scope=`provided`. Please check this conversation: https://stackoverflow.com/questions/70207686/maven-requires-plugin-version-to-be-specified-for-the-managed-dependency-spring/70208349#70208349\r\n\r\nSo, your configuration explicitly removes the Lombok jar from the target artifact.","title":"What is the purpose of Spring Boot excluding Lombok plugin?","body":"<p>Well, the problem is following: Lombok is an annotation processor, and the code generated with/by Lombok does not depend on Lombok anymore. In Maven terms that means the dependency on Lombok should have <code>provided</code> scope (in order to not include the Lombok jar into the target artifact). Unfortunately, the Spring developers have another opinion about dependencies with scope=<code>provided</code>. Please check this conversation: <a href=\"https://stackoverflow.com/questions/70207686/maven-requires-plugin-version-to-be-specified-for-the-managed-dependency-spring/70208349#70208349\">Maven requires plugin version to be specified for the managed dependency spring-boot-configuration-processor</a></p>\n<p>So, your configuration explicitly removes the Lombok jar from the target artifact.</p>\n"}],"owner":{"display_name":"user19483562"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1670505072,"creation_date":1657616351,"question_id":72949605,"body_markdown":"I am aware what Lombok is, it minimizes boilerplate code through the use of some annotations. Lombok generates the equivalent Java code at compile time by using Java internals [\\[Ref\\]][1]. Hence it does not need any explicit plugin or Maven/Gradle build phase during compile time.\r\n\r\nOn looking at the pom.xml of a Spring Boot Project, I see below plugins section and am wondering what this exclusion is about. \r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/6107197/how-does-lombok-work\r\n","title":"What is the purpose of Spring Boot excluding Lombok plugin?","body":"<p>I am aware what Lombok is, it minimizes boilerplate code through the use of some annotations. Lombok generates the equivalent Java code at compile time by using Java internals <a href=\"https://stackoverflow.com/questions/6107197/how-does-lombok-work\">[Ref]</a>. Hence it does not need any explicit plugin or Maven/Gradle build phase during compile time.</p>\n<p>On looking at the pom.xml of a Spring Boot Project, I see below plugins section and am wondering what this exclusion is about.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","equals"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669567623,"creation_date":1669567623,"answer_id":74591912,"question_id":74591522,"body_markdown":"`.equals` is a method defined inside the entity class. For this, there is no reason to use any `getters` since even fields with private access modifiers are accessible directly from methods of the same class. \r\n\r\n&gt;  Also, does it matter if I use FetchType.LAZY (I imagine it would)?\r\n\r\nYes technically it would matter since you must have the session of entityManager open during invocation of `equals` for a lazy field otherwise the much known error of `LazyInitializationException` would occur. But because spring boot works with default of `spring.jpa.open-in-view=true` it short-circuits this error as it keeps the session open until the response is handled to the user. \r\n\r\nSo if you use `Spring-Boot` and you don&#39;t have any customization yourself like `spring.jpa.open-in-view=false` it should not matter if you use FetchType.Lazy or not for evaluation of `equals`.","title":"Should I use getters or fields in JPA entity equals methods?","body":"<p><code>.equals</code> is a method defined inside the entity class. For this, there is no reason to use any <code>getters</code> since even fields with private access modifiers are accessible directly from methods of the same class.</p>\n<blockquote>\n<p>Also, does it matter if I use FetchType.LAZY (I imagine it would)?</p>\n</blockquote>\n<p>Yes technically it would matter since you must have the session of entityManager open during invocation of <code>equals</code> for a lazy field otherwise the much known error of <code>LazyInitializationException</code> would occur. But because spring boot works with default of <code>spring.jpa.open-in-view=true</code> it short-circuits this error as it keeps the session open until the response is handled to the user.</p>\n<p>So if you use <code>Spring-Boot</code> and you don't have any customization yourself like <code>spring.jpa.open-in-view=false</code> it should not matter if you use FetchType.Lazy or not for evaluation of <code>equals</code>.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670504960,"creation_date":1670504960,"answer_id":74730796,"question_id":74591522,"body_markdown":"First of all, proposed implementation:\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (!(o instanceof Book)) return false;\r\n    Book book = (Book) o;\r\n    return Objects.equals(getIsbn(), book.getIsbn());\r\n}\r\n```\r\n\r\nmay violate `symmetric` contract of `#equals` method as soon as you start creating successors of the `Book` class:\r\n\r\n* for any non-null reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.\r\n\r\nAt second, lazy-loading (`FetchType.LAZY`) does not work for `@Basic` fields in HBN by default: in order to make it work you need to enable [bytecode enhancements](https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/bytecode/BytecodeEnhancement.html) (IMO, it makes sense for `@Lob` fields only). \r\n\r\n\r\nAnd, at third, using fields to implement `#equals` **is NOT OK**, consider following code:\r\n\r\n```\r\nBook ref = session.load(Book.class, id);\r\nBook book = Hibernate.unproxy(ref);\r\nassertThat(book).isEqualTo(ref);\r\n```\r\n\r\nThe problem is you may encounter proxy objects (instances of `org.hibernate.proxy.HibernateProxy`), which have the same fields as entity class has, but all of those fields are nulls:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2wXBO.png","title":"Should I use getters or fields in JPA entity equals methods?","body":"<p>First of all, proposed implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Book)) return false;\n    Book book = (Book) o;\n    return Objects.equals(getIsbn(), book.getIsbn());\n}\n</code></pre>\n<p>may violate <code>symmetric</code> contract of <code>#equals</code> method as soon as you start creating successors of the <code>Book</code> class:</p>\n<ul>\n<li>for any non-null reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.</li>\n</ul>\n<p>At second, lazy-loading (<code>FetchType.LAZY</code>) does not work for <code>@Basic</code> fields in HBN by default: in order to make it work you need to enable <a href=\"https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/bytecode/BytecodeEnhancement.html\" rel=\"nofollow noreferrer\">bytecode enhancements</a> (IMO, it makes sense for <code>@Lob</code> fields only).</p>\n<p>And, at third, using fields to implement <code>#equals</code> <strong>is NOT OK</strong>, consider following code:</p>\n<pre><code>Book ref = session.load(Book.class, id);\nBook book = Hibernate.unproxy(ref);\nassertThat(book).isEqualTo(ref);\n</code></pre>\n<p>The problem is you may encounter proxy objects (instances of <code>org.hibernate.proxy.HibernateProxy</code>), which have the same fields as entity class has, but all of those fields are nulls:</p>\n<p><a href=\"https://i.stack.imgur.com/2wXBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wXBO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670504960,"creation_date":1669564591,"question_id":74591522,"body_markdown":"When writing an `equals` method for my JPA entity, should I access the fields directly, or should I go through the getters?\r\n\r\nIn other words, do I do this?\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n&#160;&#160;&#160;&#160;if (this == o) return true;\r\n&#160;&#160;&#160;&#160;if (!(o instanceof Book)) return false;\r\n&#160;&#160;&#160;&#160;Book book = (Book) o;\r\n&#160;&#160;&#160;&#160;return Objects.equals(getIsbn(), book.getIsbn());\r\n}\r\n```\r\n\r\nOr this?\r\n\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n&#160;&#160;&#160;&#160;if (this == o) return true;\r\n&#160;&#160;&#160;&#160;if (!(o instanceof Book)) return false;\r\n&#160;&#160;&#160;&#160;Book book = (Book) o;\r\n&#160;&#160;&#160;&#160;return Objects.equals(isbn, book.isbn);\r\n}\r\n```\r\n\r\nIn this context, does it matter if I place the JPA annotations on the fields or on the getters? Also, does it matter if I use `FetchType.LAZY` (I imagine it would)? I read somewhere that lazy fields aren&#39;t materialized if you access by field and the annotation is placed on the getter (they&#39;ll remain `null` or empty), but does it happen when the annotation is placed on the field?\r\n\r\nDoes the behaviour differ between Hibernate and other vendors?\r\n\r\nI googled, and even opened a book, but I&#39;m kind of a JPA noob and I couldn&#39;t find a definitive answer to this question (although I did notice that experts tend to use getters in their blogs, such as [this post](https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/)).","title":"Should I use getters or fields in JPA entity equals methods?","body":"<p>When writing an <code>equals</code> method for my JPA entity, should I access the fields directly, or should I go through the getters?</p>\n<p>In other words, do I do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Book)) return false;\n    Book book = (Book) o;\n    return Objects.equals(getIsbn(), book.getIsbn());\n}\n</code></pre>\n<p>Or this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Book)) return false;\n    Book book = (Book) o;\n    return Objects.equals(isbn, book.isbn);\n}\n</code></pre>\n<p>In this context, does it matter if I place the JPA annotations on the fields or on the getters? Also, does it matter if I use <code>FetchType.LAZY</code> (I imagine it would)? I read somewhere that lazy fields aren't materialized if you access by field and the annotation is placed on the getter (they'll remain <code>null</code> or empty), but does it happen when the annotation is placed on the field?</p>\n<p>Does the behaviour differ between Hibernate and other vendors?</p>\n<p>I googled, and even opened a book, but I'm kind of a JPA noob and I couldn't find a definitive answer to this question (although I did notice that experts tend to use getters in their blogs, such as <a href=\"https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\" rel=\"nofollow noreferrer\">this post</a>).</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1670504886,"creation_date":1334656466,"answer_id":10188992,"question_id":10188835,"body_markdown":"You need to look into the [POSIX character classes][1] to catch those. Sadly Java Regex don&#39;t support language specific POSIX classes but maybe  \r\n`\\p{Graph}\tA visible character:   [\\p{Alnum}\\p{Punct}]` or  \r\n`\\p{Print}\tA printable character: [\\p{Graph}\\x20]`  \r\nwill fit.\r\n\r\nBest fit as suggested by Sorin probably is `\\p{L}` (Letter).\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Regexer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint maxCharacters = 100;\r\n    \t\tString data = &quot;Ă ă &#194; &#226; &#206; &#238; Ș ș Ț ț&quot;;\r\n    \t\tString pattern = &quot;^[\\\\p{L}0-9+,. &#39;-]{1,&quot; + maxCharacters + &quot;}$&quot;;\r\n    \r\n    \t\tPattern p = Pattern.compile(pattern);\r\n    \r\n    \t\tif (p.matcher(data).matches()) {\r\n    \t\t\tSystem.out.println(&quot;Hit&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;No&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nThis works for me.","title":"Regex diacritics","body":"<p>You need to look into the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">POSIX character classes</a> to catch those. Sadly Java Regex don't support language specific POSIX classes but maybe<br />\n<code>\\p{Graph}  A visible character:   [\\p{Alnum}\\p{Punct}]</code> or<br />\n<code>\\p{Print}  A printable character: [\\p{Graph}\\x20]</code><br />\nwill fit.</p>\n<p>Best fit as suggested by Sorin probably is <code>\\p{L}</code> (Letter).</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Regexer {\n\n    public static void main(String[] args) {\n        int maxCharacters = 100;\n        String data = &quot;Ă ă Â â Î î Ș ș Ț ț&quot;;\n        String pattern = &quot;^[\\\\p{L}0-9+,. '-]{1,&quot; + maxCharacters + &quot;}$&quot;;\n\n        Pattern p = Pattern.compile(pattern);\n\n        if (p.matcher(data).matches()) {\n            System.out.println(&quot;Hit&quot;);\n        } else {\n            System.out.println(&quot;No&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>This works for me.</p>\n"}],"owner":{"account_id":978824,"reputation":3408,"user_id":1004978,"accept_rate":91,"display_name":"Fofole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3131,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10188992,"answer_count":1,"score":5,"last_activity_date":1670504886,"creation_date":1334655869,"question_id":10188835,"body_markdown":"I have the following regex:\r\n\r\n    String regExpression = &quot;^[a-zA-Z0-9+,. &#39;-]{1,&quot;+maxCharacters+&quot;}$&quot;;\r\n\r\nwhich works fine for me, except, it doesn&#39;t allow any UTF-8 diacritics in it(Ă ă &#194; &#226; &#206; &#238; Ș ș Ț ț). \r\n\r\nI only need my current regex to accept diacritics in it besides what it already does.\r\n\r\nAny help is appreciated. Thanks.","title":"Regex diacritics","body":"<p>I have the following regex:</p>\n\n<pre><code>String regExpression = \"^[a-zA-Z0-9+,. '-]{1,\"+maxCharacters+\"}$\";\n</code></pre>\n\n<p>which works fine for me, except, it doesn't allow any UTF-8 diacritics in it(Ă ă Â â Î î Ș ș Ț ț). </p>\n\n<p>I only need my current regex to accept diacritics in it besides what it already does.</p>\n\n<p>Any help is appreciated. Thanks.</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","micrometer-tracing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670486040,"post_id":74726742,"comment_id":131887500,"body_markdown":"You should be able to make this an `ExchangeFunction` and use that as a filter when creating the `WebClient`. That way it will apply to all the requests done with the `WebClient`. You can take a look on how Zipkin did it and then take that approach again. Should be a matter of configuration.","body":"You should be able to make this an <code>ExchangeFunction</code> and use that as a filter when creating the <code>WebClient</code>. That way it will apply to all the requests done with the <code>WebClient</code>. You can take a look on how Zipkin did it and then take that approach again. Should be a matter of configuration."},{"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"score":0,"creation_date":1670489256,"post_id":74726742,"comment_id":131888493,"body_markdown":"@M.Deinum can some example of this be found?","body":"@M.Deinum can some example of this be found?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670492197,"post_id":74726742,"comment_id":131889364,"body_markdown":"On hindsight I believe that should work out of the box if the right dependencies are on the classpath. That is what the [`WebFluxObservationAutoConfiguration`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/observation/web/reactive/WebFluxObservationAutoConfiguration.java) should setup. Using `tap` should be all you need (if I read correctly). See also https://tanzu.vmware.com/developer/guides/observability-reactive-spring-boot-3/","body":"On hindsight I believe that should work out of the box if the right dependencies are on the classpath. That is what the <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/observation/web/reactive/WebFluxObservationAutoConfiguration.java\" rel=\"nofollow noreferrer\"><code>WebFluxObservationAutoConfiguration</code></a> should setup. Using <code>tap</code> should be all you need (if I read correctly). See also <a href=\"https://tanzu.vmware.com/developer/guides/observability-reactive-spring-boot-3/\" rel=\"nofollow noreferrer\">tanzu.vmware.com/developer/guides/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670489904,"creation_date":1670487362,"answer_id":74727317,"question_id":74726742,"body_markdown":"Based on your description, I think you want to integrate micrometar without changing the original code\r\n\r\nFortunately it can be implemented through `@Observed` + aop\r\n\r\nYou can refer to the official documentation \r\nRefer to Section 4.6 [observation][1]\r\n\r\nadd config code   \r\n\r\n      @Bean\r\n      public ObservedAspect observedAspect(ObservationRegistry observationRegistry) {\r\n          return new ObservedAspect(observationRegistry, this::skipControllers);\r\n      }\r\n     \r\n      private boolean skipControllers(ProceedingJoinPoint pjp) {\r\n          Class&lt;?&gt; targetClass = pjp.getTarget().getClass();\r\n          return targetClass.isAnnotationPresent(RestController.class) || targetClass.isAnnotationPresent(Controller.class);\r\n      }\r\n\r\n  \r\n\r\n  [1]: https://micrometer.io/docs/observation","title":"Migrating Sleuth to Observation API by Micrometar Spring Boot 3.0.0","body":"<p>Based on your description, I think you want to integrate micrometar without changing the original code</p>\n<p>Fortunately it can be implemented through <code>@Observed</code> + aop</p>\n<p>You can refer to the official documentation\nRefer to Section 4.6 <a href=\"https://micrometer.io/docs/observation\" rel=\"nofollow noreferrer\">observation</a></p>\n<p>add config code</p>\n<pre><code>  @Bean\n  public ObservedAspect observedAspect(ObservationRegistry observationRegistry) {\n      return new ObservedAspect(observationRegistry, this::skipControllers);\n  }\n \n  private boolean skipControllers(ProceedingJoinPoint pjp) {\n      Class&lt;?&gt; targetClass = pjp.getTarget().getClass();\n      return targetClass.isAnnotationPresent(RestController.class) || targetClass.isAnnotationPresent(Controller.class);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670504847,"creation_date":1670504847,"answer_id":74730772,"question_id":74726742,"body_markdown":"Currently there&#39;s no other way but to be a little bit more verbose and use the tap or handle operator that will automatically put observations in scope. We will be working on better, automated solutions in the future ","title":"Migrating Sleuth to Observation API by Micrometar Spring Boot 3.0.0","body":"<p>Currently there's no other way but to be a little bit more verbose and use the tap or handle operator that will automatically put observations in scope. We will be working on better, automated solutions in the future</p>\n"}],"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670504847,"creation_date":1670483979,"question_id":74726742,"body_markdown":"We have Sleuth enabled on all endpoints Spring 2.7.x ( that comes out of the box). Just plain and simple traceId/spanId tracking. Now as in Spring Sleuth is no more available in Spring Boot 3.0.0. Is there a way to enable this new Observation Api on all endpoints. \r\n\r\n**Before had this:** \r\n\r\n    /*\r\n     List all beers in database\r\n     */\r\n    public Mono&lt;ServerResponse&gt; listBeer() {\r\n        return beerService.listBeers(null,  null, PageRequest.ofSize(50), true)\r\n                .flatMap(beerDto -&gt; ServerResponse.ok().bodyValue(beerDto))\r\n                .switchIfEmpty(ServerResponse.notFound().build());\r\n\r\n\r\n    }\r\n\r\n\r\n**Now with new Api in every endpoint need to do this:** \r\n\r\n    /*\r\n     List all beers in database\r\n     */\r\n    public Mono&lt;ServerResponse&gt; listBeer() {\r\n        Observation observation = Observation.start(&quot;listBeer-sample&quot;, observationRegistry);\r\n        return Mono.just(observation).flatMap(span -&gt; {\r\n\r\n                    observation.scoped(() -&gt; log.info(&quot;I can fetch trace id &lt;TRACE:{}&gt; &quot;,\r\n                            this.tracer.currentSpan().context().traceId())\r\n                    );\r\n                    return beerService.listBeers(null, null, PageRequest.ofSize(50), true)\r\n                            .flatMap(beerDto -&gt; ServerResponse.ok().bodyValue(beerDto))\r\n                            .switchIfEmpty(ServerResponse.notFound().build());\r\n                }).doFinally(signalType -&gt; observation.stop())\r\n                .contextWrite(context -&gt; context.put(ObservationThreadLocalAccessor.KEY, observation));\r\n\r\n    }\r\n}\r\n\r\n\r\nIs there a way to enable traceId/spanId out of the box on all endpoints without all of this clutter?","title":"Migrating Sleuth to Observation API by Micrometar Spring Boot 3.0.0","body":"<p>We have Sleuth enabled on all endpoints Spring 2.7.x ( that comes out of the box). Just plain and simple traceId/spanId tracking. Now as in Spring Sleuth is no more available in Spring Boot 3.0.0. Is there a way to enable this new Observation Api on all endpoints.</p>\n<p><strong>Before had this:</strong></p>\n<pre><code>/*\n List all beers in database\n */\npublic Mono&lt;ServerResponse&gt; listBeer() {\n    return beerService.listBeers(null,  null, PageRequest.ofSize(50), true)\n            .flatMap(beerDto -&gt; ServerResponse.ok().bodyValue(beerDto))\n            .switchIfEmpty(ServerResponse.notFound().build());\n\n\n}\n</code></pre>\n<p><strong>Now with new Api in every endpoint need to do this:</strong></p>\n<pre><code>/*\n List all beers in database\n */\npublic Mono&lt;ServerResponse&gt; listBeer() {\n    Observation observation = Observation.start(&quot;listBeer-sample&quot;, observationRegistry);\n    return Mono.just(observation).flatMap(span -&gt; {\n\n                observation.scoped(() -&gt; log.info(&quot;I can fetch trace id &lt;TRACE:{}&gt; &quot;,\n                        this.tracer.currentSpan().context().traceId())\n                );\n                return beerService.listBeers(null, null, PageRequest.ofSize(50), true)\n                        .flatMap(beerDto -&gt; ServerResponse.ok().bodyValue(beerDto))\n                        .switchIfEmpty(ServerResponse.notFound().build());\n            }).doFinally(signalType -&gt; observation.stop())\n            .contextWrite(context -&gt; context.put(ObservationThreadLocalAccessor.KEY, observation));\n\n}\n</code></pre>\n<p>}</p>\n<p>Is there a way to enable traceId/spanId out of the box on all endpoints without all of this clutter?</p>\n"},{"tags":["java","spring","spring-mvc","servlets","dispatcher"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670507119,"post_id":74730755,"comment_id":131894315,"body_markdown":"When using Spring 6, you need a JakartaEE server. If you are deploying to Tomcat 9 nothing will work you need at least Tomcat 10.","body":"When using Spring 6, you need a JakartaEE server. If you are deploying to Tomcat 9 nothing will work you need at least Tomcat 10."}],"owner":{"account_id":7465223,"reputation":11,"user_id":5675069,"display_name":"Ivan Gorbunov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670504752,"creation_date":1670504752,"question_id":74730755,"body_markdown":"I&#39;m new in Spring but i&#39;ve already made simple spring-mvc projects in spring 5, now i decided to choose new 6 version and do everything the same way, but it does not work.\r\n\r\nSpringConfig.java:\r\n\r\n\t@Configuration\r\n\t@ComponentScan(&quot;org.example&quot;)\r\n\t@EnableWebMvc\r\n\tpublic class SpringConfig implements WebMvcConfigurer {\r\n\r\n\t\tprivate final ApplicationContext applicationContext;\r\n\r\n\t\t@Autowired\r\n\t\tpublic SpringConfig(ApplicationContext applicationContext) {\r\n\t\t\tthis.applicationContext = applicationContext;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n\t\t\t// IT DOES NOT GO HERE!!!!\r\n\t\t\tThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n\t\t\tresolver.setTemplateEngine(templateEngine());\r\n\t\t\tregistry.viewResolver(resolver);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SpringTemplateEngine templateEngine() {\r\n\t\t\tSpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n\t\t\ttemplateEngine.setTemplateResolver(templateResolver());\r\n\t\t\ttemplateEngine.setEnableSpringELCompiler(true);\r\n\r\n\t\t\treturn templateEngine;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SpringResourceTemplateResolver templateResolver() {\r\n\t\t\tSpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n\t\t\ttemplateResolver.setApplicationContext(applicationContext);\r\n\t\t\ttemplateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n\t\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\r\n\t\t\treturn templateResolver;\r\n\t\t}\r\n\r\nMySpringMVCDispatcherServletInitializer.java:\r\n\t\r\n\tpublic class MySpringMVCDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n\t\t@Override\r\n\t\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\t\treturn new Class[] { SpringConfig.class };\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected String[] getServletMappings() {\r\n\t\t\treturn new String[] { &quot;/&quot; };\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onStartup(ServletContext aServletContext) throws ServletException {\r\n\t\t\tsuper.onStartup(aServletContext);\r\n\t\t\tregisterHiddenFieldFilter(aServletContext);\r\n\t\t}\r\n\r\n\t\tprivate void registerHiddenFieldFilter(ServletContext aContext) {\r\n\t\t\taContext.addFilter(&quot;hiddenHttpMethodFilter&quot;,\r\n\t\t\t\t\tnew HiddenHttpMethodFilter()).addMappingForUrlPatterns(null ,true, &quot;/*&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\nI can see that somehow &quot;public void configureViewResolvers(ViewResolverRegistry registry)&quot; is not getting called and as far as I understand it is the problem why no controller is working.\r\nWhat should I do?","title":"Spring MVC (6.0.2) - dispatcher servlet not working (404 error)","body":"<p>I'm new in Spring but i've already made simple spring-mvc projects in spring 5, now i decided to choose new 6 version and do everything the same way, but it does not work.</p>\n<p>SpringConfig.java:</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;org.example&quot;)\n@EnableWebMvc\npublic class SpringConfig implements WebMvcConfigurer {\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        // IT DOES NOT GO HERE!!!!\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n\n        return templateEngine;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n\n        return templateResolver;\n    }\n</code></pre>\n<p>MySpringMVCDispatcherServletInitializer.java:</p>\n<pre><code>public class MySpringMVCDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] { SpringConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/&quot; };\n    }\n\n    @Override\n    public void onStartup(ServletContext aServletContext) throws ServletException {\n        super.onStartup(aServletContext);\n        registerHiddenFieldFilter(aServletContext);\n    }\n\n    private void registerHiddenFieldFilter(ServletContext aContext) {\n        aContext.addFilter(&quot;hiddenHttpMethodFilter&quot;,\n                new HiddenHttpMethodFilter()).addMappingForUrlPatterns(null ,true, &quot;/*&quot;);\n    }\n\n}\n</code></pre>\n<p>I can see that somehow &quot;public void configureViewResolvers(ViewResolverRegistry registry)&quot; is not getting called and as far as I understand it is the problem why no controller is working.\nWhat should I do?</p>\n"},{"tags":["java","string","recursion","multidimensional-array"],"comments":[{"owner":{"account_id":5860917,"reputation":726,"user_id":4616651,"display_name":"Alan"},"score":0,"creation_date":1625292088,"post_id":67898543,"comment_id":120593933,"body_markdown":"If you found the answer and posted it, then accept your own answer to move the question to the next state (solid green square in search/watch).","body":"If you found the answer and posted it, then accept your own answer to move the question to the next state (solid green square in search/watch)."}],"answers":[{"tags":[],"owner":{"account_id":21111641,"reputation":19,"user_id":15519471,"display_name":"FTeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623247146,"creation_date":1623247146,"answer_id":67905647,"question_id":67898543,"body_markdown":"I actually fixed the problem I needed i or j -1. ","title":"Finding a word in a 2D array recursively","body":"<p>I actually fixed the problem I needed i or j -1.</p>\n"}],"owner":{"account_id":21111641,"reputation":19,"user_id":15519471,"display_name":"FTeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670504730,"creation_date":1623219289,"question_id":67898543,"body_markdown":"I&#39;m not sure if boggle is a game that is familiar with most people so here is a brief description:\r\n\r\n&gt; Boggle is a word game where the objective is to find English words in a grid of random characters. Characters can be said to be part of the same word if they are left, down, up, right, diagonal from each other.\r\n\r\nMy task is to find an inputted word given a 2D array of random characters recursively. I feel like I&#39;m almost at a solution, however I keep getting an arrayindexoutofbounds exception and I&#39;m not sure why.\r\n\r\nThe `ArrayIndexOutOfBoundsException` is currently happening at the 4th else if statement according to the console\r\n\r\nHere is where I&#39;m at in my solution at the moment:\r\n```java\r\npublic static boolean letterIndex(String target, char[][] board, dictionary dictionary) {\r\n    for (int i = 0; i &lt; board.length; i++) {\r\n        for (int j = 0; j &lt; board[0].length; j++) {\r\n            if (board[i][j] == target.charAt(0)) {\r\n                char[] temp = target.toCharArray();\r\n                return findword(target, i, j, board, 1, dictionary, temp);\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\npublic static boolean findword(String target, int i, int j, char[][] board, int k,\r\n                               dictionary dictionary, char[] temp) {\r\n    if (k &gt;= temp.length) {\r\n        return true;\r\n    } else if (i &lt; board.length - 1 &amp; board[i + 1][j] == target.charAt(k)) {\r\n        //temp[k] = board[i + 1][j];\r\n        return findword(target, i + 1, j, board, k + 1, dictionary, temp);\r\n    } else if (j &lt; board[0].length - 1 &amp; board[i][j + 1] == target.charAt(k)) {\r\n        //temp[k] = board[i][j + 1];\r\n        return findword(target, i, j + 1, board, k + 1, dictionary, temp);\r\n    } else if (i &gt; 0 &amp; board[i - 1][j] == target.charAt(k)) {\r\n        //temp[k] = board[i - 1][j];\r\n        return findword(target, i - 1, j, board, k + 1, dictionary, temp);\r\n    } else if (j &gt; 0 &amp; board[i][j - 1] == target.charAt(k)) {\r\n        //temp[k] = board[i][j - 1];\r\n        return findword(target, i, j - 1, board, k + 1, dictionary, temp);\r\n    } else if (i &gt; 0 &amp; j &lt; board[0].length - 1 &amp; board[i - 1][j + 1] == target.charAt(k)) {\r\n        //temp[k] = board[i - 1][j + 1];\r\n        return findword(target, i - 1, j + 1, board, k + 1, dictionary, temp);\r\n    } else if (i &lt; board.length - 1 &amp; j &gt; 0 &amp; board[i + 1][j - 1] == target.charAt(k)) {\r\n        //temp[k] = board[i + 1][j - 1];\r\n        return findword(target, i + 1, j - 1, board, k + 1, dictionary, temp);\r\n    } else if (i &gt; 0 &amp; j &gt; 0 &amp; board[i - 1][j - 1] == target.charAt(k)) {\r\n        //temp[k] = board[i - 1][j - 1];\r\n        return findword(target, i - 1, j - 1, board, k + 1, dictionary, temp);\r\n    } else if (i &lt; board.length - 1 &amp; j &lt; board[0].length - 1 &amp; board[i + 1][j + 1] == target.charAt(k)) {\r\n        //temp[k] = board[i + 1][j + 1];\r\n        return findword(target, i + 1, j + 1, board, k + 1, dictionary, temp);\r\n    }\r\n    return false;\r\n}\r\n```\r\nthe letterIndex method searches for the intial letter of the word and finds it&#39;s location on the board. It then sets the first element of a temporary array to be this letter and calls the findword function which takes the location of the letter in the array and checks each direction for the next letter. It does this until the array matches the target string or all of the directions return false. I don&#39;t think there&#39;s anything wrong with what I did but I&#39;m getting errors so apparently I have made an error. Any insight would be much appreciated!","title":"Finding a word in a 2D array recursively","body":"<p>I'm not sure if boggle is a game that is familiar with most people so here is a brief description:</p>\n<blockquote>\n<p>Boggle is a word game where the objective is to find English words in a grid of random characters. Characters can be said to be part of the same word if they are left, down, up, right, diagonal from each other.</p>\n</blockquote>\n<p>My task is to find an inputted word given a 2D array of random characters recursively. I feel like I'm almost at a solution, however I keep getting an arrayindexoutofbounds exception and I'm not sure why.</p>\n<p>The <code>ArrayIndexOutOfBoundsException</code> is currently happening at the 4th else if statement according to the console</p>\n<p>Here is where I'm at in my solution at the moment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean letterIndex(String target, char[][] board, dictionary dictionary) {\n    for (int i = 0; i &lt; board.length; i++) {\n        for (int j = 0; j &lt; board[0].length; j++) {\n            if (board[i][j] == target.charAt(0)) {\n                char[] temp = target.toCharArray();\n                return findword(target, i, j, board, 1, dictionary, temp);\n            }\n        }\n    }\n    return false;\n}\n\npublic static boolean findword(String target, int i, int j, char[][] board, int k,\n                               dictionary dictionary, char[] temp) {\n    if (k &gt;= temp.length) {\n        return true;\n    } else if (i &lt; board.length - 1 &amp; board[i + 1][j] == target.charAt(k)) {\n        //temp[k] = board[i + 1][j];\n        return findword(target, i + 1, j, board, k + 1, dictionary, temp);\n    } else if (j &lt; board[0].length - 1 &amp; board[i][j + 1] == target.charAt(k)) {\n        //temp[k] = board[i][j + 1];\n        return findword(target, i, j + 1, board, k + 1, dictionary, temp);\n    } else if (i &gt; 0 &amp; board[i - 1][j] == target.charAt(k)) {\n        //temp[k] = board[i - 1][j];\n        return findword(target, i - 1, j, board, k + 1, dictionary, temp);\n    } else if (j &gt; 0 &amp; board[i][j - 1] == target.charAt(k)) {\n        //temp[k] = board[i][j - 1];\n        return findword(target, i, j - 1, board, k + 1, dictionary, temp);\n    } else if (i &gt; 0 &amp; j &lt; board[0].length - 1 &amp; board[i - 1][j + 1] == target.charAt(k)) {\n        //temp[k] = board[i - 1][j + 1];\n        return findword(target, i - 1, j + 1, board, k + 1, dictionary, temp);\n    } else if (i &lt; board.length - 1 &amp; j &gt; 0 &amp; board[i + 1][j - 1] == target.charAt(k)) {\n        //temp[k] = board[i + 1][j - 1];\n        return findword(target, i + 1, j - 1, board, k + 1, dictionary, temp);\n    } else if (i &gt; 0 &amp; j &gt; 0 &amp; board[i - 1][j - 1] == target.charAt(k)) {\n        //temp[k] = board[i - 1][j - 1];\n        return findword(target, i - 1, j - 1, board, k + 1, dictionary, temp);\n    } else if (i &lt; board.length - 1 &amp; j &lt; board[0].length - 1 &amp; board[i + 1][j + 1] == target.charAt(k)) {\n        //temp[k] = board[i + 1][j + 1];\n        return findword(target, i + 1, j + 1, board, k + 1, dictionary, temp);\n    }\n    return false;\n}\n</code></pre>\n<p>the letterIndex method searches for the intial letter of the word and finds it's location on the board. It then sets the first element of a temporary array to be this letter and calls the findword function which takes the location of the letter in the array and checks each direction for the next letter. It does this until the array matches the target string or all of the directions return false. I don't think there's anything wrong with what I did but I'm getting errors so apparently I have made an error. Any insight would be much appreciated!</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1402677979,"post_id":24210164,"comment_id":37381593,"body_markdown":"What makes you think you need to explicitly print out the message? Normally, if you&#39;re running a console app and it terminates via an exception, the exception is printed automatically. I would strongly suggest that you consider separating out your fatal and non-fatal exceptions into two types though - the fatal one should probably subclass `RuntimeException`.","body":"What makes you think you need to explicitly print out the message? Normally, if you&#39;re running a console app and it terminates via an exception, the exception is printed automatically. I would strongly suggest that you consider separating out your fatal and non-fatal exceptions into two types though - the fatal one should probably subclass <code>RuntimeException</code>."}],"answers":[{"tags":[],"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402679072,"creation_date":1402678012,"answer_id":24210217,"question_id":24210164,"body_markdown":"You should simply `throw` the exception, *without* catching it yourself in the method that&#39;s throwing it, unless you want to catch it there. Normally you don&#39;t, if you&#39;re creating the exception yourself. Other callers of this method may want to catch it though.\r\n\r\nThis will require that you modify your method signature to include `throws ...` indicating to callers what exceptions your method has the potential to throw:\r\n\r\n    if(columnNumberForGroupByColumnFile1 == null || columnNumberForGroupByColumnFile2 == null ||\r\n                    columnNumberForCountColumnFile1 == null || columnNumberForCountColumnFile2 == null ){\r\n                    \r\n            throw new ReconToolException(&quot;Can&#39;t find column number. Likely that there are unexpected headers in the CSV files. Check your CSV configuration enum .java files to see if they match the actual input CSV files.&quot;);\r\n         }\r\n            ...","title":"Creating my own Java Exception subclass","body":"<p>You should simply <code>throw</code> the exception, <em>without</em> catching it yourself in the method that's throwing it, unless you want to catch it there. Normally you don't, if you're creating the exception yourself. Other callers of this method may want to catch it though.</p>\n\n<p>This will require that you modify your method signature to include <code>throws ...</code> indicating to callers what exceptions your method has the potential to throw:</p>\n\n<pre><code>if(columnNumberForGroupByColumnFile1 == null || columnNumberForGroupByColumnFile2 == null ||\n                columnNumberForCountColumnFile1 == null || columnNumberForCountColumnFile2 == null ){\n\n        throw new ReconToolException(\"Can't find column number. Likely that there are unexpected headers in the CSV files. Check your CSV configuration enum .java files to see if they match the actual input CSV files.\");\n     }\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402678967,"creation_date":1402678157,"answer_id":24210249,"question_id":24210164,"body_markdown":"If you follow the second approach (i.e. catching the exception), then there is no meaning for the `isFatal` flag. If you simply throw and immediately catch the exception, then you are just displaying an error stack trace, and not allowing the exception to propagate up the sequence of method calls, and hence it cannot terminate the program in case it is fatal.\r\n\r\nYou should throw the exception, and let the caller of the method handle it.","title":"Creating my own Java Exception subclass","body":"<p>If you follow the second approach (i.e. catching the exception), then there is no meaning for the <code>isFatal</code> flag. If you simply throw and immediately catch the exception, then you are just displaying an error stack trace, and not allowing the exception to propagate up the sequence of method calls, and hence it cannot terminate the program in case it is fatal.</p>\n\n<p>You should throw the exception, and let the caller of the method handle it.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670504512,"creation_date":1670504512,"answer_id":74730710,"question_id":24210164,"body_markdown":"To me this is a design mistake that is also a common one in languages that don&#39;t have exception handling. The problem is that the code that generates the exception gets to define what is fatal and what is not. However, if something is fatal or not depends on the calling code. Your `isFatal` field (which could simply be called `fatal`) might indicate that something is fatal when run in a CLI. But you could also be running it as a web-application that reads lines from a text field in HTML, and in that case the web-server should keep running. \r\n\r\nIt&#39;s probably better to encapsulate the *meaning* of the exception using field or by creating multiple subclasses of `Exception`. You can indicate how serious the problem is in the documentation. The determination of the severity is then up to the calling classes.\r\n\r\nPersonally I never use `e.printStackTrace()`; I even replace it with different code in code templates offered by my IDE:\r\n\r\n```\r\n// TODO create more specific exception handling\r\nthrow new RuntimeException(&quot;Unhandled exception&quot;, e);\r\n```\r\n\r\nIf the calling code thinks that the exception thrown is fatal then it can throw a new `RuntimeException` or one of its subclasses with a clear description. Thus should then propagate all the way back to the start of execution of the module. If it passes the `main` method then the process will terminate after the stack trace is printed.","title":"Creating my own Java Exception subclass","body":"<p>To me this is a design mistake that is also a common one in languages that don't have exception handling. The problem is that the code that generates the exception gets to define what is fatal and what is not. However, if something is fatal or not depends on the calling code. Your <code>isFatal</code> field (which could simply be called <code>fatal</code>) might indicate that something is fatal when run in a CLI. But you could also be running it as a web-application that reads lines from a text field in HTML, and in that case the web-server should keep running.</p>\n<p>It's probably better to encapsulate the <em>meaning</em> of the exception using field or by creating multiple subclasses of <code>Exception</code>. You can indicate how serious the problem is in the documentation. The determination of the severity is then up to the calling classes.</p>\n<p>Personally I never use <code>e.printStackTrace()</code>; I even replace it with different code in code templates offered by my IDE:</p>\n<pre><code>// TODO create more specific exception handling\nthrow new RuntimeException(&quot;Unhandled exception&quot;, e);\n</code></pre>\n<p>If the calling code thinks that the exception thrown is fatal then it can throw a new <code>RuntimeException</code> or one of its subclasses with a clear description. Thus should then propagate all the way back to the start of execution of the module. If it passes the <code>main</code> method then the process will terminate after the stack trace is printed.</p>\n"}],"owner":{"account_id":1266843,"reputation":93044,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1670504512,"creation_date":1402677819,"question_id":24210164,"body_markdown":"I am creating my own Exception class for a simple command line tool I created. Basically the purpose is to decide when a fatal Exception is thrown and to terminate the program in that case. So my ReconToolException class has a boolean flag to record a fatal Exception.\r\n\r\nHowever, my question is, what is the proper way to &quot;throw&quot; the Exception?\r\n\r\nShould I do it this way?:\r\n\r\n\r\n    if(columnNumberForGroupByColumnFile1 == null || columnNumberForGroupByColumnFile2 == null ||\r\n    \t\t\tcolumnNumberForCountColumnFile1 == null || columnNumberForCountColumnFile2 == null ){\r\n    \t\t\r\n    \t\t\t  new ReconToolException(&quot;Can&#39;t find column number. Likely that there are unexpected headers in the CSV files. Check your CSV configuration enum .java files to see if they match the actual input CSV files.&quot;);\r\n    \t\t\r\n    \t}\r\n\r\nor should I do it the following way?:\r\n\r\n\r\n    if(columnNumberForGroupByColumnFile1 == null || columnNumberForGroupByColumnFile2 == null ||\r\n    \t\t\t\tcolumnNumberForCountColumnFile1 == null || columnNumberForCountColumnFile2 == null ){\r\n    \t\t\t try {\r\n    \t\t\t\t throw new ReconToolException(&quot;Can&#39;t find column number. Likely that there are unexpected headers in the CSV files. Check your CSV configuration enum .java files to see if they match the actual input CSV files.&quot;);\r\n    \t\t\t} catch (ReconToolException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nthe former seems to require that I explicitly code a print out statement in my ReconToolException class to print the error to the command line. The latter will catch itself (which is very strange AND honestly seems incorrect) and will print out the stack trace in the catch block. The former seems to make more sense, but the latter seems to work better. Is there a correct way?\r\n\r\n\r\nhere is the Exception class I created:\r\n\r\n\r\n    public class ReconToolException extends Exception {\r\n    \t\r\n    \tprivate boolean isFatal;\r\n    \r\n    \tpublic ReconToolException() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \tpublic ReconToolException(boolean isFatalException, String msg) {\r\n    \t\tsuper(msg);\r\n    \t\tthis.setFatal(isFatalException);\r\n    \t}\r\n    \r\n    \tpublic ReconToolException(String message) {\r\n    \t\tsuper(message);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic ReconToolException(Throwable cause) {\r\n    \t\tsuper(cause);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic ReconToolException(String message, Throwable cause) {\r\n    \t\tsuper(message, cause);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic ReconToolException(String message, Throwable cause,\r\n    \t\t\tboolean enableSuppression, boolean writableStackTrace) {\r\n    \t\tsuper(message, cause, enableSuppression, writableStackTrace);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \r\n    \tpublic boolean isFatal() {\r\n    \t\treturn isFatal;\r\n    \t}\r\n    \r\n    \tpublic void setFatal(boolean isFatal) {\r\n    \t\tthis.isFatal = isFatal;\r\n    \t}\r\n    \r\n    }\r\n","title":"Creating my own Java Exception subclass","body":"<p>I am creating my own Exception class for a simple command line tool I created. Basically the purpose is to decide when a fatal Exception is thrown and to terminate the program in that case. So my ReconToolException class has a boolean flag to record a fatal Exception.</p>\n\n<p>However, my question is, what is the proper way to \"throw\" the Exception?</p>\n\n<p>Should I do it this way?:</p>\n\n<pre><code>if(columnNumberForGroupByColumnFile1 == null || columnNumberForGroupByColumnFile2 == null ||\n            columnNumberForCountColumnFile1 == null || columnNumberForCountColumnFile2 == null ){\n\n              new ReconToolException(\"Can't find column number. Likely that there are unexpected headers in the CSV files. Check your CSV configuration enum .java files to see if they match the actual input CSV files.\");\n\n    }\n</code></pre>\n\n<p>or should I do it the following way?:</p>\n\n<pre><code>if(columnNumberForGroupByColumnFile1 == null || columnNumberForGroupByColumnFile2 == null ||\n                columnNumberForCountColumnFile1 == null || columnNumberForCountColumnFile2 == null ){\n             try {\n                 throw new ReconToolException(\"Can't find column number. Likely that there are unexpected headers in the CSV files. Check your CSV configuration enum .java files to see if they match the actual input CSV files.\");\n            } catch (ReconToolException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n\n<p>the former seems to require that I explicitly code a print out statement in my ReconToolException class to print the error to the command line. The latter will catch itself (which is very strange AND honestly seems incorrect) and will print out the stack trace in the catch block. The former seems to make more sense, but the latter seems to work better. Is there a correct way?</p>\n\n<p>here is the Exception class I created:</p>\n\n<pre><code>public class ReconToolException extends Exception {\n\n    private boolean isFatal;\n\n    public ReconToolException() {\n        // TODO Auto-generated constructor stub\n    }\n    public ReconToolException(boolean isFatalException, String msg) {\n        super(msg);\n        this.setFatal(isFatalException);\n    }\n\n    public ReconToolException(String message) {\n        super(message);\n        // TODO Auto-generated constructor stub\n    }\n\n    public ReconToolException(Throwable cause) {\n        super(cause);\n        // TODO Auto-generated constructor stub\n    }\n\n    public ReconToolException(String message, Throwable cause) {\n        super(message, cause);\n        // TODO Auto-generated constructor stub\n    }\n\n    public ReconToolException(String message, Throwable cause,\n            boolean enableSuppression, boolean writableStackTrace) {\n        super(message, cause, enableSuppression, writableStackTrace);\n        // TODO Auto-generated constructor stub\n    }\n\n\n    public boolean isFatal() {\n        return isFatal;\n    }\n\n    public void setFatal(boolean isFatal) {\n        this.isFatal = isFatal;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","ftp","java-stream","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670416843,"creation_date":1670353699,"answer_id":74707912,"question_id":74707341,"body_markdown":"You cannot download multiple files in parallel over one connection with FTP protocol. In general, you cannot use one connection in parallel from multiple threads for any operation whatsoever.\r\n\r\nYou have to open separate connection for each thread. In your case, you will want to implement a connection pool.","title":"Downloading many FTP files in parallel using Apache FTPClient and Java streams fails with &quot;socket write error&quot; or &quot;Could not parse response code&quot;","body":"<p>You cannot download multiple files in parallel over one connection with FTP protocol. In general, you cannot use one connection in parallel from multiple threads for any operation whatsoever.</p>\n<p>You have to open separate connection for each thread. In your case, you will want to implement a connection pool.</p>\n"}],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74707912,"answer_count":1,"score":1,"last_activity_date":1670504472,"creation_date":1670350684,"question_id":74707341,"body_markdown":"How to retrieve file names from FTP from different directories - seems like FTP close connection, if it detects flood request\r\n\r\nThe code is very simple \r\n\r\n```\r\npublic List&lt;String&gt; getPaths(String path, LocalDate date)  {\r\n    try {\r\n        val listFiles = ftp.listFiles(path);\r\n        return Arrays.stream(listFiles)\r\n                .parallel()\r\n                .filter(f-&gt;f.getTimestamp().getTime().toInstant().isAfter(date.atStartOfDay(ZoneId.systemDefault()).toInstant()))\r\n                .map(FTPFile::getName)\r\n                .collect(Collectors.toList());\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n        return Collections.emptyList();\r\n    }\r\n}\r\n```\r\n\r\nand \r\n \r\n```\r\npublic List&lt;String&gt; getPurchaseList(LocalDate date) {\r\n    try (FTPClientWrapper wrapper = new FTPClientWrapper(\r\n            host, port, login, password)\r\n\r\n    ) {\r\n        wrapper.connect();\r\n        val regionList = wrapper.readFile(dir, fileName);\r\n        val dirList = regionList.stream()\r\n                .flatMap(x -&gt; purchaseTypes.stream().map(y -&gt; String.format(&quot;%s/%s/%s/%s&quot;, dir, x, y, folder)))\r\n                .collect(Collectors.toList());\r\n\r\n        return dirList.stream().flatMap(d -&gt; wrapper.getPaths(d, date).stream())\r\n                .collect(Collectors.toList());\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n        return Collections.singletonList(e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nIf I call `getPurchaseList`  if fails with:\r\n&gt; SocketException: Connection reset by peer: socket write error\r\n\r\nIf I use `parallelStream` at `regionList.stream` it fails with: \r\n&gt; org.apache.commons.net.MalformedServerReplyException: Could not parse response code.  \r\n&gt; Server Reply: e227 Entering Passive Mode (95,167,245,94,117,237)\r\n\r\n\r\nIs there any way to parse 1000+ directories of FTP or is it impossible?\r\n\r\nI use Apache Commons Net FTP client.\r\n","title":"Downloading many FTP files in parallel using Apache FTPClient and Java streams fails with &quot;socket write error&quot; or &quot;Could not parse response code&quot;","body":"<p>How to retrieve file names from FTP from different directories - seems like FTP close connection, if it detects flood request</p>\n<p>The code is very simple</p>\n<pre><code>public List&lt;String&gt; getPaths(String path, LocalDate date)  {\n    try {\n        val listFiles = ftp.listFiles(path);\n        return Arrays.stream(listFiles)\n                .parallel()\n                .filter(f-&gt;f.getTimestamp().getTime().toInstant().isAfter(date.atStartOfDay(ZoneId.systemDefault()).toInstant()))\n                .map(FTPFile::getName)\n                .collect(Collectors.toList());\n    } catch (IOException e) {\n        e.printStackTrace();\n        return Collections.emptyList();\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public List&lt;String&gt; getPurchaseList(LocalDate date) {\n    try (FTPClientWrapper wrapper = new FTPClientWrapper(\n            host, port, login, password)\n\n    ) {\n        wrapper.connect();\n        val regionList = wrapper.readFile(dir, fileName);\n        val dirList = regionList.stream()\n                .flatMap(x -&gt; purchaseTypes.stream().map(y -&gt; String.format(&quot;%s/%s/%s/%s&quot;, dir, x, y, folder)))\n                .collect(Collectors.toList());\n\n        return dirList.stream().flatMap(d -&gt; wrapper.getPaths(d, date).stream())\n                .collect(Collectors.toList());\n    } catch (IOException e) {\n        e.printStackTrace();\n        return Collections.singletonList(e.getMessage());\n    }\n}\n</code></pre>\n<p>If I call <code>getPurchaseList</code>  if fails with:</p>\n<blockquote>\n<p>SocketException: Connection reset by peer: socket write error</p>\n</blockquote>\n<p>If I use <code>parallelStream</code> at <code>regionList.stream</code> it fails with:</p>\n<blockquote>\n<p>org.apache.commons.net.MalformedServerReplyException: Could not parse response code.<br />\nServer Reply: e227 Entering Passive Mode (95,167,245,94,117,237)</p>\n</blockquote>\n<p>Is there any way to parse 1000+ directories of FTP or is it impossible?</p>\n<p>I use Apache Commons Net FTP client.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-annotations"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670504086,"post_id":74730414,"comment_id":131893196,"body_markdown":"Have you tried to like google the effects of both annotations?","body":"Have you tried to like google the effects of both annotations?"}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670504089,"creation_date":1670504089,"answer_id":74730630,"question_id":74730414,"body_markdown":"You can mark a bean class with any of the annotations, but they do opposite things. `@ConditionalOnClass` includes bean of marked class if annotation&#39;s parameter is present on classpath. Whereas `@ConditionalOnMissingClass` includes it if the class is absent.\r\n\r\nThese annotations are important part of autoconfiguration process when Spring chooses appropriate bean type based on application classpath.","title":"Difference between @ConditionalOnClass , @ConditionalOnMissingClass","body":"<p>You can mark a bean class with any of the annotations, but they do opposite things. <code>@ConditionalOnClass</code> includes bean of marked class if annotation's parameter is present on classpath. Whereas <code>@ConditionalOnMissingClass</code> includes it if the class is absent.</p>\n<p>These annotations are important part of autoconfiguration process when Spring chooses appropriate bean type based on application classpath.</p>\n"},{"tags":[],"owner":{"account_id":1961133,"reputation":289,"user_id":1762680,"accept_rate":80,"display_name":"Ravindra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670504172,"creation_date":1670504172,"answer_id":74730652,"question_id":74730414,"body_markdown":"With these annotations, spring will selectively skips the configuration based on the absence / presence of certain classes mentioned in the annotations.\r\n\r\n\r\nThis [link][1] (article) might help you to get more details on the same.\r\n\r\n\r\n  [1]: https://roytuts.com/spring-conditionalonclass-and-conditionalonmissingclass/","title":"Difference between @ConditionalOnClass , @ConditionalOnMissingClass","body":"<p>With these annotations, spring will selectively skips the configuration based on the absence / presence of certain classes mentioned in the annotations.</p>\n<p>This <a href=\"https://roytuts.com/spring-conditionalonclass-and-conditionalonmissingclass/\" rel=\"nofollow noreferrer\">link</a> (article) might help you to get more details on the same.</p>\n"},{"tags":[],"owner":{"account_id":23295935,"reputation":51,"user_id":17377342,"display_name":"Takrem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670504407,"creation_date":1670504407,"answer_id":74730681,"question_id":74730414,"body_markdown":"Spring `@ConditionalOnClass` and `@ConditionalOnMissingClass` annotations let `@Configuration` classes be included based on the presence or absence of specific classes. So `@ConditionalOnClass` loads a bean only if a certain class is on the classpath and `@ConditionalOnMissingClass` loads a bean only if a certain class is not on the classpath.\r\n\r\nMore [here][1]\r\n\r\n  [1]: https://roytuts.com/spring-conditionalonclass-and-conditionalonmissingclass/","title":"Difference between @ConditionalOnClass , @ConditionalOnMissingClass","body":"<p>Spring <code>@ConditionalOnClass</code> and <code>@ConditionalOnMissingClass</code> annotations let <code>@Configuration</code> classes be included based on the presence or absence of specific classes. So <code>@ConditionalOnClass</code> loads a bean only if a certain class is on the classpath and <code>@ConditionalOnMissingClass</code> loads a bean only if a certain class is not on the classpath.</p>\n<p>More <a href=\"https://roytuts.com/spring-conditionalonclass-and-conditionalonmissingclass/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1670504407,"creation_date":1670503068,"question_id":74730414,"body_markdown":"Difference between @ConditionalOnClass, @ConditionalOnMissingClass?\r\n\r\nCan someone give me the difference between these annotations?\r\n\r\n","title":"Difference between @ConditionalOnClass , @ConditionalOnMissingClass","body":"<p>Difference between @ConditionalOnClass, @ConditionalOnMissingClass?</p>\n<p>Can someone give me the difference between these annotations?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":15,"creation_date":1423615974,"post_id":28444739,"comment_id":45218955,"body_markdown":"`while(!myList.isEmpty())`?","body":"<code>while(!myList.isEmpty())</code>?"},{"owner":{"account_id":4785337,"reputation":159,"user_id":3866011,"accept_rate":100,"display_name":"Ahmad Ghazi Altarabsheh"},"score":0,"creation_date":1423616052,"post_id":28444739,"comment_id":45218971,"body_markdown":"this should work thanks","body":"this should work thanks"}],"answers":[{"tags":[],"owner":{"account_id":2804291,"reputation":1224,"user_id":2411841,"accept_rate":74,"display_name":"David Merinos"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1477674860,"creation_date":1423616150,"answer_id":28444783,"question_id":28444739,"body_markdown":"Invert the result of `isEmpty()`.\r\n\r\n    public boolean notEmpty(ArrayList a) {\r\n        return !a.isEmpty();\r\n    }\r\n\r\nThat will tell you when a list is not empty.","title":"check if arraylist is NOT empty java","body":"<p>Invert the result of <code>isEmpty()</code>.</p>\n\n<pre><code>public boolean notEmpty(ArrayList a) {\n    return !a.isEmpty();\n}\n</code></pre>\n\n<p>That will tell you when a list is not empty.</p>\n"},{"tags":[],"owner":{"account_id":5865634,"reputation":47,"user_id":6637703,"accept_rate":0,"display_name":"J_fruitty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510636312,"creation_date":1510636312,"answer_id":47278101,"question_id":28444739,"body_markdown":"Alternatively, you can also check whether the array is null by the length/size of the arraylist. \r\n\r\n    while(arrayListName.size() &gt; 0 ){\r\n    //execute code\r\n    }\r\n    \r\n","title":"check if arraylist is NOT empty java","body":"<p>Alternatively, you can also check whether the array is null by the length/size of the arraylist. </p>\n\n<pre><code>while(arrayListName.size() &gt; 0 ){\n//execute code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10528119,"reputation":21,"user_id":7758461,"display_name":"Klassic_Pegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515446958,"creation_date":1515446958,"answer_id":48158322,"question_id":28444739,"body_markdown":"This is easier to read for me\r\n\r\n    while (arrayList.isEmpty() == false) {\r\n      //do something cool\r\n    }\r\n","title":"check if arraylist is NOT empty java","body":"<p>This is easier to read for me</p>\n\n<pre><code>while (arrayList.isEmpty() == false) {\n  //do something cool\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519214046,"creation_date":1519214046,"answer_id":48905262,"question_id":28444739,"body_markdown":"If you initialize arrays as `null` you can just check if they are not `null`:\r\n\r\n    List&lt;String&gt; myArray = null;\r\n\r\n    myArray = myFunction.getArrayValues;\r\n    \r\n    if (myArray != null) {\r\n      processArray (myArray);\r\n    }","title":"check if arraylist is NOT empty java","body":"<p>If you initialize arrays as <code>null</code> you can just check if they are not <code>null</code>:</p>\n\n<pre><code>List&lt;String&gt; myArray = null;\n\nmyArray = myFunction.getArrayValues;\n\nif (myArray != null) {\n  processArray (myArray);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16933574,"reputation":109,"user_id":12247187,"display_name":"unpluggeDloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670504252,"creation_date":1670504252,"answer_id":74730665,"question_id":28444739,"body_markdown":"Can be useful\r\n\r\n\t\tif (!arrayList.isEmpty() ){\r\n                //execute code\r\n                System.out.println(arrayList.get(arrayList.size()-1));\r\n             }","title":"check if arraylist is NOT empty java","body":"<p>Can be useful</p>\n<pre><code>    if (!arrayList.isEmpty() ){\n            //execute code\n            System.out.println(arrayList.get(arrayList.size()-1));\n         }\n</code></pre>\n"}],"owner":{"account_id":4785337,"reputation":159,"user_id":3866011,"accept_rate":100,"display_name":"Ahmad Ghazi Altarabsheh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26131,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":28444783,"answer_count":5,"score":0,"last_activity_date":1670504252,"creation_date":1423615914,"question_id":28444739,"body_markdown":"I know the isEmpty() method used to check if an arraylist is empty, but I am trying to check if an arraylist is not empty. I tried to look online but I didn&#39;t find any useful information on how to do this. My code is like &quot;while ArrayList is not empty then run code).","title":"check if arraylist is NOT empty java","body":"<p>I know the isEmpty() method used to check if an arraylist is empty, but I am trying to check if an arraylist is not empty. I tried to look online but I didn't find any useful information on how to do this. My code is like \"while ArrayList is not empty then run code).</p>\n"},{"tags":["java","android","libgdx"],"comments":[{"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"score":0,"creation_date":1392522480,"post_id":21806778,"comment_id":32999693,"body_markdown":"Please include the full stack trace from logcat (this is on Android, right?).  It will (hopefully) include more details about the cause of the problem.","body":"Please include the full stack trace from logcat (this is on Android, right?).  It will (hopefully) include more details about the cause of the problem."},{"owner":{"account_id":1927802,"reputation":1339,"user_id":1737861,"accept_rate":50,"display_name":"Le Duy Khanh"},"score":0,"creation_date":1392523535,"post_id":21806778,"comment_id":32999868,"body_markdown":"I added Logcat, but I don&#39;t know how to style it :(","body":"I added Logcat, but I don&#39;t know how to style it :("},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":1,"creation_date":1392524121,"post_id":21806778,"comment_id":33000022,"body_markdown":"just load the required shared library and that&#39;s all, what&#39;s the problem? `loadLibrary(String libname);` libname should come without `lib` and `.so`","body":"just load the required shared library and that&#39;s all, what&#39;s the problem? <code>loadLibrary(String libname);</code> libname should come without <code>lib</code> and <code>.so</code>"},{"owner":{"account_id":2135367,"reputation":10205,"user_id":1895303,"accept_rate":100,"display_name":"Daahrien"},"score":0,"creation_date":1392524753,"post_id":21806778,"comment_id":33000157,"body_markdown":"You added the /x86 files, but did you add the /armeavi ones?","body":"You added the /x86 files, but did you add the /armeavi ones?"},{"owner":{"account_id":1927802,"reputation":1339,"user_id":1737861,"accept_rate":50,"display_name":"Le Duy Khanh"},"score":0,"creation_date":1392524758,"post_id":21806778,"comment_id":33000159,"body_markdown":"put     static {\n        System.loadLibrary(&quot;gdx&quot;);\n        System.loadLibrary(&quot;libgdx&quot;);\n     } in but still doesn&#39;t work","body":"put     static {         System.loadLibrary(&quot;gdx&quot;);         System.loadLibrary(&quot;libgdx&quot;);      } in but still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":1927802,"reputation":1339,"user_id":1737861,"accept_rate":50,"display_name":"Le Duy Khanh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1392527493,"creation_date":1392527493,"answer_id":21807595,"question_id":21806778,"body_markdown":"I found out this is pretty simple :\r\nadd \r\n\r\n    static { System.loadLibrary(&quot;gdx&quot;);}","title":"Couldn&#39;t load shared library &#39;gdx&#39; for target","body":"<p>I found out this is pretty simple :\nadd </p>\n\n<pre><code>static { System.loadLibrary(\"gdx\");}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1396928199,"creation_date":1396928199,"answer_id":22927050,"question_id":21806778,"body_markdown":"The problem I had was that for some reason `libgdx.so` was not copied to any of the `armeabi`, `armeabi-v7a` or `x86` folders in the android project&#39;s `lib` folder.\r\n\r\nCopying these over from the libgdx distribution worked for me.","title":"Couldn&#39;t load shared library &#39;gdx&#39; for target","body":"<p>The problem I had was that for some reason <code>libgdx.so</code> was not copied to any of the <code>armeabi</code>, <code>armeabi-v7a</code> or <code>x86</code> folders in the android project's <code>lib</code> folder.</p>\n\n<p>Copying these over from the libgdx distribution worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496704134,"creation_date":1496704134,"answer_id":44379017,"question_id":21806778,"body_markdown":"My problem was that I was trying to make my GDX app within a shared library (aka, not the thing that gets compiled into an APK), but hadn&#39;t finished setting up all the GDX-including stuff in my lib.\r\n\r\nSo I had:\r\n\r\n    MyProject\r\n    --&gt;MyMainApp\r\n    --&gt;--&gt;build.gradle &lt;-- no updates required, doesn&#39;t do anything with GDX\r\n    --&gt;MySharedLibraryWhereMyGameEngineIs\r\n    --&gt;--&gt;build.gradle &lt;-- this is where the problem was\r\n\r\nIn the shared lib&#39;s build.gradle, I hadn&#39;t included the `sourceSets` parameter.\r\n\r\nAdding it fixed my problem.  GDX now starts up successfully.\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    android {\r\n        ... config stuff ...\r\n\r\n        sourceSets {                       // this wasn&#39;t here before\r\n            main {                         // this wasn&#39;t here before\r\n                jniLibs.srcDirs = [&#39;libs&#39;] // this wasn&#39;t here before\r\n            }                              // this wasn&#39;t here before\r\n            instrumentTest.setRoot(&#39;tests&#39;)// this wasn&#39;t here before\r\n        }     \r\n\r\n        ... a bunch of other config stuff ...\r\n    }\r\n","title":"Couldn&#39;t load shared library &#39;gdx&#39; for target","body":"<p>My problem was that I was trying to make my GDX app within a shared library (aka, not the thing that gets compiled into an APK), but hadn't finished setting up all the GDX-including stuff in my lib.</p>\n\n<p>So I had:</p>\n\n<pre><code>MyProject\n--&gt;MyMainApp\n--&gt;--&gt;build.gradle &lt;-- no updates required, doesn't do anything with GDX\n--&gt;MySharedLibraryWhereMyGameEngineIs\n--&gt;--&gt;build.gradle &lt;-- this is where the problem was\n</code></pre>\n\n<p>In the shared lib's build.gradle, I hadn't included the <code>sourceSets</code> parameter.</p>\n\n<p>Adding it fixed my problem.  GDX now starts up successfully.</p>\n\n<pre><code>apply plugin: 'com.android.library'\nandroid {\n    ... config stuff ...\n\n    sourceSets {                       // this wasn't here before\n        main {                         // this wasn't here before\n            jniLibs.srcDirs = ['libs'] // this wasn't here before\n        }                              // this wasn't here before\n        instrumentTest.setRoot('tests')// this wasn't here before\n    }     \n\n    ... a bunch of other config stuff ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3665300,"reputation":1111,"user_id":3053918,"display_name":"b3nk4n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604224410,"creation_date":1604224410,"answer_id":64630578,"question_id":21806778,"body_markdown":"I actually just faced the same problem after I uploaded by first update to my app (&quot;October Bro&quot;). While the first release has been run perfectly when installed from the Play Store, the update crashed right after launching. Checking Logcat, I exactly have been facing this issue.\r\n\r\nThe reason why my first release worked without a problem, but not the update was simple: because I only wanted to fix a minor bug, I checked out the project from GitHub, only ran the Desktop app once to verify the fix, and then created the signed AppBundle right away. It looks like I simply had to run the &quot;android&quot; run configuration at least once, before creating the AppBundle. Or to be more precise, the `build.grade` of the `android` module, which performs these tasks:\r\n\r\n```\r\n// android/build.gradle\r\n\r\n...\r\n\r\n// called every time gradle gets executed, takes the native dependencies of\r\n// the natives configuration, and extracts them to the proper libs/ folders\r\n// so they get packed with the APK.\r\ntask copyAndroidNatives {\r\n    doFirst {\r\n        file(&quot;libs/armeabi/&quot;).mkdirs()\r\n        file(&quot;libs/armeabi-v7a/&quot;).mkdirs()\r\n        file(&quot;libs/arm64-v8a/&quot;).mkdirs()\r\n        file(&quot;libs/x86_64/&quot;).mkdirs()\r\n        file(&quot;libs/x86/&quot;).mkdirs()\r\n\r\n        configurations.natives.files.each { jar -&gt;\r\n            def outputDir = null\r\n            if (jar.name.endsWith(&quot;natives-arm64-v8a.jar&quot;)) outputDir = file(&quot;libs/arm64-v8a&quot;)\r\n            if (jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;)\r\n            if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;)\r\n            if(jar.name.endsWith(&quot;natives-x86_64.jar&quot;)) outputDir = file(&quot;libs/x86_64&quot;)\r\n            if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;)\r\n            if(outputDir != null) {\r\n                copy {\r\n                    from zipTree(jar)\r\n                    into outputDir\r\n                    include &quot;*.so&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI thought that this `android/build.gradle` is executed anyways once I hit **Build &gt; Build Bundle(s) / APK(s)**. But that does not seem to be the case.","title":"Couldn&#39;t load shared library &#39;gdx&#39; for target","body":"<p>I actually just faced the same problem after I uploaded by first update to my app (&quot;October Bro&quot;). While the first release has been run perfectly when installed from the Play Store, the update crashed right after launching. Checking Logcat, I exactly have been facing this issue.</p>\n<p>The reason why my first release worked without a problem, but not the update was simple: because I only wanted to fix a minor bug, I checked out the project from GitHub, only ran the Desktop app once to verify the fix, and then created the signed AppBundle right away. It looks like I simply had to run the &quot;android&quot; run configuration at least once, before creating the AppBundle. Or to be more precise, the <code>build.grade</code> of the <code>android</code> module, which performs these tasks:</p>\n<pre><code>// android/build.gradle\n\n...\n\n// called every time gradle gets executed, takes the native dependencies of\n// the natives configuration, and extracts them to the proper libs/ folders\n// so they get packed with the APK.\ntask copyAndroidNatives {\n    doFirst {\n        file(&quot;libs/armeabi/&quot;).mkdirs()\n        file(&quot;libs/armeabi-v7a/&quot;).mkdirs()\n        file(&quot;libs/arm64-v8a/&quot;).mkdirs()\n        file(&quot;libs/x86_64/&quot;).mkdirs()\n        file(&quot;libs/x86/&quot;).mkdirs()\n\n        configurations.natives.files.each { jar -&gt;\n            def outputDir = null\n            if (jar.name.endsWith(&quot;natives-arm64-v8a.jar&quot;)) outputDir = file(&quot;libs/arm64-v8a&quot;)\n            if (jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;)\n            if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;)\n            if(jar.name.endsWith(&quot;natives-x86_64.jar&quot;)) outputDir = file(&quot;libs/x86_64&quot;)\n            if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;)\n            if(outputDir != null) {\n                copy {\n                    from zipTree(jar)\n                    into outputDir\n                    include &quot;*.so&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I thought that this <code>android/build.gradle</code> is executed anyways once I hit <strong>Build &gt; Build Bundle(s) / APK(s)</strong>. But that does not seem to be the case.</p>\n"},{"tags":[],"owner":{"account_id":12021327,"reputation":132,"user_id":8794667,"display_name":"dulvui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670503202,"creation_date":1670503202,"answer_id":74730429,"question_id":21806778,"body_markdown":"I was able to fix the problem by removing `armeabi` natives from the `copyAndroidNatives` task\r\n```\r\n// called every time gradle gets executed, takes the native dependencies of\r\n// the natives configuration, and extracts them to the proper libs/ folders\r\n// so they get packed with the APK.\r\ntask copyAndroidNatives {\r\n    doFirst {\r\n        // file(&quot;libs/armeabi/&quot;).mkdirs()\r\n        file(&quot;libs/armeabi-v7a/&quot;).mkdirs()\r\n        file(&quot;libs/arm64-v8a/&quot;).mkdirs()\r\n        file(&quot;libs/x86_64/&quot;).mkdirs()\r\n        file(&quot;libs/x86/&quot;).mkdirs()\r\n\r\n        configurations.natives.copy().files.each { jar -&gt;\r\n            def outputDir = null\r\n            if (jar.name.endsWith(&quot;natives-arm64-v8a.jar&quot;)) outputDir = file(&quot;libs/arm64-v8a&quot;)\r\n            if (jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;)\r\n            // if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;)\r\n            if(jar.name.endsWith(&quot;natives-x86_64.jar&quot;)) outputDir = file(&quot;libs/x86_64&quot;)\r\n            if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;)\r\n            if(outputDir != null) {\r\n                copy {\r\n                    from zipTree(jar)\r\n                    into outputDir\r\n                    include &quot;*.so&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Couldn&#39;t load shared library &#39;gdx&#39; for target","body":"<p>I was able to fix the problem by removing <code>armeabi</code> natives from the <code>copyAndroidNatives</code> task</p>\n<pre><code>// called every time gradle gets executed, takes the native dependencies of\n// the natives configuration, and extracts them to the proper libs/ folders\n// so they get packed with the APK.\ntask copyAndroidNatives {\n    doFirst {\n        // file(&quot;libs/armeabi/&quot;).mkdirs()\n        file(&quot;libs/armeabi-v7a/&quot;).mkdirs()\n        file(&quot;libs/arm64-v8a/&quot;).mkdirs()\n        file(&quot;libs/x86_64/&quot;).mkdirs()\n        file(&quot;libs/x86/&quot;).mkdirs()\n\n        configurations.natives.copy().files.each { jar -&gt;\n            def outputDir = null\n            if (jar.name.endsWith(&quot;natives-arm64-v8a.jar&quot;)) outputDir = file(&quot;libs/arm64-v8a&quot;)\n            if (jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;)\n            // if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;)\n            if(jar.name.endsWith(&quot;natives-x86_64.jar&quot;)) outputDir = file(&quot;libs/x86_64&quot;)\n            if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;)\n            if(outputDir != null) {\n                copy {\n                    from zipTree(jar)\n                    into outputDir\n                    include &quot;*.so&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1927802,"reputation":1339,"user_id":1737861,"accept_rate":50,"display_name":"Le Duy Khanh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10528,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":21807595,"answer_count":5,"score":8,"last_activity_date":1670503202,"creation_date":1392519998,"question_id":21806778,"body_markdown":"I&#39;m having the same issue as in [this question][1], but the answers there doesn&#39;t solve my problem.\r\n\r\nI didn&#39;t create project by gdxsetup.jar, I just included gdx.jar and gdx-backend-android.jar. I added the libgdx.so to libs/x86, but it stills throws an exception. How should I solve this?\r\n\r\nLogcat:\r\n\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): FATAL EXCEPTION: main\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): java.lang.ExceptionInInitializerError\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat java.lang.Class.newInstanceImpl(Native Method)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat java.lang.Class.newInstance(Class.java:1130)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.app.Instrumentation.newActivity(Instrumentation.java:1078)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2210)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2349)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.app.ActivityThread.access$700(ActivityThread.java:159)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1316)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.os.Looper.loop(Looper.java:176)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat android.app.ActivityThread.main(ActivityThread.java:5419)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat java.lang.reflect.Method.invoke(Method.java:525)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1046)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:862)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat dalvik.system.NativeStart.main(Native Method)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): Caused by: com.badlogic.gdx.utils.GdxRuntimeException: Couldn&#39;t load shared library &#39;gdx&#39; for target: Linux, 32-bit\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat com.badlogic.gdx.utils.SharedLibraryLoader.load(SharedLibraryLoader.java:114)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat com.badlogic.gdx.utils.GdxNativesLoader.load(GdxNativesLoader.java:34)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat com.badlogic.gdx.backends.android.AndroidApplication.&lt;clinit&gt;(AndroidApplication.java:62)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \t... 15 more\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): Caused by: java.lang.UnsatisfiedLinkError: Couldn&#39;t load gdx from loader dalvik.system.PathClassLoader[dexPath=/data/app/com.example.gamr-1.apk,libraryPath=/data/app-lib/com.example.gamr-1]: findLibrary returned null\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat java.lang.Runtime.loadLibrary(Runtime.java:355)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat java.lang.System.loadLibrary(System.java:525)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \tat com.badlogic.gdx.utils.SharedLibraryLoader.load(SharedLibraryLoader.java:110)\r\n    02-16 11:59:45.604: E/AndroidRuntime(14788): \t... 17 more\r\n\r\nIf it helps, I&#39;m running 32-bit Linux.\r\n\r\n  [1]: https://stackoverflow.com/questions/16698358/gdxruntimeexception-on-android-couldnt-load-shared-library-gdx-for-target","title":"Couldn&#39;t load shared library &#39;gdx&#39; for target","body":"<p>I'm having the same issue as in <a href=\"https://stackoverflow.com/questions/16698358/gdxruntimeexception-on-android-couldnt-load-shared-library-gdx-for-target\">this question</a>, but the answers there doesn't solve my problem.</p>\n\n<p>I didn't create project by gdxsetup.jar, I just included gdx.jar and gdx-backend-android.jar. I added the libgdx.so to libs/x86, but it stills throws an exception. How should I solve this?</p>\n\n<p>Logcat:</p>\n\n<pre><code>02-16 11:59:45.604: E/AndroidRuntime(14788): FATAL EXCEPTION: main\n02-16 11:59:45.604: E/AndroidRuntime(14788): java.lang.ExceptionInInitializerError\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at java.lang.Class.newInstanceImpl(Native Method)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at java.lang.Class.newInstance(Class.java:1130)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.app.Instrumentation.newActivity(Instrumentation.java:1078)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2210)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2349)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.app.ActivityThread.access$700(ActivityThread.java:159)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1316)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.os.Handler.dispatchMessage(Handler.java:99)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.os.Looper.loop(Looper.java:176)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at android.app.ActivityThread.main(ActivityThread.java:5419)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at java.lang.reflect.Method.invokeNative(Native Method)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at java.lang.reflect.Method.invoke(Method.java:525)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1046)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:862)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at dalvik.system.NativeStart.main(Native Method)\n02-16 11:59:45.604: E/AndroidRuntime(14788): Caused by: com.badlogic.gdx.utils.GdxRuntimeException: Couldn't load shared library 'gdx' for target: Linux, 32-bit\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at com.badlogic.gdx.utils.SharedLibraryLoader.load(SharedLibraryLoader.java:114)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at com.badlogic.gdx.utils.GdxNativesLoader.load(GdxNativesLoader.java:34)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at com.badlogic.gdx.backends.android.AndroidApplication.&lt;clinit&gt;(AndroidApplication.java:62)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    ... 15 more\n02-16 11:59:45.604: E/AndroidRuntime(14788): Caused by: java.lang.UnsatisfiedLinkError: Couldn't load gdx from loader dalvik.system.PathClassLoader[dexPath=/data/app/com.example.gamr-1.apk,libraryPath=/data/app-lib/com.example.gamr-1]: findLibrary returned null\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at java.lang.Runtime.loadLibrary(Runtime.java:355)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at java.lang.System.loadLibrary(System.java:525)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    at com.badlogic.gdx.utils.SharedLibraryLoader.load(SharedLibraryLoader.java:110)\n02-16 11:59:45.604: E/AndroidRuntime(14788):    ... 17 more\n</code></pre>\n\n<p>If it helps, I'm running 32-bit Linux.</p>\n"},{"tags":["java","decorator"],"answers":[{"tags":[],"owner":{"account_id":25332985,"reputation":9,"user_id":19152535,"display_name":"Sam Cousins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670127615,"creation_date":1670127615,"answer_id":74672844,"question_id":74672631,"body_markdown":"You could just make the member variable stored in PizzaTopper an array, and its constructor accept (PizzaPie... pizzas). Then, you could pass in an array of pizzas/toppings (anything implementing PizzaPie) and PizzaTopper.top() could return a runtime-generated concatenation of all of the PizzaPies&#39; top() results. ","title":"Can I create a decorated object based on a list?","body":"<p>You could just make the member variable stored in PizzaTopper an array, and its constructor accept (PizzaPie... pizzas). Then, you could pass in an array of pizzas/toppings (anything implementing PizzaPie) and PizzaTopper.top() could return a runtime-generated concatenation of all of the PizzaPies' top() results.</p>\n"},{"tags":[],"owner":{"account_id":4193662,"reputation":951,"user_id":4325878,"display_name":"vladwoguer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670502450,"creation_date":1670502450,"answer_id":74730290,"question_id":74672631,"body_markdown":"You can use Java Reflection to achieve this.\r\n\r\nHere we build our factory with the different possibilities of toppings, then we create a Pizza using ```createPizzaWithUserInput```.\r\nIn this example we built a pizza with 3 of the four possible toppings.\r\nNotice that to add a new Topping possibility you just extends ```PizzaTopper``` and add it on the toppingOptions on the ```PizzaFactory``` instantiation. \r\n\r\n\r\n    import java.util.List;\r\n    import java.util.LinkedList;\r\n    \r\n    class Main {\r\n      public static void main(String[] args) {\r\n        // Possibilities\r\n        PizzaFactory pizzaFactory = new PizzaFactory(Onions.class, Bacon.class, Olives.class, Tomatos.class);\r\n    \r\n        // User input\r\n        List&lt;String&gt; toppings = new LinkedList&lt;String&gt;();\r\n        toppings.add(&quot;onions&quot;);\r\n        toppings.add(&quot;olives&quot;);\r\n        toppings.add(&quot;bacon&quot;);\r\n        try{\r\n          PizzaPie pizza = pizzaFactory.createPizzaWithUserInput(toppings);\r\n        System.out.println(pizza.top());\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n        \r\n      }\r\n    }\r\n\r\nHere we have the PizzaFactory. We use the class&#39; name to do the matching with the topping option, but you can customize it if you want (to match also &quot;onion&quot;/&quot;onions&quot; or &quot;tomato&quot;/&quot;tomatos&quot; for instance).\r\n\r\n    import java.util.List;\r\n    import java.util.Arrays;\r\n    import java.lang.reflect.*;\r\n    \r\n    public class PizzaFactory {\r\n    \r\n      List&lt;Class&lt;? extends PizzaTopper&gt;&gt; toppingOptions;\r\n    \r\n      public PizzaFactory(Class&lt;? extends PizzaTopper&gt;... toppingOptions) {\r\n        this.toppingOptions = Arrays.asList(toppingOptions);\r\n      }\r\n    \r\n      public PizzaPie createPizzaWithUserInput(List&lt;String&gt; toppings) throws NoSuchMethodException, InstantiationException, IllegalAccessException,InvocationTargetException {\r\n        PizzaPie pizza = new PizzaPieImplementation();\r\n        for(String toppingName : toppings) {\r\n           for(Class&lt;? extends PizzaTopper&gt; top : toppingOptions) {\r\n             if(top.getName().toLowerCase().equals(toppingName.toLowerCase())) {\r\n               Constructor&lt;? extends PizzaPie&gt; constructor = top.getConstructor(PizzaPie.class);\r\n               pizza = constructor.newInstance(pizza);\r\n             }\r\n           }       \r\n        }\r\n        return pizza;\r\n      }\r\n    }\r\n\r\nHere we have the interface PizzaPie:\r\n\r\n    public interface PizzaPie{\r\n      \r\n        String top();\r\n    }\r\n\r\nAnd its implementation.\r\n\r\n    public class PizzaPieImplementation implements PizzaPie{\r\n    \r\n        @Override\r\n        public String top() {\r\n            return &quot;Pie of pizza&quot;;\r\n        }\r\n    }\r\n\r\nThe decorator class.\r\n\r\n    public abstract class PizzaTopper implements PizzaPie{\r\n        private PizzaPie pizza;\r\n    \r\n        protected PizzaTopper(PizzaPie pizza) {\r\n          this.pizza = pizza;\r\n        }\r\n        \r\n        @Override\r\n        public String top() {\r\n            return pizza.top();\r\n        }\r\n    }\r\n\r\nTomatos topping.\r\n\r\n    public class Tomatos extends PizzaTopper{\r\n    \r\n        public Tomatos(PizzaPie pizza) {\r\n            super(pizza);\r\n        }\r\n        \r\n        public String top() {\r\n            return super.top() + topWithOnions();\r\n        }\r\n        \r\n        private String topWithOnions() {\r\n            return &quot; with tomatos&quot;;\r\n        }\r\n    }\r\n\r\nOnions topping.\r\n\r\n    public class Onions extends PizzaTopper{\r\n    \r\n        public Onions(PizzaPie pizza) {\r\n            super(pizza);\r\n        }\r\n        \r\n        public String top() {\r\n            return super.top() + topWithOnions();\r\n        }\r\n        \r\n        private String topWithOnions() {\r\n            return &quot; with onions&quot;;\r\n        }\r\n    }\r\n\r\nOlives topping\r\n\r\n    public class Olives extends PizzaTopper{\r\n    \r\n        public Olives(PizzaPie pizza) {\r\n            super(pizza);\r\n        }\r\n        \r\n        public String top() {\r\n            return super.top() + topWithOnions();\r\n        }\r\n        \r\n        private String topWithOnions() {\r\n            return &quot; with olives&quot;;\r\n        }\r\n    }\r\n\r\nBacon topping.\r\n\r\n    public class Bacon extends PizzaTopper{\r\n    \r\n        public Bacon(PizzaPie pizza) {\r\n            super(pizza);\r\n        }\r\n        \r\n        public String top() {\r\n            return super.top() + topWithOnions();\r\n        }\r\n        \r\n        private String topWithOnions() {\r\n            return &quot; with bacon&quot;;\r\n        }\r\n    }\r\n\r\n\r\n[![Output of the test! (&quot;Pie of pizza with onions with olives with bacon&quot;)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/avJr3.png","title":"Can I create a decorated object based on a list?","body":"<p>You can use Java Reflection to achieve this.</p>\n<p>Here we build our factory with the different possibilities of toppings, then we create a Pizza using <code>createPizzaWithUserInput</code>.\nIn this example we built a pizza with 3 of the four possible toppings.\nNotice that to add a new Topping possibility you just extends <code>PizzaTopper</code> and add it on the toppingOptions on the <code>PizzaFactory</code> instantiation.</p>\n<pre><code>import java.util.List;\nimport java.util.LinkedList;\n\nclass Main {\n  public static void main(String[] args) {\n    // Possibilities\n    PizzaFactory pizzaFactory = new PizzaFactory(Onions.class, Bacon.class, Olives.class, Tomatos.class);\n\n    // User input\n    List&lt;String&gt; toppings = new LinkedList&lt;String&gt;();\n    toppings.add(&quot;onions&quot;);\n    toppings.add(&quot;olives&quot;);\n    toppings.add(&quot;bacon&quot;);\n    try{\n      PizzaPie pizza = pizzaFactory.createPizzaWithUserInput(toppings);\n    System.out.println(pizza.top());\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n    \n  }\n}\n</code></pre>\n<p>Here we have the PizzaFactory. We use the class' name to do the matching with the topping option, but you can customize it if you want (to match also &quot;onion&quot;/&quot;onions&quot; or &quot;tomato&quot;/&quot;tomatos&quot; for instance).</p>\n<pre><code>import java.util.List;\nimport java.util.Arrays;\nimport java.lang.reflect.*;\n\npublic class PizzaFactory {\n\n  List&lt;Class&lt;? extends PizzaTopper&gt;&gt; toppingOptions;\n\n  public PizzaFactory(Class&lt;? extends PizzaTopper&gt;... toppingOptions) {\n    this.toppingOptions = Arrays.asList(toppingOptions);\n  }\n\n  public PizzaPie createPizzaWithUserInput(List&lt;String&gt; toppings) throws NoSuchMethodException, InstantiationException, IllegalAccessException,InvocationTargetException {\n    PizzaPie pizza = new PizzaPieImplementation();\n    for(String toppingName : toppings) {\n       for(Class&lt;? extends PizzaTopper&gt; top : toppingOptions) {\n         if(top.getName().toLowerCase().equals(toppingName.toLowerCase())) {\n           Constructor&lt;? extends PizzaPie&gt; constructor = top.getConstructor(PizzaPie.class);\n           pizza = constructor.newInstance(pizza);\n         }\n       }       \n    }\n    return pizza;\n  }\n}\n</code></pre>\n<p>Here we have the interface PizzaPie:</p>\n<pre><code>public interface PizzaPie{\n  \n    String top();\n}\n</code></pre>\n<p>And its implementation.</p>\n<pre><code>public class PizzaPieImplementation implements PizzaPie{\n\n    @Override\n    public String top() {\n        return &quot;Pie of pizza&quot;;\n    }\n}\n</code></pre>\n<p>The decorator class.</p>\n<pre><code>public abstract class PizzaTopper implements PizzaPie{\n    private PizzaPie pizza;\n\n    protected PizzaTopper(PizzaPie pizza) {\n      this.pizza = pizza;\n    }\n    \n    @Override\n    public String top() {\n        return pizza.top();\n    }\n}\n</code></pre>\n<p>Tomatos topping.</p>\n<pre><code>public class Tomatos extends PizzaTopper{\n\n    public Tomatos(PizzaPie pizza) {\n        super(pizza);\n    }\n    \n    public String top() {\n        return super.top() + topWithOnions();\n    }\n    \n    private String topWithOnions() {\n        return &quot; with tomatos&quot;;\n    }\n}\n</code></pre>\n<p>Onions topping.</p>\n<pre><code>public class Onions extends PizzaTopper{\n\n    public Onions(PizzaPie pizza) {\n        super(pizza);\n    }\n    \n    public String top() {\n        return super.top() + topWithOnions();\n    }\n    \n    private String topWithOnions() {\n        return &quot; with onions&quot;;\n    }\n}\n</code></pre>\n<p>Olives topping</p>\n<pre><code>public class Olives extends PizzaTopper{\n\n    public Olives(PizzaPie pizza) {\n        super(pizza);\n    }\n    \n    public String top() {\n        return super.top() + topWithOnions();\n    }\n    \n    private String topWithOnions() {\n        return &quot; with olives&quot;;\n    }\n}\n</code></pre>\n<p>Bacon topping.</p>\n<pre><code>public class Bacon extends PizzaTopper{\n\n    public Bacon(PizzaPie pizza) {\n        super(pizza);\n    }\n    \n    public String top() {\n        return super.top() + topWithOnions();\n    }\n    \n    private String topWithOnions() {\n        return &quot; with bacon&quot;;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/avJr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avJr3.png\" alt=\"Output of the test! (&quot;Pie of pizza with onions with olives with bacon&quot;)\" /></a></p>\n"}],"owner":{"account_id":20783212,"reputation":125,"user_id":19527761,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74730290,"answer_count":2,"score":1,"last_activity_date":1670502450,"creation_date":1670124404,"question_id":74672631,"body_markdown":"I have a program that can print a pizza with decorators. I have an interface:\r\n\r\n```\r\npublic interface PizzaPie{\r\n    String top();\r\n}\r\n```\r\nAnd an implementation of the interface\r\n\r\n```\r\npublic class PizzaPieImplementation implements PizzaPie{\r\n\r\n    @Override\r\n    public String top() {\r\n        return &quot;Pie of pizza&quot;;\r\n    }\r\n}\r\n```\r\nAnd an abstract class that implements it with the same object.\r\n\r\n```\r\npublic abstract class PizzaTopper implements PizzaPie{\r\n    private PizzaPie pizza;\r\n    \r\n    @Override\r\n    public String top() {\r\n        return pizza.top();\r\n    }\r\n}\r\n```\r\n\r\nAnd I have several decorator classes, such as\r\n\r\n```\r\npublic class Onions extends PizzaTopper{\r\n\r\n    public Onions(PizzaPie pizza) {\r\n        super(pizza);\r\n    }\r\n    \r\n    public String top() {\r\n        return super.top() + topWithOnions();\r\n    }\r\n    \r\n    private String topWithOnions() {\r\n        return &quot; with onions&quot;;\r\n    }\r\n\r\n```\r\nAnd similar classes for peppers, pepperoni, anchovies, pineapple, etc. \r\n\r\n\r\nI have a list as follows:\r\n\r\n```\r\nList&lt;String&gt; toppings = {onions, pineapple};\r\n```\r\n\r\nIs there a way to take each topping from the toppings list, and use that to create a new pizza with those toppings, to return something like:\r\n\r\n`Pie of pizza with onions with pineapple`\r\n\r\nThe method would look something like this: \r\n\r\n```\r\n\r\n    public PizzaPie CreatePizzaWithUserInput(List&lt;String&gt; toppings) {\r\n            //code\r\n    }\r\n    \r\n```\r\nAnd ultimately it would create code that looks like this:\r\n```\r\nPizzaPie pizza1 = new Onion(new Pineapple(new PizzaPieImplementation()));\r\n```\r\n\r\n\r\nIn theory this can be done with a lot of ugly if statements but I&#39;m wondering if there&#39;s a quicker way of doing it. ","title":"Can I create a decorated object based on a list?","body":"<p>I have a program that can print a pizza with decorators. I have an interface:</p>\n<pre><code>public interface PizzaPie{\n    String top();\n}\n</code></pre>\n<p>And an implementation of the interface</p>\n<pre><code>public class PizzaPieImplementation implements PizzaPie{\n\n    @Override\n    public String top() {\n        return &quot;Pie of pizza&quot;;\n    }\n}\n</code></pre>\n<p>And an abstract class that implements it with the same object.</p>\n<pre><code>public abstract class PizzaTopper implements PizzaPie{\n    private PizzaPie pizza;\n    \n    @Override\n    public String top() {\n        return pizza.top();\n    }\n}\n</code></pre>\n<p>And I have several decorator classes, such as</p>\n<pre><code>public class Onions extends PizzaTopper{\n\n    public Onions(PizzaPie pizza) {\n        super(pizza);\n    }\n    \n    public String top() {\n        return super.top() + topWithOnions();\n    }\n    \n    private String topWithOnions() {\n        return &quot; with onions&quot;;\n    }\n\n</code></pre>\n<p>And similar classes for peppers, pepperoni, anchovies, pineapple, etc.</p>\n<p>I have a list as follows:</p>\n<pre><code>List&lt;String&gt; toppings = {onions, pineapple};\n</code></pre>\n<p>Is there a way to take each topping from the toppings list, and use that to create a new pizza with those toppings, to return something like:</p>\n<p><code>Pie of pizza with onions with pineapple</code></p>\n<p>The method would look something like this:</p>\n<pre><code>\n    public PizzaPie CreatePizzaWithUserInput(List&lt;String&gt; toppings) {\n            //code\n    }\n    \n</code></pre>\n<p>And ultimately it would create code that looks like this:</p>\n<pre><code>PizzaPie pizza1 = new Onion(new Pineapple(new PizzaPieImplementation()));\n</code></pre>\n<p>In theory this can be done with a lot of ugly if statements but I'm wondering if there's a quicker way of doing it.</p>\n"},{"tags":["java","spring","oop","polymorphism"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1670501756,"post_id":74730064,"comment_id":131892515,"body_markdown":"[Strategy pattern Java example (`en.wikipedia.org`)](https://en.wikipedia.org/wiki/Strategy_pattern#Java)","body":"<a href=\"https://en.wikipedia.org/wiki/Strategy_pattern#Java\" rel=\"nofollow noreferrer\">Strategy pattern Java example (<code>en.wikipedia.org</code>)</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670502099,"post_id":74730064,"comment_id":131892614,"body_markdown":"Are you sure you want a strategy pattern? The strategy is normally set explicitly. A &quot;generic&quot; selection from multiple handlers sounds more like a [chain of responsibility (`en.wikipedia.org`)](https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern).","body":"Are you sure you want a strategy pattern? The strategy is normally set explicitly. A &quot;generic&quot; selection from multiple handlers sounds more like a <a href=\"https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow noreferrer\">chain of responsibility (<code>en.wikipedia.org</code>)</a>."}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670502169,"creation_date":1670502169,"answer_id":74730239,"question_id":74730064,"body_markdown":"The Strategy Pattern consists of the following components:\r\n\r\n - An interface common to all specific classes. This is your Event interface.\r\n - N concrete classes that implement the interface\r\n - A class that maintains a reference to an object whose type is that of your interface and is initialized with an instance of one of the concrete classes.\r\n\r\nTherefore, if Strategy is really the pattern you need or want:\r\n\r\n```Java\r\npublic interface Event {\r\n    Event handle(String value);\r\n}\r\n\r\npublic class Event1 implements Event {\r\n    Event1 handle(String value) {\r\n      //do whatever\r\n    }\r\n}\r\n\r\npublic class Event2 implements Event {\r\n    Event2 handle(String value) {\r\n      //do whatever\r\n    }\r\n}\r\n\r\n//etc...\r\n\r\npublic class StrategyClient {\r\n    private Event event;\r\n    private String value;\r\n    public StrategyClient(Event event){\r\n        this.event=event;\r\n    }\r\n    public Event handle(){\r\n        event.handle(value);\r\n    }\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\nAnd so you just need to initialize your `StrategyClient` with an instance of `Event1`, or `Event2`, or any of the classes that implement `Event`.","title":"How to implement Java Strategy pattern?","body":"<p>The Strategy Pattern consists of the following components:</p>\n<ul>\n<li>An interface common to all specific classes. This is your Event interface.</li>\n<li>N concrete classes that implement the interface</li>\n<li>A class that maintains a reference to an object whose type is that of your interface and is initialized with an instance of one of the concrete classes.</li>\n</ul>\n<p>Therefore, if Strategy is really the pattern you need or want:</p>\n<pre><code>public interface Event {\n    Event handle(String value);\n}\n\npublic class Event1 implements Event {\n    Event1 handle(String value) {\n      //do whatever\n    }\n}\n\npublic class Event2 implements Event {\n    Event2 handle(String value) {\n      //do whatever\n    }\n}\n\n//etc...\n\npublic class StrategyClient {\n    private Event event;\n    private String value;\n    public StrategyClient(Event event){\n        this.event=event;\n    }\n    public Event handle(){\n        event.handle(value);\n    }\n    public String getValue() {\n        return value;\n    }\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>And so you just need to initialize your <code>StrategyClient</code> with an instance of <code>Event1</code>, or <code>Event2</code>, or any of the classes that implement <code>Event</code>.</p>\n"}],"owner":{"account_id":18215566,"reputation":9,"user_id":13257300,"display_name":"salvatore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670502268,"creation_date":1670501378,"question_id":74730064,"body_markdown":"I have an Event interface, for every Event class implemented, I have a handler. I&#39;m parsing some string and return Event. How can I determine what handler should be invoked using Spring. The main goal to not use if statements, just make it polymorphic. Do you have some examples? ","title":"How to implement Java Strategy pattern?","body":"<p>I have an Event interface, for every Event class implemented, I have a handler. I'm parsing some string and return Event. How can I determine what handler should be invoked using Spring. The main goal to not use if statements, just make it polymorphic. Do you have some examples?</p>\n"},{"tags":["java","android","xml","android-studio","android-viewpager2"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1605567555,"post_id":64866824,"comment_id":114685155,"body_markdown":"please post the full stack trace log","body":"please post the full stack trace log"},{"owner":{"account_id":15251795,"reputation":59,"user_id":11004917,"display_name":"Pooya Jannati Poor"},"score":0,"creation_date":1605567814,"post_id":64866824,"comment_id":114685225,"body_markdown":"@Zain i edit my post.","body":"@Zain i edit my post."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1605569114,"post_id":64866824,"comment_id":114685553,"body_markdown":"try to set  `android:layout_width=&quot;wrap_content&quot;` on the LinearLayout","body":"try to set  <code>android:layout_width=&quot;wrap_content&quot;</code> on the LinearLayout"},{"owner":{"account_id":15251795,"reputation":59,"user_id":11004917,"display_name":"Pooya Jannati Poor"},"score":0,"creation_date":1605569532,"post_id":64866824,"comment_id":114685671,"body_markdown":"@Zain I try it but it gives me the same error and log","body":"@Zain I try it but it gives me the same error and log"},{"owner":{"account_id":4969898,"reputation":1350,"user_id":5049244,"accept_rate":25,"display_name":"Arnold Brown"},"score":0,"creation_date":1605592900,"post_id":64866824,"comment_id":114690461,"body_markdown":"why weight android:layout_weight=&quot;0.7&quot;?","body":"why weight android:layout_weight=&quot;0.7&quot;?"},{"owner":{"account_id":15251795,"reputation":59,"user_id":11004917,"display_name":"Pooya Jannati Poor"},"score":0,"creation_date":1605603621,"post_id":64866824,"comment_id":114694115,"body_markdown":"@ArnoldBrown cause i want my viewpager fill 70% of my screen. I also deleted it but it give the same error.","body":"@ArnoldBrown cause i want my viewpager fill 70% of my screen. I also deleted it but it give the same error."}],"answers":[{"tags":[],"owner":{"account_id":19991096,"reputation":11,"user_id":14652092,"display_name":"Son Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605582942,"creation_date":1605582942,"answer_id":64868821,"question_id":64866824,"body_markdown":"Set LayoutParams for view: \r\n\r\n    view.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\nNot *vp_home.setLayoutParams*, just delete it\r\n","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>Set LayoutParams for view:</p>\n<pre><code>view.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n</code></pre>\n<p>Not <em>vp_home.setLayoutParams</em>, just delete it</p>\n"},{"tags":[],"owner":{"account_id":15251795,"reputation":59,"user_id":11004917,"display_name":"Pooya Jannati Poor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1605634386,"creation_date":1605634386,"answer_id":64880349,"question_id":64866824,"body_markdown":"i just solve this problem by match parent the custom layout of my custom viewpager2","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>i just solve this problem by match parent the custom layout of my custom viewpager2</p>\n"},{"tags":[],"owner":{"account_id":5725940,"reputation":639,"user_id":4522920,"accept_rate":61,"display_name":"sorry_I_wont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631745733,"creation_date":1631745733,"answer_id":69200507,"question_id":64866824,"body_markdown":"For me, my viewholder layout should have had `match_parent` only.","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>For me, my viewholder layout should have had <code>match_parent</code> only.</p>\n"},{"tags":[],"owner":{"account_id":21648583,"reputation":805,"user_id":15969538,"display_name":"Ronik Limbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663008795,"creation_date":1643952267,"answer_id":70981788,"question_id":64866824,"body_markdown":"You can change **wrap_content** to **match_parent** in your **custom layout XML** file. \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.fragment.PracticeFragment&quot;&gt;","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>You can change <strong>wrap_content</strong> to <strong>match_parent</strong> in your <strong>custom layout XML</strong> file.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.fragment.PracticeFragment&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7523162,"reputation":172,"user_id":5714364,"accept_rate":100,"display_name":"Praful C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650521500,"creation_date":1650521500,"answer_id":71949695,"question_id":64866824,"body_markdown":"set width and height in your adapter item of ViewPager2 match_parent","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>set width and height in your adapter item of ViewPager2 match_parent</p>\n"},{"tags":[],"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670502187,"creation_date":1670502187,"answer_id":74730244,"question_id":64866824,"body_markdown":"This Problem can be solved by taking view height as &quot;`match_parent`&quot; of both **Viewpager** &amp; **row_layout.xml** (whatever you have xml for pager)\r\n\r\n**SAMPLE CODE:**\r\n\r\n**ViewPager2:**\r\n\r\n       &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/vpager_home&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot; /&gt;\r\n\r\n\r\n**Row Layout:**\r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_marginStart=&quot;@dimen/size_10dp&quot;\r\n        android:layout_marginEnd=&quot;@dimen/size_10dp&quot;\r\n        android:layout_marginTop=&quot;@dimen/size_6dp&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/banner_big_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:layout_height=&quot;240dp&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>This Problem can be solved by taking view height as &quot;<code>match_parent</code>&quot; of both <strong>Viewpager</strong> &amp; <strong>row_layout.xml</strong> (whatever you have xml for pager)</p>\n<p><strong>SAMPLE CODE:</strong></p>\n<p><strong>ViewPager2:</strong></p>\n<pre><code>   &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/vpager_home&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot; /&gt;\n</code></pre>\n<p><strong>Row Layout:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_marginStart=&quot;@dimen/size_10dp&quot;\n    android:layout_marginEnd=&quot;@dimen/size_10dp&quot;\n    android:layout_marginTop=&quot;@dimen/size_6dp&quot;\n    android:gravity=&quot;start&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/banner_big_image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:layout_height=&quot;240dp&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":15251795,"reputation":59,"user_id":11004917,"display_name":"Pooya Jannati Poor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5033,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64880349,"answer_count":6,"score":1,"last_activity_date":1670502187,"creation_date":1605566813,"question_id":64866824,"body_markdown":"I use `viewPager2` in my app with `custom adapter` and in layout i use my `viewpager2` in `linearLayout`.\r\ni set the `height` and `width` of my `viewpager2` to `matchParent`, and i also set it to `matchParent` in java code, and set `attachToRoot` to `false`, but i still get this error when i lunch my app.\r\nhow can i solve this problem?\r\n\r\nthis is my layout:\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/vp_home&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;0.7&quot;\r\n            android:clipToPadding=&quot;false&quot;\r\n            android:paddingStart=&quot;20dp&quot;\r\n            android:paddingEnd=&quot;20dp&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\nthis is my viewpager2 code:\r\n\r\n    mAdapter = new adapter_vp2_home(getActivity(), ls);\r\n\r\n        vp_home.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n        vp_home.setOrientation(ViewPager2.ORIENTATION_HORIZONTAL);\r\n\r\n        vp_home.setAdapter(mAdapter);\r\n\r\n\r\n\r\nand this is the log:\r\n\r\n    java.lang.IllegalStateException: Pages must fill the whole ViewPager2 (use match_parent)\r\n            at androidx.viewpager2.widget.ViewPager2$4.onChildViewAttachedToWindow(ViewPager2.java:270)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7713)\r\n            at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:857)\r\n            at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8753)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8711)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8699)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1645)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4141)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3853)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4410)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at androidx.viewpager2.widget.ViewPager2.onLayout(ViewPager2.java:526)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1855)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n            at com.android.internal.policy.DecorView.onLayout(DecorView.java:945)\r\n            at android.view.View.layout(View.java:20857)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6401)\r\n            at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2961)\r\n    E/AndroidRuntime:     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2648)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1785)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7832)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:723)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:658)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)","title":"Pages must fill the whole ViewPager2 (use match_parent) while i set it to match parent","body":"<p>I use <code>viewPager2</code> in my app with <code>custom adapter</code> and in layout i use my <code>viewpager2</code> in <code>linearLayout</code>.\ni set the <code>height</code> and <code>width</code> of my <code>viewpager2</code> to <code>matchParent</code>, and i also set it to <code>matchParent</code> in java code, and set <code>attachToRoot</code> to <code>false</code>, but i still get this error when i lunch my app.\nhow can i solve this problem?</p>\n<p>this is my layout:</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/vp_home&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;0.7&quot;\n        android:clipToPadding=&quot;false&quot;\n        android:paddingStart=&quot;20dp&quot;\n        android:paddingEnd=&quot;20dp&quot;/&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>this is my viewpager2 code:</p>\n<pre><code>mAdapter = new adapter_vp2_home(getActivity(), ls);\n\n    vp_home.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n    vp_home.setOrientation(ViewPager2.ORIENTATION_HORIZONTAL);\n\n    vp_home.setAdapter(mAdapter);\n</code></pre>\n<p>and this is the log:</p>\n<pre><code>java.lang.IllegalStateException: Pages must fill the whole ViewPager2 (use match_parent)\n        at androidx.viewpager2.widget.ViewPager2$4.onChildViewAttachedToWindow(ViewPager2.java:270)\n        at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7713)\n        at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:857)\n        at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8753)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8711)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8699)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1645)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4141)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3853)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4410)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at androidx.viewpager2.widget.ViewPager2.onLayout(ViewPager2.java:526)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1855)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:945)\n        at android.view.View.layout(View.java:20857)\n        at android.view.ViewGroup.layout(ViewGroup.java:6401)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2961)\nE/AndroidRuntime:     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2648)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1785)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7832)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:723)\n        at android.view.Choreographer.doFrame(Choreographer.java:658)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n"},{"tags":["java","windows","terminal","command","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670502116,"creation_date":1670502116,"answer_id":74730224,"question_id":74729266,"body_markdown":"If you want to use straight `javac` to compile (really, don&#39;t - use a build system), you have to specify the files where they are on the file system. so not `*.java`, but `src\\com\\Testing\\*.java`. Yes, if you have many packages, this means an extremely large command line.\r\n\r\n`java`&#39;s argument takes a class name - a fully qualified one. Not a path.\r\n\r\nIf you have this source file:\r\n\r\n```\r\npackage com.foo;\r\n\r\npublic class Bar {\r\n  public static void main(String[] args) { .. }\r\n}\r\n```\r\n\r\nThen:\r\n\r\n* It should be in `projectRoot/src/main/java/com/foo/Bar.java` where `projectRoot` is whatever dir serves as your main project folder, `src/main/java` can be just `src`, or `src/whatever` - or something to indicate the kind of sub-project this covers, `com/foo` matches the package statement, and `Bar` matches the public class name.\r\n* When compiling a `Bar.class` falls out of it; this should be in `projectRoot/bin/com/foo/Bar.class` or similar, where `bin` might also be `build`. But the `com/foo/Bar.class` part is mandatory - class files _have to be_ in a subdir structure that matches package.\r\n* To run this file, you would put `projectRoot/bin` on the classpath and then write out the full classname. So, if you&#39;re in the projectDir right now, `java -cp bin com.foo.Bar`.\r\n","title":"How compile and run java project with multiple class using command line?","body":"<p>If you want to use straight <code>javac</code> to compile (really, don't - use a build system), you have to specify the files where they are on the file system. so not <code>*.java</code>, but <code>src\\com\\Testing\\*.java</code>. Yes, if you have many packages, this means an extremely large command line.</p>\n<p><code>java</code>'s argument takes a class name - a fully qualified one. Not a path.</p>\n<p>If you have this source file:</p>\n<pre><code>package com.foo;\n\npublic class Bar {\n  public static void main(String[] args) { .. }\n}\n</code></pre>\n<p>Then:</p>\n<ul>\n<li>It should be in <code>projectRoot/src/main/java/com/foo/Bar.java</code> where <code>projectRoot</code> is whatever dir serves as your main project folder, <code>src/main/java</code> can be just <code>src</code>, or <code>src/whatever</code> - or something to indicate the kind of sub-project this covers, <code>com/foo</code> matches the package statement, and <code>Bar</code> matches the public class name.</li>\n<li>When compiling a <code>Bar.class</code> falls out of it; this should be in <code>projectRoot/bin/com/foo/Bar.class</code> or similar, where <code>bin</code> might also be <code>build</code>. But the <code>com/foo/Bar.class</code> part is mandatory - class files <em>have to be</em> in a subdir structure that matches package.</li>\n<li>To run this file, you would put <code>projectRoot/bin</code> on the classpath and then write out the full classname. So, if you're in the projectDir right now, <code>java -cp bin com.foo.Bar</code>.</li>\n</ul>\n"}],"owner":{"account_id":27188689,"reputation":3,"user_id":20722809,"display_name":"cent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74730224,"answer_count":1,"score":0,"last_activity_date":1670502116,"creation_date":1670497311,"question_id":74729266,"body_markdown":"When I try to compile with javac .Main\r\n\r\n```\r\nD:\\Desktop\\Development\\Java\\Section 4\\Abstract\r\n❯ javac -classpath . *.java\r\nerror: Invalid filename: *.java\r\nUsage: javac &lt;options&gt; &lt;source files&gt;    \r\nuse --help for a list of possible options\r\n[17:37]  Shell                                                                                                                                                                                                         xUSAGE 174ms  \r\nMain.java:5: error: cannot find symbol\r\n        Student st1 = new Student(&quot;John&quot;);\r\n        ^\r\n  symbol:   class Student\r\n  location: class Main\r\nMain.java:5: error: cannot find symbol\r\n        Student st1 = new Student(&quot;John&quot;);\r\n                          ^\r\n  symbol:   class Student\r\n  location: class Main\r\n2 errors\r\n```\r\n\r\nBut I able to compile it succesfully with \r\n\r\n```\r\nD:\\Desktop\\Development\\Java\\Section 4\\Abstract\\src\\com\\Testing\r\n&gt;javac -classpath . *.java\r\n```\r\n\r\n\r\n\r\n\r\nAlthough I still haven&#39;t figured it out how to run the Main class\r\n\r\n```\r\njava Main\r\nError: Could not find or load main class Main                                  \r\nCaused by: java.lang.NoClassDefFoundError: com/Testing/Main (wrong name: Main)\r\n```","title":"How compile and run java project with multiple class using command line?","body":"<p>When I try to compile with javac .Main</p>\n<pre><code>D:\\Desktop\\Development\\Java\\Section 4\\Abstract\n❯ javac -classpath . *.java\nerror: Invalid filename: *.java\nUsage: javac &lt;options&gt; &lt;source files&gt;    \nuse --help for a list of possible options\n[17:37]  Shell                                                                                                                                                                                                         xUSAGE 174ms  \nMain.java:5: error: cannot find symbol\n        Student st1 = new Student(&quot;John&quot;);\n        ^\n  symbol:   class Student\n  location: class Main\nMain.java:5: error: cannot find symbol\n        Student st1 = new Student(&quot;John&quot;);\n                          ^\n  symbol:   class Student\n  location: class Main\n2 errors\n</code></pre>\n<p>But I able to compile it succesfully with</p>\n<pre><code>D:\\Desktop\\Development\\Java\\Section 4\\Abstract\\src\\com\\Testing\n&gt;javac -classpath . *.java\n</code></pre>\n<p>Although I still haven't figured it out how to run the Main class</p>\n<pre><code>java Main\nError: Could not find or load main class Main                                  \nCaused by: java.lang.NoClassDefFoundError: com/Testing/Main (wrong name: Main)\n</code></pre>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":2318297,"reputation":1653,"user_id":9231518,"display_name":"User9123"},"score":0,"creation_date":1583172261,"post_id":60493320,"comment_id":107018804,"body_markdown":"Solution with some code: https://stackoverflow.com/a/52537911/9231518","body":"Solution with some code: <a href=\"https://stackoverflow.com/a/52537911/9231518\">stackoverflow.com/a/52537911/9231518</a>"}],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583209364,"creation_date":1583209364,"answer_id":60500029,"question_id":60493320,"body_markdown":"Spring boot starter log4j2 is almost certainly a version that doesn&#39;t yet support the Spring lookup. Instead of using Spring Boot Starter Log4j2 just directly include the log4j dependencies you need at version 2.13.0 or greater.  \r\n\r\nI recommend you look at https://github.com/apache/logging-log4j2/tree/log4j-2.13.1/log4j-spring-cloud-config/log4j-spring-cloud-config-samples/log4j-spring-cloud-config-sample-application for an example application.  I have personally tested this setup and have a few projects based on it where I work.","title":"Spring boot with log4j2. Configure log4j2 Spring-lookup","body":"<p>Spring boot starter log4j2 is almost certainly a version that doesn't yet support the Spring lookup. Instead of using Spring Boot Starter Log4j2 just directly include the log4j dependencies you need at version 2.13.0 or greater.  </p>\n\n<p>I recommend you look at <a href=\"https://github.com/apache/logging-log4j2/tree/log4j-2.13.1/log4j-spring-cloud-config/log4j-spring-cloud-config-samples/log4j-spring-cloud-config-sample-application\" rel=\"nofollow noreferrer\">https://github.com/apache/logging-log4j2/tree/log4j-2.13.1/log4j-spring-cloud-config/log4j-spring-cloud-config-samples/log4j-spring-cloud-config-sample-application</a> for an example application.  I have personally tested this setup and have a few projects based on it where I work.</p>\n"},{"tags":[],"owner":{"account_id":5356834,"reputation":134,"user_id":4269287,"display_name":"Igor Piddubnyi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1620985980,"creation_date":1583230223,"answer_id":60504812,"question_id":60493320,"body_markdown":"**Update 14.05.2021:**\r\nStarting from log4j 2.14.0 there is a separate module for spring-lookup.\r\nUnfortunately, spring-boot  still does not have high-enough dependency of log4j. But at least one can avoid using whole cloud-config-dependency.\r\n\r\n    implementation &quot;org.apache.logging.log4j:log4j-api:${log4j2version}&quot;\r\n    implementation &quot;org.apache.logging.log4j:log4j-core:${log4j2version}&quot;\r\n    implementation &quot;org.apache.logging.log4j:log4j-spring-boot:${log4j2version}&quot;\r\n\r\n+++++++++++++++++++\r\n\r\nBased on @rgoers input I was able to assemble minimal configuration to run log4j2 Spring lookup:\r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.2.5.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;13&#39;\r\n\r\nrepositories{\r\n\tmavenCentral()\r\n}\r\n\r\next{\r\n\tlog4j2version = &#39;2.13.1&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n\t\r\n\timplementation &quot;org.apache.logging.log4j:log4j-spring-cloud-config-client:${log4j2version}&quot;\r\n\timplementation &quot;org.apache.logging.log4j:log4j-api:${log4j2version}&quot;\r\n\timplementation &quot;org.apache.logging.log4j:log4j-core:${log4j2version}&quot;\r\n}\r\n\r\nconfigurations {\r\n\tall {\r\n\t\texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n\t\texclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\r\n\t\texclude group: &quot;org.springframework.cloud&quot;, module: &quot;spring-cloud-bus&quot;\r\n\t}\r\n}\r\n```\r\nAdditionally, to disable cloud-config (which is required for look up, but might not be needed for the application):\r\n\r\n**bootstrap.yml (separate file additional to application.yml)**\r\n```\r\nspring.cloud.config.enabled: false\r\n```\r\n\r\n","title":"Spring boot with log4j2. Configure log4j2 Spring-lookup","body":"<p><strong>Update 14.05.2021:</strong>\nStarting from log4j 2.14.0 there is a separate module for spring-lookup.\nUnfortunately, spring-boot  still does not have high-enough dependency of log4j. But at least one can avoid using whole cloud-config-dependency.</p>\n<pre><code>implementation &quot;org.apache.logging.log4j:log4j-api:${log4j2version}&quot;\nimplementation &quot;org.apache.logging.log4j:log4j-core:${log4j2version}&quot;\nimplementation &quot;org.apache.logging.log4j:log4j-spring-boot:${log4j2version}&quot;\n</code></pre>\n<p>+++++++++++++++++++</p>\n<p>Based on @rgoers input I was able to assemble minimal configuration to run log4j2 Spring lookup:</p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.5.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\nsourceCompatibility = '13'\n\nrepositories{\n    mavenCentral()\n}\n\next{\n    log4j2version = '2.13.1'\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n    \n    implementation &quot;org.apache.logging.log4j:log4j-spring-cloud-config-client:${log4j2version}&quot;\n    implementation &quot;org.apache.logging.log4j:log4j-api:${log4j2version}&quot;\n    implementation &quot;org.apache.logging.log4j:log4j-core:${log4j2version}&quot;\n}\n\nconfigurations {\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n        exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\n        exclude group: &quot;org.springframework.cloud&quot;, module: &quot;spring-cloud-bus&quot;\n    }\n}\n</code></pre>\n<p>Additionally, to disable cloud-config (which is required for look up, but might not be needed for the application):</p>\n<p><strong>bootstrap.yml (separate file additional to application.yml)</strong></p>\n<pre><code>spring.cloud.config.enabled: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19085824,"reputation":51,"user_id":13937130,"display_name":"Sajeevan mp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598253448,"creation_date":1598233862,"answer_id":63553758,"question_id":60493320,"body_markdown":"```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;log4j-spring-cloud-config-client&lt;/artifactId&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-bus&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\nAnd my log4j2.xml has \r\n\r\n```xml\r\n&lt;RollingFile name=&quot;rollingFile&quot;\r\n   \t\t\t fileName=&quot;${logHome}/${spring:spring.application.name}.log&quot;&gt;","title":"Spring boot with log4j2. Configure log4j2 Spring-lookup","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-spring-cloud-config-client&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-bus&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>And my log4j2.xml has</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=&quot;rollingFile&quot;\n             fileName=&quot;${logHome}/${spring:spring.application.name}.log&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":5356834,"reputation":134,"user_id":4269287,"display_name":"Igor Piddubnyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60504812,"answer_count":3,"score":2,"last_activity_date":1670501954,"creation_date":1583167914,"question_id":60493320,"body_markdown":"According to log4j2 documentation:\r\n\r\n&gt; The Spring Boot Lookup retrieves the values of Spring properties from\r\n&gt; the Spring configuration. This Lookup will return null values until\r\n&gt; Spring Boot initializes application logging.\r\n&gt; \r\n&gt;     &lt;File name=&quot;Application&quot; fileName=&quot;application.log&quot;&gt;\r\n&gt;       &lt;PatternLayout&gt;\r\n&gt;         &lt;pattern&gt;%d %p %c{1.} [%t] $${spring:spring.application.name} %m%n&lt;/pattern&gt;\r\n&gt;       &lt;/PatternLayout&gt;\r\n&gt;     &lt;/File&gt;\r\n&gt; \r\n&gt; This Lookup requires log4j-spring-cloud-config-client be included in\r\n&gt; the application.\r\n\r\nWhat is the proper way to configure such a lookup?\r\n\r\nI tried to assemble the following application:\r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.2.5.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;13&#39;\r\n\r\nrepositories{\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n}\r\n\r\nconfigurations {\r\n\tall {\r\n\t\texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n\t\texclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\r\n\t}\r\n}\r\n```\r\n**main**\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication implements ApplicationRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    private final Logger logger = LogManager.getLogger();\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        logger.debug(&quot;Debugging log&quot;);\r\n        logger.info(&quot;Info log&quot;);\r\n        logger.warn(&quot;Hey, This is a warning!&quot;);\r\n        logger.error(&quot;Oops! We have an Error. OK&quot;);\r\n        logger.fatal(&quot;Damn! Fatal error. Please fix me.&quot;);\r\n    }\r\n}\r\n```\r\n**application.yml**\r\n```\r\nspring.application.name: Demo\r\n```\r\n**log4j-spring.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d %p %c{1.} [%t] $${spring:spring.application.name} %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nI expect the resolver to properly substitute &quot;Demo&quot; as the application name, however this does not happen.\r\nDoes spring-boot-starter-log4j2 missing some dependencies for this to work out of the box ?\r\n\r\n**Edit**\r\nThis is the most simplified case.\r\nIn reality, I want to pass the application-name to the gelf graylog appender.\r\nAnd I would like to share the same logging configuration within multiple components. So workarounds, like defining a log4j property, or using spring logging configuration,\r\n are not suitable.","title":"Spring boot with log4j2. Configure log4j2 Spring-lookup","body":"<p>According to log4j2 documentation:</p>\n\n<blockquote>\n  <p>The Spring Boot Lookup retrieves the values of Spring properties from\n  the Spring configuration. This Lookup will return null values until\n  Spring Boot initializes application logging.</p>\n\n<pre><code>&lt;File name=\"Application\" fileName=\"application.log\"&gt;\n  &lt;PatternLayout&gt;\n    &lt;pattern&gt;%d %p %c{1.} [%t] $${spring:spring.application.name} %m%n&lt;/pattern&gt;\n  &lt;/PatternLayout&gt;\n&lt;/File&gt;\n</code></pre>\n  \n  <p>This Lookup requires log4j-spring-cloud-config-client be included in\n  the application.</p>\n</blockquote>\n\n<p>What is the proper way to configure such a lookup?</p>\n\n<p>I tried to assemble the following application:</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.5.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\nsourceCompatibility = '13'\n\nrepositories{\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n}\n\nconfigurations {\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n        exclude group: \"ch.qos.logback\", module: \"logback-classic\"\n    }\n}\n</code></pre>\n\n<p><strong>main</strong></p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements ApplicationRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    private final Logger logger = LogManager.getLogger();\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        logger.debug(\"Debugging log\");\n        logger.info(\"Info log\");\n        logger.warn(\"Hey, This is a warning!\");\n        logger.error(\"Oops! We have an Error. OK\");\n        logger.fatal(\"Damn! Fatal error. Please fix me.\");\n    }\n}\n</code></pre>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>spring.application.name: Demo\n</code></pre>\n\n<p><strong>log4j-spring.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\" monitorInterval=\"30\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"ConsoleAppender\" target=\"SYSTEM_OUT\" follow=\"true\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %c{1.} [%t] $${spring:spring.application.name} %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=\"info\"&gt;\n            &lt;AppenderRef ref=\"ConsoleAppender\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>I expect the resolver to properly substitute \"Demo\" as the application name, however this does not happen.\nDoes spring-boot-starter-log4j2 missing some dependencies for this to work out of the box ?</p>\n\n<p><strong>Edit</strong>\nThis is the most simplified case.\nIn reality, I want to pass the application-name to the gelf graylog appender.\nAnd I would like to share the same logging configuration within multiple components. So workarounds, like defining a log4j property, or using spring logging configuration,\n are not suitable.</p>\n"},{"tags":["java","tree","swt"],"answers":[{"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1361486132,"creation_date":1361486132,"answer_id":15013544,"question_id":15006888,"body_markdown":"If  you are using `TreeViewer`, you could make use of `IOpenListener`\r\n\r\n\r\n    treeViewer.addOpenListener(new IOpenListener() {\r\n    \r\n          @Override\r\n          public void open(OpenEvent event) {\r\n    }\r\n    }","title":"SWT: prevent Tree from expanding by doubleclick?","body":"<p>If  you are using <code>TreeViewer</code>, you could make use of <code>IOpenListener</code></p>\n\n<pre><code>treeViewer.addOpenListener(new IOpenListener() {\n\n      @Override\n      public void open(OpenEvent event) {\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2390365,"reputation":25,"user_id":2090321,"display_name":"user2090321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363013355,"creation_date":1363013355,"answer_id":15341539,"question_id":15006888,"body_markdown":"There is another solution which works much better.\r\n\r\nThe problem with the solution from &#39;sambi reddy&#39; was, that the tree was prevented from expanding by doubleclick, but it was prevented from expanding by clickling on the left handside cross as well. \r\n\r\nMy solution (that works well), was easy: I added a TreeListener, which listens to expanding/collapsing the tree and removed the expanding/collpasing implementation from the MouseDoubleClick-Listener. \r\n\r\nNo JFace TreeViewer - it works fine.\r\n\r\n\r\n","title":"SWT: prevent Tree from expanding by doubleclick?","body":"<p>There is another solution which works much better.</p>\n\n<p>The problem with the solution from 'sambi reddy' was, that the tree was prevented from expanding by doubleclick, but it was prevented from expanding by clickling on the left handside cross as well. </p>\n\n<p>My solution (that works well), was easy: I added a TreeListener, which listens to expanding/collapsing the tree and removed the expanding/collpasing implementation from the MouseDoubleClick-Listener. </p>\n\n<p>No JFace TreeViewer - it works fine.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670501907,"creation_date":1383553030,"answer_id":19763849,"question_id":15006888,"body_markdown":"Other answers did not work for me. This worked:\r\n\r\n\ttreeViewer.getControl().addListener(SWT.MeasureItem, new Listener(){\r\n\t\t@Override\r\n\t\tpublic void handleEvent(Event event) {\r\n\t\t}});\r\n\r\nI found this in a discussion in the Eclipse Community Forums: [Disabling Treeviewer doubleclick expand/collapse][1].  \r\n\r\nWhen you look at this code you might be tempted to believe that it pretends to the tree control that your tree items have a size of zero, and as a result the tree control fails to detect that the double-click happened within the item, so it does not perform the double-click action. However, this is not what is actually happening. Instead, what this snippet does is that it leverages some weird code in the implementation of the tree control, which checks whether a listener has been added for `SWT.MeasureItem`, and if so, it deliberately avoids handling a double-click. This piece of code is even prefixed with a lengthy comment which a) fails to make sense and b) does not agree with what the code does. (Whatever.) So, bottom line is that by simply adding a handler for `SWT.MeasureItem`, and regardless of what the handler does, we are preventing the tree control from handling double-clicks. This is a prime example of ***Programming by Coincidence***&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n  [1]: http://www.eclipse.org/forums/index.php/t/257325/\r\n\r\n--------------\r\n&lt;sup&gt;1&lt;/sup&gt; The term &quot;Programming by coincidence&quot; was coined in the book *The Pragmatic Programmer* by Andy Hunt and Dave Thomas. It refers to relying on luck and accidental successes rather than programming deliberately.","title":"SWT: prevent Tree from expanding by doubleclick?","body":"<p>Other answers did not work for me. This worked:</p>\n<pre><code>treeViewer.getControl().addListener(SWT.MeasureItem, new Listener(){\n    @Override\n    public void handleEvent(Event event) {\n    }});\n</code></pre>\n<p>I found this in a discussion in the Eclipse Community Forums: <a href=\"http://www.eclipse.org/forums/index.php/t/257325/\" rel=\"nofollow noreferrer\">Disabling Treeviewer doubleclick expand/collapse</a>.</p>\n<p>When you look at this code you might be tempted to believe that it pretends to the tree control that your tree items have a size of zero, and as a result the tree control fails to detect that the double-click happened within the item, so it does not perform the double-click action. However, this is not what is actually happening. Instead, what this snippet does is that it leverages some weird code in the implementation of the tree control, which checks whether a listener has been added for <code>SWT.MeasureItem</code>, and if so, it deliberately avoids handling a double-click. This piece of code is even prefixed with a lengthy comment which a) fails to make sense and b) does not agree with what the code does. (Whatever.) So, bottom line is that by simply adding a handler for <code>SWT.MeasureItem</code>, and regardless of what the handler does, we are preventing the tree control from handling double-clicks. This is a prime example of <em><strong>Programming by Coincidence</strong></em><sup>1</sup>.</p>\n<hr />\n<p><sup>1</sup> The term &quot;Programming by coincidence&quot; was coined in the book <em>The Pragmatic Programmer</em> by Andy Hunt and Dave Thomas. It refers to relying on luck and accidental successes rather than programming deliberately.</p>\n"}],"owner":{"account_id":2390365,"reputation":25,"user_id":2090321,"display_name":"user2090321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1866,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15013544,"answer_count":3,"score":2,"last_activity_date":1670501907,"creation_date":1361462850,"question_id":15006888,"body_markdown":"I have a problem with SWT Tree. \r\nMy situation is like this: I have a SWT Tree, which contains many TreeItems (Log entries), which contain TreeItems too. Those log entries have really long messages, which could not be shown in the TreeColumns at all. So my idea was: adding a Listener to the tree, which opens a new Dialog by DoubleClick, which shows the entries&#39; details. So far so good. \r\nIf I do a double click on a item, it works. BUT: If I do a double click on a parent Item, it will expand (and thats good), but my double click Listener is active then as well and the Dialog will open. \r\nThat&#39;s not, what I want.\r\n\r\nSo, there are two solutions to the problem: \r\n1) prevent the Tree from expanding/collapsing by double click automatically and implement the method by myself or\r\n2) recognize, that the item was expanded and the event has to be aborted.\r\n\r\nI do not really know how to do 1 or 2. Do u guys know that?\r\n\r\nThanks in advance.","title":"SWT: prevent Tree from expanding by doubleclick?","body":"<p>I have a problem with SWT Tree. \nMy situation is like this: I have a SWT Tree, which contains many TreeItems (Log entries), which contain TreeItems too. Those log entries have really long messages, which could not be shown in the TreeColumns at all. So my idea was: adding a Listener to the tree, which opens a new Dialog by DoubleClick, which shows the entries' details. So far so good. \nIf I do a double click on a item, it works. BUT: If I do a double click on a parent Item, it will expand (and thats good), but my double click Listener is active then as well and the Dialog will open. \nThat's not, what I want.</p>\n\n<p>So, there are two solutions to the problem: \n1) prevent the Tree from expanding/collapsing by double click automatically and implement the method by myself or\n2) recognize, that the item was expanded and the event has to be aborted.</p>\n\n<p>I do not really know how to do 1 or 2. Do u guys know that?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","rbac"],"comments":[{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1670569446,"post_id":74730030,"comment_id":131908864,"body_markdown":"Change the order of configuration, `bankDetails` shoud come first","body":"Change the order of configuration, <code>bankDetails</code> shoud come first"}],"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670501212,"creation_date":1670501212,"question_id":74730030,"body_markdown":"In Spring Security I want to secure two endpoints behind RBAC\r\n\r\n1 - `/api/v1/user/bankDetails` - only users with `admin` permissions should be able to call this endpoint\r\n\r\n2 - `/api/v1/user/**` - all the other API endpoints (other than `getInfo`) can be accessed by any user with `read` permissions\r\n\r\nHow can I ensure that Spring adds RBAC for all `/api/v1/user/**` endpoints but for `/api/v1/user/bankDetails`, only `admin` are allowed?\r\n\r\nNow when I add this in my WebFlux application like this - \r\n\r\n```java\r\nhttp\r\n.authorizeExchange()\r\n.pathMatchers(&quot;/api/v1/user/**&quot;).hasAuthority(&quot;read&quot;)\r\n.authorizeExchange()\r\n.pathMatchers(&quot;/api/v1/user/bankDetails&quot;).hasAuthority(&quot;admin&quot;)\r\n```\r\n\r\nSpring security only considers the first one so `bankDetails` endpoint is also open to every user with `read` permissions. Is there a way to differentiate between absolute paths and regex paths such that regex paths have the expected secured behaviour as defined in `pathMatchers` but if the absolute path is defined, then its security check should precede the regex one? ","title":"Spring Security securing absolute URL paths vs generic regex paths","body":"<p>In Spring Security I want to secure two endpoints behind RBAC</p>\n<p>1 - <code>/api/v1/user/bankDetails</code> - only users with <code>admin</code> permissions should be able to call this endpoint</p>\n<p>2 - <code>/api/v1/user/**</code> - all the other API endpoints (other than <code>getInfo</code>) can be accessed by any user with <code>read</code> permissions</p>\n<p>How can I ensure that Spring adds RBAC for all <code>/api/v1/user/**</code> endpoints but for <code>/api/v1/user/bankDetails</code>, only <code>admin</code> are allowed?</p>\n<p>Now when I add this in my WebFlux application like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n.authorizeExchange()\n.pathMatchers(&quot;/api/v1/user/**&quot;).hasAuthority(&quot;read&quot;)\n.authorizeExchange()\n.pathMatchers(&quot;/api/v1/user/bankDetails&quot;).hasAuthority(&quot;admin&quot;)\n</code></pre>\n<p>Spring security only considers the first one so <code>bankDetails</code> endpoint is also open to every user with <code>read</code> permissions. Is there a way to differentiate between absolute paths and regex paths such that regex paths have the expected secured behaviour as defined in <code>pathMatchers</code> but if the absolute path is defined, then its security check should precede the regex one?</p>\n"},{"tags":["java","refactoring","code-cleanup"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670429636,"post_id":74719660,"comment_id":131875772,"body_markdown":"Make `GenericRecord` implement `Map`. Otherwise, you can&#39;t. Java has no duck typing.","body":"Make <code>GenericRecord</code> implement <code>Map</code>. Otherwise, you can&#39;t. Java has no duck typing."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670429725,"post_id":74719660,"comment_id":131875804,"body_markdown":"@Michael not entirely true. We could define an interface `KeyValueConsumer&lt;K, V&gt;` with a method `void consume(K key, V value)` and then require a `KeyValueConsumer&lt;String, String&gt;`as parameter, that can be passed along as a lambda.","body":"@Michael not entirely true. We could define an interface <code>KeyValueConsumer&lt;K, V&gt;</code> with a method <code>void consume(K key, V value)</code> and then require a <code>KeyValueConsumer&lt;String, String&gt;</code>as parameter, that can be passed along as a lambda."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670430033,"post_id":74719660,"comment_id":131875922,"body_markdown":"@Turing85 And in the context of this contrived example, you just invented a method that does almost nothing. The one single thing these methods do is call `put`, and you just shifted that responsibility to the caller.","body":"@Turing85 And in the context of this contrived example, you just invented a method that does almost nothing. The one single thing these methods do is call <code>put</code>, and you just shifted that responsibility to the caller."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670430197,"post_id":74719660,"comment_id":131875986,"body_markdown":"@Michael depending on the content of the actual method, it centralizes the implementation.","body":"@Michael depending on the content of the actual method, it centralizes the implementation."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670430405,"post_id":74719660,"comment_id":131876066,"body_markdown":"@Turing85 It&#39;s not worth speculating about that. We simply don&#39;t know.","body":"@Turing85 It&#39;s not worth speculating about that. We simply don&#39;t know."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1670501143,"creation_date":1670430502,"answer_id":74719904,"question_id":74719660,"body_markdown":"One possibility would be to use the [`BiConsumer` interface][BiConsumerApi]. We can use this interface to implement the `put`-logic we need:\r\n\r\n    static &lt;K, V&gt; void add(BiConsumer&lt;K, V&gt; consumer, K key, V value) {\r\n      consumer.accept(key, value);\r\n    }\r\n\r\nand call it like this:\r\n\r\n    add(map::put, key, value);\r\n    add(record::put, key, value);\r\n\r\nIf we want, we can define overloaded convenience-methods:\r\n\r\n    static &lt;K, V&gt; void add(Map&lt;K, V&gt; map, K key, V value) {\r\n      add(map::put, key, value);\r\n    }\r\n\r\n    static &lt;K, V&gt; void add(GenericRecord&lt;K, V&gt; record, K key, V value) {\r\n      add(record::put, key, value);\r\n    }\r\n\r\nand just call the methods as we do now.\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\n[BiConsumerApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html\r\n[Ideone]: https://ideone.com/CoqvJb","title":"Refactoring methods that use the same code but different input params","body":"<p>One possibility would be to use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\"><code>BiConsumer</code> interface</a>. We can use this interface to implement the <code>put</code>-logic we need:</p>\n<pre><code>static &lt;K, V&gt; void add(BiConsumer&lt;K, V&gt; consumer, K key, V value) {\n  consumer.accept(key, value);\n}\n</code></pre>\n<p>and call it like this:</p>\n<pre><code>add(map::put, key, value);\nadd(record::put, key, value);\n</code></pre>\n<p>If we want, we can define overloaded convenience-methods:</p>\n<pre><code>static &lt;K, V&gt; void add(Map&lt;K, V&gt; map, K key, V value) {\n  add(map::put, key, value);\n}\n\nstatic &lt;K, V&gt; void add(GenericRecord&lt;K, V&gt; record, K key, V value) {\n  add(record::put, key, value);\n}\n</code></pre>\n<p>and just call the methods as we do now.</p>\n<p><a href=\"https://ideone.com/CoqvJb\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n"}],"owner":{"account_id":8293486,"reputation":3,"user_id":6234360,"display_name":"hiren shah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74719904,"answer_count":1,"score":0,"last_activity_date":1670501143,"creation_date":1670429537,"question_id":74719660,"body_markdown":"I have these two methods. Can someone help me to refactor and make them common?\r\n\r\n    public void method1(Map&lt;String,String&gt; map, String key, String value){\r\n      map.put(key, value);\r\n    }\r\n    \r\n    public void method2(GenericRecord recordMap, String key, String value){\r\n      recordMap.put(key, value);\r\n    }\r\n\r\n\r\n\r\nUnable to refactor it.","title":"Refactoring methods that use the same code but different input params","body":"<p>I have these two methods. Can someone help me to refactor and make them common?</p>\n<pre><code>public void method1(Map&lt;String,String&gt; map, String key, String value){\n  map.put(key, value);\n}\n\npublic void method2(GenericRecord recordMap, String key, String value){\n  recordMap.put(key, value);\n}\n</code></pre>\n<p>Unable to refactor it.</p>\n"},{"tags":["java","android","airplane-mode"],"comments":[{"owner":{"account_id":1919040,"reputation":4017,"user_id":1730966,"accept_rate":93,"display_name":"nibarius"},"score":0,"creation_date":1523271289,"post_id":4319212,"comment_id":86475989,"body_markdown":"Depending on how you do your checks, it&#39;s good to be aware that it&#39;s possible to have both airplane mode and Wi-Fi enabled at the same time: https://heresthethingblog.com/2013/08/28/android-iphone-tip-turn-airplane/","body":"Depending on how you do your checks, it&#39;s good to be aware that it&#39;s possible to have both airplane mode and Wi-Fi enabled at the same time: <a href=\"https://heresthethingblog.com/2013/08/28/android-iphone-tip-turn-airplane/\" rel=\"nofollow noreferrer\">heresthethingblog.com/2013/08/28/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":59068,"reputation":67936,"user_id":176761,"accept_rate":100,"display_name":"Alex Volovoy"},"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1548309526,"creation_date":1291155415,"answer_id":4319257,"question_id":4319212,"body_markdown":"    /**\r\n    * Gets the state of Airplane Mode.\r\n    * \r\n    * @param context\r\n    * @return true if enabled.\r\n    */\r\n    private static boolean isAirplaneModeOn(Context context) {\r\n   \r\n       return Settings.System.getInt(context.getContentResolver(),\r\n               Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\r\n   \r\n    }","title":"How can one detect airplane mode on Android?","body":"<pre><code>/**\n* Gets the state of Airplane Mode.\n* \n* @param context\n* @return true if enabled.\n*/\nprivate static boolean isAirplaneModeOn(Context context) {\n\n   return Settings.System.getInt(context.getContentResolver(),\n           Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1485830243,"creation_date":1291155531,"answer_id":4319276,"question_id":4319212,"body_markdown":"From [here][1] :\r\n\r\n\r\n     public static boolean isAirplaneModeOn(Context context){\r\n       return Settings.System.getInt(\r\n                   context.getContentResolver(),\r\n                   Settings.System.AIRPLANE_MODE_ON, \r\n                   0) != 0;\r\n     }\r\n\r\n\r\n  [1]: http://www.mail-archive.com/android-beginners@googlegroups.com/msg06083.html","title":"How can one detect airplane mode on Android?","body":"<p>From <a href=\"http://www.mail-archive.com/android-beginners@googlegroups.com/msg06083.html\" rel=\"nofollow noreferrer\">here</a> :</p>\n\n<pre><code> public static boolean isAirplaneModeOn(Context context){\n   return Settings.System.getInt(\n               context.getContentResolver(),\n               Settings.System.AIRPLANE_MODE_ON, \n               0) != 0;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216668,"reputation":2467,"user_id":472058,"accept_rate":100,"display_name":"saxos"},"down_vote_count":2,"up_vote_count":57,"is_accepted":false,"score":55,"last_activity_date":1539041546,"creation_date":1291155891,"answer_id":4319334,"question_id":4319212,"body_markdown":"And if you don&#39;t want to poll if the Airplane Mode is active or not, you can register a BroadcastReceiver for the SERVICE_STATE Intent and react on it.\r\n\r\nEither in your ApplicationManifest (pre-Android 8.0):\r\n\r\n\r\n    &lt;receiver android:enabled=&quot;true&quot; android:name=&quot;.ConnectivityReceiver&quot;&gt;\r\n    \t&lt;intent-filter&gt;\r\n    \t\t&lt;action android:name=&quot;android.intent.action.AIRPLANE_MODE&quot;/&gt;\r\n    \t&lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nor programmatically (all Android versions):\r\n    \r\n    IntentFilter intentFilter = new IntentFilter(&quot;android.intent.action.AIRPLANE_MODE&quot;);\r\n    \r\n    BroadcastReceiver receiver = new BroadcastReceiver() {\r\n          @Override\r\n          public void onReceive(Context context, Intent intent) {\r\n                Log.d(&quot;AirplaneMode&quot;, &quot;Service state changed&quot;);\r\n          }\r\n    };\r\n    \r\n    context.registerReceiver(receiver, intentFilter);\r\n\r\n\r\n\r\nAnd as described in the other solutions, you can poll the airplane mode when your receiver was notified and throw your exception. ","title":"How can one detect airplane mode on Android?","body":"<p>And if you don't want to poll if the Airplane Mode is active or not, you can register a BroadcastReceiver for the SERVICE_STATE Intent and react on it.</p>\n\n<p>Either in your ApplicationManifest (pre-Android 8.0):</p>\n\n<pre><code>&lt;receiver android:enabled=\"true\" android:name=\".ConnectivityReceiver\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.AIRPLANE_MODE\"/&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>or programmatically (all Android versions):</p>\n\n<pre><code>IntentFilter intentFilter = new IntentFilter(\"android.intent.action.AIRPLANE_MODE\");\n\nBroadcastReceiver receiver = new BroadcastReceiver() {\n      @Override\n      public void onReceive(Context context, Intent intent) {\n            Log.d(\"AirplaneMode\", \"Service state changed\");\n      }\n};\n\ncontext.registerReceiver(receiver, intentFilter);\n</code></pre>\n\n<p>And as described in the other solutions, you can poll the airplane mode when your receiver was notified and throw your exception. </p>\n"},{"tags":[],"owner":{"account_id":1994500,"reputation":671,"user_id":1787728,"accept_rate":38,"display_name":"MoschDev"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1351939882,"creation_date":1351939882,"answer_id":13208462,"question_id":4319212,"body_markdown":"You could check if the internet is on\r\n\r\n    public class ConnectionDetector {\r\n \r\n    private Context _context;\r\n \r\n    public ConnectionDetector(Context context){\r\n        this._context = context;\r\n    }\r\n \r\n    public boolean isConnectingToInternet(){\r\n        ConnectivityManager connectivity = (ConnectivityManager) _context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n          if (connectivity != null)\r\n          {\r\n              NetworkInfo[] info = connectivity.getAllNetworkInfo();\r\n              if (info != null)\r\n                  for (int i = 0; i &lt; info.length; i++)\r\n                      if (info[i].getState() == NetworkInfo.State.CONNECTED)\r\n                      {\r\n                          return true;\r\n                      }\r\n \r\n          }\r\n          return false;\r\n    }\r\n}\r\n","title":"How can one detect airplane mode on Android?","body":"<p>You could check if the internet is on</p>\n\n<pre><code>public class ConnectionDetector {\n\nprivate Context _context;\n\npublic ConnectionDetector(Context context){\n    this._context = context;\n}\n\npublic boolean isConnectingToInternet(){\n    ConnectivityManager connectivity = (ConnectivityManager) _context.getSystemService(Context.CONNECTIVITY_SERVICE);\n      if (connectivity != null)\n      {\n          NetworkInfo[] info = connectivity.getAllNetworkInfo();\n          if (info != null)\n              for (int i = 0; i &lt; info.length; i++)\n                  if (info[i].getState() == NetworkInfo.State.CONNECTED)\n                  {\n                      return true;\n                  }\n\n      }\n      return false;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":325286,"reputation":3133,"user_id":646367,"accept_rate":100,"display_name":"Tiago"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1403550111,"creation_date":1370970171,"answer_id":17049778,"question_id":4319212,"body_markdown":"By extending Alex&#39;s answer to include SDK version checking we have:\r\n\r\n    /**\r\n     * Gets the state of Airplane Mode.\r\n     * \r\n     * @param context\r\n     * @return true if enabled.\r\n     */\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n    public static boolean isAirplaneModeOn(Context context) {        \r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n            return Settings.System.getInt(context.getContentResolver(), \r\n                    Settings.System.AIRPLANE_MODE_ON, 0) != 0;          \r\n        } else {\r\n            return Settings.Global.getInt(context.getContentResolver(), \r\n                    Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\r\n        }       \r\n    }","title":"How can one detect airplane mode on Android?","body":"<p>By extending Alex's answer to include SDK version checking we have:</p>\n\n<pre><code>/**\n * Gets the state of Airplane Mode.\n * \n * @param context\n * @return true if enabled.\n */\n@SuppressWarnings(\"deprecation\")\n@TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\npublic static boolean isAirplaneModeOn(Context context) {        \n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN_MR1) {\n        return Settings.System.getInt(context.getContentResolver(), \n                Settings.System.AIRPLANE_MODE_ON, 0) != 0;          \n    } else {\n        return Settings.Global.getInt(context.getContentResolver(), \n                Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2573117,"reputation":2810,"user_id":3747404,"accept_rate":33,"display_name":"eldjon"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1428754534,"creation_date":1428754534,"answer_id":29577757,"question_id":4319212,"body_markdown":"When registering the Airplane Mode `BroadcastReceiver` (@saxos answer) I think it makes a lot of sense to get the state of the Airplane Mode setting right away from the `Intent Extras` in order to avoid calling `Settings.Global` or `Settings.System` :\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        boolean isAirplaneModeOn = intent.getBooleanExtra(&quot;state&quot;, false);\r\n        if(isAirplaneModeOn){\r\n\r\n           // handle Airplane Mode on\r\n        } else {\r\n           // handle Airplane Mode off\r\n        }\r\n    }\r\n","title":"How can one detect airplane mode on Android?","body":"<p>When registering the Airplane Mode <code>BroadcastReceiver</code> (@saxos answer) I think it makes a lot of sense to get the state of the Airplane Mode setting right away from the <code>Intent Extras</code> in order to avoid calling <code>Settings.Global</code> or <code>Settings.System</code> :</p>\n\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n\n    boolean isAirplaneModeOn = intent.getBooleanExtra(\"state\", false);\n    if(isAirplaneModeOn){\n\n       // handle Airplane Mode on\n    } else {\n       // handle Airplane Mode off\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459593484,"creation_date":1443274328,"answer_id":32797750,"question_id":4319212,"body_markdown":"in order to get rid of the the depreciation complaint (when targeting API17+  and not caring too much about the backward compatibility), one has to compare with `Settings.Global.AIRPLANE_MODE_ON`:\r\n\r\n    /** \r\n     * @param Context context\r\n     * @return boolean\r\n    **/\r\n    private static boolean isAirplaneModeOn(Context context) {\r\n       return Settings.System.getInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) != 0);\r\n    }\r\nwhen considering lower API:\r\n\r\n\r\n    /** \r\n     * @param Context context\r\n     * @return boolean\r\n    **/\r\n    @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n\t@SuppressWarnings({ &quot;deprecation&quot; })\r\n\tprivate static boolean isAirplaneModeOn(Context context) {\r\n\t\tif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR1){\r\n\t\t\t/* API 17 and above */\r\n\t\t\treturn Settings.Global.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\r\n\t\t} else {\r\n\t\t\t/* below */\r\n\t\t\treturn Settings.System.getInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) != 0;\r\n\t\t}\r\n\t}","title":"How can one detect airplane mode on Android?","body":"<p>in order to get rid of the the depreciation complaint (when targeting API17+  and not caring too much about the backward compatibility), one has to compare with <code>Settings.Global.AIRPLANE_MODE_ON</code>:</p>\n\n<pre><code>/** \n * @param Context context\n * @return boolean\n**/\nprivate static boolean isAirplaneModeOn(Context context) {\n   return Settings.System.getInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) != 0);\n}\n</code></pre>\n\n<p>when considering lower API:</p>\n\n<pre><code>/** \n * @param Context context\n * @return boolean\n**/\n@TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n@SuppressWarnings({ \"deprecation\" })\nprivate static boolean isAirplaneModeOn(Context context) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR1){\n        /* API 17 and above */\n        return Settings.Global.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\n    } else {\n        /* below */\n        return Settings.System.getInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) != 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10844171,"reputation":679,"user_id":7974346,"display_name":"AXN Unicode Technologies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494111566,"creation_date":1494105196,"answer_id":43825442,"question_id":4319212,"body_markdown":"Static Broadcast Receiver\r\n-----------\r\n\r\nManifest code:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\r\n    &lt;receiver android:name=&quot;.airplanemodecheck&quot; android:enabled=&quot;true&quot;\r\n     android:exported=&quot;true&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n         &lt;action android:name=&quot;android.intent.action.AIRPLANE_MODE&quot;&gt;&lt;/action&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n    \r\n    \r\nJava code: Broadcast Receiver java file\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    if(Settings.System.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0)== 0)\r\n    {\r\n      Toast.makeText(context, &quot;AIRPLANE MODE Off&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    else\r\n    {\r\n     Toast.makeText(context, &quot;AIRPLANE MODE On&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n                                  \r\n\r\nOR\r\n==\r\n\r\nDynamic Broadcast Receiver\r\n--------------------------\r\n\r\nJava code: Activity java file\r\n\r\nRegister broadcast receiver on application open no need to add code in manifest if you take an action only when your activity open like check airplane mode is on or off when you access the internet etc\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    airplanemodecheck reciver;\r\n\r\n    @Override\r\n    protected void onResume() {\r\n       super.onResume();\r\n       IntentFilter intentFilter = new IntentFilter();\r\n       intentFilter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);\r\n       reciver = new airplanemodecheck();\r\n       registerReceiver(reciver, intentFilter);\r\n    }\r\n    \r\n    @Override\r\n    protected void onStop() {\r\n      super.onStop();\r\n      unregisterReceiver(reciver);\r\n    }\r\n\r\nJava code: Broadcast Receiver java file\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    if(Settings.System.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0)== 0)\r\n    {\r\n      Toast.makeText(context, &quot;AIRPLANE MODE Off&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    else\r\n    {\r\n     Toast.makeText(context, &quot;AIRPLANE MODE On&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n","title":"How can one detect airplane mode on Android?","body":"<h2>Static Broadcast Receiver</h2>\n\n<p>Manifest code:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=\".airplanemodecheck\" android:enabled=\"true\"\n android:exported=\"true\"&gt;\n  &lt;intent-filter&gt;\n     &lt;action android:name=\"android.intent.action.AIRPLANE_MODE\"&gt;&lt;/action&gt;\n  &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>Java code: Broadcast Receiver java file</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(Settings.System.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0)== 0)\n{\n  Toast.makeText(context, \"AIRPLANE MODE Off\", Toast.LENGTH_SHORT).show();\n}\nelse\n{\n Toast.makeText(context, \"AIRPLANE MODE On\", Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<h1>OR</h1>\n\n<h2>Dynamic Broadcast Receiver</h2>\n\n<p>Java code: Activity java file</p>\n\n<p>Register broadcast receiver on application open no need to add code in manifest if you take an action only when your activity open like check airplane mode is on or off when you access the internet etc</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>airplanemodecheck reciver;\n\n@Override\nprotected void onResume() {\n   super.onResume();\n   IntentFilter intentFilter = new IntentFilter();\n   intentFilter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);\n   reciver = new airplanemodecheck();\n   registerReceiver(reciver, intentFilter);\n}\n\n@Override\nprotected void onStop() {\n  super.onStop();\n  unregisterReceiver(reciver);\n}\n</code></pre>\n\n<p>Java code: Broadcast Receiver java file</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(Settings.System.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0)== 0)\n{\n  Toast.makeText(context, \"AIRPLANE MODE Off\", Toast.LENGTH_SHORT).show();\n}\nelse\n{\n Toast.makeText(context, \"AIRPLANE MODE On\", Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135251,"reputation":7793,"user_id":1213364,"accept_rate":28,"display_name":"Vineesh TP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495545543,"creation_date":1495545543,"answer_id":44136026,"question_id":4319212,"body_markdown":"From API Level - 17\r\n\r\n    /**\r\n         * Gets the state of Airplane Mode.\r\n         *\r\n         * @param context\r\n         * @return true if enabled.\r\n         */\r\n        private static boolean isAirplaneModeOn(Context context) {\r\n    \r\n            return Settings.Global.getInt(context.getContentResolver(),\r\n                    Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\r\n    \r\n        }","title":"How can one detect airplane mode on Android?","body":"<p>From API Level - 17</p>\n\n<pre><code>/**\n     * Gets the state of Airplane Mode.\n     *\n     * @param context\n     * @return true if enabled.\n     */\n    private static boolean isAirplaneModeOn(Context context) {\n\n        return Settings.Global.getInt(context.getContentResolver(),\n                Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497980012,"creation_date":1497980012,"answer_id":44659601,"question_id":4319212,"body_markdown":"I wrote this class that might be helpful. It doesn&#39;t directly return a boolean to tell you if Airplane Mode is enabled or disabled, but it will notify you when Airplane Mode is changed from one to the other. \r\n\r\n    public abstract class AirplaneModeReceiver extends BroadcastReceiver {\r\n\r\n        private Context context;\r\n\r\n        /**\r\n         * Initialize tihe reciever with a Context object.\r\n         * @param context\r\n         */\r\n        public AirplaneModeReceiver(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        /**\r\n         * Receiver for airplane mode status updates.\r\n         *\r\n         * @param context\r\n         * @param intent\r\n         */\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(Settings.System.getInt(\r\n                    context.getContentResolver(),\r\n                    Settings.Global.AIRPLANE_MODE_ON, 0\r\n            ) == 0) {\r\n                airplaneModeChanged(false);\r\n            } else {\r\n                airplaneModeChanged(true);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Used to register the airplane mode reciever.\r\n         */\r\n        public void register() {\r\n            IntentFilter intentFilter = new IntentFilter();\r\n            intentFilter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);\r\n            context.registerReceiver(this, intentFilter);\r\n        }\r\n\r\n        /**\r\n         * Used to unregister the airplane mode reciever.\r\n         */\r\n        public void unregister() {\r\n            context.unregisterReceiver(this);\r\n        }\r\n\r\n        /**\r\n         * Called when airplane mode is changed.\r\n         *\r\n         * @param enabled\r\n         */\r\n        public abstract void airplaneModeChanged(boolean enabled);\r\n\r\n    }\r\n\r\n**Usage**\r\n\r\n    // Create an AirplaneModeReceiver\r\n    AirplaneModeReceiver airplaneModeReceiver;\r\n\r\n    @Override\r\n    protected void onResume()\r\n    {\r\n        super.onResume();\r\n\r\n        // Initialize the AirplaneModeReceiver in your onResume function\r\n        // passing it a context and overriding the callback function\r\n        airplaneModeReceiver = new AirplaneModeReceiver(this) {\r\n            @Override\r\n            public void airplaneModeChanged(boolean enabled) {\r\n                Log.i(\r\n                    &quot;AirplaneModeReceiver&quot;,\r\n                    &quot;Airplane mode changed to: &quot; + \r\n                    ((active) ? &quot;ACTIVE&quot; : &quot;NOT ACTIVE&quot;)\r\n                );\r\n            }\r\n        };\r\n\r\n        // Register the AirplaneModeReceiver\r\n        airplaneModeReceiver.register();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop()\r\n    {\r\n        super.onStop();\r\n        \r\n        // Unregister the AirplaneModeReceiver\r\n        if (airplaneModeReceiver != null)\r\n            airplaneModeReceiver.unregister();\r\n    }\r\n","title":"How can one detect airplane mode on Android?","body":"<p>I wrote this class that might be helpful. It doesn't directly return a boolean to tell you if Airplane Mode is enabled or disabled, but it will notify you when Airplane Mode is changed from one to the other. </p>\n\n<pre><code>public abstract class AirplaneModeReceiver extends BroadcastReceiver {\n\n    private Context context;\n\n    /**\n     * Initialize tihe reciever with a Context object.\n     * @param context\n     */\n    public AirplaneModeReceiver(Context context) {\n        this.context = context;\n    }\n\n    /**\n     * Receiver for airplane mode status updates.\n     *\n     * @param context\n     * @param intent\n     */\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(Settings.System.getInt(\n                context.getContentResolver(),\n                Settings.Global.AIRPLANE_MODE_ON, 0\n        ) == 0) {\n            airplaneModeChanged(false);\n        } else {\n            airplaneModeChanged(true);\n        }\n    }\n\n    /**\n     * Used to register the airplane mode reciever.\n     */\n    public void register() {\n        IntentFilter intentFilter = new IntentFilter();\n        intentFilter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);\n        context.registerReceiver(this, intentFilter);\n    }\n\n    /**\n     * Used to unregister the airplane mode reciever.\n     */\n    public void unregister() {\n        context.unregisterReceiver(this);\n    }\n\n    /**\n     * Called when airplane mode is changed.\n     *\n     * @param enabled\n     */\n    public abstract void airplaneModeChanged(boolean enabled);\n\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>// Create an AirplaneModeReceiver\nAirplaneModeReceiver airplaneModeReceiver;\n\n@Override\nprotected void onResume()\n{\n    super.onResume();\n\n    // Initialize the AirplaneModeReceiver in your onResume function\n    // passing it a context and overriding the callback function\n    airplaneModeReceiver = new AirplaneModeReceiver(this) {\n        @Override\n        public void airplaneModeChanged(boolean enabled) {\n            Log.i(\n                \"AirplaneModeReceiver\",\n                \"Airplane mode changed to: \" + \n                ((active) ? \"ACTIVE\" : \"NOT ACTIVE\")\n            );\n        }\n    };\n\n    // Register the AirplaneModeReceiver\n    airplaneModeReceiver.register();\n}\n\n@Override\nprotected void onStop()\n{\n    super.onStop();\n\n    // Unregister the AirplaneModeReceiver\n    if (airplaneModeReceiver != null)\n        airplaneModeReceiver.unregister();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511955264,"creation_date":1511955264,"answer_id":47551846,"question_id":4319212,"body_markdown":"In Oreo please do not use the airplane mode broadCastReceiver. it is an implicit intent.  it has been removed. Here is the current [exceptions list][1]. its not currently on the list so should fail to receive data.  Consider it dead. \r\n\r\n\r\nas stated by another user above use the following code:\r\n\r\n     @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n        @SuppressWarnings({ &quot;deprecation&quot; })\r\n        public static boolean isAirplaneModeOn(Context context) {\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR1){\r\n            /* API 17 and above */\r\n                return Settings.Global.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\r\n            } else {\r\n            /* below */\r\n                return Settings.System.getInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) != 0;\r\n            }\r\n        }\r\n\r\n  [1]: https://developer.android.com/guide/components/broadcast-exceptions.html","title":"How can one detect airplane mode on Android?","body":"<p>In Oreo please do not use the airplane mode broadCastReceiver. it is an implicit intent.  it has been removed. Here is the current <a href=\"https://developer.android.com/guide/components/broadcast-exceptions.html\" rel=\"nofollow noreferrer\">exceptions list</a>. its not currently on the list so should fail to receive data.  Consider it dead. </p>\n\n<p>as stated by another user above use the following code:</p>\n\n<pre><code> @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n    @SuppressWarnings({ \"deprecation\" })\n    public static boolean isAirplaneModeOn(Context context) {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR1){\n        /* API 17 and above */\n            return Settings.Global.getInt(context.getContentResolver(), Settings.Global.AIRPLANE_MODE_ON, 0) != 0;\n        } else {\n        /* below */\n            return Settings.System.getInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) != 0;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2625179,"reputation":15617,"user_id":2272346,"accept_rate":94,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522943377,"creation_date":1522943377,"answer_id":49676547,"question_id":4319212,"body_markdown":"Here&#39;s the only thing what worked for me (API 27):\r\n        \r\n    IntentFilter filter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\r\n    filter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);\r\n    this.registerReceiver(br, filter);\r\n\r\nWhere `br` is your BroadcastReceiver. I believe that with the recent changes in permission now both `ConnectivityManager.CONNECTIVITY_ACTION` and `Intent.ACTION_AIRPLANE_MODE_CHANGED`are needed.","title":"How can one detect airplane mode on Android?","body":"<p>Here's the only thing what worked for me (API 27):</p>\n\n<pre><code>IntentFilter filter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\nfilter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);\nthis.registerReceiver(br, filter);\n</code></pre>\n\n<p>Where <code>br</code> is your BroadcastReceiver. I believe that with the recent changes in permission now both <code>ConnectivityManager.CONNECTIVITY_ACTION</code> and <code>Intent.ACTION_AIRPLANE_MODE_CHANGED</code>are needed.</p>\n"},{"tags":[],"owner":{"account_id":9550799,"reputation":825,"user_id":7095029,"accept_rate":67,"display_name":"ci0ccarellia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576781245,"creation_date":1576781245,"answer_id":59415354,"question_id":4319212,"body_markdown":"Since Jelly Bean (Build Code 17), this field has been moved to Global settings.\r\nThus, to achieve the best compatibility and robustness we have to take care of both cases. \r\nThe following example is written in Kotlin.\r\n\r\n    fun isInAirplane(context: Context): Boolean {\r\n\t    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n\t\t    Settings.Global.getInt(\r\n\t\t\t    context.contentResolver, Settings.Global.AIRPLANE_MODE_ON, 0\r\n\t\t    )\r\n\t    } else {\r\n\t\t    Settings.System.getInt(\r\n\t\t\t    context.contentResolver, Settings.System.AIRPLANE_MODE_ON, 0\r\n\t\t    )\r\n\t    } != 0\r\n    }\r\n\r\n&gt; Note: If you do not keep support for versions before Jelly Bean, you can omit the if clause.&lt;br&gt;The value that you get while referencing `Settings.System.AIRPLANE_MODE_ON`, is the same as the one you find under Global.*\r\n\r\n    \r\n        /**\r\n         * @deprecated Use {@link android.provider.Settings.Global#AIRPLANE_MODE_ON} instead\r\n         */\r\n        @Deprecated\r\n        public static final String AIRPLANE_MODE_ON = Global.AIRPLANE_MODE_ON;\r\n\r\nThis is the above-jelly bean version of the previous code.\r\n\r\n    \r\n    fun isInAirplane(context: Context): Boolean {\r\n\t    return Settings.Global.getInt(\r\n\t\t    context.contentResolver, Settings.Global.AIRPLANE_MODE_ON, 0\r\n\t    ) != 0\r\n    }","title":"How can one detect airplane mode on Android?","body":"<p>Since Jelly Bean (Build Code 17), this field has been moved to Global settings.\nThus, to achieve the best compatibility and robustness we have to take care of both cases. \nThe following example is written in Kotlin.</p>\n\n<pre><code>fun isInAirplane(context: Context): Boolean {\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n        Settings.Global.getInt(\n            context.contentResolver, Settings.Global.AIRPLANE_MODE_ON, 0\n        )\n    } else {\n        Settings.System.getInt(\n            context.contentResolver, Settings.System.AIRPLANE_MODE_ON, 0\n        )\n    } != 0\n}\n</code></pre>\n\n<blockquote>\n  <p>Note: If you do not keep support for versions before Jelly Bean, you can omit the if clause.<br>The value that you get while referencing <code>Settings.System.AIRPLANE_MODE_ON</code>, is the same as the one you find under Global.*</p>\n</blockquote>\n\n<pre><code>    /**\n     * @deprecated Use {@link android.provider.Settings.Global#AIRPLANE_MODE_ON} instead\n     */\n    @Deprecated\n    public static final String AIRPLANE_MODE_ON = Global.AIRPLANE_MODE_ON;\n</code></pre>\n\n<p>This is the above-jelly bean version of the previous code.</p>\n\n<pre><code>fun isInAirplane(context: Context): Boolean {\n    return Settings.Global.getInt(\n        context.contentResolver, Settings.Global.AIRPLANE_MODE_ON, 0\n    ) != 0\n}\n</code></pre>\n"}],"owner":{"account_id":234890,"reputation":4982,"user_id":501333,"accept_rate":91,"display_name":"Sean W."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70940,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":4319257,"answer_count":13,"score":101,"last_activity_date":1670500929,"creation_date":1291155069,"question_id":4319212,"body_markdown":"I have code in my application that detects if Wi-Fi is actively connected. That code triggers a RuntimeException if airplane mode is enabled. I would like to display a separate error message when in this mode anyway. How can I reliably detect if an Android device is in airplane mode?\r\n","title":"How can one detect airplane mode on Android?","body":"<p>I have code in my application that detects if Wi-Fi is actively connected. That code triggers a RuntimeException if airplane mode is enabled. I would like to display a separate error message when in this mode anyway. How can I reliably detect if an Android device is in airplane mode?</p>\n"},{"tags":["java","string","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":23999971,"reputation":108,"user_id":17985021,"display_name":"Aerith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670500851,"creation_date":1670500553,"answer_id":74729909,"question_id":74729769,"body_markdown":"I think the problem is with your Regex. It currently is &quot;[a-zA-Z]&quot;. So it is only one character. If you want multiple letters you need to add a &quot;+&quot;. So it should be:\r\n\r\n`generex= new Generex(&quot;[a-zA-Z]+&quot;);`","title":"Generating a String which matches given regex using random-Method of GENEREX","body":"<p>I think the problem is with your Regex. It currently is &quot;[a-zA-Z]&quot;. So it is only one character. If you want multiple letters you need to add a &quot;+&quot;. So it should be:</p>\n<p><code>generex= new Generex(&quot;[a-zA-Z]+&quot;);</code></p>\n"}],"owner":{"account_id":27188933,"reputation":3,"user_id":20723031,"display_name":"flepponier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74729909,"answer_count":1,"score":0,"last_activity_date":1670500851,"creation_date":1670499737,"question_id":74729769,"body_markdown":"I am trying to generate a String which matches a given Regex using the random-Method of GENEREX.\r\n \r\n**Target**: as defined in the random Method -&gt; random(min, max), the String is supposed to have between a given min- and max-amount of characters. \r\n\r\n**Problem**: the output is matching the defined regex BUT it contains only one character. So it doesn&#180;t consider the defined min and max of the random-Method.\r\n\r\n\r\n**Code in question**\r\n```\r\ngenerex= new Generex(&quot;[a-zA-Z]&quot;);\r\nString output = generex.random(4,15);\r\n```\r\n\r\nValue of output at the moment: &quot;P&quot; (f.E.)\r\n\r\nIm **Expecting** something like **output**: &quot;WorksFine&quot;\r\n","title":"Generating a String which matches given regex using random-Method of GENEREX","body":"<p>I am trying to generate a String which matches a given Regex using the random-Method of GENEREX.</p>\n<p><strong>Target</strong>: as defined in the random Method -&gt; random(min, max), the String is supposed to have between a given min- and max-amount of characters.</p>\n<p><strong>Problem</strong>: the output is matching the defined regex BUT it contains only one character. So it doesn´t consider the defined min and max of the random-Method.</p>\n<p><strong>Code in question</strong></p>\n<pre><code>generex= new Generex(&quot;[a-zA-Z]&quot;);\nString output = generex.random(4,15);\n</code></pre>\n<p>Value of output at the moment: &quot;P&quot; (f.E.)</p>\n<p>Im <strong>Expecting</strong> something like <strong>output</strong>: &quot;WorksFine&quot;</p>\n"},{"tags":["java","netbeans","netbeans-7"],"comments":[{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1357710736,"post_id":14228973,"comment_id":19739016,"body_markdown":"Show hidden files maybe? Netbeans by default does not delete the actual folder when you delete a project, but if you&#39;ve checked the directory then IDK what&#39;s going on.","body":"Show hidden files maybe? Netbeans by default does not delete the actual folder when you delete a project, but if you&#39;ve checked the directory then IDK what&#39;s going on."},{"owner":{"account_id":1979966,"reputation":68,"user_id":1776829,"display_name":"Jignesh Parmar"},"score":0,"creation_date":1357712132,"post_id":14228973,"comment_id":19739413,"body_markdown":"Yes, i have checked hidden files, actually had created just a new directory and then trying to create a new project in it, still its not allowing","body":"Yes, i have checked hidden files, actually had created just a new directory and then trying to create a new project in it, still its not allowing"}],"answers":[{"tags":[],"owner":{"account_id":1779066,"reputation":327,"user_id":1622239,"display_name":"Joseph Farrugia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1357745830,"creation_date":1357745830,"answer_id":14238845,"question_id":14228973,"body_markdown":"Does the problem comes out when you try to create it, or what ?\r\n\r\nPlease not that your version is a bit old. \r\n\r\n 1. Make sure that it was always in the same directory as before .\r\n  \r\n 2. I would restart my computer &amp; try again.\r\n   \r\n 3. If the situation persists I would upgrade to the latest version (7.2.1) and\r\n    check if the problem still persists or contact NetBeans.","title":"Project Folder already exists and is not empty- Error in netbeans","body":"<p>Does the problem comes out when you try to create it, or what ?</p>\n\n<p>Please not that your version is a bit old. </p>\n\n<ol>\n<li><p>Make sure that it was always in the same directory as before .</p></li>\n<li><p>I would restart my computer &amp; try again.</p></li>\n<li><p>If the situation persists I would upgrade to the latest version (7.2.1) and\ncheck if the problem still persists or contact NetBeans.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5883828,"reputation":671,"user_id":4632437,"accept_rate":80,"display_name":"Igor Soudakevitch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450771486,"creation_date":1450771486,"answer_id":34411088,"question_id":14228973,"body_markdown":"I my case (NetBeans 8.1 on Windows 7 x64) the reason was incorrect template file for main java class (`C:\\Users\\_my_user_name_\\AppData\\Roaming\\NetBeans\\8.1\\config\\Templates\\Classes\\Main.java`). You see, when tweaking with that file I left it filled with invalid code; a closing tag was missing, to be exact. As soon as I realized my mistake and corrected it, everything went back to normal and has been working perfectly ever since.&lt;BR&gt;&lt;BR&gt;\r\n**This is what I&#39;d suggest:**&lt;BR&gt; \r\n**Step 1**: See if you can create a new project in a folder that doesn&#39;t exist yet. Suppose the IDE does make this new folder for you, starts filling it with files, then stops unexpectedly and says that &#39;Project folder already exists, etc&#39;.&lt;BR&gt;\r\n**Step 2**: Look inside the folder and try to locate the main class for your application (e.g., `C:\\My_Amazing_NetBeans_Projects\\MyNiftyJavaApp\\src\\myniftyjavaapp\\MyNiftyJavaApp.java`)&lt;BR&gt;\r\n**Step 3**: If the main class file does exist but is totally empty (0 bytes in length) it might mean that something prevents the IDE from filling it with automatically generated code (as happened to me because of the invalid main class template).&lt;BR&gt;&lt;BR&gt;\r\nIn short, try to locate exact point at which the IDE loses its head. As a last resort, consider reinstalling NetBeans. Admittedly, this solution is crude and inelegant but people all over the world report it usually helps...","title":"Project Folder already exists and is not empty- Error in netbeans","body":"<p>I my case (NetBeans 8.1 on Windows 7 x64) the reason was incorrect template file for main java class (<code>C:\\Users\\_my_user_name_\\AppData\\Roaming\\NetBeans\\8.1\\config\\Templates\\Classes\\Main.java</code>). You see, when tweaking with that file I left it filled with invalid code; a closing tag was missing, to be exact. As soon as I realized my mistake and corrected it, everything went back to normal and has been working perfectly ever since.<BR><BR>\n<strong>This is what I'd suggest:</strong><BR> \n<strong>Step 1</strong>: See if you can create a new project in a folder that doesn't exist yet. Suppose the IDE does make this new folder for you, starts filling it with files, then stops unexpectedly and says that 'Project folder already exists, etc'.<BR>\n<strong>Step 2</strong>: Look inside the folder and try to locate the main class for your application (e.g., <code>C:\\My_Amazing_NetBeans_Projects\\MyNiftyJavaApp\\src\\myniftyjavaapp\\MyNiftyJavaApp.java</code>)<BR>\n<strong>Step 3</strong>: If the main class file does exist but is totally empty (0 bytes in length) it might mean that something prevents the IDE from filling it with automatically generated code (as happened to me because of the invalid main class template).<BR><BR>\nIn short, try to locate exact point at which the IDE loses its head. As a last resort, consider reinstalling NetBeans. Admittedly, this solution is crude and inelegant but people all over the world report it usually helps...</p>\n"},{"tags":[],"owner":{"account_id":10110263,"reputation":3,"user_id":7471485,"display_name":"mystic007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486161747,"creation_date":1485384574,"answer_id":41863138,"question_id":14228973,"body_markdown":"    &lt;#if package?? &amp;&amp; package != &quot;&quot;&gt; \r\n    package ${package}; \r\n    &lt;/#if&gt; \r\n    \r\n    /** @author ${user}  */\r\n     \r\n    public class ${name} { \r\n    \r\n        public static void main(String[] args) { \r\n            \r\n        } \r\n    }\r\n\r\n It seems that the first three lines of code above are key to this problem. I changed my `JAVA MAIN CLASS` template and removed unwanted comments, but I also removed these first three lines of code. The first project created was ok, package was &quot;default package&quot;. \r\n\r\nWhen I tried to create the next project I got an error about a Project folder that already exists. I did uninstall/install NetBeans 8.2, changed template again in the same manner, and again second project fails to create. \r\n\r\nThen I decided to change template line by line to see what is going on and guess what: the first three lines are necessary - new projects are created well and package is not default anymore!","title":"Project Folder already exists and is not empty- Error in netbeans","body":"<pre><code>&lt;#if package?? &amp;&amp; package != \"\"&gt; \npackage ${package}; \n&lt;/#if&gt; \n\n/** @author ${user}  */\n\npublic class ${name} { \n\n    public static void main(String[] args) { \n\n    } \n}\n</code></pre>\n\n<p>It seems that the first three lines of code above are key to this problem. I changed my <code>JAVA MAIN CLASS</code> template and removed unwanted comments, but I also removed these first three lines of code. The first project created was ok, package was \"default package\". </p>\n\n<p>When I tried to create the next project I got an error about a Project folder that already exists. I did uninstall/install NetBeans 8.2, changed template again in the same manner, and again second project fails to create. </p>\n\n<p>Then I decided to change template line by line to see what is going on and guess what: the first three lines are necessary - new projects are created well and package is not default anymore!</p>\n"},{"tags":[],"owner":{"account_id":27136549,"reputation":1,"user_id":20677957,"display_name":"Jayr Gil Galicia Jim&#233;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670500298,"creation_date":1670111416,"answer_id":74671765,"question_id":14228973,"body_markdown":"I changed my JAVA MAIN CLASS template and removed unwanted comments, but I also removed something important that i didn&#39;t noticed.\r\n\r\ni uninstalled and reinstalled the NetBeans program and then i go to: \r\n\r\noptions/templates/java/java main class/ \r\n\r\nthis is at the up rigth corner in net beans. \r\nand then i selected the option that said &quot;recover to default&quot;. then i just close and open the Netbeans again and whwen i tried to make a new project it worked.\r\n\r\nbasically you just need to recover to fefault the java main class that locates in templates options of java.\r\n\r\nIm from mexico and my english is not so good but, I hope my answer can help some body.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mPwTV.png","title":"Project Folder already exists and is not empty- Error in netbeans","body":"<p>I changed my JAVA MAIN CLASS template and removed unwanted comments, but I also removed something important that i didn't noticed.</p>\n<p>i uninstalled and reinstalled the NetBeans program and then i go to:</p>\n<p>options/templates/java/java main class/</p>\n<p>this is at the up rigth corner in net beans.\nand then i selected the option that said &quot;recover to default&quot;. then i just close and open the Netbeans again and whwen i tried to make a new project it worked.</p>\n<p>basically you just need to recover to fefault the java main class that locates in templates options of java.</p>\n<p>Im from mexico and my english is not so good but, I hope my answer can help some body.</p>\n<p><a href=\"https://i.stack.imgur.com/mPwTV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPwTV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1979966,"reputation":68,"user_id":1776829,"display_name":"Jignesh Parmar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11001,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14238845,"answer_count":4,"score":3,"last_activity_date":1670500298,"creation_date":1357710357,"question_id":14228973,"body_markdown":"I&#39;m using NetBeans 7.0.1 &amp; when I try to create a JAVA APPLICATION, I get an error which is: &quot;**Project&#160;Folder&#160;already&#160;exists&#160;and&#160;is&#160;not&#160;empty**&quot; . \r\n\r\nBut the fact is that project folder doesn&#39;t exist, their is no folder of same name in the directory.\r\nAny suggestions would be a great help.\r\n\r\nThanks in advance.","title":"Project Folder already exists and is not empty- Error in netbeans","body":"<p>I'm using NetBeans 7.0.1 &amp; when I try to create a JAVA APPLICATION, I get an error which is: \"<strong>Project Folder already exists and is not empty</strong>\" . </p>\n\n<p>But the fact is that project folder doesn't exist, their is no folder of same name in the directory.\nAny suggestions would be a great help.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","jsp","spring-mvc"],"comments":[{"owner":{"account_id":3768193,"reputation":5605,"user_id":3131085,"display_name":"Jason White"},"score":0,"creation_date":1475496729,"post_id":39831142,"comment_id":66952000,"body_markdown":"it looks like you have mapping /items/add mapped to two different controllers","body":"it looks like you have mapping /items/add mapped to two different controllers"},{"owner":{"account_id":3385527,"reputation":1304,"user_id":2841563,"display_name":"Sanka"},"score":0,"creation_date":1475505614,"post_id":39831142,"comment_id":66957923,"body_markdown":"https://www.mkyong.com/spring-mvc/spring-mvc-dropdown-box-example/ your problem is you are having list of map. In this example has only map of key value pairs.I think you have to loop list.Within loop you can try &lt;form:options items=&quot;${listCat}&quot; /&gt; kind of code or option tag with key &amp; value","body":"<a href=\"https://www.mkyong.com/spring-mvc/spring-mvc-dropdown-box-example/\" rel=\"nofollow noreferrer\">mkyong.com/spring-mvc/spring-mvc-dropdown-box-example</a> your problem is you are having list of map. In this example has only map of key value pairs.I think you have to loop list.Within loop you can try &lt;form:options items=&quot;${listCat}&quot; /&gt; kind of code or option tag with key &amp; value"}],"answers":[{"tags":[],"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475582480,"creation_date":1475499709,"answer_id":39832332,"question_id":39831142,"body_markdown":"you are trying to add 2 models to the `ModelAndView` object inside the `showAddItem` method in `CategoryController` class, which will not work if you want to add multiple objects to `ModelAndView` you can use a `Map` or just use `Model` class instead.\r\n\r\n     @RequestMapping(value = &quot;/add&quot;, method = RequestMethod.GET)\r\n     public String showAddItem(Model model) {\r\n        List&lt;Map&lt;String, Object&gt;&gt; listCat =   categoryRepository.viewCategoryList();\r\n        model.addAttribute(&quot;listCat&quot;,listCat);\r\n        model.addAttribute(&quot;command&quot;,new Item());\r\n        return &quot;addItem&quot;;\r\n     }\r\n\r\n\r\nsince you are trying to populate a dropdown from a `List of Maps` you might wanna change the current code inside the jsp.\r\n\r\n\r\n    &lt;select name=&#39;lists&#39;&gt;  \r\n       &lt;c:forEach var=&quot;list&quot; items=&quot;${listCat}&quot;&gt;\r\n           &lt;option id=&quot;${list.key}&quot; value=&quot;${list.value.getName()}&quot;&gt;${list.value.getName()}&lt;/option&gt;   \r\n       &lt;/c:forEach&gt;\r\n    &lt;/select&gt;\r\n\r\nchange the commandname attribute inside the form too\r\n\r\n    commandName=&quot;command&quot;","title":"Populating a drop-down from a database in spring","body":"<p>you are trying to add 2 models to the <code>ModelAndView</code> object inside the <code>showAddItem</code> method in <code>CategoryController</code> class, which will not work if you want to add multiple objects to <code>ModelAndView</code> you can use a <code>Map</code> or just use <code>Model</code> class instead.</p>\n\n<pre><code> @RequestMapping(value = \"/add\", method = RequestMethod.GET)\n public String showAddItem(Model model) {\n    List&lt;Map&lt;String, Object&gt;&gt; listCat =   categoryRepository.viewCategoryList();\n    model.addAttribute(\"listCat\",listCat);\n    model.addAttribute(\"command\",new Item());\n    return \"addItem\";\n }\n</code></pre>\n\n<p>since you are trying to populate a dropdown from a <code>List of Maps</code> you might wanna change the current code inside the jsp.</p>\n\n<pre><code>&lt;select name='lists'&gt;  \n   &lt;c:forEach var=\"list\" items=\"${listCat}\"&gt;\n       &lt;option id=\"${list.key}\" value=\"${list.value.getName()}\"&gt;${list.value.getName()}&lt;/option&gt;   \n   &lt;/c:forEach&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>change the commandname attribute inside the form too</p>\n\n<pre><code>commandName=\"command\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5649339,"reputation":1223,"user_id":4470510,"display_name":"Clarius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670500284,"creation_date":1670499834,"answer_id":74729785,"question_id":39831142,"body_markdown":"I&#39;m working with the Oracle XE sample database. When I update an employee I want to be able to select their manager_id from a list of names. Here&#39;s how I did it...\r\n\r\n1. get a list of managers, employees who have subordinates. To achieve this I added a query to the repository. Note - you need to return all the fields to allow the entity to be populated.\r\n```\r\n    @Query(value=&quot;SELECT * FROM employees WHERE employee_id IN (SELECT DISTINCT(manager_id) FROM employees)&quot;, nativeQuery=true)\r\n    public List&lt;Employee&gt; findAllManagers();\r\n```\r\n2. In the controller I fetched the list of managers and added it to the model.\r\n```\r\n    @GetMapping(&quot;/update&quot;)\r\n    public String showFormForUpdate(@RequestParam(&quot;employeeId&quot;) int employeeId, Model model) {\r\n    \t\r\n    \tEmployee employee = service.findById(employeeId);\r\n    \tmodel.addAttribute(&quot;employee&quot;, employee);\r\n    \t\r\n    \tList&lt;Employee&gt; managers = service.findAllManagers();\r\n    \tmodel.addAttribute(&quot;managers&quot;, managers);\r\n    \t\r\n    \treturn &quot;employees/form&quot;;\r\n    }\r\n```\r\n3. In the form I used the list of managers to construct a drop down list.\r\n\r\n```\r\n&lt;select class=&quot;form-control&quot; th:field=&quot;*{manager.employeeId}&quot; id=&quot;managers&quot;&gt;\r\n\t&lt;option th:each=&quot;manager : ${managers}&quot; th:value=&quot;${manager.employeeId}&quot; th:text=&quot;${manager.lastName} + &#39;, &#39; + ${manager.firstName}&quot;&gt;&lt;/option&gt;\r\n&lt;/select&gt;\r\n```\r\n\r\nThat&#39;s what worked for me at time of writing. Luck.","title":"Populating a drop-down from a database in spring","body":"<p>I'm working with the Oracle XE sample database. When I update an employee I want to be able to select their manager_id from a list of names. Here's how I did it...</p>\n<ol>\n<li>get a list of managers, employees who have subordinates. To achieve this I added a query to the repository. Note - you need to return all the fields to allow the entity to be populated.</li>\n</ol>\n<pre><code>    @Query(value=&quot;SELECT * FROM employees WHERE employee_id IN (SELECT DISTINCT(manager_id) FROM employees)&quot;, nativeQuery=true)\n    public List&lt;Employee&gt; findAllManagers();\n</code></pre>\n<ol start=\"2\">\n<li>In the controller I fetched the list of managers and added it to the model.</li>\n</ol>\n<pre><code>    @GetMapping(&quot;/update&quot;)\n    public String showFormForUpdate(@RequestParam(&quot;employeeId&quot;) int employeeId, Model model) {\n        \n        Employee employee = service.findById(employeeId);\n        model.addAttribute(&quot;employee&quot;, employee);\n        \n        List&lt;Employee&gt; managers = service.findAllManagers();\n        model.addAttribute(&quot;managers&quot;, managers);\n        \n        return &quot;employees/form&quot;;\n    }\n</code></pre>\n<ol start=\"3\">\n<li>In the form I used the list of managers to construct a drop down list.</li>\n</ol>\n<pre><code>&lt;select class=&quot;form-control&quot; th:field=&quot;*{manager.employeeId}&quot; id=&quot;managers&quot;&gt;\n    &lt;option th:each=&quot;manager : ${managers}&quot; th:value=&quot;${manager.employeeId}&quot; th:text=&quot;${manager.lastName} + ', ' + ${manager.firstName}&quot;&gt;&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>That's what worked for me at time of writing. Luck.</p>\n"}],"owner":{"account_id":8761257,"reputation":345,"user_id":6551153,"accept_rate":40,"display_name":"SMash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670500284,"creation_date":1475496205,"question_id":39831142,"body_markdown":"I am having a jsp page containing a form for add ne item to a system. In there, I need to select the category that the new item belongs to. I need to populate this drop-down list from a database using spring. For the form submission, I am writing a controller class called ItemController.java where the drop-down element is which I need to populate. But, that populating list items need to be called from another controller class named CategoryController.java. I tried so many ways but still I could not able to do it as still getting errors. anybody can have a look on this please?  \r\n\r\nHere are my codes. \r\n\r\naddItem.jsp\r\n  \r\n\r\n      &lt;form:form class=&quot;form-horizontal&quot; role=&quot;form&quot; id=&quot;frmAddItem&quot; action=&quot;/admin/items/add_item&quot; method=&quot;post&quot; commandName=&quot;command&quot;&gt;\r\n        &lt;fieldset class=&quot;scheduler-border&quot;&gt;\r\n    \r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n        &lt;label for=&quot;selectCat&quot; class=&quot;col-xs-3 control-label&quot;&gt;\r\n           Category\r\n        &lt;/label&gt;\r\n    \r\n        &lt;div class=&quot;col-xs-5&quot;&gt;\r\n    \r\n        &lt;form:select class=&quot;form-control&quot; id=&quot;selectCat&quot; path=&quot;categoryName&quot;&gt;\r\n        &lt;form:option value=&quot;-&quot; label=&quot;--Select Category--&quot;/&gt;\r\n        &lt;form:options items=&quot;${listCat}&quot; /&gt;\r\n        &lt;/form:select&gt;\r\n          &lt;span id=&quot;catErr&quot; class=&quot;input-group-error&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;........\r\n\r\nItemController.java\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/items&quot;)\r\n    public class ItemController {\r\n    \r\n        private static final Logger LOG = LogManager.getLogger(ItemController.class);\r\n    \r\n        @Autowired\r\n        private ItemRepository item;\r\n    \r\n        @Qualifier(&quot;categoryRepository&quot;)\r\n        @Autowired\r\n        private CategoryRepository category;\r\n    \r\n        /**\r\n         * Add new item view\r\n         */\r\n    \r\n        //For viewing the add item form\r\n        @RequestMapping(value = &quot;/add&quot;, method = RequestMethod.GET)\r\n        public ModelAndView showAddItem() {\r\n            return new ModelAndView(&quot;addItem&quot;, &quot;command&quot;, new Item());\r\n        }\r\n    \r\n        //For submitting the add new item\r\n        @RequestMapping(value = &quot;/add_item&quot;)\r\n        public String addItem(@ModelAttribute(&quot;newItem&quot;) Item newItem) throws SQLIntegrityConstraintViolationException {\r\n    \r\n        System.out.println(&quot;First Name:&quot; + newItem.getItemName());\r\n    \r\n        int a = item.add(newItem);\r\n        if (a == 1)\r\n           return &quot;redirect:add&quot;;\r\n           // model.setViewName(&quot;addItem&quot;);\r\n         else\r\n    \r\n         // System.out.println(&quot;Error in item add&quot;);\r\n         return &quot;redirect:add&quot;;\r\n         //  return model;\r\n        }\r\n\r\n\r\nCategoryController.java\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/items&quot;)\r\n    public class CategoryController {\r\n    \r\n        private static final Logger LOG = LogManager.getLogger(CategoryController.class);\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        @Autowired\r\n        private ItemRepository item;\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/add&quot;, method = RequestMethod.GET)\r\n        public ModelAndView showAddItem() {\r\n            ModelAndView model = new ModelAndView();\r\n            List&lt;Map&lt;String, Object&gt;&gt; listCat = categoryRepository.viewCategoryList();\r\n            model.addObject(&quot;listCat&quot;, listCat);\r\n            return new ModelAndView(&quot;addItem&quot;, &quot;command&quot;, new Item());\r\n        }","title":"Populating a drop-down from a database in spring","body":"<p>I am having a jsp page containing a form for add ne item to a system. In there, I need to select the category that the new item belongs to. I need to populate this drop-down list from a database using spring. For the form submission, I am writing a controller class called ItemController.java where the drop-down element is which I need to populate. But, that populating list items need to be called from another controller class named CategoryController.java. I tried so many ways but still I could not able to do it as still getting errors. anybody can have a look on this please?  </p>\n\n<p>Here are my codes. </p>\n\n<p>addItem.jsp</p>\n\n<pre><code>  &lt;form:form class=\"form-horizontal\" role=\"form\" id=\"frmAddItem\" action=\"/admin/items/add_item\" method=\"post\" commandName=\"command\"&gt;\n    &lt;fieldset class=\"scheduler-border\"&gt;\n\n    &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"row\"&gt;\n    &lt;label for=\"selectCat\" class=\"col-xs-3 control-label\"&gt;\n       Category\n    &lt;/label&gt;\n\n    &lt;div class=\"col-xs-5\"&gt;\n\n    &lt;form:select class=\"form-control\" id=\"selectCat\" path=\"categoryName\"&gt;\n    &lt;form:option value=\"-\" label=\"--Select Category--\"/&gt;\n    &lt;form:options items=\"${listCat}\" /&gt;\n    &lt;/form:select&gt;\n      &lt;span id=\"catErr\" class=\"input-group-error\"&gt;&lt;/span&gt;\n    &lt;/div&gt;........\n</code></pre>\n\n<p>ItemController.java</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/items\")\npublic class ItemController {\n\n    private static final Logger LOG = LogManager.getLogger(ItemController.class);\n\n    @Autowired\n    private ItemRepository item;\n\n    @Qualifier(\"categoryRepository\")\n    @Autowired\n    private CategoryRepository category;\n\n    /**\n     * Add new item view\n     */\n\n    //For viewing the add item form\n    @RequestMapping(value = \"/add\", method = RequestMethod.GET)\n    public ModelAndView showAddItem() {\n        return new ModelAndView(\"addItem\", \"command\", new Item());\n    }\n\n    //For submitting the add new item\n    @RequestMapping(value = \"/add_item\")\n    public String addItem(@ModelAttribute(\"newItem\") Item newItem) throws SQLIntegrityConstraintViolationException {\n\n    System.out.println(\"First Name:\" + newItem.getItemName());\n\n    int a = item.add(newItem);\n    if (a == 1)\n       return \"redirect:add\";\n       // model.setViewName(\"addItem\");\n     else\n\n     // System.out.println(\"Error in item add\");\n     return \"redirect:add\";\n     //  return model;\n    }\n</code></pre>\n\n<p>CategoryController.java</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/items\")\npublic class CategoryController {\n\n    private static final Logger LOG = LogManager.getLogger(CategoryController.class);\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    @Autowired\n    private ItemRepository item;\n\n\n    @RequestMapping(value = \"/add\", method = RequestMethod.GET)\n    public ModelAndView showAddItem() {\n        ModelAndView model = new ModelAndView();\n        List&lt;Map&lt;String, Object&gt;&gt; listCat = categoryRepository.viewCategoryList();\n        model.addObject(\"listCat\", listCat);\n        return new ModelAndView(\"addItem\", \"command\", new Item());\n    }\n</code></pre>\n"},{"tags":["java","algorithm","time-complexity","big-o"],"comments":[{"owner":{"account_id":10043102,"reputation":657,"user_id":7425377,"accept_rate":33,"display_name":"Olli"},"score":4,"creation_date":1670489728,"post_id":74727683,"comment_id":131888631,"body_markdown":"i think you wrote sub instead of sum inside your while condition","body":"i think you wrote sub instead of sum inside your while condition"},{"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"score":0,"creation_date":1670491169,"post_id":74727683,"comment_id":131889075,"body_markdown":"@Olli yes, spelling mistake","body":"@Olli yes, spelling mistake"}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670499768,"creation_date":1670489821,"answer_id":74727728,"question_id":74727683,"body_markdown":"Your answer does not make sense for the simple reason that there is no n in the problem statement, and saying that a is n is &quot;cheating&quot;.\r\n\r\nAlso, though it is technically correct, it is a little sad to use an untight bound O(a) when you know that the algorithm makes exactly a/b additions.\r\n\r\n\r\n----------\r\nBy the way, it is an arbitrary decision to say that b=1 is &quot;the&quot; worst case. Better say worst case for fixed a (and variable b), or for fixed b (and variable a).","title":"Determine the time complexity of an algorithm","body":"<p>Your answer does not make sense for the simple reason that there is no n in the problem statement, and saying that a is n is &quot;cheating&quot;.</p>\n<p>Also, though it is technically correct, it is a little sad to use an untight bound O(a) when you know that the algorithm makes exactly a/b additions.</p>\n<hr />\n<p>By the way, it is an arbitrary decision to say that b=1 is &quot;the&quot; worst case. Better say worst case for fixed a (and variable b), or for fixed b (and variable a).</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670493848,"creation_date":1670493848,"answer_id":74728510,"question_id":74727683,"body_markdown":"Alas there is no generalisation of big-O to multi-variable one, see [Formal definition of big-O when multiple variables are involved?](https://math.stackexchange.com/questions/96809/formal-definition-of-big-o-when-multiple-variables-are-involved).\r\n\r\nBut as you know the exact complexity, T(a,b)=a/b, there is no need for worst-case... We use worst-case analysis when we don&#39;t know how to compute the exact complexity.","title":"Determine the time complexity of an algorithm","body":"<p>Alas there is no generalisation of big-O to multi-variable one, see <a href=\"https://math.stackexchange.com/questions/96809/formal-definition-of-big-o-when-multiple-variables-are-involved\">Formal definition of big-O when multiple variables are involved?</a>.</p>\n<p>But as you know the exact complexity, T(a,b)=a/b, there is no need for worst-case... We use worst-case analysis when we don't know how to compute the exact complexity.</p>\n"}],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670499768,"creation_date":1670489555,"question_id":74727683,"body_markdown":"I&#39;m reading one cool book, and there was a task to determine the time complexity of the code in the worst case. The code performs integer division (a &gt; 0, b &gt; 0):\r\n\r\n    int div(int a, int b) {\r\n        int count = 0;\r\n        int sum = b;\r\n        while (sum &lt;= a) {\r\n            sum += b;\r\n            count++;\r\n        }\r\n            \r\n        return count;\r\n    }\r\n\r\nMy answer was O(n), since, in the worst case, when we have a &gt; 0, b = 1, we will iterate through **a** times in the `while()` loop.\r\n\r\nThe answer in the book was O(a/b) which makes sense. But, if we&#39;re considering **the worst** case, then\r\n\r\nO(a/1) =&gt; O(a) &lt;=&gt; O(n) *(letter in parentheses doesn&#39;t really matter in this case).*\r\n\r\nSo, the answer O(n) is correct as well. Isn&#39;t it?","title":"Determine the time complexity of an algorithm","body":"<p>I'm reading one cool book, and there was a task to determine the time complexity of the code in the worst case. The code performs integer division (a &gt; 0, b &gt; 0):</p>\n<pre><code>int div(int a, int b) {\n    int count = 0;\n    int sum = b;\n    while (sum &lt;= a) {\n        sum += b;\n        count++;\n    }\n        \n    return count;\n}\n</code></pre>\n<p>My answer was O(n), since, in the worst case, when we have a &gt; 0, b = 1, we will iterate through <strong>a</strong> times in the <code>while()</code> loop.</p>\n<p>The answer in the book was O(a/b) which makes sense. But, if we're considering <strong>the worst</strong> case, then</p>\n<p>O(a/1) =&gt; O(a) &lt;=&gt; O(n) <em>(letter in parentheses doesn't really matter in this case).</em></p>\n<p>So, the answer O(n) is correct as well. Isn't it?</p>\n"},{"tags":["java","maven","intellij-idea","junit","blueprint-osgi"],"comments":[{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":1,"creation_date":1670505402,"post_id":74729767,"comment_id":131893654,"body_markdown":"What do you mean that one test has a problem? Does it contain a compiler error? Does it simply fail an assertion? Obviously, all test classes are compiled to run tests. Hence, if you have a compiler error in one of them, none will compile and run. But if it&#39;s just a failed assertion, the rest should run without issues.","body":"What do you mean that one test has a problem? Does it contain a compiler error? Does it simply fail an assertion? Obviously, all test classes are compiled to run tests. Hence, if you have a compiler error in one of them, none will compile and run. But if it&#39;s just a failed assertion, the rest should run without issues."},{"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"score":0,"creation_date":1670506277,"post_id":74729767,"comment_id":131893973,"body_markdown":"It seems your tests&#39; code does not compile at all. If it were an assertion error, in the log it would not be displayed as error, rather as a failure. Failure means the test did not have expected result, error means it did. not even compile or it threw some exception in runtime","body":"It seems your tests&#39; code does not compile at all. If it were an assertion error, in the log it would not be displayed as error, rather as a failure. Failure means the test did not have expected result, error means it did. not even compile or it threw some exception in runtime"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1670532345,"post_id":74729767,"comment_id":131902612,"body_markdown":"In maven the test compilation precedes the test run.  All source files must compile.","body":"In maven the test compilation precedes the test run.  All source files must compile."},{"owner":{"account_id":23009887,"reputation":89,"user_id":17132555,"display_name":"CoderLBY"},"score":0,"creation_date":1670575465,"post_id":74729767,"comment_id":131910414,"body_markdown":"@Thorbj&#248;rnRavnAndersen I think you are right, to explain more. a problematic test could mean a test that I was writing, or a good test that I change an argument on assertions to fail on purpose. The wired thing is my collegue has not such issue, and my Intelliji IDEA inside VM ubuntu has no such issue. Only my host machine, cannot run single test without run pass all tests.","body":"@Thorbj&#248;rnRavnAndersen I think you are right, to explain more. a problematic test could mean a test that I was writing, or a good test that I change an argument on assertions to fail on purpose. The wired thing is my collegue has not such issue, and my Intelliji IDEA inside VM ubuntu has no such issue. Only my host machine, cannot run single test without run pass all tests."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1670586051,"post_id":74729767,"comment_id":131913500,"body_markdown":"You may try to run IDE with defaults (&quot;File | Manage IDE Settings | Restore Default Settings&quot;).","body":"You may try to run IDE with defaults (&quot;File | Manage IDE Settings | Restore Default Settings&quot;)."}],"owner":{"account_id":23009887,"reputation":89,"user_id":17132555,"display_name":"CoderLBY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670499707,"creation_date":1670499707,"question_id":74729767,"body_markdown":"Using Intelliji Community Edition 2022.03 on windows 11, working with Maven 3.6.3 and Java-8. \r\nBeen experiencing strange issue: **I cannot run single Junit||Blueprint test if that test has problem, the IDE always try to build the whole test file and then failed at that single problematic test.** So the situation end up being I have to run all the test successfully in order to run single test. I am sure it is related to my local environment, because my colleges have no such problem we have everything the same. and I also have no such problem in linux VM. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**I have tried**\r\n - install unintall different versions of IDE\r\n - Modify test to not build before run, works, but if I change code, no auto detection, so barely\r\n\r\nAny wise men got some ideas please ? \r\n\r\n  [1]: https://i.stack.imgur.com/BFeXu.png","title":"Intelliji IDEA cannot run single test unless all tests are built successfully","body":"<p>Using Intelliji Community Edition 2022.03 on windows 11, working with Maven 3.6.3 and Java-8.\nBeen experiencing strange issue: <strong>I cannot run single Junit||Blueprint test if that test has problem, the IDE always try to build the whole test file and then failed at that single problematic test.</strong> So the situation end up being I have to run all the test successfully in order to run single test. I am sure it is related to my local environment, because my colleges have no such problem we have everything the same. and I also have no such problem in linux VM.</p>\n<p><a href=\"https://i.stack.imgur.com/BFeXu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BFeXu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I have tried</strong></p>\n<ul>\n<li>install unintall different versions of IDE</li>\n<li>Modify test to not build before run, works, but if I change code, no auto detection, so barely</li>\n</ul>\n<p>Any wise men got some ideas please ?</p>\n"},{"tags":["java","jakarta-ee","utilities"],"comments":[{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1273574956,"post_id":2809877,"comment_id":2848404,"body_markdown":"Good question. Kinda surprising indeed if there&#39;s no utility for that... I couldn&#39;t find one quickly.","body":"Good question. Kinda surprising indeed if there&#39;s no utility for that... I couldn&#39;t find one quickly."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1311707824,"post_id":2809877,"comment_id":8123409,"body_markdown":"http://java.dzone.com/articles/two-ways-convert-java-map","body":"<a href=\"http://java.dzone.com/articles/two-ways-convert-java-map\" rel=\"nofollow noreferrer\">java.dzone.com/articles/two-ways-convert-java-map</a>"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1311707839,"post_id":2809877,"comment_id":8123416,"body_markdown":"http://stackoverflow.com/questions/2809877/how-to-convert-map-to-url-query-string/2810102#2810102","body":"<a href=\"http://stackoverflow.com/questions/2809877/how-to-convert-map-to-url-query-string/2810102#2810102\" title=\"how to convert map to url query string\">stackoverflow.com/questions/2809877/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1273577281,"creation_date":1273576148,"answer_id":2810102,"question_id":2809877,"body_markdown":"Here&#39;s something that I quickly wrote; I&#39;m sure it can be improved upon.\r\n\r\n    import java.util.*;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URLEncoder;\r\n    \r\n    public class MapQuery {\r\n    \tstatic String urlEncodeUTF8(String s) {\r\n    \t\ttry {\r\n    \t\t\treturn URLEncoder.encode(s, &quot;UTF-8&quot;);\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\tthrow new UnsupportedOperationException(e);\r\n    \t\t}\r\n    \t}\r\n    \tstatic String urlEncodeUTF8(Map&lt;?,?&gt; map) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tfor (Map.Entry&lt;?,?&gt; entry : map.entrySet()) {\r\n    \t\t\tif (sb.length() &gt; 0) {\r\n    \t\t\t\tsb.append(&quot;&amp;&quot;);\r\n    \t\t\t}\r\n    \t\t\tsb.append(String.format(&quot;%s=%s&quot;,\r\n    \t\t\t\turlEncodeUTF8(entry.getKey().toString()),\r\n    \t\t\t\turlEncodeUTF8(entry.getValue().toString())\r\n    \t\t\t));\r\n    \t\t}\r\n    \t\treturn sb.toString();\t\t\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMap&lt;String,Object&gt; map = new HashMap&lt;String,Object&gt;();\r\n    \t\tmap.put(&quot;p1&quot;, 12);\r\n    \t\tmap.put(&quot;p2&quot;, &quot;cat&quot;);\r\n    \t\tmap.put(&quot;p3&quot;, &quot;a &amp; b&quot;);    \t\t\r\n    \t\tSystem.out.println(urlEncodeUTF8(map));\r\n    \t\t// prints &quot;p3=a+%26+b&amp;p2=cat&amp;p1=12&quot;\r\n    \t}\r\n    }\r\n\r\n","title":"How to convert map to url query string?","body":"<p>Here's something that I quickly wrote; I'm sure it can be improved upon.</p>\n\n<pre><code>import java.util.*;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\n\npublic class MapQuery {\n    static String urlEncodeUTF8(String s) {\n        try {\n            return URLEncoder.encode(s, \"UTF-8\");\n        } catch (UnsupportedEncodingException e) {\n            throw new UnsupportedOperationException(e);\n        }\n    }\n    static String urlEncodeUTF8(Map&lt;?,?&gt; map) {\n        StringBuilder sb = new StringBuilder();\n        for (Map.Entry&lt;?,?&gt; entry : map.entrySet()) {\n            if (sb.length() &gt; 0) {\n                sb.append(\"&amp;\");\n            }\n            sb.append(String.format(\"%s=%s\",\n                urlEncodeUTF8(entry.getKey().toString()),\n                urlEncodeUTF8(entry.getValue().toString())\n            ));\n        }\n        return sb.toString();       \n    }\n    public static void main(String[] args) {\n        Map&lt;String,Object&gt; map = new HashMap&lt;String,Object&gt;();\n        map.put(\"p1\", 12);\n        map.put(\"p2\", \"cat\");\n        map.put(\"p3\", \"a &amp; b\");         \n        System.out.println(urlEncodeUTF8(map));\n        // prints \"p3=a+%26+b&amp;p2=cat&amp;p1=12\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1544373616,"creation_date":1273579227,"answer_id":2810434,"question_id":2809877,"body_markdown":"The most robust one I saw off-the-shelf is the [URLEncodedUtils][1] class from [Apache Http Compoments][2] (HttpClient 4.0).\r\n\r\nThe method `URLEncodedUtils.format()` is what you need.\r\n\r\nIt doesn&#39;t use map so you can have duplicate parameter names, like,\r\n\r\n      a=1&amp;a=2&amp;b=3\r\n\r\nNot that I recommend this kind of use of parameter names.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URLEncodedUtils.html\r\n  [2]: http://hc.apache.org/","title":"How to convert map to url query string?","body":"<p>The most robust one I saw off-the-shelf is the <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URLEncodedUtils.html\" rel=\"noreferrer\">URLEncodedUtils</a> class from <a href=\"http://hc.apache.org/\" rel=\"noreferrer\">Apache Http Compoments</a> (HttpClient 4.0).</p>\n\n<p>The method <code>URLEncodedUtils.format()</code> is what you need.</p>\n\n<p>It doesn't use map so you can have duplicate parameter names, like,</p>\n\n<pre><code>  a=1&amp;a=2&amp;b=3\n</code></pre>\n\n<p>Not that I recommend this kind of use of parameter names.</p>\n"},{"tags":[],"owner":{"account_id":132626,"reputation":680,"user_id":333436,"display_name":"Thraidh"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1357937439,"creation_date":1352381441,"answer_id":13289876,"question_id":2809877,"body_markdown":"If you actually want to build a complete URI, try [URIBuilder][2] from [Apache Http Compoments][1] (HttpClient 4).\r\n\r\nThis does not actually answer the question, but it answered the one I had when I found this question.\r\n\r\n  [1]: http://hc.apache.org/\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html","title":"How to convert map to url query string?","body":"<p>If you actually want to build a complete URI, try <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html\" rel=\"noreferrer\">URIBuilder</a> from <a href=\"http://hc.apache.org/\" rel=\"noreferrer\">Apache Http Compoments</a> (HttpClient 4).</p>\n\n<p>This does not actually answer the question, but it answered the one I had when I found this question.</p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1549716442,"creation_date":1382098032,"answer_id":19449298,"question_id":2809877,"body_markdown":"Another &#39;one class&#39;/no dependency way of doing it, handling single/multiple:\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URLEncoder;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class UrlQueryString {\r\n      private static final String DEFAULT_ENCODING = &quot;UTF-8&quot;;\r\n    \r\n      public static String buildQueryString(final LinkedHashMap&lt;String, Object&gt; map) {\r\n        try {\r\n          final Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; it = map.entrySet().iterator();\r\n          final StringBuilder sb = new StringBuilder(map.size() * 8);\r\n          while (it.hasNext()) {\r\n            final Map.Entry&lt;String, Object&gt; entry = it.next();\r\n            final String key = entry.getKey();\r\n            if (key != null) {\r\n              sb.append(URLEncoder.encode(key, DEFAULT_ENCODING));\r\n              sb.append(&#39;=&#39;);\r\n              final Object value = entry.getValue();\r\n              final String valueAsString = value != null ? URLEncoder.encode(value.toString(), DEFAULT_ENCODING) : &quot;&quot;;\r\n              sb.append(valueAsString);\r\n              if (it.hasNext()) {\r\n                sb.append(&#39;&amp;&#39;);\r\n              }\r\n            } else {\r\n              // Do what you want...for example:\r\n              assert false : String.format(&quot;Null key in query map: %s&quot;, map.entrySet());\r\n            }\r\n          }\r\n          return sb.toString();\r\n        } catch (final UnsupportedEncodingException e) {\r\n          throw new UnsupportedOperationException(e);\r\n        }\r\n      }\r\n    \r\n      public static String buildQueryStringMulti(final LinkedHashMap&lt;String, List&lt;Object&gt;&gt; map) {\r\n        try {\r\n          final StringBuilder sb = new StringBuilder(map.size() * 8);\r\n          for (final Iterator&lt;Entry&lt;String, List&lt;Object&gt;&gt;&gt; mapIterator = map.entrySet().iterator(); mapIterator.hasNext();) {\r\n            final Entry&lt;String, List&lt;Object&gt;&gt; entry = mapIterator.next();\r\n            final String key = entry.getKey();\r\n            if (key != null) {\r\n              final String keyEncoded = URLEncoder.encode(key, DEFAULT_ENCODING);\r\n              final List&lt;Object&gt; values = entry.getValue();\r\n              sb.append(keyEncoded);\r\n              sb.append(&#39;=&#39;);\r\n              if (values != null) {\r\n                for (final Iterator&lt;Object&gt; listIt = values.iterator(); listIt.hasNext();) {\r\n                  final Object valueObject = listIt.next();\r\n                  sb.append(valueObject != null ? URLEncoder.encode(valueObject.toString(), DEFAULT_ENCODING) : &quot;&quot;);\r\n                  if (listIt.hasNext()) {\r\n                    sb.append(&#39;&amp;&#39;);\r\n                    sb.append(keyEncoded);\r\n                    sb.append(&#39;=&#39;);\r\n                  }\r\n                }\r\n              }\r\n              if (mapIterator.hasNext()) {\r\n                sb.append(&#39;&amp;&#39;);\r\n              }\r\n            } else {\r\n              // Do what you want...for example:\r\n              assert false : String.format(&quot;Null key in query map: %s&quot;, map.entrySet());\r\n            }\r\n          }\r\n          return sb.toString();\r\n        } catch (final UnsupportedEncodingException e) {\r\n          throw new UnsupportedOperationException(e);\r\n        }\r\n      }\r\n    \r\n      public static void main(final String[] args) {\r\n        // Examples: could be turned into unit tests ...\r\n        {\r\n          final LinkedHashMap&lt;String, Object&gt; queryItems = new LinkedHashMap&lt;String, Object&gt;();\r\n          queryItems.put(&quot;brand&quot;, &quot;C&amp;A&quot;);\r\n          queryItems.put(&quot;count&quot;, null);\r\n          queryItems.put(&quot;misc&quot;, 42);\r\n          final String buildQueryString = buildQueryString(queryItems);\r\n          System.out.println(buildQueryString);\r\n        }\r\n        {\r\n          final LinkedHashMap&lt;String, List&lt;Object&gt;&gt; queryItems = new LinkedHashMap&lt;String, List&lt;Object&gt;&gt;();\r\n          queryItems.put(&quot;usernames&quot;, new ArrayList&lt;Object&gt;(Arrays.asList(new String[] { &quot;bob&quot;, &quot;john&quot; })));\r\n          queryItems.put(&quot;nullValue&quot;, null);\r\n          queryItems.put(&quot;misc&quot;, new ArrayList&lt;Object&gt;(Arrays.asList(new Integer[] { 1, 2, 3 })));\r\n          final String buildQueryString = buildQueryStringMulti(queryItems);\r\n          System.out.println(buildQueryString);\r\n        }\r\n      }\r\n    }\r\n\r\nYou may use either simple (easier to write in most cases) or multiple when required. Note that both can be combined by adding an ampersand...\r\nIf you find any problems let me know in the comments.","title":"How to convert map to url query string?","body":"<p>Another 'one class'/no dependency way of doing it, handling single/multiple:</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class UrlQueryString {\n  private static final String DEFAULT_ENCODING = \"UTF-8\";\n\n  public static String buildQueryString(final LinkedHashMap&lt;String, Object&gt; map) {\n    try {\n      final Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; it = map.entrySet().iterator();\n      final StringBuilder sb = new StringBuilder(map.size() * 8);\n      while (it.hasNext()) {\n        final Map.Entry&lt;String, Object&gt; entry = it.next();\n        final String key = entry.getKey();\n        if (key != null) {\n          sb.append(URLEncoder.encode(key, DEFAULT_ENCODING));\n          sb.append('=');\n          final Object value = entry.getValue();\n          final String valueAsString = value != null ? URLEncoder.encode(value.toString(), DEFAULT_ENCODING) : \"\";\n          sb.append(valueAsString);\n          if (it.hasNext()) {\n            sb.append('&amp;');\n          }\n        } else {\n          // Do what you want...for example:\n          assert false : String.format(\"Null key in query map: %s\", map.entrySet());\n        }\n      }\n      return sb.toString();\n    } catch (final UnsupportedEncodingException e) {\n      throw new UnsupportedOperationException(e);\n    }\n  }\n\n  public static String buildQueryStringMulti(final LinkedHashMap&lt;String, List&lt;Object&gt;&gt; map) {\n    try {\n      final StringBuilder sb = new StringBuilder(map.size() * 8);\n      for (final Iterator&lt;Entry&lt;String, List&lt;Object&gt;&gt;&gt; mapIterator = map.entrySet().iterator(); mapIterator.hasNext();) {\n        final Entry&lt;String, List&lt;Object&gt;&gt; entry = mapIterator.next();\n        final String key = entry.getKey();\n        if (key != null) {\n          final String keyEncoded = URLEncoder.encode(key, DEFAULT_ENCODING);\n          final List&lt;Object&gt; values = entry.getValue();\n          sb.append(keyEncoded);\n          sb.append('=');\n          if (values != null) {\n            for (final Iterator&lt;Object&gt; listIt = values.iterator(); listIt.hasNext();) {\n              final Object valueObject = listIt.next();\n              sb.append(valueObject != null ? URLEncoder.encode(valueObject.toString(), DEFAULT_ENCODING) : \"\");\n              if (listIt.hasNext()) {\n                sb.append('&amp;');\n                sb.append(keyEncoded);\n                sb.append('=');\n              }\n            }\n          }\n          if (mapIterator.hasNext()) {\n            sb.append('&amp;');\n          }\n        } else {\n          // Do what you want...for example:\n          assert false : String.format(\"Null key in query map: %s\", map.entrySet());\n        }\n      }\n      return sb.toString();\n    } catch (final UnsupportedEncodingException e) {\n      throw new UnsupportedOperationException(e);\n    }\n  }\n\n  public static void main(final String[] args) {\n    // Examples: could be turned into unit tests ...\n    {\n      final LinkedHashMap&lt;String, Object&gt; queryItems = new LinkedHashMap&lt;String, Object&gt;();\n      queryItems.put(\"brand\", \"C&amp;A\");\n      queryItems.put(\"count\", null);\n      queryItems.put(\"misc\", 42);\n      final String buildQueryString = buildQueryString(queryItems);\n      System.out.println(buildQueryString);\n    }\n    {\n      final LinkedHashMap&lt;String, List&lt;Object&gt;&gt; queryItems = new LinkedHashMap&lt;String, List&lt;Object&gt;&gt;();\n      queryItems.put(\"usernames\", new ArrayList&lt;Object&gt;(Arrays.asList(new String[] { \"bob\", \"john\" })));\n      queryItems.put(\"nullValue\", null);\n      queryItems.put(\"misc\", new ArrayList&lt;Object&gt;(Arrays.asList(new Integer[] { 1, 2, 3 })));\n      final String buildQueryString = buildQueryStringMulti(queryItems);\n      System.out.println(buildQueryString);\n    }\n  }\n}\n</code></pre>\n\n<p>You may use either simple (easier to write in most cases) or multiple when required. Note that both can be combined by adding an ampersand...\nIf you find any problems let me know in the comments.</p>\n"},{"tags":[],"owner":{"account_id":3241537,"reputation":1471,"user_id":2734445,"accept_rate":75,"display_name":"Senthil Arumugam SP"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1407984155,"creation_date":1407984155,"answer_id":25299206,"question_id":2809877,"body_markdown":"In Spring Util, there is a better way..,\r\n\r\n    import org.springframework.util.LinkedMultiValueMap;\r\n    import org.springframework.util.MultiValueMap;\r\n    import org.springframework.util.concurrent.ListenableFuture;\r\n    import org.springframework.web.util.UriComponents;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n\r\n    MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;String, String&gt;();\r\n    params.add(&quot;key&quot;, key);\r\n    params.add(&quot;storeId&quot;, storeId);\r\n    params.add(&quot;orderId&quot;, orderId);\r\n    UriComponents uriComponents =     UriComponentsBuilder.fromHttpUrl(&quot;http://spsenthil.com/order&quot;).queryParams(params).build();\r\n    ListenableFuture&lt;ResponseEntity&lt;String&gt;&gt; responseFuture =     restTemplate.getForEntity(uriComponents.toUriString(), String.class);\r\n","title":"How to convert map to url query string?","body":"<p>In Spring Util, there is a better way..,</p>\n\n<pre><code>import org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.util.concurrent.ListenableFuture;\nimport org.springframework.web.util.UriComponents;\nimport org.springframework.web.util.UriComponentsBuilder;\n\nMultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;String, String&gt;();\nparams.add(\"key\", key);\nparams.add(\"storeId\", storeId);\nparams.add(\"orderId\", orderId);\nUriComponents uriComponents =     UriComponentsBuilder.fromHttpUrl(\"http://spsenthil.com/order\").queryParams(params).build();\nListenableFuture&lt;ResponseEntity&lt;String&gt;&gt; responseFuture =     restTemplate.getForEntity(uriComponents.toUriString(), String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1118006,"reputation":2851,"user_id":1106899,"accept_rate":73,"display_name":"eclipse"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1427370639,"creation_date":1427121631,"answer_id":29213105,"question_id":2809877,"body_markdown":"I found a smooth solution using java 8 and polygenelubricants&#39; solution.\r\n\r\n    parameters.entrySet().stream()\r\n        .map(p -&gt; urlEncodeUTF8(p.getKey()) + &quot;=&quot; + urlEncodeUTF8(p.getValue()))\r\n        .reduce((p1, p2) -&gt; p1 + &quot;&amp;&quot; + p2)\r\n        .orElse(&quot;&quot;);","title":"How to convert map to url query string?","body":"<p>I found a smooth solution using java 8 and polygenelubricants' solution.</p>\n\n<pre><code>parameters.entrySet().stream()\n    .map(p -&gt; urlEncodeUTF8(p.getKey()) + \"=\" + urlEncodeUTF8(p.getValue()))\n    .reduce((p1, p2) -&gt; p1 + \"&amp;\" + p2)\n    .orElse(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1621231,"reputation":13415,"user_id":1497729,"accept_rate":67,"display_name":"Marlon Bernardes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1431697647,"creation_date":1431620441,"answer_id":30242274,"question_id":2809877,"body_markdown":"This is the solution I implemented, using Java 8 and `org.apache.http.client.URLEncodedUtils`. It maps the entries of the map into a list of `BasicNameValuePair` and then uses Apache&#39;s `URLEncodedUtils` to turn that into a query string.\r\n\r\n    List&lt;BasicNameValuePair&gt; nameValuePairs = params.entrySet().stream()\r\n       .map(entry -&gt; new BasicNameValuePair(entry.getKey(), entry.getValue()))\r\n       .collect(Collectors.toList());\r\n    \r\n    URLEncodedUtils.format(nameValuePairs, Charset.forName(&quot;UTF-8&quot;));","title":"How to convert map to url query string?","body":"<p>This is the solution I implemented, using Java 8 and <code>org.apache.http.client.URLEncodedUtils</code>. It maps the entries of the map into a list of <code>BasicNameValuePair</code> and then uses Apache's <code>URLEncodedUtils</code> to turn that into a query string.</p>\n\n<pre><code>List&lt;BasicNameValuePair&gt; nameValuePairs = params.entrySet().stream()\n   .map(entry -&gt; new BasicNameValuePair(entry.getKey(), entry.getValue()))\n   .collect(Collectors.toList());\n\nURLEncodedUtils.format(nameValuePairs, Charset.forName(\"UTF-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149602,"reputation":543,"user_id":2120131,"display_name":"Auke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457293782,"creation_date":1457293782,"answer_id":35831692,"question_id":2809877,"body_markdown":"To improve a little bit upon @eclipse&#39;s answer: In Javaland a request parameter map is usually represented as a `Map&lt;String, String[]&gt;`, a `Map&lt;String, List&lt;String&gt;&gt;` or possibly some kind of `MultiValueMap&lt;String, String&gt;` which is sort of the same thing. In any case: a parameter can usually have multiple values. A Java 8 solution would therefore be something along these lines:\r\n\r\n    public String getQueryString(HttpServletRequest request, String encoding) {\r\n        Map&lt;String, String[]&gt; parameters = request.getParameterMap();\r\n\r\n        return parameters.entrySet().stream()\r\n                .flatMap(entry -&gt; encodeMultiParameter(entry.getKey(), entry.getValue(), encoding))\r\n                .reduce((param1, param2) -&gt; param1 + &quot;&amp;&quot; + param2)\r\n                .orElse(&quot;&quot;);\r\n    }\r\n\r\n    private Stream&lt;String&gt; encodeMultiParameter(String key, String[] values, String encoding) {\r\n        return Stream.of(values).map(value -&gt; encodeSingleParameter(key, value, encoding));\r\n    }\r\n\r\n    private String encodeSingleParameter(String key, String value, String encoding) {\r\n        return urlEncode(key, encoding) + &quot;=&quot; + urlEncode(value, encoding);\r\n    }\r\n\r\n    private String urlEncode(String value, String encoding) {\r\n        try {\r\n            return URLEncoder.encode(value, encoding);\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw new IllegalArgumentException(&quot;Cannot url encode &quot; + value, e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to convert map to url query string?","body":"<p>To improve a little bit upon @eclipse's answer: In Javaland a request parameter map is usually represented as a <code>Map&lt;String, String[]&gt;</code>, a <code>Map&lt;String, List&lt;String&gt;&gt;</code> or possibly some kind of <code>MultiValueMap&lt;String, String&gt;</code> which is sort of the same thing. In any case: a parameter can usually have multiple values. A Java 8 solution would therefore be something along these lines:</p>\n\n<pre><code>public String getQueryString(HttpServletRequest request, String encoding) {\n    Map&lt;String, String[]&gt; parameters = request.getParameterMap();\n\n    return parameters.entrySet().stream()\n            .flatMap(entry -&gt; encodeMultiParameter(entry.getKey(), entry.getValue(), encoding))\n            .reduce((param1, param2) -&gt; param1 + \"&amp;\" + param2)\n            .orElse(\"\");\n}\n\nprivate Stream&lt;String&gt; encodeMultiParameter(String key, String[] values, String encoding) {\n    return Stream.of(values).map(value -&gt; encodeSingleParameter(key, value, encoding));\n}\n\nprivate String encodeSingleParameter(String key, String value, String encoding) {\n    return urlEncode(key, encoding) + \"=\" + urlEncode(value, encoding);\n}\n\nprivate String urlEncode(String value, String encoding) {\n    try {\n        return URLEncoder.encode(value, encoding);\n    } catch (UnsupportedEncodingException e) {\n        throw new IllegalArgumentException(\"Cannot url encode \" + value, e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2118231,"reputation":35729,"user_id":1882064,"accept_rate":64,"display_name":"arcseldon"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1465549352,"creation_date":1465548938,"answer_id":37744000,"question_id":2809877,"body_markdown":"**Update June 2016**\r\n\r\nFelt compelled to add an answer having seen far too many SOF answers with dated or inadequate answers to very common problem - a good library and some solid example usage for both `parse` and `format` operations.\r\n\r\nUse [org.apache.httpcomponents.httpclient][1] library. The library contains this [org.apache.http.client.utils.URLEncodedUtils][2] class utility.\r\n\r\nFor example, it is easy to download this dependency from Maven:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nFor my purposes I only needed to `parse` (read from query string to name-value pairs) and `format` (read from name-value pairs to query string) query strings. However, there are equivalents for doing the same with a URI (see commented out line below).\r\n\r\n// Required imports\r\n\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.utils.URLEncodedUtils;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URLDecoder;\r\n    import java.nio.charset.StandardCharsets;\r\n\r\n   // code snippet\r\n\r\n    public static void parseAndFormatExample() throws UnsupportedEncodingException {\r\n            final String queryString = &quot;nonce=12345&amp;redirectCallbackUrl=http://www.bbc.co.uk&quot;;\r\n            System.out.println(queryString);\r\n            // =&gt; nonce=12345&amp;redirectCallbackUrl=http://www.bbc.co.uk\r\n\r\n            final List&lt;NameValuePair&gt; params =\r\n                    URLEncodedUtils.parse(queryString, StandardCharsets.UTF_8);\r\n            // List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), &quot;UTF-8&quot;);\r\n\r\n            for (final NameValuePair param : params) {\r\n                System.out.println(param.getName() + &quot; : &quot; + param.getValue());\r\n                // =&gt; nonce : 12345\r\n                // =&gt; redirectCallbackUrl : http://www.bbc.co.uk\r\n            }\r\n\r\n            final String newQueryStringEncoded =\r\n                    URLEncodedUtils.format(params, StandardCharsets.UTF_8);\r\n            \r\n\r\n            // decode when printing to screen\r\n            final String newQueryStringDecoded =\r\n                    URLDecoder.decode(newQueryStringEncoded, StandardCharsets.UTF_8.toString());\r\n            System.out.println(newQueryStringDecoded);\r\n            // =&gt; nonce=12345&amp;redirectCallbackUrl=http://www.bbc.co.uk\r\n        }\r\n\r\nThis library did exactly what I needed and was able to replace some hacked custom code.\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/\r\n  [2]: http://hc.apache.org/httpcomponents-client-4.5.x/httpclient/apidocs/org/apache/http/client/utils/URLEncodedUtils.html\r\n","title":"How to convert map to url query string?","body":"<p><strong>Update June 2016</strong></p>\n\n<p>Felt compelled to add an answer having seen far too many SOF answers with dated or inadequate answers to very common problem - a good library and some solid example usage for both <code>parse</code> and <code>format</code> operations.</p>\n\n<p>Use <a href=\"https://hc.apache.org/httpcomponents-client-ga/\" rel=\"noreferrer\">org.apache.httpcomponents.httpclient</a> library. The library contains this <a href=\"http://hc.apache.org/httpcomponents-client-4.5.x/httpclient/apidocs/org/apache/http/client/utils/URLEncodedUtils.html\" rel=\"noreferrer\">org.apache.http.client.utils.URLEncodedUtils</a> class utility.</p>\n\n<p>For example, it is easy to download this dependency from Maven:</p>\n\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>For my purposes I only needed to <code>parse</code> (read from query string to name-value pairs) and <code>format</code> (read from name-value pairs to query string) query strings. However, there are equivalents for doing the same with a URI (see commented out line below).</p>\n\n<p>// Required imports</p>\n\n<pre><code>import org.apache.http.NameValuePair;\nimport org.apache.http.client.utils.URLEncodedUtils;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLDecoder;\nimport java.nio.charset.StandardCharsets;\n</code></pre>\n\n<p>// code snippet</p>\n\n<pre><code>public static void parseAndFormatExample() throws UnsupportedEncodingException {\n        final String queryString = \"nonce=12345&amp;redirectCallbackUrl=http://www.bbc.co.uk\";\n        System.out.println(queryString);\n        // =&gt; nonce=12345&amp;redirectCallbackUrl=http://www.bbc.co.uk\n\n        final List&lt;NameValuePair&gt; params =\n                URLEncodedUtils.parse(queryString, StandardCharsets.UTF_8);\n        // List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), \"UTF-8\");\n\n        for (final NameValuePair param : params) {\n            System.out.println(param.getName() + \" : \" + param.getValue());\n            // =&gt; nonce : 12345\n            // =&gt; redirectCallbackUrl : http://www.bbc.co.uk\n        }\n\n        final String newQueryStringEncoded =\n                URLEncodedUtils.format(params, StandardCharsets.UTF_8);\n\n\n        // decode when printing to screen\n        final String newQueryStringDecoded =\n                URLDecoder.decode(newQueryStringEncoded, StandardCharsets.UTF_8.toString());\n        System.out.println(newQueryStringDecoded);\n        // =&gt; nonce=12345&amp;redirectCallbackUrl=http://www.bbc.co.uk\n    }\n</code></pre>\n\n<p>This library did exactly what I needed and was able to replace some hacked custom code.</p>\n"},{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1585582248,"creation_date":1498860478,"answer_id":44855441,"question_id":2809877,"body_markdown":"I wanted to build on @eclipse&#39;s answer using java 8 mapping and reducing.\r\n\r\n   \r\n\r\n     protected String formatQueryParams(Map&lt;String, String&gt; params) {\r\n          return params.entrySet().stream()\r\n              .map(p -&gt; p.getKey() + &quot;=&quot; + p.getValue())\r\n              .reduce((p1, p2) -&gt; p1 + &quot;&amp;&quot; + p2)\r\n              .map(s -&gt; &quot;?&quot; + s)\r\n              .orElse(&quot;&quot;);\r\n      }\r\n\r\nThe extra `map` operation takes the reduced string and puts a `?` in front only if the string exists.","title":"How to convert map to url query string?","body":"<p>I wanted to build on @eclipse's answer using java 8 mapping and reducing.</p>\n\n<pre><code> protected String formatQueryParams(Map&lt;String, String&gt; params) {\n      return params.entrySet().stream()\n          .map(p -&gt; p.getKey() + \"=\" + p.getValue())\n          .reduce((p1, p2) -&gt; p1 + \"&amp;\" + p2)\n          .map(s -&gt; \"?\" + s)\n          .orElse(\"\");\n  }\n</code></pre>\n\n<p>The extra <code>map</code> operation takes the reduced string and puts a <code>?</code> in front only if the string exists.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1670248860,"creation_date":1560948743,"answer_id":56668113,"question_id":2809877,"body_markdown":"There&#39;s nothing built into Java to do this. But, hey, Java is a programming language, so. Let&#39;s program it!\r\n\r\n    map\r\n    .entrySet()\r\n    .stream()\r\n    .map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue())\r\n    .collect(Collectors.joining(&quot;&amp;&quot;))\r\n\r\nThis gives you `param1=12&amp;param2=cat`. Now we need to join the URL and this bit together. You&#39;d think you can just do: `URL + &quot;?&quot; + theAbove` but if the URL already contains a question mark, you have to join it all together with &quot;&amp;&quot; instead. One way to check is to see if there&#39;s a question mark in the URL someplace already.\r\n\r\nAlso, I don&#39;t quite know what is in your map. If it&#39;s raw stuff, you probably have to safeguard the call to `e.getKey()` and `e.getValue()` with `URLEncoder.encode` or similar.\r\n\r\nYet another way to go is that you take a wider view. Are you trying to append a map&#39;s content to a URL, or... Are you trying to make an HTTP (S) request from a Java process with the stuff in the map as (additional) HTTP params? In the latter case, you can look into an HTTP library like [OkHttp](https://square.github.io/okhttp/) which has some nice APIs to do this job, then you can forego any need to mess about with that URL in the first place.\r\n","title":"How to convert map to url query string?","body":"<p>There's nothing built into Java to do this. But, hey, Java is a programming language, so. Let's program it!</p>\n<pre><code>map\n.entrySet()\n.stream()\n.map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue())\n.collect(Collectors.joining(&quot;&amp;&quot;))\n</code></pre>\n<p>This gives you <code>param1=12&amp;param2=cat</code>. Now we need to join the URL and this bit together. You'd think you can just do: <code>URL + &quot;?&quot; + theAbove</code> but if the URL already contains a question mark, you have to join it all together with &quot;&amp;&quot; instead. One way to check is to see if there's a question mark in the URL someplace already.</p>\n<p>Also, I don't quite know what is in your map. If it's raw stuff, you probably have to safeguard the call to <code>e.getKey()</code> and <code>e.getValue()</code> with <code>URLEncoder.encode</code> or similar.</p>\n<p>Yet another way to go is that you take a wider view. Are you trying to append a map's content to a URL, or... Are you trying to make an HTTP (S) request from a Java process with the stuff in the map as (additional) HTTP params? In the latter case, you can look into an HTTP library like <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a> which has some nice APIs to do this job, then you can forego any need to mess about with that URL in the first place.</p>\n"},{"tags":[],"owner":{"account_id":11156518,"reputation":2134,"user_id":8188060,"display_name":"JO3-W3B-D3V"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560950053,"creation_date":1560949415,"answer_id":56668326,"question_id":2809877,"body_markdown":"Personally, I&#39;d go for a solution like this, it&#39;s incredibly similar to the solution provided by @rzwitserloot, only subtle differences. \r\n\r\nThis solution is small, simple &amp; clean, it requires very little in terms of dependencies, all of which are a part of the Java Util package.\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\t\r\n\tmap.put(&quot;param1&quot;, &quot;12&quot;);\r\n\tmap.put(&quot;param2&quot;, &quot;cat&quot;);\r\n\t\t\t\r\n\tString output = &quot;someUrl?&quot;;\r\n\toutput += map.entrySet()\r\n\t\t.stream()\r\n\t\t.map(x -&gt; x.getKey() + &quot;=&quot; + x.getValue() + &quot;&amp;&quot;)\r\n\t\t.collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n    System.out.println(output.substring(0, output.length() -1));","title":"How to convert map to url query string?","body":"<p>Personally, I'd go for a solution like this, it's incredibly similar to the solution provided by @rzwitserloot, only subtle differences. </p>\n\n<p>This solution is small, simple &amp; clean, it requires very little in terms of dependencies, all of which are a part of the Java Util package.</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\nmap.put(\"param1\", \"12\");\nmap.put(\"param2\", \"cat\");\n\nString output = \"someUrl?\";\noutput += map.entrySet()\n    .stream()\n    .map(x -&gt; x.getKey() + \"=\" + x.getValue() + \"&amp;\")\n    .collect(Collectors.joining(\"&amp;\"));\n\nSystem.out.println(output.substring(0, output.length() -1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16156537,"reputation":105,"user_id":11663664,"display_name":"SIVA KUMAR"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1560950717,"creation_date":1560950717,"answer_id":56668748,"question_id":2809877,"body_markdown":"Using EntrySet and Streams: \r\n```\r\nmap\r\n  .entrySet()\r\n  .stream()\r\n  .map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue())\r\n  .collect(Collectors.joining(&quot;&amp;&quot;));\r\n```","title":"How to convert map to url query string?","body":"<p>Using EntrySet and Streams: </p>\n\n<pre><code>map\n  .entrySet()\n  .stream()\n  .map(e -&gt; e.getKey() + \"=\" + e.getValue())\n  .collect(Collectors.joining(\"&amp;\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560951912,"creation_date":1560951912,"answer_id":56669203,"question_id":2809877,"body_markdown":"You can use a `Stream` for this, but instead of appending query parameters myself I&#39;d use a `Uri.Builder`. For example:\r\n\r\n    final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;param1&quot;, &quot;cat&quot;);\r\n    map.put(&quot;param2&quot;, &quot;12&quot;);\r\n \r\n    final Uri uri = \r\n        map.entrySet().stream().collect(\r\n            () -&gt; Uri.parse(&quot;relativeUrl&quot;).buildUpon(),\r\n            (builder, e) -&gt; builder.appendQueryParameter(e.getKey(), e.getValue()),\r\n            (b1, b2) -&gt; { throw new UnsupportedOperationException(); }\r\n        ).build();\r\n\r\n    //Or, if you consider it more readable...\r\n    final Uri.Builder builder = Uri.parse(&quot;relativeUrl&quot;).buildUpon();\r\n    map.entrySet().forEach(e -&gt; builder.appendQueryParameter(e.getKey(), e.getValue())\r\n    final Uri uri = builder.build();\r\n    \r\n    //...    \r\n\r\n    assertEquals(Uri.parse(&quot;relativeUrl?param1=cat&amp;param2=12&quot;), uri);","title":"How to convert map to url query string?","body":"<p>You can use a <code>Stream</code> for this, but instead of appending query parameters myself I'd use a <code>Uri.Builder</code>. For example:</p>\n\n<pre><code>final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(\"param1\", \"cat\");\nmap.put(\"param2\", \"12\");\n\nfinal Uri uri = \n    map.entrySet().stream().collect(\n        () -&gt; Uri.parse(\"relativeUrl\").buildUpon(),\n        (builder, e) -&gt; builder.appendQueryParameter(e.getKey(), e.getValue()),\n        (b1, b2) -&gt; { throw new UnsupportedOperationException(); }\n    ).build();\n\n//Or, if you consider it more readable...\nfinal Uri.Builder builder = Uri.parse(\"relativeUrl\").buildUpon();\nmap.entrySet().forEach(e -&gt; builder.appendQueryParameter(e.getKey(), e.getValue())\nfinal Uri uri = builder.build();\n\n//...    \n\nassertEquals(Uri.parse(\"relativeUrl?param1=cat&amp;param2=12\"), uri);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670442262,"creation_date":1570258635,"answer_id":58246100,"question_id":2809877,"body_markdown":"I make these functions than also send just the property name when the value is null.\r\n\r\n    public static String urlEncode(Map&lt;?, ?&gt; map) {\r\n      return map.entrySet().stream().map(\r\n          entry -&gt; entry.getValue() == null\r\n            ? urlEncode(entry.getKey())\r\n            : urlEncode(entry.getKey()) + &quot;=&quot; + urlEncode(entry.getValue())\r\n        ).collect(Collectors.joining(&quot;&amp;&quot;));\r\n    }\r\n\r\n    public static String urlEncode(Object obj) {\r\n      return URLEncoder.encode(obj.toString(), StandardCharsets.UTF_8);\r\n    }\r\n","title":"How to convert map to url query string?","body":"<p>I make these functions than also send just the property name when the value is null.</p>\n<pre><code>public static String urlEncode(Map&lt;?, ?&gt; map) {\n  return map.entrySet().stream().map(\n      entry -&gt; entry.getValue() == null\n        ? urlEncode(entry.getKey())\n        : urlEncode(entry.getKey()) + &quot;=&quot; + urlEncode(entry.getValue())\n    ).collect(Collectors.joining(&quot;&amp;&quot;));\n}\n\npublic static String urlEncode(Object obj) {\n  return URLEncoder.encode(obj.toString(), StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4247211,"reputation":457,"user_id":3475522,"display_name":"Robin Mathur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595703943,"creation_date":1595703943,"answer_id":63092418,"question_id":2809877,"body_markdown":"For multivalue map you can do like below (using java 8 stream api&#39;s)\r\n\r\nUrl encoding has been taken cared in this.\r\n\r\n    MultiValueMap&lt;String, String&gt; params =  new LinkedMultiValueMap&lt;&gt;();\r\n    String urlQueryString = params.entrySet()\r\n                .stream()\r\n                .flatMap(stringListEntry -&gt; stringListEntry.getValue()\r\n                        .stream()\r\n                        .map(s -&gt; UriUtils.encode(stringListEntry.getKey(), StandardCharsets.UTF_8.toString()) + &quot;=&quot; +\r\n                                UriUtils.encode(s, StandardCharsets.UTF_8.toString())))\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n","title":"How to convert map to url query string?","body":"<p>For multivalue map you can do like below (using java 8 stream api's)</p>\n<p>Url encoding has been taken cared in this.</p>\n<pre><code>MultiValueMap&lt;String, String&gt; params =  new LinkedMultiValueMap&lt;&gt;();\nString urlQueryString = params.entrySet()\n            .stream()\n            .flatMap(stringListEntry -&gt; stringListEntry.getValue()\n                    .stream()\n                    .map(s -&gt; UriUtils.encode(stringListEntry.getKey(), StandardCharsets.UTF_8.toString()) + &quot;=&quot; +\n                            UriUtils.encode(s, StandardCharsets.UTF_8.toString())))\n            .collect(Collectors.joining(&quot;&amp;&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1013254,"reputation":3672,"user_id":1025379,"accept_rate":29,"display_name":"Hun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603092263,"creation_date":1603092263,"answer_id":64422812,"question_id":2809877,"body_markdown":"Kotlin \r\n\r\n    mapOf(\r\n      &quot;param1&quot; to 12,\r\n      &quot;param2&quot; to &quot;cat&quot;\r\n    ).map { &quot;${it.key}=${it.value}&quot; }\r\n      .joinToString(&quot;&amp;&quot;)","title":"How to convert map to url query string?","body":"<p>Kotlin</p>\n<pre><code>mapOf(\n  &quot;param1&quot; to 12,\n  &quot;param2&quot; to &quot;cat&quot;\n).map { &quot;${it.key}=${it.value}&quot; }\n  .joinToString(&quot;&amp;&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4806539,"reputation":8445,"user_id":3881406,"display_name":"Andras Kloczl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646264377,"creation_date":1646264377,"answer_id":71330465,"question_id":2809877,"body_markdown":"Here&#39;s a simple kotlin solution:\r\n\r\n    fun Map&lt;String, String&gt;.toUrlParams(): String =\r\n        entries.joinToString(&quot;&amp;&quot;) {\r\n            it.key.toUrlEncoded() + &quot;=&quot; + it.value.toUrlEncoded()\r\n        }\r\n    \r\n    fun String.toUrlEncoded(): String = URLEncoder.encode(\r\n        this, StandardCharsets.UTF_8\r\n    )\r\n\r\n","title":"How to convert map to url query string?","body":"<p>Here's a simple kotlin solution:</p>\n<pre><code>fun Map&lt;String, String&gt;.toUrlParams(): String =\n    entries.joinToString(&quot;&amp;&quot;) {\n        it.key.toUrlEncoded() + &quot;=&quot; + it.value.toUrlEncoded()\n    }\n\nfun String.toUrlEncoded(): String = URLEncoder.encode(\n    this, StandardCharsets.UTF_8\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239574,"reputation":1827,"user_id":509276,"accept_rate":71,"display_name":"malloc4k"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1662120975,"creation_date":1662120975,"answer_id":73582447,"question_id":2809877,"body_markdown":"If you need **just** the **query string** (not the whole URL) and you are using **Spring Framework**, you can do this:\r\n\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    ...\r\n\r\n    final String queryString = UriComponentsBuilder.newInstance()\r\n        .queryParam(&quot;many&quot;, &quot;7&quot;, &quot;14&quot;, &quot;21&quot;)\r\n        .queryParam(&quot;single&quot;, &quot;XYZ&quot;)\r\n        .build()\r\n        .toUri()\r\n        .getQuery();\r\n\r\n    System.out.println(queryString);\r\n\r\nthe result is:\r\n\r\n    many=7&amp;many=14&amp;many=21&amp;single=XYZ","title":"How to convert map to url query string?","body":"<p>If you need <strong>just</strong> the <strong>query string</strong> (not the whole URL) and you are using <strong>Spring Framework</strong>, you can do this:</p>\n<pre><code>import org.springframework.web.util.UriComponentsBuilder;\n\n...\n\nfinal String queryString = UriComponentsBuilder.newInstance()\n    .queryParam(&quot;many&quot;, &quot;7&quot;, &quot;14&quot;, &quot;21&quot;)\n    .queryParam(&quot;single&quot;, &quot;XYZ&quot;)\n    .build()\n    .toUri()\n    .getQuery();\n\nSystem.out.println(queryString);\n</code></pre>\n<p>the result is:</p>\n<pre><code>many=7&amp;many=14&amp;many=21&amp;single=XYZ\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9455666,"reputation":19,"user_id":7031060,"display_name":"said"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670499634,"creation_date":1670100603,"answer_id":74670607,"question_id":2809877,"body_markdown":"a very lightweight answer it works for me\r\n\r\n    public static String queryStr(Map&lt;String, String&gt; data) throws UnsupportedEncodingException {\r\n\t\tStringBuilder query = new StringBuilder();\r\n\t\tfor (Entry&lt;String, String&gt; entry : data.entrySet()) {\r\n            if (query.length() &gt; 0) {\r\n              query.append(&#39;&amp;&#39;);\r\n            }\r\n\t\t\tquery.append(entry.getKey()).append(&#39;=&#39;);\r\n            query.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n\t\t}\r\n\r\n\t\treturn query.toString();\r\n\t}","title":"How to convert map to url query string?","body":"<p>a very lightweight answer it works for me</p>\n<pre><code>public static String queryStr(Map&lt;String, String&gt; data) throws UnsupportedEncodingException {\n    StringBuilder query = new StringBuilder();\n    for (Entry&lt;String, String&gt; entry : data.entrySet()) {\n        if (query.length() &gt; 0) {\n          query.append('&amp;');\n        }\n        query.append(entry.getKey()).append('=');\n        query.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\n    }\n\n    return query.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":38541,"reputation":12659,"user_id":110677,"accept_rate":83,"display_name":"Ula Krukar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185710,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":2810434,"answer_count":20,"score":95,"last_activity_date":1670499634,"creation_date":1273573932,"question_id":2809877,"body_markdown":"Do you know of any utility class/library, that can convert Map into URL-friendly query string?\r\n\r\nExample:\r\n\r\nI have a map:\r\n\r\n    &quot;param1&quot;=12,\r\n    &quot;param2&quot;=&quot;cat&quot;\r\n\r\nI want to get: \r\n\r\n    param1=12&amp;param2=cat\r\n\r\n\r\nfinal output\r\n\r\n    relativeUrl+param1=12&amp;param2=cat\r\n","title":"How to convert map to url query string?","body":"<p>Do you know of any utility class/library, that can convert Map into URL-friendly query string?</p>\n\n<p>Example:</p>\n\n<p>I have a map:</p>\n\n<pre><code>\"param1\"=12,\n\"param2\"=\"cat\"\n</code></pre>\n\n<p>I want to get: </p>\n\n<pre><code>param1=12&amp;param2=cat\n</code></pre>\n\n<p>final output</p>\n\n<pre><code>relativeUrl+param1=12&amp;param2=cat\n</code></pre>\n"},{"tags":["java","loops","collections","hashmap","wrapper"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670496800,"post_id":74728999,"comment_id":131890889,"body_markdown":"The Question is expected to be [focused on one particular problem](https://meta.stackoverflow.com/questions/371614/why-isnt-it-good-to-ask-multiple-questions-and-answers-in-one-question). Judging by the code, you&#39;ve introduced multiple question in one.","body":"The Question is expected to be <a href=\"https://meta.stackoverflow.com/questions/371614/why-isnt-it-good-to-ask-multiple-questions-and-answers-in-one-question\">focused on one particular problem</a>. Judging by the code, you&#39;ve introduced multiple question in one."}],"answers":[{"tags":[],"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670499290,"creation_date":1670499290,"answer_id":74729682,"question_id":74728999,"body_markdown":"```java\r\npublic class Marks {\r\n    private final Map&lt;String, Integer&gt; subjectMark = new HashMap&lt;&gt;();\r\n\r\n    public void addSubjectMark(String subject, int mark) {\r\n        subjectMark.put(subject, mark);\r\n    }\r\n\r\n    public Map&lt;String, Integer&gt; getSubjectMark() {\r\n        return subjectMark;\r\n    }\r\n}\r\n```\r\nAbove is Marks;\r\n```java\r\npublic class RecordBook {\r\n\r\n    private final Map&lt;Integer, Marks&gt; semesterSubjectMark = new HashMap&lt;&gt;();\r\n\r\n    public void addSemester(int semester, String subject, int mark) {\r\n        Marks marks = semesterSubjectMark.get(semester);\r\n        if (marks == null) {\r\n            marks = new Marks();\r\n            semesterSubjectMark.put(semester, marks);\r\n        }\r\n        marks.addSubjectMark(subject, mark);\r\n    }\r\n\r\n    public void gpa() {\r\n        int totalMark = 0;\r\n        int totalCredit = 0;\r\n        for (Map.Entry&lt;Integer, Marks&gt; entry : semesterSubjectMark.entrySet()) {\r\n            Marks marks = entry.getValue();\r\n            for (Map.Entry&lt;String, Integer&gt; entry1 : marks.getSubjectMark().entrySet()) {\r\n                String subject = entry1.getKey();\r\n                int mark = entry1.getValue();\r\n                int credit = 0;\r\n\r\n                if (subject.equals(&quot;Math&quot;)) {\r\n                    credit = 2;\r\n                }\r\n                if (subject.equals(&quot;English&quot;)) {\r\n                    credit = 1;\r\n                }\r\n                // It&#39;s something like above if&#39;s, but I don&#39;t want to write them all.\r\n\r\n                totalMark += mark * credit;\r\n                totalCredit += credit;\r\n            }\r\n        }\r\n        System.out.println(&quot;totalCredit：&quot; + totalCredit);\r\n        System.out.println(&quot;totalCredit：&quot; + totalCredit);\r\n        System.out.println(&quot;avg：&quot; + totalMark / totalCredit);\r\n    }\r\n\r\n}\r\n```\r\nHere u go brother, not sure if method GPA() is what u want, but that&#39;s how I sees it;","title":"How to iterate over a wrapped HashMap","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Marks {\n    private final Map&lt;String, Integer&gt; subjectMark = new HashMap&lt;&gt;();\n\n    public void addSubjectMark(String subject, int mark) {\n        subjectMark.put(subject, mark);\n    }\n\n    public Map&lt;String, Integer&gt; getSubjectMark() {\n        return subjectMark;\n    }\n}\n</code></pre>\n<p>Above is Marks;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RecordBook {\n\n    private final Map&lt;Integer, Marks&gt; semesterSubjectMark = new HashMap&lt;&gt;();\n\n    public void addSemester(int semester, String subject, int mark) {\n        Marks marks = semesterSubjectMark.get(semester);\n        if (marks == null) {\n            marks = new Marks();\n            semesterSubjectMark.put(semester, marks);\n        }\n        marks.addSubjectMark(subject, mark);\n    }\n\n    public void gpa() {\n        int totalMark = 0;\n        int totalCredit = 0;\n        for (Map.Entry&lt;Integer, Marks&gt; entry : semesterSubjectMark.entrySet()) {\n            Marks marks = entry.getValue();\n            for (Map.Entry&lt;String, Integer&gt; entry1 : marks.getSubjectMark().entrySet()) {\n                String subject = entry1.getKey();\n                int mark = entry1.getValue();\n                int credit = 0;\n\n                if (subject.equals(&quot;Math&quot;)) {\n                    credit = 2;\n                }\n                if (subject.equals(&quot;English&quot;)) {\n                    credit = 1;\n                }\n                // It's something like above if's, but I don't want to write them all.\n\n                totalMark += mark * credit;\n                totalCredit += credit;\n            }\n        }\n        System.out.println(&quot;totalCredit：&quot; + totalCredit);\n        System.out.println(&quot;totalCredit：&quot; + totalCredit);\n        System.out.println(&quot;avg：&quot; + totalMark / totalCredit);\n    }\n\n}\n</code></pre>\n<p>Here u go brother, not sure if method GPA() is what u want, but that's how I sees it;</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670499601,"creation_date":1670499601,"answer_id":74729746,"question_id":74728999,"body_markdown":"To iterate over the nested maps, you should retrieve appropriate `subjectMark` from the _map entry_:\r\n```java\r\npublic void gpa() {\r\n    for (var semester : semesterSubjectMark.entrySet()) {\r\n        // semester is Map.Entry&lt;Integer, Marks&gt;\r\n        for (var subject : semester.getValue().getSubjectMark().entrySet()) {\r\n            // subject is Map.Entry&lt;String, Integer&gt;\r\n        }\r\n    } \r\n```\r\nTo add an entry to the outer map:\r\n```java\r\npublic void addSemester(int semester, String subject, int mark) {\r\n    semesterSubjectMark.computeIfAbsent(semester, (k) -&gt; new Marks())\r\n        .getSubjectMark().put(subject, mark);\r\n}\r\n```","title":"How to iterate over a wrapped HashMap","body":"<p>To iterate over the nested maps, you should retrieve appropriate <code>subjectMark</code> from the <em>map entry</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void gpa() {\n    for (var semester : semesterSubjectMark.entrySet()) {\n        // semester is Map.Entry&lt;Integer, Marks&gt;\n        for (var subject : semester.getValue().getSubjectMark().entrySet()) {\n            // subject is Map.Entry&lt;String, Integer&gt;\n        }\n    } \n</code></pre>\n<p>To add an entry to the outer map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addSemester(int semester, String subject, int mark) {\n    semesterSubjectMark.computeIfAbsent(semester, (k) -&gt; new Marks())\n        .getSubjectMark().put(subject, mark);\n}\n</code></pre>\n"}],"owner":{"account_id":27188354,"reputation":27,"user_id":20722519,"display_name":"Kenion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670533158,"accepted_answer_id":74729682,"answer_count":2,"score":0,"last_activity_date":1670499601,"creation_date":1670496132,"question_id":74728999,"body_markdown":"I have a wrapped in class *Marks* **HashMap** which is *subjectMark* \r\n\r\n```\r\npublic class Marks{\r\n    private final Map&lt;String, Integer&gt; subjectMark = new HashMap&lt;&gt;();\r\n}\r\n\r\n```\r\nand I want somehow to add new maps and iterate over this **HashMap** in my general class *RecordBook*.\r\n\r\n```\r\npublic class RecordBook {\r\n\r\n    private final Map&lt;Integer, Marks&gt; semesterSubjectMark = new HashMap&lt;&gt;();\r\n\r\n    public void addSemester(int semester, String subject, int mark){\r\n        //how to add such map - Map&lt;semester, Map&lt;subject, mark&gt;&gt;\r\n        //semesterSubjectMark.put(semester, Map&lt;subject, mark&gt;)\r\n    }\r\n    \r\n    public void gpa(){\r\n        for(var semester : semesterSubjectMark.entrySet()){\r\n            //for(var subject : (inner map which wrapped in class Marks).entrySet()){\r\n                // ...\r\n            // }\r\n        }\r\n    } \r\n}\r\n```\r\nI think that I should implement methods to add new maps like\r\n\r\n```\r\npublic void addSubjectMark(String subject, int mark){\r\n    subjectMark.put(subject, mark);\r\n}\r\n```\r\nin *Marks*. But how to iterate over all these maps?\r\n\r\n\r\n\r\nI tried to iterate over with for-each, but it doesn&#39;t work for inner Map.","title":"How to iterate over a wrapped HashMap","body":"<p>I have a wrapped in class <em>Marks</em> <strong>HashMap</strong> which is <em>subjectMark</em></p>\n<pre><code>public class Marks{\n    private final Map&lt;String, Integer&gt; subjectMark = new HashMap&lt;&gt;();\n}\n\n</code></pre>\n<p>and I want somehow to add new maps and iterate over this <strong>HashMap</strong> in my general class <em>RecordBook</em>.</p>\n<pre><code>public class RecordBook {\n\n    private final Map&lt;Integer, Marks&gt; semesterSubjectMark = new HashMap&lt;&gt;();\n\n    public void addSemester(int semester, String subject, int mark){\n        //how to add such map - Map&lt;semester, Map&lt;subject, mark&gt;&gt;\n        //semesterSubjectMark.put(semester, Map&lt;subject, mark&gt;)\n    }\n    \n    public void gpa(){\n        for(var semester : semesterSubjectMark.entrySet()){\n            //for(var subject : (inner map which wrapped in class Marks).entrySet()){\n                // ...\n            // }\n        }\n    } \n}\n</code></pre>\n<p>I think that I should implement methods to add new maps like</p>\n<pre><code>public void addSubjectMark(String subject, int mark){\n    subjectMark.put(subject, mark);\n}\n</code></pre>\n<p>in <em>Marks</em>. But how to iterate over all these maps?</p>\n<p>I tried to iterate over with for-each, but it doesn't work for inner Map.</p>\n"},{"tags":["java","csv","h2"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1466986341,"post_id":38041863,"comment_id":63528562,"body_markdown":"What is a “dynamic file”? Also, check your keyboard – the Shift key seems to be broken.","body":"What is a “dynamic file”? Also, check your keyboard – the Shift key seems to be broken."}],"answers":[{"tags":[],"owner":{"account_id":8097279,"reputation":166,"user_id":6101442,"display_name":"centor"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1477229921,"creation_date":1467160553,"answer_id":38088447,"question_id":38041863,"body_markdown":"What will work for sure is use this SQL command:\r\n\r\n    CREATE TABLE TEST AS SELECT * FROM CSVREAD(&#39;test.csv&#39;); &lt;&lt;from h2 docu&gt;&gt;\r\n\r\nWith this, all columns will be created as varchar with a matching size.\r\n\r\nBut after that, so if you want to work with this data you have to know which column you need (position or column name) and to which type you want to parse the data.\r\n\r\nOf course it is possible to try out all possibilities and catch every exception. If nothing holds you can throw this measure away and go on, but this is not the best practice.\r\n","title":"Import csv in h2 dynamically","body":"<p>What will work for sure is use this SQL command:</p>\n\n<pre><code>CREATE TABLE TEST AS SELECT * FROM CSVREAD('test.csv'); &lt;&lt;from h2 docu&gt;&gt;\n</code></pre>\n\n<p>With this, all columns will be created as varchar with a matching size.</p>\n\n<p>But after that, so if you want to work with this data you have to know which column you need (position or column name) and to which type you want to parse the data.</p>\n\n<p>Of course it is possible to try out all possibilities and catch every exception. If nothing holds you can throw this measure away and go on, but this is not the best practice.</p>\n"},{"tags":[],"owner":{"account_id":13073351,"reputation":91,"user_id":9446275,"display_name":"Naveed Islam"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1520262610,"creation_date":1520260287,"answer_id":49112757,"question_id":38041863,"body_markdown":"By default all columns data types are set varchar, if do this own make choice then you make this query.\r\n\r\n    CREATE TABLE TEST\r\n    (\r\n      ID INT PRIMARY KEY,\r\n      Col1 VARCHAR(55),\r\n      Col2 INT(55)\r\n    ) \r\n    AS \r\n    SELECT * \r\n    FROM CSVREAD(&#39;here file path complete\\test.csv&#39;);\r\n\r\n","title":"Import csv in h2 dynamically","body":"<p>By default all columns data types are set varchar, if do this own make choice then you make this query.</p>\n\n<pre><code>CREATE TABLE TEST\n(\n  ID INT PRIMARY KEY,\n  Col1 VARCHAR(55),\n  Col2 INT(55)\n) \nAS \nSELECT * \nFROM CSVREAD('here file path complete\\test.csv');\n</code></pre>\n"}],"owner":{"account_id":8143994,"reputation":93,"user_id":6133180,"display_name":"user6133180"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17775,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38088447,"answer_count":2,"score":9,"last_activity_date":1670499554,"creation_date":1466966303,"question_id":38041863,"body_markdown":"I&#39;m searching for a solution to Import any csv file with Java (or SQL computed with a Java application at runtime) in a h2 database. a possibility could be to write at first a dynamic file and run the &quot;script&quot; on h2 databse connection after creation.\r\nmy main Problem is that i create the csv files dynamically and the column number and Label values can differ. the Environment for getting Connection, run a scribt on h2 and create the files during application is running are still exists.\r\n\r\nfor now i found many Solutions if i know the csv structure but i didn&#39;t can know it before. another Problem is that the typ is not ever sure(if it is easier to find a solution let as say all are double.\r\n\r\nthe reason why i Need this is, that i wanna Show the dataset in a graph (linechart). sometimes i Need the first two rows as x axis. sometimes i have to Show one line sometimes more(so in csv there are one ylabel or more)\r\n\r\nthe reason why I wanna have this data in a database is i ever wanna Show min max and avg of this set based on the x axis criteria. (smt. Show per month, day, week). so the idea is to set a date Format by creating the data and by reading for the Chart i Group by `DATE(DATE,TIME)`, the data.\r\n\r\nexamples:\r\nmy base csv example\r\n\r\n    DATE,TIME,label1  ,  y2       ,line3  ,...  (labelNames have no equality)\r\n    \r\n    20160101,0115, any int,any double ,any int,...\r\n    \r\n    20160101,0130, ...    , ...       , ...   ,..   (if there is no messure \r\n    \r\n    20160101,0145, ...    ,  .....    , ---   ,..    the placefolder is &#39;---&#39;)\r\n    \r\n    20160101,0200, ....\r\n    \r\n    20160102,...\r\n\r\nso sometimes my resulting csv seems like:\r\n\r\n    DATE,TIME,label1,y2\r\n\r\nor like this:\r\n    \r\n    DATETIME,label1,y2\r\n\r\nor this:\r\n    \r\n    DATE,y2,another4\r\n\r\nWe can be sure that all lines have same length. labels are at first line. I hope you get the idea. if you have a better solution to solve it i also would listen to that!(sry for the style have no idea how to make a table)\r\n\r\nthanks for any command!","title":"Import csv in h2 dynamically","body":"<p>I'm searching for a solution to Import any csv file with Java (or SQL computed with a Java application at runtime) in a h2 database. a possibility could be to write at first a dynamic file and run the \"script\" on h2 databse connection after creation.\nmy main Problem is that i create the csv files dynamically and the column number and Label values can differ. the Environment for getting Connection, run a scribt on h2 and create the files during application is running are still exists.</p>\n\n<p>for now i found many Solutions if i know the csv structure but i didn't can know it before. another Problem is that the typ is not ever sure(if it is easier to find a solution let as say all are double.</p>\n\n<p>the reason why i Need this is, that i wanna Show the dataset in a graph (linechart). sometimes i Need the first two rows as x axis. sometimes i have to Show one line sometimes more(so in csv there are one ylabel or more)</p>\n\n<p>the reason why I wanna have this data in a database is i ever wanna Show min max and avg of this set based on the x axis criteria. (smt. Show per month, day, week). so the idea is to set a date Format by creating the data and by reading for the Chart i Group by <code>DATE(DATE,TIME)</code>, the data.</p>\n\n<p>examples:\nmy base csv example</p>\n\n<pre><code>DATE,TIME,label1  ,  y2       ,line3  ,...  (labelNames have no equality)\n\n20160101,0115, any int,any double ,any int,...\n\n20160101,0130, ...    , ...       , ...   ,..   (if there is no messure \n\n20160101,0145, ...    ,  .....    , ---   ,..    the placefolder is '---')\n\n20160101,0200, ....\n\n20160102,...\n</code></pre>\n\n<p>so sometimes my resulting csv seems like:</p>\n\n<pre><code>DATE,TIME,label1,y2\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>DATETIME,label1,y2\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>DATE,y2,another4\n</code></pre>\n\n<p>We can be sure that all lines have same length. labels are at first line. I hope you get the idea. if you have a better solution to solve it i also would listen to that!(sry for the style have no idea how to make a table)</p>\n\n<p>thanks for any command!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670499853,"post_id":74729609,"comment_id":131891890,"body_markdown":"Are you saying that the order of elements in `goodsRecJa` *changes* between `linesJo.getJSONArray(&quot;GoodsReceivalLine&quot;)` and `System.out.println(&quot;*** Body  : &quot;+inputJo.toString());`?","body":"Are you saying that the order of elements in <code>goodsRecJa</code> <i>changes</i> between <code>linesJo.getJSONArray(&quot;GoodsReceivalLine&quot;)</code> and <code>System.out.println(&quot;*** Body  : &quot;+inputJo.toString());</code>?"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1670499968,"post_id":74729609,"comment_id":131891930,"body_markdown":"Yes it is , but the TransactionId is well inserted with a random UUID Value","body":"Yes it is , but the TransactionId is well inserted with a random UUID Value"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1670500172,"post_id":74729609,"comment_id":131891996,"body_markdown":"@tgdavies , is my loop wrong ?","body":"@tgdavies , is my loop wrong ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670500321,"post_id":74729609,"comment_id":131892042,"body_markdown":"Please write a complete, runnable example which illustrates the problem.","body":"Please write a complete, runnable example which illustrates the problem."},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1670500487,"post_id":74729609,"comment_id":131892096,"body_markdown":"Do you want  me to paste json output i&#39;m getting ?","body":"Do you want  me to paste json output i&#39;m getting ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670500611,"post_id":74729609,"comment_id":131892130,"body_markdown":"No, I want you to write a Java program which reproduces the problem, which anyone can run.","body":"No, I want you to write a Java program which reproduces the problem, which anyone can run."},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1670500621,"post_id":74729609,"comment_id":131892135,"body_markdown":"Because i&#39;m getting the input from a REST API","body":"Because i&#39;m getting the input from a REST API"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1670500648,"post_id":74729609,"comment_id":131892142,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250261/discussion-between-java-bee-and-tgdavies).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250261/discussion-between-java-bee-and-tgdavies\">continue this discussion in chat</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670500676,"post_id":74729609,"comment_id":131892155,"body_markdown":"You don&#39;t need to get the data from a REST API to write a program which illustrates the problem -- you can create an array with two members by hand.","body":"You don&#39;t need to get the data from a REST API to write a program which illustrates the problem -- you can create an array with two members by hand."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670533756,"post_id":74729609,"comment_id":131902952,"body_markdown":"I would like to see some of the output you’re getting.  It’s not clear what exactly is in a different order.","body":"I would like to see some of the output you’re getting.  It’s not clear what exactly is in a different order."}],"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670499553,"creation_date":1670498982,"question_id":74729609,"body_markdown":"I&#39;m trying to re-order a JsonArray with putting a specif Column `TransactionId` to the first element of my Json Array : \r\n\r\nHere Is my Json \r\n\r\n   \r\n     `{\r\n      &quot;ImportOperation&quot;:{\r\n       &quot;Lines&quot;:{\r\n         &quot;GoodsReceivalLine&quot;:[\r\n            {\r\n               &quot;ExtWarehouseId&quot;:&quot;Warehouse1&quot;,\r\n                 &quot;CustomData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Type&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;Move&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               },\r\n               &quot;CustomAllocationData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Grade&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;002&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               }\r\n            },\r\n            {\r\n               &quot;ExtWarehouseId&quot;:&quot;Warehouse2&quot;,\r\n                &quot;CustomData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Type&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;Move&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               },\r\n               &quot;CustomAllocationData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Grade&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;002&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               }\r\n            }\r\n         ]\r\n        }\r\n      }\r\n      }`\r\n\r\nNow , i tried to add in `GoodsReceivalLine` array a random UUID `TransactionId` as a first elemet of my JSON array  So that my Json would be : \r\n\r\n\r\n\r\n   \r\n     `{\r\n     &quot;ImportOperation&quot;:{\r\n      &quot;Lines&quot;:{\r\n         &quot;GoodsReceivalLine&quot;:[\r\n            {\r\n               &quot;TransactionId&quot;:&quot;RAndom UUID VAlue&quot;, \r\n               &quot;ExtWarehouseId&quot;:&quot;Warehouse1&quot;,\r\n                 &quot;CustomData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Type&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;Move&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               },\r\n               &quot;CustomAllocationData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Grade&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;002&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               }\r\n            },\r\n            {\r\n               &quot;TransactionId&quot;:&quot;RAndom UUID VAlue&quot;, \r\n               &quot;ExtWarehouseId&quot;:&quot;Warehouse2&quot;,\r\n                &quot;CustomData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Type&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;Move&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               },\r\n               &quot;CustomAllocationData&quot;:{\r\n                  &quot;Item&quot;:[\r\n                     {\r\n                        &quot;Key&quot;:{\r\n                           &quot;string&quot;:&quot;Grade&quot;\r\n                        },\r\n                        &quot;Value&quot;:{\r\n                           &quot;string&quot;:&quot;002&quot;\r\n                        }\r\n                     }\r\n                  ]\r\n               }\r\n            }\r\n         ]\r\n        }\r\n        }\r\n      }\r\n      `\r\n\r\n\r\n\r\n\r\nFor this i tried this code that works and generates my `TransactionId` properly but get the order of my Json as not expectedand very random order  : \r\n\r\n            \r\n              `JSONObject inputJo = new JSONObject((String)globalMap.get(&quot;row1.body&quot;));\r\n             JSONObject impOpJo = inputJo.getJSONObject(&quot;ImportOperation&quot;);\r\n             JSONObject linesJo = impOpJo.getJSONObject(&quot;Lines&quot;);\r\n             JSONArray goodsRecJa = linesJo.getJSONArray(&quot;GoodsReceivalLine&quot;);\r\n\r\n\r\n             for(int i = 0; i&lt;goodsRecJa.length(); i++){ \r\n             JSONObject tmpObj = goodsRecJa.getJSONObject(i);\r\n             tmpObj.put(&quot;TransactionId&quot;,  java.util.UUID.randomUUID().toString()) ; \r\n             }\r\n             System.out.println(&quot;*** Body  : &quot;+inputJo.toString()); `\r\n             \r\n\r\nWhere i&#39;m i mistaking and how could i correct that , is my loop not correct ? please i&#39;m stack with that","title":"How to re-Order a JsonArray","body":"<p>I'm trying to re-order a JsonArray with putting a specif Column <code>TransactionId</code> to the first element of my Json Array :</p>\n<p>Here Is my Json</p>\n<pre><code> `{\n  &quot;ImportOperation&quot;:{\n   &quot;Lines&quot;:{\n     &quot;GoodsReceivalLine&quot;:[\n        {\n           &quot;ExtWarehouseId&quot;:&quot;Warehouse1&quot;,\n             &quot;CustomData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Type&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;Move&quot;\n                    }\n                 }\n              ]\n           },\n           &quot;CustomAllocationData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Grade&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;002&quot;\n                    }\n                 }\n              ]\n           }\n        },\n        {\n           &quot;ExtWarehouseId&quot;:&quot;Warehouse2&quot;,\n            &quot;CustomData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Type&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;Move&quot;\n                    }\n                 }\n              ]\n           },\n           &quot;CustomAllocationData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Grade&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;002&quot;\n                    }\n                 }\n              ]\n           }\n        }\n     ]\n    }\n  }\n  }`\n</code></pre>\n<p>Now , i tried to add in <code>GoodsReceivalLine</code> array a random UUID <code>TransactionId</code> as a first elemet of my JSON array  So that my Json would be :</p>\n<pre><code> `{\n &quot;ImportOperation&quot;:{\n  &quot;Lines&quot;:{\n     &quot;GoodsReceivalLine&quot;:[\n        {\n           &quot;TransactionId&quot;:&quot;RAndom UUID VAlue&quot;, \n           &quot;ExtWarehouseId&quot;:&quot;Warehouse1&quot;,\n             &quot;CustomData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Type&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;Move&quot;\n                    }\n                 }\n              ]\n           },\n           &quot;CustomAllocationData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Grade&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;002&quot;\n                    }\n                 }\n              ]\n           }\n        },\n        {\n           &quot;TransactionId&quot;:&quot;RAndom UUID VAlue&quot;, \n           &quot;ExtWarehouseId&quot;:&quot;Warehouse2&quot;,\n            &quot;CustomData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Type&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;Move&quot;\n                    }\n                 }\n              ]\n           },\n           &quot;CustomAllocationData&quot;:{\n              &quot;Item&quot;:[\n                 {\n                    &quot;Key&quot;:{\n                       &quot;string&quot;:&quot;Grade&quot;\n                    },\n                    &quot;Value&quot;:{\n                       &quot;string&quot;:&quot;002&quot;\n                    }\n                 }\n              ]\n           }\n        }\n     ]\n    }\n    }\n  }\n  `\n</code></pre>\n<p>For this i tried this code that works and generates my <code>TransactionId</code> properly but get the order of my Json as not expectedand very random order  :</p>\n<pre><code>          `JSONObject inputJo = new JSONObject((String)globalMap.get(&quot;row1.body&quot;));\n         JSONObject impOpJo = inputJo.getJSONObject(&quot;ImportOperation&quot;);\n         JSONObject linesJo = impOpJo.getJSONObject(&quot;Lines&quot;);\n         JSONArray goodsRecJa = linesJo.getJSONArray(&quot;GoodsReceivalLine&quot;);\n\n\n         for(int i = 0; i&lt;goodsRecJa.length(); i++){ \n         JSONObject tmpObj = goodsRecJa.getJSONObject(i);\n         tmpObj.put(&quot;TransactionId&quot;,  java.util.UUID.randomUUID().toString()) ; \n         }\n         System.out.println(&quot;*** Body  : &quot;+inputJo.toString()); `\n         \n</code></pre>\n<p>Where i'm i mistaking and how could i correct that , is my loop not correct ? please i'm stack with that</p>\n"},{"tags":["java","json","jaxb","jackson","jax-rs"],"comments":[{"owner":{"account_id":103368,"reputation":831,"user_id":1970544,"accept_rate":80,"display_name":"Ernest Sadykov"},"score":0,"creation_date":1437660710,"post_id":31568687,"comment_id":51131576,"body_markdown":"Why did you enable `WRAP_ROOT_VALUE`?","body":"Why did you enable <code>WRAP_ROOT_VALUE</code>?"},{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":0,"creation_date":1449168331,"post_id":31568687,"comment_id":55900682,"body_markdown":"Found any answer yet? Same problem here. It looks like the Jackson wrapper ignores the name property","body":"Found any answer yet? Same problem here. It looks like the Jackson wrapper ignores the name property"}],"answers":[{"tags":[],"owner":{"account_id":103368,"reputation":831,"user_id":1970544,"accept_rate":80,"display_name":"Ernest Sadykov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568033010,"creation_date":1437660890,"answer_id":31589999,"question_id":31568687,"body_markdown":"Changing `.configure(SerializationFeature.WRAP_ROOT_VALUE, true)` to `.configure(SerializationFeature.WRAP_ROOT_VALUE, false)` should help.\r\n\r\nAccording to [javadoc][1]:\r\n\r\n&gt; Feature that can be enabled to make root value &lt;..&gt; wrapped within a single property JSON object, where key as the &quot;root name&quot;\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.0.0/com/fasterxml/jackson/databind/SerializationFeature.html#WRAP_ROOT_VALUE","title":"JAX-RS JAXB Jackson not using @XmlRootElement name","body":"<p>Changing <code>.configure(SerializationFeature.WRAP_ROOT_VALUE, true)</code> to <code>.configure(SerializationFeature.WRAP_ROOT_VALUE, false)</code> should help.</p>\n\n<p>According to <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.0.0/com/fasterxml/jackson/databind/SerializationFeature.html#WRAP_ROOT_VALUE\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Feature that can be enabled to make root value &lt;..> wrapped within a single property JSON object, where key as the \"root name\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661414009,"creation_date":1534513851,"answer_id":51896885,"question_id":31568687,"body_markdown":"I had to register Jaxb module to the xml mapper like this, otherwise the `@XmlRootElement(name = &quot;myname&quot;)` was igonerd.\r\n\r\n\r\n    JaxbAnnotationModule module = new JaxbAnnotationModule();\r\n    xmlMapper.registerModule(module);","title":"JAX-RS JAXB Jackson not using @XmlRootElement name","body":"<p>I had to register Jaxb module to the xml mapper like this, otherwise the <code>@XmlRootElement(name = &quot;myname&quot;)</code> was igonerd.</p>\n<pre><code>JaxbAnnotationModule module = new JaxbAnnotationModule();\nxmlMapper.registerModule(module);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26323579,"reputation":1,"user_id":19985256,"display_name":"Dmitriy Dovakhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670498899,"creation_date":1670498899,"answer_id":74729589,"question_id":31568687,"body_markdown":"Maybe it can help\r\n```\r\n@Configuration\r\npublic class SpringConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        converters.add(new Jaxb2RootElementHttpMessageConverter());\r\n    }\r\n}\r\n```","title":"JAX-RS JAXB Jackson not using @XmlRootElement name","body":"<p>Maybe it can help</p>\n<pre><code>@Configuration\npublic class SpringConfig implements WebMvcConfigurer {\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(new Jaxb2RootElementHttpMessageConverter());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":41263,"reputation":3490,"user_id":119855,"accept_rate":96,"display_name":"Georg Leber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7997,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1670498899,"creation_date":1437581968,"question_id":31568687,"body_markdown":"I am developing a restful application with JAX-RS and JAXB. I want to send following Entity as JSON to my client:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @XmlRootElement(name = &quot;user&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class UserDTO implements Serializable\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        private Long id;\r\n        private String username;\r\n        private String firstname;\r\n        private String lastname;\r\n\r\n        // getter &amp; setter\r\n    }\r\n\r\nThe method in my WebService is defined as follows:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @POST\r\n    @Path(&quot;users/{id}&quot;)\r\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\r\n    public UserAccountDTO login(@PathParam(&quot;id&quot;) Long id)\r\n    {\r\n        UserAccountDTO userAccount = loadUserAccount(id);\r\n        return userAccount;\r\n    }\r\n\r\nFirst problem was, that the root node was not send via JSON. Therefore I have added following Class:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Provider\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class SkedFlexContextResolver implements ContextResolver&lt;ObjectMapper&gt;\r\n    {\r\n        private ObjectMapper objectMapper;\r\n\r\n        public SkedFlexContextResolver() throws Exception\r\n        {\r\n            this.objectMapper = new ObjectMapper().configure(SerializationFeature.WRAP_ROOT_VALUE, true);\r\n        }\r\n\r\n        @Override\r\n        public ObjectMapper getContext(Class&lt;?&gt; objectType)\r\n        {\r\n            return objectMapper;\r\n        }\r\n    }\r\n\r\nNow, the root node is send with the data. In case of XML everything is fine (root node is equal to name of `@XmlRootElement`). See following XML response:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;user&gt;\r\n      &lt;id&gt;10&lt;/id&gt;\r\n      &lt;username&gt;Admin&lt;/username&gt;\r\n      &lt;firstname&gt;Administrator&lt;/firstname&gt;\r\n    &lt;/user&gt;\r\n\r\nBut in case of JSON the root node is the Classname of the POJO:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n        &quot;UserAccountDTO&quot;:\r\n        {\r\n            &quot;id&quot;: 10,\r\n            &quot;username&quot;: &quot;Admin&quot;,\r\n            &quot;firstname&quot;: &quot;Administrator&quot;,\r\n            &quot;lastname&quot;: null\r\n        }\r\n    }\r\n\r\nWhy differs the output between XML and JSON? What do I need to change to get the specified name in the `@XmlRootElement`-Annotation","title":"JAX-RS JAXB Jackson not using @XmlRootElement name","body":"<p>I am developing a restful application with JAX-RS and JAXB. I want to send following Entity as JSON to my client:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = \"user\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class UserDTO implements Serializable\n{\n    private static final long serialVersionUID = 1L;\n\n    private Long id;\n    private String username;\n    private String firstname;\n    private String lastname;\n\n    // getter &amp; setter\n}\n</code></pre>\n\n<p>The method in my WebService is defined as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@POST\n@Path(\"users/{id}\")\n@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\npublic UserAccountDTO login(@PathParam(\"id\") Long id)\n{\n    UserAccountDTO userAccount = loadUserAccount(id);\n    return userAccount;\n}\n</code></pre>\n\n<p>First problem was, that the root node was not send via JSON. Therefore I have added following Class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class SkedFlexContextResolver implements ContextResolver&lt;ObjectMapper&gt;\n{\n    private ObjectMapper objectMapper;\n\n    public SkedFlexContextResolver() throws Exception\n    {\n        this.objectMapper = new ObjectMapper().configure(SerializationFeature.WRAP_ROOT_VALUE, true);\n    }\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; objectType)\n    {\n        return objectMapper;\n    }\n}\n</code></pre>\n\n<p>Now, the root node is send with the data. In case of XML everything is fine (root node is equal to name of <code>@XmlRootElement</code>). See following XML response:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;user&gt;\n  &lt;id&gt;10&lt;/id&gt;\n  &lt;username&gt;Admin&lt;/username&gt;\n  &lt;firstname&gt;Administrator&lt;/firstname&gt;\n&lt;/user&gt;\n</code></pre>\n\n<p>But in case of JSON the root node is the Classname of the POJO:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"UserAccountDTO\":\n    {\n        \"id\": 10,\n        \"username\": \"Admin\",\n        \"firstname\": \"Administrator\",\n        \"lastname\": null\n    }\n}\n</code></pre>\n\n<p>Why differs the output between XML and JSON? What do I need to change to get the specified name in the <code>@XmlRootElement</code>-Annotation</p>\n"},{"tags":["java","android","datetime","locale","clock"],"comments":[{"owner":{"account_id":13248130,"reputation":1,"user_id":9566546,"display_name":"Matevž Jecl"},"score":0,"creation_date":1670511326,"post_id":74729463,"comment_id":131895879,"body_markdown":"I was now able to resolve this issue with extending TextClock class with help of this link: https://medium.com/@tapuranjannahak/android-textclock-customization-to-deviate-from-system-time-format-b1ab05db7f3a. So every time I set a 12 hour format, it sets hardcoded value if the language is set to Armenian. It&#39;s not an ideal solution because problem like this could happen on other languages as well and you would have to hard code each one.","body":"I was now able to resolve this issue with extending TextClock class with help of this link: <a href=\"https://medium.com/@tapuranjannahak/android-textclock-customization-to-deviate-from-system-time-format-b1ab05db7f3a\" rel=\"nofollow noreferrer\">medium.com/@tapuranjannahak/&hellip;</a>. So every time I set a 12 hour format, it sets hardcoded value if the language is set to Armenian. It&#39;s not an ideal solution because problem like this could happen on other languages as well and you would have to hard code each one."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670534670,"post_id":74729463,"comment_id":131903194,"body_markdown":"Consider not using `DateFormat`, `SimpleDateFormat`, DateFormatSymbols` and `Date`. Those classes are notoriously troublesome and long outdated. Use `LocalTime`, `DateTimeFormatter` and `DateTimeFormatterBuilder`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). If for early Android, then through [desugaring](https://developer.android.com/studio/write/java8-support).","body":"Consider not using <code>DateFormat</code>, <code>SimpleDateFormat</code>, DateFormatSymbols` and <code>Date</code>. Those classes are notoriously troublesome and long outdated. Use <code>LocalTime</code>, <code>DateTimeFormatter</code> and <code>DateTimeFormatterBuilder</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. If for early Android, then through <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670535408,"post_id":74729463,"comment_id":131903383,"body_markdown":"Using java.time I would first try `DateTimeFormatter f = new DateTimeFormatterBuilder() .appendPattern(&quot;h:mm &quot;) .appendText(ChronoField.AMPM_OF_DAY, TextStyle.NARROW) .toFormatter(Locale.forLanguageTag(&quot;hy&quot;));`. Example outputs on my desktop Java include `8:04 ա` and `9:06 հ`. I don’t know whether you get the same on Android, and it may vary between devices. If not satisfied, set the texts explicitly using `.appendText(ChronoField.AMPM_OF_DAY, Map.of(0L, &quot;AM&quot;, 1L, &quot;PM&quot;))`. Now you are sure to get what you asked for: `8:04 AM` and `9:06 PM`.","body":"Using java.time I would first try <code>DateTimeFormatter f = new DateTimeFormatterBuilder() .appendPattern(&quot;h:mm &quot;) .appendText(ChronoField.AMPM_OF_DAY, TextStyle.NARROW) .toFormatter(Locale.forLanguageTag(&quot;hy&quot;));</code>. Example outputs on my desktop Java include <code>8:04 ա</code> and <code>9:06 հ</code>. I don’t know whether you get the same on Android, and it may vary between devices. If not satisfied, set the texts explicitly using <code>.appendText(ChronoField.AMPM_OF_DAY, Map.of(0L, &quot;AM&quot;, 1L, &quot;PM&quot;))</code>. Now you are sure to get what you asked for: <code>8:04 AM</code> and <code>9:06 PM</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670535909,"post_id":74729463,"comment_id":131903500,"body_markdown":"Related (though unanswered): [Android DateTimeFormatter - Time Conversion not working on samsung devices](https://stackoverflow.com/questions/74528658/android-datetimeformatter-time-conversion-not-working-on-samsung-devices)","body":"Related (though unanswered): <a href=\"https://stackoverflow.com/questions/74528658/android-datetimeformatter-time-conversion-not-working-on-samsung-devices\">Android DateTimeFormatter - Time Conversion not working on samsung devices</a>"}],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670498448,"creation_date":1670498448,"answer_id":74729499,"question_id":74729463,"body_markdown":"    just format your date string like this\r\n    \r\n    startTime = &quot;2013-02-27 21:06:30&quot;;\r\n        StringTokenizer tk = new StringTokenizer(startTime);\r\n        String date = tk.nextToken();  \r\n        String time = tk.nextToken();\r\n        \r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss&quot;);\r\n        SimpleDateFormat sdfs = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n        Date dt;\r\n        try {    \r\n            dt = sdf.parse(time);\r\n            System.out.println(&quot;Time Display: &quot; + sdfs.format(dt)); // &lt;-- I got result here\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n","title":"Wrong AM/PM locale string gets returned when using hy as locale language","body":"<pre><code>just format your date string like this\n\nstartTime = &quot;2013-02-27 21:06:30&quot;;\n    StringTokenizer tk = new StringTokenizer(startTime);\n    String date = tk.nextToken();  \n    String time = tk.nextToken();\n    \n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss&quot;);\n    SimpleDateFormat sdfs = new SimpleDateFormat(&quot;hh:mm a&quot;);\n    Date dt;\n    try {    \n        dt = sdf.parse(time);\n        System.out.println(&quot;Time Display: &quot; + sdfs.format(dt)); // &lt;-- I got result here\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":13248130,"reputation":1,"user_id":9566546,"display_name":"Matevž Jecl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670498448,"creation_date":1670498234,"question_id":74729463,"body_markdown":"On Android API 19, setting locale to hy, time is displayed as կեսօրից առաջ instead of AM or ԿԱ. The string I get is way too long to fit in the UI. I am displaying time with \r\n```\r\n&lt;TextClock/&gt; \r\n```\r\nI am setting the 12h format with this code:\r\n```\r\nSettings.System.putString(getContentResolver(), Settings.System.TIME_12_24, &quot;12&quot;);\r\n```\r\n\r\n\r\n\r\nI tried running the same code in java fiddle: https://www.mycompiler.io/view/HnfUgdPt9zt\r\nHere I get AM as expected. If I try different locale, for example &quot;sl&quot; I get the same result in the java fiddle and in the Android project.\r\n\r\nMy code:\r\n\r\n```\r\nDateFormat timeOnly = new SimpleDateFormat(&quot;h:mm aa&quot;, new Locale(&quot;hy&quot;));\r\n\r\nDate fullDate =  new Date();\r\nString callTime = timeOnly.format(fullDate);\r\n```\r\n\r\nI also tried to set AM and PM strings like this:\r\n\r\n```\r\nDateFormatSymbols sym = new DateFormatSymbols(locale);\r\nsym.setAmPmStrings(new String[] {&quot;AM&quot;, &quot;PM&quot;});\r\n```\r\nBut I don&#39;t know how to apply that format to system time.\r\n\r\n","title":"Wrong AM/PM locale string gets returned when using hy as locale language","body":"<p>On Android API 19, setting locale to hy, time is displayed as կեսօրից առաջ instead of AM or ԿԱ. The string I get is way too long to fit in the UI. I am displaying time with</p>\n<pre><code>&lt;TextClock/&gt; \n</code></pre>\n<p>I am setting the 12h format with this code:</p>\n<pre><code>Settings.System.putString(getContentResolver(), Settings.System.TIME_12_24, &quot;12&quot;);\n</code></pre>\n<p>I tried running the same code in java fiddle: <a href=\"https://www.mycompiler.io/view/HnfUgdPt9zt\" rel=\"nofollow noreferrer\">https://www.mycompiler.io/view/HnfUgdPt9zt</a>\nHere I get AM as expected. If I try different locale, for example &quot;sl&quot; I get the same result in the java fiddle and in the Android project.</p>\n<p>My code:</p>\n<pre><code>DateFormat timeOnly = new SimpleDateFormat(&quot;h:mm aa&quot;, new Locale(&quot;hy&quot;));\n\nDate fullDate =  new Date();\nString callTime = timeOnly.format(fullDate);\n</code></pre>\n<p>I also tried to set AM and PM strings like this:</p>\n<pre><code>DateFormatSymbols sym = new DateFormatSymbols(locale);\nsym.setAmPmStrings(new String[] {&quot;AM&quot;, &quot;PM&quot;});\n</code></pre>\n<p>But I don't know how to apply that format to system time.</p>\n"},{"tags":["java","spring-boot","rest","download","garbage"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670497746,"post_id":74729089,"comment_id":131891189,"body_markdown":"If you want to exclude it, remove it from the `files4users` data structure.","body":"If you want to exclude it, remove it from the <code>files4users</code> data structure."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670497936,"post_id":74729089,"comment_id":131891260,"body_markdown":"Not sure what `InputStream` you are referring to.  But if you have 500MB files you probably shouldn&#39;t cache them in memory.  And if they are in the file system, then it is not up to the Java GC to delete them.","body":"Not sure what <code>InputStream</code> you are referring to.  But if you have 500MB files you probably shouldn&#39;t cache them in memory.  And if they are in the file system, then it is not up to the Java GC to delete them."}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670498192,"creation_date":1670496554,"question_id":74729089,"body_markdown":"**Current short question for REST API app.**\r\n\r\nLet&#39;s suppose we have Map&lt;String, List&lt;InputStream&gt;&gt; files4users in @Component class.\r\n\r\nThis map contains name of user and connected csv file that the user can download.\r\nSo an user can download the file anytime.\r\n\r\nBut what if an user already downloaded the file and we want to exclude this file for usage to clean memory.\r\n\r\n - Is there some option how we can handle this? For example when user call REST API download/data --&gt; we return ResponseEntity&lt;InputStreamResource&gt; with this kind of file.\r\n\r\n - How can we quarantee that garbage collector will clean this inputstream? Let&#39;s imagine that the file is 500MB.\r\n\r\nThanks.\r\n\r\n","title":"When garbage collector decides to clean inpustream object?","body":"<p><strong>Current short question for REST API app.</strong></p>\n<p>Let's suppose we have Map&lt;String, List&gt; files4users in @Component class.</p>\n<p>This map contains name of user and connected csv file that the user can download.\nSo an user can download the file anytime.</p>\n<p>But what if an user already downloaded the file and we want to exclude this file for usage to clean memory.</p>\n<ul>\n<li><p>Is there some option how we can handle this? For example when user call REST API download/data --&gt; we return ResponseEntity with this kind of file.</p>\n</li>\n<li><p>How can we quarantee that garbage collector will clean this inputstream? Let's imagine that the file is 500MB.</p>\n</li>\n</ul>\n<p>Thanks.</p>\n"},{"tags":["java","testing","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1670481207,"post_id":74721450,"comment_id":131886423,"body_markdown":"`Table &quot;MYTABLE&quot; not found;`: the reader does not seem to find the table it should read data from. Are you sure you created that table before running your job?","body":"<code>Table &quot;MYTABLE&quot; not found;</code>: the reader does not seem to find the table it should read data from. Are you sure you created that table before running your job?"},{"owner":{"account_id":27181136,"reputation":3,"user_id":20716367,"display_name":"Lynda Ben"},"score":0,"creation_date":1670495090,"post_id":74721450,"comment_id":131890303,"body_markdown":"I put creation tables  and injection data sql scripts in ReaderConfig with @Sql anotation  when I define the reader Bean for test.","body":"I put creation tables  and injection data sql scripts in ReaderConfig with @Sql anotation  when I define the reader Bean for test."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670498042,"creation_date":1670498042,"answer_id":74729423,"question_id":74721450,"body_markdown":"&gt; I put creation tables and injection data sql scripts in ReaderConfig with @Sql anotation when I define the reader Bean for test. \r\n\r\nIt is too late to create tables at that point. You need to initialize the data source with Spring Batch tables and your custom tables before running your job. This can be done on the test setup phase, not the item reader setup phase.\r\n\r\nPlease check the [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.batch) on how to initialize the data source with Spring Boot.","title":"Failed to initialize the reader when testing a step scoped JdbcCursorItemReader","body":"<blockquote>\n<p>I put creation tables and injection data sql scripts in ReaderConfig with @Sql anotation when I define the reader Bean for test.</p>\n</blockquote>\n<p>It is too late to create tables at that point. You need to initialize the data source with Spring Batch tables and your custom tables before running your job. This can be done on the test setup phase, not the item reader setup phase.</p>\n<p>Please check the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.batch\" rel=\"nofollow noreferrer\">documentation</a> on how to initialize the data source with Spring Boot.</p>\n"}],"owner":{"account_id":27181136,"reputation":3,"user_id":20716367,"display_name":"Lynda Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74729423,"answer_count":1,"score":0,"last_activity_date":1670498042,"creation_date":1670438119,"question_id":74721450,"body_markdown":"I get this error while testing my reader:\r\n\r\n```\r\nFailed to initialize the reader\r\norg.springframework.batch.item.ItemStreamException: Failed to initialize the reader\r\n\tat app//org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:153)\r\n\tat app//org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader$$FastClassBySpringCGLIB$$ebb633d0.invoke(&lt;generated&gt;)\r\n\tat app//org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat app//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat app//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat app//org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n\tat app//org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat app//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\tat app//org.springframework.batch.item.database.JdbcCursorItemReader$$EnhancerBySpringCGLIB$$403e222f.open(&lt;generated&gt;)\r\n\tat app//com.europcar.tokenization.step.reader.BankCardReaderTest.lambda$readAll$0(BankCardReaderTest.java:131)\r\n\tat app//org.springframework.batch.test.StepScopeTestUtils.doInStepScope(StepScopeTestUtils.java:38)\r\n\tat app//com.europcar.tokenization.step.reader.BankCardReaderTest.readAll(BankCardReaderTest.java:127)\r\n\tat app//com.europcar.tokenization.step.reader.BankCardReaderTest.readTest(BankCardReaderTest.java:120)\r\n\tat java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.3.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.3.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.3.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.3.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.3.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.3.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.jdbc.BadSqlGrammarException: Executing query; bad SQL grammar [select field1,field2\r\n       field3,\r\n       field4,\r\n       field5\r\nfrom   MYDB.MYTABLE wct]; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;MYTABLE&quot;\r\nTable &quot;MYTABLE&quot; not found;\r\n```\r\nhow can I avoid this error? when I debug I go throw the ReaderConfig \r\nclass and initiliaze reader when context is created, but when come to the test reader is not initialized!\r\n\r\nsome one can help me?\r\n\r\nthis is my test class,this is my test config for Reader and job Config.\r\nI set an H2 database withs properties file above\r\n\r\n```\r\n@ActiveProfiles(&quot;test&quot;) @RunWith(SpringRunner.class) @PropertySource(ignoreResourceNotFound = true, value = &quot;classpath:application-test.properties&quot;) @SpringBootTest @EnableAutoConfiguration @ContextConfiguration(classes = { MyFunctionJobConfiguration.class, ReaderConfig.class}) @TestExecutionListeners({ DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class }) @DirtiesContext(classMode\r\n= ClassMode.AFTER_CLASS) public class `MyEntity`ReaderTest {\r\n     @Autowired   private JdbcCursorItemReader&lt;MyEntity&gt; MyEntityReader;\r\n\r\n  @Autowired   private DataSource dataSource;\r\n     StepExecution stepExecution;\r\n\r\n  private static final Logger LOGGER = LoggerFactory.getLogger(&quot;TEST_LOGGER&quot;);\r\n\r\n  private JobParameters defaultJobParameters() {\r\n    JobParameters params = new JobParametersBuilder()\r\n      .addString(&quot;JobID&quot;, String.valueOf(System.currentTimeMillis()))\r\n      .toJobParameters();\r\n    return params;   }   @BeforeEach   public void setUp() throws Exception {   }   public StepExecution getStepExecution() {\r\n    StepExecution stepExecution = MetaDataInstanceFactory.createStepExecution(defaultJobParameters());\r\n    return stepExecution;   }   @Test   @Transactional   void readTest() throws Exception {\r\n    List&lt;MyEntity&gt; MyEntities = readAll();\r\n    LOGGER.info(&quot;result of read : bank card  ={}&quot;, MyEntities);\r\n    assertNotNull(MyEntities);   }\r\n\r\n  private List&lt;MyEntity&gt; readAll() throws Exception {\r\n    // build step execution context\r\n    return StepScopeTestUtils.doInStepScope(\r\n      getStepExecution(),\r\n      () -&gt; {\r\n        // init reader\r\n        MyEntityReader.open(stepExecution.getExecutionContext());\r\n        List&lt;MyEntity&gt; items = new ArrayList&lt;&gt;();\r\n        MyEntity MyEntity1;\r\n        while ((MyEntity1 = MyEntityReader.read()) != null) {\r\n          items.add(MyEntity1);\r\n        }\r\n        MyEntityReader.close();\r\n        return items;\r\n      });   } }\r\n```\r\n\r\n```\r\n\r\n\r\n@Profile(&quot;test&quot;)\r\n@Configuration\r\npublic class ReaderConfig {\r\n\r\n  @Autowired\r\n  private DataSource dataSource;\r\n\r\n  private MyEntityRowMapper MyEntityRowMapper = new MyEntityRowMapper();\r\n\r\n  private static final String SQL_FILE = &quot;extract_entities_test.sql&quot;;\r\n  Integer maxCardsNumber;\r\n  public static final String MODULO_LABEL = &quot;:modulo&quot;;\r\n  public static final String GRID_SIZE_LABEL = &quot;:gridSize&quot;;\r\n  @Bean\r\n  @Primary\r\n  @StepScope\r\n  public JdbcCursorItemReader&lt;MyEntity&gt; MyEntityReader() throws IOException {\r\n    return initMyEntityReader(1,1);\r\n  }\r\n\r\n  @SqlGroup\r\n    ({\r\n      @Sql(scripts={&quot;classpath:create-tables.sql&quot;}),\r\n      @Sql(scripts={&quot;classpath:init_MyEntity_data.sql&quot;})\r\n    })\r\n  public JdbcCursorItemReader&lt;MyEntity&gt; initMyEntityReader(int modulo, int gridSize) throws IOException {\r\n    JdbcCursorItemReader&lt;MyEntity&gt; cursorItemReader = new JdbcCursorItemReader&lt;&gt;();\r\n    ClassPathResource resource = new ClassPathResource(SQL_FILE);\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()));\r\n    String query = FileCopyUtils.copyToString(reader);\r\n    query = query.replace(MODULO_LABEL, String.valueOf(modulo));\r\n    query = query.replace(GRID_SIZE_LABEL, String.valueOf(gridSize));\r\n    cursorItemReader.setSql(query);\r\n    final int partitionSize = 10 / gridSize;\r\n    cursorItemReader.setMaxItemCount(partitionSize);\r\n    cursorItemReader.setDataSource(dataSource);\r\n    cursorItemReader.setRowMapper(MyEntityRowMapper);\r\n    return cursorItemReader;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\n@RefreshScope\r\npublic class MyFunctionJobConfiguration {\r\n\r\n    @Autowired\r\n    public JobBuilderFactory jobBuilderFactory;\r\n    @Autowired\r\n    public StepBuilderFactory stepBuilderFactory;\r\n    @Autowired\r\n    JdbcCursorItemReader&lt;MyEntity&gt; reader;\r\n    @Value(&quot;${max-number-card-to-process}&quot;)\r\n    private Integer MAX_NUMBER_CARD;\r\n    @Value(&quot;${chunck-size:10}&quot;)\r\n    private int chunckSize;\r\n    @Value(&quot;${grid-size:1}&quot;)\r\n    private int gridSize;\r\n\r\n    private final static String JOB_DISABLED = &quot;job is disabled, check the configuration file !&quot;;\r\n    @Value(&quot;${job.enabled}&quot;)\r\n    private boolean batchIsEnabled;\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(&quot;FUNCTIONAL_LOGGER&quot;);\r\n\r\n    @Bean\r\n    @StepScope\r\n    @RefreshScope\r\n    public MyEntityWriter writer() {\r\n        return new MyEntityWriter();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    @RefreshScope\r\n    public MyFunctionProcessor processor() throws IOException {\r\n        return new MyFunctionProcessor();\r\n    }\r\n\r\n    @Bean\r\n    public MyPrationner partitioner() {\r\n        return new MyPrationner();\r\n    }\r\n\r\n    @Bean\r\n    public Step masterStep() throws SQLException, IOException, ClassNotFoundException {\r\n        return stepBuilderFactory.get(&quot;masterStep&quot;)\r\n            .partitioner(&quot;MyFunctionStep&quot;, partitioner())\r\n            .step(MyFunctionStep())\r\n            .gridSize(gridSize)\r\n            .taskExecutor(MyFunctionTaskExecutor())\r\n            .build();\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor myFunctionTaskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setThreadNamePrefix(&quot;MyFunctionTaskExecutor_&quot;);\r\n        int corePoolSize = gridSize + 2;\r\n        int maxPoolSize = corePoolSize * 2;\r\n        taskExecutor.setMaxPoolSize(maxPoolSize);\r\n        taskExecutor.setAllowCoreThreadTimeOut(true);\r\n        taskExecutor.setCorePoolSize(corePoolSize);\r\n        taskExecutor.setQueueCapacity(Integer.MAX_VALUE);\r\n        return taskExecutor;\r\n    }\r\n\r\n    @Bean\r\n    public Step myFunctionStep() throws IOException, ClassNotFoundException, SQLException {\r\n        return stepBuilderFactory.get(&quot;MyFunctionStep&quot;)\r\n            .&lt;MyEntity, MyEntity&gt;chunk(chunckSize)\r\n            .reader(reader)\r\n            .faultTolerant()\r\n            .skipLimit(MAX_NUMBER_CARD)\r\n            .skip(InvalidCardNumberException.class)\r\n            .skip(TokenManagementException.class)\r\n            .processor(processor())\r\n            .listener(new MyEntityProcessListener())\r\n            .writer(writer())\r\n            .listener(new MyEntityWriteListener())\r\n            .build();\r\n    }\r\n\r\n    @Bean\r\n    public Job myFunctionJob(@Qualifier(&quot;MyFunctionStep&quot;) Step myFunctionStep)\r\n        throws SQLException, IOException, ClassNotFoundException {\r\n        if (!batchIsEnabled) {\r\n            LOGGER.error(JOB_DISABLED);\r\n            System.exit(0);\r\n        }\r\n        return jobBuilderFactory.get(&quot;MyFunctionJob&quot;)\r\n            .listener(new MyFunctionJobListener())\r\n            .incrementer(new RunIdIncrementer())\r\n            .flow(masterStep())\r\n            .end()\r\n            .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\n   logging.level.org.hibernate.SQL=DEBUG\r\n   logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n   spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n   spring.datasource.pool-name=${spring.application.name}-pool\r\n   spring.datasource.url=jdbc:h2:mem:MYDB;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS MYDB\r\n   spring.datasource.username=sa\r\n   spring.datasource.password=sa\r\n   spring.datasource.driver-class-name=org.h2.Driver\r\n   spring.datasource.database-platform=org.hibernate.dialect.H2Dialect\r\n   spring.jpa.defer-datasource-initialization=true\r\n\r\n   #initialize batch schema\r\n   spring.batch.jdbc.initialize-schema=always\r\n   spring.datasource.initialization-mode=always\r\n   spring.sql.init.mode=always\r\n   spring.jpa.hibernate.ddl-auto=none\r\n   #spring.jpa.hibernate.ddl-auto=create\r\n   spring.h2.console.enabled=true\r\n   # Custom H2 Console URL\r\n   spring.h2.console.path=/h2\r\n   spring.jpa.generate-ddl=true\r\n   #jpa.hibernate.ddl-auto=create-drop\r\n   spring.datasource.hikari.pool-name=${spring.application.name}-pool\r\n   spring.datasource.hikari.connection-timeout=20000\r\n   spring.datasource.hikari.maximum-pool-size=30\r\n   spring.datasource.hikari.max-lifetime=86400000\r\n   spring.datasource.hikari.idle-timeout=600000\r\n   spring.datasource.hikari.keepalive-time=30000\r\n   spring.datasource.hikari.minimum-idle=10\r\n   spring.datasource.jmx-enabled=true`\r\n\r\n```\r\n\r\n","title":"Failed to initialize the reader when testing a step scoped JdbcCursorItemReader","body":"<p>I get this error while testing my reader:</p>\n<pre><code>Failed to initialize the reader\norg.springframework.batch.item.ItemStreamException: Failed to initialize the reader\n    at app//org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:153)\n    at app//org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader$$FastClassBySpringCGLIB$$ebb633d0.invoke(&lt;generated&gt;)\n    at app//org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at app//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at app//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at app//org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\n    at app//org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at app//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at app//org.springframework.batch.item.database.JdbcCursorItemReader$$EnhancerBySpringCGLIB$$403e222f.open(&lt;generated&gt;)\n    at app//com.europcar.tokenization.step.reader.BankCardReaderTest.lambda$readAll$0(BankCardReaderTest.java:131)\n    at app//org.springframework.batch.test.StepScopeTestUtils.doInStepScope(StepScopeTestUtils.java:38)\n    at app//com.europcar.tokenization.step.reader.BankCardReaderTest.readAll(BankCardReaderTest.java:127)\n    at app//com.europcar.tokenization.step.reader.BankCardReaderTest.readTest(BankCardReaderTest.java:120)\n    at java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.3.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.3.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.3.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.3.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.3.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.3.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.3.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.jdbc.BadSqlGrammarException: Executing query; bad SQL grammar [select field1,field2\n       field3,\n       field4,\n       field5\nfrom   MYDB.MYTABLE wct]; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;MYTABLE&quot;\nTable &quot;MYTABLE&quot; not found;\n</code></pre>\n<p>how can I avoid this error? when I debug I go throw the ReaderConfig\nclass and initiliaze reader when context is created, but when come to the test reader is not initialized!</p>\n<p>some one can help me?</p>\n<p>this is my test class,this is my test config for Reader and job Config.\nI set an H2 database withs properties file above</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;) @RunWith(SpringRunner.class) @PropertySource(ignoreResourceNotFound = true, value = &quot;classpath:application-test.properties&quot;) @SpringBootTest @EnableAutoConfiguration @ContextConfiguration(classes = { MyFunctionJobConfiguration.class, ReaderConfig.class}) @TestExecutionListeners({ DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class }) @DirtiesContext(classMode\n= ClassMode.AFTER_CLASS) public class `MyEntity`ReaderTest {\n     @Autowired   private JdbcCursorItemReader&lt;MyEntity&gt; MyEntityReader;\n\n  @Autowired   private DataSource dataSource;\n     StepExecution stepExecution;\n\n  private static final Logger LOGGER = LoggerFactory.getLogger(&quot;TEST_LOGGER&quot;);\n\n  private JobParameters defaultJobParameters() {\n    JobParameters params = new JobParametersBuilder()\n      .addString(&quot;JobID&quot;, String.valueOf(System.currentTimeMillis()))\n      .toJobParameters();\n    return params;   }   @BeforeEach   public void setUp() throws Exception {   }   public StepExecution getStepExecution() {\n    StepExecution stepExecution = MetaDataInstanceFactory.createStepExecution(defaultJobParameters());\n    return stepExecution;   }   @Test   @Transactional   void readTest() throws Exception {\n    List&lt;MyEntity&gt; MyEntities = readAll();\n    LOGGER.info(&quot;result of read : bank card  ={}&quot;, MyEntities);\n    assertNotNull(MyEntities);   }\n\n  private List&lt;MyEntity&gt; readAll() throws Exception {\n    // build step execution context\n    return StepScopeTestUtils.doInStepScope(\n      getStepExecution(),\n      () -&gt; {\n        // init reader\n        MyEntityReader.open(stepExecution.getExecutionContext());\n        List&lt;MyEntity&gt; items = new ArrayList&lt;&gt;();\n        MyEntity MyEntity1;\n        while ((MyEntity1 = MyEntityReader.read()) != null) {\n          items.add(MyEntity1);\n        }\n        MyEntityReader.close();\n        return items;\n      });   } }\n</code></pre>\n<pre><code>\n\n@Profile(&quot;test&quot;)\n@Configuration\npublic class ReaderConfig {\n\n  @Autowired\n  private DataSource dataSource;\n\n  private MyEntityRowMapper MyEntityRowMapper = new MyEntityRowMapper();\n\n  private static final String SQL_FILE = &quot;extract_entities_test.sql&quot;;\n  Integer maxCardsNumber;\n  public static final String MODULO_LABEL = &quot;:modulo&quot;;\n  public static final String GRID_SIZE_LABEL = &quot;:gridSize&quot;;\n  @Bean\n  @Primary\n  @StepScope\n  public JdbcCursorItemReader&lt;MyEntity&gt; MyEntityReader() throws IOException {\n    return initMyEntityReader(1,1);\n  }\n\n  @SqlGroup\n    ({\n      @Sql(scripts={&quot;classpath:create-tables.sql&quot;}),\n      @Sql(scripts={&quot;classpath:init_MyEntity_data.sql&quot;})\n    })\n  public JdbcCursorItemReader&lt;MyEntity&gt; initMyEntityReader(int modulo, int gridSize) throws IOException {\n    JdbcCursorItemReader&lt;MyEntity&gt; cursorItemReader = new JdbcCursorItemReader&lt;&gt;();\n    ClassPathResource resource = new ClassPathResource(SQL_FILE);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()));\n    String query = FileCopyUtils.copyToString(reader);\n    query = query.replace(MODULO_LABEL, String.valueOf(modulo));\n    query = query.replace(GRID_SIZE_LABEL, String.valueOf(gridSize));\n    cursorItemReader.setSql(query);\n    final int partitionSize = 10 / gridSize;\n    cursorItemReader.setMaxItemCount(partitionSize);\n    cursorItemReader.setDataSource(dataSource);\n    cursorItemReader.setRowMapper(MyEntityRowMapper);\n    return cursorItemReader;\n  }\n}\n</code></pre>\n<pre><code>\n@Configuration\n@EnableBatchProcessing\n@RefreshScope\npublic class MyFunctionJobConfiguration {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n    @Autowired\n    JdbcCursorItemReader&lt;MyEntity&gt; reader;\n    @Value(&quot;${max-number-card-to-process}&quot;)\n    private Integer MAX_NUMBER_CARD;\n    @Value(&quot;${chunck-size:10}&quot;)\n    private int chunckSize;\n    @Value(&quot;${grid-size:1}&quot;)\n    private int gridSize;\n\n    private final static String JOB_DISABLED = &quot;job is disabled, check the configuration file !&quot;;\n    @Value(&quot;${job.enabled}&quot;)\n    private boolean batchIsEnabled;\n    private static final Logger LOGGER = LoggerFactory.getLogger(&quot;FUNCTIONAL_LOGGER&quot;);\n\n    @Bean\n    @StepScope\n    @RefreshScope\n    public MyEntityWriter writer() {\n        return new MyEntityWriter();\n    }\n\n    @Bean\n    @StepScope\n    @RefreshScope\n    public MyFunctionProcessor processor() throws IOException {\n        return new MyFunctionProcessor();\n    }\n\n    @Bean\n    public MyPrationner partitioner() {\n        return new MyPrationner();\n    }\n\n    @Bean\n    public Step masterStep() throws SQLException, IOException, ClassNotFoundException {\n        return stepBuilderFactory.get(&quot;masterStep&quot;)\n            .partitioner(&quot;MyFunctionStep&quot;, partitioner())\n            .step(MyFunctionStep())\n            .gridSize(gridSize)\n            .taskExecutor(MyFunctionTaskExecutor())\n            .build();\n    }\n\n    @Bean\n    public TaskExecutor myFunctionTaskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setThreadNamePrefix(&quot;MyFunctionTaskExecutor_&quot;);\n        int corePoolSize = gridSize + 2;\n        int maxPoolSize = corePoolSize * 2;\n        taskExecutor.setMaxPoolSize(maxPoolSize);\n        taskExecutor.setAllowCoreThreadTimeOut(true);\n        taskExecutor.setCorePoolSize(corePoolSize);\n        taskExecutor.setQueueCapacity(Integer.MAX_VALUE);\n        return taskExecutor;\n    }\n\n    @Bean\n    public Step myFunctionStep() throws IOException, ClassNotFoundException, SQLException {\n        return stepBuilderFactory.get(&quot;MyFunctionStep&quot;)\n            .&lt;MyEntity, MyEntity&gt;chunk(chunckSize)\n            .reader(reader)\n            .faultTolerant()\n            .skipLimit(MAX_NUMBER_CARD)\n            .skip(InvalidCardNumberException.class)\n            .skip(TokenManagementException.class)\n            .processor(processor())\n            .listener(new MyEntityProcessListener())\n            .writer(writer())\n            .listener(new MyEntityWriteListener())\n            .build();\n    }\n\n    @Bean\n    public Job myFunctionJob(@Qualifier(&quot;MyFunctionStep&quot;) Step myFunctionStep)\n        throws SQLException, IOException, ClassNotFoundException {\n        if (!batchIsEnabled) {\n            LOGGER.error(JOB_DISABLED);\n            System.exit(0);\n        }\n        return jobBuilderFactory.get(&quot;MyFunctionJob&quot;)\n            .listener(new MyFunctionJobListener())\n            .incrementer(new RunIdIncrementer())\n            .flow(masterStep())\n            .end()\n            .build();\n    }\n\n}\n</code></pre>\n<pre><code>\n   logging.level.org.hibernate.SQL=DEBUG\n   logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n   spring.datasource.type=com.zaxxer.hikari.HikariDataSource\n   spring.datasource.pool-name=${spring.application.name}-pool\n   spring.datasource.url=jdbc:h2:mem:MYDB;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS MYDB\n   spring.datasource.username=sa\n   spring.datasource.password=sa\n   spring.datasource.driver-class-name=org.h2.Driver\n   spring.datasource.database-platform=org.hibernate.dialect.H2Dialect\n   spring.jpa.defer-datasource-initialization=true\n\n   #initialize batch schema\n   spring.batch.jdbc.initialize-schema=always\n   spring.datasource.initialization-mode=always\n   spring.sql.init.mode=always\n   spring.jpa.hibernate.ddl-auto=none\n   #spring.jpa.hibernate.ddl-auto=create\n   spring.h2.console.enabled=true\n   # Custom H2 Console URL\n   spring.h2.console.path=/h2\n   spring.jpa.generate-ddl=true\n   #jpa.hibernate.ddl-auto=create-drop\n   spring.datasource.hikari.pool-name=${spring.application.name}-pool\n   spring.datasource.hikari.connection-timeout=20000\n   spring.datasource.hikari.maximum-pool-size=30\n   spring.datasource.hikari.max-lifetime=86400000\n   spring.datasource.hikari.idle-timeout=600000\n   spring.datasource.hikari.keepalive-time=30000\n   spring.datasource.hikari.minimum-idle=10\n   spring.datasource.jmx-enabled=true`\n\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1670019748,"post_id":74662043,"comment_id":131783522,"body_markdown":"Do you have more error logs? I&#39;m just curious: do you have transformations? Usually this can easily be done from BigQuery itself. For example: \n\n&gt; CREATE TABLE `destProject.destDataset.destTable` AS (SELECT * FROM `sourceProject.sourceDataset.sourceTable`)","body":"Do you have more error logs? I&#39;m just curious: do you have transformations? Usually this can easily be done from BigQuery itself. For example:   &gt; CREATE TABLE <code>destProject.destDataset.destTable</code> AS (SELECT * FROM <code>sourceProject.sourceDataset.sourceTable</code>)"},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1670019994,"post_id":74662043,"comment_id":131783569,"body_markdown":"This is the only error log that I am getting when executing this dataflow job.","body":"This is the only error log that I am getting when executing this dataflow job."},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1670023242,"post_id":74662043,"comment_id":131784123,"body_markdown":"I don&#39;t have transformations. I just want to load the data using apache beam and write the data into another dataset. Reason behind using pipeline of apache beam is to show the dataflow at each step of table copying.","body":"I don&#39;t have transformations. I just want to load the data using apache beam and write the data into another dataset. Reason behind using pipeline of apache beam is to show the dataflow at each step of table copying."},{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":2,"creation_date":1670175338,"post_id":74662043,"comment_id":131809119,"body_markdown":"This issue seems to be because of the [job graph is too large](https://cloud.google.com/dataflow/docs/guides/common-errors#job-graph-too-large). Can you try including the flag `--experiments=upload_graph` in your code. You can refer to this [code](https://github.com/apache/beam/blob/master/runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/DataflowRunner.java#L881) and [stack link](https://stackoverflow.com/questions/66430731/job-graph-too-large-to-submit-to-google-cloud-dataflow/66430732#66430732) for more information.","body":"This issue seems to be because of the <a href=\"https://cloud.google.com/dataflow/docs/guides/common-errors#job-graph-too-large\" rel=\"nofollow noreferrer\">job graph is too large</a>. Can you try including the flag <code>--experiments=upload_graph</code> in your code. You can refer to this <a href=\"https://github.com/apache/beam/blob/master/runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/DataflowRunner.java#L881\" rel=\"nofollow noreferrer\">code</a> and <a href=\"https://stackoverflow.com/questions/66430731/job-graph-too-large-to-submit-to-google-cloud-dataflow/66430732#66430732\">stack link</a> for more information."},{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1670489044,"post_id":74662043,"comment_id":131888416,"body_markdown":"Hi @WasifKirmani, Did the above comment help you in resolving the issue?","body":"Hi @WasifKirmani, Did the above comment help you in resolving the issue?"}],"answers":[{"tags":[],"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670497957,"creation_date":1670497957,"answer_id":74729405,"question_id":74662043,"body_markdown":"This issue is caused because the [job graph is too large](https://cloud.google.com/dataflow/docs/guides/common-errors#job-graph-too-large).\r\n\r\nThe Issue can be resolved by including the flag `--experiments=upload_graph` in the code.\r\n\r\nFor more information this [code](https://github.com/apache/beam/blob/master/runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/DataflowRunner.java#L881) and [stack link](https://stackoverflow.com/questions/66430731/job-graph-too-large-to-submit-to-google-cloud-dataflow/66430732#66430732) can be referred.","title":"Apache Beam With GCP Dataflow throws INVALID_ARGUMENT","body":"<p>This issue is caused because the <a href=\"https://cloud.google.com/dataflow/docs/guides/common-errors#job-graph-too-large\" rel=\"nofollow noreferrer\">job graph is too large</a>.</p>\n<p>The Issue can be resolved by including the flag <code>--experiments=upload_graph</code> in the code.</p>\n<p>For more information this <a href=\"https://github.com/apache/beam/blob/master/runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/DataflowRunner.java#L881\" rel=\"nofollow noreferrer\">code</a> and <a href=\"https://stackoverflow.com/questions/66430731/job-graph-too-large-to-submit-to-google-cloud-dataflow/66430732#66430732\">stack link</a> can be referred.</p>\n"}],"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74729405,"answer_count":1,"score":0,"last_activity_date":1670497957,"creation_date":1670019232,"question_id":74662043,"body_markdown":"I have been trying to migrate data from one BigQuery project to another BigQuery project. When I try to execute it for 20 tables it works fine. But, whenever try to add more tables then it crashes with :\r\n\r\n&gt; Reporting job status failed with error code: INVALID_ARGUMENT\r\n\r\nMy Code looks like:\r\n\r\n    PCollection&lt;TableRow&gt; rows;\r\n    List&lt;String&gt; tablesNames = fetchTablesFromSourceBigQuery();\r\n    PipelineOptionsFactory.register(MyOptions.class);\r\n    MyOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().as(MyOptions.class);\r\n    Pipeline p = Pipeline.create(options);\r\n    for(String tableName: tableNames){\r\n       rows = p.apply(&quot;Reading from table&quot;,  BigQueryIO.readTableRows().from(&quot;sourceProject:sourceDataset.&quot;+tableName);\r\n       rows.apply(&quot;Writing to table&quot;, BigQueryIO.writeTableRows().to(&quot;destProject:destDataset.&quot;+tableName);\r\n    }\r\n    p.run();\r\n\r\n","title":"Apache Beam With GCP Dataflow throws INVALID_ARGUMENT","body":"<p>I have been trying to migrate data from one BigQuery project to another BigQuery project. When I try to execute it for 20 tables it works fine. But, whenever try to add more tables then it crashes with :</p>\n<blockquote>\n<p>Reporting job status failed with error code: INVALID_ARGUMENT</p>\n</blockquote>\n<p>My Code looks like:</p>\n<pre><code>PCollection&lt;TableRow&gt; rows;\nList&lt;String&gt; tablesNames = fetchTablesFromSourceBigQuery();\nPipelineOptionsFactory.register(MyOptions.class);\nMyOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().as(MyOptions.class);\nPipeline p = Pipeline.create(options);\nfor(String tableName: tableNames){\n   rows = p.apply(&quot;Reading from table&quot;,  BigQueryIO.readTableRows().from(&quot;sourceProject:sourceDataset.&quot;+tableName);\n   rows.apply(&quot;Writing to table&quot;, BigQueryIO.writeTableRows().to(&quot;destProject:destDataset.&quot;+tableName);\n}\np.run();\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7708573,"reputation":685,"user_id":5838755,"display_name":"Taron Qalashyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670497919,"creation_date":1670497919,"answer_id":74729399,"question_id":74729360,"body_markdown":"You have to move the task that updates the UI onto the main thread. \r\nTry like this\r\n\r\n    runOnUiThread(new Runnable() {\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            // UI Updates\r\n    \r\n        }\r\n    });","title":"Android Studio &quot;Only the original thread that created a view hierarchy can touch its views.&quot;","body":"<p>You have to move the task that updates the UI onto the main thread.\nTry like this</p>\n<pre><code>runOnUiThread(new Runnable() {\n\n    @Override\n    public void run() {\n\n        // UI Updates\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":14014018,"reputation":81,"user_id":10121983,"display_name":"ckhgray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670497919,"creation_date":1670497754,"question_id":74729360,"body_markdown":"I am getting data from a RoomDB then using a custom adapter to present this data in a recycler view.\r\n\r\nBut I am occasionally getting this error, &quot;Only the original thread that created a view hierarchy can touch its views.&quot;\r\n\r\nThis is where the error happens\r\n\r\n```\r\n((MyActivity)context).runOnUiThread(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n\r\n                                            setData();\r\n                                        }\r\n                                    });\r\n```\r\n\r\nI don&#39;t understand what is from as I am using the context of the activity the recycler view is in and then running the thread on the UI thread.","title":"Android Studio &quot;Only the original thread that created a view hierarchy can touch its views.&quot;","body":"<p>I am getting data from a RoomDB then using a custom adapter to present this data in a recycler view.</p>\n<p>But I am occasionally getting this error, &quot;Only the original thread that created a view hierarchy can touch its views.&quot;</p>\n<p>This is where the error happens</p>\n<pre><code>((MyActivity)context).runOnUiThread(new Runnable() {\n                                        @Override\n                                        public void run() {\n\n                                            setData();\n                                        }\n                                    });\n</code></pre>\n<p>I don't understand what is from as I am using the context of the activity the recycler view is in and then running the thread on the UI thread.</p>\n"},{"tags":["java","spring","project-reactor","reactive","webflux"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632318803,"creation_date":1632318803,"answer_id":69285676,"question_id":69285478,"body_markdown":"The following should work:\r\n```java\r\nMap&lt;String,List&lt;Data&gt;&gt; dataMap = \r\n    list.stream().collect(groupingBy(Data::getSharedId));\r\n```","title":"Project reactor, Convert Flux into Map&lt;String,List&lt;Data&gt;&gt;","body":"<p>The following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,List&lt;Data&gt;&gt; dataMap = \n    list.stream().collect(groupingBy(Data::getSharedId));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632319816,"creation_date":1632319342,"answer_id":69285823,"question_id":69285478,"body_markdown":"Stream API is not equal to Reactive API and they are *not interchangeable*.\r\n\r\n___\r\n\r\nUse **Stream API** for grouping into `Map&lt;String, List&lt;Data&gt;&gt;` from `List&lt;Data&gt;`:\r\n\r\n```\r\nMap&lt;String,List&lt;Data&gt;&gt; dataMap = list.stream()\r\n\t.collect(Collectors.groupingBy(Data::getSharedId));\r\n```\r\n\r\nUsing **Reactive API** to achieve you achieve `Flux&lt;GroupedFlux&lt;String, Data&gt;&gt;` analogically or expand the structure using `Map.Entry`:\r\n\r\n```\r\nFlux&lt;GroupedFlux&lt;String, Data&gt;&gt; groupedFlux = Flux.fromIterable(list)\r\n\t.groupBy(Data::getSharedId);\r\n```\r\n```\r\nFlux&lt;Map.Entry&lt;String, List&lt;Data&gt;&gt;&gt; groupedFlux = Flux.fromIterable(list)\r\n\t.groupBy(Data::getSharedId)\r\n\t.flatMap(group -&gt; group\r\n\t\t.collectList()\r\n\t\t.map(listOfData -&gt; Map.entry(group.key(), listOfData)));\r\n```","title":"Project reactor, Convert Flux into Map&lt;String,List&lt;Data&gt;&gt;","body":"<p>Stream API is not equal to Reactive API and they are <em>not interchangeable</em>.</p>\n<hr />\n<p>Use <strong>Stream API</strong> for grouping into <code>Map&lt;String, List&lt;Data&gt;&gt;</code> from <code>List&lt;Data&gt;</code>:</p>\n<pre><code>Map&lt;String,List&lt;Data&gt;&gt; dataMap = list.stream()\n    .collect(Collectors.groupingBy(Data::getSharedId));\n</code></pre>\n<p>Using <strong>Reactive API</strong> to achieve you achieve <code>Flux&lt;GroupedFlux&lt;String, Data&gt;&gt;</code> analogically or expand the structure using <code>Map.Entry</code>:</p>\n<pre><code>Flux&lt;GroupedFlux&lt;String, Data&gt;&gt; groupedFlux = Flux.fromIterable(list)\n    .groupBy(Data::getSharedId);\n</code></pre>\n<pre><code>Flux&lt;Map.Entry&lt;String, List&lt;Data&gt;&gt;&gt; groupedFlux = Flux.fromIterable(list)\n    .groupBy(Data::getSharedId)\n    .flatMap(group -&gt; group\n        .collectList()\n        .map(listOfData -&gt; Map.entry(group.key(), listOfData)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27188655,"reputation":31,"user_id":20722778,"display_name":"MilGrab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670497551,"creation_date":1670497551,"answer_id":74729314,"question_id":69285478,"body_markdown":"With regards to previous answers from Nikolas &amp; Joao you could also use:\r\n\r\n    Mono&lt;Map&lt;String, Collection&lt;Data&gt;&gt;&gt; mapCollection = Flux.fromIterable(list)                                       \r\n                                                  .collectMultimap(Data::getSharedId, item -&gt; item);\r\n\r\nyou can map further to specific collection if it needs to be a list:\r\n\r\n    Mono&lt;Map&lt;String, List&lt;Data&gt;&gt;&gt; mapList = mapCollection\r\n        .map(map -&gt; map\r\n            .entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(Entry::getKey, e -&gt; List.copyOf(e.getValue()))))\r\n\r\nor use:\r\n\r\n    Mono&lt;Map&lt;String, List&lt;Data&gt;&gt;&gt; mapList2 = Mono.just(list)\r\n                                             .map(l -&gt; l.stream().collect(Collectors.groupingBy(Data::getSharedId)));\r\n\r\n","title":"Project reactor, Convert Flux into Map&lt;String,List&lt;Data&gt;&gt;","body":"<p>With regards to previous answers from Nikolas &amp; Joao you could also use:</p>\n<pre><code>Mono&lt;Map&lt;String, Collection&lt;Data&gt;&gt;&gt; mapCollection = Flux.fromIterable(list)                                       \n                                              .collectMultimap(Data::getSharedId, item -&gt; item);\n</code></pre>\n<p>you can map further to specific collection if it needs to be a list:</p>\n<pre><code>Mono&lt;Map&lt;String, List&lt;Data&gt;&gt;&gt; mapList = mapCollection\n    .map(map -&gt; map\n        .entrySet()\n        .stream()\n        .collect(Collectors.toMap(Entry::getKey, e -&gt; List.copyOf(e.getValue()))))\n</code></pre>\n<p>or use:</p>\n<pre><code>Mono&lt;Map&lt;String, List&lt;Data&gt;&gt;&gt; mapList2 = Mono.just(list)\n                                         .map(l -&gt; l.stream().collect(Collectors.groupingBy(Data::getSharedId)));\n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69285823,"answer_count":3,"score":2,"last_activity_date":1670497551,"creation_date":1632318167,"question_id":69285478,"body_markdown":"I have a `list` of `Data` object \r\n\r\n    public class Data{\r\n        private String id;\r\n        private String sharedId;\r\n    }\r\n\r\nHow to convert this `list` into `Map&lt;String,List&lt;Data&gt;&gt;`, collecting the `data object` sharing the same `sharedId` together \r\n\r\n\r\nI have tried to use this line of code, but no luck\r\n\r\n    Map&lt;String,List&lt;Data&gt;&gt; dataMap= Flux.fromIterable(list)\r\n            .collectMap(item-&gt; item.getSharedId(),\r\n                    item-&gt; item);\r\n\r\n\r\n","title":"Project reactor, Convert Flux into Map&lt;String,List&lt;Data&gt;&gt;","body":"<p>I have a <code>list</code> of <code>Data</code> object</p>\n<pre><code>public class Data{\n    private String id;\n    private String sharedId;\n}\n</code></pre>\n<p>How to convert this <code>list</code> into <code>Map&lt;String,List&lt;Data&gt;&gt;</code>, collecting the <code>data object</code> sharing the same <code>sharedId</code> together</p>\n<p>I have tried to use this line of code, but no luck</p>\n<pre><code>Map&lt;String,List&lt;Data&gt;&gt; dataMap= Flux.fromIterable(list)\n        .collectMap(item-&gt; item.getSharedId(),\n                item-&gt; item);\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598983587,"creation_date":1598983587,"answer_id":63693166,"question_id":63692195,"body_markdown":"Kindly use below code to achieve this.\r\n\r\n```\r\n    String contact = &quot;+92 3122804640&quot;; // use country code with your phone number\r\n        String url = &quot;https://api.whatsapp.com/send?phone=&quot; + contact;\r\n        try {\r\n            PackageManager pm = getApplicationContext().getPackageManager();\r\n            pm.getPackageInfo(&quot;com.whatsapp&quot;, PackageManager.GET_ACTIVITIES);\r\n            Intent i = new Intent(Intent.ACTION_VIEW);\r\n            i.setData(Uri.parse(url));\r\n            startActivity(i);\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            Toast.makeText(MainActivity.this, &quot;Whatsapp app not installed in your phone&quot;, Toast.LENGTH_SHORT).show();\r\n            e.printStackTrace();\r\n        }\r\n```\r\n","title":"open specific whatsapp contact from my android app","body":"<p>Kindly use below code to achieve this.</p>\n<pre><code>    String contact = &quot;+92 3122804640&quot;; // use country code with your phone number\n        String url = &quot;https://api.whatsapp.com/send?phone=&quot; + contact;\n        try {\n            PackageManager pm = getApplicationContext().getPackageManager();\n            pm.getPackageInfo(&quot;com.whatsapp&quot;, PackageManager.GET_ACTIVITIES);\n            Intent i = new Intent(Intent.ACTION_VIEW);\n            i.setData(Uri.parse(url));\n            startActivity(i);\n        } catch (PackageManager.NameNotFoundException e) {\n            Toast.makeText(MainActivity.this, &quot;Whatsapp app not installed in your phone&quot;, Toast.LENGTH_SHORT).show();\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16210155,"reputation":179,"user_id":14160951,"display_name":"Hridoy Krisna Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630412865,"creation_date":1630412550,"answer_id":68998599,"question_id":63692195,"body_markdown":"I am Using This:\r\n\r\n    \r\n                String phone = &quot;+8801510101010&quot;;\r\n\r\n                PackageManager packageManager = MainActivity.this.getPackageManager();\r\n                Intent i = new Intent(Intent.ACTION_VIEW);\r\n\r\n                try {\r\n                    String url = &quot;https://api.whatsapp.com/send?phone=&quot;+ phone;\r\n                    i.setPackage(&quot;com.whatsapp&quot;);\r\n                    i.setData(Uri.parse(url));\r\n                    if (i.resolveActivity(packageManager) != null) {\r\n                        MainActivity.this.startActivity(i);\r\n                    }\r\n                } catch (Exception e){\r\n                    e.printStackTrace();\r\n                }","title":"open specific whatsapp contact from my android app","body":"<p>I am Using This:</p>\n<pre><code>            String phone = &quot;+8801510101010&quot;;\n\n            PackageManager packageManager = MainActivity.this.getPackageManager();\n            Intent i = new Intent(Intent.ACTION_VIEW);\n\n            try {\n                String url = &quot;https://api.whatsapp.com/send?phone=&quot;+ phone;\n                i.setPackage(&quot;com.whatsapp&quot;);\n                i.setData(Uri.parse(url));\n                if (i.resolveActivity(packageManager) != null) {\n                    MainActivity.this.startActivity(i);\n                }\n            } catch (Exception e){\n                e.printStackTrace();\n            }\n</code></pre>\n"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68998599,"answer_count":2,"score":2,"last_activity_date":1670497421,"creation_date":1598979382,"question_id":63692195,"body_markdown":"I want to open a specific contact in my whatsapp by clicking a button I am using this code but it is not working.\r\n\r\n     btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Uri uri = Uri.parse(&quot;smsto:&quot;+&quot;923000000000&quot;);\r\n                Intent i = new Intent(Intent.ACTION_SENDTO,uri);\r\n                i.setPackage(&quot;com.whatsapp&quot;);\r\n                startActivity(i);\r\nPlease guide me.","title":"open specific whatsapp contact from my android app","body":"<p>I want to open a specific contact in my whatsapp by clicking a button I am using this code but it is not working.</p>\n<pre><code> btn1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Uri uri = Uri.parse(&quot;smsto:&quot;+&quot;923000000000&quot;);\n            Intent i = new Intent(Intent.ACTION_SENDTO,uri);\n            i.setPackage(&quot;com.whatsapp&quot;);\n            startActivity(i);\n</code></pre>\n<p>Please guide me.</p>\n"},{"tags":["java","synchronization","timer","monitor"],"answers":[{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1251111635,"creation_date":1251111635,"answer_id":1321718,"question_id":1321620,"body_markdown":"You would be better using an [ScheduledExecutorService][1] instead of a Timer to schedule your periodic task. ScheduledExecutorService provides a shutdown() method that will execute any pending tasks. You can then call awaitTermination() to wait for shutdown() to finish.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"Waiting for a Timer to finish in Java","body":"<p>You would be better using an <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"noreferrer\">ScheduledExecutorService</a> instead of a Timer to schedule your periodic task. ScheduledExecutorService provides a shutdown() method that will execute any pending tasks. You can then call awaitTermination() to wait for shutdown() to finish.</p>\n"},{"tags":[],"owner":{"account_id":52103,"reputation":4428,"user_id":155684,"accept_rate":92,"display_name":"Keshav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251118598,"creation_date":1251117501,"answer_id":1322129,"question_id":1321620,"body_markdown":"Something like below might help your needs-\r\n\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n\r\n    public class TimerGracefulShutdown {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t//This is a synchronization helper class\r\n    \t\tSyncHelper syncHelper = new SyncHelper();\r\n    \t\t\r\n    \t\tTimerManager myTimerManager = new TimerManager(syncHelper);\r\n    \t\t\r\n    \t\t//Try stopping timer after 5 seconds (it wont stop until the 30 seconds sleep of timertask does not finish)\r\n    \t\tThread.currentThread().sleep(5000);\r\n    \t\tSystem.out.println(&quot;Going to stop my timer now&quot;);\r\n    \t\tmyTimerManager.stopTimer();\r\n    \t\tSystem.out.println(&quot;Cancelled timer&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class TimerManager {\r\n    \t\r\n    \tSyncHelper syncHelper;\r\n    \tTimer timer;\r\n    \t\r\n    \tpublic TimerManager(SyncHelper syncHelper) {\r\n    \t\tthis.syncHelper = syncHelper;\r\n    \t\tstartTimer();\r\n    \t}\r\n    \t\r\n    \tprivate void startTimer() {\r\n    \t\ttimer = new Timer(true);\r\n    \t\tTimerTask myTask = new MyTimerTask(syncHelper);\r\n    \t\ttimer.scheduleAtFixedRate(myTask, 0, 100000);\r\n    \t}\r\n    \t\r\n    \tpublic void stopTimer() {\r\n    \t\ttry {\r\n    \t\t\tsyncHelper.testAndSetOrReset(&quot;acquire&quot;);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\t//Shutdown the timer here since you know that your timertask is not executing right now.\r\n    \t\ttimer.cancel();\r\n    \t\ttry {\r\n    \t\t\tsyncHelper.testAndSetOrReset(&quot;release&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class MyTimerTask extends TimerTask {\r\n    \r\n    \tprivate SyncHelper syncHelper;\r\n    \t\r\n    \tpublic MyTimerTask(SyncHelper syncHelper) {\r\n    \t\tthis.syncHelper = syncHelper;\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tsyncHelper.testAndSetOrReset(&quot;acquire&quot;);\r\n    \t\t} catch (Exception e1) {\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Over here&quot;);\r\n    \t\ttry {\r\n    \t\t\tThread.currentThread().sleep(30000);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Done sleeping&quot;);\r\n    \t\t\r\n    \t\t//Finally release the helper.\r\n    \t\ttry {\r\n    \t\t\tsyncHelper.testAndSetOrReset(&quot;release&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SyncHelper {\r\n    \t\r\n    \tprivate int index = 0;\r\n    \t\r\n    \tpublic synchronized void testAndSetOrReset(String command) throws Exception {\r\n    \t\t\r\n    \t\tif(&quot;acquire&quot;.equals(command)) {\t\r\n    \t\t\tif(index == 1) {\r\n    \t\t\t\twait();\r\n    \t\t\t}\r\n    \t\t\tindex++;\r\n    \t\t} else if(&quot;release&quot;.equals(command)) {\r\n    \t\t\tindex--;\r\n    \t\t\tnotifyAll();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Waiting for a Timer to finish in Java","body":"<p>Something like below might help your needs-</p>\n\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n\npublic class TimerGracefulShutdown {\n    public static void main(String[] args) throws InterruptedException {\n        //This is a synchronization helper class\n        SyncHelper syncHelper = new SyncHelper();\n\n        TimerManager myTimerManager = new TimerManager(syncHelper);\n\n        //Try stopping timer after 5 seconds (it wont stop until the 30 seconds sleep of timertask does not finish)\n        Thread.currentThread().sleep(5000);\n        System.out.println(\"Going to stop my timer now\");\n        myTimerManager.stopTimer();\n        System.out.println(\"Cancelled timer\");\n    }\n}\n\nclass TimerManager {\n\n    SyncHelper syncHelper;\n    Timer timer;\n\n    public TimerManager(SyncHelper syncHelper) {\n        this.syncHelper = syncHelper;\n        startTimer();\n    }\n\n    private void startTimer() {\n        timer = new Timer(true);\n        TimerTask myTask = new MyTimerTask(syncHelper);\n        timer.scheduleAtFixedRate(myTask, 0, 100000);\n    }\n\n    public void stopTimer() {\n        try {\n            syncHelper.testAndSetOrReset(\"acquire\");\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n        //Shutdown the timer here since you know that your timertask is not executing right now.\n        timer.cancel();\n        try {\n            syncHelper.testAndSetOrReset(\"release\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\nclass MyTimerTask extends TimerTask {\n\n    private SyncHelper syncHelper;\n\n    public MyTimerTask(SyncHelper syncHelper) {\n        this.syncHelper = syncHelper;\n    }\n\n    public void run() {\n        try {\n            syncHelper.testAndSetOrReset(\"acquire\");\n        } catch (Exception e1) {\n            e1.printStackTrace();\n        }\n\n        System.out.println(\"Over here\");\n        try {\n            Thread.currentThread().sleep(30000);\n        } catch(Exception e) {\n\n        }\n        System.out.println(\"Done sleeping\");\n\n        //Finally release the helper.\n        try {\n            syncHelper.testAndSetOrReset(\"release\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\nclass SyncHelper {\n\n    private int index = 0;\n\n    public synchronized void testAndSetOrReset(String command) throws Exception {\n\n        if(\"acquire\".equals(command)) { \n            if(index == 1) {\n                wait();\n            }\n            index++;\n        } else if(\"release\".equals(command)) {\n            index--;\n            notifyAll();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25744885,"reputation":31,"user_id":19498294,"display_name":"hasan_cerit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670496988,"creation_date":1670496988,"answer_id":74729185,"question_id":1321620,"body_markdown":"This is my solution with ScheduledExecutorService:\r\n\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    ...\r\n    public void startScheduler() {\r\n        ScheduledExecutorService timerService = Executors.newSingleThreadScheduledExecutor();\r\n        MyTimer myTimer = new MyTimer(timerService);\r\n\r\n        timerService.scheduleAtFixedRate(myTimer, 1, 1, TimeUnit.SECONDS);\r\n        try {\r\n            boolean isTimerDone = timerService.awaitTermination(22, TimeUnit.SECONDS);\r\n            if(!isTimerDone) {\r\n                timerService.shutdown();\r\n            }\r\n            ...\r\n        } catch (InterruptedException e) {\r\n            ...\r\n        }\r\n    }\r\n    ...\r\n\r\n\r\nAnd\r\n\r\n    import java.util.TimerTask;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n\r\n    @RequiredArgsConstructor\r\n    public class MyTimer extends TimerTask {\r\n        private final ScheduledExecutorService scheduledExecutorService;           \r\n\r\n        @Override\r\n        public void run() {\r\n            ...\r\n            if(whenMyBusinessDone) {\r\n                this.cancel();\r\n                scheduledExecutorService.shutdown();\r\n            }\r\n        }\r\n    }","title":"Waiting for a Timer to finish in Java","body":"<p>This is my solution with ScheduledExecutorService:</p>\n<pre><code>import java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\n...\npublic void startScheduler() {\n    ScheduledExecutorService timerService = Executors.newSingleThreadScheduledExecutor();\n    MyTimer myTimer = new MyTimer(timerService);\n\n    timerService.scheduleAtFixedRate(myTimer, 1, 1, TimeUnit.SECONDS);\n    try {\n        boolean isTimerDone = timerService.awaitTermination(22, TimeUnit.SECONDS);\n        if(!isTimerDone) {\n            timerService.shutdown();\n        }\n        ...\n    } catch (InterruptedException e) {\n        ...\n    }\n}\n...\n</code></pre>\n<p>And</p>\n<pre><code>import java.util.TimerTask;\nimport java.util.concurrent.ScheduledExecutorService;\n\n@RequiredArgsConstructor\npublic class MyTimer extends TimerTask {\n    private final ScheduledExecutorService scheduledExecutorService;           \n\n    @Override\n    public void run() {\n        ...\n        if(whenMyBusinessDone) {\n            this.cancel();\n            scheduledExecutorService.shutdown();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25978,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":1321718,"answer_count":3,"score":14,"last_activity_date":1670496988,"creation_date":1251110227,"question_id":1321620,"body_markdown":"I&#39;m using [java.util.Timer][1] to schedule a periodic task. At one point, I&#39;d like to shut it down, and **wait for it to finish**.\r\n\r\n[Timer.cancel()][2] will prevent any future tasks from running. How do I make sure any tasks are not running at the moment (or wait for them if they are?)\r\n\r\nI can introduce external synchronization mechanisms, but I don&#39;t see how they can cover all cases. For example, if I synchronize on some Monitor within the task, I still miss the case when the task just started executing but didn&#39;t take the monitor.\r\n\r\nWhat is the recommended practice for waiting until all tasks are really done, including currently running tasks?\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Timer.html\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Timer.html#cancel()","title":"Waiting for a Timer to finish in Java","body":"<p>I'm using <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Timer.html\" rel=\"noreferrer\">java.util.Timer</a> to schedule a periodic task. At one point, I'd like to shut it down, and <strong>wait for it to finish</strong>.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Timer.html#cancel()\" rel=\"noreferrer\">Timer.cancel()</a> will prevent any future tasks from running. How do I make sure any tasks are not running at the moment (or wait for them if they are?)</p>\n\n<p>I can introduce external synchronization mechanisms, but I don't see how they can cover all cases. For example, if I synchronize on some Monitor within the task, I still miss the case when the task just started executing but didn't take the monitor.</p>\n\n<p>What is the recommended practice for waiting until all tasks are really done, including currently running tasks?</p>\n"},{"tags":["java","callback","closures","overriding"],"answers":[{"tags":[],"owner":{"account_id":7708573,"reputation":685,"user_id":5838755,"display_name":"Taron Qalashyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670496980,"creation_date":1670496980,"answer_id":74729180,"question_id":74729055,"body_markdown":"You need to have a type of Incrementable as a Caller argument.\r\nYou can change this to have the same.\r\n\r\n**old**\r\n\r\n    class Callee2 extends MyIncrement {\r\n        private int i = 0;\r\n        \r\n        \r\n        public void increment() {\r\n            super.increment();\r\n            i++;\r\n            print(i);\r\n        }\r\n    \r\n        private class Closure implements Incrementable {\r\n            \r\n            @Override\r\n            public void increment() {\r\n                Callee2.this.increment();\r\n            }\r\n        }\r\n    \r\n        Incrementable getcallbackReference() {\r\n            return new Closure();\r\n        }\r\n    }\r\n\r\n\r\n**New:**\r\n\r\n    class Callee2 extends MyIncrement implements Incrementable {\r\n        private int i = 0;\r\n    \r\n    \r\n        public void increment() {\r\n            super.increment();\r\n            i++;\r\n            System.out.println(i);\r\n        }\r\n    }","title":"Why can&#39;t it be overridden, if possible?","body":"<p>You need to have a type of Incrementable as a Caller argument.\nYou can change this to have the same.</p>\n<p><strong>old</strong></p>\n<pre><code>class Callee2 extends MyIncrement {\n    private int i = 0;\n    \n    \n    public void increment() {\n        super.increment();\n        i++;\n        print(i);\n    }\n\n    private class Closure implements Incrementable {\n        \n        @Override\n        public void increment() {\n            Callee2.this.increment();\n        }\n    }\n\n    Incrementable getcallbackReference() {\n        return new Closure();\n    }\n}\n</code></pre>\n<p><strong>New:</strong></p>\n<pre><code>class Callee2 extends MyIncrement implements Incrementable {\n    private int i = 0;\n\n\n    public void increment() {\n        super.increment();\n        i++;\n        System.out.println(i);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21883249,"reputation":1,"user_id":16171214,"display_name":"Lenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74729180,"answer_count":1,"score":-2,"last_activity_date":1670496980,"creation_date":1670496360,"question_id":74729055,"body_markdown":"I&#39;m learning Java, I met an example of Closure:\r\n```\r\npublic class Callbacks {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCallee1 c1 = new Callee1();\r\n\t\tCallee2 c2 = new Callee2();\r\n\t\tMyIncrement.f(c2);\r\n\t\tCaller caller1 = new Caller(c1);\r\n\t\tCaller caller2 = new Caller(c2.getcallbackReference());\r\n\t\tcaller1.go();\r\n\t\tcaller1.go();\r\n\t\tcaller2.go();\r\n\t\tcaller2.go();\r\n\r\n\t}\r\n\r\n}\r\n\r\ninterface Incrementable {\r\n\tvoid increment();\r\n}\r\n\r\nclass Callee1 implements Incrementable {\r\n\tprivate int i = 0;\r\n\r\n\t@Override\r\n\tpublic void increment() {\r\n\t\ti++;\r\n\t\tprint(i);\r\n\t}\r\n}\r\n\r\nclass MyIncrement {\r\n\tpublic void increment() {\r\n\t\tSystem.out.println(&quot;another operation&quot;);\r\n\t}\r\n\r\n\tpublic static void f(MyIncrement m) {\r\n\t\tm.increment();\r\n\t}\r\n}\r\n\r\n\r\nclass Callee2 extends MyIncrement {\r\n\tprivate int i = 0;\r\n\t\r\n\t\r\n\tpublic void increment() {\r\n\t\tsuper.increment();\r\n\t\ti++;\r\n\t\tprint(i);\r\n\t}\r\n\r\n\tprivate class Closure implements Incrementable {\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void increment() {\r\n\t\t\tCallee2.this.increment();\r\n\t\t}\r\n\t}\r\n\r\n\tIncrementable getcallbackReference() {\r\n\t\treturn new Closure();\r\n\t}\r\n}\r\n\r\nclass Caller {\r\n\tIncrementable callbackRegerence;\r\n\r\n\tCaller(Incrementable cbh) {\r\n\t\tcallbackRegerence = cbh;\r\n\t}\r\n\r\n\tvoid go() {\r\n\t\tcallbackRegerence.increment();\r\n\t}\r\n}\r\n```\r\nComment from the author of the example : \r\n\r\n&gt; When Mylncrement is inherited into Callee2, increment( ) can’t be overridden for use by Incrementable, so you’re forced to provide a separate implementation using an inner class.\r\n\r\n\r\nMy question is: What? Why can&#39;t we? We **can** override it  in the Callee2 class or did I misunderstand the author? \r\nPlease explain what he wanted to say with this comment.\r\n\r\n","title":"Why can&#39;t it be overridden, if possible?","body":"<p>I'm learning Java, I met an example of Closure:</p>\n<pre><code>public class Callbacks {\n\n    public static void main(String[] args) {\n        Callee1 c1 = new Callee1();\n        Callee2 c2 = new Callee2();\n        MyIncrement.f(c2);\n        Caller caller1 = new Caller(c1);\n        Caller caller2 = new Caller(c2.getcallbackReference());\n        caller1.go();\n        caller1.go();\n        caller2.go();\n        caller2.go();\n\n    }\n\n}\n\ninterface Incrementable {\n    void increment();\n}\n\nclass Callee1 implements Incrementable {\n    private int i = 0;\n\n    @Override\n    public void increment() {\n        i++;\n        print(i);\n    }\n}\n\nclass MyIncrement {\n    public void increment() {\n        System.out.println(&quot;another operation&quot;);\n    }\n\n    public static void f(MyIncrement m) {\n        m.increment();\n    }\n}\n\n\nclass Callee2 extends MyIncrement {\n    private int i = 0;\n    \n    \n    public void increment() {\n        super.increment();\n        i++;\n        print(i);\n    }\n\n    private class Closure implements Incrementable {\n        \n        @Override\n        public void increment() {\n            Callee2.this.increment();\n        }\n    }\n\n    Incrementable getcallbackReference() {\n        return new Closure();\n    }\n}\n\nclass Caller {\n    Incrementable callbackRegerence;\n\n    Caller(Incrementable cbh) {\n        callbackRegerence = cbh;\n    }\n\n    void go() {\n        callbackRegerence.increment();\n    }\n}\n</code></pre>\n<p>Comment from the author of the example :</p>\n<blockquote>\n<p>When Mylncrement is inherited into Callee2, increment( ) can’t be overridden for use by Incrementable, so you’re forced to provide a separate implementation using an inner class.</p>\n</blockquote>\n<p>My question is: What? Why can't we? We <strong>can</strong> override it  in the Callee2 class or did I misunderstand the author?\nPlease explain what he wanted to say with this comment.</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670496586,"creation_date":1670496586,"answer_id":74729097,"question_id":74445291,"body_markdown":"Read what the [JPA specification][1] says about this, which is\r\n\r\n&gt; The persistence context is not synchronized with the result of the bulk update or delete.\r\n\r\n&gt;Caution should be used when executing bulk update or delete operations because they may result in inconsistencies between the database and the entities in the active persistence context. In general, bulk update and delete operations should only be performed within a transaction in a new persistence context or before fetching or accessing entities whose state might be affected by such operations.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5636","title":"Why update Object with HQL does not work in Java application?","body":"<p>Read what the <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5636\" rel=\"nofollow noreferrer\">JPA specification</a> says about this, which is</p>\n<blockquote>\n<p>The persistence context is not synchronized with the result of the bulk update or delete.</p>\n</blockquote>\n<blockquote>\n<p>Caution should be used when executing bulk update or delete operations because they may result in inconsistencies between the database and the entities in the active persistence context. In general, bulk update and delete operations should only be performed within a transaction in a new persistence context or before fetching or accessing entities whose state might be affected by such operations.</p>\n</blockquote>\n"}],"owner":{"account_id":16163470,"reputation":31,"user_id":11668975,"display_name":"developers_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670496586,"creation_date":1668513755,"question_id":74445291,"body_markdown":"I want to update a property of an object. I update this object through HQL query like this: \r\n\r\n    update Product set availableCount =(availableCount + :avCount), purchaseCount=(purchaseCount + :pCount) where id=:pId\r\n\r\nbut the changes are not apply in object(Product). but I&#39;m trying this by Hiberant Update() method every thig is Okay and final result has been applied in correct way!\r\n\r\nwhat is the reason of this problem about using Hql for Update?!","title":"Why update Object with HQL does not work in Java application?","body":"<p>I want to update a property of an object. I update this object through HQL query like this:</p>\n<pre><code>update Product set availableCount =(availableCount + :avCount), purchaseCount=(purchaseCount + :pCount) where id=:pId\n</code></pre>\n<p>but the changes are not apply in object(Product). but I'm trying this by Hiberant Update() method every thig is Okay and final result has been applied in correct way!</p>\n<p>what is the reason of this problem about using Hql for Update?!</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670496455,"creation_date":1670496455,"answer_id":74729075,"question_id":74444778,"body_markdown":"Since the result of the query are managed entities, filtering the collection is problematic. When your transaction finishes, the filtered out elements might be removed so it&#39;s important that you immediately detach all entities after such a query e.g. via `entityManager.clear()`.\r\n\r\nYou can try to cast a fetch to a join i.e. `((Join&lt;?, ?&gt;) root.fetch(&quot;b&quot;)).get(&quot;property&quot;)`, but be careful.\r\n\r\nI&#39;d rather suggest you to look into Hibernate filters or use a DTO model for this. For the DTO approach, I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(A.class)\r\n    public interface ADto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        @Mapping(&quot;b[property1 = &#39;ABC&#39;]&quot;)\r\n        Set&lt;BDto&gt; getB();\r\n\r\n        @EntityView(B.class)\r\n        interface BDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getProperty2();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`ADto a = entityViewManager.find(entityManager, ADto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;ADto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Filtering by properties in OneToMany relation table","body":"<p>Since the result of the query are managed entities, filtering the collection is problematic. When your transaction finishes, the filtered out elements might be removed so it's important that you immediately detach all entities after such a query e.g. via <code>entityManager.clear()</code>.</p>\n<p>You can try to cast a fetch to a join i.e. <code>((Join&lt;?, ?&gt;) root.fetch(&quot;b&quot;)).get(&quot;property&quot;)</code>, but be careful.</p>\n<p>I'd rather suggest you to look into Hibernate filters or use a DTO model for this. For the DTO approach, I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(A.class)\npublic interface ADto {\n    @IdMapping\n    Long getId();\n    String getName();\n    @Mapping(&quot;b[property1 = 'ABC']&quot;)\n    Set&lt;BDto&gt; getB();\n\n    @EntityView(B.class)\n    interface BDto {\n        @IdMapping\n        Long getId();\n        String getProperty2();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>ADto a = entityViewManager.find(entityManager, ADto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;ADto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":16432224,"reputation":1,"user_id":11870756,"display_name":"Patryk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670496455,"creation_date":1668511266,"question_id":74444778,"body_markdown":"I have a problem with filtering the table by properties in the table with which it is related to OneToMany, preview\r\n\r\n    class A {\r\n\r\n    @OneToMany(fetch.. mappedBy)\r\n    private List&lt;B&gt; b;\r\n    \r\n    }\r\n    class B {\r\n    private String property1;\r\n    private String property2;\r\n    }\r\n\r\nUsing the specification I make a join, it adds a Predicate which says we only want to fetch those with property1 = &quot;ABC&quot;, (root.join(B).get(property1).equals(&quot;ABC&quot;). In this case, it will fetch me all objects of class A that have at least one B record that meets the given criteria. My problem is that I would also like Class B objects to be filtered by the given criteria if the criteria are for class B, how to go about it? At the moment, I have two queries, one to download all A that meet the given criteria, the second query to download all B that are in relation to the found A. I would like to ask you to indicate which way to choose to solve this challenge :)\r\n\r\n\r\nI tried different fetchmodes etc but didnt help","title":"Filtering by properties in OneToMany relation table","body":"<p>I have a problem with filtering the table by properties in the table with which it is related to OneToMany, preview</p>\n<pre><code>class A {\n\n@OneToMany(fetch.. mappedBy)\nprivate List&lt;B&gt; b;\n\n}\nclass B {\nprivate String property1;\nprivate String property2;\n}\n</code></pre>\n<p>Using the specification I make a join, it adds a Predicate which says we only want to fetch those with property1 = &quot;ABC&quot;, (root.join(B).get(property1).equals(&quot;ABC&quot;). In this case, it will fetch me all objects of class A that have at least one B record that meets the given criteria. My problem is that I would also like Class B objects to be filtered by the given criteria if the criteria are for class B, how to go about it? At the moment, I have two queries, one to download all A that meet the given criteria, the second query to download all B that are in relation to the found A. I would like to ask you to indicate which way to choose to solve this challenge :)</p>\n<p>I tried different fetchmodes etc but didnt help</p>\n"},{"tags":["java","greasemonkey","tampermonkey"],"answers":[{"tags":[],"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670496253,"creation_date":1670496253,"answer_id":74729030,"question_id":74728140,"body_markdown":"You could select every `td:nth-child(4)` using [`document.querySelectorAll()`](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll). Then for each `td` change its [`innerHTML`](https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML) property so as to transform it into an anchor element :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let tds = document.querySelectorAll(&quot;td:nth-child(4)&quot;);\r\n    for(td of tds){\r\n      td.innerHTML = &quot;&lt;a href=&#39;&quot; + td.innerText + &quot;&#39;&gt;&quot; + td.innerText + &quot;&lt;/a&gt;&quot;;\r\n    }\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    table, th, td {\r\n      border: solid 1px black;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table&gt;\r\n      &lt;tr&gt;\r\n        &lt;th&gt;1&lt;/th&gt;\r\n        &lt;th&gt;2&lt;/th&gt;\r\n        &lt;th&gt;3&lt;/th&gt;\r\n        &lt;th&gt;url&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;4&lt;/td&gt;\r\n        &lt;td&gt;5&lt;/td&gt;\r\n        &lt;td&gt;6&lt;/td&gt;\r\n        &lt;td&gt;foo.bar&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;7&lt;/td&gt;\r\n        &lt;td&gt;8&lt;/td&gt;\r\n        &lt;td&gt;9&lt;/td&gt;\r\n        &lt;td&gt;bar.foo&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Grease monkey/ Tampermonkey Turning text into a link via selecting an Selector","body":"<p>You could select every <code>td:nth-child(4)</code> using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\"><code>document.querySelectorAll()</code></a>. Then for each <code>td</code> change its <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML\" rel=\"nofollow noreferrer\"><code>innerHTML</code></a> property so as to transform it into an anchor element :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let tds = document.querySelectorAll(\"td:nth-child(4)\");\nfor(td of tds){\n  td.innerHTML = \"&lt;a href='\" + td.innerText + \"'&gt;\" + td.innerText + \"&lt;/a&gt;\";\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table, th, td {\n  border: solid 1px black;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;1&lt;/th&gt;\n    &lt;th&gt;2&lt;/th&gt;\n    &lt;th&gt;3&lt;/th&gt;\n    &lt;th&gt;url&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;4&lt;/td&gt;\n    &lt;td&gt;5&lt;/td&gt;\n    &lt;td&gt;6&lt;/td&gt;\n    &lt;td&gt;foo.bar&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;7&lt;/td&gt;\n    &lt;td&gt;8&lt;/td&gt;\n    &lt;td&gt;9&lt;/td&gt;\n    &lt;td&gt;bar.foo&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":12839145,"reputation":71,"user_id":9287704,"display_name":"StandardCitizen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670496253,"creation_date":1670491965,"question_id":74728140,"body_markdown":"I&#39;m once again asking simple questions, please forgive my level of knowledge. Thanks for reading the question. \r\n\r\n\r\nI&#39;m trying to create a link from the data within a `td:nth-child(4)`, its the location within a table. \r\n\r\nThe data within the table looks something like `example.com`\r\n\r\nI want to create a ahref, so I can click this.\r\n\r\n\r\nThanks for the help. \r\n\r\n","title":"Grease monkey/ Tampermonkey Turning text into a link via selecting an Selector","body":"<p>I'm once again asking simple questions, please forgive my level of knowledge. Thanks for reading the question.</p>\n<p>I'm trying to create a link from the data within a <code>td:nth-child(4)</code>, its the location within a table.</p>\n<p>The data within the table looks something like <code>example.com</code></p>\n<p>I want to create a ahref, so I can click this.</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","arraylist","methods","boolean"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1670224868,"post_id":74684504,"comment_id":131817661,"body_markdown":"If only `return true;` is returned then there is no point doing it.  Also fail to see what is in-efficient.","body":"If only <code>return true;</code> is returned then there is no point doing it.  Also fail to see what is in-efficient."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":2,"creation_date":1670230874,"post_id":74684504,"comment_id":131819408,"body_markdown":"Try having a single `abstract class Item`, and have subclasses `CampingItem`, `ToyItem`, etc.  This way, `addToInventiory` simply adds to the list - no more code changes just because you have added a new type of item.","body":"Try having a single <code>abstract class Item</code>, and have subclasses <code>CampingItem</code>, <code>ToyItem</code>, etc.  This way, <code>addToInventiory</code> simply adds to the list - no more code changes just because you have added a new type of item."},{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1670255952,"post_id":74684504,"comment_id":131828411,"body_markdown":"Is this a form with radio buttons, or with checkboxes? You can probably do something like `foreach option O in List L { if (checked/selected) { &lt;add item to inventory&gt; } }`","body":"Is this a form with radio buttons, or with checkboxes? You can probably do something like <code>foreach option O in List L { if (checked&#47;selected) { &lt;add item to inventory&gt; } }</code>"}],"answers":[{"tags":[],"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670230692,"creation_date":1670230692,"answer_id":74685585,"question_id":74684504,"body_markdown":"If I were you, I would do an Enum representing every item, and after the operation is done (addition/removal), return that Enum. This way, you will know on which kind of item was performed the operation.\r\n\r\nAlso, in your current code, instead of multiple ifs, it would look better to have a switch case.\r\n","title":"Is there a more efficient way of returning a boolean from a method with multiple objects?","body":"<p>If I were you, I would do an Enum representing every item, and after the operation is done (addition/removal), return that Enum. This way, you will know on which kind of item was performed the operation.</p>\n<p>Also, in your current code, instead of multiple ifs, it would look better to have a switch case.</p>\n"},{"tags":[],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670496224,"creation_date":1670496224,"answer_id":74729022,"question_id":74684504,"body_markdown":"I used @racraman suggestion and created a super class with subclasses for all items so there isn&#39;t this big long argument of item booleans in a method. Since then I have added 10 new objects so that list would have been pretty long and ugly to repeat everytime! ","title":"Is there a more efficient way of returning a boolean from a method with multiple objects?","body":"<p>I used @racraman suggestion and created a super class with subclasses for all items so there isn't this big long argument of item booleans in a method. Since then I have added 10 new objects so that list would have been pretty long and ugly to repeat everytime!</p>\n"}],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1670496224,"creation_date":1670224348,"question_id":74684504,"body_markdown":"Pardon my phrasing of the question, I&#39;m still fairly new to Java so I wasn&#39;t sure how to word it. Basically, I have created an inventory and added 2 different methods:\r\n\r\n```\r\npublic class Inventory \r\n{\t\r\n\tString name;\r\n\tItems myItems = new Items();\r\n\tboolean addFoodItem;\r\n\tboolean addDrinkItem;\r\n\tboolean addToyItem;\r\n\tboolean addCampingItem;\r\n\r\n    boolean removeFoodItem;\r\n    boolean removeDrinkItem;\r\n    boolean removeToyItem;\r\n    boolean removeCampingItem;\r\n\r\n\t\r\n\tArrayList&lt;Objects&gt; inventory = new ArrayList&lt;Objects&gt;();\r\n\tObjects myObjects = new Objects(name);\r\n\t\r\n\tpublic boolean AddToInventory (boolean addFoodItem, boolean addDrinkItem, boolean addToyItem, boolean addCampingItem)\r\n\t{\r\n\t\tif (addFoodItem)\r\n\t\t{\r\n\t\t\tinventory.add(myItems.foodItem);\r\n\t\t\tSystem.out.println(&quot;You have added 1 &quot; + myItems.FoodItem.name + &quot; to your \r\n            inventory.&quot;);\r\n\t\t}\r\n\r\n        if (addDrinkItem)\r\n\t\t{\r\n\t\t\tinventory.add(myItems.drinkItem);\r\n\t\t\tSystem.out.println(&quot;You have added 1 &quot; + myItems.DrinkItem.name + &quot; to your \r\n            inventory.&quot;);\r\n\t\t}\r\n\r\n        if (addToyItem)\r\n\t\t{\r\n\t\t\tinventory.add(myItems.toyItem);\r\n\t\t\tSystem.out.println(&quot;You have added 1 &quot; + myItems.ToyItem.name + &quot; to your \r\n            inventory.&quot;);\r\n\t\t}\r\n\r\n        if (addCampingItem)\r\n\t\t{\r\n\t\t\tinventory.add(myItems.campingItem);\r\n\t\t\tSystem.out.println(&quot;You have added 1 &quot; + myItems.CampingItem.name + &quot; to your \r\n            inventory.&quot;);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic boolean RemoveFromInventory(boolean removeFoodItem, boolean removeDrinkItem, boolean \r\n                                       removeToyItem, boolean removeCampingItem)\r\n\t{\t\t\t\r\n\t\tif (removeFoodItem)\r\n\t\t{\r\n\t\t\tinventory.remove(myItems.foodItem);\r\n\t\t\tSystem.out.println(&quot;You have used 1 &quot; + myItems.foodItem.name + &quot; from your \r\n                                inventory.&quot;);\r\n\t\t}\r\n\r\n        if (removeDrinkItem)\r\n\t\t{\r\n\t\t\tinventory.remove(myItems.drinkItem);\r\n\t\t\tSystem.out.println(&quot;You have used 1 &quot; + myItems.drinkItem.name + &quot; from your \r\n                                inventory.&quot;);\r\n\t\t}\r\n\r\n        if (removeToyItem)\r\n\t\t{\r\n\t\t\tinventory.remove(myItems.toyItem);\r\n\t\t\tSystem.out.println(&quot;You have used 1 &quot; + myItems.toyItem.name + &quot; from your \r\n                                inventory.&quot;);\r\n\t\t}\r\n\r\n        if (removeCampingItem)\r\n\t\t{\r\n\t\t\tinventory.remove(myItems.campingItem);\r\n\t\t\tSystem.out.println(&quot;You have used 1 &quot; + myItems.campingItem.name + &quot; from your \r\n                                inventory.&quot;);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\t\t\r\n\t\r\n\tpublic void GetInventory()\r\n\t{\r\n\t\tfor (Objects items : inventory)\r\n\t\t{\r\n\t\t    System.out.println(items.name);\r\n\t\t}    \r\n\t}\r\n```\r\n\r\nThere will be more objects that will be added to this script which is why I am looking to see if there is a potentially more efficient way of doing this. The ***Items.java*** class simply creates the objects and the ***Objects.java*** class only returns the name of the object so it can be printed. All of this code works, but as I add more items, I need to keep switching the booleans to true and false in other classes just to have the AddToInventory and RemoveFromInventory methods to run. \r\n\r\nSo my question is, what is a more efficient way of checking if I need to add to and/or remove multiple objects from an inventory (ArrayList). I have considered using a method for each individual check (for add to or subtracting from inventory), but ruled it out as it is not much different from the methods I have above.\r\nThanks everyone!\r\n\r\nMy thoughts behind this are if I call this method from another class and switch the boolean to true, these methods execute the code within the if statement and will either add or remove from the &quot;inventory&quot; ArrayList. The inefficiency that I see is when calling this method from another class, I have to include all the booleans in the arguments for example:\r\n\r\n```\r\nif (//add check here)\r\n{\r\n    Inventory.AddToInventory (boolean addFoodItem = true, boolean \r\n    addDrinkItem = false, boolean addToyItem = false, boolean addCampingItem \r\n    = false)\r\n}\r\n```\r\n\r\nWith more items being added, this is quite the chunk of text. This is what I&#39;d like to clean up if possible.","title":"Is there a more efficient way of returning a boolean from a method with multiple objects?","body":"<p>Pardon my phrasing of the question, I'm still fairly new to Java so I wasn't sure how to word it. Basically, I have created an inventory and added 2 different methods:</p>\n<pre><code>public class Inventory \n{   \n    String name;\n    Items myItems = new Items();\n    boolean addFoodItem;\n    boolean addDrinkItem;\n    boolean addToyItem;\n    boolean addCampingItem;\n\n    boolean removeFoodItem;\n    boolean removeDrinkItem;\n    boolean removeToyItem;\n    boolean removeCampingItem;\n\n    \n    ArrayList&lt;Objects&gt; inventory = new ArrayList&lt;Objects&gt;();\n    Objects myObjects = new Objects(name);\n    \n    public boolean AddToInventory (boolean addFoodItem, boolean addDrinkItem, boolean addToyItem, boolean addCampingItem)\n    {\n        if (addFoodItem)\n        {\n            inventory.add(myItems.foodItem);\n            System.out.println(&quot;You have added 1 &quot; + myItems.FoodItem.name + &quot; to your \n            inventory.&quot;);\n        }\n\n        if (addDrinkItem)\n        {\n            inventory.add(myItems.drinkItem);\n            System.out.println(&quot;You have added 1 &quot; + myItems.DrinkItem.name + &quot; to your \n            inventory.&quot;);\n        }\n\n        if (addToyItem)\n        {\n            inventory.add(myItems.toyItem);\n            System.out.println(&quot;You have added 1 &quot; + myItems.ToyItem.name + &quot; to your \n            inventory.&quot;);\n        }\n\n        if (addCampingItem)\n        {\n            inventory.add(myItems.campingItem);\n            System.out.println(&quot;You have added 1 &quot; + myItems.CampingItem.name + &quot; to your \n            inventory.&quot;);\n        }\n\n        return true;\n    }\n\n    public boolean RemoveFromInventory(boolean removeFoodItem, boolean removeDrinkItem, boolean \n                                       removeToyItem, boolean removeCampingItem)\n    {           \n        if (removeFoodItem)\n        {\n            inventory.remove(myItems.foodItem);\n            System.out.println(&quot;You have used 1 &quot; + myItems.foodItem.name + &quot; from your \n                                inventory.&quot;);\n        }\n\n        if (removeDrinkItem)\n        {\n            inventory.remove(myItems.drinkItem);\n            System.out.println(&quot;You have used 1 &quot; + myItems.drinkItem.name + &quot; from your \n                                inventory.&quot;);\n        }\n\n        if (removeToyItem)\n        {\n            inventory.remove(myItems.toyItem);\n            System.out.println(&quot;You have used 1 &quot; + myItems.toyItem.name + &quot; from your \n                                inventory.&quot;);\n        }\n\n        if (removeCampingItem)\n        {\n            inventory.remove(myItems.campingItem);\n            System.out.println(&quot;You have used 1 &quot; + myItems.campingItem.name + &quot; from your \n                                inventory.&quot;);\n        }\n\n        return true;\n    }       \n    \n    public void GetInventory()\n    {\n        for (Objects items : inventory)\n        {\n            System.out.println(items.name);\n        }    \n    }\n</code></pre>\n<p>There will be more objects that will be added to this script which is why I am looking to see if there is a potentially more efficient way of doing this. The <em><strong>Items.java</strong></em> class simply creates the objects and the <em><strong>Objects.java</strong></em> class only returns the name of the object so it can be printed. All of this code works, but as I add more items, I need to keep switching the booleans to true and false in other classes just to have the AddToInventory and RemoveFromInventory methods to run.</p>\n<p>So my question is, what is a more efficient way of checking if I need to add to and/or remove multiple objects from an inventory (ArrayList). I have considered using a method for each individual check (for add to or subtracting from inventory), but ruled it out as it is not much different from the methods I have above.\nThanks everyone!</p>\n<p>My thoughts behind this are if I call this method from another class and switch the boolean to true, these methods execute the code within the if statement and will either add or remove from the &quot;inventory&quot; ArrayList. The inefficiency that I see is when calling this method from another class, I have to include all the booleans in the arguments for example:</p>\n<pre><code>if (//add check here)\n{\n    Inventory.AddToInventory (boolean addFoodItem = true, boolean \n    addDrinkItem = false, boolean addToyItem = false, boolean addCampingItem \n    = false)\n}\n</code></pre>\n<p>With more items being added, this is quite the chunk of text. This is what I'd like to clean up if possible.</p>\n"},{"tags":["java","arrays","multidimensional-array","java.util.scanner"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1670494429,"post_id":74728485,"comment_id":131890070,"body_markdown":"`i &lt; AssManager.length - 1;` &lt;- If your array has a length of 5 you iterate from 0 to 3, missing the last index 4. Either remove the `- 1` or change `&lt;` to `&lt;=`","body":"<code>i &lt; AssManager.length - 1;</code> &lt;- If your array has a length of 5 you iterate from 0 to 3, missing the last index 4. Either remove the <code>- 1</code> or change <code>&lt;</code> to <code>&lt;=</code>"},{"owner":{"account_id":22782265,"reputation":13,"user_id":16938015,"display_name":"Zhe Hin Yap"},"score":0,"creation_date":1670500552,"post_id":74728485,"comment_id":131892113,"body_markdown":"@OHGODSPIDERS Thank you for pointing out my mistake. I had the exact same problem with another section of my code and fixed it without help, and yet I didn&#39;t manage to see through my careless mistake in this part of the code... How embarassing haha","body":"@OHGODSPIDERS Thank you for pointing out my mistake. I had the exact same problem with another section of my code and fixed it without help, and yet I didn&#39;t manage to see through my careless mistake in this part of the code... How embarassing haha"}],"answers":[{"tags":[],"owner":{"account_id":8634690,"reputation":91,"user_id":6465315,"display_name":"RainerZufall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670496192,"creation_date":1670496192,"answer_id":74729013,"question_id":74728485,"body_markdown":"Is there a specific reason you&#39;re using a two dimensional array? It makes things unnecessarily complex.  \r\nI&#39;d suggest you use an ArrayList. This makes adding, removing and even replacing a lot easier.  \r\nAdditionally, you should create some kind of entity for the name, email, phone number and password information.","title":"Why doesn&#39;t my code recognize the element added to the array?","body":"<p>Is there a specific reason you're using a two dimensional array? It makes things unnecessarily complex.<br />\nI'd suggest you use an ArrayList. This makes adding, removing and even replacing a lot easier.<br />\nAdditionally, you should create some kind of entity for the name, email, phone number and password information.</p>\n"}],"owner":{"account_id":22782265,"reputation":13,"user_id":16938015,"display_name":"Zhe Hin Yap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670514180,"answer_count":1,"score":1,"last_activity_date":1670496192,"creation_date":1670493723,"question_id":74728485,"body_markdown":"So I am making a program that can add, edit and delete records from a 2d array.\r\n\r\nWhat I have done to add an array is to collect input from the user by Scanner, and then turn it into an array, and then use java.utils.Arrays to make a copy of the array and then overwrite the original array\r\n\r\nThis is done through the code below:\r\n\r\n```\r\n\r\nstatic String[][] AssManager = {\r\n            {&quot;Natasha Binti Iman Raman&quot;, &quot;natasha.raman@taylors.edu.my&quot;, &quot;0123659546&quot;, &quot;nat123&quot;},\r\n            {&quot;Navid Ali Khan&quot;, &quot;navidali.khan@taylors.edu.my&quot;, &quot;0114665985&quot;, &quot;navid123&quot;},\r\n            {&quot;Tan Zheng Shen&quot;, &quot;zhengshen.tan@taylors.edu.my&quot;, &quot;0165846598&quot;, &quot;dex123&quot;},\r\n            {&quot;Teh Wei Shen&quot;, &quot;weishen.tay@taylors.edu.my&quot;, &quot;0161254925&quot;, &quot;wei123&quot;}\r\n        };\r\n\r\n\r\nScanner inp = new Scanner(System.in);\r\nString[] role = {\r\n                        &quot;&quot;,\r\n                        &quot;&quot;,\r\n                        &quot;&quot;,\r\n                        &quot;&quot;\r\n                   };\r\n\r\n                    System.out.println(&quot;Please enter the name.&quot;);\r\n                    role[0] = inp.nextLine();\r\n                    System.out.println(&quot;Please enter the email&quot;);\r\n                    role[1] = inp.nextLine();\r\n                    System.out.println(&quot;Please enter the phone number&quot;);\r\n                    role [2] = inp.nextLine();\r\n                    System.out.println(&quot;Please enter the password&quot;);\r\n                    role[3] = inp.nextLine();\r\n\r\n                    AssManager = Arrays.copyOf(AssManager, AssManager.length + 1);\r\n\r\n                    AssManager[AssManager.length-1] = role;\r\n                    \r\n```\r\n\r\nAs for editing and deleting, I pinpoint the the array to be deleted using by collecting input from the user, and then checking whether the particular row actually exists. If it doesn&#39;t exist, then it will print out a statement. If it exists, it will then allow me to modify or delete the particular row.\r\n\r\nThe difficulty that I am facing is that while checking for the rows, it only recognizes the dummy data that already exists, but not the newly made rows. \r\n\r\nThis is the code used to check whether the row exists::\r\n\r\n```\r\nboolean existing = false;\r\nfor (int i = 0 ; i &lt; AssManager.length - 1; i++) {\r\n                    if (name.equals(AssManager[i][0])){\r\n\r\n                        existing = true;\r\n\r\n                    }\r\n```\r\n\r\nAny row that I made through the program is ignored and I am given the statement that the specific row does not exist.\r\n\r\nI have tried to make more copies of the same array while using java.util.Arrays but to no avail. I have also tried searching up my problem elsewhere but I cannot find any solutions that may help me. \r\n\r\nI appreciate any sort of advice. ","title":"Why doesn&#39;t my code recognize the element added to the array?","body":"<p>So I am making a program that can add, edit and delete records from a 2d array.</p>\n<p>What I have done to add an array is to collect input from the user by Scanner, and then turn it into an array, and then use java.utils.Arrays to make a copy of the array and then overwrite the original array</p>\n<p>This is done through the code below:</p>\n<pre><code>\nstatic String[][] AssManager = {\n            {&quot;Natasha Binti Iman Raman&quot;, &quot;natasha.raman@taylors.edu.my&quot;, &quot;0123659546&quot;, &quot;nat123&quot;},\n            {&quot;Navid Ali Khan&quot;, &quot;navidali.khan@taylors.edu.my&quot;, &quot;0114665985&quot;, &quot;navid123&quot;},\n            {&quot;Tan Zheng Shen&quot;, &quot;zhengshen.tan@taylors.edu.my&quot;, &quot;0165846598&quot;, &quot;dex123&quot;},\n            {&quot;Teh Wei Shen&quot;, &quot;weishen.tay@taylors.edu.my&quot;, &quot;0161254925&quot;, &quot;wei123&quot;}\n        };\n\n\nScanner inp = new Scanner(System.in);\nString[] role = {\n                        &quot;&quot;,\n                        &quot;&quot;,\n                        &quot;&quot;,\n                        &quot;&quot;\n                   };\n\n                    System.out.println(&quot;Please enter the name.&quot;);\n                    role[0] = inp.nextLine();\n                    System.out.println(&quot;Please enter the email&quot;);\n                    role[1] = inp.nextLine();\n                    System.out.println(&quot;Please enter the phone number&quot;);\n                    role [2] = inp.nextLine();\n                    System.out.println(&quot;Please enter the password&quot;);\n                    role[3] = inp.nextLine();\n\n                    AssManager = Arrays.copyOf(AssManager, AssManager.length + 1);\n\n                    AssManager[AssManager.length-1] = role;\n                    \n</code></pre>\n<p>As for editing and deleting, I pinpoint the the array to be deleted using by collecting input from the user, and then checking whether the particular row actually exists. If it doesn't exist, then it will print out a statement. If it exists, it will then allow me to modify or delete the particular row.</p>\n<p>The difficulty that I am facing is that while checking for the rows, it only recognizes the dummy data that already exists, but not the newly made rows.</p>\n<p>This is the code used to check whether the row exists::</p>\n<pre><code>boolean existing = false;\nfor (int i = 0 ; i &lt; AssManager.length - 1; i++) {\n                    if (name.equals(AssManager[i][0])){\n\n                        existing = true;\n\n                    }\n</code></pre>\n<p>Any row that I made through the program is ignored and I am given the statement that the specific row does not exist.</p>\n<p>I have tried to make more copies of the same array while using java.util.Arrays but to no avail. I have also tried searching up my problem elsewhere but I cannot find any solutions that may help me.</p>\n<p>I appreciate any sort of advice.</p>\n"},{"tags":["java","json","serialization","jackson","jackson-databind"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1670429048,"post_id":74719421,"comment_id":131875599,"body_markdown":"You could JsonIgnore the original properties and annotate a getter `getTranslation&#39; that returns a List of suitable Objects","body":"You could JsonIgnore the original properties and annotate a getter `getTranslation&#39; that returns a List of suitable Objects"},{"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"score":0,"creation_date":1670429172,"post_id":74719421,"comment_id":131875646,"body_markdown":"I have no access to the original domain classes (which are final)","body":"I have no access to the original domain classes (which are final)"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1670429350,"post_id":74719421,"comment_id":131875694,"body_markdown":"Oh, you should make this clear in your question","body":"Oh, you should make this clear in your question"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670495939,"creation_date":1670494147,"answer_id":74728575,"question_id":74719421,"body_markdown":"&gt; I guess I should implement a custom serializer/deserializer\r\n\r\nSure, you can implement a custom Serializer by extending abstract class `StdSerializer` and providing implementation of its `serialize()` method. But it would require a lot of low-level code and wouldn&#39;t be flexible.\r\n\r\nAnother option is to create a so-called [`Converter`][converter] for the `Article` type and provide it through the `converter` attribute of the [`@JsonSerialize`][jsonSerialize] annotation. Here&#39;s a quote from the documentation explaining the purpose of Converter:\r\n\r\n&gt; Which helper object is to be used to convert type into something that Jackson knows how to serialize; either because base type cannot be serialized easily, or just to alter serialization.\r\n\r\nIn other words the goal of Converter is turn the base type into another type which is easier to serialize. Whilst the purpose of Serializer is to instruct Jackson via `JsonGenerator` how to generate JSON from the given object (*which is not very handy when a complex object graph, and a lot of alternations needs to be done*). That&#39;s how you can distinguish between the two.\r\n\r\nTo create a custom Converter for the `Article` type we need to extend abstract class [`StdConverter`][stdConverter] and override its `convert()` method, would expect an instance of `Article` and return an object of a different which can be smoothly deserialized. So, firstly, let&#39;s create this type that stores the data from the fields of type `LocalizedTexts` structured as required.\r\n\r\nLet&#39;s call this type `ArticleWrapper`:\r\n\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    public class ArticleWrapper {\r\n        @NonNull\r\n        private UUID id;\r\n        @JsonProperty(&quot;iNo&quot;)\r\n        private Integer iNo;\r\n        private boolean isValid;\r\n        @NonNull\r\n        private ReferenceArticleGroup articleGroup;\r\n        private Integer numberOfDecimalsSalesPrice;\r\n        @Singular\r\n        private List&lt;String&gt; codes;\r\n        \r\n        private List&lt;LanguageAttribute&gt; translation; // all the data from LocalizedTexts is being stored here\r\n    }\r\n\r\nIt also requires a custom type called `LanguageAttribute` to represent pieces of information like `&quot;{ &quot;productInformation&quot;:&quot;...&quot;, &quot;language&quot;:&quot;english&quot; }&quot;`. I&#39;ve defined it as a [Java 16 `record`][record] (*you can reimplement it as a plain `class` as well*):\r\n\r\n    public record LanguageAttribute(\r\n        @JsonAnyGetter\r\n        Map&lt;String, String&gt; map,\r\n        @JsonProperty\r\n        @JsonSerialize(converter = LanguageConverter.class)\r\n        Language language) {}\r\n\r\n***Note:** that* `LanguageAttribute` has a field of type* `Map`*. It&#39;s a single-entry map which is meant to represent properties that vary like* `&quot;productInformation&quot;:&quot;...&quot;`, `&quot;designation&quot;:&quot;...&quot;`*, etc. and it&#39;s annotated with* `@JsonAnyGetter` *because we don&#39;t want the property* `&quot;map&quot;` *to be present in the resulting JSON (only its contents is needed). Another option (which some people might find more intuitive) is* `@JsonUnwrapped`*, but it **wouldn&#39;t** work here because of this well-known [**documented issue**][unwrappedIssue] which at the time of writing is still not resolved.*\r\n\r\nHere&#39;s a minimalistic converter to get the `Language` enum serialized as its lowercased attribute (***note:** change the method used to access the lowercase language name to the proper one*):\r\n\r\n    public class LanguageConverter extends StdConverter&lt;Language, String&gt; {\r\n    \r\n        @Override\r\n        public String convert(Language language) {\r\n            return language.getLangName(); // use the proper method here to access the lowercase enum property\r\n        }\r\n    }\r\n\r\nFinally, here&#39;s an implementation of the Converter for the `Article` type, it&#39;s a little bit more involved, since this Converter performs more transformations, but it&#39;s maintainable and can be changed/extended as needed:\r\n\r\n    public class ArticleConverter extends StdConverter&lt;Article, ArticleWrapper&gt; {\r\n        public ArticleConverter() throws JsonProcessingException {\r\n        }\r\n    \r\n        @Override\r\n        public ArticleWrapper convert(Article article) {\r\n            \r\n            List&lt;LanguageAttribute&gt; translations = getTranslations(article);\r\n            \r\n            return ArticleWrapper.builder()\r\n                .id(article.getId())\r\n                .iNo(article.getINo())\r\n                .isValid(article.isValid())\r\n                .articleGroup(article.getArticleGroup())\r\n                .numberOfDecimalsSalesPrice(article.getNumberOfDecimalsSalesPrice())\r\n                .translation(translations)\r\n                .build();\r\n        }\r\n        \r\n        private List&lt;LanguageAttribute&gt; getTranslations(Article article) {\r\n            \r\n            return Stream.of(\r\n                    toLanguageAttribute(article.getDesignation(), &quot;designation&quot;),\r\n                    toLanguageAttribute(article.getTouchCaption(), &quot;touchCaption&quot;),\r\n                    toLanguageAttribute(article.getPrintText(), &quot;printText&quot;),\r\n                    toLanguageAttribute(article.getProductInformation(), &quot;productInformation&quot;)\r\n                )\r\n                .flatMap(Function.identity())\r\n                .toList();\r\n        }\r\n        \r\n        private Stream&lt;LanguageAttribute&gt; toLanguageAttribute(LocalizedTexts texts, String attribute) {\r\n            return texts.entrySet().stream()\r\n                .map(entry -&gt; new LanguageAttribute(\r\n                    Map.of(attribute, entry.getValue()), entry.getKey())\r\n                );\r\n        }\r\n    }\r\n\r\n**Disclaimer:**\r\n\r\n* I&#39;ve **tested** the solution presented above to make sure that produces the required shape of JSON, but since the information is not 100% percent complete a plain copy-pasting might not work, most likely some changes would be required.\r\n\r\nIf the process of **deserialization** needs to be customizes as well, I&#39;m leaving it for OP/reader as practical exercise.\r\n\r\n\r\n\r\n\r\n   [converter]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/util/Converter.html\r\n\r\n   [jsonSerialize]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\r\n\r\n   [stdConverter]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/util/StdConverter.html\r\n\r\n   [unwrappedIssue]: https://github.com/FasterXML/jackson-databind/issues/171\r\n\r\n   [record]: https://docs.oracle.com/en/java/javase/16/language/records.html","title":"Jackson - Custom Serialization of embedded Objects coming from 3-party Library","body":"<blockquote>\n<p>I guess I should implement a custom serializer/deserializer</p>\n</blockquote>\n<p>Sure, you can implement a custom Serializer by extending abstract class <code>StdSerializer</code> and providing implementation of its <code>serialize()</code> method. But it would require a lot of low-level code and wouldn't be flexible.</p>\n<p>Another option is to create a so-called <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/util/Converter.html\" rel=\"nofollow noreferrer\"><code>Converter</code></a> for the <code>Article</code> type and provide it through the <code>converter</code> attribute of the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\" rel=\"nofollow noreferrer\"><code>@JsonSerialize</code></a> annotation. Here's a quote from the documentation explaining the purpose of Converter:</p>\n<blockquote>\n<p>Which helper object is to be used to convert type into something that Jackson knows how to serialize; either because base type cannot be serialized easily, or just to alter serialization.</p>\n</blockquote>\n<p>In other words the goal of Converter is turn the base type into another type which is easier to serialize. Whilst the purpose of Serializer is to instruct Jackson via <code>JsonGenerator</code> how to generate JSON from the given object (<em>which is not very handy when a complex object graph, and a lot of alternations needs to be done</em>). That's how you can distinguish between the two.</p>\n<p>To create a custom Converter for the <code>Article</code> type we need to extend abstract class <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/util/StdConverter.html\" rel=\"nofollow noreferrer\"><code>StdConverter</code></a> and override its <code>convert()</code> method, would expect an instance of <code>Article</code> and return an object of a different which can be smoothly deserialized. So, firstly, let's create this type that stores the data from the fields of type <code>LocalizedTexts</code> structured as required.</p>\n<p>Let's call this type <code>ArticleWrapper</code>:</p>\n<pre><code>@Builder\n@Getter\n@Setter\npublic class ArticleWrapper {\n    @NonNull\n    private UUID id;\n    @JsonProperty(&quot;iNo&quot;)\n    private Integer iNo;\n    private boolean isValid;\n    @NonNull\n    private ReferenceArticleGroup articleGroup;\n    private Integer numberOfDecimalsSalesPrice;\n    @Singular\n    private List&lt;String&gt; codes;\n    \n    private List&lt;LanguageAttribute&gt; translation; // all the data from LocalizedTexts is being stored here\n}\n</code></pre>\n<p>It also requires a custom type called <code>LanguageAttribute</code> to represent pieces of information like <code>&quot;{ &quot;productInformation&quot;:&quot;...&quot;, &quot;language&quot;:&quot;english&quot; }&quot;</code>. I've defined it as a <a href=\"https://docs.oracle.com/en/java/javase/16/language/records.html\" rel=\"nofollow noreferrer\">Java 16 <code>record</code></a> (<em>you can reimplement it as a plain <code>class</code> as well</em>):</p>\n<pre><code>public record LanguageAttribute(\n    @JsonAnyGetter\n    Map&lt;String, String&gt; map,\n    @JsonProperty\n    @JsonSerialize(converter = LanguageConverter.class)\n    Language language) {}\n</code></pre>\n<p><em><strong>Note:</strong> that</em> <code>LanguageAttribute</code> has a field of type* <code>Map</code><em>. It's a single-entry map which is meant to represent properties that vary like</em> <code>&quot;productInformation&quot;:&quot;...&quot;</code>, <code>&quot;designation&quot;:&quot;...&quot;</code><em>, etc. and it's annotated with</em> <code>@JsonAnyGetter</code> <em>because we don't want the property</em> <code>&quot;map&quot;</code> <em>to be present in the resulting JSON (only its contents is needed). Another option (which some people might find more intuitive) is</em> <code>@JsonUnwrapped</code><em>, but it <strong>wouldn't</strong> work here because of this well-known <a href=\"https://github.com/FasterXML/jackson-databind/issues/171\" rel=\"nofollow noreferrer\"><strong>documented issue</strong></a> which at the time of writing is still not resolved.</em></p>\n<p>Here's a minimalistic converter to get the <code>Language</code> enum serialized as its lowercased attribute (<em><strong>note:</strong> change the method used to access the lowercase language name to the proper one</em>):</p>\n<pre><code>public class LanguageConverter extends StdConverter&lt;Language, String&gt; {\n\n    @Override\n    public String convert(Language language) {\n        return language.getLangName(); // use the proper method here to access the lowercase enum property\n    }\n}\n</code></pre>\n<p>Finally, here's an implementation of the Converter for the <code>Article</code> type, it's a little bit more involved, since this Converter performs more transformations, but it's maintainable and can be changed/extended as needed:</p>\n<pre><code>public class ArticleConverter extends StdConverter&lt;Article, ArticleWrapper&gt; {\n    public ArticleConverter() throws JsonProcessingException {\n    }\n\n    @Override\n    public ArticleWrapper convert(Article article) {\n        \n        List&lt;LanguageAttribute&gt; translations = getTranslations(article);\n        \n        return ArticleWrapper.builder()\n            .id(article.getId())\n            .iNo(article.getINo())\n            .isValid(article.isValid())\n            .articleGroup(article.getArticleGroup())\n            .numberOfDecimalsSalesPrice(article.getNumberOfDecimalsSalesPrice())\n            .translation(translations)\n            .build();\n    }\n    \n    private List&lt;LanguageAttribute&gt; getTranslations(Article article) {\n        \n        return Stream.of(\n                toLanguageAttribute(article.getDesignation(), &quot;designation&quot;),\n                toLanguageAttribute(article.getTouchCaption(), &quot;touchCaption&quot;),\n                toLanguageAttribute(article.getPrintText(), &quot;printText&quot;),\n                toLanguageAttribute(article.getProductInformation(), &quot;productInformation&quot;)\n            )\n            .flatMap(Function.identity())\n            .toList();\n    }\n    \n    private Stream&lt;LanguageAttribute&gt; toLanguageAttribute(LocalizedTexts texts, String attribute) {\n        return texts.entrySet().stream()\n            .map(entry -&gt; new LanguageAttribute(\n                Map.of(attribute, entry.getValue()), entry.getKey())\n            );\n    }\n}\n</code></pre>\n<p><strong>Disclaimer:</strong></p>\n<ul>\n<li>I've <strong>tested</strong> the solution presented above to make sure that produces the required shape of JSON, but since the information is not 100% percent complete a plain copy-pasting might not work, most likely some changes would be required.</li>\n</ul>\n<p>If the process of <strong>deserialization</strong> needs to be customizes as well, I'm leaving it for OP/reader as practical exercise.</p>\n"}],"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670496161,"creation_date":1670428333,"question_id":74719421,"body_markdown":"I am storing my domain class objects into a document database by transforming them into JSON format. Prior to storing, I would like to apply a conversion on all properties of a specific custom type `LocalizedTexts` and store them as entries into a flat `List/Array`.\r\n\r\nIn order to understand better the requirement, here are the basic classes:\r\n\r\nThis is the main domain class:\r\n\r\n    @Value\r\n    @NoArgsConstructor(force = true, access = AccessLevel.PRIVATE)\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    @SuperBuilder(toBuilder = true)\r\n    @JsonDeserialize(builder = Article.ArticleBuilderImpl.class)\r\n    @ToString(callSuper = true)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class Article extends AbstractEntityBase {\r\n        \r\n    \t@NonNull\r\n        UUID id;\r\n        \r\n    \t@JsonProperty(&quot;iNo&quot;)\r\n        Integer iNo;\r\n        \r\n    \tboolean isValid;\r\n        \r\n    \t@NonNull\r\n        LocalizedTexts designation;\r\n        \r\n    \t@NonNull\r\n        ReferenceArticleGroup articleGroup;\r\n        \r\n    \tInteger numberOfDecimalsSalesPrice;\r\n        \r\n    \tLocalizedTexts touchCaption;\r\n        \r\n    \tLocalizedTexts printText;\r\n        \r\n    \tLocalizedTexts productInformation;\r\n    \t\r\n    \t@Singular\r\n        List&lt;String&gt; codes;\r\n        ...\r\n    }\r\n\r\nThis is the internal LocalizedTexts class:\r\n\r\n    @Builder(builderMethodName = &quot;internalBuilder&quot;)\r\n    public class LocalizedTexts extends HashMap&lt;Language, String&gt; implements EntityBase {\r\n    \r\n        public LocalizedTexts() {\r\n    \r\n        }\r\n    \r\n        public LocalizedTexts(Map map) {\r\n            putAll(map);\r\n        }\r\n    }\r\n\r\nand finally, the `Language` enum type:\r\n\r\n    public enum Language {\r\n        AA(&quot;aa&quot;),\r\n        AB(&quot;ab&quot;),\r\n        AE(&quot;ae&quot;),\r\n        AF(&quot;af&quot;),\r\n        AK(&quot;ak&quot;),\r\n    \t...\r\n    }\r\n\r\n**Note** that `Language` and `LocalizedTexts` are being imported from **another library**, so I have no access in order to alter them.\r\n\r\nThe standard Jackson object mapper produces a JSON file with the following structure:\r\n\r\n    {\r\n    \t&quot;id&quot;: &quot;57bf6daf-4993-4c55-9b19-db6b3d5c9527&quot;,\r\n    \t&quot;iNo&quot;: 3,\r\n    \t&quot;isValid&quot;: true,\r\n    \t&quot;designation&quot;: {\r\n    \t\t&quot;de&quot;: &quot;designation3DE localized designation3 designation&quot;,\r\n    \t\t&quot;en&quot;: &quot;designation3EN localized designation3 designation&quot;\r\n    \t},\r\n    \t&quot;articleGroup&quot;: {\r\n    \t\t&quot;id&quot;: &quot;8f6627b8-31d4-4e44-9374-6069571489f7&quot;,\r\n    \t\t&quot;type&quot;: &quot;ArticleGroup&quot;\r\n    \t  },\r\n    \t&quot;numberOfDecimalsSalesPrice&quot;: 2,\r\n    \t&quot;touchCaption&quot;: {\r\n    \t\t&quot;de&quot;: &quot;touchCaption3DE localized touchCaption3 touchCaption&quot;,\r\n    \t\t&quot;en&quot;: &quot;touchCaption3EN localized touchCaption3 touchCaption&quot;\r\n    \t  },\r\n    \t&quot;printText&quot;: {\r\n    \t\t&quot;de&quot;: &quot;printText3DE localized printText3 printText&quot;,\r\n    \t\t&quot;en&quot;: &quot;printText3EN localized printText3 printText&quot;\r\n    \t},\r\n    \t&quot;productInformation&quot;: {\r\n    \t\t&quot;de&quot;: &quot;productInformation3DE localized productInformation3 productInformation&quot;,\r\n    \t\t&quot;en&quot;: &quot;productInformation3EN localized productInformation3 productInformation&quot;,\r\n    \t\t&quot;es&quot;: &quot;productInformation3ES localized productInformation3 productInformation&quot;\r\n    \t},\r\n    \t&quot;codes&quot;: [\r\n    \t\t&quot;1231231231234&quot;,\r\n    \t\t&quot;2345678901234&quot;,\r\n    \t\t&quot;9999999999999&quot;,\r\n    \t\t&quot;1111111111111&quot;\r\n    \t],\r\n    \t...\r\n    }\r\n\r\nI would like to serialize my object into a json with this format:\r\n\r\n    {\r\n    \t&quot;id&quot;: &quot;57bf6daf-4993-4c55-9b19-db6b3d5c9527&quot;,\r\n    \t&quot;iNo&quot;: 3,\r\n    \t&quot;isValid&quot;: true,\r\n    \t&quot;articleGroup&quot;: {\r\n    \t\t&quot;id&quot;: &quot;8f6627b8-31d4-4e44-9374-6069571489f7&quot;,\r\n    \t\t&quot;type&quot;: &quot;ArticleGroup&quot;\r\n    \t},\r\n    \t&quot;numberOfDecimalsSalesPrice&quot;: 2,\r\n    \t&quot;codes&quot;: [\r\n    \t\t&quot;1231231231234&quot;,\r\n    \t\t&quot;2345678901234&quot;,\r\n    \t\t&quot;9999999999999&quot;,\r\n    \t\t&quot;1111111111111&quot;\r\n    \t],\r\n    \t&quot;translation&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;productInformation&quot;: &quot;productInformation3DE localized productInformation3 productInformation&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;german&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;productInformation&quot;: &quot;productInformation3EN localized productInformation3 productInformation&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;english&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;productInformation&quot;: &quot;productInformation3ES localized productInformation3 productInformation&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;spanish&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;touchCaption&quot;: &quot;touchCaption3DE localized touchCaption3 touchCaption Bildbeschriftung&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;german&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;touchCaption&quot;: &quot;touchCaption3EN localized touchCaption3 touchCaption Caption&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;english&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;designation&quot;: &quot;designation3DE localized designation3 designation&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;german&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;designation&quot;: &quot;designation3EN localized designation3 designation&quot;,\r\n    \t\t\t&quot;language&quot;: &quot;english&quot;\r\n    \t\t}\r\n    \t],\r\n    \t...\r\n    }\r\n\r\nSo I want to extract all the pairs of LocalizedTexts entries and add them into a single array as show above. When reading back from the database I would like to implement the opposite transformation and deserialize the json above into my original domain class.\r\n\r\nI guess I should implement a custom serializer/deserializer and register it into my `ObjectMapper` for &#39;Article&#39; class as described [here][1] and [here][2]. \r\n\r\nAs far as I can understand I should use reflection for that purpose but maybe this is going to be an overkill. Any other ideas or suggestions?\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-custom-serialization#bd-overview\r\n  [2]: https://www.baeldung.com/jackson-deserialization","title":"Jackson - Custom Serialization of embedded Objects coming from 3-party Library","body":"<p>I am storing my domain class objects into a document database by transforming them into JSON format. Prior to storing, I would like to apply a conversion on all properties of a specific custom type <code>LocalizedTexts</code> and store them as entries into a flat <code>List/Array</code>.</p>\n<p>In order to understand better the requirement, here are the basic classes:</p>\n<p>This is the main domain class:</p>\n<pre><code>@Value\n@NoArgsConstructor(force = true, access = AccessLevel.PRIVATE)\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@SuperBuilder(toBuilder = true)\n@JsonDeserialize(builder = Article.ArticleBuilderImpl.class)\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true)\npublic class Article extends AbstractEntityBase {\n    \n    @NonNull\n    UUID id;\n    \n    @JsonProperty(&quot;iNo&quot;)\n    Integer iNo;\n    \n    boolean isValid;\n    \n    @NonNull\n    LocalizedTexts designation;\n    \n    @NonNull\n    ReferenceArticleGroup articleGroup;\n    \n    Integer numberOfDecimalsSalesPrice;\n    \n    LocalizedTexts touchCaption;\n    \n    LocalizedTexts printText;\n    \n    LocalizedTexts productInformation;\n    \n    @Singular\n    List&lt;String&gt; codes;\n    ...\n}\n</code></pre>\n<p>This is the internal LocalizedTexts class:</p>\n<pre><code>@Builder(builderMethodName = &quot;internalBuilder&quot;)\npublic class LocalizedTexts extends HashMap&lt;Language, String&gt; implements EntityBase {\n\n    public LocalizedTexts() {\n\n    }\n\n    public LocalizedTexts(Map map) {\n        putAll(map);\n    }\n}\n</code></pre>\n<p>and finally, the <code>Language</code> enum type:</p>\n<pre><code>public enum Language {\n    AA(&quot;aa&quot;),\n    AB(&quot;ab&quot;),\n    AE(&quot;ae&quot;),\n    AF(&quot;af&quot;),\n    AK(&quot;ak&quot;),\n    ...\n}\n</code></pre>\n<p><strong>Note</strong> that <code>Language</code> and <code>LocalizedTexts</code> are being imported from <strong>another library</strong>, so I have no access in order to alter them.</p>\n<p>The standard Jackson object mapper produces a JSON file with the following structure:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;57bf6daf-4993-4c55-9b19-db6b3d5c9527&quot;,\n    &quot;iNo&quot;: 3,\n    &quot;isValid&quot;: true,\n    &quot;designation&quot;: {\n        &quot;de&quot;: &quot;designation3DE localized designation3 designation&quot;,\n        &quot;en&quot;: &quot;designation3EN localized designation3 designation&quot;\n    },\n    &quot;articleGroup&quot;: {\n        &quot;id&quot;: &quot;8f6627b8-31d4-4e44-9374-6069571489f7&quot;,\n        &quot;type&quot;: &quot;ArticleGroup&quot;\n      },\n    &quot;numberOfDecimalsSalesPrice&quot;: 2,\n    &quot;touchCaption&quot;: {\n        &quot;de&quot;: &quot;touchCaption3DE localized touchCaption3 touchCaption&quot;,\n        &quot;en&quot;: &quot;touchCaption3EN localized touchCaption3 touchCaption&quot;\n      },\n    &quot;printText&quot;: {\n        &quot;de&quot;: &quot;printText3DE localized printText3 printText&quot;,\n        &quot;en&quot;: &quot;printText3EN localized printText3 printText&quot;\n    },\n    &quot;productInformation&quot;: {\n        &quot;de&quot;: &quot;productInformation3DE localized productInformation3 productInformation&quot;,\n        &quot;en&quot;: &quot;productInformation3EN localized productInformation3 productInformation&quot;,\n        &quot;es&quot;: &quot;productInformation3ES localized productInformation3 productInformation&quot;\n    },\n    &quot;codes&quot;: [\n        &quot;1231231231234&quot;,\n        &quot;2345678901234&quot;,\n        &quot;9999999999999&quot;,\n        &quot;1111111111111&quot;\n    ],\n    ...\n}\n</code></pre>\n<p>I would like to serialize my object into a json with this format:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;57bf6daf-4993-4c55-9b19-db6b3d5c9527&quot;,\n    &quot;iNo&quot;: 3,\n    &quot;isValid&quot;: true,\n    &quot;articleGroup&quot;: {\n        &quot;id&quot;: &quot;8f6627b8-31d4-4e44-9374-6069571489f7&quot;,\n        &quot;type&quot;: &quot;ArticleGroup&quot;\n    },\n    &quot;numberOfDecimalsSalesPrice&quot;: 2,\n    &quot;codes&quot;: [\n        &quot;1231231231234&quot;,\n        &quot;2345678901234&quot;,\n        &quot;9999999999999&quot;,\n        &quot;1111111111111&quot;\n    ],\n    &quot;translation&quot;: [\n        {\n            &quot;productInformation&quot;: &quot;productInformation3DE localized productInformation3 productInformation&quot;,\n            &quot;language&quot;: &quot;german&quot;\n        },\n        {\n            &quot;productInformation&quot;: &quot;productInformation3EN localized productInformation3 productInformation&quot;,\n            &quot;language&quot;: &quot;english&quot;\n        },\n        {\n            &quot;productInformation&quot;: &quot;productInformation3ES localized productInformation3 productInformation&quot;,\n            &quot;language&quot;: &quot;spanish&quot;\n        },\n        {\n            &quot;touchCaption&quot;: &quot;touchCaption3DE localized touchCaption3 touchCaption Bildbeschriftung&quot;,\n            &quot;language&quot;: &quot;german&quot;\n        },\n        {\n            &quot;touchCaption&quot;: &quot;touchCaption3EN localized touchCaption3 touchCaption Caption&quot;,\n            &quot;language&quot;: &quot;english&quot;\n        },\n        {\n            &quot;designation&quot;: &quot;designation3DE localized designation3 designation&quot;,\n            &quot;language&quot;: &quot;german&quot;\n        },\n        {\n            &quot;designation&quot;: &quot;designation3EN localized designation3 designation&quot;,\n            &quot;language&quot;: &quot;english&quot;\n        }\n    ],\n    ...\n}\n</code></pre>\n<p>So I want to extract all the pairs of LocalizedTexts entries and add them into a single array as show above. When reading back from the database I would like to implement the opposite transformation and deserialize the json above into my original domain class.</p>\n<p>I guess I should implement a custom serializer/deserializer and register it into my <code>ObjectMapper</code> for 'Article' class as described <a href=\"https://www.baeldung.com/jackson-custom-serialization#bd-overview\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>As far as I can understand I should use reflection for that purpose but maybe this is going to be an overkill. Any other ideas or suggestions?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":2,"creation_date":1670495565,"post_id":74727709,"comment_id":131890462,"body_markdown":"Dictionaries consist of key-value pairs e.g &lt;&lt;/MyKey 0&gt;&gt;. The purported dictionary at object 9 is thus malformed. Most PDF readers would print a warning and read this as the empty dictionary. Perhaps PDFBox is doing this, and then finding it expects object 9 not to be a dictionary at all! My guess is it is supposed to be just a plain number.  Please show us where object 9 is referenced using &quot;9 0 R&quot;...","body":"Dictionaries consist of key-value pairs e.g &lt;&lt;/MyKey 0&gt;&gt;. The purported dictionary at object 9 is thus malformed. Most PDF readers would print a warning and read this as the empty dictionary. Perhaps PDFBox is doing this, and then finding it expects object 9 not to be a dictionary at all! My guess is it is supposed to be just a plain number.  Please show us where object 9 is referenced using &quot;9 0 R&quot;..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1670509136,"post_id":74727709,"comment_id":131895063,"body_markdown":"*&quot;And this kind of file can be viewed normally.&quot;* - This unfortunately doesn&#39;t mean anything. PDF viewers tend to repair very many errors in PDFs under the hood. That is *acceptable* (albeit *not good*) as usually the person viewing the repaired PDF immediately can see whether or not the repair resulted in something usable or in garbage. PDF libraries used for automatic PDF processing, on the other hand, should not repair so much because there often is no such person recognizing the error before the PDF is sent to thousands of people or stored in some legally required archive or ....","body":"<i>&quot;And this kind of file can be viewed normally.&quot;</i> - This unfortunately doesn&#39;t mean anything. PDF viewers tend to repair very many errors in PDFs under the hood. That is <i>acceptable</i> (albeit <i>not good</i>) as usually the person viewing the repaired PDF immediately can see whether or not the repair resulted in something usable or in garbage. PDF libraries used for automatic PDF processing, on the other hand, should not repair so much because there often is no such person recognizing the error before the PDF is sent to thousands of people or stored in some legally required archive or ...."},{"owner":{"account_id":27095086,"reputation":11,"user_id":20642398,"display_name":"lin"},"score":0,"creation_date":1670545394,"post_id":74727709,"comment_id":131905389,"body_markdown":"8 0 obj &lt;&lt; /Length 9 0 R &gt;&gt;\nstream... endstream\nendobj\n9 0 obj &lt;&lt; 4476 &gt;&gt; endobj","body":"8 0 obj &lt;&lt; /Length 9 0 R &gt;&gt; stream... endstream endobj 9 0 obj &lt;&lt; 4476 &gt;&gt; endobj"},{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":0,"creation_date":1670550895,"post_id":74727709,"comment_id":131906130,"body_markdown":"Yeah, so as other posters guessed, object 9 should just be a plain number. Remove the angle brackets around 4476 and any similar /Lengths, and then run the file through qpdf or cpdf or pdftk to mend the xref tables. Then PDFBox should read it.","body":"Yeah, so as other posters guessed, object 9 should just be a plain number. Remove the angle brackets around 4476 and any similar /Lengths, and then run the file through qpdf or cpdf or pdftk to mend the xref tables. Then PDFBox should read it."}],"answers":[{"tags":[],"owner":{"account_id":251246,"reputation":5249,"user_id":528481,"display_name":"iPDFdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670495927,"creation_date":1670495927,"answer_id":74728947,"question_id":74727709,"body_markdown":"Object 9 is incorrect, it should have been:\r\n\r\n    9 0 obj 4476 endobj\r\n\r\nThe library looks for an indirect reference to an integer object while the object contains an invalid dictionary.\r\n\r\nOther PDF processors might be more forgiving with such errors and repair the file during load. When it comes to PDF errors, each PDF procesor handles them in its own way.","title":"PDFBox 2.0.19:Wrong type of referenced length object COSObject{9, 0}: COSDictionary","body":"<p>Object 9 is incorrect, it should have been:</p>\n<pre><code>9 0 obj 4476 endobj\n</code></pre>\n<p>The library looks for an indirect reference to an integer object while the object contains an invalid dictionary.</p>\n<p>Other PDF processors might be more forgiving with such errors and repair the file during load. When it comes to PDF errors, each PDF procesor handles them in its own way.</p>\n"}],"owner":{"account_id":27095086,"reputation":11,"user_id":20642398,"display_name":"lin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670495927,"creation_date":1670489742,"question_id":74727709,"body_markdown":"When I use pdfbox to read the pdf file uploaded by the customer, I encounter the following error：\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Wrong type of referenced length object COSObject{9, 0}: COSDictionary\r\n\tat org.apache.pdfbox.pdfparser.COSParser.getLength(COSParser.java:1078)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parseCOSStream(COSParser.java:1119)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:925)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:886)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:806)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:766)\r\n\tat org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187)\r\n\tat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1099)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1082)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1041)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:989)\r\n```\r\n\r\nI open the file with nodepad++, part of which is shown as follows:\r\n```\r\n9 0 obj &lt;&lt; 4476 &gt;&gt; endobj\r\n3 0 obj &lt;&lt; /Type /Pages /Kids [ 7 0 R] /Count 1 &gt;&gt; endobj\r\nxref\r\n0 10\r\n0000000000 65535 f\r\n0000000009 00000 n\r\n0000000074 00000 n\r\n0000005126 00000 n\r\n0000000120 00000 n\r\n0000000252 00000 n\r\n0000000362 00000 n\r\n0000000392 00000 n\r\n0000000546 00000 n\r\n0000005042 00000 n\r\n0000005068 00000 n\r\ntrailer\r\n&lt;&lt;\r\n/Size 10\r\n/Root 1 0 R\r\n/Info 4 0 R\r\n&gt;&gt;\r\nstartxref\r\n5184\r\n%%EOF\r\n```\r\n\r\nI don&#39;t know why there is such a file, because it was uploaded by the customer. And this kind of file can be viewed normally.\r\n\r\n\r\nIs there any other way to read this kind of file correctly?","title":"PDFBox 2.0.19:Wrong type of referenced length object COSObject{9, 0}: COSDictionary","body":"<p>When I use pdfbox to read the pdf file uploaded by the customer, I encounter the following error：</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Wrong type of referenced length object COSObject{9, 0}: COSDictionary\n    at org.apache.pdfbox.pdfparser.COSParser.getLength(COSParser.java:1078)\n    at org.apache.pdfbox.pdfparser.COSParser.parseCOSStream(COSParser.java:1119)\n    at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:925)\n    at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:886)\n    at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:806)\n    at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:766)\n    at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187)\n    at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1099)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1082)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1041)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:989)\n</code></pre>\n<p>I open the file with nodepad++, part of which is shown as follows:</p>\n<pre><code>9 0 obj &lt;&lt; 4476 &gt;&gt; endobj\n3 0 obj &lt;&lt; /Type /Pages /Kids [ 7 0 R] /Count 1 &gt;&gt; endobj\nxref\n0 10\n0000000000 65535 f\n0000000009 00000 n\n0000000074 00000 n\n0000005126 00000 n\n0000000120 00000 n\n0000000252 00000 n\n0000000362 00000 n\n0000000392 00000 n\n0000000546 00000 n\n0000005042 00000 n\n0000005068 00000 n\ntrailer\n&lt;&lt;\n/Size 10\n/Root 1 0 R\n/Info 4 0 R\n&gt;&gt;\nstartxref\n5184\n%%EOF\n</code></pre>\n<p>I don't know why there is such a file, because it was uploaded by the customer. And this kind of file can be viewed normally.</p>\n<p>Is there any other way to read this kind of file correctly?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1670446129,"post_id":74722537,"comment_id":131880767,"body_markdown":"&quot;I am receiving errors&quot; -&gt; Please post these errors here, too.","body":"&quot;I am receiving errors&quot; -&gt; Please post these errors here, too."},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":1,"creation_date":1670453581,"post_id":74722537,"comment_id":131882423,"body_markdown":"Hi, I have included the errors.","body":"Hi, I have included the errors."}],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670491211,"creation_date":1670446337,"answer_id":74722733,"question_id":74722537,"body_markdown":"To be clear: a **lambda expression** is formed like `parameter -&gt; expression` or in case of more parameter they are enclosed in brackets: `(param1, param2) -&gt; expression`. \r\n\r\n## Stream and lambda approach\r\n\r\n```java\r\ntry (Connection con = DriverManager.getConnection(url, user, password);\r\n     PreparedStatement pst = con.prepareStatement(sql)) {\r\n\r\n  map.entrySet()\r\n      .stream()\r\n      .sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue()))\r\n      .forEach(k -&gt; {\r\n        try {\r\n          pst.setInt(1, k.getValue());\r\n          pst.setString(2, k.getKey());\r\n          pst.executeUpdate();\r\n        } catch (SQLException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      });\r\n} catch (Exception ex) {\r\n  // handle errors\r\n}\r\n\r\n```\r\n\r\nYou could also skip the `.sorted()` and the `.stream()` steps.\r\n\r\nBut I don&#39;t see any necessity to use lambdas here. \r\n\r\n## Loop approach\r\n\r\nThis would be the more straight-forward thing.\r\n\r\n```java\r\ntry (Connection con = DriverManager.getConnection(url, user, password);\r\n     PreparedStatement pst = con.prepareStatement(sql)) {\r\n  for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n    pst.setInt(1, entry.getValue());\r\n    pst.setString(2, entry.getKey());\r\n    pst.executeUpdate();\r\n  }\r\n} catch (Exception ex) {\r\n  // handle errors\r\n}\r\n```\r\n\r\nThis makes the code a bit cleaner.","title":"How to use lambda function to insert records into MySQL columns","body":"<p>To be clear: a <strong>lambda expression</strong> is formed like <code>parameter -&gt; expression</code> or in case of more parameter they are enclosed in brackets: <code>(param1, param2) -&gt; expression</code>.</p>\n<h2>Stream and lambda approach</h2>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection con = DriverManager.getConnection(url, user, password);\n     PreparedStatement pst = con.prepareStatement(sql)) {\n\n  map.entrySet()\n      .stream()\n      .sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue()))\n      .forEach(k -&gt; {\n        try {\n          pst.setInt(1, k.getValue());\n          pst.setString(2, k.getKey());\n          pst.executeUpdate();\n        } catch (SQLException e) {\n          throw new RuntimeException(e);\n        }\n      });\n} catch (Exception ex) {\n  // handle errors\n}\n\n</code></pre>\n<p>You could also skip the <code>.sorted()</code> and the <code>.stream()</code> steps.</p>\n<p>But I don't see any necessity to use lambdas here.</p>\n<h2>Loop approach</h2>\n<p>This would be the more straight-forward thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection con = DriverManager.getConnection(url, user, password);\n     PreparedStatement pst = con.prepareStatement(sql)) {\n  for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n    pst.setInt(1, entry.getValue());\n    pst.setString(2, entry.getKey());\n    pst.executeUpdate();\n  }\n} catch (Exception ex) {\n  // handle errors\n}\n</code></pre>\n<p>This makes the code a bit cleaner.</p>\n"}],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74722733,"answer_count":1,"score":1,"last_activity_date":1670495226,"creation_date":1670444795,"question_id":74722537,"body_markdown":"I am trying to figure out how I can use this lambda function to insert data into my MySQL database. I am using Java and do not have any errors anywhere else in the code. \r\n\r\nThe reason I have it sorted is because I am putting it into the database in an order. The words with the highest count in the text are at the top of the database list. \r\n\r\n    map.entrySet().stream().sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue())) \t\t\t\r\n\t\t\t\t.forEach(k -&gt; out.println(k.getKey() + &quot;: &quot; + k.getValue()));\r\n\r\nI am receiving errors when I try to set \r\n\r\n    pst.setInt(1, k.getValue());\r\n    pst.setString(2, k.getKey());\r\n\r\nHere is the rest of my code\r\n\r\n    public class SomeRandomName {\r\n\t\r\n\tstatic Map&lt;String, Integer&gt; count(Scanner scanner) {\r\n\t    Map&lt;String, Integer&gt; words = new LinkedHashMap&lt;&gt;();\r\n\t    while (scanner.hasNext()) {\r\n\t        words.merge(scanner.next(), 1, Integer::sum);\r\n\t    }\r\n\t    return words;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\ttry (Scanner scanner = new Scanner(new File(&quot;FlyingRats.txt&quot;)).useDelimiter(&quot;\\\\W+&quot;)) {\r\n\t        Map&lt;String, Integer&gt; map = null;\r\n\t\t\ttry {\r\n\t\t\t\tmap = count(scanner);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\ttry(FileWriter fw = new FileWriter(&quot;FlyingRats.txt&quot;, true);\r\n\t\t\t\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n\t\t\t\t\tPrintWriter out = new PrintWriter(bw)) {\r\n\t\t\t\t\r\n\t\t\t\tmap.entrySet().stream().sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue())) \t\t\t\r\n\t\t\t\t.forEach(k -&gt; out.println(k.getKey() + &quot;: &quot; + k.getValue()));\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString url = &quot;jdbc:mysql://localhost:3306/eagle_scoutleader&quot;;\r\n        String user = &quot;root&quot;;\r\n        String password = &quot;**********&quot;;\r\n        \r\n        String sql = &quot;INSERT INTO cats(wordCount, wordName) VALUES(?,?)&quot;;\r\n        String query = &quot;SELECT * FROM cats&quot;;\r\n        \r\n        try (Connection con = DriverManager.getConnection(url, user, password);\r\n                PreparedStatement pst = con.prepareStatement(sql)) {\r\n        \t\r\n                pst.setInt(1, k.getValue());\r\n                pst.setString(2, k.getKey());\r\n                pst.executeUpdate(); \r\n        \t\r\n                Statement statement = con.createStatement();                \r\n\r\n                ResultSet rs = statement.executeQuery(query);             \r\n\r\n            while (rs.next()) {\r\n               System.out.print(rs.getInt(1));\t            \r\n               System.out.print(&quot;: &quot;);\r\n               System.out.print(rs.getInt(2) + &quot; &quot;);\r\n               System.out.println(rs.getString(3));\r\n           }\r\n                            \r\n        } catch (SQLException ex) {\r\n            \r\n            Logger lgr = Logger.getLogger(SomeRandomName.class.getName());\r\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);       \r\n        }\r\n    } }\r\n\t}}\r\n\r\nHere is the error I am receiving if I run the code: The errors are on the same line as I state above. \r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tk cannot be resolved\r\n\tk cannot be resolved\r\nat database.DatabaseINSERT.main(DatabaseINSERT.java:85)\r\n```\r\n","title":"How to use lambda function to insert records into MySQL columns","body":"<p>I am trying to figure out how I can use this lambda function to insert data into my MySQL database. I am using Java and do not have any errors anywhere else in the code.</p>\n<p>The reason I have it sorted is because I am putting it into the database in an order. The words with the highest count in the text are at the top of the database list.</p>\n<pre><code>map.entrySet().stream().sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue()))             \n            .forEach(k -&gt; out.println(k.getKey() + &quot;: &quot; + k.getValue()));\n</code></pre>\n<p>I am receiving errors when I try to set</p>\n<pre><code>pst.setInt(1, k.getValue());\npst.setString(2, k.getKey());\n</code></pre>\n<p>Here is the rest of my code</p>\n<pre><code>public class SomeRandomName {\n\nstatic Map&lt;String, Integer&gt; count(Scanner scanner) {\n    Map&lt;String, Integer&gt; words = new LinkedHashMap&lt;&gt;();\n    while (scanner.hasNext()) {\n        words.merge(scanner.next(), 1, Integer::sum);\n    }\n    return words;\n}\n\npublic static void main(String[] args) throws IOException {\n    \n    try (Scanner scanner = new Scanner(new File(&quot;FlyingRats.txt&quot;)).useDelimiter(&quot;\\\\W+&quot;)) {\n        Map&lt;String, Integer&gt; map = null;\n        try {\n            map = count(scanner);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n                \n        try(FileWriter fw = new FileWriter(&quot;FlyingRats.txt&quot;, true);\n                BufferedWriter bw = new BufferedWriter(fw);\n                PrintWriter out = new PrintWriter(bw)) {\n            \n            map.entrySet().stream().sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue()))             \n            .forEach(k -&gt; out.println(k.getKey() + &quot;: &quot; + k.getValue()));\n                                    \n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    String url = &quot;jdbc:mysql://localhost:3306/eagle_scoutleader&quot;;\n    String user = &quot;root&quot;;\n    String password = &quot;**********&quot;;\n    \n    String sql = &quot;INSERT INTO cats(wordCount, wordName) VALUES(?,?)&quot;;\n    String query = &quot;SELECT * FROM cats&quot;;\n    \n    try (Connection con = DriverManager.getConnection(url, user, password);\n            PreparedStatement pst = con.prepareStatement(sql)) {\n        \n            pst.setInt(1, k.getValue());\n            pst.setString(2, k.getKey());\n            pst.executeUpdate(); \n        \n            Statement statement = con.createStatement();                \n\n            ResultSet rs = statement.executeQuery(query);             \n\n        while (rs.next()) {\n           System.out.print(rs.getInt(1));              \n           System.out.print(&quot;: &quot;);\n           System.out.print(rs.getInt(2) + &quot; &quot;);\n           System.out.println(rs.getString(3));\n       }\n                        \n    } catch (SQLException ex) {\n        \n        Logger lgr = Logger.getLogger(SomeRandomName.class.getName());\n        lgr.log(Level.SEVERE, ex.getMessage(), ex);       \n    }\n} }\n}}\n</code></pre>\n<p>Here is the error I am receiving if I run the code: The errors are on the same line as I state above.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    k cannot be resolved\n    k cannot be resolved\nat database.DatabaseINSERT.main(DatabaseINSERT.java:85)\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670495136,"creation_date":1670495136,"answer_id":74728777,"question_id":74439561,"body_markdown":"If you want to use a function that is unknown to Hibernate in the select clause you will have to cast the expression:\r\n\r\n    builder.function(\r\n        &quot;jsonb_extract_path_text&quot;, \r\n        Integer.class, // Some other type so that casting works\r\n        rootBooking.get(&quot;data&quot;), \r\n        builder.literal(&quot;id&quot;)\r\n    ).as(String.class).alias(&quot;id&quot;)\r\n\r\nIn Hibernate 6 this is not necessary anymore. If you don&#39;t want the cast, the register the function as `SQLFunction` in the `Dialect`.","title":"How to select using Criteria Builder","body":"<p>If you want to use a function that is unknown to Hibernate in the select clause you will have to cast the expression:</p>\n<pre><code>builder.function(\n    &quot;jsonb_extract_path_text&quot;, \n    Integer.class, // Some other type so that casting works\n    rootBooking.get(&quot;data&quot;), \n    builder.literal(&quot;id&quot;)\n).as(String.class).alias(&quot;id&quot;)\n</code></pre>\n<p>In Hibernate 6 this is not necessary anymore. If you don't want the cast, the register the function as <code>SQLFunction</code> in the <code>Dialect</code>.</p>\n"}],"owner":{"account_id":15201372,"reputation":11,"user_id":10969269,"display_name":"Eduardojls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670495136,"creation_date":1668473909,"question_id":74439561,"body_markdown":"I want to query the following **PSQL** script, but using Criteria Builder: \r\n\r\n**PostgreSQL**\r\n\r\n`SELECT ts.domain, ts.&quot;data&quot; -&gt; &#39;id&#39; as id\r\nFROM myScheme.myServiceTable ts;`\r\n\r\nI&#39;ve tried this so far with criteria, but it&#39;s contantly throwing an annoying error message\r\n\r\n**Criteria Builder code** \r\n\r\n    public final CriteriaQuery&lt;Object[]&gt; getServiceInfo() {\r\n\r\n        final CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n        final CriteriaQuery&lt;Object[]&gt; criteria = builder.createQuery(Object[].class);\r\n        final Root&lt;ServiceTable&gt; rootBooking = criteria.from(ServiceTable.class);\r\n\r\n        criteria.multiselect(\r\n             builder.function(&quot;jsonb_extract_path_text&quot;, \r\n                               String.class, \r\n                               rootBooking.get(&quot;data&quot;), \r\n                               builder.literal(&quot;id&quot;)\r\n             ).alias(&quot;id&quot;),\r\n             rootBooking.get(&quot;domain&quot;)\r\n        );\r\n    }\r\n\r\n**Error message:**\r\n\r\n    org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode \\r\\n \\\\-[METHOD_CALL] MethodNode: &#39;function (jsonb_extract_path_text)&#39;\\r\\n    +-[METHOD_NAME] IdentNode: &#39;jsonb_extract_path_text&#39; {originalText=jsonb_extract_path_text}\\r\\n    \\\\-[EXPR_LIST] SqlNode: &#39;exprList&#39;\\r\\n\r\n\r\nIf anybody knows how can I query what I mentioned before, I&#39;ll appreciate it.\r\n\r\n\r\n","title":"How to select using Criteria Builder","body":"<p>I want to query the following <strong>PSQL</strong> script, but using Criteria Builder:</p>\n<p><strong>PostgreSQL</strong></p>\n<p><code>SELECT ts.domain, ts.&quot;data&quot; -&gt; 'id' as id FROM myScheme.myServiceTable ts;</code></p>\n<p>I've tried this so far with criteria, but it's contantly throwing an annoying error message</p>\n<p><strong>Criteria Builder code</strong></p>\n<pre><code>public final CriteriaQuery&lt;Object[]&gt; getServiceInfo() {\n\n    final CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    final CriteriaQuery&lt;Object[]&gt; criteria = builder.createQuery(Object[].class);\n    final Root&lt;ServiceTable&gt; rootBooking = criteria.from(ServiceTable.class);\n\n    criteria.multiselect(\n         builder.function(&quot;jsonb_extract_path_text&quot;, \n                           String.class, \n                           rootBooking.get(&quot;data&quot;), \n                           builder.literal(&quot;id&quot;)\n         ).alias(&quot;id&quot;),\n         rootBooking.get(&quot;domain&quot;)\n    );\n}\n</code></pre>\n<p><strong>Error message:</strong></p>\n<pre><code>org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode \\r\\n \\\\-[METHOD_CALL] MethodNode: 'function (jsonb_extract_path_text)'\\r\\n    +-[METHOD_NAME] IdentNode: 'jsonb_extract_path_text' {originalText=jsonb_extract_path_text}\\r\\n    \\\\-[EXPR_LIST] SqlNode: 'exprList'\\r\\n\n</code></pre>\n<p>If anybody knows how can I query what I mentioned before, I'll appreciate it.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1670499133,"post_id":74728551,"comment_id":131891663,"body_markdown":"All this should not be needed. It is exactly what the second (true) parameter is for: modal dialog, waits until the dialog is closed by the user. Probably you should post a [SSCCE](http://sscce.org/).","body":"All this should not be needed. It is exactly what the second (true) parameter is for: modal dialog, waits until the dialog is closed by the user. Probably you should post a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670506541,"post_id":74728551,"comment_id":131894071,"body_markdown":"`Thread.currentThread().stop();` ← [NEVER DO THAT.](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#stop())  That is not the only deprecated method you’re using;  `show()` is also deprecated.  I recommend enabling all compiler warnings and properly addressing them.","body":"<code>Thread.currentThread().stop();</code> ← <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#stop()\" rel=\"nofollow noreferrer\">NEVER DO THAT.</a>  That is not the only deprecated method you’re using;  <code>show()</code> is also deprecated.  I recommend enabling all compiler warnings and properly addressing them."}],"owner":{"account_id":23487628,"reputation":1,"user_id":17538996,"display_name":"MiMaRz 97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670495092,"creation_date":1670494038,"question_id":74728551,"body_markdown":"I wanted to ask if anyone knows how to make the program go to rest and the user having to confirm his return? For now I have a timer that check if the mouse was not moving on the screen and any key was pressed in last 10 minutes.\r\n\r\nSo after showing a JDialog in the timer:\r\n\r\n\r\n```\r\nJDialog d = new JDialog(this, &quot;Program stopped by AntyAFK procedure.&quot;, true );\r\nd.setSize(300, 300);\r\n        d.show();\r\n```\r\n\r\nI tried to make my program rest by making a thread go to stop until user close the JDialog, because I don&#39;t want my program to make any changes when the user is away: \r\n\r\n```\r\nwhile (new MyFrame().isVisible()) {\r\n    try {\r\n        Thread.currentThread().stop();\r\n    } catch (Exception e) {\r\n    }\r\n}\r\n```\r\n\r\nBut it does not work. I actually know that it is incorrect, because I stopped my main thread, but for now I don&#39;t have any hint what to do to stop it and make possible way to close a new showed JDialog to restart main thread.\r\n\r\n","title":"How to make my program to wait for user to close JDialog?","body":"<p>I wanted to ask if anyone knows how to make the program go to rest and the user having to confirm his return? For now I have a timer that check if the mouse was not moving on the screen and any key was pressed in last 10 minutes.</p>\n<p>So after showing a JDialog in the timer:</p>\n<pre><code>JDialog d = new JDialog(this, &quot;Program stopped by AntyAFK procedure.&quot;, true );\nd.setSize(300, 300);\n        d.show();\n</code></pre>\n<p>I tried to make my program rest by making a thread go to stop until user close the JDialog, because I don't want my program to make any changes when the user is away:</p>\n<pre><code>while (new MyFrame().isVisible()) {\n    try {\n        Thread.currentThread().stop();\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n<p>But it does not work. I actually know that it is incorrect, because I stopped my main thread, but for now I don't have any hint what to do to stop it and make possible way to close a new showed JDialog to restart main thread.</p>\n"},{"tags":["java","spring","session","tomcat","spring-mvc"],"comments":[{"owner":{"account_id":1861886,"reputation":3121,"user_id":1686330,"accept_rate":83,"display_name":"Dirk Lachowski"},"score":0,"creation_date":1396009862,"post_id":22712827,"comment_id":34610728,"body_markdown":"Possible duplicate of http://stackoverflow.com/q/9508408/1686330","body":"Possible duplicate of <a href=\"http://stackoverflow.com/q/9508408/1686330\">stackoverflow.com/q/9508408/1686330</a>"},{"owner":{"account_id":3571670,"reputation":1534,"user_id":3069084,"accept_rate":61,"display_name":"Aditi K"},"score":0,"creation_date":1396010980,"post_id":22712827,"comment_id":34611480,"body_markdown":"@Dirk Lachowski I already reffer that link and added org.springframework.orm.hibernate4.LocalSessionFactoryBean &amp; &lt;property name=&quot;packagesToScan&quot;&gt; to my .xml file","body":"@Dirk Lachowski I already reffer that link and added org.springframework.orm.hibernate4.LocalSessionFactoryBean &amp; &lt;property name=&quot;packagesToScan&quot;&gt; to my .xml file"},{"owner":{"account_id":2542363,"reputation":4423,"user_id":2207894,"display_name":"Shinichi Kai"},"score":1,"creation_date":1396032440,"post_id":22712827,"comment_id":34625553,"body_markdown":"Could you show us the full stack trace for the NullPointerException?","body":"Could you show us the full stack trace for the NullPointerException?"},{"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"score":0,"creation_date":1396064227,"post_id":22712827,"comment_id":34636190,"body_markdown":"also add package names of `BaseDao`, `AddressDao` and `AddressDaoImpl` classes.","body":"also add package names of <code>BaseDao</code>, <code>AddressDao</code> and <code>AddressDaoImpl</code> classes."},{"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"score":0,"creation_date":1396065216,"post_id":22712827,"comment_id":34636355,"body_markdown":"and if you have `&lt;context:component-scan ...&gt;` in any other context file except `application-persistance.xml` add that too to your question","body":"and if you have <code>&lt;context:component-scan ...&gt;</code> in any other context file except <code>application-persistance.xml</code> add that too to your question"},{"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"score":0,"creation_date":1396083942,"post_id":22712827,"comment_id":34640156,"body_markdown":"@AditiK you have added imports but forgot to add package names..","body":"@AditiK you have added imports but forgot to add package names.."},{"owner":{"account_id":3571670,"reputation":1534,"user_id":3069084,"accept_rate":61,"display_name":"Aditi K"},"score":0,"creation_date":1396084444,"post_id":22712827,"comment_id":34640280,"body_markdown":"@Rembo i have edited my files plz check once","body":"@Rembo i have edited my files plz check once"},{"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"score":0,"creation_date":1396582874,"post_id":22712827,"comment_id":34863355,"body_markdown":"@AditiK if you use `username` and `password` in `hibernate.cfg.xml` remove those lines, will solve problem.","body":"@AditiK if you use <code>username</code> and <code>password</code> in <code>hibernate.cfg.xml</code> remove those lines, will solve problem."}],"answers":[{"tags":[],"owner":{"account_id":1027491,"reputation":768,"user_id":1036494,"accept_rate":75,"display_name":"Pirulino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396050340,"creation_date":1396050340,"answer_id":22725081,"question_id":22712827,"body_markdown":"It shouldn&#39;t be your solution, in any case the @component annotation over @repository is useless. Either you insert @repository (better for exception translation) or @component. ","title":"How to resolve Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource in Hibernate4","body":"<p>It shouldn't be your solution, in any case the @component annotation over @repository is useless. Either you insert @repository (better for exception translation) or @component. </p>\n"},{"tags":[],"owner":{"account_id":3571670,"reputation":1534,"user_id":3069084,"accept_rate":61,"display_name":"Aditi K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396844253,"creation_date":1396844253,"answer_id":22903521,"question_id":22712827,"body_markdown":"I resolved it by replacing my JAR files from 4.3.4 to 4.1.7 (downgraded my jar) hibernate version ,I dont know why its not working with latest versions of Hibernate\r\n","title":"How to resolve Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource in Hibernate4","body":"<p>I resolved it by replacing my JAR files from 4.3.4 to 4.1.7 (downgraded my jar) hibernate version ,I dont know why its not working with latest versions of Hibernate</p>\n"}],"owner":{"account_id":3571670,"reputation":1534,"user_id":3069084,"accept_rate":61,"display_name":"Aditi K"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27908,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1670494806,"creation_date":1396009559,"question_id":22712827,"body_markdown":"I am using Hibernate4 in my application for multitenancy implementation while building application war i got following error in my catalina of tomcat.\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: \r\n    protected org.hibernate.SessionFactory com.boxco.blip.dao.BaseDao.sessionFactory; \r\n    nested exception is org.springframework.beans.factory.BeanCreationException: \r\n    Error    creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource [/WEB-INF/applicationContext-persistence.xml]: \r\n    Invocation of init method failed; nested exception is java.lang.NullPointerException\r\n\r\nHere is my application -persistance.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;...&quot;&gt;\r\n\r\n \t&lt;context:annotation-config /&gt;\r\n\t&lt;tx:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.boxco.blip&quot;&gt;\r\n    &lt;/context:component-scan&gt;\r\n    \r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;jndiName&quot;&gt;\r\n\t\t\t&lt;value&gt;jdbc/blip&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;resourceRef&quot;&gt;\r\n\t\t\t&lt;value&gt;true&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n  \r\n    \r\n    &lt;!-- Hibernate Session Factory  --&gt;\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n            &lt;list&gt;\r\n\t\t&lt;value&gt;com.boxco.blip.model.Address&lt;/value&gt;\t\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;          \r\n             &lt;map&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.jdbc.batch_size&quot; value=&quot;0&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.connection.release_mode&quot; value=&quot;after_transaction&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.multiTenancy&quot; value=&quot;SCHEMA&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.tenant_identifier_resolver&quot; value-ref=&quot;multiTenantIdentifierResolver1&quot; /&gt;\r\n\t\t\t\t&lt;entry key=&quot;hibernate.multi_tenant_connection_provider&quot; value-ref=&quot;multiTenantConnectionProvider1&quot; /&gt;      \r\n\t      &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n     &lt;bean id=&quot;multiTenantConnectionProvider1&quot; class=&quot;com.boxco.blip.web.util.SchemaMultiTenantConnectionProviderBlip&quot;&gt;\r\n\t    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n\t  &lt;/bean&gt;\r\n     &lt;bean id=&quot;multiTenantIdentifierResolver1&quot; class=&quot;com.boxco.blip.web.util.SchemaCurrentTenantIdentifierResolverBlip&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;/bean&gt;    \r\n &lt;/beans&gt;\r\nMY AddressDao.java File\r\n   \r\n\r\n    package com.boxco.blip.dao;\r\n\r\n    import com.boxco.blip.model.Address;\r\n\r\n    public interface AddressDao {\r\n\t   public Address getAddressByAddressId(int addressId);\r\n     }\r\n\r\nMy AddressDaoImpl.java file\r\n   \r\n\r\n    package com.boxco.blip.dao;\r\n   \r\n    import org.apache.log4j.Logger;\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import com.boxco.blip.model.Address;\r\n    @Component\r\n    @Repository(value = &quot;addressDao&quot;)\r\n\r\n    public class AddressDaoImpl extends BaseDao implements AddressDao {\r\n\tprivate static final Logger logger = Logger.getLogger(AddressDaoImpl.class);\r\n\t\r\n        @Override\r\n\t public Address getAddressByAddressId(int addressId) {\r\n\t\tlogger.info(&quot;Entering getAddressByAddressId()........&quot;);\r\n\t\tAddress address = null;\r\n\t\tCriteria criteria = getSession().createCriteria(Address.class);\r\n\t\tcriteria.add(Restrictions.eq(&quot;addressId&quot;, addressId));\r\n\t\tcriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n\t\taddress = (Address)criteria.uniqueResult();\r\n\t\tlogger.info(&quot;Exiting getAddressByAddressId()..........&quot;);\r\n\t\treturn address;\r\n\t}\r\n}\r\n\r\nMy Base Dao file where i init sessionFactory object:\r\n\r\n    package com.boxco.blip.dao;\r\n    \r\n    import java.sql.SQLException;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.orm.hibernate3.HibernateTemplate;\r\n\r\n    import com.mysql.jdbc.Connection;\r\n\r\n    public abstract class BaseDao \r\n     {\r\n\r\n\t@Autowired\r\n\t@Qualifier(&quot;sessionFactory&quot;)\r\n\tprotected SessionFactory sessionFactory;\r\n\r\n\tprotected void init(SessionFactory factory) {\r\n\t\ttry {\r\n\t\t\tsetSessionFactory(factory);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic SessionFactory getSessionFactory() {\r\n\t\treturn sessionFactory;\r\n\t}\r\n\r\n\tpublic void setSessionFactory(SessionFactory sessionFactory) {\r\n\t\tthis.sessionFactory = sessionFactory;\r\n\t}\r\n\r\n\tpublic Session getSession() throws HibernateException {\r\n\t\t// return sessionFactory.getCurrentSession();\r\n\t\treturn sessionFactory.withOptions().tenantIdentifier(&quot;BLIP1314ERP&quot;)\r\n\t\t\t\t.openSession();\r\n\t}\r\n       \r\n         //some more methods\r\n      }\r\n\r\nMy Dispatcher-servlet.xml file where  &lt;context:component-scan....&gt; is added\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;...&quot;&gt;\r\n\r\n    &lt;mvc:annotation-driven/&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;com.boxco&quot;&gt;\r\n        &lt;!-- &lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;com.boxco.blip.dao.*&quot; /&gt; --&gt;\r\n    &lt;/context:component-scan&gt;\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.ResourceBundleViewResolver&quot;&gt;\r\n        &lt;property name=&quot;basenames&quot; value=&quot;views&quot;/&gt;\r\n     \r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basenames&quot;&gt;\r\n            &lt;value&gt;messages,error_codes&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt; \r\n\r\n   \t&lt;bean id=&quot;validatorFactory&quot;\r\n          class=&quot;org.springmodules.validation.commons.DefaultValidatorFactory&quot;&gt;\r\n        &lt;property name=&quot;validationConfigLocations&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;/WEB-INF/validator-rules.xml&lt;/value&gt;\r\n                &lt;value&gt;/WEB-INF/validator.xml&lt;/value&gt;\r\n                &lt;value&gt;/WEB-INF/validatorFas.xml&lt;/value&gt;\r\n                &lt;value&gt;/WEB-INF/validatorFas-rules.xml&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;validator&quot; class=&quot;org.springmodules.validation.commons.DefaultBeanValidator&quot;&gt;\r\n        &lt;property name=&quot;validatorFactory&quot; ref=&quot;validatorFactory&quot;/&gt;\r\n    &lt;/bean&gt;     \r\n  \r\nError is in my `SessionFactory` initialization but why it is not getting init is my problem..?\r\n(I am handling this error first time)..\r\n\r\nAny suggestion appreciated.","title":"How to resolve Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource in Hibernate4","body":"<p>I am using Hibernate4 in my application for multitenancy implementation while building application war i got following error in my catalina of tomcat.</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: \nprotected org.hibernate.SessionFactory com.boxco.blip.dao.BaseDao.sessionFactory; \nnested exception is org.springframework.beans.factory.BeanCreationException: \nError    creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/applicationContext-persistence.xml]: \nInvocation of init method failed; nested exception is java.lang.NullPointerException\n</code></pre>\n\n<p>Here is my application -persistance.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"...\"&gt;\n\n&lt;context:annotation-config /&gt;\n&lt;tx:annotation-driven /&gt;\n&lt;context:component-scan base-package=\"com.boxco.blip\"&gt;\n&lt;/context:component-scan&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n&lt;bean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"&gt;\n    &lt;property name=\"jndiName\"&gt;\n        &lt;value&gt;jdbc/blip&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"resourceRef\"&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n\n&lt;!-- Hibernate Session Factory  --&gt;\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n    &lt;value&gt;com.boxco.blip.model.Address&lt;/value&gt; \n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;          \n         &lt;map&gt;\n            &lt;entry key=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\" /&gt;\n            &lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n            &lt;entry key=\"hibernate.show_sql\" value=\"true\" /&gt;\n            &lt;entry key=\"hibernate.connection.autocommit\" value=\"false\" /&gt;\n            &lt;entry key=\"hibernate.jdbc.batch_size\" value=\"0\" /&gt;\n            &lt;entry key=\"hibernate.connection.release_mode\" value=\"after_transaction\" /&gt;\n            &lt;entry key=\"hibernate.multiTenancy\" value=\"SCHEMA\" /&gt;\n            &lt;entry key=\"hibernate.tenant_identifier_resolver\" value-ref=\"multiTenantIdentifierResolver1\" /&gt;\n            &lt;entry key=\"hibernate.multi_tenant_connection_provider\" value-ref=\"multiTenantConnectionProvider1\" /&gt;      \n      &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n &lt;bean id=\"multiTenantConnectionProvider1\" class=\"com.boxco.blip.web.util.SchemaMultiTenantConnectionProviderBlip\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n  &lt;/bean&gt;\n &lt;bean id=\"multiTenantIdentifierResolver1\" class=\"com.boxco.blip.web.util.SchemaCurrentTenantIdentifierResolverBlip\" /&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n&lt;/bean&gt;    \n</code></pre>\n\n<p>\nMY AddressDao.java File</p>\n\n<pre><code>package com.boxco.blip.dao;\n\nimport com.boxco.blip.model.Address;\n\npublic interface AddressDao {\n   public Address getAddressByAddressId(int addressId);\n }\n</code></pre>\n\n<p>My AddressDaoImpl.java file</p>\n\n<pre><code>package com.boxco.blip.dao;\n\nimport org.apache.log4j.Logger;\nimport org.hibernate.Criteria;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\n\nimport com.boxco.blip.model.Address;\n@Component\n@Repository(value = \"addressDao\")\n\npublic class AddressDaoImpl extends BaseDao implements AddressDao {\nprivate static final Logger logger = Logger.getLogger(AddressDaoImpl.class);\n\n    @Override\n public Address getAddressByAddressId(int addressId) {\n    logger.info(\"Entering getAddressByAddressId()........\");\n    Address address = null;\n    Criteria criteria = getSession().createCriteria(Address.class);\n    criteria.add(Restrictions.eq(\"addressId\", addressId));\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n    address = (Address)criteria.uniqueResult();\n    logger.info(\"Exiting getAddressByAddressId()..........\");\n    return address;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My Base Dao file where i init sessionFactory object:</p>\n\n<pre><code>package com.boxco.blip.dao;\n\nimport java.sql.SQLException;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\nimport org.hibernate.Criteria;\nimport org.hibernate.HibernateException;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.orm.hibernate3.HibernateTemplate;\n\nimport com.mysql.jdbc.Connection;\n\npublic abstract class BaseDao \n {\n\n@Autowired\n@Qualifier(\"sessionFactory\")\nprotected SessionFactory sessionFactory;\n\nprotected void init(SessionFactory factory) {\n    try {\n        setSessionFactory(factory);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n\npublic SessionFactory getSessionFactory() {\n    return sessionFactory;\n}\n\npublic void setSessionFactory(SessionFactory sessionFactory) {\n    this.sessionFactory = sessionFactory;\n}\n\npublic Session getSession() throws HibernateException {\n    // return sessionFactory.getCurrentSession();\n    return sessionFactory.withOptions().tenantIdentifier(\"BLIP1314ERP\")\n            .openSession();\n}\n\n     //some more methods\n  }\n</code></pre>\n\n<p>My Dispatcher-servlet.xml file where   is added</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"...\"&gt;\n\n&lt;mvc:annotation-driven/&gt;\n\n&lt;context:component-scan base-package=\"com.boxco\"&gt;\n    &lt;!-- &lt;context:exclude-filter type=\"regex\" expression=\"com.boxco.blip.dao.*\" /&gt; --&gt;\n&lt;/context:component-scan&gt;\n\n&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.ResourceBundleViewResolver\"&gt;\n    &lt;property name=\"basenames\" value=\"views\"/&gt;\n\n&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basenames\"&gt;\n        &lt;value&gt;messages,error_codes&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt; \n\n&lt;bean id=\"validatorFactory\"\n      class=\"org.springmodules.validation.commons.DefaultValidatorFactory\"&gt;\n    &lt;property name=\"validationConfigLocations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;/WEB-INF/validator-rules.xml&lt;/value&gt;\n            &lt;value&gt;/WEB-INF/validator.xml&lt;/value&gt;\n            &lt;value&gt;/WEB-INF/validatorFas.xml&lt;/value&gt;\n            &lt;value&gt;/WEB-INF/validatorFas-rules.xml&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"validator\" class=\"org.springmodules.validation.commons.DefaultBeanValidator\"&gt;\n    &lt;property name=\"validatorFactory\" ref=\"validatorFactory\"/&gt;\n&lt;/bean&gt;     \n</code></pre>\n\n<p>Error is in my <code>SessionFactory</code> initialization but why it is not getting init is my problem..?\n(I am handling this error first time)..</p>\n\n<p>Any suggestion appreciated.</p>\n"},{"tags":["java","spring-boot","configuration"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1521712812,"creation_date":1521712812,"answer_id":49425595,"question_id":49424917,"body_markdown":"[`ResourceBundle.getBundle(String baseName)`][1] relies on the classloader and not directly the file system to find the resource.  \r\nThis is equivalent to invoke the overloaded one :\r\n\r\n    getBundle(baseName, Locale.getDefault(), this.getClass().getClassLoader()), \r\n\r\nSo your result is expected.   \r\nWhat you look for is [`PropertyResourceBundle`][2].  \r\nTo create an instance of you need either a `Reader` or an `InputStream`.  \r\n\r\n\r\nYou could load both external and internal files.\r\n   \r\n    ResourceBundle internalProps = ResourceBundle.getBundle(&quot;application&quot;);\r\n    ResourceBundle externalProps = new  PropertyResourceBundle(Files.newInputStream(Paths.get(&quot;application.properties&quot;));\r\n\r\nYou could so use the external `ResourceBundle` in first intention and the second one as fallback.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBundle-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/PropertyResourceBundle.html","title":"ResourceBundle file outside jar","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBundle-java.lang.String-\" rel=\"noreferrer\"><code>ResourceBundle.getBundle(String baseName)</code></a> relies on the classloader and not directly the file system to find the resource.<br>\nThis is equivalent to invoke the overloaded one :</p>\n\n<pre><code>getBundle(baseName, Locale.getDefault(), this.getClass().getClassLoader()), \n</code></pre>\n\n<p>So your result is expected.<br>\nWhat you look for is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PropertyResourceBundle.html\" rel=\"noreferrer\"><code>PropertyResourceBundle</code></a>.<br>\nTo create an instance of you need either a <code>Reader</code> or an <code>InputStream</code>.  </p>\n\n<p>You could load both external and internal files.</p>\n\n<pre><code>ResourceBundle internalProps = ResourceBundle.getBundle(\"application\");\nResourceBundle externalProps = new  PropertyResourceBundle(Files.newInputStream(Paths.get(\"application.properties\"));\n</code></pre>\n\n<p>You could so use the external <code>ResourceBundle</code> in first intention and the second one as fallback.</p>\n"}],"owner":{"account_id":2349210,"reputation":3506,"user_id":2058534,"accept_rate":77,"display_name":"prettyvoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2877,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49425595,"answer_count":1,"score":3,"last_activity_date":1670494438,"creation_date":1521710885,"question_id":49424917,"body_markdown":"I have a spring boot application with `/resources/application.properties`, when deployed there is a `application.properties` next to the jar (and the one inside it).\r\n\r\nSomewhere in the code I use `ResourceBundle.getBundle(&quot;application&quot;).getString(&quot;x&quot;)` but that always return the value defined in the properties inside the jar. \r\n\r\nMy objective is to get the value from the external file if it exists, if not then I need to get the value from inside the jar. Just like the default springs behavior but I&#39;m not able to achieve this.\r\n\r\nedit:\r\n\r\nYou can either use the solution in the correct answer below or you can rely on springs `Environment` by autowiring it and using `getProperty()`\r\n\r\n","title":"ResourceBundle file outside jar","body":"<p>I have a spring boot application with <code>/resources/application.properties</code>, when deployed there is a <code>application.properties</code> next to the jar (and the one inside it).</p>\n\n<p>Somewhere in the code I use <code>ResourceBundle.getBundle(\"application\").getString(\"x\")</code> but that always return the value defined in the properties inside the jar. </p>\n\n<p>My objective is to get the value from the external file if it exists, if not then I need to get the value from inside the jar. Just like the default springs behavior but I'm not able to achieve this.</p>\n\n<p>edit:</p>\n\n<p>You can either use the solution in the correct answer below or you can rely on springs <code>Environment</code> by autowiring it and using <code>getProperty()</code></p>\n"},{"tags":["java","windows","spring-boot","winsw"],"owner":{"account_id":26891723,"reputation":11,"user_id":20470369,"display_name":"SomeRandom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670494429,"creation_date":1668511727,"question_id":74444874,"body_markdown":"I am trying to use [Winsw](https://github.com/winsw/winsw) to make my jar file run as a windows service. I rely on the documentation in order to do so.\r\n\r\nTo install a service, it is specified that the command `winsw install myapp.xml` should be used. The problem is that when I do that I get the error :\r\n\r\n```\r\n&gt; Winsw.exe install myapp.xml\r\n2022-11-15 12:24:46,791 FATAL - Unhandled exception\r\nSystem.IO.FileNotFoundException: Unable to locate Winsw.[xml|yml] file within executable directory\r\n   at WinSW.Program.LoadConfigAndInitLoggers(Boolean inConsoleMode)\r\n   at WinSW.Program.Run(String[] argsArray, IServiceConfig config)\r\n   at WinSW.Program.Main(String[] args)\r\n```\r\n\r\nit expects the XML/YML to have the same name, when I rename the XML file it works fine, but I do not want to rename it as I want to use the same .exe file in order to start multiple services.\r\n\r\nI tried to launch the different commands of install/uninstall, they all react the same.\r\n\r\nAny Ideas ?","title":"Cannot locate .xml file using WinSW to start windows service","body":"<p>I am trying to use <a href=\"https://github.com/winsw/winsw\" rel=\"nofollow noreferrer\">Winsw</a> to make my jar file run as a windows service. I rely on the documentation in order to do so.</p>\n<p>To install a service, it is specified that the command <code>winsw install myapp.xml</code> should be used. The problem is that when I do that I get the error :</p>\n<pre><code>&gt; Winsw.exe install myapp.xml\n2022-11-15 12:24:46,791 FATAL - Unhandled exception\nSystem.IO.FileNotFoundException: Unable to locate Winsw.[xml|yml] file within executable directory\n   at WinSW.Program.LoadConfigAndInitLoggers(Boolean inConsoleMode)\n   at WinSW.Program.Run(String[] argsArray, IServiceConfig config)\n   at WinSW.Program.Main(String[] args)\n</code></pre>\n<p>it expects the XML/YML to have the same name, when I rename the XML file it works fine, but I do not want to rename it as I want to use the same .exe file in order to start multiple services.</p>\n<p>I tried to launch the different commands of install/uninstall, they all react the same.</p>\n<p>Any Ideas ?</p>\n"},{"tags":["java","angular","versionupgrade"],"answers":[{"tags":[],"owner":{"account_id":27187885,"reputation":109,"user_id":20722113,"display_name":"turtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670494377,"creation_date":1670494046,"answer_id":74728553,"question_id":74726700,"body_markdown":"Have you tried deleting your node_modules folder and package-lock.json and run:\r\n\r\n    npm install\r\n\r\nAnother fix that might work would be:\r\n\r\n    npm link webpack","title":"Angular application compiled successfully but isn&#39;t loaded in the browser, also throwing Uncaught ReferenceError: process is not defined","body":"<p>Have you tried deleting your node_modules folder and package-lock.json and run:</p>\n<pre><code>npm install\n</code></pre>\n<p>Another fix that might work would be:</p>\n<pre><code>npm link webpack\n</code></pre>\n"}],"owner":{"account_id":12349090,"reputation":11,"user_id":9008641,"display_name":"Pooja Bharadwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74728553,"answer_count":1,"score":-1,"last_activity_date":1670494377,"creation_date":1670483719,"question_id":74726700,"body_markdown":"\r\n\r\nI upgraded my Angular application from Angular 11 to Angular 12, after a lot of work I finally solved all the errors and the application was compiling successfully. But now when I open the local server to take a look at it, it doesn&#39;t display anything on the screen .\r\nError Coming in console is below .\r\n\r\n```\r\nutil.js:109 Uncaught ReferenceError: process is not defined\r\n    at Object.MCLT (util.js:109:1)\r\n    at __webpack_require__ (bootstrap:84:1)\r\n    at yz4/ (dropdown-menu.component.ts:9:35)\r\n    at __webpack_require__ (bootstrap:84:1)\r\n    at Dwu+ (environment.ts:16:68)\r\n    at __webpack_require__ (bootstrap:84:1)\r\n    at Module.ZAI4 (main.js:3680:94)\r\n    at __webpack_require__ (bootstrap:84:1)\r\n    at Module.zUnb (main.ts:1:1)\r\n    at __webpack_require__ (bootstrap:84:1)\r\n```\r\n\r\n\r\nCan someone help me out  to Load the application on browser.","title":"Angular application compiled successfully but isn&#39;t loaded in the browser, also throwing Uncaught ReferenceError: process is not defined","body":"<p>I upgraded my Angular application from Angular 11 to Angular 12, after a lot of work I finally solved all the errors and the application was compiling successfully. But now when I open the local server to take a look at it, it doesn't display anything on the screen .\nError Coming in console is below .</p>\n<pre><code>util.js:109 Uncaught ReferenceError: process is not defined\n    at Object.MCLT (util.js:109:1)\n    at __webpack_require__ (bootstrap:84:1)\n    at yz4/ (dropdown-menu.component.ts:9:35)\n    at __webpack_require__ (bootstrap:84:1)\n    at Dwu+ (environment.ts:16:68)\n    at __webpack_require__ (bootstrap:84:1)\n    at Module.ZAI4 (main.js:3680:94)\n    at __webpack_require__ (bootstrap:84:1)\n    at Module.zUnb (main.ts:1:1)\n    at __webpack_require__ (bootstrap:84:1)\n</code></pre>\n<p>Can someone help me out  to Load the application on browser.</p>\n"},{"tags":["java","snowflake-cloud-data-platform","user-defined-functions","snowpark"],"answers":[{"tags":[],"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670431953,"creation_date":1670431953,"answer_id":74720208,"question_id":74718541,"body_markdown":"First of all, thank you for sharing the codes. It helped me to repro the issue. As I see, there are 2 problems here. One is how you access the mmdb (database file), and the second one (*occurs when the first one is solved*) is missing imports.\r\n\r\nInstead of using &quot;getResource&quot; and &quot;toURI&quot;, I used System.getProperty(&quot;com.snowflake.import_directory&quot;) to get the directory path (and build the file path).\r\n\r\nThen I also added missing jackson-* JAR files. \r\n\r\nHere is the script:\r\n\r\n    create or replace function  GEOLOCATOR(IP VARCHAR)\r\n      returns string not null\r\n      language java\r\n      imports=(&#39;@MYSTAGE/GeoLite2-City.mmdb&#39;, &#39;@MYSTAGE/maxmind-db-1.2.1.jar&#39;, &#39;@MYSTAGE/geoip2-2.8.0.jar&#39;, &#39;@MYSTAGE/jackson-core-2.14.1.jar&#39;\r\n              , &#39;@MYSTAGE/jackson-databind-2.14.1.jar&#39;, &#39;@MYSTAGE/jackson-annotations-2.14.1.jar&#39;)\r\n      handler=&#39;MyUDFHandler.isoCode&#39;\r\n    as\r\n    $$\r\n    import com.maxmind.geoip2.DatabaseReader;\r\n    import com.maxmind.geoip2.exception.GeoIp2Exception;\r\n    import com.maxmind.geoip2.model.CityResponse;\r\n    import com.maxmind.geoip2.record.Country;\r\n    \r\n        \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.net.InetAddress;\r\n    import java.net.URL;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    class MyUDFHandler {\r\n        public static String isoCode (String ip_address) throws Exception {\r\n            String importDirectory = System.getProperty(&quot;com.snowflake.import_directory&quot;);\r\n            String fPath = importDirectory + &quot;GeoLite2-City.mmdb&quot;;\r\n            File file = new File( fPath ) ;\r\n            DatabaseReader reader = new DatabaseReader.Builder(file).build();\r\n            CityResponse response = reader.city(InetAddress.getByName(ip_address));\r\n            return response.getCountry().getIsoCode();\r\n        }\r\n    }\r\n     \r\n    $$;\r\n       \r\n    SELECT IP, GEOLOCATOR(IP) as GEO_IP FROM VALUES(&#39;62.45.42.100&#39;) tmp(IP) ;\r\n\r\n    +--------------+--------+\r\n    |      IP      | GEO_IP |\r\n    +--------------+--------+\r\n    | 62.45.42.100 | NL     |\r\n    +--------------+--------+","title":"Snowflake null java.lang.NullPointerException ERROR when launching Java UDF","body":"<p>First of all, thank you for sharing the codes. It helped me to repro the issue. As I see, there are 2 problems here. One is how you access the mmdb (database file), and the second one (<em>occurs when the first one is solved</em>) is missing imports.</p>\n<p>Instead of using &quot;getResource&quot; and &quot;toURI&quot;, I used System.getProperty(&quot;com.snowflake.import_directory&quot;) to get the directory path (and build the file path).</p>\n<p>Then I also added missing jackson-* JAR files.</p>\n<p>Here is the script:</p>\n<pre><code>create or replace function  GEOLOCATOR(IP VARCHAR)\n  returns string not null\n  language java\n  imports=('@MYSTAGE/GeoLite2-City.mmdb', '@MYSTAGE/maxmind-db-1.2.1.jar', '@MYSTAGE/geoip2-2.8.0.jar', '@MYSTAGE/jackson-core-2.14.1.jar'\n          , '@MYSTAGE/jackson-databind-2.14.1.jar', '@MYSTAGE/jackson-annotations-2.14.1.jar')\n  handler='MyUDFHandler.isoCode'\nas\n$$\nimport com.maxmind.geoip2.DatabaseReader;\nimport com.maxmind.geoip2.exception.GeoIp2Exception;\nimport com.maxmind.geoip2.model.CityResponse;\nimport com.maxmind.geoip2.record.Country;\n\n    \nimport java.io.File;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.net.InetAddress;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\nclass MyUDFHandler {\n    public static String isoCode (String ip_address) throws Exception {\n        String importDirectory = System.getProperty(&quot;com.snowflake.import_directory&quot;);\n        String fPath = importDirectory + &quot;GeoLite2-City.mmdb&quot;;\n        File file = new File( fPath ) ;\n        DatabaseReader reader = new DatabaseReader.Builder(file).build();\n        CityResponse response = reader.city(InetAddress.getByName(ip_address));\n        return response.getCountry().getIsoCode();\n    }\n}\n \n$$;\n   \nSELECT IP, GEOLOCATOR(IP) as GEO_IP FROM VALUES('62.45.42.100') tmp(IP) ;\n\n+--------------+--------+\n|      IP      | GEO_IP |\n+--------------+--------+\n| 62.45.42.100 | NL     |\n+--------------+--------+\n</code></pre>\n"}],"owner":{"account_id":13533859,"reputation":117,"user_id":10192738,"display_name":"Kaido"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74720208,"answer_count":1,"score":2,"last_activity_date":1670494264,"creation_date":1670424552,"question_id":74718541,"body_markdown":"I created a Java UDF in a snowflake in order to query GeoIp2 library and get the ISO code of a column list of IP. I have &#39;@AWS_CSV_STAGE/lib/geoip2-2.8.0.jar&#39;,&#39;@AWS_CSV_STAGE/geodata/GeoLite2-City.mmdb&#39; and &#39;maxmind-db-1.2.1.jar&#39; already staged so i included their location with full URL from the AWS_CSV_STAGE in the import option, so i can use the GeoLite2 library and querying the database and get the ISO code (US, NL) for each IP provided. When i save the function it&#39;s correctly saved, but when i launch the SELECT on my table i get the error:\r\n```\r\nUser Error Report: Java Stack Trace: java.lang.NullPointerException at function_handler_0//MyUDFHandler.isoCode(InlineCode.java:18) in function GEOLOCATOR with handler MyUDFHandler.isoCode\r\n\r\n```\r\ni have a doubt about the following lines of code if they are really using the database:\r\n```\r\nURL resource = MyUDFHandler.class.getClassLoader().getResource(&quot;GeoLite2-City.mmdb&quot;);\r\nFile file = new File(resource.toURI());\r\nDatabaseReader reader = new DatabaseReader.Builder(file).build();\r\n```\r\ncode:\r\n\r\n```\r\ncreate or replace function DB_TEST.MAIN_SCHEMA.GEOLOCATOR(IP VARCHAR)\r\n  returns string not null\r\n  language java\r\n  imports=(&#39;@DB_TEST.MAIN_SCHEMA.AWS_CSV_STAGE/geodata/GeoLite2-City.mmdb&#39;, &#39;@DB_TEST.MAIN_SCHEMA.AWS_CSV_STAGE/lib/maxmind-db-1.2.1.jar&#39;, &#39;@DB_TEST.MAIN_SCHEMA.AWS_CSV_STAGE/lib/geoip2-2.8.0.jar&#39;)\r\n  handler=&#39;MyUDFHandler.isoCode&#39;\r\nas\r\n$$\r\nimport com.maxmind.geoip2.DatabaseReader;\r\nimport com.maxmind.geoip2.exception.GeoIp2Exception;\r\nimport com.maxmind.geoip2.model.CityResponse;\r\nimport com.maxmind.geoip2.record.Country;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\nimport java.net.InetAddress;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\nclass MyUDFHandler {\r\n    public static String isoCode (String ip_address) throws Exception {\r\n        URL resource = MyUDFHandler.class.getClassLoader().getResource(&quot;GeoLite2-City.mmdb&quot;);\r\n        File file = new File(resource.toURI());\r\n        DatabaseReader reader = new DatabaseReader.Builder(file).build();\r\n        CityResponse response = reader.city(InetAddress.getByName(ip_address));\r\n        return response.getCountry().getIsoCode();\r\n    }\r\n}\r\n \r\n$$;\r\n\r\nSELECT IP, GEOLOCATOR(IP) as GEO_IP FROM DANGEROUS_IPS LIMIT 1;\r\n```","title":"Snowflake null java.lang.NullPointerException ERROR when launching Java UDF","body":"<p>I created a Java UDF in a snowflake in order to query GeoIp2 library and get the ISO code of a column list of IP. I have '@AWS_CSV_STAGE/lib/geoip2-2.8.0.jar','@AWS_CSV_STAGE/geodata/GeoLite2-City.mmdb' and 'maxmind-db-1.2.1.jar' already staged so i included their location with full URL from the AWS_CSV_STAGE in the import option, so i can use the GeoLite2 library and querying the database and get the ISO code (US, NL) for each IP provided. When i save the function it's correctly saved, but when i launch the SELECT on my table i get the error:</p>\n<pre><code>User Error Report: Java Stack Trace: java.lang.NullPointerException at function_handler_0//MyUDFHandler.isoCode(InlineCode.java:18) in function GEOLOCATOR with handler MyUDFHandler.isoCode\n\n</code></pre>\n<p>i have a doubt about the following lines of code if they are really using the database:</p>\n<pre><code>URL resource = MyUDFHandler.class.getClassLoader().getResource(&quot;GeoLite2-City.mmdb&quot;);\nFile file = new File(resource.toURI());\nDatabaseReader reader = new DatabaseReader.Builder(file).build();\n</code></pre>\n<p>code:</p>\n<pre><code>create or replace function DB_TEST.MAIN_SCHEMA.GEOLOCATOR(IP VARCHAR)\n  returns string not null\n  language java\n  imports=('@DB_TEST.MAIN_SCHEMA.AWS_CSV_STAGE/geodata/GeoLite2-City.mmdb', '@DB_TEST.MAIN_SCHEMA.AWS_CSV_STAGE/lib/maxmind-db-1.2.1.jar', '@DB_TEST.MAIN_SCHEMA.AWS_CSV_STAGE/lib/geoip2-2.8.0.jar')\n  handler='MyUDFHandler.isoCode'\nas\n$$\nimport com.maxmind.geoip2.DatabaseReader;\nimport com.maxmind.geoip2.exception.GeoIp2Exception;\nimport com.maxmind.geoip2.model.CityResponse;\nimport com.maxmind.geoip2.record.Country;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.net.InetAddress;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\nclass MyUDFHandler {\n    public static String isoCode (String ip_address) throws Exception {\n        URL resource = MyUDFHandler.class.getClassLoader().getResource(&quot;GeoLite2-City.mmdb&quot;);\n        File file = new File(resource.toURI());\n        DatabaseReader reader = new DatabaseReader.Builder(file).build();\n        CityResponse response = reader.city(InetAddress.getByName(ip_address));\n        return response.getCountry().getIsoCode();\n    }\n}\n \n$$;\n\nSELECT IP, GEOLOCATOR(IP) as GEO_IP FROM DANGEROUS_IPS LIMIT 1;\n</code></pre>\n"},{"tags":["java","hibernate","enums","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670494235,"creation_date":1670494235,"answer_id":74728593,"question_id":74722283,"body_markdown":"I guess your question is about how to add custom properties to jOOQ generated enums? There are multiple approaches:\r\n\r\n### Using a custom code section\r\n\r\nOne way to achieve the same functionality is by adding [a custom code section as described here][1]. You&#39;ll add a `generateEnumClassFooter()` method to your own `JavaGenerator` subclass, and generate the necessary code there. Unlike in your original code, you can&#39;t modify the properties of enum values, so you&#39;ll just have to switch over `this`, instead.\r\n\r\n### Move the logic outside of the enum\r\n\r\nYou can always just write a static utility of the form\r\n\r\n```java\r\npublic static boolean isUserOverridable(HBMCapacityType type) {\r\n    return switch (type) { ... };\r\n}\r\n```\r\n\r\nIt&#39;s less object oriented, but maybe, that doesn&#39;t matter all that much?\r\n\r\n### Keep 2 separate enums\r\n\r\nYou don&#39;t have to use jOOQ&#39;s enum. You can translate it to your own hand-written enum and [attach an `EnumConverter` to your  generated code][2] to map between the jOOQ enum type and yours.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-custom-code/\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/","title":"Adding properties to enums in JOOQ","body":"<p>I guess your question is about how to add custom properties to jOOQ generated enums? There are multiple approaches:</p>\n<h3>Using a custom code section</h3>\n<p>One way to achieve the same functionality is by adding <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-custom-code/\" rel=\"nofollow noreferrer\">a custom code section as described here</a>. You'll add a <code>generateEnumClassFooter()</code> method to your own <code>JavaGenerator</code> subclass, and generate the necessary code there. Unlike in your original code, you can't modify the properties of enum values, so you'll just have to switch over <code>this</code>, instead.</p>\n<h3>Move the logic outside of the enum</h3>\n<p>You can always just write a static utility of the form</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isUserOverridable(HBMCapacityType type) {\n    return switch (type) { ... };\n}\n</code></pre>\n<p>It's less object oriented, but maybe, that doesn't matter all that much?</p>\n<h3>Keep 2 separate enums</h3>\n<p>You don't have to use jOOQ's enum. You can translate it to your own hand-written enum and <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\" rel=\"nofollow noreferrer\">attach an <code>EnumConverter</code> to your  generated code</a> to map between the jOOQ enum type and yours.</p>\n"}],"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74728593,"answer_count":1,"score":1,"last_activity_date":1670494235,"creation_date":1670443132,"question_id":74722283,"body_markdown":"We have been moving away from hibernate to jooq for months now.  Pattern we would often do in Hibernate would be writing a custom enum like this...\r\n\r\n    public enum HBMCapacityType {\r\n    \r\n        Accepting(&quot;Accepting until end of day&quot;, true),\r\n        Limited(&quot;Limited until end of day&quot;, true),\r\n        AtCapacity(&quot;At Capacity until further notice&quot;,false);\r\n    \r\n        private final String description;\r\n        private final boolean userOverridable;\r\n    \r\n        HBMCapacityType(String description, boolean userOverridable) {\r\n            this.description = description;\r\n            this.userOverridable = userOverridable;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return this.description;\r\n        }\r\n\r\n        public boolean isUserOverridable() {\r\n            return this.userOverridable;\r\n        }\r\n    }\r\n\r\nThen we are able to use this a column in our hibernate domain objects\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Type(type = &quot;pg_enum&quot;)\r\n    @Column(name = &quot;capacity_type&quot;, nullable = false, columnDefinition = &quot;capacity_type&quot;)\r\n    private HBMCapacityType capacityType;\r\n\r\nThis is convenient as we can call capacityType.getDescription() when rendering to to the  GUI.  We have this nice 1:1 mapping of enum types to a description we can use in the GUI.  Sometimes we have multiple getters like this say one for description and a few booleans which characterize behaviour associated with that enum.  The property isUserOverrideable would be an example of this. \r\n\r\nNow looking at JOOQ: since this was defined as an enum in postgres JOOQ automatically generates a type like this...\r\n\r\n    /**\r\n     * This class is generated by jOOQ.\r\n     */\r\n    @SuppressWarnings({ &quot;all&quot;, &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    public enum CapacityType implements EnumType {\r\n    \r\n        Accepting(&quot;Accepting&quot;),\r\n    \r\n        Limited(&quot;Limited&quot;),\r\n    \r\n        AtCapacity(&quot;AtCapacity&quot;);\r\n    \r\n        private final String literal;\r\n    \r\n        private CapacityType(String literal) {\r\n            this.literal = literal;\r\n        }\r\n    \r\n        @Override\r\n        public Catalog getCatalog() {\r\n            return getSchema().getCatalog();\r\n        }\r\n    \r\n        @Override\r\n        public Schema getSchema() {\r\n            return Wastecoordinator.WASTECOORDINATOR;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return &quot;capacity_type&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String getLiteral() {\r\n            return literal;\r\n        }\r\n    \r\n        /**\r\n         * Lookup a value of this EnumType by its literal\r\n         */\r\n        public static CapacityType lookupLiteral(String literal) {\r\n            return EnumType.lookupLiteral(CapacityType.class, literal);\r\n        }\r\n    }\r\n\r\n","title":"Adding properties to enums in JOOQ","body":"<p>We have been moving away from hibernate to jooq for months now.  Pattern we would often do in Hibernate would be writing a custom enum like this...</p>\n<pre><code>public enum HBMCapacityType {\n\n    Accepting(&quot;Accepting until end of day&quot;, true),\n    Limited(&quot;Limited until end of day&quot;, true),\n    AtCapacity(&quot;At Capacity until further notice&quot;,false);\n\n    private final String description;\n    private final boolean userOverridable;\n\n    HBMCapacityType(String description, boolean userOverridable) {\n        this.description = description;\n        this.userOverridable = userOverridable;\n    }\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public boolean isUserOverridable() {\n        return this.userOverridable;\n    }\n}\n</code></pre>\n<p>Then we are able to use this a column in our hibernate domain objects</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Type(type = &quot;pg_enum&quot;)\n@Column(name = &quot;capacity_type&quot;, nullable = false, columnDefinition = &quot;capacity_type&quot;)\nprivate HBMCapacityType capacityType;\n</code></pre>\n<p>This is convenient as we can call capacityType.getDescription() when rendering to to the  GUI.  We have this nice 1:1 mapping of enum types to a description we can use in the GUI.  Sometimes we have multiple getters like this say one for description and a few booleans which characterize behaviour associated with that enum.  The property isUserOverrideable would be an example of this.</p>\n<p>Now looking at JOOQ: since this was defined as an enum in postgres JOOQ automatically generates a type like this...</p>\n<pre><code>/**\n * This class is generated by jOOQ.\n */\n@SuppressWarnings({ &quot;all&quot;, &quot;unchecked&quot;, &quot;rawtypes&quot; })\npublic enum CapacityType implements EnumType {\n\n    Accepting(&quot;Accepting&quot;),\n\n    Limited(&quot;Limited&quot;),\n\n    AtCapacity(&quot;AtCapacity&quot;);\n\n    private final String literal;\n\n    private CapacityType(String literal) {\n        this.literal = literal;\n    }\n\n    @Override\n    public Catalog getCatalog() {\n        return getSchema().getCatalog();\n    }\n\n    @Override\n    public Schema getSchema() {\n        return Wastecoordinator.WASTECOORDINATOR;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;capacity_type&quot;;\n    }\n\n    @Override\n    public String getLiteral() {\n        return literal;\n    }\n\n    /**\n     * Lookup a value of this EnumType by its literal\n     */\n    public static CapacityType lookupLiteral(String literal) {\n        return EnumType.lookupLiteral(CapacityType.class, literal);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9168,"page":824,"page_size":100}
