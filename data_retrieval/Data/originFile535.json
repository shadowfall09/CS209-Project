{"items":[{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1680255597,"creation_date":1501315990,"answer_id":45387014,"question_id":45108530,"body_markdown":"&gt; The Lambda function must exit with an error in order for the response pattern to be evaluated – it is not possible to “fake” an error response by simply returning an “errorMessage” field in a successful Lambda response.\r\n\r\nSource: [Error Handling Patterns in Amazon API Gateway and AWS Lambda](https://aws.amazon.com/blogs/compute/error-handling-patterns-in-amazon-api-gateway-and-aws-lambda/)","title":"Is there any way to signal an error in AWS Lambda for Java without throwing an exception?","body":"<blockquote>\n<p>The Lambda function must exit with an error in order for the response pattern to be evaluated – it is not possible to “fake” an error response by simply returning an “errorMessage” field in a successful Lambda response.</p>\n</blockquote>\n<p>Source: <a href=\"https://aws.amazon.com/blogs/compute/error-handling-patterns-in-amazon-api-gateway-and-aws-lambda/\" rel=\"nofollow noreferrer\">Error Handling Patterns in Amazon API Gateway and AWS Lambda</a></p>\n"},{"comments":[{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala -- Слава Україні"},"score":0,"creation_date":1566113935,"post_id":57542494,"comment_id":101548751,"body_markdown":"This is hardly an answer to my bounty needs, just a rehash of the docs. In JavaScript one needs not throw anything, just call a callback giving the exception as a parameter. In Java there is seemingly no such option","body":"This is hardly an answer to my bounty needs, just a rehash of the docs. In JavaScript one needs not throw anything, just call a callback giving the exception as a parameter. In Java there is seemingly no such option"}],"tags":[],"owner":{"account_id":9616804,"reputation":4747,"user_id":11758843,"display_name":"Abdullah Khawer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566112841,"creation_date":1566112841,"answer_id":57542494,"question_id":45108530,"body_markdown":"It is more of a generic question rather than Java-related as AWS API Gateway integration has nothing much to do with the language in which AWS Lambda function is written.\r\n\r\nYou can achieve returning custom error message by following the guidelines from the AWS documentation here: [Handle Custom Lambda Errors in API Gateway][1]\r\n    \r\n&gt;For Lambda custom integrations, you must map errors returned by Lambda in the integration response to standard HTTP error responses for your clients. Otherwise, Lambda errors are returned as 200 OK responses by default and the result is not intuitive for your API users.\r\n\r\nThere are two types of errors that Lambda can return: \r\n\r\n 1. [Standard Errors][2]\r\n 2. [Custom Errors][1]\r\n\r\nIn your API, you must handle these differently.\r\n\r\nWith the Lambda proxy integration, Lambda is required to return an output of the following format:\r\n```\r\n{\r\n  &quot;isBase64Encoded&quot; : &quot;boolean&quot;,\r\n  &quot;statusCode&quot;: &quot;number&quot;,\r\n  &quot;headers&quot;: { ... },\r\n  &quot;body&quot;: &quot;JSON string&quot;\r\n}\r\n```\r\nIn this output, statusCode is typically 4XX for a client error and 5XX for a server error. API Gateway handles these errors by mapping the Lambda error to an HTTP error response, according to the specified statusCode. For API Gateway to pass the error type (for example, InvalidParameterException), as part of the response to the client, the Lambda function must include a header (for example, &quot;X-Amzn-ErrorType&quot;:&quot;InvalidParameterException&quot;) in the headers property.\r\n\r\nFor more details, check out this official document from AWS here: [Handle Lambda Errors in API Gateway][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html#handle-custom-errors-in-lambda-integration\r\n  [2]: https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html#handle-standard-errors-in-lambda-integration\r\n  [3]: https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html","title":"Is there any way to signal an error in AWS Lambda for Java without throwing an exception?","body":"<p>It is more of a generic question rather than Java-related as AWS API Gateway integration has nothing much to do with the language in which AWS Lambda function is written.</p>\n\n<p>You can achieve returning custom error message by following the guidelines from the AWS documentation here: <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html#handle-custom-errors-in-lambda-integration\" rel=\"nofollow noreferrer\">Handle Custom Lambda Errors in API Gateway</a></p>\n\n<blockquote>\n  <p>For Lambda custom integrations, you must map errors returned by Lambda in the integration response to standard HTTP error responses for your clients. Otherwise, Lambda errors are returned as 200 OK responses by default and the result is not intuitive for your API users.</p>\n</blockquote>\n\n<p>There are two types of errors that Lambda can return: </p>\n\n<ol>\n<li><a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html#handle-standard-errors-in-lambda-integration\" rel=\"nofollow noreferrer\">Standard Errors</a></li>\n<li><a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html#handle-custom-errors-in-lambda-integration\" rel=\"nofollow noreferrer\">Custom Errors</a></li>\n</ol>\n\n<p>In your API, you must handle these differently.</p>\n\n<p>With the Lambda proxy integration, Lambda is required to return an output of the following format:</p>\n\n<pre><code>{\n  \"isBase64Encoded\" : \"boolean\",\n  \"statusCode\": \"number\",\n  \"headers\": { ... },\n  \"body\": \"JSON string\"\n}\n</code></pre>\n\n<p>In this output, statusCode is typically 4XX for a client error and 5XX for a server error. API Gateway handles these errors by mapping the Lambda error to an HTTP error response, according to the specified statusCode. For API Gateway to pass the error type (for example, InvalidParameterException), as part of the response to the client, the Lambda function must include a header (for example, \"X-Amzn-ErrorType\":\"InvalidParameterException\") in the headers property.</p>\n\n<p>For more details, check out this official document from AWS here: <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/handle-errors-in-lambda-integration.html\" rel=\"nofollow noreferrer\">Handle Lambda Errors in API Gateway</a></p>\n"},{"comments":[{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala -- Слава Україні"},"score":0,"creation_date":1566284792,"post_id":57568026,"comment_id":101597341,"body_markdown":"I have got an error condition but I might not be able to code it so that it will be an exception thrown out of the handler, except perhaps a generic &quot;RuntimeError&quot;, which then I cannot use the step functions&#39; error catching mechanisms with","body":"I have got an error condition but I might not be able to code it so that it will be an exception thrown out of the handler, except perhaps a generic &quot;RuntimeError&quot;, which then I cannot use the step functions&#39; error catching mechanisms with"},{"owner":{"account_id":13863832,"reputation":3154,"user_id":10008771,"display_name":"Edward Aung"},"score":0,"creation_date":1566343161,"post_id":57568026,"comment_id":101624345,"body_markdown":"more details would help.","body":"more details would help."}],"tags":[],"owner":{"account_id":13863832,"reputation":3154,"user_id":10008771,"display_name":"Edward Aung"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566283584,"creation_date":1566283584,"answer_id":57568026,"question_id":45108530,"body_markdown":"I think this is more a design question rather than a Java/AWS question. \r\n\r\nThe intended design of AWS lambda is ... when your code has internal problems, it will return 500 (the ugly ones) while if the client is trying to reach something that&#39;s not there (400 or 300). This is true regardless of framework (same for Java Spring and Python Django etc.)\r\n\r\nIf your function is nicely detecting an error and returning a perfect object (json), then it is (by definition) not an internal problems of your code. In other words, your code is functioning as intended. As far as lambda is concerned, it is 200 ok. \r\n\r\nIf you want ugly response (5xx), you need to throw an error/exception. Else, lambda will think your code is fine and whatever error you are throwing inside your json is normal payload. It is not to say you should not encode your error in json response. It is perfectly normal to include application-specific/business-logic driven errors to pass in payload like this. \r\n\r\nI hope this answer your question. In short, \r\n\r\nthere is no other way to have lambda return 5xx than throwing an error and \r\nit is intended behavior.","title":"Is there any way to signal an error in AWS Lambda for Java without throwing an exception?","body":"<p>I think this is more a design question rather than a Java/AWS question. </p>\n\n<p>The intended design of AWS lambda is ... when your code has internal problems, it will return 500 (the ugly ones) while if the client is trying to reach something that's not there (400 or 300). This is true regardless of framework (same for Java Spring and Python Django etc.)</p>\n\n<p>If your function is nicely detecting an error and returning a perfect object (json), then it is (by definition) not an internal problems of your code. In other words, your code is functioning as intended. As far as lambda is concerned, it is 200 ok. </p>\n\n<p>If you want ugly response (5xx), you need to throw an error/exception. Else, lambda will think your code is fine and whatever error you are throwing inside your json is normal payload. It is not to say you should not encode your error in json response. It is perfectly normal to include application-specific/business-logic driven errors to pass in payload like this. </p>\n\n<p>I hope this answer your question. In short, </p>\n\n<p>there is no other way to have lambda return 5xx than throwing an error and \nit is intended behavior.</p>\n"}],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7865,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":45387014,"answer_count":3,"score":11,"last_activity_date":1680255597,"creation_date":1500052707,"question_id":45108530,"body_markdown":"If my Lambda throws an `Exception` with the message `404` then the response as seen in API Gateway is  \r\n\r\n    {\r\n      &quot;errorMessage&quot;:&quot;404&quot;,\r\n      &quot;errorType&quot;:&quot;java.lang.Exception&quot;,\r\n      &quot;stackTrace&quot;:[...&quot;]\r\n    }\r\n\r\nand I can match on the errorMessage to affect the HTTP result.\r\n\r\nHowever if I return effectively the same result, viz:\r\n\r\n    {\r\n      &quot;errorMessage&quot;:&quot;404&quot;,\r\n      &quot;errorType&quot;:&quot;Error&quot;\r\n    }\r\n\r\nAPI Gateway doesn&#39;t seem to recognise that there is an error and always returns a 200.\r\n\r\nIs there any way for my nice functional code to signal an error without throwing an exception?","title":"Is there any way to signal an error in AWS Lambda for Java without throwing an exception?","body":"<p>If my Lambda throws an <code>Exception</code> with the message <code>404</code> then the response as seen in API Gateway is  </p>\n\n<pre><code>{\n  \"errorMessage\":\"404\",\n  \"errorType\":\"java.lang.Exception\",\n  \"stackTrace\":[...\"]\n}\n</code></pre>\n\n<p>and I can match on the errorMessage to affect the HTTP result.</p>\n\n<p>However if I return effectively the same result, viz:</p>\n\n<pre><code>{\n  \"errorMessage\":\"404\",\n  \"errorType\":\"Error\"\n}\n</code></pre>\n\n<p>API Gateway doesn't seem to recognise that there is an error and always returns a 200.</p>\n\n<p>Is there any way for my nice functional code to signal an error without throwing an exception?</p>\n"},{"tags":["java","spring","spring-data-rest"],"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680255540,"creation_date":1680255540,"question_id":75896979,"body_markdown":"I waned to redirect TestRestTemplate trough proxy. The difficult part for me is that I cannot create new TestRestTemplate because I am using it inside Spring Boot test so I have to use @Autowired.\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\nclass DataImportRouteRestTest {\r\n\r\n  @Autowired\r\n  private TestRestTemplate testRestTemplate;\r\n```\r\n\r\nInside test method I use it like that:\r\n```java\r\ntestRestTemplate.postForEntity(&quot;/camel/my/path&quot;, xml, String.class);\r\n```\r\n\r\nAs you can see I don&#39;t specify host or port. It is done by @Autowired.\r\n\r\nI tried to get help from here https://www.baeldung.com/java-resttemplate-proxy but I couldn&#39;t find anything useful. I also wanted to try RestTemplateCustomizer but then learned that there is no TestRestTemplateCustomizer and RestTemplateCustomizer cannot be used with TestRestTemplate.\r\n\r\nSo I ended up with following solution but since it&#39;s using reflection I would like to know if there are some better ways?\r\n```java\r\nInterceptingClientHttpRequestFactory interceptingClientHttpRequestFactory = (InterceptingClientHttpRequestFactory)testRestTemplate.getRestTemplate().getRequestFactory();\r\nField privateField = InterceptingClientHttpRequestFactory.class.getSuperclass().getDeclaredField(&quot;requestFactory&quot;);\r\nprivateField.setAccessible(true);\r\nSimpleClientHttpRequestFactory simpleClientHttpRequestFactory = (SimpleClientHttpRequestFactory)privateField.get(interceptingClientHttpRequestFactory);\r\nProxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(&quot;localhost&quot;, 8080));\r\nsimpleClientHttpRequestFactory.setProxy(proxy);\r\n```","title":"What&#39;s the correct way to proxy TestRestTemplate connections?","body":"<p>I waned to redirect TestRestTemplate trough proxy. The difficult part for me is that I cannot create new TestRestTemplate because I am using it inside Spring Boot test so I have to use @Autowired.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\nclass DataImportRouteRestTest {\n\n  @Autowired\n  private TestRestTemplate testRestTemplate;\n</code></pre>\n<p>Inside test method I use it like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>testRestTemplate.postForEntity(&quot;/camel/my/path&quot;, xml, String.class);\n</code></pre>\n<p>As you can see I don't specify host or port. It is done by @Autowired.</p>\n<p>I tried to get help from here <a href=\"https://www.baeldung.com/java-resttemplate-proxy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-resttemplate-proxy</a> but I couldn't find anything useful. I also wanted to try RestTemplateCustomizer but then learned that there is no TestRestTemplateCustomizer and RestTemplateCustomizer cannot be used with TestRestTemplate.</p>\n<p>So I ended up with following solution but since it's using reflection I would like to know if there are some better ways?</p>\n<pre class=\"lang-java prettyprint-override\"><code>InterceptingClientHttpRequestFactory interceptingClientHttpRequestFactory = (InterceptingClientHttpRequestFactory)testRestTemplate.getRestTemplate().getRequestFactory();\nField privateField = InterceptingClientHttpRequestFactory.class.getSuperclass().getDeclaredField(&quot;requestFactory&quot;);\nprivateField.setAccessible(true);\nSimpleClientHttpRequestFactory simpleClientHttpRequestFactory = (SimpleClientHttpRequestFactory)privateField.get(interceptingClientHttpRequestFactory);\nProxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(&quot;localhost&quot;, 8080));\nsimpleClientHttpRequestFactory.setProxy(proxy);\n</code></pre>\n"},{"tags":["java","hibernate","transient"],"answers":[{"comments":[{"owner":{"account_id":1200831,"reputation":2780,"user_id":1171541,"accept_rate":46,"display_name":"patman"},"score":0,"creation_date":1680504117,"post_id":75896606,"comment_id":133903386,"body_markdown":"This is simply wrong. I have a lot of `@Transient` on methods, because the codebase i inherited has all hibernate annotations on the getter methods.","body":"This is simply wrong. I have a lot of <code>@Transient</code> on methods, because the codebase i inherited has all hibernate annotations on the getter methods."},{"owner":{"account_id":27085849,"reputation":291,"user_id":20634376,"display_name":"Georgii Vlasov"},"score":0,"creation_date":1680595488,"post_id":75896606,"comment_id":133920565,"body_markdown":"Of course if you have the corresponding fields, it will be applied to them. Bit in this question, I can&#39;t see the field that relates to the getArchived method. So how this should works?","body":"Of course if you have the corresponding fields, it will be applied to them. Bit in this question, I can&#39;t see the field that relates to the getArchived method. So how this should works?"},{"owner":{"account_id":1200831,"reputation":2780,"user_id":1171541,"accept_rate":46,"display_name":"patman"},"score":1,"creation_date":1683280633,"post_id":75896606,"comment_id":134346030,"body_markdown":"Okay that might be the reason after all. I did not get that from your answer though.","body":"Okay that might be the reason after all. I did not get that from your answer though."}],"tags":[],"owner":{"account_id":27085849,"reputation":291,"user_id":20634376,"display_name":"Georgii Vlasov"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680252909,"creation_date":1680252909,"answer_id":75896606,"question_id":75895954,"body_markdown":"The @Transient annotation can be applied only to the fields, not the method definitions.","title":"Hibernate not ingoring @Transient field","body":"<p>The @Transient annotation can be applied only to the fields, not the method definitions.</p>\n"}],"owner":{"account_id":1200831,"reputation":2780,"user_id":1171541,"accept_rate":46,"display_name":"patman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680255438,"creation_date":1680248059,"question_id":75895954,"body_markdown":"I have an entity that derives from an interface that defines a getter method. I mark it with `@Transient`, but still hibernate requires me to \r\n\r\n 1. Define a setter method.\r\n 2. Does include the field in all queries, causing a crash. \r\n\r\nIsn&#39;t that what `@Transient` is for?\r\n\r\n```\r\npublic interface Archiveable { @Transient Boolean getArchived(); }\r\n\r\n\r\n@Entity\r\n@Table(...)\r\npublic class Post implements Archiveable {\r\n    \r\n    @Override\r\n\t@Transient\r\n\tpublic Boolean getArchived() {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI am pretty sure i am using this very construct in other forms as well. ","title":"Hibernate not ingoring @Transient field","body":"<p>I have an entity that derives from an interface that defines a getter method. I mark it with <code>@Transient</code>, but still hibernate requires me to</p>\n<ol>\n<li>Define a setter method.</li>\n<li>Does include the field in all queries, causing a crash.</li>\n</ol>\n<p>Isn't that what <code>@Transient</code> is for?</p>\n<pre><code>public interface Archiveable { @Transient Boolean getArchived(); }\n\n\n@Entity\n@Table(...)\npublic class Post implements Archiveable {\n    \n    @Override\n    @Transient\n    public Boolean getArchived() {\n        return false;\n    }\n}\n\n</code></pre>\n<p>I am pretty sure i am using this very construct in other forms as well.</p>\n"},{"tags":["java","jacorb"],"comments":[{"owner":{"account_id":396509,"reputation":3772,"user_id":760095,"accept_rate":67,"display_name":"user567"},"score":0,"creation_date":1401220267,"post_id":23897604,"comment_id":36795107,"body_markdown":"I am using Jacorb with java if that&#39;s the question","body":"I am using Jacorb with java if that&#39;s the question"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1401225953,"post_id":23897604,"comment_id":36797922,"body_markdown":"Add the JacORB jars to your claspath","body":"Add the JacORB jars to your claspath"}],"answers":[{"tags":[],"owner":{"account_id":16247468,"reputation":1,"user_id":11732210,"display_name":"Petter E"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680255345,"creation_date":1680255345,"answer_id":75896946,"question_id":23897604,"body_markdown":"If you are using maven you can include following dependency:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geronimo-corba_3.0_spec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n","title":"Compile java class","body":"<p>If you are using maven you can include following dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;geronimo-corba_3.0_spec&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":396509,"reputation":3772,"user_id":760095,"accept_rate":67,"display_name":"user567"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680255345,"creation_date":1401219628,"question_id":23897604,"body_markdown":"I m trying to compile this java class _MyServerStub.java but I get this error \r\n\r\n\r\n    cannot find symbol\r\n    symbol  : class ServantObjectExt\r\n    location: package org.omg.CORBA.portable\r\n    \t\t\t\tif ( _so instanceof org.omg.CORBA.portable.ServantObjectExt) \r\n    \t\t\t\t                                          ^\r\n    stock/_MyServerStub.java:83: cannot find symbol\r\n    symbol  : class ServantObjectExt\r\n    location: package org.omg.CORBA.portable\r\n    \t\t\t\t\t((org.omg.CORBA.portable.ServantObjectExt)_so).normalCompletion();\r\n    \t\t\t\t\t                        ^\r\n    stock/_MyServerStub.java:88: cannot find symbol\r\n    symbol  : class ServantObjectExt\r\n    location: package org.omg.CORBA.portable\r\n    \t\t\t\tif ( _so instanceof org.omg.CORBA.portable.ServantObjectExt) \r\n    \t\t\t\t                                          ^\r\n    stock/_MyServerStub.java:89: cannot find symbol\r\n    symbol  : class ServantObjectExt\r\n    location: package org.omg.CORBA.portable\r\n    \t\t\t\t\t((org.omg.CORBA.portable.ServantObjectExt)_so).exceptionalCompletion(re);\r\n    \t\t\t\t\t                        ^\r\n    stock/_MyServerStub.java:94: cannot find symbol\r\n    symbol  : class ServantObjectExt\r\n    location: package org.omg.CORBA.portable\r\n    \t\t\t\tif ( _so instanceof org.omg.CORBA.portable.ServantObjectExt) \r\n    \t\t\t\t                                          ^\r\n    stock/_MyServerStub.java:95: cannot find symbol\r\n    symbol  : class ServantObjectExt\r\n    location: package org.omg.CORBA.portable\r\n    \t\t\t\t\t((org.omg.CORBA.portable.ServantObjectExt)_so).exceptionalCompletion(err);\r\n    \t\t\t\t\t                        ^\r\n    6 errors\r\n\r\n_MyServerStub.java is a generated stub from jacORB so the code is not wrong.","title":"Compile java class","body":"<p>I m trying to compile this java class _MyServerStub.java but I get this error </p>\n\n<pre><code>cannot find symbol\nsymbol  : class ServantObjectExt\nlocation: package org.omg.CORBA.portable\n                if ( _so instanceof org.omg.CORBA.portable.ServantObjectExt) \n                                                          ^\nstock/_MyServerStub.java:83: cannot find symbol\nsymbol  : class ServantObjectExt\nlocation: package org.omg.CORBA.portable\n                    ((org.omg.CORBA.portable.ServantObjectExt)_so).normalCompletion();\n                                            ^\nstock/_MyServerStub.java:88: cannot find symbol\nsymbol  : class ServantObjectExt\nlocation: package org.omg.CORBA.portable\n                if ( _so instanceof org.omg.CORBA.portable.ServantObjectExt) \n                                                          ^\nstock/_MyServerStub.java:89: cannot find symbol\nsymbol  : class ServantObjectExt\nlocation: package org.omg.CORBA.portable\n                    ((org.omg.CORBA.portable.ServantObjectExt)_so).exceptionalCompletion(re);\n                                            ^\nstock/_MyServerStub.java:94: cannot find symbol\nsymbol  : class ServantObjectExt\nlocation: package org.omg.CORBA.portable\n                if ( _so instanceof org.omg.CORBA.portable.ServantObjectExt) \n                                                          ^\nstock/_MyServerStub.java:95: cannot find symbol\nsymbol  : class ServantObjectExt\nlocation: package org.omg.CORBA.portable\n                    ((org.omg.CORBA.portable.ServantObjectExt)_so).exceptionalCompletion(err);\n                                            ^\n6 errors\n</code></pre>\n\n<p>_MyServerStub.java is a generated stub from jacORB so the code is not wrong.</p>\n"},{"tags":["java","aspectj","jacoco","jacoco-maven-plugin","aspectj-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680187513,"creation_date":1680187513,"answer_id":75889680,"question_id":75884211,"body_markdown":"From the [AspectJ 1.9.19 release notes](https://github.com/eclipse/org.aspectj/blob/ffacda77227a11da3bf53ddba1c0fa5746d3e73e/docs/dist/doc/README-1919.html#L56-L59):\r\n\r\n&gt; Improve condy (constant dynamic) support. Together with some custom compilation or weaving options, this helps to avoid a problem when using JaCoCo together with AspectJ, see &lt;a href=&quot;https://github.com/eclipse/org.aspectj/issues/170#issuecomment-1214163297&quot;&gt;this comment in #170&lt;/a&gt; for more details.\r\n\r\nDoes using the latest AspectJ version and applying one of the two suggestions mentioned there solve your problem? Unfortunately, you neither explained what kind of problem you have exactly with AspectJ + JaCoCo nor provided a reproducer, which is a bad way to ask a question on Stack Overflow in the first place.","title":"Need to exclude AspectJ closure classes from Jacoco coverage","body":"<p>From the <a href=\"https://github.com/eclipse/org.aspectj/blob/ffacda77227a11da3bf53ddba1c0fa5746d3e73e/docs/dist/doc/README-1919.html#L56-L59\" rel=\"nofollow noreferrer\">AspectJ 1.9.19 release notes</a>:</p>\n<blockquote>\n<p>Improve condy (constant dynamic) support. Together with some custom compilation or weaving options, this helps to avoid a problem when using JaCoCo together with AspectJ, see <a href=\"https://github.com/eclipse/org.aspectj/issues/170#issuecomment-1214163297\" rel=\"nofollow noreferrer\">this comment in #170</a> for more details.</p>\n</blockquote>\n<p>Does using the latest AspectJ version and applying one of the two suggestions mentioned there solve your problem? Unfortunately, you neither explained what kind of problem you have exactly with AspectJ + JaCoCo nor provided a reproducer, which is a bad way to ask a question on Stack Overflow in the first place.</p>\n"}],"owner":{"account_id":13735718,"reputation":57,"user_id":9912066,"display_name":"tarini sunil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680255247,"creation_date":1680151498,"question_id":75884211,"body_markdown":"We need to use AspectJ compile time weaving and that is creating the AjcClosure classes. Somehow the package weaving is not working for us. We need to exclude these AjcClosure classes from the coverage calculation in jacoco maven plugin as it has reduced the coverage to half.\r\n\r\nWe tried\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.5&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/*Aspect*.*&lt;/exclude&gt;\r\n            &lt;exclude&gt;**/*AjcClosure*.*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nHowever, it is not coming in the report but the coverage is still half. I will be really grateful if we can have a way out.","title":"Need to exclude AspectJ closure classes from Jacoco coverage","body":"<p>We need to use AspectJ compile time weaving and that is creating the AjcClosure classes. Somehow the package weaving is not working for us. We need to exclude these AjcClosure classes from the coverage calculation in jacoco maven plugin as it has reduced the coverage to half.</p>\n<p>We tried</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/*Aspect*.*&lt;/exclude&gt;\n            &lt;exclude&gt;**/*AjcClosure*.*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However, it is not coming in the report but the coverage is still half. I will be really grateful if we can have a way out.</p>\n"},{"tags":["java","hibernate","lazy-loading","dto"],"answers":[{"comments":[{"owner":{"account_id":290582,"reputation":2185,"user_id":592212,"accept_rate":62,"display_name":"Miro Hudak"},"score":1,"creation_date":1365468769,"post_id":15890766,"comment_id":22627977,"body_markdown":"This is basically what `Hibernate.isInitialized(..)` does, but in greater extend. But yes, it pointed me to the right direction and by further investigating the lazy instances, I&#39;ve found out, that the entity MUST NOT be in the open session to correctly signalize the initialization state. The simplest solution I&#39;ve found was to call `Session.evict(..)` and then, `Hibernate.isInitialized()` works as expected.","body":"This is basically what <code>Hibernate.isInitialized(..)</code> does, but in greater extend. But yes, it pointed me to the right direction and by further investigating the lazy instances, I&#39;ve found out, that the entity MUST NOT be in the open session to correctly signalize the initialization state. The simplest solution I&#39;ve found was to call <code>Session.evict(..)</code> and then, <code>Hibernate.isInitialized()</code> works as expected."}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1365463324,"creation_date":1365463324,"answer_id":15890766,"question_id":15890559,"body_markdown":"The class is always a proxy, whether it&#39;s initialized or not, so you&#39;re going to exclude it every time if you just check for instances of proxy.  The Lazy Load does not cause the Proxy reference on the entity to be replaced with a reference to a new object, it just populates the fields.\r\n\r\nTo find out if it&#39;s actually initialized you need to ask it!\r\n\r\n    if (HibernateProxy.class.isInstance(entity.getNationality())) {\r\n      HibernateProxy proxy = HibernateProxy.class.cast(entity.getNationality());\r\n      if (!proxy.getHibernateLazyInitializer().isUninitialized()) {\r\n        this.setNationalityFromEntity(entity.getNationality());\r\n      }\r\n    }","title":"Java/Hibernate: How to detect, if field is lazy-loaded proxy and not actual data?","body":"<p>The class is always a proxy, whether it's initialized or not, so you're going to exclude it every time if you just check for instances of proxy.  The Lazy Load does not cause the Proxy reference on the entity to be replaced with a reference to a new object, it just populates the fields.</p>\n\n<p>To find out if it's actually initialized you need to ask it!</p>\n\n<pre><code>if (HibernateProxy.class.isInstance(entity.getNationality())) {\n  HibernateProxy proxy = HibernateProxy.class.cast(entity.getNationality());\n  if (!proxy.getHibernateLazyInitializer().isUninitialized()) {\n    this.setNationalityFromEntity(entity.getNationality());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631041212,"creation_date":1400041809,"answer_id":23645659,"question_id":15890559,"body_markdown":"They way we do this in our Entities is we have boolean methods which do the check in a way that will not trigger the lazy loading. For example, if our Entity had an associated entity called &#39;associatedSomething&#39;, then the method to check if that associated Entity has been lazy loaded would be:\r\n\r\n        public boolean isAssociatedSomethingLoaded() {\r\n            if (associatedSomething instanceof HibernateProxy) {\r\n                if (((HibernateProxy)associatedSomething).getHibernateLazyInitializer().isUninitialized()) {\r\n                    return false;\r\n                }\r\n            }\r\n            return (getAssociatedSomething() != null);\r\n        }\r\n\r\nNOTE: It&#39;s important not to use `getAssociatedSomething()` in the check, as this makes sure that the associated Entity does not get lazy-loaded during the check.","title":"Java/Hibernate: How to detect, if field is lazy-loaded proxy and not actual data?","body":"<p>They way we do this in our Entities is we have boolean methods which do the check in a way that will not trigger the lazy loading. For example, if our Entity had an associated entity called 'associatedSomething', then the method to check if that associated Entity has been lazy loaded would be:</p>\n<pre><code>    public boolean isAssociatedSomethingLoaded() {\n        if (associatedSomething instanceof HibernateProxy) {\n            if (((HibernateProxy)associatedSomething).getHibernateLazyInitializer().isUninitialized()) {\n                return false;\n            }\n        }\n        return (getAssociatedSomething() != null);\n    }\n</code></pre>\n<p>NOTE: It's important not to use <code>getAssociatedSomething()</code> in the check, as this makes sure that the associated Entity does not get lazy-loaded during the check.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532024717,"creation_date":1532024717,"answer_id":51429539,"question_id":15890559,"body_markdown":"The mere possibility of being able to invoke a getter for some state that shouldn&#39;t be available for a use case is problematic in my opinion, but that&#39;s a different story. I would suggest you implement a proper DTO approach instead to avoid accidental errors.\r\n\r\nI created [Blaze-Persistence Entity Views][1] for exactly that use case. You essentially define DTOs for JPA entities as interfaces and apply them on a query. It supports mapping nested DTOs, collection etc., essentially everything you&#39;d expect and on top of that, it will improve your query performance as it will generate queries fetching just the data that you actually require for the DTOs.\r\n\r\nThe entity views for your example could look like this\r\n\r\n    @EntityView(Person.class)\r\n    interface PersonDto {\r\n      String getNationality();\r\n    }\r\n\r\nQuerying could look like this\r\n\r\n    List&lt;PersonDto&gt; dtos = entityViewManager.applySetting(\r\n      EntityViewSetting.create(PersonDto.class),\r\n      criteriaBuilderFactory.create(em, Person.class)\r\n    ).getResultList();\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Java/Hibernate: How to detect, if field is lazy-loaded proxy and not actual data?","body":"<p>The mere possibility of being able to invoke a getter for some state that shouldn't be available for a use case is problematic in my opinion, but that's a different story. I would suggest you implement a proper DTO approach instead to avoid accidental errors.</p>\n\n<p>I created <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> for exactly that use case. You essentially define DTOs for JPA entities as interfaces and apply them on a query. It supports mapping nested DTOs, collection etc., essentially everything you'd expect and on top of that, it will improve your query performance as it will generate queries fetching just the data that you actually require for the DTOs.</p>\n\n<p>The entity views for your example could look like this</p>\n\n<pre><code>@EntityView(Person.class)\ninterface PersonDto {\n  String getNationality();\n}\n</code></pre>\n\n<p>Querying could look like this</p>\n\n<pre><code>List&lt;PersonDto&gt; dtos = entityViewManager.applySetting(\n  EntityViewSetting.create(PersonDto.class),\n  criteriaBuilderFactory.create(em, Person.class)\n).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2641373,"reputation":1324,"user_id":2284927,"display_name":"Navid Mitchell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680254932,"creation_date":1680254932,"answer_id":75896872,"question_id":15890559,"body_markdown":"There is a built in Hibernate method for this.\r\n\r\n```java\r\n// Assume that &#39;myObject&#39; is an instance of a Hibernate proxy\r\nif (Hibernate.isInitialized(myObject)) {\r\n    // The proxy has been initialized, we can safely access its properties\r\n    // ...\r\n} else {\r\n    // The proxy has not been initialized yet, we should load it before accessing its properties\r\n    // ...\r\n}\r\n```","title":"Java/Hibernate: How to detect, if field is lazy-loaded proxy and not actual data?","body":"<p>There is a built in Hibernate method for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Assume that 'myObject' is an instance of a Hibernate proxy\nif (Hibernate.isInitialized(myObject)) {\n    // The proxy has been initialized, we can safely access its properties\n    // ...\n} else {\n    // The proxy has not been initialized yet, we should load it before accessing its properties\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":290582,"reputation":2185,"user_id":592212,"accept_rate":62,"display_name":"Miro Hudak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14665,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1680254932,"creation_date":1365462250,"question_id":15890559,"body_markdown":"I&#39;m converting my entity to DTO and I want to set NULL as DTO value for all fields, which are lazy-loaded and not initialized (because I do not want to transfer all the data all the time).\r\n\r\nI&#39;ve tried:\r\n\r\n    if (!(entity.getNationality() instanceof HibernateProxy))\r\n        this.setNationalityFromEntity(entity.getNationality());\r\n\r\nBut it did not seemed to help.\r\nAny suggestions are welcome!\r\n\r\nThank you!","title":"Java/Hibernate: How to detect, if field is lazy-loaded proxy and not actual data?","body":"<p>I'm converting my entity to DTO and I want to set NULL as DTO value for all fields, which are lazy-loaded and not initialized (because I do not want to transfer all the data all the time).</p>\n\n<p>I've tried:</p>\n\n<pre><code>if (!(entity.getNationality() instanceof HibernateProxy))\n    this.setNationalityFromEntity(entity.getNationality());\n</code></pre>\n\n<p>But it did not seemed to help.\nAny suggestions are welcome!</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","office365","ms-wopi"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1680255064,"post_id":75896865,"comment_id":133870719,"body_markdown":"What have you tried up until now? This doesn&#39;t seem like a question suited for StackOverflow: [ask]","body":"What have you tried up until now? This doesn&#39;t seem like a question suited for StackOverflow: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"owner":{"account_id":28176991,"reputation":1,"user_id":21534629,"display_name":"Hetal thakkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680254913,"creation_date":1680254913,"question_id":75896865,"body_markdown":"We have one product and we already using WOPI for office for the web document edit functionality.\r\n\r\nBefore 5-6 month ,The login box existed to confirm that business users of the WOPI editor had a valid Microsoft 365 business license when editing Microsoft Office documents.\r\n\r\nNow Microsoft has  removed The Login Box. As a result, our add-ins feature is inoperable.\r\n\r\nSo, is there any way in WOPI to force the user to login in order to verify the existence of a Microsoft365 account? \r\n\r\nWe Set the BUSINESS_USER placeholder value as 1 and sftc value as 1 on the Office for the web action URL.","title":"Whether it is possible to force user to sign in using WOPI implementation?","body":"<p>We have one product and we already using WOPI for office for the web document edit functionality.</p>\n<p>Before 5-6 month ,The login box existed to confirm that business users of the WOPI editor had a valid Microsoft 365 business license when editing Microsoft Office documents.</p>\n<p>Now Microsoft has  removed The Login Box. As a result, our add-ins feature is inoperable.</p>\n<p>So, is there any way in WOPI to force the user to login in order to verify the existence of a Microsoft365 account?</p>\n<p>We Set the BUSINESS_USER placeholder value as 1 and sftc value as 1 on the Office for the web action URL.</p>\n"},{"tags":["java","generics","generic-programming"],"comments":[{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":2,"creation_date":1305723670,"post_id":6044923,"comment_id":6993388,"body_markdown":"Please when you edit your question, highlight your edits. The answers become confusing when you don&#39;t.","body":"Please when you edit your question, highlight your edits. The answers become confusing when you don&#39;t."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":1,"creation_date":1305726072,"post_id":6044923,"comment_id":6994177,"body_markdown":"Not to be snarky, but in English, &quot;pair&quot; generally implies two things which are alike (same type).  The CS term for what you&#39;re describing is &quot;tuple&quot;.","body":"Not to be snarky, but in English, &quot;pair&quot; generally implies two things which are alike (same type).  The CS term for what you&#39;re describing is &quot;tuple&quot;."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1305726356,"post_id":6044923,"comment_id":6994293,"body_markdown":"@CPerkins: I always thought that *pair* is simply another word for *2-tuple*.","body":"@CPerkins: I always thought that <i>pair</i> is simply another word for <i>2-tuple</i>."},{"owner":{"account_id":1040087,"reputation":5139,"user_id":1046347,"display_name":"Kobor42"},"score":0,"creation_date":1344792502,"post_id":6044923,"comment_id":15879217,"body_markdown":"As Boris pointed, the getters are fully broken. Both `thing` as variable and `thing` as return type are wrong.\n`public firstThing getFirst() { return this.first; }`","body":"As Boris pointed, the getters are fully broken. Both <code>thing</code> as variable and <code>thing</code> as return type are wrong. <code>public firstThing getFirst() { return this.first; }</code>"},{"owner":{"account_id":129245,"reputation":5515,"user_id":327694,"accept_rate":90,"display_name":"Josep Valls"},"score":0,"creation_date":1487377620,"post_id":6044923,"comment_id":71774025,"body_markdown":"Or you could use Entry, see: http://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples","body":"Or you could use Entry, see: <a href=\"http://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples\" title=\"a java collection of value pairs tuples\">stackoverflow.com/questions/521171/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":749351,"reputation":541,"user_id":733174,"accept_rate":30,"display_name":"John Curtsy"},"score":0,"creation_date":1305723534,"post_id":6044985,"comment_id":6993350,"body_markdown":"I think I have fixed it now, oh, except for a capital letter for the type names. Is it now correct?","body":"I think I have fixed it now, oh, except for a capital letter for the type names. Is it now correct?"},{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":1,"creation_date":1305723597,"post_id":6044985,"comment_id":6993367,"body_markdown":"return types of getFirst and getSecond","body":"return types of getFirst and getSecond"},{"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"score":0,"creation_date":1305723751,"post_id":6044985,"comment_id":6993412,"body_markdown":"add pointed by jan, the getFirst/getSecond methods still return &quot;thing&quot;","body":"add pointed by jan, the getFirst/getSecond methods still return &quot;thing&quot;"}],"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305723256,"creation_date":1305723256,"answer_id":6044985,"question_id":6044923,"body_markdown":"I think No. Quote:\r\n\r\n&gt; &quot;the class should be parameterised\r\n&gt; over two types...&quot;\r\n\r\n\r\nI think they are expecting in terms of :\r\n\r\n    public class Pair&lt;ThingA, ThingB&gt;","title":"Generic pair class","body":"<p>I think No. Quote:</p>\n\n<blockquote>\n  <p>\"the class should be parameterised\n  over two types...\"</p>\n</blockquote>\n\n<p>I think they are expecting in terms of :</p>\n\n<pre><code>public class Pair&lt;ThingA, ThingB&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305723262,"creation_date":1305723262,"answer_id":6044990,"question_id":6044923,"body_markdown":"Usually a generic Pair type has *two* generic type parameters, not one - so you could have (say) a `Pair&lt;String, Integer&gt;`. That&#39;s typically more useful, IMO.\r\n\r\nI would also suggest that you think about a more conventional name for your type parameter than &quot;thing&quot;. For example, you might use `Pair&lt;A, B&gt;` or `Pair&lt;T, U&gt;`.","title":"Generic pair class","body":"<p>Usually a generic Pair type has <em>two</em> generic type parameters, not one - so you could have (say) a <code>Pair&lt;String, Integer&gt;</code>. That's typically more useful, IMO.</p>\n\n<p>I would also suggest that you think about a more conventional name for your type parameter than \"thing\". For example, you might use <code>Pair&lt;A, B&gt;</code> or <code>Pair&lt;T, U&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305723328,"creation_date":1305723328,"answer_id":6045009,"question_id":6044923,"body_markdown":"`thing` is a *Type Variable* in an unsual notation - we usually use one uppercase latter (like `T`). Then: a type variable does not have any methods, so your getters won&#39;t compile.\r\n\r\nQuick improvement: replace all `thing` with `T`\r\n\r\nQuick fix for getters:\r\n\r\n    public T getFirst() {\r\n     return first;\r\n    }\r\n\r\n    public T getSecond() {\r\n     return second;\r\n    }\r\n\r\n---\r\n\r\nOne requirement was to allow two different types for the pair members. So the class signature should look like:\r\n\r\n    public Pair&lt;S,T&gt; {\r\n      private S first;\r\n      private T second;\r\n      //...\r\n    }\r\n\r\n\r\n","title":"Generic pair class","body":"<p><code>thing</code> is a <em>Type Variable</em> in an unsual notation - we usually use one uppercase latter (like <code>T</code>). Then: a type variable does not have any methods, so your getters won't compile.</p>\n\n<p>Quick improvement: replace all <code>thing</code> with <code>T</code></p>\n\n<p>Quick fix for getters:</p>\n\n<pre><code>public T getFirst() {\n return first;\n}\n\npublic T getSecond() {\n return second;\n}\n</code></pre>\n\n<hr>\n\n<p>One requirement was to allow two different types for the pair members. So the class signature should look like:</p>\n\n<pre><code>public Pair&lt;S,T&gt; {\n  private S first;\n  private T second;\n  //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305723341,"creation_date":1305723341,"answer_id":6045014,"question_id":6044923,"body_markdown":"&gt; The class should be parameterised over two types one for the first member and one for the second member of the pair.\r\n\r\nYou have only one parameter.\r\n\r\nyou need something like `Pair&lt;F,S&gt;` and use F where you use `thing` for first and S where `thing` for second.","title":"Generic pair class","body":"<blockquote>\n  <p>The class should be parameterised over two types one for the first member and one for the second member of the pair.</p>\n</blockquote>\n\n<p>You have only one parameter.</p>\n\n<p>you need something like <code>Pair&lt;F,S&gt;</code> and use F where you use <code>thing</code> for first and S where <code>thing</code> for second.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305723394,"creation_date":1305723394,"answer_id":6045028,"question_id":6044923,"body_markdown":"Getters are broken\r\n\r\n    public thing getFirst() {\r\n      return thing.first;\r\n    }\r\n       \r\n    public thing getSecond() {\r\n      return thing.second;\r\n    }\r\n\r\n`thing` should be replaced with `this`","title":"Generic pair class","body":"<p>Getters are broken</p>\n\n<pre><code>public thing getFirst() {\n  return thing.first;\n}\n\npublic thing getSecond() {\n  return thing.second;\n}\n</code></pre>\n\n<p><code>thing</code> should be replaced with <code>this</code></p>\n"},{"tags":[],"owner":{"account_id":287119,"reputation":12309,"user_id":586748,"accept_rate":82,"display_name":"Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305723645,"creation_date":1305723645,"answer_id":6045088,"question_id":6044923,"body_markdown":"No. Have you tried coding it to see if it works?\r\n\r\nYou seem to have missed this part of the requirement:\r\n\r\n&gt; The class should be parameterised over two types one for the first member and one for the second member of the pair.\r\n\r\n\r\nWhich means the class should probably be defined as something more like:\r\n\r\n`public class Pair&lt;T1, T2&gt;`\r\n\r\nand the other methods updated accordingly. (By the way, I&#39;ve used T1 and T2 to refer to the types as by convention a short - 1 or 2 char - identifier is used). \r\n\r\nAlso,\r\n\r\n`return thing.first;`\r\n\r\nand \r\n\r\n`return thing.second;`\r\n\r\nare not going to work, as in your example, `thing` is a type, not an object. Think about what you want to return here. Do you even need to call a method?\r\n\r\nOnce you&#39;ve made your changes, code it and either write a unit test or a simple test-harness to check if it works.\r\n","title":"Generic pair class","body":"<p>No. Have you tried coding it to see if it works?</p>\n\n<p>You seem to have missed this part of the requirement:</p>\n\n<blockquote>\n  <p>The class should be parameterised over two types one for the first member and one for the second member of the pair.</p>\n</blockquote>\n\n<p>Which means the class should probably be defined as something more like:</p>\n\n<p><code>public class Pair&lt;T1, T2&gt;</code></p>\n\n<p>and the other methods updated accordingly. (By the way, I've used T1 and T2 to refer to the types as by convention a short - 1 or 2 char - identifier is used). </p>\n\n<p>Also,</p>\n\n<p><code>return thing.first;</code></p>\n\n<p>and </p>\n\n<p><code>return thing.second;</code></p>\n\n<p>are not going to work, as in your example, <code>thing</code> is a type, not an object. Think about what you want to return here. Do you even need to call a method?</p>\n\n<p>Once you've made your changes, code it and either write a unit test or a simple test-harness to check if it works.</p>\n"},{"comments":[{"owner":{"account_id":371476,"reputation":35019,"user_id":720030,"display_name":"karmakaze"},"score":15,"creation_date":1305750417,"post_id":6045145,"comment_id":7001489,"body_markdown":"I would generally make it immutable without the &#39;set&#39; methods.","body":"I would generally make it immutable without the &#39;set&#39; methods."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1425485408,"post_id":6045145,"comment_id":45984146,"body_markdown":"Can you explain the difference between your code and the OP&#39;s code?","body":"Can you explain the difference between your code and the OP&#39;s code?"},{"owner":{"account_id":3458,"reputation":2126,"user_id":4992,"display_name":"Claes Mogren"},"score":1,"creation_date":1425498888,"post_id":6045145,"comment_id":45992399,"body_markdown":"Not much of a difference, besides that the standard java convention for a type name is a single capital letter (F and S in this example) and that the getters return typed values of that type. But, again as @karmakaze said, I should have made the variables final and have no setters.","body":"Not much of a difference, besides that the standard java convention for a type name is a single capital letter (F and S in this example) and that the getters return typed values of that type. But, again as @karmakaze said, I should have made the variables final and have no setters."},{"owner":{"account_id":8716173,"reputation":964,"user_id":6520695,"accept_rate":80,"display_name":"Mohammed Julfikar Ali Mahbub"},"score":0,"creation_date":1571750805,"post_id":6045145,"comment_id":103338997,"body_markdown":"How can I get the class for this Class? Example int.class will return the int class. How can I do it for this class to get class of Pair&lt;F, S&gt;?","body":"How can I get the class for this Class? Example int.class will return the int class. How can I do it for this class to get class of Pair&lt;F, S&gt;?"}],"tags":[],"owner":{"account_id":3458,"reputation":2126,"user_id":4992,"display_name":"Claes Mogren"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1402169488,"creation_date":1305723897,"answer_id":6045145,"question_id":6044923,"body_markdown":"Almost. I&#39;d write it like this:\r\n\r\n    public class Pair&lt;F, S&gt; {\r\n        private F first; //first member of pair\r\n        private S second; //second member of pair\r\n\r\n        public Pair(F first, S second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        public void setFirst(F first) {\r\n            this.first = first;\r\n        }\r\n\r\n        public void setSecond(S second) {\r\n            this.second = second;\r\n        }\r\n\r\n        public F getFirst() {\r\n            return first;\r\n        }\r\n\r\n        public S getSecond() {\r\n            return second;\r\n        }\r\n    }\r\n\r\nEdit: I agree with @karmakaze&#39;s comment. The code should skip the setters and make first and second final to keep it immutable. ","title":"Generic pair class","body":"<p>Almost. I'd write it like this:</p>\n\n<pre><code>public class Pair&lt;F, S&gt; {\n    private F first; //first member of pair\n    private S second; //second member of pair\n\n    public Pair(F first, S second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public void setFirst(F first) {\n        this.first = first;\n    }\n\n    public void setSecond(S second) {\n        this.second = second;\n    }\n\n    public F getFirst() {\n        return first;\n    }\n\n    public S getSecond() {\n        return second;\n    }\n}\n</code></pre>\n\n<p>Edit: I agree with @karmakaze's comment. The code should skip the setters and make first and second final to keep it immutable. </p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305725187,"creation_date":1305725187,"answer_id":6045469,"question_id":6044923,"body_markdown":"After editing, it looks good.\r\n\r\nHowever, you really should implement the `hashCode` and `equals` methods, so that two pairs containing the same objects will be equal to each other, and can be used as keys in a HashMap. And `toString` if you&#39;re feeling generous. These methods are not required to fulfil the requirements you&#39;ve been given, but they are things a good programmer would add.\r\n","title":"Generic pair class","body":"<p>After editing, it looks good.</p>\n\n<p>However, you really should implement the <code>hashCode</code> and <code>equals</code> methods, so that two pairs containing the same objects will be equal to each other, and can be used as keys in a HashMap. And <code>toString</code> if you're feeling generous. These methods are not required to fulfil the requirements you've been given, but they are things a good programmer would add.</p>\n"},{"comments":[{"owner":{"account_id":219151,"reputation":4775,"user_id":475876,"accept_rate":75,"display_name":"Akira Yamamoto"},"score":0,"creation_date":1397763857,"post_id":16089273,"comment_id":35384834,"body_markdown":"Probably we can use these but they are made to be used in Maps. We should not have a key and a value in a pair.","body":"Probably we can use these but they are made to be used in Maps. We should not have a key and a value in a pair."}],"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1366305303,"creation_date":1366305303,"answer_id":16089273,"question_id":6044923,"body_markdown":"You can look to implementation of standard Java classes [AbstractMap.SimpleEntry][1] and [AbstractMap.SimpleImmutableEntry][2]. It is pretty easy to google sources:\r\n\r\n * http://www.docjar.com/html/api/java/util/AbstractMap.java.html\r\n * http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractMap.java\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractMap.SimpleEntry.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html","title":"Generic pair class","body":"<p>You can look to implementation of standard Java classes <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\">AbstractMap.SimpleEntry</a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"noreferrer\">AbstractMap.SimpleImmutableEntry</a>. It is pretty easy to google sources:</p>\n\n<ul>\n<li><a href=\"http://www.docjar.com/html/api/java/util/AbstractMap.java.html\" rel=\"noreferrer\">http://www.docjar.com/html/api/java/util/AbstractMap.java.html</a></li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractMap.java\" rel=\"noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractMap.java</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":334861,"reputation":18962,"user_id":661589,"accept_rate":79,"display_name":"Gavriel"},"score":0,"creation_date":1458226639,"post_id":18586739,"comment_id":59774826,"body_markdown":"IMHO in this implementation &lt;A,null&gt;.hasCode() == &lt;null,A&gt;.hashCode(), while equals correctly checks the 1st vs 1st, 2nd vs 2nd.","body":"IMHO in this implementation &lt;A,null&gt;.hasCode() == &lt;null,A&gt;.hashCode(), while equals correctly checks the 1st vs 1st, 2nd vs 2nd."}],"tags":[],"owner":{"account_id":432415,"reputation":1863,"user_id":817158,"display_name":"pommedeterresautee"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378194181,"creation_date":1378194181,"answer_id":18586739,"question_id":6044923,"body_markdown":"Here is an implementation from the Android SDK\r\n\r\n    /**\r\n     * Container to ease passing around a tuple of two objects. This object provides a sensible\r\n     * implementation of equals(), returning true if equals() is true on each of the contained\r\n     * objects.\r\n     */\r\n    public class Pair&lt;F, S&gt; {\r\n        public final F first;\r\n        public final S second;\r\n    \r\n        /**\r\n         * Constructor for a Pair.\r\n         *\r\n         * @param first the first object in the Pair\r\n         * @param second the second object in the pair\r\n         */\r\n        public Pair(F first, S second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n    \r\n        /**\r\n         * Checks the two objects for equality by delegating to their respective\r\n         * {@link Object#equals(Object)} methods.\r\n         *\r\n         * @param o the {@link Pair} to which this one is to be checked for equality\r\n         * @return true if the underlying objects of the Pair are both considered\r\n         *         equal\r\n         */\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (!(o instanceof Pair)) {\r\n                return false;\r\n            }\r\n            Pair&lt;?, ?&gt; p = (Pair&lt;?, ?&gt;) o;\r\n            return Objects.equal(p.first, first) &amp;&amp; Objects.equal(p.second, second);\r\n        }\r\n    \r\n        /**\r\n         * Compute a hash code using the hash codes of the underlying objects\r\n         *\r\n         * @return a hashcode of the Pair\r\n         */\r\n        @Override\r\n        public int hashCode() {\r\n            return (first == null ? 0 : first.hashCode()) ^ (second == null ? 0 : second.hashCode());\r\n        }\r\n    \r\n        /**\r\n         * Convenience method for creating an appropriately typed pair.\r\n         * @param a the first object in the Pair\r\n         * @param b the second object in the pair\r\n         * @return a Pair that is templatized with the types of a and b\r\n         */\r\n        public static &lt;A, B&gt; Pair &lt;A, B&gt; create(A a, B b) {\r\n            return new Pair&lt;A, B&gt;(a, b);\r\n        }\r\n    }","title":"Generic pair class","body":"<p>Here is an implementation from the Android SDK</p>\n\n<pre><code>/**\n * Container to ease passing around a tuple of two objects. This object provides a sensible\n * implementation of equals(), returning true if equals() is true on each of the contained\n * objects.\n */\npublic class Pair&lt;F, S&gt; {\n    public final F first;\n    public final S second;\n\n    /**\n     * Constructor for a Pair.\n     *\n     * @param first the first object in the Pair\n     * @param second the second object in the pair\n     */\n    public Pair(F first, S second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    /**\n     * Checks the two objects for equality by delegating to their respective\n     * {@link Object#equals(Object)} methods.\n     *\n     * @param o the {@link Pair} to which this one is to be checked for equality\n     * @return true if the underlying objects of the Pair are both considered\n     *         equal\n     */\n    @Override\n    public boolean equals(Object o) {\n        if (!(o instanceof Pair)) {\n            return false;\n        }\n        Pair&lt;?, ?&gt; p = (Pair&lt;?, ?&gt;) o;\n        return Objects.equal(p.first, first) &amp;&amp; Objects.equal(p.second, second);\n    }\n\n    /**\n     * Compute a hash code using the hash codes of the underlying objects\n     *\n     * @return a hashcode of the Pair\n     */\n    @Override\n    public int hashCode() {\n        return (first == null ? 0 : first.hashCode()) ^ (second == null ? 0 : second.hashCode());\n    }\n\n    /**\n     * Convenience method for creating an appropriately typed pair.\n     * @param a the first object in the Pair\n     * @param b the second object in the pair\n     * @return a Pair that is templatized with the types of a and b\n     */\n    public static &lt;A, B&gt; Pair &lt;A, B&gt; create(A a, B b) {\n        return new Pair&lt;A, B&gt;(a, b);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2522625,"reputation":1607,"user_id":2192683,"accept_rate":62,"display_name":"Raj Hassani"},"score":0,"creation_date":1551848892,"post_id":18958951,"comment_id":96785844,"body_markdown":"how would you implement compareTo when A and B can be different types?? You should change it to be Pair&lt;A,A&gt; to implement compareTo","body":"how would you implement compareTo when A and B can be different types?? You should change it to be Pair&lt;A,A&gt; to implement compareTo"},{"owner":{"account_id":3113945,"reputation":1016,"user_id":2635146,"display_name":"simon.watts"},"score":0,"creation_date":1551871571,"post_id":18958951,"comment_id":96797202,"body_markdown":"`compareTo` - you have the contract that this is an ordered pair and implement as for other sequences.  You are *not* comparing `first` and `second`, but `this.first` with `that.first` _etc._","body":"<code>compareTo</code> - you have the contract that this is an ordered pair and implement as for other sequences.  You are <i>not</i> comparing <code>first</code> and <code>second</code>, but <code>this.first</code> with <code>that.first</code> <i>etc.</i>"}],"tags":[],"owner":{"account_id":3113945,"reputation":1016,"user_id":2635146,"display_name":"simon.watts"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1458226450,"creation_date":1379938309,"answer_id":18958951,"question_id":6044923,"body_markdown":"The need for a Pair class usually crops up in larger projects - I&#39;m about to (re)implement one for the current project (as previous implementations are not accessible).\r\n\r\nGenerally I make it an immutable POJO, with a convenience function to create instances.  For example:\r\n\r\n    public class Pair&lt;T,U&gt;\r\n    {\r\n        public final T first;\r\n        public final U second;\r\n        public static &lt;T,U&gt; Pair&lt;T,U&gt; of(T first, U second);\r\n    }\r\n\r\nSo that the end-user can write:\r\n\r\n    return Pair.of (a, b);\r\n\r\nand\r\n\r\n    Pair&lt;A,B&gt; p = someThing ();\r\n    doSomething (p.first);\r\n    doSomethingElse (p.second);\r\n\r\nAs mentioned above, the Pair class should also implement hashCode(), equals(), optional-but-useful toString(), as possibly clone() and compareTo() for use where these are supported by T and U - though extra work is required to describe how these contracts are supported by the Pair class.\r\n","title":"Generic pair class","body":"<p>The need for a Pair class usually crops up in larger projects - I'm about to (re)implement one for the current project (as previous implementations are not accessible).</p>\n\n<p>Generally I make it an immutable POJO, with a convenience function to create instances.  For example:</p>\n\n<pre><code>public class Pair&lt;T,U&gt;\n{\n    public final T first;\n    public final U second;\n    public static &lt;T,U&gt; Pair&lt;T,U&gt; of(T first, U second);\n}\n</code></pre>\n\n<p>So that the end-user can write:</p>\n\n<pre><code>return Pair.of (a, b);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Pair&lt;A,B&gt; p = someThing ();\ndoSomething (p.first);\ndoSomethingElse (p.second);\n</code></pre>\n\n<p>As mentioned above, the Pair class should also implement hashCode(), equals(), optional-but-useful toString(), as possibly clone() and compareTo() for use where these are supported by T and U - though extra work is required to describe how these contracts are supported by the Pair class.</p>\n"},{"tags":[],"owner":{"account_id":3134037,"reputation":927,"user_id":2650963,"accept_rate":60,"display_name":"Brajesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456932958,"creation_date":1456927864,"answer_id":35749570,"question_id":6044923,"body_markdown":"My version of Pair. This also handles compares. \r\nPS : Most of the code is taken from AOSP.\r\n\r\n    package util;\r\n\r\n    import java.util.Objects;\r\n\r\n    public class Pair&lt;F extends Comparable&lt;F&gt;, S extends Comparable&lt;S&gt;&gt;\r\n      implements Comparable&lt;Pair&lt;F, S&gt;&gt; {\r\n\r\n        public final F first;\r\n        public final S second;\r\n\r\n        /**\r\n         * Constructor for a Pair.\r\n         *\r\n         * @param first  the first object in the Pair\r\n         * @param second the second object in the pair\r\n         */\r\n        public Pair(F first, S second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        /**\r\n         * Checks the two objects for equality by delegating to their respective\r\n         * {@link Object#equals(Object)} methods.\r\n         *\r\n         * @param o the {@link Pair} to which this one is to be checked for equality\r\n         * @return true if the underlying objects of the Pair are both considered\r\n         * equal\r\n         */\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (!(o instanceof Pair)) {\r\n                return false;\r\n            }\r\n            Pair&lt;?, ?&gt; p = (Pair&lt;?, ?&gt;) o;\r\n            return Objects.equals(p.first, first) &amp;&amp; Objects.equals(p.second, second);\r\n        }\r\n\r\n        /**\r\n         * Compute a hash code using the hash codes of the underlying objects\r\n         *\r\n         * @return a hashcode of the Pair\r\n         */\r\n        @Override\r\n        public int hashCode() {\r\n            return (first == null ? 0 : first.hashCode()) ^ (second == null ? 0 : second.hashCode());\r\n        }\r\n\r\n        /**\r\n         * Convenience method for creating an appropriately typed pair.\r\n         *\r\n         * @param a the first object in the Pair\r\n         * @param b the second object in the pair\r\n         * @return a Pair that is templatized with the types of a and b\r\n         */\r\n        public static &lt;A extends Comparable&lt;A&gt;, B extends Comparable&lt;B&gt;&gt; Pair&lt;A, B&gt; create(A a, B b) {\r\n            return new Pair&lt;&gt;(a, b);\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Pair&lt;F, S&gt; that) {\r\n            int cmp = this.first.compareTo(that.first);\r\n            if (cmp == 0)\r\n                cmp = this.second.compareTo(that.second);\r\n            return cmp;\r\n        }\r\n    }","title":"Generic pair class","body":"<p>My version of Pair. This also handles compares. \nPS : Most of the code is taken from AOSP.</p>\n\n<pre><code>package util;\n\nimport java.util.Objects;\n\npublic class Pair&lt;F extends Comparable&lt;F&gt;, S extends Comparable&lt;S&gt;&gt;\n  implements Comparable&lt;Pair&lt;F, S&gt;&gt; {\n\n    public final F first;\n    public final S second;\n\n    /**\n     * Constructor for a Pair.\n     *\n     * @param first  the first object in the Pair\n     * @param second the second object in the pair\n     */\n    public Pair(F first, S second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    /**\n     * Checks the two objects for equality by delegating to their respective\n     * {@link Object#equals(Object)} methods.\n     *\n     * @param o the {@link Pair} to which this one is to be checked for equality\n     * @return true if the underlying objects of the Pair are both considered\n     * equal\n     */\n    @Override\n    public boolean equals(Object o) {\n        if (!(o instanceof Pair)) {\n            return false;\n        }\n        Pair&lt;?, ?&gt; p = (Pair&lt;?, ?&gt;) o;\n        return Objects.equals(p.first, first) &amp;&amp; Objects.equals(p.second, second);\n    }\n\n    /**\n     * Compute a hash code using the hash codes of the underlying objects\n     *\n     * @return a hashcode of the Pair\n     */\n    @Override\n    public int hashCode() {\n        return (first == null ? 0 : first.hashCode()) ^ (second == null ? 0 : second.hashCode());\n    }\n\n    /**\n     * Convenience method for creating an appropriately typed pair.\n     *\n     * @param a the first object in the Pair\n     * @param b the second object in the pair\n     * @return a Pair that is templatized with the types of a and b\n     */\n    public static &lt;A extends Comparable&lt;A&gt;, B extends Comparable&lt;B&gt;&gt; Pair&lt;A, B&gt; create(A a, B b) {\n        return new Pair&lt;&gt;(a, b);\n    }\n\n    @Override\n    public int compareTo(Pair&lt;F, S&gt; that) {\n        int cmp = this.first.compareTo(that.first);\n        if (cmp == 0)\n            cmp = this.second.compareTo(that.second);\n        return cmp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47359,"reputation":2770,"user_id":140234,"accept_rate":40,"display_name":"Rodrigo Asensio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485606312,"creation_date":1485605870,"answer_id":41909695,"question_id":6044923,"body_markdown":"I implemented something similar but with static builder and chained setters\r\n\r\n    public class Pair&lt;R, L&gt; {\r\n\r\n\tprivate R left;\r\n\tprivate L right;\r\n\r\n\tpublic static &lt;K,V&gt; Pair&lt;K, V&gt; of(K k, V v) {\r\n\t\treturn new Pair&lt;K,V&gt;(k, v);\r\n\t}\r\n\t\r\n\tpublic Pair() {}\r\n\r\n\tpublic Pair(R key, L value) {\r\n\t\tthis.left(key);\r\n\t\tthis.right(value);\r\n\t}\r\n\r\n\tpublic R left() {\r\n\t\treturn left;\r\n\t}\r\n\r\n\tpublic Pair&lt;R, L&gt; left(R key) {\r\n\t\tthis.left = key;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic L right() {\r\n\t\treturn right;\r\n\t}\r\n\r\n\tpublic Pair&lt;R, L&gt; right(L value) {\r\n\t\tthis.right = value;\r\n\t\treturn this;\r\n\t}\r\n    }","title":"Generic pair class","body":"<p>I implemented something similar but with static builder and chained setters</p>\n\n<pre><code>public class Pair&lt;R, L&gt; {\n\nprivate R left;\nprivate L right;\n\npublic static &lt;K,V&gt; Pair&lt;K, V&gt; of(K k, V v) {\n    return new Pair&lt;K,V&gt;(k, v);\n}\n\npublic Pair() {}\n\npublic Pair(R key, L value) {\n    this.left(key);\n    this.right(value);\n}\n\npublic R left() {\n    return left;\n}\n\npublic Pair&lt;R, L&gt; left(R key) {\n    this.left = key;\n    return this;\n}\n\npublic L right() {\n    return right;\n}\n\npublic Pair&lt;R, L&gt; right(L value) {\n    this.right = value;\n    return this;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12477021,"reputation":95,"user_id":9083065,"accept_rate":75,"display_name":"raghu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519736995,"creation_date":1519736995,"answer_id":49009516,"question_id":6044923,"body_markdown":"Apache Commons Lang has a generic pair implementation \r\n\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\r\n\r\n","title":"Generic pair class","body":"<p>Apache Commons Lang has a generic pair implementation </p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html</a></p>\n"},{"tags":[],"owner":{"account_id":1106282,"reputation":2649,"user_id":1097603,"accept_rate":14,"display_name":"iamcrypticcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632413096,"creation_date":1632413096,"answer_id":69303414,"question_id":6044923,"body_markdown":"Creating a Generic Pair class takes much time. Using `SimpleEntry` will be much easier.\r\n\r\n```\r\nstatic class Pair {\r\n\tpublic static &lt;T, U&gt; Map.Entry&lt;T, U&gt; of(T first, U second) {\r\n\t\treturn new AbstractMap.SimpleEntry&lt;&gt;(first, second);\r\n\t}\r\n}\r\n```","title":"Generic pair class","body":"<p>Creating a Generic Pair class takes much time. Using <code>SimpleEntry</code> will be much easier.</p>\n<pre><code>static class Pair {\n    public static &lt;T, U&gt; Map.Entry&lt;T, U&gt; of(T first, U second) {\n        return new AbstractMap.SimpleEntry&lt;&gt;(first, second);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15180162,"reputation":39,"user_id":10953651,"display_name":"Ravi Bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647962948,"creation_date":1647962948,"answer_id":71574722,"question_id":6044923,"body_markdown":"In java 17, we can use record:\r\n\r\n    record Pair&lt;F, S&gt;(F first, S second) {\r\n      public static &lt;F, S&gt; Pair&lt;F, S&gt; of(F first, S second) {\r\n        return new Pair&lt;&gt;(first, second);\r\n      }\r\n    }","title":"Generic pair class","body":"<p>In java 17, we can use record:</p>\n<pre><code>record Pair&lt;F, S&gt;(F first, S second) {\n  public static &lt;F, S&gt; Pair&lt;F, S&gt; of(F first, S second) {\n    return new Pair&lt;&gt;(first, second);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680254748,"creation_date":1680254748,"answer_id":75896832,"question_id":6044923,"body_markdown":"Since Java 17, `record` is a simple way to achieve this:\r\n\r\n```\r\n/**\r\n * Pair data structure.\r\n *\r\n * @param first  first entry\r\n * @param second second entry\r\n * @param &lt;F&gt;    type of first entry\r\n * @param &lt;S&gt;    type of second entry\r\n */\r\npublic record Pair&lt;F, S&gt;(F first, S second) {\r\n}\r\n```\r\n\r\nUse it as follows:\r\n\r\n```\r\nPair&lt;Long, String&gt; myPair = new Pair&lt;&gt;(4L, &quot;Four&quot;);\r\nSystem.out.println(myPair);\r\n```\r\n\r\nOutput:\r\n&gt; Pair[first=4, second=Four]","title":"Generic pair class","body":"<p>Since Java 17, <code>record</code> is a simple way to achieve this:</p>\n<pre><code>/**\n * Pair data structure.\n *\n * @param first  first entry\n * @param second second entry\n * @param &lt;F&gt;    type of first entry\n * @param &lt;S&gt;    type of second entry\n */\npublic record Pair&lt;F, S&gt;(F first, S second) {\n}\n</code></pre>\n<p>Use it as follows:</p>\n<pre><code>Pair&lt;Long, String&gt; myPair = new Pair&lt;&gt;(4L, &quot;Four&quot;);\nSystem.out.println(myPair);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Pair[first=4, second=Four]</p>\n</blockquote>\n"}],"owner":{"account_id":749351,"reputation":541,"user_id":733174,"accept_rate":30,"display_name":"John Curtsy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73465,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":6045145,"answer_count":17,"score":17,"last_activity_date":1680254748,"creation_date":1305723044,"question_id":6044923,"body_markdown":"Just attempting this question I found in a past exam paper so that I can prepare for an upcoming Java examination.\r\n\r\nProvide a generic class Pair for representing pairs of things. The class should provide a constructor, a method for getting the first member of the pair, a method for getting the second member of the pair, a method for setting the first member of the pair, a method for setting the second member of the pair. The class should be parameterised over two types one for the first member and one for the second member of the pair.\r\n\r\nIs this a correct implementation for this question ?\r\n\r\n    public class Pair&lt;firstThing, secondThing&gt;{\r\n       private firstThing first;//first member of pair\r\n       private secondThing second;//second member of pair\r\n    \r\n       public Pair(firstThing first, secondThing second){\r\n         this.first = first;\r\n         this.second = second;\r\n       }\r\n    \r\n       public void setFirst(firstThing first){\r\n        this.first = first;\r\n       }\r\n    \r\n       public void setSecond(secondThing second) {\r\n         this.second = second;\r\n       }\r\n    \r\n       public thing getFirst() {\r\n         return this.first;\r\n       }\r\n    \r\n       public thing getSecond() {\r\n         return this.second;\r\n       }\r\n    }","title":"Generic pair class","body":"<p>Just attempting this question I found in a past exam paper so that I can prepare for an upcoming Java examination.</p>\n\n<p>Provide a generic class Pair for representing pairs of things. The class should provide a constructor, a method for getting the first member of the pair, a method for getting the second member of the pair, a method for setting the first member of the pair, a method for setting the second member of the pair. The class should be parameterised over two types one for the first member and one for the second member of the pair.</p>\n\n<p>Is this a correct implementation for this question ?</p>\n\n<pre><code>public class Pair&lt;firstThing, secondThing&gt;{\n   private firstThing first;//first member of pair\n   private secondThing second;//second member of pair\n\n   public Pair(firstThing first, secondThing second){\n     this.first = first;\n     this.second = second;\n   }\n\n   public void setFirst(firstThing first){\n    this.first = first;\n   }\n\n   public void setSecond(secondThing second) {\n     this.second = second;\n   }\n\n   public thing getFirst() {\n     return this.first;\n   }\n\n   public thing getSecond() {\n     return this.second;\n   }\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array","decision-tree"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680254588,"post_id":75891872,"comment_id":133870610,"body_markdown":"You should check out-of-bounds **before** checking whether the player hit a `#`. Right now, your code will result in an `ArrayIndexOutOfBoundsException`. For example, for `&quot;up&quot;`, you first check `spots[playerRow-1][playerColumn]==&#39;#&#39;`, if `playerRow` is `0`, you&#39;re trying to check position `-1`, which does not exist, and thus throws an `ArrayIndexOutOfBoundsException`","body":"You should check out-of-bounds <b>before</b> checking whether the player hit a <code>#</code>. Right now, your code will result in an <code>ArrayIndexOutOfBoundsException</code>. For example, for <code>&quot;up&quot;</code>, you first check <code>spots[playerRow-1][playerColumn]==&#39;#&#39;</code>, if <code>playerRow</code> is <code>0</code>, you&#39;re trying to check position <code>-1</code>, which does not exist, and thus throws an <code>ArrayIndexOutOfBoundsException</code>"}],"owner":{"account_id":26527726,"reputation":23,"user_id":20160436,"display_name":"Liam Horton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680254595,"answer_count":0,"score":0,"last_activity_date":1680254383,"creation_date":1680201648,"question_id":75891872,"body_markdown":"I&#39;m creating a game where there is a 10x5 grid with &quot;#&quot; as walls, &quot;O&quot; as the player and &quot;X&quot; as the checkpoint you need to get to to win. I need to make sure that whatever direction the player chooses to go, they do not go out of bounds. I feel like I&#39;ve made the conditions for when the player goes out of bounds and when it is acceptable to move pretty clear in my code, yet whenever the player makes a move that would put them out of bounds, it throws an error.\r\n\r\n```java\r\nclass Game {\r\n    Random rand = new Random();\r\n    Scanner scan = new Scanner(System.in);\r\n    public char spots[][] = {\r\n        {&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},\r\n        {&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},\r\n        {&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},\r\n        {&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},\r\n        {&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;}\r\n    };\r\n    int playerRow, playerColumn;\r\n    \r\n    public void setWalls() {\r\n        int wallChance;\r\n        for(int y=0; y&lt;5; y++) {\r\n            for(int x=0; x&lt;10; x++) {\r\n                wallChance = rand.nextInt(10);\r\n                if(wallChance==0) {\r\n                    spots[y][x] = &#39;#&#39;;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    public void setPlayerAndExit() {\r\n        boolean peSet = false;\r\n        while(peSet==false) {\r\n            int row = rand.nextInt(5);\r\n            int column = rand.nextInt(10);\r\n            \r\n            if(spots[row][column]!=&#39;#&#39;) {\r\n                spots[row][column] = &#39;O&#39;;\r\n                playerRow = row;\r\n                playerColumn = column;\r\n                peSet = true;\r\n            }\r\n        }\r\n        \r\n        peSet = false;\r\n        \r\n        while(peSet==false) {\r\n            int r = rand.nextInt(5);\r\n            int c = rand.nextInt(10);\r\n            \r\n            if(spots[r][c]!=&#39;#&#39; &amp;&amp; spots[r][c]!=&#39;O&#39;) {\r\n                spots[r][c] = &#39;X&#39;;\r\n                peSet = true;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public void printGame() {\r\n        System.out.println(spots[0][0] + &quot; &quot; + spots[0][1] + &quot; &quot; + spots[0][2] + &quot; &quot; + spots[0][3] + &quot; &quot; + spots[0][4] + &quot; &quot; + spots[0][5] + &quot; &quot; + spots[0][6] + &quot; &quot; + spots[0][7] + &quot; &quot; + spots[0][8] + &quot; &quot; + spots[0][9]);\r\n        System.out.println(spots[1][0] + &quot; &quot; + spots[1][1] + &quot; &quot; + spots[1][2] + &quot; &quot; + spots[1][3] + &quot; &quot; + spots[1][4] + &quot; &quot; + spots[1][5] + &quot; &quot; + spots[1][6] + &quot; &quot; + spots[1][7] + &quot; &quot; + spots[1][8] + &quot; &quot; + spots[1][9]);\r\n        System.out.println(spots[2][0] + &quot; &quot; + spots[2][1] + &quot; &quot; + spots[2][2] + &quot; &quot; + spots[2][3] + &quot; &quot; + spots[2][4] + &quot; &quot; + spots[2][5] + &quot; &quot; + spots[2][6] + &quot; &quot; + spots[2][7] + &quot; &quot; + spots[2][8] + &quot; &quot; + spots[2][9]);\r\n        System.out.println(spots[3][0] + &quot; &quot; + spots[3][1] + &quot; &quot; + spots[3][2] + &quot; &quot; + spots[3][3] + &quot; &quot; + spots[3][4] + &quot; &quot; + spots[3][5] + &quot; &quot; + spots[3][6] + &quot; &quot; + spots[3][7] + &quot; &quot; + spots[3][8] + &quot; &quot; + spots[3][9]);\r\n        System.out.println(spots[4][0] + &quot; &quot; + spots[4][1] + &quot; &quot; + spots[4][2] + &quot; &quot; + spots[4][3] + &quot; &quot; + spots[4][4] + &quot; &quot; + spots[4][5] + &quot; &quot; + spots[4][6] + &quot; &quot; + spots[4][7] + &quot; &quot; + spots[4][8] + &quot; &quot; + spots[4][9]);\r\n    }\r\n    \r\n    public void playGame() {\r\n        String dir;\r\n        boolean gameOver = false;\r\n        setWalls();\r\n        setPlayerAndExit();\r\n        \r\n        while(gameOver==false) {\r\n            System.out.println(&quot;--------------------&quot;);\r\n            printGame();\r\n            System.out.println(&quot;--------------------&quot;); \r\n            \r\n            System.out.println(&quot;go up, down, left or right?&quot;);\r\n            dir = scan.nextLine();\r\n\r\n//unacceptable moves\r\n            \r\n            if(!dir.equals(&quot;up&quot;) &amp;&amp; !dir.equals(&quot;down&quot;) &amp;&amp; !dir.equals(&quot;left&quot;) &amp;&amp; !dir.equals(&quot;right&quot;)) {\r\n                System.out.println(&quot;Wrong input&quot;);\r\n            }\r\n            else if((dir.equals(&quot;up&quot;) &amp;&amp; spots[playerRow-1][playerColumn]==&#39;#&#39;) || (dir.equals(&quot;up&quot;) &amp;&amp; playerRow-1&lt;0)) {\r\n                System.out.println(&quot;Can&#39;t move there&quot;);\r\n            }\r\n            else if((dir.equals(&quot;down&quot;) &amp;&amp; spots[playerRow+1][playerColumn]==&#39;#&#39;) || (dir.equals(&quot;down&quot;) &amp;&amp; playerRow+1&gt;4)) {\r\n                System.out.println(&quot;Can&#39;t move there&quot;);\r\n            }\r\n            else if((dir.equals(&quot;left&quot;) &amp;&amp; spots[playerRow][playerColumn-1]==&#39;#&#39;) || (dir.equals(&quot;left&quot;) &amp;&amp; playerColumn-1&lt;0)) {\r\n                System.out.println(&quot;Can&#39;t move there&quot;);\r\n            }\r\n            else if((dir.equals(&quot;right&quot;) &amp;&amp; spots[playerRow][playerColumn+1]==&#39;#&#39;) || (dir.equals(&quot;right&quot;) &amp;&amp; playerColumn+1&gt;9)) {\r\n                System.out.println(&quot;Can&#39;t move there&quot;);\r\n            }\r\n//acceptable moves\r\n            \r\n            else if(dir.equals(&quot;up&quot;) &amp;&amp; (playerRow-1)&gt;=0) {\r\n                spots[playerRow][playerColumn] = &#39;.&#39;;\r\n                playerRow--;\r\n                \r\n                if(spots[playerRow][playerColumn] == &#39;X&#39;) {\r\n                    spots[playerRow][playerColumn] = &#39;O&#39;;\r\n                    System.out.println(&quot;You win!&quot;);\r\n                    gameOver = true;\r\n                }\r\n                else {\r\n                   spots[playerRow][playerColumn] = &#39;O&#39;; \r\n                }\r\n            }\r\n            else if(dir.equals(&quot;down&quot;) &amp;&amp; (playerRow+1)&lt;=4) {\r\n                spots[playerRow][playerColumn] = &#39;.&#39;;\r\n                playerRow++;\r\n                \r\n                if(spots[playerRow][playerColumn] == &#39;X&#39;) {\r\n                    spots[playerRow][playerColumn] = &#39;O&#39;;\r\n                    System.out.println(&quot;You win!&quot;);\r\n                    gameOver = true;\r\n                }\r\n                else {\r\n                   spots[playerRow][playerColumn] = &#39;O&#39;; \r\n                }\r\n            }\r\n            else if(dir.equals(&quot;left&quot;) &amp;&amp; (playerColumn-1)&gt;=0) {\r\n                spots[playerRow][playerColumn] = &#39;.&#39;;\r\n                playerColumn--;\r\n                \r\n                if(spots[playerRow][playerColumn] == &#39;X&#39;) {\r\n                    spots[playerRow][playerColumn] = &#39;O&#39;;\r\n                    System.out.println(&quot;You win!&quot;);\r\n                    gameOver = true;\r\n                }\r\n                else {\r\n                   spots[playerRow][playerColumn] = &#39;O&#39;; \r\n                }\r\n            }\r\n            else if(dir.equals(&quot;right&quot;) &amp;&amp; (playerColumn+1)&lt;=9) {\r\n                spots[playerRow][playerColumn] = &#39;.&#39;;\r\n                playerColumn++;\r\n                \r\n                if(spots[playerRow][playerColumn] == &#39;X&#39;) {\r\n                    spots[playerRow][playerColumn] = &#39;O&#39;;\r\n                    System.out.println(&quot;You win!&quot;);\r\n                    gameOver = true;\r\n                }\r\n                else {\r\n                   spots[playerRow][playerColumn] = &#39;O&#39;; \r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried messing around with the numbers and conditions, such as having the out of bounds condition saying if the number for the row or column is equal to the number that would bring them out of bounds that it should say you can&#39;t move there. I&#39;m expecting that any time the player moves on a # or moves somewhere that is out of bounds, they will be told they can&#39;t move there.","title":"How should I set the conditions to say can&#39;t move there when the player goes out of bounds?","body":"<p>I'm creating a game where there is a 10x5 grid with &quot;#&quot; as walls, &quot;O&quot; as the player and &quot;X&quot; as the checkpoint you need to get to to win. I need to make sure that whatever direction the player chooses to go, they do not go out of bounds. I feel like I've made the conditions for when the player goes out of bounds and when it is acceptable to move pretty clear in my code, yet whenever the player makes a move that would put them out of bounds, it throws an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Game {\n    Random rand = new Random();\n    Scanner scan = new Scanner(System.in);\n    public char spots[][] = {\n        {'.','.','.','.','.','.','.','.','.','.'},\n        {'.','.','.','.','.','.','.','.','.','.'},\n        {'.','.','.','.','.','.','.','.','.','.'},\n        {'.','.','.','.','.','.','.','.','.','.'},\n        {'.','.','.','.','.','.','.','.','.','.'}\n    };\n    int playerRow, playerColumn;\n    \n    public void setWalls() {\n        int wallChance;\n        for(int y=0; y&lt;5; y++) {\n            for(int x=0; x&lt;10; x++) {\n                wallChance = rand.nextInt(10);\n                if(wallChance==0) {\n                    spots[y][x] = '#';\n                }\n            }\n        }\n    }\n    \n    public void setPlayerAndExit() {\n        boolean peSet = false;\n        while(peSet==false) {\n            int row = rand.nextInt(5);\n            int column = rand.nextInt(10);\n            \n            if(spots[row][column]!='#') {\n                spots[row][column] = 'O';\n                playerRow = row;\n                playerColumn = column;\n                peSet = true;\n            }\n        }\n        \n        peSet = false;\n        \n        while(peSet==false) {\n            int r = rand.nextInt(5);\n            int c = rand.nextInt(10);\n            \n            if(spots[r][c]!='#' &amp;&amp; spots[r][c]!='O') {\n                spots[r][c] = 'X';\n                peSet = true;\n            }\n        }\n    }\n    \n    public void printGame() {\n        System.out.println(spots[0][0] + &quot; &quot; + spots[0][1] + &quot; &quot; + spots[0][2] + &quot; &quot; + spots[0][3] + &quot; &quot; + spots[0][4] + &quot; &quot; + spots[0][5] + &quot; &quot; + spots[0][6] + &quot; &quot; + spots[0][7] + &quot; &quot; + spots[0][8] + &quot; &quot; + spots[0][9]);\n        System.out.println(spots[1][0] + &quot; &quot; + spots[1][1] + &quot; &quot; + spots[1][2] + &quot; &quot; + spots[1][3] + &quot; &quot; + spots[1][4] + &quot; &quot; + spots[1][5] + &quot; &quot; + spots[1][6] + &quot; &quot; + spots[1][7] + &quot; &quot; + spots[1][8] + &quot; &quot; + spots[1][9]);\n        System.out.println(spots[2][0] + &quot; &quot; + spots[2][1] + &quot; &quot; + spots[2][2] + &quot; &quot; + spots[2][3] + &quot; &quot; + spots[2][4] + &quot; &quot; + spots[2][5] + &quot; &quot; + spots[2][6] + &quot; &quot; + spots[2][7] + &quot; &quot; + spots[2][8] + &quot; &quot; + spots[2][9]);\n        System.out.println(spots[3][0] + &quot; &quot; + spots[3][1] + &quot; &quot; + spots[3][2] + &quot; &quot; + spots[3][3] + &quot; &quot; + spots[3][4] + &quot; &quot; + spots[3][5] + &quot; &quot; + spots[3][6] + &quot; &quot; + spots[3][7] + &quot; &quot; + spots[3][8] + &quot; &quot; + spots[3][9]);\n        System.out.println(spots[4][0] + &quot; &quot; + spots[4][1] + &quot; &quot; + spots[4][2] + &quot; &quot; + spots[4][3] + &quot; &quot; + spots[4][4] + &quot; &quot; + spots[4][5] + &quot; &quot; + spots[4][6] + &quot; &quot; + spots[4][7] + &quot; &quot; + spots[4][8] + &quot; &quot; + spots[4][9]);\n    }\n    \n    public void playGame() {\n        String dir;\n        boolean gameOver = false;\n        setWalls();\n        setPlayerAndExit();\n        \n        while(gameOver==false) {\n            System.out.println(&quot;--------------------&quot;);\n            printGame();\n            System.out.println(&quot;--------------------&quot;); \n            \n            System.out.println(&quot;go up, down, left or right?&quot;);\n            dir = scan.nextLine();\n\n//unacceptable moves\n            \n            if(!dir.equals(&quot;up&quot;) &amp;&amp; !dir.equals(&quot;down&quot;) &amp;&amp; !dir.equals(&quot;left&quot;) &amp;&amp; !dir.equals(&quot;right&quot;)) {\n                System.out.println(&quot;Wrong input&quot;);\n            }\n            else if((dir.equals(&quot;up&quot;) &amp;&amp; spots[playerRow-1][playerColumn]=='#') || (dir.equals(&quot;up&quot;) &amp;&amp; playerRow-1&lt;0)) {\n                System.out.println(&quot;Can't move there&quot;);\n            }\n            else if((dir.equals(&quot;down&quot;) &amp;&amp; spots[playerRow+1][playerColumn]=='#') || (dir.equals(&quot;down&quot;) &amp;&amp; playerRow+1&gt;4)) {\n                System.out.println(&quot;Can't move there&quot;);\n            }\n            else if((dir.equals(&quot;left&quot;) &amp;&amp; spots[playerRow][playerColumn-1]=='#') || (dir.equals(&quot;left&quot;) &amp;&amp; playerColumn-1&lt;0)) {\n                System.out.println(&quot;Can't move there&quot;);\n            }\n            else if((dir.equals(&quot;right&quot;) &amp;&amp; spots[playerRow][playerColumn+1]=='#') || (dir.equals(&quot;right&quot;) &amp;&amp; playerColumn+1&gt;9)) {\n                System.out.println(&quot;Can't move there&quot;);\n            }\n//acceptable moves\n            \n            else if(dir.equals(&quot;up&quot;) &amp;&amp; (playerRow-1)&gt;=0) {\n                spots[playerRow][playerColumn] = '.';\n                playerRow--;\n                \n                if(spots[playerRow][playerColumn] == 'X') {\n                    spots[playerRow][playerColumn] = 'O';\n                    System.out.println(&quot;You win!&quot;);\n                    gameOver = true;\n                }\n                else {\n                   spots[playerRow][playerColumn] = 'O'; \n                }\n            }\n            else if(dir.equals(&quot;down&quot;) &amp;&amp; (playerRow+1)&lt;=4) {\n                spots[playerRow][playerColumn] = '.';\n                playerRow++;\n                \n                if(spots[playerRow][playerColumn] == 'X') {\n                    spots[playerRow][playerColumn] = 'O';\n                    System.out.println(&quot;You win!&quot;);\n                    gameOver = true;\n                }\n                else {\n                   spots[playerRow][playerColumn] = 'O'; \n                }\n            }\n            else if(dir.equals(&quot;left&quot;) &amp;&amp; (playerColumn-1)&gt;=0) {\n                spots[playerRow][playerColumn] = '.';\n                playerColumn--;\n                \n                if(spots[playerRow][playerColumn] == 'X') {\n                    spots[playerRow][playerColumn] = 'O';\n                    System.out.println(&quot;You win!&quot;);\n                    gameOver = true;\n                }\n                else {\n                   spots[playerRow][playerColumn] = 'O'; \n                }\n            }\n            else if(dir.equals(&quot;right&quot;) &amp;&amp; (playerColumn+1)&lt;=9) {\n                spots[playerRow][playerColumn] = '.';\n                playerColumn++;\n                \n                if(spots[playerRow][playerColumn] == 'X') {\n                    spots[playerRow][playerColumn] = 'O';\n                    System.out.println(&quot;You win!&quot;);\n                    gameOver = true;\n                }\n                else {\n                   spots[playerRow][playerColumn] = 'O'; \n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've tried messing around with the numbers and conditions, such as having the out of bounds condition saying if the number for the row or column is equal to the number that would bring them out of bounds that it should say you can't move there. I'm expecting that any time the player moves on a # or moves somewhere that is out of bounds, they will be told they can't move there.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680041722,"post_id":75871390,"comment_id":133828873,"body_markdown":"That `Connection reset` looks like a network/firewall/proxy issue???","body":"That <code>Connection reset</code> looks like a network/firewall/proxy issue???"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1680042671,"post_id":75871390,"comment_id":133829009,"body_markdown":"Would anything in [Maven Connection Reset error](https://stackoverflow.com/q/34170811/3124333) help you?","body":"Would anything in <a href=\"https://stackoverflow.com/q/34170811/3124333\">Maven Connection Reset error</a> help you?"},{"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"score":0,"creation_date":1680050173,"post_id":75871390,"comment_id":133829935,"body_markdown":"Hi All, thanks for your comments. Another engineer advised whitelisting to address these 2 errors. Will update this question once my request is processed.","body":"Hi All, thanks for your comments. Another engineer advised whitelisting to address these 2 errors. Will update this question once my request is processed."},{"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"score":0,"creation_date":1680058244,"post_id":75871390,"comment_id":133830847,"body_markdown":"As per our cloud architect, *.confluent.io is already whitelisted so it did not solve the issue. any other insights? that you.","body":"As per our cloud architect, *.confluent.io is already whitelisted so it did not solve the issue. any other insights? that you."}],"answers":[{"tags":[],"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680254305,"creation_date":1680254305,"answer_id":75896777,"question_id":75871390,"body_markdown":"There were 2 issues that caused the problem.\r\n1. there was an issue with proxy settings of the business.\r\n2. maven repository in pom.xml is http. Since Maven 3.8.1, this is getting blocked.\r\n\r\nSolutions:\r\n1. change settings.xml proxy to use IP address instead of url\r\n2. change maven repo url to &quot;https://io.confluent...&quot; to avoid blocking download of affected dependencies.\r\n","title":"Some dependencies not getting downloaded by Maven even when using a proxy","body":"<p>There were 2 issues that caused the problem.</p>\n<ol>\n<li>there was an issue with proxy settings of the business.</li>\n<li>maven repository in pom.xml is http. Since Maven 3.8.1, this is getting blocked.</li>\n</ol>\n<p>Solutions:</p>\n<ol>\n<li>change settings.xml proxy to use IP address instead of url</li>\n<li>change maven repo url to &quot;https://io.confluent...&quot; to avoid blocking download of affected dependencies.</li>\n</ol>\n"}],"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75896777,"answer_count":1,"score":0,"last_activity_date":1680254305,"creation_date":1680040469,"question_id":75871390,"body_markdown":"2 out of 14 dependencies are not getting downloaded even though I am already using a proxy.\r\nAny other configuration in settings.xml needed specifically for these 3? So far engineers in my project has only given 1 proxy.\r\n\r\n 1. org.apache.kafka:kafka-streams:jar:7.3.2-ccs \r\n 2. io.confluent:kafka-schema-registry-client:jar:7.3.0 \r\n\r\nSee error below:\r\n\r\n[ERROR] Failed to execute goal on project Kafka-Testing: Could not resolve dependencies for project org.jsmart:Kafka-Testing:jar:0.0.1-SNAPSHOT: The following artifacts could not be resolved: org.apache.kafka:kafka-streams:jar:7.3.2-ccs (absent), io.confluent:kafka-schema-registry-client:jar:7.3.0 (absent): Could not transfer artifact org.apache.kafka:kafka-streams:jar:7.3.2-ccs from/to confluent (http://packages.confluent.io/maven/): Connection \r\nreset\r\n\r\n","title":"Some dependencies not getting downloaded by Maven even when using a proxy","body":"<p>2 out of 14 dependencies are not getting downloaded even though I am already using a proxy.\nAny other configuration in settings.xml needed specifically for these 3? So far engineers in my project has only given 1 proxy.</p>\n<ol>\n<li>org.apache.kafka:kafka-streams:jar:7.3.2-ccs</li>\n<li>io.confluent:kafka-schema-registry-client:jar:7.3.0</li>\n</ol>\n<p>See error below:</p>\n<p>[ERROR] Failed to execute goal on project Kafka-Testing: Could not resolve dependencies for project org.jsmart:Kafka-Testing:jar:0.0.1-SNAPSHOT: The following artifacts could not be resolved: org.apache.kafka:kafka-streams:jar:7.3.2-ccs (absent), io.confluent:kafka-schema-registry-client:jar:7.3.0 (absent): Could not transfer artifact org.apache.kafka:kafka-streams:jar:7.3.2-ccs from/to confluent (<a href=\"http://packages.confluent.io/maven/\" rel=\"nofollow noreferrer\">http://packages.confluent.io/maven/</a>): Connection\nreset</p>\n"},{"tags":["java","gradle","lombok"],"comments":[{"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"score":0,"creation_date":1680264237,"post_id":75896528,"comment_id":133872875,"body_markdown":"Does this answer your question? [An exception occurred applying plugin request \\[id: &#39;com.android.application&#39;\\] while integration Jetpack Compose](https://stackoverflow.com/questions/66376361/an-exception-occurred-applying-plugin-request-id-com-android-application-wh)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66376361/an-exception-occurred-applying-plugin-request-id-com-android-application-wh\">An exception occurred applying plugin request &#91;id: &#39;com.android.application&#39;&#93; while integration Jetpack Compose</a>"}],"answers":[{"comments":[{"owner":{"account_id":10811047,"reputation":61,"user_id":7951621,"display_name":"loucat dev"},"score":0,"creation_date":1680254714,"post_id":75896741,"comment_id":133870634,"body_markdown":"Thank you, I don&#39;t have &quot;embedded  jdk&quot; in my IntelliJ, but I&#39;ve tried changing the gradle JVM to &quot;project SDK&quot; and it didn&#39;t make a difference. \nThis problem is not there with the previous lombok version... I&#39;m using Java 11 for this project BTW.","body":"Thank you, I don&#39;t have &quot;embedded  jdk&quot; in my IntelliJ, but I&#39;ve tried changing the gradle JVM to &quot;project SDK&quot; and it didn&#39;t make a difference.  This problem is not there with the previous lombok version... I&#39;m using Java 11 for this project BTW."},{"owner":{"account_id":7675365,"reputation":71,"user_id":5816418,"display_name":"Madhav"},"score":0,"creation_date":1680586991,"post_id":75896741,"comment_id":133918933,"body_markdown":"Did you try upgrading the Java version as well?","body":"Did you try upgrading the Java version as well?"}],"tags":[],"owner":{"account_id":7675365,"reputation":71,"user_id":5816418,"display_name":"Madhav"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680254005,"creation_date":1680254005,"answer_id":75896741,"question_id":75896528,"body_markdown":"Seems like you are having issue with java plugin not the lombok. Try changing JDK to internal JDK in project structure (if you are using IntelliJ)\r\n\r\n&gt; Go to ```File -&gt; Project Structure``` and change JDK location to ```Embedded JDK```\r\n\r\nor,\r\n\r\n&gt; ```Preferences -&gt; Build```, ```Execution```, ```Deployment -&gt; Build Tools``` -&gt; ```Gradle -&gt; Gradle JDK```","title":"gradle lombok plugin 8.0.1 UnknownConfigurationException","body":"<p>Seems like you are having issue with java plugin not the lombok. Try changing JDK to internal JDK in project structure (if you are using IntelliJ)</p>\n<blockquote>\n<p>Go to <code>File -&gt; Project Structure</code> and change JDK location to <code>Embedded JDK</code></p>\n</blockquote>\n<p>or,</p>\n<blockquote>\n<p><code>Preferences -&gt; Build</code>, <code>Execution</code>, <code>Deployment -&gt; Build Tools</code> -&gt; <code>Gradle -&gt; Gradle JDK</code></p>\n</blockquote>\n"}],"owner":{"account_id":10811047,"reputation":61,"user_id":7951621,"display_name":"loucat dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680254005,"creation_date":1680252272,"question_id":75896528,"body_markdown":"I&#39;m trying to upgrade lombok from 6.6.3 to 8.0.1 but I&#39;m getting errors at build time.\r\n\r\nThe exception is:\r\n\r\n    org.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: &#39;java&#39;]\r\n    \tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:207)\r\n    \t[...]\r\n    Caused by: org.gradle.api.internal.plugins.PluginApplicationException\r\n    \r\n    Caused by: org.gradle.api.artifacts.UnknownConfigurationException: Configuration with name &#39;mainSourceElements&#39; not found.\r\n    \tat \r\n        [...]\r\n        io.freefair.gradle.plugins.lombok.LombokPlugin.configureJavaPluginDefaults(LombokPlugin.java:71)\r\n\r\n\r\nMy build.gradle plugin section is like this:\r\n\r\n    plugins {\r\n        id &quot;java&quot;\r\n        id &quot;io.freefair.lombok&quot; version &quot;8.0.1&quot;\r\n        &lt;other plugins&gt;\r\n        }\r\n\r\n\r\nI can&#39;t find info online about this specific error so if anyone has an idea it would be really appreciated!","title":"gradle lombok plugin 8.0.1 UnknownConfigurationException","body":"<p>I'm trying to upgrade lombok from 6.6.3 to 8.0.1 but I'm getting errors at build time.</p>\n<p>The exception is:</p>\n<pre><code>org.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'java']\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:207)\n    [...]\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException\n\nCaused by: org.gradle.api.artifacts.UnknownConfigurationException: Configuration with name 'mainSourceElements' not found.\n    at \n    [...]\n    io.freefair.gradle.plugins.lombok.LombokPlugin.configureJavaPluginDefaults(LombokPlugin.java:71)\n</code></pre>\n<p>My build.gradle plugin section is like this:</p>\n<pre><code>plugins {\n    id &quot;java&quot;\n    id &quot;io.freefair.lombok&quot; version &quot;8.0.1&quot;\n    &lt;other plugins&gt;\n    }\n</code></pre>\n<p>I can't find info online about this specific error so if anyone has an idea it would be really appreciated!</p>\n"},{"tags":["java","amazon-web-services","api","cloud","devops"],"owner":{"account_id":26941998,"reputation":1,"user_id":20512648,"display_name":"Jyoti Porwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680256122,"answer_count":0,"score":0,"last_activity_date":1680253442,"creation_date":1680248452,"question_id":75896008,"body_markdown":"The generated REST API gateway endpoint contains the stage name in the path. e.g. if I deploy the project to prod\r\nhttps://asdfasdfasdf.execute-api.eu-west-2.amazonaws.com/prod . I don’t want prod in my URL. How to remove the stage name from URL? Is there any way to do this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI don’t want prod in my URL. How to remove the stage name from URL? Is there any way to do this?","title":"AWS API Gateway- Remove stage name from URL","body":"<p>The generated REST API gateway endpoint contains the stage name in the path. e.g. if I deploy the project to prod\n<a href=\"https://asdfasdfasdf.execute-api.eu-west-2.amazonaws.com/prod\" rel=\"nofollow noreferrer\">https://asdfasdfasdf.execute-api.eu-west-2.amazonaws.com/prod</a> . I don’t want prod in my URL. How to remove the stage name from URL? Is there any way to do this?</p>\n<p>I don’t want prod in my URL. How to remove the stage name from URL? Is there any way to do this?</p>\n"},{"tags":["java","hql"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680253707,"post_id":75896633,"comment_id":133870434,"body_markdown":"when the query is called? I didn&#39;t see it in the code","body":"when the query is called? I didn&#39;t see it in the code"}],"owner":{"account_id":28175733,"reputation":1,"user_id":21533534,"display_name":"Jon Galarza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680253100,"creation_date":1680253100,"question_id":75896633,"body_markdown":"I have this class with this hql query:\r\n\r\n```\r\n@Query(&quot;select q, qc as entity, qcl as entityTranslated &quot;\r\n        + &quot;from ScQuestions q &quot;\r\n        + &quot;inner join ScControls as qc on q.control.id = qc.id &quot;\r\n        + &quot;left join ScControlsLang as qcl on (qcl.scControls.id = qc.id and qcl.languageId = :langId) &quot;\r\n        + &quot;where q.selfcontrolVersion.id = :selfcontrolVersionId and q.control.active = true order by position&quot;)\r\nList&lt;TranslateInterface&lt;ScQuestions, ScControls, ScControlsLang&gt;&gt; getAllQuestionsBySelfcontrolVersionId(\r\n        @Param(&quot;selfcontrolVersionId&quot;) Long selfcontrolVersionId, @Param(&quot;langId&quot;) Long langId);\r\n```\r\n\r\nThe translate Interface contains that:\r\n\r\n```\r\npublic interface TranslateInterface&lt;EntityQuestion, Entity, EntityTranslated&gt; {\r\n    EntityQuestion getEntityQuest();\r\n    Entity getEntity();\r\n    EntityTranslated getEntityTranslated();\r\n}\r\n```\r\n\r\nAnd the two codes  before are used in this code below:\r\n\r\n```\r\nList&lt;ScQuestions&gt; questions = new ArrayList&lt;&gt;();\r\nfor (TranslateInterface&lt;ScQuestions, ScControls, ScControlsLang&gt; q : questionsWithControlTranslations) {\r\n    // Iterate through the list of entities and update/assign its values\r\n    ScQuestions question = q.getEntityQuest();\r\n    ScControls control = q.getEntity();\r\n    ScControlsLang controlTranslated = q.getEntityTranslated();\r\n\r\n    //Set the control translation for each question that its control have translation\r\n    control.setScControlsLang(controlTranslated);\r\n    question.setControl(control);\r\n    //Add each question to the list of questions\r\n    questions.add(question);\r\n}\r\n```\r\n\r\nThe purpose of that code is to load the three objects with their respective values. Sccontrols and ScControlsLang are OK, but the ScQuestions entity is setted null after the query.  I debugged the code and on the line question.setControl(control) occurs a null pointer exception.\r\n\r\nI think is something related with naming, and I&#39;m pretty sure the error is in the query because when after the line of code where the query is called the returned entityQuestion is setted as null.\r\n\r\nThanks a lot for your attention!","title":"Why this hql query returns a null of one of its elements?","body":"<p>I have this class with this hql query:</p>\n<pre><code>@Query(&quot;select q, qc as entity, qcl as entityTranslated &quot;\n        + &quot;from ScQuestions q &quot;\n        + &quot;inner join ScControls as qc on q.control.id = qc.id &quot;\n        + &quot;left join ScControlsLang as qcl on (qcl.scControls.id = qc.id and qcl.languageId = :langId) &quot;\n        + &quot;where q.selfcontrolVersion.id = :selfcontrolVersionId and q.control.active = true order by position&quot;)\nList&lt;TranslateInterface&lt;ScQuestions, ScControls, ScControlsLang&gt;&gt; getAllQuestionsBySelfcontrolVersionId(\n        @Param(&quot;selfcontrolVersionId&quot;) Long selfcontrolVersionId, @Param(&quot;langId&quot;) Long langId);\n</code></pre>\n<p>The translate Interface contains that:</p>\n<pre><code>public interface TranslateInterface&lt;EntityQuestion, Entity, EntityTranslated&gt; {\n    EntityQuestion getEntityQuest();\n    Entity getEntity();\n    EntityTranslated getEntityTranslated();\n}\n</code></pre>\n<p>And the two codes  before are used in this code below:</p>\n<pre><code>List&lt;ScQuestions&gt; questions = new ArrayList&lt;&gt;();\nfor (TranslateInterface&lt;ScQuestions, ScControls, ScControlsLang&gt; q : questionsWithControlTranslations) {\n    // Iterate through the list of entities and update/assign its values\n    ScQuestions question = q.getEntityQuest();\n    ScControls control = q.getEntity();\n    ScControlsLang controlTranslated = q.getEntityTranslated();\n\n    //Set the control translation for each question that its control have translation\n    control.setScControlsLang(controlTranslated);\n    question.setControl(control);\n    //Add each question to the list of questions\n    questions.add(question);\n}\n</code></pre>\n<p>The purpose of that code is to load the three objects with their respective values. Sccontrols and ScControlsLang are OK, but the ScQuestions entity is setted null after the query.  I debugged the code and on the line question.setControl(control) occurs a null pointer exception.</p>\n<p>I think is something related with naming, and I'm pretty sure the error is in the query because when after the line of code where the query is called the returned entityQuestion is setted as null.</p>\n<p>Thanks a lot for your attention!</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"score":0,"creation_date":1680459990,"post_id":75896572,"comment_id":133898383,"body_markdown":"Could you please clarify on what recognise means in this context? On which pages of play developer console is your app being treated like a wear app? \n\nAlso feel free to file a bug via - https://support.google.com/googleplay/android-developer/gethelp","body":"Could you please clarify on what recognise means in this context? On which pages of play developer console is your app being treated like a wear app?   Also feel free to file a bug via - <a href=\"https://support.google.com/googleplay/android-developer/gethelp\" rel=\"nofollow noreferrer\">support.google.com/googleplay/android-developer/gethelp</a>"},{"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"score":0,"creation_date":1680514983,"post_id":75896572,"comment_id":133905652,"body_markdown":"The issue is fixed now. Could you please check and confirm? Thanks.","body":"The issue is fixed now. Could you please check and confirm? Thanks."},{"owner":{"display_name":"user19800063"},"score":0,"creation_date":1680549365,"post_id":75896572,"comment_id":133914303,"body_markdown":"@dsharew Sorry for the long answer. When I uploaded the application to open testing, Google started testing it for Wear OS devices, and it failed because I did not develop it for these devices.","body":"@dsharew Sorry for the long answer. When I uploaded the application to open testing, Google started testing it for Wear OS devices, and it failed because I did not develop it for these devices."},{"owner":{"display_name":"user19800063"},"score":0,"creation_date":1680549479,"post_id":75896572,"comment_id":133914321,"body_markdown":"@dsharew I checked the device directory and there are no Wear OS devices that support my app.","body":"@dsharew I checked the device directory and there are no Wear OS devices that support my app."},{"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"score":0,"creation_date":1681725239,"post_id":75896572,"comment_id":134097325,"body_markdown":"So you are still experiencing the issue?","body":"So you are still experiencing the issue?"}],"answers":[{"comments":[{"owner":{"display_name":"user19800063"},"score":1,"creation_date":1680253329,"post_id":75896630,"comment_id":133870346,"body_markdown":"I&#39;ve already looked at that list, but there are no available devices, but Google is testing my app on Wear OS devices and has started sending me various messages about Wear OS.","body":"I&#39;ve already looked at that list, but there are no available devices, but Google is testing my app on Wear OS devices and has started sending me various messages about Wear OS."}],"tags":[],"owner":{"account_id":3574982,"reputation":131,"user_id":2984469,"display_name":"Jess Nielsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680253075,"creation_date":1680253075,"answer_id":75896630,"question_id":75896572,"body_markdown":"It looks like you can use the Device Catalog in Google Play Store.\r\nYou can go to the Device catalog page by using (Release &gt; Reach and devices &gt; Device catalog), and set it to be manually excluded.\r\n\r\nGuide:\r\nhttps://support.google.com/googleplay/android-developer/answer/7353455?hl=en\r\n\r\nAlternatively you might be able to trick Wear OS into marking your app unsupported by setting something like a Camera to be a required feature. I am not certain of this one though.","title":"Is there a way to restrict access to a Wear OS app?","body":"<p>It looks like you can use the Device Catalog in Google Play Store.\nYou can go to the Device catalog page by using (Release &gt; Reach and devices &gt; Device catalog), and set it to be manually excluded.</p>\n<p>Guide:\n<a href=\"https://support.google.com/googleplay/android-developer/answer/7353455?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/7353455?hl=en</a></p>\n<p>Alternatively you might be able to trick Wear OS into marking your app unsupported by setting something like a Camera to be a required feature. I am not certain of this one though.</p>\n"}],"owner":{"display_name":"user19800063"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680253075,"creation_date":1680252640,"question_id":75896572,"body_markdown":"I released an update to my app that adapted to different types of screens, including small ones, but now I have a problem: Google Play Console recognizes my app as Wear OS, even though I haven&#39;t optimized it for that platform.\r\nIs there a way to restrict access to a Wear OS app?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CbvyA.png","title":"Is there a way to restrict access to a Wear OS app?","body":"<p>I released an update to my app that adapted to different types of screens, including small ones, but now I have a problem: Google Play Console recognizes my app as Wear OS, even though I haven't optimized it for that platform.\nIs there a way to restrict access to a Wear OS app?\n<a href=\"https://i.stack.imgur.com/CbvyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CbvyA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc","jackson"],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680252904,"creation_date":1680252904,"question_id":75896605,"body_markdown":"I have an entity named Person, I want to send certain fields of this class to the congtroller. I used JsonSerializer in PersonDTO.java, but I get an exception in body.\r\nHere is all the classes:\r\n\r\nEntity\r\n\r\n```\r\nimport com.example.server.DTO.PersonDTO;\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@JsonSerialize(using = PersonDTO.class)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;table-generator&quot;)\r\n    @TableGenerator(name = &quot;table-generator&quot;, allocationSize = 1)\r\n    private long id;\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private String secondName;\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private int age;\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private String profession;\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private String gender;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vehicle_id&quot;)\r\n    private Vehicle vehicle;\r\n}\r\n```\r\nController method\r\n\r\n```\r\n@GetMapping(&quot;/list&quot;)\r\n    public ResponseEntity&lt;?&gt; getListAll(@RequestParam(value = &quot;job&quot;, defaultValue = &quot;all&quot;) String job) {\r\n\r\n        \r\n        List&lt;String&gt; fieldsToInclude = Arrays.asList(env.getProperty(&quot;list.person.responce&quot;).split(&quot;,&quot;));\r\n\r\n        PersonDTO personDTO = new PersonDTO(fieldsToInclude);\r\n\r\n        //return new ResponseEntity&lt;&gt;(personService.getList(job),HttpStatus.OK);\r\n\r\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(personService.getList(job), personDTO);\r\n    }\r\n```\r\n\r\nPersonService\r\n```\r\npackage com.example.server.services;\r\n\r\n\r\nimport com.example.server.DTO.PersonDTO;\r\nimport com.example.server.models.Person;\r\nimport com.example.server.repo.PersonRepo;\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.PersistenceContext;\r\nimport jakarta.persistence.criteria.CriteriaBuilder;\r\nimport jakarta.persistence.criteria.CriteriaQuery;\r\nimport jakarta.persistence.criteria.Predicate;\r\nimport jakarta.persistence.criteria.Root;\r\nimport org.hibernate.Session;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class PersonService {\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    CriteriaBuilder criteriaBuilder;\r\n    CriteriaQuery&lt;Person&gt; criteriaQuery;\r\n    Root&lt;Person&gt; root;\r\n    Predicate predicate;\r\n\r\n    @Autowired\r\n    private PersonRepo personRepo;\r\n\r\n    public void addPerson(Person p) {\r\n        personRepo.save(p);\r\n    }\r\n\r\n    public List&lt;Person&gt; getList(String param) {\r\n        if (param.equals(&quot;all&quot;)) {\r\n            return personRepo.findAll();\r\n        } else {\r\n            \r\n            criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\r\n            \r\n            criteriaQuery = criteriaBuilder.createQuery(Person.class);\r\n\r\n            \r\n            root = criteriaQuery.from(Person.class);\r\n           \r\n            predicate = criteriaBuilder.and(\r\n                    criteriaBuilder.equal(root.get(&quot;profession&quot;), param)\r\n            );\r\n\r\n            \r\n            criteriaQuery.where(predicate);\r\n\r\n            \r\n            return entityManager.createQuery(criteriaQuery).getResultList();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd PersonDTO\r\n\r\n```\r\npackage com.example.server.DTO;\r\n\r\nimport com.example.server.models.Person;\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Field;\r\nimport java.util.List;\r\n\r\npublic class PersonDTO extends JsonSerializer&lt;List&lt;Person&gt;&gt; {\r\n\r\n    private List&lt;String&gt; fieldsToInclude;\r\n\r\n    public PersonDTO(List&lt;String&gt; fieldsToInclude) {\r\n        this.fieldsToInclude = fieldsToInclude;\r\n    }\r\n\r\n    @Override\r\n    public void serialize(List&lt;Person&gt; myEntityList, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        jsonGenerator.writeStartArray();\r\n\r\n        for (Person myEntity : myEntityList) {\r\n            jsonGenerator.writeStartObject();\r\n            for (Field field : myEntity.getClass().getDeclaredFields()) {\r\n                field.setAccessible(true);\r\n                try {\r\n                    if (fieldsToInclude.contains(field.getName())) {\r\n                        jsonGenerator.writeObjectField(field.getName(), field.get(myEntity));\r\n                    }\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            jsonGenerator.writeEndObject();\r\n        }\r\n\r\n        jsonGenerator.writeEndArray();\r\n    }\r\n}\r\n```\r\nThe exception:\r\n\r\n java: method body in interface org.springframework.http.ResponseEntity.BodyBuilder cannot be applied to given types;\r\n  required: T\r\n  found:    java.util.List&lt;com.example.server.models.Person&gt;,com.example.server.DTO.PersonDTO\r\n  reason: cannot infer type-variable(s) T\r\n    (actual and formal argument lists differ in length)\r\n","title":"ResponseEntity with selected fields using JsonSerializer","body":"<p>I have an entity named Person, I want to send certain fields of this class to the congtroller. I used JsonSerializer in PersonDTO.java, but I get an exception in body.\nHere is all the classes:</p>\n<p>Entity</p>\n<pre><code>import com.example.server.DTO.PersonDTO;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport jakarta.persistence.*;\nimport lombok.*;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@RequiredArgsConstructor\n@JsonSerialize(using = PersonDTO.class)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;table-generator&quot;)\n    @TableGenerator(name = &quot;table-generator&quot;, allocationSize = 1)\n    private long id;\n    @NonNull\n    @Column(nullable = false)\n    private String firstName;\n    @NonNull\n    @Column(nullable = false)\n    private String secondName;\n    @NonNull\n    @Column(nullable = false)\n    private int age;\n    @NonNull\n    @Column(nullable = false)\n    private String profession;\n    @NonNull\n    @Column(nullable = false)\n    private String gender;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;vehicle_id&quot;)\n    private Vehicle vehicle;\n}\n</code></pre>\n<p>Controller method</p>\n<pre><code>@GetMapping(&quot;/list&quot;)\n    public ResponseEntity&lt;?&gt; getListAll(@RequestParam(value = &quot;job&quot;, defaultValue = &quot;all&quot;) String job) {\n\n        \n        List&lt;String&gt; fieldsToInclude = Arrays.asList(env.getProperty(&quot;list.person.responce&quot;).split(&quot;,&quot;));\n\n        PersonDTO personDTO = new PersonDTO(fieldsToInclude);\n\n        //return new ResponseEntity&lt;&gt;(personService.getList(job),HttpStatus.OK);\n\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(personService.getList(job), personDTO);\n    }\n</code></pre>\n<p>PersonService</p>\n<pre><code>package com.example.server.services;\n\n\nimport com.example.server.DTO.PersonDTO;\nimport com.example.server.models.Person;\nimport com.example.server.repo.PersonRepo;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.PersistenceContext;\nimport jakarta.persistence.criteria.CriteriaBuilder;\nimport jakarta.persistence.criteria.CriteriaQuery;\nimport jakarta.persistence.criteria.Predicate;\nimport jakarta.persistence.criteria.Root;\nimport org.hibernate.Session;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n@Component\npublic class PersonService {\n    @Autowired\n    private EntityManager entityManager;\n\n    CriteriaBuilder criteriaBuilder;\n    CriteriaQuery&lt;Person&gt; criteriaQuery;\n    Root&lt;Person&gt; root;\n    Predicate predicate;\n\n    @Autowired\n    private PersonRepo personRepo;\n\n    public void addPerson(Person p) {\n        personRepo.save(p);\n    }\n\n    public List&lt;Person&gt; getList(String param) {\n        if (param.equals(&quot;all&quot;)) {\n            return personRepo.findAll();\n        } else {\n            \n            criteriaBuilder = entityManager.getCriteriaBuilder();\n\n            \n            criteriaQuery = criteriaBuilder.createQuery(Person.class);\n\n            \n            root = criteriaQuery.from(Person.class);\n           \n            predicate = criteriaBuilder.and(\n                    criteriaBuilder.equal(root.get(&quot;profession&quot;), param)\n            );\n\n            \n            criteriaQuery.where(predicate);\n\n            \n            return entityManager.createQuery(criteriaQuery).getResultList();\n        }\n    }\n}\n\n</code></pre>\n<p>And PersonDTO</p>\n<pre><code>package com.example.server.DTO;\n\nimport com.example.server.models.Person;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\nimport java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.util.List;\n\npublic class PersonDTO extends JsonSerializer&lt;List&lt;Person&gt;&gt; {\n\n    private List&lt;String&gt; fieldsToInclude;\n\n    public PersonDTO(List&lt;String&gt; fieldsToInclude) {\n        this.fieldsToInclude = fieldsToInclude;\n    }\n\n    @Override\n    public void serialize(List&lt;Person&gt; myEntityList, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartArray();\n\n        for (Person myEntity : myEntityList) {\n            jsonGenerator.writeStartObject();\n            for (Field field : myEntity.getClass().getDeclaredFields()) {\n                field.setAccessible(true);\n                try {\n                    if (fieldsToInclude.contains(field.getName())) {\n                        jsonGenerator.writeObjectField(field.getName(), field.get(myEntity));\n                    }\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n            jsonGenerator.writeEndObject();\n        }\n\n        jsonGenerator.writeEndArray();\n    }\n}\n</code></pre>\n<p>The exception:</p>\n<p>java: method body in interface org.springframework.http.ResponseEntity.BodyBuilder cannot be applied to given types;\nrequired: T\nfound:    java.util.List&lt;com.example.server.models.Person&gt;,com.example.server.DTO.PersonDTO\nreason: cannot infer type-variable(s) T\n(actual and formal argument lists differ in length)</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680252884,"creation_date":1680250152,"answer_id":75896235,"question_id":75893162,"body_markdown":"The problem here is [SQL&#39;s logical order of operations][1]. Any means of counting results (both aggregate counts and window counts) happens *before* the `LIMIT` is applies. So, if you don&#39;t want `LIMIT` to have any effect on your count, you have to write the query in a way that it counts first. But if you don&#39;t get any results from your `WHERE` clause, then you don&#39;t get any rows when using window counts. When using aggregate counts, you&#39;d get a row, but you can&#39;t apply `LIMIT` so easily anymore. (Without the `LIMIT`, you could simply use aggregate count and [`multisetAgg()`][2] instead).\r\n\r\nSo, I can see 2 solutions, a slow but simple one, a faster but more complex one:\r\n\r\n## Doing everything in the query, accessing the table twice:\r\n\r\nIf you want to move all the mapping logic into the query itself, I suspect you&#39;d have to run 2 queries against the `PERSON` table, which probably isn&#39;t desirable for performance reasons:\r\n\r\n```java\r\nctx.select(\r\n      count().filterWhere(PERSON.NAME.startsWith(&quot;A&quot;)).convertFrom(Info::new),\r\n      multiset(\r\n        select(PERSON_ID, PERSON_NAME)\r\n        .from(PERSON)\r\n        .where(PERSON.NAME.startsWith(&quot;A&quot;))\r\n        .orderBy(PERSON.NAME.asc())\r\n        .limit(5)\r\n      ).convertFrom(r -&gt; r.map(mapping(Person::new)))\r\n    )\r\n   .from(PERSON)\r\n   .fetchOne(mapping(MyResult::new))\r\n```\r\n\r\nThis works for your simple example, but as soon as you start joining things, you will have to duplicate a lot of query logic between the inner and outer query, and that&#39;s not really desirable.\r\n\r\n## Using JDK `Collector` API\r\n\r\nBut you don&#39;t have to form the query in a hierarchical way like your target data structure. You can still do *some* mapping logic in the client as well, outside of jOOQ, e.g.:\r\n\r\n```java\r\nctx.select(\r\n      count().over().convertFrom(Info::new),\r\n      row(PERSON_ID, PERSON_NAME).mapping(Person::new)\r\n    )\r\n    .from(PERSON)\r\n    .where(PERSON.NAME.startsWith(&quot;A&quot;))\r\n    .orderBy(PERSON.NAME.asc())\r\n    .limit(5)\r\n    .collect(collectingAndThen(\r\n        groupingBy(\r\n            // There&#39;s a single possible value from count().over()\r\n            r -&gt; r.value1(),\r\n            mapping(r -&gt; r.value2(), toList())\r\n        ),\r\n        m -&gt; {\r\n            // Probably, just use var here...\r\n            Iterator&lt;Entry&lt;Info, List&lt;Person&gt;&gt;&gt; it = m.entrySet().iterator();\r\n\r\n            if (it.hasNext()) {\r\n                Entry&lt;Info, List&lt;Person&gt;&gt; e = it.next();\r\n                return new MyResult(e.getKey(), e.getValue());\r\n            }\r\n            else\r\n                return new MyResult(new Info(0), Collections.emptyList());\r\n        }\r\n    )));\r\n```\r\n\r\nThis is assuming the following static import:\r\n\r\n```java\r\nimport static java.util.stream.Collectors.*;\r\n```\r\n\r\nGranted, it&#39;s not so pretty. You could maybe refactor this into a different format or write some more generic utility for this sort of result, but I hope you get the essence of it.\r\n\r\n**Note:** this approach won&#39;t give you the correct count value if you paginate beyond the last page\r\n\r\n\r\n  [1]: https://blog.jooq.org/a-beginners-guide-to-the-true-order-of-sql-operations/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/","title":"How to write JOOQ query to get only one java record containing all results","body":"<p>The problem here is <a href=\"https://blog.jooq.org/a-beginners-guide-to-the-true-order-of-sql-operations/\" rel=\"nofollow noreferrer\">SQL's logical order of operations</a>. Any means of counting results (both aggregate counts and window counts) happens <em>before</em> the <code>LIMIT</code> is applies. So, if you don't want <code>LIMIT</code> to have any effect on your count, you have to write the query in a way that it counts first. But if you don't get any results from your <code>WHERE</code> clause, then you don't get any rows when using window counts. When using aggregate counts, you'd get a row, but you can't apply <code>LIMIT</code> so easily anymore. (Without the <code>LIMIT</code>, you could simply use aggregate count and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>multisetAgg()</code></a> instead).</p>\n<p>So, I can see 2 solutions, a slow but simple one, a faster but more complex one:</p>\n<h2>Doing everything in the query, accessing the table twice:</h2>\n<p>If you want to move all the mapping logic into the query itself, I suspect you'd have to run 2 queries against the <code>PERSON</code> table, which probably isn't desirable for performance reasons:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.select(\n      count().filterWhere(PERSON.NAME.startsWith(&quot;A&quot;)).convertFrom(Info::new),\n      multiset(\n        select(PERSON_ID, PERSON_NAME)\n        .from(PERSON)\n        .where(PERSON.NAME.startsWith(&quot;A&quot;))\n        .orderBy(PERSON.NAME.asc())\n        .limit(5)\n      ).convertFrom(r -&gt; r.map(mapping(Person::new)))\n    )\n   .from(PERSON)\n   .fetchOne(mapping(MyResult::new))\n</code></pre>\n<p>This works for your simple example, but as soon as you start joining things, you will have to duplicate a lot of query logic between the inner and outer query, and that's not really desirable.</p>\n<h2>Using JDK <code>Collector</code> API</h2>\n<p>But you don't have to form the query in a hierarchical way like your target data structure. You can still do <em>some</em> mapping logic in the client as well, outside of jOOQ, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.select(\n      count().over().convertFrom(Info::new),\n      row(PERSON_ID, PERSON_NAME).mapping(Person::new)\n    )\n    .from(PERSON)\n    .where(PERSON.NAME.startsWith(&quot;A&quot;))\n    .orderBy(PERSON.NAME.asc())\n    .limit(5)\n    .collect(collectingAndThen(\n        groupingBy(\n            // There's a single possible value from count().over()\n            r -&gt; r.value1(),\n            mapping(r -&gt; r.value2(), toList())\n        ),\n        m -&gt; {\n            // Probably, just use var here...\n            Iterator&lt;Entry&lt;Info, List&lt;Person&gt;&gt;&gt; it = m.entrySet().iterator();\n\n            if (it.hasNext()) {\n                Entry&lt;Info, List&lt;Person&gt;&gt; e = it.next();\n                return new MyResult(e.getKey(), e.getValue());\n            }\n            else\n                return new MyResult(new Info(0), Collections.emptyList());\n        }\n    )));\n</code></pre>\n<p>This is assuming the following static import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.stream.Collectors.*;\n</code></pre>\n<p>Granted, it's not so pretty. You could maybe refactor this into a different format or write some more generic utility for this sort of result, but I hope you get the essence of it.</p>\n<p><strong>Note:</strong> this approach won't give you the correct count value if you paginate beyond the last page</p>\n"}],"owner":{"account_id":412255,"reputation":515,"user_id":785230,"accept_rate":94,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75896235,"answer_count":1,"score":2,"last_activity_date":1680252884,"creation_date":1680211919,"question_id":75893162,"body_markdown":"I have the following java records :\r\n```\r\nrecord Info(Integer count){}\r\nrecord Person(Integer id, String name) {}\r\nrecord MyResult(Info info, List&lt;Person&gt; persons){}\r\n```\r\n\r\nI need to return a MyResult Object containing the total count of persons in Info and a partial list of these persons.\r\n\r\nI have no idea if it is possible to do it directly with only one JOOQ query and how to do it.\r\n\r\nHere is an attempt but obviously it will fetch a list so this is not the correct way.\r\n\r\n```\r\nDSL.getContext(conn)\r\n  .select(\r\n    DSL.row(DSL.count().over()).mapping(Info::new),\r\n    DSL.multiset(\r\n      DSL.select(\r\n         PERSON.PERSON_ID,\r\n         PERSON.NAME\r\n      ).convertFrom(r -&gt; r.map(Records.mapping(PERSON::new)))\r\n    )\r\n  )\r\n   .from(PERSON)\r\n   .where(PERSON.NAME.startWith(&quot;A&quot;))\r\n   .orderBy(PERSON.NAME.asc())\r\n   .offset(0)\r\n   .limit(5) \r\n   .fetchOne(Records.mapping(MyResult::new));\r\n```\r\n\r\nAny idea ?","title":"How to write JOOQ query to get only one java record containing all results","body":"<p>I have the following java records :</p>\n<pre><code>record Info(Integer count){}\nrecord Person(Integer id, String name) {}\nrecord MyResult(Info info, List&lt;Person&gt; persons){}\n</code></pre>\n<p>I need to return a MyResult Object containing the total count of persons in Info and a partial list of these persons.</p>\n<p>I have no idea if it is possible to do it directly with only one JOOQ query and how to do it.</p>\n<p>Here is an attempt but obviously it will fetch a list so this is not the correct way.</p>\n<pre><code>DSL.getContext(conn)\n  .select(\n    DSL.row(DSL.count().over()).mapping(Info::new),\n    DSL.multiset(\n      DSL.select(\n         PERSON.PERSON_ID,\n         PERSON.NAME\n      ).convertFrom(r -&gt; r.map(Records.mapping(PERSON::new)))\n    )\n  )\n   .from(PERSON)\n   .where(PERSON.NAME.startWith(&quot;A&quot;))\n   .orderBy(PERSON.NAME.asc())\n   .offset(0)\n   .limit(5) \n   .fetchOne(Records.mapping(MyResult::new));\n</code></pre>\n<p>Any idea ?</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1680182659,"post_id":75888811,"comment_id":133857288,"body_markdown":"Use `[^\\d.]` instead of `\\D` like so:  `[\\s,]+|(?&lt;=[^\\d.])(?=\\d)|(?&lt;=\\d)(?=[^\\d.])`","body":"Use <code>[^\\d.]</code> instead of <code>\\D</code> like so:  <code>[\\s,]+|(?&lt;=[^\\d.])(?=\\d)|(?&lt;=\\d)(?=[^\\d.])</code>"},{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1680183159,"post_id":75888811,"comment_id":133857447,"body_markdown":"I did like this,  &quot;[\\\\s,]+|(?&lt;=^\\\\d.)(?=\\\\d)|(?&lt;=\\\\d)(?=^\\\\d.)&quot; with &quot;\\\\&quot; before the d, otherwise compiler complains about escape character. But this is not splitting between &quot;cd76253&quot; for example","body":"I did like this,  &quot;[\\\\s,]+|(?&lt;=^\\\\d.)(?=\\\\d)|(?&lt;=\\\\d)(?=^\\\\d.)&quot; with &quot;\\\\&quot; before the d, otherwise compiler complains about escape character. But this is not splitting between &quot;cd76253&quot; for example"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1680183447,"post_id":75888811,"comment_id":133857541,"body_markdown":"I wrote regex without escapement, to avoid confusion. In my answer you could see example of code with escapement in place.","body":"I wrote regex without escapement, to avoid confusion. In my answer you could see example of code with escapement in place."}],"answers":[{"comments":[{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1680184011,"post_id":75888926,"comment_id":133857720,"body_markdown":"Sometimes this gives an empty String as output in between. For this for example &quot;abc,12345&quot; it gives &quot;abc&quot;,&quot;&quot;,&quot;12345&quot;","body":"Sometimes this gives an empty String as output in between. For this for example &quot;abc,12345&quot; it gives &quot;abc&quot;,&quot;&quot;,&quot;12345&quot;"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1680184292,"post_id":75888926,"comment_id":133857819,"body_markdown":"@midi, corrected. Needed also to add commas inside negative class.","body":"@midi, corrected. Needed also to add commas inside negative class."}],"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680184248,"creation_date":1680183076,"answer_id":75888926,"question_id":75888811,"body_markdown":"You can use `[^\\d.]` instead of `\\D` to exclude digits and dots.\r\n\r\nAlso I&#39;ve added `\\s,` to negation, to exclude double split between space (or comma) and digits: `[\\s,]+|(?&lt;=[^\\d\\s.,])(?=\\d)|(?&lt;=\\d)(?=[^\\d\\s.,])`\r\n\r\n```java\r\nfor (String s : &quot;ab,cd76253  eruizgbe 19.05.1976, eribfuer243 fg&quot;\r\n  .split(&quot;[\\\\s,]+|(?&lt;=[^\\\\d.\\\\s,])(?=\\\\d)|(?&lt;=\\\\d)(?=[^\\\\d.\\\\s,])&quot;)){\r\n            System.out.println(s);\r\n        }\r\n```\r\nOutput:\r\n```none\r\nab\r\ncd\r\n76253\r\neruizgbe\r\n19.05.1976\r\neribfuer\r\n243\r\nfg\r\n```\r\nDemo at [regex101][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/OKu32h/2","title":"How to split a string between commas, one or more spaces and between digits and letters but not between dots with regex in java?","body":"<p>You can use <code>[^\\d.]</code> instead of <code>\\D</code> to exclude digits and dots.</p>\n<p>Also I've added <code>\\s,</code> to negation, to exclude double split between space (or comma) and digits: <code>[\\s,]+|(?&lt;=[^\\d\\s.,])(?=\\d)|(?&lt;=\\d)(?=[^\\d\\s.,])</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String s : &quot;ab,cd76253  eruizgbe 19.05.1976, eribfuer243 fg&quot;\n  .split(&quot;[\\\\s,]+|(?&lt;=[^\\\\d.\\\\s,])(?=\\\\d)|(?&lt;=\\\\d)(?=[^\\\\d.\\\\s,])&quot;)){\n            System.out.println(s);\n        }\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ab\ncd\n76253\neruizgbe\n19.05.1976\neribfuer\n243\nfg\n</code></pre>\n<p>Demo at <a href=\"https://regex101.com/r/OKu32h/2\" rel=\"nofollow noreferrer\">regex101</a></p>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680252679,"creation_date":1680193465,"answer_id":75890722,"question_id":75888811,"body_markdown":"Whenever you wish to break a string into pieces, discarding certain characters between pieces in the process, you should ask yourself whether it would be easier to split the string on substrings or match substrings.\r\n\r\nIn the example you wish to end up with the array\r\n\r\n    {&quot;ab&quot;, &quot;cd&quot;, &quot;76253&quot;, &quot;eruizgbe&quot;, &quot;19.05.1976&quot;, &quot;eribfuer&quot;, &quot;243&quot;, &quot;fg&quot;}\r\n\r\nThis looks like you want pieces that are comprised of lowercase letters, digits or digits and periods, the last beginning and ending with a digit with no period followed by a period. If so, I suggest that you match the following regular expression.\r\n\r\n    [a-z]+|\\d+(?:\\.\\d+)*\r\n\r\n[Demo](https://regex101.com/r/jBKQyk/1).\r\n\r\nThis expression reads, &quot;match one or more (`+`) lowercase letters (`[a-z]`) or (`|`) one or more digits (`\\d+`) followed by zero or more (`*`) strings comprised of a period followed by one or more digits&quot;.\r\n\r\n----------\r\n\r\nDepending on requirements, some modifications may be necessary to the above expression.\r\n\r\nIf, for example, uppercase letters were to be permitted, it would be necessary to change `[a-z]` to `[a-zA-Z]` or to set the *case indifferent flag*. If other characters were permitted to be alongside letters one might even write\r\n\r\n    [^\\d\\s.]+|\\d+(?:\\.\\d+)*\r\n\r\nwhere the character class `[^\\d\\s.]` matches any one character other than (`^` at the beginning) a digit, a whitespace character (`\\s`) or a period. The following `+` means to match one or more such characters.\r\n\r\n----------\r\n\r\nTo instead split the string on substrings one would need to employ a more complex regular expression.\r\n\r\nOne consideration when splitting strings is the possibility that the regular expression matches one or more characters at the beginning of the string, resulting in the first element of the array produced being an empty string. This could happen, for example, if a space were inserted at the beginning of the example string. The empty string could be avoided by modifying the regular expression, but that would cause the first string in the resulting array to begin with a space, which may not be desired. (Another possibility would be to pre-process the string in some way.) This is not an issue, of course, when matching substrings.\r\n\r\nSometimes spitting is best; other times matching is preferred.\r\n","title":"How to split a string between commas, one or more spaces and between digits and letters but not between dots with regex in java?","body":"<p>Whenever you wish to break a string into pieces, discarding certain characters between pieces in the process, you should ask yourself whether it would be easier to split the string on substrings or match substrings.</p>\n<p>In the example you wish to end up with the array</p>\n<pre><code>{&quot;ab&quot;, &quot;cd&quot;, &quot;76253&quot;, &quot;eruizgbe&quot;, &quot;19.05.1976&quot;, &quot;eribfuer&quot;, &quot;243&quot;, &quot;fg&quot;}\n</code></pre>\n<p>This looks like you want pieces that are comprised of lowercase letters, digits or digits and periods, the last beginning and ending with a digit with no period followed by a period. If so, I suggest that you match the following regular expression.</p>\n<pre><code>[a-z]+|\\d+(?:\\.\\d+)*\n</code></pre>\n<p><a href=\"https://regex101.com/r/jBKQyk/1\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n<p>This expression reads, &quot;match one or more (<code>+</code>) lowercase letters (<code>[a-z]</code>) or (<code>|</code>) one or more digits (<code>\\d+</code>) followed by zero or more (<code>*</code>) strings comprised of a period followed by one or more digits&quot;.</p>\n<hr />\n<p>Depending on requirements, some modifications may be necessary to the above expression.</p>\n<p>If, for example, uppercase letters were to be permitted, it would be necessary to change <code>[a-z]</code> to <code>[a-zA-Z]</code> or to set the <em>case indifferent flag</em>. If other characters were permitted to be alongside letters one might even write</p>\n<pre><code>[^\\d\\s.]+|\\d+(?:\\.\\d+)*\n</code></pre>\n<p>where the character class <code>[^\\d\\s.]</code> matches any one character other than (<code>^</code> at the beginning) a digit, a whitespace character (<code>\\s</code>) or a period. The following <code>+</code> means to match one or more such characters.</p>\n<hr />\n<p>To instead split the string on substrings one would need to employ a more complex regular expression.</p>\n<p>One consideration when splitting strings is the possibility that the regular expression matches one or more characters at the beginning of the string, resulting in the first element of the array produced being an empty string. This could happen, for example, if a space were inserted at the beginning of the example string. The empty string could be avoided by modifying the regular expression, but that would cause the first string in the resulting array to begin with a space, which may not be desired. (Another possibility would be to pre-process the string in some way.) This is not an issue, of course, when matching substrings.</p>\n<p>Sometimes spitting is best; other times matching is preferred.</p>\n"}],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75888926,"answer_count":2,"score":0,"last_activity_date":1680252679,"creation_date":1680182470,"question_id":75888811,"body_markdown":"As the title says I like to split a String between commas, one or more spaces and between digits and letters but not between dots with regex in java?\r\n\r\nSo for eample if I have the following String \r\n\r\n    &quot;ab,cd76253  eruizgbe 19.05.1976, eribfuer243 fg&quot;\r\n\r\nI want to have an Array like this:\r\n\r\n    {&quot;ab&quot;,&quot;cd&quot;,&quot;76253&quot;,&quot;eruizgbe&quot;,&quot;19.05.1976&quot;,&quot;eribfuer&quot;,&quot;243&quot;,&quot;fg&quot;}\r\n\r\nI have the following:\r\n\r\n    &quot;ab,cd76253  eruizgbe 19.05.1976, eribfuer243 fg&quot;.split(&quot;[\\\\s,]+|(?&lt;=\\\\D)(?=\\\\d)|(? \r\n    &lt;=\\\\d)(?=\\\\D)&quot;);\r\n\r\nBut this also splits the the date between digits and dots.\r\nHow can I prevent to split between the digits and dots?","title":"How to split a string between commas, one or more spaces and between digits and letters but not between dots with regex in java?","body":"<p>As the title says I like to split a String between commas, one or more spaces and between digits and letters but not between dots with regex in java?</p>\n<p>So for eample if I have the following String</p>\n<pre><code>&quot;ab,cd76253  eruizgbe 19.05.1976, eribfuer243 fg&quot;\n</code></pre>\n<p>I want to have an Array like this:</p>\n<pre><code>{&quot;ab&quot;,&quot;cd&quot;,&quot;76253&quot;,&quot;eruizgbe&quot;,&quot;19.05.1976&quot;,&quot;eribfuer&quot;,&quot;243&quot;,&quot;fg&quot;}\n</code></pre>\n<p>I have the following:</p>\n<pre><code>&quot;ab,cd76253  eruizgbe 19.05.1976, eribfuer243 fg&quot;.split(&quot;[\\\\s,]+|(?&lt;=\\\\D)(?=\\\\d)|(? \n&lt;=\\\\d)(?=\\\\D)&quot;);\n</code></pre>\n<p>But this also splits the the date between digits and dots.\nHow can I prevent to split between the digits and dots?</p>\n"},{"tags":["java","multidimensional-array","reference"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680230653,"post_id":75894390,"comment_id":133866922,"body_markdown":"In Java, an array is a reference type. `Square [][] board2 = board` creates an alias -- `board2` and `board` reference the same array. If you want `board2` to begin its life independent from `board`, but with the same elements, you need to copy the elments.","body":"In Java, an array is a reference type. <code>Square [][] board2 = board</code> creates an alias -- <code>board2</code> and <code>board</code> reference the same array. If you want <code>board2</code> to begin its life independent from <code>board</code>, but with the same elements, you need to copy the elments."},{"owner":{"account_id":25840685,"reputation":3,"user_id":19576268,"display_name":"Josue Arreaga"},"score":0,"creation_date":1680230771,"post_id":75894390,"comment_id":133866941,"body_markdown":"@OldDogProgrammer Thank you, I will give it a try and update accordingly.","body":"@OldDogProgrammer Thank you, I will give it a try and update accordingly."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1680230919,"post_id":75894390,"comment_id":133866953,"body_markdown":"[This thread](https://stackoverflow.com/questions/9106131/how-to-clone-a-multidimensional-array-in-java) should be helpful","body":"<a href=\"https://stackoverflow.com/questions/9106131/how-to-clone-a-multidimensional-array-in-java\">This thread</a> should be helpful"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680233988,"post_id":75894390,"comment_id":133867247,"body_markdown":"We don&#39;t see the code for `Square`, but it&#39;s not a primitive, so it must be a reference type. So, `board2[i][j] = board[i][j];` results in a 2D array of aliases. If `Square` doesn&#39;t already have a copy constructor, add one. That will allow code like `board2[i][j] = new Square (board[i][j]);`. An alternative is to have a copy method in `Square`:  `board[i][j] = board[i][j].copyOf ();`","body":"We don&#39;t see the code for <code>Square</code>, but it&#39;s not a primitive, so it must be a reference type. So, <code>board2[i][j] = board[i][j];</code> results in a 2D array of aliases. If <code>Square</code> doesn&#39;t already have a copy constructor, add one. That will allow code like <code>board2[i][j] = new Square (board[i][j]);</code>. An alternative is to have a copy method in <code>Square</code>:  <code>board[i][j] = board[i][j].copyOf ();</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680234311,"post_id":75894390,"comment_id":133867275,"body_markdown":"By the way, Java doesn&#39;t have true 2D arrays. It allows arrays of reference types, and an array is a reference type. So, what looks like a 2D array can be described as a nested array. One result is that rows in an array can have different lengths. So, the inner `for` in the code to copy would be better as `for(int j = 0; j &lt; board2[i].length; j++)`.","body":"By the way, Java doesn&#39;t have true 2D arrays. It allows arrays of reference types, and an array is a reference type. So, what looks like a 2D array can be described as a nested array. One result is that rows in an array can have different lengths. So, the inner <code>for</code> in the code to copy would be better as <code>for(int j = 0; j &lt; board2[i].length; j++)</code>."}],"answers":[{"comments":[{"owner":{"account_id":25840685,"reputation":3,"user_id":19576268,"display_name":"Josue Arreaga"},"score":0,"creation_date":1680231202,"post_id":75894476,"comment_id":133866985,"body_markdown":"Thank you, I will look into it and reply accordingly!","body":"Thank you, I will look into it and reply accordingly!"}],"tags":[],"owner":{"account_id":20195721,"reputation":101,"user_id":14812722,"display_name":"That_Guy977"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680231220,"creation_date":1680231079,"answer_id":75894476,"question_id":75894390,"body_markdown":"The behavior you&#39;re encountering is an effect of how references work in general. Two variables with the same reference will point to the same data in memory, so modifying that memory affects the value you get from any variable holding the same reference. This also applies to nested arrays.\r\n\r\n&gt; Therefore, how can I make the reference of my second array identical to my array but independent from that of my original, such that a change in my second array does not affect my first?\r\n\r\nThis is impossible, since propagating changes is a behavior of references as a whole. You need to deeply clone the arrays as described in [this answer](https://stackoverflow.com/a/1564856) to have a completely new array with the same contents, and clone the `Square` instances to have those independant from the original as well.","title":"Multi-dimensional array reference issue","body":"<p>The behavior you're encountering is an effect of how references work in general. Two variables with the same reference will point to the same data in memory, so modifying that memory affects the value you get from any variable holding the same reference. This also applies to nested arrays.</p>\n<blockquote>\n<p>Therefore, how can I make the reference of my second array identical to my array but independent from that of my original, such that a change in my second array does not affect my first?</p>\n</blockquote>\n<p>This is impossible, since propagating changes is a behavior of references as a whole. You need to deeply clone the arrays as described in <a href=\"https://stackoverflow.com/a/1564856\">this answer</a> to have a completely new array with the same contents, and clone the <code>Square</code> instances to have those independant from the original as well.</p>\n"}],"owner":{"account_id":25840685,"reputation":3,"user_id":19576268,"display_name":"Josue Arreaga"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680252755,"accepted_answer_id":75894476,"answer_count":1,"score":0,"last_activity_date":1680252671,"creation_date":1680229834,"question_id":75894390,"body_markdown":"I recently stumbled across a problem with passing a 2D array by reference to another.\r\n\r\nSuppose we have a 2D array (A) and we create a similar 2D array (B). For some reason, it seems as though the changes in B are automatically applied to A. \r\n\r\nI have looked into other posts where they mentioned the idea of cloning an array, but that still did not work. I have also created multiple instances of 2D arrays and assigned it to the original. Even then my second array (which I want to be identical to my original yet independent from the original) always happens to affect the original. \r\n\r\nTherefore, how can I make the reference of my second array identical to my array but independent from that of my original, such that a change in my second array does not affect my first? \r\n\r\nHere is some sample code of the problem (you may assume the board class is also a Square 2D array, defined earlier somewhere):\r\n\r\nI have created a new Square 2D array and copied element by element but the issue of reference still persists. \r\n\r\n```java\r\nSquare [][] board2 = new Square[3][3];\r\n\r\nfor(int i = 0; i &lt; board2.length; i++){\r\n    for(int j = 0; j &lt; board2[0].length; j++)\r\n        board2[i][j] = board[i][j];\r\n}\r\n\r\ntry {\r\n    for (int i = 0; i &lt; board.length; i++) {\r\n        if (board[i][0].isEmpty() &amp;&amp; board[i][1].isEmpty() &amp;&amp; board[i][2].isEmpty()) {\r\n            board[i][0].Empty();\r\n            board[i][1].Empty();\r\n            board[i][2].Empty();\r\n        }\r\n    }\r\n} catch (IndexOutOfBoundsException e) {}\r\n\r\n\r\ntry {\r\n    for (int j = 0; j &lt; board2.length; j++) {\r\n        if (board2[0][j].isEmpty() &amp;&amp; board2[1][j].isEmpty() &amp;&amp; board2[2][j].isEmpty()) {\r\n            System.out.println(&quot;weird this should not happen&quot;);\r\n            board2[0][j].Empty();\r\n            board2[1][j].Empty();\r\n            board2[2][j].Empty();\r\n        }\r\n    }\r\n} catch (IndexOutOfBoundsException e) {}\r\n```\r\n\r\n","title":"Multi-dimensional array reference issue","body":"<p>I recently stumbled across a problem with passing a 2D array by reference to another.</p>\n<p>Suppose we have a 2D array (A) and we create a similar 2D array (B). For some reason, it seems as though the changes in B are automatically applied to A.</p>\n<p>I have looked into other posts where they mentioned the idea of cloning an array, but that still did not work. I have also created multiple instances of 2D arrays and assigned it to the original. Even then my second array (which I want to be identical to my original yet independent from the original) always happens to affect the original.</p>\n<p>Therefore, how can I make the reference of my second array identical to my array but independent from that of my original, such that a change in my second array does not affect my first?</p>\n<p>Here is some sample code of the problem (you may assume the board class is also a Square 2D array, defined earlier somewhere):</p>\n<p>I have created a new Square 2D array and copied element by element but the issue of reference still persists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Square [][] board2 = new Square[3][3];\n\nfor(int i = 0; i &lt; board2.length; i++){\n    for(int j = 0; j &lt; board2[0].length; j++)\n        board2[i][j] = board[i][j];\n}\n\ntry {\n    for (int i = 0; i &lt; board.length; i++) {\n        if (board[i][0].isEmpty() &amp;&amp; board[i][1].isEmpty() &amp;&amp; board[i][2].isEmpty()) {\n            board[i][0].Empty();\n            board[i][1].Empty();\n            board[i][2].Empty();\n        }\n    }\n} catch (IndexOutOfBoundsException e) {}\n\n\ntry {\n    for (int j = 0; j &lt; board2.length; j++) {\n        if (board2[0][j].isEmpty() &amp;&amp; board2[1][j].isEmpty() &amp;&amp; board2[2][j].isEmpty()) {\n            System.out.println(&quot;weird this should not happen&quot;);\n            board2[0][j].Empty();\n            board2[1][j].Empty();\n            board2[2][j].Empty();\n        }\n    }\n} catch (IndexOutOfBoundsException e) {}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1680242917,"post_id":75895161,"comment_id":133868194,"body_markdown":"`1.5.22` ??? Spring boot 1.5 OSS support (06 Aug 2019), Commercial Support (06 Nov 2020) (https://endoflife.date/spring-boot) , why play old version ? and end of support ?","body":"<code>1.5.22</code> ??? Spring boot 1.5 OSS support (06 Aug 2019), Commercial Support (06 Nov 2020) (<a href=\"https://endoflife.date/spring-boot\" rel=\"nofollow noreferrer\">endoflife.date/spring-boot</a>) , why play old version ? and end of support ?"},{"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"score":0,"creation_date":1680243566,"post_id":75895161,"comment_id":133868304,"body_markdown":"Hello, I couldn&#39;t find the docs for servlet containers in the latest version. Official docs only explains about cloud deployment.","body":"Hello, I couldn&#39;t find the docs for servlet containers in the latest version. Official docs only explains about cloud deployment."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680243869,"post_id":75895161,"comment_id":133868352,"body_markdown":"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-traditional-deployment.html","body":"<a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-traditional-deployment.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680244162,"post_id":75895161,"comment_id":133868394,"body_markdown":"https://docs.spring.io/spring-boot/docs/3.0.x/reference/htmlsingle/#web, search in web page ` war `","body":"<a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/reference/htmlsingle/#web\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/3.0.x/reference/htmlsingle/#&zwnj;&#8203;web</a>, search in web page ` war `"},{"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"score":0,"creation_date":1680244410,"post_id":75895161,"comment_id":133868447,"body_markdown":"Thanks and the process for web.xml application remains the same. how do we load the application in case of web.xml?","body":"Thanks and the process for web.xml application remains the same. how do we load the application in case of web.xml?"}],"answers":[{"comments":[{"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"score":0,"creation_date":1680243802,"post_id":75895410,"comment_id":133868341,"body_markdown":"Does this get called by servlet container?","body":"Does this get called by servlet container?"},{"owner":{"account_id":10360309,"reputation":1,"user_id":7641002,"display_name":"suger"},"score":0,"creation_date":1680244217,"post_id":75895410,"comment_id":133868408,"body_markdown":"Yes, it will load at startup.","body":"Yes, it will load at startup."},{"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"score":0,"creation_date":1680244345,"post_id":75895410,"comment_id":133868431,"body_markdown":"How do we call it using web.xml?","body":"How do we call it using web.xml?"},{"owner":{"account_id":10360309,"reputation":1,"user_id":7641002,"display_name":"suger"},"score":0,"creation_date":1680244974,"post_id":75895410,"comment_id":133868554,"body_markdown":"SpringBootServletInitializer implements the WebApplicationInitializer interface.   WebApplicationInitializer is provided by the spring web and invoked initially by the tomcat container(Code principle: SpringServletContainerInitializer implements ServletContainerInitializer,  javax.servlet.ServletContainerInitializer.onStartup )","body":"SpringBootServletInitializer implements the WebApplicationInitializer interface.   WebApplicationInitializer is provided by the spring web and invoked initially by the tomcat container(Code principle: SpringServletContainerInitializer implements ServletContainerInitializer,  javax.servlet.ServletContainerInitializer.onStartup )"},{"owner":{"account_id":10360309,"reputation":1,"user_id":7641002,"display_name":"suger"},"score":0,"creation_date":1680245119,"post_id":75895410,"comment_id":133868585,"body_markdown":"If your version is not very old, you don&#39;t need web.xml.","body":"If your version is not very old, you don&#39;t need web.xml."},{"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"score":0,"creation_date":1680245371,"post_id":75895410,"comment_id":133868629,"body_markdown":"I have older version :(","body":"I have older version :("},{"owner":{"account_id":10360309,"reputation":1,"user_id":7641002,"display_name":"suger"},"score":0,"creation_date":1680245505,"post_id":75895410,"comment_id":133868655,"body_markdown":"Just find a reference site, whether as matching with your version, https://www.springcloud.io/post/2022-09/springboot-tomcat/","body":"Just find a reference site, whether as matching with your version, <a href=\"https://www.springcloud.io/post/2022-09/springboot-tomcat/\" rel=\"nofollow noreferrer\">springcloud.io/post/2022-09/springboot-tomcat</a>"}],"tags":[],"owner":{"account_id":10360309,"reputation":1,"user_id":7641002,"display_name":"suger"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680252430,"creation_date":1680243616,"answer_id":75895410,"question_id":75895161,"body_markdown":"The `main()` method in the WAR package does not run in the Tomcat container.\r\n\r\nFor example, the following part of the code\r\n    \r\n```java\r\npublic class Application extends SpringBootServletInitializer {\r\n@Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(UserApplication.class);\r\n    }\r\n}\r\n```","title":"How is Spring Boot actually bootstrapped?","body":"<p>The <code>main()</code> method in the WAR package does not run in the Tomcat container.</p>\n<p>For example, the following part of the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application extends SpringBootServletInitializer {\n@Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(UserApplication.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680252430,"creation_date":1680240812,"question_id":75895161,"body_markdown":"I went through this question on Stack Overflow - [How is Spring actually bootstrap?][1]\r\n\r\nIt talks about the Spring, and I want to know the exact process in the case of Spring Boot.\r\n\r\n\r\nIn case of web.xml\r\n 1. How the execution starts when the Spring Boot WAR is deployed on Tomcat\r\n 2. Does the class containing the `main()` get executed first or the class extending the `SpringBootServletInitializer`? What is the flow?\r\n\r\nIn case of web.xml, in the official doc here [Create a deployable war file for older servlet containers][2], it says we need to add a web.xml to our application and configure it to load an ApplicationContext via a DispatcherServlet. How do we do that?\r\n\r\nLooks like I have configure like this, but it doesn&#39;t seem to be working:\r\n\r\n```xml\r\n&lt;servlet&gt;\r\n\t&lt;!-- Provide a Servlet Name --&gt;\r\n\t&lt;servlet-name&gt;frontcontroller-dispatcher&lt;/servlet-name&gt;\r\n\t&lt;!-- Provide a fully qualified path to the DispatcherServlet class --&gt;\r\n\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n&lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;!-- Provide a Servlet Name that you want to map --&gt;\r\n    \t&lt;servlet-name&gt;frontcontroller-dispatcher&lt;/servlet-name&gt;\r\n    \t&lt;!-- Provide a url pattern --&gt;\r\n    \t&lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/21714290/how-is-spring-actually-bootstrap\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/howto-traditional-deployment.html#howto-create-a-deployable-war-file-for-older-containers","title":"How is Spring Boot actually bootstrapped?","body":"<p>I went through this question on Stack Overflow - <a href=\"https://stackoverflow.com/questions/21714290/how-is-spring-actually-bootstrap\">How is Spring actually bootstrap?</a></p>\n<p>It talks about the Spring, and I want to know the exact process in the case of Spring Boot.</p>\n<p>In case of web.xml</p>\n<ol>\n<li>How the execution starts when the Spring Boot WAR is deployed on Tomcat</li>\n<li>Does the class containing the <code>main()</code> get executed first or the class extending the <code>SpringBootServletInitializer</code>? What is the flow?</li>\n</ol>\n<p>In case of web.xml, in the official doc here <a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/howto-traditional-deployment.html#howto-create-a-deployable-war-file-for-older-containers\" rel=\"nofollow noreferrer\">Create a deployable war file for older servlet containers</a>, it says we need to add a web.xml to our application and configure it to load an ApplicationContext via a DispatcherServlet. How do we do that?</p>\n<p>Looks like I have configure like this, but it doesn't seem to be working:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servlet&gt;\n    &lt;!-- Provide a Servlet Name --&gt;\n    &lt;servlet-name&gt;frontcontroller-dispatcher&lt;/servlet-name&gt;\n    &lt;!-- Provide a fully qualified path to the DispatcherServlet class --&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;!-- Provide a Servlet Name that you want to map --&gt;\n        &lt;servlet-name&gt;frontcontroller-dispatcher&lt;/servlet-name&gt;\n        &lt;!-- Provide a url pattern --&gt;\n        &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","enums","amazon-dynamodb","aws-sdk"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1634902488,"post_id":69615058,"comment_id":123157844,"body_markdown":"https://stackoverflow.com/help/self-answer","body":"<a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634727173,"creation_date":1634727173,"answer_id":69644679,"question_id":69615058,"body_markdown":"I am thinking that your annotations might actually be the problem here. I would remove all annotations that mention a constructor, and instead, write out your own constructor(s). For both `Task` and `TaskStatus`.","title":"How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?","body":"<p>I am thinking that your annotations might actually be the problem here. I would remove all annotations that mention a constructor, and instead, write out your own constructor(s). For both <code>Task</code> and <code>TaskStatus</code>.</p>\n"},{"tags":[],"owner":{"account_id":1138825,"reputation":569,"user_id":1123294,"accept_rate":75,"display_name":"TodoCleverNameHere"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634760345,"creation_date":1634760345,"answer_id":69652402,"question_id":69615058,"body_markdown":"https://stackoverflow.com/questions/69615058/how-can-i-use-java-enums-with-amazon-dynamodb-and-aws-sdk-v2\r\n\r\n\r\nAlthough the [documentation](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/mapper/annotations/DynamoDbConvertedBy.html) doesn&#39;t state it, the `DynamoDbConvertedBy` annotation requires any [`AttriuteConverter`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/AttributeConverter.html) you supply to contain a parameterles default constructor\r\n\r\nUnfortunately for you and me, whoever wrote many of the built-in `AttributeConverter` classes decided to use static `create()` methods to instantiate them instead of a constructor (maybe they&#39;re singletons under the covers? I don&#39;t know). This means anyone who wants to use these helpful constructor-less classes like [`InstantAsStringAttributeConverter`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/internal/converter/attribute/InstantAsStringAttributeConverter.html) and [`EnumAttributeConverter`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/internal/converter/attribute/EnumAttributeConverter.html) needs to wrap them in custom wrapper classes that simple parrot the converters we instantiated using `create`. For a non-generic typed class like `InstantAsStringAttributeConverter`, this is easy. Just create an wrapper class that parrots the instance you new up with `create()` and refer to that instead:\r\n\r\n```java\r\npublic class InstantAsStringAttributeConverterWithConstructor implements AttributeConverter&lt;Instant&gt; {\r\n    private final static InstantAsStringAttributeConverter CONVERTER = InstantAsStringAttributeConverter.create();\r\n\r\n    @Override\r\n    public AttributeValue transformFrom(Instant instant) {\r\n        return CONVERTER.transformFrom(instant);\r\n    }\r\n\r\n    @Override\r\n    public Instant transformTo(AttributeValue attributeValue) {\r\n        return CONVERTER.transformTo(attributeValue);\r\n    }\r\n\r\n    @Override\r\n    public EnhancedType&lt;Instant&gt; type() {\r\n        return CONVERTER.type();\r\n    }\r\n\r\n    @Override\r\n    public AttributeValueType attributeValueType() {\r\n        return CONVERTER.attributeValueType();\r\n    }\r\n}\r\n```\r\n\r\nThen you update your annotation to point to that class intead of the actual underlying library class.\r\n\r\nBut wait, `EnumAttributeConverter` is a generic typed class, which means you need to go one step further. First, you need to create a version of the converter that wraps the official version but relies on a constructor taking in the type instead of static instantiation:\r\n\r\n```java\r\nimport software.amazon.awssdk.enhanced.dynamodb.AttributeConverter;\r\nimport software.amazon.awssdk.enhanced.dynamodb.AttributeValueType;\r\nimport software.amazon.awssdk.enhanced.dynamodb.EnhancedType;\r\nimport software.amazon.awssdk.enhanced.dynamodb.internal.converter.attribute.EnumAttributeConverter;\r\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n\r\npublic class EnumAttributeConverterWithConstructor&lt;T extends Enum&lt;T&gt;&gt; implements AttributeConverter&lt;T&gt; {\r\n    private final EnumAttributeConverter&lt;T&gt; converter;\r\n\r\n    public CustomEnumAttributeConverter(final Class&lt;T&gt; enumClass) {\r\n        this.converter = EnumAttributeConverter.create(enumClass);\r\n    }\r\n\r\n    @Override\r\n    public AttributeValue transformFrom(T t) {\r\n        return this.converter.transformFrom(t);\r\n    }\r\n\r\n    @Override\r\n    public T transformTo(AttributeValue attributeValue) {\r\n        return this.converter.transformTo(attributeValue);\r\n    }\r\n\r\n    @Override\r\n    public EnhancedType&lt;T&gt; type() {\r\n        return this.converter.type();\r\n    }\r\n\r\n    @Override\r\n    public AttributeValueType attributeValueType() {\r\n        return this.converter.attributeValueType();\r\n    }\r\n}\r\n```\r\n\r\nBut that only gets us half-way there-- now we need to generate a version for each enum type we want to convert that subclasses our custom class:\r\n\r\n```java\r\npublic class ExportTaskStatusAttributeConverter extends EnumAttributeConverterWithConstructor&lt;ExportTaskStatus&gt; {\r\n    public ExportTaskStatusAttributeConverter() {\r\n        super(ExportTaskStatus.class);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@DynamoDbConvertedBy(ExportTaskStatusAttributeConverter.class)\r\npublic ExportTaskStatus getStatus() { return this.status; }\r\n```\r\n\r\nOr the Lombok-y way:\r\n\r\n```java\r\n@Getter(onMethod_ = {@DynamoDbConvertedBy(ExportTaskStatusAttributeConverter.class)})\r\nExportTaskStatus status;\r\n```\r\n\r\nIt&#39;s a pain. It&#39;s a pain that could be solved with a little bit of tweaking and a tiny bit of reflection in the AWS SDK, but it&#39;s where we&#39;re at right now.","title":"How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?","body":"<p><a href=\"https://stackoverflow.com/questions/69615058/how-can-i-use-java-enums-with-amazon-dynamodb-and-aws-sdk-v2\">How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?</a></p>\n<p>Although the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/mapper/annotations/DynamoDbConvertedBy.html\" rel=\"nofollow noreferrer\">documentation</a> doesn't state it, the <code>DynamoDbConvertedBy</code> annotation requires any <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/AttributeConverter.html\" rel=\"nofollow noreferrer\"><code>AttriuteConverter</code></a> you supply to contain a parameterles default constructor</p>\n<p>Unfortunately for you and me, whoever wrote many of the built-in <code>AttributeConverter</code> classes decided to use static <code>create()</code> methods to instantiate them instead of a constructor (maybe they're singletons under the covers? I don't know). This means anyone who wants to use these helpful constructor-less classes like <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/internal/converter/attribute/InstantAsStringAttributeConverter.html\" rel=\"nofollow noreferrer\"><code>InstantAsStringAttributeConverter</code></a> and <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/internal/converter/attribute/EnumAttributeConverter.html\" rel=\"nofollow noreferrer\"><code>EnumAttributeConverter</code></a> needs to wrap them in custom wrapper classes that simple parrot the converters we instantiated using <code>create</code>. For a non-generic typed class like <code>InstantAsStringAttributeConverter</code>, this is easy. Just create an wrapper class that parrots the instance you new up with <code>create()</code> and refer to that instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InstantAsStringAttributeConverterWithConstructor implements AttributeConverter&lt;Instant&gt; {\n    private final static InstantAsStringAttributeConverter CONVERTER = InstantAsStringAttributeConverter.create();\n\n    @Override\n    public AttributeValue transformFrom(Instant instant) {\n        return CONVERTER.transformFrom(instant);\n    }\n\n    @Override\n    public Instant transformTo(AttributeValue attributeValue) {\n        return CONVERTER.transformTo(attributeValue);\n    }\n\n    @Override\n    public EnhancedType&lt;Instant&gt; type() {\n        return CONVERTER.type();\n    }\n\n    @Override\n    public AttributeValueType attributeValueType() {\n        return CONVERTER.attributeValueType();\n    }\n}\n</code></pre>\n<p>Then you update your annotation to point to that class intead of the actual underlying library class.</p>\n<p>But wait, <code>EnumAttributeConverter</code> is a generic typed class, which means you need to go one step further. First, you need to create a version of the converter that wraps the official version but relies on a constructor taking in the type instead of static instantiation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import software.amazon.awssdk.enhanced.dynamodb.AttributeConverter;\nimport software.amazon.awssdk.enhanced.dynamodb.AttributeValueType;\nimport software.amazon.awssdk.enhanced.dynamodb.EnhancedType;\nimport software.amazon.awssdk.enhanced.dynamodb.internal.converter.attribute.EnumAttributeConverter;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\n\npublic class EnumAttributeConverterWithConstructor&lt;T extends Enum&lt;T&gt;&gt; implements AttributeConverter&lt;T&gt; {\n    private final EnumAttributeConverter&lt;T&gt; converter;\n\n    public CustomEnumAttributeConverter(final Class&lt;T&gt; enumClass) {\n        this.converter = EnumAttributeConverter.create(enumClass);\n    }\n\n    @Override\n    public AttributeValue transformFrom(T t) {\n        return this.converter.transformFrom(t);\n    }\n\n    @Override\n    public T transformTo(AttributeValue attributeValue) {\n        return this.converter.transformTo(attributeValue);\n    }\n\n    @Override\n    public EnhancedType&lt;T&gt; type() {\n        return this.converter.type();\n    }\n\n    @Override\n    public AttributeValueType attributeValueType() {\n        return this.converter.attributeValueType();\n    }\n}\n</code></pre>\n<p>But that only gets us half-way there-- now we need to generate a version for each enum type we want to convert that subclasses our custom class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExportTaskStatusAttributeConverter extends EnumAttributeConverterWithConstructor&lt;ExportTaskStatus&gt; {\n    public ExportTaskStatusAttributeConverter() {\n        super(ExportTaskStatus.class);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDbConvertedBy(ExportTaskStatusAttributeConverter.class)\npublic ExportTaskStatus getStatus() { return this.status; }\n</code></pre>\n<p>Or the Lombok-y way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter(onMethod_ = {@DynamoDbConvertedBy(ExportTaskStatusAttributeConverter.class)})\nExportTaskStatus status;\n</code></pre>\n<p>It's a pain. It's a pain that could be solved with a little bit of tweaking and a tiny bit of reflection in the AWS SDK, but it's where we're at right now.</p>\n"},{"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1662701220,"post_id":69720600,"comment_id":130070830,"body_markdown":"This answer is outdated. I&#39;m currently using SDK version `2.17.89` and the solution is to just remove the `DynamoDbConvertedBy` annotation.","body":"This answer is outdated. I&#39;m currently using SDK version <code>2.17.89</code> and the solution is to just remove the <code>DynamoDbConvertedBy</code> annotation."}],"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1635240541,"creation_date":1635240541,"answer_id":69720600,"question_id":69615058,"body_markdown":"Solution based on [watkinsmatthewp](https://stackoverflow.com/a/69652402/17181638) Answer:\r\n``` java\r\npublic class TaskStatusConverter implements AttributeConverter&lt;TaskStatus&gt; {\r\n    @Delegate\r\n    private final EnumAttributeConverter&lt;TaskStatus&gt; converter;\r\n\r\n    public TaskStatusConverter() {\r\n        converter = EnumAttributeConverter.create(TaskStatus.class);\r\n    }\r\n}\r\n``` \r\nTask status attribute looks like this:\r\n``` java\r\n@Getter(onMethod_ = {@DynamoDbConvertedBy(TaskStatusConverter.class)})\r\nTaskStatus status;\r\n```","title":"How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?","body":"<p>Solution based on <a href=\"https://stackoverflow.com/a/69652402/17181638\">watkinsmatthewp</a> Answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TaskStatusConverter implements AttributeConverter&lt;TaskStatus&gt; {\n    @Delegate\n    private final EnumAttributeConverter&lt;TaskStatus&gt; converter;\n\n    public TaskStatusConverter() {\n        converter = EnumAttributeConverter.create(TaskStatus.class);\n    }\n}\n</code></pre>\n<p>Task status attribute looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter(onMethod_ = {@DynamoDbConvertedBy(TaskStatusConverter.class)})\nTaskStatus status;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290399,"reputation":2210,"user_id":591935,"accept_rate":76,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680252424,"creation_date":1643278281,"answer_id":70876754,"question_id":69615058,"body_markdown":"For anyone else coming here, it looks to me like just dropping the annotation from the enum altogether works just fine, i.e. the SDK applies the provided attribute converters implicitly. This is also mentioned in this [Github issue][1]. My own class looks like this (Brand is an enum here), and the enum is converted without any issues when fetching items.\r\n\r\n```\r\n@Value\r\n@Builder(toBuilder = true)\r\n@DynamoDbImmutable(builder = User.UserBuilder.class)\r\npublic class User {\r\n\r\n    @Getter(onMethod = @__({@DynamoDbPartitionKey}))\r\n    String id;\r\n\r\n    Brand brand;\r\n    ...\r\n}\r\n\r\n```\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/2335#issuecomment-811273037","title":"How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?","body":"<p>For anyone else coming here, it looks to me like just dropping the annotation from the enum altogether works just fine, i.e. the SDK applies the provided attribute converters implicitly. This is also mentioned in this <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2335#issuecomment-811273037\" rel=\"nofollow noreferrer\">Github issue</a>. My own class looks like this (Brand is an enum here), and the enum is converted without any issues when fetching items.</p>\n<pre><code>@Value\n@Builder(toBuilder = true)\n@DynamoDbImmutable(builder = User.UserBuilder.class)\npublic class User {\n\n    @Getter(onMethod = @__({@DynamoDbPartitionKey}))\n    String id;\n\n    Brand brand;\n    ...\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16252098,"reputation":11,"user_id":11735768,"display_name":"ghostgatts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647984317,"creation_date":1647984317,"answer_id":71579130,"question_id":69615058,"body_markdown":"The dynamodb-enhanced SDK does this out of the box.\r\n\r\nWhen you declare a `@DynamoDbBean` the `DefaultAttributeConverterProvider` provides a long list of possible ways to convert attributes between java types, including an `EnumAttributeConverter` which is used if `type.rawClass().isEnum()` is true. So you don&#39;t need to worry about it.\r\n\r\nIf you ever wanted to extend the number of converters, you would need to add the `converterProviders` annotation parameter, and declare the default one (or omit it), as well as any other providers you want.\r\n\r\nExample: \r\n`@DynamoDbBean(converterProviders = { DefaultAttributeConverterProvider.class, MyCustomAttributeConverterProvider.class });`","title":"How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?","body":"<p>The dynamodb-enhanced SDK does this out of the box.</p>\n<p>When you declare a <code>@DynamoDbBean</code> the <code>DefaultAttributeConverterProvider</code> provides a long list of possible ways to convert attributes between java types, including an <code>EnumAttributeConverter</code> which is used if <code>type.rawClass().isEnum()</code> is true. So you don't need to worry about it.</p>\n<p>If you ever wanted to extend the number of converters, you would need to add the <code>converterProviders</code> annotation parameter, and declare the default one (or omit it), as well as any other providers you want.</p>\n<p>Example:\n<code>@DynamoDbBean(converterProviders = { DefaultAttributeConverterProvider.class, MyCustomAttributeConverterProvider.class });</code></p>\n"}],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4969,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69720600,"answer_count":5,"score":3,"last_activity_date":1680252424,"creation_date":1634555634,"question_id":69615058,"body_markdown":"I am trying to implement a simple java event-handler lambda for AWS. It receives sqs events and should make appropriate updates to the dynamoDB table.\r\n\r\nOne of the attributes in this table is a status field that has 4 defined states; therefore I wanted to use an enum class in java and map it to this attribute. \r\n\r\nUnder AWS SDK v1 I could use the @DynamoDBTypeConvertedEnum annotation. But it does not exist anymore in v2. Instead, there is the @DynamoDbConvertedBy() which receives a converter class reference. There is also an EnumAttributeConverter class which should work nicely with it.\r\n\r\nBut for some reason, it does not work. The following is a snip from my current code:\r\n``` java\r\n@Data\r\n@DynamoDbBean\r\n@NoArgsConstructor\r\npublic class Task{\r\n\r\n@Getter(onMethod_ = {@DynamoDbPartitionKey})  \r\n    String id; \r\n\r\n...\r\n\r\n@Getter(onMethod_ = {@DynamoDbConvertedBy(EnumAttributeConverter.class)})\r\n    ExportTaskStatus status;\r\n}\r\n```\r\nThe enum looks as follows:\r\n``` java\r\n@RequiredArgsConstructor\r\npublic enum TaskStatus {\r\n    @JsonProperty(&quot;running&quot;) PROCESSING(1),\r\n    @JsonProperty(&quot;succeeded&quot;) COMPLETED(2),\r\n    @JsonProperty(&quot;cancelled&quot;) CANCELED(3),\r\n    @JsonProperty(&quot;failed&quot;) FAILED(4);\r\n\r\n    private final int order;\r\n}\r\n```\r\n\r\nWith this, I get the following exception when launching the application:\r\n```\r\nClass &#39;class software.amazon.awssdk.enhanced.dynamodb.internal.converter.attribute.EnumAttributeConverter&#39; appears to have no default constructor thus cannot be used with the BeanTableSchema\r\n```\r\n\r\n","title":"How can I use Java Enums with Amazon DynamoDB and AWS SDK v2?","body":"<p>I am trying to implement a simple java event-handler lambda for AWS. It receives sqs events and should make appropriate updates to the dynamoDB table.</p>\n<p>One of the attributes in this table is a status field that has 4 defined states; therefore I wanted to use an enum class in java and map it to this attribute.</p>\n<p>Under AWS SDK v1 I could use the @DynamoDBTypeConvertedEnum annotation. But it does not exist anymore in v2. Instead, there is the @DynamoDbConvertedBy() which receives a converter class reference. There is also an EnumAttributeConverter class which should work nicely with it.</p>\n<p>But for some reason, it does not work. The following is a snip from my current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@DynamoDbBean\n@NoArgsConstructor\npublic class Task{\n\n@Getter(onMethod_ = {@DynamoDbPartitionKey})  \n    String id; \n\n...\n\n@Getter(onMethod_ = {@DynamoDbConvertedBy(EnumAttributeConverter.class)})\n    ExportTaskStatus status;\n}\n</code></pre>\n<p>The enum looks as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic enum TaskStatus {\n    @JsonProperty(&quot;running&quot;) PROCESSING(1),\n    @JsonProperty(&quot;succeeded&quot;) COMPLETED(2),\n    @JsonProperty(&quot;cancelled&quot;) CANCELED(3),\n    @JsonProperty(&quot;failed&quot;) FAILED(4);\n\n    private final int order;\n}\n</code></pre>\n<p>With this, I get the following exception when launching the application:</p>\n<pre><code>Class 'class software.amazon.awssdk.enhanced.dynamodb.internal.converter.attribute.EnumAttributeConverter' appears to have no default constructor thus cannot be used with the BeanTableSchema\n</code></pre>\n"},{"tags":["java","oracle","prepared-statement"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1424416757,"post_id":28623496,"comment_id":45548502,"body_markdown":"use `setDate (variable1 )`","body":"use <code>setDate (variable1 )</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1424416815,"post_id":28623496,"comment_id":45548517,"body_markdown":"That is not a prepared statement.","body":"That is not a prepared statement."},{"owner":{"account_id":5818081,"reputation":11,"user_id":4586977,"display_name":"gaganshu sharma"},"score":0,"creation_date":1424417174,"post_id":28623496,"comment_id":45548641,"body_markdown":"How to use setDate , Could you explain a little bit more","body":"How to use setDate , Could you explain a little bit more"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1424417312,"post_id":28623496,"comment_id":45548686,"body_markdown":"See http://stackoverflow.com/questions/18614836/using-setdate-in-preparedstatement","body":"See <a href=\"http://stackoverflow.com/questions/18614836/using-setdate-in-preparedstatement\" title=\"using setdate in preparedstatement\">stackoverflow.com/questions/18614836/&hellip;</a>"},{"owner":{"account_id":5818081,"reputation":11,"user_id":4586977,"display_name":"gaganshu sharma"},"score":0,"creation_date":1424417410,"post_id":28623496,"comment_id":45548735,"body_markdown":"I have seen that and implemented                                                     String variable1=&quot;29/01/2015&quot;;\nSimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);  \njava.sql.Date d=(Date) format.parse(variable1);                                           but How to put d variable in statement , I dont know.","body":"I have seen that and implemented                                                     String variable1=&quot;29/01/2015&quot;; SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);   java.sql.Date d=(Date) format.parse(variable1);                                           but How to put d variable in statement , I dont know."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424418956,"creation_date":1424418956,"answer_id":28624061,"question_id":28623496,"body_markdown":"    PreparedStatement pstmt = con.prepareStatement(&quot;select s.airbill_nbr, s.orig, s.dest, &quot; +\r\n                            &quot;p.swa_acct_nbr, s.prod_type, s.outbnd_date, s.shppr_name, s.consgn_name, &quot; +\r\n                            &quot;s.shipping_chrg, s.misc_chrg, s.decl_val_chrg, s.tax_amt, s.fuel_chrg, &quot; +\r\n                            &quot;s.scrty_chrg, s.tot_chrgs, s.tot_pcs, s.tot_chrgbl_wt, s.tot_actl_wt &quot; +\r\n                            &quot;from shipment s, shipment_outbnd_stn o, payment p &quot; +\r\n                            &quot;where s.sa_shpmt_nbr = o.sa_shpmt_nbr &quot; +\r\n                            &quot;and o.sa_shpmt_nbr = p.sa_shpmt_nbr &quot; +\r\n                            &quot;and o.outbnd_date = ?&quot; +\r\n                            &quot;and s.outbnd_empl_id is not null &quot; +\r\n                            &quot;and p.fop_cd = &#39;SW&#39; &quot; +\r\n                            &quot;and p.swa_acct_nbr = &quot; + iAccount +\r\n                            &quot;and s.void_flag is null&quot; );&quot;);\r\n\r\n       pstmt.setDate (dt); ","title":"How to Compare date in Prepared statement","body":"<pre><code>PreparedStatement pstmt = con.prepareStatement(\"select s.airbill_nbr, s.orig, s.dest, \" +\n                        \"p.swa_acct_nbr, s.prod_type, s.outbnd_date, s.shppr_name, s.consgn_name, \" +\n                        \"s.shipping_chrg, s.misc_chrg, s.decl_val_chrg, s.tax_amt, s.fuel_chrg, \" +\n                        \"s.scrty_chrg, s.tot_chrgs, s.tot_pcs, s.tot_chrgbl_wt, s.tot_actl_wt \" +\n                        \"from shipment s, shipment_outbnd_stn o, payment p \" +\n                        \"where s.sa_shpmt_nbr = o.sa_shpmt_nbr \" +\n                        \"and o.sa_shpmt_nbr = p.sa_shpmt_nbr \" +\n                        \"and o.outbnd_date = ?\" +\n                        \"and s.outbnd_empl_id is not null \" +\n                        \"and p.fop_cd = 'SW' \" +\n                        \"and p.swa_acct_nbr = \" + iAccount +\n                        \"and s.void_flag is null\" );\");\n\n   pstmt.setDate (dt); \n</code></pre>\n"}],"owner":{"account_id":5818081,"reputation":11,"user_id":4586977,"display_name":"gaganshu sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":1,"score":-5,"last_activity_date":1680252333,"creation_date":1424416498,"question_id":28623496,"body_markdown":"I have Sybase Statement which is mentioned below :\r\n\r\n     select s.airbill_nbr, s.orig, s.dest,p.swa_acct_nbr, s.prod_type, s.outbnd_date, s.shppr_name, s.consgn_name,s.shipping_chrg, s.misc_chrg, s.decl_val_chrg, s.tax_amt, s.fuel_chrg,  s.scrty_chrg, s.tot_chrgs, s.tot_pcs, s.tot_chrgbl_wt, s.tot_actl_wt from shipment s, shipment_outbnd_stn o, payment p\r\n        where s.sa_shpmt_nbr = o.sa_shpmt_nbr \r\n        and o.sa_shpmt_nbr = p.sa_shpmt_nbr\r\n        and o.outbnd_date=convert(date,&#39;01/29/2015&#39;,101)\r\n        and s.outbnd_empl_id is not null\r\n        and p.fop_cd = &#39;SW&#39;\r\n        and p.swa_acct_nbr =40584\r\n        and s.void_flag is null\r\n\r\n    \r\n    \r\nI have to create a prepared statement for the above code in Java and I have created the below One :\r\n    \r\n        String variable1=&quot;29/01/2015&quot;;\r\n        \t\t\t\t\r\n     psRetrieveAwbData = cattsDbc.prepareStatement( &quot;select s.airbill_nbr, s.orig, s.dest, &quot; +\r\n             &quot;p.swa_acct_nbr, s.prod_type, s.outbnd_date, s.shppr_name, s.consgn_name, &quot; +\r\n             &quot;s.shipping_chrg, s.misc_chrg, s.decl_val_chrg, s.tax_amt, s.fuel_chrg, &quot; +\r\n             &quot;s.scrty_chrg, s.tot_chrgs, s.tot_pcs, s.tot_chrgbl_wt, s.tot_actl_wt &quot; +\r\n             &quot;from shipment s, shipment_outbnd_stn o, payment p &quot; +\r\n             &quot;where s.sa_shpmt_nbr = o.sa_shpmt_nbr &quot; +\r\n             &quot;and o.sa_shpmt_nbr = p.sa_shpmt_nbr &quot; +\r\n             &quot;and o.outbnd_date = &#39;&quot;+ variable1 +&quot;&#39;&quot; +\r\n     \t\t&quot;and s.outbnd_empl_id is not null &quot; +\r\n     \t\t&quot;and p.fop_cd = &#39;SW&#39; &quot; +\r\n     \t\t&quot;and p.swa_acct_nbr = &quot; + iAccount +\r\n     \t\t&quot;and s.void_flag is null&quot; );\r\n\r\n    \r\nbut I dont know how to put date in date Format because the way I have put it is not working by taking the variable1, as variable1 It is taking as String and not finding out the Solution.Could you please tell me how to create the prepared statement where I can directly put date or put the date by storing it in some variable.\r\n\r\n","title":"How to Compare date in Prepared statement","body":"<p>I have Sybase Statement which is mentioned below :</p>\n<pre><code> select s.airbill_nbr, s.orig, s.dest,p.swa_acct_nbr, s.prod_type, s.outbnd_date, s.shppr_name, s.consgn_name,s.shipping_chrg, s.misc_chrg, s.decl_val_chrg, s.tax_amt, s.fuel_chrg,  s.scrty_chrg, s.tot_chrgs, s.tot_pcs, s.tot_chrgbl_wt, s.tot_actl_wt from shipment s, shipment_outbnd_stn o, payment p\n    where s.sa_shpmt_nbr = o.sa_shpmt_nbr \n    and o.sa_shpmt_nbr = p.sa_shpmt_nbr\n    and o.outbnd_date=convert(date,'01/29/2015',101)\n    and s.outbnd_empl_id is not null\n    and p.fop_cd = 'SW'\n    and p.swa_acct_nbr =40584\n    and s.void_flag is null\n</code></pre>\n<p>I have to create a prepared statement for the above code in Java and I have created the below One :</p>\n<pre><code>    String variable1=&quot;29/01/2015&quot;;\n                    \n psRetrieveAwbData = cattsDbc.prepareStatement( &quot;select s.airbill_nbr, s.orig, s.dest, &quot; +\n         &quot;p.swa_acct_nbr, s.prod_type, s.outbnd_date, s.shppr_name, s.consgn_name, &quot; +\n         &quot;s.shipping_chrg, s.misc_chrg, s.decl_val_chrg, s.tax_amt, s.fuel_chrg, &quot; +\n         &quot;s.scrty_chrg, s.tot_chrgs, s.tot_pcs, s.tot_chrgbl_wt, s.tot_actl_wt &quot; +\n         &quot;from shipment s, shipment_outbnd_stn o, payment p &quot; +\n         &quot;where s.sa_shpmt_nbr = o.sa_shpmt_nbr &quot; +\n         &quot;and o.sa_shpmt_nbr = p.sa_shpmt_nbr &quot; +\n         &quot;and o.outbnd_date = '&quot;+ variable1 +&quot;'&quot; +\n        &quot;and s.outbnd_empl_id is not null &quot; +\n        &quot;and p.fop_cd = 'SW' &quot; +\n        &quot;and p.swa_acct_nbr = &quot; + iAccount +\n        &quot;and s.void_flag is null&quot; );\n</code></pre>\n<p>but I dont know how to put date in date Format because the way I have put it is not working by taking the variable1, as variable1 It is taking as String and not finding out the Solution.Could you please tell me how to create the prepared statement where I can directly put date or put the date by storing it in some variable.</p>\n"},{"tags":["java","command","prompt"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1680251537,"post_id":75896337,"comment_id":133869892,"body_markdown":"Please don&#39;t duplicate text just to work around the quality filter which presumably prompted you for more details. (I&#39;ve removed the pointlessly-duplicated text.) Instead, improve the quality of the question by giving more details - what you&#39;re trying to achieve (rather than just &quot;equivalent to this&quot;, what you&#39;ve tried, what happened,  etc.","body":"Please don&#39;t duplicate text just to work around the quality filter which presumably prompted you for more details. (I&#39;ve removed the pointlessly-duplicated text.) Instead, improve the quality of the question by giving more details - what you&#39;re trying to achieve (rather than just &quot;equivalent to this&quot;, what you&#39;ve tried, what happened,  etc."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1680252050,"post_id":75896337,"comment_id":133870018,"body_markdown":"It&#39;s also completely unclear to me what this has to do with Java.","body":"It&#39;s also completely unclear to me what this has to do with Java."}],"answers":[{"comments":[{"owner":{"account_id":28169119,"reputation":1,"user_id":21527915,"display_name":"Mohammad Asif"},"score":0,"creation_date":1680286961,"post_id":75896531,"comment_id":133878583,"body_markdown":"This command is creating the text file but it does not push any output content from cmd window to the created file. File created with 0 kb size.","body":"This command is creating the text file but it does not push any output content from cmd window to the created file. File created with 0 kb size."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1681935076,"post_id":75896531,"comment_id":134138862,"body_markdown":"Could you add example of the command line you used?","body":"Could you add example of the command line you used?"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680252288,"creation_date":1680252288,"answer_id":75896531,"question_id":75896337,"body_markdown":"On Windows command prompt you&#39;ll need to swap the redirections and switch path separator. This shows create (&gt;) and append(&gt;&gt;):\r\n\r\n    .\\blah.exe &gt; abc.txt 2&gt;&amp;1\r\n    .\\blah.exe &gt;&gt; abc.txt 2&gt;&amp;1\r\n\r\nIf you have the redirections the other way around, STDERR goes to the default of STDOUT whereas STDOUT goes to the file. Putting `2&gt;&amp;1` after `&gt; abc.log` sends both to same file.","title":"Equivalent command for windows : ./&quot;XXX.exe&quot; 2&gt;&amp;1 &gt;&gt; abc3.txt which is working in gitbash","body":"<p>On Windows command prompt you'll need to swap the redirections and switch path separator. This shows create (&gt;) and append(&gt;&gt;):</p>\n<pre><code>.\\blah.exe &gt; abc.txt 2&gt;&amp;1\n.\\blah.exe &gt;&gt; abc.txt 2&gt;&amp;1\n</code></pre>\n<p>If you have the redirections the other way around, STDERR goes to the default of STDOUT whereas STDOUT goes to the file. Putting <code>2&gt;&amp;1</code> after <code>&gt; abc.log</code> sends both to same file.</p>\n"}],"owner":{"account_id":28169119,"reputation":1,"user_id":21527915,"display_name":"Mohammad Asif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1466,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680252288,"creation_date":1680250889,"question_id":75896337,"body_markdown":"The above given set of command is working and giving expected output in gitbash but i want the Equivalent command which will work in Windows environment.\r\n\r\nWorking command for gitbash : ./&quot;XXX.exe&quot; 2&gt;&amp;1 &gt;&gt; abc3.txt .\r\n","title":"Equivalent command for windows : ./&quot;XXX.exe&quot; 2&gt;&amp;1 &gt;&gt; abc3.txt which is working in gitbash","body":"<p>The above given set of command is working and giving expected output in gitbash but i want the Equivalent command which will work in Windows environment.</p>\n<p>Working command for gitbash : ./&quot;XXX.exe&quot; 2&gt;&amp;1 &gt;&gt; abc3.txt .</p>\n"},{"tags":["java","java-8","functional-programming","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680228653,"post_id":75894271,"comment_id":133866718,"body_markdown":"You&#39;d need `Comparator.&lt;int[], Integer&gt;comparing(...).thenComparing(...)`. The lambda for `comparing`/`thenComparing` should only take 1 parameter. See [here](https://stackoverflow.com/q/71548399/5133585) for a more detailed explanation.","body":"You&#39;d need <code>Comparator.&lt;int[], Integer&gt;comparing(...).thenComparing(...)</code>. The lambda for <code>comparing</code>/<code>thenComparing</code> should only take 1 parameter. See <a href=\"https://stackoverflow.com/q/71548399/5133585\">here</a> for a more detailed explanation."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680261140,"post_id":75894271,"comment_id":133872158,"body_markdown":"Since you tagged your question with `java-8`, you can’t use `var` at all. If you are not using Java&#160;8, don’t use the `java-8` tag.","body":"Since you tagged your question with <code>java-8</code>, you can’t use <code>var</code> at all. If you are not using Java 8, don’t use the <code>java-8</code> tag."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680229927,"creation_date":1680229927,"answer_id":75894398,"question_id":75894271,"body_markdown":"Here is some sample code to demonstrate how to make comparators with multiple criteria work:\r\n\r\n    int[][] vals = {{3, 2}, {2, 2}, {1,2}, {2, 3}, {4, 1}};\r\n    Comparator&lt;int[]&gt; order = Comparator\r\n        .comparingInt((int[] vs) -&gt; vs[1])\r\n        .thenComparingInt((int[] vs) -&gt; vs[0]);\r\n    Arrays.sort(vals, order);\r\n    Arrays.stream(vals).map(Arrays::toString).forEach(System.out::println);\r\n\r\nThe `comparingInt` methods say to compare the integers extracted from the array using the given lambda. You could just use `comparing` and `thenComparing` - it would just be slightly less efficient as it boxes the values before comparing them.","title":"How to declare Comparator using Java 8 syntax?","body":"<p>Here is some sample code to demonstrate how to make comparators with multiple criteria work:</p>\n<pre><code>int[][] vals = {{3, 2}, {2, 2}, {1,2}, {2, 3}, {4, 1}};\nComparator&lt;int[]&gt; order = Comparator\n    .comparingInt((int[] vs) -&gt; vs[1])\n    .thenComparingInt((int[] vs) -&gt; vs[0]);\nArrays.sort(vals, order);\nArrays.stream(vals).map(Arrays::toString).forEach(System.out::println);\n</code></pre>\n<p>The <code>comparingInt</code> methods say to compare the integers extracted from the array using the given lambda. You could just use <code>comparing</code> and <code>thenComparing</code> - it would just be slightly less efficient as it boxes the values before comparing them.</p>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680252149,"creation_date":1680227913,"question_id":75894271,"body_markdown":"I have a 2D array of type int i.e `[][]intervals`\r\nUsing Java 8 syntax, I can sort like this\r\n\r\n    Arrays.sort(intervals, (int[] o1, int[] o2) -&gt; {\r\n        if (o1[1] != o2[1]) return o1[1] - o2[1];\r\n        return o1[0] - o2[0];\r\n    });\r\n\r\nBasically, I understand I have the logic defined as the 2nd argument which is Comparator\r\n\r\nI want to just for the sake of learning, do something like this\r\n\r\n```\r\nvar c = Comparator.&lt;int[]&gt;.comparing(not able to put the 2 arguments properly here)\r\n```\r\n\r\nThis also works, but I am not able to use the var and Comparator style above\r\n\r\n    Comparator&lt;int[]&gt; c = (int[] i1, int[] i2) -&gt; {\r\n        if (i1[0] == i2[0]) return i1[1] - i2[1];\r\n        return i1[0] - i2[0];\r\n    }\r\n\r\n\r\nI am unable to get the syntax right. I got it working as below as well, but that is not the Lambda style as I am trying to do above\r\n\r\n    var c = new Comparator&lt;int[]&gt;() {\r\n        @Override\r\n        public int compare(int[] o1, int[] o2) {\r\n            if (o1[1] != o2[1]) return o1[1] - o2[1];\r\n            return o1[0] - o2[0]; \r\n        }\r\n    };\r\n\r\n    Arrays.sort(intervals,c);\r\n\r\n\r\n\r\n","title":"How to declare Comparator using Java 8 syntax?","body":"<p>I have a 2D array of type int i.e <code>[][]intervals</code>\nUsing Java 8 syntax, I can sort like this</p>\n<pre><code>Arrays.sort(intervals, (int[] o1, int[] o2) -&gt; {\n    if (o1[1] != o2[1]) return o1[1] - o2[1];\n    return o1[0] - o2[0];\n});\n</code></pre>\n<p>Basically, I understand I have the logic defined as the 2nd argument which is Comparator</p>\n<p>I want to just for the sake of learning, do something like this</p>\n<pre><code>var c = Comparator.&lt;int[]&gt;.comparing(not able to put the 2 arguments properly here)\n</code></pre>\n<p>This also works, but I am not able to use the var and Comparator style above</p>\n<pre><code>Comparator&lt;int[]&gt; c = (int[] i1, int[] i2) -&gt; {\n    if (i1[0] == i2[0]) return i1[1] - i2[1];\n    return i1[0] - i2[0];\n}\n</code></pre>\n<p>I am unable to get the syntax right. I got it working as below as well, but that is not the Lambda style as I am trying to do above</p>\n<pre><code>var c = new Comparator&lt;int[]&gt;() {\n    @Override\n    public int compare(int[] o1, int[] o2) {\n        if (o1[1] != o2[1]) return o1[1] - o2[1];\n        return o1[0] - o2[0]; \n    }\n};\n\nArrays.sort(intervals,c);\n</code></pre>\n"},{"tags":["java","scala","pyspark","jdbc","spark-ui"],"owner":{"account_id":23465698,"reputation":1,"user_id":17519941,"display_name":"Festo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680250308,"creation_date":1680250308,"question_id":75896253,"body_markdown":"I am currently going through LinkedIn Learning&#39;s Data Engineering Foundations course and I cannot run the files. One such file is:\r\n\r\n```\r\n`\r\n##import required libraries\r\nimport pyspark\r\n\r\n\r\n##create spark session\r\nspark = pyspark.sql.SparkSession \\\r\n   .builder \\\r\n   .appName(&quot;Python Spark SQL basic example&quot;) \\\r\n   .config(&#39;spark.driver.extraClassPath&#39;, &quot;/Users/harshittyagi/Downloads/postgresql-42.2.18.jar&quot;) \\\r\n   .getOrCreate()\r\n\r\n\r\n##read table from db using spark jdbc\r\nmovies_df = spark.read \\\r\n   .format(&quot;jdbc&quot;) \\\r\n   .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5432/etl_pipeline&quot;) \\\r\n   .option(&quot;dbtable&quot;, &quot;movies&quot;) \\\r\n   .option(&quot;user&quot;, &quot;&lt;username&gt;&quot;) \\\r\n   .option(&quot;password&quot;, &quot;&lt;password&gt;&quot;) \\\r\n   .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;) \\\r\n   .load()\r\n   \r\n##add code below\r\nuser_df = spark.read \\\r\n   .format(&quot;jdbc&quot;) \\\r\n   .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5432/etl_pipeline&quot;) \\\r\n   .option(&quot;dbtable&quot;, &quot;users&quot;) \\\r\n   .option(&quot;user&quot;, &quot;&lt;username&gt;&quot;) \\\r\n   .option(&quot;password&quot;, &quot;&lt;password&gt;&quot;) \\\r\n   .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;) \\\r\n   .load()\r\n\r\n##print the users dataframe\r\nprint(user_df.show())\r\n\r\n`\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nIt keeps returning ModuleNotFoundError: No module named &#39;pyspark&#39;\r\neven though I have tried installing it through pip and brew. ","title":"Problems with setting up PySpark packages onto MacBook","body":"<p>I am currently going through LinkedIn Learning's Data Engineering Foundations course and I cannot run the files. One such file is:</p>\n<pre><code>`\n##import required libraries\nimport pyspark\n\n\n##create spark session\nspark = pyspark.sql.SparkSession \\\n   .builder \\\n   .appName(&quot;Python Spark SQL basic example&quot;) \\\n   .config('spark.driver.extraClassPath', &quot;/Users/harshittyagi/Downloads/postgresql-42.2.18.jar&quot;) \\\n   .getOrCreate()\n\n\n##read table from db using spark jdbc\nmovies_df = spark.read \\\n   .format(&quot;jdbc&quot;) \\\n   .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5432/etl_pipeline&quot;) \\\n   .option(&quot;dbtable&quot;, &quot;movies&quot;) \\\n   .option(&quot;user&quot;, &quot;&lt;username&gt;&quot;) \\\n   .option(&quot;password&quot;, &quot;&lt;password&gt;&quot;) \\\n   .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;) \\\n   .load()\n   \n##add code below\nuser_df = spark.read \\\n   .format(&quot;jdbc&quot;) \\\n   .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5432/etl_pipeline&quot;) \\\n   .option(&quot;dbtable&quot;, &quot;users&quot;) \\\n   .option(&quot;user&quot;, &quot;&lt;username&gt;&quot;) \\\n   .option(&quot;password&quot;, &quot;&lt;password&gt;&quot;) \\\n   .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;) \\\n   .load()\n\n##print the users dataframe\nprint(user_df.show())\n\n`\n</code></pre>\n<p>It keeps returning ModuleNotFoundError: No module named 'pyspark'\neven though I have tried installing it through pip and brew.</p>\n"},{"tags":["java","inheritance","subclass","instantiation"],"answers":[{"tags":[],"owner":{"account_id":1853502,"reputation":16211,"user_id":1679537,"accept_rate":82,"display_name":"xlecoustillier"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1680250264,"creation_date":1359715185,"answer_id":14644469,"question_id":14644442,"body_markdown":"Both work, and both create the same object in memory. But only the first one will allow you to use ChildClass additional specific properties or methods the ParentClass doesn&#39;t know about.\r\n\r\nExample :\r\n\r\n    abstract class ParentClass{\r\n       ...\r\n    }\r\n    \r\n    class ChildClass extends ParentClass {\r\n    \r\n       public void someChildMethod(){ ... }\r\n       ...\r\n    }\r\n    \r\n    ...\r\n    \r\n    \r\n    ChildClass obj1 = new ChildClass(5);\r\n    ParentClass obj2 = new ChildClass(5);\r\n    \r\n    obj1.someChildMethod(); // ok\r\n    obj2.someChildMethod(); // compilation error \r\n    ((ChildClass)obj2).someChildMethod(); // ok\r\n\r\nSo, use the second instantiation method only if you&#39;re sure you&#39;ll never need the specific child methods or properties, if any.","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<p>Both work, and both create the same object in memory. But only the first one will allow you to use ChildClass additional specific properties or methods the ParentClass doesn't know about.</p>\n<p>Example :</p>\n<pre><code>abstract class ParentClass{\n   ...\n}\n\nclass ChildClass extends ParentClass {\n\n   public void someChildMethod(){ ... }\n   ...\n}\n\n...\n\n\nChildClass obj1 = new ChildClass(5);\nParentClass obj2 = new ChildClass(5);\n\nobj1.someChildMethod(); // ok\nobj2.someChildMethod(); // compilation error \n((ChildClass)obj2).someChildMethod(); // ok\n</code></pre>\n<p>So, use the second instantiation method only if you're sure you'll never need the specific child methods or properties, if any.</p>\n"},{"tags":[],"owner":{"display_name":"user425367"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359715331,"creation_date":1359715331,"answer_id":14644509,"question_id":14644442,"body_markdown":" - If they have the same methods just that the child implements the\r\n   abstract method then there isn&#39;t any difference.\r\n - If you have added aditional methods the the child then thoose won&#39;t\r\n   be accessible if you declare it as a parent.","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<ul>\n<li>If they have the same methods just that the child implements the\nabstract method then there isn't any difference.</li>\n<li>If you have added aditional methods the the child then thoose won't\nbe accessible if you declare it as a parent.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359715451,"creation_date":1359715451,"answer_id":14644543,"question_id":14644442,"body_markdown":"The created object is effectively the same.\r\n\r\nThe first method allows you to use methods defined in the `ChildClass` and not in `ParentClass`. So\r\n\r\n       obj1.aMethodNotInParentClass();\r\n\r\ncompiles while\r\n\r\n       obj2.aMethodNotInParentClass();\r\n\r\ndoes not.\r\n\r\nAlternatively, using the second form allows you to replace the inner class with other implementation more easily. If you want to use `AnotherChildClass` instead of `ChildClass`, \r\n\r\n          ParentClass obj2 = new AnotherChildClass(5);\r\n\r\nis all the change you need to do (assuming classes are properly defined); using the first method will probably need some changes in other places of your code.\r\n\r\nAs a rule of thumb, define the variables as the more general class that defines(*) all the methods you need of the object. So, if you use any method of `ChildClass` that is not defined in `ParentClass`, use the first way, otherwise, use the second.\r\n\r\n(*) Note that I mention **definition**, not **implementation**. If you override a method in `ChildClass`, you will use that implementation because the object created is of that class.","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<p>The created object is effectively the same.</p>\n\n<p>The first method allows you to use methods defined in the <code>ChildClass</code> and not in <code>ParentClass</code>. So</p>\n\n<pre><code>   obj1.aMethodNotInParentClass();\n</code></pre>\n\n<p>compiles while</p>\n\n<pre><code>   obj2.aMethodNotInParentClass();\n</code></pre>\n\n<p>does not.</p>\n\n<p>Alternatively, using the second form allows you to replace the inner class with other implementation more easily. If you want to use <code>AnotherChildClass</code> instead of <code>ChildClass</code>, </p>\n\n<pre><code>      ParentClass obj2 = new AnotherChildClass(5);\n</code></pre>\n\n<p>is all the change you need to do (assuming classes are properly defined); using the first method will probably need some changes in other places of your code.</p>\n\n<p>As a rule of thumb, define the variables as the more general class that defines(*) all the methods you need of the object. So, if you use any method of <code>ChildClass</code> that is not defined in <code>ParentClass</code>, use the first way, otherwise, use the second.</p>\n\n<p>(*) Note that I mention <strong>definition</strong>, not <strong>implementation</strong>. If you override a method in <code>ChildClass</code>, you will use that implementation because the object created is of that class.</p>\n"},{"tags":[],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359715499,"creation_date":1359715499,"answer_id":14644563,"question_id":14644442,"body_markdown":"In memory the exact same object will be used. However, you can only use the variable `obj2` as if it contained a `ParentClass` object without taking for granted all the nice functionality of your `ChildClass` class. If `ChildClass` declares a method `f()`, but `ParentClass` does not, the call `obj2.f()` will not work - although the object in memory could be able to run the method perfectly well.","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<p>In memory the exact same object will be used. However, you can only use the variable <code>obj2</code> as if it contained a <code>ParentClass</code> object without taking for granted all the nice functionality of your <code>ChildClass</code> class. If <code>ChildClass</code> declares a method <code>f()</code>, but <code>ParentClass</code> does not, the call <code>obj2.f()</code> will not work - although the object in memory could be able to run the method perfectly well.</p>\n"},{"tags":[],"owner":{"account_id":1921722,"reputation":548,"user_id":1733075,"accept_rate":71,"display_name":"Horstinator"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359715542,"creation_date":1359715542,"answer_id":14644571,"question_id":14644442,"body_markdown":"The second alternative will only allow to use methods declared in the ParentClass. For example:\r\n\r\n    public class ParentClass {\r\n        public void doX() {}\r\n    }\r\n    \r\n    public class ChildClass {\r\n        public void doY() {}\r\n\r\n        public static void main() {\r\n            ParentClass p = new ChildClass();\r\n            ChildClass c = new ChildClass();\r\n            p.doX(); //works\r\n            c.doX(); //works\r\n\r\n            p.doY(); //not allowed\r\n            c.doY(); //works\r\n\r\n\r\n            ((ChildClass) p).doY(); //this way you cast the object to ChilClass and can use its methods.\r\n\r\n        }\r\n    }\r\n    ","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<p>The second alternative will only allow to use methods declared in the ParentClass. For example:</p>\n\n<pre><code>public class ParentClass {\n    public void doX() {}\n}\n\npublic class ChildClass {\n    public void doY() {}\n\n    public static void main() {\n        ParentClass p = new ChildClass();\n        ChildClass c = new ChildClass();\n        p.doX(); //works\n        c.doX(); //works\n\n        p.doY(); //not allowed\n        c.doY(); //works\n\n\n        ((ChildClass) p).doY(); //this way you cast the object to ChilClass and can use its methods.\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2222732,"reputation":33,"user_id":1961749,"display_name":"user1961749"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359739225,"creation_date":1359739225,"answer_id":14651645,"question_id":14644442,"body_markdown":"Yes there is a difference.\r\nThe first way uses dynamic binding to give you a child instance as a parent object. This only gives you the functionality of the parent object onto the child instance.\r\nThe second way will give you an instance of the child object as the child object, allowing you to use all of its methods and its parent objects methods rather than being limited to the methods of the parent class.","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<p>Yes there is a difference.\nThe first way uses dynamic binding to give you a child instance as a parent object. This only gives you the functionality of the parent object onto the child instance.\nThe second way will give you an instance of the child object as the child object, allowing you to use all of its methods and its parent objects methods rather than being limited to the methods of the parent class.</p>\n"}],"owner":{"account_id":969171,"reputation":3351,"user_id":992055,"accept_rate":93,"display_name":"Force444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2611,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14644469,"answer_count":6,"score":3,"last_activity_date":1680250264,"creation_date":1359715070,"question_id":14644442,"body_markdown":"Say I have a Class called `ParentClass` and a Class called `ChildClass`\r\n\r\nThe `ParentClass` is abstract and the `ChildClass` extends the `ParentClass` per Java terminology. Furthermore, the `ParentClass` has a constructor which takes an `int` as a parameter. Now in another class I want to instantiate the `ChildClass`. I have tried the two below ways:\r\n\r\n 1. `ChildClass obj1 = new ChildClass(5)`\r\n 2. `ParentClass obj2 = new ChildClass(5)`\r\n\r\nJava allows me to use any of the two above ways. My question is, is there actually any difference? Can I use the two, interchangeably if I want to ?\r\n","title":"When instantiating a (sub)Class, is there any difference in what &quot;type&quot; you declare the object as?","body":"<p>Say I have a Class called <code>ParentClass</code> and a Class called <code>ChildClass</code></p>\n\n<p>The <code>ParentClass</code> is abstract and the <code>ChildClass</code> extends the <code>ParentClass</code> per Java terminology. Furthermore, the <code>ParentClass</code> has a constructor which takes an <code>int</code> as a parameter. Now in another class I want to instantiate the <code>ChildClass</code>. I have tried the two below ways:</p>\n\n<ol>\n<li><code>ChildClass obj1 = new ChildClass(5)</code></li>\n<li><code>ParentClass obj2 = new ChildClass(5)</code></li>\n</ol>\n\n<p>Java allows me to use any of the two above ways. My question is, is there actually any difference? Can I use the two, interchangeably if I want to ?</p>\n"},{"tags":["java","testing","junit","tdd","amazon-web-services"],"comments":[{"owner":{"account_id":8987277,"reputation":114,"user_id":6700463,"display_name":"Bartosz Piorunski"},"score":0,"creation_date":1559158321,"post_id":6247018,"comment_id":99338561,"body_markdown":"Straight from AWS! Version 1: https://github.com/aws/aws-sdk-java/tree/master/aws-java-sdk-test-utils Version 2: https://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils I guess these are Amazon internal test tools. Unfortunately I don&#39;t see the docs.","body":"Straight from AWS! Version 1: <a href=\"https://github.com/aws/aws-sdk-java/tree/master/aws-java-sdk-test-utils\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java/tree/master/aws-java-sdk-test-ut&zwnj;&#8203;ils</a> Version 2: <a href=\"https://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils</a> I guess these are Amazon internal test tools. Unfortunately I don&#39;t see the docs."}],"answers":[{"tags":[],"owner":{"account_id":494,"reputation":14568,"user_id":636,"accept_rate":75,"display_name":"Brian Lyttle"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1307322989,"creation_date":1307322989,"answer_id":6247037,"question_id":6247018,"body_markdown":"I&#39;m not a Java programmer but you probably want to look into [mocking][1]. There is a SoapUI tool called [MockService][2] that appears to allow mocking of an external service like those provided by AWS.\r\n\r\n\r\n  [1]: http://onjava.com/pub/a/onjava/2004/02/11/mocks.html\r\n  [2]: http://www.soapui.org/Service-Mocking/mocking-soap-services.html","title":"How do you test code written against AWS API","body":"<p>I'm not a Java programmer but you probably want to look into <a href=\"http://onjava.com/pub/a/onjava/2004/02/11/mocks.html\" rel=\"nofollow\">mocking</a>. There is a SoapUI tool called <a href=\"http://www.soapui.org/Service-Mocking/mocking-soap-services.html\" rel=\"nofollow\">MockService</a> that appears to allow mocking of an external service like those provided by AWS.</p>\n"},{"comments":[{"owner":{"account_id":61754,"reputation":3594,"user_id":183871,"accept_rate":94,"display_name":"Nayn"},"score":1,"creation_date":1313518372,"post_id":6247061,"comment_id":8477598,"body_markdown":"Could you give some sample code of such thin S3 wrapper?","body":"Could you give some sample code of such thin S3 wrapper?"}],"tags":[],"owner":{"account_id":385369,"reputation":28737,"user_id":742469,"accept_rate":92,"display_name":"Op De Cirkel"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1441113254,"creation_date":1307323334,"answer_id":6247061,"question_id":6247018,"body_markdown":"The actual uploading and the tests that are doing it are part of your _integration testing_, not the _unit testing_. If you wrap the S3 API in a very thin class, you will mock that class for unit testing of your business classes, and you will use the real implementation for integration testing.  \r\nIf you have decided, your  _business_ classes to take directly the _AmazonS3 interface_, then for unit testing you have to mock that one.\r\n\r\nThe actual _exploratory testing_ (learning and verifying) if and how amazon s3 works is what you actually do in separate experimental setup.\r\n\r\nP.S.  I do not recommend using the AmazonS3 interface directly in your business classes, rather, wrap it in a thin interface of yours, so that if you decide to change the &#39;back-end storage&#39; you can easily change it.","title":"How do you test code written against AWS API","body":"<p>The actual uploading and the tests that are doing it are part of your <em>integration testing</em>, not the <em>unit testing</em>. If you wrap the S3 API in a very thin class, you will mock that class for unit testing of your business classes, and you will use the real implementation for integration testing.<br>\nIf you have decided, your  <em>business</em> classes to take directly the <em>AmazonS3 interface</em>, then for unit testing you have to mock that one.</p>\n\n<p>The actual <em>exploratory testing</em> (learning and verifying) if and how amazon s3 works is what you actually do in separate experimental setup.</p>\n\n<p>P.S.  I do not recommend using the AmazonS3 interface directly in your business classes, rather, wrap it in a thin interface of yours, so that if you decide to change the 'back-end storage' you can easily change it.</p>\n"},{"tags":[],"owner":{"account_id":114038,"reputation":4244,"user_id":300053,"display_name":"eskatos"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471036394,"creation_date":1382091747,"answer_id":19447286,"question_id":6247018,"body_markdown":"Op De Cirkel answer is good in unit testing scope but if you are writing framework support or simply **need** to run the AWS S3 calls during your tests, you can run any service that offer AWS compatible APIs. [OpenStack][1] is one of them and can be run in a virtual machine (see [DevStack][2]).\r\n\r\nOr you can choose from a variety of test-oriented tools that provide AWS compatible APIs.\r\n\r\nHere are some that expose S3 service:\r\n\r\n- [S3Ninja][3] (actually written in Java)\r\n- [FakeS3][4] (ruby)\r\n- [s3mock][5] (Scala with Java API)\r\n\r\n\r\n  [1]: http://www.openstack.org/\r\n  [2]: http://devstack.org/\r\n  [3]: http://s3ninja.net/\r\n  [4]: https://github.com/jubos/fake-s3\r\n  [5]: https://github.com/findify/s3mock","title":"How do you test code written against AWS API","body":"<p>Op De Cirkel answer is good in unit testing scope but if you are writing framework support or simply <strong>need</strong> to run the AWS S3 calls during your tests, you can run any service that offer AWS compatible APIs. <a href=\"http://www.openstack.org/\" rel=\"nofollow\">OpenStack</a> is one of them and can be run in a virtual machine (see <a href=\"http://devstack.org/\" rel=\"nofollow\">DevStack</a>).</p>\n\n<p>Or you can choose from a variety of test-oriented tools that provide AWS compatible APIs.</p>\n\n<p>Here are some that expose S3 service:</p>\n\n<ul>\n<li><a href=\"http://s3ninja.net/\" rel=\"nofollow\">S3Ninja</a> (actually written in Java)</li>\n<li><a href=\"https://github.com/jubos/fake-s3\" rel=\"nofollow\">FakeS3</a> (ruby)</li>\n<li><a href=\"https://github.com/findify/s3mock\" rel=\"nofollow\">s3mock</a> (Scala with Java API)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3300509,"reputation":497,"user_id":2776806,"display_name":"whummer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477859190,"creation_date":1477859190,"answer_id":40333286,"question_id":6247018,"body_markdown":"You could take a look at [LocalStack][1], a framework that spins up a fully functional local cloud environment for integration testing.\r\n\r\nLocalStack provides a subset of the AWS cloud services, including S3, Kinesis, Lambda, DynamoDB, and more.\r\n\r\n[1]: https://github.com/atlassian/localstack\r\n","title":"How do you test code written against AWS API","body":"<p>You could take a look at <a href=\"https://github.com/atlassian/localstack\" rel=\"nofollow\">LocalStack</a>, a framework that spins up a fully functional local cloud environment for integration testing.</p>\n\n<p>LocalStack provides a subset of the AWS cloud services, including S3, Kinesis, Lambda, DynamoDB, and more.</p>\n"},{"tags":[],"owner":{"account_id":2630692,"reputation":370,"user_id":2787469,"display_name":"Hrishikesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479113949,"creation_date":1479113949,"answer_id":40584975,"question_id":6247018,"body_markdown":"As suggested in above answer better approach be mock AWS API response. Another alternative to get the illusion of API action is, to invoke AWS SDK or API with dry run mode/parameter.\r\nBut you may require internet access while executing the tests.\r\n\r\nhttp://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/DryRunResult.html\r\n","title":"How do you test code written against AWS API","body":"<p>As suggested in above answer better approach be mock AWS API response. Another alternative to get the illusion of API action is, to invoke AWS SDK or API with dry run mode/parameter.\nBut you may require internet access while executing the tests.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/DryRunResult.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/DryRunResult.html</a></p>\n"},{"tags":[],"owner":{"account_id":5629831,"reputation":100,"user_id":4457087,"display_name":"igonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485779181,"creation_date":1485779181,"answer_id":41935922,"question_id":6247018,"body_markdown":"The question was answered long time ago but I would like to comment another approach.\r\n\r\nDuring my testing in different Python projects I&#39;ve been using [this library][1]. I&#39;ve found it very useful, even if you&#39;re developing with other languages like Java or Scala because you can setup a background server and mock all the AWS calls.\r\n\r\nYou can find more information about &quot;Stand-alone Server Mode&quot; at the end of the README.\r\n\r\n  [1]: https://github.com/spulec/moto","title":"How do you test code written against AWS API","body":"<p>The question was answered long time ago but I would like to comment another approach.</p>\n\n<p>During my testing in different Python projects I've been using <a href=\"https://github.com/spulec/moto\" rel=\"nofollow noreferrer\">this library</a>. I've found it very useful, even if you're developing with other languages like Java or Scala because you can setup a background server and mock all the AWS calls.</p>\n\n<p>You can find more information about \"Stand-alone Server Mode\" at the end of the README.</p>\n"}],"owner":{"account_id":347214,"reputation":1614,"user_id":681188,"accept_rate":75,"display_name":"BrianJakovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22698,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"closed_date":1559160469,"accepted_answer_id":6247061,"answer_count":6,"score":21,"last_activity_date":1680249926,"creation_date":1307322696,"question_id":6247018,"body_markdown":"I&#39;m writing an application in Java that will upload a file up to AWS S3. The file will be given to the application in an argument, not hardcoded. I&#39;d like to write tests to ensure that the file actually gets uploaded to S3. The test will be written before the code for TDD. (I have actually already written the code, but I&#39;d like to ingrain TDD practices into all of my work as a habit)\r\n\r\nHow exactly would I go about doing this? I will be using JUnit as that&#39;s what I&#39;m most familiar with.\r\n\r\n","title":"How do you test code written against AWS API","body":"<p>I'm writing an application in Java that will upload a file up to AWS S3. The file will be given to the application in an argument, not hardcoded. I'd like to write tests to ensure that the file actually gets uploaded to S3. The test will be written before the code for TDD. (I have actually already written the code, but I'd like to ingrain TDD practices into all of my work as a habit)</p>\n<p>How exactly would I go about doing this? I will be using JUnit as that's what I'm most familiar with.</p>\n"},{"tags":["java","pmd"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1382388649,"post_id":19504404,"comment_id":28932763,"body_markdown":"Is that the message that `pmd` gives you? Is it considered a warning?","body":"Is that the message that <code>pmd</code> gives you? Is it considered a warning?"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1382390482,"post_id":19504404,"comment_id":28933721,"body_markdown":"Are you sure you are not calling a `setChildValue()` from the ctor?","body":"Are you sure you are not calling a <code>setChildValue()</code> from the ctor?"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382389961,"creation_date":1382389452,"answer_id":19504689,"question_id":19504404,"body_markdown":"Perhaps you could follow follow Java&#39;s Naming Conventions and also make the `Child` class `final` \r\n\r\n    public final class Child extends Parent {","title":"PMD Overridable method called during object construction","body":"<p>Perhaps you could follow follow Java's Naming Conventions and also make the <code>Child</code> class <code>final</code> </p>\n\n<pre><code>public final class Child extends Parent {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1382390047,"creation_date":1382390047,"answer_id":19504865,"question_id":19504404,"body_markdown":"The PMD [rule][1] says:\r\n\r\n&gt; Calling overridable methods during construction poses a risk of invoking methods on an incompletely constructed object and can be difficult to debug. It may leave the sub-class unable to construct its superclass or forced to replicate the construction process completely within itself, losing the ability to call `super()`. If the default constructor contains a call to an overridable method, the subclass may be completely uninstantiable. Note that this includes method calls throughout the control flow graph - i.e., if a constructor `Foo()` calls a private method `bar()` that calls a public method `buz()`, this denotes a problem.\r\n\r\nExample:\r\n\r\n\tpublic class SeniorClass {\r\n\t  public SeniorClass(){\r\n\t\t  toString(); //may throw NullPointerException if overridden\r\n\t  }\r\n\t  public String toString(){\r\n\t\treturn &quot;IAmSeniorClass&quot;;\r\n\t  }\r\n\t}\r\n\tpublic class JuniorClass extends SeniorClass {\r\n\t  private String name;\r\n\t  public JuniorClass(){\r\n\t\tsuper(); //Automatic call leads to NullPointerException\r\n\t\tname = &quot;JuniorClass&quot;;\r\n\t  }\r\n\t  public String toString(){\r\n\t\treturn name.toUpperCase();\r\n\t  }\r\n\t}\r\n\r\n&lt;h3&gt;Solution&lt;/h3&gt;\r\n\r\nDelete any call to overridable methods in the constructor or add the `final` modifier to that methods.\r\n\r\n\r\n  [1]: http://pmd.sourceforge.net/pmd-5.0.5/rules/java/design.html#ConstructorCallsOverridableMethod","title":"PMD Overridable method called during object construction","body":"<p>The PMD <a href=\"http://pmd.sourceforge.net/pmd-5.0.5/rules/java/design.html#ConstructorCallsOverridableMethod\">rule</a> says:</p>\n\n<blockquote>\n  <p>Calling overridable methods during construction poses a risk of invoking methods on an incompletely constructed object and can be difficult to debug. It may leave the sub-class unable to construct its superclass or forced to replicate the construction process completely within itself, losing the ability to call <code>super()</code>. If the default constructor contains a call to an overridable method, the subclass may be completely uninstantiable. Note that this includes method calls throughout the control flow graph - i.e., if a constructor <code>Foo()</code> calls a private method <code>bar()</code> that calls a public method <code>buz()</code>, this denotes a problem.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>public class SeniorClass {\n  public SeniorClass(){\n      toString(); //may throw NullPointerException if overridden\n  }\n  public String toString(){\n    return \"IAmSeniorClass\";\n  }\n}\npublic class JuniorClass extends SeniorClass {\n  private String name;\n  public JuniorClass(){\n    super(); //Automatic call leads to NullPointerException\n    name = \"JuniorClass\";\n  }\n  public String toString(){\n    return name.toUpperCase();\n  }\n}\n</code></pre>\n\n<h3>Solution</h3>\n\n<p>Delete any call to overridable methods in the constructor or add the <code>final</code> modifier to that methods.</p>\n"},{"tags":[],"owner":{"account_id":127651,"reputation":600,"user_id":2083560,"display_name":"Pierrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680249752,"creation_date":1680248884,"answer_id":75896059,"question_id":19504404,"body_markdown":"There are most likely 2 ways to fix this issue.\r\n\r\n1. Can you indeed make the method that are called in the constructor as `final`, but it comes with the drawback that subclasses would not be able to override the final method.\r\n2. To create a private method used in constructor and overridable method, see snippet bellow.\r\n\r\n----------\r\n\r\n    public class Parent {\r\n      \r\n      private int counter;\r\n      public Parent() {\r\n        // setCounter(0); // this line raise the PMD warning\r\n        updateCounter(0);\r\n      }\r\n      private void updateCounter(int counter) {\r\n        this.counter = counter;\r\n      }\r\n\r\n      public void setCounter(int counter) {\r\n        updateCounter(counter);\r\n      }\r\n\r\n    }\r\n\r\n    public class Child extends Parent {\r\n      \r\n      public void setCounter(int counter) {\r\n        super.setCounter(counter);\r\n        // do other stuff\r\n\r\n      }\r\n      \r\n    }","title":"PMD Overridable method called during object construction","body":"<p>There are most likely 2 ways to fix this issue.</p>\n<ol>\n<li>Can you indeed make the method that are called in the constructor as <code>final</code>, but it comes with the drawback that subclasses would not be able to override the final method.</li>\n<li>To create a private method used in constructor and overridable method, see snippet bellow.</li>\n</ol>\n<hr />\n<pre><code>public class Parent {\n  \n  private int counter;\n  public Parent() {\n    // setCounter(0); // this line raise the PMD warning\n    updateCounter(0);\n  }\n  private void updateCounter(int counter) {\n    this.counter = counter;\n  }\n\n  public void setCounter(int counter) {\n    updateCounter(counter);\n  }\n\n}\n\npublic class Child extends Parent {\n  \n  public void setCounter(int counter) {\n    super.setCounter(counter);\n    // do other stuff\n\n  }\n  \n}\n</code></pre>\n"}],"owner":{"account_id":2904842,"reputation":573,"user_id":2490510,"accept_rate":52,"display_name":"User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11744,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":19504865,"answer_count":3,"score":12,"last_activity_date":1680249752,"creation_date":1382388533,"question_id":19504404,"body_markdown":"I have the following structure \r\n\r\n    public class parent {\r\n        int value ; \r\n    }\r\n\r\n    public class child extends parent {\r\n        int childValue;\r\n        public child(){}\r\n        public child (int value){\r\n              this.childValue = value ; // this line cause ConstructorCallsOverridableMethod warning during object construction\r\n        }\r\n    }\r\n\r\n\r\nCould you please advice how to solve this error ?","title":"PMD Overridable method called during object construction","body":"<p>I have the following structure </p>\n\n<pre><code>public class parent {\n    int value ; \n}\n\npublic class child extends parent {\n    int childValue;\n    public child(){}\n    public child (int value){\n          this.childValue = value ; // this line cause ConstructorCallsOverridableMethod warning during object construction\n    }\n}\n</code></pre>\n\n<p>Could you please advice how to solve this error ?</p>\n"},{"tags":["java","inheritance","interface","java-8","default-method"],"comments":[{"owner":{"account_id":1458423,"reputation":5361,"user_id":1373425,"accept_rate":79,"display_name":"Maciej Cygan"},"score":0,"creation_date":1384429203,"post_id":19976487,"comment_id":29737619,"body_markdown":"Can you tell me why you have implementation to your foo() method inside you interface A ??.","body":"Can you tell me why you have implementation to your foo() method inside you interface A ??."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":24,"creation_date":1384429281,"post_id":19976487,"comment_id":29737651,"body_markdown":"@MaciejCygan It&#39;s allowed in Java 8","body":"@MaciejCygan It&#39;s allowed in Java 8"}],"answers":[{"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":11,"creation_date":1384428968,"post_id":19976572,"comment_id":29737478,"body_markdown":"OP says: &quot;[is it] possible to explicitly invoke the default implementation of a method when that method has been overridden&quot;","body":"OP says: &quot;[is it] possible to explicitly invoke the default implementation of a method when that method has been overridden&quot;"}],"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1505396267,"creation_date":1384428785,"answer_id":19976572,"question_id":19976487,"body_markdown":"You don&#39;t need to override the default method of an interface. Just call it like the following:\r\n\r\n    public class B implements A {\r\n    \r\n        @Override\r\n        public void foo() {\r\n            System.out.println(&quot;B.foo&quot;);\r\n        }\r\n    \r\n        public void afoo() {\r\n            A.super.foo();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n           B b=new B();\r\n           b.afoo();\r\n        }\r\n    }\r\n\r\n**Output:**  \r\n\r\n&gt;A.foo","title":"Explicitly calling a default method in Java","body":"<p>You don't need to override the default method of an interface. Just call it like the following:</p>\n\n<pre><code>public class B implements A {\n\n    @Override\n    public void foo() {\n        System.out.println(\"B.foo\");\n    }\n\n    public void afoo() {\n        A.super.foo();\n    }\n\n    public static void main(String[] args) {\n       B b=new B();\n       b.afoo();\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong>  </p>\n\n<blockquote>\n  <p>A.foo</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1677076,"reputation":19026,"user_id":1542343,"accept_rate":84,"display_name":"gvlasov"},"score":29,"creation_date":1432552513,"post_id":19976615,"comment_id":48957324,"body_markdown":"Also note that if `A extends SomeOtherInterface`, and `SomeOtherInterface` has `default Type method()`, then you can&#39;t just call `SomeOtherInterface.super.method()` from ChildClass. You can only call default methods of interfaces enumerated in the `ChildClass`&#39;s `implements` clause, not their parent interfaces&#39; methods.","body":"Also note that if <code>A extends SomeOtherInterface</code>, and <code>SomeOtherInterface</code> has <code>default Type method()</code>, then you can&#39;t just call <code>SomeOtherInterface.super.method()</code> from ChildClass. You can only call default methods of interfaces enumerated in the <code>ChildClass</code>&#39;s <code>implements</code> clause, not their parent interfaces&#39; methods."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1432552723,"post_id":19976615,"comment_id":48957408,"body_markdown":"@Suseika good point, the same as there is no `super.super.someMethod();` (because that would be horrible)","body":"@Suseika good point, the same as there is no <code>super.super.someMethod();</code> (because that would be horrible)"},{"owner":{"account_id":4682893,"reputation":1996,"user_id":3791156,"display_name":"Raaghu"},"score":2,"creation_date":1514889045,"post_id":19976615,"comment_id":83090828,"body_markdown":"@gvlasov good point , but how to access a parent interface&#39;s default method from a child interface , is it possible ??\nUpdate..........\nYes Possible , the more concrete explanation here https://stackoverflow.com/a/24280376/3791156","body":"@gvlasov good point , but how to access a parent interface&#39;s default method from a child interface , is it possible ?? Update.......... Yes Possible , the more concrete explanation here <a href=\"https://stackoverflow.com/a/24280376/3791156\">stackoverflow.com/a/24280376/3791156</a>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1565283998,"post_id":19976615,"comment_id":101314852,"body_markdown":"@RichardTingle flawless answer!","body":"@RichardTingle flawless answer!"},{"owner":{"account_id":10649496,"reputation":633,"user_id":8211365,"display_name":"tejasvi88"},"score":0,"creation_date":1623332068,"post_id":19976615,"comment_id":120053571,"body_markdown":"What is the rationale behind `Interface.super.method()`? Why not simply `Interface.method()`?","body":"What is the rationale behind <code>Interface.super.method()</code>? Why not simply <code>Interface.method()</code>?"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1623334104,"post_id":19976615,"comment_id":120054713,"body_markdown":"@tejasvi88 `Interface.method()` would imply a static method in `Interface`. It is a &quot;kind of super&quot; so the super part is arguably the most important","body":"@tejasvi88 <code>Interface.method()</code> would imply a static method in <code>Interface</code>. It is a &quot;kind of super&quot; so the super part is arguably the most important"},{"owner":{"account_id":7531617,"reputation":159,"user_id":5719570,"display_name":"Satrajit A"},"score":0,"creation_date":1660155947,"post_id":19976615,"comment_id":129468707,"body_markdown":"Also note, in this example, you cannot skip overriding `foo()` in `ChildClass` since it creates a conflict as both the interface has default implementation of same method.","body":"Also note, in this example, you cannot skip overriding <code>foo()</code> in <code>ChildClass</code> since it creates a conflict as both the interface has default implementation of same method."}],"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":7,"down_vote_count":0,"up_vote_count":473,"is_accepted":true,"score":473,"last_activity_date":1518304852,"creation_date":1384428937,"answer_id":19976615,"question_id":19976487,"body_markdown":"As per [this article][1] you access default method in interface `A` using\r\n\r\n    A.super.foo();\r\n\r\nThis could be used as follows (assuming interfaces `A` and `C` both have default methods `foo()`)\r\n\r\n    public class ChildClass implements A, C {\r\n        @Override    \r\n        public void foo() {\r\n           //you could completely override the default implementations\r\n           doSomethingElse();\r\n           //or manage conflicts between the same method foo() in both A and C\r\n           A.super.foo();\r\n        }\r\n        public void bah() {\r\n           A.super.foo(); //original foo() from A accessed\r\n           C.super.foo(); //original foo() from C accessed\r\n        }\r\n    }\r\n\r\n`A` and `C` can both have `.foo()` methods and the specific default implementation can be chosen or you can use one (or both) as part of your new `foo()` method. You can also use the same syntax to access the default versions in other methods in your implementing class.\r\n\r\nFormal description of the method invocation syntax can be found in the [chapter 15 of the JLS][2].\r\n\r\n\r\n  [1]: http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12","title":"Explicitly calling a default method in Java","body":"<p>As per <a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/\" rel=\"noreferrer\">this article</a> you access default method in interface <code>A</code> using</p>\n\n<pre><code>A.super.foo();\n</code></pre>\n\n<p>This could be used as follows (assuming interfaces <code>A</code> and <code>C</code> both have default methods <code>foo()</code>)</p>\n\n<pre><code>public class ChildClass implements A, C {\n    @Override    \n    public void foo() {\n       //you could completely override the default implementations\n       doSomethingElse();\n       //or manage conflicts between the same method foo() in both A and C\n       A.super.foo();\n    }\n    public void bah() {\n       A.super.foo(); //original foo() from A accessed\n       C.super.foo(); //original foo() from C accessed\n    }\n}\n</code></pre>\n\n<p><code>A</code> and <code>C</code> can both have <code>.foo()</code> methods and the specific default implementation can be chosen or you can use one (or both) as part of your new <code>foo()</code> method. You can also use the same syntax to access the default versions in other methods in your implementing class.</p>\n\n<p>Formal description of the method invocation syntax can be found in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12\" rel=\"noreferrer\">chapter 15 of the JLS</a>.</p>\n"},{"comments":[{"owner":{"account_id":9985545,"reputation":169,"user_id":7386881,"display_name":"Hemanth Peela"},"score":0,"creation_date":1549819862,"post_id":19976717,"comment_id":96030977,"body_markdown":"I think this is best example which describes the above question. Thanks","body":"I think this is best example which describes the above question. Thanks"}],"tags":[],"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1505397709,"creation_date":1384429214,"answer_id":19976717,"question_id":19976487,"body_markdown":"The code below should work.\r\n\r\n    public class B implements A {\r\n        @Override\r\n        public void foo() {\r\n            System.out.println(&quot;B.foo&quot;);\r\n        }\r\n\r\n        void aFoo() {\r\n            A.super.foo();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n            b.foo();\r\n            b.aFoo();\r\n        }\r\n    }\r\n\r\n    interface A {\r\n        default void foo() {\r\n            System.out.println(&quot;A.foo&quot;);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    B.foo\r\n    A.foo","title":"Explicitly calling a default method in Java","body":"<p>The code below should work.</p>\n\n<pre><code>public class B implements A {\n    @Override\n    public void foo() {\n        System.out.println(\"B.foo\");\n    }\n\n    void aFoo() {\n        A.super.foo();\n    }\n\n    public static void main(String[] args) {\n        B b = new B();\n        b.foo();\n        b.aFoo();\n    }\n}\n\ninterface A {\n    default void foo() {\n        System.out.println(\"A.foo\");\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>B.foo\nA.foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1607198232,"creation_date":1526838590,"answer_id":50437763,"question_id":19976487,"body_markdown":"This answer is written mainly for users who are coming from question [45047550][1] which is closed.\r\n\r\nJava 8 interfaces introduce some aspects of multiple inheritance. Default methods have an implemented function body. To call a method from the super class you can use the keyword `super`, but if you want to make this with a super interface it&#39;s required to name it explicitly.\r\n\r\n    class ParentClass {\r\n        public void hello() {\r\n            System.out.println(&quot;Hello ParentClass!&quot;);\r\n        }\r\n    }\r\n\r\n    interface InterfaceFoo {\r\n        public default void hello() {\r\n            System.out.println(&quot;Hello InterfaceFoo!&quot;);\r\n        }\r\n    }\r\n\r\n    interface InterfaceBar {\r\n        public default void hello() {\r\n            System.out.println(&quot;Hello InterfaceBar!&quot;);\r\n        }\r\n    }\r\n\r\n    public class Example extends ParentClass implements InterfaceFoo, InterfaceBar {\r\n        public void hello() {\r\n            super.hello(); // (note: ParentClass.super could not be used)\r\n            InterfaceFoo.super.hello();\r\n            InterfaceBar.super.hello();\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            new Example().hello();\r\n        }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n&gt; Hello ParentClass!&lt;br /&gt;\r\n&gt; Hello InterfaceFoo!&lt;br /&gt;\r\n&gt; Hello InterfaceBar!\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45047550/what-is-classname-super-method-means?noredirect=1&amp;lq=1","title":"Explicitly calling a default method in Java","body":"<p>This answer is written mainly for users who are coming from question <a href=\"https://stackoverflow.com/questions/45047550/what-is-classname-super-method-means?noredirect=1&amp;lq=1\">45047550</a> which is closed.</p>\n<p>Java 8 interfaces introduce some aspects of multiple inheritance. Default methods have an implemented function body. To call a method from the super class you can use the keyword <code>super</code>, but if you want to make this with a super interface it's required to name it explicitly.</p>\n<pre><code>class ParentClass {\n    public void hello() {\n        System.out.println(&quot;Hello ParentClass!&quot;);\n    }\n}\n\ninterface InterfaceFoo {\n    public default void hello() {\n        System.out.println(&quot;Hello InterfaceFoo!&quot;);\n    }\n}\n\ninterface InterfaceBar {\n    public default void hello() {\n        System.out.println(&quot;Hello InterfaceBar!&quot;);\n    }\n}\n\npublic class Example extends ParentClass implements InterfaceFoo, InterfaceBar {\n    public void hello() {\n        super.hello(); // (note: ParentClass.super could not be used)\n        InterfaceFoo.super.hello();\n        InterfaceBar.super.hello();\n    }\n    \n    public static void main(String[] args) {\n        new Example().hello();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<blockquote>\n<p>Hello ParentClass!<br />\nHello InterfaceFoo!<br />\nHello InterfaceBar!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6079744,"reputation":425,"user_id":4745890,"display_name":"Utpal Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609571563,"creation_date":1609571563,"answer_id":65536808,"question_id":19976487,"body_markdown":"It depends on your choice whether you want to override the default method of an interface or not. Because default are similar to instance method of a class which can be directly called upon the implementing class object. (In short default method of an interface is inherited by implementing class)","title":"Explicitly calling a default method in Java","body":"<p>It depends on your choice whether you want to override the default method of an interface or not. Because default are similar to instance method of a class which can be directly called upon the implementing class object. (In short default method of an interface is inherited by implementing class)</p>\n"},{"tags":[],"owner":{"account_id":8706767,"reputation":1881,"user_id":6514464,"display_name":"Nomeswaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619228034,"creation_date":1619228034,"answer_id":67238577,"question_id":19976487,"body_markdown":"Consider the following example:\r\n\r\n    interface I{\r\n        default void print(){\r\n        System.out.println(&quot;Interface&quot;);\r\n        }\r\n    }\r\n    \r\n    abstract class Abs{\r\n        public void print(){\r\n            System.out.println(&quot;Abstract&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Test extends Abs implements I{\r\n    \r\n        public static void main(String[] args) throws ExecutionException, InterruptedException \r\n        {\r\n    \r\n            Test t = new Test();\r\n            t.print();// calls Abstract&#39;s print method and How to call interface&#39;s defaut method?\r\n         }\r\n    }","title":"Explicitly calling a default method in Java","body":"<p>Consider the following example:</p>\n<pre><code>interface I{\n    default void print(){\n    System.out.println(&quot;Interface&quot;);\n    }\n}\n\nabstract class Abs{\n    public void print(){\n        System.out.println(&quot;Abstract&quot;);\n    }\n\n}\n\npublic class Test extends Abs implements I{\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException \n    {\n\n        Test t = new Test();\n        t.print();// calls Abstract's print method and How to call interface's defaut method?\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16300382,"reputation":1,"user_id":11771657,"display_name":"Karthik Gunasekaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680249736,"creation_date":1680248490,"answer_id":75896014,"question_id":19976487,"body_markdown":"Invoking default method of Java8 Functional Interface \r\n```\r\n@Functional Interface\r\ninterface Process {\r\n   String preInit();\r\n   default String postInit() {\r\n       return &quot;PostInit&quot;;\r\n   }\r\n}\r\n\r\npublic class ProcessImpl {\r\n  Process process = () -&gt; (&quot;PreInit&quot;);\r\n  String preInit = process.preInit();\r\n  String postInit = process.postInit(); // Calling default method &quot;postInit()&quot; from functional interface\r\n  System.out.println(preInit);\r\n  System.out.println(postInit);\r\n}\r\n\r\nOutput:\r\nPreInit\r\nPostInit\r\n```","title":"Explicitly calling a default method in Java","body":"<p>Invoking default method of Java8 Functional Interface</p>\n<pre><code>@Functional Interface\ninterface Process {\n   String preInit();\n   default String postInit() {\n       return &quot;PostInit&quot;;\n   }\n}\n\npublic class ProcessImpl {\n  Process process = () -&gt; (&quot;PreInit&quot;);\n  String preInit = process.preInit();\n  String postInit = process.postInit(); // Calling default method &quot;postInit()&quot; from functional interface\n  System.out.println(preInit);\n  System.out.println(postInit);\n}\n\nOutput:\nPreInit\nPostInit\n</code></pre>\n"}],"owner":{"account_id":1088492,"reputation":43453,"user_id":1083663,"accept_rate":69,"display_name":"GOTO 0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103271,"favorite_count":0,"down_vote_count":0,"up_vote_count":346,"accepted_answer_id":19976615,"answer_count":7,"score":346,"last_activity_date":1680249736,"creation_date":1384428472,"question_id":19976487,"body_markdown":"Java 8 introduces [default methods][1] to provide the ability to extend interfaces without the need to modify existing implementations.\r\n\r\nI wonder if it&#39;s possible to explicitly invoke the default implementation of a method when that method has been overridden or is not available because of conflicting default implementations in different interfaces.\r\n\r\n    interface A {\r\n        default void foo() {\r\n            System.out.println(&quot;A.foo&quot;);\r\n        }\r\n    }\r\n    \r\n    class B implements A {\r\n        @Override\r\n        public void foo() {\r\n            System.out.println(&quot;B.foo&quot;);\r\n        }\r\n        public void afoo() {\r\n            // how to invoke A.foo() here?\r\n        }\r\n    }\r\n\r\nConsidering the code above, how would you call `A.foo()` from a method of class B?\r\n\r\n  [1]: http://cr.openjdk.java.net/~dlsmith/jsr335/jsr335-0.6.2/H.html\r\n","title":"Explicitly calling a default method in Java","body":"<p>Java 8 introduces <a href=\"http://cr.openjdk.java.net/~dlsmith/jsr335/jsr335-0.6.2/H.html\" rel=\"noreferrer\">default methods</a> to provide the ability to extend interfaces without the need to modify existing implementations.</p>\n\n<p>I wonder if it's possible to explicitly invoke the default implementation of a method when that method has been overridden or is not available because of conflicting default implementations in different interfaces.</p>\n\n<pre><code>interface A {\n    default void foo() {\n        System.out.println(\"A.foo\");\n    }\n}\n\nclass B implements A {\n    @Override\n    public void foo() {\n        System.out.println(\"B.foo\");\n    }\n    public void afoo() {\n        // how to invoke A.foo() here?\n    }\n}\n</code></pre>\n\n<p>Considering the code above, how would you call <code>A.foo()</code> from a method of class B?</p>\n"},{"tags":["java","jwt","sign","hashicorp-vault","hsm"],"answers":[{"tags":[],"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680249668,"creation_date":1680249668,"answer_id":75896156,"question_id":62150457,"body_markdown":"You can use nimbus library for this purpose. \r\n\r\nimplementation &quot;com.nimbusds:oauth2-oidc-sdk:10.4&quot;\r\n\r\nAnd you should add Provider \r\n\r\n    private JWSSigner getJWSSigner(PrivateKey privateKey) throws JOSEException {\r\n            JWSSigner jwsSigner = new ECDSASigner(privateKey, Curve.P_384);\r\n    \r\n            jwsSigner.getJCAContext().setProvider(HSMProvider);\r\n            return jwsSigner;\r\n        }\r\n\r\n","title":"Java jjwt externalize signing of the token using HSM or vault","body":"<p>You can use nimbus library for this purpose.</p>\n<p>implementation &quot;com.nimbusds:oauth2-oidc-sdk:10.4&quot;</p>\n<p>And you should add Provider</p>\n<pre><code>private JWSSigner getJWSSigner(PrivateKey privateKey) throws JOSEException {\n        JWSSigner jwsSigner = new ECDSASigner(privateKey, Curve.P_384);\n\n        jwsSigner.getJCAContext().setProvider(HSMProvider);\n        return jwsSigner;\n    }\n</code></pre>\n"}],"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680249668,"creation_date":1591095420,"question_id":62150457,"body_markdown":"I have a jjwt for generating tokens in my Spring Boot app:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe token is created as\r\n\r\n    Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\r\n    \t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + JWT_TOKEN_VALIDITY * 1000))\r\n    \t\t\t\t.signWith(SignatureAlgorithm.HS512, secret).compact();\r\n\r\nI would like to however use HSM or vault for signing the token.\r\nHow the signing process of jjwt can be externalized?\r\n\r\nBasically I would like to replace `.signWith` with implementation of signing on HSM or vault.","title":"Java jjwt externalize signing of the token using HSM or vault","body":"<p>I have a jjwt for generating tokens in my Spring Boot app:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n    &lt;version&gt;0.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The token is created as</p>\n\n<pre><code>Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + JWT_TOKEN_VALIDITY * 1000))\n                .signWith(SignatureAlgorithm.HS512, secret).compact();\n</code></pre>\n\n<p>I would like to however use HSM or vault for signing the token.\nHow the signing process of jjwt can be externalized?</p>\n\n<p>Basically I would like to replace <code>.signWith</code> with implementation of signing on HSM or vault.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":13112276,"reputation":353,"user_id":9472846,"display_name":"Dominik"},"score":0,"creation_date":1559383715,"post_id":56405710,"comment_id":99409085,"body_markdown":"Make sure you set both sides of the relationship. https://stackoverflow.com/questions/48754783/do-i-have-to-set-both-sides-for-a-bidirectional-relationship","body":"Make sure you set both sides of the relationship. <a href=\"https://stackoverflow.com/questions/48754783/do-i-have-to-set-both-sides-for-a-bidirectional-relationship\" title=\"do i have to set both sides for a bidirectional relationship\">stackoverflow.com/questions/48754783/&hellip;</a>"},{"owner":{"account_id":15926722,"reputation":41,"user_id":11492165,"display_name":"Nəriman Nəhmədov"},"score":0,"creation_date":1559383962,"post_id":56405710,"comment_id":99409137,"body_markdown":"I have set timetable to each timetabeCell and list of timetableCell to timetable. But for timetable cell I set only weekDay field but I dont set timetableCell to weekDay.","body":"I have set timetable to each timetabeCell and list of timetableCell to timetable. But for timetable cell I set only weekDay field but I dont set timetableCell to weekDay."},{"owner":{"account_id":15926722,"reputation":41,"user_id":11492165,"display_name":"Nəriman Nəhmədov"},"score":0,"creation_date":1559384796,"post_id":56405710,"comment_id":99409295,"body_markdown":"I tried using unidirectional relation between timetableCell and weekDay and got same result again.","body":"I tried using unidirectional relation between timetableCell and weekDay and got same result again."},{"owner":{"account_id":541020,"reputation":2142,"user_id":909414,"accept_rate":62,"display_name":"Rohit"},"score":0,"creation_date":1559385601,"post_id":56405710,"comment_id":99409434,"body_markdown":"Show the code where you create and set the list to TimeTable.","body":"Show the code where you create and set the list to TimeTable."}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559385720,"creation_date":1559385720,"answer_id":56405974,"question_id":56405710,"body_markdown":"**1)** The `timetableCells` are marked with only these cascade types:\r\n\r\n    @OneToMany(mappedBy = &quot;timetable&quot;, cascade = {CascadeType.REMOVE, CascadeType.PERSIST})\r\n\r\n**2)** The week and hour deps have only this:\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n\r\n**3)** If you pass `Timetable` to save method here and it has been persisted before:\r\n\r\n    timetableRepository.save(timetable);\r\n\r\nSpring Data JPA will not call `persist`, but `merge` instead.\r\n\r\nThat might be the case why the cascading does not work. If you add this to your config you might get what you need:\r\n\r\n    cascade = {CascadeType.REMOVE, CascadeType.PERSIST, CascadeType.MERGE})\r\n\r\n","title":"Spring-Data-Jpa save: Related entities saved as null which are not","body":"<p><strong>1)</strong> The <code>timetableCells</code> are marked with only these cascade types:</p>\n\n<pre><code>@OneToMany(mappedBy = \"timetable\", cascade = {CascadeType.REMOVE, CascadeType.PERSIST})\n</code></pre>\n\n<p><strong>2)</strong> The week and hour deps have only this:</p>\n\n<pre><code>@ManyToOne(cascade = CascadeType.PERSIST)\n</code></pre>\n\n<p><strong>3)</strong> If you pass <code>Timetable</code> to save method here and it has been persisted before:</p>\n\n<pre><code>timetableRepository.save(timetable);\n</code></pre>\n\n<p>Spring Data JPA will not call <code>persist</code>, but <code>merge</code> instead.</p>\n\n<p>That might be the case why the cascading does not work. If you add this to your config you might get what you need:</p>\n\n<pre><code>cascade = {CascadeType.REMOVE, CascadeType.PERSIST, CascadeType.MERGE})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15926722,"reputation":41,"user_id":11492165,"display_name":"Nəriman Nəhmədov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560612755,"creation_date":1560612755,"answer_id":56611759,"question_id":56405710,"body_markdown":"I removed `Cascade.Persist` from fields in TimetableCell. It works for me but I don&#39;t know that what was problem.","title":"Spring-Data-Jpa save: Related entities saved as null which are not","body":"<p>I removed <code>Cascade.Persist</code> from fields in TimetableCell. It works for me but I don't know that what was problem.</p>\n"}],"owner":{"account_id":15926722,"reputation":41,"user_id":11492165,"display_name":"Nəriman Nəhmədov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3982,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56611759,"answer_count":2,"score":3,"last_activity_date":1680248961,"creation_date":1559383428,"question_id":56405710,"body_markdown":"I have an entity timetable:\r\n\r\n    @Entity @Table(name = TableUtils.TIMETABLE)public class Timetable {\r\n\r\n    private static final long serialVersionUID = -1307879048598194633L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = ColumnUtils.ID)\r\n    private long id;\r\n\r\n    @OneToMany(mappedBy = &quot;timetable&quot;, cascade = {CascadeType.REMOVE, CascadeType.PERSIST})\r\n    private List&lt;TimetableCell&gt; timetableCells;\r\n\r\n    public List&lt;TimetableCell&gt; getTimetableCells() {\r\n        return timetableCells;\r\n    }\r\n\r\n    public void setTimetableCells(List&lt;TimetableCell&gt; timetableCells) {\r\n        this.timetableCells = timetableCells;\r\n    }\r\n    }\r\n\r\nand an entity timetableCell:\r\n\r\n    @Entity\r\n    @Table(name = TableUtils.TIMETABLE_CELL)\r\n    public class TimetableCell extends AbstractElement {\r\n\r\n    private static final long serialVersionUID = -8083688091896353882L;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = ColumnUtils.WEEK_DAY_ID, nullable = false)\r\n    private WeekDay weekDay;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = ColumnUtils.LESSON_HOUR_ID, nullable = false)\r\n    private LessonHour lessonHour;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = ColumnUtils.TIMETABLE_ID, nullable = false)\r\n    private Timetable timetable;\r\n\r\n    ...\r\n    }\r\n\r\nAt first I create timetable cells with weekDay and LessonHours. After I set this list to timetable and try to save it. But All timetable cells are saved with null weekDay and null LessonHour.\r\nI debugged it. Before save all fields are set as well.\r\n\r\n`timetableRepository.save(timetable);`\r\n\r\nDebug result showing following \r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R6Npj.png","title":"Spring-Data-Jpa save: Related entities saved as null which are not","body":"<p>I have an entity timetable:</p>\n\n<pre><code>@Entity @Table(name = TableUtils.TIMETABLE)public class Timetable {\n\nprivate static final long serialVersionUID = -1307879048598194633L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = ColumnUtils.ID)\nprivate long id;\n\n@OneToMany(mappedBy = \"timetable\", cascade = {CascadeType.REMOVE, CascadeType.PERSIST})\nprivate List&lt;TimetableCell&gt; timetableCells;\n\npublic List&lt;TimetableCell&gt; getTimetableCells() {\n    return timetableCells;\n}\n\npublic void setTimetableCells(List&lt;TimetableCell&gt; timetableCells) {\n    this.timetableCells = timetableCells;\n}\n}\n</code></pre>\n\n<p>and an entity timetableCell:</p>\n\n<pre><code>@Entity\n@Table(name = TableUtils.TIMETABLE_CELL)\npublic class TimetableCell extends AbstractElement {\n\nprivate static final long serialVersionUID = -8083688091896353882L;\n\n@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = ColumnUtils.WEEK_DAY_ID, nullable = false)\nprivate WeekDay weekDay;\n\n@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = ColumnUtils.LESSON_HOUR_ID, nullable = false)\nprivate LessonHour lessonHour;\n\n@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = ColumnUtils.TIMETABLE_ID, nullable = false)\nprivate Timetable timetable;\n\n...\n}\n</code></pre>\n\n<p>At first I create timetable cells with weekDay and LessonHours. After I set this list to timetable and try to save it. But All timetable cells are saved with null weekDay and null LessonHour.\nI debugged it. Before save all fields are set as well.</p>\n\n<p><code>timetableRepository.save(timetable);</code></p>\n\n<p>Debug result showing following \n<img src=\"https://i.stack.imgur.com/R6Npj.png\" alt=\"\"></p>\n"},{"tags":["java","android-viewholder","admob-rewardedvideoad"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680252427,"post_id":75895922,"comment_id":133870122,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28176136,"reputation":3,"user_id":21533894,"display_name":"sagar raval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680248337,"creation_date":1680247881,"question_id":75895922,"body_markdown":"what I am doing is when a button is pressed for the rewared ad (the button is not a part of the RecyclerView placeholder activity but is a part of the main activity that I have referenced in the view holder for my requirements), I want to replace some ImageView with another ImageView and store some shared preferences after the reward is granted. To replace the ImageView for all items in the list of the view holder, I am using a for loop which is also inside the rewarded ad method.\r\n\r\nThe code I am referring to is shown bellow. Is there a way to load the ad in the main activity instead of the view holder?\r\n\r\n\r\n```\r\n`public class MemeViewHolder extends RecyclerView.ViewHolder {\r\n        TextView memeTextView;\r\n        ImageView copyImageView;\r\n        ImageView lockImageView;\r\n        MaterialButton adBtn;\r\n        CardView adSpace;\r\n        YourClass yourClass = new YourClass();\r\n\r\n        public MemeViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            memeTextView = itemView.findViewById(R.id.trollface);\r\n            copyImageView = itemView.findViewById(R.id.copy);\r\n            lockImageView = itemView.findViewById(R.id.lock);\r\n\r\n            View root = binding.getWindow().getDecorView().getRootView();\r\n            adBtn = root.findViewById(R.id.watchAdBtn);\r\n            adSpace = root.findViewById(R.id.adSpace);\r\n            if (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\r\n                adBtn.setVisibility(View.GONE);\r\n                adSpace.setVisibility(View.VISIBLE);\r\n\r\n            } else {\r\n                adBtn.setVisibility(View.VISIBLE);\r\n                adSpace.setVisibility(View.GONE);\r\n            }\r\n            adBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (yourClass.isNetworkConnected()) {\r\n                        adBtn.setVisibility(View.GONE);\r\n                        Toast.makeText(context, &quot;Loading Ad.....&quot;, Toast.LENGTH_LONG).show();\r\n                        // Use the test ad unit ID to load an ad.\r\n                        AdRequest adRequest = new AdRequest.Builder().build();\r\n                        RewardedAd.load(context, &quot;ca-app-pub-&lt;&gt;&quot;,\r\n                                adRequest, new RewardedAdLoadCallback() {\r\n                                    @Override\r\n                                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                                        // Handle the error.\r\n                                        Log.d(TAG, loadAdError.toString());\r\n                                        rewardedAd = null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdLoaded(@NonNull RewardedAd ad) {\r\n                                        rewardedAd = ad;\r\n                                        Log.d(TAG, &quot;Ad was loaded.&quot;);\r\n                                        if (rewardedAd != null) {\r\n                                            Activity activityContext = (Activity) context;\r\n                                            rewardedAd.show(activityContext, new OnUserEarnedRewardListener() {\r\n                                                @Override\r\n                                                public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\r\n                                                    // Handle the reward.\r\n                                                    Log.d(TAG, &quot;The user earned the reward.&quot;);\r\n                                                    int rewardAmount = rewardItem.getAmount();\r\n                                                    String rewardType = rewardItem.getType();\r\n                                                    rewardGranted = true;\r\n                                                    mSharedPrefs.edit().putBoolean(REWARD_GRANTED_KEY, rewardGranted).apply();\r\n                                                    rewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                                                        @Override\r\n                                                        public void onAdClicked() {\r\n                                                            // Called when a click is recorded for an ad.\r\n                                                            Log.d(TAG, &quot;Ad was clicked.&quot;);\r\n                                                        }\r\n\r\n                                                        @Override\r\n                                                        public void onAdDismissedFullScreenContent() {\r\n                                                            // Called when ad is dismissed.\r\n                                                            // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n                                                            Log.d(TAG, &quot;Ad dismissed fullscreen content.&quot;);\r\n                                                            rewardedAd = null;\r\n                                                            adBtn.setVisibility(View.GONE);\r\n                                                            adSpace.setVisibility(View.VISIBLE);\r\n                                                            for (int i = 0; i &lt; memeList.size(); i++) {\r\n                                                                // Get the corresponding view holder for this item\r\n                                                                RecyclerView.ViewHolder holder = recyclerView.findViewHolderForAdapterPosition(i);\r\n\r\n                                                                // Update the icons for this item\r\n                                                                if (holder instanceof MemeViewHolder) {\r\n                                                                    MemeViewHolder itemHolder = (MemeViewHolder) holder;\r\n                                                                    itemHolder.copyImageView.setVisibility(View.VISIBLE);\r\n                                                                    itemHolder.lockImageView.setVisibility(View.GONE);\r\n                                                                }\r\n                                                            }\r\n\r\n\r\n                                                            mSharedPrefs.edit().putBoolean(REWARD_GRANTED_KEY, rewardGranted).apply();\r\n                                                        }\r\n\r\n                                                        @Override\r\n                                                        public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                                            // Called when ad fails to show.\r\n                                                            Log.e(TAG, &quot;Ad failed to show fullscreen content.&quot;);\r\n                                                            Toast.makeText(context, &quot;Failed to load Ad&quot;, Toast.LENGTH_SHORT).show();\r\n                                                            rewardedAd = null;\r\n                                                            adBtn.setVisibility(View.VISIBLE);\r\n                                                            adSpace.setVisibility(View.GONE);\r\n\r\n                                                        }\r\n\r\n                                                        @Override\r\n                                                        public void onAdImpression() {\r\n                                                            // Called when an impression is recorded for an ad.\r\n                                                            Log.d(TAG, &quot;Ad recorded an impression.&quot;);\r\n                                                        }\r\n\r\n                                                        @Override\r\n                                                        public void onAdShowedFullScreenContent() {\r\n                                                            // Called when ad is shown.\r\n                                                            Log.d(TAG, &quot;Ad showed fullscreen content.&quot;);\r\n                                                        }\r\n                                                    });\r\n\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                });\r\n                    } else {\r\n                        Toast.makeText(context, &quot;No network connection&quot;, Toast.LENGTH_SHORT).show();\r\n                        adBtn.setVisibility(View.VISIBLE);\r\n                        adSpace.setVisibility(View.GONE);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n    }`\r\n```","title":"Is it possible to utilize a rewarded ad within a view holder, but have it loaded in the MainActivity instead?","body":"<p>what I am doing is when a button is pressed for the rewared ad (the button is not a part of the RecyclerView placeholder activity but is a part of the main activity that I have referenced in the view holder for my requirements), I want to replace some ImageView with another ImageView and store some shared preferences after the reward is granted. To replace the ImageView for all items in the list of the view holder, I am using a for loop which is also inside the rewarded ad method.</p>\n<p>The code I am referring to is shown bellow. Is there a way to load the ad in the main activity instead of the view holder?</p>\n<pre><code>`public class MemeViewHolder extends RecyclerView.ViewHolder {\n        TextView memeTextView;\n        ImageView copyImageView;\n        ImageView lockImageView;\n        MaterialButton adBtn;\n        CardView adSpace;\n        YourClass yourClass = new YourClass();\n\n        public MemeViewHolder(@NonNull View itemView) {\n            super(itemView);\n            memeTextView = itemView.findViewById(R.id.trollface);\n            copyImageView = itemView.findViewById(R.id.copy);\n            lockImageView = itemView.findViewById(R.id.lock);\n\n            View root = binding.getWindow().getDecorView().getRootView();\n            adBtn = root.findViewById(R.id.watchAdBtn);\n            adSpace = root.findViewById(R.id.adSpace);\n            if (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\n                adBtn.setVisibility(View.GONE);\n                adSpace.setVisibility(View.VISIBLE);\n\n            } else {\n                adBtn.setVisibility(View.VISIBLE);\n                adSpace.setVisibility(View.GONE);\n            }\n            adBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (yourClass.isNetworkConnected()) {\n                        adBtn.setVisibility(View.GONE);\n                        Toast.makeText(context, &quot;Loading Ad.....&quot;, Toast.LENGTH_LONG).show();\n                        // Use the test ad unit ID to load an ad.\n                        AdRequest adRequest = new AdRequest.Builder().build();\n                        RewardedAd.load(context, &quot;ca-app-pub-&lt;&gt;&quot;,\n                                adRequest, new RewardedAdLoadCallback() {\n                                    @Override\n                                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                                        // Handle the error.\n                                        Log.d(TAG, loadAdError.toString());\n                                        rewardedAd = null;\n                                    }\n\n                                    @Override\n                                    public void onAdLoaded(@NonNull RewardedAd ad) {\n                                        rewardedAd = ad;\n                                        Log.d(TAG, &quot;Ad was loaded.&quot;);\n                                        if (rewardedAd != null) {\n                                            Activity activityContext = (Activity) context;\n                                            rewardedAd.show(activityContext, new OnUserEarnedRewardListener() {\n                                                @Override\n                                                public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\n                                                    // Handle the reward.\n                                                    Log.d(TAG, &quot;The user earned the reward.&quot;);\n                                                    int rewardAmount = rewardItem.getAmount();\n                                                    String rewardType = rewardItem.getType();\n                                                    rewardGranted = true;\n                                                    mSharedPrefs.edit().putBoolean(REWARD_GRANTED_KEY, rewardGranted).apply();\n                                                    rewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                                                        @Override\n                                                        public void onAdClicked() {\n                                                            // Called when a click is recorded for an ad.\n                                                            Log.d(TAG, &quot;Ad was clicked.&quot;);\n                                                        }\n\n                                                        @Override\n                                                        public void onAdDismissedFullScreenContent() {\n                                                            // Called when ad is dismissed.\n                                                            // Set the ad reference to null so you don't show the ad a second time.\n                                                            Log.d(TAG, &quot;Ad dismissed fullscreen content.&quot;);\n                                                            rewardedAd = null;\n                                                            adBtn.setVisibility(View.GONE);\n                                                            adSpace.setVisibility(View.VISIBLE);\n                                                            for (int i = 0; i &lt; memeList.size(); i++) {\n                                                                // Get the corresponding view holder for this item\n                                                                RecyclerView.ViewHolder holder = recyclerView.findViewHolderForAdapterPosition(i);\n\n                                                                // Update the icons for this item\n                                                                if (holder instanceof MemeViewHolder) {\n                                                                    MemeViewHolder itemHolder = (MemeViewHolder) holder;\n                                                                    itemHolder.copyImageView.setVisibility(View.VISIBLE);\n                                                                    itemHolder.lockImageView.setVisibility(View.GONE);\n                                                                }\n                                                            }\n\n\n                                                            mSharedPrefs.edit().putBoolean(REWARD_GRANTED_KEY, rewardGranted).apply();\n                                                        }\n\n                                                        @Override\n                                                        public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                                            // Called when ad fails to show.\n                                                            Log.e(TAG, &quot;Ad failed to show fullscreen content.&quot;);\n                                                            Toast.makeText(context, &quot;Failed to load Ad&quot;, Toast.LENGTH_SHORT).show();\n                                                            rewardedAd = null;\n                                                            adBtn.setVisibility(View.VISIBLE);\n                                                            adSpace.setVisibility(View.GONE);\n\n                                                        }\n\n                                                        @Override\n                                                        public void onAdImpression() {\n                                                            // Called when an impression is recorded for an ad.\n                                                            Log.d(TAG, &quot;Ad recorded an impression.&quot;);\n                                                        }\n\n                                                        @Override\n                                                        public void onAdShowedFullScreenContent() {\n                                                            // Called when ad is shown.\n                                                            Log.d(TAG, &quot;Ad showed fullscreen content.&quot;);\n                                                        }\n                                                    });\n\n                                                }\n                                            });\n                                        }\n                                    }\n                                });\n                    } else {\n                        Toast.makeText(context, &quot;No network connection&quot;, Toast.LENGTH_SHORT).show();\n                        adBtn.setVisibility(View.VISIBLE);\n                        adSpace.setVisibility(View.GONE);\n                    }\n                }\n            });\n\n        }\n\n\n    }`\n</code></pre>\n"},{"tags":["java","spring-boot","mariadb","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680247763,"creation_date":1680247763,"answer_id":75895901,"question_id":75889763,"body_markdown":"Plain SQL template processing includes a small parser that prevents modifying string literals and comments as documented in the manual section about [plain SQL templating][1]. This is desired as a string literal isn&#39;t capable of containing bind parameters neither in JDBC nor on any server implementation.\r\n\r\nYou have 2 options:\r\n\r\n- Use a `JSON` bind value instead, e.g. `JSON.json(&quot;\\&quot;&quot; + id + &quot;\\&quot;&quot;)` (making sure you properly escape the JSON\r\n- Cast a bind value to JSON on the server, e.g. `JSON_QUOTE(CAST(? AS VARCHAR))`\r\n\r\nI&#39;m seeing that you&#39;re still using jOOQ 3.12. I recommend upgrading as later versions of jOOQ have implemented tons of JSON support, which you could use.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"jOOQ not binding values in DSL.condition()","body":"<p>Plain SQL template processing includes a small parser that prevents modifying string literals and comments as documented in the manual section about <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>. This is desired as a string literal isn't capable of containing bind parameters neither in JDBC nor on any server implementation.</p>\n<p>You have 2 options:</p>\n<ul>\n<li>Use a <code>JSON</code> bind value instead, e.g. <code>JSON.json(&quot;\\&quot;&quot; + id + &quot;\\&quot;&quot;)</code> (making sure you properly escape the JSON</li>\n<li>Cast a bind value to JSON on the server, e.g. <code>JSON_QUOTE(CAST(? AS VARCHAR))</code></li>\n</ul>\n<p>I'm seeing that you're still using jOOQ 3.12. I recommend upgrading as later versions of jOOQ have implemented tons of JSON support, which you could use.</p>\n"}],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75895901,"answer_count":1,"score":1,"last_activity_date":1680247763,"creation_date":1680187919,"question_id":75889763,"body_markdown":"I&#39;ve the following code which uses jOOQ:\r\n\r\n```java\r\n        dslContext.select(CONNECTOR.asterisk())\r\n            .from(CONNECTOR)\r\n            .where(DSL.and(\r\n                CONNECTOR.STATUS.notEqual(ConnectorStatus.DELETED.name()),\r\n                DSL.condition(&quot;JSON_CONTAINS(vendor_data, &#39;\\&quot;?\\&quot;&#39;, &#39;$.id&#39;)&quot;, id)\r\n            ))\r\n            .fetchInto(Connector.class);\r\n\r\n```\r\n\r\nThe problem is with this plain SQL condition, the &#39;?&#39; doesn&#39;t get filled in the resulting SQL for some reason, although the docs say that we can pass bindings.\r\n\r\nThe resulting SQL I got from the logs:\r\n```sql\r\nselect `connector`.* from `connector` where (`connector`.`status` &lt;&gt; &#39;DELETED&#39; and (JSON_CONTAINS(vendor_data, &#39;&quot;?&quot;&#39;, &#39;$.id&#39;)))\r\n```\r\n\r\nWhat am I missing? What&#39;s the way to do it properly?\r\n\r\njOOQ version: 3.12.1","title":"jOOQ not binding values in DSL.condition()","body":"<p>I've the following code which uses jOOQ:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        dslContext.select(CONNECTOR.asterisk())\n            .from(CONNECTOR)\n            .where(DSL.and(\n                CONNECTOR.STATUS.notEqual(ConnectorStatus.DELETED.name()),\n                DSL.condition(&quot;JSON_CONTAINS(vendor_data, '\\&quot;?\\&quot;', '$.id')&quot;, id)\n            ))\n            .fetchInto(Connector.class);\n\n</code></pre>\n<p>The problem is with this plain SQL condition, the '?' doesn't get filled in the resulting SQL for some reason, although the docs say that we can pass bindings.</p>\n<p>The resulting SQL I got from the logs:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select `connector`.* from `connector` where (`connector`.`status` &lt;&gt; 'DELETED' and (JSON_CONTAINS(vendor_data, '&quot;?&quot;', '$.id')))\n</code></pre>\n<p>What am I missing? What's the way to do it properly?</p>\n<p>jOOQ version: 3.12.1</p>\n"},{"tags":["java","authentication","apache-kafka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666593656,"post_id":74170284,"comment_id":130965167,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":12616405,"reputation":63,"user_id":9173705,"display_name":"ntucci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680247505,"creation_date":1680191472,"answer_id":75890429,"question_id":74170284,"body_markdown":"I can&#39;t answer due to my low reputation but I want to enrich the problem. I also faced this problem with kafka client v. 2.8.2 and have an infinite logging of such pair of lines. In JVM there are &gt;1000 threads named &quot;kafka-producer-network-thread&quot; and I think it all started from this error:\r\n\r\n    \tCaused by: java.lang.IllegalMonitorStateException: current thread is not owner\r\n        at java.lang.Object.wait(Native Method) ~[?:?]\r\n        at org.apache.kafka.common.utils.SystemTime.waitObject(SystemTime.java:55) ~[kafka-clients-2.8.2.jar:?]\r\n        at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:119) ~[kafka-clients-2.8.2.jar:?]\r\n        at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1047) ~[kafka-clients-2.8.2.jar:?]\r\n        at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:906) ~[kafka-clients-2.8.2.jar:?]\r\n        at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:885) ~[kafka-clients-2.8.2.jar:?]","title":"kafkaTemplate.send(message) is trying to connect infinite times on &quot;Authentication Failure&quot;","body":"<p>I can't answer due to my low reputation but I want to enrich the problem. I also faced this problem with kafka client v. 2.8.2 and have an infinite logging of such pair of lines. In JVM there are &gt;1000 threads named &quot;kafka-producer-network-thread&quot; and I think it all started from this error:</p>\n<pre><code>    Caused by: java.lang.IllegalMonitorStateException: current thread is not owner\n    at java.lang.Object.wait(Native Method) ~[?:?]\n    at org.apache.kafka.common.utils.SystemTime.waitObject(SystemTime.java:55) ~[kafka-clients-2.8.2.jar:?]\n    at org.apache.kafka.clients.producer.internals.ProducerMetadata.awaitUpdate(ProducerMetadata.java:119) ~[kafka-clients-2.8.2.jar:?]\n    at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:1047) ~[kafka-clients-2.8.2.jar:?]\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:906) ~[kafka-clients-2.8.2.jar:?]\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:885) ~[kafka-clients-2.8.2.jar:?]\n</code></pre>\n"}],"owner":{"account_id":26707771,"reputation":11,"user_id":20313687,"display_name":"charan charan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680247505,"creation_date":1666519913,"question_id":74170284,"body_markdown":"How to avoid this infinite loop. How to add error Handling in this case. If any credential mismatch, it should try 3 times and should stop reconnecting\r\n\r\n```\r\n2022-10-19 16:03:32.410  INFO [,,,] 828 --- [ad | producer-2] o.apache.kafka.common.network.Selector   : [Producer clientId=producer-2] Failed authentication with (Authentication failed: Invalid username or password)\r\n2022-10-19 16:03:32.412 ERROR [,,,] 828 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node -2 () failed authentication due to: Authentication failed: Invalid username or password\r\n2022-10-19 16:03:34.417  INFO [,,,] 828 --- [ad | producer-2] o.apache.kafka.common.network.Selector   : [Producer clientId=producer-2] Failed authentication with  (Authentication failed: Invalid username or password)\r\n2022-10-19 16:03:34.419 ERROR [,,,] 828 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node -2 () failed authentication due to: Authentication failed: Invalid username or password\r\n2022-10-19 16:03:36.338  INFO [,,,] 828 --- [ad | producer-2] o.apache.kafka.common.network.Selector   : [Producer clientId=producer-2] Failed authentication with (Authentication failed: Invalid username or password)\r\n2022-10-19 16:03:36.340 ERROR [,,,] 828 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node -1 () failed authentication due to: Authentication failed: Invalid username or password\r\n```","title":"kafkaTemplate.send(message) is trying to connect infinite times on &quot;Authentication Failure&quot;","body":"<p>How to avoid this infinite loop. How to add error Handling in this case. If any credential mismatch, it should try 3 times and should stop reconnecting</p>\n<pre><code>2022-10-19 16:03:32.410  INFO [,,,] 828 --- [ad | producer-2] o.apache.kafka.common.network.Selector   : [Producer clientId=producer-2] Failed authentication with (Authentication failed: Invalid username or password)\n2022-10-19 16:03:32.412 ERROR [,,,] 828 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node -2 () failed authentication due to: Authentication failed: Invalid username or password\n2022-10-19 16:03:34.417  INFO [,,,] 828 --- [ad | producer-2] o.apache.kafka.common.network.Selector   : [Producer clientId=producer-2] Failed authentication with  (Authentication failed: Invalid username or password)\n2022-10-19 16:03:34.419 ERROR [,,,] 828 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node -2 () failed authentication due to: Authentication failed: Invalid username or password\n2022-10-19 16:03:36.338  INFO [,,,] 828 --- [ad | producer-2] o.apache.kafka.common.network.Selector   : [Producer clientId=producer-2] Failed authentication with (Authentication failed: Invalid username or password)\n2022-10-19 16:03:36.340 ERROR [,,,] 828 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node -1 () failed authentication due to: Authentication failed: Invalid username or password\n</code></pre>\n"},{"tags":["java","eclipse","package"],"comments":[{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":0,"creation_date":1298641903,"post_id":5117237,"comment_id":5739166,"body_markdown":"if as a.b.c my package dir then a and a.b  is used as package but not a.b.c","body":"if as a.b.c my package dir then a and a.b  is used as package but not a.b.c"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1298644852,"post_id":5117237,"comment_id":5739767,"body_markdown":"Can you please post a screenshot of what you mean? We can&#39;t understand what you mean by your words alone unfortunatly.","body":"Can you please post a screenshot of what you mean? We can&#39;t understand what you mean by your words alone unfortunatly."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1612633476,"post_id":5117237,"comment_id":116830218,"body_markdown":"What solved my problem: After creating a new Java project, I had to import __into the src folder__ and not into the project folder.","body":"What solved my problem: After creating a new Java project, I had to import <b>into the src folder</b> and not into the project folder."}],"answers":[{"comments":[{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":1,"creation_date":1298639971,"post_id":5117246,"comment_id":5738794,"body_markdown":"i am in Project Explorer the parent folder of that folder is a source folder and no option like  &quot;Use as Source Folder&quot;\n i am a new 2 java thanx 4 bearing me","body":"i am in Project Explorer the parent folder of that folder is a source folder and no option like  &quot;Use as Source Folder&quot;  i am a new 2 java thanx 4 bearing me"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":1,"creation_date":1298644778,"post_id":5117246,"comment_id":5739746,"body_markdown":"Edited my answer with a screenshot for you.","body":"Edited my answer with a screenshot for you."},{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":0,"creation_date":1298645188,"post_id":5117246,"comment_id":5739842,"body_markdown":"thnx 4 d image but my problem is some diff please see the comment i added to gilbert&#39;s answer","body":"thnx 4 d image but my problem is some diff please see the comment i added to gilbert&#39;s answer"}],"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":3,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1459888452,"creation_date":1298637185,"answer_id":5117246,"question_id":5117237,"body_markdown":"First, ensure that you&#39;re in the &quot;Package Explorer&quot; view of the Java Perspective.\r\n\r\nSecondly, it needs to be made a Source Folder.\r\n\r\nIf you&#39;re in the Java Project, right click on the folder and select &quot;Build Path&quot; &gt; &quot;Use as Source Folder&quot;\r\n\r\nSomething like what is shown here:\r\n\r\nObserve that I am in Java perspective and see how the style of the folders &quot;source&quot; and &quot;src&quot; are different in appearance.\r\n\r\n![Eclipse Screenshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OkfKw.png","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>First, ensure that you're in the \"Package Explorer\" view of the Java Perspective.</p>\n\n<p>Secondly, it needs to be made a Source Folder.</p>\n\n<p>If you're in the Java Project, right click on the folder and select \"Build Path\" > \"Use as Source Folder\"</p>\n\n<p>Something like what is shown here:</p>\n\n<p>Observe that I am in Java perspective and see how the style of the folders \"source\" and \"src\" are different in appearance.</p>\n\n<p><img src=\"https://i.stack.imgur.com/OkfKw.png\" alt=\"Eclipse Screenshot\"></p>\n"},{"comments":[{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":1,"creation_date":1298644095,"post_id":5118024,"comment_id":5739625,"body_markdown":"tried d same but it doesnt create the same named package( say A) but i can create package with name A1 also tried with refresh and resrt eclipse","body":"tried d same but it doesnt create the same named package( say A) but i can create package with name A1 also tried with refresh and resrt eclipse"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1298644216,"post_id":5118024,"comment_id":5739653,"body_markdown":"@Gopal Sharma: I&#39;m guessing it&#39;s because you just deleted the folder, and not the underlying folder structure.  Sorry, for not mentioning that you needed to do both in my answer.","body":"@Gopal Sharma: I&#39;m guessing it&#39;s because you just deleted the folder, and not the underlying folder structure.  Sorry, for not mentioning that you needed to do both in my answer."},{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":0,"creation_date":1298644581,"post_id":5118024,"comment_id":5739714,"body_markdown":"i deleted the structure say i have com.a.b.c and com.a.x the com.a and com.a.x are treated as package but com.a.b and com.a.b.c are not treated as package so i tried to delete b and b.c but its not working","body":"i deleted the structure say i have com.a.b.c and com.a.x the com.a and com.a.x are treated as package but com.a.b and com.a.b.c are not treated as package so i tried to delete b and b.c but its not working"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1298644795,"post_id":5118024,"comment_id":5739751,"body_markdown":"@Gopal Sharma: Perhaps all you need to do now is a refresh of the Project Explorer.","body":"@Gopal Sharma: Perhaps all you need to do now is a refresh of the Project Explorer."},{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":0,"creation_date":1298644940,"post_id":5118024,"comment_id":5739786,"body_markdown":"did refresh and tried after ecli  restart    thnx 4 bearing me","body":"did refresh and tried after ecli  restart    thnx 4 bearing me"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1298645197,"post_id":5118024,"comment_id":5739848,"body_markdown":"@Gopal Sharma - Can you please post a screenshot of what you mean?","body":"@Gopal Sharma - Can you please post a screenshot of what you mean?"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1298645470,"post_id":5118024,"comment_id":5739910,"body_markdown":"May be you don&#39;t have any class whose package is a.b.c! Elipse hides empty packages.","body":"May be you don&#39;t have any class whose package is a.b.c! Elipse hides empty packages."},{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":0,"creation_date":1298645620,"post_id":5118024,"comment_id":5739966,"body_markdown":"no it is not d case i will get d image in a min its on diff machine give me 2 mins","body":"no it is not d case i will get d image in a min its on diff machine give me 2 mins"},{"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"score":0,"creation_date":1298646223,"post_id":5118024,"comment_id":5740119,"body_markdown":"@Gilbert and adarshr : thank you , it worked as changed workspace deleted parent to child all dir copy again","body":"@Gilbert and adarshr : thank you , it worked as changed workspace deleted parent to child all dir copy again"},{"owner":{"account_id":317145,"reputation":6045,"user_id":633663,"display_name":"Vicky Kapadia"},"score":0,"creation_date":1562675526,"post_id":5118024,"comment_id":100443746,"body_markdown":"No need of all this . just change the src folder path in .classpath","body":"No need of all this . just change the src folder path in .classpath"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":10,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1298644251,"creation_date":1298642064,"answer_id":5118024,"question_id":5117237,"body_markdown":"Worst case, you&#39;ll have to delete the folder and recreate as a java package.\r\n\r\n- Save the Java classes somewhere else in your Java project by refactoring\r\n- Delete the folder and the underlying folder structure\r\n- Create a Java package\r\n- Move the Java classes back under the Java package by refactoring","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>Worst case, you'll have to delete the folder and recreate as a java package.</p>\n\n<ul>\n<li>Save the Java classes somewhere else in your Java project by refactoring</li>\n<li>Delete the folder and the underlying folder structure</li>\n<li>Create a Java package</li>\n<li>Move the Java classes back under the Java package by refactoring</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2502090,"reputation":569,"user_id":2176916,"accept_rate":71,"display_name":"Gander7"},"score":0,"creation_date":1388766042,"post_id":13961220,"comment_id":31385387,"body_markdown":"This is what happened to me :P\nI deleted the .classpath file, removed src folder from the class path and then added it back again.","body":"This is what happened to me :P I deleted the .classpath file, removed src folder from the class path and then added it back again."},{"owner":{"account_id":1041278,"reputation":5253,"user_id":1047269,"display_name":"Johanna"},"score":0,"creation_date":1532610360,"post_id":13961220,"comment_id":90046688,"body_markdown":"That also works in the opposite direction: Source -&gt; Build Path -&gt; Exclude changes a package into a folder","body":"That also works in the opposite direction: Source -&gt; Build Path -&gt; Exclude changes a package into a folder"}],"tags":[],"owner":{"account_id":2031348,"reputation":2134,"user_id":1814970,"accept_rate":38,"display_name":"marcelocra"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1355951335,"creation_date":1355951335,"answer_id":13961220,"question_id":5117237,"body_markdown":"Well, I actually think you might don&#39;t even need the answer anymore (almost two years later) but I will share anyway to document (just found a solution that others could use).\r\n\r\nThe problem: while searching some packages I accidentally clicked &quot;Add to build path&quot; in a package and after I ctrl+z, the package had became a folder. \r\n\r\nThe solution I found was on the .classpath. There was a line there with the name of the package I had just added to the build path (even after the Ctrl+Z). Delete that line and after refreshing the project your whole **src** folder will be turned into a normal folder. \r\n\r\nThen right click your **src**, following this path: **src &gt; Build Path &gt; Use as Source Folder**.\r\n\r\nThis solved the problem, I just tested the result. Hope it helps.","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>Well, I actually think you might don't even need the answer anymore (almost two years later) but I will share anyway to document (just found a solution that others could use).</p>\n\n<p>The problem: while searching some packages I accidentally clicked \"Add to build path\" in a package and after I ctrl+z, the package had became a folder. </p>\n\n<p>The solution I found was on the .classpath. There was a line there with the name of the package I had just added to the build path (even after the Ctrl+Z). Delete that line and after refreshing the project your whole <strong>src</strong> folder will be turned into a normal folder. </p>\n\n<p>Then right click your <strong>src</strong>, following this path: <strong>src > Build Path > Use as Source Folder</strong>.</p>\n\n<p>This solved the problem, I just tested the result. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":3123682,"reputation":91,"user_id":2642979,"display_name":"Jeff Callicutt"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375375300,"creation_date":1375375300,"answer_id":17999829,"question_id":5117237,"body_markdown":"go into your javabuildpath in properties and remove the folder from your Exclusions","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>go into your javabuildpath in properties and remove the folder from your Exclusions</p>\n"},{"tags":[],"owner":{"account_id":5175906,"reputation":41,"user_id":4143051,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423852744,"creation_date":1423852744,"answer_id":28506429,"question_id":5117237,"body_markdown":"I tried mvn eclipse:eclipse and it worked.\r\nOne to watch out is the .project file.","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>I tried mvn eclipse:eclipse and it worked.\nOne to watch out is the .project file.</p>\n"},{"tags":[],"owner":{"account_id":6704810,"reputation":41,"user_id":5170190,"display_name":"Raja Sekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1462336467,"creation_date":1462336467,"answer_id":37018557,"question_id":5117237,"body_markdown":"Just switch to java perspective, in the ide (top right corner-&gt; java...)","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>Just switch to java perspective, in the ide (top right corner-> java...)</p>\n"},{"tags":[],"owner":{"account_id":9577053,"reputation":21,"user_id":7112762,"display_name":"Maximilian Notar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478290479,"creation_date":1478279561,"answer_id":40428314,"question_id":5117237,"body_markdown":"Creating a package makes an older one instead.\r\n\r\nI had the same problem, and I was not able to solve it. But I suggest this, as a possibility. After copying and moving classes between packages, any file, it could be that the classpath has different information and that it hasn&#39;t been updated. \r\n\r\nAfter having read some comments above, I now am only using source folders instead the standard source Folder &quot;src&quot;. Inserting packages in any new source folder always runs.","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>Creating a package makes an older one instead.</p>\n\n<p>I had the same problem, and I was not able to solve it. But I suggest this, as a possibility. After copying and moving classes between packages, any file, it could be that the classpath has different information and that it hasn't been updated. </p>\n\n<p>After having read some comments above, I now am only using source folders instead the standard source Folder \"src\". Inserting packages in any new source folder always runs.</p>\n"},{"tags":[],"owner":{"account_id":1940921,"reputation":33,"user_id":1747153,"display_name":"Christian Held"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489661021,"creation_date":1489661021,"answer_id":42831787,"question_id":5117237,"body_markdown":"i had the exact same Problem after i added the packege in java build path -&gt; libraries -&gt; add class folder...\r\n\r\nDont ask why i did this ^^ but to resolve the Problem i just had to go to Project-&gt;Properties-&gt;java build path-&gt;Source\r\n\r\nAnd there it was in the Excluded part. Just remove it from the exclusion pattern and perhaps also from the libraries section.\r\n\r\n\r\n\r\n","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>i had the exact same Problem after i added the packege in java build path -> libraries -> add class folder...</p>\n\n<p>Dont ask why i did this ^^ but to resolve the Problem i just had to go to Project->Properties->java build path->Source</p>\n\n<p>And there it was in the Excluded part. Just remove it from the exclusion pattern and perhaps also from the libraries section.</p>\n"},{"tags":[],"owner":{"account_id":7774245,"reputation":181,"user_id":5882838,"display_name":"Shiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507562019,"creation_date":1507562019,"answer_id":46649709,"question_id":5117237,"body_markdown":"SIMPLE\r\nYou are not in the Package Explorer View ( but in Navigator view) \r\nIf not the above case, then create a new package under the project (staying in Package Explorer view) and move those classes to the newly created package.\r\nDONE.\r\n\r\n","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>SIMPLE\nYou are not in the Package Explorer View ( but in Navigator view) \nIf not the above case, then create a new package under the project (staying in Package Explorer view) and move those classes to the newly created package.\nDONE.</p>\n"},{"tags":[],"owner":{"account_id":3177566,"reputation":143,"user_id":2685043,"display_name":"shashigura"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517154028,"creation_date":1517154028,"answer_id":48488097,"question_id":5117237,"body_markdown":"This kind of issue occur due to missing  of  java and test folder in the web application \r\n\r\nsolution is :\r\n\r\nRight click on the project folder -&gt; properties -&gt; java build path -&gt; order and export and select the java and test folder and add or apply -&gt; ok\r\n\r\nthen you should able to add the package in the java folder \r\n","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>This kind of issue occur due to missing  of  java and test folder in the web application </p>\n\n<p>solution is :</p>\n\n<p>Right click on the project folder -> properties -> java build path -> order and export and select the java and test folder and add or apply -> ok</p>\n\n<p>then you should able to add the package in the java folder </p>\n"},{"tags":[],"owner":{"account_id":7779388,"reputation":57,"user_id":5886310,"display_name":"Ganesh Devadiga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520176093,"creation_date":1520176093,"answer_id":49096801,"question_id":5117237,"body_markdown":"**Right click on Project &gt; Configure &gt; Convert to Faceted Form &gt; Click on apply and OK**\r\n\r\nThis one has worked for me.","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p><strong>Right click on Project > Configure > Convert to Faceted Form > Click on apply and OK</strong></p>\n\n<p>This one has worked for me.</p>\n"},{"tags":[],"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523816012,"creation_date":1523816012,"answer_id":49845244,"question_id":5117237,"body_markdown":"\r\nFrom the menu bar, select Navigate &gt; Show In &gt; Package Explorer. \r\n\r\nThis is what worked for me.","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>From the menu bar, select Navigate > Show In > Package Explorer. </p>\n\n<p>This is what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":317145,"reputation":6045,"user_id":633663,"display_name":"Vicky Kapadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562675656,"creation_date":1562675656,"answer_id":56952710,"question_id":5117237,"body_markdown":"No Need of delete, re-create etc.\r\n\r\nJust modify .classpath file\r\n\r\n    &lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n         ........","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>No Need of delete, re-create etc.</p>\n\n<p>Just modify .classpath file</p>\n\n<pre><code>&lt;classpath&gt;\n&lt;classpathentry kind=\"src\" output=\"target/classes\" path=\"src/main/java\"&gt;\n    &lt;attributes&gt;\n     ........\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571758231,"creation_date":1571758231,"answer_id":58507672,"question_id":5117237,"body_markdown":"I have faced the same issue and found the solution, as to add `Java Nature` in `.project` file of the current application.\r\n\r\n---\r\n\r\n[Project natures](https://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2FresAdv_natures.htm) are used in the Eclipse IDE in order to configure projects in the workspace. One project may have several project natures. The most popular project nature is org.eclipse.jdt.core.javanature, which is used to indicate that a project is a Java project.\r\n\r\nAdd `org.eclipse.jdt.core.javanature` and its corresponding builder in the `.project` file of an application as shown below:\r\n\r\n```lang-xml\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;MyJavaApplication&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;&lt;/projects&gt;\r\n\t&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;!-- ... --&gt;\r\n\t&lt;/buildSpec&gt;\r\n\t&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t\t&lt;!-- ... --&gt;\r\n\t&lt;/natures&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\n\r\nProject view as Package structure:\r\n\r\n![enter image description here](https://i.stack.imgur.com/zZ1cQ.png)\r\n\r\nProjects and its dependent modules as [Hierarchical structure](https://stackoverflow.com/a/52647842/5081877).\r\n\r\n```\r\nPackage Explorer / View Menu / Package Presentation... / Hierarchical\r\n```","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>I have faced the same issue and found the solution, as to add <code>Java Nature</code> in <code>.project</code> file of the current application.</p>\n\n<hr>\n\n<p><a href=\"https://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2FresAdv_natures.htm\" rel=\"nofollow noreferrer\">Project natures</a> are used in the Eclipse IDE in order to configure projects in the workspace. One project may have several project natures. The most popular project nature is org.eclipse.jdt.core.javanature, which is used to indicate that a project is a Java project.</p>\n\n<p>Add <code>org.eclipse.jdt.core.javanature</code> and its corresponding builder in the <code>.project</code> file of an application as shown below:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;projectDescription&gt;\n    &lt;name&gt;MyJavaApplication&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;&lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;&lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;!-- ... --&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n        &lt;!-- ... --&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n\n<p>Project view as Package structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zZ1cQ.png\" alt=\"enter image description here\"></p>\n\n<p>Projects and its dependent modules as <a href=\"https://stackoverflow.com/a/52647842/5081877\">Hierarchical structure</a>.</p>\n\n<pre><code>Package Explorer / View Menu / Package Presentation... / Hierarchical\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19148052,"reputation":81,"user_id":13986558,"display_name":"B&#233;la B&#225;lint"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626683926,"creation_date":1626683926,"answer_id":68437506,"question_id":5117237,"body_markdown":"I had this on a maven project.\r\n\r\nIf it&#39;s a MAVEN project and this is a new module, you have to Import the module as maven project and it will work.\r\n\r\nRight click -Import-&gt;Existing Maven Module...","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>I had this on a maven project.</p>\n<p>If it's a MAVEN project and this is a new module, you have to Import the module as maven project and it will work.</p>\n<p>Right click -Import-&gt;Existing Maven Module...</p>\n"},{"tags":[],"owner":{"account_id":14064729,"reputation":111,"user_id":10159895,"display_name":"Jayant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680247462,"creation_date":1680247462,"answer_id":75895867,"question_id":5117237,"body_markdown":"Just drag your folder to the src/main/java package and drop it there:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uikEp.png","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>Just drag your folder to the src/main/java package and drop it there:</p>\n<p><a href=\"https://i.stack.imgur.com/uikEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uikEp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":267575,"reputation":655,"user_id":555843,"accept_rate":58,"display_name":"Gopal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64232,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":5118024,"answer_count":16,"score":25,"last_activity_date":1680247462,"creation_date":1298637126,"question_id":5117237,"body_markdown":"My Eclipse Java package is treated as a folder; can anyone suggest what&#39;s wrong?","title":"Why is my Eclipse Java package being treated as a folder?","body":"<p>My Eclipse Java package is treated as a folder; can anyone suggest what's wrong?</p>\n"},{"tags":["java","jms","quarkus","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1676052492,"post_id":75414134,"comment_id":133066728,"body_markdown":"It&#39;s not clear why `close()` is taking so long. Do you have any thread dumps during the delay which might shed light on what the client code is doing during this time?","body":"It&#39;s not clear why <code>close()</code> is taking so long. Do you have any thread dumps during the delay which might shed light on what the client code is doing during this time?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1676052595,"post_id":75414134,"comment_id":133066761,"body_markdown":"It&#39;s worth noting that unless the `ConnectionFactory` you&#39;re injecting is _pooled_ then you&#39;re employing a well-known anti-pattern where you create &amp; close a `JMSContext` for _every_ message you send. Is your `ConnectionFactory` pooled?","body":"It&#39;s worth noting that unless the <code>ConnectionFactory</code> you&#39;re injecting is <i>pooled</i> then you&#39;re employing a well-known anti-pattern where you create &amp; close a <code>JMSContext</code> for <i>every</i> message you send. Is your <code>ConnectionFactory</code> pooled?"},{"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"score":0,"creation_date":1676205042,"post_id":75414134,"comment_id":133086727,"body_markdown":"@JustinBertram it is not pooled. i assumed you would close the connection after recieving a message. if that&#39;s not the case should a non pooled connection be kept open? I thought that would waste resources maintaining a connection. Would a pooled connection be a better option for the usecase demonstrated above?","body":"@JustinBertram it is not pooled. i assumed you would close the connection after recieving a message. if that&#39;s not the case should a non pooled connection be kept open? I thought that would waste resources maintaining a connection. Would a pooled connection be a better option for the usecase demonstrated above?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1676313184,"post_id":75414134,"comment_id":133108455,"body_markdown":"If you don&#39;t use a pooled `ConnectionFactory` implementation (e.g. [this one](https://github.com/messaginghub/pooled-jms) then you should definitely maintain an open `JMSContext` (or `Connection`) to be used for every call. Generally speaking, creating and closing a `JMSContext` (or `Connection`) for every message sent or received is _way_ more wasteful than simply keeping one open. It&#39;s hard to say if a pool would be better as I don&#39;t have all the details of your use-case. You should try both and see which works better for you.","body":"If you don&#39;t use a pooled <code>ConnectionFactory</code> implementation (e.g. <a href=\"https://github.com/messaginghub/pooled-jms\" rel=\"nofollow noreferrer\">this one</a> then you should definitely maintain an open <code>JMSContext</code> (or <code>Connection</code>) to be used for every call. Generally speaking, creating and closing a <code>JMSContext</code> (or <code>Connection</code>) for every message sent or received is <i>way</i> more wasteful than simply keeping one open. It&#39;s hard to say if a pool would be better as I don&#39;t have all the details of your use-case. You should try both and see which works better for you."},{"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"score":0,"creation_date":1676716081,"post_id":75414134,"comment_id":133196165,"body_markdown":"@JustinBertram okej thank you if you can provide any link that talks about keeping it open that would great and i would accept that answer.","body":"@JustinBertram okej thank you if you can provide any link that talks about keeping it open that would great and i would accept that answer."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676754044,"creation_date":1676754044,"answer_id":75496374,"question_id":75414134,"body_markdown":"It&#39;s not clear why `close()` is taking so long. You&#39;d need to gather thread dumps during the delay in order to shed light on what the client code is doing during this time.\r\n\r\nAside from that, it&#39;s worth noting that you&#39;re employing a well-known anti-pattern where you create &amp; close a `JMSContext` for *every* message you send. This anti-pattern is noted in the [ActiveMQ Artemis documentation][1]. To deal with this anti-pattern you can use a pooled `ConnectionFactory` implementation (e.g. [this one][2]) or simply maintain an open `JMSContext` (or `Connection`) to be used for every call. Generally speaking, creating and closing a `JMSContext` (or `Connection`) for every message sent and/or received is way more wasteful than simply keeping one open. It&#39;s hard to say if a pool would be better as I don&#39;t have all the details of your use-case. You should try both and see which works better for you.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/perf-tuning.html#avoiding-anti-patterns\r\n  [2]: https://github.com/messaginghub/pooled-jms","title":"Quarkus code hangs after calling close() on JMS session","body":"<p>It's not clear why <code>close()</code> is taking so long. You'd need to gather thread dumps during the delay in order to shed light on what the client code is doing during this time.</p>\n<p>Aside from that, it's worth noting that you're employing a well-known anti-pattern where you create &amp; close a <code>JMSContext</code> for <em>every</em> message you send. This anti-pattern is noted in the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/perf-tuning.html#avoiding-anti-patterns\" rel=\"nofollow noreferrer\">ActiveMQ Artemis documentation</a>. To deal with this anti-pattern you can use a pooled <code>ConnectionFactory</code> implementation (e.g. <a href=\"https://github.com/messaginghub/pooled-jms\" rel=\"nofollow noreferrer\">this one</a>) or simply maintain an open <code>JMSContext</code> (or <code>Connection</code>) to be used for every call. Generally speaking, creating and closing a <code>JMSContext</code> (or <code>Connection</code>) for every message sent and/or received is way more wasteful than simply keeping one open. It's hard to say if a pool would be better as I don't have all the details of your use-case. You should try both and see which works better for you.</p>\n"}],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75496374,"answer_count":1,"score":0,"last_activity_date":1680247205,"creation_date":1676048920,"question_id":75414134,"body_markdown":"Hi I have the following Java 11 Quarkus project\r\n\r\nsimple endpoint\r\n\r\n```java\r\npackage org.acme.jms;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.Response;\r\n\r\n@Path(&quot;/jms&quot;)\r\n@Produces(&quot;application/json&quot;)\r\n@Consumes(&quot;application/json&quot;)\r\npublic class JMSEndpoint {\r\n\r\n  @Inject\r\n  JMSProducer producer;\r\n\r\n  @POST\r\n  public Response sendMessage(String message) {\r\n    System.out.println(&quot;recieved request&quot;);\r\n    producer.sendMessage(message);\r\n\r\n    return Response.status(201).build();\r\n  }\r\n}\r\n```\r\n\r\nI then have a JMS producer like so\r\n\r\n```java\r\npackage org.acme.jms;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.jms.JMSContext;\r\nimport javax.jms.JMSRuntimeException;\r\nimport javax.jms.Session;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.core.Response.ResponseBuilder;\r\n\r\n@ApplicationScoped\r\npublic class JMSProducer {\r\n\r\n  @Inject\r\n  ConnectionFactory connectionFactory;\r\n\r\n  public ResponseBuilder sendMessage(String message) {\r\n    try (\r\n      JMSContext context = connectionFactory.createContext(\r\n        Session.AUTO_ACKNOWLEDGE\r\n      )\r\n    ) {\r\n      context.createProducer().send(context.createQueue(&quot;test123&quot;), message);\r\n      System.out.println(&quot;hello&quot;);\r\n      return Response.status(201);\r\n    } catch (JMSRuntimeException ex) {\r\n      // handle exception (details omitted)\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n```\r\nWhen i `POST http://localhost:9999/jms` with the data `{&quot;message&quot;:&quot;Hello!&quot;}` I see in the logs that\r\n\r\n```bash\r\n2023-02-10 18:02:54,411 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) Calling close on session ClientSessionImpl [name=c286799e-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=()]@17bdcc0a\r\nHello!\r\n```\r\n\r\nthen it gets stuck here for about 20-30 seconds and finally it manages to close the connection and return 200 to postman\r\n\r\n```bash\r\n2023-02-10 18:03:24,412 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) calling cleanup on ClientSessionImpl [name=c286799e-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=()]@17bdcc0a\r\n2023-02-10 18:03:24,414 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) Calling close on session ClientSessionImpl [name=c285411d-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=(jms-session=,)]@20b6a6bb\r\n2023-02-10 18:03:24,417 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) calling cleanup on ClientSessionImpl [name=c285411d-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=(jms-session=,)]@20b6a6bb\r\n2023-02-10 18:03:24,419 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) Session was already closed, giving up now, this=ClientSessionImpl [name=c285411d-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=true, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=(jms-session=,)]@20b6a6bb\r\n```\r\n\r\nWhat i expect to happen is that that the client closes the connection directly and returns the status to postman. Why does it take 30 seconds?  I have no idea how to solve this issue I&#39;ve tried everything it feels like and no success.\r\n\r\n\r\n\r\n\r\n\r\nMy pom.xml for version\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jms-quickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;2.12.1.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n        &lt;quarkus-artemis.version&gt;1.2.0&lt;/quarkus-artemis.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkiverse.artemis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-artemis-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus-artemis.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.artemis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-artemis-jms&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;native&lt;/name&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n            &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;systemPropertyVariables&gt;\r\n                                        &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                                    &lt;/systemPropertyVariables&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Quarkus code hangs after calling close() on JMS session","body":"<p>Hi I have the following Java 11 Quarkus project</p>\n<p>simple endpoint</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.jms;\n\nimport javax.inject.Inject;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Response;\n\n@Path(&quot;/jms&quot;)\n@Produces(&quot;application/json&quot;)\n@Consumes(&quot;application/json&quot;)\npublic class JMSEndpoint {\n\n  @Inject\n  JMSProducer producer;\n\n  @POST\n  public Response sendMessage(String message) {\n    System.out.println(&quot;recieved request&quot;);\n    producer.sendMessage(message);\n\n    return Response.status(201).build();\n  }\n}\n</code></pre>\n<p>I then have a JMS producer like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.jms;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.jms.ConnectionFactory;\nimport javax.jms.JMSContext;\nimport javax.jms.JMSRuntimeException;\nimport javax.jms.Session;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.ResponseBuilder;\n\n@ApplicationScoped\npublic class JMSProducer {\n\n  @Inject\n  ConnectionFactory connectionFactory;\n\n  public ResponseBuilder sendMessage(String message) {\n    try (\n      JMSContext context = connectionFactory.createContext(\n        Session.AUTO_ACKNOWLEDGE\n      )\n    ) {\n      context.createProducer().send(context.createQueue(&quot;test123&quot;), message);\n      System.out.println(&quot;hello&quot;);\n      return Response.status(201);\n    } catch (JMSRuntimeException ex) {\n      // handle exception (details omitted)\n    }\n    return null;\n  }\n}\n\n</code></pre>\n<p>When i <code>POST http://localhost:9999/jms</code> with the data <code>{&quot;message&quot;:&quot;Hello!&quot;}</code> I see in the logs that</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-02-10 18:02:54,411 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) Calling close on session ClientSessionImpl [name=c286799e-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=()]@17bdcc0a\nHello!\n</code></pre>\n<p>then it gets stuck here for about 20-30 seconds and finally it manages to close the connection and return 200 to postman</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-02-10 18:03:24,412 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) calling cleanup on ClientSessionImpl [name=c286799e-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=()]@17bdcc0a\n2023-02-10 18:03:24,414 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) Calling close on session ClientSessionImpl [name=c285411d-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=(jms-session=,)]@20b6a6bb\n2023-02-10 18:03:24,417 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) calling cleanup on ClientSessionImpl [name=c285411d-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=(jms-session=,)]@20b6a6bb\n2023-02-10 18:03:24,419 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionImpl] (executor-thread-0) Session was already closed, giving up now, this=ClientSessionImpl [name=c285411d-a964-11ed-8c7d-00155d72b785, username=quarkus, closed=true, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@7e4bc0a6, metaData=(jms-session=,)]@20b6a6bb\n</code></pre>\n<p>What i expect to happen is that that the client closes the connection directly and returns the status to postman. Why does it take 30 seconds?  I have no idea how to solve this issue I've tried everything it feels like and no success.</p>\n<p>My pom.xml for version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\n    &lt;artifactId&gt;jms-quickstart&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;2.12.1.Final&lt;/quarkus.platform.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n        &lt;quarkus-artemis.version&gt;1.2.0&lt;/quarkus-artemis.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.quarkiverse.artemis&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-artemis-bom&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus-artemis.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.artemis&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-artemis-jms&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;systemPropertyVariables&gt;\n                                        &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                                    &lt;/systemPropertyVariables&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","numberpicker"],"answers":[{"tags":[],"owner":{"account_id":6566896,"reputation":935,"user_id":5076170,"accept_rate":57,"display_name":"Hoa.Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680247001,"creation_date":1680246681,"answer_id":75895777,"question_id":75892952,"body_markdown":"I don&#39;t know what you want, but if you want short code you can try this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        Integer[] pass =  {0,0,0,0};\r\n        String currentPass = &quot;0000&quot;;// 0000 is your default selection in number picker\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            findViewById(R.id.btn_check).setOnClickListener(view -&gt; {\r\n                currentPass = &quot;&quot;;\r\n                for (Integer item : pass) {\r\n                    currentPass += item.toString();\r\n                }\r\n                Toast.makeText(getApplication(), currentPass, Toast.LENGTH_LONG).show();\r\n            });\r\n            NumberPicker numberPicker = findViewById(R.id.numberPicker1);\r\n            NumberPicker numberPicker2 = findViewById(R.id.numberPicker2);\r\n            NumberPicker numberPicker3 = findViewById(R.id.numberPicker3);\r\n            NumberPicker numberPicker4 = findViewById(R.id.numberPicker4);\r\n            List&lt;NumberPicker&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(numberPicker);\r\n            list.add(numberPicker2);\r\n            list.add(numberPicker3);\r\n            list.add(numberPicker4);\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                final int posChange = i;\r\n                NumberPicker item = list.get(i);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                    item.setSelectionDividerHeight(0);\r\n                }\r\n                item.setMinValue(0);\r\n                item.setMaxValue(5);\r\n                item.setOnValueChangedListener((picker, oldVal, newVal) -&gt; pass[posChange] = newVal);\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android Group multiple number pickers together","body":"<p>I don't know what you want, but if you want short code you can try this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    Integer[] pass =  {0,0,0,0};\n    String currentPass = \"0000\";// 0000 is your default selection in number picker\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        findViewById(R.id.btn_check).setOnClickListener(view -&gt; {\n            currentPass = \"\";\n            for (Integer item : pass) {\n                currentPass += item.toString();\n            }\n            Toast.makeText(getApplication(), currentPass, Toast.LENGTH_LONG).show();\n        });\n        NumberPicker numberPicker = findViewById(R.id.numberPicker1);\n        NumberPicker numberPicker2 = findViewById(R.id.numberPicker2);\n        NumberPicker numberPicker3 = findViewById(R.id.numberPicker3);\n        NumberPicker numberPicker4 = findViewById(R.id.numberPicker4);\n        List&lt;NumberPicker&gt; list = new ArrayList&lt;&gt;();\n        list.add(numberPicker);\n        list.add(numberPicker2);\n        list.add(numberPicker3);\n        list.add(numberPicker4);\n        for (int i = 0; i &lt; list.size(); i++) {\n            final int posChange = i;\n            NumberPicker item = list.get(i);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                item.setSelectionDividerHeight(0);\n            }\n            item.setMinValue(0);\n            item.setMaxValue(5);\n            item.setOnValueChangedListener((picker, oldVal, newVal) -&gt; pass[posChange] = newVal);\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":4103896,"reputation":53,"user_id":3368585,"accept_rate":20,"display_name":"LaCalienta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680247001,"creation_date":1680210050,"question_id":75892952,"body_markdown":"I would like to group number pickers together so they would form a number\r\n\r\nwith this I was able to make it look like this\r\n\r\nXML:\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.appcompat.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/toolbar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:title=&quot;@string/app_name&quot;\r\n        app:subtitle=&quot;@string/app_description&quot;\r\n        app:expandable=&quot;true&quot;\r\n        app:expanded=&quot;true&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/mainLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;2&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;NumberPicker\r\n                android:id=&quot;@+id/numberPicker1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n            &lt;NumberPicker\r\n                android:id=&quot;@+id/numberPicker2&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;/&gt;\r\n    \r\n            &lt;NumberPicker\r\n                android:id=&quot;@+id/numberPicker3&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;/&gt;\r\n            &lt;NumberPicker\r\n                android:id=&quot;@+id/numberPicker4&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;/&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n        \r\n    \r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n```\r\n\r\nMainActivity.java\r\n\r\n```java\r\n    package com.company.app;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.VibrationEffect;\r\n    import android.os.Vibrator;\r\n    import android.widget.NumberPicker;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.google.android.material.textview.MaterialTextView;\r\n    import com.company.app;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private SharedPreferences sharedPreferences;\r\n    \r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.Q)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            //Number picker\r\n            NumberPicker numberPicker = findViewById(R.id.numberPicker1);\r\n            if (numberPicker != null) {\r\n    \r\n                //If API level &gt;= 29\r\n                numberPicker.setSelectionDividerHeight(0);\r\n    \r\n                numberPicker.setMinValue(0);\r\n                numberPicker.setMaxValue(5);\r\n                numberPicker.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\r\n                    @Override\r\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\r\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\r\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            //Number picker\r\n            NumberPicker numberPicker2 = findViewById(R.id.numberPicker2);\r\n            if (numberPicker2 != null) {\r\n    \r\n                //If API level &gt;= 29\r\n                numberPicker2.setSelectionDividerHeight(0);\r\n    \r\n                //Else read here: https://stackoverflow.com/a/48144749/3368585\r\n    \r\n                numberPicker2.setMinValue(0);\r\n                numberPicker2.setMaxValue(5);\r\n                numberPicker2.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\r\n                    @Override\r\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\r\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\r\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            //Number picker\r\n            NumberPicker numberPicker3 = findViewById(R.id.numberPicker3);\r\n            if (numberPicker3 != null) {\r\n    \r\n                //If API level &gt;= 29\r\n                numberPicker3.setSelectionDividerHeight(0);\r\n    \r\n                //Else read here: https://stackoverflow.com/a/48144749/3368585\r\n    \r\n                numberPicker3.setMinValue(0);\r\n                numberPicker3.setMaxValue(5);\r\n                numberPicker3.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\r\n                    @Override\r\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\r\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\r\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            //Number picker\r\n            NumberPicker numberPicker4 = findViewById(R.id.numberPicker4);\r\n            if (numberPicker2 != null) {\r\n    \r\n                //If API level &gt;= 29\r\n                numberPicker4.setSelectionDividerHeight(0);\r\n    \r\n                //Else read here: https://stackoverflow.com/a/48144749/3368585\r\n    \r\n                numberPicker4.setMinValue(0);\r\n                numberPicker4.setMaxValue(5);\r\n                numberPicker4.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\r\n                    @Override\r\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\r\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\r\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n    \r\n    }\r\n```\r\n\r\nMine currently looks like this \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut it should look like this (aligned and on center of course (mine image is a bit crooked)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nalso I would like this collection of NumberPickers to behave more like one number, like you can still change individual pickers, but that you would get one onChangeEvent which would get you one number (sort of like combination lock where you change individual wheels, but at the end the whole number has to be correct)\r\n\r\nBecause right now, I have to have 4 pickers, each having its own event and it duplicates code to much\r\n\r\nThanks for Anwsering and Best Regards\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agcWJ.png\r\n  [2]: https://i.stack.imgur.com/kKe1P.png","title":"Android Group multiple number pickers together","body":"<p>I would like to group number pickers together so they would form a number</p>\n<p>with this I was able to make it look like this</p>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.appcompat.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:id=&quot;@+id/toolbar_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:title=&quot;@string/app_name&quot;\n        app:subtitle=&quot;@string/app_description&quot;\n        app:expandable=&quot;true&quot;\n        app:expanded=&quot;true&quot;\n        tools:context=&quot;.MainActivity&quot;&gt;\n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/mainLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;2&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n    \n            &lt;NumberPicker\n                android:id=&quot;@+id/numberPicker1&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot; /&gt;\n    \n            &lt;NumberPicker\n                android:id=&quot;@+id/numberPicker2&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;/&gt;\n    \n            &lt;NumberPicker\n                android:id=&quot;@+id/numberPicker3&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;/&gt;\n            &lt;NumberPicker\n                android:id=&quot;@+id/numberPicker4&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;/&gt;\n    \n        &lt;/LinearLayout&gt;\n        \n    \n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.company.app;\n    \n    import android.app.Activity;\n    import android.content.Context;\n    import android.content.Intent;\n    import android.content.SharedPreferences;\n    import android.os.Build;\n    import android.os.Bundle;\n    import android.os.VibrationEffect;\n    import android.os.Vibrator;\n    import android.widget.NumberPicker;\n    import android.widget.Toast;\n    \n    import androidx.annotation.NonNull;\n    import androidx.annotation.RequiresApi;\n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import com.google.android.material.textview.MaterialTextView;\n    import com.company.app;\n    \n    public class MainActivity extends AppCompatActivity {\n    \n        private SharedPreferences sharedPreferences;\n    \n    \n        @RequiresApi(api = Build.VERSION_CODES.Q)\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            //Number picker\n            NumberPicker numberPicker = findViewById(R.id.numberPicker1);\n            if (numberPicker != null) {\n    \n                //If API level &gt;= 29\n                numberPicker.setSelectionDividerHeight(0);\n    \n                numberPicker.setMinValue(0);\n                numberPicker.setMaxValue(5);\n                numberPicker.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\n                    @Override\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n    \n            //Number picker\n            NumberPicker numberPicker2 = findViewById(R.id.numberPicker2);\n            if (numberPicker2 != null) {\n    \n                //If API level &gt;= 29\n                numberPicker2.setSelectionDividerHeight(0);\n    \n                //Else read here: https://stackoverflow.com/a/48144749/3368585\n    \n                numberPicker2.setMinValue(0);\n                numberPicker2.setMaxValue(5);\n                numberPicker2.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\n                    @Override\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n    \n            //Number picker\n            NumberPicker numberPicker3 = findViewById(R.id.numberPicker3);\n            if (numberPicker3 != null) {\n    \n                //If API level &gt;= 29\n                numberPicker3.setSelectionDividerHeight(0);\n    \n                //Else read here: https://stackoverflow.com/a/48144749/3368585\n    \n                numberPicker3.setMinValue(0);\n                numberPicker3.setMaxValue(5);\n                numberPicker3.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\n                    @Override\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n    \n            //Number picker\n            NumberPicker numberPicker4 = findViewById(R.id.numberPicker4);\n            if (numberPicker2 != null) {\n    \n                //If API level &gt;= 29\n                numberPicker4.setSelectionDividerHeight(0);\n    \n                //Else read here: https://stackoverflow.com/a/48144749/3368585\n    \n                numberPicker4.setMinValue(0);\n                numberPicker4.setMaxValue(5);\n                numberPicker4.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\n                    @Override\n                    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\n                        //String text = &quot;Changed from &quot; + oldVal + &quot; to &quot; + newVal;\n                        //Toast.makeText(MainActivity.this, text, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n    \n    }\n</code></pre>\n<p>Mine currently looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/agcWJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agcWJ.png\" alt=\"enter image description here\" /></a></p>\n<p>But it should look like this (aligned and on center of course (mine image is a bit crooked)</p>\n<p><a href=\"https://i.stack.imgur.com/kKe1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKe1P.png\" alt=\"enter image description here\" /></a></p>\n<p>also I would like this collection of NumberPickers to behave more like one number, like you can still change individual pickers, but that you would get one onChangeEvent which would get you one number (sort of like combination lock where you change individual wheels, but at the end the whole number has to be correct)</p>\n<p>Because right now, I have to have 4 pickers, each having its own event and it duplicates code to much</p>\n<p>Thanks for Anwsering and Best Regards</p>\n"},{"tags":["java","timer","execute"],"comments":[{"owner":{"account_id":98304,"reputation":33355,"user_id":266198,"accept_rate":89,"display_name":"Nim"},"score":1,"creation_date":1353683357,"post_id":13531650,"comment_id":18527565,"body_markdown":"possible duplicate of [How to set a timer in java](http://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java\">How to set a timer in java</a>"},{"owner":{"account_id":1851215,"reputation":93,"user_id":1677746,"accept_rate":78,"display_name":"Misoxeny"},"score":0,"creation_date":1353683689,"post_id":13531650,"comment_id":18527693,"body_markdown":"I do have a timer, I edited my question so you can see what it looks like.","body":"I do have a timer, I edited my question so you can see what it looks like."},{"owner":{"account_id":1068638,"reputation":3078,"user_id":1068470,"accept_rate":82,"display_name":"ThePerson"},"score":0,"creation_date":1353683812,"post_id":13531650,"comment_id":18527742,"body_markdown":"Does your snake game have threading?","body":"Does your snake game have threading?"},{"owner":{"account_id":1851215,"reputation":93,"user_id":1677746,"accept_rate":78,"display_name":"Misoxeny"},"score":0,"creation_date":1353683871,"post_id":13531650,"comment_id":18527758,"body_markdown":"No, I have no idea what threading is, haha. ^_^","body":"No, I have no idea what threading is, haha. ^_^"},{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":1,"creation_date":1353684675,"post_id":13531650,"comment_id":18528094,"body_markdown":"http://zetcode.com/tutorials/javagamestutorial/","body":"<a href=\"http://zetcode.com/tutorials/javagamestutorial/\" rel=\"nofollow noreferrer\">zetcode.com/tutorials/javagamestutorial</a>"},{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":0,"creation_date":1353684875,"post_id":13531650,"comment_id":18528171,"body_markdown":"http://www.ntu.edu.sg/home/ehchua/programming/java/J8d_Game_Framework.html","body":"<a href=\"http://www.ntu.edu.sg/home/ehchua/programming/java/J8d_Game_Framework.html\" rel=\"nofollow noreferrer\">ntu.edu.sg/home/ehchua/programming/java/J8d_Game_Framework.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1680246568,"creation_date":1353683446,"answer_id":13531678,"question_id":13531650,"body_markdown":"Simplest thing is to use `Thread.sleep()`.\r\n\r\n    apple.x = rg.nextInt(470);\r\n    apple.y = rg.nextInt(470);\r\n    Thread.sleep(1000);\r\n\r\nRun the above code in loop. \r\n\r\nThis will give you an **approximate** (may not be exact) one second delay.","title":"In Java, how do I execute code every X seconds?","body":"<p>Simplest thing is to use <code>Thread.sleep()</code>.</p>\n<pre><code>apple.x = rg.nextInt(470);\napple.y = rg.nextInt(470);\nThread.sleep(1000);\n</code></pre>\n<p>Run the above code in loop.</p>\n<p>This will give you an <strong>approximate</strong> (may not be exact) one second delay.</p>\n"},{"tags":[],"owner":{"account_id":2073264,"reputation":5019,"user_id":1847261,"accept_rate":92,"display_name":"Phil K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353684203,"creation_date":1353684203,"answer_id":13531863,"question_id":13531650,"body_markdown":"You should have some sort of game loop which is responsible for processing the game. You can trigger code to be executed within this loop every *x* milliseconds like so:\r\n\r\n    while(gameLoopRunning) {\r\n        if((System.currentTimeMillis() - lastExecution) &gt;= 1000) {\r\n            // Code to move apple goes here.\r\n\r\n            lastExecution = System.currentTimeMillis();\r\n        }\r\n    }\r\n\r\nIn this example, the condition in the if statement would evaluate to `true` every 1000 milliseconds.","title":"In Java, how do I execute code every X seconds?","body":"<p>You should have some sort of game loop which is responsible for processing the game. You can trigger code to be executed within this loop every <em>x</em> milliseconds like so:</p>\n\n<pre><code>while(gameLoopRunning) {\n    if((System.currentTimeMillis() - lastExecution) &gt;= 1000) {\n        // Code to move apple goes here.\n\n        lastExecution = System.currentTimeMillis();\n    }\n}\n</code></pre>\n\n<p>In this example, the condition in the if statement would evaluate to <code>true</code> every 1000 milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1353688865,"creation_date":1353688865,"answer_id":13532934,"question_id":13531650,"body_markdown":"I would use an executor \r\n\r\n\r\n    ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n        Runnable toRun = new Runnable() {\r\n            public void run() {\r\n                System.out.println(&quot;your code...&quot;);\r\n            }\r\n        };\r\n    ScheduledFuture&lt;?&gt; handle = scheduler.scheduleAtFixedRate(toRun, 1, 1, TimeUnit.SECONDS);","title":"In Java, how do I execute code every X seconds?","body":"<p>I would use an executor </p>\n\n<pre><code>ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n    Runnable toRun = new Runnable() {\n        public void run() {\n            System.out.println(\"your code...\");\n        }\n    };\nScheduledFuture&lt;?&gt; handle = scheduler.scheduleAtFixedRate(toRun, 1, 1, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306628,"reputation":2766,"user_id":617485,"accept_rate":87,"display_name":"Ospho"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434557869,"creation_date":1375766438,"answer_id":18072300,"question_id":13531650,"body_markdown":"Use a timer:\r\n\r\n    Timer timer = new Timer();\r\n    int begin = 1000; //timer starts after 1 second.\r\n    int timeinterval = 10 * 1000; //timer executes every 10 seconds.\r\n    timer.scheduleAtFixedRate(new TimerTask() {\r\n      @Override\r\n      public void run() {\r\n        //This code is executed at every interval defined by timeinterval (eg 10 seconds) \r\n       //And starts after x milliseconds defined by begin.\r\n      }\r\n    },begin, timeinterval);\r\n\r\nDocumentation: [Oracle documentation Timer][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#scheduleAtFixedRate(java.util.TimerTask,%20long,%20long)","title":"In Java, how do I execute code every X seconds?","body":"<p>Use a timer:</p>\n\n<pre><code>Timer timer = new Timer();\nint begin = 1000; //timer starts after 1 second.\nint timeinterval = 10 * 1000; //timer executes every 10 seconds.\ntimer.scheduleAtFixedRate(new TimerTask() {\n  @Override\n  public void run() {\n    //This code is executed at every interval defined by timeinterval (eg 10 seconds) \n   //And starts after x milliseconds defined by begin.\n  }\n},begin, timeinterval);\n</code></pre>\n\n<p>Documentation: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#scheduleAtFixedRate(java.util.TimerTask,%20long,%20long)\" rel=\"nofollow\">Oracle documentation Timer</a></p>\n"}],"owner":{"account_id":1851215,"reputation":93,"user_id":1677746,"accept_rate":78,"display_name":"Misoxeny"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13531678,"answer_count":4,"score":0,"last_activity_date":1680246568,"creation_date":1353683267,"question_id":13531650,"body_markdown":"I&#39;m making a really simple snake game, and I have an object called Apple which I want to move to a random position every X seconds. So my question is, what is the easiest way to execute this code every X seconds?\r\n\r\n    apple.x = rg.nextInt(470);\r\n    apple.y = rg.nextInt(470);\r\n\r\n\r\n\r\nThanks.\r\n\r\nEdit:\r\n\r\nWell do have a timer already  like this: \r\n\r\n    Timer t = new Timer(10,this);\r\n    t.start();\r\n\r\nWhat it does is draw my graphic elements when the game is started, it runs this code: \r\n\r\n    @Override\r\n    \tpublic void actionPerformed(ActionEvent arg0) {\r\n    \t\tGraphics g = this.getGraphics();\r\n    \t\tGraphics e = this.getGraphics();\r\n    \t\tg.setColor(Color.black);\r\n    \t\tg.fillRect(0, 0, this.getWidth(), this.getHeight());\r\n    \t\te.fillRect(0, 0, this.getWidth(), this.getHeight());\r\n    \t\tep.drawApple(e);\r\n    \t\tse.drawMe(g);","title":"In Java, how do I execute code every X seconds?","body":"<p>I'm making a really simple snake game, and I have an object called Apple which I want to move to a random position every X seconds. So my question is, what is the easiest way to execute this code every X seconds?</p>\n\n<pre><code>apple.x = rg.nextInt(470);\napple.y = rg.nextInt(470);\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>Edit:</p>\n\n<p>Well do have a timer already  like this: </p>\n\n<pre><code>Timer t = new Timer(10,this);\nt.start();\n</code></pre>\n\n<p>What it does is draw my graphic elements when the game is started, it runs this code: </p>\n\n<pre><code>@Override\n    public void actionPerformed(ActionEvent arg0) {\n        Graphics g = this.getGraphics();\n        Graphics e = this.getGraphics();\n        g.setColor(Color.black);\n        g.fillRect(0, 0, this.getWidth(), this.getHeight());\n        e.fillRect(0, 0, this.getWidth(), this.getHeight());\n        ep.drawApple(e);\n        se.drawMe(g);\n</code></pre>\n"},{"tags":["java","merge","crdt"],"answers":[{"comments":[{"owner":{"account_id":28175244,"reputation":3,"user_id":21533114,"display_name":"rinbeq"},"score":0,"creation_date":1680262761,"post_id":75895761,"comment_id":133872527,"body_markdown":"Thank you for the time @cyberbrain. All of your advice has lead to a properly working code. I will try my best to abide to the established naming conventions of any language in the future.","body":"Thank you for the time @cyberbrain. All of your advice has lead to a properly working code. I will try my best to abide to the established naming conventions of any language in the future."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680246543,"creation_date":1680246543,"answer_id":75895761,"question_id":75895137,"body_markdown":"Looking at your code, several improvements can be done. I start with the one you asked for, so you can stop after that:\r\n\r\nYour method `merge` uses the static variable `size` as stop criterion in the `for` loop, that is never explicitly initialized, so it is implicitly initialized to `0` - the loop in `merge` never does a single pass, so your output shows an unmodified `Alice`.\r\n\r\nBut even if it would use a &quot;better&quot; size, like e.g. `first.vectorClock.size()` it would not output the correct result - but a different one:\r\n\r\n``` lang-text\r\nAlice&#39;s replica after merging: \r\nVector Clock: [1, null, 0]\r\nValues: [Hello, 12312, null]\r\n```\r\n\r\nThis is because your `max` method always returns `null`.  I would recommend that you use a built in `max` method like `Integer.max(int, int)`. Then your expected result will be output.\r\n\r\n----\r\nAnd now for some other findings (you could stop reading, your original problem is solved):\r\nPlease use an established naming convention when you post code here, for Java this is in the Java Language Specification, chapter 6. Names, section [6.1. Declarations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.1) (it starts after the long nested list there, written in italic).\r\n\r\nSo for your class name that should be `MvrCrdt` or maybe better `MultiValueRegisterCRDT` - or even longer?\r\nYour instances `Alice` and `Bob` should start with a lowercase letter and be `alice` and `bob`.\r\n\r\nYour code leftovers and commented code should be removed, before posting here.\r\n\r\n*Declarations:* your member fields do not need to know the implementation of the list, it&#39;s sufficient to use `List&lt;Integer&gt;` and `List&lt;Object&gt;`, use `ArrayList&lt;&gt;` in the constructor only with the `new` operator!\r\n\r\nAs you never reassign the member fields `vectorClock` and `values`,  you should make them `final`.\r\n\r\n*Constructor:* You don&#39;t need to specify the type that the list stores on the assignment, it&#39;s sufficient to have `this.vectorClock = new ArrayList&lt;&gt;(Collections.nCopies(size, 0));`\r\n\r\n*Method `setValue`*: You have the same issue with `size` in your `setValue` method, replace it with `this.values.size()`.\r\n\r\nIn the `while` loop inside your `for` loop the values of `i` and `index` never change inside the `while` loop, so you should replace the `while` with an `if` or you change the loop-body. Otherwise you will have an endless loop, if the loop is ever entered! For now you didn&#39;t face this problem, since the outer `for` loop never was entered.\r\n\r\n*Method `merge`*: That method should neither be `static` nor take two parameters. It always modifies the first input, so it could as well just take the object to merge into the current instance and manipulate `this` instead of `first`: \r\n```lang-java\r\npublic void merge(MultiValueRegisterCrdt other) {\r\n  //loops through the ArrayList\r\n  for (int i = 0; i &lt; this.vectorClock.size(); i++) {\r\n    //if there is a value to be merged\r\n    if (other.values.get(i) != null) {\r\n      this.vectorClock.set(i, Integer.max(this.vectorClock.get(i), other.vectorClock.get(i)));\r\n     this.values.set(i, other.values.get(i));\r\n    }\r\n  }\r\n}\r\n```\r\nWith that modification you would have to use it so: `alice.merge(bob);`\r\n\r\n*Method `query`:* you could replace this with an override of `toString` like: \r\n``` lang-java\r\n@Override\r\npublic String toString() {\r\n  return &quot;MultiValueRegisterCrdt{&quot; +\r\n      &quot;vectorClock=&quot; + vectorClock +\r\n      &quot;, values=&quot; + values +\r\n      &#39;}&#39;;\r\n}\r\n```\r\nThen you can use it like `System.out.println(&quot;Alice&#39;s replica: \\n&quot; + alice);`","title":"How to change this merge() method for a Multi-Value Register CRDT implementation?","body":"<p>Looking at your code, several improvements can be done. I start with the one you asked for, so you can stop after that:</p>\n<p>Your method <code>merge</code> uses the static variable <code>size</code> as stop criterion in the <code>for</code> loop, that is never explicitly initialized, so it is implicitly initialized to <code>0</code> - the loop in <code>merge</code> never does a single pass, so your output shows an unmodified <code>Alice</code>.</p>\n<p>But even if it would use a &quot;better&quot; size, like e.g. <code>first.vectorClock.size()</code> it would not output the correct result - but a different one:</p>\n<pre class=\"lang-text prettyprint-override\"><code>Alice's replica after merging: \nVector Clock: [1, null, 0]\nValues: [Hello, 12312, null]\n</code></pre>\n<p>This is because your <code>max</code> method always returns <code>null</code>.  I would recommend that you use a built in <code>max</code> method like <code>Integer.max(int, int)</code>. Then your expected result will be output.</p>\n<hr />\n<p>And now for some other findings (you could stop reading, your original problem is solved):\nPlease use an established naming convention when you post code here, for Java this is in the Java Language Specification, chapter 6. Names, section <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.1\" rel=\"nofollow noreferrer\">6.1. Declarations</a> (it starts after the long nested list there, written in italic).</p>\n<p>So for your class name that should be <code>MvrCrdt</code> or maybe better <code>MultiValueRegisterCRDT</code> - or even longer?\nYour instances <code>Alice</code> and <code>Bob</code> should start with a lowercase letter and be <code>alice</code> and <code>bob</code>.</p>\n<p>Your code leftovers and commented code should be removed, before posting here.</p>\n<p><em>Declarations:</em> your member fields do not need to know the implementation of the list, it's sufficient to use <code>List&lt;Integer&gt;</code> and <code>List&lt;Object&gt;</code>, use <code>ArrayList&lt;&gt;</code> in the constructor only with the <code>new</code> operator!</p>\n<p>As you never reassign the member fields <code>vectorClock</code> and <code>values</code>,  you should make them <code>final</code>.</p>\n<p><em>Constructor:</em> You don't need to specify the type that the list stores on the assignment, it's sufficient to have <code>this.vectorClock = new ArrayList&lt;&gt;(Collections.nCopies(size, 0));</code></p>\n<p><em>Method <code>setValue</code></em>: You have the same issue with <code>size</code> in your <code>setValue</code> method, replace it with <code>this.values.size()</code>.</p>\n<p>In the <code>while</code> loop inside your <code>for</code> loop the values of <code>i</code> and <code>index</code> never change inside the <code>while</code> loop, so you should replace the <code>while</code> with an <code>if</code> or you change the loop-body. Otherwise you will have an endless loop, if the loop is ever entered! For now you didn't face this problem, since the outer <code>for</code> loop never was entered.</p>\n<p><em>Method <code>merge</code></em>: That method should neither be <code>static</code> nor take two parameters. It always modifies the first input, so it could as well just take the object to merge into the current instance and manipulate <code>this</code> instead of <code>first</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void merge(MultiValueRegisterCrdt other) {\n  //loops through the ArrayList\n  for (int i = 0; i &lt; this.vectorClock.size(); i++) {\n    //if there is a value to be merged\n    if (other.values.get(i) != null) {\n      this.vectorClock.set(i, Integer.max(this.vectorClock.get(i), other.vectorClock.get(i)));\n     this.values.set(i, other.values.get(i));\n    }\n  }\n}\n</code></pre>\n<p>With that modification you would have to use it so: <code>alice.merge(bob);</code></p>\n<p><em>Method <code>query</code>:</em> you could replace this with an override of <code>toString</code> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n  return &quot;MultiValueRegisterCrdt{&quot; +\n      &quot;vectorClock=&quot; + vectorClock +\n      &quot;, values=&quot; + values +\n      '}';\n}\n</code></pre>\n<p>Then you can use it like <code>System.out.println(&quot;Alice's replica: \\n&quot; + alice);</code></p>\n"}],"owner":{"account_id":28175244,"reputation":3,"user_id":21533114,"display_name":"rinbeq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75895761,"answer_count":1,"score":0,"last_activity_date":1680246543,"creation_date":1680240585,"question_id":75895137,"body_markdown":"I have the following problem: In this simple implementation of a MVR-CRDT the merge() method should add all values that are not null to the merged replica. For that to happen i used a for loop which iterates through both ArrayLists. At every index where a value is present it compares the vector clocks and overwrites the value of the highest clock at said index. It seems to not be working as intended. I would be glad if somebody can point out the problem. \r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class MVR_CRDT{\r\n\r\n    //variables\r\n    static int size;\r\n    private ArrayList&lt;Integer&gt; vectorClock;\r\n    private ArrayList&lt;Object&gt; values;\r\n    \r\n    //constructor\r\n    public MVR_CRDT(int size) {\r\n        this.vectorClock = new ArrayList&lt;Integer&gt;(Collections.nCopies(size, 0));\r\n        this.values = new ArrayList&lt;Object&gt;(Collections.nCopies(size, null));\r\n    }    \r\n    \r\n    //sets a value and increments its corresponding vector clock\r\n    public void setValue(int index, Object value) {\r\n        //check if value is different\r\n        if (value != this.values.get(index)){\r\n            this.vectorClock.set(index, this.vectorClock.get(index) + 1);\r\n            this.values.set(index, value);\r\n            //goes over the other indexes and empties their value\r\n            for (int i = 0; i &lt; size; i++) {\r\n                while (i != index){\r\n                    this.values.set(i, null);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //the second replica merges into the first\r\n    public static void merge(MVR_CRDT first, MVR_CRDT second){\r\n            //loops through the ArrayList\r\n            for (int i = 0; i &lt; size; i++) {\r\n                //if there is a value to be merged\r\n                if (second.values.get(i) != null){\r\n                    first.vectorClock.set(i, max(first.vectorClock.get(i), second.vectorClock.get(i)));\r\n                    first.values.set(i, second.values.get(i));\r\n                }\r\n            }\r\n    }\r\n    \r\n    private static Integer max(Integer integer, Integer integer2) {\r\n        return null;\r\n    }\r\n\r\n    //gets the value at index position of a replica\r\n    public Object getValue(int index) {\r\n        return this.values.get(index);\r\n    }\r\n\r\n    public Integer getVector(int index) {\r\n        return this.vectorClock.get(index);\r\n    }\r\n\r\n    //prints the replica\r\n    public void query() {\r\n        System.out.println(&quot;Vector Clock: &quot; + this.vectorClock.toString());\r\n        System.out.println(&quot;Values: &quot; + this.values.toString() + &quot;\\n&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MVR_CRDT Alice = new MVR_CRDT(3);\r\n        MVR_CRDT Bob = new MVR_CRDT(3);\r\n        MVR_CRDT Charlie = new MVR_CRDT(3);\r\n\r\n        Alice.setValue(0, &quot;Hello&quot;);\r\n        Alice.setValue(0, &quot;Hello&quot;); //to show that Alices counter does not increase\r\n        System.out.println(&quot;Alice&#39;s replica: &quot;);\r\n        Alice.query();\r\n\r\n        Bob.setValue(1, 12312);\r\n        System.out.println(&quot;Bob&#39;s replica: &quot;);\r\n        Bob.query();\r\n\r\n        // Charlie.setValue(2, false);\r\n\r\n        merge(Alice, Bob);\r\n        System.out.println(&quot;Alice&#39;s replica after merging: &quot;);\r\n        Alice.query();\r\n\r\n        // System.out.println(Bob.getValue(1) + &quot; , &quot; + Bob.getVector(1));\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nOutput after merge expected:\r\n\r\n\r\n`Vector Clock: [1, 1, 0]\r\nValues: [Hello, 12312, null]`\r\n\r\nMain method output:\r\n\r\n```\r\nAlice&#39;s replica: \r\nVector Clock: [1, 0, 0]\r\nValues: [Hello, null, null]\r\n\r\nBob&#39;s replica:\r\nVector Clock: [0, 1, 0]\r\nValues: [null, 12312, null]\r\n\r\nAlice&#39;s replica after merging:\r\nVector Clock: [1, 0, 0]\r\nValues: [Hello, null, null]\r\n```\r\n\r\n","title":"How to change this merge() method for a Multi-Value Register CRDT implementation?","body":"<p>I have the following problem: In this simple implementation of a MVR-CRDT the merge() method should add all values that are not null to the merged replica. For that to happen i used a for loop which iterates through both ArrayLists. At every index where a value is present it compares the vector clocks and overwrites the value of the highest clock at said index. It seems to not be working as intended. I would be glad if somebody can point out the problem.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class MVR_CRDT{\n\n    //variables\n    static int size;\n    private ArrayList&lt;Integer&gt; vectorClock;\n    private ArrayList&lt;Object&gt; values;\n    \n    //constructor\n    public MVR_CRDT(int size) {\n        this.vectorClock = new ArrayList&lt;Integer&gt;(Collections.nCopies(size, 0));\n        this.values = new ArrayList&lt;Object&gt;(Collections.nCopies(size, null));\n    }    \n    \n    //sets a value and increments its corresponding vector clock\n    public void setValue(int index, Object value) {\n        //check if value is different\n        if (value != this.values.get(index)){\n            this.vectorClock.set(index, this.vectorClock.get(index) + 1);\n            this.values.set(index, value);\n            //goes over the other indexes and empties their value\n            for (int i = 0; i &lt; size; i++) {\n                while (i != index){\n                    this.values.set(i, null);\n                }\n            }\n        }\n    }\n\n    //the second replica merges into the first\n    public static void merge(MVR_CRDT first, MVR_CRDT second){\n            //loops through the ArrayList\n            for (int i = 0; i &lt; size; i++) {\n                //if there is a value to be merged\n                if (second.values.get(i) != null){\n                    first.vectorClock.set(i, max(first.vectorClock.get(i), second.vectorClock.get(i)));\n                    first.values.set(i, second.values.get(i));\n                }\n            }\n    }\n    \n    private static Integer max(Integer integer, Integer integer2) {\n        return null;\n    }\n\n    //gets the value at index position of a replica\n    public Object getValue(int index) {\n        return this.values.get(index);\n    }\n\n    public Integer getVector(int index) {\n        return this.vectorClock.get(index);\n    }\n\n    //prints the replica\n    public void query() {\n        System.out.println(&quot;Vector Clock: &quot; + this.vectorClock.toString());\n        System.out.println(&quot;Values: &quot; + this.values.toString() + &quot;\\n&quot;);\n    }\n\n    public static void main(String[] args) {\n        MVR_CRDT Alice = new MVR_CRDT(3);\n        MVR_CRDT Bob = new MVR_CRDT(3);\n        MVR_CRDT Charlie = new MVR_CRDT(3);\n\n        Alice.setValue(0, &quot;Hello&quot;);\n        Alice.setValue(0, &quot;Hello&quot;); //to show that Alices counter does not increase\n        System.out.println(&quot;Alice's replica: &quot;);\n        Alice.query();\n\n        Bob.setValue(1, 12312);\n        System.out.println(&quot;Bob's replica: &quot;);\n        Bob.query();\n\n        // Charlie.setValue(2, false);\n\n        merge(Alice, Bob);\n        System.out.println(&quot;Alice's replica after merging: &quot;);\n        Alice.query();\n\n        // System.out.println(Bob.getValue(1) + &quot; , &quot; + Bob.getVector(1));\n\n    }\n\n}\n</code></pre>\n<p>Output after merge expected:</p>\n<p><code>Vector Clock: [1, 1, 0] Values: [Hello, 12312, null]</code></p>\n<p>Main method output:</p>\n<pre><code>Alice's replica: \nVector Clock: [1, 0, 0]\nValues: [Hello, null, null]\n\nBob's replica:\nVector Clock: [0, 1, 0]\nValues: [null, 12312, null]\n\nAlice's replica after merging:\nVector Clock: [1, 0, 0]\nValues: [Hello, null, null]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","tomcat"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1680264898,"post_id":75893574,"comment_id":133873018,"body_markdown":"The url May be different than you think.","body":"The url May be different than you think."}],"answers":[{"comments":[{"owner":{"account_id":3190280,"reputation":21,"user_id":2694740,"display_name":"user2694740"},"score":0,"creation_date":1680455597,"post_id":75895754,"comment_id":133897741,"body_markdown":"Sure, that seems fine, but when I add the dependencies in my pom.xml, then Tomcat does not start a WAR. Is there a way to see some error message why Tomcat does not start it?","body":"Sure, that seems fine, but when I add the dependencies in my pom.xml, then Tomcat does not start a WAR. Is there a way to see some error message why Tomcat does not start it?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680486080,"post_id":75895754,"comment_id":133901542,"body_markdown":"First of all, we need to rule out environmental problems, so, can you copy my file and generate war, and then execute it successfully on your tomcat 10? If so, your environment should be fine.","body":"First of all, we need to rule out environmental problems, so, can you copy my file and generate war, and then execute it successfully on your tomcat 10? If so, your environment should be fine."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680486548,"post_id":75895754,"comment_id":133901613,"body_markdown":"start tomcat , then check , tomcat `/logs/`, (1) catalina.2023-04-03.log (2) catalina.out (3) localhost.2023-04-03.log (4) localhost_access_log.2023-04-03.txt, check any error message in log files.","body":"start tomcat , then check , tomcat <code>&#47;logs&#47;</code>, (1) catalina.2023-04-03.log (2) catalina.out (3) localhost.2023-04-03.log (4) localhost_access_log.2023-04-03.txt, check any error message in log files."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680486943,"post_id":75895754,"comment_id":133901642,"body_markdown":"Which URL does your `/manager/html` refer to? `http://localhost:8080/manager/html` or `http://localhost:8080/yourapp/manager/html`","body":"Which URL does your <code>&#47;manager&#47;html</code> refer to? <code>http:&#47;&#47;localhost:8080&#47;manager&#47;html</code> or <code>http:&#47;&#47;localhost:8080&#47;yourapp&#47;manager&#47;html</code>"}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680246436,"creation_date":1680246436,"answer_id":75895754,"question_id":75893574,"body_markdown":"Very Small Spring Boot 3.x WAR Examples\r\n\r\n# hello project\r\n\r\n```\r\nhello\r\n├── pom.xml\r\n└── src\r\n    └── main\r\n        ├── java\r\n        │&#160;&#160; └── com\r\n        │&#160;&#160;     └── example\r\n        │&#160;&#160;         ├── DemoSpringbootJspApplication.java\r\n        │&#160;&#160;         └── HelloJSPController.java\r\n        ├── resources\r\n        │&#160;&#160; └── application.properties\r\n        └── webapp\r\n            ├── index.jsp\r\n            └── WEB-INF\r\n                └── jsp\r\n                    └── hello.jsp\r\n```\r\n\r\n## application.properties\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n## DemoSpringbootJspApplication.java\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class DemoSpringbootJspApplication  extends SpringBootServletInitializer {\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(DemoSpringbootJspApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoSpringbootJspApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## HelloJSPController.java\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.util.Map;\r\n\r\n@Controller\r\npublic class HelloJSPController {\r\n\r\n    @RequestMapping(value=&quot;/hellojsp&quot;, method = RequestMethod.GET)\r\n    public ModelAndView hello(Map&lt;String, Object&gt; model) {\r\n    \r\n        System.out.println(&quot;HelloJSP Controller hello&quot;);\r\n        \r\n        model.put(&quot;message&quot;, &quot;HelloJSP Controller hello&quot;);\r\n\r\n        // /WEB-INF/jsp/hello.jsp\r\n        return new ModelAndView(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\n## index.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Welcome&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;%\r\n// debug\r\nSystem.out.println(&quot;webapp / index.jsp &quot;);\r\n%&gt;\r\n&lt;body&gt;\r\n   &lt;h1 class=&quot;color-red&quot;&gt;SpringBoot index.jsp!!  &lt;%=&quot;HELLO WORLD&quot;%&gt; &lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n## hello.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Hello&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;%\r\n// debug\r\nSystem.out.println(&quot;webapp / WEB-INF / jsp / hello.jsp &quot;);\r\n%&gt;\r\n&lt;body&gt;\r\n   &lt;h1 class=&quot;color-red&quot;&gt;SpringBoot hello.jsp!!  ${message} &lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo-springboot-jsp&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo-springboot-jsp&lt;/name&gt;\r\n\t&lt;description&gt;Demo Spring Boot JSP&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t        &lt;finalName&gt;hello&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n# Package\r\n\r\nrun `mvn clean package`\r\n\r\n# Put tomcat 10\r\n\r\ncopy target/hello.war to your tomcat 10 /webapps/\r\n\r\ncd tomcat 10 /bin/ \r\n\r\nrun `./startup.sh`\r\n\r\n# web test\r\n\r\n`http://localhost:8080/hello/` &lt;-- index.jsp\r\n\r\n`http://localhost:8080/hello/hellojsp` &lt;-- HelloJSPController and hello.jsp\r\n\r\n# check log file\r\n\r\ntomcat 10 `/logs/catalina.out`\r\n\r\n```\r\n...\r\nduring scanning can improve startup time and JSP compilation time.\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.4)\r\n\r\n2023-03-31T14:48:47.067+08:00  INFO 20122 --- [           main] c.example.DemoSpringbootJspApplication   : Starting DemoSpringbootJspApplication v0.0.1-SNAPSHOT\r\n...\r\n31-Mar-2023 14:48:48.354 info [main] org.apache.catalina.startup.Catalina.start Server startup in [2802] milliseconds\r\nwebapp / index.jsp \r\n2023-03-31T14:49:17.896+08:00  INFO 20122 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-03-31T14:49:17.897+08:00  INFO 20122 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\nHelloJSP Controller hello\r\nwebapp / WEB-INF / jsp / hello.jsp \r\nHelloJSP Controller hello\r\nwebapp / WEB-INF / jsp / hello.jsp \r\n```\r\nyou can find spring boot war file startup and jsp output message to log.\r\n\r\n# Environment\r\n\r\n- apache-tomcat-10.1.5\r\n- JDK : OpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\r\n- maven: Apache Maven 3.8.4","title":"Why is Spring Boot 3 WAR not running in Tomcat 10 or 11?","body":"<p>Very Small Spring Boot 3.x WAR Examples</p>\n<h1>hello project</h1>\n<pre><code>hello\n├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── example\n        │           ├── DemoSpringbootJspApplication.java\n        │           └── HelloJSPController.java\n        ├── resources\n        │   └── application.properties\n        └── webapp\n            ├── index.jsp\n            └── WEB-INF\n                └── jsp\n                    └── hello.jsp\n</code></pre>\n<h2>application.properties</h2>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<h2>DemoSpringbootJspApplication.java</h2>\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoSpringbootJspApplication  extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(DemoSpringbootJspApplication.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoSpringbootJspApplication.class, args);\n    }\n\n}\n</code></pre>\n<h2>HelloJSPController.java</h2>\n<pre><code>package com.example;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.util.Map;\n\n@Controller\npublic class HelloJSPController {\n\n    @RequestMapping(value=&quot;/hellojsp&quot;, method = RequestMethod.GET)\n    public ModelAndView hello(Map&lt;String, Object&gt; model) {\n    \n        System.out.println(&quot;HelloJSP Controller hello&quot;);\n        \n        model.put(&quot;message&quot;, &quot;HelloJSP Controller hello&quot;);\n\n        // /WEB-INF/jsp/hello.jsp\n        return new ModelAndView(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<h2>index.jsp</h2>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Welcome&lt;/title&gt;\n&lt;/head&gt;\n&lt;%\n// debug\nSystem.out.println(&quot;webapp / index.jsp &quot;);\n%&gt;\n&lt;body&gt;\n   &lt;h1 class=&quot;color-red&quot;&gt;SpringBoot index.jsp!!  &lt;%=&quot;HELLO WORLD&quot;%&gt; &lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h2>hello.jsp</h2>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Hello&lt;/title&gt;\n&lt;/head&gt;\n&lt;%\n// debug\nSystem.out.println(&quot;webapp / WEB-INF / jsp / hello.jsp &quot;);\n%&gt;\n&lt;body&gt;\n   &lt;h1 class=&quot;color-red&quot;&gt;SpringBoot hello.jsp!!  ${message} &lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-springboot-jsp&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-springboot-jsp&lt;/name&gt;\n    &lt;description&gt;Demo Spring Boot JSP&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n            &lt;finalName&gt;hello&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h1>Package</h1>\n<p>run <code>mvn clean package</code></p>\n<h1>Put tomcat 10</h1>\n<p>copy target/hello.war to your tomcat 10 /webapps/</p>\n<p>cd tomcat 10 /bin/</p>\n<p>run <code>./startup.sh</code></p>\n<h1>web test</h1>\n<p><code>http://localhost:8080/hello/</code> &lt;-- index.jsp</p>\n<p><code>http://localhost:8080/hello/hellojsp</code> &lt;-- HelloJSPController and hello.jsp</p>\n<h1>check log file</h1>\n<p>tomcat 10 <code>/logs/catalina.out</code></p>\n<pre><code>...\nduring scanning can improve startup time and JSP compilation time.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.4)\n\n2023-03-31T14:48:47.067+08:00  INFO 20122 --- [           main] c.example.DemoSpringbootJspApplication   : Starting DemoSpringbootJspApplication v0.0.1-SNAPSHOT\n...\n31-Mar-2023 14:48:48.354 info [main] org.apache.catalina.startup.Catalina.start Server startup in [2802] milliseconds\nwebapp / index.jsp \n2023-03-31T14:49:17.896+08:00  INFO 20122 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-03-31T14:49:17.897+08:00  INFO 20122 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nHelloJSP Controller hello\nwebapp / WEB-INF / jsp / hello.jsp \nHelloJSP Controller hello\nwebapp / WEB-INF / jsp / hello.jsp \n</code></pre>\n<p>you can find spring boot war file startup and jsp output message to log.</p>\n<h1>Environment</h1>\n<ul>\n<li>apache-tomcat-10.1.5</li>\n<li>JDK : OpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)</li>\n<li>maven: Apache Maven 3.8.4</li>\n</ul>\n"}],"owner":{"account_id":3190280,"reputation":21,"user_id":2694740,"display_name":"user2694740"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680246436,"creation_date":1680216895,"question_id":75893574,"body_markdown":"I have recently updated my Spring Boot application to Spring Boot 3. However, when I try to run it on Tomcat 10 or Tomcat 11, nothing happens. There is nothing in the logs - no error. Opening the app locally returns 404. I can see the deployment running when I go to /manager/html.\r\n\r\nI am attaching my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test&lt;/name&gt;\r\n\t&lt;description&gt;test&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.openhtmltopdf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;openhtmltopdf-pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.10&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-vfs2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.55&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.2.2.jre11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc10&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19.18.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;42.5.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;json-smart&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-smart&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.0-rc1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JPA Provider (Hibernate) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.0.CR4&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Data JPA --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.laurell.log4j2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extended-jsonlayout&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.0-rc1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.0-rc1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.0-rc1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.157&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2022.0.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.QuerydslAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIs it possible to run Spring Boot 3 on Tomcat? Am I missing some package? \r\n\r\nDoes the Spring Tomcat dependency support Tomcat 10/11?\r\n\r\nThank you for help and appreciate any tip!","title":"Why is Spring Boot 3 WAR not running in Tomcat 10 or 11?","body":"<p>I have recently updated my Spring Boot application to Spring Boot 3. However, when I try to run it on Tomcat 10 or Tomcat 11, nothing happens. There is nothing in the logs - no error. Opening the app locally returns 404. I can see the deployment running when I go to /manager/html.</p>\n<p>I am attaching my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;test&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.openhtmltopdf&lt;/groupId&gt;\n            &lt;artifactId&gt;openhtmltopdf-pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n                    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-vfs2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.1.55&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;6.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n            &lt;version&gt;6.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.2.2.jre11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc10&lt;/artifactId&gt;\n            &lt;version&gt;19.18.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;42.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n                    &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n            &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0-rc1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JPA Provider (Hibernate) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.CR4&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Data JPA --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-collections&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.laurell.log4j2&lt;/groupId&gt;\n            &lt;artifactId&gt;extended-jsonlayout&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0-rc1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0-rc1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0-rc1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n            &lt;version&gt;4.8.157&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;6.0.0&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.QuerydslAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                        &lt;version&gt;5.0.0&lt;/version&gt;\n                        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is it possible to run Spring Boot 3 on Tomcat? Am I missing some package?</p>\n<p>Does the Spring Tomcat dependency support Tomcat 10/11?</p>\n<p>Thank you for help and appreciate any tip!</p>\n"},{"tags":["java","swing","jslider"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679717346,"post_id":75839470,"comment_id":133775281,"body_markdown":"Comparing the images, it looks like you almost have it. But, I don&#39;t see where in your code you try to set the red part. Try editing the question to show a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).  Also, is a layout manager specified in the tutorial? If so, which?","body":"Comparing the images, it looks like you almost have it. But, I don&#39;t see where in your code you try to set the red part. Try editing the question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>.  Also, is a layout manager specified in the tutorial? If so, which?"}],"answers":[{"comments":[{"owner":{"account_id":25085516,"reputation":39,"user_id":18937777,"display_name":"Leah"},"score":0,"creation_date":1679715962,"post_id":75839532,"comment_id":133775178,"body_markdown":"Hi, thanks for the answer, but I think there&#39;s a misunderstanding here: I wasn&#39;t talking about the ticks and stuff, it was the &quot;color&quot; showing on the glider that was missing in my case, whereas it was showing in the windows OS","body":"Hi, thanks for the answer, but I think there&#39;s a misunderstanding here: I wasn&#39;t talking about the ticks and stuff, it was the &quot;color&quot; showing on the glider that was missing in my case, whereas it was showing in the windows OS"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679716569,"post_id":75839532,"comment_id":133775231,"body_markdown":"What color? You’ve set no color - different OS/platform different look and feel","body":"What color? You’ve set no color - different OS/platform different look and feel"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679716916,"post_id":75839532,"comment_id":133775254,"body_markdown":"@Leah No this isn&#39;t a &quot;bug&quot;, this is expected.  MacOS by default uses the &quot;system&quot; look and feel, where as Windows (seems) to use the Metal (of &quot;cross platform&quot;) look  and feel - see the update","body":"@Leah No this isn&#39;t a &quot;bug&quot;, this is expected.  MacOS by default uses the &quot;system&quot; look and feel, where as Windows (seems) to use the Metal (of &quot;cross platform&quot;) look  and feel - see the update"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679716859,"creation_date":1679715433,"answer_id":75839532,"question_id":75839470,"body_markdown":"Based on examples from [How to Use Sliders](https://docs.oracle.com/javase/tutorial/uiswing/components/slider.html), you also need to include `JSlider#setMajorTickSpacing` and/or `JSlider#setMinorTickSpacing`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                JSlider slider = new JSlider(0, 100, 50);\r\n                slider.setPaintTicks(true);\r\n                slider.setMajorTickSpacing(10);\r\n                slider.setMinorTickSpacing(5);\r\n\r\n                setLayout(new BorderLayout());\r\n                add(slider);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n&gt; I wasn&#39;t talking about the ticks and stuff, it was the &quot;color&quot; showing on the glider that was missing in my case, whereas it was showing in the windows OS \r\n\r\nDifferent OS, different look and feel.  By default, MacOS will make use of the system look and feel as Windows, we&#39;ll it does what it wants to do.\r\n\r\nSoo.. If I add\r\n\r\n    UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\r\n\r\nbefore the frame creation I get...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut...as a user, I would prefer you didn&#39;t and instead, made use of the system look and feel.\r\n\r\nSee [How to Set the Look and Feel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html) for more details\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dc54Q.png\r\n  [2]: https://i.stack.imgur.com/UhCCu.png","title":"JSlider won&#39;t show color for setPaintTicks","body":"<p>Based on examples from <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/slider.html\" rel=\"nofollow noreferrer\">How to Use Sliders</a>, you also need to include <code>JSlider#setMajorTickSpacing</code> and/or <code>JSlider#setMinorTickSpacing</code></p>\n<p><a href=\"https://i.stack.imgur.com/dc54Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dc54Q.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            JSlider slider = new JSlider(0, 100, 50);\n            slider.setPaintTicks(true);\n            slider.setMajorTickSpacing(10);\n            slider.setMinorTickSpacing(5);\n\n            setLayout(new BorderLayout());\n            add(slider);\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>I wasn't talking about the ticks and stuff, it was the &quot;color&quot; showing on the glider that was missing in my case, whereas it was showing in the windows OS</p>\n</blockquote>\n<p>Different OS, different look and feel.  By default, MacOS will make use of the system look and feel as Windows, we'll it does what it wants to do.</p>\n<p>Soo.. If I add</p>\n<pre><code>UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\n</code></pre>\n<p>before the frame creation I get...</p>\n<p><a href=\"https://i.stack.imgur.com/UhCCu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UhCCu.png\" alt=\"enter image description here\" /></a></p>\n<p>but...as a user, I would prefer you didn't and instead, made use of the system look and feel.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\" rel=\"nofollow noreferrer\">How to Set the Look and Feel</a> for more details</p>\n"}],"owner":{"account_id":25085516,"reputation":39,"user_id":18937777,"display_name":"Leah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680246374,"creation_date":1679713788,"question_id":75839470,"body_markdown":"I did exactly what the demonstrator showed in tutorial, however the color for my slider tick wasn&#39;t showing.\r\n\r\nHere&#39;s the glider in the demonstration video:\r\n[![Screenshot][1]][1]\r\n\r\nHere&#39;s mine:\r\n[![Screenshot][2]][2]\r\n\r\nI&#39;m wondering if it&#39;s because I&#39;m on a MacBook, since the demonstrator was using Windows.\r\nNot sure if it&#39;s the problem of my code or OS.\r\nHere&#39;s my code:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class SliderDemo {\r\n    JFrame frame;\r\n    JPanel panel;\r\n    JLabel label;\r\n    JSlider slider;\r\n\r\n    SliderDemo(){\r\n        frame = new JFrame(&quot;Slider Demo&quot;);\r\n        panel = new JPanel();\r\n        label = new JLabel();\r\n        slider = new JSlider(0,100,50);\r\n\r\n        slider.setPreferredSize(new Dimension(400, 200));\r\n        slider.setPaintTicks(true);\r\n\r\n        panel.add(slider);\r\n        panel.add(label);\r\n        frame.add(panel);\r\n        frame.setSize(420,420);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/6MB2v.png\r\n  [2]: https://i.stack.imgur.com/psZL3.png","title":"JSlider won&#39;t show color for setPaintTicks","body":"<p>I did exactly what the demonstrator showed in tutorial, however the color for my slider tick wasn't showing.</p>\n<p>Here's the glider in the demonstration video:\n<a href=\"https://i.stack.imgur.com/6MB2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MB2v.png\" alt=\"Screenshot\" /></a></p>\n<p>Here's mine:\n<a href=\"https://i.stack.imgur.com/psZL3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psZL3.png\" alt=\"Screenshot\" /></a></p>\n<p>I'm wondering if it's because I'm on a MacBook, since the demonstrator was using Windows.\nNot sure if it's the problem of my code or OS.\nHere's my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class SliderDemo {\n    JFrame frame;\n    JPanel panel;\n    JLabel label;\n    JSlider slider;\n\n    SliderDemo(){\n        frame = new JFrame(&quot;Slider Demo&quot;);\n        panel = new JPanel();\n        label = new JLabel();\n        slider = new JSlider(0,100,50);\n\n        slider.setPreferredSize(new Dimension(400, 200));\n        slider.setPaintTicks(true);\n\n        panel.add(slider);\n        panel.add(label);\n        frame.add(panel);\n        frame.setSize(420,420);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","html","replace"],"answers":[{"tags":[],"owner":{"account_id":27893346,"reputation":94,"user_id":21299216,"display_name":"Idk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680212330,"creation_date":1680212330,"answer_id":75893203,"question_id":75893168,"body_markdown":"you can use the Pattern.quote() method to escape all regex meta chars in a string\r\n\r\n```\r\nString input = &quot;&lt;title&gt;text | more&lt;/title&gt;&quot;;\r\nString[] expected = {&quot;&lt;title&gt;&quot;, &quot;text | more&quot;, &quot;&lt;/title&gt;&quot;};\r\n\r\nString[] parts = input.split(Pattern.quote(&quot;&gt;&quot;));\r\n\r\nfor (String part : parts) {\r\n    input = input.replaceFirst(Pattern.quote(part), &quot;&quot;);\r\n}\r\n\r\nSystem.out.println(Arrays.toString(parts)); \r\n","title":"Use Java String.replaceFirst for replacing strings containing special regex characters","body":"<p>you can use the Pattern.quote() method to escape all regex meta chars in a string</p>\n<pre><code>String input = &quot;&lt;title&gt;text | more&lt;/title&gt;&quot;;\nString[] expected = {&quot;&lt;title&gt;&quot;, &quot;text | more&quot;, &quot;&lt;/title&gt;&quot;};\n\nString[] parts = input.split(Pattern.quote(&quot;&gt;&quot;));\n\nfor (String part : parts) {\n    input = input.replaceFirst(Pattern.quote(part), &quot;&quot;);\n}\n\nSystem.out.println(Arrays.toString(parts)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680212843,"creation_date":1680212843,"answer_id":75893257,"question_id":75893168,"body_markdown":"There&#39;s no need for replacements. You can directly split on lookarounds for `&lt;` and `&gt;`.\r\n\r\n```java\r\nString[] res = input.split(&quot;(?&lt;=&gt;)|(?=&lt;)&quot;);\r\n// [&lt;title&gt;, text | more, &lt;/title&gt;]\r\n```\r\n\r\nHowever, it should be noted that regular expressions are not the best tool for parsing HTML. Consider using an XML parser instead.\r\n\r\n","title":"Use Java String.replaceFirst for replacing strings containing special regex characters","body":"<p>There's no need for replacements. You can directly split on lookarounds for <code>&lt;</code> and <code>&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] res = input.split(&quot;(?&lt;=&gt;)|(?=&lt;)&quot;);\n// [&lt;title&gt;, text | more, &lt;/title&gt;]\n</code></pre>\n<p>However, it should be noted that regular expressions are not the best tool for parsing HTML. Consider using an XML parser instead.</p>\n"}],"owner":{"account_id":14316540,"reputation":41,"user_id":10341164,"display_name":"Johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75893203,"answer_count":2,"score":0,"last_activity_date":1680246123,"creation_date":1680211978,"question_id":75893168,"body_markdown":"For splitting a string of HTML-sourcecode into it&#39;s parts, I have written a method that takes the next desired part of the string, copies it into a list of strings and removes the occurence in the string afterwards.\r\nFor the removal, I am using `text.replaceFirst(s, &quot;&quot;)`.\r\n\r\nUnfortunately, the provided HTML-Code contains regex meta chars like &#39;|&#39;, resulting in only a partial removal of the characters I have already copied.\r\n\r\nI really don&#39;t want to try to prefix all possibly problematic symbols with a backslash for escaping as it is tedious work and prone to mistakes.\r\n\r\nIs there a possibility to replace only the first occurence of a string in another string without having to worry about such characters?\r\n\r\n\r\nExample:\r\n\r\n    String input = &quot;&lt;title&gt;text | more&lt;/title&gt;&quot;;\r\n    String[] expected = [&quot;&lt;title&gt;&quot;, &quot;text | more&quot;, &quot;&lt;/title&gt;&quot;];\r\n\r\nI split for &gt;, therefore get `&quot;&lt;title&gt;&quot;`, add this to my lists of results and call `input.replaceFirst(&quot;&lt;title&gt;&quot;, &quot;&quot;);`, leaving my input as `&quot;text | more&lt;/title&gt;&quot;`\r\n\r\nI split for &lt;, therefore get `&quot;text | more&quot;`, add this to my lists of results and call `input.replaceFirst(&quot;text | more&quot;, &quot;&quot;)`, leaving my input as `&quot;| more&lt;/title&gt;&quot;`, but I would have wanted my input as `&quot;&lt;/title&gt;&quot;`.\r\n\r\n","title":"Use Java String.replaceFirst for replacing strings containing special regex characters","body":"<p>For splitting a string of HTML-sourcecode into it's parts, I have written a method that takes the next desired part of the string, copies it into a list of strings and removes the occurence in the string afterwards.\nFor the removal, I am using <code>text.replaceFirst(s, &quot;&quot;)</code>.</p>\n<p>Unfortunately, the provided HTML-Code contains regex meta chars like '|', resulting in only a partial removal of the characters I have already copied.</p>\n<p>I really don't want to try to prefix all possibly problematic symbols with a backslash for escaping as it is tedious work and prone to mistakes.</p>\n<p>Is there a possibility to replace only the first occurence of a string in another string without having to worry about such characters?</p>\n<p>Example:</p>\n<pre><code>String input = &quot;&lt;title&gt;text | more&lt;/title&gt;&quot;;\nString[] expected = [&quot;&lt;title&gt;&quot;, &quot;text | more&quot;, &quot;&lt;/title&gt;&quot;];\n</code></pre>\n<p>I split for &gt;, therefore get <code>&quot;&lt;title&gt;&quot;</code>, add this to my lists of results and call <code>input.replaceFirst(&quot;&lt;title&gt;&quot;, &quot;&quot;);</code>, leaving my input as <code>&quot;text | more&lt;/title&gt;&quot;</code></p>\n<p>I split for &lt;, therefore get <code>&quot;text | more&quot;</code>, add this to my lists of results and call <code>input.replaceFirst(&quot;text | more&quot;, &quot;&quot;)</code>, leaving my input as <code>&quot;| more&lt;/title&gt;&quot;</code>, but I would have wanted my input as <code>&quot;&lt;/title&gt;&quot;</code>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680245748,"creation_date":1680245748,"answer_id":75895666,"question_id":75891474,"body_markdown":"You&#39;re getting the following error message:\r\n\r\n&gt; Firebase Database connection was forcefully killed by the server. Will not attempt to reconnect. Reason: The database lives in a different region.\r\n\r\nBecause you&#39;re passing to the [getInstance()][1] method, the wrong URL:\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://Destination.firebaseio.com/&quot;);\r\n\r\nThe URL of your project is not:\r\n\r\n    https://Destination.firebaseio.com/\r\n\r\nBut:\r\n\r\n    https://destination-e6a01-default-rtdb.europe-west1.firebasedatabase.app\r\n\r\nSo to solve this, please change the `database` declaration to:\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://destination-e6a01-default-rtdb.europe-west1.firebasedatabase.app&quot;);\r\n\r\nBesides that, please remove the following line of code:\r\n\r\n    //DatabaseReference myRef = database.getReference(&quot;destination-e6a01-default-rtdb&quot;);\r\n\r\nBecause the database URL should be passed to the `getInstance()` method and not the `getReference()` method. One more thing to mention is that when you pass an URL, you have to pass with the `https://` not without it.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase#getInstance(java.lang.String)","title":"Firebase database connection was killed but information is going to a database just dunno what one Android Studio","body":"<p>You're getting the following error message:</p>\n<blockquote>\n<p>Firebase Database connection was forcefully killed by the server. Will not attempt to reconnect. Reason: The database lives in a different region.</p>\n</blockquote>\n<p>Because you're passing to the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase#getInstance(java.lang.String)\" rel=\"nofollow noreferrer\">getInstance()</a> method, the wrong URL:</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://Destination.firebaseio.com/&quot;);\n</code></pre>\n<p>The URL of your project is not:</p>\n<pre><code>https://Destination.firebaseio.com/\n</code></pre>\n<p>But:</p>\n<pre><code>https://destination-e6a01-default-rtdb.europe-west1.firebasedatabase.app\n</code></pre>\n<p>So to solve this, please change the <code>database</code> declaration to:</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://destination-e6a01-default-rtdb.europe-west1.firebasedatabase.app&quot;);\n</code></pre>\n<p>Besides that, please remove the following line of code:</p>\n<pre><code>//DatabaseReference myRef = database.getReference(&quot;destination-e6a01-default-rtdb&quot;);\n</code></pre>\n<p>Because the database URL should be passed to the <code>getInstance()</code> method and not the <code>getReference()</code> method. One more thing to mention is that when you pass an URL, you have to pass with the <code>https://</code> not without it.</p>\n"}],"owner":{"account_id":27841709,"reputation":3,"user_id":21258064,"display_name":"Donny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75895666,"answer_count":1,"score":0,"last_activity_date":1680245784,"creation_date":1680198862,"question_id":75891474,"body_markdown":"I&#39;ve added Firebase into my Android Studio however I am getting an error:\r\n \r\n&gt; W/PersistentConnection: pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt to reconnect. Reason: The database lives in a different region. Please change your database URL to https://destination-e6a01-default-rtdb.europe-west1.firebasedatabase.app&quot;\r\n\r\nI changed the region but nothing is happening\r\nIn my app I have this in my java code:\r\n```\r\n// Initialize Firebase in your app\r\n        FirebaseApp.initializeApp(this);\r\n\r\n        // Create a reference to your Firebase Realtime Database instance using the URL\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://Destination.firebaseio.com/&quot;);\r\n        Log.d(&quot;TAG&quot;, &quot;Database URL: &quot; + database.getReference().toString());\r\n\r\n\r\n        DatabaseReference myRef = database.getReference(&quot;destination-e6a01-default-rtdb&quot;);\r\n\r\n        Spinner categorySpinner = findViewById(R.id.spinner_categories);\r\n        String category = categorySpinner.getSelectedItem().toString();\r\n\r\n        double latitude = 52.519345;\r\n        double longitude = -6.610428;\r\n\r\n        VanCameraLocations speedvancameralocations = new VanCameraLocations(latitude, longitude, category);\r\n\r\n        myRef.push().setValue(speedvancameralocations);\r\n```\r\nI tried using this [question][1] however the answer for this question didn&#39;t work for me. My logcat is saying some information was uploaded to a database but the database I am using when I go look at my database online it doesn&#39;t show my database can anyone help me\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69060872/firebase-database-connection-was-forcefully-killed-by-the-server-different-regi","title":"Firebase database connection was killed but information is going to a database just dunno what one Android Studio","body":"<p>I've added Firebase into my Android Studio however I am getting an error:</p>\n<blockquote>\n<p>W/PersistentConnection: pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt to reconnect. Reason: The database lives in a different region. Please change your database URL to https://destination-e6a01-default-rtdb.europe-west1.firebasedatabase.app&quot;</p>\n</blockquote>\n<p>I changed the region but nothing is happening\nIn my app I have this in my java code:</p>\n<pre><code>// Initialize Firebase in your app\n        FirebaseApp.initializeApp(this);\n\n        // Create a reference to your Firebase Realtime Database instance using the URL\n        FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://Destination.firebaseio.com/&quot;);\n        Log.d(&quot;TAG&quot;, &quot;Database URL: &quot; + database.getReference().toString());\n\n\n        DatabaseReference myRef = database.getReference(&quot;destination-e6a01-default-rtdb&quot;);\n\n        Spinner categorySpinner = findViewById(R.id.spinner_categories);\n        String category = categorySpinner.getSelectedItem().toString();\n\n        double latitude = 52.519345;\n        double longitude = -6.610428;\n\n        VanCameraLocations speedvancameralocations = new VanCameraLocations(latitude, longitude, category);\n\n        myRef.push().setValue(speedvancameralocations);\n</code></pre>\n<p>I tried using this <a href=\"https://stackoverflow.com/questions/69060872/firebase-database-connection-was-forcefully-killed-by-the-server-different-regi\">question</a> however the answer for this question didn't work for me. My logcat is saying some information was uploaded to a database but the database I am using when I go look at my database online it doesn't show my database can anyone help me</p>\n"},{"tags":["java","testing","junit","mockito","spring-test"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680246444,"post_id":75895636,"comment_id":133868828,"body_markdown":"What is the signature of one of the methods in CalculationService? This method should call a method in one of the other services - please provide the service name and that method signature. I will answer with an example.","body":"What is the signature of one of the methods in CalculationService? This method should call a method in one of the other services - please provide the service name and that method signature. I will answer with an example."}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680245524,"creation_date":1680245524,"question_id":75895636,"body_markdown":"I have Service that reads excel file and put data in HashMap , and I want to test method but I don`t know right way to do , because my Service looks like this\r\n``` @Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Data\r\npublic class CalculationServiceImpl implements CalculationService {\r\n\r\n    private final ExcelParserService excelParserService;\r\n\r\n    private final AttachmentService attachmentService;\r\n\r\n    private final PdfParserService pdfParserService;\r\n\r\n    private final PreferentialStatusService preferentialStatusService;\r\n\r\n    private final CurrencyRateService currencyRateService;\r\n\r\n    @Override\r\n    public Map&lt;Long, PartEntity&gt; getFullDataPartMap(Map&lt;Long, PartEntity&gt; data) {\r\n\r\n       //Method that reads Excel file using all service at the top and return Map&lt;Long,PartEntity&gt;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nand I want to test exactly reading and putting data in to HashMap, but in my opinion doing something like this wouldn`t be the smartest way\r\n```\r\n    private CalculationService calculationService = new CalculationServiceImpl(new ExcelParserServiceImpl(),new AttachmentServiceImpl(),new PdfParserServiceImpl(),new PreferentialStatusServiceImpl(),new CurrencyRateServiceImpl());\r\n\r\n```\r\nAnd unfortunately I don`t know much about mocks , so what is the best way to do this ?","title":"JUnit 5 Testing Service that reads Excel file","body":"<p>I have Service that reads excel file and put data in HashMap , and I want to test method but I don`t know right way to do , because my Service looks like this</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Data\npublic class CalculationServiceImpl implements CalculationService {\n\n    private final ExcelParserService excelParserService;\n\n    private final AttachmentService attachmentService;\n\n    private final PdfParserService pdfParserService;\n\n    private final PreferentialStatusService preferentialStatusService;\n\n    private final CurrencyRateService currencyRateService;\n\n    @Override\n    public Map&lt;Long, PartEntity&gt; getFullDataPartMap(Map&lt;Long, PartEntity&gt; data) {\n\n       //Method that reads Excel file using all service at the top and return Map&lt;Long,PartEntity&gt;\n\n    }\n\n}\n</code></pre>\n<p>and I want to test exactly reading and putting data in to HashMap, but in my opinion doing something like this wouldn`t be the smartest way</p>\n<pre><code>    private CalculationService calculationService = new CalculationServiceImpl(new ExcelParserServiceImpl(),new AttachmentServiceImpl(),new PdfParserServiceImpl(),new PreferentialStatusServiceImpl(),new CurrencyRateServiceImpl());\n\n</code></pre>\n<p>And unfortunately I don`t know much about mocks , so what is the best way to do this ?</p>\n"},{"tags":["java","parsing","deserialization","toml"],"answers":[{"comments":[{"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"score":2,"creation_date":1643826488,"post_id":70034329,"comment_id":125444947,"body_markdown":"But toml4j hasn&#39;t had a release since 2016 and can only parse Toml 0.4.0.\ntomlj&#39;s only release (at the time of this writing) was in 2019, and can parse Toml 1.0.0-rc1.","body":"But toml4j hasn&#39;t had a release since 2016 and can only parse Toml 0.4.0. tomlj&#39;s only release (at the time of this writing) was in 2019, and can parse Toml 1.0.0-rc1."},{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1651121514,"post_id":70034329,"comment_id":127288532,"body_markdown":"@Alan https://github.com/valderman/4koma is the best I&#39;ve found","body":"@Alan <a href=\"https://github.com/valderman/4koma\" rel=\"nofollow noreferrer\">github.com/valderman/4koma</a> is the best I&#39;ve found"}],"tags":[],"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637322271,"creation_date":1637322271,"answer_id":70034329,"question_id":70033062,"body_markdown":"There are several libraries to work with TOML files in Java, such as [mwanji/toml4j][1] and [tomlj/tomlj][2]. \r\nThe `toml4j` looks more maintained and has the ability to map the TOML file to your POJO classes, so it should perfectly match your needs.\r\n\r\nFrom its [documentation][3]:\r\n\r\n&gt; `Toml#to(Class&lt;T&gt;)` maps a Toml instance to the given class. \r\n&gt;\r\n&gt; TOML file example:\r\n&gt; \r\n&gt;     name = &quot;Mwanji Ezana&quot;\r\n&gt;     \r\n&gt;     [address]\r\n&gt;       street = &quot;123 A Street&quot;\r\n&gt;       city = &quot;AnyVille&quot;\r\n&gt;       \r\n&gt;     [contacts]\r\n&gt;       &quot;email address&quot; = &quot;me@example.com&quot;\r\n&gt; \r\n&gt; POJO classes example:\r\n&gt; \r\n&gt;     class Address {\r\n&gt;       String street;\r\n&gt;       String city;\r\n&gt;     }\r\n&gt;     \r\n&gt;     class User {\r\n&gt;       String name;\r\n&gt;       Address address;\r\n&gt;       Map&lt;String, Object&gt; contacts;\r\n&gt;     }\r\n&gt; \r\n&gt; How to map TOML file to POJO classes:\r\n&gt; \r\n&gt;     User user = new Toml().read(tomlFile).to(User.class);\r\n&gt;     \r\n&gt;     assert user.name.equals(&quot;Mwanji Ezana&quot;);\r\n&gt;     assert user.address.street.equals(&quot;123 A Street&quot;);\r\n&gt;     assert user.contacts.get(&quot;\\&quot;email address\\&quot;&quot;).equals(&quot;me@example.com&quot;);\r\n\r\n\r\n  [1]: https://github.com/mwanji/toml4j\r\n  [2]: https://github.com/tomlj/tomlj\r\n  [3]: https://github.com/mwanji/toml4j#custom-classes","title":"How to parse TOML document with Java","body":"<p>There are several libraries to work with TOML files in Java, such as <a href=\"https://github.com/mwanji/toml4j\" rel=\"nofollow noreferrer\">mwanji/toml4j</a> and <a href=\"https://github.com/tomlj/tomlj\" rel=\"nofollow noreferrer\">tomlj/tomlj</a>.\nThe <code>toml4j</code> looks more maintained and has the ability to map the TOML file to your POJO classes, so it should perfectly match your needs.</p>\n<p>From its <a href=\"https://github.com/mwanji/toml4j#custom-classes\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><code>Toml#to(Class&lt;T&gt;)</code> maps a Toml instance to the given class.</p>\n<p>TOML file example:</p>\n<pre><code>name = &quot;Mwanji Ezana&quot;\n\n[address]\n  street = &quot;123 A Street&quot;\n  city = &quot;AnyVille&quot;\n  \n[contacts]\n  &quot;email address&quot; = &quot;me@example.com&quot;\n</code></pre>\n<p>POJO classes example:</p>\n<pre><code>class Address {\n  String street;\n  String city;\n}\n\nclass User {\n  String name;\n  Address address;\n  Map&lt;String, Object&gt; contacts;\n}\n</code></pre>\n<p>How to map TOML file to POJO classes:</p>\n<pre><code>User user = new Toml().read(tomlFile).to(User.class);\n\nassert user.name.equals(&quot;Mwanji Ezana&quot;);\nassert user.address.street.equals(&quot;123 A Street&quot;);\nassert user.contacts.get(&quot;\\&quot;email address\\&quot;&quot;).equals(&quot;me@example.com&quot;);\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15831790,"reputation":177,"user_id":11422888,"display_name":"Alexander Korolev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680245433,"creation_date":1680245433,"answer_id":75895621,"question_id":70033062,"body_markdown":"I once also created a wrapper for TOML. Do not remember exact reasons to do this, but it was a lot of fun. Have not promoted it anywhere and no one was using it in years, so I found this stackoverflow post and added this variant as well. Fill free to contribute!\r\n\r\nhttps://github.com/toml-java/tomlj-mapper\r\n\r\n## Usage\r\n\r\n### pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.toml-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomlj-mapper&lt;/artifactId&gt;\r\n    &lt;version&gt;0.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### simple.toml:\r\n\r\n```toml\r\nkey1 = &#39;value1&#39;\r\narray1 = [1, 2, 3, 4]\r\n```\r\n\r\n### Test.java:\r\n\r\n```java\r\nimport com.github.tomlj.mapper.TomlObjectMapper;\r\n\r\nclass Test {\r\n    @Test\r\n    public parseSimple() {\r\n        try (InputStream inputStream = getClass().getResourceAsStream(&quot;/simple.toml&quot;)) {\r\n            TomlObjectMapper&lt;Simple&gt; mapper = TomlObjectMapper.forClass(Simple.class);\r\n\r\n            // When\r\n            Simple simple = mapper.parse(inputStream);\r\n\r\n            // Then\r\n            assertEquals(new Simple(&quot;value1&quot;, Arrays.asList(1L, 2L, 3L, 4L)), simple);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Simple.java:\r\n\r\n```java\r\npublic class Simple {\r\n    private final String key1;\r\n    private final List&lt;Long&gt; array1;\r\n\r\n    public Simple(String key1, List&lt;Long&gt; array1) {\r\n        this.key1 = key1;\r\n        this.array1 = array1;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Simple simple = (Simple) o;\r\n        return Objects.equals(key1, simple.key1) &amp;&amp; Objects.equals(array1, simple.array1);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(key1, array1);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Simple{&quot; + &quot;key1=&#39;&quot; + key1 + &#39;\\&#39;&#39; + &quot;, array1=&quot; + array1 + &#39;}&#39;;\r\n    }\r\n}\r\n```","title":"How to parse TOML document with Java","body":"<p>I once also created a wrapper for TOML. Do not remember exact reasons to do this, but it was a lot of fun. Have not promoted it anywhere and no one was using it in years, so I found this stackoverflow post and added this variant as well. Fill free to contribute!</p>\n<p><a href=\"https://github.com/toml-java/tomlj-mapper\" rel=\"nofollow noreferrer\">https://github.com/toml-java/tomlj-mapper</a></p>\n<h2>Usage</h2>\n<h3>pom.xml:</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.toml-java&lt;/groupId&gt;\n    &lt;artifactId&gt;tomlj-mapper&lt;/artifactId&gt;\n    &lt;version&gt;0.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>simple.toml:</h3>\n<pre class=\"lang-ini prettyprint-override\"><code>key1 = 'value1'\narray1 = [1, 2, 3, 4]\n</code></pre>\n<h3>Test.java:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.tomlj.mapper.TomlObjectMapper;\n\nclass Test {\n    @Test\n    public parseSimple() {\n        try (InputStream inputStream = getClass().getResourceAsStream(&quot;/simple.toml&quot;)) {\n            TomlObjectMapper&lt;Simple&gt; mapper = TomlObjectMapper.forClass(Simple.class);\n\n            // When\n            Simple simple = mapper.parse(inputStream);\n\n            // Then\n            assertEquals(new Simple(&quot;value1&quot;, Arrays.asList(1L, 2L, 3L, 4L)), simple);\n        }\n    }\n}\n</code></pre>\n<h3>Simple.java:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Simple {\n    private final String key1;\n    private final List&lt;Long&gt; array1;\n\n    public Simple(String key1, List&lt;Long&gt; array1) {\n        this.key1 = key1;\n        this.array1 = array1;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Simple simple = (Simple) o;\n        return Objects.equals(key1, simple.key1) &amp;&amp; Objects.equals(array1, simple.array1);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(key1, array1);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Simple{&quot; + &quot;key1='&quot; + key1 + '\\'' + &quot;, array1=&quot; + array1 + '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1167924,"reputation":7073,"user_id":1145792,"accept_rate":92,"display_name":"Hleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4022,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70034329,"answer_count":2,"score":1,"last_activity_date":1680245433,"creation_date":1637316407,"question_id":70033062,"body_markdown":"In my Java app I get a TOML document from REST service response as String and I look how to parse it and convert to Java objects.\r\n\r\nIdeally I&#39;d like to use some existing mapper library for deserialization, something like Jackson or Gson for JSON objects. Are there any options in Java ecosystem for that?","title":"How to parse TOML document with Java","body":"<p>In my Java app I get a TOML document from REST service response as String and I look how to parse it and convert to Java objects.</p>\n<p>Ideally I'd like to use some existing mapper library for deserialization, something like Jackson or Gson for JSON objects. Are there any options in Java ecosystem for that?</p>\n"},{"tags":["java","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680239557,"creation_date":1680239557,"answer_id":75895048,"question_id":75887496,"body_markdown":"I will try to answer your `questions 1 and 3`\r\n\r\n&gt; How to use the `acquireTokenSilenty` method\r\n\r\nYou can implement something like this :\r\n\r\n        PublicClientApplication pca = PublicClientApplication.builder(YOUR_CLIENT_ID)\r\n                .authority(YOUR_AUTHORITY)\r\n                .build();\r\n        Consumer&lt;DeviceCode&gt; deviceCodeConsumer = (DeviceCode deviceCode) -&gt;\r\n        // get token for graph\r\n        DeviceCodeFlowParameters parameters =\r\n                DeviceCodeFlowParameters\r\n                        .builder(Collections.singleton(&quot;User.Read&quot;), deviceCodeConsumer) \r\n                        .build();\r\n        IAuthenticationResult result = pca.acquireToken(parameters).join();\r\n\r\n\r\n        DecodedJWT jwt = JWT.decode(result.accessToken());\r\n        System.out.println(jwt.getAudience().get(0));\r\n\r\n        // refresh token\r\n        Set&lt;IAccount&gt; accountsInCache = pca.getAccounts().join();\r\n\r\n        IAccount account = accountsInCache.iterator().next();\r\n        // get token for your own api\r\n        SilentParameters silentParameters =\r\n                SilentParameters\r\n                        .builder(Collections.singleton(&quot;YOUR_SCOPE&quot;), account)\r\n                        .build();\r\n        result = pca.acquireTokenSilently(silentParameters).join();\r\n        jwt = JWT.decode(result.accessToken());\r\n\r\n\r\n&gt;MSAL mentions that the tokens are stored in a cache. Where is this cache? \r\n\r\n`MSAL` provides the feature token cache. It caches a `token` after it&#39;s been acquired. Then we can try to refresh the `token silently` from the cache with the above method. Please go through below reference links for more details:\r\n\r\nReference links: \r\n\r\n[Acquiring tokens silently from cache][1]\r\n\r\n[Java Core Classes for MSAL][2]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache\r\n  [2]: https://learn.microsoft.com/en-us/azure/active-directory/develop/migrate-adal-msal-java#core-classes","title":"How to use acquireTokenSilently in msal","body":"<p>I will try to answer your <code>questions 1 and 3</code></p>\n<blockquote>\n<p>How to use the <code>acquireTokenSilenty</code> method</p>\n</blockquote>\n<p>You can implement something like this :</p>\n<pre><code>    PublicClientApplication pca = PublicClientApplication.builder(YOUR_CLIENT_ID)\n            .authority(YOUR_AUTHORITY)\n            .build();\n    Consumer&lt;DeviceCode&gt; deviceCodeConsumer = (DeviceCode deviceCode) -&gt;\n    // get token for graph\n    DeviceCodeFlowParameters parameters =\n            DeviceCodeFlowParameters\n                    .builder(Collections.singleton(&quot;User.Read&quot;), deviceCodeConsumer) \n                    .build();\n    IAuthenticationResult result = pca.acquireToken(parameters).join();\n\n\n    DecodedJWT jwt = JWT.decode(result.accessToken());\n    System.out.println(jwt.getAudience().get(0));\n\n    // refresh token\n    Set&lt;IAccount&gt; accountsInCache = pca.getAccounts().join();\n\n    IAccount account = accountsInCache.iterator().next();\n    // get token for your own api\n    SilentParameters silentParameters =\n            SilentParameters\n                    .builder(Collections.singleton(&quot;YOUR_SCOPE&quot;), account)\n                    .build();\n    result = pca.acquireTokenSilently(silentParameters).join();\n    jwt = JWT.decode(result.accessToken());\n</code></pre>\n<blockquote>\n<p>MSAL mentions that the tokens are stored in a cache. Where is this cache?</p>\n</blockquote>\n<p><code>MSAL</code> provides the feature token cache. It caches a <code>token</code> after it's been acquired. Then we can try to refresh the <code>token silently</code> from the cache with the above method. Please go through below reference links for more details:</p>\n<p>Reference links:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache\" rel=\"nofollow noreferrer\">Acquiring tokens silently from cache</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/migrate-adal-msal-java#core-classes\" rel=\"nofollow noreferrer\">Java Core Classes for MSAL</a></p>\n"}],"owner":{"account_id":17532405,"reputation":3,"user_id":12716183,"display_name":"Sreedhar Dhulkhed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680244977,"creation_date":1680174822,"question_id":75887496,"body_markdown":"We are trying to migrate from adal to msal using java.\r\nWe use [authorization code flow in oauth][1] to get the refresh token and access token.\r\n\r\n**IN ADAL ,we had the following flows:**\r\n\r\n1. To get the access token and refresh token we use the auth code flow and follows the following code:\r\n```\r\nClientCredential credential =\r\n                    new ClientCredential(\r\n                            PRODUCTION_OAUTH_SECRETS.getClientId(), PRODUCTION_OAUTH_SECRETS.getClientSecret());\r\n\r\n            AuthenticationContext context =\r\n                    new AuthenticationContext(\r\n                            &quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;, true, service);\r\n            Future&lt;AuthenticationResult&gt; future =\r\n                    context.acquireTokenByAuthorizationCode(\r\n                            code, new URI(returnPath), credential, null);\r\n            AuthenticationResult result = future.get();\r\n\r\n            OAuth2Token token =\r\n                    new OAuth2Token(\r\n                            result.getAccessToken(), result.getRefreshToken(), result.getAccessTokenType(), null);\r\n\r\n```\r\n\r\n\r\n\r\n2. To get a renewed access token we used to use the refresh token in the following way:\r\n```\r\n            AuthenticationContext context =\r\n                    new AuthenticationContext(\r\n                            &quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;, true, service);\r\n            Future&lt;AuthenticationResult&gt; future =\r\n                    context.acquireTokenByRefreshToken(credentials.refreshToken, getClientCredential(), null, null);\r\n            AuthenticationResult result = future.get();\r\n\r\n            credentials.refreshToken = result.getRefreshToken();\r\n            credentials.accessToken = result.getAccessToken();\r\n            credentials.expiresAt = result.getExpiresOnDate().toInstant();\r\n\r\n```\r\n\r\nNow we were successfully able to migrate from the above adal code to msal by using the code mentioned [here][2]\r\n\r\nAnd we were also able to create the first access token in msal using the following code:\r\n\r\n**IN MSAL, we have the following code:**\r\n 1. to get the access token and refresh token we use the auth code flow and follows the following code:\r\n```\r\n            ConfidentialClientApplication app =\r\n                    ConfidentialClientApplication.builder(\r\n                                    clientId, ClientCredentialFactory.createFromSecret(clientSecret))\r\n                            .authority(&quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;)\r\n                            .build();\r\n\r\n            AuthorizationCodeParameters parameters =\r\n                    AuthorizationCodeParameters.builder(code, returnPath)\r\n                            .scopes(Collections.singleton(&quot;offline_access&quot;))\r\n                            .build();\r\n\r\n            CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(parameters);\r\n            IAuthenticationResult result = future.get();\r\n\r\n```\r\n\r\nWe were successfully able to get the access token and refresh token. But how to get a renewed access token as there is no way to store the refresh token in MSAL.\r\n\r\nWe tried the following code but it did not work to obtain the access token as the there were no tokens stored in cache.\r\n\r\n```\r\n                            ConfidentialClientApplication cca = ConfidentialClientApplication.builder(oAuthClientSecret.getClientId(), ClientCredentialFactory.createFromSecret(oAuthClientSecret.getClientSecret()))\r\n                        .authority(&quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;)\r\n                        .build();\r\n\r\n                // define the scopes to request\r\n                String scopes =  &quot;offline_access&quot;;\r\n                // acquire an access token silently\r\n                IAuthenticationResult authResult = cca.acquireTokenSilently(\r\n                        SilentParameters.builder(Collections.singleton(scopes)).build()).join();\r\n\r\n                credentials.accessToken = authResult.accessToken();\r\n\r\n```\r\n\r\nASK: Can someone be able to explain :\r\n1. How to use the acquireTokenSilently method \r\n2. Are the scopes provide correct?\r\n3. MSAL mentions that the tokens are stored in a [cache][3]. Where is this cache?\r\n\r\n\r\n  [1]: https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow\r\n  [2]: https://learn.microsoft.com/en-us/azure/active-directory/develop/migrate-adal-msal-java#adal-to-msal-migration\r\n  [3]: https://learn.microsoft.com/en-us/azure/active-directory/develop/migrate-adal-msal-java#adal-to-msal-migration","title":"How to use acquireTokenSilently in msal","body":"<p>We are trying to migrate from adal to msal using java.\nWe use <a href=\"https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow\" rel=\"nofollow noreferrer\">authorization code flow in oauth</a> to get the refresh token and access token.</p>\n<p><strong>IN ADAL ,we had the following flows:</strong></p>\n<ol>\n<li>To get the access token and refresh token we use the auth code flow and follows the following code:</li>\n</ol>\n<pre><code>ClientCredential credential =\n                    new ClientCredential(\n                            PRODUCTION_OAUTH_SECRETS.getClientId(), PRODUCTION_OAUTH_SECRETS.getClientSecret());\n\n            AuthenticationContext context =\n                    new AuthenticationContext(\n                            &quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;, true, service);\n            Future&lt;AuthenticationResult&gt; future =\n                    context.acquireTokenByAuthorizationCode(\n                            code, new URI(returnPath), credential, null);\n            AuthenticationResult result = future.get();\n\n            OAuth2Token token =\n                    new OAuth2Token(\n                            result.getAccessToken(), result.getRefreshToken(), result.getAccessTokenType(), null);\n\n</code></pre>\n<ol start=\"2\">\n<li>To get a renewed access token we used to use the refresh token in the following way:</li>\n</ol>\n<pre><code>            AuthenticationContext context =\n                    new AuthenticationContext(\n                            &quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;, true, service);\n            Future&lt;AuthenticationResult&gt; future =\n                    context.acquireTokenByRefreshToken(credentials.refreshToken, getClientCredential(), null, null);\n            AuthenticationResult result = future.get();\n\n            credentials.refreshToken = result.getRefreshToken();\n            credentials.accessToken = result.getAccessToken();\n            credentials.expiresAt = result.getExpiresOnDate().toInstant();\n\n</code></pre>\n<p>Now we were successfully able to migrate from the above adal code to msal by using the code mentioned <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/migrate-adal-msal-java#adal-to-msal-migration\" rel=\"nofollow noreferrer\">here</a></p>\n<p>And we were also able to create the first access token in msal using the following code:</p>\n<p><strong>IN MSAL, we have the following code:</strong></p>\n<ol>\n<li>to get the access token and refresh token we use the auth code flow and follows the following code:</li>\n</ol>\n<pre><code>            ConfidentialClientApplication app =\n                    ConfidentialClientApplication.builder(\n                                    clientId, ClientCredentialFactory.createFromSecret(clientSecret))\n                            .authority(&quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;)\n                            .build();\n\n            AuthorizationCodeParameters parameters =\n                    AuthorizationCodeParameters.builder(code, returnPath)\n                            .scopes(Collections.singleton(&quot;offline_access&quot;))\n                            .build();\n\n            CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(parameters);\n            IAuthenticationResult result = future.get();\n\n</code></pre>\n<p>We were successfully able to get the access token and refresh token. But how to get a renewed access token as there is no way to store the refresh token in MSAL.</p>\n<p>We tried the following code but it did not work to obtain the access token as the there were no tokens stored in cache.</p>\n<pre><code>                            ConfidentialClientApplication cca = ConfidentialClientApplication.builder(oAuthClientSecret.getClientId(), ClientCredentialFactory.createFromSecret(oAuthClientSecret.getClientSecret()))\n                        .authority(&quot;https://login.microsoftonline.com/&quot; + domainName+ &quot;/&quot;)\n                        .build();\n\n                // define the scopes to request\n                String scopes =  &quot;offline_access&quot;;\n                // acquire an access token silently\n                IAuthenticationResult authResult = cca.acquireTokenSilently(\n                        SilentParameters.builder(Collections.singleton(scopes)).build()).join();\n\n                credentials.accessToken = authResult.accessToken();\n\n</code></pre>\n<p>ASK: Can someone be able to explain :</p>\n<ol>\n<li>How to use the acquireTokenSilently method</li>\n<li>Are the scopes provide correct?</li>\n<li>MSAL mentions that the tokens are stored in a <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/migrate-adal-msal-java#adal-to-msal-migration\" rel=\"nofollow noreferrer\">cache</a>. Where is this cache?</li>\n</ol>\n"},{"tags":["java","spring-boot","login-page"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680244477,"post_id":75895426,"comment_id":133868459,"body_markdown":"this is different `/memberRegistration` in html and `/memberRegirstration` in `SecurityConfig`","body":"this is different <code>&#47;memberRegistration</code> in html and <code>&#47;memberRegirstration</code> in <code>SecurityConfig</code>"},{"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"score":0,"creation_date":1680245543,"post_id":75895426,"comment_id":133868662,"body_markdown":"Can you share what exactly problem you are facing it means if web page is not displaying then problem should be in view or HTML side. If page is displaying but action not forwarded then problem is in back-end. So if you specify then anyone can help you better","body":"Can you share what exactly problem you are facing it means if web page is not displaying then problem should be in view or HTML side. If page is displaying but action not forwarded then problem is in back-end. So if you specify then anyone can help you better"},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680255167,"post_id":75895426,"comment_id":133870738,"body_markdown":"What about front? {/memberRegistration} where is host and port to backend? Was it written in properties? Check your front response of request, what is the result of request","body":"What about front? {/memberRegistration} where is host and port to backend? Was it written in properties? Check your front response of request, what is the result of request"},{"owner":{"account_id":28091375,"reputation":1,"user_id":21460836,"display_name":"Karu"},"score":0,"creation_date":1680393115,"post_id":75895426,"comment_id":133891276,"body_markdown":"@SatyajitBhatt The login page is displayed fine, but when i clicck on login it shows an erros. and for the error messages not showing, Im sorry I missed it. it was written              org.thymeleaf.exceptions.TemplateInputException: Error resolving template [user], template might not exist or might not be accessible by any of the configured Template Resolvers","body":"@SatyajitBhatt The login page is displayed fine, but when i clicck on login it shows an erros. and for the error messages not showing, Im sorry I missed it. it was written              org.thymeleaf.exceptions.TemplateInputException: Error resolving template [user], template might not exist or might not be accessible by any of the configured Template Resolvers"}],"owner":{"account_id":28091375,"reputation":1,"user_id":21460836,"display_name":"Karu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680243781,"creation_date":1680243781,"question_id":75895426,"body_markdown":"Im making a login page with spring boot but it doesnt seem to be working. I cant login to my page. i checked all the codes multiple times, no error messages appear. I just dont know what the problem is.\r\n\r\nhere are of the code I wrote\r\n\r\n\r\n```\r\n@Controller\r\npublic class MusicrewPageController {\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String login() {\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;login&quot;)\r\n\tpublic String showList(Authentication loginUser, Model model) {\r\n\t\tmodel.addAttribute(&quot; username&quot;, loginUser.getUsername());\r\n\t\tmodel.addAttribute(&quot; authority&quot;, loginUser.getPassword());\r\n\t\treturn &quot;user&quot;;\r\n\t}\r\n```\r\n\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t\t.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t\t\t\t.requestMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/memberRegirstration&quot;, &quot;/css/**&quot;, &quot;/images/**&quot;)\r\n\t\t\t\t\t\t.permitAll().anyRequest().authenticated())\r\n\t\t\t\t.formLogin(login -&gt; login.loginPage(&quot;/login&quot;)\r\n\t\t\t\t\t\t.defaultSuccessUrl(&quot;/top&quot;)\r\n\t\t\t\t\t\t.permitAll())\r\n\t\t\t\t.rememberMe();\r\n\t\treturn http.build();\r\n\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository userReposiroty;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\r\n\t\tUser user = userReposiroty.findByUsername(username);\r\n\t\tif (user == null) {\r\n\t\t\tthrow new UsernameNotFoundException(&quot;User Not Found&quot;);\r\n\t\t}\r\n\t\treturn new org.springframework.security.core.userdetails.User(\r\n\t\t\t\tuser.getUsername(),\r\n\t\t\t\tuser.getPassword(),\r\n\t\t\t\tnew ArrayList&lt;&gt;());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\npublic class User implements UserDetails {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String surName;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String firstName;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String surNameKana;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String firstNameKana;\r\n\r\n\t@NotBlank\r\n\t@Email\r\n\t@Size(max = 254)\r\n\tprivate String email;\r\n\r\n\t@NotBlank\r\n\t@Size(min = 6, max = 60)\r\n\tprivate String username;\r\n\r\n\t@NotBlank\r\n\t@Size(min = 6, max = 60)\r\n\tprivate String pass;\r\n\r\n\tprivate String gender;\r\n\r\n\tprivate String birthday;\r\n\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\treturn &quot;User.getUsername()&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\treturn &quot;User.getPassword()&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\tUser findByUsername(String Username);\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;title&gt;Musicrew Login&lt;/title&gt;\r\n\t&lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/login.css}&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;div class=&quot;login-page&quot;&gt;\r\n\t\t&lt;img th:src=&quot;@{images/loginpage.jpg}&quot;&gt;\r\n\r\n\t\t&lt;div id=&quot;login-page-rightside&quot;&gt;\r\n\t\t\t&lt;img th:src=&quot;@{images/MusicrewLogo.png}&quot;&gt;\r\n\t\t\t&lt;div&gt;\r\n\t\t\t\t&lt;form id=&quot;form&quot; th:action=&quot;@{/top}&quot; method=&quot;post&quot; &gt;\r\n\t\t\t\t\t&lt;label class=&quot;label-username&quot;&gt;username&lt;/label&gt;\r\n\t\t\t\t\t&lt;input class=&quot;text-box&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;\r\n\r\n\t\t\t\t\t&lt;label class=&quot;label-password&quot;&gt;password&lt;/label&gt;\r\n\t\t\t\t\t&lt;input class=&quot;text-box&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;\r\n\r\n\t\t\t\t\t&lt;input class=&quot;remember-me&quot; type=&quot;checkbox&quot;&gt;\r\n\t\t\t\t\t&lt;label class=&quot;remember-me&quot;&gt;remember me&lt;/label&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;label class=&quot;forget-password&quot;&gt;パスワードを忘れた方はこちら&lt;/label&gt;&lt;br&gt;\r\n\r\n\t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;login&quot; id=&quot;login-button&quot;&gt;\r\n\t\t\t\t\t&lt;br&gt;\r\n\t\t\t\t&lt;/form&gt;\r\n\r\n\t\t\t\t&lt;form th:action=&quot;@{/memberRegistration}&quot; id=&quot;form&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;sign up&quot; id=&quot;signup-button&quot;&gt;\r\n\t\t\t\t&lt;/form&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mysql\r\nspring.datasource.username=root\r\nspring.datasource.password=Urak4812Urak4812\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\n\r\n\r\nsince there was no error message, i didnt know which erroe to search. I watched videos and read articles regarding how to make a login page, but i seem to not find the problem","title":"Login Page with Spring Boot","body":"<p>Im making a login page with spring boot but it doesnt seem to be working. I cant login to my page. i checked all the codes multiple times, no error messages appear. I just dont know what the problem is.</p>\n<p>here are of the code I wrote</p>\n<pre><code>@Controller\npublic class MusicrewPageController {\n\n    @GetMapping(&quot;/&quot;)\n    public String login() {\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(&quot;login&quot;)\n    public String showList(Authentication loginUser, Model model) {\n        model.addAttribute(&quot; username&quot;, loginUser.getUsername());\n        model.addAttribute(&quot; authority&quot;, loginUser.getPassword());\n        return &quot;user&quot;;\n    }\n</code></pre>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/memberRegirstration&quot;, &quot;/css/**&quot;, &quot;/images/**&quot;)\n                        .permitAll().anyRequest().authenticated())\n                .formLogin(login -&gt; login.loginPage(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/top&quot;)\n                        .permitAll())\n                .rememberMe();\n        return http.build();\n\n    }\n    \n}\n\n</code></pre>\n<pre><code>public class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userReposiroty;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        User user = userReposiroty.findByUsername(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User Not Found&quot;);\n        }\n        return new org.springframework.security.core.userdetails.User(\n                user.getUsername(),\n                user.getPassword(),\n                new ArrayList&lt;&gt;());\n    }\n\n}\n\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;Users&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 60)\n    private String surName;\n\n    @NotBlank\n    @Size(max = 60)\n    private String firstName;\n\n    @NotBlank\n    @Size(max = 60)\n    private String surNameKana;\n\n    @NotBlank\n    @Size(max = 60)\n    private String firstNameKana;\n\n    @NotBlank\n    @Email\n    @Size(max = 254)\n    private String email;\n\n    @NotBlank\n    @Size(min = 6, max = 60)\n    private String username;\n\n    @NotBlank\n    @Size(min = 6, max = 60)\n    private String pass;\n\n    private String gender;\n\n    private String birthday;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n\n    @Override\n    public String getUsername() {\n        return &quot;User.getUsername()&quot;;\n    }\n\n    @Override\n    public String getPassword() {\n        return &quot;User.getPassword()&quot;;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return false;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return false;\n    }\n\n}\n\n</code></pre>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByUsername(String Username);\n\n}\n\n</code></pre>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Musicrew Login&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/login.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;login-page&quot;&gt;\n        &lt;img th:src=&quot;@{images/loginpage.jpg}&quot;&gt;\n\n        &lt;div id=&quot;login-page-rightside&quot;&gt;\n            &lt;img th:src=&quot;@{images/MusicrewLogo.png}&quot;&gt;\n            &lt;div&gt;\n                &lt;form id=&quot;form&quot; th:action=&quot;@{/top}&quot; method=&quot;post&quot; &gt;\n                    &lt;label class=&quot;label-username&quot;&gt;username&lt;/label&gt;\n                    &lt;input class=&quot;text-box&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;\n\n                    &lt;label class=&quot;label-password&quot;&gt;password&lt;/label&gt;\n                    &lt;input class=&quot;text-box&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;\n\n                    &lt;input class=&quot;remember-me&quot; type=&quot;checkbox&quot;&gt;\n                    &lt;label class=&quot;remember-me&quot;&gt;remember me&lt;/label&gt;\n                    \n                    &lt;label class=&quot;forget-password&quot;&gt;パスワードを忘れた方はこちら&lt;/label&gt;&lt;br&gt;\n\n                    &lt;input type=&quot;submit&quot; value=&quot;login&quot; id=&quot;login-button&quot;&gt;\n                    &lt;br&gt;\n                &lt;/form&gt;\n\n                &lt;form th:action=&quot;@{/memberRegistration}&quot; id=&quot;form&quot;&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;sign up&quot; id=&quot;signup-button&quot;&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mysql\nspring.datasource.username=root\nspring.datasource.password=Urak4812Urak4812\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>since there was no error message, i didnt know which erroe to search. I watched videos and read articles regarding how to make a login page, but i seem to not find the problem</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1680244436,"post_id":75895065,"comment_id":133868448,"body_markdown":"You might need to post your minimum project to github for others that want to help.","body":"You might need to post your minimum project to github for others that want to help."}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680243606,"creation_date":1680239797,"question_id":75895065,"body_markdown":"I save the entity MobileComplex without cameras,so i try to update saved entity by setting &#39;cameras&#39; field, but i get this error: \r\n\r\n&gt;org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [VzorCamera(detectionZones=[DetectionZone(id=1, polygonCoordinates=[Coordinate(id=1, x=100, y=150), Coordinate(id=2, x=200, y=250)]), DetectionZone(id=2, polygonCoordinates=[Coordinate(id=3, x=123, y=137), Coordinate(id=4, x=254, y=265)])], isPhotoUpdateNeeded=false, type=Однонаправленная)] did not match expected type [java.util.Collection (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [VzorCamera(detectionZones=[DetectionZone(id=1, polygonCoordinates=[Coordinate(id=1, x=100, y=150), Coordinate(id=2, x=200, y=250)]), DetectionZone(id=2, polygonCoordinates=[Coordinate(id=3, x=123, y=137), Coordinate(id=4, x=254, y=265)])], isPhotoUpdateNeeded=false, type=Однонаправленная)] did not match expected type [java.util.Collection (n/a)]\r\n\r\n\r\nmethod where i try this:\r\n```java\r\n    public MobileComplexSummaryDto save(MobileComplexSummaryDto deviceSummary) {\r\n            MobileComplex mobileComplex = mobileComplexMapper.toEntity(deviceSummary.getConfig());\r\n            List&lt;VzorCamera&gt; cameras = mobileComplex.getCameras();\r\n    \r\n            MobileComplex savedMobileComplex = mobileComplexRepository.save(mobileComplex.withoutCameras());\r\n            List&lt;VzorCamera&gt; savedCameras = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; cameras.size(); i++) {\r\n                var camera = cameras.get(i);\r\n               \r\n    \r\n                camera = vzorCameraRepository.save(camera);\r\n                savedCameras.add(camera);\r\n                photoRepository.updateComplexId(mobileComplex.getId(), UUID.fromString(camera.getLastPhoto().getId()));\r\n                deviceSummary.getConfig().getCameras().get(i).setId(camera.getId());\r\n            }\r\n            mobileComplexRepository.updateCameras(savedCameras, savedMobileComplex.getId());\r\n            deviceSummary.getConfig().setId(savedMobileComplex.getId());\r\n            return deviceSummary;\r\n        }\r\n\r\n```\r\n\r\nMobileComplex:\r\n```java\r\n    @Entity\r\n    @Table(name = &quot;mobile_complex&quot;)\r\n    @Data\r\n    @EqualsAndHashCode(of = {&quot;id&quot;}, callSuper = false)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class MobileComplex extends AbstractFullAuditingEntity {\r\n    \r\n        public static final String TYPE = &quot;MOBILE_COMPLEX&quot;;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mobileComplexIdGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;mobileComplexIdGenerator&quot;, sequenceName = &quot;mobile_complex_sequence&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;complex&quot;)\r\n        private List&lt;VzorCamera&gt; cameras = new ArrayList&lt;&gt;();\r\n```\r\nCamera:\r\n```java\r\n    @Entity(name = &quot;MobileComplexVzorCamera&quot;)\r\n    @Table(name = &quot;mc_vzor_camera&quot;)\r\n    @Data\r\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;)\r\n    public class VzorCamera {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;cameraGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;cameraGenerator&quot;, sequenceName = &quot;cameraSequence&quot;, allocationSize = 1)\r\n        private Long id;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;complex_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private MobileComplex complex;\r\n    }\r\n```\r\n\r\nmethod update:\r\n```java\r\n    @Modifying\r\n        @Query(&quot;update MobileComplex c set c.cameras = ?1 where c.id = ?2&quot;)\r\n        void updateCameras(List&lt;VzorCamera&gt; cameras, Long id);\r\n```\r\n\r\nerror in mobileComplexRepository.updateCameras(savedCameras, savedMobileComplex.getId());\r\n","title":"Parameter value ... did not match expected type [java.util.Collection (n/a)]","body":"<p>I save the entity MobileComplex without cameras,so i try to update saved entity by setting 'cameras' field, but i get this error:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [VzorCamera(detectionZones=[DetectionZone(id=1, polygonCoordinates=[Coordinate(id=1, x=100, y=150), Coordinate(id=2, x=200, y=250)]), DetectionZone(id=2, polygonCoordinates=[Coordinate(id=3, x=123, y=137), Coordinate(id=4, x=254, y=265)])], isPhotoUpdateNeeded=false, type=Однонаправленная)] did not match expected type [java.util.Collection (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [VzorCamera(detectionZones=[DetectionZone(id=1, polygonCoordinates=[Coordinate(id=1, x=100, y=150), Coordinate(id=2, x=200, y=250)]), DetectionZone(id=2, polygonCoordinates=[Coordinate(id=3, x=123, y=137), Coordinate(id=4, x=254, y=265)])], isPhotoUpdateNeeded=false, type=Однонаправленная)] did not match expected type [java.util.Collection (n/a)]</p>\n</blockquote>\n<p>method where i try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public MobileComplexSummaryDto save(MobileComplexSummaryDto deviceSummary) {\n            MobileComplex mobileComplex = mobileComplexMapper.toEntity(deviceSummary.getConfig());\n            List&lt;VzorCamera&gt; cameras = mobileComplex.getCameras();\n    \n            MobileComplex savedMobileComplex = mobileComplexRepository.save(mobileComplex.withoutCameras());\n            List&lt;VzorCamera&gt; savedCameras = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; cameras.size(); i++) {\n                var camera = cameras.get(i);\n               \n    \n                camera = vzorCameraRepository.save(camera);\n                savedCameras.add(camera);\n                photoRepository.updateComplexId(mobileComplex.getId(), UUID.fromString(camera.getLastPhoto().getId()));\n                deviceSummary.getConfig().getCameras().get(i).setId(camera.getId());\n            }\n            mobileComplexRepository.updateCameras(savedCameras, savedMobileComplex.getId());\n            deviceSummary.getConfig().setId(savedMobileComplex.getId());\n            return deviceSummary;\n        }\n\n</code></pre>\n<p>MobileComplex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name = &quot;mobile_complex&quot;)\n    @Data\n    @EqualsAndHashCode(of = {&quot;id&quot;}, callSuper = false)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public class MobileComplex extends AbstractFullAuditingEntity {\n    \n        public static final String TYPE = &quot;MOBILE_COMPLEX&quot;;\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mobileComplexIdGenerator&quot;)\n        @SequenceGenerator(name = &quot;mobileComplexIdGenerator&quot;, sequenceName = &quot;mobile_complex_sequence&quot;, allocationSize = 1)\n        private Long id;\n    \n    \n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;complex&quot;)\n        private List&lt;VzorCamera&gt; cameras = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Camera:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity(name = &quot;MobileComplexVzorCamera&quot;)\n    @Table(name = &quot;mc_vzor_camera&quot;)\n    @Data\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;)\n    public class VzorCamera {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;cameraGenerator&quot;)\n        @SequenceGenerator(name = &quot;cameraGenerator&quot;, sequenceName = &quot;cameraSequence&quot;, allocationSize = 1)\n        private Long id;\n        \n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\n        @JoinColumn(name = &quot;complex_id&quot;, referencedColumnName = &quot;id&quot;)\n        private MobileComplex complex;\n    }\n</code></pre>\n<p>method update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Modifying\n        @Query(&quot;update MobileComplex c set c.cameras = ?1 where c.id = ?2&quot;)\n        void updateCameras(List&lt;VzorCamera&gt; cameras, Long id);\n</code></pre>\n<p>error in mobileComplexRepository.updateCameras(savedCameras, savedMobileComplex.getId());</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1680202902,"post_id":75891748,"comment_id":133862716,"body_markdown":"BAD_REQUEST generally means your query or your URL is not well formatted, or some parameters are missing. Can you post your full query?","body":"BAD_REQUEST generally means your query or your URL is not well formatted, or some parameters are missing. Can you post your full query?"},{"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"score":0,"creation_date":1680204398,"post_id":75891748,"comment_id":133863053,"body_markdown":"Please add the code that you are using to call the microservice.","body":"Please add the code that you are using to call the microservice."},{"owner":{"account_id":11387612,"reputation":51,"user_id":8348819,"display_name":"Ronit Nath"},"score":0,"creation_date":1680243101,"post_id":75891748,"comment_id":133868228,"body_markdown":"@Sidharth I have provide the code for both the services. Please have a look.","body":"@Sidharth I have provide the code for both the services. Please have a look."},{"owner":{"account_id":248396,"reputation":4019,"user_id":523725,"accept_rate":69,"display_name":"Lobo"},"score":0,"creation_date":1698951743,"post_id":75891748,"comment_id":136472980,"body_markdown":"Did you solve this? I&#39;m having the same issue","body":"Did you solve this? I&#39;m having the same issue"}],"owner":{"account_id":11387612,"reputation":51,"user_id":8348819,"display_name":"Ronit Nath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680243057,"creation_date":1680200783,"question_id":75891748,"body_markdown":"I am trying to send a flux of integers from microservice A to B using a POST request. I followed the solution provided in the [link][1] as a result I was able to hit the endpoint in service B, but getting the following error message:\r\n\r\n\r\n```\r\n400 BAD_REQUEST No request body for: public org.springframework.http.ResponseEntity&lt;reactor.core.publisher.Mono&lt;java.lang.Void&gt;&gt; com.example.registryservice.controller.RegistryController.createPackage(reactor.core.publisher.Flux&lt;java.lang.Integer&gt;)\r\n```\r\n\r\nI tried adding the `@ResponseStatus` attribute to the post endpoint `/packages` in service B as per the [link][2], but still it does not solve the issue. \r\n\r\n**Service A:**\r\n\r\n```\r\n        Flux&lt;Integer&gt; integerFlux = Flux.just(1,2,3,4,5);\r\n        WebClient.create(&quot;http://localhost:9002/registry&quot;)\r\n                    .post()\r\n                    .uri(&quot;/packages&quot;)\r\n                    .contentType(MediaType.APPLICATION_NDJSON)\r\n                    .body(integerFlux, Integer.class)\r\n                    .retrieve()\r\n                    .bodyToMono(Void.class)\r\n                    .subscribe(System.out::print);\r\n```\r\n\r\n**Service B:**\r\n\r\n```\r\n    @PostMapping(value = &quot;/packages&quot;, consumes = MediaType.APPLICATION_NDJSON_VALUE)\r\n    public ResponseEntity&lt;Mono&lt;Void&gt;&gt; createPackage(@RequestBody Flux&lt;Integer&gt; integerFlux) {\r\n        integerFlux.subscribe(new Subscriber&lt;&gt;() {\r\n\r\n            @Override\r\n            public void onSubscribe(Subscription s) {\r\n                System.out.println(&quot;onSubscribe Subscription: &quot; + s);\r\n            }\r\n\r\n            @Override\r\n            public void onNext(Integer t) {\r\n                System.out.println(&quot;onNext Integer: &quot; + t);\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable t) {\r\n                System.out.println(&quot;onError Throwable: &quot; + t);\r\n            }\r\n\r\n            @Override\r\n            public void onComplete() {\r\n                System.out.println(&quot;onComplete&quot;);\r\n\r\n            }\r\n        });\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;action&lt;/artifactId&gt;\r\n\t&lt;name&gt;action&lt;/name&gt;\r\n\t&lt;description&gt;Action Spring Boot application&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nCan anyone help me in understanding where am I going wrong?\r\n\r\n  [1]: https://stackoverflow.com/questions/75880081/how-to-send-a-flux-of-integers-from-one-microservice-to-another\r\n  [2]: https://stackoverflow.com/questions/51661820/spring-reactive-web-applications-post-request-body-is-missing","title":"400 BAD_REQUEST &quot;No request body&quot; received when sending a flux of integers","body":"<p>I am trying to send a flux of integers from microservice A to B using a POST request. I followed the solution provided in the <a href=\"https://stackoverflow.com/questions/75880081/how-to-send-a-flux-of-integers-from-one-microservice-to-another\">link</a> as a result I was able to hit the endpoint in service B, but getting the following error message:</p>\n<pre><code>400 BAD_REQUEST No request body for: public org.springframework.http.ResponseEntity&lt;reactor.core.publisher.Mono&lt;java.lang.Void&gt;&gt; com.example.registryservice.controller.RegistryController.createPackage(reactor.core.publisher.Flux&lt;java.lang.Integer&gt;)\n</code></pre>\n<p>I tried adding the <code>@ResponseStatus</code> attribute to the post endpoint <code>/packages</code> in service B as per the <a href=\"https://stackoverflow.com/questions/51661820/spring-reactive-web-applications-post-request-body-is-missing\">link</a>, but still it does not solve the issue.</p>\n<p><strong>Service A:</strong></p>\n<pre><code>        Flux&lt;Integer&gt; integerFlux = Flux.just(1,2,3,4,5);\n        WebClient.create(&quot;http://localhost:9002/registry&quot;)\n                    .post()\n                    .uri(&quot;/packages&quot;)\n                    .contentType(MediaType.APPLICATION_NDJSON)\n                    .body(integerFlux, Integer.class)\n                    .retrieve()\n                    .bodyToMono(Void.class)\n                    .subscribe(System.out::print);\n</code></pre>\n<p><strong>Service B:</strong></p>\n<pre><code>    @PostMapping(value = &quot;/packages&quot;, consumes = MediaType.APPLICATION_NDJSON_VALUE)\n    public ResponseEntity&lt;Mono&lt;Void&gt;&gt; createPackage(@RequestBody Flux&lt;Integer&gt; integerFlux) {\n        integerFlux.subscribe(new Subscriber&lt;&gt;() {\n\n            @Override\n            public void onSubscribe(Subscription s) {\n                System.out.println(&quot;onSubscribe Subscription: &quot; + s);\n            }\n\n            @Override\n            public void onNext(Integer t) {\n                System.out.println(&quot;onNext Integer: &quot; + t);\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                System.out.println(&quot;onError Throwable: &quot; + t);\n            }\n\n            @Override\n            public void onComplete() {\n                System.out.println(&quot;onComplete&quot;);\n\n            }\n        });\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n    }\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;action&lt;/artifactId&gt;\n    &lt;name&gt;action&lt;/name&gt;\n    &lt;description&gt;Action Spring Boot application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Can anyone help me in understanding where am I going wrong?</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680242792,"creation_date":1680240122,"question_id":75895104,"body_markdown":"How to use environmentName or other configuration to generate different jars based on lifecycle environment. I want to generate weather-service-dev.jar or weather-service.prod.jar based on the git branch which is being built.\r\n\r\n    settings.gradle\r\n    rootProject.name=weather-service\r\n\r\nenvironmentName doesn&#39;t help me handle this\r\nhttps://docs.marklogic.com/datahub/5.7/tools/gradle/set-up-gradle-for-diff-envs.html\r\n\r\nIs there a way to customize settings.gradle per environment\r\n","title":"How to use environmentName or other configuration to generate different jars based on lifecycle environment","body":"<p>How to use environmentName or other configuration to generate different jars based on lifecycle environment. I want to generate weather-service-dev.jar or weather-service.prod.jar based on the git branch which is being built.</p>\n<pre><code>settings.gradle\nrootProject.name=weather-service\n</code></pre>\n<p>environmentName doesn't help me handle this\n<a href=\"https://docs.marklogic.com/datahub/5.7/tools/gradle/set-up-gradle-for-diff-envs.html\" rel=\"nofollow noreferrer\">https://docs.marklogic.com/datahub/5.7/tools/gradle/set-up-gradle-for-diff-envs.html</a></p>\n<p>Is there a way to customize settings.gradle per environment</p>\n"},{"tags":["java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1680238259,"post_id":75894933,"comment_id":133867645,"body_markdown":"Please show a complete, runnable example which illustrates the problem.","body":"Please show a complete, runnable example which illustrates the problem."},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1680238334,"post_id":75894933,"comment_id":133867647,"body_markdown":"please share the type of record object.","body":"please share the type of record object."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1680239682,"post_id":75894933,"comment_id":133867785,"body_markdown":"Your exception implies that the elements of your record are not Integers. You might require some additional mapping.","body":"Your exception implies that the elements of your record are not Integers. You might require some additional mapping."},{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680239715,"post_id":75894933,"comment_id":133867791,"body_markdown":"What you have done is right, but try to use method reference Array::stream","body":"What you have done is right, but try to use method reference Array::stream"}],"answers":[{"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1680239102,"post_id":75894994,"comment_id":133867722,"body_markdown":"This line is fine. An array of objects is being flat mapped to create one stream of single elements.","body":"This line is fine. An array of objects is being flat mapped to create one stream of single elements."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1680239596,"post_id":75894994,"comment_id":133867776,"body_markdown":"Notice that the question&#39;s `record` is `List&lt;Object[]&gt;` not just `List&lt;Object&gt;`","body":"Notice that the question&#39;s <code>record</code> is <code>List&lt;Object[]&gt;</code> not just <code>List&lt;Object&gt;</code>"}],"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680241640,"creation_date":1680238814,"answer_id":75894994,"question_id":75894933,"body_markdown":"I&#39;ve tried your code and it&#39;s working\r\n\r\n    Object[] ob = new Object[2];\r\n        ob[0] = 0;\r\n        ob[1] = 1;\r\n        List&lt;Object[]&gt; record = new ArrayList&lt;&gt;();\r\n        record.add(ob);\r\n        List&lt;Integer&gt; integers = record.stream()\r\n                .flatMap(o-&gt; Arrays.stream(o))\r\n                .map(obb-&gt; (Integer) obb)\r\n                .collect(Collectors.toList());\r\n        integers.forEach(System.out::println);","title":"Getting List of Integers from List of Array of Objects","body":"<p>I've tried your code and it's working</p>\n<pre><code>Object[] ob = new Object[2];\n    ob[0] = 0;\n    ob[1] = 1;\n    List&lt;Object[]&gt; record = new ArrayList&lt;&gt;();\n    record.add(ob);\n    List&lt;Integer&gt; integers = record.stream()\n            .flatMap(o-&gt; Arrays.stream(o))\n            .map(obb-&gt; (Integer) obb)\n            .collect(Collectors.toList());\n    integers.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680241640,"creation_date":1680238003,"question_id":75894933,"body_markdown":"I have my resultset in List of array of objects. I want to get values in an Integer list using java stream.\r\n\r\n     List&lt;Object[]&gt; to List&lt;Integer&gt; in java8.\r\nI was trying to achieve like this.But it is giving me exception.\r\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class [Ljava.lang.Object;\r\n\r\n    List&lt;Integer&gt; integers = record.stream()\r\n            .flatMap(o-&gt; Arrays.stream(o))\r\n            .map(ob-&gt;Integer.valueOf((Integer) ob))\r\n            .collect(Collectors.toList());\r\n\r\nI am new to functional programming. Please let me know why i am getting exception and how it works.\r\n\r\nThanks,\r\nPrabhash\r\n\r\n","title":"Getting List of Integers from List of Array of Objects","body":"<p>I have my resultset in List of array of objects. I want to get values in an Integer list using java stream.</p>\n<pre><code> List&lt;Object[]&gt; to List&lt;Integer&gt; in java8.\n</code></pre>\n<p>I was trying to achieve like this.But it is giving me exception.\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class [Ljava.lang.Object;</p>\n<pre><code>List&lt;Integer&gt; integers = record.stream()\n        .flatMap(o-&gt; Arrays.stream(o))\n        .map(ob-&gt;Integer.valueOf((Integer) ob))\n        .collect(Collectors.toList());\n</code></pre>\n<p>I am new to functional programming. Please let me know why i am getting exception and how it works.</p>\n<p>Thanks,\nPrabhash</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680241308,"creation_date":1680241308,"answer_id":75895209,"question_id":75874957,"body_markdown":"You might be able to achieve using it using ArgumentCaptor, have a look at article https://www.baeldung.com/mockito-argumentcaptor. Something like below might work in your context:\r\n```\r\nverify(fooHelperMock).validateFoo(eq(foo), errorsCaptor.capture());\r\nassertThat(errorsCaptor.getValue().size()).isEqualTo(desiredSize);\r\n```","title":"Testing a method from a mocked dependency that adds something to a list I pass to it","body":"<p>You might be able to achieve using it using ArgumentCaptor, have a look at article <a href=\"https://www.baeldung.com/mockito-argumentcaptor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-argumentcaptor</a>. Something like below might work in your context:</p>\n<pre><code>verify(fooHelperMock).validateFoo(eq(foo), errorsCaptor.capture());\nassertThat(errorsCaptor.getValue().size()).isEqualTo(desiredSize);\n</code></pre>\n"}],"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680241308,"creation_date":1680079371,"question_id":75874957,"body_markdown":"I am writing unit tests for some code that calls this function:\r\n\r\n```fooHelper.validateFoo(foo, errors);```\r\n\r\nIt might add sometheing to the errors list, which I would like to simulate. I tried something like:\r\n\r\n```\r\nverify(fooHelperMock).validateFoo(eq(foo), argThat(errors -&gt; {\r\n   errors.add(&quot;Error message&quot;);\r\n   return true;\r\n}))\r\n```\r\n\r\nBut it doesnt seem to work. Is it even possible to do what I want?","title":"Testing a method from a mocked dependency that adds something to a list I pass to it","body":"<p>I am writing unit tests for some code that calls this function:</p>\n<p><code>fooHelper.validateFoo(foo, errors);</code></p>\n<p>It might add sometheing to the errors list, which I would like to simulate. I tried something like:</p>\n<pre><code>verify(fooHelperMock).validateFoo(eq(foo), argThat(errors -&gt; {\n   errors.add(&quot;Error message&quot;);\n   return true;\n}))\n</code></pre>\n<p>But it doesnt seem to work. Is it even possible to do what I want?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1680119789,"post_id":75880974,"comment_id":133845598,"body_markdown":"dont block in a reactive application.","body":"dont block in a reactive application."}],"answers":[{"tags":[],"owner":{"account_id":3583455,"reputation":1884,"user_id":2991105,"display_name":"Erunafailaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680240531,"creation_date":1680162629,"answer_id":75885470,"question_id":75880974,"body_markdown":"One way to transform the JSON file into a Flux&lt;DataBuffer&gt; would be:\r\n\r\n\r\n```langjava\r\npublic Flux&lt;DataBuffer&gt; test(String fileName) {\r\n    Path p = Paths.get(new File(basePath + fileName).getAbsolutePath());\r\n    DataBufferFactory dbf = new DefaultDataBufferFactory();\r\n    Flux&lt;DataBuffer&gt; flux = DataBufferUtils.read(p, dbf, 256 * 256);\r\n    return flux;\r\n}\r\n```\r\n\r\nor another way:\r\n\r\n```langjava\r\npublic Flux&lt;DataBuffer&gt; test(final JsonObject jo) {\r\n    final DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\r\n    final byte[] bytes = jo.toString().getBytes(StandardCharsets.UTF_8);\r\n    final DataBuffer buffer = bufferFactory.allocateBuffer(bytes.length);\r\n    buffer.write(bytes);\r\n    return Flux.just(buffer);\r\n}\r\n\r\n```\r\n\r\n**Alternate approach**\r\n\r\nAs a sidenote: I would really encourage you to consider a different approach to sending files of that size over a rest interface. The load you put on rest server, rest client and other components that might be involved (network, api gateways, load balancers, cpu, memory etc) could cause severe problems.\r\n\r\nInstead, a better tool to share files of this size would be a blob storage (S3 or similar) or a simple file system that is available to all parties involved.\r\n\r\nInstead of sending the whole file you could send an &quot;event message&quot; over the REST api that basically tells the receiver that a new file has arrived for them on the storage at path `/some/where/file.json`.\r\n\r\nThe receiver could then download the file from the storage (or just read it from a mounted file system), parse it into json again and so on ...\r\n\r\n\r\n","title":"Send a huge json as a stream using Spring WebClient","body":"<p>One way to transform the JSON file into a Flux would be:</p>\n<pre><code>public Flux&lt;DataBuffer&gt; test(String fileName) {\n    Path p = Paths.get(new File(basePath + fileName).getAbsolutePath());\n    DataBufferFactory dbf = new DefaultDataBufferFactory();\n    Flux&lt;DataBuffer&gt; flux = DataBufferUtils.read(p, dbf, 256 * 256);\n    return flux;\n}\n</code></pre>\n<p>or another way:</p>\n<pre><code>public Flux&lt;DataBuffer&gt; test(final JsonObject jo) {\n    final DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\n    final byte[] bytes = jo.toString().getBytes(StandardCharsets.UTF_8);\n    final DataBuffer buffer = bufferFactory.allocateBuffer(bytes.length);\n    buffer.write(bytes);\n    return Flux.just(buffer);\n}\n\n</code></pre>\n<p><strong>Alternate approach</strong></p>\n<p>As a sidenote: I would really encourage you to consider a different approach to sending files of that size over a rest interface. The load you put on rest server, rest client and other components that might be involved (network, api gateways, load balancers, cpu, memory etc) could cause severe problems.</p>\n<p>Instead, a better tool to share files of this size would be a blob storage (S3 or similar) or a simple file system that is available to all parties involved.</p>\n<p>Instead of sending the whole file you could send an &quot;event message&quot; over the REST api that basically tells the receiver that a new file has arrived for them on the storage at path <code>/some/where/file.json</code>.</p>\n<p>The receiver could then download the file from the storage (or just read it from a mounted file system), parse it into json again and so on ...</p>\n"}],"owner":{"account_id":11387612,"reputation":51,"user_id":8348819,"display_name":"Ronit Nath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680240531,"creation_date":1680115149,"question_id":75880974,"body_markdown":"I am new to Spring WebFlux and WebClient. I am working on a PoC where I have to send a huge JSON (&gt; 100 MB) as a stream from microservice A to B using a **POST request**. The current implementation sends the **entire json as the request body** which leads to memory spikes on both the ends. Following is the structure of the JSON:\r\n```\r\n{\r\n   &quot;bindings&quot;:  {\r\n      &quot;entity1&quot;: {\r\n\r\n      },\r\n      &quot;entity2&quot;: {\r\n\r\n      }\r\n   },\r\n   &quot;artifacts&quot;: {\r\n      &quot;types&quot;: {\r\n         &quot;type1&quot;: {\r\n\r\n         },\r\n         &quot;type2&quot;: {\r\n\r\n         }\r\n      },\r\n      &quot;action&quot;: {\r\n         &quot;action1&quot;: {\r\n\r\n         },\r\n         &quot;action2&quot;: {\r\n\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\nentity1, entity2 have identical structure. Same applies for type1, type2 and action1, action2 respectively. These objects are **huge** in size with multiple nestings and there can be hundreds of them.\r\n\r\nAfter going through multiple documentation, I have developed the following algorithm for JSON streaming:\r\n\r\n1. Convert the JSON object to DataBuffer object, since as per the [link][1] conversion to DataBuffer helps in chunking.\r\n2. Create a flux from the DataBuffer object.\r\n3. Send the `dataBufferFlux` as the response body in the following way:\r\n\r\n```\r\n         WebClient.create(&quot;http://localhost:9002/registry&quot;)\r\n                    .post()\r\n                    .uri(&quot;/packages&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .body(dataBufferFlux, DataBuffer.class)\r\n                    .retrieve()\r\n                    .bodyToMono(Void.class)\r\n                    .block();\r\n```\r\nUsing content-type as `MediaType.APPLICATION_NDJSON` since `MediaType.APPLICATION_STREAM_JSON` is deprecated.\r\n\r\n\r\nI have two questions:\r\n\r\n1. Is the algorithm correct to do JSON streaming using webclient?\r\n2. If the algorithm is correct, then what is the process of converting a `JSONObject` to `Flux&lt;DataBuffer&gt;` ?\r\n\r\n\r\n  [1]: https://www.amitph.com/spring-webclient-large-file-download/","title":"Send a huge json as a stream using Spring WebClient","body":"<p>I am new to Spring WebFlux and WebClient. I am working on a PoC where I have to send a huge JSON (&gt; 100 MB) as a stream from microservice A to B using a <strong>POST request</strong>. The current implementation sends the <strong>entire json as the request body</strong> which leads to memory spikes on both the ends. Following is the structure of the JSON:</p>\n<pre><code>{\n   &quot;bindings&quot;:  {\n      &quot;entity1&quot;: {\n\n      },\n      &quot;entity2&quot;: {\n\n      }\n   },\n   &quot;artifacts&quot;: {\n      &quot;types&quot;: {\n         &quot;type1&quot;: {\n\n         },\n         &quot;type2&quot;: {\n\n         }\n      },\n      &quot;action&quot;: {\n         &quot;action1&quot;: {\n\n         },\n         &quot;action2&quot;: {\n\n         }\n      }\n   }\n}\n</code></pre>\n<p>entity1, entity2 have identical structure. Same applies for type1, type2 and action1, action2 respectively. These objects are <strong>huge</strong> in size with multiple nestings and there can be hundreds of them.</p>\n<p>After going through multiple documentation, I have developed the following algorithm for JSON streaming:</p>\n<ol>\n<li>Convert the JSON object to DataBuffer object, since as per the <a href=\"https://www.amitph.com/spring-webclient-large-file-download/\" rel=\"nofollow noreferrer\">link</a> conversion to DataBuffer helps in chunking.</li>\n<li>Create a flux from the DataBuffer object.</li>\n<li>Send the <code>dataBufferFlux</code> as the response body in the following way:</li>\n</ol>\n<pre><code>         WebClient.create(&quot;http://localhost:9002/registry&quot;)\n                    .post()\n                    .uri(&quot;/packages&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .body(dataBufferFlux, DataBuffer.class)\n                    .retrieve()\n                    .bodyToMono(Void.class)\n                    .block();\n</code></pre>\n<p>Using content-type as <code>MediaType.APPLICATION_NDJSON</code> since <code>MediaType.APPLICATION_STREAM_JSON</code> is deprecated.</p>\n<p>I have two questions:</p>\n<ol>\n<li>Is the algorithm correct to do JSON streaming using webclient?</li>\n<li>If the algorithm is correct, then what is the process of converting a <code>JSONObject</code> to <code>Flux&lt;DataBuffer&gt;</code> ?</li>\n</ol>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","data-lineage"],"owner":{"account_id":22882447,"reputation":21,"user_id":17023858,"display_name":"Vikas Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680239154,"creation_date":1680239154,"question_id":75895018,"body_markdown":"I have built a BigQuery data lineage system using the document provided by Google.\r\n**https://cloud.google.com/architecture/building-a-bigquery-data-lineage-solution**\r\n\r\nI was able to generate the table lineage for all the SQLs running on bigquery in my project.\r\nBut when it comes to column lineage, the lineage is captured only for SELECT statements.\r\n\r\nI need to capture the column lineage for StoredProcedures, CREATE OR REPLACE, etc.\r\n\r\nIs there a solution ?\r\n\r\nCode from Google:\r\n**https://github.com/GoogleCloudPlatform/bigquery-data-lineage.git**\r\n\r\nUpdated code from my java resource:\r\n**https://github.com/ivktiwari/bigquery-lineage/blob/main/test_mod.zip**\r\n\r\nThe updated code has resolved all the exceptions and made the dataflow job capture lineage.\r\n\r\nThe only thing remaining is the ColumnLineage for all the SQL queries triggered.","title":"BigQuery Data Lineage using AuditLogs, PubSub, Dataflow, ZetaSQL and Data Catalog","body":"<p>I have built a BigQuery data lineage system using the document provided by Google.\n<strong><a href=\"https://cloud.google.com/architecture/building-a-bigquery-data-lineage-solution\" rel=\"nofollow noreferrer\">https://cloud.google.com/architecture/building-a-bigquery-data-lineage-solution</a></strong></p>\n<p>I was able to generate the table lineage for all the SQLs running on bigquery in my project.\nBut when it comes to column lineage, the lineage is captured only for SELECT statements.</p>\n<p>I need to capture the column lineage for StoredProcedures, CREATE OR REPLACE, etc.</p>\n<p>Is there a solution ?</p>\n<p>Code from Google:\n<strong><a href=\"https://github.com/GoogleCloudPlatform/bigquery-data-lineage.git\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/bigquery-data-lineage.git</a></strong></p>\n<p>Updated code from my java resource:\n<strong><a href=\"https://github.com/ivktiwari/bigquery-lineage/blob/main/test_mod.zip\" rel=\"nofollow noreferrer\">https://github.com/ivktiwari/bigquery-lineage/blob/main/test_mod.zip</a></strong></p>\n<p>The updated code has resolved all the exceptions and made the dataflow job capture lineage.</p>\n<p>The only thing remaining is the ColumnLineage for all the SQL queries triggered.</p>\n"},{"tags":["java","inputstream","lombok","dto"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1680240778,"post_id":75894535,"comment_id":133867910,"body_markdown":"If you want to share a file as your response you can make your API return type as `ResponseEntity&lt;InputStreamResource&gt;`.","body":"If you want to share a file as your response you can make your API return type as <code>ResponseEntity&lt;InputStreamResource&gt;</code>."}],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680239068,"creation_date":1680231932,"question_id":75894535,"body_markdown":"Whether we can place `InputStreamResource` inside DTO and return to Frontend via Restful API\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Setter\r\n    @Getter\r\n    public class MySimpleDTO implements Serializable {\r\n    \r\n        private InputStreamResource file;\r\n        private String fileName;\r\n    }","title":"SpringBoot: can we place InputStreamResource inside DTO","body":"<p>Whether we can place <code>InputStreamResource</code> inside DTO and return to Frontend via Restful API</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Setter\n@Getter\npublic class MySimpleDTO implements Serializable {\n\n    private InputStreamResource file;\n    private String fileName;\n}\n</code></pre>\n"},{"tags":["java","gradle","annotations","javabeans","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":2,"creation_date":1680169579,"post_id":75886464,"comment_id":133853702,"body_markdown":"You would need to create a Quarkus extension. The `runtime` module of your extension can be empty (except the extension descriptor in `META-INF`). Few articles that can help: https://quarkus.io/blog/solving-problems-with-custom-extensions/ https://quarkus.io/blog/solving-problems-with-extensions-2/ https://quarkus.io/guides/writing-extensions","body":"You would need to create a Quarkus extension. The <code>runtime</code> module of your extension can be empty (except the extension descriptor in <code>META-INF</code>). Few articles that can help: <a href=\"https://quarkus.io/blog/solving-problems-with-custom-extensions/\" rel=\"nofollow noreferrer\">quarkus.io/blog/solving-problems-with-custom-extensions</a> <a href=\"https://quarkus.io/blog/solving-problems-with-extensions-2/\" rel=\"nofollow noreferrer\">quarkus.io/blog/solving-problems-with-extensions-2</a> <a href=\"https://quarkus.io/guides/writing-extensions\" rel=\"nofollow noreferrer\">quarkus.io/guides/writing-extensions</a>"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1680172252,"post_id":75886464,"comment_id":133854453,"body_markdown":"Those articles are awesome and I&#39;d like to recomment an other one: https://quarkus.io/blog/quarkus-aws-cloudwatch_extension/ \nFinally, a couple of days ago the https://quarkus.io/ site got a new menu item called Extensions, which leads to other articles, how to create your own extension.","body":"Those articles are awesome and I&#39;d like to recomment an other one: <a href=\"https://quarkus.io/blog/quarkus-aws-cloudwatch_extension/\" rel=\"nofollow noreferrer\">quarkus.io/blog/quarkus-aws-cloudwatch_extension</a>  Finally, a couple of days ago the <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">quarkus.io</a> site got a new menu item called Extensions, which leads to other articles, how to create your own extension."}],"answers":[{"tags":[],"owner":{"account_id":6812695,"reputation":43,"user_id":5242340,"display_name":"xuckz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680238533,"creation_date":1680184515,"answer_id":75889184,"question_id":75886464,"body_markdown":"Wow that was surprisingly easy. @Ladicek answer was the final push for understanding the problem. \r\n\r\nI now have a simple quarkus extension with empty runtime subproject, and deployment subproject containing a single class with:\r\n        \r\n    @BuildStep\r\n    AutoAddScopeBuildItem autoAddScope() {\r\n        return AutoAddScopeBuildItem.builder().containsAnnotations(DotName.createSimple(&quot;javax.ejb.Stateless&quot;))\r\n                .defaultScope(BuiltinScope.DEPENDENT)\r\n                .build();\r\n    }\r\n\r\n\r\nDeployment has a dependency on runtime, and your project has to have a dependency on runtime. I failed to understand how on earth you could possibly benefit from classes in your deployment project.\r\n\r\n    deployment -&gt; runtime &lt;- your project\r\n\r\nBut since in your runtime extension description the deployment project is referenced, it will be loaded up on build time.","title":"Using Stateless Beans in Quarkus CDI","body":"<p>Wow that was surprisingly easy. @Ladicek answer was the final push for understanding the problem.</p>\n<p>I now have a simple quarkus extension with empty runtime subproject, and deployment subproject containing a single class with:</p>\n<pre><code>@BuildStep\nAutoAddScopeBuildItem autoAddScope() {\n    return AutoAddScopeBuildItem.builder().containsAnnotations(DotName.createSimple(&quot;javax.ejb.Stateless&quot;))\n            .defaultScope(BuiltinScope.DEPENDENT)\n            .build();\n}\n</code></pre>\n<p>Deployment has a dependency on runtime, and your project has to have a dependency on runtime. I failed to understand how on earth you could possibly benefit from classes in your deployment project.</p>\n<pre><code>deployment -&gt; runtime &lt;- your project\n</code></pre>\n<p>But since in your runtime extension description the deployment project is referenced, it will be loaded up on build time.</p>\n"}],"owner":{"account_id":6812695,"reputation":43,"user_id":5242340,"display_name":"xuckz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75889184,"answer_count":1,"score":1,"last_activity_date":1680238533,"creation_date":1680168787,"question_id":75886464,"body_markdown":"I have a library containing services annotated with @Stateless which i am not able to modify. For example something like this:\r\n\r\n    @Stateless\r\n    @Local(MyServiceLocal.class)\r\n    @Remote(MyServiceRemote.class)\r\n    public class MyServiceBean implements MyServiceLocal\r\n\r\n\r\nNow i want to use those services in my quarkus application, something simple like:\r\n\r\n    @QuarkusMain\r\n    public class MyMain implements QuarkusApplication {\r\n        \r\n        @Inject\r\n        MyServiceLocal myService;\r\n\r\n        @Override\r\n        public int run(String... args) {\r\n            myService.doSomething();\r\n        }\r\n    }\r\n\r\n\r\n... but since they have no bean defining annotation, and i am unable to add some, they are not injected.\r\n\r\nFrom my simple understanding, i could use the quarkus AnnotationsTransformer to replace the @Statless annotation with something like @Dependent.\r\nBut what i don&#39;t understand is, how i could activly achieve this, and there are no examples out there that would hint me in the right direction.\r\n\r\nWhat i have is an AnnotationsTransformer which would be able to do excatly this, but how do i apply it to my application? What i gathered would be, that i need a quarkus-extension, with the AnnotationsTransformer in my deployment subproject. But what would be the content of my runtime subproject? I don&#39;t need the transformed annotations in the extension but in my quarkus application. \r\n\r\nSince my understanding is that i can&#39;t use BuildSteps in my quarkus application directly, i&#39;m stuck.\r\n\r\nMaybe someone can hint me in the right direction, on how to achieve something like this.\r\n","title":"Using Stateless Beans in Quarkus CDI","body":"<p>I have a library containing services annotated with @Stateless which i am not able to modify. For example something like this:</p>\n<pre><code>@Stateless\n@Local(MyServiceLocal.class)\n@Remote(MyServiceRemote.class)\npublic class MyServiceBean implements MyServiceLocal\n</code></pre>\n<p>Now i want to use those services in my quarkus application, something simple like:</p>\n<pre><code>@QuarkusMain\npublic class MyMain implements QuarkusApplication {\n    \n    @Inject\n    MyServiceLocal myService;\n\n    @Override\n    public int run(String... args) {\n        myService.doSomething();\n    }\n}\n</code></pre>\n<p>... but since they have no bean defining annotation, and i am unable to add some, they are not injected.</p>\n<p>From my simple understanding, i could use the quarkus AnnotationsTransformer to replace the @Statless annotation with something like @Dependent.\nBut what i don't understand is, how i could activly achieve this, and there are no examples out there that would hint me in the right direction.</p>\n<p>What i have is an AnnotationsTransformer which would be able to do excatly this, but how do i apply it to my application? What i gathered would be, that i need a quarkus-extension, with the AnnotationsTransformer in my deployment subproject. But what would be the content of my runtime subproject? I don't need the transformed annotations in the extension but in my quarkus application.</p>\n<p>Since my understanding is that i can't use BuildSteps in my quarkus application directly, i'm stuck.</p>\n<p>Maybe someone can hint me in the right direction, on how to achieve something like this.</p>\n"},{"tags":["java","android","keyboard","leanback"],"comments":[{"owner":{"account_id":22404582,"reputation":1,"user_id":19600194,"display_name":"Dan"},"score":0,"creation_date":1680347189,"post_id":75894926,"comment_id":133885326,"body_markdown":"it seems that it only happens with the extended controls of the emulator in android studio or dpad on my nvidia shield. If I use the toolbar of the emulator in android it works fine... I have no idea anymore.. Spending hours of searching and testing...","body":"it seems that it only happens with the extended controls of the emulator in android studio or dpad on my nvidia shield. If I use the toolbar of the emulator in android it works fine... I have no idea anymore.. Spending hours of searching and testing..."}],"owner":{"account_id":22404582,"reputation":1,"user_id":19600194,"display_name":"Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680237977,"creation_date":1680237977,"question_id":75894926,"body_markdown":"Hi I have tried a lot of examples, but nothing works for me.\r\n\r\nI want to hide the keyboard when the user clicks on the BackButton of the Remote.\r\nEverytime I do that with some code examples I will return to the previous Activity.\r\n\r\n\r\n\r\nHere&#39;s an example that I use in my SearchActivity\r\n\r\n\r\n```\r\n @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (keyboardIsVisible()) {\r\n            Toast.makeText(getBaseContext(),&quot;hide keyboard now&quot;,Toast.LENGTH_LONG).show();\r\n          //  hideKeyboard(this);\r\n        }\r\n        else {\r\n            Toast.makeText(getBaseContext(),&quot;keyboard is hidden&quot;,Toast.LENGTH_LONG).show();\r\n            //super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    private static void hideKeyboard(Activity activity) {\r\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n        View view = activity.getCurrentFocus();\r\n        if (view == null) {\r\n            view = new View(activity);\r\n        }\r\n        assert imm != null;\r\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n    }\r\n\r\n    private boolean keyboardIsVisible() {\r\n       // return getRootWindowInsets(getWindow().getDecorView()).isVisible(WindowInsetsCompat.Type.ime());\r\n        return getWindow().getDecorView().getRootWindowInsets().isVisible(WindowInsetsCompat.Type.ime());\r\n    }\r\n```\r\n","title":"Android Leanback, hide Keyboard on DPAD Remote OnKeyBackPressed","body":"<p>Hi I have tried a lot of examples, but nothing works for me.</p>\n<p>I want to hide the keyboard when the user clicks on the BackButton of the Remote.\nEverytime I do that with some code examples I will return to the previous Activity.</p>\n<p>Here's an example that I use in my SearchActivity</p>\n<pre><code> @Override\n    public void onBackPressed()\n    {\n        if (keyboardIsVisible()) {\n            Toast.makeText(getBaseContext(),&quot;hide keyboard now&quot;,Toast.LENGTH_LONG).show();\n          //  hideKeyboard(this);\n        }\n        else {\n            Toast.makeText(getBaseContext(),&quot;keyboard is hidden&quot;,Toast.LENGTH_LONG).show();\n            //super.onBackPressed();\n        }\n    }\n\n    private static void hideKeyboard(Activity activity) {\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        View view = activity.getCurrentFocus();\n        if (view == null) {\n            view = new View(activity);\n        }\n        assert imm != null;\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    }\n\n    private boolean keyboardIsVisible() {\n       // return getRootWindowInsets(getWindow().getDecorView()).isVisible(WindowInsetsCompat.Type.ime());\n        return getWindow().getDecorView().getRootWindowInsets().isVisible(WindowInsetsCompat.Type.ime());\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","ide","testng"],"answers":[{"tags":[],"owner":{"account_id":16139344,"reputation":189,"user_id":11651101,"display_name":"give_it_a_bit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680237345,"creation_date":1680237345,"answer_id":75894883,"question_id":75894741,"body_markdown":"Resolved this by upgrading the testNG version to 7.0.0 in the pom file.","title":"org.testng.TestNGException: java.net.SocketException: Connection reset while trying to debug/run a test in IntellIJ idea CE","body":"<p>Resolved this by upgrading the testNG version to 7.0.0 in the pom file.</p>\n"}],"owner":{"account_id":16139344,"reputation":189,"user_id":11651101,"display_name":"give_it_a_bit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680237345,"creation_date":1680235082,"question_id":75894741,"body_markdown":"I have been working on a project, where I am able to successfully run the unit tests via `mvn clean install` command.\r\n\r\nHowever, when I try to run a unit test individually by clicking on the arrow beside `@Test` annotation, I am getting connection reset error. \r\n\r\nLocal setup -\r\n\r\n- *IntelliJ IDEA 2023.1 (Community Edition)* for he development process.\r\n- MacOS Ventura 13.3\r\n- zulu-8 jdk (1.8.0_362) macos-aarch64\r\n- TestNG version - 6.14.3\r\n\r\nAny clues on this, and how can it be resolved? Thanks\r\n\r\nStack trace -\r\n\r\n    org.testng.TestNGException: java.net.SocketException: Connection reset\r\n\tat org.testng.TestNG.parseSuite(TestNG.java:327)\r\n\tat org.testng.TestNG.initializeSuitesAndJarFile(TestNG.java:348)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:39)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n    Caused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:476)\r\n\tat sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:470)\r\n\tat sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)\r\n\tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1423)\r\n\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1329)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:444)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:415)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1577)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:648)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1305)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1271)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:264)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1160)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1044)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:958)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:601)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:504)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:642)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\r\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:195)\r\n\tat org.testng.xml.XMLParser.parse(XMLParser.java:38)\r\n\tat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:16)\r\n\tat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:9)\r\n\tat org.testng.xml.Parser.parse(Parser.java:152)\r\n\tat org.testng.xml.Parser.parse(Parser.java:233)\r\n\tat org.testng.TestNG.parseSuite(TestNG.java:295)\r\n\t... 3 more\r\n\r\n    Process finished with exit code 255\r\n\r\n\r\n","title":"org.testng.TestNGException: java.net.SocketException: Connection reset while trying to debug/run a test in IntellIJ idea CE","body":"<p>I have been working on a project, where I am able to successfully run the unit tests via <code>mvn clean install</code> command.</p>\n<p>However, when I try to run a unit test individually by clicking on the arrow beside <code>@Test</code> annotation, I am getting connection reset error.</p>\n<p>Local setup -</p>\n<ul>\n<li><em>IntelliJ IDEA 2023.1 (Community Edition)</em> for he development process.</li>\n<li>MacOS Ventura 13.3</li>\n<li>zulu-8 jdk (1.8.0_362) macos-aarch64</li>\n<li>TestNG version - 6.14.3</li>\n</ul>\n<p>Any clues on this, and how can it be resolved? Thanks</p>\n<p>Stack trace -</p>\n<pre><code>org.testng.TestNGException: java.net.SocketException: Connection reset\nat org.testng.TestNG.parseSuite(TestNG.java:327)\nat org.testng.TestNG.initializeSuitesAndJarFile(TestNG.java:348)\nat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:39)\nat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\nCaused by: java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:210)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:476)\nat sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:470)\nat sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\nat sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)\nat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1423)\nat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1329)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:444)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:415)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1577)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:648)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1305)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1271)\nat com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:264)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1160)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1044)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:958)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:601)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:504)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:642)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\nat javax.xml.parsers.SAXParser.parse(SAXParser.java:195)\nat org.testng.xml.XMLParser.parse(XMLParser.java:38)\nat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:16)\nat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:9)\nat org.testng.xml.Parser.parse(Parser.java:152)\nat org.testng.xml.Parser.parse(Parser.java:233)\nat org.testng.TestNG.parseSuite(TestNG.java:295)\n... 3 more\n\nProcess finished with exit code 255\n</code></pre>\n"},{"tags":["java","kubernetes","selenium-webdriver","selenium-grid"],"owner":{"account_id":13366411,"reputation":1,"user_id":9646529,"display_name":"user9646529"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680236468,"creation_date":1680206790,"question_id":75892557,"body_markdown":"I recently installed Selenium grid 4.8.1 using the [official helm chart][1]. I ran it in fully distributed mode on a AKS cluster and used keda to scale.\r\nI ran into the [issue reported here][2].\r\nMy kubernetes nodes are shutdown when not in use and when I trigger the test it goes into the queue and waits for the node to come up and by the time it creates a session the test fails and the browser hangs open to the address of &quot;Data&quot;. \r\nAnd the test fails with the following exception:\r\n\r\n&gt; org.openqa.selenium.WebDriverException: Exception thrown when setting up web Driver[[Could not start a new session. Unable to parse remote response: 5xx html]]\r\n\r\nI did investigation and found out the client fails the tests ~60 sec if its not able to establish a session on a node. I increased the readTimeout to 5 mins but no luck. Could anyone please provide some direction.\r\nI used following configuration to increase the read timeout but it doesn&#39;t seem to help        \r\n```\r\nClientConfig config = ClientConfig.defaultConfig().baseUri(remoteAddr.toURI())\r\n            .readTimeout(Duration.ofMinutes(5));\r\n\r\ndriver = new RemoteWebDriver(new HttpCommandExecutor(config), options);\r\n```\r\n\r\n  [1]: https://github.com/SeleniumHQ/docker-selenium/tree/trunk/charts/selenium-grid\r\n  [2]: https://github.com/SeleniumHQ/docker-selenium/issues/1507#issuecomment-1247298112","title":"Running tests on selenium 4 grid gives error web Driver Could not start a new session. Unable to parse remote response: 5xx html","body":"<p>I recently installed Selenium grid 4.8.1 using the <a href=\"https://github.com/SeleniumHQ/docker-selenium/tree/trunk/charts/selenium-grid\" rel=\"nofollow noreferrer\">official helm chart</a>. I ran it in fully distributed mode on a AKS cluster and used keda to scale.\nI ran into the <a href=\"https://github.com/SeleniumHQ/docker-selenium/issues/1507#issuecomment-1247298112\" rel=\"nofollow noreferrer\">issue reported here</a>.\nMy kubernetes nodes are shutdown when not in use and when I trigger the test it goes into the queue and waits for the node to come up and by the time it creates a session the test fails and the browser hangs open to the address of &quot;Data&quot;.\nAnd the test fails with the following exception:</p>\n<blockquote>\n<p>org.openqa.selenium.WebDriverException: Exception thrown when setting up web Driver[[Could not start a new session. Unable to parse remote response: 5xx html]]</p>\n</blockquote>\n<p>I did investigation and found out the client fails the tests ~60 sec if its not able to establish a session on a node. I increased the readTimeout to 5 mins but no luck. Could anyone please provide some direction.\nI used following configuration to increase the read timeout but it doesn't seem to help</p>\n<pre><code>ClientConfig config = ClientConfig.defaultConfig().baseUri(remoteAddr.toURI())\n            .readTimeout(Duration.ofMinutes(5));\n\ndriver = new RemoteWebDriver(new HttpCommandExecutor(config), options);\n</code></pre>\n"},{"tags":["java","kotlin","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680236266,"creation_date":1680236266,"answer_id":75894821,"question_id":75884883,"body_markdown":"- Use either Gradle runner in IntelliJ IDEA: Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Gradle | **Run tests using:** set to  **Gradle**\r\n\r\n- or add JVM arguments into JUnit Run configuration manually:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WJitg.png","title":"IntelliJ gradle test runner ignores jvmArgs defined in Test tasks in gradle","body":"<ul>\n<li><p>Use either Gradle runner in IntelliJ IDEA: Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Gradle | <strong>Run tests using:</strong> set to  <strong>Gradle</strong></p>\n</li>\n<li><p>or add JVM arguments into JUnit Run configuration manually:\n<a href=\"https://i.stack.imgur.com/WJitg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJitg.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":331993,"reputation":722,"user_id":657009,"accept_rate":33,"display_name":"user657009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680236266,"creation_date":1680158600,"question_id":75884883,"body_markdown":"I apply in gradle (kotlin dsl) the following configuration for all Test tasks for all projects:\r\n\r\n    tasks.withType&lt;Test&gt;().configureEach {\r\n      useJUnitPlatform()\r\n      jvmArgs(\r\n        &quot;--add-opens&quot;,\r\n        &quot;java.base/java.util=ALL-UNNAMED&quot;,\r\n        &quot;--add-opens&quot;,\r\n        &quot;java.base/java.lang=ALL-UNNAMED&quot;,\r\n        &quot;--add-opens&quot;,\r\n        &quot;java.base/java.time=ALL-UNNAMED&quot;,\r\n        &quot;-Xshare:off&quot;,\r\n      )\r\n      maxParallelForks = 1\r\n    }\r\n\r\nwhen I run from a terminal all tests pass.\r\n\r\nWhen I configure in IntelliJ: Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle -&gt; Run tests using: Intellij IDEA and run tests I get the error:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make private static java.time.Instant java.time.Instant.create(long,int) accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @45c8e616\r\n\r\n - Java 17\r\n - Kotlin 1.8.10\r\n - Gradle 8.0.2\r\n - IntelliJ IDEA 2023.1 (Ultimate Edition)","title":"IntelliJ gradle test runner ignores jvmArgs defined in Test tasks in gradle","body":"<p>I apply in gradle (kotlin dsl) the following configuration for all Test tasks for all projects:</p>\n<pre><code>tasks.withType&lt;Test&gt;().configureEach {\n  useJUnitPlatform()\n  jvmArgs(\n    &quot;--add-opens&quot;,\n    &quot;java.base/java.util=ALL-UNNAMED&quot;,\n    &quot;--add-opens&quot;,\n    &quot;java.base/java.lang=ALL-UNNAMED&quot;,\n    &quot;--add-opens&quot;,\n    &quot;java.base/java.time=ALL-UNNAMED&quot;,\n    &quot;-Xshare:off&quot;,\n  )\n  maxParallelForks = 1\n}\n</code></pre>\n<p>when I run from a terminal all tests pass.</p>\n<p>When I configure in IntelliJ: Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle -&gt; Run tests using: Intellij IDEA and run tests I get the error:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make private static java.time.Instant java.time.Instant.create(long,int) accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @45c8e616\n</code></pre>\n<ul>\n<li>Java 17</li>\n<li>Kotlin 1.8.10</li>\n<li>Gradle 8.0.2</li>\n<li>IntelliJ IDEA 2023.1 (Ultimate Edition)</li>\n</ul>\n"},{"tags":["java","database","caching","relational-database","guava"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1680218235,"post_id":75888240,"comment_id":133865630,"body_markdown":"A lot more detail would be useful in answering this question.  What do you mean &quot;retrieve data from multiple keys&quot;?  Do you have multiple keys and are trying to look up the value for their combination?  Are you trying to support multiple kinds of keys at once?","body":"A lot more detail would be useful in answering this question.  What do you mean &quot;retrieve data from multiple keys&quot;?  Do you have multiple keys and are trying to look up the value for their combination?  Are you trying to support multiple kinds of keys at once?"}],"answers":[{"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1680719800,"post_id":75894721,"comment_id":133947698,"body_markdown":"An [ancient](https://github.com/ben-manes/concurrentlinkedhashmap/blob/wiki/IndexableCache.md) bit of code (and probably ugly nowadays; could be 10x smaller) that I wrote trying to do this was to use a cache with secondary key extractors to build the index. It used lock striping when update the two maps. We later took the better ideas explored by this project (striped, bloom filter, size caching) and discarded the rest as too exploratory and special case.","body":"An <a href=\"https://github.com/ben-manes/concurrentlinkedhashmap/blob/wiki/IndexableCache.md\" rel=\"nofollow noreferrer\">ancient</a> bit of code (and probably ugly nowadays; could be 10x smaller) that I wrote trying to do this was to use a cache with secondary key extractors to build the index. It used lock striping when update the two maps. We later took the better ideas explored by this project (striped, bloom filter, size caching) and discarded the rest as too exploratory and special case."},{"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1681207330,"post_id":75894721,"comment_id":134015491,"body_markdown":"@LouisWasserman this will work as I will have to write a wrapper to make sure write happens at both the caches. Was curious if this is not a generic problem? I was surprised to not find any cache implementing as first class construct, but application has to do this.","body":"@LouisWasserman this will work as I will have to write a wrapper to make sure write happens at both the caches. Was curious if this is not a generic problem? I was surprised to not find any cache implementing as first class construct, but application has to do this."},{"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1681207333,"post_id":75894721,"comment_id":134015493,"body_markdown":"@BenManes thanks for sharing this super relevant and useful resource. I think it may help me solve.","body":"@BenManes thanks for sharing this super relevant and useful resource. I think it may help me solve."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680234582,"creation_date":1680234582,"answer_id":75894721,"question_id":75888240,"body_markdown":"The cleanest way to do this with Guava is to have two caches, one to look up by deviceId and one to look up by userId.\r\n\r\nI don&#39;t know if you consider that clean enough, but I&#39;d consider that the best possible type-safe solution.","title":"How to use Guava Cache with secondary index key?","body":"<p>The cleanest way to do this with Guava is to have two caches, one to look up by deviceId and one to look up by userId.</p>\n<p>I don't know if you consider that clean enough, but I'd consider that the best possible type-safe solution.</p>\n"}],"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680234582,"creation_date":1680178972,"question_id":75888240,"body_markdown":"Whenever we look to retrieve data from multiple keys, we choose to lean over databases. I have a Class Cart as shown:\r\n\r\n```Java\r\n@Data\r\npublic class Cart {\r\n\r\n    private String cartId;\r\n\r\n    private String restaurantId;\r\n\r\n    private String userId;\r\n\r\n    @NotNull\r\n    private String deviceId;\r\n\r\n    private Map&lt;String, Integer&gt; items;\r\n}\r\n```\r\nI want to retrieve my cart with userId or deviceId. In a RDBMS, the way would have been declaring deviceId(primary key) and userId(unique key) which would have been sufficient for me to retrieve the cart efficiently with either of these.\r\n\r\n\r\nIs there a clean way to achieve this with Guava or some other cache? By clean, I expect it to be first class construct provided in the cache so that I don&#39;t have to write a wrapper around it to use.","title":"How to use Guava Cache with secondary index key?","body":"<p>Whenever we look to retrieve data from multiple keys, we choose to lean over databases. I have a Class Cart as shown:</p>\n<pre><code>@Data\npublic class Cart {\n\n    private String cartId;\n\n    private String restaurantId;\n\n    private String userId;\n\n    @NotNull\n    private String deviceId;\n\n    private Map&lt;String, Integer&gt; items;\n}\n</code></pre>\n<p>I want to retrieve my cart with userId or deviceId. In a RDBMS, the way would have been declaring deviceId(primary key) and userId(unique key) which would have been sufficient for me to retrieve the cart efficiently with either of these.</p>\n<p>Is there a clean way to achieve this with Guava or some other cache? By clean, I expect it to be first class construct provided in the cache so that I don't have to write a wrapper around it to use.</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-circuitbreaker"],"owner":{"account_id":21279406,"reputation":29,"user_id":15658042,"display_name":"đằng dương"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680233727,"creation_date":1680233727,"question_id":75894657,"body_markdown":"I am building a microservices application using java spring boot. Currently, there are 4 services: Discovery server, api-gateway, portfolio-service, market-data-service. I want to make use of the Circuit Breaker for fault tolerant. However when I create a circuit breaker for this getPortfolio() method and set up the fallbackForGetPortfolio method, this fall back method is not being called. \r\n\r\n    package com.personalfinanceapplication.portfolioservice.controller;\r\n    \r\n    import com.personalfinanceapplication.portfolioservice.dto.PortfolioRequest;\r\n    import com.personalfinanceapplication.portfolioservice.dto.PortfolioResponse;\r\n    import com.personalfinanceapplication.portfolioservice.model.Portfolio;\r\n    import com.personalfinanceapplication.portfolioservice.service.PortfolioService;\r\n    import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\r\n    import io.github.resilience4j.retry.annotation.Retry;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;api/portfolio&quot;)\r\n    @RequiredArgsConstructor\r\n    \r\n    \r\n    public class PortfolioController {\r\n        private final PortfolioService portfolioService;\r\n        @PostMapping\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public void createPortfolio(@RequestBody PortfolioRequest portfolioRequest){\r\n            portfolioService.createPortfolio(portfolioRequest);\r\n        }\r\n    \r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;PortfolioResponse&gt; getAllPortfolios(){\r\n            return portfolioService.getAllPortfolios();\r\n        }\r\n    \r\n        @GetMapping(&quot;/{pid}&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        @CircuitBreaker(name=&quot;portfolio-service&quot;, fallbackMethod = &quot;fallbackForGetPortfolio&quot;)\r\n        public Portfolio getPortfolio(@PathVariable String pid){\r\n            return portfolioService.getPortfolio(pid);\r\n        }\r\n    \r\n        public String fallbackForGetPortfolio(String pid, Exception exception){\r\n            // return a default Portfolio object or a cached value\r\n            return &quot;oops, service is down&quot;;\r\n        }\r\n        @PostMapping(&quot;/{pid}/{asset}/{quantity}&quot;)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n    \r\n        public void addNewAssetToPortfolio(@PathVariable String pid, @PathVariable String asset, @PathVariable int quantity){\r\n            portfolioService.addNewAssetToPortfolio(pid, asset, quantity);\r\n    \r\n        }\r\n    }\r\n\r\nThis is my application.properties file \r\n\r\n    eureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n    spring.application.name=portfolio-service\r\n    server.port=8081\r\n    \r\n    resilience4j.circuitbreaker.instances.portfolio-service.register-health-indicator=true\r\n    resilience4j.circuitbreaker.instances.portfolio-service.sliding-window-type=count_based\r\n    resilience4j.circuitbreaker.instances.portfolio-service.sliding-window-size=5\r\n    resilience4j.circuitbreaker.instances.portfolio-service.failure-rate-threshold=40\r\n    resilience4j.circuitbreaker.instances.portfolio-service.slow-call-rate-threshold=40\r\n    resilience4j.circuitbreaker.instances.portfolio-service.permitted-number-of-calls-in-half-open-state=1\r\n    resilience4j.circuitbreaker.instances.portfolio-service.max-wait-duration-in-half-open-state=10s\r\n    resilience4j.circuitbreaker.instances.portfolio-service.wait-duration-in-open-state=10s\r\n    resilience4j.circuitbreaker.instances.portfolio-service.slow-call-duration-threshold=2s\r\n    resilience4j.circuitbreaker.instances.portfolio-service.writable-stack-trace-enabled=true\r\n    resilience4j.circuitbreaker.instances.portfolio-service.automatic-transition-from-open-to-half-open-enabled=true\r\n    \r\n    resilience4j.circuitbreaker.instances.portfolio-service.base-config=shared\r\n\r\n\r\n\r\n","title":"CircuitBreaker fallbackMethod not being called","body":"<p>I am building a microservices application using java spring boot. Currently, there are 4 services: Discovery server, api-gateway, portfolio-service, market-data-service. I want to make use of the Circuit Breaker for fault tolerant. However when I create a circuit breaker for this getPortfolio() method and set up the fallbackForGetPortfolio method, this fall back method is not being called.</p>\n<pre><code>package com.personalfinanceapplication.portfolioservice.controller;\n\nimport com.personalfinanceapplication.portfolioservice.dto.PortfolioRequest;\nimport com.personalfinanceapplication.portfolioservice.dto.PortfolioResponse;\nimport com.personalfinanceapplication.portfolioservice.model.Portfolio;\nimport com.personalfinanceapplication.portfolioservice.service.PortfolioService;\nimport io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\nimport io.github.resilience4j.retry.annotation.Retry;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/portfolio&quot;)\n@RequiredArgsConstructor\n\n\npublic class PortfolioController {\n    private final PortfolioService portfolioService;\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createPortfolio(@RequestBody PortfolioRequest portfolioRequest){\n        portfolioService.createPortfolio(portfolioRequest);\n    }\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;PortfolioResponse&gt; getAllPortfolios(){\n        return portfolioService.getAllPortfolios();\n    }\n\n    @GetMapping(&quot;/{pid}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @CircuitBreaker(name=&quot;portfolio-service&quot;, fallbackMethod = &quot;fallbackForGetPortfolio&quot;)\n    public Portfolio getPortfolio(@PathVariable String pid){\n        return portfolioService.getPortfolio(pid);\n    }\n\n    public String fallbackForGetPortfolio(String pid, Exception exception){\n        // return a default Portfolio object or a cached value\n        return &quot;oops, service is down&quot;;\n    }\n    @PostMapping(&quot;/{pid}/{asset}/{quantity}&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n\n    public void addNewAssetToPortfolio(@PathVariable String pid, @PathVariable String asset, @PathVariable int quantity){\n        portfolioService.addNewAssetToPortfolio(pid, asset, quantity);\n\n    }\n}\n</code></pre>\n<p>This is my application.properties file</p>\n<pre><code>eureka.client.service-url.defaultZone=http://localhost:8761/eureka\nspring.application.name=portfolio-service\nserver.port=8081\n\nresilience4j.circuitbreaker.instances.portfolio-service.register-health-indicator=true\nresilience4j.circuitbreaker.instances.portfolio-service.sliding-window-type=count_based\nresilience4j.circuitbreaker.instances.portfolio-service.sliding-window-size=5\nresilience4j.circuitbreaker.instances.portfolio-service.failure-rate-threshold=40\nresilience4j.circuitbreaker.instances.portfolio-service.slow-call-rate-threshold=40\nresilience4j.circuitbreaker.instances.portfolio-service.permitted-number-of-calls-in-half-open-state=1\nresilience4j.circuitbreaker.instances.portfolio-service.max-wait-duration-in-half-open-state=10s\nresilience4j.circuitbreaker.instances.portfolio-service.wait-duration-in-open-state=10s\nresilience4j.circuitbreaker.instances.portfolio-service.slow-call-duration-threshold=2s\nresilience4j.circuitbreaker.instances.portfolio-service.writable-stack-trace-enabled=true\nresilience4j.circuitbreaker.instances.portfolio-service.automatic-transition-from-open-to-half-open-enabled=true\n\nresilience4j.circuitbreaker.instances.portfolio-service.base-config=shared\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1680215022,"post_id":75893410,"comment_id":133865198,"body_markdown":"&quot;Best way&quot; is hard to know without more context.  You might find a tutorial on lambdas and pick what is closest to your use case and ask about that, if you can&#39;t reveal any information.","body":"&quot;Best way&quot; is hard to know without more context.  You might find a tutorial on lambdas and pick what is closest to your use case and ask about that, if you can&#39;t reveal any information."},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1680215221,"post_id":75893410,"comment_id":133865237,"body_markdown":"You can try to create an object and pass it to the lambda, inside the lambda, you can  change its states","body":"You can try to create an object and pass it to the lambda, inside the lambda, you can  change its states"},{"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"score":0,"creation_date":1680215305,"post_id":75893410,"comment_id":133865255,"body_markdown":"@0xh3xa but the object has to be final right, which means I can&#39;t change it&#39;s states from within lambda right?","body":"@0xh3xa but the object has to be final right, which means I can&#39;t change it&#39;s states from within lambda right?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1680215560,"post_id":75893410,"comment_id":133865294,"body_markdown":"@S.Dan as per [Trying my best&#39;s answer](https://stackoverflow.com/a/75893448/256196), the reference to `AtomicObject` is *effectively final* (it doesn&#39;t change), but its *value* can be changed.","body":"@S.Dan as per <a href=\"https://stackoverflow.com/a/75893448/256196\">Trying my best&#39;s answer</a>, the reference to <code>AtomicObject</code> is <i>effectively final</i> (it doesn&#39;t change), but its <i>value</i> can be changed."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1680215588,"post_id":75893410,"comment_id":133865298,"body_markdown":"Wrong.   An argument of &#39;final Thing thing&#39; simply means the value of &#39;thing&#39; (a reference) cannot be changed. The Thing itself can. As usual, it hinges on understanding the difference between varaibles and objects.","body":"Wrong.   An argument of &#39;final Thing thing&#39; simply means the value of &#39;thing&#39; (a reference) cannot be changed. The Thing itself can. As usual, it hinges on understanding the difference between varaibles and objects."},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1680216165,"post_id":75893410,"comment_id":133865390,"body_markdown":"@S.Dan The reference object refers to the same object, which will not change, but its internal state can. for example, you have a  class  called `Myobject` that contains `String stage` inside Lambda you can change `stage`","body":"@S.Dan The reference object refers to the same object, which will not change, but its internal state can. for example, you have a  class  called <code>Myobject</code> that contains <code>String stage</code> inside Lambda you can change <code>stage</code>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680216177,"post_id":75893410,"comment_id":133865391,"body_markdown":"Keep in mind, that when you access `stage` outside of the lambda (say, after `})` line), it will not have the value you may expect.","body":"Keep in mind, that when you access <code>stage</code> outside of the lambda (say, after <code>})</code> line), it will not have the value you may expect."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1680217636,"post_id":75893410,"comment_id":133865567,"body_markdown":"That comment is potentially true, and the reason why more context is needed.  All of the answers (and comments) provide ways to reinvent `Future`, or method return values, or exception processing.  With the expected caveats that it won&#39;t work as well as any of those.  That&#39;s why we need more info on what is being done so we can direct the OP to a proper answer.","body":"That comment is potentially true, and the reason why more context is needed.  All of the answers (and comments) provide ways to reinvent <code>Future</code>, or method return values, or exception processing.  With the expected caveats that it won&#39;t work as well as any of those.  That&#39;s why we need more info on what is being done so we can direct the OP to a proper answer."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680215279,"creation_date":1680215279,"answer_id":75893448,"question_id":75893410,"body_markdown":"You can use Atomic variables:\r\n\r\n    AtomicRefence&lt;String&gt; string = new AtomicReference&lt;&gt;();\r\n    string.set(&quot;Validating&quot;);\r\n    \r\n    // some code \r\n    \r\n    string.get();\r\n\r\nmore info here -&gt; [atomic][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-atomic-variables","title":"How to update a variable from inside lambda","body":"<p>You can use Atomic variables:</p>\n<pre><code>AtomicRefence&lt;String&gt; string = new AtomicReference&lt;&gt;();\nstring.set(&quot;Validating&quot;);\n\n// some code \n\nstring.get();\n</code></pre>\n<p>more info here -&gt; <a href=\"https://www.baeldung.com/java-atomic-variables\" rel=\"nofollow noreferrer\">atomic</a></p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680216384,"creation_date":1680216384,"answer_id":75893534,"question_id":75893410,"body_markdown":"Generally, I recommend you use callbacks\r\n\r\n```\r\ninterface StageListener {\r\n  void onStateChange(String state);\r\n}\r\n```\r\n\r\nThen implement that in some &quot;State Machine&quot; logic. \r\n\r\n```\r\nclass MyStateMachine implements StageListener {\r\n  public void onStateChange(String stage) {\r\n    switch(stage) {\r\n      case &quot;Validating&quot;:\r\n        // some code\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n``` \r\nfinal StageListener machine = new MyStateMachine();\r\n\r\nfoo.example(() -&gt; {\r\n    machine.onStateChange(&quot;Validating&quot;);\r\n    /// some code\r\n    machine.onStateChange(&quot;Creating&quot;);\r\n});\r\n\r\n// This way, you do not accidentally try to use &quot;stage&quot; out here, where the value is not set. \r\n```\r\n\r\nThen, ideally, you use an `enum`, not a plain string. ","title":"How to update a variable from inside lambda","body":"<p>Generally, I recommend you use callbacks</p>\n<pre><code>interface StageListener {\n  void onStateChange(String state);\n}\n</code></pre>\n<p>Then implement that in some &quot;State Machine&quot; logic.</p>\n<pre><code>class MyStateMachine implements StageListener {\n  public void onStateChange(String stage) {\n    switch(stage) {\n      case &quot;Validating&quot;:\n        // some code\n        break;\n      default:\n        break;\n    }\n  }\n}\n</code></pre>\n<pre><code>final StageListener machine = new MyStateMachine();\n\nfoo.example(() -&gt; {\n    machine.onStateChange(&quot;Validating&quot;);\n    /// some code\n    machine.onStateChange(&quot;Creating&quot;);\n});\n\n// This way, you do not accidentally try to use &quot;stage&quot; out here, where the value is not set. \n</code></pre>\n<p>Then, ideally, you use an <code>enum</code>, not a plain string.</p>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680233145,"accepted_answer_id":75893448,"answer_count":2,"score":0,"last_activity_date":1680233203,"creation_date":1680214810,"question_id":75893410,"body_markdown":"I&#39;ve got a function like the following where I need to update a variable from inside lambda (This is the minimal viable example I could think of without giving our private info so it might not make much sense, but the lambda and stage variables are there). \r\n\r\nBut as expected, I can&#39;t update the variable since I get the error `Variable used in lambda expression should be final or effectively final`. What is the best way to update an external variable from within the lambda. The purpose of the variable is to know which stage the process failed in case something goes wrong, which means it can fail without returning anything.\r\n\r\n```\r\n(() -&gt; {\r\n\r\n            stage = &quot;Validating&quot;;\r\n            //do something\r\n            stage = &quot;Creating x&quot;;\r\n            // do something\r\n            stage = &quot;Creating y&quot;;\r\n            // .....\r\n            stage = &quot;finalising&quot;;\r\n            // do something\r\n        })\r\n```\r\n","title":"How to update a variable from inside lambda","body":"<p>I've got a function like the following where I need to update a variable from inside lambda (This is the minimal viable example I could think of without giving our private info so it might not make much sense, but the lambda and stage variables are there).</p>\n<p>But as expected, I can't update the variable since I get the error <code>Variable used in lambda expression should be final or effectively final</code>. What is the best way to update an external variable from within the lambda. The purpose of the variable is to know which stage the process failed in case something goes wrong, which means it can fail without returning anything.</p>\n<pre><code>(() -&gt; {\n\n            stage = &quot;Validating&quot;;\n            //do something\n            stage = &quot;Creating x&quot;;\n            // do something\n            stage = &quot;Creating y&quot;;\n            // .....\n            stage = &quot;finalising&quot;;\n            // do something\n        })\n</code></pre>\n"},{"tags":["java","activemq","broker"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680190527,"post_id":75886990,"comment_id":133859637,"body_markdown":"If you&#39;re using MQTT you might consider using [ActiveMQ Artemis](https://activemq.apache.org/components/artemis/) rather than &quot;Classic&quot; (i.e. 5.x) because, among other things, Artemis has support for MQTT 5 and &quot;Classic&quot; does not. You can find more details in [the documentation](https://activemq.apache.org/components/artemis/documentation/latest/mqtt.html).","body":"If you&#39;re using MQTT you might consider using <a href=\"https://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a> rather than &quot;Classic&quot; (i.e. 5.x) because, among other things, Artemis has support for MQTT 5 and &quot;Classic&quot; does not. You can find more details in <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/mqtt.html\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"comments":[{"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"score":0,"creation_date":1680187565,"post_id":75889178,"comment_id":133858805,"body_markdown":"it still doesn&#39;t  work. On the activemq server, folder opt/activemq/conf, I have the following files: amq-client_cert, amq-client.ks, amq-server.ts, amq-server_cert. On client Machine I have the following files: amq-client.ks, amq-client.ts, amq-server_cert, amq-client_cert. I modified activemq config file. It doesn&#39;t work with or without a certificate. I do not know anymore.","body":"it still doesn&#39;t  work. On the activemq server, folder opt/activemq/conf, I have the following files: amq-client_cert, amq-client.ks, amq-server.ts, amq-server_cert. On client Machine I have the following files: amq-client.ks, amq-client.ts, amq-server_cert, amq-client_cert. I modified activemq config file. It doesn&#39;t work with or without a certificate. I do not know anymore."},{"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"score":0,"creation_date":1680187811,"post_id":75889178,"comment_id":133858863,"body_markdown":"i get the error message: `io.netty.channel.Abstract$AnnotatedConnectionException_Connection refuses: no further information:/BrokerIP:1883`","body":"i get the error message: <code>io.netty.channel.Abstract$AnnotatedConnectionException_Conne&zwnj;&#8203;ction refuses: no further information:&#47;BrokerIP:1883</code>"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680190158,"post_id":75889178,"comment_id":133859525,"body_markdown":"The *only* SSL-related file you need in the broker&#39;s `conf` directory is the keystore (i.e. `amq-server.ks`). This is what you reference from the `sslContext` configuration in `activemq.xml`. Likewise, the *only* SSL-related file you need on the client is the truststore (i.e. `amq-client.ts`). This is what you&#39;d reference in your MQTT.fx connection configuration.","body":"The <i>only</i> SSL-related file you need in the broker&#39;s <code>conf</code> directory is the keystore (i.e. <code>amq-server.ks</code>). This is what you reference from the <code>sslContext</code> configuration in <code>activemq.xml</code>. Likewise, the <i>only</i> SSL-related file you need on the client is the truststore (i.e. <code>amq-client.ts</code>). This is what you&#39;d reference in your MQTT.fx connection configuration."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680190199,"post_id":75889178,"comment_id":133859538,"body_markdown":"Where are you seeing that `AnnotatedConnectionException_Connection`? Is it on the client or in the broker&#39;s log?","body":"Where are you seeing that <code>AnnotatedConnectionException_Connection</code>? Is it on the client or in the broker&#39;s log?"},{"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"score":0,"creation_date":1680200693,"post_id":75889178,"comment_id":133862204,"body_markdown":"i use mqttfx 5.3.0, \nin mqttfx I can only choose these optins for the SSL Communication, which are: ` Enable ssl/tls (yes or not) , Protokol Version (SSl1,2,3 or TLSv1,2,3), Key Algorithm, and either Default ca certificate; CA certificate file , Ca certificate keystore, Certificates file, ca certfifikate fron trusted keystore.`\nin mqttfx on the cleint Machine I dont have the possibility to choose keystore.  The Message. The error message appears when i try to communicate in mqttfx via ssl from the cleint.","body":"i use mqttfx 5.3.0,  in mqttfx I can only choose these optins for the SSL Communication, which are: ` Enable ssl/tls (yes or not) , Protokol Version (SSl1,2,3 or TLSv1,2,3), Key Algorithm, and either Default ca certificate; CA certificate file , Ca certificate keystore, Certificates file, ca certfifikate fron trusted keystore.` in mqttfx on the cleint Machine I dont have the possibility to choose keystore.  The Message. The error message appears when i try to communicate in mqttfx via ssl from the cleint."},{"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"score":0,"creation_date":1680201017,"post_id":75889178,"comment_id":133862274,"body_markdown":"I don&#39;t know if there is another way to implement it or am I just doing Something wrong, I would be grateful for any kind of help. regard","body":"I don&#39;t know if there is another way to implement it or am I just doing Something wrong, I would be grateful for any kind of help. regard"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680203946,"post_id":75889178,"comment_id":133862941,"body_markdown":"Given that MQTT.fx appears to be closed source and has no public documentation I&#39;m afraid I can&#39;t help you with any issues there. Could you use a different MQTT tool (e.g. Mosquitto tools)?","body":"Given that MQTT.fx appears to be closed source and has no public documentation I&#39;m afraid I can&#39;t help you with any issues there. Could you use a different MQTT tool (e.g. Mosquitto tools)?"},{"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"score":0,"creation_date":1680207079,"post_id":75889178,"comment_id":133863679,"body_markdown":"Which one would you recommend for me? i would like to test the communication with and without ssl for later deployment.","body":"Which one would you recommend for me? i would like to test the communication with and without ssl for later deployment."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680208060,"post_id":75889178,"comment_id":133863906,"body_markdown":"I don&#39;t quite understand your use-case. Are you saying you want some tools to do a quick test of MQTT with and without SSL before you deploy the broker to production?","body":"I don&#39;t quite understand your use-case. Are you saying you want some tools to do a quick test of MQTT with and without SSL before you deploy the broker to production?"},{"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"score":0,"creation_date":1680238509,"post_id":75889178,"comment_id":133867675,"body_markdown":"I would like to test it first to understand how it works and to use it on a few machines in the future.","body":"I would like to test it first to understand how it works and to use it on a few machines in the future."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184489,"creation_date":1680184489,"answer_id":75889178,"question_id":75886990,"body_markdown":"In step #3 you should be using this command:\r\n```\r\nkeytool -genkey -alias client -keyalg RSA -keystore client.ts\r\n```\r\nNotice that this command uses `client.ts` rather than `amq-server.ks`. This will be the truststore that you use on MQTT.fx.\r\n\r\nAlso, if you&#39;re using MQTT with and without SSL you should add the proper `transportConnector` elements and use those from your MQTT application(s), e.g.:\r\n```xml\r\n&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio://0.0.0.0:1883&quot;/&gt;\r\n&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio+ssl://0.0.0.0:8883&quot;/&gt;\r\n```\r\nYour `sslContext` should be configured as follows:\r\n```xml\r\n&lt;sslContext&gt;\r\n    &lt;sslContext keyStore=&quot;file:${activemq.conf}/amq-server.ks&quot; keyStorePassword=&quot;password&quot;/&gt;\r\n&lt;/sslContext&gt;\r\n```","title":"Connecting to ActiveMQ &quot;Classic&quot; using SSL with self-signed certs","body":"<p>In step #3 you should be using this command:</p>\n<pre><code>keytool -genkey -alias client -keyalg RSA -keystore client.ts\n</code></pre>\n<p>Notice that this command uses <code>client.ts</code> rather than <code>amq-server.ks</code>. This will be the truststore that you use on MQTT.fx.</p>\n<p>Also, if you're using MQTT with and without SSL you should add the proper <code>transportConnector</code> elements and use those from your MQTT application(s), e.g.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio://0.0.0.0:1883&quot;/&gt;\n&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio+ssl://0.0.0.0:8883&quot;/&gt;\n</code></pre>\n<p>Your <code>sslContext</code> should be configured as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sslContext&gt;\n    &lt;sslContext keyStore=&quot;file:${activemq.conf}/amq-server.ks&quot; keyStorePassword=&quot;password&quot;/&gt;\n&lt;/sslContext&gt;\n</code></pre>\n"}],"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680232939,"creation_date":1680171791,"question_id":75886990,"body_markdown":"How can I setup SSL on ActiveMQ server?\r\n\r\nI followed [this tutorial][1] to create certificate for ActiveMQ. \r\n\r\n 1. Using keytool, create a certificate for the broker:\r\n    ```\r\n    keytool -genkey -alias broker -keyalg RSA -keystore amq-server.ks\r\n    ```\r\n 2. Export the broker’s certificate so it can be shared with clients:\r\n    ```\r\n    keytool -export -alias broker -keystore broker.ks -file amq- server_cert\r\n    ```\r\n 3. Create a certificate/keystore for the client:\r\n    ```\r\n    keytool -genkey -alias client -keyalg RSA -keystore amq-server.ks\r\n    ```\r\n 4. Create a truststore for the client, and import the broker’s certificate. This establishes that client &quot;trusts&quot; the broker:\r\n    ```\r\n    keytool -import -alias broker -keystore client.ts -file amq-server_cert\r\n    ```\r\nI have Ubuntu Server with ActiveMQ and Windows Machine with MQTT.fx.\r\n\r\nI added that setting in ActiveMQ config:\r\n```xml\r\n&lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n&lt;transportConnector name=&quot;ssl&quot; uri=&quot;ssl://0.0.0.0:61714?transport.enabledProtocols=TLSv1.2&quot;/`\r\n```\r\nI installed now on a machine MQTT.fx, and I&#39;m trying to connect over SSL. I created 2 configs - one with a certificate and other without a certificate. Connecting works without certificate. Connection with certificate does not work. I have selected the server certificate or the client certificate does not work.\r\n\r\nIf I add this setting to ActiveMQ config then nothing works anymore \r\n```xml\r\n&lt;sslContext&gt; \r\n   &lt;sslContext keyStore=&quot;file:${activemq.base}/conf/amq-server.ks&quot; \r\n               keyStorePassword=&quot;password&quot;\r\n               trustStore=&quot;file:${activemq.base}/conf/amq-server.ts&quot;\r\n               trustStorePassword=&quot;password&quot;/&gt; \r\n&lt;/sslContext&gt;\r\n```\r\nI have tried all combinations does not work. \r\n\r\nCan someone help me? How can I just set up SSL on ActiveMQ and communicate with certificate. Maybe one way SSL?\r\n\r\n\r\n  [1]: https://activemq.apache.org/how-do-i-use-ssl","title":"Connecting to ActiveMQ &quot;Classic&quot; using SSL with self-signed certs","body":"<p>How can I setup SSL on ActiveMQ server?</p>\n<p>I followed <a href=\"https://activemq.apache.org/how-do-i-use-ssl\" rel=\"nofollow noreferrer\">this tutorial</a> to create certificate for ActiveMQ.</p>\n<ol>\n<li>Using keytool, create a certificate for the broker:\n<pre><code>keytool -genkey -alias broker -keyalg RSA -keystore amq-server.ks\n</code></pre>\n</li>\n<li>Export the broker’s certificate so it can be shared with clients:\n<pre><code>keytool -export -alias broker -keystore broker.ks -file amq- server_cert\n</code></pre>\n</li>\n<li>Create a certificate/keystore for the client:\n<pre><code>keytool -genkey -alias client -keyalg RSA -keystore amq-server.ks\n</code></pre>\n</li>\n<li>Create a truststore for the client, and import the broker’s certificate. This establishes that client &quot;trusts&quot; the broker:\n<pre><code>keytool -import -alias broker -keystore client.ts -file amq-server_cert\n</code></pre>\n</li>\n</ol>\n<p>I have Ubuntu Server with ActiveMQ and Windows Machine with MQTT.fx.</p>\n<p>I added that setting in ActiveMQ config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\n&lt;transportConnector name=&quot;ssl&quot; uri=&quot;ssl://0.0.0.0:61714?transport.enabledProtocols=TLSv1.2&quot;/`\n</code></pre>\n<p>I installed now on a machine MQTT.fx, and I'm trying to connect over SSL. I created 2 configs - one with a certificate and other without a certificate. Connecting works without certificate. Connection with certificate does not work. I have selected the server certificate or the client certificate does not work.</p>\n<p>If I add this setting to ActiveMQ config then nothing works anymore</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sslContext&gt; \n   &lt;sslContext keyStore=&quot;file:${activemq.base}/conf/amq-server.ks&quot; \n               keyStorePassword=&quot;password&quot;\n               trustStore=&quot;file:${activemq.base}/conf/amq-server.ts&quot;\n               trustStorePassword=&quot;password&quot;/&gt; \n&lt;/sslContext&gt;\n</code></pre>\n<p>I have tried all combinations does not work.</p>\n<p>Can someone help me? How can I just set up SSL on ActiveMQ and communicate with certificate. Maybe one way SSL?</p>\n"},{"tags":["java","android","serversocket","urlconnection"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680253615,"post_id":75891536,"comment_id":133870416,"body_markdown":"How is your setup? Where is the server running? On which device is the client running.","body":"How is your setup? Where is the server running? On which device is the client running."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680254032,"post_id":75891536,"comment_id":133870502,"body_markdown":"`inputStream = new BufferedInputStream(socket.getInputStream());\n                    byteArrayOS = new ByteArrayOutputStream(initialArraySize);` Place that code before the while loop.","body":"<code>inputStream = new BufferedInputStream(socket.getInputStream());                     byteArrayOS = new ByteArrayOutputStream(initialArraySize);</code> Place that code before the while loop."}],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680232417,"creation_date":1680199385,"question_id":75891536,"body_markdown":"The following classes are running as threads, invoked from a fairly empty Android application (i.e., the app is really only being used to spawn the threads and then post a message to URLSender). The observed behavior is that the connection is made (i.e., a call to `socket.isConnected()` returns true), but `while(socket.isConnected){}` simply loops without any content ever being received on `inputStream.read()`, so `while (bytesRead != -1){}` is never entered.\r\n\r\n**Add Note:**\r\n\r\nI moved `ServerSocketHost` and `URLSender` into a vanilla Java console driver, and the behavior appears to be the same. So, the issue appears to be the actual transfer from the `URLConnection` sender to the `ServerSocket` receiver.\r\n\r\nAny suggestions?\r\n\r\nImplementation of the server receiving communication from the client...\r\n```\r\npublic class ServerSocketHost implements Runnable {\r\n\r\n    public  static final int         HOST_PORT   = 45000;\r\n    public  static final byte[]      HOST_IP     = new byte[]{127, 0, 0, 1};\r\n    private static InetSocketAddress hostAddress = null;\r\n\r\n    private static final int DEFAULT_TIMEOUT = 5000;\r\n    private static final int CONNECT_BACKLOG = 50;\r\n\r\n    private boolean      okToRun      = true;\r\n    private ServerSocket serverSocket = null;\r\n    private int          timeoutValue = -1;\r\n\r\n    public ServerSocketHost() throws IOException {\r\n        this(DEFAULT_TIMEOUT);\r\n    }\r\n\r\n    public ServerSocketHost(int timeoutValue) throws IOException {\r\n        this.timeoutValue = timeoutValue;\r\n        getServerAddress();\r\n        openServerSocket();\r\n    }\r\n\r\n    private void openServerSocket() throws IOException {\r\n        serverSocket = new ServerSocket(HOST_PORT);\r\n        serverSocket.setSoTimeout(timeoutValue);\r\n    }\r\n\r\n    public void shutdown() {\r\n        /* will cause run() to terminate execution on evaluation of &quot;while (okToRun)&quot;, either after\r\n             input has been read or a timeout has occurred\r\n         */\r\n        okToRun = false;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        BufferedInputStream   inputStream      = null;\r\n        ByteArrayOutputStream byteArrayOS      = null;\r\n        int                   initialArraySize = 1024;\r\n        byte[]                byteInput        = new byte[8]; // &#39;8&#39; is an arbitrary number\r\n        int                   bytesRead        = -1;\r\n\r\n        while (okToRun) {\r\n            Socket socket = null;\r\n            try {\r\n                if(serverSocket.isClosed()) {\r\n                    // ServerSocket is closed on timeout, so reopen if needed\r\n                    openServerSocket();\r\n                }\r\n\r\n                socket = serverSocket.accept();\r\n                while (socket.isConnected()) {\r\n                    inputStream = new BufferedInputStream(socket.getInputStream());\r\n                    byteArrayOS = new ByteArrayOutputStream(initialArraySize);\r\n                    /* BEGIN CONSTRAINED IMPLEMENTATION\r\n                        the following implementation (using InputStream.read() vice readAllBytes()) is\r\n                      constrained by the target Android API. InputStream.readAllBytes() is not supported\r\n                      until API 33, and this implementation targets API 29.\r\n                     */\r\n                    bytesRead = inputStream.read(byteInput);\r\n                    while (bytesRead != -1) {\r\n                        byteArrayOS.write(byteInput, 0, bytesRead);\r\n                        bytesRead = inputStream.read(byteInput);\r\n                    }\r\n                    byteArrayOS.flush();\r\n                }\r\n            } catch(IOException e) {\r\n                // should handle the exception, but for now just swallow it\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nImplementation of the client, which is posting messages to an internal queue and then posting those messages to the server/host...\r\n```\r\npublic class URLSender implements Runnable {\r\n\r\n    private boolean           okToRun          = true;\r\n    private URL               hostURL          = null;\r\n    private List&lt;String&gt;      synchronizedList = null;\r\n\r\n    public URLSender() throws MalformedURLException {\r\n        this.hostURL          = new URL( &quot;http://127.0.0.1:45000&quot;);\r\n        this.synchronizedList = Collections.synchronizedList(new LinkedList&lt;String&gt;());\r\n    }\r\n\r\n    public void shutdown() {\r\n        okToRun = false;\r\n    }\r\n\r\n    public void postMessage(String message) {\r\n        synchronized (synchronizedList) {\r\n            synchronizedList.add(message + &quot; (1)\\n&quot;);\r\n            synchronizedList.add(message + &quot; (2)\\n&quot;);\r\n            synchronizedList.add(message + &quot; (3)\\n&quot;);\r\n            synchronizedList.notify();\r\n        }\r\n    }\r\n\r\n    public void run() {\r\n        URLConnection      urlConnection      = null;\r\n        OutputStreamWriter outputStreamWriter = null;\r\n\r\n        try {\r\n            while (okToRun) {\r\n                if (synchronizedList.isEmpty()) {\r\n                    synchronized (synchronizedList) {\r\n                        synchronizedList.wait();\r\n                    }\r\n                }\r\n\r\n                try {\r\n                    urlConnection = hostURL.openConnection();\r\n                    urlConnection.setDoOutput(true);\r\n                    outputStreamWriter = new OutputStreamWriter(urlConnection.getOutputStream());\r\n                } catch(IOException e) {\r\n                    // should handle the exception, but for now just swallow it\r\n                    e.printStackTrace();\r\n                }\r\n                while (synchronizedList.size() &gt; 0) {\r\n                    try {\r\n                        String localMessage = synchronizedList.remove(0);\r\n                        byte[] bytes2write  = localMessage.getBytes();\r\n\r\n                        outputStreamWriter.write(localMessage);\r\n                        outputStreamWriter.flush();\r\n                    } catch (MalformedURLException e) {\r\n                        // ?? okay to swallow this exception, as it should have been thrown in constructor\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        // should handle the exception, but for now just swallow it\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                try {\r\n                    outputStreamWriter.close();\r\n                    ((HttpURLConnection) urlConnection).disconnect();\r\n                } catch(IOException e) {\r\n                    // should handle the exception, but for now just swallow it\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } catch(InterruptedException e) {\r\n            // swallow the exception (i.e., assume thread is being stopped)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAndroid manifest, with entries to support cleartext using HTTP\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n\r\n    &lt;!--\r\n          Entries &quot;android:networkSecurityConfig&quot; and &quot;android:usesCleartextTraffic&quot; added to\r\n          support use of http communications\r\n      --&gt;\r\n    &lt;application\r\n        android:networkSecurityConfig=&quot;@xml/xml_security_config&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.URLConnect&quot;\r\n        tools:targetApi=&quot;29&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.URLConnect.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nAssociated network-security-config...\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;!-- * * *  FOR DEMONSTRATION PURPOSES ONLY  * * *\r\n      Network configuration exists solely to allow the URL socket to be used with plain HTTP\r\n      protocol. In a real-world implementation, communication using HTTPS protocol should be\r\n      employed, with appropriate certificates.\r\n      --&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;&lt;/base-config&gt;\r\n\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;127.0.0.1&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n```","title":"Unable to receive content from URLConnection client on ServerSocket host in Android","body":"<p>The following classes are running as threads, invoked from a fairly empty Android application (i.e., the app is really only being used to spawn the threads and then post a message to URLSender). The observed behavior is that the connection is made (i.e., a call to <code>socket.isConnected()</code> returns true), but <code>while(socket.isConnected){}</code> simply loops without any content ever being received on <code>inputStream.read()</code>, so <code>while (bytesRead != -1){}</code> is never entered.</p>\n<p><strong>Add Note:</strong></p>\n<p>I moved <code>ServerSocketHost</code> and <code>URLSender</code> into a vanilla Java console driver, and the behavior appears to be the same. So, the issue appears to be the actual transfer from the <code>URLConnection</code> sender to the <code>ServerSocket</code> receiver.</p>\n<p>Any suggestions?</p>\n<p>Implementation of the server receiving communication from the client...</p>\n<pre><code>public class ServerSocketHost implements Runnable {\n\n    public  static final int         HOST_PORT   = 45000;\n    public  static final byte[]      HOST_IP     = new byte[]{127, 0, 0, 1};\n    private static InetSocketAddress hostAddress = null;\n\n    private static final int DEFAULT_TIMEOUT = 5000;\n    private static final int CONNECT_BACKLOG = 50;\n\n    private boolean      okToRun      = true;\n    private ServerSocket serverSocket = null;\n    private int          timeoutValue = -1;\n\n    public ServerSocketHost() throws IOException {\n        this(DEFAULT_TIMEOUT);\n    }\n\n    public ServerSocketHost(int timeoutValue) throws IOException {\n        this.timeoutValue = timeoutValue;\n        getServerAddress();\n        openServerSocket();\n    }\n\n    private void openServerSocket() throws IOException {\n        serverSocket = new ServerSocket(HOST_PORT);\n        serverSocket.setSoTimeout(timeoutValue);\n    }\n\n    public void shutdown() {\n        /* will cause run() to terminate execution on evaluation of &quot;while (okToRun)&quot;, either after\n             input has been read or a timeout has occurred\n         */\n        okToRun = false;\n    }\n\n    @Override\n    public void run() {\n        BufferedInputStream   inputStream      = null;\n        ByteArrayOutputStream byteArrayOS      = null;\n        int                   initialArraySize = 1024;\n        byte[]                byteInput        = new byte[8]; // '8' is an arbitrary number\n        int                   bytesRead        = -1;\n\n        while (okToRun) {\n            Socket socket = null;\n            try {\n                if(serverSocket.isClosed()) {\n                    // ServerSocket is closed on timeout, so reopen if needed\n                    openServerSocket();\n                }\n\n                socket = serverSocket.accept();\n                while (socket.isConnected()) {\n                    inputStream = new BufferedInputStream(socket.getInputStream());\n                    byteArrayOS = new ByteArrayOutputStream(initialArraySize);\n                    /* BEGIN CONSTRAINED IMPLEMENTATION\n                        the following implementation (using InputStream.read() vice readAllBytes()) is\n                      constrained by the target Android API. InputStream.readAllBytes() is not supported\n                      until API 33, and this implementation targets API 29.\n                     */\n                    bytesRead = inputStream.read(byteInput);\n                    while (bytesRead != -1) {\n                        byteArrayOS.write(byteInput, 0, bytesRead);\n                        bytesRead = inputStream.read(byteInput);\n                    }\n                    byteArrayOS.flush();\n                }\n            } catch(IOException e) {\n                // should handle the exception, but for now just swallow it\n                e.printStackTrace();\n            } \n        }\n    }\n}\n</code></pre>\n<p>Implementation of the client, which is posting messages to an internal queue and then posting those messages to the server/host...</p>\n<pre><code>public class URLSender implements Runnable {\n\n    private boolean           okToRun          = true;\n    private URL               hostURL          = null;\n    private List&lt;String&gt;      synchronizedList = null;\n\n    public URLSender() throws MalformedURLException {\n        this.hostURL          = new URL( &quot;http://127.0.0.1:45000&quot;);\n        this.synchronizedList = Collections.synchronizedList(new LinkedList&lt;String&gt;());\n    }\n\n    public void shutdown() {\n        okToRun = false;\n    }\n\n    public void postMessage(String message) {\n        synchronized (synchronizedList) {\n            synchronizedList.add(message + &quot; (1)\\n&quot;);\n            synchronizedList.add(message + &quot; (2)\\n&quot;);\n            synchronizedList.add(message + &quot; (3)\\n&quot;);\n            synchronizedList.notify();\n        }\n    }\n\n    public void run() {\n        URLConnection      urlConnection      = null;\n        OutputStreamWriter outputStreamWriter = null;\n\n        try {\n            while (okToRun) {\n                if (synchronizedList.isEmpty()) {\n                    synchronized (synchronizedList) {\n                        synchronizedList.wait();\n                    }\n                }\n\n                try {\n                    urlConnection = hostURL.openConnection();\n                    urlConnection.setDoOutput(true);\n                    outputStreamWriter = new OutputStreamWriter(urlConnection.getOutputStream());\n                } catch(IOException e) {\n                    // should handle the exception, but for now just swallow it\n                    e.printStackTrace();\n                }\n                while (synchronizedList.size() &gt; 0) {\n                    try {\n                        String localMessage = synchronizedList.remove(0);\n                        byte[] bytes2write  = localMessage.getBytes();\n\n                        outputStreamWriter.write(localMessage);\n                        outputStreamWriter.flush();\n                    } catch (MalformedURLException e) {\n                        // ?? okay to swallow this exception, as it should have been thrown in constructor\n                        e.printStackTrace();\n                    } catch (IOException e) {\n                        // should handle the exception, but for now just swallow it\n                        e.printStackTrace();\n                    }\n                }\n                try {\n                    outputStreamWriter.close();\n                    ((HttpURLConnection) urlConnection).disconnect();\n                } catch(IOException e) {\n                    // should handle the exception, but for now just swallow it\n                    e.printStackTrace();\n                }\n            }\n        } catch(InterruptedException e) {\n            // swallow the exception (i.e., assume thread is being stopped)\n        }\n    }\n}\n</code></pre>\n<p>Android manifest, with entries to support cleartext using HTTP</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n\n    &lt;!--\n          Entries &quot;android:networkSecurityConfig&quot; and &quot;android:usesCleartextTraffic&quot; added to\n          support use of http communications\n      --&gt;\n    &lt;application\n        android:networkSecurityConfig=&quot;@xml/xml_security_config&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.URLConnect&quot;\n        tools:targetApi=&quot;29&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.URLConnect.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Associated network-security-config...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;!-- * * *  FOR DEMONSTRATION PURPOSES ONLY  * * *\n      Network configuration exists solely to allow the URL socket to be used with plain HTTP\n      protocol. In a real-world implementation, communication using HTTPS protocol should be\n      employed, with appropriate certificates.\n      --&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;&lt;/base-config&gt;\n\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;127.0.0.1&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22788286,"reputation":26,"user_id":16943027,"display_name":"Yu seafee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680232340,"creation_date":1680232278,"answer_id":75894561,"question_id":75894191,"body_markdown":"In order to debug the response that comes back before it is converted into Response.class, you can add a .log() operator to your reactive stream. This will log the events (such as requests, responses, etc.) that occur during the stream&#39;s execution. You can then set a breakpoint after the .log() operator and inspect the contents of the response.\r\n\r\nHere&#39;s an updated version of your method with the .log() operator added:\r\n\r\n    public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\r\n        MultiValueMap&lt;String, Object&gt; multiValueMap = new LinkedMultiValueMap&lt;&gt;();\r\n        multiValueMap.add(&quot;file&quot;, new ByteArrayResource(multipartFile.getBytes()));\r\n    return webClient.post()\r\n            .uri(new URI(&quot;someurl&quot;))\r\n            .body(BodyInserters.fromMultipartData(multiValueMap))\r\n            .retrieve()\r\n            .bodyToMono(Response.class)\r\n            .log(); // Add the log() operator here\r\n}\r\n\r\n After running this code in debug mode and hitting the breakpoint, you can inspect the contents of the response by hovering over the response variable or expanding it in the variables tab of the debugger. You can also use the Evaluate Expression feature in IntelliJ to print out the contents of the response using something like response.block().","title":"How can I debug the content of the response of WebClient in IntelliJ","body":"<p>In order to debug the response that comes back before it is converted into Response.class, you can add a .log() operator to your reactive stream. This will log the events (such as requests, responses, etc.) that occur during the stream's execution. You can then set a breakpoint after the .log() operator and inspect the contents of the response.</p>\n<p>Here's an updated version of your method with the .log() operator added:</p>\n<pre><code>public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\n    MultiValueMap&lt;String, Object&gt; multiValueMap = new LinkedMultiValueMap&lt;&gt;();\n    multiValueMap.add(&quot;file&quot;, new ByteArrayResource(multipartFile.getBytes()));\nreturn webClient.post()\n        .uri(new URI(&quot;someurl&quot;))\n        .body(BodyInserters.fromMultipartData(multiValueMap))\n        .retrieve()\n        .bodyToMono(Response.class)\n        .log(); // Add the log() operator here\n</code></pre>\n<p>}</p>\n<p>After running this code in debug mode and hitting the breakpoint, you can inspect the contents of the response by hovering over the response variable or expanding it in the variables tab of the debugger. You can also use the Evaluate Expression feature in IntelliJ to print out the contents of the response using something like response.block().</p>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75894561,"answer_count":1,"score":1,"last_activity_date":1680232340,"creation_date":1680226883,"question_id":75894191,"body_markdown":"I have the following method:\r\n\r\n    public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\r\n        Mono&lt;Response&gt; response = webClient.post()\r\n                    .uri(new URI(&quot;someurl&quot;))\r\n                    .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                    .retrieve()\r\n                    .bodyToMono(Response.class);\r\n        return response;\r\n    }\r\n\r\nand I want to put a break point and debug the response that comes back before webClient converts the response into a Mono&lt;Response&gt;. I am using IntelliJ but not sure how to see the response that comes back before it tries to convert into the `Response.class`.","title":"How can I debug the content of the response of WebClient in IntelliJ","body":"<p>I have the following method:</p>\n<pre><code>public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\n    Mono&lt;Response&gt; response = webClient.post()\n                .uri(new URI(&quot;someurl&quot;))\n                .body(BodyInserters.fromMultipartData(multiValueMap))\n                .retrieve()\n                .bodyToMono(Response.class);\n    return response;\n}\n</code></pre>\n<p>and I want to put a break point and debug the response that comes back before webClient converts the response into a Mono. I am using IntelliJ but not sure how to see the response that comes back before it tries to convert into the <code>Response.class</code>.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1422459947,"post_id":28196074,"comment_id":44759445,"body_markdown":"have you seen http://stackoverflow.com/questions/8693991/java-ignore-expired-ssl-sertificate/8694377#8694377 ?","body":"have you seen <a href=\"http://stackoverflow.com/questions/8693991/java-ignore-expired-ssl-sertificate/8694377#8694377\" title=\"java ignore expired ssl sertificate\">stackoverflow.com/questions/8693991/&hellip;</a> ?"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1422507657,"post_id":28196074,"comment_id":44779709,"body_markdown":"@EpicPandaForce, Yes but how can I verify certificate. Means the one which is came from server with the one that I have.","body":"@EpicPandaForce, Yes but how can I verify certificate. Means the one which is came from server with the one that I have."}],"answers":[{"comments":[{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1422522084,"post_id":28210524,"comment_id":44785596,"body_markdown":"Oh by this I can load my keystore @ runtime, am i getting correctly?","body":"Oh by this I can load my keystore @ runtime, am i getting correctly?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1422527878,"post_id":28210524,"comment_id":44788928,"body_markdown":"Yup! But this makes your request trust only the certificate that you provided in the keystore. If you have that certificate in your app, you should be able to load it.","body":"Yup! But this makes your request trust only the certificate that you provided in the keystore. If you have that certificate in your app, you should be able to load it."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1422528363,"post_id":28210524,"comment_id":44789217,"body_markdown":"Perfect that&#39;s what i want. So what if i import the certificate in `cacerts` file in my development PC and while building jar i will copy this cacerts into my app and while making request i will load the keystore (cacerts from my app) as you shown in answer","body":"Perfect that&#39;s what i want. So what if i import the certificate in <code>cacerts</code> file in my development PC and while building jar i will copy this cacerts into my app and while making request i will load the keystore (cacerts from my app) as you shown in answer"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1422528681,"post_id":28210524,"comment_id":44789411,"body_markdown":"I think you can do that, but I think the while `cacerts` file from the Java directory is overkill. If you have the `certificate` in your disposal, then you can create a new `JKS` keystore using `keytool` (so don&#39;t specify the `BouncyCastleProvider` as the provider, it is not needed), which would contain only the certificate you want. But `cacerts` would also work, the default password to the `cacerts` is `changeme`. You can put the `cacerts` keystore into the app and then access it in the classpath too (I think that&#39;s `Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;...&quot;)`.","body":"I think you can do that, but I think the while <code>cacerts</code> file from the Java directory is overkill. If you have the <code>certificate</code> in your disposal, then you can create a new <code>JKS</code> keystore using <code>keytool</code> (so don&#39;t specify the <code>BouncyCastleProvider</code> as the provider, it is not needed), which would contain only the certificate you want. But <code>cacerts</code> would also work, the default password to the <code>cacerts</code> is <code>changeme</code>. You can put the <code>cacerts</code> keystore into the app and then access it in the classpath too (I think that&#39;s <code>Thread.currentThread().getContextClassLoader().getResourceAs&zwnj;&#8203;Stream(&quot;...&quot;)</code>."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1422529061,"post_id":28210524,"comment_id":44789650,"body_markdown":"Okay, First I will try with creating my own `JKS` file using `keytool` and try to load it, If fails I come to you :). but just I have seen that classes [`SSLContextBuilder`](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ssl/SSLContextBuilder.html),[`SSLContexts`](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ssl/SSLContexts.html) are from  HttpClient 4.3 and I am using 4.2.x","body":"Okay, First I will try with creating my own <code>JKS</code> file using <code>keytool</code> and try to load it, If fails I come to you :). but just I have seen that classes <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ssl/SSLContextBuilder.html\" rel=\"nofollow noreferrer\"><code>SSLContextBuilder</code></a>,<a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ssl/SSLContexts.html\" rel=\"nofollow noreferrer\"><code>SSLContexts</code></a> are from  HttpClient 4.3 and I am using 4.2.x"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1422529159,"post_id":28210524,"comment_id":44789711,"body_markdown":"What will be provider in case of my own JKS file? or is it optional in 4.3?","body":"What will be provider in case of my own JKS file? or is it optional in 4.3?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1422529650,"post_id":28210524,"comment_id":44789989,"body_markdown":"Gah. it&#39;s not `changeme`, it&#39;s `changeit`. Sorry about that. The provider for the `KeyStore.getInstance(inputStream)` call will default to the first provider, which I believe will be the provider by `Sun`. I personally used the latest HttpClient, that&#39;s what I got the example from.","body":"Gah. it&#39;s not <code>changeme</code>, it&#39;s <code>changeit</code>. Sorry about that. The provider for the <code>KeyStore.getInstance(inputStream)</code> call will default to the first provider, which I believe will be the provider by <code>Sun</code>. I personally used the latest HttpClient, that&#39;s what I got the example from."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1423207824,"post_id":28210524,"comment_id":45063795,"body_markdown":"I have updated code in question, but my Junit test case getting failed. After debugging I come to know that it&#39;s getting failed at LOC `SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);` no exception is thrown program is terminated. but in Junit window I got Error `java.lang.NoSuchFieldError: INSTANCE` where I am doing wrong.","body":"I have updated code in question, but my Junit test case getting failed. After debugging I come to know that it&#39;s getting failed at LOC <code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);</code> no exception is thrown program is terminated. but in Junit window I got Error <code>java.lang.NoSuchFieldError: INSTANCE</code> where I am doing wrong."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1423210406,"post_id":28210524,"comment_id":45064799,"body_markdown":"what version of HttpClient are you using exactly? As per the following constructor http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ssl/SSLConnectionSocketFactory.html#SSLConnectionSocketFactory(javax.net.ssl.SSLContext) you are supposed to be able to use it. I used `compile &#39;org.apache.httpcomponents:httpclient-android:4.3.5&#39;` dependency in my android project where this code worked without a problem.","body":"what version of HttpClient are you using exactly? As per the following constructor <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ssl/SSLConnectionSocketFactory.html#SSLConnectionSocketFactory(javax.net.ssl.SSLContext)\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/or&zwnj;&#8203;g/&hellip;</a> you are supposed to be able to use it. I used <code>compile &#39;org.apache.httpcomponents:httpclient-android:4.3.5&#39;</code> dependency in my android project where this code worked without a problem."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1423210584,"post_id":28210524,"comment_id":45064865,"body_markdown":"I added the exact code from my project, maybe that will fix it.","body":"I added the exact code from my project, maybe that will fix it."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1423212006,"post_id":28210524,"comment_id":45065529,"body_markdown":"I am using HttpClient 4.4","body":"I am using HttpClient 4.4"}],"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1423210558,"creation_date":1422521789,"answer_id":28210524,"question_id":28196074,"body_markdown":"Technically, seeing as you are using Apache HttpClient 4.x, a simpler solution would be the following: \r\n\r\n        SSLContext sslcontext = null;\r\n        try {\r\n            SSLContextBuilder sslContextBuilder = SSLContexts.custom()\r\n                .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\r\n            sslcontext = sslContextBuilder.build();\r\n\r\nWhere `trustStore` is initialized like this\r\n\r\n        KeyStore keyStore = null;\r\n        try {\r\n            keyStore = KeyStore.getInstance(&quot;BKS&quot;, BouncyCastleProvider.PROVIDER_NAME); //you can use JKS if that is what you have\r\n            InputStream inputStream = new File(&quot;pathtoyourkeystore&quot;);\r\n            try {\r\n                keyStore.load(inputStream, &quot;password&quot;.toCharArray());\r\n            } finally {\r\n                inputStream.close();\r\n            }\r\n        } catch(Exception e) {\r\n            System.out.println(&quot;Loading keystore failed.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return keyStore;\r\n    }\r\n\r\nAnd then create the HttpClient\r\n\r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\r\n    httpclient = HttpClients\r\n                    .custom()\r\n                    .setSSLSocketFactory(sslsf).build();\r\n\r\n\r\nEDIT: Exact code for me was this:\r\n\r\n            SSLContextBuilder sslContextBuilder = SSLContexts.custom()\r\n                .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\r\n            sslcontext = sslContextBuilder.build();\r\n\r\n            SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\r\n                sslcontext, new String[] {&quot;TLSv1&quot;}, null,\r\n                SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER\r\n            );\r\n            httpclient = HttpClients\r\n                .custom()\r\n                .setHostnameVerifier(SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER)\r\n                .setSSLSocketFactory(sslsf).build();","title":"Peer not authenticated in java","body":"<p>Technically, seeing as you are using Apache HttpClient 4.x, a simpler solution would be the following: </p>\n\n<pre><code>    SSLContext sslcontext = null;\n    try {\n        SSLContextBuilder sslContextBuilder = SSLContexts.custom()\n            .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\n        sslcontext = sslContextBuilder.build();\n</code></pre>\n\n<p>Where <code>trustStore</code> is initialized like this</p>\n\n<pre><code>    KeyStore keyStore = null;\n    try {\n        keyStore = KeyStore.getInstance(\"BKS\", BouncyCastleProvider.PROVIDER_NAME); //you can use JKS if that is what you have\n        InputStream inputStream = new File(\"pathtoyourkeystore\");\n        try {\n            keyStore.load(inputStream, \"password\".toCharArray());\n        } finally {\n            inputStream.close();\n        }\n    } catch(Exception e) {\n        System.out.println(\"Loading keystore failed.\");\n        e.printStackTrace();\n    }\n    return keyStore;\n}\n</code></pre>\n\n<p>And then create the HttpClient</p>\n\n<pre><code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\nhttpclient = HttpClients\n                .custom()\n                .setSSLSocketFactory(sslsf).build();\n</code></pre>\n\n<p>EDIT: Exact code for me was this:</p>\n\n<pre><code>        SSLContextBuilder sslContextBuilder = SSLContexts.custom()\n            .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\n        sslcontext = sslContextBuilder.build();\n\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\n            sslcontext, new String[] {\"TLSv1\"}, null,\n            SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER\n        );\n        httpclient = HttpClients\n            .custom()\n            .setHostnameVerifier(SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER)\n            .setSSLSocketFactory(sslsf).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8864769,"reputation":81,"user_id":6620233,"display_name":"Victor Lv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680231869,"creation_date":1680231869,"answer_id":75894531,"question_id":28196074,"body_markdown":"I fixed it by this setting:\r\n\r\n    final SSLConnectionSocketFactory sslsf;\r\n\r\n        try {\r\n            TrustStrategy acceptingTrustStrategy = (cert, authType) -&gt; true;\r\n            SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n            sslsf = new SSLConnectionSocketFactory(sslContext,\r\n                    NoopHostnameVerifier.INSTANCE);\r\n        } catch (NoSuchAlgorithmException | KeyStoreException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        final Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                .register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n                .register(&quot;https&quot;, sslsf)\r\n                .build();","title":"Peer not authenticated in java","body":"<p>I fixed it by this setting:</p>\n<pre><code>final SSLConnectionSocketFactory sslsf;\n\n    try {\n        TrustStrategy acceptingTrustStrategy = (cert, authType) -&gt; true;\n        SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n        sslsf = new SSLConnectionSocketFactory(sslContext,\n                NoopHostnameVerifier.INSTANCE);\n    } catch (NoSuchAlgorithmException | KeyStoreException e) {\n        throw new RuntimeException(e);\n    } catch (KeyManagementException e) {\n        throw new RuntimeException(e);\n    }\n    final Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n            .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n            .register(&quot;https&quot;, sslsf)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12515,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":28210524,"answer_count":2,"score":2,"last_activity_date":1680231869,"creation_date":1422458916,"question_id":28196074,"body_markdown":"I have gone to almost all the post related to this exception. Actually my problem is I have an java application through which I am hitting an URL and getting response from it.\r\n\r\ncode to hit URL is :\r\n\r\n    HttpGet getRequest = new HttpGet(&quot;https://urlto.esb.com&quot;);\r\n    HttpResponse httpResponse = null;\t\t\r\n\tDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\thttpResponse = httpClient.execute(getRequest); \r\n\r\nHere I am getting `javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated`\r\n\r\nSo after some Google search I come to know that I can import certificate in keystore of java where the application is running. so I imported certificate in keystore and this code is working. but i don&#39;t want this solution so after some more searching I come to know that I can use `TrustManager` for the same thing without importing certificate into keystore. So I have written code like:\r\n\r\n    @Test\r\n\t    public void withTrustManeger() throws Exception {\r\n\t        DefaultHttpClient httpclient = buildhttpClient();\r\n\t        HttpGet httpGet = new HttpGet(&quot;https://urlto.esb.com&quot;);\r\n\t        HttpResponse response = httpclient.execute( httpGet );\r\n\t        \r\n\t        HttpEntity httpEntity = response.getEntity();\r\n\t\t\tInputStream inputStream = httpEntity.getContent();\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tinputStream));\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t\tinputStream.close();\r\n\t\t\tString jsonText = sb.toString();\r\n\t\t\tSystem.out.println(jsonText);\r\n\t    }\r\n\r\n\t    private DefaultHttpClient buildhttpClient() throws Exception {\r\n\t        DefaultHttpClient httpclient = new DefaultHttpClient();\r\n\r\n\t        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t        sc.init(null, getTrustingManager(), new java.security.SecureRandom());\r\n\r\n\t        SSLSocketFactory socketFactory = new SSLSocketFactory(sc);\r\n\t        Scheme sch = new Scheme(&quot;https&quot;, 443, socketFactory);\r\n\t        httpclient.getConnectionManager().getSchemeRegistry().register(sch);\r\n\t        return httpclient;\r\n\t    }\r\n\r\n\t    private TrustManager[] getTrustingManager() {\r\n\t        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\t            @Override\r\n\t            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n\t                return null;\r\n\t            }\r\n\r\n\t            @Override\r\n\t            public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n\t                // Do nothing\t            \r\n\t            }\r\n\r\n\t            @Override\r\n\t            public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n\t            \t// Do nothing\r\n\t            }\r\n\r\n\t        } };\r\n\t        return trustAllCerts;\r\n\t    }\r\n\r\nThis code is also working but My question is I am not checking anything related to certificates then how connection is trusted. after debugging I come to know that only `checkServerTrusted` is hitting. So I have write something in `checkServerTrusted` to validate certificates that come in `certs` and the one which is in my application like some .cer or .crt file.\r\n\r\nEvery Help will be appreciated.\r\n\r\nUpdate after @EpicPandaForce (Using Apache HttpClient 4.3)\r\n\r\n            try \r\n\t        {\r\n\t            keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t            InputStream inputStream = new FileInputStream(&quot;E:\\\\Desktop\\\\esbcert\\\\keystore.jks&quot;);\r\n                keyStore.load(inputStream, &quot;key&quot;.toCharArray());\r\n                SSLContextBuilder sslContextBuilder = SSLContexts.custom().loadTrustMaterial(keyStore, new TrustSelfSignedStrategy());\r\n                sslcontext = sslContextBuilder.build();\r\n                SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\r\n                HttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n                HttpGet httpGet = new HttpGet(&quot;https://url.esb.com&quot;);\r\n    \t        HttpResponse response = httpclient.execute( httpGet );\r\n    \t        \r\n    \t        HttpEntity httpEntity = response.getEntity();\r\n    \t\t\tInputStream httpStram = httpEntity.getContent();\r\n    \t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\thttpStram));\r\n    \t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\tString line = null;\r\n    \t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\thttpStram.close();\r\n    \t\t\tinputStream.close();\r\n    \t\t\tString jsonText = sb.toString();\r\n    \t\t\tSystem.out.println(jsonText);\r\n\r\n\t        } \r\n\t        catch(Exception e) \r\n\t        {\r\n\t            System.out.println(&quot;Loading keystore failed.&quot;);\r\n\t            e.printStackTrace();\r\n\t        }","title":"Peer not authenticated in java","body":"<p>I have gone to almost all the post related to this exception. Actually my problem is I have an java application through which I am hitting an URL and getting response from it.</p>\n\n<p>code to hit URL is :</p>\n\n<pre><code>HttpGet getRequest = new HttpGet(\"https://urlto.esb.com\");\nHttpResponse httpResponse = null;       \nDefaultHttpClient httpClient = new DefaultHttpClient();\nhttpResponse = httpClient.execute(getRequest); \n</code></pre>\n\n<p>Here I am getting <code>javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated</code></p>\n\n<p>So after some Google search I come to know that I can import certificate in keystore of java where the application is running. so I imported certificate in keystore and this code is working. but i don't want this solution so after some more searching I come to know that I can use <code>TrustManager</code> for the same thing without importing certificate into keystore. So I have written code like:</p>\n\n<pre><code>@Test\n    public void withTrustManeger() throws Exception {\n        DefaultHttpClient httpclient = buildhttpClient();\n        HttpGet httpGet = new HttpGet(\"https://urlto.esb.com\");\n        HttpResponse response = httpclient.execute( httpGet );\n\n        HttpEntity httpEntity = response.getEntity();\n        InputStream inputStream = httpEntity.getContent();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                inputStream));\n        StringBuilder sb = new StringBuilder();\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line + \"\\n\");\n        }\n        inputStream.close();\n        String jsonText = sb.toString();\n        System.out.println(jsonText);\n    }\n\n    private DefaultHttpClient buildhttpClient() throws Exception {\n        DefaultHttpClient httpclient = new DefaultHttpClient();\n\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, getTrustingManager(), new java.security.SecureRandom());\n\n        SSLSocketFactory socketFactory = new SSLSocketFactory(sc);\n        Scheme sch = new Scheme(\"https\", 443, socketFactory);\n        httpclient.getConnectionManager().getSchemeRegistry().register(sch);\n        return httpclient;\n    }\n\n    private TrustManager[] getTrustingManager() {\n        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n            @Override\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n\n            @Override\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                // Do nothing               \n            }\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                // Do nothing\n            }\n\n        } };\n        return trustAllCerts;\n    }\n</code></pre>\n\n<p>This code is also working but My question is I am not checking anything related to certificates then how connection is trusted. after debugging I come to know that only <code>checkServerTrusted</code> is hitting. So I have write something in <code>checkServerTrusted</code> to validate certificates that come in <code>certs</code> and the one which is in my application like some .cer or .crt file.</p>\n\n<p>Every Help will be appreciated.</p>\n\n<p>Update after @EpicPandaForce (Using Apache HttpClient 4.3)</p>\n\n<pre><code>        try \n        {\n            keyStore = KeyStore.getInstance(\"JKS\");\n            InputStream inputStream = new FileInputStream(\"E:\\\\Desktop\\\\esbcert\\\\keystore.jks\");\n            keyStore.load(inputStream, \"key\".toCharArray());\n            SSLContextBuilder sslContextBuilder = SSLContexts.custom().loadTrustMaterial(keyStore, new TrustSelfSignedStrategy());\n            sslcontext = sslContextBuilder.build();\n            SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\n            HttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n            HttpGet httpGet = new HttpGet(\"https://url.esb.com\");\n            HttpResponse response = httpclient.execute( httpGet );\n\n            HttpEntity httpEntity = response.getEntity();\n            InputStream httpStram = httpEntity.getContent();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\n                    httpStram));\n            StringBuilder sb = new StringBuilder();\n            String line = null;\n            while ((line = reader.readLine()) != null) {\n                sb.append(line + \"\\n\");\n            }\n            httpStram.close();\n            inputStream.close();\n            String jsonText = sb.toString();\n            System.out.println(jsonText);\n\n        } \n        catch(Exception e) \n        {\n            System.out.println(\"Loading keystore failed.\");\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","jpa"],"comments":[{"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"score":0,"creation_date":1680235380,"post_id":75894520,"comment_id":133867388,"body_markdown":"Sort sort = user.by(User::getName).ascending();","body":"Sort sort = user.by(User::getName).ascending();"}],"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680231738,"creation_date":1680231738,"question_id":75894520,"body_markdown":"elasticsearch-java-8.5.3 used\r\n\r\nspring-data-elasticsearch-5.0.4 used\r\n\r\nI am testing elasticsearch data through spring jpa.\r\n\r\nNormally\r\n\r\n    List&lt;User&gt; findAllByName(String name); \r\n\r\n\r\nfetches the information without problems, but\r\n\r\n    List&lt;User&gt; findAllByName(String name, Sort sort);\r\n\r\n or\r\n\r\n    List&lt;User&gt; findByName(String name, Sort sort); \r\n\r\nAt times, the following problems arise:\r\n\r\n\r\n    [es/search] failed: [search_phase_execution_exception] all shards failed\r\n\r\nAs a result of searching in various ways, it was said that it could be a problem with the cluster, so I looked at the status value, but it is normal green.\r\n\r\nWhy does the problem only occur when sorting? help any hints?\r\n\r\n","title":"es/search failed: search_phase_execution_exception all shards failed","body":"<p>elasticsearch-java-8.5.3 used</p>\n<p>spring-data-elasticsearch-5.0.4 used</p>\n<p>I am testing elasticsearch data through spring jpa.</p>\n<p>Normally</p>\n<pre><code>List&lt;User&gt; findAllByName(String name); \n</code></pre>\n<p>fetches the information without problems, but</p>\n<pre><code>List&lt;User&gt; findAllByName(String name, Sort sort);\n</code></pre>\n<p>or</p>\n<pre><code>List&lt;User&gt; findByName(String name, Sort sort); \n</code></pre>\n<p>At times, the following problems arise:</p>\n<pre><code>[es/search] failed: [search_phase_execution_exception] all shards failed\n</code></pre>\n<p>As a result of searching in various ways, it was said that it could be a problem with the cluster, so I looked at the status value, but it is normal green.</p>\n<p>Why does the problem only occur when sorting? help any hints?</p>\n"},{"tags":["java","esapi"],"answers":[{"comments":[{"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"score":0,"creation_date":1679958215,"post_id":75347533,"comment_id":133811180,"body_markdown":"well tank you sir for all what you guys have built, but the library setup is complicated and confusing. what about a setup guide includes the requirements to use the library?","body":"well tank you sir for all what you guys have built, but the library setup is complicated and confusing. what about a setup guide includes the requirements to use the library?"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680131372,"post_id":75347533,"comment_id":133847776,"body_markdown":"I&#39;m not sure how you have your Eclipse project configured, but if you set it up to be a Maven or Gradle project, all the jars should get pulled down from Maven Central and Eclipse should be able to find them automagically.","body":"I&#39;m not sure how you have your Eclipse project configured, but if you set it up to be a Maven or Gradle project, all the jars should get pulled down from Maven Central and Eclipse should be able to find them automagically."},{"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"score":0,"creation_date":1680230567,"post_id":75347533,"comment_id":133866910,"body_markdown":"yes, you are correct, but I&#39;m not using maven since I have custom jars with custom java framework. However, I found a pdf for version 2.* of the esapi and was helpful and clear. I&#39;d recommend attaching the pdf somewhere on the website for the 2.5.(or latest)","body":"yes, you are correct, but I&#39;m not using maven since I have custom jars with custom java framework. However, I found a pdf for version 2.* of the esapi and was helpful and clear. I&#39;d recommend attaching the pdf somewhere on the website for the 2.5.(or latest)"},{"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"score":0,"creation_date":1680230946,"post_id":75347533,"comment_id":133866958,"body_markdown":"the person who asked the question said, &quot; I downloaded esapi-2.1.0.1.jar from&quot;. He clearly didn&#39;t know the library requires &quot; commons-configuration.jar&quot; at least to run without throwing any exception.  I&#39;m saying this just to validate my point of attaching the guide somewhere. Again, thank you guys for this amazing library!","body":"the person who asked the question said, &quot; I downloaded esapi-2.1.0.1.jar from&quot;. He clearly didn&#39;t know the library requires &quot; commons-configuration.jar&quot; at least to run without throwing any exception.  I&#39;m saying this just to validate my point of attaching the guide somewhere. Again, thank you guys for this amazing library!"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680319080,"post_id":75347533,"comment_id":133882776,"body_markdown":"@MostafaOnaizan - Can you point me to the URL for this PDF of the ESAPI Guide that you found helpful? I can at least grab it and drop it into the &#39;documentation&#39; folder for https://github.com/ESAPI/esapi-java-legacy/. Thanks.","body":"@MostafaOnaizan - Can you point me to the URL for this PDF of the ESAPI Guide that you found helpful? I can at least grab it and drop it into the &#39;documentation&#39; folder for <a href=\"https://github.com/ESAPI/esapi-java-legacy/\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy</a>. Thanks."},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680319403,"post_id":75347533,"comment_id":133882793,"body_markdown":"Also, while Matt and I try to be as helpful as possible, please understand that because we only have 3 regular active contributors and we all hold full-time jobs so we can&#39;t possibly support old versions, especially ones that are now over 7 years old. As a rule, we generally only promise to try to support the latest current version. We could do better if we had more help or someone to sponsor the project, but we have neither, so we do what we can.","body":"Also, while Matt and I try to be as helpful as possible, please understand that because we only have 3 regular active contributors and we all hold full-time jobs so we can&#39;t possibly support old versions, especially ones that are now over 7 years old. As a rule, we generally only promise to try to support the latest current version. We could do better if we had more help or someone to sponsor the project, but we have neither, so we do what we can."},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680319975,"post_id":75347533,"comment_id":133882827,"body_markdown":"Not sure this is the same Guide that @MostafaOnaizan was referring to or not (it&#39;s not a PDF, but may have the same content), but on our GitHub wiki page, there is this, related to using ESAPI with Eclipse: https://github.com/ESAPI/esapi-java-legacy/wiki/Using-ESAPI-for-Java-with-Eclipse","body":"Not sure this is the same Guide that @MostafaOnaizan was referring to or not (it&#39;s not a PDF, but may have the same content), but on our GitHub wiki page, there is this, related to using ESAPI with Eclipse: <a href=\"https://github.com/ESAPI/esapi-java-legacy/wiki/Using-ESAPI-for-Java-with-Eclipse\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/wiki/&hellip;</a>"},{"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"score":0,"creation_date":1680734107,"post_id":75347533,"comment_id":133950462,"body_markdown":"this is the pdf I was referring to:\nhttps://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf","body":"this is the pdf I was referring to: <a href=\"https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf\" rel=\"nofollow noreferrer\">owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf</a>"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680791377,"post_id":75347533,"comment_id":133960309,"body_markdown":"Ah. Thanks. That&#39;s outdated. Try https://github.com/ESAPI/esapi-java-legacy/wiki/Using-ESAPI-for-Java-with-Eclipse instead.","body":"Ah. Thanks. That&#39;s outdated. Try <a href=\"https://github.com/ESAPI/esapi-java-legacy/wiki/Using-ESAPI-for-Java-with-Eclipse\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/wiki/&hellip;</a> instead."}],"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675536773,"creation_date":1675536773,"answer_id":75347533,"question_id":75344918,"body_markdown":"The root cause of this is Eclipse can&#39;t find the class \r\n\r\n    org.apache.commons.configuration.ConfigurationException\r\nas evidenced by this **ClassNotFoundException**:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\r\n\r\nThat means that you are missing whatever Apache Commons jar contains that class. (There are several Apache Commons libraries that ESAPI uses, so I can&#39;t be more specific without doing extra research and I&#39;m in a hurry at the moment.) Given that you mentioned that you explicitly added the Log4J jar (in step 2 you mention &#39;put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib&#39;), it appears that you don&#39;t have your Eclipse project configured as a Maven or Gradle project. Reconfigure your Eclipse project as a Maven or Gradle project and those transitive dependencies jars should get downloaded and pulled in for you automatically. If you don&#39;t take that approach, you are going to keep on running into similar problems.\r\n\r\nOne last important point... please use ESAPI 2.5.1.0, which is the latest version as of this posting. Because of the small size of the ESAPI team, we can only actively address issues that arise in the latest version at the time the question is posted. (In this case, I don&#39;t think your problem has anything to do with what version of ESAPI you are using, which is why I responded.)  Also if you plan to uses ESAPI for anything serious, you need to use a version that doesn&#39;t have any know vulnerabilities. Note that 2.1.0.1 has 2 known CVEs; see https://mvnrepository.com/artifact/org.owasp.esapi/esapi for details and available versions.\r\n\r\nHope this helps.","title":"Failed to use ESAPI 2.1.0.1: AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception","body":"<p>The root cause of this is Eclipse can't find the class</p>\n<pre><code>org.apache.commons.configuration.ConfigurationException\n</code></pre>\n<p>as evidenced by this <strong>ClassNotFoundException</strong>:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\n</code></pre>\n<p>That means that you are missing whatever Apache Commons jar contains that class. (There are several Apache Commons libraries that ESAPI uses, so I can't be more specific without doing extra research and I'm in a hurry at the moment.) Given that you mentioned that you explicitly added the Log4J jar (in step 2 you mention 'put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib'), it appears that you don't have your Eclipse project configured as a Maven or Gradle project. Reconfigure your Eclipse project as a Maven or Gradle project and those transitive dependencies jars should get downloaded and pulled in for you automatically. If you don't take that approach, you are going to keep on running into similar problems.</p>\n<p>One last important point... please use ESAPI 2.5.1.0, which is the latest version as of this posting. Because of the small size of the ESAPI team, we can only actively address issues that arise in the latest version at the time the question is posted. (In this case, I don't think your problem has anything to do with what version of ESAPI you are using, which is why I responded.)  Also if you plan to uses ESAPI for anything serious, you need to use a version that doesn't have any know vulnerabilities. Note that 2.1.0.1 has 2 known CVEs; see <a href=\"https://mvnrepository.com/artifact/org.owasp.esapi/esapi\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.owasp.esapi/esapi</a> for details and available versions.</p>\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680319856,"post_id":75894504,"comment_id":133882816,"body_markdown":"The jar that Mostafa refers to is a jar that you download from whatever release you are using from https://github.com/ESAPI/esapi-java-legacy/releases. And for this jar, you should extract the contents and then put them in a directory where they can be found. See the class Javadoc for DefaultSecurityConfiguration at https://javadoc.io/static/org.owasp.esapi/esapi/2.5.1.0/org/owasp/esapi/reference/DefaultSecurityConfiguration.html for details of how ESAPI.properties and other ESAPI configuration files are located.","body":"The jar that Mostafa refers to is a jar that you download from whatever release you are using from <a href=\"https://github.com/ESAPI/esapi-java-legacy/releases\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/releases</a>. And for this jar, you should extract the contents and then put them in a directory where they can be found. See the class Javadoc for DefaultSecurityConfiguration at <a href=\"https://javadoc.io/static/org.owasp.esapi/esapi/2.5.1.0/org/owasp/esapi/reference/DefaultSecurityConfiguration.html\" rel=\"nofollow noreferrer\">javadoc.io/static/org.owasp.esapi/esapi/2.5.1.0/org/owasp/es&zwnj;&#8203;api/&hellip;</a> for details of how ESAPI.properties and other ESAPI configuration files are located."}],"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680231525,"creation_date":1680231525,"answer_id":75894504,"question_id":75344918,"body_markdown":"if anyone face this problem because you need the commons-configuration.jar along with the library. I recommend anyone want to use it search for the installation guide and see the requirements.\r\nthis is the guide for version 2.* say: `if you will be using the reference implementations provided with ESAPI, \r\nthere are additional dependencies you must provide in your project. (For \r\nMaven users, the ESAPI pom.xml will include them automatically as \r\ntransitive dependencies).\r\nMost jar dependencies can be found under the lib/required directory of \r\nthe ESAPI zip, and should be added to the classpath in the same manner \r\nas above. URLs are provided for those not packed with ESAPI.\r\n\r\n    Configuration files (xml or .properties) can be found under the \r\n    configuration/.esapi directory, and should be added to the .esapi \r\n    configuration directory created above.\r\n    For DefaultAccessController: \r\n    commons-configuration.jar: \r\n    commons-lang.jar:\r\n    commons-collections.jar\r\n    ESAPI-AccessControlPolicy.xml\r\n\r\n`","title":"Failed to use ESAPI 2.1.0.1: AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception","body":"<p>if anyone face this problem because you need the commons-configuration.jar along with the library. I recommend anyone want to use it search for the installation guide and see the requirements.\nthis is the guide for version 2.* say: `if you will be using the reference implementations provided with ESAPI,\nthere are additional dependencies you must provide in your project. (For\nMaven users, the ESAPI pom.xml will include them automatically as\ntransitive dependencies).\nMost jar dependencies can be found under the lib/required directory of\nthe ESAPI zip, and should be added to the classpath in the same manner\nas above. URLs are provided for those not packed with ESAPI.</p>\n<pre><code>Configuration files (xml or .properties) can be found under the \nconfiguration/.esapi directory, and should be added to the .esapi \nconfiguration directory created above.\nFor DefaultAccessController: \ncommons-configuration.jar: \ncommons-lang.jar:\ncommons-collections.jar\nESAPI-AccessControlPolicy.xml\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":26489915,"reputation":11,"user_id":20128021,"display_name":"Anstice Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680231525,"creation_date":1675511751,"question_id":75344918,"body_markdown":"I am encounting a problem in using esapi-2.1.0.1.jar.\r\n\r\nMy develop environment:&lt;br&gt;\r\nJdk 1.8&lt;br&gt;\r\neclipse 2018-12&lt;br&gt;\r\n\r\nESAPI works fine in method A, but fialed in method B.\r\n\r\n```\r\npackage com;\r\n\r\nimport org.owasp.esapi.ESAPI;\r\n\r\npublic class MainEntryPoint {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tSystem.out.println(&quot;A&quot;);\r\n\t\tSystem.out.println(ESAPI.encoder().encodeForHTML(&quot;&lt;li&gt;ABC some html here&quot;));\r\n\t\tSystem.out.println(&quot;A end&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;B&quot;);\r\n\t\tSystem.out.println(ESAPI.accessController().toString());\r\n\t\tSystem.out.println(&quot;B end&quot;);\r\n\t}\r\n\r\n}\r\n```\r\nconsole:\r\n\r\n```\r\nA\r\nSystem property [org.owasp.esapi.opsteam] is not set\r\nSystem property [org.owasp.esapi.devteam] is not set\r\nAttempting to load ESAPI.properties via file I/O.\r\nAttempting to load ESAPI.properties as resource file via file I/O.\r\nFound in &#39;org.owasp.esapi.resources&#39; directory: C:\\Users\\Ansticelee\\.esapi\\2101\\ESAPI.properties\r\nLoaded &#39;ESAPI.properties&#39; properties file\r\nSecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\r\nAttempting to load validation.properties via file I/O.\r\nAttempting to load validation.properties as resource file via file I/O.\r\nFound in &#39;org.owasp.esapi.resources&#39; directory: C:\\Users\\Ansticelee\\.esapi\\2101\\validation.properties\r\nLoaded &#39;validation.properties&#39; properties file\r\n&amp;lt;li&amp;gt;ABC some html here\r\nA end\r\nB\r\nException in thread &quot;main&quot; org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception.\r\n\tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\r\n\tat org.owasp.esapi.ESAPI.accessController(ESAPI.java:85)\r\n\tat com.MainEntryPoint.main(MainEntryPoint.java:20)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\r\n\t... 2 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/configuration/ConfigurationException\r\n\tat org.owasp.esapi.reference.DefaultAccessController.&lt;init&gt;(DefaultAccessController.java:32)\r\n\tat org.owasp.esapi.reference.DefaultAccessController.getInstance(DefaultAccessController.java:22)\r\n\t... 7 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 9 more\r\n```\r\n\r\nWhat did I done? :\r\n1. create a new Project in eclipse (Dynamic Web Project)\r\n2. put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib\r\n3. put &quot;ESAPI.properties&quot; &amp; &quot;validation.properties&quot; into folder C:\\Users\\Ansticelee\\.esapi\\2101\r\n4. set VM arguments :\r\n`-Dorg.owasp.esapi.resources=&quot;C:\\Users\\Ansticelee\\.esapi\\2101&quot;`\r\n5. right click on MainEntryPoint.java &gt; Run As &gt; Java Application\r\n&lt;br&gt;(remind :  MainEntryPoint.java is my java file)\r\n\r\n(detail of 4.:&lt;br&gt; in eclipse, right click on my project (Run As &gt; Run Configurations... &gt; Java Application &gt; esapi2101 &gt; Arguments &gt; VM arguments)\r\n\r\ndetail of 2. &amp; 3.&lt;br&gt;\r\nI downloaded esapi-2.1.0.1.jar from https://repo1.maven.org/maven2/org/owasp/esapi/esapi/2.1.0.1/&lt;br&gt;\r\nI downloaded log4j-1.2.12.jar from https://mvnrepository.com/artifact/log4j/log4j/1.2.12&lt;br&gt;\r\nI downloaded 2 properties from https://github.com/ESAPI/esapi-java-legacy/tree/2.1/configuration/.esapi\r\n\r\ndetail of method B:&lt;br&gt;\r\nI saw it in page.16 (step 5) from https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf\r\n\r\n\r\nIt is my first time of posting a question. &lt;br&gt;Thanks for your patience of reading.&lt;br&gt;\r\nHow could I make the method B mentioned above works fine?","title":"Failed to use ESAPI 2.1.0.1: AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception","body":"<p>I am encounting a problem in using esapi-2.1.0.1.jar.</p>\n<p>My develop environment:<br>\nJdk 1.8<br>\neclipse 2018-12<br></p>\n<p>ESAPI works fine in method A, but fialed in method B.</p>\n<pre><code>package com;\n\nimport org.owasp.esapi.ESAPI;\n\npublic class MainEntryPoint {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        System.out.println(&quot;A&quot;);\n        System.out.println(ESAPI.encoder().encodeForHTML(&quot;&lt;li&gt;ABC some html here&quot;));\n        System.out.println(&quot;A end&quot;);\n        \n        System.out.println(&quot;B&quot;);\n        System.out.println(ESAPI.accessController().toString());\n        System.out.println(&quot;B end&quot;);\n    }\n\n}\n</code></pre>\n<p>console:</p>\n<pre><code>A\nSystem property [org.owasp.esapi.opsteam] is not set\nSystem property [org.owasp.esapi.devteam] is not set\nAttempting to load ESAPI.properties via file I/O.\nAttempting to load ESAPI.properties as resource file via file I/O.\nFound in 'org.owasp.esapi.resources' directory: C:\\Users\\Ansticelee\\.esapi\\2101\\ESAPI.properties\nLoaded 'ESAPI.properties' properties file\nSecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\nAttempting to load validation.properties via file I/O.\nAttempting to load validation.properties as resource file via file I/O.\nFound in 'org.owasp.esapi.resources' directory: C:\\Users\\Ansticelee\\.esapi\\2101\\validation.properties\nLoaded 'validation.properties' properties file\n&amp;lt;li&amp;gt;ABC some html here\nA end\nB\nException in thread &quot;main&quot; org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception.\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\n    at org.owasp.esapi.ESAPI.accessController(ESAPI.java:85)\n    at com.MainEntryPoint.main(MainEntryPoint.java:20)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\n    ... 2 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/configuration/ConfigurationException\n    at org.owasp.esapi.reference.DefaultAccessController.&lt;init&gt;(DefaultAccessController.java:32)\n    at org.owasp.esapi.reference.DefaultAccessController.getInstance(DefaultAccessController.java:22)\n    ... 7 more\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 9 more\n</code></pre>\n<p>What did I done? :</p>\n<ol>\n<li>create a new Project in eclipse (Dynamic Web Project)</li>\n<li>put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib</li>\n<li>put &quot;ESAPI.properties&quot; &amp; &quot;validation.properties&quot; into folder C:\\Users\\Ansticelee.esapi\\2101</li>\n<li>set VM arguments :\n<code>-Dorg.owasp.esapi.resources=&quot;C:\\Users\\Ansticelee\\.esapi\\2101&quot;</code></li>\n<li>right click on MainEntryPoint.java &gt; Run As &gt; Java Application\n<br>(remind :  MainEntryPoint.java is my java file)</li>\n</ol>\n<p>(detail of 4.:<br> in eclipse, right click on my project (Run As &gt; Run Configurations... &gt; Java Application &gt; esapi2101 &gt; Arguments &gt; VM arguments)</p>\n<p>detail of 2. &amp; 3.<br>\nI downloaded esapi-2.1.0.1.jar from <a href=\"https://repo1.maven.org/maven2/org/owasp/esapi/esapi/2.1.0.1/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/owasp/esapi/esapi/2.1.0.1/</a><br>\nI downloaded log4j-1.2.12.jar from <a href=\"https://mvnrepository.com/artifact/log4j/log4j/1.2.12\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/log4j/log4j/1.2.12</a><br>\nI downloaded 2 properties from <a href=\"https://github.com/ESAPI/esapi-java-legacy/tree/2.1/configuration/.esapi\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/tree/2.1/configuration/.esapi</a></p>\n<p>detail of method B:<br>\nI saw it in page.16 (step 5) from <a href=\"https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf\" rel=\"nofollow noreferrer\">https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf</a></p>\n<p>It is my first time of posting a question. <br>Thanks for your patience of reading.<br>\nHow could I make the method B mentioned above works fine?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1435487544,"post_id":31097667,"comment_id":50212958,"body_markdown":"likely the question is why is Spring &quot;StoredProcedureJpaQuery.newAdhocStoredProcedureQuery&quot; calling &quot;StoredProcedureQuery.registerStoredProcedureParameter&quot; if there are no parameters? Perhaps you should delve through Spring source code and debug it?","body":"likely the question is why is Spring &quot;StoredProcedureJpaQuery.newAdhocStoredProcedureQuery&quot; calling &quot;StoredProcedureQuery.registerStoredProcedureParameter&quot; if there are no parameters? Perhaps you should delve through Spring source code and debug it?"},{"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"score":0,"creation_date":1435529602,"post_id":31097667,"comment_id":50225731,"body_markdown":"Have you tried removing the (optional) `parameters` in the `@NamedStoredProcedureQuery` definition?","body":"Have you tried removing the (optional) <code>parameters</code> in the <code>@NamedStoredProcedureQuery</code> definition?"},{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":0,"creation_date":1435560894,"post_id":31097667,"comment_id":50233015,"body_markdown":"Yes, I tried to remove them and I have the same result. Is it required to have a parameter? I have a feeling that the system expects a parameter like an `OUT` or `REF_CURSOR`.","body":"Yes, I tried to remove them and I have the same result. Is it required to have a parameter? I have a feeling that the system expects a parameter like an <code>OUT</code> or <code>REF_CURSOR</code>."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1435583153,"post_id":31097667,"comment_id":50246243,"body_markdown":"it is obviously NOT required to have a parameter, hence why the default is NOT to have parameters in that annotation. As already said, resolve why Spring is calling that method and you have your answer. I&#39;ve used stored procedures in DataNucleus and I&#39;m sure I had at least one with no parameter","body":"it is obviously NOT required to have a parameter, hence why the default is NOT to have parameters in that annotation. As already said, resolve why Spring is calling that method and you have your answer. I&#39;ve used stored procedures in DataNucleus and I&#39;m sure I had at least one with no parameter"},{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":0,"creation_date":1436045664,"post_id":31097667,"comment_id":50450456,"body_markdown":"@NeilStockton I updated my issue. Please take a look. This may be relevant. I couldn&#39;t find the real problem.","body":"@NeilStockton I updated my issue. Please take a look. This may be relevant. I couldn&#39;t find the real problem."},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":1,"creation_date":1476219655,"post_id":31097667,"comment_id":67252118,"body_markdown":"Did you ever find a solution to this issue?","body":"Did you ever find a solution to this issue?"},{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":1,"creation_date":1476277467,"post_id":31097667,"comment_id":67276372,"body_markdown":"No, I haven&#39;t. After encountering this issue and trying to find a solution for about one week I decided to go for pure JDBC.","body":"No, I haven&#39;t. After encountering this issue and trying to find a solution for about one week I decided to go for pure JDBC."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1620579554,"post_id":31097667,"comment_id":119237085,"body_markdown":"Damn, I have a Stored procedure in an Oracle DB that takes in one IN parameter (Long) and outputs two OUT parameters (both user-defined custom types) and I tried mapping to the Entity for the StoredProc in my Java just like you and i &#39;m getting the same error!! If I get a solution I will update here.","body":"Damn, I have a Stored procedure in an Oracle DB that takes in one IN parameter (Long) and outputs two OUT parameters (both user-defined custom types) and I tried mapping to the Entity for the StoredProc in my Java just like you and i &#39;m getting the same error!! If I get a solution I will update here."}],"answers":[{"comments":[{"owner":{"account_id":254663,"reputation":1477,"user_id":534217,"accept_rate":100,"display_name":"Dima Korobskiy"},"score":2,"creation_date":1492098074,"post_id":35435618,"comment_id":73853938,"body_markdown":"I&#39;m having the same issue with MS SQL SP. Switching to List&lt;Object[]&gt; and no resultClasses hasn&#39;t solved this.","body":"I&#39;m having the same issue with MS SQL SP. Switching to List&lt;Object[]&gt; and no resultClasses hasn&#39;t solved this."}],"tags":[],"owner":{"account_id":7852679,"reputation":59,"user_id":5935659,"display_name":"Andr&#233;s Marianetti"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1455634204,"creation_date":1455634204,"answer_id":35435618,"question_id":31097667,"body_markdown":"Problem seems to be while mapping your results (resulting entity can&#39;t be typed).\r\n\r\nTry changing:\r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\nto\r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    Object[] getResourceTypes();\r\n\r\nand remove the resultClasses in your NamedStoredProcedureQuery.\r\n\r\nHope that helps.","title":"IllegalArgumentException: Type cannot be null","body":"<p>Problem seems to be while mapping your results (resulting entity can't be typed).</p>\n\n<p>Try changing:</p>\n\n<pre><code>@Procedure(\"ResourceType.getResourceTypes\")\nList&lt;ResourceType&gt; getResourceTypes();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Procedure(\"ResourceType.getResourceTypes\")\nObject[] getResourceTypes();\n</code></pre>\n\n<p>and remove the resultClasses in your NamedStoredProcedureQuery.</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":254663,"reputation":1477,"user_id":534217,"accept_rate":100,"display_name":"Dima Korobskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495737170,"creation_date":1493318777,"answer_id":43665737,"question_id":31097667,"body_markdown":"Spring Data JPA as of 1.11.1 does not support SPs returning result sets. I filed [a corresponding defect][1] with Spring Data.\r\n\r\nThe solution is to descend an API level and just use JPA. Here is a generic class that I wrote that works with MS SQL SPs.\r\n  \r\n    import com.google.common.base.Strings;\r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.ParameterMode;\r\n    import javax.persistence.Query;\r\n    import javax.persistence.StoredProcedureQuery;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class StoredProcRepository {\r\n    \r\n      //region Injected beans (via a RequiredArgsConstructor)\r\n      private final EntityManager em;\r\n      //endregion \r\n    \r\n      /**\r\n       * Calls a stored procedure via JPA and retrieves a single implicit result set (in DBs that\r\n       * support them e.g. MS SQL or MySQL). The call is not dependent on a DB dialect. Be\r\n       * aware that large result sets should be paginated and not entirely read to memory. Recreates\r\n       * StoredProcedureQuery instance and its parameters on each call.\r\n       * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; List&lt;T&gt; queryViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        StoredProcedureQuery spq = em.createStoredProcedureQuery(procedureName, resultClass);\r\n        int pos = 0;\r\n        for (Object arg : spArgs) {\r\n          spq.registerStoredProcedureParameter(++pos, arg.getClass(), ParameterMode.IN);\r\n          spq.setParameter(pos, arg);\r\n        }\r\n        return spq.getResultList();\r\n      }\r\n    \r\n      /**\r\n       * Calls a stored procedure via JPA and retrieves only the top row of a single implicit result\r\n       * set (in DBs that support them e.g. MS SQL or MySQL).\r\n       * Assumes that result set has at least one row.\r\n       * The call is not dependent on a DB dialect.\r\n       * Be aware that large result sets should be paginated and not entirely read to memory.\r\n       * Recreates StoredProcedureQuery instance and its parameters on each call.\r\n       * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; T queryTopRowViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        return queryViaStoredProc(procedureName, resultClass, spArgs).get(0);\r\n      }\r\n    }\r\n\r\nFor MS SQL SPs, the additional requirement is to have `SET NOCOUNT ON` for all SPs executing more than one query. This could be set in one of at least three ways:\r\n\r\n1. In a generic Java wrapper using JPA (see code below). This approach works only with jTDS JDBC driver. [A corresponding issue][2] has been filed with MS JDBC driver project.\r\n2. In the beginning of each SP.\r\n3. [Globally in your database][3].\r\n\r\nHer is code for #1: corresponding methods for the same `StoredProcRepository` class.\r\n\r\n      /**\r\n       * Calls an MS SQL stored procedure via JPA and retrieves a single implicit result set.\r\n       * Protects against lack of SET NOCOUNT in stored procedures.\r\n       * This works with jTDS JDBC driver, but not with MS JDBC driver.\r\n       * Be aware that large result sets should be paginated and not entirely read to memory.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; List&lt;T&gt; queryViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        String spBindParams = (spArgs.length == 0) ? &quot;&quot; : &quot;?&quot; + Strings.repeat(&quot;,?&quot;, spArgs.length - 1);\r\n\r\n        // The following works with jTDS driver, but not with MS driver\r\n        String spQuery = String.format(&quot;EXEC %s %s&quot;, procedureName, spBindParams);\r\n\r\n        // The following works with jTDS driver, but not with MS driver\r\n        /*\r\n        String spQuery = String.format(&quot;{call %s(%s)}&quot;, procedureName, spBindParams);\r\n        Query q = em.createNativeQuery(&quot;SET NOCOUNT ON; &quot; + spQuery, resultClass)\r\n            .setHint(&quot;org.hibernate.readOnly&quot;, true);\r\n        */\r\n\r\n        Query q = em.createNativeQuery(spQuery, resultClass);\r\n        int pos = 0;\r\n        for (Object arg : spArgs) {\r\n          q.setParameter(++pos, arg);\r\n        }\r\n        return q.getResultList();\r\n      }    \r\n    \r\n      /**\r\n       * Calls an MS SQL stored procedure via JPA and retrieves only the top row of a single implicit\r\n       * result set.\r\n       * Assumes that result set has at least one row.\r\n       * The call sets the &quot;NOCOUNT ON&quot; MS SQL batch option.\r\n       * Be aware that large result sets should be paginated and not entirely read to memory.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; T queryTopRowViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        return queryViaMsSqlStoredProc(procedureName, resultClass, spArgs).get(0);\r\n      }\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/DATAJPA-1092\r\n  [2]: https://github.com/Microsoft/mssql-jdbc/issues/313\r\n  [3]: https://learn.microsoft.com/en-us/sql/t-sql/statements/set-statements-transact-sql","title":"IllegalArgumentException: Type cannot be null","body":"<p>Spring Data JPA as of 1.11.1 does not support SPs returning result sets. I filed <a href=\"https://jira.spring.io/browse/DATAJPA-1092\" rel=\"nofollow noreferrer\">a corresponding defect</a> with Spring Data.</p>\n\n<p>The solution is to descend an API level and just use JPA. Here is a generic class that I wrote that works with MS SQL SPs.</p>\n\n<pre><code>import com.google.common.base.Strings;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.ParameterMode;\nimport javax.persistence.Query;\nimport javax.persistence.StoredProcedureQuery;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class StoredProcRepository {\n\n  //region Injected beans (via a RequiredArgsConstructor)\n  private final EntityManager em;\n  //endregion \n\n  /**\n   * Calls a stored procedure via JPA and retrieves a single implicit result set (in DBs that\n   * support them e.g. MS SQL or MySQL). The call is not dependent on a DB dialect. Be\n   * aware that large result sets should be paginated and not entirely read to memory. Recreates\n   * StoredProcedureQuery instance and its parameters on each call.\n   * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; List&lt;T&gt; queryViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    StoredProcedureQuery spq = em.createStoredProcedureQuery(procedureName, resultClass);\n    int pos = 0;\n    for (Object arg : spArgs) {\n      spq.registerStoredProcedureParameter(++pos, arg.getClass(), ParameterMode.IN);\n      spq.setParameter(pos, arg);\n    }\n    return spq.getResultList();\n  }\n\n  /**\n   * Calls a stored procedure via JPA and retrieves only the top row of a single implicit result\n   * set (in DBs that support them e.g. MS SQL or MySQL).\n   * Assumes that result set has at least one row.\n   * The call is not dependent on a DB dialect.\n   * Be aware that large result sets should be paginated and not entirely read to memory.\n   * Recreates StoredProcedureQuery instance and its parameters on each call.\n   * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; T queryTopRowViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    return queryViaStoredProc(procedureName, resultClass, spArgs).get(0);\n  }\n}\n</code></pre>\n\n<p>For MS SQL SPs, the additional requirement is to have <code>SET NOCOUNT ON</code> for all SPs executing more than one query. This could be set in one of at least three ways:</p>\n\n<ol>\n<li>In a generic Java wrapper using JPA (see code below). This approach works only with jTDS JDBC driver. <a href=\"https://github.com/Microsoft/mssql-jdbc/issues/313\" rel=\"nofollow noreferrer\">A corresponding issue</a> has been filed with MS JDBC driver project.</li>\n<li>In the beginning of each SP.</li>\n<li><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/set-statements-transact-sql\" rel=\"nofollow noreferrer\">Globally in your database</a>.</li>\n</ol>\n\n<p>Her is code for #1: corresponding methods for the same <code>StoredProcRepository</code> class.</p>\n\n<pre><code>  /**\n   * Calls an MS SQL stored procedure via JPA and retrieves a single implicit result set.\n   * Protects against lack of SET NOCOUNT in stored procedures.\n   * This works with jTDS JDBC driver, but not with MS JDBC driver.\n   * Be aware that large result sets should be paginated and not entirely read to memory.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; List&lt;T&gt; queryViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    String spBindParams = (spArgs.length == 0) ? \"\" : \"?\" + Strings.repeat(\",?\", spArgs.length - 1);\n\n    // The following works with jTDS driver, but not with MS driver\n    String spQuery = String.format(\"EXEC %s %s\", procedureName, spBindParams);\n\n    // The following works with jTDS driver, but not with MS driver\n    /*\n    String spQuery = String.format(\"{call %s(%s)}\", procedureName, spBindParams);\n    Query q = em.createNativeQuery(\"SET NOCOUNT ON; \" + spQuery, resultClass)\n        .setHint(\"org.hibernate.readOnly\", true);\n    */\n\n    Query q = em.createNativeQuery(spQuery, resultClass);\n    int pos = 0;\n    for (Object arg : spArgs) {\n      q.setParameter(++pos, arg);\n    }\n    return q.getResultList();\n  }    \n\n  /**\n   * Calls an MS SQL stored procedure via JPA and retrieves only the top row of a single implicit\n   * result set.\n   * Assumes that result set has at least one row.\n   * The call sets the \"NOCOUNT ON\" MS SQL batch option.\n   * Be aware that large result sets should be paginated and not entirely read to memory.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; T queryTopRowViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    return queryViaMsSqlStoredProc(procedureName, resultClass, spArgs).get(0);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6311315,"reputation":566,"user_id":4902751,"accept_rate":50,"display_name":"Shweta Gulati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594386600,"creation_date":1594386600,"answer_id":62835030,"question_id":31097667,"body_markdown":"I had the same error which got resolved by changing ParameterMode.OUT to \r\nParameterMode.REF_CURSOR.\r\nI had written this mistakenly.\r\n\r\n```query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.OUT);```\r\n\r\n```query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.REF_CURSOR);```","title":"IllegalArgumentException: Type cannot be null","body":"<p>I had the same error which got resolved by changing ParameterMode.OUT to\nParameterMode.REF_CURSOR.\nI had written this mistakenly.</p>\n<p><code>query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.OUT);</code></p>\n<p><code>query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.REF_CURSOR);</code></p>\n"},{"comments":[{"owner":{"account_id":13501863,"reputation":106,"user_id":9741090,"display_name":"Leib"},"score":0,"creation_date":1607961620,"post_id":64796938,"comment_id":115429617,"body_markdown":"I faced with same issue and get just crazy. Just needed to add &quot;name=&quot; in @Procedure annotation. A subtle difference that made me throw away a couple of hours...","body":"I faced with same issue and get just crazy. Just needed to add &quot;name=&quot; in @Procedure annotation. A subtle difference that made me throw away a couple of hours..."}],"tags":[],"owner":{"account_id":19953971,"reputation":11,"user_id":14622972,"display_name":"saiprem31"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605154544,"creation_date":1605147202,"answer_id":64796938,"question_id":31097667,"body_markdown":"You can try these two ways\r\n\r\n1) Change below lines \r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\nlike this \r\n\r\n    List&lt;ResourceType&gt; getResourceTypes();  // because as per JPA if your method name matches with the @NamedStoredProcedure -&gt; name then no need to mention @Procedure annotation.\r\n\r\n2) If you want to use @Procedure annotation then change the below lines\r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\nlike this \r\n\r\n    @Procedure(name=&quot;getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\n","title":"IllegalArgumentException: Type cannot be null","body":"<p>You can try these two ways</p>\n<ol>\n<li><p>Change below lines</p>\n<p>@Procedure(&quot;ResourceType.getResourceTypes&quot;)\nList getResourceTypes();</p>\n</li>\n</ol>\n<p>like this</p>\n<pre><code>List&lt;ResourceType&gt; getResourceTypes();  // because as per JPA if your method name matches with the @NamedStoredProcedure -&gt; name then no need to mention @Procedure annotation.\n</code></pre>\n<ol start=\"2\">\n<li><p>If you want to use @Procedure annotation then change the below lines</p>\n<p>@Procedure(&quot;ResourceType.getResourceTypes&quot;)\nList getResourceTypes();</p>\n</li>\n</ol>\n<p>like this</p>\n<pre><code>@Procedure(name=&quot;getResourceTypes&quot;)\nList&lt;ResourceType&gt; getResourceTypes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12701375,"reputation":95,"user_id":9227989,"display_name":"Babad00k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680231099,"creation_date":1680231099,"answer_id":75894479,"question_id":31097667,"body_markdown":"I had the same error `org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null`\r\n\r\nIn my case, I have a Postgres function with an array of text as a parameter. Tried a bunch of solution but nothing works.\r\n\r\nIn the end I decided to use a workaround and changed the function parameter from array of text to just text and convert it to array. \r\n\r\n`CREATE FUNCTION fn_funcName(IN arrAsString TEXT)`\r\n\r\nInside the function convert text to array using STRING_TO_ARRAY\r\n\r\n`arr := STRING_TO_ARRAY(arrAsString, &#39;,&#39;);`\r\n\r\nAlso, might actually worth noting when using the function. Converting a list to array using toString() may not work because of the brackets []. I use `String.join(&quot;,&quot;, listOfText);` instead of listOfText.toString()","title":"IllegalArgumentException: Type cannot be null","body":"<p>I had the same error <code>org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null</code></p>\n<p>In my case, I have a Postgres function with an array of text as a parameter. Tried a bunch of solution but nothing works.</p>\n<p>In the end I decided to use a workaround and changed the function parameter from array of text to just text and convert it to array.</p>\n<p><code>CREATE FUNCTION fn_funcName(IN arrAsString TEXT)</code></p>\n<p>Inside the function convert text to array using STRING_TO_ARRAY</p>\n<p><code>arr := STRING_TO_ARRAY(arrAsString, ',');</code></p>\n<p>Also, might actually worth noting when using the function. Converting a list to array using toString() may not work because of the brackets []. I use <code>String.join(&quot;,&quot;, listOfText);</code> instead of listOfText.toString()</p>\n"}],"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38682,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1680231099,"creation_date":1435480662,"question_id":31097667,"body_markdown":"I am confronting with an issue and it seems that many people encountered it and probably couldn&#39;t solve it.\r\n\r\nI have the following MYSQL stored procedure. This is just a sample to see if everything works fine, then I would&#39;ve start adding parameters like `inactive`.\r\n\r\n    CREATE DEFINER=`root`@`localhost` PROCEDURE `get_resource_types`()\r\n    BEGIN\r\n    \tSELECT *\r\n    \tFROM resource_types\r\n    \tWHERE inactive = 0;\r\n    END\r\n\r\nThe entity which maps the `resource_types` table and the named stored procedure query.\r\n\r\n    @NamedStoredProcedureQuery(\r\n            name=&quot;getResourceTypes&quot;,\r\n            procedureName=&quot;get_resource_types&quot;,\r\n            resultClasses = ResourceType.class,\r\n            parameters = {}\r\n    )\r\n    @Entity\r\n    @Table(name = &quot;resource_types&quot;)\r\n    public class ResourceType {\r\n        ... fields with annotations used for validation + getters and setters ...\r\n    }\r\n\r\nAnd here is my `JpaRepository` from which I make the call to the stored procedure\r\n\r\n    @Repository\r\n    public interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\r\n        @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n        List&lt;ResourceType&gt; getResourceTypes();\r\n    \r\n    }\r\n\r\nThe `getAll()` method which resides in a `@Service`\r\n\r\n    public List&lt;ResourceType&gt; getAll(){\r\n        final List&lt;ResourceType&gt; resourceTypes = resourceTypeRepository.getResourceTypes();\r\n        return resourceTypes;\r\n    }\r\n\r\nWhen I try to run this I get the following stack trace:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\r\n    \tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n    \tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:144)\r\n    \tat com.test.ihbs.controller.ResourceTypeControllerTest.test_getAll(ResourceTypeControllerTest.java:111)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:64)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:50)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\r\n    \tat org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:106)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)\r\n    \tat org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:381)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:223)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tat com.sun.proxy.$Proxy87.getResourceTypes(Unknown Source)\r\n    \tat com.ihbs.service.ResourceTypeService.getAll(ResourceTypeService.java:34)\r\n    \tat com.ihbs.controller.ResourceTypeController.getAllResourceTypes(ResourceTypeController.java:44)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \t... 58 more\r\n    Caused by: java.lang.IllegalArgumentException: Type cannot be null\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.setHibernateType(AbstractParameterRegistrationImpl.java:182)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:131)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:140)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:77)\r\n    \tat org.hibernate.procedure.internal.PositionalParameterRegistration.&lt;init&gt;(PositionalParameterRegistration.java:41)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.registerParameter(ProcedureCallImpl.java:275)\r\n    \tat org.hibernate.jpa.internal.StoredProcedureQueryImpl.registerStoredProcedureParameter(StoredProcedureQueryImpl.java:128)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.newAdhocStoredProcedureQuery(StoredProcedureJpaQuery.java:147)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createStoredProcedure(StoredProcedureJpaQuery.java:110)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.doCreateQuery(StoredProcedureJpaQuery.java:68)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createQuery(StoredProcedureJpaQuery.java:58)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$ProcedureExecution.doExecute(JpaQueryExecution.java:295)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:74)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:97)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:88)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:395)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:373)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$DefaultMethodInvokingMethodInterceptor.invoke(RepositoryFactorySupport.java:486)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \t... 80 more\r\n\r\nAny ideas why is this happening and how to fix it?\r\n\r\nThe documentation for `InvalidDataAccessApiUsageException` says:\r\n\r\n&gt; Exception thrown on incorrect usage of the API, such as failing to\r\n&gt; &quot;compile&quot; a query object that needed compilation before execution.\r\n&gt; This represents a problem in our Java data access framework, not the\r\n&gt; underlying data access infrastructure.\r\n\r\n**UPDATE 1**\r\n\r\nIf I change the repository into the following code, it will work, which means there are issues with name procedure query. I still need to make the stored procedure way to work. \r\n\r\n    @Repository\r\n    public interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT rt FROM ResourceType rt WHERE rt.inactive = 0&quot;)\r\n        List&lt;ResourceType&gt; getResourceTypes();\r\n    \r\n    }\r\n\r\n**UPDATE 2**\r\n\r\nI am not using EclipseLink (or at least I don&#39;t know about his existence)\r\n\r\n**UPDATE 3**\r\n\r\nI could not found the cause of this problem even if I went through the code, debugging. But I found something that may help in finding the issue.\r\n\r\nI found this piece of code in `org/springframework/data/jpa/repository/query/StoredProcedureJpaQuery.java` and if you may notice that on the last line there is a call to a function where it gets the total number of parameters and adds an extra one. Here may be the problem, the extra parameter. Still, this may not be the issue because I suppose it can follow another path under different circumstances.\r\n\r\n    /**\r\n\t * Extracts the output value from the given {@link StoredProcedureQuery}.\r\n\t * \r\n\t * @param storedProcedureQuery must not be {@literal null}.\r\n\t * @return\r\n\t */\r\n\tObject extractOutputValue(StoredProcedureQuery storedProcedureQuery) {\r\n\r\n\t\tAssert.notNull(storedProcedureQuery, &quot;StoredProcedureQuery must not be null!&quot;);\r\n\r\n\t\tif (!procedureAttributes.hasReturnValue()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (StringUtils.hasText(procedureAttributes.getOutputParameterName())) {\r\n\t\t\treturn storedProcedureQuery.getOutputParameterValue(procedureAttributes.getOutputParameterName());\r\n\t\t}\r\n\r\n\t\treturn storedProcedureQuery.getOutputParameterValue(getQueryMethod().getParameters().getNumberOfParameters() + 1);\r\n\t}","title":"IllegalArgumentException: Type cannot be null","body":"<p>I am confronting with an issue and it seems that many people encountered it and probably couldn't solve it.</p>\n\n<p>I have the following MYSQL stored procedure. This is just a sample to see if everything works fine, then I would've start adding parameters like <code>inactive</code>.</p>\n\n<pre><code>CREATE DEFINER=`root`@`localhost` PROCEDURE `get_resource_types`()\nBEGIN\n    SELECT *\n    FROM resource_types\n    WHERE inactive = 0;\nEND\n</code></pre>\n\n<p>The entity which maps the <code>resource_types</code> table and the named stored procedure query.</p>\n\n<pre><code>@NamedStoredProcedureQuery(\n        name=\"getResourceTypes\",\n        procedureName=\"get_resource_types\",\n        resultClasses = ResourceType.class,\n        parameters = {}\n)\n@Entity\n@Table(name = \"resource_types\")\npublic class ResourceType {\n    ... fields with annotations used for validation + getters and setters ...\n}\n</code></pre>\n\n<p>And here is my <code>JpaRepository</code> from which I make the call to the stored procedure</p>\n\n<pre><code>@Repository\npublic interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\n    @Procedure(\"ResourceType.getResourceTypes\")\n    List&lt;ResourceType&gt; getResourceTypes();\n\n}\n</code></pre>\n\n<p>The <code>getAll()</code> method which resides in a <code>@Service</code></p>\n\n<pre><code>public List&lt;ResourceType&gt; getAll(){\n    final List&lt;ResourceType&gt; resourceTypes = resourceTypeRepository.getResourceTypes();\n    return resourceTypes;\n}\n</code></pre>\n\n<p>When I try to run this I get the following stack trace:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:144)\n    at com.test.ihbs.controller.ResourceTypeControllerTest.test_getAll(ResourceTypeControllerTest.java:111)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:64)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:106)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)\n    at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:381)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:223)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy87.getResourceTypes(Unknown Source)\n    at com.ihbs.service.ResourceTypeService.getAll(ResourceTypeService.java:34)\n    at com.ihbs.controller.ResourceTypeController.getAllResourceTypes(ResourceTypeController.java:44)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\n    ... 58 more\nCaused by: java.lang.IllegalArgumentException: Type cannot be null\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.setHibernateType(AbstractParameterRegistrationImpl.java:182)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:131)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:140)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:77)\n    at org.hibernate.procedure.internal.PositionalParameterRegistration.&lt;init&gt;(PositionalParameterRegistration.java:41)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.registerParameter(ProcedureCallImpl.java:275)\n    at org.hibernate.jpa.internal.StoredProcedureQueryImpl.registerStoredProcedureParameter(StoredProcedureQueryImpl.java:128)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.newAdhocStoredProcedureQuery(StoredProcedureJpaQuery.java:147)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createStoredProcedure(StoredProcedureJpaQuery.java:110)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.doCreateQuery(StoredProcedureJpaQuery.java:68)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createQuery(StoredProcedureJpaQuery.java:58)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$ProcedureExecution.doExecute(JpaQueryExecution.java:295)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:74)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:97)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:88)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:395)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:373)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$DefaultMethodInvokingMethodInterceptor.invoke(RepositoryFactorySupport.java:486)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    ... 80 more\n</code></pre>\n\n<p>Any ideas why is this happening and how to fix it?</p>\n\n<p>The documentation for <code>InvalidDataAccessApiUsageException</code> says:</p>\n\n<blockquote>\n  <p>Exception thrown on incorrect usage of the API, such as failing to\n  \"compile\" a query object that needed compilation before execution.\n  This represents a problem in our Java data access framework, not the\n  underlying data access infrastructure.</p>\n</blockquote>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>If I change the repository into the following code, it will work, which means there are issues with name procedure query. I still need to make the stored procedure way to work. </p>\n\n<pre><code>@Repository\npublic interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\n\n    @Query(\"SELECT rt FROM ResourceType rt WHERE rt.inactive = 0\")\n    List&lt;ResourceType&gt; getResourceTypes();\n\n}\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I am not using EclipseLink (or at least I don't know about his existence)</p>\n\n<p><strong>UPDATE 3</strong></p>\n\n<p>I could not found the cause of this problem even if I went through the code, debugging. But I found something that may help in finding the issue.</p>\n\n<p>I found this piece of code in <code>org/springframework/data/jpa/repository/query/StoredProcedureJpaQuery.java</code> and if you may notice that on the last line there is a call to a function where it gets the total number of parameters and adds an extra one. Here may be the problem, the extra parameter. Still, this may not be the issue because I suppose it can follow another path under different circumstances.</p>\n\n<pre><code>/**\n * Extracts the output value from the given {@link StoredProcedureQuery}.\n * \n * @param storedProcedureQuery must not be {@literal null}.\n * @return\n */\nObject extractOutputValue(StoredProcedureQuery storedProcedureQuery) {\n\n    Assert.notNull(storedProcedureQuery, \"StoredProcedureQuery must not be null!\");\n\n    if (!procedureAttributes.hasReturnValue()) {\n        return null;\n    }\n\n    if (StringUtils.hasText(procedureAttributes.getOutputParameterName())) {\n        return storedProcedureQuery.getOutputParameterValue(procedureAttributes.getOutputParameterName());\n    }\n\n    return storedProcedureQuery.getOutputParameterValue(getQueryMethod().getParameters().getNumberOfParameters() + 1);\n}\n</code></pre>\n"},{"tags":["java","minecraft","aspectj","minecraft-forge"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680243770,"post_id":75892151,"comment_id":133868333,"body_markdown":"My guess is that not AspectJ is the problem but class-loading. Probably whatever plugin you are developing is, when in action, isolated from other plugins in the same JVM with regard to the dependency tree of class-loaders. Furthermore, AspectJ cannot be used to change already loaded classes. Load-time weaving, as the name implies, can only instrument classes while they are being loaded.","body":"My guess is that not AspectJ is the problem but class-loading. Probably whatever plugin you are developing is, when in action, isolated from other plugins in the same JVM with regard to the dependency tree of class-loaders. Furthermore, AspectJ cannot be used to change already loaded classes. Load-time weaving, as the name implies, can only instrument classes while they are being loaded."},{"owner":{"account_id":19891598,"reputation":13,"user_id":14573544,"display_name":"JohnCesario"},"score":0,"creation_date":1680270549,"post_id":75892151,"comment_id":133874537,"body_markdown":"@kriegaex Thank you for your answer. Although I don&#39;t fully understand how FML loads the .jars into the game, I suspect that this might be the problem as well. I&#39;m currently researching the FML docs to see if there is any Mod Lifecyle event I can use instead of weaving. In the meantime, would post-compile weaving be viable in this scenario, assuming the FML loads the other .jars before mine?","body":"@kriegaex Thank you for your answer. Although I don&#39;t fully understand how FML loads the .jars into the game, I suspect that this might be the problem as well. I&#39;m currently researching the FML docs to see if there is any Mod Lifecyle event I can use instead of weaving. In the meantime, would post-compile weaving be viable in this scenario, assuming the FML loads the other .jars before mine?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680273487,"post_id":75892151,"comment_id":133875393,"body_markdown":"Compile-time or post-compile weaving require that you have access to what you want to weave during build time. This is even less likely to work with binaries not under your control during runtime. Why what you want is difficult or even impossible, is easy to understand: If your plugin is part of a public platform, the owners of course want to avoid you hacking the main application or other modules. What you want to do at first glance looks like a hack, though. So good luck with that.","body":"Compile-time or post-compile weaving require that you have access to what you want to weave during build time. This is even less likely to work with binaries not under your control during runtime. Why what you want is difficult or even impossible, is easy to understand: If your plugin is part of a public platform, the owners of course want to avoid you hacking the main application or other modules. What you want to do at first glance looks like a hack, though. So good luck with that."},{"owner":{"account_id":19891598,"reputation":13,"user_id":14573544,"display_name":"JohnCesario"},"score":0,"creation_date":1680274029,"post_id":75892151,"comment_id":133875541,"body_markdown":"@kriegaex makes sense, I didn&#39;t see it that way at first. I&#39;ll try and rely on methods supported by the FML instead to find a new solution. Thanks again!","body":"@kriegaex makes sense, I didn&#39;t see it that way at first. I&#39;ll try and rely on methods supported by the FML instead to find a new solution. Thanks again!"}],"owner":{"account_id":19891598,"reputation":13,"user_id":14573544,"display_name":"JohnCesario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680230456,"creation_date":1680203850,"question_id":75892151,"body_markdown":"**Context:**\r\nI&#39;ve been working on a fork for the RecipeStages mod https://github.com/DrainBread/RecipeStages/tree/1.16\r\n\r\nThe purpose of my modification is to allow this mod to work with any other mod that adds custom recipes and/or use custom and vanilla working stations.\r\n\r\nAfter attempting different solutions, I found that it would be easier to intercept the invocation of the IRecipe assemble() method implementation to verify if a recipe can be crafted. To do so, I&#39;m using AspectJ.\r\n\r\nHowever I found that the aspect that I developed only works when the method is invoked within the RecipeStages mod and nowhere else.\r\n\r\n**The Question:**\r\nIs it possible to use AspectJ to intercept the invocation of this method across all of the mods installed? if so, how?\r\n\r\nFrom what I&#39;ve learned about AspectJ (which isn&#39;t much, this is my first time ever using it), this would be possible if Load Time Weaving was enabled for the entire project, which in my understanding, that would be the FML. If that is the case, would it be necessary to modify FML to allow this?\r\n\r\n**What I have tried:**\r\nAside from AspectJ, I&#39;ve tried using JavaAssist (with ProxyFactory), however that requires the &quot;reconstruction&quot; of the recipe object, which didn&#39;t go very well - since this is supposed to work with any mod, there is no way to recreate an object that is not declared in this project.\r\nI have researched for a couple of days but there aren&#39;t a lot of info I could find related to AspectJ without Spring and using Gradle. No other mods to my knowledge use this approach either, so I&#39;m starting to question if this is even viable.","title":"AspectJ Load Time Weaving For Any Minecraft Forge Mod Installed","body":"<p><strong>Context:</strong>\nI've been working on a fork for the RecipeStages mod <a href=\"https://github.com/DrainBread/RecipeStages/tree/1.16\" rel=\"nofollow noreferrer\">https://github.com/DrainBread/RecipeStages/tree/1.16</a></p>\n<p>The purpose of my modification is to allow this mod to work with any other mod that adds custom recipes and/or use custom and vanilla working stations.</p>\n<p>After attempting different solutions, I found that it would be easier to intercept the invocation of the IRecipe assemble() method implementation to verify if a recipe can be crafted. To do so, I'm using AspectJ.</p>\n<p>However I found that the aspect that I developed only works when the method is invoked within the RecipeStages mod and nowhere else.</p>\n<p><strong>The Question:</strong>\nIs it possible to use AspectJ to intercept the invocation of this method across all of the mods installed? if so, how?</p>\n<p>From what I've learned about AspectJ (which isn't much, this is my first time ever using it), this would be possible if Load Time Weaving was enabled for the entire project, which in my understanding, that would be the FML. If that is the case, would it be necessary to modify FML to allow this?</p>\n<p><strong>What I have tried:</strong>\nAside from AspectJ, I've tried using JavaAssist (with ProxyFactory), however that requires the &quot;reconstruction&quot; of the recipe object, which didn't go very well - since this is supposed to work with any mod, there is no way to recreate an object that is not declared in this project.\nI have researched for a couple of days but there aren't a lot of info I could find related to AspectJ without Spring and using Gradle. No other mods to my knowledge use this approach either, so I'm starting to question if this is even viable.</p>\n"},{"tags":["java","lombok","annotation-processing"],"comments":[{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687693122,"post_id":75890334,"comment_id":134969445,"body_markdown":"Did u find the solution?","body":"Did u find the solution?"}],"owner":{"account_id":25679443,"reputation":1,"user_id":19442427,"display_name":"Forsteri123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680230178,"creation_date":1680190910,"question_id":75890334,"body_markdown":"I have been trying to do something like The Lombok Project and tried to make com.sun.tools.javac visible but everything I tried didn&#39;t work out.\r\n\r\nTried compiler args in build.gradle\r\n\r\n```\r\ncompileJava{\r\n    options.compilerArgs += [\r\n        &quot;--add-modules&quot;, &quot;jdk.compiler&quot;,\r\n        &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;,\r\n    ]\r\n}\r\n```\r\n\r\n\r\n\r\nTried compilerArgs in pom.xml *(yes, directly ctrl-ced from the lombok project)*\r\n```\r\n&lt;compilerArgs&gt;\r\n    &lt;arg&gt;-Werror&lt;/arg&gt;\r\n    &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n&lt;/compilerArgs&gt;\r\n``` \r\n\r\nBut what did work is `javac --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED net/forsteri/jsynt/core/Capitalify.java` and did outputs a working class file, but that does not met what I want.\r\n\r\nFull build.gradle: https://pastebin.com/6ugDzQ2g\r\nFull pom.xml: https://pastebin.com/AUzxJcLU","title":"Getting access to com.sun.tools.javac with Java 8+","body":"<p>I have been trying to do something like The Lombok Project and tried to make com.sun.tools.javac visible but everything I tried didn't work out.</p>\n<p>Tried compiler args in build.gradle</p>\n<pre><code>compileJava{\n    options.compilerArgs += [\n        &quot;--add-modules&quot;, &quot;jdk.compiler&quot;,\n        &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;,\n    ]\n}\n</code></pre>\n<p>Tried compilerArgs in pom.xml <em>(yes, directly ctrl-ced from the lombok project)</em></p>\n<pre><code>&lt;compilerArgs&gt;\n    &lt;arg&gt;-Werror&lt;/arg&gt;\n    &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n<p>But what did work is <code>javac --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED net/forsteri/jsynt/core/Capitalify.java</code> and did outputs a working class file, but that does not met what I want.</p>\n<p>Full build.gradle: <a href=\"https://pastebin.com/6ugDzQ2g\" rel=\"nofollow noreferrer\">https://pastebin.com/6ugDzQ2g</a>\nFull pom.xml: <a href=\"https://pastebin.com/AUzxJcLU\" rel=\"nofollow noreferrer\">https://pastebin.com/AUzxJcLU</a></p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680220729,"post_id":75893737,"comment_id":133865868,"body_markdown":"So, change `double max = 0;` to `final double max = 600.00;` and delete the `max = account.balance;` line.","body":"So, change <code>double max = 0;</code> to <code>final double max = 600.00;</code> and delete the <code>max = account.balance;</code> line."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680220908,"post_id":75893737,"comment_id":133865883,"body_markdown":"600 is just an example from the OPs test data, not the value they want to use","body":"600 is just an example from the OPs test data, not the value they want to use"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680220520,"creation_date":1680220520,"answer_id":75893789,"question_id":75893737,"body_markdown":"Your code is wrong because it saves any account that is the max so far.  The easiest way is to have two passes.\r\n\r\n      public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\r\n            // Find maximum balance of all accounts\r\n            double max = 0;\r\n            for (Account account : accounts) {\r\n                if (account.getBalance() &gt;= max) {\r\n                    max = account.balance;\r\n                }\r\n            }\r\n            // Select accounts whose balance is maximal\r\n            ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\r\n            for (Account account : accounts) {\r\n                if (account.getBalance() &gt;= max) {\r\n                    maxBalanceAccounts.add(account);\r\n                }\r\n            }\r\n            return maxBalanceAccounts;\r\n        }\r\n\r\nThere are other ways to express this, but this seems to be closest to your original formulation, and is conceptually quite simple.\r\n","title":"Trying to fix a method that gives me back the account(s) in the list that have the max value (600)","body":"<p>Your code is wrong because it saves any account that is the max so far.  The easiest way is to have two passes.</p>\n<pre><code>  public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\n        // Find maximum balance of all accounts\n        double max = 0;\n        for (Account account : accounts) {\n            if (account.getBalance() &gt;= max) {\n                max = account.balance;\n            }\n        }\n        // Select accounts whose balance is maximal\n        ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\n        for (Account account : accounts) {\n            if (account.getBalance() &gt;= max) {\n                maxBalanceAccounts.add(account);\n            }\n        }\n        return maxBalanceAccounts;\n    }\n</code></pre>\n<p>There are other ways to express this, but this seems to be closest to your original formulation, and is conceptually quite simple.</p>\n"},{"tags":[],"owner":{"account_id":21776732,"reputation":46,"user_id":16079033,"display_name":"ProgrammingSolver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680229884,"creation_date":1680229884,"answer_id":75894393,"question_id":75893737,"body_markdown":"This returns an ArrayList of the accounts that are equal to or more than the max value.\r\n````\r\npublic static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\r\n    ArrayList&lt;Account&gt; correctAccounts = new ArrayList&lt;&gt;();\r\n    double max = 600.0;\r\n    for (Account selected: accounts){\r\n        if(selected.getBalance() &gt;= max){\r\n            correctAccounts.add(selected);\r\n        }\r\n    }\r\n    return correctAccounts;\r\n}\r\n````\r\nAdditionally, to make your code easier to modify in the future, you should make max either an attribute within class Account or a parameter of maxBalanceAccounts.","title":"Trying to fix a method that gives me back the account(s) in the list that have the max value (600)","body":"<p>This returns an ArrayList of the accounts that are equal to or more than the max value.</p>\n<pre><code>public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\n    ArrayList&lt;Account&gt; correctAccounts = new ArrayList&lt;&gt;();\n    double max = 600.0;\n    for (Account selected: accounts){\n        if(selected.getBalance() &gt;= max){\n            correctAccounts.add(selected);\n        }\n    }\n    return correctAccounts;\n}\n</code></pre>\n<p>Additionally, to make your code easier to modify in the future, you should make max either an attribute within class Account or a parameter of maxBalanceAccounts.</p>\n"}],"owner":{"display_name":"user19382080"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680229884,"creation_date":1680219459,"question_id":75893737,"body_markdown":"Trying to fix some code I&#39;m having trouble with, it&#39;s giving me an unwanted account object in the array.\r\n\r\n    public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts){\r\n            ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\r\n            double max = 0;\r\n            for(Account account : accounts){\r\n                if(account.getBalance()&gt;=max){\r\n                    max = account.balance;\r\n                    maxBalanceAccounts.add(account);\r\n                }\r\n            }\r\n            return maxBalanceAccounts;\r\n        }\r\n\r\nThe outcome is [Checking{accountNumber=1, balance=200.0}, Savings{accountNumber=2, balance=600.0}, Savings{accountNumber=4, balance=600.0}]\r\nI want to remove the account with 200.0.","title":"Trying to fix a method that gives me back the account(s) in the list that have the max value (600)","body":"<p>Trying to fix some code I'm having trouble with, it's giving me an unwanted account object in the array.</p>\n<pre><code>public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts){\n        ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\n        double max = 0;\n        for(Account account : accounts){\n            if(account.getBalance()&gt;=max){\n                max = account.balance;\n                maxBalanceAccounts.add(account);\n            }\n        }\n        return maxBalanceAccounts;\n    }\n</code></pre>\n<p>The outcome is [Checking{accountNumber=1, balance=200.0}, Savings{accountNumber=2, balance=600.0}, Savings{accountNumber=4, balance=600.0}]\nI want to remove the account with 200.0.</p>\n"},{"tags":["java","ssl-certificate","keytool","jks"],"answers":[{"comments":[{"owner":{"account_id":22611501,"reputation":31,"user_id":16791596,"display_name":"user16791596"},"score":0,"creation_date":1630428331,"post_id":69002376,"comment_id":121951756,"body_markdown":"sorry, I make a mistake, it&#39;s one","body":"sorry, I make a mistake, it&#39;s one"}],"tags":[],"owner":{"account_id":224322,"reputation":451,"user_id":5647851,"display_name":"C&#233;sar Alves"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641956075,"creation_date":1630427751,"answer_id":69002376,"question_id":69002199,"body_markdown":"Basically it&#39;s saying that if you don&#39;t specify which key to import, you can&#39;t specify which alias you want for the key; it will import all keys.\r\n\r\nMaybe it is a mistype and you are specifying `-destalias` twice instead of `-destalias` and `-srcalias`","title":"Java keytool importkeystore and set alias","body":"<p>Basically it's saying that if you don't specify which key to import, you can't specify which alias you want for the key; it will import all keys.</p>\n<p>Maybe it is a mistype and you are specifying <code>-destalias</code> twice instead of <code>-destalias</code> and <code>-srcalias</code></p>\n"},{"tags":[],"owner":{"account_id":2172254,"reputation":548,"user_id":2396732,"accept_rate":100,"display_name":"JCM"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655220214,"creation_date":1655220214,"answer_id":72619581,"question_id":69002199,"body_markdown":"\r\nYou need to specify both parameters (ensure you are only importing one cert.):\r\n\r\n    -alias &quot;IMPORT_ALIAS&quot; -destalias &quot;YOUR_ALIAS&quot;","title":"Java keytool importkeystore and set alias","body":"<p>You need to specify both parameters (ensure you are only importing one cert.):</p>\n<pre><code>-alias &quot;IMPORT_ALIAS&quot; -destalias &quot;YOUR_ALIAS&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6567415,"reputation":71,"user_id":5083423,"display_name":"hongwei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680228842,"creation_date":1680228842,"answer_id":75894325,"question_id":69002199,"body_markdown":"the &quot;srcalias&quot; parameter uses &quot;1&quot;\r\n```shell\r\nkeytool -importkeystore -srcalias 1 -destalias &quot;DEST&quot;\r\n```\r\n\r\n","title":"Java keytool importkeystore and set alias","body":"<p>the &quot;srcalias&quot; parameter uses &quot;1&quot;</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -importkeystore -srcalias 1 -destalias &quot;DEST&quot;\n</code></pre>\n"}],"owner":{"account_id":22611501,"reputation":31,"user_id":16791596,"display_name":"user16791596"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680228842,"creation_date":1630426903,"question_id":69002199,"body_markdown":"I try to import certificate and private key from p12 to keystore and set alias:\r\n\r\n    keytool -destalias point_4432 -importkeystore -deststorepass changeit -destkeypass changeit -destkeystore MY_KEYSTORE.jks -srckeystore point_4432.p12 -srcstoretype PKCS12 -srcstorepass pass123\r\n\r\nbut I get and error:\r\n\r\n&gt; keytool error: java.lang.Exception: if alias not specified, destalias\r\n&gt; and srckeypass must not be specified\r\n\r\nplease, help, how to set alias in time export? thanks!","title":"Java keytool importkeystore and set alias","body":"<p>I try to import certificate and private key from p12 to keystore and set alias:</p>\n<pre><code>keytool -destalias point_4432 -importkeystore -deststorepass changeit -destkeypass changeit -destkeystore MY_KEYSTORE.jks -srckeystore point_4432.p12 -srcstoretype PKCS12 -srcstorepass pass123\n</code></pre>\n<p>but I get and error:</p>\n<blockquote>\n<p>keytool error: java.lang.Exception: if alias not specified, destalias\nand srckeypass must not be specified</p>\n</blockquote>\n<p>please, help, how to set alias in time export? thanks!</p>\n"},{"tags":["java","reactjs","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1658659559,"post_id":73097587,"comment_id":129101544,"body_markdown":"What is your version of Spring Boot and/or Spring Framework? Post all class, not just method.","body":"What is your version of Spring Boot and/or Spring Framework? Post all class, not just method."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":1,"creation_date":1658660321,"post_id":73097587,"comment_id":129101661,"body_markdown":"Post full import packages... I cannot detect you use Spring use Servlet or Reactive.","body":"Post full import packages... I cannot detect you use Spring use Servlet or Reactive."},{"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"score":0,"creation_date":1658660902,"post_id":73097587,"comment_id":129101767,"body_markdown":"pasted all the imports","body":"pasted all the imports"}],"answers":[{"comments":[{"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"score":0,"creation_date":1658660417,"post_id":73097755,"comment_id":129101676,"body_markdown":"But UrlBasedCorsConfigurationSource implements CorsConfigurationSource internally.\n\nHere is the class definition:\n\n```public class UrlBasedCorsConfigurationSource implements CorsConfigurationSource```","body":"But UrlBasedCorsConfigurationSource implements CorsConfigurationSource internally.  Here is the class definition:  <code>public class UrlBasedCorsConfigurationSource implements CorsConfigurationSource</code>"}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658660498,"creation_date":1658660110,"answer_id":73097755,"question_id":73097587,"body_markdown":"Because Required type is `CorsConfigurationSource` , but you provided `UrlBasedCorsConfigurationSource` . You also cannot cast in this case (I tried).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you want create your own Filter, use like this\r\n\r\n```java\r\npackage com.example.security;\r\n\r\nimport org.springframework.web.filter.GenericFilterBean;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class CustomFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nthen use like this\r\n\r\n```java\r\npackage com.example.security;\r\n\r\nimport com.example.security.jwt.AuthEntryPointJwt;\r\nimport com.example.security.jwt.AuthTokenFilter;\r\nimport com.example.security.services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\nimport org.springframework.security.web.server.SecurityWebFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        // securedEnabled = true,\r\n        // jsr250Enabled = true,\r\n        prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        //;\r\n\r\n       // .addFilterAfter(new CustomFilter(), BasicAuthenticationFilter.class); // &lt;-- Add filter.\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YyphX.png","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>Because Required type is <code>CorsConfigurationSource</code> , but you provided <code>UrlBasedCorsConfigurationSource</code> . You also cannot cast in this case (I tried).</p>\n<p><a href=\"https://i.stack.imgur.com/YyphX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YyphX.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want create your own Filter, use like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.security;\n\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport java.io.IOException;\n\npublic class CustomFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>then use like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.security;\n\nimport com.example.security.jwt.AuthEntryPointJwt;\nimport com.example.security.jwt.AuthTokenFilter;\nimport com.example.security.services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.security.web.server.SecurityWebFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated();\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n        //;\n\n       // .addFilterAfter(new CustomFilter(), BasicAuthenticationFilter.class); // &lt;-- Add filter.\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658768562,"post_id":73098404,"comment_id":129128627,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73098404/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658665729,"creation_date":1658665729,"answer_id":73098404,"question_id":73097587,"body_markdown":"Resolved:\r\n\r\npackage should be org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>Resolved:</p>\n<p>package should be org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource</p>\n"},{"tags":[],"owner":{"account_id":21494437,"reputation":1,"user_id":15839659,"display_name":"Sachin Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678937038,"creation_date":1678937038,"answer_id":75751893,"question_id":73097587,"body_markdown":"It is because some modules in SpringBoot 6 have been **deprecated**. Replace the old code with the **following code** in your **Config file**.\r\n\r\n    \tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\tregistry.addMapping(&quot;/**&quot;)\r\n\t\t\t.allowedOrigins(&quot;*&quot;)\r\n\t\t\t.allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;)\r\n\t\t\t.allowedHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;)\r\n\t\t\t.allowCredentials(true).maxAge(3600);\r\n\t}\r\n","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>It is because some modules in SpringBoot 6 have been <strong>deprecated</strong>. Replace the old code with the <strong>following code</strong> in your <strong>Config file</strong>.</p>\n<pre><code>    public void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n        .allowedOrigins(&quot;*&quot;)\n        .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;)\n        .allowedHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;)\n        .allowCredentials(true).maxAge(3600);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23097958,"reputation":61,"user_id":17207769,"display_name":"Mike En"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680227117,"creation_date":1680227117,"answer_id":75894204,"question_id":73097587,"body_markdown":"org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource\r\n\r\nThis worked for me. Change your import to \r\norg.springframework.web.cors.UrlBasedCorsConfigurationSource \r\n","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource</p>\n<p>This worked for me. Change your import to\norg.springframework.web.cors.UrlBasedCorsConfigurationSource</p>\n"}],"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1680227117,"creation_date":1658658609,"question_id":73097587,"body_markdown":"While creating the object of `FilterRegistrationBean` in Spring Noot, I am facing the error\r\n \r\n```\r\nThe constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined.\r\n```\r\n\r\nBelow is the code snippet for the same.\r\n```java\r\n@Bean\r\npublic FilterRegistrationBean coresFilter()\r\n{\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();    \r\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n    corsConfiguration.setAllowCredentials(true);\r\n    corsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\r\n    corsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\r\n    corsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\r\n    corsConfiguration.addAllowedHeader(&quot;Accept&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;POST&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;GET&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;PUT&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\r\n    corsConfiguration.setMaxAge(3600L);    \r\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);    \r\n    FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));  //getting error in this line\r\n    return bean;\r\n}\r\n```\r\n\r\nI don&#39;t know what is going wrong here, need help.\r\n\r\n\r\nThe entire class is pasted below:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableWebMvc\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\tpublic static final String[] PUBLIC_URLS = {\r\n\t\t\t&quot;/api/v1/auth/**&quot;, \r\n\t\t\t&quot;/v3/api-docs&quot;,\r\n\t\t\t&quot;/v2/api-docs&quot;,\r\n\t\t\t&quot;/swagger-resources/**&quot;,\r\n\t\t\t&quot;/swagger-ui/**&quot;,\r\n\t\t\t&quot;/webjars/**&quot;\r\n\t\t\t};\r\n\t\r\n\t@Autowired\r\n\tprivate CustomUserDetailService customUserDetailService;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAuthenticationFilter authenticationFilter;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp\r\n\t\t.csrf()\r\n\t\t.disable()\r\n\t\t.authorizeHttpRequests()\r\n\t\t.antMatchers(PUBLIC_URLS).permitAll()\r\n\t\t.antMatchers(HttpMethod.GET).permitAll()\r\n\t\t.anyRequest()\r\n\t\t.authenticated()\r\n\t\t.and()\r\n\t\t.exceptionHandling().authenticationEntryPoint(this.authenticationEntryPoint)\r\n\t\t.and()\r\n\t\t.sessionManagement()\r\n\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\t\r\n\t\thttp.addFilterBefore(this.authenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(this.customUserDetailService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic FilterRegistrationBean coresFilter()\r\n\t{\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\t\r\n\t\tCorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\t\tcorsConfiguration.setAllowCredentials(true);\r\n\t\tcorsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\r\n\t\tcorsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\r\n\t\tcorsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\r\n\t\tcorsConfiguration.addAllowedHeader(&quot;Accept&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;POST&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;GET&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;PUT&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\r\n\t\tcorsConfiguration.setMaxAge(3600L);\r\n\t\t\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\t\t\r\n\t\t\r\n\t\tFilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n\t\treturn bean;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\nHere are all the import packages:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;\r\n    import org.springframework.web.filter.CorsFilter;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n    import com.springboot.blog.security.CustomUserDetailService;\r\n    import com.springboot.blog.security.JwtAuthenticationEntryPoint;\r\n    import com.springboot.blog.security.JwtAuthenticationFilter;","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>While creating the object of <code>FilterRegistrationBean</code> in Spring Noot, I am facing the error</p>\n<pre><code>The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined.\n</code></pre>\n<p>Below is the code snippet for the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean coresFilter()\n{\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();    \n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    corsConfiguration.setAllowCredentials(true);\n    corsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Accept&quot;);\n    corsConfiguration.addAllowedMethod(&quot;POST&quot;);\n    corsConfiguration.addAllowedMethod(&quot;GET&quot;);\n    corsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\n    corsConfiguration.addAllowedMethod(&quot;PUT&quot;);\n    corsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\n    corsConfiguration.setMaxAge(3600L);    \n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);    \n    FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));  //getting error in this line\n    return bean;\n}\n</code></pre>\n<p>I don't know what is going wrong here, need help.</p>\n<p>The entire class is pasted below:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableWebMvc\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\npublic static final String[] PUBLIC_URLS = {\n        &quot;/api/v1/auth/**&quot;, \n        &quot;/v3/api-docs&quot;,\n        &quot;/v2/api-docs&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/webjars/**&quot;\n        };\n\n@Autowired\nprivate CustomUserDetailService customUserDetailService;\n\n@Autowired\nprivate JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n@Autowired\nprivate JwtAuthenticationFilter authenticationFilter;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    \n    http\n    .csrf()\n    .disable()\n    .authorizeHttpRequests()\n    .antMatchers(PUBLIC_URLS).permitAll()\n    .antMatchers(HttpMethod.GET).permitAll()\n    .anyRequest()\n    .authenticated()\n    .and()\n    .exceptionHandling().authenticationEntryPoint(this.authenticationEntryPoint)\n    .and()\n    .sessionManagement()\n    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    \n    http.addFilterBefore(this.authenticationFilter, UsernamePasswordAuthenticationFilter.class);\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(this.customUserDetailService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\n\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    // TODO Auto-generated method stub\n    return super.authenticationManagerBean();\n}\n\n@Bean\npublic FilterRegistrationBean coresFilter()\n{\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    \n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    corsConfiguration.setAllowCredentials(true);\n    corsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Accept&quot;);\n    corsConfiguration.addAllowedMethod(&quot;POST&quot;);\n    corsConfiguration.addAllowedMethod(&quot;GET&quot;);\n    corsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\n    corsConfiguration.addAllowedMethod(&quot;PUT&quot;);\n    corsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\n    corsConfiguration.setMaxAge(3600L);\n    \n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n    \n    \n    FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n    return bean;\n}\n</code></pre>\n<p>}</p>\n<p>Here are all the import packages:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\nimport com.springboot.blog.security.CustomUserDetailService;\nimport com.springboot.blog.security.JwtAuthenticationEntryPoint;\nimport com.springboot.blog.security.JwtAuthenticationFilter;\n</code></pre>\n"},{"tags":["java","spring","forms","thymeleaf","http-request-parameters"],"comments":[{"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"score":0,"creation_date":1680224153,"post_id":75893931,"comment_id":133866221,"body_markdown":"Your question is duplicated. Please [see](https://stackoverflow.com/questions/43305607/request-parameter-with-thymeleaf)","body":"Your question is duplicated. Please <a href=\"https://stackoverflow.com/questions/43305607/request-parameter-with-thymeleaf\">see</a>"},{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1680224213,"post_id":75893931,"comment_id":133866231,"body_markdown":"The answer to that question uses a GET mapping for a form. I want to get the data after the submit button is clicked, so a POST mapping","body":"The answer to that question uses a GET mapping for a form. I want to get the data after the submit button is clicked, so a POST mapping"}],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680226642,"creation_date":1680226218,"answer_id":75894152,"question_id":75893931,"body_markdown":"To send data from a Thymeleaf form to a Spring REST controller as request parameters and POST mapping, you can follow these example:\r\n\r\n    &lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\r\n    &lt;label&gt;Username: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;label&gt;Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/form&gt;\r\nand for Controller\r\n\r\n\r\n       @Controller\r\n       public class LoginController {\r\n        @PostMapping(&quot;/login&quot;)\r\n        public String login(@RequestParam String username, @RequestParam String password, Model model) {\r\n            if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;admin&quot;.equals(password)) {\r\n                System.out.printf(&quot;username:%s and password:%s&quot;, username, password);\r\n                model.addAttribute(&quot;username&quot;, username);\r\n                return &quot;redirect:/success&quot;;\r\n            }\r\n    \r\n            model.addAttribute(&quot;error&quot;, &quot;Invalid username or password&quot;);\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nand you can post data with\r\n\r\n    http://localhost:8080/login?username=admin&amp;password=admin\r\n\r\n    \r\n\r\n","title":"How to send a Thymeleaf input value as a request parameter to controller in Java Spring?","body":"<p>To send data from a Thymeleaf form to a Spring REST controller as request parameters and POST mapping, you can follow these example:</p>\n<pre><code>&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\n&lt;label&gt;Username: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/label&gt;&lt;br&gt;\n&lt;label&gt;Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/label&gt;&lt;br&gt;\n&lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>and for Controller</p>\n<pre><code>   @Controller\n   public class LoginController {\n    @PostMapping(&quot;/login&quot;)\n    public String login(@RequestParam String username, @RequestParam String password, Model model) {\n        if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;admin&quot;.equals(password)) {\n            System.out.printf(&quot;username:%s and password:%s&quot;, username, password);\n            model.addAttribute(&quot;username&quot;, username);\n            return &quot;redirect:/success&quot;;\n        }\n\n        model.addAttribute(&quot;error&quot;, &quot;Invalid username or password&quot;);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>and you can post data with</p>\n<pre><code>http://localhost:8080/login?username=admin&amp;password=admin\n</code></pre>\n"}],"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75894152,"answer_count":1,"score":-1,"last_activity_date":1680226642,"creation_date":1680222732,"question_id":75893931,"body_markdown":"I am using Thymeleaf forms and traditional Spring rest controllers to make API requests to an external platform.\r\n\r\nThe Thymeleaf form is a simple login form with 2 fields and a submit button. After the user presses submit, the data from the 2 fields needs to be sent as request parameters to a GET mapping method inside the controller. \r\n\r\nWhat&#39;s the easiest way to achieve this?\r\n\r\nThanks","title":"How to send a Thymeleaf input value as a request parameter to controller in Java Spring?","body":"<p>I am using Thymeleaf forms and traditional Spring rest controllers to make API requests to an external platform.</p>\n<p>The Thymeleaf form is a simple login form with 2 fields and a submit button. After the user presses submit, the data from the 2 fields needs to be sent as request parameters to a GET mapping method inside the controller.</p>\n<p>What's the easiest way to achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","generics","design-patterns","interface"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1680226858,"post_id":75894019,"comment_id":133866518,"body_markdown":"IMHO having a service just frontiend-ending a repository (and not adding anything to that) is bad practice, adding code for no reason.   Instead, the repository can be thought of AS a service - ie no problem having the controller call the repository directly.   For further discussion, see https://softwareengineering.stackexchange.com/questions/306890/is-it-bad-practice-that-a-controller-calls-a-repository-instead-of-a-service","body":"IMHO having a service just frontiend-ending a repository (and not adding anything to that) is bad practice, adding code for no reason.   Instead, the repository can be thought of AS a service - ie no problem having the controller call the repository directly.   For further discussion, see <a href=\"https://softwareengineering.stackexchange.com/questions/306890/is-it-bad-practice-that-a-controller-calls-a-repository-instead-of-a-service\" title=\"is it bad practice that a controller calls a repository instead of a service\">softwareengineering.stackexchange.com/questions/306890/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680226593,"creation_date":1680226593,"answer_id":75894175,"question_id":75894019,"body_markdown":"This is not a good idea.\r\n\r\nHaving a number of classes which implement an interface is a good idea when you want to use instances of classes which implement the interface without knowing their concrete class.\r\n\r\nIf you had a collection of all your `XxxServiceImpl` classes, and wanted to run a method from `BaseCommonOperationInterface` on each of them, then the interface would be useful. But that&#39;s not typically how services are used -- they are injected explicitly into the controller classes which need them.\r\n\r\nHaving a common interface means that when you add a method to one service you need to add it to all -- but perhaps the services are different.\r\n\r\nYou propose an abstract base class so that you can have a no-operation implementation for some services, but this just makes your services confusing -- should we expect calling this method to do something or not? Users of the services will wonder why a particular service has a method on it which it doesn&#39;t need, not knowing that the interface requires it, and the implementation does nothing.\r\n\r\nFinally, if you do have a good reason for enforcing that a method exists on all your services, then yes, use an interface, but *don&#39;t* put an empty implementation in an abstract class.\r\n\r\nWithout that abstract class, you will be forced to consider: what implementation does this service need for the new method? If a default implementation exists, ir will be very easy to miss thinking about a service when a new method is added.","title":"Is good Idea Apply a generic common functions to all services using interfaces an abstracts?","body":"<p>This is not a good idea.</p>\n<p>Having a number of classes which implement an interface is a good idea when you want to use instances of classes which implement the interface without knowing their concrete class.</p>\n<p>If you had a collection of all your <code>XxxServiceImpl</code> classes, and wanted to run a method from <code>BaseCommonOperationInterface</code> on each of them, then the interface would be useful. But that's not typically how services are used -- they are injected explicitly into the controller classes which need them.</p>\n<p>Having a common interface means that when you add a method to one service you need to add it to all -- but perhaps the services are different.</p>\n<p>You propose an abstract base class so that you can have a no-operation implementation for some services, but this just makes your services confusing -- should we expect calling this method to do something or not? Users of the services will wonder why a particular service has a method on it which it doesn't need, not knowing that the interface requires it, and the implementation does nothing.</p>\n<p>Finally, if you do have a good reason for enforcing that a method exists on all your services, then yes, use an interface, but <em>don't</em> put an empty implementation in an abstract class.</p>\n<p>Without that abstract class, you will be forced to consider: what implementation does this service need for the new method? If a default implementation exists, ir will be very easy to miss thinking about a service when a new method is added.</p>\n"}],"owner":{"account_id":13552333,"reputation":449,"user_id":9776852,"display_name":"Alexander Bravo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680619241,"answer_count":1,"score":0,"last_activity_date":1680226593,"creation_date":1680224282,"question_id":75894019,"body_markdown":"I am starting a new project using Spring Boot 3. We are still at an early stage of the project and still defining things. so, being said that. Here is my question:\r\n\r\n**The problem I want to solve:** the service layer which is meant to handle all the business logic shares common functions among the entities, eg: CRUD functions and others.\r\n\r\n**Proposal:** Create a Generic interface with all common functions. then: creates an Abstract class that will implement this interface and override; why an Abstract because I want to prevent the paint of adding new functions to the parent interface and going through all the implemented cases.\r\n\r\n**Here is an example I implemented:**\r\n```java\r\n// Project stucture.\r\nmain-project\r\n|-src\r\n   |--main\r\n       |-java\r\n          |-com.project\r\n               |-entities\r\n               |-repositories\r\n               |-service\r\n               |    |-implementation    \r\n               |-rest\r\n```\r\n**now**\r\nWe all know what is inside entities, repositories and rest package, here is my service package implementation:\r\n\r\n**BaseCommonOperationInterface**\r\n```java\r\npublic interface BaseCommonOperationInterface&lt;E, V&gt; {\r\n\r\n  E createItemOf(V requestDto);\r\n  E updateItemfrom(final Long identifier, V requestDto);\r\n  void deleteItem(final Long identifier);\r\n  Optional&lt;E&gt; findSingleRecordByIdentifier(Long skillDicCategoryId);\r\n  List&lt;E&gt; listAllItems();\r\n//more common function...\r\n}\r\n```\r\n**BusinessBaseAbstract**\r\n\r\n```java\r\npuiblic abstract class BusinessBaseAbstract&lt;E, V&gt; implements BaseCommonOperationInterface&lt;E, V&gt;{\r\n//Here override all methods from interface...\r\n @Override\r\n  public List&lt;E&gt; listAllItems() {\r\n    return Collections.emptyList();\r\n  }\r\n//...\r\n}\r\n```\r\n**DictionaryService**\r\n```java\r\npublic interface DictionaryService implement BaseCommonOperationInterface&lt;DictionaryEntity, DictionaryrequestDto&gt;{}\r\n```\r\n\r\n**DictionaryServiveImpl**\r\n```java\r\n\r\n@RequieredArgConstructor\r\n@Service\r\npublic class DictionaryServiveImpl extends BusinessBaseAbstract&lt;DictionaryEntity, DictionaryrequestDto&gt; implements DictionaryService{\r\nprivate final DictionaryRepository dictionaryRepository;\r\n\r\n//I can override eather single common function or all of them\r\n@override\r\npublic List&lt;DictionaryEntity&gt; listAllItems(){\r\n return dictionaryRepository.findAll()\r\n}\r\n// all the methods I need overrided here...\r\n}\r\n```\r\n\r\n**DictionaryController**\r\n```java\r\n@RestController\r\npublic class DictionaryController{\r\n\r\nprivate final DictionaryService service;\r\n\r\n@GetMapping(&quot;/dictionary&quot;)\r\npublic List&lt;DictionarEntity&gt; getAllofThem(){\r\nreturn service.listAllItems();\r\n}\r\n//Here rest of implementations...\r\n}\r\n```\r\nWhy no call the DictionaryRepository from the controller beacause we want to keep the Rest Controller clean as much as possible and delegate all business logic to Service package.\r\n\r\nDoes this pattern make sense?\r\nare there advantages and disavantages?\r\nare there others pattern that I can apply to abstract common function?","title":"Is good Idea Apply a generic common functions to all services using interfaces an abstracts?","body":"<p>I am starting a new project using Spring Boot 3. We are still at an early stage of the project and still defining things. so, being said that. Here is my question:</p>\n<p><strong>The problem I want to solve:</strong> the service layer which is meant to handle all the business logic shares common functions among the entities, eg: CRUD functions and others.</p>\n<p><strong>Proposal:</strong> Create a Generic interface with all common functions. then: creates an Abstract class that will implement this interface and override; why an Abstract because I want to prevent the paint of adding new functions to the parent interface and going through all the implemented cases.</p>\n<p><strong>Here is an example I implemented:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Project stucture.\nmain-project\n|-src\n   |--main\n       |-java\n          |-com.project\n               |-entities\n               |-repositories\n               |-service\n               |    |-implementation    \n               |-rest\n</code></pre>\n<p><strong>now</strong>\nWe all know what is inside entities, repositories and rest package, here is my service package implementation:</p>\n<p><strong>BaseCommonOperationInterface</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BaseCommonOperationInterface&lt;E, V&gt; {\n\n  E createItemOf(V requestDto);\n  E updateItemfrom(final Long identifier, V requestDto);\n  void deleteItem(final Long identifier);\n  Optional&lt;E&gt; findSingleRecordByIdentifier(Long skillDicCategoryId);\n  List&lt;E&gt; listAllItems();\n//more common function...\n}\n</code></pre>\n<p><strong>BusinessBaseAbstract</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>puiblic abstract class BusinessBaseAbstract&lt;E, V&gt; implements BaseCommonOperationInterface&lt;E, V&gt;{\n//Here override all methods from interface...\n @Override\n  public List&lt;E&gt; listAllItems() {\n    return Collections.emptyList();\n  }\n//...\n}\n</code></pre>\n<p><strong>DictionaryService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DictionaryService implement BaseCommonOperationInterface&lt;DictionaryEntity, DictionaryrequestDto&gt;{}\n</code></pre>\n<p><strong>DictionaryServiveImpl</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RequieredArgConstructor\n@Service\npublic class DictionaryServiveImpl extends BusinessBaseAbstract&lt;DictionaryEntity, DictionaryrequestDto&gt; implements DictionaryService{\nprivate final DictionaryRepository dictionaryRepository;\n\n//I can override eather single common function or all of them\n@override\npublic List&lt;DictionaryEntity&gt; listAllItems(){\n return dictionaryRepository.findAll()\n}\n// all the methods I need overrided here...\n}\n</code></pre>\n<p><strong>DictionaryController</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class DictionaryController{\n\nprivate final DictionaryService service;\n\n@GetMapping(&quot;/dictionary&quot;)\npublic List&lt;DictionarEntity&gt; getAllofThem(){\nreturn service.listAllItems();\n}\n//Here rest of implementations...\n}\n</code></pre>\n<p>Why no call the DictionaryRepository from the controller beacause we want to keep the Rest Controller clean as much as possible and delegate all business logic to Service package.</p>\n<p>Does this pattern make sense?\nare there advantages and disavantages?\nare there others pattern that I can apply to abstract common function?</p>\n"},{"tags":["java","algorithm","sorting","merge"],"answers":[{"comments":[{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1680226927,"post_id":75872491,"comment_id":133866522,"body_markdown":"You are correct I mixed up my data structures.  With Linked List is can be done in place, but arrays it&#39;ll be a copy.   I&#39;ve modified the answer to reflect that. Thanks for pointing that out.","body":"You are correct I mixed up my data structures.  With Linked List is can be done in place, but arrays it&#39;ll be a copy.   I&#39;ve modified the answer to reflect that. Thanks for pointing that out."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1680227866,"post_id":75872491,"comment_id":133866645,"body_markdown":"Ok :-) It can also be done with arrays, but as far as I know, the known ways to do that are inefficient so they&#39;re not typically used.","body":"Ok :-) It can also be done with arrays, but as far as I know, the known ways to do that are inefficient so they&#39;re not typically used."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1680228667,"post_id":75872491,"comment_id":133866720,"body_markdown":"There are ways to reduce all of the copying, but it&#39;s more complicated than the algorithm he&#39;s trying to get working so it was bad advice.","body":"There are ways to reduce all of the copying, but it&#39;s more complicated than the algorithm he&#39;s trying to get working so it was bad advice."}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680226544,"creation_date":1680055317,"answer_id":75872491,"question_id":75872104,"body_markdown":"The issue with the algorithm you wrote was that when it went to merge things the `numbers` List wasn&#39;t an empty List.  Therefore, calling `add` was expanding the numbers array with duplicates from `left` and `right`.  I&#39;d suggest calling `numbers.clear()` before you start the merging process, or use `List.set` to overwrite what number is at each location.  If you did something like this:\r\n\r\n```\r\nint i = 0, j = 0;\r\nfor( int k = 0; k &lt; numbers.size(); k++ ) {\r\n    if( j &lt; right.size() &amp;&amp; i &lt; left.size() ) {\r\n       if( left.get(i) &lt; right.get(j) ) {\r\n           numbers.set(k, left.get(i));\r\n           i++;\r\n       } else {\r\n           numbers.set(k, right.get(j));\r\n           j++;\r\n       }\r\n    } else if( i &lt; left.size() ) {\r\n       numbers.set( k, left.get(i) );\r\n       i++;\r\n    } else if( j &lt; right.size() ) {\r\n       numbers.set( k, right.get(j) );\r\n       j++;\r\n    }\r\n}\r\n```\r\n\r\nThat cleans it up a bit by making it happen in a single loop.\r\n\r\nWhen creating left and right here is a simple one line way to copy List:\r\n\r\n```\r\nList&lt;Integer&gt; left = new ArrayList&lt;&gt;( numbers.subList( 0, mid ) );\r\nList&lt;Integer&gt; right = new ArrayList&lt;&gt;( numbers.subList( mid, numbers.size() );\r\n```\r\n\r\nI&#39;d suggest printing out the array on each call of mergeSort so you can see what the algorithm is doing:\r\n\r\n```\r\npublic void printArray( List&lt;Integer&gt; arr ) {\r\n   System.out.print(&quot;[ &quot;);\r\n   boolean first = true;\r\n   for( Integer i : arr ) {\r\n      if( !first ) print(&quot;, &quot;)\r\n      System.out.print( i );\r\n      first = false;\r\n   }\r\n   System.out.println(&quot; ]&quot;);\r\n}\r\n```\r\n\r\nAlso understand the relation between `java.util.List` and `java.util.ArrayList`, and make effective use of `List` where you can (pretty much everywhere).  This isn&#39;t a merge sort thing, but an important step in understanding Java.\r\n\r\n  [1]: https://www.geeksforgeeks.org/arraylist-sublist-method-in-java-with-examples/","title":"Why is this merge sort algorithm in Java printing random output and not sorting the Arraylist?","body":"<p>The issue with the algorithm you wrote was that when it went to merge things the <code>numbers</code> List wasn't an empty List.  Therefore, calling <code>add</code> was expanding the numbers array with duplicates from <code>left</code> and <code>right</code>.  I'd suggest calling <code>numbers.clear()</code> before you start the merging process, or use <code>List.set</code> to overwrite what number is at each location.  If you did something like this:</p>\n<pre><code>int i = 0, j = 0;\nfor( int k = 0; k &lt; numbers.size(); k++ ) {\n    if( j &lt; right.size() &amp;&amp; i &lt; left.size() ) {\n       if( left.get(i) &lt; right.get(j) ) {\n           numbers.set(k, left.get(i));\n           i++;\n       } else {\n           numbers.set(k, right.get(j));\n           j++;\n       }\n    } else if( i &lt; left.size() ) {\n       numbers.set( k, left.get(i) );\n       i++;\n    } else if( j &lt; right.size() ) {\n       numbers.set( k, right.get(j) );\n       j++;\n    }\n}\n</code></pre>\n<p>That cleans it up a bit by making it happen in a single loop.</p>\n<p>When creating left and right here is a simple one line way to copy List:</p>\n<pre><code>List&lt;Integer&gt; left = new ArrayList&lt;&gt;( numbers.subList( 0, mid ) );\nList&lt;Integer&gt; right = new ArrayList&lt;&gt;( numbers.subList( mid, numbers.size() );\n</code></pre>\n<p>I'd suggest printing out the array on each call of mergeSort so you can see what the algorithm is doing:</p>\n<pre><code>public void printArray( List&lt;Integer&gt; arr ) {\n   System.out.print(&quot;[ &quot;);\n   boolean first = true;\n   for( Integer i : arr ) {\n      if( !first ) print(&quot;, &quot;)\n      System.out.print( i );\n      first = false;\n   }\n   System.out.println(&quot; ]&quot;);\n}\n</code></pre>\n<p>Also understand the relation between <code>java.util.List</code> and <code>java.util.ArrayList</code>, and make effective use of <code>List</code> where you can (pretty much everywhere).  This isn't a merge sort thing, but an important step in understanding Java.</p>\n"}],"owner":{"account_id":8309108,"reputation":11,"user_id":6244980,"display_name":"A Tong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680226544,"creation_date":1680049752,"question_id":75872104,"body_markdown":"I&#39;m trying to implement the merge sort algorithm in Java but keep getting random outputs possibly due to a recursion error. Below is the code which is causing the issue.\r\n\r\nThanks.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n\r\n    public class Merging {\r\n        private static ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        public static void main(String[] args) {\r\n            Collections.addAll(numbers,7,6,3,1,9,8);\r\n            mergeSort(numbers);\r\n            for (int x: numbers){\r\n                System.out.println(x);\r\n            }\r\n        }\r\n        public static void mergeSort(ArrayList&lt;Integer&gt; numbers){\r\n            // System.out.println(numbers.size());\r\n            if (numbers.size()&gt;1){\r\n                int mid = (numbers.size()%2==0 ? numbers.size()/2 : ((int)Math.floor(numbers.size()/2)));\r\n                //System.out.println(mid);\r\n                ArrayList&lt;Integer&gt; left=new ArrayList&lt;Integer&gt;();\r\n                ArrayList&lt;Integer&gt; right=new ArrayList&lt;Integer&gt;();\r\n                for (int i=0;i&lt;mid;i++){\r\n                    left.add(numbers.get(i));\r\n                }\r\n                for (int i=mid;i&lt;numbers.size();i++){\r\n                    right.add(numbers.get(i));\r\n                }\r\n                mergeSort(left);\r\n                mergeSort(right);\r\n                int i,j;\r\n                i=j=0;\r\n                while (i&lt;left.size() &amp;&amp; j&lt;right.size()){\r\n                    if (left.get(i)&lt;=right.get(j)){\r\n                        numbers.add(left.get(i));\r\n                        i+=1;\r\n                    }else{\r\n                        numbers.add(right.get(j));\r\n                        j+=1;\r\n                    }\r\n                }\r\n                while (i&lt;left.size()){\r\n                    numbers.add(left.get(i));\r\n                    i+=1;\r\n                }\r\n                while (j&lt;right.size()){\r\n                    numbers.add(right.get(j));\r\n                    j+=1;\r\n                }\r\n            }\r\n        }        \r\n    }`\r\n    \r\n\r\n\r\nI&#39;ve tried modifying the mid variable in a few ways and logged outputs but nothing has helped in solving it.","title":"Why is this merge sort algorithm in Java printing random output and not sorting the Arraylist?","body":"<p>I'm trying to implement the merge sort algorithm in Java but keep getting random outputs possibly due to a recursion error. Below is the code which is causing the issue.</p>\n<p>Thanks.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Merging {\n    private static ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    public static void main(String[] args) {\n        Collections.addAll(numbers,7,6,3,1,9,8);\n        mergeSort(numbers);\n        for (int x: numbers){\n            System.out.println(x);\n        }\n    }\n    public static void mergeSort(ArrayList&lt;Integer&gt; numbers){\n        // System.out.println(numbers.size());\n        if (numbers.size()&gt;1){\n            int mid = (numbers.size()%2==0 ? numbers.size()/2 : ((int)Math.floor(numbers.size()/2)));\n            //System.out.println(mid);\n            ArrayList&lt;Integer&gt; left=new ArrayList&lt;Integer&gt;();\n            ArrayList&lt;Integer&gt; right=new ArrayList&lt;Integer&gt;();\n            for (int i=0;i&lt;mid;i++){\n                left.add(numbers.get(i));\n            }\n            for (int i=mid;i&lt;numbers.size();i++){\n                right.add(numbers.get(i));\n            }\n            mergeSort(left);\n            mergeSort(right);\n            int i,j;\n            i=j=0;\n            while (i&lt;left.size() &amp;&amp; j&lt;right.size()){\n                if (left.get(i)&lt;=right.get(j)){\n                    numbers.add(left.get(i));\n                    i+=1;\n                }else{\n                    numbers.add(right.get(j));\n                    j+=1;\n                }\n            }\n            while (i&lt;left.size()){\n                numbers.add(left.get(i));\n                i+=1;\n            }\n            while (j&lt;right.size()){\n                numbers.add(right.get(j));\n                j+=1;\n            }\n        }\n    }        \n}`\n</code></pre>\n<p>I've tried modifying the mid variable in a few ways and logged outputs but nothing has helped in solving it.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680210399,"post_id":75892831,"comment_id":133864401,"body_markdown":"`exported` needs to be true for other apps to be able to successfully reach that activity.","body":"<code>exported</code> needs to be true for other apps to be able to successfully reach that activity."}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680226357,"creation_date":1680226357,"answer_id":75894160,"question_id":75892831,"body_markdown":"Use the below code with your package name to launch that app :\r\n\r\n    val launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.abc&quot;);\r\n    startActivity( launchIntent );","title":"Android - How to implicit intent from one app of my own to choose another 2 apps of my own?","body":"<p>Use the below code with your package name to launch that app :</p>\n<pre><code>val launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.abc&quot;);\nstartActivity( launchIntent );\n</code></pre>\n"}],"owner":{"account_id":25127662,"reputation":1,"user_id":18975285,"display_name":"Mostfa Mostfa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680226357,"creation_date":1680208878,"question_id":75892831,"body_markdown":"I have two apps of my own that are clone of each other just with different names. and a 3rd app that jumps between those two. by clicking on a button from 3rd app i wanna to open up app chooser and just between the 2 and jump immediately to 2nd activity not the main one. \r\n\r\n\r\n\r\nI added this intent filter to the original two apps so it jumps to the 2nd activity \r\n\r\n\r\n```\r\n&lt;activity\r\n            android:name=&quot;.MainActivity2&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\n\r\nThen on 3rd client app i added this to the button\r\n\r\n \r\n\r\n```\r\n findViewById&lt;Button&gt;(R.id.reg_btn).setOnClickListener {\r\n            val intent = Intent()\r\n           intent.setAction(&quot;com.action.ex3.register&quot;) // Action for what intent called for\r\n\r\n            startActivityForResult(intent,2)\r\n```\r\n\r\nnote: I know that startActivityforResult is deprecated, but the lecturer still wants this method","title":"Android - How to implicit intent from one app of my own to choose another 2 apps of my own?","body":"<p>I have two apps of my own that are clone of each other just with different names. and a 3rd app that jumps between those two. by clicking on a button from 3rd app i wanna to open up app chooser and just between the 2 and jump immediately to 2nd activity not the main one.</p>\n<p>I added this intent filter to the original two apps so it jumps to the 2nd activity</p>\n<pre><code>&lt;activity\n            android:name=&quot;.MainActivity2&quot;\n            android:exported=&quot;false&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>Then on 3rd client app i added this to the button</p>\n<pre><code> findViewById&lt;Button&gt;(R.id.reg_btn).setOnClickListener {\n            val intent = Intent()\n           intent.setAction(&quot;com.action.ex3.register&quot;) // Action for what intent called for\n\n            startActivityForResult(intent,2)\n</code></pre>\n<p>note: I know that startActivityforResult is deprecated, but the lecturer still wants this method</p>\n"},{"tags":["java","resources","jlink"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680210412,"post_id":75892330,"comment_id":133864405,"body_markdown":"Loading of directories is not supported for any Class.getResource* or ClassLoader.getResource* method.  The fact that it happened to work in one case does not mean it is behavior you can rely on.  The correct way to do this is to hard-code the list of known files, or generate a listing at build time and include the list file as another resource in your application.","body":"Loading of directories is not supported for any Class.getResource* or ClassLoader.getResource* method.  The fact that it happened to work in one case does not mean it is behavior you can rely on.  The correct way to do this is to hard-code the list of known files, or generate a listing at build time and include the list file as another resource in your application."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1680212080,"post_id":75892330,"comment_id":133864719,"body_markdown":"@VGR Is this documented anywhere? Many tools, such as Flyway, use a classpath-driven plugin mechanism. How would they replace something like this? https://flywaydb.org/documentation/concepts/migrations.html#discovery","body":"@VGR Is this documented anywhere? Many tools, such as Flyway, use a classpath-driven plugin mechanism. How would they replace something like this? <a href=\"https://flywaydb.org/documentation/concepts/migrations.html#discovery\" rel=\"nofollow noreferrer\">flywaydb.org/documentation/concepts/migrations.html#discover&zwnj;&#8203;y</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680229624,"post_id":75892330,"comment_id":133866811,"body_markdown":"You can use plugins.  In fact Java SE has its own class for that, java.util.ServiceLoader.  Finding resources on the classpath is fine.  Trying to list a *directory* of resources is not fine and should not be attempted.  I have never found documentation that outright forbids directories as resource paths, but it should be noted that most classpath entries are .jars, which have “directory entries” which are not actually listable directories, just zero-length archive entries whose names end with a slash. No getResource* method’s documentation specifies what content is returned for those entries.","body":"You can use plugins.  In fact Java SE has its own class for that, java.util.ServiceLoader.  Finding resources on the classpath is fine.  Trying to list a <i>directory</i> of resources is not fine and should not be attempted.  I have never found documentation that outright forbids directories as resource paths, but it should be noted that most classpath entries are .jars, which have “directory entries” which are not actually listable directories, just zero-length archive entries whose names end with a slash. No getResource* method’s documentation specifies what content is returned for those entries."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680230010,"post_id":75892330,"comment_id":133866847,"body_markdown":"Beware of third-party libraries that claim to list directories in a classpath. They usually rely on the assumption that every classpath entry is a local .jar file. But there’s a reason ClassLoader and URLClassLoader are separate classes—ClassLoaders do not have to make use of .jar files! Any library which assumes otherwise will eventually break when used with advanced class loaders—a current example being all the tools that depended on tools.jar in the JDK, which was never a guaranteed feature and now no longer exists. ‘Happens to work’ is not the same as ’guaranteed to work.’","body":"Beware of third-party libraries that claim to list directories in a classpath. They usually rely on the assumption that every classpath entry is a local .jar file. But there’s a reason ClassLoader and URLClassLoader are separate classes—ClassLoaders do not have to make use of .jar files! Any library which assumes otherwise will eventually break when used with advanced class loaders—a current example being all the tools that depended on tools.jar in the JDK, which was never a guaranteed feature and now no longer exists. ‘Happens to work’ is not the same as ’guaranteed to work.’"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1680322334,"post_id":75892330,"comment_id":133882999,"body_markdown":"@VGR The mechanism uncovered by ClassGraph looks bulletproof to me. The API explicitly covers listing all resources in a directory: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()","body":"@VGR The mechanism uncovered by ClassGraph looks bulletproof to me. The API explicitly covers listing all resources in a directory: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680350847,"post_id":75892330,"comment_id":133885768,"body_markdown":"That method doesn’t actually list a single directory;  it lists every resource and class file in the module, much like JarFile.stream() does.  You can use a filter to restrict the Stream to entries in a certain directory, which I suppose will work reliably, though it seems a bit inefficient since you have to skip over all the entries which aren’t in the desired directory.","body":"That method doesn’t actually list a single directory;  it lists every resource and class file in the module, much like JarFile.stream() does.  You can use a filter to restrict the Stream to entries in a certain directory, which I suppose will work reliably, though it seems a bit inefficient since you have to skip over all the entries which aren’t in the desired directory."}],"answers":[{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680225829,"creation_date":1680225829,"answer_id":75894133,"question_id":75892330,"body_markdown":"While it is still not clear why `ClassLoader.getResources(String)` behaves different inside `jlink` and out, ClassGraph provides a [mechanism](https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n) that works inside jlink as well.","title":"ClassLoader.getResources() works inside module-path, fails inside jlink","body":"<p>While it is still not clear why <code>ClassLoader.getResources(String)</code> behaves different inside <code>jlink</code> and out, ClassGraph provides a <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"nofollow noreferrer\">mechanism</a> that works inside jlink as well.</p>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680225829,"creation_date":1680205173,"question_id":75892330,"body_markdown":"In the following testcase, we execute `ClassLoader.getResources()` on the module path. When running outside `jlink`, the method returns one entry. When running inside `jlink` the method returns zero entries. Is this a JDK bug?\r\n\r\nYou can download the testcase from GitHub: https://github.com/cowwoc/jlink-testcase/\r\n\r\nAlternatively, you can recreate it by hand:\r\n\r\nsrc/main/java/module-info.java\r\n```\r\nmodule jlink.testcase {\r\n    opens database.migration;\r\n}\r\n```\r\n\r\nsrc/main/java/testcase/Main.java\r\n```\r\npackage testcase;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;URL&gt; resources = Collections.list(Main.class.getClassLoader().getResources(&quot;database/migration&quot;));\r\n        System.out.println(&quot;Found: &quot; + resources);\r\n    }\r\n}\r\n```\r\n\r\nsrc/main/resources/database/migration/V1__placeholder.sql (empty file)\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jlink-testcase&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                            &lt;mainClass&gt;testcase.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\ngood.bat\r\n```\r\n@echo off\r\njava -ea --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --module jlink.testcase\r\n```\r\n\r\nbad.bat\r\n```\r\n@echo off\r\n\r\nrd /s /q target\\jlink\r\nset JDK_JAVA_OPTIONS=-ea\r\njlink --add-modules jlink.testcase --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --output target\\jlink --launcher testcase=jlink.testcase\r\ntarget\\jlink\\bin\\java --module-path target\\jlink-resources-1.0-SNAPSHOT.jar --module jlink.testcase\r\n```","title":"ClassLoader.getResources() works inside module-path, fails inside jlink","body":"<p>In the following testcase, we execute <code>ClassLoader.getResources()</code> on the module path. When running outside <code>jlink</code>, the method returns one entry. When running inside <code>jlink</code> the method returns zero entries. Is this a JDK bug?</p>\n<p>You can download the testcase from GitHub: <a href=\"https://github.com/cowwoc/jlink-testcase/\" rel=\"nofollow noreferrer\">https://github.com/cowwoc/jlink-testcase/</a></p>\n<p>Alternatively, you can recreate it by hand:</p>\n<p>src/main/java/module-info.java</p>\n<pre><code>module jlink.testcase {\n    opens database.migration;\n}\n</code></pre>\n<p>src/main/java/testcase/Main.java</p>\n<pre><code>package testcase;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        List&lt;URL&gt; resources = Collections.list(Main.class.getClassLoader().getResources(&quot;database/migration&quot;));\n        System.out.println(&quot;Found: &quot; + resources);\n    }\n}\n</code></pre>\n<p>src/main/resources/database/migration/V1__placeholder.sql (empty file)</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jlink-testcase&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                            &lt;mainClass&gt;testcase.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>good.bat</p>\n<pre><code>@echo off\njava -ea --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --module jlink.testcase\n</code></pre>\n<p>bad.bat</p>\n<pre><code>@echo off\n\nrd /s /q target\\jlink\nset JDK_JAVA_OPTIONS=-ea\njlink --add-modules jlink.testcase --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --output target\\jlink --launcher testcase=jlink.testcase\ntarget\\jlink\\bin\\java --module-path target\\jlink-resources-1.0-SNAPSHOT.jar --module jlink.testcase\n</code></pre>\n"},{"tags":["java","string","date","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":12936775,"reputation":625,"user_id":9353852,"display_name":"Tuom"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1680225760,"creation_date":1585206550,"answer_id":60862399,"question_id":60836103,"body_markdown":"MapStruct takes care of `String` to `Date` conversions automatically. If you need to specify format of your date you can do it like this:\r\n```java\r\n@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd&quot;)\r\nDestination map(Source source);\r\n\r\n//For datetime\r\n@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\nDestination map(Source source);\r\n```\r\nWhere `target = &quot;date&quot;` is the name of your property.\r\nYou can find more about this in [MapStruct documentation](https://mapstruct.org/documentation/stable/reference/html/#datatype-conversions).","title":"How to Convert String to Date using MapStruct in Java?","body":"<p>MapStruct takes care of <code>String</code> to <code>Date</code> conversions automatically. If you need to specify format of your date you can do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd&quot;)\nDestination map(Source source);\n\n//For datetime\n@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\nDestination map(Source source);\n</code></pre>\n<p>Where <code>target = &quot;date&quot;</code> is the name of your property.\nYou can find more about this in <a href=\"https://mapstruct.org/documentation/stable/reference/html/#datatype-conversions\" rel=\"nofollow noreferrer\">MapStruct documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":2114210,"reputation":1539,"user_id":1878854,"accept_rate":78,"display_name":"Accollativo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657723914,"creation_date":1657723914,"answer_id":72968318,"question_id":60836103,"body_markdown":"[From the official guide][1], if you have multiple dates, you can use this: \r\n\r\n    public class DateMapper {\r\n    \r\n        public String asString(Date date) {\r\n            return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\r\n                .format( date ) : null;\r\n        }\r\n    \r\n        public Date asDate(String date) {\r\n            try {\r\n                return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\r\n                    .parse( date ) : null;\r\n            }\r\n            catch ( ParseException e ) {\r\n                throw new RuntimeException( e );\r\n            }\r\n        }\r\n    }\r\n\r\nAnd after in your mapper:\r\n\r\n    @Mapper(uses=DateMapper.class)\r\n    public interface CarMapper {\r\n    \r\n        CarDto carToCarDto(Car car);\r\n    }\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#invoking-other-mappers","title":"How to Convert String to Date using MapStruct in Java?","body":"<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/#invoking-other-mappers\" rel=\"nofollow noreferrer\">From the official guide</a>, if you have multiple dates, you can use this:</p>\n<pre><code>public class DateMapper {\n\n    public String asString(Date date) {\n        return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\n            .format( date ) : null;\n    }\n\n    public Date asDate(String date) {\n        try {\n            return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\n                .parse( date ) : null;\n        }\n        catch ( ParseException e ) {\n            throw new RuntimeException( e );\n        }\n    }\n}\n</code></pre>\n<p>And after in your mapper:</p>\n<pre><code>@Mapper(uses=DateMapper.class)\npublic interface CarMapper {\n\n    CarDto carToCarDto(Car car);\n}\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24854,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1680225760,"creation_date":1585070432,"question_id":60836103,"body_markdown":"I am using MapStruct to map values from a source to a target class. The source class has a String property and the target class has a java.util.Date property. The source property is like this: &quot;yyyy-mm-dd&quot;. And I want to convert this String property to a Date property. How can I do that using MapStruct? Thank you!","title":"How to Convert String to Date using MapStruct in Java?","body":"<p>I am using MapStruct to map values from a source to a target class. The source class has a String property and the target class has a java.util.Date property. The source property is like this: \"yyyy-mm-dd\". And I want to convert this String property to a Date property. How can I do that using MapStruct? Thank you!</p>\n"},{"tags":["java","url","java-11"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680231222,"post_id":75894002,"comment_id":133866986,"body_markdown":"Despite the name, URLDecoder is not for decoding URLs—it’s for decoding HTML form data submitted using the application/x-www-form-urlencoded format.  To decode a URL, using the [URI](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html) class.  (A URL is a type of URI.)  For example, `new URI(url).toURL()`","body":"Despite the name, URLDecoder is not for decoding URLs—it’s for decoding HTML form data submitted using the application/x-www-form-urlencoded format.  To decode a URL, using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">URI</a> class.  (A URL is a type of URI.)  For example, <code>new URI(url).toURL()</code>"}],"answers":[{"comments":[{"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"score":0,"creation_date":1680225278,"post_id":75894074,"comment_id":133866337,"body_markdown":"I think the issue is related to the Decoding","body":"I think the issue is related to the Decoding"}],"tags":[],"owner":{"account_id":12849113,"reputation":409,"user_id":9294564,"display_name":"josev.junior"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680224944,"creation_date":1680224944,"answer_id":75894074,"question_id":75894002,"body_markdown":"The `URL.getPath()` method does not include the query paramater as the result. You will need to access it separatelly.\r\n\r\nExample:\r\n\r\n```\r\nStringBuilder fullPath = new StringBuilder(url.getPath());\r\nif(url.getQuery() != null) {\r\n      fullPath.append(&quot;?&quot;).append(url.getQuery());\r\n}\r\n```","title":"Decoding a URL with valid query","body":"<p>The <code>URL.getPath()</code> method does not include the query paramater as the result. You will need to access it separatelly.</p>\n<p>Example:</p>\n<pre><code>StringBuilder fullPath = new StringBuilder(url.getPath());\nif(url.getQuery() != null) {\n      fullPath.append(&quot;?&quot;).append(url.getQuery());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7353793,"reputation":50,"user_id":5599126,"display_name":"halfdark"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680225356,"creation_date":1680225356,"answer_id":75894105,"question_id":75894002,"body_markdown":"First of all, when I run your code locally, I got exception with ```java.net.MalformedURLException: no protocol```\r\n\r\nThen I add `https://` to the example url.\r\n\r\nFinally I got the right result, the diff of codes is the charset param\r\nso I think maybe it&#39;s the wrong import of URLDecoder class?\r\n\r\n```java\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLDecoder;\r\n\r\n\r\npublic void test() throws Exception{\r\n        System.out.println(decodeURL(&quot;https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask&quot; +\r\n                &quot;%5EORtableISEMPTY&quot;));\r\n    }\r\n\r\n    public URL decodeURL(String url) {\r\n        try {\r\n            return new URL(URLDecoder.decode(url, &quot;UTF-8&quot;));\r\n        } catch (MalformedURLException e) {\r\n            throw new IllegalArgumentException(e.getMessage());\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n```\r\n\r\nconsole log follows:\r\n\r\n    https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY","title":"Decoding a URL with valid query","body":"<p>First of all, when I run your code locally, I got exception with <code>java.net.MalformedURLException: no protocol</code></p>\n<p>Then I add <code>https://</code> to the example url.</p>\n<p>Finally I got the right result, the diff of codes is the charset param\nso I think maybe it's the wrong import of URLDecoder class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.UnsupportedEncodingException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLDecoder;\n\n\npublic void test() throws Exception{\n        System.out.println(decodeURL(&quot;https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask&quot; +\n                &quot;%5EORtableISEMPTY&quot;));\n    }\n\n    public URL decodeURL(String url) {\n        try {\n            return new URL(URLDecoder.decode(url, &quot;UTF-8&quot;));\n        } catch (MalformedURLException e) {\n            throw new IllegalArgumentException(e.getMessage());\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n</code></pre>\n<p>console log follows:</p>\n<pre><code>https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY\n</code></pre>\n"}],"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680225738,"creation_date":1680224001,"question_id":75894002,"body_markdown":"I have the following code snippet that decodes URLs in Java:\r\n\r\n    public URL decodeURL(String url) {\r\n        try {\r\n        \treturn new URL(URLDecoder.decode(url, StandardCharsets.UTF_8));\r\n        } catch (MalformedURLException e) {\r\n        \tthrow new IllegalArgumentException(e.getMessage());\r\n        }\r\n    }\r\n\r\nSo for the following URL `&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask%5EORtableISEMPTY&quot;` I&#39;m supposed to get `&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY&quot;` but I&#39;m getting `&quot;/path/to/testurl/encoding&quot;`. \r\n\r\nHow can I get the correct result? ","title":"Decoding a URL with valid query","body":"<p>I have the following code snippet that decodes URLs in Java:</p>\n<pre><code>public URL decodeURL(String url) {\n    try {\n        return new URL(URLDecoder.decode(url, StandardCharsets.UTF_8));\n    } catch (MalformedURLException e) {\n        throw new IllegalArgumentException(e.getMessage());\n    }\n}\n</code></pre>\n<p>So for the following URL <code>&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask%5EORtableISEMPTY&quot;</code> I'm supposed to get <code>&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY&quot;</code> but I'm getting <code>&quot;/path/to/testurl/encoding&quot;</code>.</p>\n<p>How can I get the correct result?</p>\n"},{"tags":["java","eclipse","maven","build","spring-validation"],"answers":[{"comments":[{"owner":{"account_id":6965528,"reputation":635,"user_id":5343692,"display_name":"JovanToroman"},"score":0,"creation_date":1680960372,"post_id":75894029,"comment_id":133984252,"body_markdown":"Can you share the steps for changing this setting in Eclipse config?","body":"Can you share the steps for changing this setting in Eclipse config?"}],"tags":[],"owner":{"account_id":12249238,"reputation":31,"user_id":8940101,"display_name":"sponsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680224418,"creation_date":1680224418,"answer_id":75894029,"question_id":75881831,"body_markdown":"I discovered that Eclipse sometimes has a default setting in the build options that excludes the resources folder.  It&#39;s already been answered[in this thread][1]. I just didn&#39;t know what kind of problem I was looking at, but once I found this solution it ended up being the right one for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3846354/files-in-src-main-resources-not-copied-when-using-maven-and-eclipse","title":"Eclipse (Maven) Changes not being compiled/built by auto-reloader","body":"<p>I discovered that Eclipse sometimes has a default setting in the build options that excludes the resources folder.  It's already been answered<a href=\"https://stackoverflow.com/questions/3846354/files-in-src-main-resources-not-copied-when-using-maven-and-eclipse\">in this thread</a>. I just didn't know what kind of problem I was looking at, but once I found this solution it ended up being the right one for me.</p>\n"}],"owner":{"account_id":12249238,"reputation":31,"user_id":8940101,"display_name":"sponsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680224418,"creation_date":1680121204,"question_id":75881831,"body_markdown":"I have the automatic reload enabled in Eclipse with the Maven project I&#39;m currently working on.  I&#39;ve noticed that changes to the application.properties file almost never trigger an automatic reload, and when it does, it appears totally random. However, I&#39;ve noticed that sometimes changes to a .jsp file aren&#39;t getting pulled into the project somehow.  I actually ended up chasing a bug for the better part of an hour trying to figure out what it was from the dump on the webpage, only to find out that somehow Eclipse or Maven was not loading the most recent version of either the JSP file, or the class associated with it.  \r\n\r\nTo fix the application.properties issue, i have to run a **Run as =&gt; Maven Install** every single time. I just happened to run it again as I was poking around trying to bugfix, and running Maven Install fixed the error I had in my webpage (It was a ModelAttributeMethodProcessor error). Is there some sort of configuration issue in how my project is building or something? That&#39;s the only thing I can think of, but honestly I&#39;m not that familiar with Eclipse/Maven to really know.  Thanks!","title":"Eclipse (Maven) Changes not being compiled/built by auto-reloader","body":"<p>I have the automatic reload enabled in Eclipse with the Maven project I'm currently working on.  I've noticed that changes to the application.properties file almost never trigger an automatic reload, and when it does, it appears totally random. However, I've noticed that sometimes changes to a .jsp file aren't getting pulled into the project somehow.  I actually ended up chasing a bug for the better part of an hour trying to figure out what it was from the dump on the webpage, only to find out that somehow Eclipse or Maven was not loading the most recent version of either the JSP file, or the class associated with it.</p>\n<p>To fix the application.properties issue, i have to run a <strong>Run as =&gt; Maven Install</strong> every single time. I just happened to run it again as I was poking around trying to bugfix, and running Maven Install fixed the error I had in my webpage (It was a ModelAttributeMethodProcessor error). Is there some sort of configuration issue in how my project is building or something? That's the only thing I can think of, but honestly I'm not that familiar with Eclipse/Maven to really know.  Thanks!</p>\n"},{"tags":["java","android","react-native","azure-devops"],"comments":[{"owner":{"account_id":16244454,"reputation":290,"user_id":11729971,"display_name":"Stefani Toto"},"score":0,"creation_date":1680113708,"post_id":75880724,"comment_id":133844060,"body_markdown":"Is JAVA_HOME  pointing correctly ? Maybe you have several versions installed ?","body":"Is JAVA_HOME  pointing correctly ? Maybe you have several versions installed ?"},{"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"score":0,"creation_date":1680114324,"post_id":75880724,"comment_id":133844207,"body_markdown":"As far as I&#39;m aware?  ```me@MYMAC~ % echo $JAVA_HOME \n/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home```","body":"As far as I&#39;m aware?  <code>me@MYMAC~ % echo $JAVA_HOME  &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;zulu-11.jdk&#47;Contents&#47;Home</code>"}],"answers":[{"tags":[],"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680223406,"creation_date":1680223406,"answer_id":75893975,"question_id":75880724,"body_markdown":"This is strictly a Azure Pipeline Issue. \r\n\r\nThere is a Java tool installer plugin that wasnt being leveraged.\r\n\r\nAdded YAML as follows:\r\n```steps:\r\n- task: JavaToolInstaller@0\r\n  displayName: &#39;Use Java 11&#39;\r\n  inputs:\r\n    versionSpec: 11\r\n    jdkArchitectureOption: x64\r\n    jdkSourceOption: PreInstalled\r\n","title":"Upgrading from React Native .67.5 to .68.6 - Android Bundle Release failing Java 1.8 vs 1.11","body":"<p>This is strictly a Azure Pipeline Issue.</p>\n<p>There is a Java tool installer plugin that wasnt being leveraged.</p>\n<p>Added YAML as follows:</p>\n<pre><code>- task: JavaToolInstaller@0\n  displayName: 'Use Java 11'\n  inputs:\n    versionSpec: 11\n    jdkArchitectureOption: x64\n    jdkSourceOption: PreInstalled\n</code></pre>\n"}],"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75893975,"answer_count":1,"score":0,"last_activity_date":1680223406,"creation_date":1680113421,"question_id":75880724,"body_markdown":"I&#39;ve upgraded using the React Native Upgrade Helper - Android app is building locally, but failing in pipeline with with cd android\r\n./gradlew bundleRelease\r\n\r\nI have 1.11 java installed locally. Android Studio gradle also pointed to 1.11\r\n\r\n\r\n\r\n ```Task :react-native-gradle-plugin:compileJava\r\nNote: /Users/runner/work/1/s/node_modules/react-native-gradle-plugin/src/main/java/com/facebook/react/codegen/generator/SchemaJsonParser.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n&gt; Task :react-native-gradle-plugin:pluginDescriptors\r\n&gt; Task :react-native-gradle-plugin:processResources\r\n&gt; Task :react-native-gradle-plugin:classes\r\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC\r\n&gt; Task :react-native-gradle-plugin:jar\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/Users/runner/work/1/s/android/app/build.gradle&#39; line: 1\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n     You can try some of the following options:\r\n       - changing the IDE settings.\r\n       - changing the JAVA_HOME environment variable.\r\n       - changing `org.gradle.java.home` in `gradle.properties`.```","title":"Upgrading from React Native .67.5 to .68.6 - Android Bundle Release failing Java 1.8 vs 1.11","body":"<p>I've upgraded using the React Native Upgrade Helper - Android app is building locally, but failing in pipeline with with cd android\n./gradlew bundleRelease</p>\n<p>I have 1.11 java installed locally. Android Studio gradle also pointed to 1.11</p>\n<pre><code>Note: /Users/runner/work/1/s/node_modules/react-native-gradle-plugin/src/main/java/com/facebook/react/codegen/generator/SchemaJsonParser.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n&gt; Task :react-native-gradle-plugin:pluginDescriptors\n&gt; Task :react-native-gradle-plugin:processResources\n&gt; Task :react-native-gradle-plugin:classes\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC\n&gt; Task :react-native-gradle-plugin:jar\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/runner/work/1/s/android/app/build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n  &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n    You can try some of the following options:\n      - changing the IDE settings.\n      - changing the JAVA_HOME environment variable.\n      - changing `org.gradle.java.home` in `gradle.properties`.```\n</code></pre>\n"},{"tags":["java","amazon-web-services","unit-testing","secret-manager"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1595011325,"post_id":62959838,"comment_id":111337928,"body_markdown":"I don&#39;t see any use of &quot;Mockito and EasyMock&quot; in the code you posted.","body":"I don&#39;t see any use of &quot;Mockito and EasyMock&quot; in the code you posted."},{"owner":{"account_id":3885544,"reputation":43,"user_id":3217014,"display_name":"user3217014"},"score":0,"creation_date":1595011581,"post_id":62959838,"comment_id":111337998,"body_markdown":"@Mark B, When I write unit test for the method that is calling this code, it is throwing the above exception, that is the reason to post this question","body":"@Mark B, When I write unit test for the method that is calling this code, it is throwing the above exception, that is the reason to post this question"}],"answers":[{"tags":[],"owner":{"account_id":28131350,"reputation":1,"user_id":21495834,"display_name":"king05"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680222407,"creation_date":1679854990,"answer_id":75849723,"question_id":62959838,"body_markdown":"You are creating an instance of `GetSecretValueRequest` instead of creating a mock for it. \r\n\r\nYour test is trying to communicate with the real object thereby asking for your AWS credentials.","title":"unit testing AWS secret manager java","body":"<p>You are creating an instance of <code>GetSecretValueRequest</code> instead of creating a mock for it.</p>\n<p>Your test is trying to communicate with the real object thereby asking for your AWS credentials.</p>\n"}],"owner":{"account_id":3885544,"reputation":43,"user_id":3217014,"display_name":"user3217014"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680222407,"creation_date":1595010420,"question_id":62959838,"body_markdown":"I need to unit test AWS secret manager that is in Java and am using Mockito and EasyMock to do that and whenever I call client.getSecretValue(), it is trowing the exception\r\n**Code to be tested** \r\n\r\n    AWSSecretsManagerClient client =\r\n                (AWSSecretsManagerClient) \r\n    AWSSecretsManagerClientBuilder.standard().withRegion(region).build();\r\n\r\n        String secret = null, decodedBinarySecret = null;\r\n        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest().withSecretId(secretName);\r\n        GetSecretValueResult getSecretValueResult = null;\r\n        AWSSecrets awsSecrets = null;\r\n        try {\r\n            getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n        } catch (DecryptionFailureException e) {\r\n\r\n**Exception**\r\n\r\n```\r\n &quot;com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)), SystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey), com.amazonaws.auth.profile.ProfileCredentialsProvider@28ce75ec: Unable to load credentials into profile [default]: AWS Access Key ID is not specified., WebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path., com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@4db728df: Unable to load credentials from service endpoint]&quot;.\r\n```\r\nCan anybody help me with this?","title":"unit testing AWS secret manager java","body":"<p>I need to unit test AWS secret manager that is in Java and am using Mockito and EasyMock to do that and whenever I call client.getSecretValue(), it is trowing the exception\n<strong>Code to be tested</strong></p>\n<pre><code>AWSSecretsManagerClient client =\n            (AWSSecretsManagerClient) \nAWSSecretsManagerClientBuilder.standard().withRegion(region).build();\n\n    String secret = null, decodedBinarySecret = null;\n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest().withSecretId(secretName);\n    GetSecretValueResult getSecretValueResult = null;\n    AWSSecrets awsSecrets = null;\n    try {\n        getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n    } catch (DecryptionFailureException e) {\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code> &quot;com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)), SystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey), com.amazonaws.auth.profile.ProfileCredentialsProvider@28ce75ec: Unable to load credentials into profile [default]: AWS Access Key ID is not specified., WebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path., com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@4db728df: Unable to load credentials from service endpoint]&quot;.\n</code></pre>\n<p>Can anybody help me with this?</p>\n"},{"tags":["java","jenkins","java-12"],"answers":[{"tags":[],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1554512806,"creation_date":1554483744,"answer_id":55540294,"question_id":55540287,"body_markdown":"The tar file has a directory called jdk-12 inside it, so when Jenkins extracts it, the named jdk folder is not the direct parent of the bin directory.\r\n\r\n`/var/jenkins_home/tools/hudson.model.JDK/Java12/jdk-12/bin`\r\n\r\nshould be\r\n\r\n`/var/jenkins_home/tools/hudson.model.JDK/Java12/bin`\r\n\r\nTo fix this, extract the tar file, go into the jdk-12 folder, `tar czf openjdk-12_linux-x64_bin.tar.gz *`, upload it somewhere accessible to Jenkins and put the URL in the &quot;Download URL for binary archive&quot; field in the Global Tool Configuration-&gt;JDK installations... installer.","title":"Jenkins failure Java 12 OpenJDK - The JAVA_HOME environment variable is not defined correctly","body":"<p>The tar file has a directory called jdk-12 inside it, so when Jenkins extracts it, the named jdk folder is not the direct parent of the bin directory.</p>\n\n<p><code>/var/jenkins_home/tools/hudson.model.JDK/Java12/jdk-12/bin</code></p>\n\n<p>should be</p>\n\n<p><code>/var/jenkins_home/tools/hudson.model.JDK/Java12/bin</code></p>\n\n<p>To fix this, extract the tar file, go into the jdk-12 folder, <code>tar czf openjdk-12_linux-x64_bin.tar.gz *</code>, upload it somewhere accessible to Jenkins and put the URL in the \"Download URL for binary archive\" field in the Global Tool Configuration->JDK installations... installer.</p>\n"},{"comments":[{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":1,"creation_date":1680217545,"post_id":75893542,"comment_id":133865558,"body_markdown":"IIRC this was added in a later version of Jenkins than the 2.121.3 specified. Can you confirm what version you&#39;re using?","body":"IIRC this was added in a later version of Jenkins than the 2.121.3 specified. Can you confirm what version you&#39;re using?"},{"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"score":0,"creation_date":1680217772,"post_id":75893542,"comment_id":133865581,"body_markdown":"@RobertBain Yes, it probably was.  We have Jenkins 2.375.1.","body":"@RobertBain Yes, it probably was.  We have Jenkins 2.375.1."}],"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680221953,"creation_date":1680216449,"answer_id":75893542,"question_id":55540287,"body_markdown":"As [Robert Bain][1] states, it is because there is a sub folder in the JDK archive.\r\n\r\nUsing more recent versions of Jenkins (2.375.1 in this instance), you can specify this sub folder in the Jenkins setup in the &quot;Subdirectory of extracted archive&quot; option.  Eg:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55540294/418057\r\n  [2]: https://i.stack.imgur.com/aaARv.png","title":"Jenkins failure Java 12 OpenJDK - The JAVA_HOME environment variable is not defined correctly","body":"<p>As <a href=\"https://stackoverflow.com/a/55540294/418057\">Robert Bain</a> states, it is because there is a sub folder in the JDK archive.</p>\n<p>Using more recent versions of Jenkins (2.375.1 in this instance), you can specify this sub folder in the Jenkins setup in the &quot;Subdirectory of extracted archive&quot; option.  Eg:</p>\n<p><a href=\"https://i.stack.imgur.com/aaARv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aaARv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55540294,"answer_count":2,"score":2,"last_activity_date":1680221953,"creation_date":1554483701,"question_id":55540287,"body_markdown":"Configuring Jenkins (2.121.3) to use [JDK 12][1] in the Global Tool Configuration-&gt;JDK installations... menu using &quot;Download URL for binary archive&quot; produces the following error when performing a build:\r\n\r\n    The JAVA_HOME environment variable is not defined correctly\r\n    This environment variable is needed to run this program\r\n    NB: JAVA_HOME should point to a JDK not a JRE\r\n    Build step &#39;Invoke top-level Maven targets&#39; marked build as failure\r\n    Finished: FAILURE\r\n\r\nHow can I resolve this issue?\r\n\r\n  [1]: https://download.java.net/java/GA/jdk12/GPL/openjdk-12_linux-x64_bin.tar.gz","title":"Jenkins failure Java 12 OpenJDK - The JAVA_HOME environment variable is not defined correctly","body":"<p>Configuring Jenkins (2.121.3) to use <a href=\"https://download.java.net/java/GA/jdk12/GPL/openjdk-12_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">JDK 12</a> in the Global Tool Configuration->JDK installations... menu using \"Download URL for binary archive\" produces the following error when performing a build:</p>\n\n<pre><code>The JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\nBuild step 'Invoke top-level Maven targets' marked build as failure\nFinished: FAILURE\n</code></pre>\n\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","android","xamarin","xamarin.android","uri"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1437562070,"post_id":31560803,"comment_id":51077712,"body_markdown":"for android http://developer.android.com/reference/android/net/Uri.html","body":"for android <a href=\"http://developer.android.com/reference/android/net/Uri.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/net/Uri.html</a>"},{"owner":{"account_id":4745411,"reputation":29,"user_id":3836909,"accept_rate":20,"display_name":"mayyo"},"score":0,"creation_date":1437562131,"post_id":31560803,"comment_id":51077754,"body_markdown":"similar question and answer here :\r\n\r\nhttp://stackoverflow.com/questions/12649530/convert-java-net-uri-to-android-net-uri","body":"similar question and answer here :    <a href=\"http://stackoverflow.com/questions/12649530/convert-java-net-uri-to-android-net-uri\" title=\"convert java net uri to android net uri\">stackoverflow.com/questions/12649530/&hellip;</a>"},{"owner":{"account_id":3578311,"reputation":18342,"user_id":2987066,"accept_rate":96,"display_name":"JKennedy"},"score":3,"creation_date":1437562228,"post_id":31560803,"comment_id":51077818,"body_markdown":"@mayyo I don&#39;t see how that question is related? It talks about converting between the two not what the difference is / When they should be used","body":"@mayyo I don&#39;t see how that question is related? It talks about converting between the two not what the difference is / When they should be used"}],"answers":[{"tags":[],"owner":{"account_id":153257,"reputation":24181,"user_id":368379,"accept_rate":89,"display_name":"Cheesebaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1437657120,"creation_date":1437656613,"answer_id":31588179,"question_id":31560803,"body_markdown":"The difference is that `Android.Net.Uri` is Google&#39;s own implementation of RFC 2396.\r\n\r\n`Android.Net.Uri` is immutable, hence it is thread-safe. Their implementation is also, according to the [comments in the source][1], more forgiving. So while `Java.Net.Uri` would throw an `Exception` you attempt to use a garbage Uri, the Android implementation would just return you a Uri with that garbage.\r\n\r\nAs far as I can tell, `Android.Net.Uri` will only throw NullPointerException and seemingly no other exceptions. While the `Java.Net.Uri` implementation will throw other exceptions such as `URISyntaxException` and `IllegalArgumentException`\r\n\r\nOtherwise they seem very similar.\r\n\r\nThe Uri you get `file:/sdcard/MyFolder/MyFile.txt` is valid, and when throwing it through `java.net.URI` I get following:\r\n\r\n    java&gt; String uri = &quot;file:/sdcard/MyFolder/MyFile.txt&quot;;\r\n    java&gt; import java.net.*\r\n    java&gt; URI urr = new URI(uri);\r\n    java.net.URI urr = file:/sdcard/MyFolder/MyFile.txt\r\n    java&gt; urr.getScheme();\r\n    java.lang.String res2 = &quot;file&quot;\r\n    java&gt; urr.getPath();\r\n    java.lang.String res3 = &quot;/sdcard/MyFolder/MyFile.txt&quot;\r\n\r\n\r\n[1]: http://grepcode.com/file/repo1.maven.org/maven2/org.robolectric/android-all/5.0.0_r2-robolectric-1/android/net/Uri.java/","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>The difference is that <code>Android.Net.Uri</code> is Google's own implementation of RFC 2396.</p>\n\n<p><code>Android.Net.Uri</code> is immutable, hence it is thread-safe. Their implementation is also, according to the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.robolectric/android-all/5.0.0_r2-robolectric-1/android/net/Uri.java/\" rel=\"noreferrer\">comments in the source</a>, more forgiving. So while <code>Java.Net.Uri</code> would throw an <code>Exception</code> you attempt to use a garbage Uri, the Android implementation would just return you a Uri with that garbage.</p>\n\n<p>As far as I can tell, <code>Android.Net.Uri</code> will only throw NullPointerException and seemingly no other exceptions. While the <code>Java.Net.Uri</code> implementation will throw other exceptions such as <code>URISyntaxException</code> and <code>IllegalArgumentException</code></p>\n\n<p>Otherwise they seem very similar.</p>\n\n<p>The Uri you get <code>file:/sdcard/MyFolder/MyFile.txt</code> is valid, and when throwing it through <code>java.net.URI</code> I get following:</p>\n\n<pre><code>java&gt; String uri = \"file:/sdcard/MyFolder/MyFile.txt\";\njava&gt; import java.net.*\njava&gt; URI urr = new URI(uri);\njava.net.URI urr = file:/sdcard/MyFolder/MyFile.txt\njava&gt; urr.getScheme();\njava.lang.String res2 = \"file\"\njava&gt; urr.getPath();\njava.lang.String res3 = \"/sdcard/MyFolder/MyFile.txt\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331450,"reputation":4555,"user_id":656132,"accept_rate":38,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1492788243,"creation_date":1492788243,"answer_id":43546500,"question_id":31560803,"body_markdown":"Here is one practical difference:\r\n\r\njava.net.uri supports IPv4 and IPv6 addresses whereas [android.net.uri only support IPv4](https://ctrl.blog/entry/android-uri-ipv6).","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>Here is one practical difference:</p>\n\n<p>java.net.uri supports IPv4 and IPv6 addresses whereas <a href=\"https://ctrl.blog/entry/android-uri-ipv6\" rel=\"noreferrer\">android.net.uri only support IPv4</a>.</p>\n"},{"tags":[],"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680220527,"creation_date":1680220527,"answer_id":75893790,"question_id":31560803,"body_markdown":"Another difference:\r\n\r\n- `android.net.Uri` has [`getQueryParameter(String)`](https://developer.android.com/reference/android/net/Uri#getQueryParameter(java.lang.String)) (and a few related methods) to get separate query parameters.\r\n- `java.net.URI` only has [`getRawQuery()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getRawQuery()) and [`getQuery()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getQuery()). These methods return the whole query string, e.g. `foo=1&amp;bar=2`.\r\n\r\nSo if you need to access separate query parameters, `android.net.Uri` may be more convenient.","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>Another difference:</p>\n<ul>\n<li><code>android.net.Uri</code> has <a href=\"https://developer.android.com/reference/android/net/Uri#getQueryParameter(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getQueryParameter(String)</code></a> (and a few related methods) to get separate query parameters.</li>\n<li><code>java.net.URI</code> only has <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getRawQuery()\" rel=\"nofollow noreferrer\"><code>getRawQuery()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getQuery()\" rel=\"nofollow noreferrer\"><code>getQuery()</code></a>. These methods return the whole query string, e.g. <code>foo=1&amp;bar=2</code>.</li>\n</ul>\n<p>So if you need to access separate query parameters, <code>android.net.Uri</code> may be more convenient.</p>\n"}],"owner":{"account_id":3578311,"reputation":18342,"user_id":2987066,"accept_rate":96,"display_name":"JKennedy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9272,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":31588179,"answer_count":3,"score":48,"last_activity_date":1680220527,"creation_date":1437561710,"question_id":31560803,"body_markdown":"I am trying to get a `Uri` from a `file` object like so:\r\n\r\n    File file = new File(&quot;/sdcard/MyFolder/MyFile.txt&quot;);\r\n    var androidUri = Android.Net.Uri.FromFile(file).ToString();\r\n    var javaUri = file.ToURI().ToString();\r\n\r\nthis returns the following values:\r\n\r\n    androidUri = &quot;file:///sdcard/MyFolder/MyFile.txt&quot;\r\n    javaUri = &quot;file:/sdcard/MyFolder/MyFile.txt&quot;\r\n\r\nso my question is whats the difference between the `Java.Net.Uri` and `Android.Net.Uri` are these two values supposed to be different? When should they be used?\r\n\r\n**Update**\r\n\r\nI found the two documentation pages [Java.Net.Uri][1] and [Android.Net.Uri][2] and both say:\r\n\r\n&gt; Builds and parses URI references which conform to [RFC 2396][3].\r\n\r\nTherefore surely this is a bug and they should return the same string?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/net/URI.html\r\n  [2]: http://developer.android.com/reference/android/net/Uri.html\r\n  [3]: http://www.faqs.org/rfcs/rfc2396.html","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>I am trying to get a <code>Uri</code> from a <code>file</code> object like so:</p>\n\n<pre><code>File file = new File(\"/sdcard/MyFolder/MyFile.txt\");\nvar androidUri = Android.Net.Uri.FromFile(file).ToString();\nvar javaUri = file.ToURI().ToString();\n</code></pre>\n\n<p>this returns the following values:</p>\n\n<pre><code>androidUri = \"file:///sdcard/MyFolder/MyFile.txt\"\njavaUri = \"file:/sdcard/MyFolder/MyFile.txt\"\n</code></pre>\n\n<p>so my question is whats the difference between the <code>Java.Net.Uri</code> and <code>Android.Net.Uri</code> are these two values supposed to be different? When should they be used?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I found the two documentation pages <a href=\"http://developer.android.com/reference/java/net/URI.html\" rel=\"noreferrer\">Java.Net.Uri</a> and <a href=\"http://developer.android.com/reference/android/net/Uri.html\" rel=\"noreferrer\">Android.Net.Uri</a> and both say:</p>\n\n<blockquote>\n  <p>Builds and parses URI references which conform to <a href=\"http://www.faqs.org/rfcs/rfc2396.html\" rel=\"noreferrer\">RFC 2396</a>.</p>\n</blockquote>\n\n<p>Therefore surely this is a bug and they should return the same string?</p>\n"},{"tags":["java","spring","spring-boot","backend"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680219306,"post_id":75893705,"comment_id":133865734,"body_markdown":"If you&#39;re expecting a list, the empty JSON should be `[]`.","body":"If you&#39;re expecting a list, the empty JSON should be <code>[]</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680219686,"post_id":75893705,"comment_id":133865770,"body_markdown":"What do you want to happen? Possibly related: [How to tell Jackson to ignore empty object during deserialization?](https://stackoverflow.com/q/40366524/12567365).","body":"What do you want to happen? Possibly related: <a href=\"https://stackoverflow.com/q/40366524/12567365\">How to tell Jackson to ignore empty object during deserialization?</a>."}],"owner":{"account_id":8647787,"reputation":29,"user_id":6474497,"display_name":"BDehylz Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680218963,"creation_date":1680218963,"question_id":75893705,"body_markdown":"how do I handle a submission of a supposedly empty JSON, this way ==&gt; {} ? I can&#39;t catch this error. It does not appear as null or as empty.\r\n\r\nI have been getting this error message: &quot;JSON parse error: Cannot deserialize value of type&quot;&quot; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException&quot; \r\n\r\nThis JASON goes to a &quot;List&quot; ","title":"Treatment for sending a supposedly empty json","body":"<p>how do I handle a submission of a supposedly empty JSON, this way ==&gt; {} ? I can't catch this error. It does not appear as null or as empty.</p>\n<p>I have been getting this error message: &quot;JSON parse error: Cannot deserialize value of type&quot;&quot; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException&quot;</p>\n<p>This JASON goes to a &quot;List&quot;</p>\n"},{"tags":["java","json","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1627327336,"post_id":68532105,"comment_id":121122066,"body_markdown":"1) Why are you consuming strings and not using ByteArrayDeserializer? 2) `DecoderFactory` wont work with Confluent serialized Avro messages","body":"1) Why are you consuming strings and not using ByteArrayDeserializer? 2) <code>DecoderFactory</code> wont work with Confluent serialized Avro messages"},{"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"score":0,"creation_date":1627354037,"post_id":68532105,"comment_id":121127400,"body_markdown":"@OneCricketeer I changed it to ByteArrayDeserializer and now I am getting it as byte[]. the code looks as below.\n\nBut as you mentioned in point 2, DecoderFactory wont work, can you help me in how can I change my avroToJson function?\n\n\n\n\n\n@KafkaListener(topics = &quot;#{&#39;${kafka.consumer.topics}&#39;.split(&#39;,&#39;)}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n\tvoid listener(byte[] message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {","body":"@OneCricketeer I changed it to ByteArrayDeserializer and now I am getting it as byte[]. the code looks as below.  But as you mentioned in point 2, DecoderFactory wont work, can you help me in how can I change my avroToJson function?      @KafkaListener(topics = &quot;#{&#39;${kafka.consumer.topics}&#39;.split(&#39;,&#39;)}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;) \tvoid listener(byte[] message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {"},{"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"score":0,"creation_date":1627355791,"post_id":68532105,"comment_id":121127705,"body_markdown":"Also, when using ByteArrayDeserializer to read data as byte array, its reading same as when i try doing message.getBytes() in my earlier code;","body":"Also, when using ByteArrayDeserializer to read data as byte array, its reading same as when i try doing message.getBytes() in my earlier code;"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1627396031,"post_id":68532105,"comment_id":121141860,"body_markdown":"My point is that you don&#39;t need `.getBytes()` if you already receive `byte[]`. You need to manually parse out the byte array where the raw avro data exists. https://docs.confluent.io/platform/current/schema-registry/serdes-develop/index.html#wire-format Or you can consume the data using KafkaAvroDeserializer into GenericRecord objects, which `toString` method is JSON-like","body":"My point is that you don&#39;t need <code>.getBytes()</code> if you already receive <code>byte[]</code>. You need to manually parse out the byte array where the raw avro data exists. <a href=\"https://docs.confluent.io/platform/current/schema-registry/serdes-develop/index.html#wire-format\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/schema-registry/&hellip;</a> Or you can consume the data using KafkaAvroDeserializer into GenericRecord objects, which <code>toString</code> method is JSON-like"}],"answers":[{"comments":[{"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"score":0,"creation_date":1627354218,"post_id":68537453,"comment_id":121127435,"body_markdown":"yeah, but in my case, the producer is a different team and I cannot control the producer format as other consumers too use the same kafka topic as their source.","body":"yeah, but in my case, the producer is a different team and I cannot control the producer format as other consumers too use the same kafka topic as their source."},{"owner":{"account_id":3846251,"reputation":27,"user_id":3187699,"display_name":"Raja Bhowmick"},"score":0,"creation_date":1629382034,"post_id":68537453,"comment_id":121676745,"body_markdown":"Please proceed without avro in that case otherwise design a wrapper avro and pass data as a string or use something generic.","body":"Please proceed without avro in that case otherwise design a wrapper avro and pass data as a string or use something generic."}],"tags":[],"owner":{"account_id":3846251,"reputation":27,"user_id":3187699,"display_name":"Raja Bhowmick"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627343453,"creation_date":1627343453,"answer_id":68537453,"question_id":68532105,"body_markdown":"Avro is used to validate your data against the schema. if you don&#39;t want this, simply remove Avro and use only Kafka. From the producer, side send json data instead of avro serialized data.","title":"Avro to json converter in java","body":"<p>Avro is used to validate your data against the schema. if you don't want this, simply remove Avro and use only Kafka. From the producer, side send json data instead of avro serialized data.</p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680217727,"creation_date":1680217727,"answer_id":75893623,"question_id":68532105,"body_markdown":"There might be some good answers [here][1], but here is how I was able to do this for specific records.\r\n\r\n    MyAvroType avroPojo = ...\r\n    var writer = new SpecificDatumWriter&lt;MyAvroType&gt;(avroPojo.getSchema());\r\n    var outputStream = new ByteArrayOutputStream();\r\n    var encoder = EncoderFactory.get().jsonEncoder(avroPojo.getSchema(), outputStream);\r\n    writer.write(event, encoder);\r\n    encoder.flush(); // If you get null strings this may be what you&#39;re missing\r\n    String s = outputStream.toString();\r\n\r\nIn addition to the &quot;normal&quot; binary encoding, the JSON encoding is also part of Avro&#39;s [specification][2] but there just don&#39;t seem to be as many examples of it around.\r\n\r\n&gt; I want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.\r\n\r\nAvro is not a &quot;self describing&quot; format like JSON is. Put simply that means that the serialized (binary) format does not have field names. Something like `{name: Bob, age: 30}` is encoded something like `Bob30`. It&#39;s not quite that simple of course, but the point remains that without the schema there is no way to get the field names from a binary Avro record. So there is no way to skip &quot;reading data as Avro&quot; and go straight to JSON because the information is simply not there.\r\n\r\n[1]: https://stackoverflow.com/a/24460234/1858327\r\n[2]: https://avro.apache.org/docs/1.11.1/specification/#json-encoding","title":"Avro to json converter in java","body":"<p>There might be some good answers <a href=\"https://stackoverflow.com/a/24460234/1858327\">here</a>, but here is how I was able to do this for specific records.</p>\n<pre><code>MyAvroType avroPojo = ...\nvar writer = new SpecificDatumWriter&lt;MyAvroType&gt;(avroPojo.getSchema());\nvar outputStream = new ByteArrayOutputStream();\nvar encoder = EncoderFactory.get().jsonEncoder(avroPojo.getSchema(), outputStream);\nwriter.write(event, encoder);\nencoder.flush(); // If you get null strings this may be what you're missing\nString s = outputStream.toString();\n</code></pre>\n<p>In addition to the &quot;normal&quot; binary encoding, the JSON encoding is also part of Avro's <a href=\"https://avro.apache.org/docs/1.11.1/specification/#json-encoding\" rel=\"nofollow noreferrer\">specification</a> but there just don't seem to be as many examples of it around.</p>\n<blockquote>\n<p>I want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.</p>\n</blockquote>\n<p>Avro is not a &quot;self describing&quot; format like JSON is. Put simply that means that the serialized (binary) format does not have field names. Something like <code>{name: Bob, age: 30}</code> is encoded something like <code>Bob30</code>. It's not quite that simple of course, but the point remains that without the schema there is no way to get the field names from a binary Avro record. So there is no way to skip &quot;reading data as Avro&quot; and go straight to JSON because the information is simply not there.</p>\n"}],"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680217727,"creation_date":1627311331,"question_id":68532105,"body_markdown":"I am reading Avro from kafka as a string and I am trying to convert the String avro to Json using java code.\r\n\r\n\r\n\r\n\r\n        @KafkaListener(topics = &quot;#{&#39;${kafka.consumer.topics}&#39;.split(&#39;,&#39;)}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    \tvoid listener(String message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {\r\n    \r\n    //some code here\r\n    byte[] data = message.getBytes(); //This seems to be the issue\r\n    \r\n    avroToJson(schema,data)\r\n    \r\n    \r\n    }\r\n    \r\n    //Code to convert avro to json\r\n    public String avroToJson(Schema schema, byte[] avroBinary) throws IOException {\r\n    \t\tDatumReader&lt;Object&gt; datumReader = new GenericDatumReader&lt;&gt;(schema);\r\n    \t\tDecoder decoder = DecoderFactory.get().binaryDecoder(avroBinary, null);\r\n    \t\tObject avroDatum = datumReader.read(null, decoder);\r\n    \t\tSystem.out.println(&quot;Initiating loop&quot;);\r\n    \t\ttry (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n    \t\t\tDatumWriter&lt;Object&gt; writer = new GenericDatumWriter&lt;&gt;(schema);\r\n    \t\t\tJsonEncoder encoder = EncoderFactory.get().jsonEncoder(schema, baos, false);\r\n    \t\t\twriter.write(avroDatum, encoder);\r\n    \t\t\tencoder.flush();\r\n    \t\t\tbaos.flush();\r\n    \t\t\treturn new String(baos.toByteArray(), StandardCharsets.UTF_8);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n    \r\n\r\n\r\n\r\nI want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.","title":"Avro to json converter in java","body":"<p>I am reading Avro from kafka as a string and I am trying to convert the String avro to Json using java code.</p>\n<pre><code>    @KafkaListener(topics = &quot;#{'${kafka.consumer.topics}'.split(',')}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    void listener(String message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {\n\n//some code here\nbyte[] data = message.getBytes(); //This seems to be the issue\n\navroToJson(schema,data)\n\n\n}\n\n//Code to convert avro to json\npublic String avroToJson(Schema schema, byte[] avroBinary) throws IOException {\n        DatumReader&lt;Object&gt; datumReader = new GenericDatumReader&lt;&gt;(schema);\n        Decoder decoder = DecoderFactory.get().binaryDecoder(avroBinary, null);\n        Object avroDatum = datumReader.read(null, decoder);\n        System.out.println(&quot;Initiating loop&quot;);\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n            DatumWriter&lt;Object&gt; writer = new GenericDatumWriter&lt;&gt;(schema);\n            JsonEncoder encoder = EncoderFactory.get().jsonEncoder(schema, baos, false);\n            writer.write(avroDatum, encoder);\n            encoder.flush();\n            baos.flush();\n            return new String(baos.toByteArray(), StandardCharsets.UTF_8);\n        }\n    }\n</code></pre>\n<p>I want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.</p>\n"},{"tags":["java","spring-boot","spring-mvc","inputstream","response-entity"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680216790,"post_id":75893540,"comment_id":133865471,"body_markdown":"By the way, you should read this: https://stackoverflow.com/questions/66637127/is-the-charset-parameter-allowed-on-application-octet-stream-mime-type","body":"By the way, you should read this: <a href=\"https://stackoverflow.com/questions/66637127/is-the-charset-parameter-allowed-on-application-octet-stream-mime-type\" title=\"is the charset parameter allowed on application octet stream mime type\">stackoverflow.com/questions/66637127/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680216853,"post_id":75893540,"comment_id":133865476,"body_markdown":"And this may help: https://stackoverflow.com/questions/38975718/how-to-download-excel-xls-file-from-api-in-postman","body":"And this may help: <a href=\"https://stackoverflow.com/questions/38975718/how-to-download-excel-xls-file-from-api-in-postman\" title=\"how to download excel xls file from api in postman\">stackoverflow.com/questions/38975718/&hellip;</a>"}],"owner":{"account_id":28173331,"reputation":1,"user_id":21531507,"display_name":"Lalisa Daniella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680216441,"creation_date":1680216441,"question_id":75893540,"body_markdown":"So I have a method\r\n\r\n```\r\n@GetMapping(\r\n            value = &quot;/download/{fileId}&quot;,\r\n            produces = { MediaType.APPLICATION_OCTET_STREAM_VALUE }\r\n    )\r\n    public ResponseEntity&lt;InputStreamResource&gt; download(@Valid @PathVariable(value = &quot;fileId&quot;) String fileId) {\r\n        InputStreamResource file = new InputStreamResource(service.download(fileId));\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(new MediaType(MediaType.APPLICATION_OCTET_STREAM, Charset.forName(&quot;UTF-8&quot;)));\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileId+&quot;.doc&quot;);\r\n        headers.add(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n\r\n        return ResponseEntity.ok()\r\n                .headers(headers)\r\n                .body(file);\r\n    }\r\n```\r\n\r\nand when I hit the API from postman, it returns :\r\n[enter image description here](https://i.stack.imgur.com/SzSoT.png)\r\n\r\nHow can I make the output readable and downloadable from postman?","title":"How to return an InputStreamResource so it can readable from postman?","body":"<p>So I have a method</p>\n<pre><code>@GetMapping(\n            value = &quot;/download/{fileId}&quot;,\n            produces = { MediaType.APPLICATION_OCTET_STREAM_VALUE }\n    )\n    public ResponseEntity&lt;InputStreamResource&gt; download(@Valid @PathVariable(value = &quot;fileId&quot;) String fileId) {\n        InputStreamResource file = new InputStreamResource(service.download(fileId));\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(new MediaType(MediaType.APPLICATION_OCTET_STREAM, Charset.forName(&quot;UTF-8&quot;)));\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileId+&quot;.doc&quot;);\n        headers.add(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n\n        return ResponseEntity.ok()\n                .headers(headers)\n                .body(file);\n    }\n</code></pre>\n<p>and when I hit the API from postman, it returns :\n<a href=\"https://i.stack.imgur.com/SzSoT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How can I make the output readable and downloadable from postman?</p>\n"},{"tags":["java","json","binary","arrays","avro"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1393208540,"post_id":21977704,"comment_id":33304118,"body_markdown":"For what it&#39;s worth, the [Apache Avro spec](http://avro.apache.org/docs/1.7.6/spec.html).","body":"For what it&#39;s worth, the <a href=\"http://avro.apache.org/docs/1.7.6/spec.html\" rel=\"nofollow noreferrer\">Apache Avro spec</a>."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1393208640,"post_id":21977704,"comment_id":33304144,"body_markdown":"It&#39;s not clear what converting JSON &quot;to Avro&quot; would imply, since Avro notation is, per the spec, just a particular set of constraints placed on the format of a JSON string.","body":"It&#39;s not clear what converting JSON &quot;to Avro&quot; would imply, since Avro notation is, per the spec, just a particular set of constraints placed on the format of a JSON string."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1393208956,"post_id":21977704,"comment_id":33304213,"body_markdown":"In any event, Apache appears to provide a [set of utilities](http://avro.apache.org/docs/current/api/java/index.html), so it&#39;s not clear why you&#39;d need to write your own.","body":"In any event, Apache appears to provide a <a href=\"http://avro.apache.org/docs/current/api/java/index.html\" rel=\"nofollow noreferrer\">set of utilities</a>, so it&#39;s not clear why you&#39;d need to write your own."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1393211121,"post_id":21977704,"comment_id":33304726,"body_markdown":"hmmm.. Not sure I understand that correctly.. I have a JSON string which I am supposed to encode into Avro Binary.. How should I do that? The way I am doing is not correct?","body":"hmmm.. Not sure I understand that correctly.. I have a JSON string which I am supposed to encode into Avro Binary.. How should I do that? The way I am doing is not correct?"},{"owner":{"account_id":15549476,"reputation":111,"user_id":11217621,"display_name":"diegoruizbarbero"},"score":0,"creation_date":1591955035,"post_id":21977704,"comment_id":110256575,"body_markdown":"@HotLicks I&#39;ve found myself having the same issue, would you mind to point on where to look for these Apache utilities to find the equivalent function/method?","body":"@HotLicks I&#39;ve found myself having the same issue, would you mind to point on where to look for these Apache utilities to find the equivalent function/method?"}],"answers":[{"tags":[],"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1680216347,"creation_date":1403900665,"answer_id":24460234,"question_id":21977704,"body_markdown":"I think OP is correct. This will write Avro records themselves without the schema that would be present if this were an Avro data file.\r\n\r\nHere&#39;s a couple examples within Avro itself (useful if you are working with files.&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull; From JSON to Avro: [DataFileWriteTool][1]&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull; From Avro to JSON: [DataFileReadTool][2]\r\n\r\nHere&#39;s a complete example going both ways.\r\n\r\n    @Grapes([\r\n        @Grab(group=&#39;org.apache.avro&#39;, module=&#39;avro&#39;, version=&#39;1.7.7&#39;)\r\n    ])\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.generic.GenericDatumWriter;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.Decoder;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.avro.io.Encoder;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.io.JsonEncoder;\r\n\r\n    String schema = &#39;&#39;&#39;{\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;namespace&quot;:&quot;foo&quot;,\r\n      &quot;name&quot;:&quot;Person&quot;,\r\n      &quot;fields&quot;:[\r\n        {\r\n          &quot;name&quot;:&quot;name&quot;,\r\n          &quot;type&quot;:&quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;:&quot;age&quot;,\r\n          &quot;type&quot;:&quot;int&quot;\r\n        }\r\n      ]\r\n    }&#39;&#39;&#39;\r\n    String json = &quot;{&quot; +\r\n      &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\r\n      &quot;\\&quot;age\\&quot;:47&quot; +\r\n    &quot;}&quot;\r\n\r\n    assert avroToJson(jsonToAvro(json, schema), schema) == json\r\n\r\n\r\n    public static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\r\n        InputStream input = null;\r\n        GenericDatumWriter&lt;GenericRecord&gt; writer = null;\r\n        Encoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            Schema schema = new Schema.Parser().parse(schemaStr);\r\n            DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n            input = new ByteArrayInputStream(json.getBytes());\r\n            output = new ByteArrayOutputStream();\r\n            DataInputStream din = new DataInputStream(input);\r\n            writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n            Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n            encoder = EncoderFactory.get().binaryEncoder(output, null);\r\n            GenericRecord datum;\r\n            while (true) {\r\n                try {\r\n                    datum = reader.read(null, decoder);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                }\r\n                writer.write(datum, encoder);\r\n            }\r\n            encoder.flush();\r\n            return output.toByteArray();\r\n        } finally {\r\n            try { input.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\n    public static String avroToJson(byte[] avro, String schemaStr) throws IOException {\r\n        boolean pretty = false;\r\n        GenericDatumReader&lt;GenericRecord&gt; reader = null;\r\n        JsonEncoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            Schema schema = new Schema.Parser().parse(schemaStr);\r\n            reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n            InputStream input = new ByteArrayInputStream(avro);\r\n            output = new ByteArrayOutputStream();\r\n            DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n            encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\r\n            Decoder decoder = DecoderFactory.get().binaryDecoder(input, null);\r\n            GenericRecord datum;\r\n            while (true) {\r\n                try {\r\n                    datum = reader.read(null, decoder);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                }\r\n                writer.write(datum, encoder);\r\n            }\r\n            encoder.flush();\r\n            output.flush();\r\n            return new String(output.toByteArray());\r\n        } finally {\r\n            try { if (output != null) output.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\nFor the sake of completeness, here&#39;s an example if you were working with streams (Avro calls these [container files][3]) instead of records.  Note that when you go back from JSON to Avro, you don&#39;t need to pass the schema.  This is because it is present in the stream.\r\n\r\n    @Grapes([\r\n        @Grab(group=&#39;org.apache.avro&#39;, module=&#39;avro&#39;, version=&#39;1.7.7&#39;)\r\n    ])\r\n\r\n    // writes Avro as a http://avro.apache.org/docs/current/spec.html#Object+Container+Files rather than a sequence of records\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.file.DataFileStream;\r\n    import org.apache.avro.file.DataFileWriter;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.generic.GenericDatumWriter;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.Decoder;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.avro.io.Encoder;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.io.JsonEncoder;\r\n\r\n\r\n    String schema = &#39;&#39;&#39;{\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;namespace&quot;:&quot;foo&quot;,\r\n      &quot;name&quot;:&quot;Person&quot;,\r\n      &quot;fields&quot;:[\r\n        {\r\n          &quot;name&quot;:&quot;name&quot;,\r\n          &quot;type&quot;:&quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;:&quot;age&quot;,\r\n          &quot;type&quot;:&quot;int&quot;\r\n        }\r\n      ]\r\n    }&#39;&#39;&#39;\r\n    String json = &quot;{&quot; +\r\n      &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\r\n      &quot;\\&quot;age\\&quot;:47&quot; +\r\n    &quot;}&quot;\r\n\r\n    assert avroToJson(jsonToAvro(json, schema)) == json\r\n\r\n\r\n    public static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\r\n        InputStream input = null;\r\n        DataFileWriter&lt;GenericRecord&gt; writer = null;\r\n        Encoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            Schema schema = new Schema.Parser().parse(schemaStr);\r\n            DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n            input = new ByteArrayInputStream(json.getBytes());\r\n            output = new ByteArrayOutputStream();\r\n            DataInputStream din = new DataInputStream(input);\r\n            writer = new DataFileWriter&lt;GenericRecord&gt;(new GenericDatumWriter&lt;GenericRecord&gt;());\r\n            writer.create(schema, output);\r\n            Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n            GenericRecord datum;\r\n            while (true) {\r\n                try {\r\n                    datum = reader.read(null, decoder);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                }\r\n                writer.append(datum);\r\n            }\r\n            writer.flush();\r\n            return output.toByteArray();\r\n        } finally {\r\n            try { input.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\n    public static String avroToJson(byte[] avro) throws IOException {\r\n        boolean pretty = false;\r\n        GenericDatumReader&lt;GenericRecord&gt; reader = null;\r\n        JsonEncoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            reader = new GenericDatumReader&lt;GenericRecord&gt;();\r\n            InputStream input = new ByteArrayInputStream(avro);\r\n            DataFileStream&lt;GenericRecord&gt; streamReader = new DataFileStream&lt;GenericRecord&gt;(input, reader);\r\n            output = new ByteArrayOutputStream();\r\n            Schema schema = streamReader.getSchema();\r\n            DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n            encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\r\n            for (GenericRecord datum : streamReader) {\r\n                writer.write(datum, encoder);\r\n            }\r\n            encoder.flush();\r\n            output.flush();\r\n            return new String(output.toByteArray());\r\n        } finally {\r\n            try { if (output != null) output.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileWriteTool.java\r\n  [2]: https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java\r\n  [3]: http://avro.apache.org/docs/current/spec.html#Object+Container+Files","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>I think OP is correct. This will write Avro records themselves without the schema that would be present if this were an Avro data file.</p>\n<p>Here's a couple examples within Avro itself (useful if you are working with files.<br>\n    • From JSON to Avro: <a href=\"https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileWriteTool.java\" rel=\"nofollow noreferrer\">DataFileWriteTool</a><br>\n    • From Avro to JSON: <a href=\"https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java\" rel=\"nofollow noreferrer\">DataFileReadTool</a></p>\n<p>Here's a complete example going both ways.</p>\n<pre><code>@Grapes([\n    @Grab(group='org.apache.avro', module='avro', version='1.7.7')\n])\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.io.Encoder;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\nString schema = '''{\n  &quot;type&quot;:&quot;record&quot;,\n  &quot;namespace&quot;:&quot;foo&quot;,\n  &quot;name&quot;:&quot;Person&quot;,\n  &quot;fields&quot;:[\n    {\n      &quot;name&quot;:&quot;name&quot;,\n      &quot;type&quot;:&quot;string&quot;\n    },\n    {\n      &quot;name&quot;:&quot;age&quot;,\n      &quot;type&quot;:&quot;int&quot;\n    }\n  ]\n}'''\nString json = &quot;{&quot; +\n  &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\n  &quot;\\&quot;age\\&quot;:47&quot; +\n&quot;}&quot;\n\nassert avroToJson(jsonToAvro(json, schema), schema) == json\n\n\npublic static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\n    InputStream input = null;\n    GenericDatumWriter&lt;GenericRecord&gt; writer = null;\n    Encoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        Schema schema = new Schema.Parser().parse(schemaStr);\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n        input = new ByteArrayInputStream(json.getBytes());\n        output = new ByteArrayOutputStream();\n        DataInputStream din = new DataInputStream(input);\n        writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n        Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n        encoder = EncoderFactory.get().binaryEncoder(output, null);\n        GenericRecord datum;\n        while (true) {\n            try {\n                datum = reader.read(null, decoder);\n            } catch (EOFException eofe) {\n                break;\n            }\n            writer.write(datum, encoder);\n        }\n        encoder.flush();\n        return output.toByteArray();\n    } finally {\n        try { input.close(); } catch (Exception e) { }\n    }\n}\n\npublic static String avroToJson(byte[] avro, String schemaStr) throws IOException {\n    boolean pretty = false;\n    GenericDatumReader&lt;GenericRecord&gt; reader = null;\n    JsonEncoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        Schema schema = new Schema.Parser().parse(schemaStr);\n        reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n        InputStream input = new ByteArrayInputStream(avro);\n        output = new ByteArrayOutputStream();\n        DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n        encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\n        Decoder decoder = DecoderFactory.get().binaryDecoder(input, null);\n        GenericRecord datum;\n        while (true) {\n            try {\n                datum = reader.read(null, decoder);\n            } catch (EOFException eofe) {\n                break;\n            }\n            writer.write(datum, encoder);\n        }\n        encoder.flush();\n        output.flush();\n        return new String(output.toByteArray());\n    } finally {\n        try { if (output != null) output.close(); } catch (Exception e) { }\n    }\n}\n</code></pre>\n<p>For the sake of completeness, here's an example if you were working with streams (Avro calls these <a href=\"http://avro.apache.org/docs/current/spec.html#Object+Container+Files\" rel=\"nofollow noreferrer\">container files</a>) instead of records.  Note that when you go back from JSON to Avro, you don't need to pass the schema.  This is because it is present in the stream.</p>\n<pre><code>@Grapes([\n    @Grab(group='org.apache.avro', module='avro', version='1.7.7')\n])\n\n// writes Avro as a http://avro.apache.org/docs/current/spec.html#Object+Container+Files rather than a sequence of records\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.file.DataFileStream;\nimport org.apache.avro.file.DataFileWriter;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.io.Encoder;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\n\nString schema = '''{\n  &quot;type&quot;:&quot;record&quot;,\n  &quot;namespace&quot;:&quot;foo&quot;,\n  &quot;name&quot;:&quot;Person&quot;,\n  &quot;fields&quot;:[\n    {\n      &quot;name&quot;:&quot;name&quot;,\n      &quot;type&quot;:&quot;string&quot;\n    },\n    {\n      &quot;name&quot;:&quot;age&quot;,\n      &quot;type&quot;:&quot;int&quot;\n    }\n  ]\n}'''\nString json = &quot;{&quot; +\n  &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\n  &quot;\\&quot;age\\&quot;:47&quot; +\n&quot;}&quot;\n\nassert avroToJson(jsonToAvro(json, schema)) == json\n\n\npublic static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\n    InputStream input = null;\n    DataFileWriter&lt;GenericRecord&gt; writer = null;\n    Encoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        Schema schema = new Schema.Parser().parse(schemaStr);\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n        input = new ByteArrayInputStream(json.getBytes());\n        output = new ByteArrayOutputStream();\n        DataInputStream din = new DataInputStream(input);\n        writer = new DataFileWriter&lt;GenericRecord&gt;(new GenericDatumWriter&lt;GenericRecord&gt;());\n        writer.create(schema, output);\n        Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n        GenericRecord datum;\n        while (true) {\n            try {\n                datum = reader.read(null, decoder);\n            } catch (EOFException eofe) {\n                break;\n            }\n            writer.append(datum);\n        }\n        writer.flush();\n        return output.toByteArray();\n    } finally {\n        try { input.close(); } catch (Exception e) { }\n    }\n}\n\npublic static String avroToJson(byte[] avro) throws IOException {\n    boolean pretty = false;\n    GenericDatumReader&lt;GenericRecord&gt; reader = null;\n    JsonEncoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        reader = new GenericDatumReader&lt;GenericRecord&gt;();\n        InputStream input = new ByteArrayInputStream(avro);\n        DataFileStream&lt;GenericRecord&gt; streamReader = new DataFileStream&lt;GenericRecord&gt;(input, reader);\n        output = new ByteArrayOutputStream();\n        Schema schema = streamReader.getSchema();\n        DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n        encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\n        for (GenericRecord datum : streamReader) {\n            writer.write(datum, encoder);\n        }\n        encoder.flush();\n        output.flush();\n        return new String(output.toByteArray());\n    } finally {\n        try { if (output != null) output.close(); } catch (Exception e) { }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203770,"reputation":2732,"user_id":451617,"display_name":"ppearcy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438277888,"creation_date":1438277888,"answer_id":31730520,"question_id":21977704,"body_markdown":"To add to Keegan&#39;s answer, this discussion is likely useful:\r\n\r\nhttp://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCALEq1Z8s1sfaAVB7YE2rpZ=v3q1V_h7Vm39h0HsOzxJ+qfQRSg@mail.gmail.com%3E\r\n\r\nThe gist is that there is a special Json schema and you can use JsonReader/Writer to get to and from that. The Json schema you should use is defined here:\r\n\r\nhttps://github.com/apache/avro/blob/trunk/share/schemas/org/apache/avro/data/Json.avsc","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>To add to Keegan's answer, this discussion is likely useful:</p>\n\n<p><a href=\"http://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCALEq1Z8s1sfaAVB7YE2rpZ=v3q1V_h7Vm39h0HsOzxJ+qfQRSg@mail.gmail.com%3E\" rel=\"nofollow\">http://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCALEq1Z8s1sfaAVB7YE2rpZ=v3q1V_h7Vm39h0HsOzxJ+qfQRSg@mail.gmail.com%3E</a></p>\n\n<p>The gist is that there is a special Json schema and you can use JsonReader/Writer to get to and from that. The Json schema you should use is defined here:</p>\n\n<p><a href=\"https://github.com/apache/avro/blob/trunk/share/schemas/org/apache/avro/data/Json.avsc\" rel=\"nofollow\">https://github.com/apache/avro/blob/trunk/share/schemas/org/apache/avro/data/Json.avsc</a></p>\n"},{"tags":[],"owner":{"account_id":7341176,"reputation":762,"user_id":5590649,"accept_rate":83,"display_name":"StrongYoung"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482828295,"creation_date":1482828295,"answer_id":41341810,"question_id":21977704,"body_markdown":"You can use the `avro-tools` to convert the json file(`{input_file}.json`) to avro file(`{output_file}.avro`) when you know the schema(`{schema_file}.avsc`) of the json file. Just like below:\r\n\r\n    java -jar the/path/of/avro-tools-1.8.1.jar fromjson {input_file}.json   --schema-file {schema_file}.avsc &gt; {output_file}.avro\r\n\r\nBy the way, the contents of `{schema_file}.avsc` file is as belows:\r\n\r\n    {&quot;type&quot;: &quot;record&quot;,\r\n     &quot;name&quot;: &quot;User&quot;,\r\n      &quot;fields&quot;: [\r\n          {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},\r\n          {&quot;name&quot;: &quot;favorite_number&quot;,  &quot;type&quot;: [&quot;int&quot;, &quot;null&quot;]},\r\n          {&quot;name&quot;: &quot;favorite_color&quot;, &quot;type&quot;: [&quot;string&quot;, &quot;null&quot;]}\r\n      ]\r\n     }\r\n\r\n[Download avro-tools-1.8.1][1]\r\n\r\n[Download others avro-tools][2]\r\n\r\n\r\n  [1]: http://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.1/avro-tools-1.8.1.jar\r\n  [2]: http://central.maven.org/maven2/org/apache/avro/avro-tools/","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>You can use the <code>avro-tools</code> to convert the json file(<code>{input_file}.json</code>) to avro file(<code>{output_file}.avro</code>) when you know the schema(<code>{schema_file}.avsc</code>) of the json file. Just like below:</p>\n\n<pre><code>java -jar the/path/of/avro-tools-1.8.1.jar fromjson {input_file}.json   --schema-file {schema_file}.avsc &gt; {output_file}.avro\n</code></pre>\n\n<p>By the way, the contents of <code>{schema_file}.avsc</code> file is as belows:</p>\n\n<pre><code>{\"type\": \"record\",\n \"name\": \"User\",\n  \"fields\": [\n      {\"name\": \"name\", \"type\": \"string\"},\n      {\"name\": \"favorite_number\",  \"type\": [\"int\", \"null\"]},\n      {\"name\": \"favorite_color\", \"type\": [\"string\", \"null\"]}\n  ]\n }\n</code></pre>\n\n<p><a href=\"http://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.1/avro-tools-1.8.1.jar\" rel=\"nofollow noreferrer\">Download avro-tools-1.8.1</a></p>\n\n<p><a href=\"http://central.maven.org/maven2/org/apache/avro/avro-tools/\" rel=\"nofollow noreferrer\">Download others avro-tools</a></p>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38749,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1680216347,"creation_date":1393207787,"question_id":21977704,"body_markdown":"I am trying to avro binary encode my JSON String. Below is my JSON String and I have created a simple method which will do the conversion but I am not sure whether the way I am doing is correct or not? \r\n\r\n    public static void main(String args[]) throws Exception{\r\n\ttry{\r\n\t    Schema schema = new Parser().parse((TestExample.class.getResourceAsStream(&quot;/3233.avsc&quot;)));\r\n\t    String json=&quot;{&quot;+\r\n\t\t    &quot;  \\&quot;location\\&quot; : {&quot;+\r\n\t\t    &quot;    \\&quot;devices\\&quot;:[&quot;+\r\n\t\t    &quot;      {&quot;+\r\n\t\t    &quot;        \\&quot;did\\&quot;:\\&quot;9abd09-439bcd-629a8f\\&quot;,&quot;+\r\n\t\t    &quot;        \\&quot;dt\\&quot;:\\&quot;browser\\&quot;,&quot;+\r\n\t\t    &quot;        \\&quot;usl\\&quot;:{&quot;+\r\n\t\t    &quot;          \\&quot;pos\\&quot;:{&quot;+\r\n\t\t    &quot;            \\&quot;source\\&quot;:\\&quot;GPS\\&quot;,&quot;+\r\n\t\t    &quot;            \\&quot;lat\\&quot;:90.0,&quot;+\r\n\t\t    &quot;            \\&quot;long\\&quot;:101.0,&quot;+\r\n\t\t    &quot;            \\&quot;acc\\&quot;:100&quot;+\r\n\t\t    &quot;          },&quot;+\r\n\t\t    &quot;          \\&quot;addSource\\&quot;:\\&quot;LL\\&quot;,&quot;+\r\n\t\t    &quot;          \\&quot;add\\&quot;:[&quot;+\r\n\t\t    &quot;            {&quot;+\r\n\t\t    &quot;              \\&quot;val\\&quot;:\\&quot;2123\\&quot;,&quot;+\r\n\t\t    &quot;              \\&quot;type\\&quot; : \\&quot;NUM\\&quot;&quot;+\r\n\t\t    &quot;            },&quot;+\r\n\t\t    &quot;            {&quot;+\r\n\t\t    &quot;              \\&quot;val\\&quot;:\\&quot;Harris ST\\&quot;,&quot;+\r\n\t\t    &quot;              \\&quot;type\\&quot; : \\&quot;ST\\&quot;&quot;+\r\n\t\t    &quot;            }&quot;+\r\n\t\t    &quot;          ],&quot;+\r\n\t\t    &quot;          \\&quot;ei\\&quot;:{&quot;+\r\n\t\t    &quot;            \\&quot;ibm\\&quot;:true,&quot;+\r\n\t\t    &quot;            \\&quot;sr\\&quot;:10,&quot;+\r\n\t\t    &quot;            \\&quot;ienz\\&quot;:true,&quot;+\r\n\t\t    &quot;            \\&quot;enz\\&quot;:100,&quot;+\r\n\t\t    &quot;            \\&quot;enr\\&quot;:10&quot;+\r\n\t\t    &quot;          },&quot;+\r\n\t\t    &quot;          \\&quot;lm\\&quot;:1390598086120&quot;+\r\n\t\t    &quot;        }&quot;+\r\n\t\t    &quot;      }&quot;+\r\n\t\t    &quot;    ],&quot;+\r\n\t\t    &quot;    \\&quot;ver\\&quot; : \\&quot;1.0\\&quot;&quot;+\r\n\t\t    &quot;  }&quot;+\r\n\t\t    &quot;}&quot;;\r\n\r\n\t    byte[] avroByteArray = fromJsonToAvro(json,schema);\r\n\t\t\r\n\t} catch (Exception ex) {\r\n\t\t// log an exception\r\n\t}\r\n\t\r\n\t\r\nBelow method will convert my JSON String to Avro Binary encoded - \r\n\t\r\n\tprivate static byte[] fromJsonToAvro(String json, Schema schema) throws Exception {\r\n\r\n\t\tInputStream input = new ByteArrayInputStream(json.getBytes());\r\n\t\tDataInputStream din = new DataInputStream(input);\t\r\n\r\n\t\tDecoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n\r\n\t\tDatumReader&lt;Object&gt; reader = new GenericDatumReader&lt;Object&gt;(schema);\r\n\t\tObject datum = reader.read(null, decoder);\r\n\r\n\r\n\t\tGenericDatumWriter&lt;Object&gt;  w = new GenericDatumWriter&lt;Object&gt;(schema);\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n\t\tEncoder e = EncoderFactory.get().binaryEncoder(outputStream, null);\r\n\r\n\t\tw.write(datum, e);\r\n\t\te.flush();\r\n\r\n\t\treturn outputStream.toByteArray();\r\n    }\r\n\r\n\t\r\nCan anyone take a look and let me know whether the way I am trying to avro binary my JSON String is correct or not?","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>I am trying to avro binary encode my JSON String. Below is my JSON String and I have created a simple method which will do the conversion but I am not sure whether the way I am doing is correct or not? </p>\n\n<pre><code>public static void main(String args[]) throws Exception{\ntry{\n    Schema schema = new Parser().parse((TestExample.class.getResourceAsStream(\"/3233.avsc\")));\n    String json=\"{\"+\n        \"  \\\"location\\\" : {\"+\n        \"    \\\"devices\\\":[\"+\n        \"      {\"+\n        \"        \\\"did\\\":\\\"9abd09-439bcd-629a8f\\\",\"+\n        \"        \\\"dt\\\":\\\"browser\\\",\"+\n        \"        \\\"usl\\\":{\"+\n        \"          \\\"pos\\\":{\"+\n        \"            \\\"source\\\":\\\"GPS\\\",\"+\n        \"            \\\"lat\\\":90.0,\"+\n        \"            \\\"long\\\":101.0,\"+\n        \"            \\\"acc\\\":100\"+\n        \"          },\"+\n        \"          \\\"addSource\\\":\\\"LL\\\",\"+\n        \"          \\\"add\\\":[\"+\n        \"            {\"+\n        \"              \\\"val\\\":\\\"2123\\\",\"+\n        \"              \\\"type\\\" : \\\"NUM\\\"\"+\n        \"            },\"+\n        \"            {\"+\n        \"              \\\"val\\\":\\\"Harris ST\\\",\"+\n        \"              \\\"type\\\" : \\\"ST\\\"\"+\n        \"            }\"+\n        \"          ],\"+\n        \"          \\\"ei\\\":{\"+\n        \"            \\\"ibm\\\":true,\"+\n        \"            \\\"sr\\\":10,\"+\n        \"            \\\"ienz\\\":true,\"+\n        \"            \\\"enz\\\":100,\"+\n        \"            \\\"enr\\\":10\"+\n        \"          },\"+\n        \"          \\\"lm\\\":1390598086120\"+\n        \"        }\"+\n        \"      }\"+\n        \"    ],\"+\n        \"    \\\"ver\\\" : \\\"1.0\\\"\"+\n        \"  }\"+\n        \"}\";\n\n    byte[] avroByteArray = fromJsonToAvro(json,schema);\n\n} catch (Exception ex) {\n    // log an exception\n}\n</code></pre>\n\n<p>Below method will convert my JSON String to Avro Binary encoded - </p>\n\n<pre><code>private static byte[] fromJsonToAvro(String json, Schema schema) throws Exception {\n\n    InputStream input = new ByteArrayInputStream(json.getBytes());\n    DataInputStream din = new DataInputStream(input);   \n\n    Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n\n    DatumReader&lt;Object&gt; reader = new GenericDatumReader&lt;Object&gt;(schema);\n    Object datum = reader.read(null, decoder);\n\n\n    GenericDatumWriter&lt;Object&gt;  w = new GenericDatumWriter&lt;Object&gt;(schema);\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    Encoder e = EncoderFactory.get().binaryEncoder(outputStream, null);\n\n    w.write(datum, e);\n    e.flush();\n\n    return outputStream.toByteArray();\n}\n</code></pre>\n\n<p>Can anyone take a look and let me know whether the way I am trying to avro binary my JSON String is correct or not?</p>\n"},{"tags":["java","eclipse","gradle","java-resources"],"answers":[{"tags":[],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680215252,"creation_date":1680215252,"answer_id":75893447,"question_id":75837704,"body_markdown":"I found this can be achieved by redefining `sourceSets`. Eclipse will copy the entire directory tree including any non-java source files from both `src/test/java` as well as `src/test/resources` into the classpath used for the tests. To have gradle do the same, add this to `build.gradle`:\r\n\r\n    sourceSets {\r\n        test {\r\n            resources.srcDirs = [&#39;src/test/java&#39;,&#39;src/test/resources&#39;]\r\n            resources.excludes = [&#39;**/*.java&#39;]\r\n        }\r\n    }\r\n\r\n","title":"Gradle does not copy package-local test resources","body":"<p>I found this can be achieved by redefining <code>sourceSets</code>. Eclipse will copy the entire directory tree including any non-java source files from both <code>src/test/java</code> as well as <code>src/test/resources</code> into the classpath used for the tests. To have gradle do the same, add this to <code>build.gradle</code>:</p>\n<pre><code>sourceSets {\n    test {\n        resources.srcDirs = ['src/test/java','src/test/resources']\n        resources.excludes = ['**/*.java']\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75893447,"answer_count":1,"score":0,"last_activity_date":1680215371,"creation_date":1679687868,"question_id":75837704,"body_markdown":"I&#39;d like gradle to behave like Eclipse when it executes the tests. Here is a minimal setup:\r\n\r\n    plugins {\r\n        id &#39;eclipse&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n    }\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nThe source tree is:\r\n\r\n    └───src\r\n        └───test\r\n            └───java\r\n                └───abc\r\n                        package-local.txt\r\n                        ResourceTest.java\r\n\r\nAnd the actual test looks like this:\r\n\r\n    package abc;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class ResourceTest {\r\n    \r\n    \t@Test\r\n    \tvoid loadResource() {\r\n    \t\tassertNotNull(getClass().getResource(&quot;package-local.txt&quot;));\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis works when run from Eclipse, but fails with `gradlew test` because gradle will not copy `src/test/java/abc/package-local.txt` into the classpath that is used for test execution. Why is that and what do I need to do to get the same behavior as in Eclipse?\r\n","title":"Gradle does not copy package-local test resources","body":"<p>I'd like gradle to behave like Eclipse when it executes the tests. Here is a minimal setup:</p>\n<pre><code>plugins {\n    id 'eclipse'\n    id 'java'\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n}\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>The source tree is:</p>\n<pre><code>└───src\n    └───test\n        └───java\n            └───abc\n                    package-local.txt\n                    ResourceTest.java\n</code></pre>\n<p>And the actual test looks like this:</p>\n<pre><code>package abc;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport org.junit.jupiter.api.Test;\n\npublic class ResourceTest {\n\n    @Test\n    void loadResource() {\n        assertNotNull(getClass().getResource(&quot;package-local.txt&quot;));\n    }\n    \n}\n</code></pre>\n<p>This works when run from Eclipse, but fails with <code>gradlew test</code> because gradle will not copy <code>src/test/java/abc/package-local.txt</code> into the classpath that is used for test execution. Why is that and what do I need to do to get the same behavior as in Eclipse?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680212154,"post_id":75893156,"comment_id":133864734,"body_markdown":"Setting aside some bad practices in your code, including using null layouts and over-use of static fields and such, your default table model creation seems in error. You are passing in an array with 7 column names but your data rows only have one data item per row. How can this work?","body":"Setting aside some bad practices in your code, including using null layouts and over-use of static fields and such, your default table model creation seems in error. You are passing in an array with 7 column names but your data rows only have one data item per row. How can this work?"},{"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"score":0,"creation_date":1680212635,"post_id":75893156,"comment_id":133864800,"body_markdown":"@HovercraftFullOfEels - This is my first ever Java project so, I apologize for the bad practices. I ran the code and the table is created just fine, all the columns are blank except for the Item ID columns, which are the only ones I am interested in.","body":"@HovercraftFullOfEels - This is my first ever Java project so, I apologize for the bad practices. I ran the code and the table is created just fine, all the columns are blank except for the Item ID columns, which are the only ones I am interested in."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680212928,"post_id":75893156,"comment_id":133864854,"body_markdown":"But where are you putting in the real data into the JTable though? I&#39;m confused by this code and your question as it seems incomplete. Is this your entire code? If not, can you instead consider creating and posting a viable [mre] code post with your question?","body":"But where are you putting in the real data into the JTable though? I&#39;m confused by this code and your question as it seems incomplete. Is this your entire code? If not, can you instead consider creating and posting a viable <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your question?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680213139,"post_id":75893156,"comment_id":133864896,"body_markdown":"You need to make use of both the &quot;row&quot; and &quot;column&quot; selection models or make use of [`JTable#getSelectedColumn`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumn()); [`JTable#getSelectedColumns`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumns()); [`JTable#getSelectedRow`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRow());","body":"You need to make use of both the &quot;row&quot; and &quot;column&quot; selection models or make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumn()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedColumn</code></a>; <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumns()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedColumns</code></a>; <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRow()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedRow</code></a>;"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680213183,"post_id":75893156,"comment_id":133864900,"body_markdown":"[`JTable#getSelectedRows`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRows()) or just use [`JTable#getValueAt`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getValueAt(int,int)); much of which is demonstrated at [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRows()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedRows</code></a> or just use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getValueAt(int,int)\" rel=\"nofollow noreferrer\"><code>JTable#getValueAt</code></a>; much of which is demonstrated at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680213283,"post_id":75893156,"comment_id":133864916,"body_markdown":"`panel.setLayout(null);` is a bad idea; `frame.setSize(800,600);` should be avoid in favour of `pack`; `tableScroll.setBounds(30, 60, 740, 400);` is unadvisable, see the first point and instead make use of [Appropriate layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"<code>panel.setLayout(null);</code> is a bad idea; <code>frame.setSize(800,600);</code> should be avoid in favour of <code>pack</code>; <code>tableScroll.setBounds(30, 60, 740, 400);</code> is unadvisable, see the first point and instead make use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Appropriate layout managers</a>"},{"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"score":0,"creation_date":1680214084,"post_id":75893156,"comment_id":133865042,"body_markdown":"@MadProgrammer - Thanks a lot! I think i was a bit stuck because i used the same variable for both model types, so i changed that and go access to the default model functions which you mentioned. All works now","body":"@MadProgrammer - Thanks a lot! I think i was a bit stuck because i used the same variable for both model types, so i changed that and go access to the default model functions which you mentioned. All works now"}],"answers":[{"tags":[],"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680214561,"creation_date":1680214561,"answer_id":75893389,"question_id":75893156,"body_markdown":"I made sure to change `model` variable for `ListSelectionModel` to a different name (`model2`).\r\n\r\nThen I used the `model.getValueAt(rowInt, columnInt)`\r\n\r\nThis code now prints out the row index as well as the value from the cell in the first column where the selection is made by the user:\r\n```\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    \r\n    import java.awt.Color;\r\n    \r\n    public class App {\r\n    \r\n        private static JTable loanedItemsTable;\r\n        private static JScrollPane tableScroll;\r\n        private static DefaultTableModel model;\r\n        private static int selectedRow;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            JFrame frame = new JFrame();\r\n            JPanel panel = new JPanel();\r\n    \r\n            frame.setSize(800,600);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setTitle(&quot;table&quot;);\r\n            frame.setResizable(false);\r\n            \r\n            panel.setLayout(null);\r\n            panel.setBackground(Color.gray);\r\n            \r\n            frame.add(panel);\r\n            \r\n    \r\n            //Items on loan table\r\n    \r\n            String loanTableColumns [] = {\r\n    \r\n                &quot;item ID&quot;,\r\n                &quot;Item Loaned&quot;,\r\n                &quot;Loan Start Date&quot;,\r\n                &quot;Return Date&quot;,\r\n                &quot;State&quot;,\r\n                &quot;Fee to pay&quot;,\r\n                &quot;Customer Name&quot;\r\n            };\r\n    \r\n            String loanTableData [] [] = {\r\n    \r\n                {&quot;1&quot;},\r\n                {&quot;2&quot;} \r\n            }\r\n            \r\n            ;\r\n    \r\n            // adding loan table using a sroll pane\r\n    \r\n            model = new DefaultTableModel(loanTableData, loanTableColumns);\r\n            \r\n            loanedItemsTable = new JTable(model){\r\n            public boolean editCellAt(int row, int column, java.util.EventObject e) {\r\n                return false;\r\n             }\r\n            };\r\n    \r\n            tableScroll = new JScrollPane(loanedItemsTable);\r\n            tableScroll.setBounds(30, 60, 740, 400);\r\n            panel.add(tableScroll);\r\n    \r\n            ListSelectionModel model2 = loanedItemsTable.getSelectionModel();\r\n            model2.addListSelectionListener(new ListSelectionListener() {\r\n    \r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                    \r\n                    if(! model2.isSelectionEmpty()){\r\n                        selectedRow = model2.getMinSelectionIndex();\r\n                        String selectedCell = model.getValueAt(selectedRow, 0).toString();\r\n                        System.out.println(&quot;The row selected is at index: &quot;+selectedRow+&quot; and the item ID is &quot;+selectedCell);\r\n                        \r\n                        \r\n                    }\r\n                }\r\n                \r\n            });\r\n    \r\n            frame.setVisible(true);\r\n        }\r\n    } ```","title":"Using a ListSelectionModel, how do I get the value of a specific cell when a row is selected?","body":"<p>I made sure to change <code>model</code> variable for <code>ListSelectionModel</code> to a different name (<code>model2</code>).</p>\n<p>Then I used the <code>model.getValueAt(rowInt, columnInt)</code></p>\n<p>This code now prints out the row index as well as the value from the cell in the first column where the selection is made by the user:</p>\n<pre><code>    import javax.swing.JFrame;\n    import javax.swing.JPanel;\n    import javax.swing.JScrollPane;\n    import javax.swing.JTable;\n    import javax.swing.table.DefaultTableModel;\n    import javax.swing.ListSelectionModel;\n    import javax.swing.event.ListSelectionEvent;\n    import javax.swing.event.ListSelectionListener;\n    \n    import java.awt.Color;\n    \n    public class App {\n    \n        private static JTable loanedItemsTable;\n        private static JScrollPane tableScroll;\n        private static DefaultTableModel model;\n        private static int selectedRow;\n    \n        public static void main(String[] args) throws Exception {\n    \n            JFrame frame = new JFrame();\n            JPanel panel = new JPanel();\n    \n            frame.setSize(800,600);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setTitle(&quot;table&quot;);\n            frame.setResizable(false);\n            \n            panel.setLayout(null);\n            panel.setBackground(Color.gray);\n            \n            frame.add(panel);\n            \n    \n            //Items on loan table\n    \n            String loanTableColumns [] = {\n    \n                &quot;item ID&quot;,\n                &quot;Item Loaned&quot;,\n                &quot;Loan Start Date&quot;,\n                &quot;Return Date&quot;,\n                &quot;State&quot;,\n                &quot;Fee to pay&quot;,\n                &quot;Customer Name&quot;\n            };\n    \n            String loanTableData [] [] = {\n    \n                {&quot;1&quot;},\n                {&quot;2&quot;} \n            }\n            \n            ;\n    \n            // adding loan table using a sroll pane\n    \n            model = new DefaultTableModel(loanTableData, loanTableColumns);\n            \n            loanedItemsTable = new JTable(model){\n            public boolean editCellAt(int row, int column, java.util.EventObject e) {\n                return false;\n             }\n            };\n    \n            tableScroll = new JScrollPane(loanedItemsTable);\n            tableScroll.setBounds(30, 60, 740, 400);\n            panel.add(tableScroll);\n    \n            ListSelectionModel model2 = loanedItemsTable.getSelectionModel();\n            model2.addListSelectionListener(new ListSelectionListener() {\n    \n                @Override\n                public void valueChanged(ListSelectionEvent e) {\n                    \n                    if(! model2.isSelectionEmpty()){\n                        selectedRow = model2.getMinSelectionIndex();\n                        String selectedCell = model.getValueAt(selectedRow, 0).toString();\n                        System.out.println(&quot;The row selected is at index: &quot;+selectedRow+&quot; and the item ID is &quot;+selectedCell);\n                        \n                        \n                    }\n                }\n                \n            });\n    \n            frame.setVisible(true);\n        }\n    } ```\n</code></pre>\n"}],"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680214561,"creation_date":1680211874,"question_id":75893156,"body_markdown":"In my Java GUI, I have a table which displays various rows of data. I want the functionality of this to be so that the user clicks on a row and then clicks a button do delete the row (this part works)\r\n\r\nBehind the scenes, I need to get the Item ID cell for the selected row, so that I can update my database (using MySQL).\r\n\r\nI am still looking through the documentation found here: \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html\r\n\r\nHere is the code I am using to create the table. You can select the rows, and the row index is printed out. I assume this index will be used to access the specific cell I need to also print out the number in the Item ID cell for the current selected row: \r\n\r\n``` import javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.ListSelectionModel;\r\nimport javax.swing.event.ListSelectionEvent;\r\nimport javax.swing.event.ListSelectionListener;\r\n\r\nimport java.awt.Color;\r\n\r\npublic class App {\r\n\r\n    private static JTable loanedItemsTable;\r\n    private static JScrollPane tableScroll;\r\n    private static DefaultTableModel model;\r\n    private static int selectedRow;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        JFrame frame = new JFrame();\r\n        JPanel panel = new JPanel();\r\n\r\n        frame.setSize(800,600);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setTitle(&quot;table&quot;);\r\n        frame.setResizable(false);\r\n        \r\n        panel.setLayout(null);\r\n        panel.setBackground(Color.gray);\r\n        \r\n        frame.add(panel);\r\n        \r\n\r\n        //Items on loan table\r\n\r\n        String loanTableColumns [] = {\r\n\r\n            &quot;item ID&quot;,\r\n            &quot;Item Loaned&quot;,\r\n            &quot;Loan Start Date&quot;,\r\n            &quot;Return Date&quot;,\r\n            &quot;State&quot;,\r\n            &quot;Fee to pay&quot;,\r\n            &quot;Customer Name&quot;\r\n        };\r\n\r\n        String loanTableData [] [] = {\r\n\r\n            {&quot;1&quot;},\r\n            {&quot;2&quot;} \r\n        }\r\n        \r\n        ;\r\n\r\n        // adding loan table using a sroll pane\r\n\r\n        model = new DefaultTableModel(loanTableData, loanTableColumns);\r\n        \r\n        loanedItemsTable = new JTable(model){\r\n        public boolean editCellAt(int row, int column, java.util.EventObject e) {\r\n            return false;\r\n         }\r\n        };\r\n\r\n        tableScroll = new JScrollPane(loanedItemsTable);\r\n        tableScroll.setBounds(30, 60, 740, 400);\r\n        panel.add(tableScroll);\r\n\r\n        ListSelectionModel model = loanedItemsTable.getSelectionModel();\r\n        model.addListSelectionListener(new ListSelectionListener() {\r\n\r\n            @Override\r\n            public void valueChanged(ListSelectionEvent e) {\r\n                \r\n                if(! model.isSelectionEmpty()){\r\n                    selectedRow = model.getMinSelectionIndex();\r\n\r\n                    System.out.println(selectedRow);\r\n                }\r\n            }\r\n            \r\n        });\r\n\r\n        frame.setVisible(true);\r\n    }\r\n}```","title":"Using a ListSelectionModel, how do I get the value of a specific cell when a row is selected?","body":"<p>In my Java GUI, I have a table which displays various rows of data. I want the functionality of this to be so that the user clicks on a row and then clicks a button do delete the row (this part works)</p>\n<p>Behind the scenes, I need to get the Item ID cell for the selected row, so that I can update my database (using MySQL).</p>\n<p>I am still looking through the documentation found here:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html</a></p>\n<p>Here is the code I am using to create the table. You can select the rows, and the row index is printed out. I assume this index will be used to access the specific cell I need to also print out the number in the Item ID cell for the current selected row:</p>\n<pre><code>import javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\n\nimport java.awt.Color;\n\npublic class App {\n\n    private static JTable loanedItemsTable;\n    private static JScrollPane tableScroll;\n    private static DefaultTableModel model;\n    private static int selectedRow;\n\n    public static void main(String[] args) throws Exception {\n\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n\n        frame.setSize(800,600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;table&quot;);\n        frame.setResizable(false);\n        \n        panel.setLayout(null);\n        panel.setBackground(Color.gray);\n        \n        frame.add(panel);\n        \n\n        //Items on loan table\n\n        String loanTableColumns [] = {\n\n            &quot;item ID&quot;,\n            &quot;Item Loaned&quot;,\n            &quot;Loan Start Date&quot;,\n            &quot;Return Date&quot;,\n            &quot;State&quot;,\n            &quot;Fee to pay&quot;,\n            &quot;Customer Name&quot;\n        };\n\n        String loanTableData [] [] = {\n\n            {&quot;1&quot;},\n            {&quot;2&quot;} \n        }\n        \n        ;\n\n        // adding loan table using a sroll pane\n\n        model = new DefaultTableModel(loanTableData, loanTableColumns);\n        \n        loanedItemsTable = new JTable(model){\n        public boolean editCellAt(int row, int column, java.util.EventObject e) {\n            return false;\n         }\n        };\n\n        tableScroll = new JScrollPane(loanedItemsTable);\n        tableScroll.setBounds(30, 60, 740, 400);\n        panel.add(tableScroll);\n\n        ListSelectionModel model = loanedItemsTable.getSelectionModel();\n        model.addListSelectionListener(new ListSelectionListener() {\n\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                \n                if(! model.isSelectionEmpty()){\n                    selectedRow = model.getMinSelectionIndex();\n\n                    System.out.println(selectedRow);\n                }\n            }\n            \n        });\n\n        frame.setVisible(true);\n    }\n}```\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":4736785,"reputation":466,"user_id":3830952,"accept_rate":62,"display_name":"G&#225;bor Major"},"score":1,"creation_date":1563196354,"post_id":50855021,"comment_id":100608707,"body_markdown":"Was there a resolution on this? I am seeing the same exception, login.html is in the templates folder, and Thymeleaf is constantly showing the same error.","body":"Was there a resolution on this? I am seeing the same exception, login.html is in the templates folder, and Thymeleaf is constantly showing the same error."}],"tags":[],"owner":{"account_id":8152308,"reputation":278,"user_id":6138927,"display_name":"AlieneilA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528971181,"creation_date":1528971181,"answer_id":50855021,"question_id":50854573,"body_markdown":"This problem comes from the Thymeleaf.\r\nIt is telling you that it cannot find &quot;login&quot; page in the &quot;templates&quot; directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uis6s.png\r\n\r\nAlso check if page has correct configuration: \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring boot custom login: &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>This problem comes from the Thymeleaf.\nIt is telling you that it cannot find \"login\" page in the \"templates\" directory.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Uis6s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uis6s.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also check if page has correct configuration: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14301114,"reputation":65,"user_id":10330415,"display_name":"Rok Klancar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680214483,"creation_date":1680214483,"answer_id":75893381,"question_id":50854573,"body_markdown":"AlieneilA is right.\r\nI had the same problem. As error message suggests, it is Thymeleaf&#39;s error. So to make it work, you can use the template in [https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html][1].\r\nThis is the official documentation, up to date, and at the end of the page you can see a simple implementation of a custom login page (luckily it&#39;s Thymeleaf template in the example).\r\n\r\nJust follow the example in documentation\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","title":"Spring boot custom login: &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>AlieneilA is right.\nI had the same problem. As error message suggests, it is Thymeleaf's error. So to make it work, you can use the template in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html</a>.\nThis is the official documentation, up to date, and at the end of the page you can see a simple implementation of a custom login page (luckily it's Thymeleaf template in the example).</p>\n<p>Just follow the example in documentation</p>\n"}],"owner":{"account_id":2566601,"reputation":3012,"user_id":2226468,"accept_rate":50,"display_name":"Rose18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680214483,"creation_date":1528969902,"question_id":50854573,"body_markdown":"I am trying to implement custom login with spring security. So I added below maven dependencies.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd my Security Config class\r\n\r\n\tpackage it.mine.my.web.config;\r\n\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n\t@EnableWebSecurity\r\n\tpublic class SecurityConfig extends WebSecurityConfigurerAdapter\r\n\t{\r\n\r\n\t\t@Override\r\n\t\tprotected void configure( HttpSecurity http ) throws Exception\r\n\t\t{\r\n\t\t\thttp\r\n\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers( &quot;/login&quot; )\r\n\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t.anyRequest()\r\n\t\t\t\t\t.authenticated()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginProcessingUrl( &quot;/process&quot; )\r\n\t\t\t\t\t.loginPage( &quot;/login&quot; )\r\n\t\t\t\t\t.usernameParameter( &quot;username&quot; )\r\n\t\t\t\t\t.passwordParameter( &quot;password&quot; )\r\n\t\t\t\t\t.defaultSuccessUrl( &quot;/test&quot;, true )\r\n\t\t\t\t\t.permitAll();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThen I created a LoginController as below.\r\n\r\n\tpackage it.mine.my.web.controller;\r\n\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.ui.Model;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.servlet.ModelAndView;\r\n\r\n\timport java.util.Locale;\r\n\r\n\t@Controller\r\n\tpublic class LoginController\r\n\t{\r\n\r\n\t\t@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.GET)\r\n\t\tpublic String login( @RequestParam(value = &quot;error&quot;, required = false) String error, @RequestParam(value = &quot;successMsg&quot;, required = false) String success, Model model, Locale loale )\r\n\t\t{\r\n\t\t\tmodel.addAttribute( &quot;error&quot;, error != null );\r\n\t\t\tmodel.addAttribute( &quot;errorMsg&quot;, error );\r\n\r\n\t\t\tmodel.addAttribute( &quot;success&quot;, success != null );\r\n\t\t\tmodel.addAttribute( &quot;successMsg&quot;, success );\r\n\r\n\t\t\tmodel.addAttribute( &quot;locale&quot;, loale.getLanguage() );\r\n\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nProject structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOnce run this application and hit http://localhost:8080/login in browser it prompt following error.\r\n\r\nIntellijIDEA console says,\r\n\r\n    org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\r\nAny suggestions are appreciated!\r\n\r\nThank You!\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9fFF4.png\r\n  [2]: https://i.stack.imgur.com/7DhDo.png","title":"Spring boot custom login: &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>I am trying to implement custom login with spring security. So I added below maven dependencies.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And my Security Config class</p>\n\n<pre><code>package it.mine.my.web.config;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n\n    @Override\n    protected void configure( HttpSecurity http ) throws Exception\n    {\n        http\n                .authorizeRequests()\n                .antMatchers( \"/login\" )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginProcessingUrl( \"/process\" )\n                .loginPage( \"/login\" )\n                .usernameParameter( \"username\" )\n                .passwordParameter( \"password\" )\n                .defaultSuccessUrl( \"/test\", true )\n                .permitAll();\n    }\n}\n</code></pre>\n\n<p>Then I created a LoginController as below.</p>\n\n<pre><code>package it.mine.my.web.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.util.Locale;\n\n@Controller\npublic class LoginController\n{\n\n    @RequestMapping(value = \"/login\", method = RequestMethod.GET)\n    public String login( @RequestParam(value = \"error\", required = false) String error, @RequestParam(value = \"successMsg\", required = false) String success, Model model, Locale loale )\n    {\n        model.addAttribute( \"error\", error != null );\n        model.addAttribute( \"errorMsg\", error );\n\n        model.addAttribute( \"success\", success != null );\n        model.addAttribute( \"successMsg\", success );\n\n        model.addAttribute( \"locale\", loale.getLanguage() );\n\n        return \"login\";\n    }\n\n}\n</code></pre>\n\n<p>Project structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/9fFF4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fFF4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Once run this application and hit <a href=\"http://localhost:8080/login\" rel=\"nofollow noreferrer\">http://localhost:8080/login</a> in browser it prompt following error.</p>\n\n<p>IntellijIDEA console says,</p>\n\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: Error resolving template \"login\", template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n\n<p>Any suggestions are appreciated!</p>\n\n<p>Thank You!</p>\n\n<p><a href=\"https://i.stack.imgur.com/7DhDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7DhDo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","exception","memory-leaks","out-of-memory","stack-overflow"],"comments":[{"owner":{"account_id":5727086,"reputation":610,"user_id":4523773,"display_name":"Danial Jalalnouri"},"score":0,"creation_date":1537329695,"post_id":214741,"comment_id":91739893,"body_markdown":"Stack size in java is small. And some times such as many recursive call you face this problem. You can redesign your code by loop. You can find general design pattern to do it in this url: http://www.jndanial.com/73/","body":"Stack size in java is small. And some times such as many recursive call you face this problem. You can redesign your code by loop. You can find general design pattern to do it in this url: <a href=\"http://www.jndanial.com/73/\" rel=\"nofollow noreferrer\">jndanial.com/73</a>"},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1543889009,"post_id":214741,"comment_id":94071604,"body_markdown":"One non-obvious way to get it: add the line `new Object() {{getClass().newInstance();}};` to some static context (e.g. `main` method). Doesn&#39;t work from instance context (throws only `InstantiationException`).","body":"One non-obvious way to get it: add the line <code>new Object() {{getClass().newInstance();}};</code> to some static context (e.g. <code>main</code> method). Doesn&#39;t work from instance context (throws only <code>InstantiationException</code>)."}],"answers":[{"comments":[{"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"score":1,"creation_date":1224318451,"post_id":214743,"comment_id":85319,"body_markdown":"I would totally like to add code, but as I don&#39;t know what causes stack overflows I am not sure what code to add. adding all the code would be lame, no?","body":"I would totally like to add code, but as I don&#39;t know what causes stack overflows I am not sure what code to add. adding all the code would be lame, no?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1224322642,"post_id":214743,"comment_id":85351,"body_markdown":"Is your project open-source? If so, just make a Sourceforge or github account, and upload all your code there. :-)","body":"Is your project open-source? If so, just make a Sourceforge or github account, and upload all your code there. :-)"},{"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"score":0,"creation_date":1224323361,"post_id":214743,"comment_id":85357,"body_markdown":"this sounds like a great idea, but I am such a noob that I don&#39;t even know what I would have to upload. Like, the library that I am importing classes that I am extending etc... are all unknowns to me. Oh man: bad times.","body":"this sounds like a great idea, but I am such a noob that I don&#39;t even know what I would have to upload. Like, the library that I am importing classes that I am extending etc... are all unknowns to me. Oh man: bad times."}],"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1224317839,"creation_date":1224317839,"answer_id":214743,"question_id":214741,"body_markdown":"Like you say, you need to show some code. :-)\r\n\r\nA stack overflow error usually happens when your function calls nest too deeply. See the [Stack Overflow Code Golf](https://stackoverflow.com/questions/62188/stack-overflow-code-golf-closed) thread for some examples of how this happens (though in the case of that question, the answers intentionally cause stack overflow).","title":"What is a StackOverflowError?","body":"<p>Like you say, you need to show some code. :-)</p>\n\n<p>A stack overflow error usually happens when your function calls nest too deeply. See the <a href=\"https://stackoverflow.com/questions/62188/stack-overflow-code-golf-closed\">Stack Overflow Code Golf</a> thread for some examples of how this happens (though in the case of that question, the answers intentionally cause stack overflow).</p>\n"},{"comments":[{"owner":{"account_id":12317,"reputation":317680,"user_id":24181,"accept_rate":77,"display_name":"Greg"},"score":1,"creation_date":1224318214,"post_id":214745,"comment_id":85313,"body_markdown":"Oops, didn&#39;t see the Java tag","body":"Oops, didn&#39;t see the Java tag"},{"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"score":0,"creation_date":1224318417,"post_id":214745,"comment_id":85317,"body_markdown":"Also, from the original poster here: nesting functions too deeply in what? Other functions? And: how does one allocate memory to the stack or heap (since, you know, I&#39;ve clearly done one of these things without knowing).","body":"Also, from the original poster here: nesting functions too deeply in what? Other functions? And: how does one allocate memory to the stack or heap (since, you know, I&#39;ve clearly done one of these things without knowing)."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1224321940,"post_id":214745,"comment_id":85345,"body_markdown":"@Ziggy: Yes, if one function calls another function, which calls yet another function, and so on, after many levels, your program will have a stack overflow. [continues]","body":"@Ziggy: Yes, if one function calls another function, which calls yet another function, and so on, after many levels, your program will have a stack overflow. [continues]"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1224322015,"post_id":214745,"comment_id":85346,"body_markdown":"[...continued] In Java, you can&#39;t directly allocate memory from the stack (whereas in C, you can, and this would then be something to watch for), so that&#39;s unlikely to be the cause. In Java, all direct allocations come from the heap, by using &quot;new&quot;.","body":"[...continued] In Java, you can&#39;t directly allocate memory from the stack (whereas in C, you can, and this would then be something to watch for), so that&#39;s unlikely to be the cause. In Java, all direct allocations come from the heap, by using &quot;new&quot;."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1327846109,"post_id":214745,"comment_id":11360367,"body_markdown":"@ChrisJester-Young Isn&#39;t it true that if I have 100 local variables in a method, **all** of it goes on the stack without exceptions?","body":"@ChrisJester-Young Isn&#39;t it true that if I have 100 local variables in a method, <b>all</b> of it goes on the stack without exceptions?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1327902824,"post_id":214745,"comment_id":11369835,"body_markdown":"@Pacerier: The local _variables_ are all on the stack, correct. However, if the variables are of reference type, the objects they point to are all allocated on the heap (except cases where escape analysis optimisation kicks in). (NB: In Java, arrays are of a reference type, even arrays of primitives.)","body":"@Pacerier: The local <i>variables</i> are all on the stack, correct. However, if the variables are of reference type, the objects they point to are all allocated on the heap (except cases where escape analysis optimisation kicks in). (NB: In Java, arrays are of a reference type, even arrays of primitives.)"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1327904034,"post_id":214745,"comment_id":11370037,"body_markdown":"@ChrisJester-Young Btw I was wondering is there **any chance** that a variable on the stack could be seen by other threads?","body":"@ChrisJester-Young Btw I was wondering is there <b>any chance</b> that a variable on the stack could be seen by other threads?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1327905649,"post_id":214745,"comment_id":11370304,"body_markdown":"@Pacerier: The variable itself? No (stacks are thread-local). The objects pointed to by reference variables? Yes.","body":"@Pacerier: The variable itself? No (stacks are thread-local). The objects pointed to by reference variables? Yes."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1327910431,"post_id":214745,"comment_id":11371182,"body_markdown":"@ChrisJester-Young sry I think I&#39;ve phrased it wrongly. I actually meant &quot;is there **any chance** a stack could be a non-thread-local stack&quot; ?","body":"@ChrisJester-Young sry I think I&#39;ve phrased it wrongly. I actually meant &quot;is there <b>any chance</b> a stack could be a non-thread-local stack&quot; ?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1327939832,"post_id":214745,"comment_id":11380058,"body_markdown":"@Pacerier: A non-thread-local stack doesn&#39;t make any sense: two threads would then scribble on each other&#39;s call frames!","body":"@Pacerier: A non-thread-local stack doesn&#39;t make any sense: two threads would then scribble on each other&#39;s call frames!"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1327996204,"post_id":214745,"comment_id":11393818,"body_markdown":"@ChrisJester-Young Do you mean that primitive variables that are shared across threads are allocated on the heap?","body":"@ChrisJester-Young Do you mean that primitive variables that are shared across threads are allocated on the heap?"}],"tags":[],"owner":{"account_id":12317,"reputation":317680,"user_id":24181,"accept_rate":77,"display_name":"Greg"},"comment_count":11,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1224317955,"creation_date":1224317955,"answer_id":214745,"question_id":214741,"body_markdown":"A stack overflow is usually called by nesting function calls too deeply (especially easy when using recursion, i.e. a function that calls itself) or allocating a large amount of memory on the stack where using the heap would be more appropriate.","title":"What is a StackOverflowError?","body":"<p>A stack overflow is usually called by nesting function calls too deeply (especially easy when using recursion, i.e. a function that calls itself) or allocating a large amount of memory on the stack where using the heap would be more appropriate.</p>\n"},{"comments":[{"owner":{"account_id":11298,"reputation":24843,"user_id":21711,"accept_rate":91,"display_name":"Cheery"},"score":14,"creation_date":1224322166,"post_id":214756,"comment_id":85348,"body_markdown":"Wrong. Your function is tail-recursive. Most compiled languages have tail-recursion optimizations. This means the recursion reduces into a simple loop and you will never hit stack overflow with this piece of code on some systems.","body":"Wrong. Your function is tail-recursive. Most compiled languages have tail-recursion optimizations. This means the recursion reduces into a simple loop and you will never hit stack overflow with this piece of code on some systems."},{"owner":{"account_id":25839,"reputation":29525,"user_id":66725,"accept_rate":74,"display_name":"horseyguy"},"score":0,"creation_date":1249933952,"post_id":214756,"comment_id":1083797,"body_markdown":"Cheery, which non-functional languages support tail recursion?","body":"Cheery, which non-functional languages support tail recursion?"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1327846027,"post_id":214756,"comment_id":11360346,"body_markdown":"@banister and some implementations of javascript","body":"@banister and some implementations of javascript"},{"owner":{"account_id":4755650,"reputation":1737,"user_id":3844490,"display_name":"AKs"},"score":0,"creation_date":1511117429,"post_id":214756,"comment_id":81713679,"body_markdown":"@horseyguy Scala has support for Tail recursion.","body":"@horseyguy Scala has support for Tail recursion."},{"owner":{"display_name":"user1300214"},"score":1,"creation_date":1516314930,"post_id":214756,"comment_id":83648648,"body_markdown":"This captures the essence of what can create a stack overflow. Nice.","body":"This captures the essence of what can create a stack overflow. Nice."}],"tags":[],"owner":{"account_id":10853,"reputation":13098,"user_id":20686,"display_name":"Khoth"},"comment_count":5,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1224318696,"creation_date":1224318696,"answer_id":214756,"question_id":214741,"body_markdown":"If you have a function like:\r\n\r\n    int foo()\r\n    {\r\n        // more stuff\r\n        foo();\r\n    }\r\n\r\nThen foo() will keep calling itself, getting deeper and deeper, and when the space used to keep track of what functions you&#39;re in is filled up, you get the stack overflow error.","title":"What is a StackOverflowError?","body":"<p>If you have a function like:</p>\n\n<pre><code>int foo()\n{\n    // more stuff\n    foo();\n}\n</code></pre>\n\n<p>Then foo() will keep calling itself, getting deeper and deeper, and when the space used to keep track of what functions you're in is filled up, you get the stack overflow error.</p>\n"},{"comments":[{"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"score":3,"creation_date":1224320691,"post_id":214758,"comment_id":85335,"body_markdown":"Original poster: hey this is great. So recursion is always responsible  for stack overflows? Or can other things be responsible for them as well?\n\nUnfortunately I am using a library... but not one that I understand.","body":"Original poster: hey this is great. So recursion is always responsible  for stack overflows? Or can other things be responsible for them as well?  Unfortunately I am using a library... but not one that I understand."},{"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"score":5,"creation_date":1224329191,"post_id":214758,"comment_id":85403,"body_markdown":"Ha ha ha, so here it is: while (points &lt; 100) {addMouseListeners(); moveball(); checkforcollision(); pause(speed);} Wow do I feel lame for not realizing that I would end up with a stackfull of mouse listeners... Thanks guys!","body":"Ha ha ha, so here it is: while (points &lt; 100) {addMouseListeners(); moveball(); checkforcollision(); pause(speed);} Wow do I feel lame for not realizing that I would end up with a stackfull of mouse listeners... Thanks guys!"},{"owner":{"account_id":5435,"reputation":11870,"user_id":8745,"display_name":"JB King"},"score":9,"creation_date":1225841428,"post_id":214758,"comment_id":120164,"body_markdown":"No, stack overflows can also come from variables being too big to allocate on the stack if you look up the Wikipedia article on it at http://en.wikipedia.org/wiki/Stack_overflow .","body":"No, stack overflows can also come from variables being too big to allocate on the stack if you look up the Wikipedia article on it at <a href=\"http://en.wikipedia.org/wiki/Stack_overflow\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Stack_overflow</a> ."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":10,"creation_date":1390658981,"post_id":214758,"comment_id":32192237,"body_markdown":"It should be pointed out that it&#39;s *almost* impossible to &quot;handle&quot; a stack overflow error.  In most environments, to handle the error one needs to run code on the stack, which is difficult if there is no more stack space.","body":"It should be pointed out that it&#39;s <i>almost</i> impossible to &quot;handle&quot; a stack overflow error.  In most environments, to handle the error one needs to run code on the stack, which is difficult if there is no more stack space."},{"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"score":0,"creation_date":1421979768,"post_id":214758,"comment_id":44579435,"body_markdown":"Java keeps heap and stack in different memory areas. (Most JVMs do, anyway.) They don&#39;t collide, the stack simply has a limited size. (Can be set with -Xss at program start.) Otherwise, the explanation is fine.","body":"Java keeps heap and stack in different memory areas. (Most JVMs do, anyway.) They don&#39;t collide, the stack simply has a limited size. (Can be set with -Xss at program start.) Otherwise, the explanation is fine."},{"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"score":7,"creation_date":1421979954,"post_id":214758,"comment_id":44579476,"body_markdown":"@JB King: Doesn&#39;t really apply to Java, where only primitive types and references are kept on the stack. All the big stuff (arrays and objects) is on the heap.","body":"@JB King: Doesn&#39;t really apply to Java, where only primitive types and references are kept on the stack. All the big stuff (arrays and objects) is on the heap."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1455233030,"post_id":214758,"comment_id":58411347,"body_markdown":"@HotLicks Code doesn&#39;t run on the stack.","body":"@HotLicks Code doesn&#39;t run on the stack."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":2,"creation_date":1455249000,"post_id":214758,"comment_id":58415839,"body_markdown":"@EJP - I could have phrased that a little better.   In most environments, to handle the error one needs to run code which utilizes the stack for call/return and variable storage -- difficult if there is no more stack space.","body":"@EJP - I could have phrased that a little better.   In most environments, to handle the error one needs to run code which utilizes the stack for call/return and variable storage -- difficult if there is no more stack space."},{"owner":{"account_id":2829409,"reputation":3954,"user_id":2431281,"accept_rate":83,"display_name":"Keale"},"score":0,"creation_date":1528362821,"post_id":214758,"comment_id":88482152,"body_markdown":"@Sean, I have approved an [edit proposal](https://stackoverflow.com/review/suggested-edits/19953978) to your answer, and added a [minor clarification](https://stackoverflow.com/revisions/214758/7) myself. I&#39;m not a native speaker, though I&#39;m fairly confident in my English, and this clarification is how I understood that particular sentence. If I misunderstood then please feel free to rollback :) Cheers~","body":"@Sean, I have approved an <a href=\"https://stackoverflow.com/review/suggested-edits/19953978\">edit proposal</a> to your answer, and added a <a href=\"https://stackoverflow.com/revisions/214758/7\">minor clarification</a> myself. I&#39;m not a native speaker, though I&#39;m fairly confident in my English, and this clarification is how I understood that particular sentence. If I misunderstood then please feel free to rollback :) Cheers~"}],"tags":[],"owner":{"account_id":13088,"reputation":61347,"user_id":26095,"accept_rate":83,"display_name":"Sean"},"comment_count":9,"down_vote_count":1,"up_vote_count":462,"is_accepted":true,"score":461,"last_activity_date":1560716727,"creation_date":1224318871,"answer_id":214758,"question_id":214741,"body_markdown":"Parameters and local variables are allocated on the **stack** (with reference types, the object lives on the **heap** and a variable in the stack references that object on the heap). The stack typically lives at the **upper** end of your address space and as it is used up it heads towards the **bottom** of the address space (i.e. towards zero).\r\n\r\nYour process also has a **heap**, which lives at the **bottom** end of your process. As you allocate memory, this heap can grow towards the upper end of your address space. As you can see, there is a potential for the heap to **&quot;collide&quot;** with the stack (a bit like tectonic plates!!!).\r\n\r\nThe common cause for a stack overflow is a **bad recursive call**. Typically, this is caused when your recursive functions doesn&#39;t have the correct termination condition, so it ends up calling itself forever. Or when the termination condition is fine, it can be caused by requiring too many recursive calls before fulfilling it.\r\n\r\nHowever, with GUI programming, it&#39;s possible to generate **indirect recursion**. For example, your app may be handling paint messages, and, whilst processing them, it may call a function that causes the system to send another paint message. Here you&#39;ve not explicitly called yourself, but the OS/VM has done it for you.\r\n\r\nTo deal with them, you&#39;ll need to examine your code. If you&#39;ve got functions that call themselves then check that you&#39;ve got a terminating condition. If you have, then check that when calling the function you have at least modified one of the arguments, otherwise there&#39;ll be no visible change for the recursively called function and the terminating condition is useless. Also mind that your stack space can run out of memory before reaching a valid terminating condition, thus make sure your method can handle input values requiring more recursive calls.\r\n\r\nIf you&#39;ve got no obvious recursive functions then check to see if you&#39;re calling any library functions that **indirectly** will cause your function to be called (like the implicit case above).","title":"What is a StackOverflowError?","body":"<p>Parameters and local variables are allocated on the <strong>stack</strong> (with reference types, the object lives on the <strong>heap</strong> and a variable in the stack references that object on the heap). The stack typically lives at the <strong>upper</strong> end of your address space and as it is used up it heads towards the <strong>bottom</strong> of the address space (i.e. towards zero).</p>\n\n<p>Your process also has a <strong>heap</strong>, which lives at the <strong>bottom</strong> end of your process. As you allocate memory, this heap can grow towards the upper end of your address space. As you can see, there is a potential for the heap to <strong>\"collide\"</strong> with the stack (a bit like tectonic plates!!!).</p>\n\n<p>The common cause for a stack overflow is a <strong>bad recursive call</strong>. Typically, this is caused when your recursive functions doesn't have the correct termination condition, so it ends up calling itself forever. Or when the termination condition is fine, it can be caused by requiring too many recursive calls before fulfilling it.</p>\n\n<p>However, with GUI programming, it's possible to generate <strong>indirect recursion</strong>. For example, your app may be handling paint messages, and, whilst processing them, it may call a function that causes the system to send another paint message. Here you've not explicitly called yourself, but the OS/VM has done it for you.</p>\n\n<p>To deal with them, you'll need to examine your code. If you've got functions that call themselves then check that you've got a terminating condition. If you have, then check that when calling the function you have at least modified one of the arguments, otherwise there'll be no visible change for the recursively called function and the terminating condition is useless. Also mind that your stack space can run out of memory before reaching a valid terminating condition, thus make sure your method can handle input values requiring more recursive calls.</p>\n\n<p>If you've got no obvious recursive functions then check to see if you're calling any library functions that <strong>indirectly</strong> will cause your function to be called (like the implicit case above).</p>\n"},{"tags":[],"owner":{"account_id":4331,"reputation":103076,"user_id":6461,"accept_rate":83,"display_name":"splattne"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1224319411,"creation_date":1224319411,"answer_id":214770,"question_id":214741,"body_markdown":"The most common cause of stack overflows is **excessively deep or infinite recursion**. If this is your problem, [this tutorial about Java Recursion][1] could help understand the problem.\r\n\r\n\r\n  [1]: http://danzig.jct.ac.il/java_class/recursion.html","title":"What is a StackOverflowError?","body":"<p>The most common cause of stack overflows is <strong>excessively deep or infinite recursion</strong>. If this is your problem, <a href=\"http://danzig.jct.ac.il/java_class/recursion.html\" rel=\"noreferrer\">this tutorial about Java Recursion</a> could help understand the problem.</p>\n"},{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":5,"creation_date":1327846146,"post_id":214839,"comment_id":11360375,"body_markdown":"Is there such a thing as a stack *underflow* ?","body":"Is there such a thing as a stack <i>underflow</i> ?"},{"owner":{"account_id":1098700,"reputation":1209,"user_id":1091693,"display_name":"Score_Under"},"score":6,"creation_date":1360368844,"post_id":214839,"comment_id":20699201,"body_markdown":"A stack underflow is possible in assembly (popping more than you pushed), though in compiled languages it&#39;d be near impossible. I&#39;m not sure, you might be able to find an implementation of C&#39;s alloca() which &quot;supports&quot; negative sizes.","body":"A stack underflow is possible in assembly (popping more than you pushed), though in compiled languages it&#39;d be near impossible. I&#39;m not sure, you might be able to find an implementation of C&#39;s alloca() which &quot;supports&quot; negative sizes."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":2,"creation_date":1430603922,"post_id":214839,"comment_id":48134265,"body_markdown":"Stack overflow means exactly that: a stack overflows. Usually there&#39;s a one stack in the program that contains local-scope variables  -&gt; No, every thread has its own stack which contains stack frames for every method invocation that contains local variables..","body":"Stack overflow means exactly that: a stack overflows. Usually there&#39;s a one stack in the program that contains local-scope variables  -&gt; No, every thread has its own stack which contains stack frames for every method invocation that contains local variables.."}],"tags":[],"owner":{"account_id":11298,"reputation":24843,"user_id":21711,"accept_rate":91,"display_name":"Cheery"},"comment_count":3,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1224324362,"creation_date":1224324362,"answer_id":214839,"question_id":214741,"body_markdown":"Stack overflow means exactly that: a stack overflows. Usually there&#39;s a one stack in the program that contains local-scope variables and addresses where to return when execution of a routine ends. That stack tends to be a fixed memory range somewhere in the memory, therefore it&#39;s limited how much it can contain values.\r\n\r\nIf the stack is empty you can&#39;t pop, if you do you&#39;ll get stack underflow error.\r\n\r\nIf the stack is full you can&#39;t push, if you do you&#39;ll get stack overflow error.\r\n\r\nSo stack overflow appears where you allocate too much into the stack. For instance, in the mentioned recursion.\r\n\r\nSome implementations optimize out some forms of recursions. Tail recursion in particular. Tail recursive routines are form of routines where the recursive call appears as a final thing what the routine does. Such routine call gets simply reduced into a jump.\r\n\r\nSome implementations go so far as implement their own stacks for recursion, therefore they allow the recursion to continue until the system runs out of memory.\r\n\r\nEasiest thing you could try would be to increase your stack size if you can. If you can&#39;t do that though, the second best thing would be to look whether there&#39;s something that clearly causes the stack overflow. Try it by printing something before and after the call into routine. This helps you to find out the failing routine.","title":"What is a StackOverflowError?","body":"<p>Stack overflow means exactly that: a stack overflows. Usually there's a one stack in the program that contains local-scope variables and addresses where to return when execution of a routine ends. That stack tends to be a fixed memory range somewhere in the memory, therefore it's limited how much it can contain values.</p>\n\n<p>If the stack is empty you can't pop, if you do you'll get stack underflow error.</p>\n\n<p>If the stack is full you can't push, if you do you'll get stack overflow error.</p>\n\n<p>So stack overflow appears where you allocate too much into the stack. For instance, in the mentioned recursion.</p>\n\n<p>Some implementations optimize out some forms of recursions. Tail recursion in particular. Tail recursive routines are form of routines where the recursive call appears as a final thing what the routine does. Such routine call gets simply reduced into a jump.</p>\n\n<p>Some implementations go so far as implement their own stacks for recursion, therefore they allow the recursion to continue until the system runs out of memory.</p>\n\n<p>Easiest thing you could try would be to increase your stack size if you can. If you can't do that though, the second best thing would be to look whether there's something that clearly causes the stack overflow. Try it by printing something before and after the call into routine. This helps you to find out the failing routine.</p>\n"},{"tags":[],"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1526486260,"creation_date":1342560224,"answer_id":11531095,"question_id":214741,"body_markdown":"`StackOverflowError` is to the stack as `OutOfMemoryError` is to the heap.\r\n\r\nUnbounded recursive calls result in stack space being used up. \r\n\r\nThe following example produces `StackOverflowError`:\r\n\r\n    class  StackOverflowDemo\r\n    {\r\n        public static void unboundedRecursiveCall() {\r\n    \t unboundedRecursiveCall();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tunboundedRecursiveCall();\r\n    \t}\r\n    }\r\n\r\n`StackOverflowError` is avoidable if recursive calls are bounded to prevent the aggregate total of incomplete in-memory calls (in bytes) from exceeding the stack size (in bytes).\r\n\r\n","title":"What is a StackOverflowError?","body":"<p><code>StackOverflowError</code> is to the stack as <code>OutOfMemoryError</code> is to the heap.</p>\n\n<p>Unbounded recursive calls result in stack space being used up. </p>\n\n<p>The following example produces <code>StackOverflowError</code>:</p>\n\n<pre><code>class  StackOverflowDemo\n{\n    public static void unboundedRecursiveCall() {\n     unboundedRecursiveCall();\n    }\n\n    public static void main(String[] args) \n    {\n        unboundedRecursiveCall();\n    }\n}\n</code></pre>\n\n<p><code>StackOverflowError</code> is avoidable if recursive calls are bounded to prevent the aggregate total of incomplete in-memory calls (in bytes) from exceeding the stack size (in bytes).</p>\n"},{"comments":[{"owner":{"account_id":974838,"reputation":807,"user_id":996443,"accept_rate":100,"display_name":"kevin"},"score":0,"creation_date":1382579318,"post_id":14366600,"comment_id":29018361,"body_markdown":"I think with JVM, it doesn&#39;t actually matter what the spec your laptop is.","body":"I think with JVM, it doesn&#39;t actually matter what the spec your laptop is."}],"tags":[],"owner":{"account_id":1252576,"reputation":2885,"user_id":1212682,"display_name":"Yiling"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633419041,"creation_date":1358365792,"answer_id":14366600,"question_id":214741,"body_markdown":"Here is an example of a recursive algorithm for reversing a singly linked list. On a laptop (with the specifications 4&amp;nbsp;GB memory, Intel [Core&amp;nbsp;i5][1] 2.3&amp;nbsp;GHz CPU 64 bit and Windows 7), this function will run into StackOverflow error for a linked list of size close to 10,000.\r\n\r\nMy point is that we should use recursion judiciously, always taking into account of the scale of the system.\r\n\r\nOften recursion can be converted to iterative program, which scales better. (One iterative version of the same algorithm is given at the bottom of the page. It reverses a singly linked list of size 1 million in 9 milliseconds.)\r\n\r\n    private static LinkedListNode doReverseRecursively(LinkedListNode x, LinkedListNode first){\r\n\r\n        LinkedListNode second = first.next;\r\n\r\n        first.next = x;\r\n\r\n        if(second != null){\r\n            return doReverseRecursively(first, second);\r\n        }else{\r\n            return first;\r\n        }\r\n    }\r\n\r\n\r\n    public static LinkedListNode reverseRecursively(LinkedListNode head){\r\n        return doReverseRecursively(null, head);\r\n    }\r\n\r\n**Iterative Version of the Same Algorithm:**\r\n\r\n    public static LinkedListNode reverseIteratively(LinkedListNode head){\r\n        return doReverseIteratively(null, head);\r\n    }\r\n\r\n\r\n    private static LinkedListNode doReverseIteratively(LinkedListNode x, LinkedListNode first) {\r\n\r\n        while (first != null) {\r\n            LinkedListNode second = first.next;\r\n            first.next = x;\r\n            x = first;\r\n\r\n            if (second == null) {\r\n                break;\r\n            } else {\r\n                first = second;\r\n            }\r\n        }\r\n        return first;\r\n    }\r\n\r\n\r\n    public static LinkedListNode reverseIteratively(LinkedListNode head){\r\n        return doReverseIteratively(null, head);\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Intel_Core#Core_i5\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>Here is an example of a recursive algorithm for reversing a singly linked list. On a laptop (with the specifications 4 GB memory, Intel <a href=\"https://en.wikipedia.org/wiki/Intel_Core#Core_i5\" rel=\"nofollow noreferrer\">Core i5</a> 2.3 GHz CPU 64 bit and Windows 7), this function will run into StackOverflow error for a linked list of size close to 10,000.</p>\n<p>My point is that we should use recursion judiciously, always taking into account of the scale of the system.</p>\n<p>Often recursion can be converted to iterative program, which scales better. (One iterative version of the same algorithm is given at the bottom of the page. It reverses a singly linked list of size 1 million in 9 milliseconds.)</p>\n<pre><code>private static LinkedListNode doReverseRecursively(LinkedListNode x, LinkedListNode first){\n\n    LinkedListNode second = first.next;\n\n    first.next = x;\n\n    if(second != null){\n        return doReverseRecursively(first, second);\n    }else{\n        return first;\n    }\n}\n\n\npublic static LinkedListNode reverseRecursively(LinkedListNode head){\n    return doReverseRecursively(null, head);\n}\n</code></pre>\n<p><strong>Iterative Version of the Same Algorithm:</strong></p>\n<pre><code>public static LinkedListNode reverseIteratively(LinkedListNode head){\n    return doReverseIteratively(null, head);\n}\n\n\nprivate static LinkedListNode doReverseIteratively(LinkedListNode x, LinkedListNode first) {\n\n    while (first != null) {\n        LinkedListNode second = first.next;\n        first.next = x;\n        x = first;\n\n        if (second == null) {\n            break;\n        } else {\n            first = second;\n        }\n    }\n    return first;\n}\n\n\npublic static LinkedListNode reverseIteratively(LinkedListNode head){\n    return doReverseIteratively(null, head);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6418544,"reputation":636,"user_id":4975918,"accept_rate":100,"display_name":"John S."},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1455231753,"creation_date":1455231753,"answer_id":35351814,"question_id":214741,"body_markdown":"Here&#39;s an example\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(add5(1));\r\n    }\r\n\t\r\n    public static int add5(int a) {\r\n        return add5(a) + 5;\r\n    }\r\n\r\nA StackOverflowError basically is when you try to do something, that most likely calls itself, and goes on for infinity (or until it gives a StackOverflowError).\r\n\r\n`add5(a)` will call itself, and then call itself again, and so on.","title":"What is a StackOverflowError?","body":"<p>Here's an example</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(add5(1));\n}\n\npublic static int add5(int a) {\n    return add5(a) + 5;\n}\n</code></pre>\n\n<p>A StackOverflowError basically is when you try to do something, that most likely calls itself, and goes on for infinity (or until it gives a StackOverflowError).</p>\n\n<p><code>add5(a)</code> will call itself, and then call itself again, and so on.</p>\n"},{"tags":[],"owner":{"account_id":5694835,"reputation":329,"user_id":4501631,"accept_rate":44,"display_name":"Rahul Sah"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633419194,"creation_date":1490872137,"answer_id":43116131,"question_id":214741,"body_markdown":"A `StackOverflowError` is a runtime error in Java.\r\n\r\nIt is thrown when the amount of call stack memory allocated by the JVM is exceeded.\r\n\r\nA common case of a `StackOverflowError` being thrown, is when the call stack exceeds due to excessive deep or infinite recursion.\r\n\r\nExample:\r\n\r\n    public class Factorial {\r\n        public static int factorial(int n){\r\n            if(n == 1){\r\n                return 1;\r\n            }\r\n            else{\r\n                return n * factorial(n-1);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args){\r\n             System.out.println(&quot;Main method started&quot;);\r\n            int result = Factorial.factorial(-1);\r\n            System.out.println(&quot;Factorial ==&gt;&quot;+result);\r\n            System.out.println(&quot;Main method ended&quot;);\r\n        }\r\n    }\r\n\r\nStack trace:\r\n\r\n```lang-none\r\nMain method started\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\r\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\r\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\r\n```\r\n\r\nIn the above case, it can be avoided by doing programmatic changes.\r\nBut if the program logic is correct and it still occurs then your stack size needs to be increased.\r\n\r\n\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>A <code>StackOverflowError</code> is a runtime error in Java.</p>\n<p>It is thrown when the amount of call stack memory allocated by the JVM is exceeded.</p>\n<p>A common case of a <code>StackOverflowError</code> being thrown, is when the call stack exceeds due to excessive deep or infinite recursion.</p>\n<p>Example:</p>\n<pre><code>public class Factorial {\n    public static int factorial(int n){\n        if(n == 1){\n            return 1;\n        }\n        else{\n            return n * factorial(n-1);\n        }\n    }\n\n    public static void main(String[] args){\n         System.out.println(&quot;Main method started&quot;);\n        int result = Factorial.factorial(-1);\n        System.out.println(&quot;Factorial ==&gt;&quot;+result);\n        System.out.println(&quot;Main method ended&quot;);\n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main method started\nException in thread &quot;main&quot; java.lang.StackOverflowError\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\n</code></pre>\n<p>In the above case, it can be avoided by doing programmatic changes.\nBut if the program logic is correct and it still occurs then your stack size needs to be increased.</p>\n"},{"tags":[],"owner":{"display_name":"user8389458"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1633418161,"creation_date":1522672573,"answer_id":49611422,"question_id":214741,"body_markdown":"This is a typical case of `java.lang.StackOverflowError`... The method is recursively calling itself with no exit in `doubleValue()`, `floatValue()`, etc.\r\n\r\n### File *Rational.java*\r\n\r\n```lang-java\r\npublic class Rational extends Number implements Comparable&lt;Rational&gt; {\r\n    private int num;\r\n    private int denom;\r\n\r\n    public Rational(int num, int denom) {\r\n        this.num = num;\r\n        this.denom = denom;\r\n    }\r\n\r\n    public int compareTo(Rational r) {\r\n        if ((num / denom) - (r.num / r.denom) &gt; 0) {\r\n            return +1;\r\n        } else if ((num / denom) - (r.num / r.denom) &lt; 0) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public Rational add(Rational r) {\r\n        return new Rational(num + r.num, denom + r.denom);\r\n    }\r\n\r\n    public Rational sub(Rational r) {\r\n        return new Rational(num - r.num, denom - r.denom);\r\n    }\r\n\r\n    public Rational mul(Rational r) {\r\n        return new Rational(num * r.num, denom * r.denom);\r\n    }\r\n\r\n    public Rational div(Rational r) {\r\n        return new Rational(num * r.denom, denom * r.num);\r\n    }\r\n\r\n    public int gcd(Rational r) {\r\n        int i = 1;\r\n        while (i != 0) {\r\n            i = denom % r.denom;\r\n            denom = r.denom;\r\n            r.denom = i;\r\n        }\r\n        return denom;\r\n    }\r\n\r\n    public String toString() {\r\n        String a = num + &quot;/&quot; + denom;\r\n        return a;\r\n    }\r\n\r\n    public double doubleValue() {\r\n        return (double) doubleValue();\r\n    }\r\n\r\n    public float floatValue() {\r\n        return (float) floatValue();\r\n    }\r\n\r\n    public int intValue() {\r\n        return (int) intValue();\r\n    }\r\n\r\n    public long longValue() {\r\n        return (long) longValue();\r\n    }\r\n}\r\n```\r\n\r\n### File *Main.java*\r\n\r\n```lang-java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Rational a = new Rational(2, 4);\r\n        Rational b = new Rational(2, 6);\r\n\r\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + a.add(b));\r\n        System.out.println(a + &quot; - &quot; + b + &quot; = &quot; + a.sub(b));\r\n        System.out.println(a + &quot; * &quot; + b + &quot; = &quot; + a.mul(b));\r\n        System.out.println(a + &quot; / &quot; + b + &quot; = &quot; + a.div(b));\r\n\r\n        Rational[] arr = {new Rational(7, 1), new Rational(6, 1),\r\n                new Rational(5, 1), new Rational(4, 1),\r\n                new Rational(3, 1), new Rational(2, 1),\r\n                new Rational(1, 1), new Rational(1, 2),\r\n                new Rational(1, 3), new Rational(1, 4),\r\n                new Rational(1, 5), new Rational(1, 6),\r\n                new Rational(1, 7), new Rational(1, 8),\r\n                new Rational(1, 9), new Rational(0, 1)};\r\n\r\n        selectSort(arr);\r\n\r\n        for (int i = 0; i &lt; arr.length - 1; ++i) {\r\n            if (arr[i].compareTo(arr[i + 1]) &gt; 0) {\r\n                System.exit(1);\r\n            }\r\n        }\r\n\r\n\r\n        Number n = new Rational(3, 2);\r\n\r\n        System.out.println(n.doubleValue());\r\n        System.out.println(n.floatValue());\r\n        System.out.println(n.intValue());\r\n        System.out.println(n.longValue());\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void selectSort(T[] array) {\r\n\r\n        T temp;\r\n        int mini;\r\n\r\n        for (int i = 0; i &lt; array.length - 1; ++i) {\r\n\r\n            mini = i;\r\n\r\n            for (int j = i + 1; j &lt; array.length; ++j) {\r\n                if (array[j].compareTo(array[mini]) &lt; 0) {\r\n                    mini = j;\r\n                }\r\n            }\r\n\r\n            if (i != mini) {\r\n                temp = array[i];\r\n                array[i] = array[mini];\r\n                array[mini] = temp;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Result\r\n\r\n```lang-none\r\n2/4 + 2/6 = 4/10\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n2/4 - 2/6 = 0/-2\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n2/4 * 2/6 = 4/24\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n2/4 / 2/6 = 12/8\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n```\r\n\r\n[Here is the source code of `StackOverflowError` in OpenJDK 7][1].\r\n\r\n  [1]: https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/StackOverflowError.java\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>This is a typical case of <code>java.lang.StackOverflowError</code>... The method is recursively calling itself with no exit in <code>doubleValue()</code>, <code>floatValue()</code>, etc.</p>\n<h3>File <em>Rational.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Rational extends Number implements Comparable&lt;Rational&gt; {\n    private int num;\n    private int denom;\n\n    public Rational(int num, int denom) {\n        this.num = num;\n        this.denom = denom;\n    }\n\n    public int compareTo(Rational r) {\n        if ((num / denom) - (r.num / r.denom) &gt; 0) {\n            return +1;\n        } else if ((num / denom) - (r.num / r.denom) &lt; 0) {\n            return -1;\n        }\n        return 0;\n    }\n\n    public Rational add(Rational r) {\n        return new Rational(num + r.num, denom + r.denom);\n    }\n\n    public Rational sub(Rational r) {\n        return new Rational(num - r.num, denom - r.denom);\n    }\n\n    public Rational mul(Rational r) {\n        return new Rational(num * r.num, denom * r.denom);\n    }\n\n    public Rational div(Rational r) {\n        return new Rational(num * r.denom, denom * r.num);\n    }\n\n    public int gcd(Rational r) {\n        int i = 1;\n        while (i != 0) {\n            i = denom % r.denom;\n            denom = r.denom;\n            r.denom = i;\n        }\n        return denom;\n    }\n\n    public String toString() {\n        String a = num + &quot;/&quot; + denom;\n        return a;\n    }\n\n    public double doubleValue() {\n        return (double) doubleValue();\n    }\n\n    public float floatValue() {\n        return (float) floatValue();\n    }\n\n    public int intValue() {\n        return (int) intValue();\n    }\n\n    public long longValue() {\n        return (long) longValue();\n    }\n}\n</code></pre>\n<h3>File <em>Main.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Rational a = new Rational(2, 4);\n        Rational b = new Rational(2, 6);\n\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + a.add(b));\n        System.out.println(a + &quot; - &quot; + b + &quot; = &quot; + a.sub(b));\n        System.out.println(a + &quot; * &quot; + b + &quot; = &quot; + a.mul(b));\n        System.out.println(a + &quot; / &quot; + b + &quot; = &quot; + a.div(b));\n\n        Rational[] arr = {new Rational(7, 1), new Rational(6, 1),\n                new Rational(5, 1), new Rational(4, 1),\n                new Rational(3, 1), new Rational(2, 1),\n                new Rational(1, 1), new Rational(1, 2),\n                new Rational(1, 3), new Rational(1, 4),\n                new Rational(1, 5), new Rational(1, 6),\n                new Rational(1, 7), new Rational(1, 8),\n                new Rational(1, 9), new Rational(0, 1)};\n\n        selectSort(arr);\n\n        for (int i = 0; i &lt; arr.length - 1; ++i) {\n            if (arr[i].compareTo(arr[i + 1]) &gt; 0) {\n                System.exit(1);\n            }\n        }\n\n\n        Number n = new Rational(3, 2);\n\n        System.out.println(n.doubleValue());\n        System.out.println(n.floatValue());\n        System.out.println(n.intValue());\n        System.out.println(n.longValue());\n    }\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void selectSort(T[] array) {\n\n        T temp;\n        int mini;\n\n        for (int i = 0; i &lt; array.length - 1; ++i) {\n\n            mini = i;\n\n            for (int j = i + 1; j &lt; array.length; ++j) {\n                if (array[j].compareTo(array[mini]) &lt; 0) {\n                    mini = j;\n                }\n            }\n\n            if (i != mini) {\n                temp = array[i];\n                array[i] = array[mini];\n                array[mini] = temp;\n            }\n        }\n    }\n}\n</code></pre>\n<h3>Result</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2/4 + 2/6 = 4/10\nException in thread &quot;main&quot; java.lang.StackOverflowError\n2/4 - 2/6 = 0/-2\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n2/4 * 2/6 = 4/24\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n2/4 / 2/6 = 12/8\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n</code></pre>\n<p><a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/StackOverflowError.java\" rel=\"nofollow noreferrer\">Here is the source code of <code>StackOverflowError</code> in OpenJDK 7</a>.</p>\n"},{"tags":[],"owner":{"account_id":2105859,"reputation":650,"user_id":1872207,"accept_rate":60,"display_name":"Kaliappan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633417558,"creation_date":1582728029,"answer_id":60416391,"question_id":214741,"body_markdown":"In a crunch, the below situation will bring a stack overflow error.\r\n\r\n    public class Example3 {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            main(new String[1]);\r\n        }\r\n\r\n    }\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>In a crunch, the below situation will bring a stack overflow error.</p>\n<pre><code>public class Example3 {\n\n    public static void main(String[] args) {\n\n        main(new String[1]);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18780810,"reputation":108,"user_id":13695519,"display_name":"MrIo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679923748,"creation_date":1594293340,"answer_id":62813612,"question_id":214741,"body_markdown":"The stack has a space limit that depends on the operating system. The normal size is 8&amp;nbsp;MB (in [Ubuntu][1] (Linux), you can check that limit with `$ ulimit -u` and it can be checked in other OS similarly). Any program makes use of the stack at runtime, but to fully know when it is used you need to check the assembly language. In x86_64 for example, the stack is used to:\r\n\r\n1. Save the return address when making a procedure call\r\n2. Save local variables\r\n3. Save special registers to restore them later\r\n4. Pass arguments to a procedure call (when there are more than 6 integers parameters and/or more than 8 floating-point parameters)\r\n5. Other: random unused stack base, canary values, padding, ... etc.\r\n\r\nIf you don&#39;t know x86_64 (normal case) you only need to know when the specific high-level programming language you are using compile to those actions. For example in C:\r\n- (1) → a function call\r\n- (2) → local variables in function calls (including main)\r\n- (3) → local variables in function calls (not main)\r\n- (4) → a function call\r\n- (5) → normally a function call, it is generally irrelevant for a stack overflow.\r\n\r\nSo, in C, **only local variables and function calls make use of the stack**. The two (unique?) ways of making a stack overflow are:\r\n- Declaring too large local variables in main or in any function that it&#39;s called in (`int array[10000][10000];`)\r\n- A very deep or infinite recursion (too many function calls at the same time).\r\n\r\nTo avoid a `StackOverflowError` you can:\r\n\r\n- check if local variables are too big (order of 1 MB) → use the heap (malloc/calloc calls) or global variables.\r\n\r\n- check for infinite recursion → you know what to do... correct it!\r\n\r\n- check for normal too deep recursion → the easiest approach is to just change the implementation to be iterative.\r\n\r\nNotice also that global variables, include libraries, etc... don&#39;t make use of the stack.\r\n\r\nOnly if the above does not work, change the stack size to the maximum on the specific OS. With Ubuntu for example: `ulimit -s 32768` (32 MB). (This has never been the solution for any of my stack overflow errors, but I also don&#39;t have much experience.)\r\n\r\nI have omitted special and/or not standard cases in C (such as usage of `alloc()` and similar) because if you are using them you should already know exactly what you are doing. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>The stack has a space limit that depends on the operating system. The normal size is 8 MB (in <a href=\"https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow noreferrer\">Ubuntu</a> (Linux), you can check that limit with <code>$ ulimit -u</code> and it can be checked in other OS similarly). Any program makes use of the stack at runtime, but to fully know when it is used you need to check the assembly language. In x86_64 for example, the stack is used to:</p>\n<ol>\n<li>Save the return address when making a procedure call</li>\n<li>Save local variables</li>\n<li>Save special registers to restore them later</li>\n<li>Pass arguments to a procedure call (when there are more than 6 integers parameters and/or more than 8 floating-point parameters)</li>\n<li>Other: random unused stack base, canary values, padding, ... etc.</li>\n</ol>\n<p>If you don't know x86_64 (normal case) you only need to know when the specific high-level programming language you are using compile to those actions. For example in C:</p>\n<ul>\n<li>(1) → a function call</li>\n<li>(2) → local variables in function calls (including main)</li>\n<li>(3) → local variables in function calls (not main)</li>\n<li>(4) → a function call</li>\n<li>(5) → normally a function call, it is generally irrelevant for a stack overflow.</li>\n</ul>\n<p>So, in C, <strong>only local variables and function calls make use of the stack</strong>. The two (unique?) ways of making a stack overflow are:</p>\n<ul>\n<li>Declaring too large local variables in main or in any function that it's called in (<code>int array[10000][10000];</code>)</li>\n<li>A very deep or infinite recursion (too many function calls at the same time).</li>\n</ul>\n<p>To avoid a <code>StackOverflowError</code> you can:</p>\n<ul>\n<li><p>check if local variables are too big (order of 1 MB) → use the heap (malloc/calloc calls) or global variables.</p>\n</li>\n<li><p>check for infinite recursion → you know what to do... correct it!</p>\n</li>\n<li><p>check for normal too deep recursion → the easiest approach is to just change the implementation to be iterative.</p>\n</li>\n</ul>\n<p>Notice also that global variables, include libraries, etc... don't make use of the stack.</p>\n<p>Only if the above does not work, change the stack size to the maximum on the specific OS. With Ubuntu for example: <code>ulimit -s 32768</code> (32 MB). (This has never been the solution for any of my stack overflow errors, but I also don't have much experience.)</p>\n<p>I have omitted special and/or not standard cases in C (such as usage of <code>alloc()</code> and similar) because if you are using them you should already know exactly what you are doing.</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633417475,"creation_date":1612083190,"answer_id":65977273,"question_id":214741,"body_markdown":"A simple Java example that causes java.lang.StackOverflowError because of a bad recursive call:\r\n\r\n    class Human {\r\n        Human(){\r\n            new Animal();\r\n        }\r\n    }\r\n\r\n    class Animal extends Human {\r\n        Animal(){\r\n            super();\r\n        }\r\n    }\r\n\r\n    public class Test01 {\r\n        public static void main(String[] args) {\r\n            new Animal();\r\n        }\r\n    }\r\n\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>A simple Java example that causes java.lang.StackOverflowError because of a bad recursive call:</p>\n<pre><code>class Human {\n    Human(){\n        new Animal();\n    }\n}\n\nclass Animal extends Human {\n    Animal(){\n        super();\n    }\n}\n\npublic class Test01 {\n    public static void main(String[] args) {\n        new Animal();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21638781,"reputation":3636,"user_id":15963573,"display_name":"F1ko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671061878,"creation_date":1671061878,"answer_id":74805420,"question_id":214741,"body_markdown":"Many answers to this question are good. However, I would like to take a slightly different approach and give some more insight into how memory works and also a (simplified) visualization to better understand StackOverflow errors. This understanding does not only apply to Java but all processes alike.\r\n\r\nOn modern systems all new processes get their own [virtual address space (VAS)][1]. In essence VAS is an abstraction layer provided by the operating system on top of physical memory in order to ensure processes do not interfere with each others memory. It&#39;s the kernels job to then map the virtual addresses provided to to the actual physical addresses.\r\n\r\n---\r\n\r\nVAS can be divided into a couple of sections:\r\n\r\nIn order to let the CPU know what it is supposed to do machine instructions must be loaded into memory. This is usually referred to as the **code or text segment** and of static size.\r\n\r\nOn top of that one can find the **data segment** and **heap**. The data segment is of fixed size and contains global or static variables. \r\nAs a program runs into special conditions it may need to additionally allocate data, which is where the heap comes into play and is therefore able to dynamically grow in size.\r\n\r\nThe **stack** is located on the other side of the virtual address space and (among other things) keeps track of all function calls using a LIFO data structure. Similar to the heap a program may need additional space during runtime to keep track of new function calls being invoked. Since the stack is located on the other side of the VAS it is growing into the opposite direction i.e. towards the heap.\r\n\r\n[![Virtual address space][2]][2]\r\n\r\n**TL;DR**\r\n\r\nThis is where the **StackOverflow error** comes into play.\r\n\r\nSince the stack grows down (towards the heap) it may so happen that at some point in time it cannot grow further as it would overlap with the heap address space. Once that happens the StackOverflow error occurs.\r\n\r\nThe most common reason as to why this happens is due to a bug in the program making recursive calls that do not terminate properly.\r\n\r\n---\r\n\r\nNote that on some systems VAS may behave slightly different an can be divided into even more segments, however, this general understanding applies to all UNIX systems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Virtual_address_space\r\n  [2]: https://i.stack.imgur.com/wh7D9.jpg","title":"What is a StackOverflowError?","body":"<p>Many answers to this question are good. However, I would like to take a slightly different approach and give some more insight into how memory works and also a (simplified) visualization to better understand StackOverflow errors. This understanding does not only apply to Java but all processes alike.</p>\n<p>On modern systems all new processes get their own <a href=\"https://en.wikipedia.org/wiki/Virtual_address_space\" rel=\"nofollow noreferrer\">virtual address space (VAS)</a>. In essence VAS is an abstraction layer provided by the operating system on top of physical memory in order to ensure processes do not interfere with each others memory. It's the kernels job to then map the virtual addresses provided to to the actual physical addresses.</p>\n<hr />\n<p>VAS can be divided into a couple of sections:</p>\n<p>In order to let the CPU know what it is supposed to do machine instructions must be loaded into memory. This is usually referred to as the <strong>code or text segment</strong> and of static size.</p>\n<p>On top of that one can find the <strong>data segment</strong> and <strong>heap</strong>. The data segment is of fixed size and contains global or static variables.\nAs a program runs into special conditions it may need to additionally allocate data, which is where the heap comes into play and is therefore able to dynamically grow in size.</p>\n<p>The <strong>stack</strong> is located on the other side of the virtual address space and (among other things) keeps track of all function calls using a LIFO data structure. Similar to the heap a program may need additional space during runtime to keep track of new function calls being invoked. Since the stack is located on the other side of the VAS it is growing into the opposite direction i.e. towards the heap.</p>\n<p><a href=\"https://i.stack.imgur.com/wh7D9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wh7D9.jpg\" alt=\"Virtual address space\" /></a></p>\n<p><strong>TL;DR</strong></p>\n<p>This is where the <strong>StackOverflow error</strong> comes into play.</p>\n<p>Since the stack grows down (towards the heap) it may so happen that at some point in time it cannot grow further as it would overlap with the heap address space. Once that happens the StackOverflow error occurs.</p>\n<p>The most common reason as to why this happens is due to a bug in the program making recursive calls that do not terminate properly.</p>\n<hr />\n<p>Note that on some systems VAS may behave slightly different an can be divided into even more segments, however, this general understanding applies to all UNIX systems.</p>\n"}],"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842022,"favorite_count":0,"down_vote_count":3,"up_vote_count":530,"accepted_answer_id":214758,"answer_count":15,"score":527,"last_activity_date":1680213422,"creation_date":1224317635,"question_id":214741,"body_markdown":"What is a `StackOverflowError`, what causes it, and how should I deal with them?","title":"What is a StackOverflowError?","body":"<p>What is a <code>StackOverflowError</code>, what causes it, and how should I deal with them?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1503898962,"post_id":45912332,"comment_id":78783255,"body_markdown":"Does this answer your question?\nhttps://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception\" title=\"getting java lang noclassdeffounderror com beust jcommander parameterexception\">stackoverflow.com/questions/30435688/&hellip;</a>"},{"owner":{"account_id":6104899,"reputation":37,"user_id":4762863,"display_name":"Kyaw Kyaw"},"score":0,"creation_date":1503899192,"post_id":45912332,"comment_id":78785644,"body_markdown":"There is something wrong with your parameter. Should be **@Test()**. If there is a problem see this link. https://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception","body":"There is something wrong with your parameter. Should be <b>@Test()</b>. If there is a problem see this link. <a href=\"https://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception\" title=\"getting java lang noclassdeffounderror com beust jcommander parameterexception\">stackoverflow.com/questions/30435688/&hellip;</a>"},{"owner":{"account_id":11243443,"reputation":31,"user_id":8246890,"display_name":"inlusion"},"score":0,"creation_date":1503900136,"post_id":45912332,"comment_id":78785645,"body_markdown":"the question you linked does not work for me . and it&#39;s not sth wrong with my parameter,i tried @Test(description = &quot;tttttt&quot;),but it&#39;s the same.    i ran the same code on another computer,and it&#39;s fine . so i&#39;m comfused ....","body":"the question you linked does not work for me . and it&#39;s not sth wrong with my parameter,i tried @Test(description = &quot;tttttt&quot;),but it&#39;s the same.    i ran the same code on another computer,and it&#39;s fine . so i&#39;m comfused ...."},{"owner":{"account_id":6104899,"reputation":37,"user_id":4762863,"display_name":"Kyaw Kyaw"},"score":0,"creation_date":1503902639,"post_id":45912332,"comment_id":78785646,"body_markdown":"Sorry. You should learn this page. https://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror. I hope this may help you.","body":"Sorry. You should learn this page. <a href=\"https://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror\" title=\"how to solve java lang noclassdeffounderror\">stackoverflow.com/questions/17973970/&hellip;</a>. I hope this may help you."}],"answers":[{"tags":[],"owner":{"account_id":28173030,"reputation":1,"user_id":21531253,"display_name":"Anveshsai Vemuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680212971,"creation_date":1680212920,"answer_id":75893266,"question_id":45912332,"body_markdown":"Download jcommander jar file from the maven repository and add it to the dependencies just like testng jar file \r\n\r\nGo to projectstructure-&gt;Modules-&gt;depenencies-&gt;add jcommander jar file-&gt; click apply\r\n\r\n[dependencies in projectStructure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PzOFO.png","title":"Run testNG with IDEA, throws java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException","body":"<p>Download jcommander jar file from the maven repository and add it to the dependencies just like testng jar file</p>\n<p>Go to projectstructure-&gt;Modules-&gt;depenencies-&gt;add jcommander jar file-&gt; click apply</p>\n<p><a href=\"https://i.stack.imgur.com/PzOFO.png\" rel=\"nofollow noreferrer\">dependencies in projectStructure</a></p>\n"}],"owner":{"account_id":11243443,"reputation":31,"user_id":8246890,"display_name":"inlusion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3849,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680212971,"creation_date":1503898747,"question_id":45912332,"body_markdown":"I just run a simple test with testNG(version 6.8). All code is like this. \r\n\r\n    import org.testng.annotations.*;\r\n    public class TestNGtest {\r\n        @Test\r\n        public void test(){\r\n            System.out.print(&quot;123&quot;);\r\n        }\r\n    }\r\n\r\nI run it but it returns :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException\r\n    \tat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:119)\r\n    Caused by: java.lang.ClassNotFoundException: com.beust.jcommander.ParameterException\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 1 more\r\n\r\nBUT there is jcommander.jar in my classpath（in my java/jre/lib） already. someboby has the same problem?\r\n\r\nIt is a maven project, i have added jcommander ,testng dependencies in my pom.xml ; these code is all fine when run on other computers ,but only throws this error on my computer(i cloneed it from git). Can anybody help me?","title":"Run testNG with IDEA, throws java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException","body":"<p>I just run a simple test with testNG(version 6.8). All code is like this. </p>\n\n<pre><code>import org.testng.annotations.*;\npublic class TestNGtest {\n    @Test\n    public void test(){\n        System.out.print(\"123\");\n    }\n}\n</code></pre>\n\n<p>I run it but it returns :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException\n    at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:119)\nCaused by: java.lang.ClassNotFoundException: com.beust.jcommander.ParameterException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n\n<p>BUT there is jcommander.jar in my classpath（in my java/jre/lib） already. someboby has the same problem?</p>\n\n<p>It is a maven project, i have added jcommander ,testng dependencies in my pom.xml ; these code is all fine when run on other computers ,but only throws this error on my computer(i cloneed it from git). Can anybody help me?</p>\n"},{"tags":["java","datetime","java-time"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":2,"creation_date":1662333341,"post_id":73603358,"comment_id":129975674,"body_markdown":"Overlap happens when time moves back, e.g. when going from -4 (DST in NY) to -5, means that November 6th 1:00 AM - 2:00 AM will happen twice, the time is overlapping.","body":"Overlap happens when time moves back, e.g. when going from -4 (DST in NY) to -5, means that November 6th 1:00 AM - 2:00 AM will happen twice, the time is overlapping."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1662333553,"post_id":73603358,"comment_id":129975701,"body_markdown":"Please carefully read the section at the top of the Javadoc for `ZonedDateTime`.  It explains very clearly what an &quot;overlap&quot; is.","body":"Please carefully read the section at the top of the Javadoc for <code>ZonedDateTime</code>.  It explains very clearly what an &quot;overlap&quot; is."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1662335494,"post_id":73603358,"comment_id":129975920,"body_markdown":"_&quot;Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.&quot;_ [source](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/ZonedDateTime.html). Many countries do not implement [daylight saving time](https://en.wikipedia.org/wiki/Daylight_saving_time), so this may perhaps be a less familiar concept.","body":"<i>&quot;Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.&quot;</i> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">source</a>. Many countries do not implement <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">daylight saving time</a>, so this may perhaps be a less familiar concept."}],"answers":[{"comments":[{"owner":{"account_id":7066348,"reputation":2543,"user_id":5468701,"accept_rate":50,"display_name":"shiva"},"score":0,"creation_date":1662401155,"post_id":73604140,"comment_id":129992925,"body_markdown":"Thank you for putting it in so simple terms! It helped a lot.","body":"Thank you for putting it in so simple terms! It helped a lot."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662395256,"creation_date":1662346166,"answer_id":73604140,"question_id":73603358,"body_markdown":"# Political time presents anomalies\r\n\r\n`ZonedDateTime` is *political* time. Politicians define time zones and set the rules. \r\n\r\nPoliticians around the world have shown a surprisingly common prediliction for fiddling with these rules. And they do so unpredictably, often with little or no warning. \r\n\r\nPoliticians can decide that everyone should rise an hour early in the morning, and then in half a year reverse their decision, mandating that people open their shops an hour later — this wacky plan is known as [Daylight Saving Time (DST)][1]. \r\n\r\nThe newest fad: Politicians deciding that the people of their jurisdiction should stay on DST year-round. So then the sun is *never* overhead at noon, defying the definition of &quot;noon&quot;. \r\n\r\nMartial victors, colonizers, and occupiers may choose to impose a time zone that suits their home country.\r\n\r\nPoliticians may change the offset of their jurisdictions to annoy their neighbor(s), or to appease their neighbor(s), as a diplomatic move.\r\n\r\n## Spring forward; Fall back\r\n\r\nDuring any of these anomalies, the hands of the clock must jump ahead or fall back some amount of time, some number of hours-minutes-seconds. \r\n\r\nFor example, many places in the US observing DST change their clocks twice a year. They jump ahead an hour at 2 AM on a particular day in the Spring. So the offset in use changes an hour, such as `America/Los_Angeles` changing from an offset of -08:00 to -07:00. Those places later fall back an hour at 2AM on a particular day in the Autumn. The offset in use changes by an hour, such as `America/Los_Angeles` changing from an offset of -07:00 to -08:00.\r\n\r\n - In the first case, clocks jumping ahead, the hour of **02:00 - 03:00 never exists**, for a 23-hour day. \r\n - In the second case, clocks falling back, the hour of **01:00 - 02:00 happens *twice***, for a 25-hour day. \r\n\r\nIn the first case, when jumping ahead, we skip an hour. So the day is shorter, only 23 hours long. &#128073; This skipped hour is what “the gap” refers to in that Javadoc. \r\n\r\nIn that second case, **when the clock falls back an hour, there is an ambiguity** of how to recognize a time-of-day such as 01:30. Does &quot;01:30&quot; refer to the middle of the *first* hour occurrence or the middle of the *second* hour occurrence? &#128073; This repeated hour with its ambiguity is what &quot;the overlap&quot; refers to in that Javadoc.\r\n\r\nI expect reasonable people could disagree on how best to resolve this ambiguity. The *java.time* classes, specifically [`ZonedDateTime`][2], has its algorithm for resolving the ambiguity. It is crucial that you understand its chosen scheme so you know how to work with it.\r\n\r\n[The Javadoc][2] does cover this. To quote:\r\n\r\n&gt;There are three cases:\r\n&gt;\r\n&gt; - **Normal**, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.\r\n&gt; - **Gap**, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.\r\n&gt; - **Overlap**, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nAs a reminder of definitions:\r\n\r\n - *Offset* means merely a number of hours-minutes-seconds ahead of, or behind, the temporal prime meridian of UTC (or GMT). \r\n - *Time zone* means much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html","title":"Understanding javadoc for ZonedDateTime::plusDays","body":"<h1>Political time presents anomalies</h1>\n<p><code>ZonedDateTime</code> is <em>political</em> time. Politicians define time zones and set the rules.</p>\n<p>Politicians around the world have shown a surprisingly common prediliction for fiddling with these rules. And they do so unpredictably, often with little or no warning.</p>\n<p>Politicians can decide that everyone should rise an hour early in the morning, and then in half a year reverse their decision, mandating that people open their shops an hour later — this wacky plan is known as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>The newest fad: Politicians deciding that the people of their jurisdiction should stay on DST year-round. So then the sun is <em>never</em> overhead at noon, defying the definition of &quot;noon&quot;.</p>\n<p>Martial victors, colonizers, and occupiers may choose to impose a time zone that suits their home country.</p>\n<p>Politicians may change the offset of their jurisdictions to annoy their neighbor(s), or to appease their neighbor(s), as a diplomatic move.</p>\n<h2>Spring forward; Fall back</h2>\n<p>During any of these anomalies, the hands of the clock must jump ahead or fall back some amount of time, some number of hours-minutes-seconds.</p>\n<p>For example, many places in the US observing DST change their clocks twice a year. They jump ahead an hour at 2 AM on a particular day in the Spring. So the offset in use changes an hour, such as <code>America/Los_Angeles</code> changing from an offset of -08:00 to -07:00. Those places later fall back an hour at 2AM on a particular day in the Autumn. The offset in use changes by an hour, such as <code>America/Los_Angeles</code> changing from an offset of -07:00 to -08:00.</p>\n<ul>\n<li>In the first case, clocks jumping ahead, the hour of <strong>02:00 - 03:00 never exists</strong>, for a 23-hour day.</li>\n<li>In the second case, clocks falling back, the hour of <strong>01:00 - 02:00 happens <em>twice</em></strong>, for a 25-hour day.</li>\n</ul>\n<p>In the first case, when jumping ahead, we skip an hour. So the day is shorter, only 23 hours long. 👉 This skipped hour is what “the gap” refers to in that Javadoc.</p>\n<p>In that second case, <strong>when the clock falls back an hour, there is an ambiguity</strong> of how to recognize a time-of-day such as 01:30. Does &quot;01:30&quot; refer to the middle of the <em>first</em> hour occurrence or the middle of the <em>second</em> hour occurrence? 👉 This repeated hour with its ambiguity is what &quot;the overlap&quot; refers to in that Javadoc.</p>\n<p>I expect reasonable people could disagree on how best to resolve this ambiguity. The <em>java.time</em> classes, specifically <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>, has its algorithm for resolving the ambiguity. It is crucial that you understand its chosen scheme so you know how to work with it.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">The Javadoc</a> does cover this. To quote:</p>\n<blockquote>\n<p>There are three cases:</p>\n<ul>\n<li><strong>Normal</strong>, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.</li>\n<li><strong>Gap</strong>, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.</li>\n<li><strong>Overlap</strong>, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.</li>\n</ul>\n</blockquote>\n<hr />\n<p>As a reminder of definitions:</p>\n<ul>\n<li><em>Offset</em> means merely a number of hours-minutes-seconds ahead of, or behind, the temporal prime meridian of UTC (or GMT).</li>\n<li><em>Time zone</em> means much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662350596,"creation_date":1662349531,"answer_id":73604362,"question_id":73603358,"body_markdown":"The &quot;gap&quot; and &quot;overlap&quot; terms are defined in the class-level Javadoc of the [`ZonedDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html) class:\r\n\r\n&gt; This class handles conversion from the local time-line of `LocalDateTime` to the instant time-line of `Instant`. The difference between the two time-lines is the offset from `UTC/Greenwich`, represented by a `ZoneOffset`.\r\n&gt; \r\n&gt; Converting between the two time-lines involves calculating the offset using the rules accessed from the ZoneId. Obtaining the offset for an instant is simple, as there is exactly one valid offset for each instant. By contrast, obtaining the offset for a local date-time is not straightforward. There are three cases:\r\n&gt; \r\n&gt; * Normal, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.\r\n&gt; * Gap, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.\r\n&gt; * Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.\r\n\r\n## Example\r\n\r\nLet&#39;s use your specific example of the `America/New_York` time zone.  Per [timeanddate.com](https://www.timeanddate.com/time/change/usa/new-york-state?year=2022), the daylight saving time changes in New York for 2022 are:\r\n\r\n&gt; ## Mar 13, 2022 - Daylight Saving Time Started\r\n&gt; When local standard time was about to reach  \r\n&gt; Sunday, March 13, 2022, **2:00:00** am clocks were turned **forward** 1 hour to  \r\n&gt; Sunday, March 13, 2022, **3:00:00** am local daylight time instead.\r\n&gt;\r\n&gt; ## Nov 6, 2022 - Daylight Saving Time Ends\r\n&gt; When local daylight time is about to reach  \r\n&gt; Sunday, November 6, 2022, **2:00:00** am clocks are turned **backward** 1 hour to  \r\n&gt; Sunday, November 6, 2022, **1:00:00** am local standard time instead.\r\n\r\nTherefore, there are no times between 2:00 and 2:59 on March 13 in the New York time zone.  1:59 occurs in standard time.  When that minute ends, no 2:00 hour occurs, and instead the local time jumps to 3:00 daylight time.\r\n\r\nAdditionally, the times between 1:00 and 1:59 occur twice on November 6: one in daylight time and then one in standard time.\r\n\r\n### Java `ZonedDateTime` example\r\n\r\n```lang-java\r\nZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n\r\n// 2022-03-13T03:15:30-04:00[America/New_York] (no 2:15)\r\nSystem.out.println(\r\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-03-12T02:15:30&quot;), zone)\r\n        .plusDays(1));\r\n```\r\n\r\nSince 2:15 AM on March 12 doesn&#39;t exist and is within a 1-hour gap, the following logic you quoted applies, adding 1 hour to the local time:\r\n\r\n&gt; If in a gap, the local date-time will be adjusted forward by the length of the gap.\r\n\r\nTherefore, 3:15 AM is used when adding 1 day to March 11 at 1:15 AM.\r\n\r\n```lang-java\r\nZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n\r\n// 2022-11-06T01:15:30-04:00[America/New_York] (First 1:15)\r\nSystem.out.println(\r\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\r\n        .plusDays(1));\r\n\r\n// 2022-11-06T01:15:30-05:00[America/New_York] (Second 1:15)\r\nSystem.out.println(\r\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\r\n        .plusDays(1).plusHours(1));\r\n```\r\n\r\nSince 1:15 AM is during an overlap — 1:15 AM occurs twice on November 6 — the following logic you quoted applies, using the same -04:00 zone offset as 1:15 AM on November 5:\r\n\r\n&gt; if the local date-time is in an overlap, then the offset will be retained if possible\r\n\r\nTherefore, adding 1 day to November 5 at 1:15 uses the first 1:15 on November 6.  This is made more evident by the second call, which shows that adding an hour to this timestamp returns the second 1:15 of November 6.  The fact that these are different points on the timeline despite both being 1:15 local time is evident by their differing zone offsets: -04:00 &amp; -05:00.","title":"Understanding javadoc for ZonedDateTime::plusDays","body":"<p>The &quot;gap&quot; and &quot;overlap&quot; terms are defined in the class-level Javadoc of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> class:</p>\n<blockquote>\n<p>This class handles conversion from the local time-line of <code>LocalDateTime</code> to the instant time-line of <code>Instant</code>. The difference between the two time-lines is the offset from <code>UTC/Greenwich</code>, represented by a <code>ZoneOffset</code>.</p>\n<p>Converting between the two time-lines involves calculating the offset using the rules accessed from the ZoneId. Obtaining the offset for an instant is simple, as there is exactly one valid offset for each instant. By contrast, obtaining the offset for a local date-time is not straightforward. There are three cases:</p>\n<ul>\n<li>Normal, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.</li>\n<li>Gap, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.</li>\n<li>Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.</li>\n</ul>\n</blockquote>\n<h2>Example</h2>\n<p>Let's use your specific example of the <code>America/New_York</code> time zone.  Per <a href=\"https://www.timeanddate.com/time/change/usa/new-york-state?year=2022\" rel=\"nofollow noreferrer\">timeanddate.com</a>, the daylight saving time changes in New York for 2022 are:</p>\n<blockquote>\n<h2>Mar 13, 2022 - Daylight Saving Time Started</h2>\n<p>When local standard time was about to reach<br />\nSunday, March 13, 2022, <strong>2:00:00</strong> am clocks were turned <strong>forward</strong> 1 hour to<br />\nSunday, March 13, 2022, <strong>3:00:00</strong> am local daylight time instead.</p>\n<h2>Nov 6, 2022 - Daylight Saving Time Ends</h2>\n<p>When local daylight time is about to reach<br />\nSunday, November 6, 2022, <strong>2:00:00</strong> am clocks are turned <strong>backward</strong> 1 hour to<br />\nSunday, November 6, 2022, <strong>1:00:00</strong> am local standard time instead.</p>\n</blockquote>\n<p>Therefore, there are no times between 2:00 and 2:59 on March 13 in the New York time zone.  1:59 occurs in standard time.  When that minute ends, no 2:00 hour occurs, and instead the local time jumps to 3:00 daylight time.</p>\n<p>Additionally, the times between 1:00 and 1:59 occur twice on November 6: one in daylight time and then one in standard time.</p>\n<h3>Java <code>ZonedDateTime</code> example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n// 2022-03-13T03:15:30-04:00[America/New_York] (no 2:15)\nSystem.out.println(\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-03-12T02:15:30&quot;), zone)\n        .plusDays(1));\n</code></pre>\n<p>Since 2:15 AM on March 12 doesn't exist and is within a 1-hour gap, the following logic you quoted applies, adding 1 hour to the local time:</p>\n<blockquote>\n<p>If in a gap, the local date-time will be adjusted forward by the length of the gap.</p>\n</blockquote>\n<p>Therefore, 3:15 AM is used when adding 1 day to March 11 at 1:15 AM.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n// 2022-11-06T01:15:30-04:00[America/New_York] (First 1:15)\nSystem.out.println(\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\n        .plusDays(1));\n\n// 2022-11-06T01:15:30-05:00[America/New_York] (Second 1:15)\nSystem.out.println(\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\n        .plusDays(1).plusHours(1));\n</code></pre>\n<p>Since 1:15 AM is during an overlap — 1:15 AM occurs twice on November 6 — the following logic you quoted applies, using the same -04:00 zone offset as 1:15 AM on November 5:</p>\n<blockquote>\n<p>if the local date-time is in an overlap, then the offset will be retained if possible</p>\n</blockquote>\n<p>Therefore, adding 1 day to November 5 at 1:15 uses the first 1:15 on November 6.  This is made more evident by the second call, which shows that adding an hour to this timestamp returns the second 1:15 of November 6.  The fact that these are different points on the timeline despite both being 1:15 local time is evident by their differing zone offsets: -04:00 &amp; -05:00.</p>\n"}],"owner":{"account_id":7066348,"reputation":2543,"user_id":5468701,"accept_rate":50,"display_name":"shiva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":73604362,"answer_count":2,"score":6,"last_activity_date":1680212531,"creation_date":1662332946,"question_id":73603358,"body_markdown":"I am not able to understand one specific part of doc provided for the plusDays() method in ZonedDateTimeClass. Doc states:\r\n\r\n&gt; Returns a copy of this ZonedDateTime with the specified number of days\r\n&gt; added.\r\n&gt; \r\n&gt; This operates on the local time-line, adding days to the local\r\n&gt; date-time. This is then converted back to a ZonedDateTime, using the\r\n&gt; zone ID to obtain the offset.\r\n&gt; \r\n&gt; When converting back to ZonedDateTime, if the local date-time is in an\r\n&gt; overlap, then the offset will be retained if possible, otherwise the\r\n&gt; earlier offset will be used. If in a gap, the local date-time will be\r\n&gt; adjusted forward by the length of the gap.\r\n&gt; \r\n&gt; This instance is immutable and unaffected by this method call.\r\n&gt; \r\n&gt; Params: days – the days to add, may be negative\r\n&gt; \r\n&gt; Returns: a ZonedDateTime based on this date-time with the days added,\r\n&gt; not null\r\n&gt; \r\n&gt; Throws: DateTimeException – if the result exceeds the supported date\r\n&gt; range\r\n\r\nHow I understand this: Assume we have ZonedDateTime object representing `September 4, 2022 6 PM in America/New_York TimeZone`. So this method will first convert it to LocalDateTime, that is, it will lose timezone information and just retain `September 4, 2022 6 PM`. It will add some number of days to it, let&#39;s say 7, so that the result is `September 11, 2022 6 PM`, and now it will convert it back to ZonedDateTime object by providing back the information related to timezone.\r\n\r\nHowever, I am not able to understand the latter part of documentation, that is,\r\n\r\n&gt; When converting back to ZonedDateTime, if the local date-time is in an\r\n&gt; overlap, then the offset will be retained if possible, otherwise the\r\n&gt; earlier offset will be used. If in a gap, the local date-time will be\r\n&gt; adjusted forward by the length of the gap.\r\n\r\nWhat do they mean by `local date-time is in an overlap`? `...then the offset will be retained if possible, otherwise the earlier offset will be used.` - what are these two different offsets? `If in a gap...` - what is this gap?\r\n","title":"Understanding javadoc for ZonedDateTime::plusDays","body":"<p>I am not able to understand one specific part of doc provided for the plusDays() method in ZonedDateTimeClass. Doc states:</p>\n<blockquote>\n<p>Returns a copy of this ZonedDateTime with the specified number of days\nadded.</p>\n<p>This operates on the local time-line, adding days to the local\ndate-time. This is then converted back to a ZonedDateTime, using the\nzone ID to obtain the offset.</p>\n<p>When converting back to ZonedDateTime, if the local date-time is in an\noverlap, then the offset will be retained if possible, otherwise the\nearlier offset will be used. If in a gap, the local date-time will be\nadjusted forward by the length of the gap.</p>\n<p>This instance is immutable and unaffected by this method call.</p>\n<p>Params: days – the days to add, may be negative</p>\n<p>Returns: a ZonedDateTime based on this date-time with the days added,\nnot null</p>\n<p>Throws: DateTimeException – if the result exceeds the supported date\nrange</p>\n</blockquote>\n<p>How I understand this: Assume we have ZonedDateTime object representing <code>September 4, 2022 6 PM in America/New_York TimeZone</code>. So this method will first convert it to LocalDateTime, that is, it will lose timezone information and just retain <code>September 4, 2022 6 PM</code>. It will add some number of days to it, let's say 7, so that the result is <code>September 11, 2022 6 PM</code>, and now it will convert it back to ZonedDateTime object by providing back the information related to timezone.</p>\n<p>However, I am not able to understand the latter part of documentation, that is,</p>\n<blockquote>\n<p>When converting back to ZonedDateTime, if the local date-time is in an\noverlap, then the offset will be retained if possible, otherwise the\nearlier offset will be used. If in a gap, the local date-time will be\nadjusted forward by the length of the gap.</p>\n</blockquote>\n<p>What do they mean by <code>local date-time is in an overlap</code>? <code>...then the offset will be retained if possible, otherwise the earlier offset will be used.</code> - what are these two different offsets? <code>If in a gap...</code> - what is this gap?</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":1379167,"reputation":369,"user_id":1312546,"accept_rate":90,"display_name":"Arnaud Courtecuisse"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1680212026,"creation_date":1530539563,"answer_id":51137822,"question_id":51098848,"body_markdown":"If you have an idea, try it. And if your project environment does not allow you to try, sandbox it. I&#39;ll give it a go, but my Java is rusty, and I don’t have the JDK on this computer. Start with this:\r\n\r\n    public class MongoSandbox {\r\n\r\n        public static void main(String[] args) throws UnknownHostException {\r\n\r\n            // Connect to the local test db\r\n            MongoClientURI uri = new MongoClientURI(&quot;mongodb://localhost:27017/test&quot;);\r\n            MongoClient client = new MongoClient(uri);\r\n            MongoDatabase db = client.getDatabase(uri.getDatabase());\r\n\r\n            // Get a test collection\r\n            MongoCollection&lt;Document&gt; docs = db.getCollection(&quot;docs&quot;);\r\n\r\n            // Create a dummy list of events\r\n            List&lt;Document&gt; events = new ArrayList&lt;Document&gt;();\r\n            events.add(new Document(&quot;random&quot;, &quot;data&quot;));\r\n            events.add(new Document(&quot;random&quot;, &quot;data2&quot;));\r\n            events.add(new Document(&quot;random&quot;, &quot;data3&quot;));\r\n\r\n            // Create your main document\r\n            Document mainDoc = new Document(&quot;events&quot;, events);\r\n            docs.insert(mainDoc);\r\n\r\n            client.close();\r\n        }\r\n    }\r\n\r\n","title":"Create MongoDB document that has a list of documents in Java","body":"<p>If you have an idea, try it. And if your project environment does not allow you to try, sandbox it. I'll give it a go, but my Java is rusty, and I don’t have the JDK on this computer. Start with this:</p>\n<pre><code>public class MongoSandbox {\n\n    public static void main(String[] args) throws UnknownHostException {\n\n        // Connect to the local test db\n        MongoClientURI uri = new MongoClientURI(&quot;mongodb://localhost:27017/test&quot;);\n        MongoClient client = new MongoClient(uri);\n        MongoDatabase db = client.getDatabase(uri.getDatabase());\n\n        // Get a test collection\n        MongoCollection&lt;Document&gt; docs = db.getCollection(&quot;docs&quot;);\n\n        // Create a dummy list of events\n        List&lt;Document&gt; events = new ArrayList&lt;Document&gt;();\n        events.add(new Document(&quot;random&quot;, &quot;data&quot;));\n        events.add(new Document(&quot;random&quot;, &quot;data2&quot;));\n        events.add(new Document(&quot;random&quot;, &quot;data3&quot;));\n\n        // Create your main document\n        Document mainDoc = new Document(&quot;events&quot;, events);\n        docs.insert(mainDoc);\n\n        client.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2291405,"reputation":65,"user_id":2014100,"display_name":"mohdhamm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4380,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"closed_date":1653257464,"accepted_answer_id":51137822,"answer_count":1,"score":3,"last_activity_date":1680212026,"creation_date":1530265376,"question_id":51098848,"body_markdown":"I would like to create a MongoDB document in Java to insert into my MongoDB collection. Currently, the MongoDB document I am using has no list of documents in it and I want to add one to it.\r\n\r\nMy document should look something like this:\r\n\r\n    {\r\n     id : 1,\r\n     events : [\r\n               { event_id : 1, processed : false},\r\n               { event_id : 2, processed : false},\r\n               .\r\n               .\r\n              ],\r\n     assigned_user : 32\r\n    }\r\n\r\nTo create the MongoDB document, I am forced to create a\r\n\r\n    Map&lt;String, Object&gt; dataFields\r\n\r\nAnd then transform it to a MongoDB document.\r\n\r\nSo to add the list of Documents I need, I thought of creating\r\n\r\n     List&lt;Document&gt; events\r\n\r\nThen creating a document for each event I need, and then add it to the list of `events`.\r\n\r\nFinally, I would simply add the list `events` to the map `dataFields`, and then create the final MongoDB document.\r\n\r\nWould this work? If not, what is the flaw? Logic or implementation?\r\n","title":"Create MongoDB document that has a list of documents in Java","body":"<p>I would like to create a MongoDB document in Java to insert into my MongoDB collection. Currently, the MongoDB document I am using has no list of documents in it and I want to add one to it.</p>\n<p>My document should look something like this:</p>\n<pre><code>{\n id : 1,\n events : [\n           { event_id : 1, processed : false},\n           { event_id : 2, processed : false},\n           .\n           .\n          ],\n assigned_user : 32\n}\n</code></pre>\n<p>To create the MongoDB document, I am forced to create a</p>\n<pre><code>Map&lt;String, Object&gt; dataFields\n</code></pre>\n<p>And then transform it to a MongoDB document.</p>\n<p>So to add the list of Documents I need, I thought of creating</p>\n<pre><code> List&lt;Document&gt; events\n</code></pre>\n<p>Then creating a document for each event I need, and then add it to the list of <code>events</code>.</p>\n<p>Finally, I would simply add the list <code>events</code> to the map <code>dataFields</code>, and then create the final MongoDB document.</p>\n<p>Would this work? If not, what is the flaw? Logic or implementation?</p>\n"},{"tags":["java","android","batch-file","apk"],"answers":[{"comments":[{"owner":{"account_id":7971991,"reputation":33,"user_id":6016342,"accept_rate":25,"display_name":"Ali bizaki"},"score":0,"creation_date":1501543157,"post_id":45396773,"comment_id":77814664,"body_markdown":"and what about app&#39;s label?","body":"and what about app&#39;s label?"},{"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"score":0,"creation_date":1501543773,"post_id":45396773,"comment_id":77814794,"body_markdown":"Replace `package:\\ name` with `label`.","body":"Replace <code>package:\\ name</code> with <code>label</code>."}],"tags":[],"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501393654,"creation_date":1501393654,"answer_id":45396773,"question_id":45395706,"body_markdown":"You can get the package name with `aapt.exe`. For example:\r\n\r\n    aapt dump badging path\\to\\file.apk | findstr /C:&quot;package: name&quot;\r\n\r\nTo iterate over files, you can use `FOR` (in command prompt itself, otherwise double percent sign):\r\n\r\n    for %i in (C:\\apks\\*.apk) do @echo %i\r\n\r\nSo combined, your batch file should look like:\r\n\r\n    @for %%i in (C:\\apks\\*.apk) do @aapt dump badging &quot;%%i&quot; | findstr /C:&quot;package: name&quot;\r\n\r\nTo write this to a file:\r\n\r\n    my_batch_file_that_calls_aapt.bat &gt; my_text_file.txt\r\n\r\nOr a bit more generic:\r\n\r\n    @echo off\r\n    SET FOLDER=%1\r\n    SET OUTPUT=%2\r\n    break&gt;%OUTPUT%\r\n    for %%i in (%FOLDER%\\*.apk) do aapt dump badging &quot;%%i&quot; | findstr /C:&quot;package: name&quot; &gt;&gt; %OUTPUT%\r\n\r\nMake sure `aapt.exe` is in your `PATH` before trying any of these.\r\n\r\n---\r\n\r\nAnd just for a full picture, this is how you do it on Linux/MacOS X:\r\n\r\n    ls /path/to/my/apks/*.apk | xargs -L 1 aapt dump badging | grep package:\\ name","title":"How to list package names of multiple apks?","body":"<p>You can get the package name with <code>aapt.exe</code>. For example:</p>\n\n<pre><code>aapt dump badging path\\to\\file.apk | findstr /C:\"package: name\"\n</code></pre>\n\n<p>To iterate over files, you can use <code>FOR</code> (in command prompt itself, otherwise double percent sign):</p>\n\n<pre><code>for %i in (C:\\apks\\*.apk) do @echo %i\n</code></pre>\n\n<p>So combined, your batch file should look like:</p>\n\n<pre><code>@for %%i in (C:\\apks\\*.apk) do @aapt dump badging \"%%i\" | findstr /C:\"package: name\"\n</code></pre>\n\n<p>To write this to a file:</p>\n\n<pre><code>my_batch_file_that_calls_aapt.bat &gt; my_text_file.txt\n</code></pre>\n\n<p>Or a bit more generic:</p>\n\n<pre><code>@echo off\nSET FOLDER=%1\nSET OUTPUT=%2\nbreak&gt;%OUTPUT%\nfor %%i in (%FOLDER%\\*.apk) do aapt dump badging \"%%i\" | findstr /C:\"package: name\" &gt;&gt; %OUTPUT%\n</code></pre>\n\n<p>Make sure <code>aapt.exe</code> is in your <code>PATH</code> before trying any of these.</p>\n\n<hr>\n\n<p>And just for a full picture, this is how you do it on Linux/MacOS X:</p>\n\n<pre><code>ls /path/to/my/apks/*.apk | xargs -L 1 aapt dump badging | grep package:\\ name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28172904,"reputation":1,"user_id":21531146,"display_name":"FliphoneBochur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680211845,"creation_date":1680211845,"answer_id":75893153,"question_id":45395706,"body_markdown":"First, you need to [download aapt][1], and add it to path.\r\nNext, you need to open cmd in that folder.\r\nThen, you could run this command to list all the package names:\r\n\r\n    for /f &quot;delims=&quot; %i in (&#39;dir /b /on *.apk&#39;) do for /f &quot;tokens=2 delims=: &quot; %j in (&#39;aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;&#39;) do echo %j &gt;&gt; output.txt\r\n\r\nIf you want to list the filenames and package names in one file, use this command:\r\n\r\n    for /f &quot;delims=&quot; %i in (&#39;dir /b /on *.apk&#39;) do for /f &quot;tokens=2 delims=: &quot; %j in (&#39;aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;&#39;) do echo %~ni %j &gt;&gt; output.txt\r\n\r\n\r\n  [1]: https://dl.androidaapt.com/aapt-windows.zip","title":"How to list package names of multiple apks?","body":"<p>First, you need to <a href=\"https://dl.androidaapt.com/aapt-windows.zip\" rel=\"nofollow noreferrer\">download aapt</a>, and add it to path.\nNext, you need to open cmd in that folder.\nThen, you could run this command to list all the package names:</p>\n<pre><code>for /f &quot;delims=&quot; %i in ('dir /b /on *.apk') do for /f &quot;tokens=2 delims=: &quot; %j in ('aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;') do echo %j &gt;&gt; output.txt\n</code></pre>\n<p>If you want to list the filenames and package names in one file, use this command:</p>\n<pre><code>for /f &quot;delims=&quot; %i in ('dir /b /on *.apk') do for /f &quot;tokens=2 delims=: &quot; %j in ('aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;') do echo %~ni %j &gt;&gt; output.txt\n</code></pre>\n"}],"owner":{"account_id":7971991,"reputation":33,"user_id":6016342,"accept_rate":25,"display_name":"Ali bizaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680211845,"creation_date":1501380444,"question_id":45395706,"body_markdown":"a `.bat` code to list package_names of multiple `.apk` files in a folder, into a `.txt` file with this structure:\r\n\r\n    com.a.a\r\n    \r\n    com.b.b\r\n\r\nJust by sending the folder path to my bat file. for example `b.bat &quot;C:\\apks&quot;` which contains some `.apk` files, must create a `.txt` file and write all package_names of all files. \r\n\r\nI tried to find a way, but wasn&#39;t able for windows, and for multiple apk files. \r\n\r\nso how can I do that? ","title":"How to list package names of multiple apks?","body":"<p>a <code>.bat</code> code to list package_names of multiple <code>.apk</code> files in a folder, into a <code>.txt</code> file with this structure:</p>\n\n<pre><code>com.a.a\n\ncom.b.b\n</code></pre>\n\n<p>Just by sending the folder path to my bat file. for example <code>b.bat \"C:\\apks\"</code> which contains some <code>.apk</code> files, must create a <code>.txt</code> file and write all package_names of all files. </p>\n\n<p>I tried to find a way, but wasn't able for windows, and for multiple apk files. </p>\n\n<p>so how can I do that? </p>\n"},{"tags":["java","android","crash"],"comments":[{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537556885,"post_id":52449788,"comment_id":91842593,"body_markdown":"Reported the bug to Google: https://issuetracker.google.com/issues/116246633","body":"Reported the bug to Google: <a href=\"https://issuetracker.google.com/issues/116246633\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/116246633</a>"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":1,"creation_date":1537557055,"post_id":52449788,"comment_id":91842663,"body_markdown":"Why not just check the bounds and return null if the passed index is outside?","body":"Why not just check the bounds and return null if the passed index is outside?"},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537557526,"post_id":52449788,"comment_id":91842878,"body_markdown":"@TheWanderer, that is the likely work around we will use, but it was done this way original for performance reasons.  Java checks the bounds faster than we can, and if it is in bounds, the bounds will be checked twice.","body":"@TheWanderer, that is the likely work around we will use, but it was done this way original for performance reasons.  Java checks the bounds faster than we can, and if it is in bounds, the bounds will be checked twice."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1537557602,"post_id":52449788,"comment_id":91842913,"body_markdown":"you&#39;re not really supposed to rely on exceptions for integral logic. I doubt there&#39;s a significant time difference.","body":"you&#39;re not really supposed to rely on exceptions for integral logic. I doubt there&#39;s a significant time difference."},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537558274,"post_id":52449788,"comment_id":91843185,"body_markdown":"@TheWanderer You doubt was proven wrong a few years ago during our profiling (on a PC).  It may not matter anymore as hardware has improved over time and our Android app is newer and simpler than our PC app.  As for relying on exceptions for logic, I generally agree, but sometimes it is necessary.  Either way, Android shouldn&#39;t be crashing because we did something that caused an exception.","body":"@TheWanderer You doubt was proven wrong a few years ago during our profiling (on a PC).  It may not matter anymore as hardware has improved over time and our Android app is newer and simpler than our PC app.  As for relying on exceptions for logic, I generally agree, but sometimes it is necessary.  Either way, Android shouldn&#39;t be crashing because we did something that caused an exception."},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537558501,"post_id":52449788,"comment_id":91843284,"body_markdown":"@TheWanderer Posted a clarification on what my question is.  Thanks for your thoughts.","body":"@TheWanderer Posted a clarification on what my question is.  Thanks for your thoughts."}],"answers":[{"tags":[],"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543950946,"creation_date":1543950946,"answer_id":53619952,"question_id":52449788,"body_markdown":"I turns out it is an Android bug:\r\n\r\nhttps://issuetracker.google.com/issues/116246633\r\n\r\nUsed bounds checking as a work around instead of relying on Android to properly throw an ArrayIndexOutOfBoundsException.","title":"Android ART Crash trying to throw ArrayOutOfBoundsException","body":"<p>I turns out it is an Android bug:</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/116246633\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/116246633</a></p>\n\n<p>Used bounds checking as a work around instead of relying on Android to properly throw an ArrayIndexOutOfBoundsException.</p>\n"}],"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53619952,"answer_count":1,"score":3,"last_activity_date":1680210914,"creation_date":1537556866,"question_id":52449788,"body_markdown":"We are seeing a crash from time to time from Android&#39;s ART code.  We are indexing into an int array without bounds checking and then catching Java&#39;s ArrayIndexOutOfBoundsException and handling that correctly.\r\n\r\nWe run this code on numerous PCs with various versions of Java and it works correctly.  However, on Android the code occasionally explodes.\r\n\r\nSome of our source code:\r\n\r\n    class IdToIndexData {\r\n       private final int tmap[]; // Contents are set elsewhere\r\n    \r\n        int getTraitsIndexUnchecked(int id) {\r\n            return tmap[id];\r\n        }\r\n    }\r\n\r\n    class DataObjectInfo {\r\n       public Integer getFieldTraits(Class1 map, int id) {\r\n                int traitsIndex=map.getTraitsIndexUnchecked(id);\r\n                return traitsIndex;\r\n            } catch (ArrayIndexOutOfBoundsException e) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nI was unable to create a simple test case as I expect some sort of multi-threading race condition in the Android ART library.\r\n\r\nThe &quot;I/ObjectDBSet: changesComplete&quot; are from a different thread (see &quot;Message Processor&quot; thread), but could touch one of the objects calling getFieldTraits().  The int tmp[] is final, so would not be changed.  Also, the DataObjectInfo and IdToIndexData objects would not be replaced or altered.\r\n\r\nEither way, another thread should not cause a crash from Android&#39;s ART library.\r\n\r\nAndroid Version/Device:\r\n\r\nSamsung Galaxy Tab A with Android 7.0 build number NRD90M.T580UEU2BQL1.\r\n\r\nFrom Android Studio:\r\n\r\nBuild: 3.1.4, AI-173.4907809, 201807232114, \r\n\r\nAI-173.4907809, JRE 1.8.0_152-release-1024-b01x64 JetBrains s.r.o, OS Linux(amd64) v4.15.0-34-generic unknown, screens 1920x1080, 2560x1600\r\n\r\nAndroid Gradle Plugin: 3.1.4\r\nGradle: 4.4\r\nNDK: from local.properties: (not specified); latest from SDK: (not found); \r\nLLDB: pinned revision 3.1 not found; latest from SDK: (package not found); \r\nCMake: from local.properties: (not specified); latest from SDK: (not found); from PATH: (not found); \r\n\r\nFull output from the crash:\r\n\r\n    A/art: art/runtime/stack.cc:205] Check failed: success Failed to read the this object in int com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(int)\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    A/art: art/runtime/runtime.cc:419] Runtime aborting...\r\n           art/runtime/runtime.cc:419] Aborting thread:\r\n           art/runtime/runtime.cc:419] &quot;main&quot; prio=5 tid=1 Runnable\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\r\n           art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1113 stm=15 core=1 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n    A/art: art/runtime/runtime.cc:419]   native: #02 pc 003251b1  /system/lib/libart.so (_ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+24)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00324ffb  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+362)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\r\n           art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\r\n           art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n           art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\r\n           art/runtime/runtime.cc:419] Dumping all threads without appropriate locks held: thread list lock\r\n           art/runtime/runtime.cc:419] All threads:\r\n           art/runtime/runtime.cc:419] DALVIK THREADS (29):\r\n           art/runtime/runtime.cc:419] &quot;main&quot; prio=5 tid=1 Runnable\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\r\n           art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1115 stm=17 core=3 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 0033e0e1  /system/lib/libart.so (_ZN3art10ThreadList13RunCheckpointEPNS_7ClosureE+336)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 0033de01  /system/lib/libart.so (_ZN3art10ThreadList4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEb+180)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00325005  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+372)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\r\n           art/runtime/runtime.cc:419]   native: #14 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\r\n           art/runtime/runtime.cc:419]   native: #15 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\r\n           art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\r\n           art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n           art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;Jit thread pool worker thread 0&quot; prio=5 tid=2 Runnable (still starting up)\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x0 self=0xdb843000\r\n           art/runtime/runtime.cc:419]   | sysTid=10764 nice=9 cgrp=default sched=0/0 handle=0xe41a7920\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=225 stm=25 core=0 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xe40a9000-0xe40ab000 stackSize=1022KB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 000f042d  /system/lib/libart-compiler.so (???)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00136655  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder22BuildStaticFieldAccessERKNS_11InstructionEjb+2608)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0012e5dd  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder21ProcessDexInstructionERKNS_11InstructionEj+580)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 0012de5d  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder5BuildEv+1176)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 00112c9d  /system/lib/libart-compiler.so (_ZN3art13HGraphBuilder10BuildGraphEv+84)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 0015720b  /system/lib/libart-compiler.so (_ZNK3art18OptimizingCompiler10TryCompileEPNS_14ArenaAllocatorEPNS_19CodeVectorAllocatorEPKNS_7DexFile8CodeItemEjNS_10InvokeTypeEtjP8_jobjectRKS5_NS_6HandleINS_6mirror8DexCacheEEEPNS_9ArtMethodEb+2454)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 00158e47  /system/lib/libart-compiler.so (_ZN3art18OptimizingCompiler10JitCompileEPNS_6ThreadEPNS_3jit12JitCodeCacheEPNS_9ArtMethodEb+330)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 00107f1f  /system/lib/libart-compiler.so (_ZN3art3jit11JitCompiler13CompileMethodEPNS_6ThreadEPNS_9ArtMethodEb+194)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 002506a3  /system/lib/libart.so (_ZN3art3jit3Jit13CompileMethodEPNS_9ArtMethodEPNS_6ThreadEb+318)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 00251dc7  /system/lib/libart.so (_ZN3art3jit14JitCompileTask3RunEPNS_6ThreadE+430)\r\n           art/runtime/runtime.cc:419]   native: #14 pc 003450c9  /system/lib/libart.so (_ZN3art16ThreadPoolWorker3RunEv+44)\r\n           art/runtime/runtime.cc:419]   native: #15 pc 00344c01  /system/lib/libart.so (_ZN3art16ThreadPoolWorker8CallbackEPv+64)\r\n           art/runtime/runtime.cc:419]   native: #16 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\r\n           art/runtime/runtime.cc:419]   native: #17 pc 0001a161  /system/lib/libc.so (__start_thread+6)\r\n           art/runtime/runtime.cc:419]   (no managed stack frames)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;Signal Catcher&quot; prio=5 tid=3 WaitingInMainSignalCatcherLoop\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=1 dsCount=0 obj=0x12c44670 self=0xd9b98900\r\n           art/runtime/runtime.cc:419]   | sysTid=10765 nice=0 cgrp=default sched=0/0 handle=0xe40a6920\r\n           art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=0 stm=0 core=1 HZ=100\r\n    A/art: art/runtime/runtime.cc:419]   | stack=0xe3faa000-0xe3fac000 stackSize=1014KB\r\n           art/runtime/runtime.cc:419]   | held mutexes=\r\n           art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\r\n           art/runtime/runtime.cc:419]   kernel: do_sigtimedwait+0xdc/0x1bc\r\n           art/runtime/runtime.cc:419]   kernel: compat_SyS_rt_sigtimedwait+0x98/0xd8\r\n           art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00049780  /system/lib/libc.so (__rt_sigtimedwait+12)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 0001e933  /system/lib/libc.so (sigwait+34)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 003282df  /system/lib/libart.so (_ZN3art9SignalSet4WaitEv+22)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00327ed9  /system/lib/libart.so (_ZN3art13SignalCatcher13WaitForSignalEPNS_6ThreadERNS_9SignalSetE+168)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 00326b1b  /system/lib/libart.so (_ZN3art13SignalCatcher3RunEPv+302)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\r\n           art/runtime/runtime.cc:419]   (no managed stack frames)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;JDWP&quot; prio=5 tid=4 WaitingInMainDebuggerLoop\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=1 dsCount=0 obj=0x12c445e0 self=0xdb844400\r\n           art/runtime/runtime.cc:419]   | sysTid=10766 nice=0 cgrp=default sched=0/0 handle=0xe3fa7920\r\n           art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=44 stm=15 core=0 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xe3eab000-0xe3ead000 stackSize=1014KB\r\n           art/runtime/runtime.cc:419]   | held mutexes=\r\n           art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\r\n           art/runtime/runtime.cc:419]   kernel: poll_schedule_timeout+0x40/0x68\r\n           art/runtime/runtime.cc:419]   kernel: do_select+0x4bc/0x500\r\n           art/runtime/runtime.cc:419]   kernel: compat_core_sys_select+0x158/0x20c\r\n           art/runtime/runtime.cc:419]   kernel: compat_SyS_pselect6+0x174/0x210\r\n           art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00049658  /system/lib/libc.so (__pselect6+20)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 0001d539  /system/lib/libc.so (select+88)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 003fe093  /system/lib/libart.so (_ZN3art4JDWP12JdwpAdbState15ProcessIncomingEv+302)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 002497ef  /system/lib/libart.so (_ZN3art4JDWP9JdwpState3RunEv+654)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 00248f8f  /system/lib/libart.so (_ZN3art4JDWPL15StartJdwpThreadEPv+22)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\r\n           art/runtime/runtime.cc:419]   (no managed stack frames)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;MessageProcessor&quot; prio=5 tid=17 Runnable\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x12ce11a0 self=0xde362d00\r\n           art/runtime/runtime.cc:419]   | sysTid=11066 nice=0 cgrp=default sched=0/0 handle=0xc561e920\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=388 stm=5 core=2 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xc551c000-0xc551e000 stackSize=1038KB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 0020dea3  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+51530)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\r\n           art/runtime/runtime.cc:419]   native: #14 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\r\n           art/runtime/runtime.cc:419]   native: #15 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #16 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\r\n           art/runtime/runtime.cc:419]   native: #17 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\r\n           art/runtime/runtime.cc:419]   native: #18 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\r\n           art/runtime/runtime.cc:419]   native: #19 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\r\n           art/runtime/runtime.cc:419]   native: #20 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #21 pc 001d07b9  /system/lib/libart.so (_ZN3art11interpreter30EnterInterpreterFromEntryPointEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameE+92)\r\n           art/runtime/runtime.cc:419]   native: #22 pc 003f6dbd  /system/lib/libart.so (artQuickToInterpreterBridge+716)\r\n           art/runtime/runtime.cc:419]   native: #23 pc 000add93  /system/lib/libart.so (art_quick_to_interpreter_bridge+34)\r\n           art/runtime/runtime.cc:419]   native: #24 pc 0001b4b1  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (???)\r\n           art/runtime/runtime.cc:419]   at java.lang.Boolean.booleanValue(Boolean.java:132)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.Parameter.isFeatureSchedulingEnabled(Parameter.java:1349)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.logic.ProcedureLogic.isAppointmentRequest(ProcedureLogic.java:439)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure.isAppointmentRequest(Procedure.java:260)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:83)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:32)\r\n           art/runtime/runtime.cc:419]   at java.util.TimSort.countRunAndMakeAscending(TimSort.java:360)\r\n           art/runtime/runtime.cc:419]   at java.util.TimSort.sort(TimSort.java:220)\r\n           art/runtime/runtime.cc:419]   at java.util.Arrays.sort(Arrays.java:1450)\r\n           art/runtime/runtime.cc:419]   at java.util.Collections.sort(Collections.java:243)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.IndexedVector.sort(IndexedVector.java:216)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureDBLogic.sort(ProcedureDBLogic.java:61)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure$DB.sort(Procedure.java:583)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.data.ObjectDBSet.publishChangesComplete(ObjectDBSet.java:212)\r\n           art/runtime/runtime.cc:419]   - locked &lt;0x08c86602&gt; (a com.hcs.android.orc.service.data.ObjectDBSet)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.DataMessageHandler.handle(DataMessageHandler.java:77)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.processMessage(MessageProcessor.java:119)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.work(MessageProcessor.java:95)\r\n           art/runtime/runtime.cc:419]   at com.hcs.util.OAThread.run(OAThread.java:45)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;Thread-8&quot; prio=5 tid=25 Native\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=1 dsCount=0 obj=0x12fa7d30 self=0xde363700\r\n           art/runtime/runtime.cc:419]   | sysTid=11075 nice=0 cgrp=default sched=0/0 handle=0xc3d71920\r\n           art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=4210 stm=328 core=0 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xc3c6f000-0xc3c71000 stackSize=1038KB\r\n           art/runtime/runtime.cc:419]   | held mutexes=\r\n           art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\r\n           art/runtime/runtime.cc:419]   kernel: futex_wait_queue_me+0xe0/0x144\r\n           art/runtime/runtime.cc:419]   kernel: futex_wait+0xe8/0x1d8\r\n           art/runtime/runtime.cc:419]   kernel: do_futex+0xc8/0x860\r\n           art/runtime/runtime.cc:419]   kernel: compat_SyS_futex+0xc8/0x144\r\n           art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00017530  /system/lib/libc.so (syscall+28)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00076bbf  /system/lib/libmedia.so (_ZN7android11ClientProxy12obtainBufferEPNS_5Proxy6BufferEPK8timespecPS4_+554)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 000870d7  /system/lib/libmedia.so (_ZN7android11AudioRecord12obtainBufferEPNS0_6BufferEPK8timespecPS3_Pj+202)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 0008728b  /system/lib/libmedia.so (_ZN7android11AudioRecord4readEPvjb+150)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 000b08df  /system/lib/libandroid_runtime.so (???)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 004cf95f  /system/framework/arm/boot-framework.oat (Java_android_media_AudioRecord_native_1read_1in_1short_1array___3SIIZ+122)\r\n           art/runtime/runtime.cc:419]   at android.media.AudioRecord.native_read_in_short_array(Native method)\r\n           art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1243)\r\n           art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1197)\r\n           art/runtime/runtime.cc:419]   at edu.cmu.pocketsphinx.SpeechRecognizer$RecognizerThread.run(SpeechRecognizer.java:344)\r\n           art/runtime/runtime.cc:419]\r\n\r\n    A/libc: Fatal signal 6 (SIGABRT), code -6 in tid 10759 (android.orpanel)\r\n\r\nNote: Removed some threads that were just waiting to get under the 30,000 char limit on StackOverFlow.\r\n\r\n**UPDATE 1**\r\n\r\nMy question is **not** looking for work around (we can implement our own bounds checking, but do not do so because profiling several years ago showed that we needed to improve this code and this was a way to do it).\r\n\r\nInstead, I&#39;m looking for an explanation of how my code might be causing this problem (i.e. it is really my bug) or if it is a known Android bug.","title":"Android ART Crash trying to throw ArrayOutOfBoundsException","body":"<p>We are seeing a crash from time to time from Android's ART code.  We are indexing into an int array without bounds checking and then catching Java's ArrayIndexOutOfBoundsException and handling that correctly.</p>\n\n<p>We run this code on numerous PCs with various versions of Java and it works correctly.  However, on Android the code occasionally explodes.</p>\n\n<p>Some of our source code:</p>\n\n<pre><code>class IdToIndexData {\n   private final int tmap[]; // Contents are set elsewhere\n\n    int getTraitsIndexUnchecked(int id) {\n        return tmap[id];\n    }\n}\n\nclass DataObjectInfo {\n   public Integer getFieldTraits(Class1 map, int id) {\n            int traitsIndex=map.getTraitsIndexUnchecked(id);\n            return traitsIndex;\n        } catch (ArrayIndexOutOfBoundsException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>I was unable to create a simple test case as I expect some sort of multi-threading race condition in the Android ART library.</p>\n\n<p>The \"I/ObjectDBSet: changesComplete\" are from a different thread (see \"Message Processor\" thread), but could touch one of the objects calling getFieldTraits().  The int tmp[] is final, so would not be changed.  Also, the DataObjectInfo and IdToIndexData objects would not be replaced or altered.</p>\n\n<p>Either way, another thread should not cause a crash from Android's ART library.</p>\n\n<p>Android Version/Device:</p>\n\n<p>Samsung Galaxy Tab A with Android 7.0 build number NRD90M.T580UEU2BQL1.</p>\n\n<p>From Android Studio:</p>\n\n<p>Build: 3.1.4, AI-173.4907809, 201807232114, </p>\n\n<p>AI-173.4907809, JRE 1.8.0_152-release-1024-b01x64 JetBrains s.r.o, OS Linux(amd64) v4.15.0-34-generic unknown, screens 1920x1080, 2560x1600</p>\n\n<p>Android Gradle Plugin: 3.1.4\nGradle: 4.4\nNDK: from local.properties: (not specified); latest from SDK: (not found); \nLLDB: pinned revision 3.1 not found; latest from SDK: (package not found); \nCMake: from local.properties: (not specified); latest from SDK: (not found); from PATH: (not found); </p>\n\n<p>Full output from the crash:</p>\n\n<pre><code>A/art: art/runtime/stack.cc:205] Check failed: success Failed to read the this object in int com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(int)\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nA/art: art/runtime/runtime.cc:419] Runtime aborting...\n       art/runtime/runtime.cc:419] Aborting thread:\n       art/runtime/runtime.cc:419] \"main\" prio=5 tid=1 Runnable\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\n       art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1113 stm=15 core=1 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\n       art/runtime/runtime.cc:419]   | held mutexes= \"abort lock\" \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\nA/art: art/runtime/runtime.cc:419]   native: #02 pc 003251b1  /system/lib/libart.so (_ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+24)\n       art/runtime/runtime.cc:419]   native: #03 pc 00324ffb  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+362)\n       art/runtime/runtime.cc:419]   native: #04 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\n       art/runtime/runtime.cc:419]   native: #05 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\n       art/runtime/runtime.cc:419]   native: #06 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\n       art/runtime/runtime.cc:419]   native: #07 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\n       art/runtime/runtime.cc:419]   native: #08 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\n       art/runtime/runtime.cc:419]   native: #09 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\n       art/runtime/runtime.cc:419]   native: #10 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\n       art/runtime/runtime.cc:419]   native: #11 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\n       art/runtime/runtime.cc:419]   native: #12 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\n       art/runtime/runtime.cc:419]   native: #13 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\n       art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\n       art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\n       art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\n       art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\n       art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\n       art/runtime/runtime.cc:419] Dumping all threads without appropriate locks held: thread list lock\n       art/runtime/runtime.cc:419] All threads:\n       art/runtime/runtime.cc:419] DALVIK THREADS (29):\n       art/runtime/runtime.cc:419] \"main\" prio=5 tid=1 Runnable\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\n       art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1115 stm=17 core=3 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\n       art/runtime/runtime.cc:419]   | held mutexes= \"abort lock\" \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\n       art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\n       art/runtime/runtime.cc:419]   native: #03 pc 0033e0e1  /system/lib/libart.so (_ZN3art10ThreadList13RunCheckpointEPNS_7ClosureE+336)\n       art/runtime/runtime.cc:419]   native: #04 pc 0033de01  /system/lib/libart.so (_ZN3art10ThreadList4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEb+180)\n       art/runtime/runtime.cc:419]   native: #05 pc 00325005  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+372)\n       art/runtime/runtime.cc:419]   native: #06 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\n       art/runtime/runtime.cc:419]   native: #07 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\n       art/runtime/runtime.cc:419]   native: #08 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\n       art/runtime/runtime.cc:419]   native: #09 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\n       art/runtime/runtime.cc:419]   native: #10 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\n       art/runtime/runtime.cc:419]   native: #11 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\n       art/runtime/runtime.cc:419]   native: #12 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\n       art/runtime/runtime.cc:419]   native: #13 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\n       art/runtime/runtime.cc:419]   native: #14 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\n       art/runtime/runtime.cc:419]   native: #15 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\n       art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\n       art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\n       art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\n       art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\n       art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"Jit thread pool worker thread 0\" prio=5 tid=2 Runnable (still starting up)\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x0 self=0xdb843000\n       art/runtime/runtime.cc:419]   | sysTid=10764 nice=9 cgrp=default sched=0/0 handle=0xe41a7920\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=225 stm=25 core=0 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xe40a9000-0xe40ab000 stackSize=1022KB\n       art/runtime/runtime.cc:419]   | held mutexes= \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\n       art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\n       art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\n       art/runtime/runtime.cc:419]   native: #04 pc 000f042d  /system/lib/libart-compiler.so (???)\n       art/runtime/runtime.cc:419]   native: #05 pc 00136655  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder22BuildStaticFieldAccessERKNS_11InstructionEjb+2608)\n       art/runtime/runtime.cc:419]   native: #06 pc 0012e5dd  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder21ProcessDexInstructionERKNS_11InstructionEj+580)\n       art/runtime/runtime.cc:419]   native: #07 pc 0012de5d  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder5BuildEv+1176)\n       art/runtime/runtime.cc:419]   native: #08 pc 00112c9d  /system/lib/libart-compiler.so (_ZN3art13HGraphBuilder10BuildGraphEv+84)\n       art/runtime/runtime.cc:419]   native: #09 pc 0015720b  /system/lib/libart-compiler.so (_ZNK3art18OptimizingCompiler10TryCompileEPNS_14ArenaAllocatorEPNS_19CodeVectorAllocatorEPKNS_7DexFile8CodeItemEjNS_10InvokeTypeEtjP8_jobjectRKS5_NS_6HandleINS_6mirror8DexCacheEEEPNS_9ArtMethodEb+2454)\n       art/runtime/runtime.cc:419]   native: #10 pc 00158e47  /system/lib/libart-compiler.so (_ZN3art18OptimizingCompiler10JitCompileEPNS_6ThreadEPNS_3jit12JitCodeCacheEPNS_9ArtMethodEb+330)\n       art/runtime/runtime.cc:419]   native: #11 pc 00107f1f  /system/lib/libart-compiler.so (_ZN3art3jit11JitCompiler13CompileMethodEPNS_6ThreadEPNS_9ArtMethodEb+194)\n       art/runtime/runtime.cc:419]   native: #12 pc 002506a3  /system/lib/libart.so (_ZN3art3jit3Jit13CompileMethodEPNS_9ArtMethodEPNS_6ThreadEb+318)\n       art/runtime/runtime.cc:419]   native: #13 pc 00251dc7  /system/lib/libart.so (_ZN3art3jit14JitCompileTask3RunEPNS_6ThreadE+430)\n       art/runtime/runtime.cc:419]   native: #14 pc 003450c9  /system/lib/libart.so (_ZN3art16ThreadPoolWorker3RunEv+44)\n       art/runtime/runtime.cc:419]   native: #15 pc 00344c01  /system/lib/libart.so (_ZN3art16ThreadPoolWorker8CallbackEPv+64)\n       art/runtime/runtime.cc:419]   native: #16 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n       art/runtime/runtime.cc:419]   native: #17 pc 0001a161  /system/lib/libc.so (__start_thread+6)\n       art/runtime/runtime.cc:419]   (no managed stack frames)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"Signal Catcher\" prio=5 tid=3 WaitingInMainSignalCatcherLoop\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=1 dsCount=0 obj=0x12c44670 self=0xd9b98900\n       art/runtime/runtime.cc:419]   | sysTid=10765 nice=0 cgrp=default sched=0/0 handle=0xe40a6920\n       art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=0 stm=0 core=1 HZ=100\nA/art: art/runtime/runtime.cc:419]   | stack=0xe3faa000-0xe3fac000 stackSize=1014KB\n       art/runtime/runtime.cc:419]   | held mutexes=\n       art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\n       art/runtime/runtime.cc:419]   kernel: do_sigtimedwait+0xdc/0x1bc\n       art/runtime/runtime.cc:419]   kernel: compat_SyS_rt_sigtimedwait+0x98/0xd8\n       art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\n       art/runtime/runtime.cc:419]   native: #00 pc 00049780  /system/lib/libc.so (__rt_sigtimedwait+12)\n       art/runtime/runtime.cc:419]   native: #01 pc 0001e933  /system/lib/libc.so (sigwait+34)\n       art/runtime/runtime.cc:419]   native: #02 pc 003282df  /system/lib/libart.so (_ZN3art9SignalSet4WaitEv+22)\n       art/runtime/runtime.cc:419]   native: #03 pc 00327ed9  /system/lib/libart.so (_ZN3art13SignalCatcher13WaitForSignalEPNS_6ThreadERNS_9SignalSetE+168)\n       art/runtime/runtime.cc:419]   native: #04 pc 00326b1b  /system/lib/libart.so (_ZN3art13SignalCatcher3RunEPv+302)\n       art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n       art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\n       art/runtime/runtime.cc:419]   (no managed stack frames)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"JDWP\" prio=5 tid=4 WaitingInMainDebuggerLoop\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=1 dsCount=0 obj=0x12c445e0 self=0xdb844400\n       art/runtime/runtime.cc:419]   | sysTid=10766 nice=0 cgrp=default sched=0/0 handle=0xe3fa7920\n       art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=44 stm=15 core=0 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xe3eab000-0xe3ead000 stackSize=1014KB\n       art/runtime/runtime.cc:419]   | held mutexes=\n       art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\n       art/runtime/runtime.cc:419]   kernel: poll_schedule_timeout+0x40/0x68\n       art/runtime/runtime.cc:419]   kernel: do_select+0x4bc/0x500\n       art/runtime/runtime.cc:419]   kernel: compat_core_sys_select+0x158/0x20c\n       art/runtime/runtime.cc:419]   kernel: compat_SyS_pselect6+0x174/0x210\n       art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\n       art/runtime/runtime.cc:419]   native: #00 pc 00049658  /system/lib/libc.so (__pselect6+20)\n       art/runtime/runtime.cc:419]   native: #01 pc 0001d539  /system/lib/libc.so (select+88)\n       art/runtime/runtime.cc:419]   native: #02 pc 003fe093  /system/lib/libart.so (_ZN3art4JDWP12JdwpAdbState15ProcessIncomingEv+302)\n       art/runtime/runtime.cc:419]   native: #03 pc 002497ef  /system/lib/libart.so (_ZN3art4JDWP9JdwpState3RunEv+654)\n       art/runtime/runtime.cc:419]   native: #04 pc 00248f8f  /system/lib/libart.so (_ZN3art4JDWPL15StartJdwpThreadEPv+22)\n       art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n       art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\n       art/runtime/runtime.cc:419]   (no managed stack frames)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"MessageProcessor\" prio=5 tid=17 Runnable\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x12ce11a0 self=0xde362d00\n       art/runtime/runtime.cc:419]   | sysTid=11066 nice=0 cgrp=default sched=0/0 handle=0xc561e920\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=388 stm=5 core=2 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xc551c000-0xc551e000 stackSize=1038KB\n       art/runtime/runtime.cc:419]   | held mutexes= \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\n       art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\n       art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\n       art/runtime/runtime.cc:419]   native: #04 pc 0020dea3  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+51530)\n       art/runtime/runtime.cc:419]   native: #05 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #06 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\n       art/runtime/runtime.cc:419]   native: #07 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\n       art/runtime/runtime.cc:419]   native: #08 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\n       art/runtime/runtime.cc:419]   native: #09 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\n       art/runtime/runtime.cc:419]   native: #10 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #11 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\n       art/runtime/runtime.cc:419]   native: #12 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\n       art/runtime/runtime.cc:419]   native: #13 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\n       art/runtime/runtime.cc:419]   native: #14 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\n       art/runtime/runtime.cc:419]   native: #15 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #16 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\n       art/runtime/runtime.cc:419]   native: #17 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\n       art/runtime/runtime.cc:419]   native: #18 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\n       art/runtime/runtime.cc:419]   native: #19 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\n       art/runtime/runtime.cc:419]   native: #20 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #21 pc 001d07b9  /system/lib/libart.so (_ZN3art11interpreter30EnterInterpreterFromEntryPointEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameE+92)\n       art/runtime/runtime.cc:419]   native: #22 pc 003f6dbd  /system/lib/libart.so (artQuickToInterpreterBridge+716)\n       art/runtime/runtime.cc:419]   native: #23 pc 000add93  /system/lib/libart.so (art_quick_to_interpreter_bridge+34)\n       art/runtime/runtime.cc:419]   native: #24 pc 0001b4b1  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (???)\n       art/runtime/runtime.cc:419]   at java.lang.Boolean.booleanValue(Boolean.java:132)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.Parameter.isFeatureSchedulingEnabled(Parameter.java:1349)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.logic.ProcedureLogic.isAppointmentRequest(ProcedureLogic.java:439)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure.isAppointmentRequest(Procedure.java:260)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:83)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:32)\n       art/runtime/runtime.cc:419]   at java.util.TimSort.countRunAndMakeAscending(TimSort.java:360)\n       art/runtime/runtime.cc:419]   at java.util.TimSort.sort(TimSort.java:220)\n       art/runtime/runtime.cc:419]   at java.util.Arrays.sort(Arrays.java:1450)\n       art/runtime/runtime.cc:419]   at java.util.Collections.sort(Collections.java:243)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.IndexedVector.sort(IndexedVector.java:216)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureDBLogic.sort(ProcedureDBLogic.java:61)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure$DB.sort(Procedure.java:583)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.data.ObjectDBSet.publishChangesComplete(ObjectDBSet.java:212)\n       art/runtime/runtime.cc:419]   - locked &lt;0x08c86602&gt; (a com.hcs.android.orc.service.data.ObjectDBSet)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.DataMessageHandler.handle(DataMessageHandler.java:77)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.processMessage(MessageProcessor.java:119)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.work(MessageProcessor.java:95)\n       art/runtime/runtime.cc:419]   at com.hcs.util.OAThread.run(OAThread.java:45)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"Thread-8\" prio=5 tid=25 Native\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=1 dsCount=0 obj=0x12fa7d30 self=0xde363700\n       art/runtime/runtime.cc:419]   | sysTid=11075 nice=0 cgrp=default sched=0/0 handle=0xc3d71920\n       art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=4210 stm=328 core=0 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xc3c6f000-0xc3c71000 stackSize=1038KB\n       art/runtime/runtime.cc:419]   | held mutexes=\n       art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\n       art/runtime/runtime.cc:419]   kernel: futex_wait_queue_me+0xe0/0x144\n       art/runtime/runtime.cc:419]   kernel: futex_wait+0xe8/0x1d8\n       art/runtime/runtime.cc:419]   kernel: do_futex+0xc8/0x860\n       art/runtime/runtime.cc:419]   kernel: compat_SyS_futex+0xc8/0x144\n       art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\n       art/runtime/runtime.cc:419]   native: #00 pc 00017530  /system/lib/libc.so (syscall+28)\n       art/runtime/runtime.cc:419]   native: #01 pc 00076bbf  /system/lib/libmedia.so (_ZN7android11ClientProxy12obtainBufferEPNS_5Proxy6BufferEPK8timespecPS4_+554)\n       art/runtime/runtime.cc:419]   native: #02 pc 000870d7  /system/lib/libmedia.so (_ZN7android11AudioRecord12obtainBufferEPNS0_6BufferEPK8timespecPS3_Pj+202)\n       art/runtime/runtime.cc:419]   native: #03 pc 0008728b  /system/lib/libmedia.so (_ZN7android11AudioRecord4readEPvjb+150)\n       art/runtime/runtime.cc:419]   native: #04 pc 000b08df  /system/lib/libandroid_runtime.so (???)\n       art/runtime/runtime.cc:419]   native: #05 pc 004cf95f  /system/framework/arm/boot-framework.oat (Java_android_media_AudioRecord_native_1read_1in_1short_1array___3SIIZ+122)\n       art/runtime/runtime.cc:419]   at android.media.AudioRecord.native_read_in_short_array(Native method)\n       art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1243)\n       art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1197)\n       art/runtime/runtime.cc:419]   at edu.cmu.pocketsphinx.SpeechRecognizer$RecognizerThread.run(SpeechRecognizer.java:344)\n       art/runtime/runtime.cc:419]\n\nA/libc: Fatal signal 6 (SIGABRT), code -6 in tid 10759 (android.orpanel)\n</code></pre>\n\n<p>Note: Removed some threads that were just waiting to get under the 30,000 char limit on StackOverFlow.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>My question is <strong>not</strong> looking for work around (we can implement our own bounds checking, but do not do so because profiling several years ago showed that we needed to improve this code and this was a way to do it).</p>\n\n<p>Instead, I'm looking for an explanation of how my code might be causing this problem (i.e. it is really my bug) or if it is a known Android bug.</p>\n"},{"tags":["java","sql","arrays","oracle","blob"],"answers":[{"comments":[{"owner":{"account_id":12824218,"reputation":87,"user_id":9277946,"display_name":"herrenkuchen"},"score":0,"creation_date":1680202328,"post_id":75889798,"comment_id":133862578,"body_markdown":"Thank you for your answer! But the problem remains the same. The 6 Values of prefetchData are read and not the 114 actual ones.","body":"Thank you for your answer! But the problem remains the same. The 6 Values of prefetchData are read and not the 114 actual ones."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680203124,"post_id":75889798,"comment_id":133862769,"body_markdown":"What does the code look like that populates the blob value? I am looking for OracleResultSet.getBLOB(int columnIndex)","body":"What does the code look like that populates the blob value? I am looking for OracleResultSet.getBLOB(int columnIndex)"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680188446,"creation_date":1680188093,"answer_id":75889798,"question_id":75888744,"body_markdown":"To read from a BLOB, use the `getBinaryStream()` method of an oracle.sql.BLOB object to retrieve the entire BLOB as an input stream. This returns a `java.io.InputStream` object.\r\nAs with any `InputStream` object, use one of the overloaded `read()` methods to read the LOB data, and use the `close()` method when you finish. (Or from Java 9 use `readAllBytes()`)\r\n\r\nIn your case the following should work:\r\n\r\n    byte[] blobAsByte = blob.getBinaryStream().readAllBytes();","title":"Blob Object returns prefetchdata instead of bytecode via blob.getBytes()","body":"<p>To read from a BLOB, use the <code>getBinaryStream()</code> method of an oracle.sql.BLOB object to retrieve the entire BLOB as an input stream. This returns a <code>java.io.InputStream</code> object.\nAs with any <code>InputStream</code> object, use one of the overloaded <code>read()</code> methods to read the LOB data, and use the <code>close()</code> method when you finish. (Or from Java 9 use <code>readAllBytes()</code>)</p>\n<p>In your case the following should work:</p>\n<pre><code>byte[] blobAsByte = blob.getBinaryStream().readAllBytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680210701,"creation_date":1680210701,"answer_id":75893037,"question_id":75888744,"body_markdown":"You can disable the prefetching of BLOB data entirely with\r\n\r\n    oracle.jdbc.defaultLobPrefetchSize=-1\r\n\r\nor set it to the desired size in bytes, example for 4k\r\n\r\n    oracle.jdbc.defaultLobPrefetchSize=4000","title":"Blob Object returns prefetchdata instead of bytecode via blob.getBytes()","body":"<p>You can disable the prefetching of BLOB data entirely with</p>\n<pre><code>oracle.jdbc.defaultLobPrefetchSize=-1\n</code></pre>\n<p>or set it to the desired size in bytes, example for 4k</p>\n<pre><code>oracle.jdbc.defaultLobPrefetchSize=4000\n</code></pre>\n"}],"owner":{"account_id":12824218,"reputation":87,"user_id":9277946,"display_name":"herrenkuchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680210701,"creation_date":1680182130,"question_id":75888744,"body_markdown":"I am retrieving a BLOB from an Oracle (SQL) DB within a batch tasklet.\r\nTo get the underlying File as Byte[] I was using something like this:\r\n\r\n    byte[] blobAsByte = blob.getBytes(1l, (int) blob.length());\r\n\r\nAnd passing this, with the appropriate mime-type into a datasource.\r\n\r\nThe problem is, the returned length as well as the returned bytes represent the content of the &quot;prefetchdata&quot;, not the actual data is what i found, while debugging and looking at what the blob object contains.\r\n\r\nCan you tell me, how I can retrieve the actual data?\r\n\r\nAnd does this structure represent a proper blob object in java:\r\n\r\n    Name: blob\r\n    Value: $Proxy377\r\n    \tName: h\r\n    \tValue: SerializableBlobProxy\r\n    \t\tName: blob\r\n    \t\tDelegate: DelegatingBlob\r\n    \t\t\tName: delegate\r\n    \t\t\tValue: BLOB\r\n    \t\t\t\tName: OjiOracleBlob\r\n    \t\t\t\t\tName: data\r\n    \t\t\t\t\tValue:[0]...[113]\r\n                        Name: prefetchData\r\n                    \tValue:[0]...[5]\r\n\r\n","title":"Blob Object returns prefetchdata instead of bytecode via blob.getBytes()","body":"<p>I am retrieving a BLOB from an Oracle (SQL) DB within a batch tasklet.\nTo get the underlying File as Byte[] I was using something like this:</p>\n<pre><code>byte[] blobAsByte = blob.getBytes(1l, (int) blob.length());\n</code></pre>\n<p>And passing this, with the appropriate mime-type into a datasource.</p>\n<p>The problem is, the returned length as well as the returned bytes represent the content of the &quot;prefetchdata&quot;, not the actual data is what i found, while debugging and looking at what the blob object contains.</p>\n<p>Can you tell me, how I can retrieve the actual data?</p>\n<p>And does this structure represent a proper blob object in java:</p>\n<pre><code>Name: blob\nValue: $Proxy377\n    Name: h\n    Value: SerializableBlobProxy\n        Name: blob\n        Delegate: DelegatingBlob\n            Name: delegate\n            Value: BLOB\n                Name: OjiOracleBlob\n                    Name: data\n                    Value:[0]...[113]\n                    Name: prefetchData\n                    Value:[0]...[5]\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9690,"page":535,"page_size":100}
