{"items":[{"tags":["java","soap"],"answers":[{"tags":[],"owner":{"account_id":15399077,"reputation":21,"user_id":11109193,"display_name":"david-zed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557661884,"creation_date":1557661884,"answer_id":56098954,"question_id":56090943,"body_markdown":"I have done this now by creating the required envelope definition as an XML String and then setting the SOAPPart content using that string","title":"Dynamically adding namespace to SOAP Envelope in Java","body":"<p>I have done this now by creating the required envelope definition as an XML String and then setting the SOAPPart content using that string</p>\n"}],"owner":{"account_id":15399077,"reputation":21,"user_id":11109193,"display_name":"david-zed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652151277,"creation_date":1557582541,"question_id":56090943,"body_markdown":"I am new to all of this but I am trying to create a SOAP message and get stuck at the off, I am using Java 8 and the standard javax.xml.soap classes but seem unable to add namespaces to the Envelope\r\n\r\n    MessageFactory factory \t= MessageFactory.newInstance();\r\n    SOAPMessage message    \t= factory.createMessage();\r\n    SOAPPart part \t\t= message.getSOAPPart();\r\n    SOAPEnvelope envelope \t= part.getEnvelope();\r\n\t\t\t\r\n    envelope.addNamespaceDeclaration( &quot;xmlns:xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot;);\r\n\r\n\r\nIf I try this at runtime I get the following error\r\nNAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.","title":"Dynamically adding namespace to SOAP Envelope in Java","body":"<p>I am new to all of this but I am trying to create a SOAP message and get stuck at the off, I am using Java 8 and the standard javax.xml.soap classes but seem unable to add namespaces to the Envelope</p>\n\n<pre><code>MessageFactory factory  = MessageFactory.newInstance();\nSOAPMessage message     = factory.createMessage();\nSOAPPart part       = message.getSOAPPart();\nSOAPEnvelope envelope   = part.getEnvelope();\n\nenvelope.addNamespaceDeclaration( \"xmlns:xsi\", \"http://www.w3.org/2001/XMLSchema-instance\");\n</code></pre>\n\n<p>If I try this at runtime I get the following error\nNAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.</p>\n"},{"tags":["java","switch-statement","java-17","jep"],"comments":[{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1633207217,"post_id":69419207,"comment_id":122699657,"body_markdown":"@user16320675 all possible cases, else with default","body":"@user16320675 all possible cases, else with default"},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1633207404,"post_id":69419207,"comment_id":122699704,"body_markdown":"@user16320675 *definitely matched* implies exhaustiveness","body":"@user16320675 <i>definitely matched</i> implies exhaustiveness"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633363882,"creation_date":1633363882,"answer_id":69439181,"question_id":69419207,"body_markdown":"You have asked two different questions. Your question’s title asks\r\n\r\n&gt; Does pattern matched switch need to be always exhaustive in java?\r\n\r\nThe answer is yes. This is given in [&#167;14.11.2]:\r\n\r\n&gt; If the `switch` statement is an enhanced `switch` statement, then it must be exhaustive.\r\n\r\nThe definition of “enhanced switch statement” is given shortly before that statement\r\n\r\n&gt; An *enhanced* `switch` statement is one where either (i) the type of the selector expression is not `char`, `byte`, `short`, `int`, `Character`, `Byte`, `Short`, `Integer`, `String`, or an enum type, or (ii) at least one of the switch labels has a pattern case label element or a `null` case label element.\r\n\r\nwhich implies that switch with pattern matching is always an enhanced switch statement.\r\n\r\n---\r\n\r\nBut the body of your question is a different, very specific question:\r\n\r\n&gt; &gt; A pattern variable introduced by a switch label is definitely matched in the associated   \r\nswitch rule expression, switch rule block or switch rule throw statement.\r\n&gt; \r\n&gt; Does this mean pattern matched switch needs to be compulsorily exhaustive regardless of whether it&#39;s used as a statement or an expression?\r\n\r\nThe answer to this question is, no, this cited sentence does not have that meaning. The subject of this sentence is “pattern variable” and its scope is “the associated switch rule expression, switch rule block or switch rule throw statement”. So it’s not even remotely talking about the exhaustiveness of the entire `switch` statement.\r\n\r\nWhen you have, e.g.\r\n```java\r\n   case Point p &amp;&amp; p.x &gt; 20 -&gt; System.out.println(&quot;the right &quot; + p);\r\n```\r\n\r\nThe “pattern variable” is `p` and the part to the right of the `-&gt;` is “the associated switch rule expression” and the cited sentence says that within the latter, the variable `p` is “definitely matched”:\r\n\r\nThis is formally necessary for [&#167;6.3] to establish that the variable will be in scope and initialized to the right of the `-&gt;` (or `:` if you’re still using it).\r\n\r\n&gt; The scope of a pattern variable declaration (that is, a local variable declared by a pattern) is the part of the program that might be executed after the matching of a value against the pattern has succeeded ([&#167;14.30.2]). It is determined by considering the program points where the pattern variable is *definitely matched* in a region beginning with the pattern that declares the pattern variable.\r\n\r\n[&#167;14.11.2]:https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html#jls-14.11.2\r\n[&#167;6.3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3-600\r\n[&#167;14.30.2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.30.2","title":"Does pattern matched switch need to be always exhaustive in Java?","body":"<p>You have asked two different questions. Your question’s title asks</p>\n<blockquote>\n<p>Does pattern matched switch need to be always exhaustive in java?</p>\n</blockquote>\n<p>The answer is yes. This is given in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html#jls-14.11.2\" rel=\"nofollow noreferrer\">§14.11.2</a>:</p>\n<blockquote>\n<p>If the <code>switch</code> statement is an enhanced <code>switch</code> statement, then it must be exhaustive.</p>\n</blockquote>\n<p>The definition of “enhanced switch statement” is given shortly before that statement</p>\n<blockquote>\n<p>An <em>enhanced</em> <code>switch</code> statement is one where either (i) the type of the selector expression is not <code>char</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>Character</code>, <code>Byte</code>, <code>Short</code>, <code>Integer</code>, <code>String</code>, or an enum type, or (ii) at least one of the switch labels has a pattern case label element or a <code>null</code> case label element.</p>\n</blockquote>\n<p>which implies that switch with pattern matching is always an enhanced switch statement.</p>\n<hr />\n<p>But the body of your question is a different, very specific question:</p>\n<blockquote>\n<blockquote>\n<p>A pattern variable introduced by a switch label is definitely matched in the associated<br />\nswitch rule expression, switch rule block or switch rule throw statement.</p>\n</blockquote>\n<p>Does this mean pattern matched switch needs to be compulsorily exhaustive regardless of whether it's used as a statement or an expression?</p>\n</blockquote>\n<p>The answer to this question is, no, this cited sentence does not have that meaning. The subject of this sentence is “pattern variable” and its scope is “the associated switch rule expression, switch rule block or switch rule throw statement”. So it’s not even remotely talking about the exhaustiveness of the entire <code>switch</code> statement.</p>\n<p>When you have, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   case Point p &amp;&amp; p.x &gt; 20 -&gt; System.out.println(&quot;the right &quot; + p);\n</code></pre>\n<p>The “pattern variable” is <code>p</code> and the part to the right of the <code>-&gt;</code> is “the associated switch rule expression” and the cited sentence says that within the latter, the variable <code>p</code> is “definitely matched”:</p>\n<p>This is formally necessary for <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3-600\" rel=\"nofollow noreferrer\">§6.3</a> to establish that the variable will be in scope and initialized to the right of the <code>-&gt;</code> (or <code>:</code> if you’re still using it).</p>\n<blockquote>\n<p>The scope of a pattern variable declaration (that is, a local variable declared by a pattern) is the part of the program that might be executed after the matching of a value against the pattern has succeeded (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.30.2\" rel=\"nofollow noreferrer\">§14.30.2</a>). It is determined by considering the program points where the pattern variable is <em>definitely matched</em> in a region beginning with the pattern that declares the pattern variable.</p>\n</blockquote>\n"}],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69439181,"answer_count":1,"score":3,"last_activity_date":1652150940,"creation_date":1633199771,"question_id":69419207,"body_markdown":"\r\n[JEP 406][1] states: \r\n&gt; A pattern variable introduced by a *switch* label is definitely matched in the associated *switch* rule expression, *switch* rule block or *switch* rule throw statement.\r\n\r\nDoes this mean pattern matched switch needs to be compulsorily exhaustive regardless of whether it&#39;s used as a statement or an expression?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html","title":"Does pattern matched switch need to be always exhaustive in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html\" rel=\"nofollow noreferrer\">JEP 406</a> states:</p>\n<blockquote>\n<p>A pattern variable introduced by a <em>switch</em> label is definitely matched in the associated <em>switch</em> rule expression, <em>switch</em> rule block or <em>switch</em> rule throw statement.</p>\n</blockquote>\n<p>Does this mean pattern matched switch needs to be compulsorily exhaustive regardless of whether it's used as a statement or an expression?</p>\n"},{"tags":["java","linux","memory","virtual-memory"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1652149750,"post_id":72180073,"comment_id":127530614,"body_markdown":"Not if it&#39;s never been used, it isn&#39;t allocated yet.","body":"Not if it&#39;s never been used, it isn&#39;t allocated yet."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1652150095,"post_id":72180073,"comment_id":127530675,"body_markdown":"1. when java current memory does not reach max memory...? No. 2 1G memory, does &quot;1G&quot; contain virtual memory? The answer is that it is up to the OS. But the concept of &quot;virtual memory&quot; has been blurred by a number of factors, as the concept of memory only consisting of RAM and disc meaning a hard drive has been greatly blurred.","body":"1. when java current memory does not reach max memory...? No. 2 1G memory, does &quot;1G&quot; contain virtual memory? The answer is that it is up to the OS. But the concept of &quot;virtual memory&quot; has been blurred by a number of factors, as the concept of memory only consisting of RAM and disc meaning a hard drive has been greatly blurred."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1652228523,"post_id":72180073,"comment_id":127554403,"body_markdown":"using `-Xms` and `-Xmx`, you can specify the _smallest_ amount of memory to use (ms), and/or the _largest_ amount of memory to use (mx). you&#39;re allowed to use neither, both, or either one by itself. if you want to allocate a specific amount up front, and never exceed that, set -Xms and -Xmx to the same thing (ex: 1GB). or you could start with something small (-Xms) and then provide an upper limit (-Xmx). this latter sounds like what you&#39;re doing, which is just setting an upper limit, not actually allocating anything.","body":"using <code>-Xms</code> and <code>-Xmx</code>, you can specify the <i>smallest</i> amount of memory to use (ms), and/or the <i>largest</i> amount of memory to use (mx). you&#39;re allowed to use neither, both, or either one by itself. if you want to allocate a specific amount up front, and never exceed that, set -Xms and -Xmx to the same thing (ex: 1GB). or you could start with something small (-Xms) and then provide an upper limit (-Xmx). this latter sounds like what you&#39;re doing, which is just setting an upper limit, not actually allocating anything."}],"answers":[{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652150210,"creation_date":1652149833,"answer_id":72180115,"question_id":72180073,"body_markdown":"The Xmx option generally does not allocate memory (virtual or otherwise), so there is nothing to waste.\r\n\r\nXmx specifies the maximum that can be allocated.\r\n\r\nXms is the initial size of the heap, though it may not actually have real memory backing the entire heap, until used.\r\n\r\nThe memory allocation model in modern operating systems is rather more complicated than the simple question supposes. If the JVM requests a certain amount of &quot;memory&quot; from the OS, that &quot;memory&quot; is virtual memory -- which is to say, it might exist in RAM, it might exist on the disk in a page/swap file, or it might not exist anywhere; this latter is generally referred to as &quot;demand-zero&quot; pages: as soon as you touch them, they will exist, initially zeroed.\r\n\r\nThere may be an option to &quot;pretouch&quot; all pages of the initial heap allocation, which will cause them to exist in RAM, though they might subsequently be paged out.\r\n","title":"when java current memory does not reach max memory(defined by &quot;Xmx&quot;), is the remaining memory wasted?","body":"<p>The Xmx option generally does not allocate memory (virtual or otherwise), so there is nothing to waste.</p>\n<p>Xmx specifies the maximum that can be allocated.</p>\n<p>Xms is the initial size of the heap, though it may not actually have real memory backing the entire heap, until used.</p>\n<p>The memory allocation model in modern operating systems is rather more complicated than the simple question supposes. If the JVM requests a certain amount of &quot;memory&quot; from the OS, that &quot;memory&quot; is virtual memory -- which is to say, it might exist in RAM, it might exist on the disk in a page/swap file, or it might not exist anywhere; this latter is generally referred to as &quot;demand-zero&quot; pages: as soon as you touch them, they will exist, initially zeroed.</p>\n<p>There may be an option to &quot;pretouch&quot; all pages of the initial heap allocation, which will cause them to exist in RAM, though they might subsequently be paged out.</p>\n"}],"owner":{"account_id":20658742,"reputation":26,"user_id":15167167,"display_name":"cheng gen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652150210,"creation_date":1652149376,"question_id":72180073,"body_markdown":"when java current memory does not reach max memory(defined by &quot;Xmx&quot;), the remaining memory (=max-current) is free and not used by any other process? \r\nBy the way, I know about virtual memory, if java process applys for 1G memory, does &quot;1G&quot; contain virtual memory?","title":"when java current memory does not reach max memory(defined by &quot;Xmx&quot;), is the remaining memory wasted?","body":"<p>when java current memory does not reach max memory(defined by &quot;Xmx&quot;), the remaining memory (=max-current) is free and not used by any other process?\nBy the way, I know about virtual memory, if java process applys for 1G memory, does &quot;1G&quot; contain virtual memory?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1652147852,"post_id":72179913,"comment_id":127530334,"body_markdown":"Please post a valid [mre] if you want the best answer possible without us having to guess","body":"Please post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you want the best answer possible without us having to guess"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652147908,"post_id":72179913,"comment_id":127530344,"body_markdown":"Also, I have to wonder about those parseInt calls, that you&#39;re not throwing a NumberFormatException by having that in the paintComponent, which runs *before* the user has any time to enter anything into a JTextField.","body":"Also, I have to wonder about those parseInt calls, that you&#39;re not throwing a NumberFormatException by having that in the paintComponent, which runs <i>before</i> the user has any time to enter anything into a JTextField."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1652147925,"post_id":72179913,"comment_id":127530350,"body_markdown":"In fact, if those text fields should hold numbers, perhaps better to use a JSpinner.","body":"In fact, if those text fields should hold numbers, perhaps better to use a JSpinner."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652147966,"post_id":72179913,"comment_id":127530356,"body_markdown":"Yes, of course you can draw using user input, ***if*** the input is valid, but your most specific question, why this paints black is not yet answerable.","body":"Yes, of course you can draw using user input, <b><i>if</i></b> the input is valid, but your most specific question, why this paints black is not yet answerable."},{"owner":{"account_id":22777699,"reputation":1,"user_id":16934088,"display_name":"ryan j."},"score":0,"creation_date":1652147971,"post_id":72179913,"comment_id":127530358,"body_markdown":"@HovercraftFullOfEels got it. How would you call it after?","body":"@HovercraftFullOfEels got it. How would you call it after?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652148009,"post_id":72179913,"comment_id":127530369,"body_markdown":"You can&#39;t. You need to get the input and validate it, and if invalid, use valid default values, but again, ***please*** improve the question. The specifics will all depend on that which  you are not showing us.","body":"You can&#39;t. You need to get the input and validate it, and if invalid, use valid default values, but again, <b><i>please</i></b> improve the question. The specifics will all depend on that which  you are not showing us."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652148119,"post_id":72179913,"comment_id":127530382,"body_markdown":"I already answered that","body":"I already answered that"},{"owner":{"account_id":22777699,"reputation":1,"user_id":16934088,"display_name":"ryan j."},"score":0,"creation_date":1652148126,"post_id":72179913,"comment_id":127530386,"body_markdown":"@HovercraftFullOfEels ok basically the user inputs coordinates and I want the program to draw a line based on the coordinates. How would I do this?","body":"@HovercraftFullOfEels ok basically the user inputs coordinates and I want the program to draw a line based on the coordinates. How would I do this?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652148374,"post_id":72179913,"comment_id":127530424,"body_markdown":"Again, use JSpinners, set the values from the start to default values.","body":"Again, use JSpinners, set the values from the start to default values."},{"owner":{"account_id":22777699,"reputation":1,"user_id":16934088,"display_name":"ryan j."},"score":0,"creation_date":1652148702,"post_id":72179913,"comment_id":127530469,"body_markdown":"@HovercraftFullOfEels how do you use jspinners? ive never used them","body":"@HovercraftFullOfEels how do you use jspinners? ive never used them"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652148937,"post_id":72179913,"comment_id":127530498,"body_markdown":"They&#39;re similar to JTextFields as the user can enter numbers just like a JTextField, but they also have up-down arrows to change the numeric value. There is a tutorial for them.","body":"They&#39;re similar to JTextFields as the user can enter numbers just like a JTextField, but they also have up-down arrows to change the numeric value. There is a tutorial for them."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1652151914,"post_id":72179913,"comment_id":127530901,"body_markdown":"*I&#39;m trying to draw lines based on user inpu* - so then you have two basic steps: 1) you need a way for the user to enter the information. 2) you need to store the information so you can paint each line. One way to do this is to store the information in an ArrayList and then iterate through the list to paint each line. Check out [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for a working example. In the example the user uses a mouse to draw the shape. You would need to change the UI to have the user enter the information.","body":"<i>I&#39;m trying to draw lines based on user inpu</i> - so then you have two basic steps: 1) you need a way for the user to enter the information. 2) you need to store the information so you can paint each line. One way to do this is to store the information in an ArrayList and then iterate through the list to paint each line. Check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for a working example. In the example the user uses a mouse to draw the shape. You would need to change the UI to have the user enter the information."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652149513,"creation_date":1652148988,"answer_id":72180032,"question_id":72179913,"body_markdown":"To have the user be able to enter a number and draw with it, use a JSpinner (or multiple JSpinners), since the user cannot add non-numeric values into these, and set it at a default value to start. For example:\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Stroke;\r\nimport javax.swing.*;\r\n\r\npublic class LinePanel extends JPanel {\r\n\tprivate static final Stroke MY_STROKE = new BasicStroke(4f);\r\n\tprivate JSpinner spinner1 = new JSpinner(new SpinnerNumberModel(50, 0, 100, 1));\r\n\tprivate JSpinner spinner2 = new JSpinner(new SpinnerNumberModel(50, 0, 100, 1));\r\n\t\r\n\tpublic LinePanel() {\r\n\t\tsetPreferredSize(new Dimension(800, 650));\r\n\t\tadd(spinner1);\r\n\t\tadd(spinner2);\r\n\t\t\r\n\t\tspinner1.addChangeListener(cEvt -&gt; spinnerChanged());\r\n\t\tspinner2.addChangeListener(cEvt -&gt; spinnerChanged());\r\n\t}\r\n\t\r\n\tprivate void spinnerChanged() {\r\n\t\trepaint();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tg2.setStroke(MY_STROKE);\r\n\t\tint x2 = ((Integer)spinner1.getValue() * getWidth()) / 100;\r\n\t\tint y2 = ((Integer)spinner2.getValue() * getHeight()) / 100;\r\n\t\tg2.drawLine(0, 0, x2, y2);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tLinePanel mainPanel = new LinePanel();\r\n\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAs to your original question: why your current code isn&#39;t working? I myself can&#39;t answer this without your posting a decent [MRE](https://stackoverflow.com/help/minimal-reproducible-example) (please see my code above as an example), one that demonstrates the problem for us. Are you getting any NumberFormatExceptions with your code?","title":"Swing paintcomponent malfunction","body":"<p>To have the user be able to enter a number and draw with it, use a JSpinner (or multiple JSpinners), since the user cannot add non-numeric values into these, and set it at a default value to start. For example:</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Stroke;\nimport javax.swing.*;\n\npublic class LinePanel extends JPanel {\n    private static final Stroke MY_STROKE = new BasicStroke(4f);\n    private JSpinner spinner1 = new JSpinner(new SpinnerNumberModel(50, 0, 100, 1));\n    private JSpinner spinner2 = new JSpinner(new SpinnerNumberModel(50, 0, 100, 1));\n    \n    public LinePanel() {\n        setPreferredSize(new Dimension(800, 650));\n        add(spinner1);\n        add(spinner2);\n        \n        spinner1.addChangeListener(cEvt -&gt; spinnerChanged());\n        spinner2.addChangeListener(cEvt -&gt; spinnerChanged());\n    }\n    \n    private void spinnerChanged() {\n        repaint();\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setStroke(MY_STROKE);\n        int x2 = ((Integer)spinner1.getValue() * getWidth()) / 100;\n        int y2 = ((Integer)spinner2.getValue() * getHeight()) / 100;\n        g2.drawLine(0, 0, x2, y2);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            LinePanel mainPanel = new LinePanel();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<p>As to your original question: why your current code isn't working? I myself can't answer this without your posting a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> (please see my code above as an example), one that demonstrates the problem for us. Are you getting any NumberFormatExceptions with your code?</p>\n"}],"owner":{"account_id":22777699,"reputation":1,"user_id":16934088,"display_name":"ryan j."},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1652159578,"answer_count":1,"score":-3,"last_activity_date":1652149513,"creation_date":1652147641,"question_id":72179913,"body_markdown":"I&#39;m trying to draw lines based on user input. However, When i run it, it makes the jFrame blank.\r\n\r\n\r\n```\r\nprotected void paintComponent(Graphics g) {\r\n\tsuper.paintComponent(g);\r\n\tg.setColor(Color.BLACK);\r\n\tg.drawRect(0, 250, 500, 1);\r\n\tg.drawRect(250, 0, 1, 500);\r\n\tg.drawLine(250,250, 250 + Integer.parseInt(b.getText()), 250);\r\n\tg.drawLine(\r\n\t\t\t250 + Integer.parseInt(b.getText()), \r\n\t\t\t250, \r\n\t\t\t250 + Integer.parseInt(b.getText()),\r\n\t\t\t250+Integer.parseInt(a.getText()));\r\n\tg.drawLine(250, 250, 250 + Integer.parseInt(b.getText()),\r\n\t\t\t250+Integer.parseInt(a.getText()));\r\n}\r\n```","title":"Swing paintcomponent malfunction","body":"<p>I'm trying to draw lines based on user input. However, When i run it, it makes the jFrame blank.</p>\n<pre><code>protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.setColor(Color.BLACK);\n    g.drawRect(0, 250, 500, 1);\n    g.drawRect(250, 0, 1, 500);\n    g.drawLine(250,250, 250 + Integer.parseInt(b.getText()), 250);\n    g.drawLine(\n            250 + Integer.parseInt(b.getText()), \n            250, \n            250 + Integer.parseInt(b.getText()),\n            250+Integer.parseInt(a.getText()));\n    g.drawLine(250, 250, 250 + Integer.parseInt(b.getText()),\n            250+Integer.parseInt(a.getText()));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6144394,"reputation":631,"user_id":4790754,"display_name":"Arfat Binkileb"},"score":0,"creation_date":1652115134,"post_id":72174741,"comment_id":127522696,"body_markdown":"Perhaps, we should provide a link to your GitHub repo in order to reproduce","body":"Perhaps, we should provide a link to your GitHub repo in order to reproduce"},{"owner":{"account_id":21170558,"reputation":53,"user_id":15602766,"display_name":"kqlqk"},"score":0,"creation_date":1652117203,"post_id":72174741,"comment_id":127523442,"body_markdown":"sure, https://github.com/kqlqk/list_TODO/tree/refactoring_sessionFactory","body":"sure, <a href=\"https://github.com/kqlqk/list_TODO/tree/refactoring_sessionFactory\" rel=\"nofollow noreferrer\">github.com/kqlqk/list_TODO/tree/refactoring_sessionFactory</a>"}],"answers":[{"tags":[],"owner":{"account_id":21170558,"reputation":53,"user_id":15602766,"display_name":"kqlqk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652149506,"creation_date":1652149506,"answer_id":72180089,"question_id":72174741,"body_markdown":"So, i just decied to use @Transactional and no sessionFactory needed","title":"The dependencies of some of the beans in the application context form a cycle: session factory creating","body":"<p>So, i just decied to use @Transactional and no sessionFactory needed</p>\n"}],"owner":{"account_id":21170558,"reputation":53,"user_id":15602766,"display_name":"kqlqk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72180089,"answer_count":1,"score":0,"last_activity_date":1652149506,"creation_date":1652111204,"question_id":72174741,"body_markdown":"i&#39;m new in Spring framework. I have a spring boot application(mvc, hibernate), im trying to get session factory but i got an error\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  securityConfig defined in file [mySrc\\springBootApp\\config\\SecurityConfig.class]\r\n↑     ↓\r\n|  userDetailsServiceImpl defined in file [mySrc/springBootApp\\service\\impl\\UserDetailsServiceImpl.class]   \r\n↑     ↓\r\n|  userDAO defined in me.kqlqk.springBootApp.DAO.UserDAO defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\r\n↑     ↓\r\n|  (inner bean)#2b6a0ea9\r\n└─────┘\r\n\r\n\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\n```\r\n\r\nMy config class:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableTransactionManagement\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private Environment env;\r\n\r\n    @Autowired\r\n    public SecurityConfig(@Qualifier(&quot;userDetailsServiceImpl&quot;) UserDetailsService userDetailsService, Environment env) {\r\n        this.userDetailsService = userDetailsService;\r\n        this.env = env;\r\n    }\r\n\r\n    //configuration here\r\n\r\n    @Bean(&quot;entityManagerFactory&quot;)\r\n    @Autowired\r\n    public LocalSessionFactoryBean sessionFactory(DataSource dataSource) {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.jpa.properties.hibernate.dialect&quot;));\r\n        properties.put(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;spring.jpa.show-sql&quot;));\r\n        properties.put(&quot;current_session_context_class&quot;, env.getProperty(&quot;spring.jpa.properties.hibernate.current_session_context_class&quot;));\r\n\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(dataSource);\r\n        sessionFactory.setPackagesToScan(&quot;me.kqlqk.springBootApp.models&quot;);\r\n        sessionFactory.setHibernateProperties(properties);\r\n\r\n        return sessionFactory;\r\n    }\r\n}\r\n```\r\ni use @Bean(&quot;entityManagerFactory&quot;) cuz without it i got \r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in me.kqlqk.springBootApp.service.impl.UserDetailsServiceImpl required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Qualifier(value=&quot;userDetailsServiceImpl&quot;)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n```\r\n\r\n\r\nand my userDetailsServiceImpl class:\r\n```\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    private UserDAO userDAO;\r\n\r\n    @Autowired\r\n    public UserDetailsServiceImpl(UserDAO userDAO) {\r\n        this.userDAO = userDAO;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        User user = userDAO.getByEmail(email);\r\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n        user.getRoles().forEach(role -&gt; authorities.add(new SimpleGrantedAuthority(role.getName())));\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.getEmail(),\r\n                user.getPassword(),\r\n                authorities);\r\n    }\r\n}\r\n```\r\n\r\nSo, how can i configure session factory or where&#39;s problem in my code?","title":"The dependencies of some of the beans in the application context form a cycle: session factory creating","body":"<p>i'm new in Spring framework. I have a spring boot application(mvc, hibernate), im trying to get session factory but i got an error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  securityConfig defined in file [mySrc\\springBootApp\\config\\SecurityConfig.class]\n↑     ↓\n|  userDetailsServiceImpl defined in file [mySrc/springBootApp\\service\\impl\\UserDetailsServiceImpl.class]   \n↑     ↓\n|  userDAO defined in me.kqlqk.springBootApp.DAO.UserDAO defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\n↑     ↓\n|  (inner bean)#2b6a0ea9\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n\n</code></pre>\n<p>My config class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableTransactionManagement\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private Environment env;\n\n    @Autowired\n    public SecurityConfig(@Qualifier(&quot;userDetailsServiceImpl&quot;) UserDetailsService userDetailsService, Environment env) {\n        this.userDetailsService = userDetailsService;\n        this.env = env;\n    }\n\n    //configuration here\n\n    @Bean(&quot;entityManagerFactory&quot;)\n    @Autowired\n    public LocalSessionFactoryBean sessionFactory(DataSource dataSource) {\n        Properties properties = new Properties();\n        properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.jpa.properties.hibernate.dialect&quot;));\n        properties.put(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;spring.jpa.show-sql&quot;));\n        properties.put(&quot;current_session_context_class&quot;, env.getProperty(&quot;spring.jpa.properties.hibernate.current_session_context_class&quot;));\n\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource);\n        sessionFactory.setPackagesToScan(&quot;me.kqlqk.springBootApp.models&quot;);\n        sessionFactory.setHibernateProperties(properties);\n\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>i use @Bean(&quot;entityManagerFactory&quot;) cuz without it i got</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in me.kqlqk.springBootApp.service.impl.UserDetailsServiceImpl required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Qualifier(value=&quot;userDetailsServiceImpl&quot;)\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n\n</code></pre>\n<p>and my userDetailsServiceImpl class:</p>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    private UserDAO userDAO;\n\n    @Autowired\n    public UserDetailsServiceImpl(UserDAO userDAO) {\n        this.userDAO = userDAO;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = userDAO.getByEmail(email);\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n\n        user.getRoles().forEach(role -&gt; authorities.add(new SimpleGrantedAuthority(role.getName())));\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getEmail(),\n                user.getPassword(),\n                authorities);\n    }\n}\n</code></pre>\n<p>So, how can i configure session factory or where's problem in my code?</p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":4545309,"reputation":776,"user_id":3692099,"accept_rate":60,"display_name":"Schokokuchen B&#228;cker"},"score":0,"creation_date":1652099671,"post_id":72172028,"comment_id":127516524,"body_markdown":"There is no right or wrong answer. I find the first option to be the most intuitive tho. You should choose based on how you need to work with the data after receiving it. Eg. use the second if you don&#39;t care about the indices of the items, use the first if you later need to get a specific element etc.","body":"There is no right or wrong answer. I find the first option to be the most intuitive tho. You should choose based on how you need to work with the data after receiving it. Eg. use the second if you don&#39;t care about the indices of the items, use the first if you later need to get a specific element etc."},{"owner":{"account_id":17972130,"reputation":5,"user_id":13060613,"display_name":"weaver"},"score":0,"creation_date":1652146592,"post_id":72172028,"comment_id":127530141,"body_markdown":"@SchokokuchenB&#228;cker Thank you for sharing your opinion! It really helps.","body":"@SchokokuchenB&#228;cker Thank you for sharing your opinion! It really helps."}],"answers":[{"tags":[],"owner":{"account_id":23611897,"reputation":334,"user_id":17646774,"display_name":"Marco Balo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652099666,"creation_date":1652099666,"answer_id":72172103,"question_id":72172028,"body_markdown":"I&#39;d use the first method.\r\n\r\n - The second is the worst, since you have to divide again the lists clientside, which is useless. JSON can send them separately\r\n - The third could be used, but you would have to recreate the connection id/list, since lists don&#39;t have a key.\r\n\r\nThe map method maintains the connection id/list and separate all the lists","title":"Differences between lists of items and list of items","body":"<p>I'd use the first method.</p>\n<ul>\n<li>The second is the worst, since you have to divide again the lists clientside, which is useless. JSON can send them separately</li>\n<li>The third could be used, but you would have to recreate the connection id/list, since lists don't have a key.</li>\n</ul>\n<p>The map method maintains the connection id/list and separate all the lists</p>\n"}],"owner":{"account_id":17972130,"reputation":5,"user_id":13060613,"display_name":"weaver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72172103,"answer_count":1,"score":0,"last_activity_date":1652148111,"creation_date":1652099290,"question_id":72172028,"body_markdown":"I was thinking about API path like `.../lists/items?listId=1,2,3` to get a response like below.\r\n```json\r\n// Map&lt;Integer, List&gt;\r\n{\r\n  1: [\r\n    {\r\n      &quot;field&quot;: &quot;item1&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item11&quot;\r\n    }\r\n  ],\r\n  2: [\r\n    {\r\n      &quot;field&quot;: &quot;item2&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item22&quot;\r\n    }\r\n  ],\r\n  3: [\r\n    {\r\n      &quot;field&quot;: &quot;item3&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item33&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nor\r\n```json\r\n// List&lt;Object&gt;\r\n{\r\n  [\r\n    {\r\n      &quot;field&quot;: &quot;item1&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item11&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item2&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item22&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item3&quot;\r\n    }\r\n    {\r\n      &quot;field&quot;: &quot;item33&quot;\r\n    },\r\n\r\n  ]\r\n}\r\n```\r\n\r\nBut at the same time, I thought that the api path could be used to express to get following payload.\r\n\r\n```json\r\n// List&lt;List&lt;Object&gt;&gt;\r\n{\r\n  [\r\n    {\r\n      &quot;field&quot;: &quot;item1&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item11&quot;\r\n    }\r\n  ], \r\n  [\r\n    {\r\n      &quot;field&quot;: &quot;item2&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item22&quot;\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      &quot;field&quot;: &quot;item3&quot;\r\n    },\r\n    {\r\n      &quot;field&quot;: &quot;item33&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nIs there correct answer for three cases above to write REST API path? If not, it would be appreciate to share your experience. Thanks.","title":"Differences between lists of items and list of items","body":"<p>I was thinking about API path like <code>.../lists/items?listId=1,2,3</code> to get a response like below.</p>\n<pre class=\"lang-json prettyprint-override\"><code>// Map&lt;Integer, List&gt;\n{\n  1: [\n    {\n      &quot;field&quot;: &quot;item1&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item11&quot;\n    }\n  ],\n  2: [\n    {\n      &quot;field&quot;: &quot;item2&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item22&quot;\n    }\n  ],\n  3: [\n    {\n      &quot;field&quot;: &quot;item3&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item33&quot;\n    }\n  ]\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-json prettyprint-override\"><code>// List&lt;Object&gt;\n{\n  [\n    {\n      &quot;field&quot;: &quot;item1&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item11&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item2&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item22&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item3&quot;\n    }\n    {\n      &quot;field&quot;: &quot;item33&quot;\n    },\n\n  ]\n}\n</code></pre>\n<p>But at the same time, I thought that the api path could be used to express to get following payload.</p>\n<pre class=\"lang-json prettyprint-override\"><code>// List&lt;List&lt;Object&gt;&gt;\n{\n  [\n    {\n      &quot;field&quot;: &quot;item1&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item11&quot;\n    }\n  ], \n  [\n    {\n      &quot;field&quot;: &quot;item2&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item22&quot;\n    }\n  ],\n  [\n    {\n      &quot;field&quot;: &quot;item3&quot;\n    },\n    {\n      &quot;field&quot;: &quot;item33&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Is there correct answer for three cases above to write REST API path? If not, it would be appreciate to share your experience. Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"score":0,"creation_date":1361265252,"post_id":14953588,"comment_id":20990002,"body_markdown":"just look at my post to see another way to deal with your issue","body":"just look at my post to see another way to deal with your issue"}],"answers":[{"tags":[],"owner":{"account_id":969298,"reputation":24123,"user_id":992151,"accept_rate":82,"display_name":"cowls"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361264920,"creation_date":1361264920,"answer_id":14953623,"question_id":14953588,"body_markdown":"Try this:\r\n\r\n    System.out.println(s);\r\n    System.out.println(s.replace(&quot; &quot;, &quot;&quot;).length());","title":"Reading the number of non-blank characters within string","body":"<p>Try this:</p>\n\n<pre><code>System.out.println(s);\nSystem.out.println(s.replace(\" \", \"\").length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361264985,"creation_date":1361264985,"answer_id":14953646,"question_id":14953588,"body_markdown":"Do something like:\r\n\r\n    public static int countNotBlank(String s) {\r\n        int count = 0;\r\n        for(char c : s.toCharArray()) {\r\n            count += c == &#39; &#39; ? 0 : 1;\r\n        }\r\n        return count;\r\n    }","title":"Reading the number of non-blank characters within string","body":"<p>Do something like:</p>\n\n<pre><code>public static int countNotBlank(String s) {\n    int count = 0;\n    for(char c : s.toCharArray()) {\n        count += c == ' ' ? 0 : 1;\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1361264989,"creation_date":1361264989,"answer_id":14953650,"question_id":14953588,"body_markdown":"Use a regex to delete all whitespace (spaces, newlines, tabs) and then simply take the string length.\r\n\r\n    input.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).length()","title":"Reading the number of non-blank characters within string","body":"<p>Use a regex to delete all whitespace (spaces, newlines, tabs) and then simply take the string length.</p>\n\n<pre><code>input.replaceAll(\"\\\\s+\", \"\").length()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":765907,"reputation":30034,"user_id":786935,"accept_rate":87,"display_name":"Hemant Metalia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361265031,"creation_date":1361265031,"answer_id":14953662,"question_id":14953588,"body_markdown":"you can calculate non blank characters from a String as follow:\r\n\r\n\r\n\r\n    int non_blank_counter = 0;\r\n    //your code to read String\r\n    for(int i=0;i&lt;s.length();i++){\r\n    // .. inside a loop ..//\r\n    if ( myStr.charAt( i ) != &#39; &#39; )\r\n        non_blank_counter++;\r\n    }\r\n    System.out.println(&quot;number of non blank characters are &quot;+non_blank_counter);","title":"Reading the number of non-blank characters within string","body":"<p>you can calculate non blank characters from a String as follow:</p>\n\n<pre><code>int non_blank_counter = 0;\n//your code to read String\nfor(int i=0;i&lt;s.length();i++){\n// .. inside a loop ..//\nif ( myStr.charAt( i ) != ' ' )\n    non_blank_counter++;\n}\nSystem.out.println(\"number of non blank characters are \"+non_blank_counter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361265124,"creation_date":1361265124,"answer_id":14953694,"question_id":14953588,"body_markdown":"Another way to deal with it\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class WordLines {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tScanner myScan = new Scanner(System.in);\r\n    \t\tString s;\r\n    \r\n    \t\tSystem.out.println(&quot;Enter text from keyboard&quot;);\r\n    \r\n    \t\ts = myScan.nextLine();\r\n    \r\n    \t\tString[] splitter = s.split(&quot; &quot;);\r\n    \r\n    \t\tint counter = 0;\r\n    \t\tfor(String string : splitter) {\r\n    \t\t\tcounter += string.length();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Here is what you entered: &quot;);\r\n    \t\tSystem.out.println(counter);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Reading the number of non-blank characters within string","body":"<p>Another way to deal with it</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class WordLines {\n\n    public static void main(String[] args) {\n\n        Scanner myScan = new Scanner(System.in);\n        String s;\n\n        System.out.println(\"Enter text from keyboard\");\n\n        s = myScan.nextLine();\n\n        String[] splitter = s.split(\" \");\n\n        int counter = 0;\n        for(String string : splitter) {\n            counter += string.length();\n        }\n\n        System.out.println(\"Here is what you entered: \");\n        System.out.println(counter);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2297983,"reputation":69,"user_id":2018963,"display_name":"SHAKIL DANISH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361265600,"creation_date":1361265600,"answer_id":14953868,"question_id":14953588,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    \r\n    public class WordLines\r\n    {\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        Scanner myScan = new Scanner(System.in);\r\n        String s=&quot;&quot;;\r\n    \r\n        System.out.println(&quot;Enter text from keyboard&quot;);\r\n    \twhile(myScan.hasNextLine()) s = s+myScan.nextLine();\r\n    \r\n        System.out.println(&quot;Here is what you entered: &quot;);\r\n        System.out.println(s.replace(&quot; &quot;, &quot;\\n&quot;));\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nu need to user CTRL+C at last when u want to exit from input.","title":"Reading the number of non-blank characters within string","body":"<pre><code>import java.util.Scanner;\n\n\npublic class WordLines\n{\n\n  public static void main(String[] args) {\n\n    Scanner myScan = new Scanner(System.in);\n    String s=\"\";\n\n    System.out.println(\"Enter text from keyboard\");\n    while(myScan.hasNextLine()) s = s+myScan.nextLine();\n\n    System.out.println(\"Here is what you entered: \");\n    System.out.println(s.replace(\" \", \"\\n\"));\n\n  }\n\n}\n</code></pre>\n\n<p>u need to user CTRL+C at last when u want to exit from input.</p>\n"},{"tags":[],"owner":{"account_id":2385058,"reputation":1,"user_id":2086201,"display_name":"Apu Das Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361268672,"creation_date":1361268672,"answer_id":14954882,"question_id":14953588,"body_markdown":"Hope this will help you if you just want to know the number of non blank character.\r\n\r\n   \r\n        String aString=&quot;Good Morning World!&quot;;\r\n        int count=0;\r\n        for(int i=0;i&lt;aString.length();i++){\r\n            char c = aString.charAt(i);\r\n            if(c==&#39; &#39;) continue;\r\n            count++;\r\n        }\r\n        System.out.println(&quot;Total Length is:&quot;+count);\r\n\r\n","title":"Reading the number of non-blank characters within string","body":"<p>Hope this will help you if you just want to know the number of non blank character.</p>\n\n<pre><code>    String aString=\"Good Morning World!\";\n    int count=0;\n    for(int i=0;i&lt;aString.length();i++){\n        char c = aString.charAt(i);\n        if(c==' ') continue;\n        count++;\n    }\n    System.out.println(\"Total Length is:\"+count);\n</code></pre>\n"}],"owner":{"account_id":2385061,"reputation":107,"user_id":2086204,"accept_rate":0,"display_name":"user2086204"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4339,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":7,"score":5,"last_activity_date":1652147876,"creation_date":1361264795,"question_id":14953588,"body_markdown":"This is my simple code.\r\n\r\nimport java.util.Scanner;\r\n\r\n\r\n    public class WordLines\r\n    {\r\n        public static void main(String[] args) \r\n        {\r\n            Scanner myScan = new Scanner(System.in);\r\n            String s;\r\n\r\n            System.out.println(&quot;Enter text from keyboard&quot;);\r\n    \r\n            s = myScan.nextLine();\r\n\r\n            System.out.println(&quot;Here is what you entered: &quot;);\r\n            System.out.println(s.replace(&quot; &quot;, &quot;\\n&quot;));\r\n        }\r\n    }\r\n  \r\nIf I were to enter a sentence such as &quot;Good Morning World!&quot; (17 non-blank characters in this line)\r\n\r\nHow could I be able to display my text and on top of that print out the number of non-blank characters present.","title":"Reading the number of non-blank characters within string","body":"<p>This is my simple code.</p>\n<p>import java.util.Scanner;</p>\n<pre><code>public class WordLines\n{\n    public static void main(String[] args) \n    {\n        Scanner myScan = new Scanner(System.in);\n        String s;\n\n        System.out.println(&quot;Enter text from keyboard&quot;);\n\n        s = myScan.nextLine();\n\n        System.out.println(&quot;Here is what you entered: &quot;);\n        System.out.println(s.replace(&quot; &quot;, &quot;\\n&quot;));\n    }\n}\n</code></pre>\n<p>If I were to enter a sentence such as &quot;Good Morning World!&quot; (17 non-blank characters in this line)</p>\n<p>How could I be able to display my text and on top of that print out the number of non-blank characters present.</p>\n"},{"tags":["java","swing","user-interface","javafx"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":4,"creation_date":1652120252,"post_id":72176445,"comment_id":127524432,"body_markdown":"Please be a bit more specific. Why can&#39;t you split up your JavaFX part into several JFXPanels? What has the number of lines to do with that?","body":"Please be a bit more specific. Why can&#39;t you split up your JavaFX part into several JFXPanels? What has the number of lines to do with that?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652123810,"post_id":72176445,"comment_id":127525552,"body_markdown":"Why not write the “main menu” in JavaFX?","body":"Why not write the “main menu” in JavaFX?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652147493,"creation_date":1652122076,"answer_id":72176861,"question_id":72176445,"body_markdown":"The main recommendation is not to mix Swing and JavaFX unless you really need to.  In general, it is best to use a single toolkit for the UI rather than mix them.\r\n\r\n**Using a JFXPanel (recommended)**\r\n\r\nFollow the [javafx swing integration documentation][1], which explains how to write the code. \r\n\r\nThe documentation I linked is a little outdated.  The code remains the same, but JavaFX was modularized and removed from most JDK distributions from JDK/JavaFX 11 on, so you need to do some additional work.\r\n\r\n * [A further example of using a JFXPanel][2], with code, on StackOverflow.\r\n\r\n**Applying a JFXPanel to an existing JavaFX application**\r\n\r\nThe javafx swing integration documentation I linked is for putting the JavaFX content in a swing panel (`JFXPanel`) but I noted that you say you cannot use such a panel in your application. I am not quite sure why you can&#39;t do that. [`JFXPanel`][3] is just a generic swing component that can hold any JavaFX scene.  The linked javadoc also shows how to use it. \r\n\r\nTo apply a `JFXPanel` to an existing JavaFX application, have the JavaFX application supply a method that provides the scene it would normally set on the primary stage in the application `start` method.  Call your new method to get the scene to embed it in your `JFXPanel` inside a frame of the Swing application.  You don&#39;t need to call `launch` on the JavaFX application with this method.\r\n\r\n**Getting JavaFX components and Modularity**\r\n\r\nTo work with a modular JavaFX, also follow the instructions at [openjfx.io][4]:\r\n\r\n *  The maven dependency required is `org.openjfx:javafx-swing:&lt;version&gt;`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n            &lt;version&gt;18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n *  Module info (if you need it) is:\r\n\r\n        requires javafx.swing;\r\n    \r\nModule info is only required if you are writing a modular application that provides `module-info.java`, otherwise you need to add the module to the module path for compilation and runtime via command-line switches (as outlined in the openjfx.io documentation linked).\r\n\r\nOr, you can rely on a JDK which includes both JavaFX and swing modules in the distribution and places them on the boot module path, e.g.:\r\n\r\n * [Azul Zulu &quot;JDK FX&quot;][5] (on the download link ensure you choose JDK FX).\r\n * [Bellsoft Liberica &quot;Full JDK&quot;][6] (on the download link ensure you choose Full JDK).\r\n\r\n**Launching a JavaFX application from Swing (not recommended)**\r\n\r\nAlternately you could possibly invoke the JavaFX application [`launch`][7] method directly. \r\n\r\nIf you do so, study the [application lifecycle documentation][8] on the linked javadoc. \r\n\r\nYou can only call launch once and it will block the calling thread until the JavaFX app exits. \r\n\r\nIf you want multiple, non-blocking calls you will need to do some work to use such an approach.  For example, spawn a separate execution thread to launch the application (so that you don&#39;t block the Swing thread).  Once the JavaFX application is launched, use [`Platform.runLater`][9] to communicate with the JavaFX application from Swing as needed (for example to request the JavaFX application to show or hide). \r\n\r\nIf you want to call launch more than once (which you can&#39;t do in a single JVM instance), then, for an alternative, see the technique in:\r\n\r\n * https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\r\n\r\nIf you are working with a modern JDK and JavaFX distribution, then module setup requirements are the same for this approach as the JFXPanel approach.\r\n\r\nI recommend using a JFXPanel rather than launching a JavaFX application from Swing.\r\n\r\n**Swing in JavaFX**\r\n\r\nIf you wish to go another route and embed swing content inside a JavaFX application (for example, as suggested by James_D in the comments, &quot;write the “main menu” in JavaFX&quot;), then you can use a [`SwingNode`][10], which is a JavaFX node to be displayed in a JavaFX application which can contain swing components:\r\n\r\n * [Embedding Swing Content in JavaFX Applications][11].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\r\n  [2]: https://stackoverflow.com/questions/31574311/javafx-webview-grow-to-fill-entire-area/31576647#31576647\r\n  [3]: https://openjfx.io/javadoc/17/javafx.swing/javafx/embed/swing/JFXPanel.html\r\n  [4]: https://openjfx.io/openjfx-docs/\r\n  [5]: https://www.azul.com/downloads/?package=jdk-fx\r\n  [6]: https://bell-sw.com/pages/downloads/#mn\r\n  [7]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\r\n  [8]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Application.html\r\n  [9]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\r\n  [10]: https://openjfx.io/javadoc/17/javafx.swing/javafx/embed/swing/SwingNode.html\r\n  [11]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/embed-swing.htm","title":"How to launch JavaFX Application when Swing JButton is hit","body":"<p>The main recommendation is not to mix Swing and JavaFX unless you really need to.  In general, it is best to use a single toolkit for the UI rather than mix them.</p>\n<p><strong>Using a JFXPanel (recommended)</strong></p>\n<p>Follow the <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\" rel=\"nofollow noreferrer\">javafx swing integration documentation</a>, which explains how to write the code.</p>\n<p>The documentation I linked is a little outdated.  The code remains the same, but JavaFX was modularized and removed from most JDK distributions from JDK/JavaFX 11 on, so you need to do some additional work.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31574311/javafx-webview-grow-to-fill-entire-area/31576647#31576647\">A further example of using a JFXPanel</a>, with code, on StackOverflow.</li>\n</ul>\n<p><strong>Applying a JFXPanel to an existing JavaFX application</strong></p>\n<p>The javafx swing integration documentation I linked is for putting the JavaFX content in a swing panel (<code>JFXPanel</code>) but I noted that you say you cannot use such a panel in your application. I am not quite sure why you can't do that. <a href=\"https://openjfx.io/javadoc/17/javafx.swing/javafx/embed/swing/JFXPanel.html\" rel=\"nofollow noreferrer\"><code>JFXPanel</code></a> is just a generic swing component that can hold any JavaFX scene.  The linked javadoc also shows how to use it.</p>\n<p>To apply a <code>JFXPanel</code> to an existing JavaFX application, have the JavaFX application supply a method that provides the scene it would normally set on the primary stage in the application <code>start</code> method.  Call your new method to get the scene to embed it in your <code>JFXPanel</code> inside a frame of the Swing application.  You don't need to call <code>launch</code> on the JavaFX application with this method.</p>\n<p><strong>Getting JavaFX components and Modularity</strong></p>\n<p>To work with a modular JavaFX, also follow the instructions at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>:</p>\n<ul>\n<li><p>The maven dependency required is <code>org.openjfx:javafx-swing:&lt;version&gt;</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n    &lt;version&gt;18&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Module info (if you need it) is:</p>\n<pre><code>requires javafx.swing;\n</code></pre>\n</li>\n</ul>\n<p>Module info is only required if you are writing a modular application that provides <code>module-info.java</code>, otherwise you need to add the module to the module path for compilation and runtime via command-line switches (as outlined in the openjfx.io documentation linked).</p>\n<p>Or, you can rely on a JDK which includes both JavaFX and swing modules in the distribution and places them on the boot module path, e.g.:</p>\n<ul>\n<li><a href=\"https://www.azul.com/downloads/?package=jdk-fx\" rel=\"nofollow noreferrer\">Azul Zulu &quot;JDK FX&quot;</a> (on the download link ensure you choose JDK FX).</li>\n<li><a href=\"https://bell-sw.com/pages/downloads/#mn\" rel=\"nofollow noreferrer\">Bellsoft Liberica &quot;Full JDK&quot;</a> (on the download link ensure you choose Full JDK).</li>\n</ul>\n<p><strong>Launching a JavaFX application from Swing (not recommended)</strong></p>\n<p>Alternately you could possibly invoke the JavaFX application <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>launch</code></a> method directly.</p>\n<p>If you do so, study the <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">application lifecycle documentation</a> on the linked javadoc.</p>\n<p>You can only call launch once and it will block the calling thread until the JavaFX app exits.</p>\n<p>If you want multiple, non-blocking calls you will need to do some work to use such an approach.  For example, spawn a separate execution thread to launch the application (so that you don't block the Swing thread).  Once the JavaFX application is launched, use <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Platform.runLater</code></a> to communicate with the JavaFX application from Swing as needed (for example to request the JavaFX application to show or hide).</p>\n<p>If you want to call launch more than once (which you can't do in a single JVM instance), then, for an alternative, see the technique in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">How to call launch() more than once in java</a></li>\n</ul>\n<p>If you are working with a modern JDK and JavaFX distribution, then module setup requirements are the same for this approach as the JFXPanel approach.</p>\n<p>I recommend using a JFXPanel rather than launching a JavaFX application from Swing.</p>\n<p><strong>Swing in JavaFX</strong></p>\n<p>If you wish to go another route and embed swing content inside a JavaFX application (for example, as suggested by James_D in the comments, &quot;write the “main menu” in JavaFX&quot;), then you can use a <a href=\"https://openjfx.io/javadoc/17/javafx.swing/javafx/embed/swing/SwingNode.html\" rel=\"nofollow noreferrer\"><code>SwingNode</code></a>, which is a JavaFX node to be displayed in a JavaFX application which can contain swing components:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/embed-swing.htm\" rel=\"nofollow noreferrer\">Embedding Swing Content in JavaFX Applications</a>.</li>\n</ul>\n"}],"owner":{"account_id":23991973,"reputation":19,"user_id":17977981,"display_name":"Yiğit Yayla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1652153584,"answer_count":1,"score":1,"last_activity_date":1652147493,"creation_date":1652119726,"question_id":72176445,"body_markdown":"we are wroking on a project including both javafx and javaswing. We have a main menu which is made by Java Swing. We need to launch JavaFX applications when a swing button is hit from our main menu. Our JavaFX part of the program is 2400 lines so we cannot convert it to JFXPanel. I&#39;m already experienced with JavaFX up to a point. But I cannot solve this problem. Any help will be appreciated. Thank you.","title":"How to launch JavaFX Application when Swing JButton is hit","body":"<p>we are wroking on a project including both javafx and javaswing. We have a main menu which is made by Java Swing. We need to launch JavaFX applications when a swing button is hit from our main menu. Our JavaFX part of the program is 2400 lines so we cannot convert it to JFXPanel. I'm already experienced with JavaFX up to a point. But I cannot solve this problem. Any help will be appreciated. Thank you.</p>\n"},{"tags":["java","string","file","stringtokenizer"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1652058750,"post_id":72166091,"comment_id":127506433,"body_markdown":"The Javadoc for `StringTokenizer` says _&quot;...StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. ...&quot;_ and I don&#39;t think you need it.  You should be able to get by, just by calling `hasNext()`, `next()` and `nextInt()` on your `Scanner`.  No need even for `nextLine()`.","body":"The Javadoc for <code>StringTokenizer</code> says <i>&quot;...StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. ...&quot;</i> and I don&#39;t think you need it.  You should be able to get by, just by calling <code>hasNext()</code>, <code>next()</code> and <code>nextInt()</code> on your <code>Scanner</code>.  No need even for <code>nextLine()</code>."}],"answers":[{"tags":[],"owner":{"account_id":8232961,"reputation":1576,"user_id":8990644,"display_name":"bui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652146017,"creation_date":1652061918,"answer_id":72166338,"question_id":72166091,"body_markdown":"If you can afford to read the text file in all at once as a very long `String`, simply use the built-in [`String.split()`][1] with the regex `\\\\s+`, like so \r\n\r\n    String[] tokens = fileAsString.split(&quot;\\\\s+&quot;); \r\n\r\nThis will split the input file into tokens, assuming the tokens are separated by one or more [whitespace][2] characters (a whitespace character covers newline, space, tab, and carriage return). Even and odd tokens are ticket types and mile counts, respectively.\r\n\r\nIf you absolutely have to read in line-by-line and use `StringTokenizer`, a solution is to count number of tokens in the last line. If this number is odd, the first token in the current line would be of a different type of the first token in the last line. Once knowing the starting type of the current line, simply alternating types from there.\r\n\r\n    int tokenCount = 0;\r\n    boolean startingType = true; // true for String, false for integer\r\n    boolean currentType;\r\n    while(fileScanner.hasNextLine())\r\n    {\r\n        StringTokenizer token = new StringTokenizer(fileScanner.nextLine(), &quot; &quot;);\r\n        startingType = startingType ^ (tokenCount % 2 == 1); // if tokenCount is odd, the XOR ^ operator will flip the starting type of this line\r\n        tokenCount = 0;\r\n        while(token.hasMoreTokens())\r\n        {\r\n            tokenCount++;\r\n            currentType = startingType ^ (tokenCount % 2 == 0); // alternating between types in current line\r\n            if (currentType) {\r\n                String ticketClass = token.nextToken().toLowerCase();\r\n                // do something with ticketClass here\r\n            } else {\r\n                int mileCount = Integer.parseInt(token.nextToken());\r\n                // do something with mileCount here\r\n            }\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\r\n  [2]: https://www.regular-expressions.info/shorthand.html","title":"Reading a file -- pairing a String and int value -- with multiple split lines","body":"<p>If you can afford to read the text file in all at once as a very long <code>String</code>, simply use the built-in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split()</code></a> with the regex <code>\\\\s+</code>, like so</p>\n<pre><code>String[] tokens = fileAsString.split(&quot;\\\\s+&quot;); \n</code></pre>\n<p>This will split the input file into tokens, assuming the tokens are separated by one or more <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\">whitespace</a> characters (a whitespace character covers newline, space, tab, and carriage return). Even and odd tokens are ticket types and mile counts, respectively.</p>\n<p>If you absolutely have to read in line-by-line and use <code>StringTokenizer</code>, a solution is to count number of tokens in the last line. If this number is odd, the first token in the current line would be of a different type of the first token in the last line. Once knowing the starting type of the current line, simply alternating types from there.</p>\n<pre><code>int tokenCount = 0;\nboolean startingType = true; // true for String, false for integer\nboolean currentType;\nwhile(fileScanner.hasNextLine())\n{\n    StringTokenizer token = new StringTokenizer(fileScanner.nextLine(), &quot; &quot;);\n    startingType = startingType ^ (tokenCount % 2 == 1); // if tokenCount is odd, the XOR ^ operator will flip the starting type of this line\n    tokenCount = 0;\n    while(token.hasMoreTokens())\n    {\n        tokenCount++;\n        currentType = startingType ^ (tokenCount % 2 == 0); // alternating between types in current line\n        if (currentType) {\n            String ticketClass = token.nextToken().toLowerCase();\n            // do something with ticketClass here\n        } else {\n            int mileCount = Integer.parseInt(token.nextToken());\n            // do something with mileCount here\n        }\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652134304,"creation_date":1652134304,"answer_id":72178709,"question_id":72166091,"body_markdown":"**I found another way to do this problem without using either the StringTokenizer or the regex**...admittedly I had trouble with the regular expressions haha.\r\n\r\nI declare these outside of the try-catch block because I want to use them in both my finally statement and return the points:\r\n```Java\r\nint points = 0;\r\nArrayList&lt;String&gt; classNames = new ArrayList&lt;&gt;();\r\nArrayList&lt;Integer&gt; classTickets = new ArrayList&lt;&gt;();\r\n```\r\nThen inside my try-statement, I declare the `index` variable because I won&#39;t need that outside of this block. That variable increases each time a new element is read. Odd elements are read as ticket classes and even elements are read as ticket prices:\r\n```Java\r\ntry\r\n{\r\n    int index = 0;\r\n    // read till the file is empty\r\n\twhile(fileScanner.hasNext())\r\n\t{\r\n\t\t// first entry is the ticket type\r\n\t\tif(index % 2 == 0)\r\n\t\t    classNames.add(fileScanner.next());\r\n\t\t// second entry is the number of points\r\n\t    else\r\n\t\t    classTickets.add(Integer.parseInt(fileScanner.next()));\r\n\t    index++;\r\n    }\r\n}\r\n```\r\nYou can either catch it here like this or use `throws NoSuchElementException` in your method declaration -- **As long as you catch it on your method call**\r\n```Java\r\ncatch(NoSuchElementException noElement)\r\n{\r\n    System.out.println(&quot;&lt;###-NoSuchElementException-###&gt;&quot;);\r\n}\r\n```\r\nThen down here, loop through the number of elements. See which flight class it is and multiply the ticket count respectively and return the points outside of the block:\r\n```Java\r\nfinally\r\n{\r\n\tfor(int i = 0; i &lt; classNames.size(); i++)\r\n\t{\r\n\t\tswitch(classNames.get(i).toLowerCase())\r\n\t\t{\r\n\t\t    case &quot;firstclass&quot;:    // 2 points for first\r\n\t\t\t    points += 2 * classTickets.get(i);\r\n\t\t\t    break;\r\n\t\t\tcase &quot;coach&quot;:         // 1 point for coach\r\n\t\t\t\tpoints += classTickets.get(i);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t// budget gets nothing\r\n\t    }\r\n    }\r\n}\r\nreturn points;\r\n ```\r\nThe regex seems like the most convenient way, but this was more intuitive to me for some reason. Either way, I hope the variety will help out.","title":"Reading a file -- pairing a String and int value -- with multiple split lines","body":"<p><strong>I found another way to do this problem without using either the StringTokenizer or the regex</strong>...admittedly I had trouble with the regular expressions haha.</p>\n<p>I declare these outside of the try-catch block because I want to use them in both my finally statement and return the points:</p>\n<pre><code>int points = 0;\nArrayList&lt;String&gt; classNames = new ArrayList&lt;&gt;();\nArrayList&lt;Integer&gt; classTickets = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then inside my try-statement, I declare the <code>index</code> variable because I won't need that outside of this block. That variable increases each time a new element is read. Odd elements are read as ticket classes and even elements are read as ticket prices:</p>\n<pre><code>try\n{\n    int index = 0;\n    // read till the file is empty\n    while(fileScanner.hasNext())\n    {\n        // first entry is the ticket type\n        if(index % 2 == 0)\n            classNames.add(fileScanner.next());\n        // second entry is the number of points\n        else\n            classTickets.add(Integer.parseInt(fileScanner.next()));\n        index++;\n    }\n}\n</code></pre>\n<p>You can either catch it here like this or use <code>throws NoSuchElementException</code> in your method declaration -- <strong>As long as you catch it on your method call</strong></p>\n<pre><code>catch(NoSuchElementException noElement)\n{\n    System.out.println(&quot;&lt;###-NoSuchElementException-###&gt;&quot;);\n}\n</code></pre>\n<p>Then down here, loop through the number of elements. See which flight class it is and multiply the ticket count respectively and return the points outside of the block:</p>\n<pre><code>finally\n{\n    for(int i = 0; i &lt; classNames.size(); i++)\n    {\n        switch(classNames.get(i).toLowerCase())\n        {\n            case &quot;firstclass&quot;:    // 2 points for first\n                points += 2 * classTickets.get(i);\n                break;\n            case &quot;coach&quot;:         // 1 point for coach\n                points += classTickets.get(i);\n                break;\n            default:\n                // budget gets nothing\n        }\n    }\n}\nreturn points;\n</code></pre>\n<p>The regex seems like the most convenient way, but this was more intuitive to me for some reason. Either way, I hope the variety will help out.</p>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652147335,"creation_date":1652140619,"answer_id":72179328,"question_id":72166091,"body_markdown":"&gt;simply use the built-in String.split() - @bui\r\n\r\nI was finally able to wrap my head around regular expressions, but **\\s+** was not being recognized for some reason. It kept giving me this error message:\r\n&gt;Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ )Java(1610612990)\r\n\r\nSo when I went through with those characters instead, I was able to write this:\r\n```Java\r\nint points = 0, multiplier = 0, tracker = 0;\r\nwhile(fileScanner.hasNext())\r\n{\r\n    String read = fileScanner.next().split(\r\n            &quot;[\\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ ]&quot;)[0];\r\n    if(tracker % 2 == 0)\r\n    {\r\n        if(read.toLowerCase().equals(&quot;firstclass&quot;))\r\n            multiplier = 2;\r\n        else if(read.toLowerCase().equals(&quot;coach&quot;))\r\n            multiplier = 1;\r\n        else\r\n            multiplier = 0;\r\n    }else\r\n    {\r\n        points += multiplier * Integer.parseInt(read);\r\n    }\r\n    tracker++;\r\n}\r\n```\r\nThis code goes one entry at a time instead of reading a whole array void of whitespace as a work-around for that error message I was getting. If you could show me what the code would look like with `String[] tokens = fileAsString.split(&quot;\\s+&quot;);` instead I would really appreciate it :)\r\n&gt;you need to add another &quot;\\\\&quot; before &quot;\\s&quot; to escape the slash before &quot;s&quot; itself – @bui\r\n\r\n\r\n","title":"Reading a file -- pairing a String and int value -- with multiple split lines","body":"<blockquote>\n<p>simply use the built-in String.split() - @bui</p>\n</blockquote>\n<p>I was finally able to wrap my head around regular expressions, but <strong>\\s+</strong> was not being recognized for some reason. It kept giving me this error message:</p>\n<blockquote>\n<p>Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  &quot;  '  \\ )Java(1610612990)</p>\n</blockquote>\n<p>So when I went through with those characters instead, I was able to write this:</p>\n<pre><code>int points = 0, multiplier = 0, tracker = 0;\nwhile(fileScanner.hasNext())\n{\n    String read = fileScanner.next().split(\n            &quot;[\\b  \\t  \\n  \\f  \\r  \\&quot;  \\'  \\\\ ]&quot;)[0];\n    if(tracker % 2 == 0)\n    {\n        if(read.toLowerCase().equals(&quot;firstclass&quot;))\n            multiplier = 2;\n        else if(read.toLowerCase().equals(&quot;coach&quot;))\n            multiplier = 1;\n        else\n            multiplier = 0;\n    }else\n    {\n        points += multiplier * Integer.parseInt(read);\n    }\n    tracker++;\n}\n</code></pre>\n<p>This code goes one entry at a time instead of reading a whole array void of whitespace as a work-around for that error message I was getting. If you could show me what the code would look like with <code>String[] tokens = fileAsString.split(&quot;\\s+&quot;);</code> instead I would really appreciate it :)</p>\n<blockquote>\n<p>you need to add another &quot;\\&quot; before &quot;\\s&quot; to escape the slash before &quot;s&quot; itself – @bui</p>\n</blockquote>\n"}],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72166338,"answer_count":3,"score":0,"last_activity_date":1652147335,"creation_date":1652058458,"question_id":72166091,"body_markdown":"I am working on an exercise with the following criteria:\r\n\r\n**&quot;The input consists of pairs of tokens where each pair begins with the type of ticket that the person bought (&quot;coach&quot;, &quot;firstclass&quot;, or &quot;discount&quot;, case-sensitively) and is followed by the number of miles of the flight.**&quot;\r\n\r\nThe list can be paired -- `coach 1500   firstclass 2000   discount 900   coach 3500` -- and this currently works great. However, when the String and int value are split like so:\r\n ```\r\nfirstclass        5000  coach         1500         coach\r\n100 firstclass\r\n\r\n2000    discount 300\r\n```\r\nit breaks entirely. I am almost certain that it has something to do with me using this format (not full)\r\n```Java\r\nwhile(fileScanner.hasNextLine())\r\n{\r\n    StringTokenizer token = new StringTokenizer(fileScanner.nextLine(), &quot; &quot;)\r\n    while(token.hasMoreTokens())\r\n    {\r\n        String ticketClass = token.nextToken().toLowerCase();\r\n        int count = Integer.parseInt(token.nextToken());\r\n        ...\r\n    }\r\n}\r\n```\r\nbecause it will always read the first value as a String and the second value as an integer. I am very lost on how to keep track of one or the other while going to read the next line. Any help is truly appreciated.\r\n\r\nSimilar (I think) problems:\r\n- &lt;https://stackoverflow.com/questions/13202923/efficient-reading-writing-of-key-value-pairs-to-file-in-java#13202961&gt;\r\n- &lt;https://stackoverflow.com/questions/31396842/java-read-pairs-of-large-numbers-from-file-and-represent-them-with-linked-list&gt;\r\n- &lt;https://stackoverflow.com/questions/23530897/reading-multiple-values-in-multiple-lines-from-file-java&gt;","title":"Reading a file -- pairing a String and int value -- with multiple split lines","body":"<p>I am working on an exercise with the following criteria:</p>\n<p><strong>&quot;The input consists of pairs of tokens where each pair begins with the type of ticket that the person bought (&quot;coach&quot;, &quot;firstclass&quot;, or &quot;discount&quot;, case-sensitively) and is followed by the number of miles of the flight.</strong>&quot;</p>\n<p>The list can be paired -- <code>coach 1500   firstclass 2000   discount 900   coach 3500</code> -- and this currently works great. However, when the String and int value are split like so:</p>\n<pre><code>firstclass        5000  coach         1500         coach\n100 firstclass\n\n2000    discount 300\n</code></pre>\n<p>it breaks entirely. I am almost certain that it has something to do with me using this format (not full)</p>\n<pre><code>while(fileScanner.hasNextLine())\n{\n    StringTokenizer token = new StringTokenizer(fileScanner.nextLine(), &quot; &quot;)\n    while(token.hasMoreTokens())\n    {\n        String ticketClass = token.nextToken().toLowerCase();\n        int count = Integer.parseInt(token.nextToken());\n        ...\n    }\n}\n</code></pre>\n<p>because it will always read the first value as a String and the second value as an integer. I am very lost on how to keep track of one or the other while going to read the next line. Any help is truly appreciated.</p>\n<p>Similar (I think) problems:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13202923/efficient-reading-writing-of-key-value-pairs-to-file-in-java#13202961\">Efficient reading/writing of key/value pairs to file in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31396842/java-read-pairs-of-large-numbers-from-file-and-represent-them-with-linked-list\">Java-Read pairs of large numbers from file and represent them with linked list, get the sum and product of each pair</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23530897/reading-multiple-values-in-multiple-lines-from-file-java\">Reading multiple values in multiple lines from file (Java)</a></li>\n</ul>\n"},{"tags":["javascript","java","crc32"],"comments":[{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1652100826,"post_id":72172255,"comment_id":127516943,"body_markdown":"What polynomial does each implement?  There are a number of factors that determine the result of a CRC calculation (polynomial is only one of them), they _all_ need to be the same to get the same result (and if the character set is different, that would be another factor).","body":"What polynomial does each implement?  There are a number of factors that determine the result of a CRC calculation (polynomial is only one of them), they <i>all</i> need to be the same to get the same result (and if the character set is different, that would be another factor)."},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1652101206,"post_id":72172255,"comment_id":127517107,"body_markdown":"there are many &quot;CRC32&quot; algorithm/polynomials, see https://reveng.sourceforge.io/crc-catalogue/17plus.htm","body":"there are many &quot;CRC32&quot; algorithm/polynomials, see <a href=\"https://reveng.sourceforge.io/crc-catalogue/17plus.htm\" rel=\"nofollow noreferrer\">reveng.sourceforge.io/crc-catalogue/17plus.htm</a>"},{"owner":{"account_id":112773,"reputation":7966,"user_id":297331,"accept_rate":53,"display_name":"Niel de Wet"},"score":1,"creation_date":1652102209,"post_id":72172255,"comment_id":127517491,"body_markdown":"I&#39;m not sure why the question has been closed, but I&#39;ve since seen that the JS result is the signed equivalent of the unsigned JVM  result: `-1990607021 &gt;&gt;&gt; 0 === 2304360275`\n\nMy sample input can be input at https://oss.sheetjs.com/js-crc32/ to see this in action.","body":"I&#39;m not sure why the question has been closed, but I&#39;ve since seen that the JS result is the signed equivalent of the unsigned JVM  result: <code>-1990607021 &gt;&gt;&gt; 0 === 2304360275</code>  My sample input can be input at <a href=\"https://oss.sheetjs.com/js-crc32/\" rel=\"nofollow noreferrer\">oss.sheetjs.com/js-crc32</a> to see this in action."},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1652106198,"post_id":72172255,"comment_id":127519206,"body_markdown":"Could the difference be that kotlin supports unsigned types and java does not?","body":"Could the difference be that kotlin supports unsigned types and java does not?"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652145672,"creation_date":1652145672,"answer_id":72179747,"question_id":72172255,"body_markdown":"They&#39;re not different. They are both the _exact same_ 32-bit value, in one case interpreted as an unsigned 32-bit integer, in the other interpreted as a two&#39;s complement signed 32-bit integer.\r\n\r\nJust cast the Java `long` value to an `int` with `(int)`, and you&#39;ll get the signed interpretation.\r\n","title":"Why do the standard Java and JavaScript libraries generate different CRC-32 values? How do I get the same result?","body":"<p>They're not different. They are both the <em>exact same</em> 32-bit value, in one case interpreted as an unsigned 32-bit integer, in the other interpreted as a two's complement signed 32-bit integer.</p>\n<p>Just cast the Java <code>long</code> value to an <code>int</code> with <code>(int)</code>, and you'll get the signed interpretation.</p>\n"}],"owner":{"account_id":112773,"reputation":7966,"user_id":297331,"accept_rate":53,"display_name":"Niel de Wet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72179747,"answer_count":1,"score":0,"last_activity_date":1652145774,"creation_date":1652100381,"question_id":72172255,"body_markdown":"Why is the JavaScript `crc-32` library, and the Java `CRC32` class returning different results? Am I implementing it wrong?\r\n\r\n```javascript\r\nconst CRC32 = require(&#39;crc-32&#39;)\r\nconst input = &quot;3b67b67f-673b-4f23-a023-3756f513d707:19.63865368:6ace080f-6f47-44fa-86f8-c278f5bb6f07:2.34121407:42dda603-8a36-4200-826c-80714a40b470:0.923498:1301a851-b77e-489f-beb8-c2b4ef349a90:0.08:bf077871-5709-4a84-b3a9-22bfa8313fa2:0.00382495:6341cbef-bccc-43af-8927-31be3f3cd2e9:1.24039659:aeef18c5-457c-41ca-abda-3940b151e410:0.02821:42943143-bb81-4993-8788-df3c434bce89:0.09:787ef6da-48ce-4bb5-978a-b0fdd9ce223a:0.07:c3850c7b-d0fa-4c2a-8c67-0405bee185da:0.50443922:06429537-15e7-465c-aafa-f9974fb20b95:0.48535755:978d18ba-ffe7-48a3-9642-0de57b249383:0.1:59de5468-be8c-4d56-ad1e-3425914fc081:0.35722062:b6eea705-651b-40db-9b01-e535150ab0f3:0.00408603:6cc9440e-d86b-475d-986e-b9076104873a:1.80178:7711fc0e-dc02-431f-90b8-fde7cd762ce0:0.00402297:58397c47-5cac-424c-9b2b-7dc50c703f6f:0.08&quot;\r\nCRC32.str(input)\r\n\r\n# Result: -1990607021\r\n```\r\n\r\n```kotlin\r\nimport java.util.zip.CRC32\r\n\r\nval input = &quot;3b67b67f-673b-4f23-a023-3756f513d707:19.63865368:6ace080f-6f47-44fa-86f8-c278f5bb6f07:2.34121407:42dda603-8a36-4200-826c-80714a40b470:0.923498:1301a851-b77e-489f-beb8-c2b4ef349a90:0.08:bf077871-5709-4a84-b3a9-22bfa8313fa2:0.00382495:6341cbef-bccc-43af-8927-31be3f3cd2e9:1.24039659:aeef18c5-457c-41ca-abda-3940b151e410:0.02821:42943143-bb81-4993-8788-df3c434bce89:0.09:787ef6da-48ce-4bb5-978a-b0fdd9ce223a:0.07:c3850c7b-d0fa-4c2a-8c67-0405bee185da:0.50443922:06429537-15e7-465c-aafa-f9974fb20b95:0.48535755:978d18ba-ffe7-48a3-9642-0de57b249383:0.1:59de5468-be8c-4d56-ad1e-3425914fc081:0.35722062:b6eea705-651b-40db-9b01-e535150ab0f3:0.00408603:6cc9440e-d86b-475d-986e-b9076104873a:1.80178:7711fc0e-dc02-431f-90b8-fde7cd762ce0:0.00402297:58397c47-5cac-424c-9b2b-7dc50c703f6f:0.08&quot;\r\nval crC32 = CRC32()\r\ncrC32.update(input.toByteArray(Charsets.UTF_8))\r\ncrC32.value\r\n\r\n# Result 2304360275\r\n```\r\n\r\nHow do I make the Kotlin function return the same value as the JavaScript?","title":"Why do the standard Java and JavaScript libraries generate different CRC-32 values? How do I get the same result?","body":"<p>Why is the JavaScript <code>crc-32</code> library, and the Java <code>CRC32</code> class returning different results? Am I implementing it wrong?</p>\n<pre class=\"lang-js prettyprint-override\"><code>const CRC32 = require('crc-32')\nconst input = &quot;3b67b67f-673b-4f23-a023-3756f513d707:19.63865368:6ace080f-6f47-44fa-86f8-c278f5bb6f07:2.34121407:42dda603-8a36-4200-826c-80714a40b470:0.923498:1301a851-b77e-489f-beb8-c2b4ef349a90:0.08:bf077871-5709-4a84-b3a9-22bfa8313fa2:0.00382495:6341cbef-bccc-43af-8927-31be3f3cd2e9:1.24039659:aeef18c5-457c-41ca-abda-3940b151e410:0.02821:42943143-bb81-4993-8788-df3c434bce89:0.09:787ef6da-48ce-4bb5-978a-b0fdd9ce223a:0.07:c3850c7b-d0fa-4c2a-8c67-0405bee185da:0.50443922:06429537-15e7-465c-aafa-f9974fb20b95:0.48535755:978d18ba-ffe7-48a3-9642-0de57b249383:0.1:59de5468-be8c-4d56-ad1e-3425914fc081:0.35722062:b6eea705-651b-40db-9b01-e535150ab0f3:0.00408603:6cc9440e-d86b-475d-986e-b9076104873a:1.80178:7711fc0e-dc02-431f-90b8-fde7cd762ce0:0.00402297:58397c47-5cac-424c-9b2b-7dc50c703f6f:0.08&quot;\nCRC32.str(input)\n\n# Result: -1990607021\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.util.zip.CRC32\n\nval input = &quot;3b67b67f-673b-4f23-a023-3756f513d707:19.63865368:6ace080f-6f47-44fa-86f8-c278f5bb6f07:2.34121407:42dda603-8a36-4200-826c-80714a40b470:0.923498:1301a851-b77e-489f-beb8-c2b4ef349a90:0.08:bf077871-5709-4a84-b3a9-22bfa8313fa2:0.00382495:6341cbef-bccc-43af-8927-31be3f3cd2e9:1.24039659:aeef18c5-457c-41ca-abda-3940b151e410:0.02821:42943143-bb81-4993-8788-df3c434bce89:0.09:787ef6da-48ce-4bb5-978a-b0fdd9ce223a:0.07:c3850c7b-d0fa-4c2a-8c67-0405bee185da:0.50443922:06429537-15e7-465c-aafa-f9974fb20b95:0.48535755:978d18ba-ffe7-48a3-9642-0de57b249383:0.1:59de5468-be8c-4d56-ad1e-3425914fc081:0.35722062:b6eea705-651b-40db-9b01-e535150ab0f3:0.00408603:6cc9440e-d86b-475d-986e-b9076104873a:1.80178:7711fc0e-dc02-431f-90b8-fde7cd762ce0:0.00402297:58397c47-5cac-424c-9b2b-7dc50c703f6f:0.08&quot;\nval crC32 = CRC32()\ncrC32.update(input.toByteArray(Charsets.UTF_8))\ncrC32.value\n\n# Result 2304360275\n</code></pre>\n<p>How do I make the Kotlin function return the same value as the JavaScript?</p>\n"},{"tags":["java","list","sorting","comparator","comparable"],"answers":[{"tags":[],"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652006155,"creation_date":1652006155,"answer_id":72160161,"question_id":72160014,"body_markdown":"If Sellable implements the interface Comparable&lt;Sellable&gt; you can use Collections.sort(list). \r\nOtherwise you should create own Comparator and use Collections.sort(list, comparator). Because there must be a rule by which to compare elements of the Sellable type.","title":"Difference between Collections.sort(list) and Collections.sort(list,comparator)","body":"<p>If Sellable implements the interface Comparable you can use Collections.sort(list).\nOtherwise you should create own Comparator and use Collections.sort(list, comparator). Because there must be a rule by which to compare elements of the Sellable type.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652018705,"creation_date":1652006189,"answer_id":72160166,"question_id":72160014,"body_markdown":"`Collections.sort(List&lt;T&gt;)` sorts the given `List` by the [natural ordering][1] of its elements. The natural ordering of an object can be defined by implementing the `Comparable` interface in the corresponding class. This interface provides a single method, `compareTo`, which returns \r\n\r\n&gt; a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object.\r\n\r\nOn the other hand, `Collections.sort(List&lt;T&gt;, Comparator&lt;T&gt;)` orders the `List`&#39;s elements according to the given `Comparator`. Their natural ordering will be ignored for the sorting. This second method comes in hand when the `List`&#39;s elements already possess their natural ordering but we want to order them by a different criteria.\r\n\r\nHere&#39;s a simple example with a `Person` class displaying name, last name and age.\r\n\r\n```\r\nclass Person implements Comparable&lt;Person&gt; {\r\n    private String name, lastName;\r\n    private int age;\r\n\r\n    public Person(String name, String lastName, int age) {\r\n        this.name = name;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Person o) {\r\n        //Defining Person&#39;s natural ordering by creating a comparator and comparing by last name and then name the current object and the given paramter \r\n        return Comparator.comparing(Person::getLastName).thenComparing(Person::getName).compare(this, o);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;%s %s %d&quot;, name, lastName, age);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; list = new ArrayList&lt;&gt;(List.of(\r\n                new Person(&quot;Matt&quot;, &quot;O&#39;Brien&quot;, 30),\r\n                new Person(&quot;Conan&quot;, &quot;O&#39;Brien&quot;, 25),\r\n                new Person(&quot;Frank&quot;, &quot;Johnson&quot;, 50)\r\n        ));\r\n\r\n        //Original unordered list\r\n        System.out.println(list);\r\n\r\n        //List ordered by Person&#39;s natural ordering (last name and then name)\r\n        Collections.sort(list);\r\n        System.out.println(list);\r\n\r\n        //List ordered by custom criteria (age)\r\n        Collections.sort(list, Comparator.comparing(Person::getAge));\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html#compareTo(T)","title":"Difference between Collections.sort(list) and Collections.sort(list,comparator)","body":"<p><code>Collections.sort(List&lt;T&gt;)</code> sorts the given <code>List</code> by the <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\" rel=\"nofollow noreferrer\">natural ordering</a> of its elements. The natural ordering of an object can be defined by implementing the <code>Comparable</code> interface in the corresponding class. This interface provides a single method, <code>compareTo</code>, which returns</p>\n<blockquote>\n<p>a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object.</p>\n</blockquote>\n<p>On the other hand, <code>Collections.sort(List&lt;T&gt;, Comparator&lt;T&gt;)</code> orders the <code>List</code>'s elements according to the given <code>Comparator</code>. Their natural ordering will be ignored for the sorting. This second method comes in hand when the <code>List</code>'s elements already possess their natural ordering but we want to order them by a different criteria.</p>\n<p>Here's a simple example with a <code>Person</code> class displaying name, last name and age.</p>\n<pre><code>class Person implements Comparable&lt;Person&gt; {\n    private String name, lastName;\n    private int age;\n\n    public Person(String name, String lastName, int age) {\n        this.name = name;\n        this.lastName = lastName;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @Override\n    public int compareTo(Person o) {\n        //Defining Person's natural ordering by creating a comparator and comparing by last name and then name the current object and the given paramter \n        return Comparator.comparing(Person::getLastName).thenComparing(Person::getName).compare(this, o);\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;%s %s %d&quot;, name, lastName, age);\n    }\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; list = new ArrayList&lt;&gt;(List.of(\n                new Person(&quot;Matt&quot;, &quot;O'Brien&quot;, 30),\n                new Person(&quot;Conan&quot;, &quot;O'Brien&quot;, 25),\n                new Person(&quot;Frank&quot;, &quot;Johnson&quot;, 50)\n        ));\n\n        //Original unordered list\n        System.out.println(list);\n\n        //List ordered by Person's natural ordering (last name and then name)\n        Collections.sort(list);\n        System.out.println(list);\n\n        //List ordered by custom criteria (age)\n        Collections.sort(list, Comparator.comparing(Person::getAge));\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652106694,"creation_date":1652106694,"answer_id":72173686,"question_id":72160014,"body_markdown":"You don&#39;t need to provide a *comparator* when objects contained in the list implement `Comparable` interface.\r\n\r\n&lt;h3&gt;Comparator &amp; Comparator&lt;/h3&gt;\r\n\r\nThat&#39;s how the purpose of this interface defined by the [*documention*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html):\r\n\r\n&gt; This interface imposes a total ordering on the objects of each class\r\n&gt; that implements it. This ordering is referred to as the **class&#39;s\r\n&gt; natural ordering**, and the class&#39;s `compareTo` method is referred to as\r\n&gt; its natural comparison method.\r\n\r\nOn the other hand, *comparator* - is an object that is used to provide an ordering for collections of objects that don&#39;t have a *natural ordering*, i.e. there&#39;s no obvious specific way in which these object can be ordered, and their class doesn&#39;t implement `Comparable`.\r\n\r\nComparators are handy when objects are required to be ordered in differently depending on the situation. For instance, you have a class `Student`, and students can be sorted by their names, ids, grades, etc. And you can create a comparator for each of these cases either by creating a class implementing the interface `Comparator` and overrides method `compare()` (like in the code you&#39;ve listed) or by making use of the static methods like `Comparator.comparing()` introduced with Java 8.\r\n\r\nWith that said, interfaces `Comparator` and `Comparable` serve the same purpose (to facilitate comparison of object), but have different use cases.\r\n\r\n***Caution:*** don&#39;t mix things together by creating a *comparator* **inside** the `compareTo()` method, as it&#39;s shown in another answer. It&#39;s a terrible idea. Why? Because such an implementation will create a **new comparator** for every invocation of this method. To sort a list of `10.000.000` elements, `10.000.000 * log(10.000.000)` comparisons will be required, with each comparison `compareTo()` will be called and a new instance of *comparator* will be created. It&#39;ll have a negative impact on the application performance because creation of objects is costful, it requires memory allocation and then gives loads of work to the garbage collector.\r\n\r\n&lt;h3&gt;Fluent sorting&lt;/h3&gt;\r\n\r\nIn order to sort a list, you can use static methods `sort()` from the `Collections` utility class, that are part of the JDK since the very early version. And you could find lots code-snippets on the Internet, where `Collection.sort()` is being used.\r\n\r\nWith Java 8 method [List#sort()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)) was introduced in the `List` interface and you no longer need to resort to static methods from the `Collections` class. Instead you can directly invoke method `sort()` on the list, note that it always expects a comparator as an argument. If elements of the list implement `Comparable` you should pass `null` instead:\r\n\r\n&gt; If the specified comparator is `null` then all elements in this list\r\n&gt; must implement the `Comparable` interface and the elements&#39; **natural\r\n&gt; ordering** should be used.\r\n\r\n```\r\nmyList.sort(null); // only if element of the implement Comparable\r\n```","title":"Difference between Collections.sort(list) and Collections.sort(list,comparator)","body":"<p>You don't need to provide a <em>comparator</em> when objects contained in the list implement <code>Comparable</code> interface.</p>\n<h3>Comparator & Comparator</h3>\n<p>That's how the purpose of this interface defined by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><em>documention</em></a>:</p>\n<blockquote>\n<p>This interface imposes a total ordering on the objects of each class\nthat implements it. This ordering is referred to as the <strong>class's\nnatural ordering</strong>, and the class's <code>compareTo</code> method is referred to as\nits natural comparison method.</p>\n</blockquote>\n<p>On the other hand, <em>comparator</em> - is an object that is used to provide an ordering for collections of objects that don't have a <em>natural ordering</em>, i.e. there's no obvious specific way in which these object can be ordered, and their class doesn't implement <code>Comparable</code>.</p>\n<p>Comparators are handy when objects are required to be ordered in differently depending on the situation. For instance, you have a class <code>Student</code>, and students can be sorted by their names, ids, grades, etc. And you can create a comparator for each of these cases either by creating a class implementing the interface <code>Comparator</code> and overrides method <code>compare()</code> (like in the code you've listed) or by making use of the static methods like <code>Comparator.comparing()</code> introduced with Java 8.</p>\n<p>With that said, interfaces <code>Comparator</code> and <code>Comparable</code> serve the same purpose (to facilitate comparison of object), but have different use cases.</p>\n<p><em><strong>Caution:</strong></em> don't mix things together by creating a <em>comparator</em> <strong>inside</strong> the <code>compareTo()</code> method, as it's shown in another answer. It's a terrible idea. Why? Because such an implementation will create a <strong>new comparator</strong> for every invocation of this method. To sort a list of <code>10.000.000</code> elements, <code>10.000.000 * log(10.000.000)</code> comparisons will be required, with each comparison <code>compareTo()</code> will be called and a new instance of <em>comparator</em> will be created. It'll have a negative impact on the application performance because creation of objects is costful, it requires memory allocation and then gives loads of work to the garbage collector.</p>\n<h3>Fluent sorting</h3>\n<p>In order to sort a list, you can use static methods <code>sort()</code> from the <code>Collections</code> utility class, that are part of the JDK since the very early version. And you could find lots code-snippets on the Internet, where <code>Collection.sort()</code> is being used.</p>\n<p>With Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\">List#sort()</a> was introduced in the <code>List</code> interface and you no longer need to resort to static methods from the <code>Collections</code> class. Instead you can directly invoke method <code>sort()</code> on the list, note that it always expects a comparator as an argument. If elements of the list implement <code>Comparable</code> you should pass <code>null</code> instead:</p>\n<blockquote>\n<p>If the specified comparator is <code>null</code> then all elements in this list\nmust implement the <code>Comparable</code> interface and the elements' <strong>natural\nordering</strong> should be used.</p>\n</blockquote>\n<pre><code>myList.sort(null); // only if element of the implement Comparable\n</code></pre>\n"}],"owner":{"account_id":25064027,"reputation":43,"user_id":18918560,"display_name":"Nooboolean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1841,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72160166,"answer_count":3,"score":2,"last_activity_date":1652145568,"creation_date":1652005052,"question_id":72160014,"body_markdown":"What&#39;s the difference between:\r\n```\r\n\tpublic FlyingRabbit(){\r\n\t\tlist = new ArrayList&lt;Sellable&gt;();\r\n\t}\r\n\tpublic void sort(Comparator&lt;Sellable&gt; comp) {\r\n\t\tCollections.sort(list, comp);\r\n\t}\r\n```\r\nand:\r\n```\r\npublic class CompareCategory implements Comparator&lt;Sellable&gt; {\r\n\t@Override\r\n\tpublic int compare(Sellable s1, Sellable s2) {\r\n\t\t\treturn (s1.getCategory()).compareTo(s2.getCategory());\r\n\t}\r\n}\r\n```\r\nI&#39;m confused about why do I need to use the Comparator `comp` instead of using `compare` inside `CompareCategory`.","title":"Difference between Collections.sort(list) and Collections.sort(list,comparator)","body":"<p>What's the difference between:</p>\n<pre><code>    public FlyingRabbit(){\n        list = new ArrayList&lt;Sellable&gt;();\n    }\n    public void sort(Comparator&lt;Sellable&gt; comp) {\n        Collections.sort(list, comp);\n    }\n</code></pre>\n<p>and:</p>\n<pre><code>public class CompareCategory implements Comparator&lt;Sellable&gt; {\n    @Override\n    public int compare(Sellable s1, Sellable s2) {\n            return (s1.getCategory()).compareTo(s2.getCategory());\n    }\n}\n</code></pre>\n<p>I'm confused about why do I need to use the Comparator <code>comp</code> instead of using <code>compare</code> inside <code>CompareCategory</code>.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652145329,"creation_date":1652145329,"answer_id":72179717,"question_id":72179639,"body_markdown":"I am not sure there is another way to do it apart from using custom query. Instead, you can use `stream` api by doing this:\r\n\r\n    List&lt;Book&gt; books = repository.findAll();\r\n    List&lt;Book&gt; booksWithCategories = books.stream()\r\n         .filter(book -&gt; book.getCategories().size() &gt; 3)\r\n         .collect(Collectors.toList());","title":"Does Spring Data JPA have any way to find entity by count a field and don&#39;t use @Query?","body":"<p>I am not sure there is another way to do it apart from using custom query. Instead, you can use <code>stream</code> api by doing this:</p>\n<pre><code>List&lt;Book&gt; books = repository.findAll();\nList&lt;Book&gt; booksWithCategories = books.stream()\n     .filter(book -&gt; book.getCategories().size() &gt; 3)\n     .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":16612064,"reputation":373,"user_id":12004749,"display_name":"robocon321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652145329,"creation_date":1652144456,"question_id":72179639,"body_markdown":"For example: I want to find list book and count `categories` &gt; 3. How to resolve it and don&#39;t use annotation Query in interface Repository?\r\n```\r\npackage com.web.dacn.entity.book;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.web.dacn.entity.user.Author;\r\nimport com.web.dacn.entity.user.User;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Book {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;name&quot;, \r\n\t\t\tnullable = false, \r\n\t\t\tcolumnDefinition = &quot;NVARCHAR(100)&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;thumbnail&quot;, columnDefinition = &quot;TEXT&quot;)\r\n\tprivate String thumbnail;\r\n\r\n\t@Column(name = &quot;view&quot;, \r\n\t\t\tcolumnDefinition = &quot;INTEGER DEFAULT 1&quot;,\r\n\t\t\tnullable = false)\r\n\tprivate Integer view;\r\n\r\n\t@Column(name = &quot;price&quot;)\r\n\tprivate Double price;\r\n\r\n\t@Column(name = &quot;vip&quot;)\r\n\tprivate Boolean vip;\r\n\r\n\t@Column(name = &quot;description&quot;, \r\n\t\t\tcolumnDefinition = &quot;TEXT&quot;,\r\n\t\t\tnullable = false)\r\n\tprivate String description;\r\n\r\n\t@Column(name = &quot;slug&quot;, \r\n\t\t\tcolumnDefinition = &quot;VARCHAR(2000)&quot;,\r\n\t\t\tnullable = false)\r\n\tprivate String slug;\r\n\r\n\t@Column(name = &quot;meta_title&quot;,\r\n\t\t\tcolumnDefinition = &quot;NVARCHAR(100)&quot;)\r\n\tprivate String metaTitle;\r\n\t\r\n\t@Column(name = &quot;meta_description&quot;, columnDefinition = &quot;TEXT&quot;)\r\n\tprivate String metaDescription;\r\n\r\n\t@Column(name = &quot;status&quot;, \r\n\t\t\tnullable = false, \r\n\t\t\tcolumnDefinition = &quot;INTEGER DEFAULT 1&quot;)\r\n\tprivate Integer status;\r\n\r\n\t@Column(name = &quot;mod_time&quot;, nullable = false)\r\n\tprivate Date mod_time;\r\n\r\n\t@ManyToOne(cascade = CascadeType.ALL, targetEntity = User.class)\r\n\t@JoinColumn(name=&quot;mod_user_id&quot;)\r\n\t@JsonIgnore\r\n\tprivate User user;\r\n\r\n\t\r\n\t@ManyToMany(cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;book_author&quot;, \r\n\t\tjoinColumns = @JoinColumn(name = &quot;book_id&quot;, nullable = false), \r\n\t\tinverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, nullable = false))\r\n\t@JsonIgnore\r\n\tprivate List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\r\n\r\n\t@ManyToMany(cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;book_bookcategory&quot;, \r\n\t\tjoinColumns = @JoinColumn(name = &quot;book_id&quot;, nullable = false), \r\n\t\tinverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;, nullable = false))\r\n\t@JsonIgnore\r\n\tprivate List&lt;BookCategory&gt; categories = new ArrayList&lt;&gt;();\t\r\n}\r\n```","title":"Does Spring Data JPA have any way to find entity by count a field and don&#39;t use @Query?","body":"<p>For example: I want to find list book and count <code>categories</code> &gt; 3. How to resolve it and don't use annotation Query in interface Repository?</p>\n<pre><code>package com.web.dacn.entity.book;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Objects;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.web.dacn.entity.user.Author;\nimport com.web.dacn.entity.user.User;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@Table(name = &quot;book&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, \n            nullable = false, \n            columnDefinition = &quot;NVARCHAR(100)&quot;)\n    private String name;\n\n    @Column(name = &quot;thumbnail&quot;, columnDefinition = &quot;TEXT&quot;)\n    private String thumbnail;\n\n    @Column(name = &quot;view&quot;, \n            columnDefinition = &quot;INTEGER DEFAULT 1&quot;,\n            nullable = false)\n    private Integer view;\n\n    @Column(name = &quot;price&quot;)\n    private Double price;\n\n    @Column(name = &quot;vip&quot;)\n    private Boolean vip;\n\n    @Column(name = &quot;description&quot;, \n            columnDefinition = &quot;TEXT&quot;,\n            nullable = false)\n    private String description;\n\n    @Column(name = &quot;slug&quot;, \n            columnDefinition = &quot;VARCHAR(2000)&quot;,\n            nullable = false)\n    private String slug;\n\n    @Column(name = &quot;meta_title&quot;,\n            columnDefinition = &quot;NVARCHAR(100)&quot;)\n    private String metaTitle;\n    \n    @Column(name = &quot;meta_description&quot;, columnDefinition = &quot;TEXT&quot;)\n    private String metaDescription;\n\n    @Column(name = &quot;status&quot;, \n            nullable = false, \n            columnDefinition = &quot;INTEGER DEFAULT 1&quot;)\n    private Integer status;\n\n    @Column(name = &quot;mod_time&quot;, nullable = false)\n    private Date mod_time;\n\n    @ManyToOne(cascade = CascadeType.ALL, targetEntity = User.class)\n    @JoinColumn(name=&quot;mod_user_id&quot;)\n    @JsonIgnore\n    private User user;\n\n    \n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;book_author&quot;, \n        joinColumns = @JoinColumn(name = &quot;book_id&quot;, nullable = false), \n        inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, nullable = false))\n    @JsonIgnore\n    private List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;book_bookcategory&quot;, \n        joinColumns = @JoinColumn(name = &quot;book_id&quot;, nullable = false), \n        inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;, nullable = false))\n    @JsonIgnore\n    private List&lt;BookCategory&gt; categories = new ArrayList&lt;&gt;();  \n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments","android-fragmentactivity"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1652146922,"post_id":72179713,"comment_id":127530193,"body_markdown":"You should not be doing this at all. Did you read the [documentation for having an individual fragment intercept back directly](https://developer.android.com/guide/navigation/navigation-custom-back)?","body":"You should not be doing this at all. Did you read the <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">documentation for having an individual fragment intercept back directly</a>?"}],"owner":{"account_id":25150358,"reputation":33,"user_id":18995724,"display_name":"hamza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652145313,"creation_date":1652145313,"question_id":72179713,"body_markdown":"**I&#39;m going back to the first fragment here but I&#39;m having an error defining currentfragment**\r\n\r\n\r\n **class Fragment declare**\r\n\r\n    FragmentManager fragmentManager = getFragmentManager();\r\n\r\n\r\n**onCreateView**\r\n\r\n\r\n\r\n\r\n   \r\n\r\n     fragmentManager.addOnBackStackChangedListener(new FragmentManager.OnBackStackChangedListener() {\r\n            @Override\r\n            public void onBackStackChanged() {\r\n                List&lt;Fragment&gt; f = fragmentManager.getFragments();\r\n                Fragment frag = f.get(0);\r\n                currentFragment = frag.getClass().getSimpleName();  // here error how to delcare currentFragment  ???\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n**onBackPressed**\r\n \r\n\r\n    public void onBackPressed() {\r\n    \r\n            switch (currentFragment) { // here error how to delcare currentFragment  ???\r\n                case &quot;FragmentOne&quot;:\r\n                    // your code here\r\n                    return;\r\n                case &quot;FragmentTwo&quot;:\r\n                    // your code here\r\n                    return;\r\n                default:\r\n                    fragmentManager.popBackStack();\r\n                    // default action for any other fragment (return to previous)\r\n            }}","title":"Fragment onBackPressed how to used back first Fragment","body":"<p><strong>I'm going back to the first fragment here but I'm having an error defining currentfragment</strong></p>\n<p><strong>class Fragment declare</strong></p>\n<pre><code>FragmentManager fragmentManager = getFragmentManager();\n</code></pre>\n<p><strong>onCreateView</strong></p>\n<pre><code> fragmentManager.addOnBackStackChangedListener(new FragmentManager.OnBackStackChangedListener() {\n        @Override\n        public void onBackStackChanged() {\n            List&lt;Fragment&gt; f = fragmentManager.getFragments();\n            Fragment frag = f.get(0);\n            currentFragment = frag.getClass().getSimpleName();  // here error how to delcare currentFragment  ???\n        }\n    });\n</code></pre>\n<p><strong>onBackPressed</strong></p>\n<pre><code>public void onBackPressed() {\n\n        switch (currentFragment) { // here error how to delcare currentFragment  ???\n            case &quot;FragmentOne&quot;:\n                // your code here\n                return;\n            case &quot;FragmentTwo&quot;:\n                // your code here\n                return;\n            default:\n                fragmentManager.popBackStack();\n                // default action for any other fragment (return to previous)\n        }}\n</code></pre>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"score":0,"creation_date":1579840455,"post_id":59887298,"comment_id":105909030,"body_markdown":"Assuming you are using Eclipse . You need to install https://testng.org/doc/eclipse.html","body":"Assuming you are using Eclipse . You need to install <a href=\"https://testng.org/doc/eclipse.html\" rel=\"nofollow noreferrer\">testng.org/doc/eclipse.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":5577927,"reputation":54,"user_id":4420782,"display_name":"Ayush Goel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579835849,"creation_date":1579835849,"answer_id":59889964,"question_id":59887298,"body_markdown":"Please ensure if there are test cases under @Test annotations and check if that test annotation is imported from &#39;org.testng.annotations.Test&#39; and not related to Junit.\r\n ","title":"How to Run as a TestNG test file","body":"<p>Please ensure if there are test cases under @Test annotations and check if that test annotation is imported from 'org.testng.annotations.Test' and not related to Junit.</p>\n"},{"tags":[],"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579843976,"creation_date":1579843976,"answer_id":59890846,"question_id":59887298,"body_markdown":"You have to install testng in eclipse\r\n\r\nCan install by searching in Eclipse Marketplace or install as new software . For more details https://testng.org/doc/eclipse.html","title":"How to Run as a TestNG test file","body":"<p>You have to install testng in eclipse</p>\n\n<p>Can install by searching in Eclipse Marketplace or install as new software . For more details <a href=\"https://testng.org/doc/eclipse.html\" rel=\"nofollow noreferrer\">https://testng.org/doc/eclipse.html</a></p>\n"},{"tags":[],"owner":{"account_id":3661491,"reputation":568,"user_id":3051145,"accept_rate":77,"display_name":"WeVie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1581001753,"creation_date":1581001753,"answer_id":60098060,"question_id":59887298,"body_markdown":"When I was running it to begin with, I only had a class with a @BeforeTest annotation and Eclipse wasn&#39;t seeing it as a Test Case. As soon as I added @Test to the next class for the first.\r\n\r\nSo the answer is to make sure there&#39;s a actual ```@Test``` test case class in the class file. ","title":"How to Run as a TestNG test file","body":"<p>When I was running it to begin with, I only had a class with a @BeforeTest annotation and Eclipse wasn't seeing it as a Test Case. As soon as I added @Test to the next class for the first.</p>\n\n<p>So the answer is to make sure there's a actual <code>@Test</code> test case class in the class file. </p>\n"}],"owner":{"account_id":3661491,"reputation":568,"user_id":3051145,"accept_rate":77,"display_name":"WeVie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60098060,"answer_count":3,"score":0,"last_activity_date":1652144399,"creation_date":1579814753,"question_id":59887298,"body_markdown":"When I right-click the class file and choose &quot;Run As&quot; TestNG isn&#39;t an option.\r\n\r\nI&#39;ve added the TestNG jars by adding the dependency in the pom.xml and running as a Maven install. When I right-click my project and choose Properties -&gt; Java Build Path -&gt; Add Library, TestNG doesn&#39;t show up in the list. This is an existing project and I see JUnit as well as a few others not pertaining to testing. Am I missing something to get this added? I&#39;m able to import and use items from the TestNG API.","title":"How to Run as a TestNG test file","body":"<p>When I right-click the class file and choose &quot;Run As&quot; TestNG isn't an option.</p>\n<p>I've added the TestNG jars by adding the dependency in the pom.xml and running as a Maven install. When I right-click my project and choose Properties -&gt; Java Build Path -&gt; Add Library, TestNG doesn't show up in the list. This is an existing project and I see JUnit as well as a few others not pertaining to testing. Am I missing something to get this added? I'm able to import and use items from the TestNG API.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":2602257,"reputation":1121,"user_id":2254304,"accept_rate":94,"display_name":"terrorfall"},"score":0,"creation_date":1437900625,"post_id":31635194,"comment_id":51217083,"body_markdown":"Is there a specific reason for wanting to run them both at the same time, instead of two separate tests?","body":"Is there a specific reason for wanting to run them both at the same time, instead of two separate tests?"},{"owner":{"account_id":6370762,"reputation":219,"user_id":4943225,"accept_rate":69,"display_name":"Software Qustions"},"score":0,"creation_date":1437902002,"post_id":31635194,"comment_id":51217385,"body_markdown":"Actually no, they can run at different times, but i want to run all the tests on both Chrome and Firefox, and may be on other browser in the future.","body":"Actually no, they can run at different times, but i want to run all the tests on both Chrome and Firefox, and may be on other browser in the future."}],"answers":[{"tags":[],"owner":{"account_id":3880256,"reputation":1270,"user_id":3212998,"accept_rate":75,"display_name":"Sentient07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437902279,"creation_date":1437901489,"answer_id":31635308,"question_id":31635194,"body_markdown":"Create an xml file, testing.xml with the desired parameters and add a Parameters annotation (@Parameters) over your loginfailed method. That would pass all the desired parameters required for your tests\r\n\r\nYour testing.xml might look like :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     \r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n     \r\n    &lt;suite name=&quot;TestSuite&quot; thread-count=&quot;2&quot; parallel=&quot;tests&quot; &gt;\r\n     \r\n    &lt;test name=&quot;ChromeTest&quot;&gt;\r\n     \r\n    &lt;parameter name=&quot;browser&quot; value=&quot;Chrome&quot; /&gt;\r\n     \r\n    &lt;classes&gt;\r\n     \r\n    &lt;class name=&quot;&lt;your class name here&gt;&quot;&gt;\r\n     \r\n    &lt;/class&gt;\r\n     \r\n    &lt;/classes&gt;\r\n     \r\n    &lt;/test&gt;\r\n     \r\n    &lt;test name=&quot;FirefoxTest&quot;&gt;\r\n     \r\n    &lt;parameter name=&quot;browser&quot; value=&quot;Firefox&quot; /&gt;\r\n     \r\n    &lt;classes&gt;\r\n     \r\n    &lt;class name=&quot;&lt;Your class name here&gt;&quot;&gt;\r\n     \r\n    &lt;/class&gt;\r\n     \r\n    &lt;/classes&gt;\r\n     \r\n    &lt;/test&gt;\r\n     \r\n    &lt;test name=&quot;IETest&quot;&gt;\r\n     \r\n    &lt;parameter name=&quot;browser&quot; value=&quot;IE&quot; /&gt;\r\n     \r\n    &lt;classes&gt;\r\n     \r\n    &lt;class name=&quot;&lt;Your class name here&gt;&quot;&gt;\r\n     \r\n    &lt;/class&gt;\r\n     \r\n    &lt;/classes&gt;\r\n     \r\n    &lt;/test&gt;\r\n     \r\n    &lt;/suite&gt;\r\n\r\nThe above xml runs tests in parallel threads across all the three given browsers. In your java code, you should pass the parameters from testing.xml like\r\n\r\n    @Parameters(&quot;browser&quot;)\r\n\r\n \r\n\r\n","title":"Run selenium grid test in 2 browsers on one machine (Chrome and Firefox)","body":"<p>Create an xml file, testing.xml with the desired parameters and add a Parameters annotation (@Parameters) over your loginfailed method. That would pass all the desired parameters required for your tests</p>\n\n<p>Your testing.xml might look like :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n\n&lt;suite name=\"TestSuite\" thread-count=\"2\" parallel=\"tests\" &gt;\n\n&lt;test name=\"ChromeTest\"&gt;\n\n&lt;parameter name=\"browser\" value=\"Chrome\" /&gt;\n\n&lt;classes&gt;\n\n&lt;class name=\"&lt;your class name here&gt;\"&gt;\n\n&lt;/class&gt;\n\n&lt;/classes&gt;\n\n&lt;/test&gt;\n\n&lt;test name=\"FirefoxTest\"&gt;\n\n&lt;parameter name=\"browser\" value=\"Firefox\" /&gt;\n\n&lt;classes&gt;\n\n&lt;class name=\"&lt;Your class name here&gt;\"&gt;\n\n&lt;/class&gt;\n\n&lt;/classes&gt;\n\n&lt;/test&gt;\n\n&lt;test name=\"IETest\"&gt;\n\n&lt;parameter name=\"browser\" value=\"IE\" /&gt;\n\n&lt;classes&gt;\n\n&lt;class name=\"&lt;Your class name here&gt;\"&gt;\n\n&lt;/class&gt;\n\n&lt;/classes&gt;\n\n&lt;/test&gt;\n\n&lt;/suite&gt;\n</code></pre>\n\n<p>The above xml runs tests in parallel threads across all the three given browsers. In your java code, you should pass the parameters from testing.xml like</p>\n\n<pre><code>@Parameters(\"browser\")\n</code></pre>\n"}],"owner":{"account_id":6370762,"reputation":219,"user_id":4943225,"accept_rate":69,"display_name":"Software Qustions"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31635308,"answer_count":1,"score":0,"last_activity_date":1652143863,"creation_date":1437900506,"question_id":31635194,"body_markdown":"I have few tests, i want to run the tests on both Chrome and firefox.\r\n\r\nHow can i do that?\r\n\r\nMy code is:\r\n```java\r\n@Test   //Test1\r\npublic  void logInFaildTest() {\r\n    GridTest gridTest = new GridTest();\r\n    WebDriver webDriver = gridTest.getWebDriver();//get driver \r\n    LoginPage logIn = new LoginPage(webDriver, url);\r\n    String userName = &quot;user&quot;;\r\n    String pass=&quot;pass&quot;;\r\n    ...\r\n    webDriver.close();\r\n}\r\n```","title":"Run selenium grid test in 2 browsers on one machine (Chrome and Firefox)","body":"<p>I have few tests, i want to run the tests on both Chrome and firefox.</p>\n<p>How can i do that?</p>\n<p>My code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test   //Test1\npublic  void logInFaildTest() {\n    GridTest gridTest = new GridTest();\n    WebDriver webDriver = gridTest.getWebDriver();//get driver \n    LoginPage logIn = new LoginPage(webDriver, url);\n    String userName = &quot;user&quot;;\n    String pass=&quot;pass&quot;;\n    ...\n    webDriver.close();\n}\n</code></pre>\n"},{"tags":["java","android","memory-management","garbage-collection"],"comments":[{"owner":{"account_id":965302,"reputation":3724,"user_id":988828,"accept_rate":87,"display_name":"lc2817"},"score":0,"creation_date":1321590943,"post_id":8177802,"comment_id":10044555,"body_markdown":"I don&#39;t think so, if your application lacks of performance it should be something else, unless you allocate a huge amount of data. Is it the case?","body":"I don&#39;t think so, if your application lacks of performance it should be something else, unless you allocate a huge amount of data. Is it the case?"},{"owner":{"account_id":544152,"reputation":1307,"user_id":913503,"accept_rate":75,"display_name":"Last Warrior"},"score":1,"creation_date":1321593885,"post_id":8177802,"comment_id":10044968,"body_markdown":"The need of system.gc() method      http://stackoverflow.com/questions/3117429/garbage-collector-in-android","body":"The need of system.gc() method      <a href=\"http://stackoverflow.com/questions/3117429/garbage-collector-in-android\" title=\"garbage collector in android\">stackoverflow.com/questions/3117429/&hellip;</a>"},{"owner":{"account_id":348524,"reputation":11935,"user_id":683261,"accept_rate":93,"display_name":"Tofeeq Ahmad"},"score":0,"creation_date":1351829222,"post_id":8177802,"comment_id":17952899,"body_markdown":"@Ic2817 read the question carefully. I have not said that my application is behaving in that way.I am discussing existing of system.gc()","body":"@Ic2817 read the question carefully. I have not said that my application is behaving in that way.I am discussing existing of system.gc()"}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321590981,"creation_date":1321590981,"answer_id":8177831,"question_id":8177802,"body_markdown":"No; if the system needs memory, it will call GC on its own.\r\n\r\nAny memory used by an instance, that isn&#39;t referenced anywhere else, will become eligible for GC when the instance goes away.\r\n\r\nMemory used by the instance itself, if no longer referenced, is also eligible for GC. You *can* do a code review or profiling to see if you&#39;re holding on to memory *unnecessarily*, but that&#39;s a different issue.","title":"Garbage Collection in android (Done manually)","body":"<p>No; if the system needs memory, it will call GC on its own.</p>\n\n<p>Any memory used by an instance, that isn't referenced anywhere else, will become eligible for GC when the instance goes away.</p>\n\n<p>Memory used by the instance itself, if no longer referenced, is also eligible for GC. You <em>can</em> do a code review or profiling to see if you're holding on to memory <em>unnecessarily</em>, but that's a different issue.</p>\n"},{"tags":[],"owner":{"account_id":388024,"reputation":13478,"user_id":746710,"accept_rate":88,"display_name":"ngesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321591758,"creation_date":1321591758,"answer_id":8177910,"question_id":8177802,"body_markdown":"calling    `System.gc()`, doesn&#39;t do any harm. but you cant be sure that it will be of some use. because you **ask** the DVM to do garbage collection, but can&#39;t **command** it... Its dependent totally on DVM. It calls when memory is running out or may be at any time..","title":"Garbage Collection in android (Done manually)","body":"<p>calling    <code>System.gc()</code>, doesn't do any harm. but you cant be sure that it will be of some use. because you <strong>ask</strong> the DVM to do garbage collection, but can't <strong>command</strong> it... Its dependent totally on DVM. It calls when memory is running out or may be at any time..</p>\n"},{"tags":[],"owner":{"account_id":544152,"reputation":1307,"user_id":913503,"accept_rate":75,"display_name":"Last Warrior"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1321591805,"creation_date":1321591805,"answer_id":8177917,"question_id":8177802,"body_markdown":"it **isn&#39;t** good programming habit to call forcefully garbage collector (System.gc()) at the end of each activity\r\n\r\nBecause it is useless,only DVM decide when it should be call although you called it...","title":"Garbage Collection in android (Done manually)","body":"<p>it <strong>isn't</strong> good programming habit to call forcefully garbage collector (System.gc()) at the end of each activity</p>\n\n<p>Because it is useless,only DVM decide when it should be call although you called it...</p>\n"},{"tags":[],"owner":{"account_id":261101,"reputation":5314,"user_id":545064,"display_name":"Danny Remington - OMS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321654621,"creation_date":1321654621,"answer_id":8189847,"question_id":8177802,"body_markdown":"I tried putting System.gc() on the line before the lines where I created my bitmap in my Android app.  The garbage collector freed up several megabytes in some cases and put and end to my OutOfMemoryError conditions.  It did not interfere with the normal garbage collection one bit but it did make my app run faster.","title":"Garbage Collection in android (Done manually)","body":"<p>I tried putting System.gc() on the line before the lines where I created my bitmap in my Android app.  The garbage collector freed up several megabytes in some cases and put and end to my OutOfMemoryError conditions.  It did not interfere with the normal garbage collection one bit but it did make my app run faster.</p>\n"},{"tags":[],"owner":{"account_id":1425768,"reputation":14533,"user_id":1349334,"accept_rate":100,"display_name":"Yusuf X"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337020447,"creation_date":1337020447,"answer_id":10589060,"question_id":8177802,"body_markdown":"System.gc(), which the VM sometimes ignores at whim, is mostly useful in two cases:\r\n\r\n 1. you&#39;re gobbling up memory like there&#39;s no tomorrow (usually with bitmaps).\r\n 2. you suspect a memory leak (such as accidentally holding onto an old Context), and want to put the VM memory in a quiescent state to see if the memory usage is creeping up, for debugging.\r\n\r\nUnder nominal circumstances, one should not use it.","title":"Garbage Collection in android (Done manually)","body":"<p>System.gc(), which the VM sometimes ignores at whim, is mostly useful in two cases:</p>\n\n<ol>\n<li>you're gobbling up memory like there's no tomorrow (usually with bitmaps).</li>\n<li>you suspect a memory leak (such as accidentally holding onto an old Context), and want to put the VM memory in a quiescent state to see if the memory usage is creeping up, for debugging.</li>\n</ol>\n\n<p>Under nominal circumstances, one should not use it.</p>\n"},{"tags":[],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1417549958,"creation_date":1417549958,"answer_id":27257765,"question_id":8177802,"body_markdown":"I really think it depends on your situation. \r\n\r\nBecause the heap is generational, the GC may not get rid of certain large objects or bitmaps on its first pass, and its heuristics may not indicate that additional garbage collection is necessary, but there are definitely scenarios where the heuristic could be wrong, and we as the developers have knowledge of a pattern, or can predict usage that the GC cannot, and therefore calling system.gc() will benefit us.\r\n\r\nI have seen this before in specific scenarios such as dealing with map tiling or other graphic intensive behaviors, where the native GC in Android (even on 3.0+ devices), doesn&#39;t get it right, resulting in Out of Memory errors. However, by adding a few GC calls, the Out of Memory errors are prevented, and the system continues to process albeit at a slower rate (due to garbage collection). In graphic intensive operations, this usually is that state desired (a little lag) over the application crashing because it cannot load additional resources into memory.\r\n\r\nMy only explanation for why this happens in certain scenarios appears to be timing. If user operations are slow, then the native Android GC seems to do great. However, if your user is scrolling fast, or zooming quickly, this is where I have seen the Android GC lag behind, and a few well thought out System.gc() have resulted in my applications not crashing.","title":"Garbage Collection in android (Done manually)","body":"<p>I really think it depends on your situation. </p>\n\n<p>Because the heap is generational, the GC may not get rid of certain large objects or bitmaps on its first pass, and its heuristics may not indicate that additional garbage collection is necessary, but there are definitely scenarios where the heuristic could be wrong, and we as the developers have knowledge of a pattern, or can predict usage that the GC cannot, and therefore calling system.gc() will benefit us.</p>\n\n<p>I have seen this before in specific scenarios such as dealing with map tiling or other graphic intensive behaviors, where the native GC in Android (even on 3.0+ devices), doesn't get it right, resulting in Out of Memory errors. However, by adding a few GC calls, the Out of Memory errors are prevented, and the system continues to process albeit at a slower rate (due to garbage collection). In graphic intensive operations, this usually is that state desired (a little lag) over the application crashing because it cannot load additional resources into memory.</p>\n\n<p>My only explanation for why this happens in certain scenarios appears to be timing. If user operations are slow, then the native Android GC seems to do great. However, if your user is scrolling fast, or zooming quickly, this is where I have seen the Android GC lag behind, and a few well thought out System.gc() have resulted in my applications not crashing.</p>\n"},{"tags":[],"owner":{"account_id":5300560,"reputation":19798,"user_id":4230345,"accept_rate":90,"display_name":"Farbod Salamat-Zadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457464205,"creation_date":1457464205,"answer_id":35875951,"question_id":8177802,"body_markdown":"Calling GC manually _is_ a bad coding habit...\r\n\r\nThe [Developer docs on RAM usage](http://developer.android.com/intl/zh-cn/tools/debugging/debugging-memory.html#LogMessages) state:\r\n\r\n&gt;...   \r\n&gt;`GC_EXPLICIT`   \r\n&gt;   \r\nAn explicit GC, such as when you call [gc()](http://developer.android.com/reference/java/lang/System.html#gc()) (which **you should _avoid_ calling** and instead trust the GC to run when needed).   \r\n&gt;   \r\n&gt;...\r\n\r\nI&#39;ve highlighted the most important and relevant part here in bold.","title":"Garbage Collection in android (Done manually)","body":"<p>Calling GC manually <em>is</em> a bad coding habit...</p>\n\n<p>The <a href=\"http://developer.android.com/intl/zh-cn/tools/debugging/debugging-memory.html#LogMessages\" rel=\"nofollow\">Developer docs on RAM usage</a> state:</p>\n\n<blockquote>\n  <p>...<br>\n  <code>GC_EXPLICIT</code>   </p>\n  \n  <p>An explicit GC, such as when you call <a href=\"http://developer.android.com/reference/java/lang/System.html#gc()\" rel=\"nofollow\">gc()</a> (which <strong>you should <em>avoid</em> calling</strong> and instead trust the GC to run when needed).   </p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>I've highlighted the most important and relevant part here in bold.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652143706,"creation_date":1652059310,"answer_id":72166151,"question_id":8177802,"body_markdown":"It is possible to *ask* the Android JVM to run the garbage collector by calling `System.gc()`.  As the documentation states:\r\n\r\n&gt; Calling the `gc()` method **suggests** that the Java Virtual Machine expend effort toward recycling unused objects in order to make the memory they currently occupy available for quick reuse. When control returns from the method call, the Java Virtual Machine has made a best effort to reclaim space from all discarded objects. \r\n\r\nEmphasis added!\r\n\r\nSome care is needed in interpreting &quot;best effort&quot; in the final sentence:\r\n\r\n  - The &quot;best effort&quot; might be to ignore the &quot;suggestion&quot; entirely.  Some JVMs have a configuration option to totally ignore `System.gc()` calls.\r\n\r\n  - The &quot;best effort&quot; may or may not amount to a full garbage collection.  That is an implementation detail.\r\n\r\nBut the bottom line is that you cannot **force** the GC to run.\r\n\r\n-----------------------\r\n\r\nCalling `System.gc()` is generally a bad idea.  It makes your application inefficient, and it may introduce unwanted and unnecessary GC pauses.\r\n\r\nThe inefficiency issue comes down to the way that modern garbage collectors behave.  A garbage collector&#39;s work has two parts&lt;sup&gt;1&lt;/sup&gt;:\r\n  \r\n  1.  Finding the objects that are reachable.\r\n  2.  Dealing with the objects that are not reachable.\r\n\r\nThe first part involves traversing reference chains and and marking the graph of objects starting at the GC roots.  This work is proportional to the number of reachable objects.\r\n\r\nThe second part can be handled in a couple of ways, but it will typically be proportional to the *size* of the reachable objects.\r\n\r\nThus the overall cost of a GC run (in CPU time) depends mostly in the amount of non-garbage.  But the benefit of the work performed is the amount of space that you managed to reclaim.\r\n\r\nTo maximize efficiency, you need to run the GC when the benefit of running the GC is at its highest; i.e. when the heap is close to full.   But the problem is that if you call `System.gc()` you may be requesting a garbage collection when there is lots of free space.\r\n\r\n---------------------\r\n\r\n&gt; Every one is saying that calling `system.gc()` not beneficial at all. Then I am wondering why its present here. DVM will decide when to run garbage collector. Then what is need of that method?\r\n\r\nIt is there for largely historical reasons.  The method was present in the `System` class in Java 1.0.  Removing it now would break a lot of legacy code.  As for why `gc()` was included in the first place, the decision was made a long, long time ago, and we were not &quot;in the room&quot; when it was made.  My guess is that the decision makers (in ~1995):\r\n\r\n  - were a bit too optimistic about how GC technology would develop, \r\n  - didn&#39;t anticipate that naive programmers would try to use `gc()` calls to solve memory leaks and other bugs, and / or\r\n  - were simply too rushed to think too hard about it.\r\n\r\n-------------------\r\n\r\nThere are also a couple of scenarios where calling `System.gc()` is beneficial.  One such scenario is when your application is about to start a &quot;phase&quot; where unscheduled GC pauses are going to give a particularly bad user experience.  By running `System.gc()` you can take the &quot;performance hit&quot; at a point in time where it matters less; e.g. during a user initiated pause or while switching levels in a game.\r\n\r\nBut I don&#39;t think the above scenario corresponds to your &quot;at the end of every activity&quot;.\r\n\r\n---------------------\r\n\r\nThe final thing to note is that calling `System.gc()` manually does not prevent normal OOMEs.  A normal OOME is typically thrown then the JVM decides there is not enough free heap space to continue.  This decision is made **immediately after** running a (full) GC.  Running `System.gc()` manually won&#39;t make any difference to the decision making.\r\n\r\nFurthermore, calling `System.gc()` will not cure normal&lt;sup&gt;2&lt;/sup&gt; memory leaks.  If your application has a memory leak, you actually have a situation where a bunch of objects are reachable when they shouldn&#39;t be.  But since they are reachable, the GC won&#39;t delete them.\r\n\r\nThe cure for OOMEs is one or more of the following:\r\n\r\n  1.  Find the memory leaks and fix them.  There are tools to help you do this.\r\n  2.  Modify the application to use memory more efficiently; e.g. don&#39;t keep so much data in memory, or represent it in a more compact form.\r\n  3.  Increase the application&#39;s heap size.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - This is a simplification, but the full story is way to complicated for this posting.  I recommend you buy an read an up-to-date book on Garbage Collection of you want (or need) a deeper understanding.&lt;br&gt;\r\n2 - There are cases involving non-heap memory where manually running the GC *might* help as a band-aid for certain kinds of OOME.  But a better solution is to find a better way to reduce non-heap memory usage and/or free up non-heap resources in a more timely fashion.&lt;/sup&gt;","title":"Garbage Collection in android (Done manually)","body":"<p>It is possible to <em>ask</em> the Android JVM to run the garbage collector by calling <code>System.gc()</code>.  As the documentation states:</p>\n<blockquote>\n<p>Calling the <code>gc()</code> method <strong>suggests</strong> that the Java Virtual Machine expend effort toward recycling unused objects in order to make the memory they currently occupy available for quick reuse. When control returns from the method call, the Java Virtual Machine has made a best effort to reclaim space from all discarded objects.</p>\n</blockquote>\n<p>Emphasis added!</p>\n<p>Some care is needed in interpreting &quot;best effort&quot; in the final sentence:</p>\n<ul>\n<li><p>The &quot;best effort&quot; might be to ignore the &quot;suggestion&quot; entirely.  Some JVMs have a configuration option to totally ignore <code>System.gc()</code> calls.</p>\n</li>\n<li><p>The &quot;best effort&quot; may or may not amount to a full garbage collection.  That is an implementation detail.</p>\n</li>\n</ul>\n<p>But the bottom line is that you cannot <strong>force</strong> the GC to run.</p>\n<hr />\n<p>Calling <code>System.gc()</code> is generally a bad idea.  It makes your application inefficient, and it may introduce unwanted and unnecessary GC pauses.</p>\n<p>The inefficiency issue comes down to the way that modern garbage collectors behave.  A garbage collector's work has two parts<sup>1</sup>:</p>\n<ol>\n<li>Finding the objects that are reachable.</li>\n<li>Dealing with the objects that are not reachable.</li>\n</ol>\n<p>The first part involves traversing reference chains and and marking the graph of objects starting at the GC roots.  This work is proportional to the number of reachable objects.</p>\n<p>The second part can be handled in a couple of ways, but it will typically be proportional to the <em>size</em> of the reachable objects.</p>\n<p>Thus the overall cost of a GC run (in CPU time) depends mostly in the amount of non-garbage.  But the benefit of the work performed is the amount of space that you managed to reclaim.</p>\n<p>To maximize efficiency, you need to run the GC when the benefit of running the GC is at its highest; i.e. when the heap is close to full.   But the problem is that if you call <code>System.gc()</code> you may be requesting a garbage collection when there is lots of free space.</p>\n<hr />\n<blockquote>\n<p>Every one is saying that calling <code>system.gc()</code> not beneficial at all. Then I am wondering why its present here. DVM will decide when to run garbage collector. Then what is need of that method?</p>\n</blockquote>\n<p>It is there for largely historical reasons.  The method was present in the <code>System</code> class in Java 1.0.  Removing it now would break a lot of legacy code.  As for why <code>gc()</code> was included in the first place, the decision was made a long, long time ago, and we were not &quot;in the room&quot; when it was made.  My guess is that the decision makers (in ~1995):</p>\n<ul>\n<li>were a bit too optimistic about how GC technology would develop,</li>\n<li>didn't anticipate that naive programmers would try to use <code>gc()</code> calls to solve memory leaks and other bugs, and / or</li>\n<li>were simply too rushed to think too hard about it.</li>\n</ul>\n<hr />\n<p>There are also a couple of scenarios where calling <code>System.gc()</code> is beneficial.  One such scenario is when your application is about to start a &quot;phase&quot; where unscheduled GC pauses are going to give a particularly bad user experience.  By running <code>System.gc()</code> you can take the &quot;performance hit&quot; at a point in time where it matters less; e.g. during a user initiated pause or while switching levels in a game.</p>\n<p>But I don't think the above scenario corresponds to your &quot;at the end of every activity&quot;.</p>\n<hr />\n<p>The final thing to note is that calling <code>System.gc()</code> manually does not prevent normal OOMEs.  A normal OOME is typically thrown then the JVM decides there is not enough free heap space to continue.  This decision is made <strong>immediately after</strong> running a (full) GC.  Running <code>System.gc()</code> manually won't make any difference to the decision making.</p>\n<p>Furthermore, calling <code>System.gc()</code> will not cure normal<sup>2</sup> memory leaks.  If your application has a memory leak, you actually have a situation where a bunch of objects are reachable when they shouldn't be.  But since they are reachable, the GC won't delete them.</p>\n<p>The cure for OOMEs is one or more of the following:</p>\n<ol>\n<li>Find the memory leaks and fix them.  There are tools to help you do this.</li>\n<li>Modify the application to use memory more efficiently; e.g. don't keep so much data in memory, or represent it in a more compact form.</li>\n<li>Increase the application's heap size.</li>\n</ol>\n<hr />\n<p><sup>1 - This is a simplification, but the full story is way to complicated for this posting.  I recommend you buy an read an up-to-date book on Garbage Collection of you want (or need) a deeper understanding.<br>\n2 - There are cases involving non-heap memory where manually running the GC <em>might</em> help as a band-aid for certain kinds of OOME.  But a better solution is to find a better way to reduce non-heap memory usage and/or free up non-heap resources in a more timely fashion.</sup></p>\n"}],"owner":{"account_id":348524,"reputation":11935,"user_id":683261,"accept_rate":93,"display_name":"Tofeeq Ahmad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20196,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8177917,"answer_count":8,"score":10,"last_activity_date":1652143706,"creation_date":1321590738,"question_id":8177802,"body_markdown":"I have a strange doubts. I know garbage collector has its own limitation. and if allocation is \r\nbad then it can cause a problem for application to respond in unusual way.\r\n\r\nSo my question is that is it good programming habit to call forcefully garbage collector (`System.gc()`) at the end of each activity?\r\n\r\n**Update**\r\n\r\nEvery one is saying that calling system.gc() not beneficial at all.Then i am wondering why its present here.DVM will decide when to run garbage collector.Then what is need of that method?\r\n\r\n**Update 2**\r\n\r\nThanks community to help me out. But honestly i got knowledge about Garbage collection real Beauvoir from this link [Java Performance Optimization][1]\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-10-2012/121010-jvm-performance-optimization-garbage-collection.html","title":"Garbage Collection in android (Done manually)","body":"<p>I have a strange doubts. I know garbage collector has its own limitation. and if allocation is \nbad then it can cause a problem for application to respond in unusual way.</p>\n\n<p>So my question is that is it good programming habit to call forcefully garbage collector (<code>System.gc()</code>) at the end of each activity?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Every one is saying that calling system.gc() not beneficial at all.Then i am wondering why its present here.DVM will decide when to run garbage collector.Then what is need of that method?</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>Thanks community to help me out. But honestly i got knowledge about Garbage collection real Beauvoir from this link <a href=\"http://www.javaworld.com/javaworld/jw-10-2012/121010-jvm-performance-optimization-garbage-collection.html\" rel=\"noreferrer\">Java Performance Optimization</a></p>\n"},{"tags":["java","automation","automated-tests","testng"],"owner":{"account_id":9556609,"reputation":41,"user_id":7098870,"display_name":"YuvalGls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652143585,"creation_date":1487849403,"question_id":42414545,"body_markdown":"For the given testng XML:\r\n\r\n    &lt;suite name=&quot;Automation Suite&quot; allow-return-values=&quot;true&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot; thread-count=&quot;2&quot;&gt;\r\n        &lt;test name=&quot;Installer 01&quot;&gt;\r\n            &lt;parameter name=&quot;DB&quot; value=&quot;Oracle&quot;/&gt;\r\n            &lt;parameter name=&quot;App_Server&quot; value=&quot;WebLogic&quot;/&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Installer 02&quot;&gt;\r\n            &lt;parameter name=&quot;DB&quot; value=&quot;Oracle&quot;/&gt;\r\n            &lt;parameter name=&quot;App_Server&quot; value=&quot;WildFly&quot;/&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Installer 03&quot;&gt;\r\n            &lt;parameter name=&quot;DB&quot; value=&quot;Oracle&quot;/&gt;\r\n            &lt;parameter name=&quot;App_Server&quot; value=&quot;TomCat&quot;/&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Installer 04&quot;&gt;\r\n            &lt;parameter name=&quot;DB&quot; value=&quot;MySql&quot;/&gt;\r\n            &lt;parameter name=&quot;App_Server&quot; value=&quot;WebLogic&quot;/&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Installer 05&quot;&gt;\r\n            &lt;parameter name=&quot;DB&quot; value=&quot;MySql&quot;/&gt;\r\n            &lt;parameter name=&quot;App_Server&quot; value=&quot;WildFly&quot;/&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Installer 06&quot;&gt;\r\n            &lt;parameter name=&quot;DB&quot; value=&quot;MySql&quot;/&gt;\r\n            &lt;parameter name=&quot;App_Server&quot; value=&quot;TomCat&quot;/&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nHow can I execute lets say Installer 01 &amp; Installer 04 and wait for them to finish until i run the next permutation of Installer 02 &amp; Installer 05 and so on.","title":"testng.xml parallel test sequence","body":"<p>For the given testng XML:</p>\n<pre><code>&lt;suite name=&quot;Automation Suite&quot; allow-return-values=&quot;true&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot; thread-count=&quot;2&quot;&gt;\n    &lt;test name=&quot;Installer 01&quot;&gt;\n        &lt;parameter name=&quot;DB&quot; value=&quot;Oracle&quot;/&gt;\n        &lt;parameter name=&quot;App_Server&quot; value=&quot;WebLogic&quot;/&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Installer 02&quot;&gt;\n        &lt;parameter name=&quot;DB&quot; value=&quot;Oracle&quot;/&gt;\n        &lt;parameter name=&quot;App_Server&quot; value=&quot;WildFly&quot;/&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Installer 03&quot;&gt;\n        &lt;parameter name=&quot;DB&quot; value=&quot;Oracle&quot;/&gt;\n        &lt;parameter name=&quot;App_Server&quot; value=&quot;TomCat&quot;/&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Installer 04&quot;&gt;\n        &lt;parameter name=&quot;DB&quot; value=&quot;MySql&quot;/&gt;\n        &lt;parameter name=&quot;App_Server&quot; value=&quot;WebLogic&quot;/&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Installer 05&quot;&gt;\n        &lt;parameter name=&quot;DB&quot; value=&quot;MySql&quot;/&gt;\n        &lt;parameter name=&quot;App_Server&quot; value=&quot;WildFly&quot;/&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Installer 06&quot;&gt;\n        &lt;parameter name=&quot;DB&quot; value=&quot;MySql&quot;/&gt;\n        &lt;parameter name=&quot;App_Server&quot; value=&quot;TomCat&quot;/&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>How can I execute lets say Installer 01 &amp; Installer 04 and wait for them to finish until i run the next permutation of Installer 02 &amp; Installer 05 and so on.</p>\n"},{"tags":["java","jmeter","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1347014368,"creation_date":1346326988,"answer_id":12196116,"question_id":12194560,"body_markdown":"I understand receiving time as time between last received byte and first received byte (not page loading time which included time for browser to interpret response) so this should be:\r\n\r\n- [Elapsed Time][1] -  [Latency][2]\r\n \r\n**Elapsed time.** JMeter measures the elapsed time from just before sending the request to just after the last response has been received. JMeter does not include the time needed to render the response, nor does JMeter process any client code, for example Javascript.\r\n\r\n**Latency.** JMeter measures the latency from just before sending the request to just after the first response has been received. Thus the time includes all the processing needed to assemble the request as well as assembling the first part of the response, which in general will be longer than one byte. Protocol analyzers (such as Wireshark) measure the time when bytes are actually sent/received over the interface. The JMeter time should be closer to that which is experienced by a browser or other application client. \r\n\r\n\r\n\r\nBut I didn&#39;t find definition of Receiving time:\r\n\r\n- https://developers.google.com/chrome-developer-tools/docs/network\r\n\r\n\r\n  [1]: http://jmeter.apache.org/usermanual/glossary.html\r\n  [2]: http://jmeter.apache.org/usermanual/glossary.html\r\n","title":"How to get equivalent of Google Chrome &quot;receiving time&quot; of request in JMeter?","body":"<p>I understand receiving time as time between last received byte and first received byte (not page loading time which included time for browser to interpret response) so this should be:</p>\n\n<ul>\n<li><a href=\"http://jmeter.apache.org/usermanual/glossary.html\" rel=\"nofollow\">Elapsed Time</a> -  <a href=\"http://jmeter.apache.org/usermanual/glossary.html\" rel=\"nofollow\">Latency</a></li>\n</ul>\n\n<p><strong>Elapsed time.</strong> JMeter measures the elapsed time from just before sending the request to just after the last response has been received. JMeter does not include the time needed to render the response, nor does JMeter process any client code, for example Javascript.</p>\n\n<p><strong>Latency.</strong> JMeter measures the latency from just before sending the request to just after the first response has been received. Thus the time includes all the processing needed to assemble the request as well as assembling the first part of the response, which in general will be longer than one byte. Protocol analyzers (such as Wireshark) measure the time when bytes are actually sent/received over the interface. The JMeter time should be closer to that which is experienced by a browser or other application client. </p>\n\n<p>But I didn't find definition of Receiving time:</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/chrome-developer-tools/docs/network\" rel=\"nofollow\">https://developers.google.com/chrome-developer-tools/docs/network</a></li>\n</ul>\n"}],"owner":{"account_id":341764,"reputation":688,"user_id":672560,"accept_rate":69,"display_name":"AsadYarKhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":12196116,"answer_count":1,"score":-1,"last_activity_date":1652143342,"creation_date":1346321640,"question_id":12194560,"body_markdown":"How to get this Receiving time/Loading Time in JMeter?\r\n\r\n![This is snapshot of Chrome][1]\r\n\r\nThis is snapshot of Chrome.\r\n\r\n  [1]: http://i.stack.imgur.com/0sXrW.jpg\r\n","title":"How to get equivalent of Google Chrome &quot;receiving time&quot; of request in JMeter?","body":"<p>How to get this Receiving time/Loading Time in JMeter?</p>\n<p><img src=\"https://i.stack.imgur.com/0sXrW.jpg\" alt=\"This is snapshot of Chrome\" /></p>\n<p>This is snapshot of Chrome.</p>\n"},{"tags":["java","rest-assured","autotest"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1635942884,"post_id":69824883,"comment_id":123425451,"body_markdown":"Why do you think you have solved it incorrectly? Is there an error? What are the contents of the response?","body":"Why do you think you have solved it incorrectly? Is there an error? What are the contents of the response?"},{"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"score":0,"creation_date":1635943133,"post_id":69824883,"comment_id":123425536,"body_markdown":"There is no error, I just want to improve the code and make the color check more correct if possible.","body":"There is no error, I just want to improve the code and make the color check more correct if possible."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1635958807,"creation_date":1635943149,"answer_id":69825000,"question_id":69824883,"body_markdown":"This problem can be solved using [regular expressions][1]\r\n\r\n```\r\nResponseBody body = response.getBody();\r\nString bodyAsString = body.asString();\r\n\r\n//Regexp for a HEX color\r\nString patternString = &quot;#[a-zA-Z0-9]{6}&quot;\r\n\r\nPattern pattern = Pattern.compile(patternString);\r\nMatcher matcher = pattern.matcher(text);\r\n\r\n//Check that the text matches the regular expression\r\nboolean matches = matcher.matches();\r\n\r\n```\r\n\r\nYou can experiment with regular expressions [here][2] \r\n\r\n\r\n  [1]: https://www.baeldung.com/regular-expressions-java\r\n  [2]: https://www.freeformatter.com/java-regex-tester.html#ad-output","title":"Check that each Color field has a color value (format string &quot;#FFFFFF&quot;)","body":"<p>This problem can be solved using <a href=\"https://www.baeldung.com/regular-expressions-java\" rel=\"nofollow noreferrer\">regular expressions</a></p>\n<pre><code>ResponseBody body = response.getBody();\nString bodyAsString = body.asString();\n\n//Regexp for a HEX color\nString patternString = &quot;#[a-zA-Z0-9]{6}&quot;\n\nPattern pattern = Pattern.compile(patternString);\nMatcher matcher = pattern.matcher(text);\n\n//Check that the text matches the regular expression\nboolean matches = matcher.matches();\n\n</code></pre>\n<p>You can experiment with regular expressions <a href=\"https://www.freeformatter.com/java-regex-tester.html#ad-output\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635949567,"creation_date":1635943790,"answer_id":69825151,"question_id":69824883,"body_markdown":"I have same idea with Arthur but more specific what to be tested.\r\n\r\nCheck every color match the regex `#[0-9A-Z]{6}`\r\n```\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.Matchers.*;\r\n\r\nResponse res = given().get(&quot;https://reqres.in/api/unknown&quot;);\r\nList&lt;String&gt; colors = res.jsonPath().getList(&quot;data.color&quot;);\r\nassertThat(colors, everyItem(matchesPattern(&quot;#[0-9A-Z]{6}&quot;)));\r\n```\r\nNote: Hamcrest verion 1.x doesn&#39;t have method `matchesPattern`\r\n\r\nAdd version 2.2 to your pom.xml\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nMore info: [api docs][1].\r\n\r\n\r\n  [1]: https://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/Matchers.html#matchesPattern-java.lang.String-","title":"Check that each Color field has a color value (format string &quot;#FFFFFF&quot;)","body":"<p>I have same idea with Arthur but more specific what to be tested.</p>\n<p>Check every color match the regex <code>#[0-9A-Z]{6}</code></p>\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.*;\n\nResponse res = given().get(&quot;https://reqres.in/api/unknown&quot;);\nList&lt;String&gt; colors = res.jsonPath().getList(&quot;data.color&quot;);\nassertThat(colors, everyItem(matchesPattern(&quot;#[0-9A-Z]{6}&quot;)));\n</code></pre>\n<p>Note: Hamcrest verion 1.x doesn't have method <code>matchesPattern</code></p>\n<p>Add version 2.2 to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>More info: <a href=\"https://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/Matchers.html#matchesPattern-java.lang.String-\" rel=\"nofollow noreferrer\">api docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635944106,"creation_date":1635944106,"answer_id":69825228,"question_id":69824883,"body_markdown":"In first place read the response with a json parser.\r\nI used Jackson:\r\n&gt;https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.13.0\r\n&gt;https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.0\r\n\r\nAfter travers to `data` array-node and iterate every element and check the `color` node.\r\n\r\n```\r\npublic static boolean everythingIsColor(String json) throws JsonProcessingException{\r\n\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tJsonNode jsonBody = objectMapper.readTree(json); //JsonProcessingException\r\n\r\n\tPattern pattern = Pattern.compile(&quot;#[0-9A-F]{6}&quot;); //regex for color format\r\n\r\n\tJsonNode dataNode = jsonBody.get(&quot;data&quot;);\r\n\tfor(JsonNode node : dataNode){\r\n\r\n\t\tJsonNode colorNode = node.get(&quot;color&quot;);\r\n\t\tif(!colorNode.isTextual()){ //is not text node\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tMatcher matcher = pattern.matcher(colorNode.asText());\r\n\t\tif(!matcher.matches()){ //does not match with color format\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t}\r\n\r\n    //if reach here means every color node has a color value\r\n\treturn true;\r\n\r\n}\r\n```","title":"Check that each Color field has a color value (format string &quot;#FFFFFF&quot;)","body":"<p>In first place read the response with a json parser.\nI used Jackson:</p>\n<blockquote>\n<p><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.13.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.13.0</a>\n<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.0</a></p>\n</blockquote>\n<p>After travers to <code>data</code> array-node and iterate every element and check the <code>color</code> node.</p>\n<pre><code>public static boolean everythingIsColor(String json) throws JsonProcessingException{\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    JsonNode jsonBody = objectMapper.readTree(json); //JsonProcessingException\n\n    Pattern pattern = Pattern.compile(&quot;#[0-9A-F]{6}&quot;); //regex for color format\n\n    JsonNode dataNode = jsonBody.get(&quot;data&quot;);\n    for(JsonNode node : dataNode){\n\n        JsonNode colorNode = node.get(&quot;color&quot;);\n        if(!colorNode.isTextual()){ //is not text node\n            return false;\n        }\n\n        Matcher matcher = pattern.matcher(colorNode.asText());\n        if(!matcher.matches()){ //does not match with color format\n            return false;\n        }\n\n    }\n\n    //if reach here means every color node has a color value\n    return true;\n\n}\n</code></pre>\n"}],"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69825000,"answer_count":3,"score":-1,"last_activity_date":1652143161,"creation_date":1635942641,"question_id":69824883,"body_markdown":"I have task: &quot;Check that each Color field has a color value (format string &quot;#FFFFFF&quot;)&quot;.\r\n\r\nI have a solution: \r\n\r\n    @Test\r\n    public void sixTest() {\r\n        Specification.installSpec(Specification.requestSpec(), Specification.responseSpec());\r\n        Response response = given()\r\n                .when()\r\n                .get(&quot;https://reqres.in/api/unknown&quot;)\r\n                .then()\r\n                .log().all()\r\n                .extract().response();\r\n    \r\n        ResponseBody body = response.getBody();\r\n        String bodyAsString = body.asString();\r\n        Assert.assertEquals(bodyAsString.contains(&quot;#&quot;), true, &quot;Response body contains #&quot;);\r\n    \r\n    }\r\n\r\nI think I solved the problem incorrectly is there a more suitable solution?\r\n\r\nAdditional information: The URL https://reqres.in/api/unknown is public and returns e.g.\r\n\r\n    {\r\n        page: 1,\r\n        per_page: 6,\r\n        total: 12,\r\n        total_pages: 2,\r\n        data: [\r\n        {\r\n        id: 1,\r\n        name: &quot;cerulean&quot;,\r\n        year: 2000,\r\n        color: &quot;#98B2D1&quot;,\r\n        pantone_value: &quot;15-4020&quot;\r\n        },\r\n        {\r\n        id: 2,\r\n        name: &quot;fuchsia rose&quot;,\r\n        year: 2001,\r\n        color: &quot;#C74375&quot;,\r\n        pantone_value: &quot;17-2031&quot;\r\n        },\r\n        ...","title":"Check that each Color field has a color value (format string &quot;#FFFFFF&quot;)","body":"<p>I have task: &quot;Check that each Color field has a color value (format string &quot;#FFFFFF&quot;)&quot;.</p>\n<p>I have a solution:</p>\n<pre><code>@Test\npublic void sixTest() {\n    Specification.installSpec(Specification.requestSpec(), Specification.responseSpec());\n    Response response = given()\n            .when()\n            .get(&quot;https://reqres.in/api/unknown&quot;)\n            .then()\n            .log().all()\n            .extract().response();\n\n    ResponseBody body = response.getBody();\n    String bodyAsString = body.asString();\n    Assert.assertEquals(bodyAsString.contains(&quot;#&quot;), true, &quot;Response body contains #&quot;);\n\n}\n</code></pre>\n<p>I think I solved the problem incorrectly is there a more suitable solution?</p>\n<p>Additional information: The URL <a href=\"https://reqres.in/api/unknown\" rel=\"nofollow noreferrer\">https://reqres.in/api/unknown</a> is public and returns e.g.</p>\n<pre><code>{\n    page: 1,\n    per_page: 6,\n    total: 12,\n    total_pages: 2,\n    data: [\n    {\n    id: 1,\n    name: &quot;cerulean&quot;,\n    year: 2000,\n    color: &quot;#98B2D1&quot;,\n    pantone_value: &quot;15-4020&quot;\n    },\n    {\n    id: 2,\n    name: &quot;fuchsia rose&quot;,\n    year: 2001,\n    color: &quot;#C74375&quot;,\n    pantone_value: &quot;17-2031&quot;\n    },\n    ...\n</code></pre>\n"},{"tags":["java","configuration"],"comments":[{"owner":{"account_id":265406,"reputation":3155,"user_id":552347,"display_name":"Ravi Bhatt"},"score":0,"creation_date":1324463570,"post_id":8588357,"comment_id":10652179,"body_markdown":"are files a must for this config? how about a database?","body":"are files a must for this config? how about a database?"},{"owner":{"account_id":937545,"reputation":7036,"user_id":966196,"accept_rate":76,"display_name":"Zohaib"},"score":1,"creation_date":1324463578,"post_id":8588357,"comment_id":10652183,"body_markdown":"Since you will have to read the file, why not read file line by line and keep on writing that line to the new file. and when port comes, you know to write the changed value.","body":"Since you will have to read the file, why not read file line by line and keep on writing that line to the new file. and when port comes, you know to write the changed value."},{"owner":{"account_id":242656,"reputation":26086,"user_id":514316,"accept_rate":80,"display_name":"TheOneTeam"},"score":0,"creation_date":1324463715,"post_id":8588357,"comment_id":10652236,"body_markdown":"yup, that&#39;s make me so frustrated..","body":"yup, that&#39;s make me so frustrated.."},{"owner":{"account_id":242656,"reputation":26086,"user_id":514316,"accept_rate":80,"display_name":"TheOneTeam"},"score":0,"creation_date":1324463767,"post_id":8588357,"comment_id":10652254,"body_markdown":"@Zohaib: not so understand, can u describe more?","body":"@Zohaib: not so understand, can u describe more?"}],"answers":[{"tags":[],"owner":{"account_id":331577,"reputation":735,"user_id":656350,"accept_rate":80,"display_name":"charlemagne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324463683,"creation_date":1324463683,"answer_id":8588442,"question_id":8588357,"body_markdown":"My suggestion would be to read the entire config file into memory (maybe into a list of (attribute:value) pair objects), do whatever processing you need to do (and consequently make any changes), then overwrite the original file with all the changes you have made.\r\n\r\nFor example, you could read the config file you have provided by line, use `String.split(&quot;=&quot;)` to separate the attribute:value pairs - making sure to name each pair read accordingly. Then make whatever changes you need, iterate over the pairs you have read in (and possibly modified), writing them back out to the file.\r\n\r\nOf course, this approach would work best if you had a relatively small number of lines in your config file, that you can definitely know the format for.","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>My suggestion would be to read the entire config file into memory (maybe into a list of (attribute:value) pair objects), do whatever processing you need to do (and consequently make any changes), then overwrite the original file with all the changes you have made.</p>\n\n<p>For example, you could read the config file you have provided by line, use <code>String.split(\"=\")</code> to separate the attribute:value pairs - making sure to name each pair read accordingly. Then make whatever changes you need, iterate over the pairs you have read in (and possibly modified), writing them back out to the file.</p>\n\n<p>Of course, this approach would work best if you had a relatively small number of lines in your config file, that you can definitely know the format for.</p>\n"},{"tags":[],"owner":{"account_id":1060224,"reputation":4167,"user_id":1062015,"accept_rate":81,"display_name":"Jaco Van Niekerk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324463891,"creation_date":1324463891,"answer_id":8588486,"question_id":8588357,"body_markdown":"Use the Properties class to load/save configuration.  Then simply set the value and save it again.\r\n\r\n    Properties p = new Properties();\r\n    p.load(...);\r\n    p.put(&quot;key&quot;, &quot;value&quot;);\r\n    p.save(...)\r\n\r\nIt&#39;s easy and straightforward.\r\n\r\nAs a side, if your application is a single application that does not need to scale to run on multiple computers, do not bother to use a database to save config.  It is utter overkill.  However, if you application needs real time config changes and needs to scale, [Redis ][1] works pretty well to distribute config and handle the synchronization for you.  I have used it for this purpose with great success.   \r\n\r\n\r\n  [1]: http://www.redis.io","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>Use the Properties class to load/save configuration.  Then simply set the value and save it again.</p>\n\n<pre><code>Properties p = new Properties();\np.load(...);\np.put(\"key\", \"value\");\np.save(...)\n</code></pre>\n\n<p>It's easy and straightforward.</p>\n\n<p>As a side, if your application is a single application that does not need to scale to run on multiple computers, do not bother to use a database to save config.  It is utter overkill.  However, if you application needs real time config changes and needs to scale, <a href=\"http://www.redis.io\" rel=\"nofollow\">Redis </a> works pretty well to distribute config and handle the synchronization for you.  I have used it for this purpose with great success.   </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1347886659,"creation_date":1324464047,"answer_id":8588518,"question_id":8588357,"body_markdown":"If you want something short you can use this.\r\n\r\n    public static void changeProperty(String filename, String key, String value) throws IOException {\r\n       Properties prop =new Properties();\r\n       prop.load(new FileInputStream(filename));\r\n       prop.setProperty(key, value);\r\n       prop.store(new FileOutputStream(filename),null);\r\n    }\r\n\r\nUnfortunately it doesn&#39;t preserve the order or fields or any comments.\r\n\r\nIf you want to preserve order, reading a line at a time isn&#39;t so bad.\r\n\r\n---\r\n\r\nThis untested code would keep comments, blank lines and order.  It won&#39;t handle multi-line values.\r\n\r\n    public static void changeProperty(String filename, String key, String value) throws IOException {\r\n        final File tmpFile = new File(filename + &quot;.tmp&quot;);\r\n        final File file = new File(filename);\r\n        PrintWriter pw = new PrintWriter(tmpFile);\r\n        BufferedReader br = new BufferedReader(new FileReader(file));\r\n        boolean found = false;\r\n        final String toAdd = key + &#39;=&#39; + value;\r\n        for (String line; (line = br.readLine()) != null; ) {\r\n            if (line.startsWith(key + &#39;=&#39;)) {\r\n                line = toAdd;\r\n                found = true;\r\n            }\r\n            pw.println(line);\r\n        }\r\n        if (!found)\r\n            pw.println(toAdd);\r\n        br.close();\r\n        pw.close();\r\n        tmpFile.renameTo(file);\r\n    }\r\n","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>If you want something short you can use this.</p>\n\n<pre><code>public static void changeProperty(String filename, String key, String value) throws IOException {\n   Properties prop =new Properties();\n   prop.load(new FileInputStream(filename));\n   prop.setProperty(key, value);\n   prop.store(new FileOutputStream(filename),null);\n}\n</code></pre>\n\n<p>Unfortunately it doesn't preserve the order or fields or any comments.</p>\n\n<p>If you want to preserve order, reading a line at a time isn't so bad.</p>\n\n<hr>\n\n<p>This untested code would keep comments, blank lines and order.  It won't handle multi-line values.</p>\n\n<pre><code>public static void changeProperty(String filename, String key, String value) throws IOException {\n    final File tmpFile = new File(filename + \".tmp\");\n    final File file = new File(filename);\n    PrintWriter pw = new PrintWriter(tmpFile);\n    BufferedReader br = new BufferedReader(new FileReader(file));\n    boolean found = false;\n    final String toAdd = key + '=' + value;\n    for (String line; (line = br.readLine()) != null; ) {\n        if (line.startsWith(key + '=')) {\n            line = toAdd;\n            found = true;\n        }\n        pw.println(line);\n    }\n    if (!found)\n        pw.println(toAdd);\n    br.close();\n    pw.close();\n    tmpFile.renameTo(file);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324464124,"creation_date":1324464124,"answer_id":8588530,"question_id":8588357,"body_markdown":"Consider using [java.util.Properties][1] and it&#39;s load() and store() methods.\r\nBut remember that this would not preserve comments and extra line breaks in the file.\r\nAlso certain chars need to be escaped.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>Consider using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\" rel=\"nofollow\">java.util.Properties</a> and it's load() and store() methods.\nBut remember that this would not preserve comments and extra line breaks in the file.\nAlso certain chars need to be escaped.</p>\n"},{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324464223,"creation_date":1324464223,"answer_id":8588550,"question_id":8588357,"body_markdown":"If you are open to use third party libraries, explore http://commons.apache.org/configuration/.  It supports configurations in multiple format.  Comments will be preserved as well. (Except for a minor bug -- https://stackoverflow.com/questions/6347749/apache-commons-config-propertiesconfiguration-comments-after-last-property-is-l)\r\n","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>If you are open to use third party libraries, explore <a href=\"http://commons.apache.org/configuration/\" rel=\"nofollow noreferrer\">http://commons.apache.org/configuration/</a>.  It supports configurations in multiple format.  Comments will be preserved as well. (Except for a minor bug -- <a href=\"https://stackoverflow.com/questions/6347749/apache-commons-config-propertiesconfiguration-comments-after-last-property-is-l\">apache-commons-config PropertiesConfiguration: comments after last property is lost</a>)</p>\n"},{"tags":[],"owner":{"account_id":24138365,"reputation":11,"user_id":18104924,"display_name":"Jose Luis Tato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652142804,"creation_date":1652142410,"answer_id":72179496,"question_id":8588357,"body_markdown":"this code work for me.\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.Properties;\r\n\r\n\tpublic void setProperties( String key, String value) throws IOException {\r\n\t\t\r\n\t\tProperties prop = new Properties();\r\n\t\tFileInputStream ip;\r\n\t\ttry {\r\n\t\t\tip = new FileInputStream(&quot;config.txt&quot;);\r\n\t\t\tprop.load(ip);\r\n\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\t\t\r\n\t\tprop.setProperty(key, value);\r\n\t\t\r\n\t\tPrintWriter pw = new PrintWriter(&quot;config.txt&quot;);\r\n\t\t\r\n\t\tprop.store(pw, null);\r\n \r\n\t}","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>this code work for me.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Properties;\n\npublic void setProperties( String key, String value) throws IOException {\n    \n    Properties prop = new Properties();\n    FileInputStream ip;\n    try {\n        ip = new FileInputStream(&quot;config.txt&quot;);\n        prop.load(ip);\n        \n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } \n    \n    prop.setProperty(key, value);\n    \n    PrintWriter pw = new PrintWriter(&quot;config.txt&quot;);\n    \n    prop.store(pw, null);\n\n}\n</code></pre>\n"}],"owner":{"account_id":242656,"reputation":26086,"user_id":514316,"accept_rate":80,"display_name":"TheOneTeam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8588518,"answer_count":6,"score":1,"last_activity_date":1652142804,"creation_date":1324463297,"question_id":8588357,"body_markdown":"I have a config file, named config.txt, look like this.\r\n\r\n    IP=192.168.1.145\r\n    PORT=10022\r\n    URL=http://www.stackoverflow.com\r\n\r\n\r\nI wanna change some value of the config file in Java, say the port to 10045. How can I achieve easily?\r\n\r\n    IP=192.168.1.145\r\n    PORT=10045\r\n    URL=http://www.stackoverflow.com\r\n\r\nIn my trial, i need to write lots of code to read every line, to find the PORT, delete the original 10022, and then rewrite 10045. my code is dummy and hard to read. Is there any convenient way in java?\r\n\r\nThanks a lot !","title":"Java: How to I change the configuration file value in Java easily?","body":"<p>I have a config file, named config.txt, look like this.</p>\n\n<pre><code>IP=192.168.1.145\nPORT=10022\nURL=http://www.stackoverflow.com\n</code></pre>\n\n<p>I wanna change some value of the config file in Java, say the port to 10045. How can I achieve easily?</p>\n\n<pre><code>IP=192.168.1.145\nPORT=10045\nURL=http://www.stackoverflow.com\n</code></pre>\n\n<p>In my trial, i need to write lots of code to read every line, to find the PORT, delete the original 10022, and then rewrite 10045. my code is dummy and hard to read. Is there any convenient way in java?</p>\n\n<p>Thanks a lot !</p>\n"},{"tags":["java","android","api","get","retrofit"],"answers":[{"tags":[],"owner":{"account_id":6722862,"reputation":1,"user_id":5182120,"display_name":"Sohaib Alomari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652142791,"creation_date":1652142791,"answer_id":72179525,"question_id":71441184,"body_markdown":"make sure you are using Retrofit2 in your @GET Imports (maybe you are using the wrong @Get)\r\n","title":"java.lang.IllegalArgumentException: HTTP method annotation is required (e.g., @GET, @POST, etc.).Error when trying call apiInterface GET request","body":"<p>make sure you are using Retrofit2 in your @GET Imports (maybe you are using the wrong @Get)</p>\n"}],"owner":{"account_id":22262589,"reputation":57,"user_id":16493824,"display_name":"user16493824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652142791,"creation_date":1647013929,"question_id":71441184,"body_markdown":"I get error when trying to call API interface get request. I am trying to pass a value through GET method. But I get this error in logcat `  Caused by: java.lang.IllegalArgumentException: HTTP method annotation is required (e.g., @GET, @POST, etc.).\r\n        for method ApiInterface.name`\r\n\r\nHere is my java code. Here I call the function namely `getname()`to pass a string value through GET request. Here I also have one more function `getdata()`  which display output in the recyclerview. \r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    RecyclerView recyclerView;\r\n    ListAdapter1 listAdapter;\r\n//    List&lt;SupermarketModels&gt; supermarketModelsList = new ArrayList&lt;&gt;();\r\n    ApiInterface apiInterface;\r\n    String hi;\r\n    Button badd;\r\n\r\n    EmptyAdapterl emptyAdapter = new EmptyAdapterl();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        badd=findViewById(R.id.btadd);\r\n\r\n        badd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent= new Intent(MainActivity.this,Insert.class);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        String tablen= getIntent().getStringExtra(&quot;name&quot;);\r\n\r\n\r\n\r\n//        supermarketModelsList.add(new SupermarketModels(1,&quot;sugar cane&quot;,&quot;20kg&quot;,\r\n//                &quot;50rs&quot;,&quot;31/12/2021&quot;));\r\n//\r\n//        supermarketModelsList.add(new SupermarketModels(2,&quot;sugar cane&quot;,&quot;20kg&quot;,\r\n//                &quot;50rs&quot;,&quot;31/12/2021&quot;));\r\n//        supermarketModelsList.add(new SupermarketModels(3 ,&quot;sugar cane&quot;,&quot;20kg&quot;,\r\n//                &quot;50rs&quot;,&quot;31/12/2021&quot;));\r\n        initialization();\r\n\r\n\r\n        hi=tablen;\r\n\r\n        Toast.makeText(MainActivity.this,&quot;oo&quot;+hi,Toast.LENGTH_SHORT).show();\r\n\r\n        getname(hi);\r\n\r\n\r\n\r\n\r\n//        recyclerView.setAdapter(emptyAdapter);\r\n\r\n\r\n\r\n//        getdata();\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void initialization(){\r\n        recyclerView = findViewById(R.id.recyclerview1);\r\n        Retrofit retrofit = APIClient.getclient();\r\n        apiInterface = retrofit.create(ApiInterface.class);\r\n//        apiInterface = APIClient.getRetrofitInstance().create(ApiInterface.class);\r\n\r\n\r\n    }\r\n\r\n    private void setadapter(List&lt;SupermarketModels&gt; supermarketModels){\r\n\r\n\r\n        listAdapter = new ListAdapter1(this, supermarketModels,hi);\r\n\r\n//        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        @SuppressLint(&quot;WrongConstant&quot;)\r\n        RecyclerView.LayoutManager lm = new LinearLayoutManager(getApplicationContext(), LinearLayout.VERTICAL, false);\r\n        recyclerView.setLayoutManager(lm);\r\n\r\n//        linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n        recyclerView.setLayoutManager(lm);\r\n\r\n\r\n\r\n        recyclerView.setAdapter(listAdapter);\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void getname(String n) {\r\n\r\n        apiInterface.name(n).enqueue(new Callback&lt;DeleteResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;DeleteResponse&gt; call, Response&lt;DeleteResponse&gt; response) {\r\n\r\n                try {\r\n                    if (response.body().getStatus().equals(&quot;1&quot;)){\r\n                        Toast.makeText(MainActivity.this,&quot;Successfully inserted&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        Toast.makeText(MainActivity.this,&quot;Error while inserting&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                } catch (Exception e){\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;DeleteResponse&gt; call, Throwable t) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void getdata(){\r\n        apiInterface.getList().enqueue(new Callback&lt;GetListResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;GetListResponse&gt; call, Response&lt;GetListResponse&gt; response) {\r\n\r\n                try {\r\n                    if (response!= null){\r\n                        if (response.body().getStatus().equals(&quot;1&quot;)){\r\n\r\n//                            category_adapter category_adapter = new category_adapter(getContext(),datalist);\r\n\r\n\r\n\r\n                            setadapter(response.body().getData());\r\n\r\n\r\n                        }\r\n\r\n\r\n                        else {\r\n                            Toast.makeText(MainActivity.this, response.body().getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                } catch (Exception e){\r\n                    Log.e(&quot;exp&quot;, e.getLocalizedMessage());\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;GetListResponse&gt; call, Throwable t) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\n ```\r\n\r\n\r\n\r\n\r\nThis is my apiInterface class\r\n\r\n\r\n```\r\n\r\n public interface ApiInterface {\r\n\r\n    @GET(&quot;user-controller.php?operation=list&quot;)\r\n    Call&lt;GetListResponse&gt; getList();\r\n    Call&lt;DeleteResponse&gt; name(@Field(&quot;name&quot;) String name1);\r\n} \r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.IllegalArgumentException: HTTP method annotation is required (e.g., @GET, @POST, etc.).Error when trying call apiInterface GET request","body":"<p>I get error when trying to call API interface get request. I am trying to pass a value through GET method. But I get this error in logcat <code>  Caused by: java.lang.IllegalArgumentException: HTTP method annotation is required (e.g., @GET, @POST, etc.). for method ApiInterface.name</code></p>\n<p>Here is my java code. Here I call the function namely <code>getname()</code>to pass a string value through GET request. Here I also have one more function <code>getdata()</code>  which display output in the recyclerview.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n\n    RecyclerView recyclerView;\n    ListAdapter1 listAdapter;\n//    List&lt;SupermarketModels&gt; supermarketModelsList = new ArrayList&lt;&gt;();\n    ApiInterface apiInterface;\n    String hi;\n    Button badd;\n\n    EmptyAdapterl emptyAdapter = new EmptyAdapterl();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        badd=findViewById(R.id.btadd);\n\n        badd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent= new Intent(MainActivity.this,Insert.class);\n                startActivity(intent);\n\n            }\n        });\n\n\n\n\n        String tablen= getIntent().getStringExtra(&quot;name&quot;);\n\n\n\n//        supermarketModelsList.add(new SupermarketModels(1,&quot;sugar cane&quot;,&quot;20kg&quot;,\n//                &quot;50rs&quot;,&quot;31/12/2021&quot;));\n//\n//        supermarketModelsList.add(new SupermarketModels(2,&quot;sugar cane&quot;,&quot;20kg&quot;,\n//                &quot;50rs&quot;,&quot;31/12/2021&quot;));\n//        supermarketModelsList.add(new SupermarketModels(3 ,&quot;sugar cane&quot;,&quot;20kg&quot;,\n//                &quot;50rs&quot;,&quot;31/12/2021&quot;));\n        initialization();\n\n\n        hi=tablen;\n\n        Toast.makeText(MainActivity.this,&quot;oo&quot;+hi,Toast.LENGTH_SHORT).show();\n\n        getname(hi);\n\n\n\n\n//        recyclerView.setAdapter(emptyAdapter);\n\n\n\n//        getdata();\n\n\n\n\n    }\n\n    private void initialization(){\n        recyclerView = findViewById(R.id.recyclerview1);\n        Retrofit retrofit = APIClient.getclient();\n        apiInterface = retrofit.create(ApiInterface.class);\n//        apiInterface = APIClient.getRetrofitInstance().create(ApiInterface.class);\n\n\n    }\n\n    private void setadapter(List&lt;SupermarketModels&gt; supermarketModels){\n\n\n        listAdapter = new ListAdapter1(this, supermarketModels,hi);\n\n//        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n        @SuppressLint(&quot;WrongConstant&quot;)\n        RecyclerView.LayoutManager lm = new LinearLayoutManager(getApplicationContext(), LinearLayout.VERTICAL, false);\n        recyclerView.setLayoutManager(lm);\n\n//        linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n\n        recyclerView.setHasFixedSize(true);\n\n        recyclerView.setLayoutManager(lm);\n\n\n\n        recyclerView.setAdapter(listAdapter);\n\n\n\n\n\n    }\n\n    private void getname(String n) {\n\n        apiInterface.name(n).enqueue(new Callback&lt;DeleteResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;DeleteResponse&gt; call, Response&lt;DeleteResponse&gt; response) {\n\n                try {\n                    if (response.body().getStatus().equals(&quot;1&quot;)){\n                        Toast.makeText(MainActivity.this,&quot;Successfully inserted&quot;,Toast.LENGTH_SHORT).show();\n                    }\n                    else{\n                        Toast.makeText(MainActivity.this,&quot;Error while inserting&quot;,Toast.LENGTH_SHORT).show();\n                    }\n\n                } catch (Exception e){\n\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;DeleteResponse&gt; call, Throwable t) {\n\n            }\n        });\n\n\n\n\n    }\n\n    private void getdata(){\n        apiInterface.getList().enqueue(new Callback&lt;GetListResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;GetListResponse&gt; call, Response&lt;GetListResponse&gt; response) {\n\n                try {\n                    if (response!= null){\n                        if (response.body().getStatus().equals(&quot;1&quot;)){\n\n//                            category_adapter category_adapter = new category_adapter(getContext(),datalist);\n\n\n\n                            setadapter(response.body().getData());\n\n\n                        }\n\n\n                        else {\n                            Toast.makeText(MainActivity.this, response.body().getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                } catch (Exception e){\n                    Log.e(&quot;exp&quot;, e.getLocalizedMessage());\n\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;GetListResponse&gt; call, Throwable t) {\n\n            }\n        });\n\n    }\n}\n\n</code></pre>\n<p>This is my apiInterface class</p>\n<pre><code>\n public interface ApiInterface {\n\n    @GET(&quot;user-controller.php?operation=list&quot;)\n    Call&lt;GetListResponse&gt; getList();\n    Call&lt;DeleteResponse&gt; name(@Field(&quot;name&quot;) String name1);\n} \n\n</code></pre>\n"},{"tags":["java","maven","kotlin","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":16807192,"reputation":61,"user_id":13622541,"display_name":"Nickolay-Maryan Sokolovksy"},"score":0,"creation_date":1590521487,"post_id":62029932,"comment_id":109709748,"body_markdown":"Everything works fine, if I just remove Kotlin code, or if I remove moudle-info.java.","body":"Everything works fine, if I just remove Kotlin code, or if I remove moudle-info.java."},{"owner":{"account_id":16807192,"reputation":61,"user_id":13622541,"display_name":"Nickolay-Maryan Sokolovksy"},"score":0,"creation_date":1590522580,"post_id":62029932,"comment_id":109710248,"body_markdown":"When I change system JAVA_HOME variable to point on Java 11 installation folder, I have different error:\n\n\n\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.5.1:compile (java-compile) on project simple-kotlin-module: Compilation failure\n[ERROR] C:\\git\\simple-kotlin-module\\src\\main\\java\\module-info.java:[2,16] error: module not found: kotlin.stdlib","body":"When I change system JAVA_HOME variable to point on Java 11 installation folder, I have different error:    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.5.1:compile (java-compile) on project simple-kotlin-module: Compilation failure [ERROR] C:\\git\\simple-kotlin-module\\src\\main\\java\\module-info.java:[&zwnj;&#8203;2,16] error: module not found: kotlin.stdlib"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1590527137,"post_id":62029932,"comment_id":109712322,"body_markdown":"java platform modular system support started with maven-compiler-plugin 3.7.0, but you should use 3.8.1, because with that one you won&#39;t need to update every 6 months","body":"java platform modular system support started with maven-compiler-plugin 3.7.0, but you should use 3.8.1, because with that one you won&#39;t need to update every 6 months"}],"answers":[{"tags":[],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649831375,"creation_date":1649831375,"answer_id":71852832,"question_id":62029932,"body_markdown":"I have just had a similar problem. If you want modules in Kotlin, the solution is to avoid Java 9 modules and use Kotlin&#39;s own native module functionality! Here is the the documentation from the Kotlin team - https://kotlinlang.org/docs/visibility-modifiers.html#modules","title":"Kotlin + Java 9 modules (Java 11 in use) + maven","body":"<p>I have just had a similar problem. If you want modules in Kotlin, the solution is to avoid Java 9 modules and use Kotlin's own native module functionality! Here is the the documentation from the Kotlin team - <a href=\"https://kotlinlang.org/docs/visibility-modifiers.html#modules\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/visibility-modifiers.html#modules</a></p>\n"}],"owner":{"account_id":16807192,"reputation":61,"user_id":13622541,"display_name":"Nickolay-Maryan Sokolovksy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1652142650,"creation_date":1590521408,"question_id":62029932,"body_markdown":"I&#39;ve created a simple project with Java and Kotlin code, and I&#39;m trying to compile it as Java 9 module.\r\nHere is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;simple-kotlin-module&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;kotlin.version&gt;1.3.72&lt;/kotlin.version&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n\t\t\t&lt;classifier&gt;modular&lt;/classifier&gt; &lt;!-- FIXME: do we need this? --&gt;\r\n\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;compilerVersion&gt;${java.version}&lt;/compilerVersion&gt;\r\n\t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n\t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-testCompile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;java-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;java-test-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test-compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;test-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test-compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;jvmTarget&gt;11&lt;/jvmTarget&gt;\r\n\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-Xjvm-default=enable&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;toolchain&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;toolchains&gt;\r\n\t\t\t\t\t\t&lt;jdk&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;[${java.version},12)&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/jdk&gt;\r\n\t\t\t\t\t&lt;/toolchains&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nAnd here is my module-info.java:\r\n```\r\nmodule simple.kotlin.module {\r\n\trequires kotlin.stdlib;\r\n}\r\n```\r\nI&#39;m not presenting my code files -- they are as simple as possible, java one contains main method and depends on kotlin one.\r\n\r\nI&#39;m getting an exception:\r\n```\r\n[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.72:compile (compile) on project simple-kotlin-module: Compilation failure\r\n[ERROR] Module java.base cannot be found in the module graph\r\n```\r\n\r\nI&#39;m using maven 3.6.3, run with Java 1.8.0_211, so I have to use maven-toolchain-plugin to select java 11.","title":"Kotlin + Java 9 modules (Java 11 in use) + maven","body":"<p>I've created a simple project with Java and Kotlin code, and I'm trying to compile it as Java 9 module.\nHere is my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;simple-kotlin-module&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.3.72&lt;/kotlin.version&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n            &lt;classifier&gt;modular&lt;/classifier&gt; &lt;!-- FIXME: do we need this? --&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerVersion&gt;${java.version}&lt;/compilerVersion&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;11&lt;/jvmTarget&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjvm-default=enable&lt;/arg&gt;\n                    &lt;/args&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;toolchain&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;toolchains&gt;\n                        &lt;jdk&gt;\n                            &lt;version&gt;[${java.version},12)&lt;/version&gt;\n                        &lt;/jdk&gt;\n                    &lt;/toolchains&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And here is my module-info.java:</p>\n\n<pre><code>module simple.kotlin.module {\n    requires kotlin.stdlib;\n}\n</code></pre>\n\n<p>I'm not presenting my code files -- they are as simple as possible, java one contains main method and depends on kotlin one.</p>\n\n<p>I'm getting an exception:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.72:compile (compile) on project simple-kotlin-module: Compilation failure\n[ERROR] Module java.base cannot be found in the module graph\n</code></pre>\n\n<p>I'm using maven 3.6.3, run with Java 1.8.0_211, so I have to use maven-toolchain-plugin to select java 11.</p>\n"},{"tags":["java","maven","maven-3","aspectj-maven-plugin","maven-toolchains-plugin"],"owner":{"account_id":7768559,"reputation":236,"user_id":5878974,"accept_rate":0,"display_name":"Jon Betts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652142549,"creation_date":1503488477,"question_id":45838733,"body_markdown":"I recently upgraded to Maven 3.5 and Java 8 on my dev environment as I have upgraded my company&#39;s Maven-managed application from Java 6 to Java 8 on our &#39;master&#39; environment. Unfortunately I have run into difficulty using this setup against older versions of the application that are set to compile against Java 6, as Maven tries to compile against the version of Java it is currently running against (in my case Java 8). I have looked into using Maven Toolchains ([details here][1]), but this won&#39;t work because a couple of our Maven plugins are not &#39;toolchain aware&#39;, such as the AspectJ Maven plugin, which therefore tries to compile the project against Java 8 and thus I get compile errors. I think I will have to resort to running two Maven installations side-by-side and just switch between the two. But before I do that, does anybody know of any potential solution to such a problem?\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/mini/guide-using-toolchains.html","title":"Cannot compile Maven project against Java 6 when using AspectJ plugin","body":"<p>I recently upgraded to Maven 3.5 and Java 8 on my dev environment as I have upgraded my company's Maven-managed application from Java 6 to Java 8 on our 'master' environment. Unfortunately I have run into difficulty using this setup against older versions of the application that are set to compile against Java 6, as Maven tries to compile against the version of Java it is currently running against (in my case Java 8). I have looked into using Maven Toolchains (<a href=\"http://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">details here</a>), but this won't work because a couple of our Maven plugins are not 'toolchain aware', such as the AspectJ Maven plugin, which therefore tries to compile the project against Java 8 and thus I get compile errors. I think I will have to resort to running two Maven installations side-by-side and just switch between the two. But before I do that, does anybody know of any potential solution to such a problem?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1596760879,"post_id":63292471,"comment_id":111922070,"body_markdown":"This means, you run 64-bit JDK 8 (or earlier) on Windows, and the maximum heap size (-Xmx) is the exact multiple of 4 GiB.","body":"This means, you run 64-bit JDK 8 (or earlier) on Windows, and the maximum heap size (-Xmx) is the exact multiple of 4 GiB."},{"owner":{"account_id":3026775,"reputation":432,"user_id":2566603,"display_name":"kalelien"},"score":0,"creation_date":1596778914,"post_id":63292471,"comment_id":111925626,"body_markdown":"I just verified this by running `java -Xmx4g -XX:+PrintFlagsFinal -version` and could reproduce `MaxHeapSize := 0`. Can you elaborate on why this is the case?","body":"I just verified this by running <code>java -Xmx4g -XX:+PrintFlagsFinal -version</code> and could reproduce <code>MaxHeapSize := 0</code>. Can you elaborate on why this is the case?"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1596835911,"creation_date":1596835911,"answer_id":63309395,"question_id":63292471,"body_markdown":"This is a bug in JDK 8.\r\n\r\n`MaxHeapSize` is [defined](http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/741cd0f77fac/src/share/vm/runtime/globals.hpp#l3191) in HotSpot sources as `uintx`, which stands for 64-bit unsigned integer.\r\n\r\nIn JDK 8, the [format](http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/741cd0f77fac/src/share/vm/runtime/globals.cpp#l308) for printing `uintx` flag values is `&quot;%-16lu&quot;`, which treats input as `unsigned long`.\r\n\r\nHowever, the size of C++ `unsigned long` [differs](https://en.wikipedia.org/wiki/64-bit_computing#64-bit_data_models) on Windows and Unix:\r\n\r\n - Most Unix-like systems are LP64, where the size of `unsigned long` is 64 bit.\r\n - Visual C++ on Windows is LLP64, where the size of `unsigned long` is 32 bit.\r\n\r\nSo, JDK 8 on Windows prints only low 32 bits of `uintx` flags. That&#39;s why if `MaxHeapSize` is an exact multiple of 4 GiB, you&#39;ll see `uintx MaxHeapSize := 0`. This is just the printing error; the actual max heap size is correct.\r\n\r\nThe bug was fixed in JDK 9 as a part of [JDK-8042893](https://bugs.openjdk.java.net/browse/JDK-8042893) change:\r\n\r\n```\r\n     } else if (is_uintx()) {\r\n-      st-&gt;print(&quot;%-16lu&quot;, get_uintx());\r\n+      st-&gt;print(UINTX_FORMAT_W(-16), get_uintx());\r\n```","title":"JVM MaxHeapSize := 0 - what does this mean?","body":"<p>This is a bug in JDK 8.</p>\n<p><code>MaxHeapSize</code> is <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/741cd0f77fac/src/share/vm/runtime/globals.hpp#l3191\" rel=\"noreferrer\">defined</a> in HotSpot sources as <code>uintx</code>, which stands for 64-bit unsigned integer.</p>\n<p>In JDK 8, the <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/741cd0f77fac/src/share/vm/runtime/globals.cpp#l308\" rel=\"noreferrer\">format</a> for printing <code>uintx</code> flag values is <code>&quot;%-16lu&quot;</code>, which treats input as <code>unsigned long</code>.</p>\n<p>However, the size of C++ <code>unsigned long</code> <a href=\"https://en.wikipedia.org/wiki/64-bit_computing#64-bit_data_models\" rel=\"noreferrer\">differs</a> on Windows and Unix:</p>\n<ul>\n<li>Most Unix-like systems are LP64, where the size of <code>unsigned long</code> is 64 bit.</li>\n<li>Visual C++ on Windows is LLP64, where the size of <code>unsigned long</code> is 32 bit.</li>\n</ul>\n<p>So, JDK 8 on Windows prints only low 32 bits of <code>uintx</code> flags. That's why if <code>MaxHeapSize</code> is an exact multiple of 4 GiB, you'll see <code>uintx MaxHeapSize := 0</code>. This is just the printing error; the actual max heap size is correct.</p>\n<p>The bug was fixed in JDK 9 as a part of <a href=\"https://bugs.openjdk.java.net/browse/JDK-8042893\" rel=\"noreferrer\">JDK-8042893</a> change:</p>\n<pre><code>     } else if (is_uintx()) {\n-      st-&gt;print(&quot;%-16lu&quot;, get_uintx());\n+      st-&gt;print(UINTX_FORMAT_W(-16), get_uintx());\n</code></pre>\n"}],"owner":{"account_id":3026775,"reputation":432,"user_id":2566603,"display_name":"kalelien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63309395,"answer_count":1,"score":3,"last_activity_date":1652142372,"creation_date":1596751958,"question_id":63292471,"body_markdown":"I have seen other questions on here like: https://stackoverflow.com/questions/4667483/how-is-the-default-max-java-heap-size-determined and https://stackoverflow.com/questions/26631498/understanding-java-heap \r\n\r\nI run the command to see my heap size `java -XX:+PrintFlagsFinal -version` and I get the output for MaxHeapSize:\r\n \r\n`uintx MaxHeapSize                              := 0                                   {product}` \r\n\r\nWhat does this mean? ","title":"JVM MaxHeapSize := 0 - what does this mean?","body":"<p>I have seen other questions on here like: <a href=\"https://stackoverflow.com/questions/4667483/how-is-the-default-max-java-heap-size-determined\">How is the default max Java heap size determined?</a> and <a href=\"https://stackoverflow.com/questions/26631498/understanding-java-heap\">Understanding java heap</a></p>\n<p>I run the command to see my heap size <code>java -XX:+PrintFlagsFinal -version</code> and I get the output for MaxHeapSize:</p>\n<p><code>uintx MaxHeapSize                              := 0                                   {product}</code></p>\n<p>What does this mean?</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":5294399,"reputation":416,"user_id":5356775,"display_name":"DarkSigma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652136225,"creation_date":1652134434,"answer_id":72178724,"question_id":72178674,"body_markdown":"Regex\r\n\r\n    [^/]+\\.gif\r\n\r\nOne or many characters that are not forward slash, followed by the literal &quot;.gif&quot;\r\n\r\nThis site offers interactive tutorials to learn regex\r\nhttps://regexone.com/lesson/introduction_abcs\r\n\r\nIf this is not what you are looking for or you would like to know more, please comment on this answer or add to your question.","title":"Parse string for specific substring?","body":"<p>Regex</p>\n<pre><code>[^/]+\\.gif\n</code></pre>\n<p>One or many characters that are not forward slash, followed by the literal &quot;.gif&quot;</p>\n<p>This site offers interactive tutorials to learn regex\n<a href=\"https://regexone.com/lesson/introduction_abcs\" rel=\"nofollow noreferrer\">https://regexone.com/lesson/introduction_abcs</a></p>\n<p>If this is not what you are looking for or you would like to know more, please comment on this answer or add to your question.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652142352,"creation_date":1652142352,"answer_id":72179493,"question_id":72178674,"body_markdown":"For the String provided:\r\n\r\n    String a = &quot;something.other.com - - [01/Jul/1995:00:00:12 -0400] \\&quot;GET /images/logosmall.gif HTTP/1.0\\&quot; 304 0&quot;;\r\n    String imageFile = a.replaceAll(&quot;.(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;, &quot;&quot;).replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;\\\\s+&quot;)[1].replaceAll(&quot;/.*/&quot;, &quot;&quot;);\r\n    String status = a.split(&quot;\\&quot;\\\\s*&quot;)[2].split(&quot;\\\\s+&quot;)[0];\r\n\r\n    System.out.println(&quot;File Name:   -&gt; &quot; + imageFile);\r\n    System.out.println(&quot;HTTP Status: -&gt; &quot; + status);\r\n\r\nFor an explanation of the regular expressions used, copy/paste each one (without the outer quotation marks) into [regex101.com](https://regex101.com/r/YpG7wJ/1).\r\n\r\nThe Console Window will display:\r\n\r\n```\r\nFile Name:   -&gt; logosmall.gif\r\nHTTP Status: -&gt; 304\r\n```","title":"Parse string for specific substring?","body":"<p>For the String provided:</p>\n<pre><code>String a = &quot;something.other.com - - [01/Jul/1995:00:00:12 -0400] \\&quot;GET /images/logosmall.gif HTTP/1.0\\&quot; 304 0&quot;;\nString imageFile = a.replaceAll(&quot;.(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;, &quot;&quot;).replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;\\\\s+&quot;)[1].replaceAll(&quot;/.*/&quot;, &quot;&quot;);\nString status = a.split(&quot;\\&quot;\\\\s*&quot;)[2].split(&quot;\\\\s+&quot;)[0];\n\nSystem.out.println(&quot;File Name:   -&gt; &quot; + imageFile);\nSystem.out.println(&quot;HTTP Status: -&gt; &quot; + status);\n</code></pre>\n<p>For an explanation of the regular expressions used, copy/paste each one (without the outer quotation marks) into <a href=\"https://regex101.com/r/YpG7wJ/1\" rel=\"nofollow noreferrer\">regex101.com</a>.</p>\n<p>The Console Window will display:</p>\n<pre><code>File Name:   -&gt; logosmall.gif\nHTTP Status: -&gt; 304\n</code></pre>\n"}],"owner":{"account_id":22458183,"reputation":29,"user_id":16660552,"display_name":"leftnut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1652142352,"creation_date":1652134006,"question_id":72178674,"body_markdown":"I have a file with n amount of strings like this:\r\n\r\n    something.other.com - - [01/Jul/1995:00:00:12 -0400] &quot;GET /images/logosmall.gif HTTP/1.0&quot; 304 0  \r\n\r\nI need to parse *.gif and HTTP status only - 304 \r\n\r\nMy approach is either first split the string into string arrays and look at the exact index. 6 for the path, 8 for status code. Then search 6 for .gif and copy the point from the last /. Or simply search for .gif in the whole string, make a new subtring from the begininng until the .gif then get substring from the last / \r\nIt&#39;s not clean.\r\nIs there a regex expression for something like /*.gif that&#39;ll pick up logosmall.gif?\r\n\r\n","title":"Parse string for specific substring?","body":"<p>I have a file with n amount of strings like this:</p>\n<pre><code>something.other.com - - [01/Jul/1995:00:00:12 -0400] &quot;GET /images/logosmall.gif HTTP/1.0&quot; 304 0  \n</code></pre>\n<p>I need to parse *.gif and HTTP status only - 304</p>\n<p>My approach is either first split the string into string arrays and look at the exact index. 6 for the path, 8 for status code. Then search 6 for .gif and copy the point from the last /. Or simply search for .gif in the whole string, make a new subtring from the begininng until the .gif then get substring from the last /\nIt's not clean.\nIs there a regex expression for something like /*.gif that'll pick up logosmall.gif?</p>\n"},{"tags":["java","arrays","for-loop","stack"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1651979353,"post_id":72157744,"comment_id":127493293,"body_markdown":"you could try nested for loops, with each outer iteration decreasing len by 1","body":"you could try nested for loops, with each outer iteration decreasing len by 1"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651990685,"creation_date":1651979535,"answer_id":72157786,"question_id":72157744,"body_markdown":"You can use nested `for` loop.\r\n\r\nThe variable of the inner loop points to a particular character. And the variable defined in the outer loop denotes the number of characters that need to be skipped in the current row.\r\n\r\nStatement `System.out.println()` is executed after each inner loop and advances the output to the next line.\r\n\r\n    public static void main(String[] args) {\r\n        char word[] = {&#39;L&#39;, &#39;O&#39;, &#39;N&#39;, &#39;E&#39;, &#39;L&#39;, &#39;Y&#39;};\r\n        int len = word.length;\r\n        \r\n        for (int i = 0; i &lt; len; i++) {\r\n            for (int j = 0; j &lt; len - i; j++) {\r\n                System.out.print(word[j]); // printing a row\r\n            }\r\n            System.out.println(); // advancing output to the next line\r\n        }\r\n    }\r\n_____________________________\r\n\r\nBut if your challenge implies that you are expected to create an implementation of the stack data structure that will be backed by the character array, that a bit more complicated task.\r\n\r\nThe code below is meant to provide the general idea on how to it.\r\n\r\nThere are three important methods that have to be present in the implementation of stack:\r\n* `push()` - adds new element (*in the method body I&#39;ve provided the instructions but left out this implementation, so that you&#39;re given a chance to obtain a hands-on experience*);\r\n* `pop()` -  removes the element from the top of the stack and returning it;\r\n* `peek()` - returns the element from top of the stack without removing it.\r\n\r\nAlso, I added implementations of `isEmpty()` and `print()` methods that could be used to check whether the stack is empty and to print its contents, as their names suggest.\r\n```\r\nclass CharacterStack {\r\n    private char[] letters;\r\n    private int pos = -1;\r\n    \r\n    public CharacterStack(int size) {  // size is passed as an argument\r\n        this.letters = new char[size]; // creating an empty array of characters\r\n    }\r\n    \r\n    public CharacterStack(char[] letters) { // array of characters is passed as an argument\r\n        this.letters = letters;\r\n        this.pos = letters.length - 1; // position at the top of the stack - the greatest valid index of the array\r\n    }\r\n    \r\n    public void push(char letter) {\r\n        /* to do:\r\n          1. check the length of the array\r\n          2. if current position doesn&#39;t fit in to it create a new array with greater length\r\n          3. copy the contents of the previous array into a new array\r\n          4. re-assign the variable `letters` to be a newly created array\r\n         */\r\n    }\r\n    \r\n    public char pop() { // removing the element from the top of the stack and returning it\r\n//        return letters[pos--]; a concise equivalent of the lines below\r\n        \r\n        char result = letters[pos];\r\n        pos--;\r\n        return result;\r\n    }\r\n    \r\n    public char peek() { // returning the element from the top of the stack without removing it\r\n        return letters[pos];\r\n    }\r\n    \r\n    public boolean isEmpty() {\r\n        return pos == -1;\r\n    }\r\n    \r\n    public void print() {\r\n        for (int i = 0; i &lt;= pos; i++) {\r\n            System.out.print(letters[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        char[] word = {&#39;L&#39;, &#39;O&#39;, &#39;N&#39;, &#39;E&#39;, &#39;L&#39;, &#39;Y&#39;};\r\n        int len = word.length;\r\n        CharacterStack stack = new CharacterStack(word);\r\n        \r\n        while (!stack.isEmpty()) {\r\n            stack.print();        // printing the contents of the stack\r\n    \r\n            System.out.println(); // advancing output to the next row\r\n            stack.pop();          // removing the element from the top of the stack\r\n        }\r\n    }\r\n\r\n*Output*\r\n```\r\nLONELY\r\nLONEL\r\nLONE\r\nLON\r\nLO\r\nL\r\n```","title":"How to display the Word in a Loop removing the last letter at each iteration","body":"<p>You can use nested <code>for</code> loop.</p>\n<p>The variable of the inner loop points to a particular character. And the variable defined in the outer loop denotes the number of characters that need to be skipped in the current row.</p>\n<p>Statement <code>System.out.println()</code> is executed after each inner loop and advances the output to the next line.</p>\n<pre><code>public static void main(String[] args) {\n    char word[] = {'L', 'O', 'N', 'E', 'L', 'Y'};\n    int len = word.length;\n    \n    for (int i = 0; i &lt; len; i++) {\n        for (int j = 0; j &lt; len - i; j++) {\n            System.out.print(word[j]); // printing a row\n        }\n        System.out.println(); // advancing output to the next line\n    }\n}\n</code></pre>\n<hr />\n<p>But if your challenge implies that you are expected to create an implementation of the stack data structure that will be backed by the character array, that a bit more complicated task.</p>\n<p>The code below is meant to provide the general idea on how to it.</p>\n<p>There are three important methods that have to be present in the implementation of stack:</p>\n<ul>\n<li><code>push()</code> - adds new element (<em>in the method body I've provided the instructions but left out this implementation, so that you're given a chance to obtain a hands-on experience</em>);</li>\n<li><code>pop()</code> -  removes the element from the top of the stack and returning it;</li>\n<li><code>peek()</code> - returns the element from top of the stack without removing it.</li>\n</ul>\n<p>Also, I added implementations of <code>isEmpty()</code> and <code>print()</code> methods that could be used to check whether the stack is empty and to print its contents, as their names suggest.</p>\n<pre><code>class CharacterStack {\n    private char[] letters;\n    private int pos = -1;\n    \n    public CharacterStack(int size) {  // size is passed as an argument\n        this.letters = new char[size]; // creating an empty array of characters\n    }\n    \n    public CharacterStack(char[] letters) { // array of characters is passed as an argument\n        this.letters = letters;\n        this.pos = letters.length - 1; // position at the top of the stack - the greatest valid index of the array\n    }\n    \n    public void push(char letter) {\n        /* to do:\n          1. check the length of the array\n          2. if current position doesn't fit in to it create a new array with greater length\n          3. copy the contents of the previous array into a new array\n          4. re-assign the variable `letters` to be a newly created array\n         */\n    }\n    \n    public char pop() { // removing the element from the top of the stack and returning it\n//        return letters[pos--]; a concise equivalent of the lines below\n        \n        char result = letters[pos];\n        pos--;\n        return result;\n    }\n    \n    public char peek() { // returning the element from the top of the stack without removing it\n        return letters[pos];\n    }\n    \n    public boolean isEmpty() {\n        return pos == -1;\n    }\n    \n    public void print() {\n        for (int i = 0; i &lt;= pos; i++) {\n            System.out.print(letters[i]);\n        }\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    char[] word = {'L', 'O', 'N', 'E', 'L', 'Y'};\n    int len = word.length;\n    CharacterStack stack = new CharacterStack(word);\n    \n    while (!stack.isEmpty()) {\n        stack.print();        // printing the contents of the stack\n\n        System.out.println(); // advancing output to the next row\n        stack.pop();          // removing the element from the top of the stack\n    }\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>LONELY\nLONEL\nLONE\nLON\nLO\nL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652142189,"creation_date":1652142189,"answer_id":72179477,"question_id":72157744,"body_markdown":"The Java [`Stack` Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html) says (in part)\r\n\r\n&gt; A more complete and consistent set of LIFO stack operations is provided by the [`Deque`](https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html) interface and its implementations, which should be used in preference to this class. For example: \r\n&gt; `Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();`\r\n\r\nFor your case, I believe you want a `Deque&lt;Character&gt;`. Push all the values from the array into the `Deque` and then iterate the `Deque` in a nested loop. Something like,\r\n\r\n\tchar[] word = &quot;LONELY&quot;.toCharArray();\r\n\tDeque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\r\n\tfor (int i = 0; i &lt; word.length; i++) {\r\n\t\tstack.push(word[i]);\r\n\t}\r\n\twhile (!stack.isEmpty()) {\r\n\t\tIterator&lt;Character&gt; iter = stack.descendingIterator();\r\n\t\twhile (iter.hasNext()) {\r\n\t\t\tSystem.out.print(iter.next());\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tstack.pop();\r\n\t}\r\n\r\nWhich outputs (as requested)\r\n\r\n    LONELY\r\n    LONEL\r\n    LONE\r\n    LON\r\n    LO\r\n    L","title":"How to display the Word in a Loop removing the last letter at each iteration","body":"<p>The Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\"><code>Stack</code> Javadoc</a> says (in part)</p>\n<blockquote>\n<p>A more complete and consistent set of LIFO stack operations is provided by the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface and its implementations, which should be used in preference to this class. For example:\n<code>Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();</code></p>\n</blockquote>\n<p>For your case, I believe you want a <code>Deque&lt;Character&gt;</code>. Push all the values from the array into the <code>Deque</code> and then iterate the <code>Deque</code> in a nested loop. Something like,</p>\n<pre><code>char[] word = &quot;LONELY&quot;.toCharArray();\nDeque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\nfor (int i = 0; i &lt; word.length; i++) {\n    stack.push(word[i]);\n}\nwhile (!stack.isEmpty()) {\n    Iterator&lt;Character&gt; iter = stack.descendingIterator();\n    while (iter.hasNext()) {\n        System.out.print(iter.next());\n    }\n    System.out.println();\n    stack.pop();\n}\n</code></pre>\n<p>Which outputs (as requested)</p>\n<pre><code>LONELY\nLONEL\nLONE\nLON\nLO\nL\n</code></pre>\n"}],"owner":{"account_id":25230142,"reputation":5,"user_id":19065415,"display_name":"oppai09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72157786,"answer_count":2,"score":0,"last_activity_date":1652142189,"creation_date":1651978643,"question_id":72157744,"body_markdown":"Problem statement:\r\n\r\n&gt; Create a program that initializes a word in a character array (this\r\n&gt; becomes your stack) and displays the word removing the last letter on\r\n&gt; the stack.\r\n\r\nExample\r\n\r\n*Input:*\r\n```\r\nLONELY\r\n```\r\n*Output:*\r\n```\r\nLONELY\r\nLONEL\r\nLONE\r\nLON\r\nLO\r\nL\r\n```\r\nSo this is my code and I have only able to print the character on the array.\r\n\r\nBut I haven&#39;t come up of a solution to keep removing the last letter, just like how the output would show. \r\n\r\nAnd probably need it to be logical.\r\n```\r\npublic static void main(String[] args) {\r\n    char word[] = {&#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;C&#39;, &#39;K&#39;};\r\n    int len = word.length;\r\n        \r\n    for (int x = 0; x &lt; len; x++) {\r\n        System.out.print(word[x]);\r\n    }\r\n}\r\n```","title":"How to display the Word in a Loop removing the last letter at each iteration","body":"<p>Problem statement:</p>\n<blockquote>\n<p>Create a program that initializes a word in a character array (this\nbecomes your stack) and displays the word removing the last letter on\nthe stack.</p>\n</blockquote>\n<p>Example</p>\n<p><em>Input:</em></p>\n<pre><code>LONELY\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>LONELY\nLONEL\nLONE\nLON\nLO\nL\n</code></pre>\n<p>So this is my code and I have only able to print the character on the array.</p>\n<p>But I haven't come up of a solution to keep removing the last letter, just like how the output would show.</p>\n<p>And probably need it to be logical.</p>\n<pre><code>public static void main(String[] args) {\n    char word[] = {'S', 'T', 'U', 'C', 'K'};\n    int len = word.length;\n        \n    for (int x = 0; x &lt; len; x++) {\n        System.out.print(word[x]);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","arraylist","thread-safety"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1507327960,"post_id":46614481,"comment_id":80181288,"body_markdown":"Yes. Parallel streams do not require thread safety. Also, immutable objects are by nature thread-safe.","body":"Yes. Parallel streams do not require thread safety. Also, immutable objects are by nature thread-safe."}],"answers":[{"tags":[],"owner":{"account_id":3979810,"reputation":102,"user_id":3282006,"display_name":"mcfish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507327345,"creation_date":1507327345,"answer_id":46614527,"question_id":46614481,"body_markdown":"Thread safety is only a concern, as you stated when values can change between the threads. If the elements aren&#39;t being added or removed, the object remains the same and all threads can easily operate on it. This is the same for most objects in Java.\r\n\r\nYou may be able to get away with adding to an ArrayList across threads as seen [here][1] but I wouldn&#39;t bank on it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2715983/concurrent-threads-adding-to-arraylist-at-same-time-what-happens","title":"Is `ArrayList::get` thread-safe?","body":"<p>Thread safety is only a concern, as you stated when values can change between the threads. If the elements aren't being added or removed, the object remains the same and all threads can easily operate on it. This is the same for most objects in Java.</p>\n\n<p>You may be able to get away with adding to an ArrayList across threads as seen <a href=\"https://stackoverflow.com/questions/2715983/concurrent-threads-adding-to-arraylist-at-same-time-what-happens\">here</a> but I wouldn't bank on it.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507327918,"creation_date":1507327918,"answer_id":46614624,"question_id":46614481,"body_markdown":"No, `ArrayList.get()` is not inherently thread-safe just because it does not modify the `List`.  You still need something to create a happens-before relationship between each `get()` and each method invocation that *does* modify the list.\r\n\r\nSuppose, however, that you instantiate and populate the list first, and then perform multiple `get()`s, never modifying it again, or at least not until after some synchronization point following all the `get()`s.  You do not then need mutual synchronization between the various `get()`s, and you may be able to obtain cheap synchronization between the `get()`s and the end of the initialization phase.  This is effectively the situation you will have with an otherwise non-shared `List` that you provide as input to a parallel stream computation.","title":"Is `ArrayList::get` thread-safe?","body":"<p>No, <code>ArrayList.get()</code> is not inherently thread-safe just because it does not modify the <code>List</code>.  You still need something to create a happens-before relationship between each <code>get()</code> and each method invocation that <em>does</em> modify the list.</p>\n\n<p>Suppose, however, that you instantiate and populate the list first, and then perform multiple <code>get()</code>s, never modifying it again, or at least not until after some synchronization point following all the <code>get()</code>s.  You do not then need mutual synchronization between the various <code>get()</code>s, and you may be able to obtain cheap synchronization between the <code>get()</code>s and the end of the initialization phase.  This is effectively the situation you will have with an otherwise non-shared <code>List</code> that you provide as input to a parallel stream computation.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652142009,"creation_date":1507333691,"answer_id":46615309,"question_id":46614481,"body_markdown":"&gt; But if the `ArrayList` is not being modified is calling `ArrayList::get` thread-safe?\r\n\r\nNo it is not thread-safe.\r\n\r\nThe problems arise if you do something like the following:\r\n\r\n  1.  Thread A creates and populates list.\r\n  2.  Thread A passes reference to list to thread B (**without a *happens before* relationship**)\r\n  3.  Thread B calls `get` on the list.\r\n\r\nUnless there is a proper *happens before* chain between 1 and 3, thread B may see stale values ... occasionally ... on some platforms under certain work loads.\r\n\r\nThere are ways to address this.  For example, if thread A starts thread B after step 1, there will be a happens before.  Similarly, there will be happens before if A passes the list reference to B via properly synchronized setter / getter calls or a volatile variable.\r\n\r\nBut the bottom line is that (just) not changing the list is not sufficient to make it thread-safe.\r\n\r\n-------------------\r\n\r\n&gt; ... perhaps protected by a call to `Collections.unmodifiableList`\r\n\r\nThe creation of the `Collections.unmodifiableList` should provide the *happens before* relationship ... provided that you access the list via the wrapper not directly via `ArrayList::get`.\r\n\r\n-------------------\r\n\r\n&gt; For example, can an `ArrayList` be passed to a Java Stream for parallel-processing of its elements?\r\n\r\nThat&#39;s a specific situation.  The stream mechanisms will provide the *happens before* relationship.  *Provided they are used as intended.*  It is complicated.  \r\n\r\nThis comes from the `Spliterator` interface [javadoc][1].\r\n\r\n&gt; &quot;Despite their obvious utility in parallel algorithms, spliterators are not expected to be thread-safe; instead, implementations of parallel algorithms using spliterators should ensure that the spliterator is only used by one thread at a time. This is generally easy to attain via serial thread-confinement, which often is a natural consequence of typical parallel algorithms that work by recursive decomposition. A thread calling `trySplit()` may hand over the returned `Spliterator` to another thread, which in turn may traverse or further split that `Spliterator`. The behaviour of splitting and traversal is undefined if two or more threads operate concurrently on the same spliterator. If the original thread hands a spliterator off to another thread for processing, it is best if that handoff occurs before any elements are consumed with `tryAdvance()`, as certain guarantees (such as the accuracy of `estimateSize()` for SIZED spliterators) are only valid before traversal has begun.&quot;\r\n\r\nIn other words, thread safety is a joint responsibility of the `Spliterator` implementation and `Stream` implementation.\r\n\r\nThe simple way to think about this is that &quot;magic happens&quot; ... because if it didn&#39;t then parallel streams would be unusable.\r\n\r\nBut note that the `Spliterator` is not necessarily using `ArrayList::get` at all.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html","title":"Is `ArrayList::get` thread-safe?","body":"<blockquote>\n<p>But if the <code>ArrayList</code> is not being modified is calling <code>ArrayList::get</code> thread-safe?</p>\n</blockquote>\n<p>No it is not thread-safe.</p>\n<p>The problems arise if you do something like the following:</p>\n<ol>\n<li>Thread A creates and populates list.</li>\n<li>Thread A passes reference to list to thread B (<strong>without a <em>happens before</em> relationship</strong>)</li>\n<li>Thread B calls <code>get</code> on the list.</li>\n</ol>\n<p>Unless there is a proper <em>happens before</em> chain between 1 and 3, thread B may see stale values ... occasionally ... on some platforms under certain work loads.</p>\n<p>There are ways to address this.  For example, if thread A starts thread B after step 1, there will be a happens before.  Similarly, there will be happens before if A passes the list reference to B via properly synchronized setter / getter calls or a volatile variable.</p>\n<p>But the bottom line is that (just) not changing the list is not sufficient to make it thread-safe.</p>\n<hr />\n<blockquote>\n<p>... perhaps protected by a call to <code>Collections.unmodifiableList</code></p>\n</blockquote>\n<p>The creation of the <code>Collections.unmodifiableList</code> should provide the <em>happens before</em> relationship ... provided that you access the list via the wrapper not directly via <code>ArrayList::get</code>.</p>\n<hr />\n<blockquote>\n<p>For example, can an <code>ArrayList</code> be passed to a Java Stream for parallel-processing of its elements?</p>\n</blockquote>\n<p>That's a specific situation.  The stream mechanisms will provide the <em>happens before</em> relationship.  <em>Provided they are used as intended.</em>  It is complicated.</p>\n<p>This comes from the <code>Spliterator</code> interface <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<blockquote>\n<p>&quot;Despite their obvious utility in parallel algorithms, spliterators are not expected to be thread-safe; instead, implementations of parallel algorithms using spliterators should ensure that the spliterator is only used by one thread at a time. This is generally easy to attain via serial thread-confinement, which often is a natural consequence of typical parallel algorithms that work by recursive decomposition. A thread calling <code>trySplit()</code> may hand over the returned <code>Spliterator</code> to another thread, which in turn may traverse or further split that <code>Spliterator</code>. The behaviour of splitting and traversal is undefined if two or more threads operate concurrently on the same spliterator. If the original thread hands a spliterator off to another thread for processing, it is best if that handoff occurs before any elements are consumed with <code>tryAdvance()</code>, as certain guarantees (such as the accuracy of <code>estimateSize()</code> for SIZED spliterators) are only valid before traversal has begun.&quot;</p>\n</blockquote>\n<p>In other words, thread safety is a joint responsibility of the <code>Spliterator</code> implementation and <code>Stream</code> implementation.</p>\n<p>The simple way to think about this is that &quot;magic happens&quot; ... because if it didn't then parallel streams would be unusable.</p>\n<p>But note that the <code>Spliterator</code> is not necessarily using <code>ArrayList::get</code> at all.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2416,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1652142009,"creation_date":1507327109,"question_id":46614481,"body_markdown":"I understand that modifying an [`ArrayList`][1] makes it not [thread-safe][2]. \r\n\r\n➠ But if the `ArrayList` is *not* being modified, perhaps protected by a call to [`Collections.unmodifiableList`](http://download.java.net/java/jdk9/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-), is calling [`ArrayList::get`][3] thread-safe?\r\n\r\nFor example, can an `ArrayList` be passed to a [Java Stream][4] for parallel-processing of its elements?\r\n\r\n\r\n  [1]: http://download.java.net/java/jdk9/docs/api/java/util/ArrayList.html\r\n  [2]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [3]: http://download.java.net/java/jdk9/docs/api/java/util/ArrayList.html#get-int-\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html","title":"Is `ArrayList::get` thread-safe?","body":"<p>I understand that modifying an <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> makes it not <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safe</a>. </p>\n\n<p>➠ But if the <code>ArrayList</code> is <em>not</em> being modified, perhaps protected by a call to <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableList</code></a>, is calling <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/ArrayList.html#get-int-\" rel=\"nofollow noreferrer\"><code>ArrayList::get</code></a> thread-safe?</p>\n\n<p>For example, can an <code>ArrayList</code> be passed to a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Java Stream</a> for parallel-processing of its elements?</p>\n"},{"tags":["java","arraylist","java-8","java-stream"],"comments":[{"owner":{"account_id":5593781,"reputation":1739,"user_id":4788787,"accept_rate":64,"display_name":"Manu Joy"},"score":0,"creation_date":1434974651,"post_id":30977759,"comment_id":49989242,"body_markdown":"please consider the set operation (-)","body":"please consider the set operation (-)"}],"answers":[{"tags":[],"owner":{"account_id":3251604,"reputation":1437,"user_id":2741693,"accept_rate":100,"display_name":"Hiren"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1555264618,"creation_date":1434969595,"answer_id":30977850,"question_id":30977759,"body_markdown":"Try this:  \r\n\r\n    List&lt;Integer&gt; difference = new ArrayList&lt;&gt;(list1);\r\n    difference.removeAll(list2);\r\n    System.out.println(&quot;Remove: &quot; + difference); //3","title":"Minus operation in java 8 for subtracting Lists","body":"<p>Try this:  </p>\n\n<pre><code>List&lt;Integer&gt; difference = new ArrayList&lt;&gt;(list1);\ndifference.removeAll(list2);\nSystem.out.println(\"Remove: \" + difference); //3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1652141654,"creation_date":1434969703,"answer_id":30977892,"question_id":30977759,"body_markdown":"If you must use Streams:\r\n\r\n```java\r\nList&lt;Integer&gt; diff = list1.stream()\r\n  .filter(item -&gt; !list2.contains(item))\r\n  .collect(Collectors.toList());\r\n```","title":"Minus operation in java 8 for subtracting Lists","body":"<p>If you must use Streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; diff = list1.stream()\n  .filter(item -&gt; !list2.contains(item))\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5410100,"reputation":41,"user_id":4307199,"display_name":"Igal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555256308,"creation_date":1555253950,"answer_id":55676666,"question_id":30977759,"body_markdown":"Using Apache commons:\r\n\r\n    CollectionUtils.subtract(list1, list2);\r\nPros: Very readable. \r\nCons: No type safety \r\n\r\n \r\n\r\n","title":"Minus operation in java 8 for subtracting Lists","body":"<p>Using Apache commons:</p>\n\n<pre><code>CollectionUtils.subtract(list1, list2);\n</code></pre>\n\n<p>Pros: Very readable. \nCons: No type safety </p>\n"}],"owner":{"account_id":5593781,"reputation":1739,"user_id":4788787,"accept_rate":64,"display_name":"Manu Joy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24172,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":30977892,"answer_count":3,"score":11,"last_activity_date":1652141654,"creation_date":1434969317,"question_id":30977759,"body_markdown":"Suppose I have two lists:\r\n\r\n    List&lt;Integer&gt; list1 =  Arrays.asList(1, 2, 3);\r\n    List&lt;Integer&gt; list2 =  Arrays.asList(1, 2, 4, 5);\r\n\r\nNow I want to perform `(list1 - list2)`. The expected ouptut is `{3}`. How to do this using java 8 streams?","title":"Minus operation in java 8 for subtracting Lists","body":"<p>Suppose I have two lists:</p>\n\n<pre><code>List&lt;Integer&gt; list1 =  Arrays.asList(1, 2, 3);\nList&lt;Integer&gt; list2 =  Arrays.asList(1, 2, 4, 5);\n</code></pre>\n\n<p>Now I want to perform <code>(list1 - list2)</code>. The expected ouptut is <code>{3}</code>. How to do this using java 8 streams?</p>\n"},{"tags":["java","menu"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652138272,"post_id":72178837,"comment_id":127528926,"body_markdown":"`g = getGraphics();` - No.  See [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) for more information about how painting works in Swing and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for how you should work with it - this is going to be even more complicated by the fact that you&#39;ve extended directly from `JFrame`, which is a composite component (it has a number of child components displayed on top of it)","body":"<code>g = getGraphics();</code> - No.  See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> for more information about how painting works in Swing and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for how you should work with it - this is going to be even more complicated by the fact that you&#39;ve extended directly from <code>JFrame</code>, which is a composite component (it has a number of child components displayed on top of it)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652138325,"post_id":72178837,"comment_id":127528933,"body_markdown":"Don&#39;t use `KeyListener`s, they are notorious, instead make use of [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead","body":"Don&#39;t use <code>KeyListener</code>s, they are notorious, instead make use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> instead"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652141430,"creation_date":1652141430,"answer_id":72179410,"question_id":72178837,"body_markdown":"`g = getGraphics();` is not how custom painting works see [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) for more information about how painting works in Swing and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for how you should work with it.\r\n\r\nBecause you&#39;ve also extended from `JFrame` (which is generally considered a bad idea), you will end up with additional painting issues, as `JFrame` is a composite component (ie, it has other child components laid out on top of it)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*From [How to Use Root Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html)*\r\n\r\n`BufferedImage backBuffer;` is unnecessary if you use Swing correctly, as Swing is double buffered by default.\r\n\r\n`ImageIcon Fundo = new ImageIcon(&quot;src/Imagens/fundo.jpg&quot;);` is going to cause you no end of issues when you export the project, as `src` won&#39;t exist.  Never reference `src` within your code.\r\n\r\n`ImageIcon` is also a poor choice, as it will fail silently, instead, prefer [`ImageIO.read`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) instead.\r\n\r\nSince the image is stored within the context of the source files, this will become an &quot;embedded resource&quot;, meaning you can no longer reference it as a file (which is another issue with using `ImageIcon` the way you are), instead, you will need to use `Class#getResource`\r\n\r\nHowever, because `ImageIO.read` does throw an exception, you&#39;ll have to load the image within the constructor (or some other method), for example...\r\n\r\n    private BufferedImage fundo;\r\n\r\n    public Game() throws IOException {\r\n        fundo = ImageIO.read(getClass().getResource(&quot;/Imagens/fundo.jpg&quot;));\r\n\r\n\r\nSo, for a simple menu, you don&#39;t need a run loop, you&#39;re really not doing that much work, just let the system do it for you.\r\n\r\nYou should take the time to also have a look at:\r\n\r\n* [Model–view–controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)\r\n* [Single Responsibility Principle](https://www.oodesign.com/single-responsibility-principle.html)\r\n* [Observer Pattern](https://www.oodesign.com/observer-pattern.html)\r\n* [Delegation pattern](https://en.wikipedia.org/wiki/Delegation_pattern)\r\n* [Dependency Injection](https://stackify.com/dependency-injection/); [Dependency injection](https://en.wikipedia.org/wiki/Dependency_injection#:~:text=In%20software%20engineering%2C%20dependency%20injection,leading%20to%20loosely%20coupled%20programs.)\r\n\r\nAll of these concepts will help you build a better solution, isolating functionality and decoupling your code.\r\n\r\nI would start with a dedicated &quot;menu component&quot;.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();\r\n                    menuItems.add(new MenuItem(&quot;Jogar&quot;, Color.BLACK, new Color(57, 176, 214)));\r\n                    menuItems.add(new MenuItem(&quot;Scores&quot;, Color.BLACK, new Color(57, 176, 214)));\r\n                    menuItems.add(new MenuItem(&quot;Regras&quot;, Color.BLACK, new Color(57, 176, 214)));\r\n                    menuItems.add(new MenuItem(&quot;Cr&#233;ditos&quot;, Color.BLACK, new Color(57, 176, 214)));\r\n                    menuItems.add(new MenuItem(&quot;Sair&quot;, Color.BLACK, new Color(57, 176, 214)));\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MenuPane(menuItems));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MenuItem {\r\n            private String text;\r\n            private Color textColor;\r\n            private Color backgroundColor;\r\n\r\n            public MenuItem(String text, Color textColor, Color backgroundColor) {\r\n                this.text = text;\r\n                this.textColor = textColor;\r\n                this.backgroundColor = backgroundColor;\r\n            }\r\n\r\n            public String getText() {\r\n                return text;\r\n            }\r\n\r\n            public Color getTextColor() {\r\n                return textColor;\r\n            }\r\n\r\n            public Color getBackgroundColor() {\r\n                return backgroundColor;\r\n            }                \r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n\r\n            protected enum Direction {\r\n                UP, DOWN;\r\n            }\r\n\r\n            private List&lt;MenuItem&gt; menuItems;\r\n            private Color selectedTextColor = Color.WHITE;\r\n            private Color selectedBackgroundColor = Color.ORANGE;\r\n\r\n            private int selectedItemIndex = 0;\r\n\r\n            private int buttonWidth = 0;\r\n            private int totalButtonHeight = 0;\r\n\r\n            private BufferedImage fundo;\r\n\r\n            public MenuPane(List&lt;MenuItem&gt; menuItems) {\r\n                this.menuItems = menuItems;\r\n\r\n                for (MenuItem menuItem : menuItems) {\r\n                    FontMetrics fm = getFontMetrics(getFont());\r\n                    buttonWidth = Math.max(fm.stringWidth(menuItem.getText()) + 8, buttonWidth);\r\n                    totalButtonHeight += (fm.getHeight() + 8);\r\n                }\r\n\r\n                totalButtonHeight += (menuItems.size() - 1) * 4;\r\n\r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;Pressed.up&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;Pressed.down&quot;);\r\n\r\n                MenuInputAction.Observer observer = new MenuInputAction.Observer() {\r\n                    @Override\r\n                    public void menuDidNavigate(Direction direction) {\r\n                        switch (direction) {\r\n                            case UP: \r\n                                selectedItemIndex--;\r\n                                break;\r\n                            case DOWN: \r\n                                selectedItemIndex++;\r\n                                break;\r\n                        }\r\n                        int count = getMenuItems().size() - 1;\r\n                        if (selectedItemIndex &lt; 0) {\r\n                            selectedItemIndex = count;\r\n                        } else if (selectedItemIndex &gt; count) {\r\n                            selectedItemIndex = 0;\r\n                        }\r\n                        repaint();\r\n                    }\r\n                };\r\n\r\n                am.put(&quot;Pressed.up&quot;, new MenuInputAction(Direction.UP, observer));\r\n                am.put(&quot;Pressed.down&quot;, new MenuInputAction(Direction.DOWN, observer));\r\n            }\r\n\r\n            public Color getSelectedBackgroundColor() {\r\n                return selectedBackgroundColor;\r\n            }\r\n\r\n            public Color getSelectedTextColor() {\r\n                return selectedTextColor;\r\n            }\r\n\r\n            public void setSelectedBackgroundColor(Color selectedBackgroundColor) {\r\n                this.selectedBackgroundColor = selectedBackgroundColor;\r\n                repaint();\r\n            }\r\n\r\n            public void setSelectedTextColor(Color selectedTextColor) {\r\n                this.selectedTextColor = selectedTextColor;\r\n                repaint();\r\n            }\r\n\r\n            protected int getButtonWidth() {\r\n                return buttonWidth;\r\n            }\r\n\r\n            protected int getTotalButtonHeight() {\r\n                return totalButtonHeight;\r\n            }\r\n\r\n            public List&lt;MenuItem&gt; getMenuItems() {\r\n                return menuItems;\r\n            }\r\n\r\n            public int getSelectedItemIndex() {\r\n                return selectedItemIndex;\r\n            }\r\n\r\n            public MenuItem getSelectedMenuItem() {\r\n                int index = getSelectedItemIndex();\r\n                List&lt;MenuItem&gt; menuItems = getMenuItems();\r\n                if (index &gt;= 0 &amp;&amp; index &lt; menuItems.size()) {\r\n                    return menuItems.get(index);\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(getButtonWidth() + 8, getTotalButtonHeight() + 8);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n\r\n                int x = (getWidth() - getButtonWidth()) / 2;\r\n                int y = (getHeight() - getTotalButtonHeight()) / 2;\r\n\r\n                int buttonWidth = getButtonWidth();\r\n                int buttonHeight = fm.getHeight() + 8;\r\n\r\n                MenuItem selectedItem = getSelectedMenuItem();\r\n                for (MenuItem menuItem : menuItems) {\r\n                    paintButton(g2d, menuItem, x, y, buttonWidth, buttonHeight, menuItem == selectedItem);\r\n                    y += buttonHeight + 4;\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void paintButton(Graphics2D g2d, MenuItem menuItem, int x, int y, int width, int height, boolean isSelected) {\r\n                Color backgroundColor = menuItem.getBackgroundColor();\r\n                Color textColor = menuItem.getTextColor();\r\n                if (isSelected) {\r\n                    backgroundColor = getSelectedBackgroundColor();\r\n                    textColor = getSelectedTextColor();\r\n                }\r\n\r\n                g2d.setColor(backgroundColor);\r\n                g2d.fillRect(x, y, width, height);\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n\r\n                int textX = x + ((width - fm.stringWidth(menuItem.getText())) / 2);\r\n                int textY = y + ((height - fm.getHeight()) / 2) + fm.getAscent();\r\n\r\n                g2d.setColor(textColor);\r\n                g2d.drawString(menuItem.getText(), textX, textY);\r\n            }\r\n\r\n            protected class MenuInputAction extends AbstractAction {\r\n                protected interface Observer {\r\n                    public void menuDidNavigate(Direction direction);\r\n                }\r\n\r\n                private Direction direction;\r\n                private Observer observer;\r\n\r\n                public MenuInputAction(Direction direction, Observer observer) {\r\n                    this.direction = direction;\r\n                    this.observer = observer;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    observer.menuDidNavigate(direction);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nSo, what&#39;s missing?  A trigger callback, how does the caller know when a menu item is selected?\r\n\r\nWell, this is up to you now. I would...\r\n\r\n* Add an observer callback to notify the caller that some menu item has been selected/actioned\r\n* Add a key binding for the &lt;kbd&gt;Enter&lt;/kbd&gt; key and a `MouseListener` to detect when the user clicks an item - however, this is going to present you with issues, as you need to dynamically calculate the button bounds (I might consider doing this up-front). You can do basic collision detection using [`Rectangle#contains`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Rectangle.html#contains(int,int))\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ux6uD.gif\r\n  [2]: https://i.stack.imgur.com/ErxKs.gif","title":"java menu not working. i&#39;m not being able to use the key down and up to go through the menu correctly","body":"<p><code>g = getGraphics();</code> is not how custom painting works see <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> for more information about how painting works in Swing and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for how you should work with it.</p>\n<p>Because you've also extended from <code>JFrame</code> (which is generally considered a bad idea), you will end up with additional painting issues, as <code>JFrame</code> is a composite component (ie, it has other child components laid out on top of it)</p>\n<p><a href=\"https://i.stack.imgur.com/ux6uD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ux6uD.gif\" alt=\"enter image description here\" /></a></p>\n<p><em>From <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">How to Use Root Panes</a></em></p>\n<p><code>BufferedImage backBuffer;</code> is unnecessary if you use Swing correctly, as Swing is double buffered by default.</p>\n<p><code>ImageIcon Fundo = new ImageIcon(&quot;src/Imagens/fundo.jpg&quot;);</code> is going to cause you no end of issues when you export the project, as <code>src</code> won't exist.  Never reference <code>src</code> within your code.</p>\n<p><code>ImageIcon</code> is also a poor choice, as it will fail silently, instead, prefer <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO.read</code></a> instead.</p>\n<p>Since the image is stored within the context of the source files, this will become an &quot;embedded resource&quot;, meaning you can no longer reference it as a file (which is another issue with using <code>ImageIcon</code> the way you are), instead, you will need to use <code>Class#getResource</code></p>\n<p>However, because <code>ImageIO.read</code> does throw an exception, you'll have to load the image within the constructor (or some other method), for example...</p>\n<pre><code>private BufferedImage fundo;\n\npublic Game() throws IOException {\n    fundo = ImageIO.read(getClass().getResource(&quot;/Imagens/fundo.jpg&quot;));\n</code></pre>\n<p>So, for a simple menu, you don't need a run loop, you're really not doing that much work, just let the system do it for you.</p>\n<p>You should take the time to also have a look at:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">Model–view–controller</a></li>\n<li><a href=\"https://www.oodesign.com/single-responsibility-principle.html\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></li>\n<li><a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">Observer Pattern</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Delegation_pattern\" rel=\"nofollow noreferrer\">Delegation pattern</a></li>\n<li><a href=\"https://stackify.com/dependency-injection/\" rel=\"nofollow noreferrer\">Dependency Injection</a>; <a href=\"https://en.wikipedia.org/wiki/Dependency_injection#:%7E:text=In%20software%20engineering%2C%20dependency%20injection,leading%20to%20loosely%20coupled%20programs.\" rel=\"nofollow noreferrer\">Dependency injection</a></li>\n</ul>\n<p>All of these concepts will help you build a better solution, isolating functionality and decoupling your code.</p>\n<p>I would start with a dedicated &quot;menu component&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/ErxKs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ErxKs.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.image.BufferedImage;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();\n                menuItems.add(new MenuItem(&quot;Jogar&quot;, Color.BLACK, new Color(57, 176, 214)));\n                menuItems.add(new MenuItem(&quot;Scores&quot;, Color.BLACK, new Color(57, 176, 214)));\n                menuItems.add(new MenuItem(&quot;Regras&quot;, Color.BLACK, new Color(57, 176, 214)));\n                menuItems.add(new MenuItem(&quot;Créditos&quot;, Color.BLACK, new Color(57, 176, 214)));\n                menuItems.add(new MenuItem(&quot;Sair&quot;, Color.BLACK, new Color(57, 176, 214)));\n                JFrame frame = new JFrame();\n                frame.add(new MenuPane(menuItems));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MenuItem {\n        private String text;\n        private Color textColor;\n        private Color backgroundColor;\n\n        public MenuItem(String text, Color textColor, Color backgroundColor) {\n            this.text = text;\n            this.textColor = textColor;\n            this.backgroundColor = backgroundColor;\n        }\n\n        public String getText() {\n            return text;\n        }\n\n        public Color getTextColor() {\n            return textColor;\n        }\n\n        public Color getBackgroundColor() {\n            return backgroundColor;\n        }                \n    }\n\n    public class MenuPane extends JPanel {\n\n        protected enum Direction {\n            UP, DOWN;\n        }\n\n        private List&lt;MenuItem&gt; menuItems;\n        private Color selectedTextColor = Color.WHITE;\n        private Color selectedBackgroundColor = Color.ORANGE;\n\n        private int selectedItemIndex = 0;\n\n        private int buttonWidth = 0;\n        private int totalButtonHeight = 0;\n\n        private BufferedImage fundo;\n\n        public MenuPane(List&lt;MenuItem&gt; menuItems) {\n            this.menuItems = menuItems;\n\n            for (MenuItem menuItem : menuItems) {\n                FontMetrics fm = getFontMetrics(getFont());\n                buttonWidth = Math.max(fm.stringWidth(menuItem.getText()) + 8, buttonWidth);\n                totalButtonHeight += (fm.getHeight() + 8);\n            }\n\n            totalButtonHeight += (menuItems.size() - 1) * 4;\n\n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;Pressed.up&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;Pressed.down&quot;);\n\n            MenuInputAction.Observer observer = new MenuInputAction.Observer() {\n                @Override\n                public void menuDidNavigate(Direction direction) {\n                    switch (direction) {\n                        case UP: \n                            selectedItemIndex--;\n                            break;\n                        case DOWN: \n                            selectedItemIndex++;\n                            break;\n                    }\n                    int count = getMenuItems().size() - 1;\n                    if (selectedItemIndex &lt; 0) {\n                        selectedItemIndex = count;\n                    } else if (selectedItemIndex &gt; count) {\n                        selectedItemIndex = 0;\n                    }\n                    repaint();\n                }\n            };\n\n            am.put(&quot;Pressed.up&quot;, new MenuInputAction(Direction.UP, observer));\n            am.put(&quot;Pressed.down&quot;, new MenuInputAction(Direction.DOWN, observer));\n        }\n\n        public Color getSelectedBackgroundColor() {\n            return selectedBackgroundColor;\n        }\n\n        public Color getSelectedTextColor() {\n            return selectedTextColor;\n        }\n\n        public void setSelectedBackgroundColor(Color selectedBackgroundColor) {\n            this.selectedBackgroundColor = selectedBackgroundColor;\n            repaint();\n        }\n\n        public void setSelectedTextColor(Color selectedTextColor) {\n            this.selectedTextColor = selectedTextColor;\n            repaint();\n        }\n\n        protected int getButtonWidth() {\n            return buttonWidth;\n        }\n\n        protected int getTotalButtonHeight() {\n            return totalButtonHeight;\n        }\n\n        public List&lt;MenuItem&gt; getMenuItems() {\n            return menuItems;\n        }\n\n        public int getSelectedItemIndex() {\n            return selectedItemIndex;\n        }\n\n        public MenuItem getSelectedMenuItem() {\n            int index = getSelectedItemIndex();\n            List&lt;MenuItem&gt; menuItems = getMenuItems();\n            if (index &gt;= 0 &amp;&amp; index &lt; menuItems.size()) {\n                return menuItems.get(index);\n            }\n            return null;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(getButtonWidth() + 8, getTotalButtonHeight() + 8);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n\n            int x = (getWidth() - getButtonWidth()) / 2;\n            int y = (getHeight() - getTotalButtonHeight()) / 2;\n\n            int buttonWidth = getButtonWidth();\n            int buttonHeight = fm.getHeight() + 8;\n\n            MenuItem selectedItem = getSelectedMenuItem();\n            for (MenuItem menuItem : menuItems) {\n                paintButton(g2d, menuItem, x, y, buttonWidth, buttonHeight, menuItem == selectedItem);\n                y += buttonHeight + 4;\n            }\n            g2d.dispose();\n        }\n\n        protected void paintButton(Graphics2D g2d, MenuItem menuItem, int x, int y, int width, int height, boolean isSelected) {\n            Color backgroundColor = menuItem.getBackgroundColor();\n            Color textColor = menuItem.getTextColor();\n            if (isSelected) {\n                backgroundColor = getSelectedBackgroundColor();\n                textColor = getSelectedTextColor();\n            }\n\n            g2d.setColor(backgroundColor);\n            g2d.fillRect(x, y, width, height);\n\n            FontMetrics fm = g2d.getFontMetrics();\n\n            int textX = x + ((width - fm.stringWidth(menuItem.getText())) / 2);\n            int textY = y + ((height - fm.getHeight()) / 2) + fm.getAscent();\n\n            g2d.setColor(textColor);\n            g2d.drawString(menuItem.getText(), textX, textY);\n        }\n\n        protected class MenuInputAction extends AbstractAction {\n            protected interface Observer {\n                public void menuDidNavigate(Direction direction);\n            }\n\n            private Direction direction;\n            private Observer observer;\n\n            public MenuInputAction(Direction direction, Observer observer) {\n                this.direction = direction;\n                this.observer = observer;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                observer.menuDidNavigate(direction);\n            }\n        }\n    }\n}\n</code></pre>\n<p>So, what's missing?  A trigger callback, how does the caller know when a menu item is selected?</p>\n<p>Well, this is up to you now. I would...</p>\n<ul>\n<li>Add an observer callback to notify the caller that some menu item has been selected/actioned</li>\n<li>Add a key binding for the <kbd>Enter</kbd> key and a <code>MouseListener</code> to detect when the user clicks an item - however, this is going to present you with issues, as you need to dynamically calculate the button bounds (I might consider doing this up-front). You can do basic collision detection using <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Rectangle.html#contains(int,int)\" rel=\"nofollow noreferrer\"><code>Rectangle#contains</code></a></li>\n</ul>\n"}],"owner":{"account_id":25248008,"reputation":1,"user_id":19080966,"display_name":"gmpabr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652141430,"creation_date":1652135418,"question_id":72178837,"body_markdown":"hi my java menu is not working probably is the keylistener i&#39;m not being able to use the key up and down in case 2 to case 4, how can i fix this?\r\nHowever, i&#39;m not sure how to modify it to make it working correctly, but i know that probably s the keylistener. Im new in java and i&#39;m trying to do this project pls help\r\n\r\n\r\n\r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.Arrays;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.*; \r\n    import java.awt.Container;\r\n    import java.io.InputStream;\r\n    import javax.swing.JPanel;\r\n    import sun.audio.AudioStream;\r\n    \r\n    public class Game extends JFrame implements KeyListener{\r\n        \r\n        \r\n        \r\n        BufferedImage backBuffer;\r\n        int FPS = 100;\r\n        int JanelaX = 800;\r\n        int JanelaY = 600;\r\n        private static String[] TeclasPressionadas = new String[256];\r\n        // int FundoX = -250;\r\n        int se=-1;\r\n        int c =1;\r\n        int mf=1;\r\n        InputStream in;\r\n        AudioStream audio;\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        ImageIcon Fundo = new ImageIcon(&quot;src/Imagens/fundo.jpg&quot;);\r\n        Graphics g,bbg;\r\n        \r\n        \r\n       \r\n        \r\n        \r\n       \r\n            \r\n        \r\n        \r\n        public void desenharGraficos(){\r\n             g = getGraphics();\r\n             bbg = backBuffer.getGraphics();\r\n             CriaMenu();\r\n             Acede_Opcoes();\r\n            \r\n            //bbg.drawImage(Fundo.getImage(), FundoX, 0, this);\r\n            \r\n    \r\n            g.drawImage(backBuffer, 0, 0, this);\r\n            \r\n            }\r\n            \r\n          \r\n        public void CriaMenu()\r\n           {\r\n               Font myFont = new Font(&quot;bauhaus 93&quot;,Font.BOLD,50);\r\n               bbg.setFont(myFont);\r\n               switch(c)\r\n                   \r\n               \r\n               {\r\n                   case 1:\r\n                       bbg.setColor(new Color(57, 176, 214));\r\n                       bbg.drawString(&quot;Jogar&quot;, 300, 210);\r\n                       bbg.setColor(Color.orange);\r\n                       bbg.drawString(&quot;Scores&quot;, 300,270);\r\n                       bbg.drawString(&quot;Regras&quot;,300, 330);\r\n                       bbg.drawString(&quot;Cr&#233;ditos&quot;, 300, 390);\r\n                       bbg.drawString(&quot;Sair&quot;, 300, 450);\r\n                       break;\r\n                       \r\n                   case 2:\r\n                       bbg.setColor(Color.orange);\r\n                       bbg.drawString(&quot;Jogar&quot;, 300, 210);\r\n                       bbg.setColor(new Color(57, 176, 214));\r\n                       bbg.setColor(Color.orange);\r\n                       bbg.drawString(&quot;Scores&quot;, 300,270);\r\n                       bbg.drawString(&quot;Regras&quot;,300, 330);\r\n                       bbg.drawString(&quot;Cr&#233;ditos&quot;, 300, 390);\r\n                       bbg.drawString(&quot;Sair&quot;, 300, 450);\r\n                       break;\r\n                       \r\n                    case 3:\r\n                        bbg.setColor(Color.orange);\r\n                        bbg.drawString(&quot;Jogar&quot;, 300, 210);\r\n                        bbg.setColor(Color.orange);\r\n                        bbg.drawString(&quot;Scores&quot;, 300,270);\r\n                        bbg.setColor(new Color(57, 176, 214));\r\n                        bbg.drawString(&quot;Regras&quot;,300, 330);\r\n                        bbg.drawString(&quot;Cr&#233;ditos&quot;, 300, 390);\r\n                        bbg.drawString(&quot;Sair&quot;, 300, 450);\r\n                       \r\n                    case 4:\r\n                        bbg.setColor(Color.orange);\r\n                        bbg.drawString(&quot;Jogar&quot;, 300, 210);\r\n                        bbg.setColor(Color.orange);\r\n                        bbg.drawString(&quot;Scores&quot;, 300,270);\r\n                        bbg.drawString(&quot;Regras&quot;,300, 330);\r\n                        bbg.setColor(new Color(57, 176, 214));\r\n                        bbg.drawString(&quot;Cr&#233;ditos&quot;, 300, 390);\r\n                        bbg.drawString(&quot;Sair&quot;, 300, 450);\r\n                        \r\n                    case 5:\r\n                        bbg.setColor(Color.orange);\r\n                        bbg.drawString(&quot;Jogar&quot;, 300, 210);\r\n                        bbg.setColor(Color.orange);\r\n                        bbg.drawString(&quot;Scores&quot;, 300,270);\r\n                        bbg.drawString(&quot;Regras&quot;,300, 330);\r\n                        bbg.drawString(&quot;Cr&#233;ditos&quot;, 300, 390);\r\n                        bbg.setColor(new Color(57, 176, 214));\r\n                        bbg.drawString(&quot;Sair&quot;, 300, 450);\r\n              \r\n              \r\n               }\r\n           \r\n               \r\n               }\r\n               \r\n               public void Acede_Opcoes() \r\n               {\r\n                   switch(se)\r\n                   {\r\n                       case 1:\r\n                           this.dispose();\r\n                           Game jogo = new Game();\r\n                           jogo.run();\r\n                           break;\r\n                           \r\n                       case 2:\r\n                           this.dispose();\r\n                           //Scores s = new Scores();\r\n                           //s.run();\r\n                           break;\r\n                           \r\n                       case 3:\r\n                          this.dispose();\r\n                          //Regras regras = new Regras8);\r\n                          //regras.run\r\n                          break;\r\n                       case 4:\r\n                           this.dispose();\r\n                            //Creditos creditos = new Creditos();\r\n                            //Creditos.run();\r\n                            break;\r\n                       case 5:\r\n                           System.exit(0);\r\n                           break;\r\n                           \r\n                       \r\n                           \r\n                           \r\n                   }\r\n                       \r\n    \r\n            \r\n             \r\n            \r\n            \r\n        }\r\n        \r\n        public void Inicializar(){\r\n            setTitle(&quot;Fruit Cutter&quot;);\r\n            setSize(JanelaX, JanelaY);\r\n            setResizable(false);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setLayout(null);\r\n            setVisible(true);\r\n            setLocationRelativeTo(null);\r\n            backBuffer = new BufferedImage(JanelaX, JanelaY, BufferedImage.TYPE_INT_RGB);\r\n            addKeyListener(this);\r\n       \r\n            \r\n            \r\n            Arrays.fill(TeclasPressionadas, &quot;&quot;);\r\n           \r\n            addKeyListener(this);\r\n        }\r\n        \r\n        public void run(){\r\n            Inicializar();\r\n            while (true){            \r\n                desenharGraficos();\r\n                try{\r\n                    Thread.sleep(1000/FPS);\r\n                }catch (Exception e){\r\n                    System.out.println(&quot;Thred Interrompida!&quot;);}}\r\n        }\r\n        \r\n        public static void main(String[] args){\r\n            Game game = new Game();\r\n            game.run();\r\n            \r\n        }\r\n        //Problem probably is here\r\n        @Override\r\n        public void keyTyped(KeyEvent e){\r\n        }\r\n    \r\n        @Override\r\n        public void keyPressed(KeyEvent e){\r\n            if (e.getKeyCode()==KeyEvent.VK_DOWN)\r\n            {\r\n                c++;\r\n                if(c&gt;5)\r\n                {\r\n                    c=1;\r\n                    \r\n                }\r\n                \r\n                if (e.getKeyCode()==KeyEvent.VK_UP)\r\n                {\r\n                    c--;\r\n                    if(c&lt;1)\r\n                    {\r\n        \r\n                c=5;\r\n            }\r\n                    \r\n                    if (e.getKeyCode()==KeyEvent.VK_ENTER)\r\n                    {\r\n                        se=c;\r\n                    }\r\n                    }\r\n                }\r\n    }\r\n        @Override\r\n        public void keyReleased(KeyEvent e){\r\n            if(!TeclasPressionadas[e.getKeyCode()].equals(&quot;&quot;)){\r\n                TeclasPressionadas[e.getKeyCode()] = &quot;&quot;;}}\r\n    }\r\n\r\n","title":"java menu not working. i&#39;m not being able to use the key down and up to go through the menu correctly","body":"<p>hi my java menu is not working probably is the keylistener i'm not being able to use the key up and down in case 2 to case 4, how can i fix this?\nHowever, i'm not sure how to modify it to make it working correctly, but i know that probably s the keylistener. Im new in java and i'm trying to do this project pls help</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.image.BufferedImage;\nimport java.util.Arrays;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*; \nimport java.awt.Container;\nimport java.io.InputStream;\nimport javax.swing.JPanel;\nimport sun.audio.AudioStream;\n\npublic class Game extends JFrame implements KeyListener{\n    \n    \n    \n    BufferedImage backBuffer;\n    int FPS = 100;\n    int JanelaX = 800;\n    int JanelaY = 600;\n    private static String[] TeclasPressionadas = new String[256];\n    // int FundoX = -250;\n    int se=-1;\n    int c =1;\n    int mf=1;\n    InputStream in;\n    AudioStream audio;\n    \n    \n    \n    \n    \n    ImageIcon Fundo = new ImageIcon(&quot;src/Imagens/fundo.jpg&quot;);\n    Graphics g,bbg;\n    \n    \n   \n    \n    \n   \n        \n    \n    \n    public void desenharGraficos(){\n         g = getGraphics();\n         bbg = backBuffer.getGraphics();\n         CriaMenu();\n         Acede_Opcoes();\n        \n        //bbg.drawImage(Fundo.getImage(), FundoX, 0, this);\n        \n\n        g.drawImage(backBuffer, 0, 0, this);\n        \n        }\n        \n      \n    public void CriaMenu()\n       {\n           Font myFont = new Font(&quot;bauhaus 93&quot;,Font.BOLD,50);\n           bbg.setFont(myFont);\n           switch(c)\n               \n           \n           {\n               case 1:\n                   bbg.setColor(new Color(57, 176, 214));\n                   bbg.drawString(&quot;Jogar&quot;, 300, 210);\n                   bbg.setColor(Color.orange);\n                   bbg.drawString(&quot;Scores&quot;, 300,270);\n                   bbg.drawString(&quot;Regras&quot;,300, 330);\n                   bbg.drawString(&quot;Créditos&quot;, 300, 390);\n                   bbg.drawString(&quot;Sair&quot;, 300, 450);\n                   break;\n                   \n               case 2:\n                   bbg.setColor(Color.orange);\n                   bbg.drawString(&quot;Jogar&quot;, 300, 210);\n                   bbg.setColor(new Color(57, 176, 214));\n                   bbg.setColor(Color.orange);\n                   bbg.drawString(&quot;Scores&quot;, 300,270);\n                   bbg.drawString(&quot;Regras&quot;,300, 330);\n                   bbg.drawString(&quot;Créditos&quot;, 300, 390);\n                   bbg.drawString(&quot;Sair&quot;, 300, 450);\n                   break;\n                   \n                case 3:\n                    bbg.setColor(Color.orange);\n                    bbg.drawString(&quot;Jogar&quot;, 300, 210);\n                    bbg.setColor(Color.orange);\n                    bbg.drawString(&quot;Scores&quot;, 300,270);\n                    bbg.setColor(new Color(57, 176, 214));\n                    bbg.drawString(&quot;Regras&quot;,300, 330);\n                    bbg.drawString(&quot;Créditos&quot;, 300, 390);\n                    bbg.drawString(&quot;Sair&quot;, 300, 450);\n                   \n                case 4:\n                    bbg.setColor(Color.orange);\n                    bbg.drawString(&quot;Jogar&quot;, 300, 210);\n                    bbg.setColor(Color.orange);\n                    bbg.drawString(&quot;Scores&quot;, 300,270);\n                    bbg.drawString(&quot;Regras&quot;,300, 330);\n                    bbg.setColor(new Color(57, 176, 214));\n                    bbg.drawString(&quot;Créditos&quot;, 300, 390);\n                    bbg.drawString(&quot;Sair&quot;, 300, 450);\n                    \n                case 5:\n                    bbg.setColor(Color.orange);\n                    bbg.drawString(&quot;Jogar&quot;, 300, 210);\n                    bbg.setColor(Color.orange);\n                    bbg.drawString(&quot;Scores&quot;, 300,270);\n                    bbg.drawString(&quot;Regras&quot;,300, 330);\n                    bbg.drawString(&quot;Créditos&quot;, 300, 390);\n                    bbg.setColor(new Color(57, 176, 214));\n                    bbg.drawString(&quot;Sair&quot;, 300, 450);\n          \n          \n           }\n       \n           \n           }\n           \n           public void Acede_Opcoes() \n           {\n               switch(se)\n               {\n                   case 1:\n                       this.dispose();\n                       Game jogo = new Game();\n                       jogo.run();\n                       break;\n                       \n                   case 2:\n                       this.dispose();\n                       //Scores s = new Scores();\n                       //s.run();\n                       break;\n                       \n                   case 3:\n                      this.dispose();\n                      //Regras regras = new Regras8);\n                      //regras.run\n                      break;\n                   case 4:\n                       this.dispose();\n                        //Creditos creditos = new Creditos();\n                        //Creditos.run();\n                        break;\n                   case 5:\n                       System.exit(0);\n                       break;\n                       \n                   \n                       \n                       \n               }\n                   \n\n        \n         \n        \n        \n    }\n    \n    public void Inicializar(){\n        setTitle(&quot;Fruit Cutter&quot;);\n        setSize(JanelaX, JanelaY);\n        setResizable(false);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLayout(null);\n        setVisible(true);\n        setLocationRelativeTo(null);\n        backBuffer = new BufferedImage(JanelaX, JanelaY, BufferedImage.TYPE_INT_RGB);\n        addKeyListener(this);\n   \n        \n        \n        Arrays.fill(TeclasPressionadas, &quot;&quot;);\n       \n        addKeyListener(this);\n    }\n    \n    public void run(){\n        Inicializar();\n        while (true){            \n            desenharGraficos();\n            try{\n                Thread.sleep(1000/FPS);\n            }catch (Exception e){\n                System.out.println(&quot;Thred Interrompida!&quot;);}}\n    }\n    \n    public static void main(String[] args){\n        Game game = new Game();\n        game.run();\n        \n    }\n    //Problem probably is here\n    @Override\n    public void keyTyped(KeyEvent e){\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e){\n        if (e.getKeyCode()==KeyEvent.VK_DOWN)\n        {\n            c++;\n            if(c&gt;5)\n            {\n                c=1;\n                \n            }\n            \n            if (e.getKeyCode()==KeyEvent.VK_UP)\n            {\n                c--;\n                if(c&lt;1)\n                {\n    \n            c=5;\n        }\n                \n                if (e.getKeyCode()==KeyEvent.VK_ENTER)\n                {\n                    se=c;\n                }\n                }\n            }\n}\n    @Override\n    public void keyReleased(KeyEvent e){\n        if(!TeclasPressionadas[e.getKeyCode()].equals(&quot;&quot;)){\n            TeclasPressionadas[e.getKeyCode()] = &quot;&quot;;}}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652141492,"post_id":72179372,"comment_id":127529412,"body_markdown":"You can&#39;t downcast a reference into something that it isn&#39;t.","body":"You can&#39;t downcast a reference into something that it isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652141163,"creation_date":1652141163,"answer_id":72179393,"question_id":72179372,"body_markdown":"Downcasting doesn&#39;t change what class the object _is_ — it only changes what the compiler knows at compile-time. If you have a `Vehicle` which is not a `Car` (as you do, since you instantiated it as `new Vehicle()`), then you can&#39;t downcast it; any attempt to will result in a [ClassCastException](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassCastException.html) at runtime.\r\n\r\nOther than that, what you&#39;re doing wrong is that you&#39;re downcasting using `(car)` instead of `(Car)`. Java is case-sensitive.","title":"How can I downcast this object in java?","body":"<p>Downcasting doesn't change what class the object <em>is</em> — it only changes what the compiler knows at compile-time. If you have a <code>Vehicle</code> which is not a <code>Car</code> (as you do, since you instantiated it as <code>new Vehicle()</code>), then you can't downcast it; any attempt to will result in a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassCastException.html\" rel=\"nofollow noreferrer\">ClassCastException</a> at runtime.</p>\n<p>Other than that, what you're doing wrong is that you're downcasting using <code>(car)</code> instead of <code>(Car)</code>. Java is case-sensitive.</p>\n"}],"owner":{"account_id":23883403,"reputation":23,"user_id":17883839,"display_name":"leafhous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652141593,"accepted_answer_id":72179393,"answer_count":1,"score":0,"last_activity_date":1652141163,"creation_date":1652141034,"question_id":72179372,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            Vehicle vehicle = new Vehicle();\r\n            vehicle = (car) Vehicle;\r\n        }\r\n    }\r\n\r\n    class Vehicle {\r\n       static void transport() {\r\n\r\n        }\r\n    }\r\n\r\n    class Car extends Vehicle {\r\n        int age;\r\n        String brand;\r\n    }\r\n\r\ni understand that java implicitly upcasts, but I want to downcast this Vehicle instance and make it a Car. what am i doing wrong?","title":"How can I downcast this object in java?","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Vehicle vehicle = new Vehicle();\n        vehicle = (car) Vehicle;\n    }\n}\n\nclass Vehicle {\n   static void transport() {\n\n    }\n}\n\nclass Car extends Vehicle {\n    int age;\n    String brand;\n}\n</code></pre>\n<p>i understand that java implicitly upcasts, but I want to downcast this Vehicle instance and make it a Car. what am i doing wrong?</p>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1652142889,"post_id":72179389,"comment_id":127529598,"body_markdown":"You have a semicolon after `.allowsDelayedPaymentMethods(true);` before the `.build()` which means you are trying to assign the Builder to the variable instead of building it, and you should be getting a second error for the `.build()` which isn&#39;t being called on anything; you also need the semicolon after `.build()` or else the next line will be an error, too.","body":"You have a semicolon after <code>.allowsDelayedPaymentMethods(true);</code> before the <code>.build()</code> which means you are trying to assign the Builder to the variable instead of building it, and you should be getting a second error for the <code>.build()</code> which isn&#39;t being called on anything; you also need the semicolon after <code>.build()</code> or else the next line will be an error, too."},{"owner":{"account_id":13542367,"reputation":5828,"user_id":9769731,"display_name":"karllekko"},"score":0,"creation_date":1652172594,"post_id":72179389,"comment_id":127535731,"body_markdown":"dupe of https://stackoverflow.com/questions/72178286/cannot-resolve-symbol-builder-when-trying-to-implement-stripe-in-android/72183239#72183239","body":"dupe of <a href=\"https://stackoverflow.com/questions/72178286/cannot-resolve-symbol-builder-when-trying-to-implement-stripe-in-android/72183239#72183239\" title=\"cannot resolve symbol builder when trying to implement stripe in android\">stackoverflow.com/questions/72178286/&hellip;</a>"}],"owner":{"account_id":20342523,"reputation":9,"user_id":14921372,"display_name":"Chuck Bass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1652141129,"creation_date":1652141129,"question_id":72179389,"body_markdown":"I am getting this error message when trying to implement stripe payment in my android application. This error comes from the presentPaymentSheet method.I am not sure why I am receiving this I am simply copying and pasting code from the strip official docs, so i am not sure where to go from here so if anyone can provide a solution or any hints on how to solve this then it will be greatly appreciated. \r\n \r\n\r\n    Incompatible types. Found: &#39;com.stripe.android.paymentsheet.PaymentSheet.Configuration.Builder&#39;, required: &#39;com.stripe.android.paymentsheet.PaymentSheet.Configuration&#39;\r\n\r\n\r\n\r\n\r\n\r\n    import android.app.ProgressDialog;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import com.github.kittinunf.fuel.Fuel;\r\n    import com.github.kittinunf.fuel.core.FuelError;\r\n    import com.github.kittinunf.fuel.core.Handler;\r\n    import com.stripe.android.PaymentConfiguration;\r\n    import androidx.annotation.NonNull;\r\n    import com.google.android.material.bottomnavigation.BottomNavigationView;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.stripe.android.Stripe;\r\n    import com.stripe.android.view.CardInputWidget;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.varietyshoppe.varietyshoppe.Model.CartModel;\r\n    import org.varietyshoppe.varietyshoppe.R;\r\n    import org.varietyshoppe.varietyshoppe.adapter.CartAdapter;\r\n    import java.util.ArrayList;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import com.stripe.android.paymentsheet.*;\r\n    \r\n    import com.stripe.android.paymentsheet.*;\r\n    import com.stripe.android.PaymentConfiguration;\r\n    \r\n    \r\n    \r\n    \r\n    public class PaymentFragment extends Fragment {\r\n        private View layoutView;\r\n        public int pos = 0;\r\n        private EditText cardEt, monthYearEt, cvcEt, nameEt, adressEt, cityEt, statEt, countryEt, zipEt;\r\n        private String totalCost;\r\n        private String uid;\r\n        private Button paymentButton;\r\n        private DatabaseReference cartDb;\r\n        private CartAdapter cartAdapter;\r\n        private String loggedInUserId;\r\n        private ArrayList&lt;String&gt; priceArrayList, quantityArrayList;\r\n        private RecyclerView cartRecyleView;\r\n        private CartModel cartModel;\r\n        private ArrayList&lt;CartModel&gt; cartModelArrayList;\r\n        //server side stuff below this..\r\n        private static final String BACKEND_URL = &quot;http://192.168.1.6:4242/&quot;; //4242 is port mentioned in server i.e index.js\r\n        // we need paymentIntentClientSecret to start transaction\r\n        private String paymentIntentClientSecret;\r\n        //declare stripe\r\n        private Stripe stripe;\r\n    \r\n        Double amountDouble=null;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        // 10.0.2.2 is the Android emulator&#39;s alias to localhost\r\n        // 192.168.1.6 If you are testing in real device with usb connected to same network then use your IP address\r\n        EditText amountText;\r\n        CardInputWidget cardInputWidget;\r\n        // we need paymentIntentClientSecret to start transaction\r\n        //declare stripe\r\n    \r\n    \r\n        static ProgressDialog progressDialog;\r\n    \r\n    \r\n    \r\n    \r\n        // Stripe docs\r\n        PaymentSheet paymentSheet;\r\n        PaymentSheet.CustomerConfiguration customerConfig;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            layoutView = inflater.inflate(R.layout.payment_layout, container, false);\r\n            BottomNavigationView bottomNav = layoutView.findViewById(R.id.bottom_navigation);\r\n            bottomNav.setOnNavigationItemSelectedListener(navListener);\r\n            bottomNav.setItemIconTintList(null);\r\n            findViewById();\r\n            getDataFromBundle();\r\n    \r\n            paymentSheet = new PaymentSheet(this, this::onPaymentSheetResult);\r\n    \r\n    \r\n            Fuel.INSTANCE.post(&quot;Your backend endpoint/payment-sheet&quot;, null).responseString(new Handler&lt;String&gt;() {\r\n                @Override\r\n                public void success(String s) {\r\n                    try {\r\n                        final JSONObject result = new JSONObject(s);\r\n                        customerConfig = new PaymentSheet.CustomerConfiguration(\r\n                                result.getString(&quot;customer&quot;),\r\n                                result.getString(&quot;ephemeralKey&quot;)\r\n                        );\r\n                        paymentIntentClientSecret = result.getString(&quot;paymentIntentClientSecret&quot;);\r\n                        PaymentConfiguration.init(getContext(), result.getString(&quot;publishableKey&quot;));\r\n                    } catch (JSONException e) { /* handle error */ }\r\n                }\r\n    \r\n                @Override\r\n                public void failure(@NonNull FuelError fuelError) { /* handle error */ }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n            return layoutView;\r\n    \r\n    \r\n        }\r\n\r\n    private void presentPaymentSheet() {\r\n        final PaymentSheet.Configuration configuration = new PaymentSheet.Configuration.Builder(&quot;Example, Inc.&quot;)\r\n                .customer(customerConfig)\r\n                // Set `allowsDelayedPaymentMethods` to true if your business can handle payment methods\r\n                // that complete payment after a delay, like SEPA Debit and Sofort.\r\n                .allowsDelayedPaymentMethods(true);\r\n        .build()\r\n        paymentSheet.presentWithPaymentIntent(\r\n                paymentClientSecret,\r\n                configuration\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n   \r\n\r\n     private void onPaymentSheetResult(\r\n                final PaymentSheetResult paymentSheetResult\r\n        ) {\r\n            if (paymentSheetResult instanceof PaymentSheetResult.Canceled) {\r\n                //Log.d(&quot;Canceled&quot;);\r\n                Log.i(&quot;cancelled&quot;,&quot;cancelled&quot;);\r\n            } else if (paymentSheetResult instanceof PaymentSheetResult.Failed) {\r\n                Log.e(&quot;App&quot;, &quot;Got error: &quot;, ((PaymentSheetResult.Failed) paymentSheetResult).getError());\r\n            } else if (paymentSheetResult instanceof PaymentSheetResult.Completed) {\r\n                Log.i(&quot;Completed&quot;,&quot;Completed...&quot;);\r\n    \r\n            }\r\n        }\r\n\r\n","title":"Why am I getting Incompatible types when trying to implement stripe in Android?","body":"<p>I am getting this error message when trying to implement stripe payment in my android application. This error comes from the presentPaymentSheet method.I am not sure why I am receiving this I am simply copying and pasting code from the strip official docs, so i am not sure where to go from here so if anyone can provide a solution or any hints on how to solve this then it will be greatly appreciated.</p>\n<pre><code>Incompatible types. Found: 'com.stripe.android.paymentsheet.PaymentSheet.Configuration.Builder', required: 'com.stripe.android.paymentsheet.PaymentSheet.Configuration'\n\n\n\n\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.github.kittinunf.fuel.Fuel;\nimport com.github.kittinunf.fuel.core.FuelError;\nimport com.github.kittinunf.fuel.core.Handler;\nimport com.stripe.android.PaymentConfiguration;\nimport androidx.annotation.NonNull;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.stripe.android.Stripe;\nimport com.stripe.android.view.CardInputWidget;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.varietyshoppe.varietyshoppe.Model.CartModel;\nimport org.varietyshoppe.varietyshoppe.R;\nimport org.varietyshoppe.varietyshoppe.adapter.CartAdapter;\nimport java.util.ArrayList;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.RecyclerView;\nimport com.stripe.android.paymentsheet.*;\n\nimport com.stripe.android.paymentsheet.*;\nimport com.stripe.android.PaymentConfiguration;\n\n\n\n\npublic class PaymentFragment extends Fragment {\n    private View layoutView;\n    public int pos = 0;\n    private EditText cardEt, monthYearEt, cvcEt, nameEt, adressEt, cityEt, statEt, countryEt, zipEt;\n    private String totalCost;\n    private String uid;\n    private Button paymentButton;\n    private DatabaseReference cartDb;\n    private CartAdapter cartAdapter;\n    private String loggedInUserId;\n    private ArrayList&lt;String&gt; priceArrayList, quantityArrayList;\n    private RecyclerView cartRecyleView;\n    private CartModel cartModel;\n    private ArrayList&lt;CartModel&gt; cartModelArrayList;\n    //server side stuff below this..\n    private static final String BACKEND_URL = &quot;http://192.168.1.6:4242/&quot;; //4242 is port mentioned in server i.e index.js\n    // we need paymentIntentClientSecret to start transaction\n    private String paymentIntentClientSecret;\n    //declare stripe\n    private Stripe stripe;\n\n    Double amountDouble=null;\n\n\n\n\n\n\n    // 10.0.2.2 is the Android emulator's alias to localhost\n    // 192.168.1.6 If you are testing in real device with usb connected to same network then use your IP address\n    EditText amountText;\n    CardInputWidget cardInputWidget;\n    // we need paymentIntentClientSecret to start transaction\n    //declare stripe\n\n\n    static ProgressDialog progressDialog;\n\n\n\n\n    // Stripe docs\n    PaymentSheet paymentSheet;\n    PaymentSheet.CustomerConfiguration customerConfig;\n\n\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        layoutView = inflater.inflate(R.layout.payment_layout, container, false);\n        BottomNavigationView bottomNav = layoutView.findViewById(R.id.bottom_navigation);\n        bottomNav.setOnNavigationItemSelectedListener(navListener);\n        bottomNav.setItemIconTintList(null);\n        findViewById();\n        getDataFromBundle();\n\n        paymentSheet = new PaymentSheet(this, this::onPaymentSheetResult);\n\n\n        Fuel.INSTANCE.post(&quot;Your backend endpoint/payment-sheet&quot;, null).responseString(new Handler&lt;String&gt;() {\n            @Override\n            public void success(String s) {\n                try {\n                    final JSONObject result = new JSONObject(s);\n                    customerConfig = new PaymentSheet.CustomerConfiguration(\n                            result.getString(&quot;customer&quot;),\n                            result.getString(&quot;ephemeralKey&quot;)\n                    );\n                    paymentIntentClientSecret = result.getString(&quot;paymentIntentClientSecret&quot;);\n                    PaymentConfiguration.init(getContext(), result.getString(&quot;publishableKey&quot;));\n                } catch (JSONException e) { /* handle error */ }\n            }\n\n            @Override\n            public void failure(@NonNull FuelError fuelError) { /* handle error */ }\n        });\n\n\n\n\n\n\n        return layoutView;\n\n\n    }\n\nprivate void presentPaymentSheet() {\n    final PaymentSheet.Configuration configuration = new PaymentSheet.Configuration.Builder(&quot;Example, Inc.&quot;)\n            .customer(customerConfig)\n            // Set `allowsDelayedPaymentMethods` to true if your business can handle payment methods\n            // that complete payment after a delay, like SEPA Debit and Sofort.\n            .allowsDelayedPaymentMethods(true);\n    .build()\n    paymentSheet.presentWithPaymentIntent(\n            paymentClientSecret,\n            configuration\n    );\n}\n\n\n\n\n\n\n private void onPaymentSheetResult(\n            final PaymentSheetResult paymentSheetResult\n    ) {\n        if (paymentSheetResult instanceof PaymentSheetResult.Canceled) {\n            //Log.d(&quot;Canceled&quot;);\n            Log.i(&quot;cancelled&quot;,&quot;cancelled&quot;);\n        } else if (paymentSheetResult instanceof PaymentSheetResult.Failed) {\n            Log.e(&quot;App&quot;, &quot;Got error: &quot;, ((PaymentSheetResult.Failed) paymentSheetResult).getError());\n        } else if (paymentSheetResult instanceof PaymentSheetResult.Completed) {\n            Log.i(&quot;Completed&quot;,&quot;Completed...&quot;);\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","xamarin.android","android-contacts","maui"],"comments":[{"owner":{"account_id":68306,"reputation":19133,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1652129382,"post_id":72174992,"comment_id":127527162,"body_markdown":"Unclear what technologies you are using. If you are programming in `java`, then you aren&#39;t using `xamarin` or `maui`. Are you using `c#` or `java`? Also, unless you are explictly using `maui`, that tag is not applicable. Please pick **one** technology, then edit tags to match. StackOverflow is designed for **specific** code questions. Maybe start by googling `android dev list all contacts`.","body":"Unclear what technologies you are using. If you are programming in <code>java</code>, then you aren&#39;t using <code>xamarin</code> or <code>maui</code>. Are you using <code>c#</code> or <code>java</code>? Also, unless you are explictly using <code>maui</code>, that tag is not applicable. Please pick <b>one</b> technology, then edit tags to match. StackOverflow is designed for <b>specific</b> code questions. Maybe start by googling <code>android dev list all contacts</code>."},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1652130471,"post_id":72174992,"comment_id":127527460,"body_markdown":"@ToolmakerSteve because I can use some of the Android namespaces in maui, the only thing that I dont really know is how to call the query to sort those by date and  take only new or modified","body":"@ToolmakerSteve because I can use some of the Android namespaces in maui, the only thing that I dont really know is how to call the query to sort those by date and  take only new or modified"},{"owner":{"account_id":68306,"reputation":19133,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1652130798,"post_id":72174992,"comment_id":127527547,"body_markdown":"ok. So you are programming for `maui`, and added `java` because a `java` solution could be adapted to work? Then I understand. Have you succeeded in writing some test code that accesses contacts list? If so, please add that to question - so that it is clear that you just need to know how to adapt that to work here. [I am not familiar with this topic; just helping you get enough info into question, that someone who is can help you.]","body":"ok. So you are programming for <code>maui</code>, and added <code>java</code> because a <code>java</code> solution could be adapted to work? Then I understand. Have you succeeded in writing some test code that accesses contacts list? If so, please add that to question - so that it is clear that you just need to know how to adapt that to work here. [I am not familiar with this topic; just helping you get enough info into question, that someone who is can help you.]"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":1,"creation_date":1652130938,"post_id":72174992,"comment_id":127527573,"body_markdown":"@ToolmakerSteve well Maui has an API to access the contact list but I found out I could use the ContentObserver with Android.Net.Uri.WithAppendedPath(uri, &quot;data&quot;) then I could use it to make a query with it that is the only part I dont know how to pick /join columns for adding the ContactName I will update the Op","body":"@ToolmakerSteve well Maui has an API to access the contact list but I found out I could use the ContentObserver with Android.Net.Uri.WithAppendedPath(uri, &quot;data&quot;) then I could use it to make a query with it that is the only part I dont know how to pick /join columns for adding the ContactName I will update the Op"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1652140896,"post_id":72174992,"comment_id":127529330,"body_markdown":"@ToolmakerSteve I havent tested my code yet but I think this might work","body":"@ToolmakerSteve I havent tested my code yet but I think this might work"}],"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652140873,"creation_date":1652112361,"question_id":72174992,"body_markdown":"I am looking a way to handle this case when I would expect some service gets a notificaction when the contact database changed... but I dont find an example how to implement this class(for example a handler in this case would be some Action?) and how do I find the Uri for the contacts&#39; db ?\r\n\r\n```cs\r\n public class ContactContentObserver : ContentObserver\r\n    {\r\n      public Android.Content.Context _Context { get; set; }\r\n        public Android.Net.Uri GetCurrentContactData(Android.Net.Uri uri) =&gt;\r\n           Android.Net.Uri.WithAppendedPath(uri, &quot;data&quot;);\r\n        public ContactContentObserver(Handler handler) : base(handler)\r\n        {\r\n        }\r\n\r\n        public ContactContentObserver(IntPtr javaReference, JniHandleOwnership transfer) : base(javaReference, transfer)\r\n        {\r\n        }\r\n        public override void OnChange(bool selfChange, Android.Net.Uri uri)\r\n        {\r\n\r\n            if(uri.Path.Contains(ContactsContract.AuthorityUri.Path))\r\n            {\r\n                // Android.Database\r\n                // Android.App.Application.Context.\r\n                string[] queryColumns =\r\n                {\r\n                    IPhoneLookupColumns.ContactId,\r\n                    IPhoneLookupColumns.DataId,\r\n                    IPhoneLookupColumns.Number,\r\n                    CommonDataKinds.StructuredName.DisplayName,\r\n                    CommonDataKinds.StructuredName.InterfaceConsts.ContactLastUpdatedTimestamp \r\n                };\r\n                Dictionary&lt;string, string&gt; values = new Dictionary&lt;string, string&gt;();\r\n                Android.Net.Uri newUri = GetCurrentContactData(uri);\r\n                ICursor? cursor  =_Context.ContentResolver.Query(newUri,queryColumns,null,null,null);\r\n                int cols = cursor.GetColumnNames().Length;\r\n                Dictionary&lt;string, ContactQueryResult&gt; contactQueryResult = new Dictionary&lt;string, ContactQueryResult&gt;();\r\n                for (int row=0;row&lt;cursor.Count;row++)\r\n                {\r\n                    for(int col=0;col&lt;cols;col++)\r\n                    {\r\n                        string val =  cursor.GetString(col);\r\n                        values.Add(cursor.GetColumnName(col), val);\r\n                    }\r\n                    \r\n                    int.TryParse(values[IPhoneLookupColumns.ContactId],  out int contactId);\r\n                    int.TryParse(values[IPhoneLookupColumns.DataId], out int dataId);\r\n                    DateTime dateModified = DateTime.MinValue;\r\n                    bool parsed =DateTime.TryParse(values[CommonDataKinds.StructuredName.InterfaceConsts.ContactLastUpdatedTimestamp], out dateModified);\r\n                    if (values[IPhoneLookupColumns.Number] is not null or &quot;&quot;)\r\n                    {\r\n                        string phone = values[IPhoneLookupColumns.Number];\r\n                        var val = new ContactQueryResult\r\n                        {\r\n                            ContactId = contactId,\r\n                            ContactLastUpdatedTimestamp = parsed ? dateModified : null,\r\n                            DataId = dataId,\r\n                            DisplayName = values[CommonDataKinds.StructuredName.DisplayName],\r\n                            PhoneNumber = phone\r\n                        };\r\n                        contactQueryResult.Add(phone, val);\r\n                    }\r\n\r\n                    values.Clear();\r\n                }\r\n   \r\n            }\r\n            base.OnChange(selfChange, uri);\r\n        }\r\n    }```","title":"How to implement a contentobserver specifically for contacts","body":"<p>I am looking a way to handle this case when I would expect some service gets a notificaction when the contact database changed... but I dont find an example how to implement this class(for example a handler in this case would be some Action?) and how do I find the Uri for the contacts' db ?</p>\n<pre class=\"lang-cs prettyprint-override\"><code> public class ContactContentObserver : ContentObserver\n    {\n      public Android.Content.Context _Context { get; set; }\n        public Android.Net.Uri GetCurrentContactData(Android.Net.Uri uri) =&gt;\n           Android.Net.Uri.WithAppendedPath(uri, &quot;data&quot;);\n        public ContactContentObserver(Handler handler) : base(handler)\n        {\n        }\n\n        public ContactContentObserver(IntPtr javaReference, JniHandleOwnership transfer) : base(javaReference, transfer)\n        {\n        }\n        public override void OnChange(bool selfChange, Android.Net.Uri uri)\n        {\n\n            if(uri.Path.Contains(ContactsContract.AuthorityUri.Path))\n            {\n                // Android.Database\n                // Android.App.Application.Context.\n                string[] queryColumns =\n                {\n                    IPhoneLookupColumns.ContactId,\n                    IPhoneLookupColumns.DataId,\n                    IPhoneLookupColumns.Number,\n                    CommonDataKinds.StructuredName.DisplayName,\n                    CommonDataKinds.StructuredName.InterfaceConsts.ContactLastUpdatedTimestamp \n                };\n                Dictionary&lt;string, string&gt; values = new Dictionary&lt;string, string&gt;();\n                Android.Net.Uri newUri = GetCurrentContactData(uri);\n                ICursor? cursor  =_Context.ContentResolver.Query(newUri,queryColumns,null,null,null);\n                int cols = cursor.GetColumnNames().Length;\n                Dictionary&lt;string, ContactQueryResult&gt; contactQueryResult = new Dictionary&lt;string, ContactQueryResult&gt;();\n                for (int row=0;row&lt;cursor.Count;row++)\n                {\n                    for(int col=0;col&lt;cols;col++)\n                    {\n                        string val =  cursor.GetString(col);\n                        values.Add(cursor.GetColumnName(col), val);\n                    }\n                    \n                    int.TryParse(values[IPhoneLookupColumns.ContactId],  out int contactId);\n                    int.TryParse(values[IPhoneLookupColumns.DataId], out int dataId);\n                    DateTime dateModified = DateTime.MinValue;\n                    bool parsed =DateTime.TryParse(values[CommonDataKinds.StructuredName.InterfaceConsts.ContactLastUpdatedTimestamp], out dateModified);\n                    if (values[IPhoneLookupColumns.Number] is not null or &quot;&quot;)\n                    {\n                        string phone = values[IPhoneLookupColumns.Number];\n                        var val = new ContactQueryResult\n                        {\n                            ContactId = contactId,\n                            ContactLastUpdatedTimestamp = parsed ? dateModified : null,\n                            DataId = dataId,\n                            DisplayName = values[CommonDataKinds.StructuredName.DisplayName],\n                            PhoneNumber = phone\n                        };\n                        contactQueryResult.Add(phone, val);\n                    }\n\n                    values.Clear();\n                }\n   \n            }\n            base.OnChange(selfChange, uri);\n        }\n    }```\n</code></pre>\n"},{"tags":["java","performance","javafx","optimization","graph"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1652125259,"post_id":72176545,"comment_id":127525969,"body_markdown":"Don&#39;t render millions of nodes, the runtime is not built to do that and you can&#39;t see all of the nodes anyway.","body":"Don&#39;t render millions of nodes, the runtime is not built to do that and you can&#39;t see all of the nodes anyway."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652125477,"post_id":72176545,"comment_id":127526022,"body_markdown":"Perhaps you could construct a [MeshView](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/MeshView.html) for your graph.","body":"Perhaps you could construct a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/MeshView.html\" rel=\"nofollow noreferrer\">MeshView</a> for your graph."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652125850,"post_id":72176545,"comment_id":127526127,"body_markdown":"You can find implementations of virtualized controls in the [JavaFX library source code](https://github.com/openjdk/jfx) (ListView and TableView implementations).  Those can be pretty complicated, ignore TableView and just concentrate on ListView.  Or in ControlsFX, with [GridView](https://github.com/controlsfx/controlsfx/blob/master/controlsfx/src/main/java/org/controlsfx/control/GridView.java).","body":"You can find implementations of virtualized controls in the <a href=\"https://github.com/openjdk/jfx\" rel=\"nofollow noreferrer\">JavaFX library source code</a> (ListView and TableView implementations).  Those can be pretty complicated, ignore TableView and just concentrate on ListView.  Or in ControlsFX, with <a href=\"https://github.com/controlsfx/controlsfx/blob/master/controlsfx/src/main/java/org/controlsfx/control/GridView.java\" rel=\"nofollow noreferrer\">GridView</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652125997,"post_id":72176545,"comment_id":127526169,"body_markdown":"I don&#39;t know if a virtualized control is what you want or not.  The main characteristic is that a virtualized control is backed by a model with a [cell factory](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ListView.html#cellFactoryProperty()).","body":"I don&#39;t know if a virtualized control is what you want or not.  The main characteristic is that a virtualized control is backed by a model with a <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ListView.html#cellFactoryProperty()\" rel=\"nofollow noreferrer\">cell factory</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652126149,"post_id":72176545,"comment_id":127526200,"body_markdown":"You could also consider a [tile engine](https://www.javacodegeeks.com/2013/01/writing-a-tile-engine-in-javafx.html) style approach if that is appropriate, perhaps something in [FXGL](https://github.com/AlmasB/FXGL) could assist with that.","body":"You could also consider a <a href=\"https://www.javacodegeeks.com/2013/01/writing-a-tile-engine-in-javafx.html\" rel=\"nofollow noreferrer\">tile engine</a> style approach if that is appropriate, perhaps something in <a href=\"https://github.com/AlmasB/FXGL\" rel=\"nofollow noreferrer\">FXGL</a> could assist with that."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652129206,"post_id":72176545,"comment_id":127527111,"body_markdown":"I think the question is currently too general to get a specific answer in a StackOverflow context, it probably [needs more focus](https://meta.stackoverflow.com/questions/417476/question-close-reasons-definitions-and-guidance/417486#417486), e.g. provide a [mcve] demonstrating the issue and perhaps somebody may help with optimizing the display.","body":"I think the question is currently too general to get a specific answer in a StackOverflow context, it probably <a href=\"https://meta.stackoverflow.com/questions/417476/question-close-reasons-definitions-and-guidance/417486#417486\">needs more focus</a>, e.g. provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue and perhaps somebody may help with optimizing the display."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652139715,"post_id":72176545,"comment_id":127529150,"body_markdown":"I [edited your question](https://stackoverflow.com/posts/72176545/revisions) to add an example app that replicates the issue.  I don&#39;t normally do that, and please delete the edit if it is not applicable.  I just thought it might be nice for somebody to actually see what happens with different node sizes when you try to render them.","body":"I <a href=\"https://stackoverflow.com/posts/72176545/revisions\">edited your question</a> to add an example app that replicates the issue.  I don&#39;t normally do that, and please delete the edit if it is not applicable.  I just thought it might be nice for somebody to actually see what happens with different node sizes when you try to render them."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652141603,"post_id":72176545,"comment_id":127529430,"body_markdown":"I took the example app that I added to your question.   What makes a big difference in performance is applying the first two hints in [this answer](https://stackoverflow.com/questions/14467719/what-is-the-best-way-to-display-millions-of-images-in-java) to the group containing the graph: tell the JavaFX system to cache the node and set the render hint to speed.  That will allow panning a graph of up to 500x500 nodes, greater than that it is much slower.  It is possible that may be due to a hardware render texture size limit rather than JavaFX.","body":"I took the example app that I added to your question.   What makes a big difference in performance is applying the first two hints in <a href=\"https://stackoverflow.com/questions/14467719/what-is-the-best-way-to-display-millions-of-images-in-java\">this answer</a> to the group containing the graph: tell the JavaFX system to cache the node and set the render hint to speed.  That will allow panning a graph of up to 500x500 nodes, greater than that it is much slower.  It is possible that may be due to a hardware render texture size limit rather than JavaFX."}],"owner":{"account_id":25246219,"reputation":19,"user_id":19079447,"display_name":"Alokin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1652140109,"creation_date":1652120305,"question_id":72176545,"body_markdown":"I am creating simple JavaFx application which visualizes mathematical graph in grid. Each vert can have max 4 connection. [This is how Graph looks like][1]\r\n\r\nI use AnchorPane to store data. Everythings goes fine while i am dealing with small graphs like 100x100, but when I increase amounts of rows and columns to something like 1000x1000 I have big issues with performance.\r\n\r\nIs there any easy way to render only visible verts or any other solution to optimise graph rendering?\r\n\r\nI have read about virtualized controls but I cannot find implementation of it. \r\n\r\n\r\n**Example app**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.*;\r\n    import javafx.scene.shape.&amp;;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class GraphApp extends Application {\r\n        private static final double D = 10;\r\n    \r\n        public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\r\n                &quot;&quot;&quot;\r\n                .root { -fx-base: cornsilk; }\r\n                .scroll-pane &gt; .viewport  { -fx-background-color: lightblue; }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            int[] sizes = { 3, 10, 50, 100, 200, 300, 500, 800, 1_000 };\r\n    \r\n            ScrollPane graphView = new ScrollPane();\r\n            graphView.setPannable(true);\r\n            graphView.setPrefSize(600, 600);\r\n    \r\n            ToggleGroup sizeToggleGroup = new ToggleGroup();\r\n    \r\n            HBox controls = new HBox(\r\n                    10\r\n            );\r\n            controls.setPadding(new Insets(10));\r\n    \r\n            controls.getChildren().addAll(\r\n                    Arrays.stream(sizes).mapToObj(\r\n                            n -&gt; createSizeSelector(n, sizeToggleGroup, graphView)\r\n                    ).toList()\r\n            );\r\n    \r\n            ((RadioButton) controls.getChildren().get(0)).fire();\r\n    \r\n            VBox layout = new VBox(controls, graphView);\r\n    \r\n            Scene scene = new Scene(layout);\r\n            layout.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private Node createSizeSelector(int n, ToggleGroup toggleGroup, ScrollPane graphView) {\r\n            RadioButton sizeSelector = new RadioButton(n + &quot;&quot;);\r\n            sizeSelector.setOnAction(\r\n                    e -&gt; graphView.setContent(\r\n                            createGraphView(n)\r\n                    )\r\n            );\r\n            sizeSelector.setToggleGroup(toggleGroup);\r\n    \r\n            return sizeSelector;\r\n        }\r\n    \r\n        private Parent createGraphView(int n) {\r\n            Group group = new Group();\r\n            Graph graph = new Graph(n);\r\n    \r\n            for (int row = 0; row &lt; n; row++) {\r\n                for (int col = 0; col &lt; n; col++) {\r\n                    GraphNode curNode = graph.getNodes()[row][col];\r\n                    GraphNode eastNode = curNode.getConnections()[Direction.E.ordinal()];\r\n                    GraphNode southNode = curNode.getConnections()[Direction.S.ordinal()];\r\n    \r\n                    if (eastNode != null) {\r\n                        Line line = new Line(\r\n                                mapX(col), mapY(row), mapX(col + 1), mapY(row)\r\n                        );\r\n                        line.setStroke(\r\n                                new LinearGradient(\r\n                                        0, 0,\r\n                                        1, 0,\r\n                                        true,\r\n                                        CycleMethod.NO_CYCLE,\r\n                                        new Stop(0, curNode.getColor()),\r\n                                        new Stop(1, eastNode.getColor())\r\n                                )\r\n                        );\r\n                        line.setStrokeWidth(D / 4);\r\n                        group.getChildren().add(line);\r\n                    }\r\n    \r\n                    if (southNode != null) {\r\n                        Line line = new Line(\r\n                                mapX(col), mapY(row), mapX(col), mapY(row + 1)\r\n                        );\r\n                        line.setStroke(\r\n                                new LinearGradient(\r\n                                        0, 0,\r\n                                        0, 1,\r\n                                        true,\r\n                                        CycleMethod.NO_CYCLE,\r\n                                        new Stop(0, curNode.getColor()),\r\n                                        new Stop(1, southNode.getColor())\r\n                                )\r\n                        );\r\n                        line.setStrokeWidth(D / 4);\r\n                        group.getChildren().add(line);\r\n                    }\r\n    \r\n                    Circle circle = new Circle(\r\n                            mapX(col),\r\n                            mapY(row),\r\n                            D / 2,\r\n                            curNode.getColor()\r\n                    );\r\n    \r\n                    group.getChildren().add(circle);\r\n                }\r\n            }\r\n    \r\n            return group;\r\n        }\r\n    \r\n        private double mapX(int col) {\r\n            return D + col * D * 2;\r\n        }\r\n    \r\n        private double mapY(int row) {\r\n            return D + row * D * 2;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    class Graph {\r\n        private static final double CONNECTIVITY_RATIO = 0.8;\r\n        private final int n;\r\n        private final GraphNode[][] nodes;\r\n    \r\n        public Graph(int n) {\r\n            this.n = n;\r\n    \r\n            nodes = new GraphNode[n][n];\r\n    \r\n            for (int row = 0; row &lt; this.n; row++) {\r\n                for (int col = 0; col &lt; this.n; col++) {\r\n                    nodes[row][col] = new GraphNode();\r\n                }\r\n            }\r\n    \r\n            for (int row = 0; row &lt; this.n; row++) {\r\n                for (int col = 0; col &lt; this.n; col++) {\r\n                    connectEast(row, col);\r\n                    connectSouth(row, col);\r\n                }\r\n            }\r\n    \r\n            // print();\r\n        }\r\n    \r\n        public void print() {\r\n            for (int row = 0; row &lt; n; row++) {\r\n                for (int col = 0; col &lt; n; col++) {\r\n                    System.out.println(nodes[row][col]);\r\n                }\r\n            }\r\n    \r\n            System.out.println(this);\r\n        }\r\n    \r\n        private void connectEast(int row, int col) {\r\n            if (col &gt;= n - 1 || !isConnected()) {\r\n                return;\r\n            }\r\n    \r\n            GraphNode fromNode = nodes[row][col];\r\n            GraphNode toNode = nodes[row][col+1];\r\n    \r\n            fromNode.connectTo(toNode, Direction.E);\r\n        }\r\n    \r\n        private void connectSouth(int row, int col) {\r\n            if (row &gt;= n - 1 || !isConnected()) {\r\n                return;\r\n            }\r\n    \r\n            GraphNode fromNode = nodes[row][col];\r\n            GraphNode toNode = nodes[row+1][col];\r\n    \r\n            fromNode.connectTo(toNode, Direction.S);\r\n        }\r\n    \r\n        private boolean isConnected() {\r\n            return ThreadLocalRandom.current().nextDouble() &lt; CONNECTIVITY_RATIO;\r\n        }\r\n    \r\n        public GraphNode[][] getNodes() {\r\n            return nodes;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder builder = new StringBuilder();\r\n    \r\n            for (int row = 0; row &lt; n; row++) {\r\n                for (int col = 0; col &lt; n; col++) {\r\n                    GraphNode curNode = nodes[row][col];\r\n                    builder.append(&#39;*&#39;);\r\n                    if (col &lt; n - 1) {\r\n                        builder.append(\r\n                                curNode.getConnections()[Direction.E.ordinal()] != null\r\n                                        ? &#39;-&#39;\r\n                                        : &#39; &#39;\r\n                        );\r\n                    }\r\n                }\r\n    \r\n                if (row &lt; n - 1) {\r\n                    builder.append(&#39;\\n&#39;);\r\n                    for (int col = 0; col &lt; n; col++) {\r\n                        GraphNode curNode = nodes[row][col];\r\n                        builder.append(\r\n                                curNode.getConnections()[Direction.S.ordinal()] != null\r\n                                        ? &#39;|&#39;\r\n                                        : &#39; &#39;\r\n                        );\r\n    \r\n                        if (col &lt; n - 1) {\r\n                            builder.append(&#39; &#39;);\r\n                        }\r\n                    }\r\n                    builder.append(&#39;\\n&#39;);\r\n                }\r\n            }\r\n    \r\n            return builder.toString();\r\n        }\r\n    }\r\n    \r\n    class GraphNode {\r\n        private final int id;\r\n        private final GraphNode[] connections = new GraphNode[4];\r\n        private final Color color;\r\n        private static final Color[] colorTable = { Color.RED, Color.GREEN, Color.BLUE };\r\n        private static final AtomicInteger sequence = new AtomicInteger();\r\n    \r\n        public GraphNode() {\r\n            id = sequence.getAndIncrement();\r\n            color = colorTable[\r\n                        ThreadLocalRandom.current().nextInt(\r\n                                colorTable.length\r\n                        )\r\n                    ];\r\n        }\r\n    \r\n        public GraphNode[] getConnections() {\r\n            return connections;\r\n        }\r\n    \r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public void connectTo(GraphNode toNode, Direction direction) {\r\n            // System.out.println(&quot;connected: &quot; + id + &quot; via &quot; + direction + &quot; to &quot; + toNode.id);\r\n            connections[direction.ordinal()] = toNode;\r\n            toNode.getConnections()[direction.opposite().ordinal()] = this;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;GraphNode{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, color=&quot; + color +\r\n                    &quot;, connections=&quot; +\r\n                        Arrays.stream(connections).map(\r\n                                n -&gt; n != null\r\n                                        ? n.id + &quot;&quot;\r\n                                        : &quot;-&quot;\r\n                        ).collect(\r\n                                Collectors.joining(\r\n                                        &quot;,&quot;\r\n                                )\r\n                        ) +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\n    enum Direction {\r\n        N, S, E, W;\r\n    \r\n        public Direction opposite() {\r\n            return switch (this) {\r\n                case N -&gt; S;\r\n                case S -&gt; N;\r\n                case E -&gt; W;\r\n                case W -&gt; E;\r\n            };\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/vch6u.png","title":"JavaFx performance issue while rendering milion of nodes","body":"<p>I am creating simple JavaFx application which visualizes mathematical graph in grid. Each vert can have max 4 connection. <a href=\"https://i.stack.imgur.com/vch6u.png\" rel=\"nofollow noreferrer\">This is how Graph looks like</a></p>\n<p>I use AnchorPane to store data. Everythings goes fine while i am dealing with small graphs like 100x100, but when I increase amounts of rows and columns to something like 1000x1000 I have big issues with performance.</p>\n<p>Is there any easy way to render only visible verts or any other solution to optimise graph rendering?</p>\n<p>I have read about virtualized controls but I cannot find implementation of it.</p>\n<p><strong>Example app</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.*;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.*;\nimport javafx.scene.shape.&amp;;\nimport javafx.stage.Stage;\n\nimport java.util.Arrays;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.Collectors;\n\npublic class GraphApp extends Application {\n    private static final double D = 10;\n\n    public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\n            &quot;&quot;&quot;\n            .root { -fx-base: cornsilk; }\n            .scroll-pane &gt; .viewport  { -fx-background-color: lightblue; }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void start(Stage stage) {\n        int[] sizes = { 3, 10, 50, 100, 200, 300, 500, 800, 1_000 };\n\n        ScrollPane graphView = new ScrollPane();\n        graphView.setPannable(true);\n        graphView.setPrefSize(600, 600);\n\n        ToggleGroup sizeToggleGroup = new ToggleGroup();\n\n        HBox controls = new HBox(\n                10\n        );\n        controls.setPadding(new Insets(10));\n\n        controls.getChildren().addAll(\n                Arrays.stream(sizes).mapToObj(\n                        n -&gt; createSizeSelector(n, sizeToggleGroup, graphView)\n                ).toList()\n        );\n\n        ((RadioButton) controls.getChildren().get(0)).fire();\n\n        VBox layout = new VBox(controls, graphView);\n\n        Scene scene = new Scene(layout);\n        layout.getStylesheets().add(CSS);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private Node createSizeSelector(int n, ToggleGroup toggleGroup, ScrollPane graphView) {\n        RadioButton sizeSelector = new RadioButton(n + &quot;&quot;);\n        sizeSelector.setOnAction(\n                e -&gt; graphView.setContent(\n                        createGraphView(n)\n                )\n        );\n        sizeSelector.setToggleGroup(toggleGroup);\n\n        return sizeSelector;\n    }\n\n    private Parent createGraphView(int n) {\n        Group group = new Group();\n        Graph graph = new Graph(n);\n\n        for (int row = 0; row &lt; n; row++) {\n            for (int col = 0; col &lt; n; col++) {\n                GraphNode curNode = graph.getNodes()[row][col];\n                GraphNode eastNode = curNode.getConnections()[Direction.E.ordinal()];\n                GraphNode southNode = curNode.getConnections()[Direction.S.ordinal()];\n\n                if (eastNode != null) {\n                    Line line = new Line(\n                            mapX(col), mapY(row), mapX(col + 1), mapY(row)\n                    );\n                    line.setStroke(\n                            new LinearGradient(\n                                    0, 0,\n                                    1, 0,\n                                    true,\n                                    CycleMethod.NO_CYCLE,\n                                    new Stop(0, curNode.getColor()),\n                                    new Stop(1, eastNode.getColor())\n                            )\n                    );\n                    line.setStrokeWidth(D / 4);\n                    group.getChildren().add(line);\n                }\n\n                if (southNode != null) {\n                    Line line = new Line(\n                            mapX(col), mapY(row), mapX(col), mapY(row + 1)\n                    );\n                    line.setStroke(\n                            new LinearGradient(\n                                    0, 0,\n                                    0, 1,\n                                    true,\n                                    CycleMethod.NO_CYCLE,\n                                    new Stop(0, curNode.getColor()),\n                                    new Stop(1, southNode.getColor())\n                            )\n                    );\n                    line.setStrokeWidth(D / 4);\n                    group.getChildren().add(line);\n                }\n\n                Circle circle = new Circle(\n                        mapX(col),\n                        mapY(row),\n                        D / 2,\n                        curNode.getColor()\n                );\n\n                group.getChildren().add(circle);\n            }\n        }\n\n        return group;\n    }\n\n    private double mapX(int col) {\n        return D + col * D * 2;\n    }\n\n    private double mapY(int row) {\n        return D + row * D * 2;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass Graph {\n    private static final double CONNECTIVITY_RATIO = 0.8;\n    private final int n;\n    private final GraphNode[][] nodes;\n\n    public Graph(int n) {\n        this.n = n;\n\n        nodes = new GraphNode[n][n];\n\n        for (int row = 0; row &lt; this.n; row++) {\n            for (int col = 0; col &lt; this.n; col++) {\n                nodes[row][col] = new GraphNode();\n            }\n        }\n\n        for (int row = 0; row &lt; this.n; row++) {\n            for (int col = 0; col &lt; this.n; col++) {\n                connectEast(row, col);\n                connectSouth(row, col);\n            }\n        }\n\n        // print();\n    }\n\n    public void print() {\n        for (int row = 0; row &lt; n; row++) {\n            for (int col = 0; col &lt; n; col++) {\n                System.out.println(nodes[row][col]);\n            }\n        }\n\n        System.out.println(this);\n    }\n\n    private void connectEast(int row, int col) {\n        if (col &gt;= n - 1 || !isConnected()) {\n            return;\n        }\n\n        GraphNode fromNode = nodes[row][col];\n        GraphNode toNode = nodes[row][col+1];\n\n        fromNode.connectTo(toNode, Direction.E);\n    }\n\n    private void connectSouth(int row, int col) {\n        if (row &gt;= n - 1 || !isConnected()) {\n            return;\n        }\n\n        GraphNode fromNode = nodes[row][col];\n        GraphNode toNode = nodes[row+1][col];\n\n        fromNode.connectTo(toNode, Direction.S);\n    }\n\n    private boolean isConnected() {\n        return ThreadLocalRandom.current().nextDouble() &lt; CONNECTIVITY_RATIO;\n    }\n\n    public GraphNode[][] getNodes() {\n        return nodes;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n\n        for (int row = 0; row &lt; n; row++) {\n            for (int col = 0; col &lt; n; col++) {\n                GraphNode curNode = nodes[row][col];\n                builder.append('*');\n                if (col &lt; n - 1) {\n                    builder.append(\n                            curNode.getConnections()[Direction.E.ordinal()] != null\n                                    ? '-'\n                                    : ' '\n                    );\n                }\n            }\n\n            if (row &lt; n - 1) {\n                builder.append('\\n');\n                for (int col = 0; col &lt; n; col++) {\n                    GraphNode curNode = nodes[row][col];\n                    builder.append(\n                            curNode.getConnections()[Direction.S.ordinal()] != null\n                                    ? '|'\n                                    : ' '\n                    );\n\n                    if (col &lt; n - 1) {\n                        builder.append(' ');\n                    }\n                }\n                builder.append('\\n');\n            }\n        }\n\n        return builder.toString();\n    }\n}\n\nclass GraphNode {\n    private final int id;\n    private final GraphNode[] connections = new GraphNode[4];\n    private final Color color;\n    private static final Color[] colorTable = { Color.RED, Color.GREEN, Color.BLUE };\n    private static final AtomicInteger sequence = new AtomicInteger();\n\n    public GraphNode() {\n        id = sequence.getAndIncrement();\n        color = colorTable[\n                    ThreadLocalRandom.current().nextInt(\n                            colorTable.length\n                    )\n                ];\n    }\n\n    public GraphNode[] getConnections() {\n        return connections;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n\n    public void connectTo(GraphNode toNode, Direction direction) {\n        // System.out.println(&quot;connected: &quot; + id + &quot; via &quot; + direction + &quot; to &quot; + toNode.id);\n        connections[direction.ordinal()] = toNode;\n        toNode.getConnections()[direction.opposite().ordinal()] = this;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GraphNode{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, color=&quot; + color +\n                &quot;, connections=&quot; +\n                    Arrays.stream(connections).map(\n                            n -&gt; n != null\n                                    ? n.id + &quot;&quot;\n                                    : &quot;-&quot;\n                    ).collect(\n                            Collectors.joining(\n                                    &quot;,&quot;\n                            )\n                    ) +\n                '}';\n    }\n}\n\nenum Direction {\n    N, S, E, W;\n\n    public Direction opposite() {\n        return switch (this) {\n            case N -&gt; S;\n            case S -&gt; N;\n            case E -&gt; W;\n            case W -&gt; E;\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","javascript","string","escaping"],"comments":[{"owner":{"account_id":19220,"reputation":114617,"user_id":44853,"accept_rate":77,"display_name":"lc."},"score":7,"creation_date":1349717104,"post_id":12786483,"comment_id":17285509,"body_markdown":"Semicolons in string literals are meaningless...What are you getting at here?","body":"Semicolons in string literals are meaningless...What are you getting at here?"},{"owner":{"account_id":210807,"reputation":165548,"user_id":462627,"accept_rate":100,"display_name":"Praveen Kumar Purushothaman"},"score":2,"creation_date":1349717131,"post_id":12786483,"comment_id":17285524,"body_markdown":"You don&#39;t need to escape semicolons","body":"You don&#39;t need to escape semicolons"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1349717139,"post_id":12786483,"comment_id":17285526,"body_markdown":"What problem are you getting.. Semi-colon will not trouble you.. Get going..","body":"What problem are you getting.. Semi-colon will not trouble you.. Get going.."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1349718029,"post_id":12786483,"comment_id":17285868,"body_markdown":"Are you getting an error message or seeing the code getting cut off somewhere?","body":"Are you getting an error message or seeing the code getting cut off somewhere?"},{"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"score":0,"creation_date":1349719949,"post_id":12786483,"comment_id":17286637,"body_markdown":"Oh, I thought java mix up with semicolon that ends an statement. As long as semicolon inside &quot;&quot; marks it not trouble. Thanks for clearing that out.","body":"Oh, I thought java mix up with semicolon that ends an statement. As long as semicolon inside &quot;&quot; marks it not trouble. Thanks for clearing that out."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":2,"creation_date":1349795819,"post_id":12786483,"comment_id":17313378,"body_markdown":"I don&#39;t understand why this question is non-constructive.  It&#39;s a valid question.  Just because it&#39;s misguided or has an obvious (to most of us) answer, doesn&#39;t mean it&#39;s non-constructive.","body":"I don&#39;t understand why this question is non-constructive.  It&#39;s a valid question.  Just because it&#39;s misguided or has an obvious (to most of us) answer, doesn&#39;t mean it&#39;s non-constructive."},{"owner":{"account_id":283183,"reputation":9890,"user_id":580552,"accept_rate":52,"display_name":"sebastianf182"},"score":0,"creation_date":1570197121,"post_id":12786483,"comment_id":102848314,"body_markdown":"For everyone that is questioning the motives, if you try to export data into a CSV that is going to be separed by semicolon, if they are unescaped it will break the file.","body":"For everyone that is questioning the motives, if you try to export data into a CSV that is going to be separed by semicolon, if they are unescaped it will break the file."}],"answers":[{"tags":[],"owner":{"account_id":1124428,"reputation":2689,"user_id":1112042,"display_name":"Jordan Denison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349717153,"creation_date":1349717136,"answer_id":12786523,"question_id":12786483,"body_markdown":"As long as the `;` is inside your double quotes you shouldn&#39;t need to escape it.","title":"How do I escape a semicolon inside of a String?","body":"<p>As long as the <code>;</code> is inside your double quotes you shouldn't need to escape it.</p>\n"},{"tags":[],"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349717154,"creation_date":1349717154,"answer_id":12786526,"question_id":12786483,"body_markdown":"Semicolons are not special characters. There&#39;s no need of escaping them when they&#39;re in a `String`. You can always test a string&#39;s behavior by using the little old `System.out.println()` method.","title":"How do I escape a semicolon inside of a String?","body":"<p>Semicolons are not special characters. There's no need of escaping them when they're in a <code>String</code>. You can always test a string's behavior by using the little old <code>System.out.println()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":210807,"reputation":165548,"user_id":462627,"accept_rate":100,"display_name":"Praveen Kumar Purushothaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652140071,"creation_date":1349717156,"answer_id":12786529,"question_id":12786483,"body_markdown":"You don&#39;t need to escape your `;` when they are inside `&quot;` or `&#39;`, as they are literals and are perfectly safe.","title":"How do I escape a semicolon inside of a String?","body":"<p>You don't need to escape your <code>;</code> when they are inside <code>&quot;</code> or <code>'</code>, as they are literals and are perfectly safe.</p>\n"},{"tags":[],"owner":{"account_id":743291,"reputation":4158,"user_id":726047,"accept_rate":87,"display_name":"Matthew Kirkley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1349720537,"creation_date":1349717537,"answer_id":12786634,"question_id":12786483,"body_markdown":"I think what you really want to do is escape the quote characters in your javascript not your semicolon characters.\r\n\r\nSo ultimately you would want\r\n\r\n\r\n    String complexString = &quot;&lt;script type=\\&quot;text/javascript\\&quot;&gt;&lt;!--\r\n    google_ad_client = \\&quot;8888888888888\\&quot;;\r\n    /* Error Page Ads */\r\n    google_ad_slot = \\&quot;8888888\\&quot;;\r\n    google_ad_width = 336;\r\n    google_ad_height = 280;\r\n    //--&gt;\r\n    &lt;/script&gt;  \r\n    &lt;script type=\\&quot;text/javascript\\&quot;\r\n    src=\\&quot;http://pagead2.googlesyndication.com/pagead/show_ads.js\\&quot;&gt;  \r\n    &lt;/script&gt;&quot;\r\n","title":"How do I escape a semicolon inside of a String?","body":"<p>I think what you really want to do is escape the quote characters in your javascript not your semicolon characters.</p>\n\n<p>So ultimately you would want</p>\n\n<pre><code>String complexString = \"&lt;script type=\\\"text/javascript\\\"&gt;&lt;!--\ngoogle_ad_client = \\\"8888888888888\\\";\n/* Error Page Ads */\ngoogle_ad_slot = \\\"8888888\\\";\ngoogle_ad_width = 336;\ngoogle_ad_height = 280;\n//--&gt;\n&lt;/script&gt;  \n&lt;script type=\\\"text/javascript\\\"\nsrc=\\\"http://pagead2.googlesyndication.com/pagead/show_ads.js\\\"&gt;  \n&lt;/script&gt;\"\n</code></pre>\n"}],"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37729,"favorite_count":0,"down_vote_count":7,"up_vote_count":6,"closed_date":1349724955,"accepted_answer_id":12786634,"answer_count":4,"score":-1,"last_activity_date":1652140071,"creation_date":1349716974,"question_id":12786483,"body_markdown":"I need to initialize complex javascript code as an string. But that javascript code contains semicolon and &quot; mark. I know I can escape &quot; mark using \\&quot;. But I don&#39;t know how to escape semicolon. \r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--\r\n    google_ad_client = &quot;8888888888888&quot;;\r\n    /* Error Page Ads */\r\n    google_ad_slot = &quot;8888888&quot;;\r\n    google_ad_width = 336;\r\n    google_ad_height = 280;\r\n    //--&gt;\r\n    &lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot;\r\n    src=&quot;http://pagead2.googlesyndication.com/pagead/show_ads.js&quot;&gt;\r\n    &lt;/script&gt;\r\n\r\nI need to initialize above code as,\r\n\r\n    String complexString = &quot;Above code here&quot;;\r\n\r\nI can&#39;t concatenate slices of code, because that way ; will be removed. Right?\r\n\r\nThis is for Servlet. I may be foolish, but pardon me.","title":"How do I escape a semicolon inside of a String?","body":"<p>I need to initialize complex javascript code as an string. But that javascript code contains semicolon and \" mark. I know I can escape \" mark using \\\". But I don't know how to escape semicolon. </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;&lt;!--\ngoogle_ad_client = \"8888888888888\";\n/* Error Page Ads */\ngoogle_ad_slot = \"8888888\";\ngoogle_ad_width = 336;\ngoogle_ad_height = 280;\n//--&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\"\nsrc=\"http://pagead2.googlesyndication.com/pagead/show_ads.js\"&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>I need to initialize above code as,</p>\n\n<pre><code>String complexString = \"Above code here\";\n</code></pre>\n\n<p>I can't concatenate slices of code, because that way ; will be removed. Right?</p>\n\n<p>This is for Servlet. I may be foolish, but pardon me.</p>\n"},{"tags":["java","spring","metrics","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652139645,"creation_date":1652139645,"answer_id":72179246,"question_id":72173167,"body_markdown":"You don&#39;t need to do anything to see those metrics if you are using Spring to create your endpoint (mvc or webflux).\r\n\r\nYou should see `http.server.requests` which has all the details (as tags) that you have in the name above (uri, status) and more.\r\n\r\nIn order to make `@Counted` (and/or `@Timed` work) you need to create a `CountedAspect` (and/or `TimedAspect`) `@Bean` but as I said, if you only use it on the controlled, they are not needed.","title":"Enable metrics for endpoints in Spring micrometer","body":"<p>You don't need to do anything to see those metrics if you are using Spring to create your endpoint (mvc or webflux).</p>\n<p>You should see <code>http.server.requests</code> which has all the details (as tags) that you have in the name above (uri, status) and more.</p>\n<p>In order to make <code>@Counted</code> (and/or <code>@Timed</code> work) you need to create a <code>CountedAspect</code> (and/or <code>TimedAspect</code>) <code>@Bean</code> but as I said, if you only use it on the controlled, they are not needed.</p>\n"}],"owner":{"account_id":22167558,"reputation":1,"user_id":16413502,"display_name":"Bogdan Mazur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652139645,"creation_date":1652104550,"question_id":72173167,"body_markdown":"I&#39;m migrating Java Spring project from java 8 to java 11. So I need to replace dropwizard metrics with micrometer. Dropwizard metrics were recording statuses and responses when hitting certain endpoint.\r\nE.g: endpoint ```localhost:8080/my_service/v1/api/some/endpoint ``` --&gt;&gt; and metrics recorded\r\n```metrics.prefix.counter.status.200.v1.api.some.endpoint```\r\n```metrics.prefix.gauge.response.v1.api.some.endpoint```\r\n\r\nIs there a way to anable the same in Micrometer? I&#39;m aware there is ```@Counted``` annotation, but for some reason it doesn&#39;t work. (I&#39;m putting it on endpoint method).\r\n\r\nMy propertries file (metrics-related values only):\r\n```\r\nmanagement.metrics.export.statsd.enabled=true\r\nmanagement.metrics.export.statsd.host=****\r\nmanagement.metrics.export.statsd.port=8125\r\nmanagement.metrics.export.statsd.flavor=etsy\r\nmanagement.metrics.export.statsd.prefix=metrics.prefix\r\nmanagement.metrics.export.statsd.polling-frequency=10s\r\nmanagement.metrics.web.server.auto-time-requests=:true\r\n```","title":"Enable metrics for endpoints in Spring micrometer","body":"<p>I'm migrating Java Spring project from java 8 to java 11. So I need to replace dropwizard metrics with micrometer. Dropwizard metrics were recording statuses and responses when hitting certain endpoint.\nE.g: endpoint <code>localhost:8080/my_service/v1/api/some/endpoint </code> --&gt;&gt; and metrics recorded\n<code>metrics.prefix.counter.status.200.v1.api.some.endpoint</code>\n<code>metrics.prefix.gauge.response.v1.api.some.endpoint</code></p>\n<p>Is there a way to anable the same in Micrometer? I'm aware there is <code>@Counted</code> annotation, but for some reason it doesn't work. (I'm putting it on endpoint method).</p>\n<p>My propertries file (metrics-related values only):</p>\n<pre><code>management.metrics.export.statsd.enabled=true\nmanagement.metrics.export.statsd.host=****\nmanagement.metrics.export.statsd.port=8125\nmanagement.metrics.export.statsd.flavor=etsy\nmanagement.metrics.export.statsd.prefix=metrics.prefix\nmanagement.metrics.export.statsd.polling-frequency=10s\nmanagement.metrics.web.server.auto-time-requests=:true\n</code></pre>\n"},{"tags":["java","spring-security","saml","opensaml"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652121211,"post_id":72175527,"comment_id":127524714,"body_markdown":"Does this answer your question? [How do I enable logging for Spring Security?](https://stackoverflow.com/questions/30855252/how-do-i-enable-logging-for-spring-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30855252/how-do-i-enable-logging-for-spring-security\">How do I enable logging for Spring Security?</a>"},{"owner":{"account_id":1873659,"reputation":123,"user_id":1695356,"display_name":"tbird"},"score":0,"creation_date":1652121921,"post_id":72175527,"comment_id":127524965,"body_markdown":"No. I did the `@EnableWebSecurity(debug = true)` suggested there. The application.properties change didn&#39;t do anything.","body":"No. I did the <code>@EnableWebSecurity(debug = true)</code> suggested there. The application.properties change didn&#39;t do anything."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652127785,"post_id":72175527,"comment_id":127526673,"body_markdown":"`logging.level.org.springframework.security=DEBUG` look at what the string looks like... you turn on logging per `PACKAGE` this is exaplined in the spring documentation. so `logging.level.mypackagename=debug`","body":"<code>logging.level.org.springframework.security=DEBUG</code> look at what the string looks like... you turn on logging per <code>PACKAGE</code> this is exaplined in the spring documentation. so <code>logging.level.mypackagename=debug</code>"},{"owner":{"account_id":1873659,"reputation":123,"user_id":1695356,"display_name":"tbird"},"score":0,"creation_date":1652129987,"post_id":72175527,"comment_id":127527339,"body_markdown":"I created `/resources/application.properties` and added these to no effect: \n`logging.level.root=DEBUG` \n`logging.level.org.springframework.web=DEBUG` \n`logging.level.org.springframework.security=DEBUG` \n`logging.level.org.springframework.security.saml=DEBUG` \n`logging.level.org.opensaml.xmlsec=TRACE`. What else do I need to do?","body":"I created <code>&#47;resources&#47;application.properties</code> and added these to no effect:  <code>logging.level.root=DEBUG</code>  <code>logging.level.org.springframework.web=DEBUG</code>  <code>logging.level.org.springframework.security=DEBUG</code>  <code>logging.level.org.springframework.security.saml=DEBUG</code>  <code>logging.level.org.opensaml.xmlsec=TRACE</code>. What else do I need to do?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652130853,"post_id":72175527,"comment_id":127527560,"body_markdown":"then there is clearly something in your setup and it is impossible for us to reproduce with the information given.","body":"then there is clearly something in your setup and it is impossible for us to reproduce with the information given."},{"owner":{"account_id":1873659,"reputation":123,"user_id":1695356,"display_name":"tbird"},"score":0,"creation_date":1652132011,"post_id":72175527,"comment_id":127527830,"body_markdown":"I suspect those would work if I was using Spring Boot, which I&#39;m not. I&#39;m using the &quot;Java Configuration&quot; sample as-is and Tomcat is also unmodified, so I don&#39;t know what would be special about my setup. I was hoping someone here might know or have experience with logging in the sample I&#39;m using.","body":"I suspect those would work if I was using Spring Boot, which I&#39;m not. I&#39;m using the &quot;Java Configuration&quot; sample as-is and Tomcat is also unmodified, so I don&#39;t know what would be special about my setup. I was hoping someone here might know or have experience with logging in the sample I&#39;m using."}],"answers":[{"tags":[],"owner":{"account_id":1873659,"reputation":123,"user_id":1695356,"display_name":"tbird"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652138487,"creation_date":1652137059,"answer_id":72179009,"question_id":72175527,"body_markdown":"I got logging to work. Instead of adding the slf4j dependency, I added logback to the build.gradle file:\r\n\r\n\timplementation &#39;ch.qos.logback:logback-classic:1.2.11&#39;\r\n\r\nThen the app uses the resources/logback.xml file. To that I added these tags:\r\n\r\n\t&lt;logger name=&quot;org.springframework.security&quot; level=&quot;DEBUG&quot;/&gt;\r\n\t&lt;logger name=&quot;org.springframework.security.saml2&quot; level=&quot;TRACE&quot; /&gt;\r\n\t&lt;logger name=&quot;org.springframework.security.authentication&quot; level=&quot;TRACE&quot; /&gt;\r\n\t&lt;logger name=&quot;org.springframework.security.authorization&quot; level=&quot;TRACE&quot; /&gt;\r\n\t&lt;logger name=&quot;org.opensaml&quot; level=&quot;INFO&quot; /&gt;\r\n\t&lt;logger name=&quot;org.opensaml.saml&quot; level=&quot;TRACE&quot; /&gt;\r\n\r\nThis provides the SAML details I was hoping for.","title":"How do I enable debug logging for the Spring Security SAML sample app?","body":"<p>I got logging to work. Instead of adding the slf4j dependency, I added logback to the build.gradle file:</p>\n<pre><code>implementation 'ch.qos.logback:logback-classic:1.2.11'\n</code></pre>\n<p>Then the app uses the resources/logback.xml file. To that I added these tags:</p>\n<pre><code>&lt;logger name=&quot;org.springframework.security&quot; level=&quot;DEBUG&quot;/&gt;\n&lt;logger name=&quot;org.springframework.security.saml2&quot; level=&quot;TRACE&quot; /&gt;\n&lt;logger name=&quot;org.springframework.security.authentication&quot; level=&quot;TRACE&quot; /&gt;\n&lt;logger name=&quot;org.springframework.security.authorization&quot; level=&quot;TRACE&quot; /&gt;\n&lt;logger name=&quot;org.opensaml&quot; level=&quot;INFO&quot; /&gt;\n&lt;logger name=&quot;org.opensaml.saml&quot; level=&quot;TRACE&quot; /&gt;\n</code></pre>\n<p>This provides the SAML details I was hoping for.</p>\n"}],"owner":{"account_id":1873659,"reputation":123,"user_id":1695356,"display_name":"tbird"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72179009,"answer_count":1,"score":1,"last_activity_date":1652138487,"creation_date":1652114775,"question_id":72175527,"body_markdown":"How can I turn on debug or trace level logging for the Spring Security SAML Sample app? Specifically, I want logging for this non-Spring Boot &quot;Java Configuration&quot; saml2/login sample app:  \r\nhttps://github.com/spring-projects/spring-security-samples/tree/main/servlet/java-configuration/saml2/login  \r\n\r\nI&#39;m using Tomcat, and I expect to see it logging to the catalina.out log file. If it&#39;s logged somewhere else, I&#39;ll take it wherever. \r\n\r\nWhat I&#39;m not using:   \r\nI&#39;m not using the Spring Boot samples, under `/servlet/spring-boot/java/saml2`.  \r\nI&#39;m not using the old end-of-life Spring Security SAML Extension:  \r\nhttps://github.com/spring-projects/spring-security-saml  \r\nSo, my Gradle dependencies are using the `org.springframework.security:spring-security-saml2-service-provider` (not the older `org.springframework.security.extensions:spring-security-saml2-core`).  \r\n\r\nThe sample app project includes the file `/resources/logback.xml`, but it does not appear to be used. It&#39;s set to `root level=&quot;TRACE&quot;` already, but nothing is being logged.\r\n\r\nI saw this logged in Tomcat:\r\n\r\n\tSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n\r\nSo, I added this dependency:\r\n\r\n\timplementation &#39;org.slf4j:slf4j-simple:1.7.30&#39;\r\n\r\nAnd, for my SecurityConfiguration class I set debug in this annotation: \r\n\r\n\t@EnableWebSecurity(debug = true)\r\n\r\nNow, with those two changes I do get some logging. But, I want more. This doesn&#39;t give me any SAML details. I want to see both SAMLRequest and SAMLResponse details. I want to see who the user is and their attributes, and any errors. \r\n\r\nFor example, in the browser Spring Security was responding with a page that said &quot;Invalid credentials&quot; after logging in at the IdP, but nothing was being logged about it, even with `debug = true` set. Looking at the SAMLResponse xml from the IdP in the browser, the IdP was happy and was not reporting invalid credentials. It turned out I had old session cookies that was confusing something, and deleting my cookies cleared the error, but it would have been nice to see something about that in the logs.\r\n\r\nSpring Security SAML uses OpenSAML, so perhaps it&#39;s not Spring Security logging that I need to turn on, but OpenSAML.","title":"How do I enable debug logging for the Spring Security SAML sample app?","body":"<p>How can I turn on debug or trace level logging for the Spring Security SAML Sample app? Specifically, I want logging for this non-Spring Boot &quot;Java Configuration&quot; saml2/login sample app:<br />\n<a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/java-configuration/saml2/login\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security-samples/tree/main/servlet/java-configuration/saml2/login</a></p>\n<p>I'm using Tomcat, and I expect to see it logging to the catalina.out log file. If it's logged somewhere else, I'll take it wherever.</p>\n<p>What I'm not using:<br />\nI'm not using the Spring Boot samples, under <code>/servlet/spring-boot/java/saml2</code>.<br />\nI'm not using the old end-of-life Spring Security SAML Extension:<br />\n<a href=\"https://github.com/spring-projects/spring-security-saml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security-saml</a><br />\nSo, my Gradle dependencies are using the <code>org.springframework.security:spring-security-saml2-service-provider</code> (not the older <code>org.springframework.security.extensions:spring-security-saml2-core</code>).</p>\n<p>The sample app project includes the file <code>/resources/logback.xml</code>, but it does not appear to be used. It's set to <code>root level=&quot;TRACE&quot;</code> already, but nothing is being logged.</p>\n<p>I saw this logged in Tomcat:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\n</code></pre>\n<p>So, I added this dependency:</p>\n<pre><code>implementation 'org.slf4j:slf4j-simple:1.7.30'\n</code></pre>\n<p>And, for my SecurityConfiguration class I set debug in this annotation:</p>\n<pre><code>@EnableWebSecurity(debug = true)\n</code></pre>\n<p>Now, with those two changes I do get some logging. But, I want more. This doesn't give me any SAML details. I want to see both SAMLRequest and SAMLResponse details. I want to see who the user is and their attributes, and any errors.</p>\n<p>For example, in the browser Spring Security was responding with a page that said &quot;Invalid credentials&quot; after logging in at the IdP, but nothing was being logged about it, even with <code>debug = true</code> set. Looking at the SAMLResponse xml from the IdP in the browser, the IdP was happy and was not reporting invalid credentials. It turned out I had old session cookies that was confusing something, and deleting my cookies cleared the error, but it would have been nice to see something about that in the logs.</p>\n<p>Spring Security SAML uses OpenSAML, so perhaps it's not Spring Security logging that I need to turn on, but OpenSAML.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1652136355,"post_id":72178904,"comment_id":127528650,"body_markdown":"`id=asd;` should be `this.id=this.asd=asd;` and remove `int id=asd;` line","body":"<code>id=asd;</code> should be <code>this.id=this.asd=asd;</code> and remove <code>int id=asd;</code> line"},{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1652136984,"post_id":72178904,"comment_id":127528730,"body_markdown":"I did try this, sadly it still wont work. both print(asd) and printf(id) still show 0","body":"I did try this, sadly it still wont work. both print(asd) and printf(id) still show 0"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652138142,"creation_date":1652138142,"answer_id":72179117,"question_id":72178904,"body_markdown":"Starting with...\r\n\r\n    public int asd,id;\r\n    \r\n    public customerAppointmentScreen(int asd) {\r\n        System.out.println(&quot;asd &quot;);\r\n        System.out.println(asd);\r\n        id=asd;\r\n        System.out.println(id);\r\n        \r\n    }\r\n\r\nThe parameter `asd` is never assigned to the instance field `asd`, so the instance field remains `0` (`id` on the other hand is equal to the parameter `asd`)\r\n\r\nWhen the `ActionListener` is triggered...\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == massB) {\r\n            int id = asd;\r\n            System.out.println(asd);\r\n            System.out.println(id);\r\n            //this.setVisible(false);\r\n        } else if (e.getSource() == indiB) {\r\n\r\n            this.setVisible(false);\r\n        }\r\n    }\r\n\r\nYou assign the instance field `asd` value to the local variable `id`, since `asd` is still zero, so is `id`.\r\n\r\nThe &quot;simple&quot; solution would be to assign the parameter from the constructor to the appropriate instance field OR use the correct instance field in the `ActionListener`, depending on your intentions.","title":"Accessing local variable within actionPerformed Java eclipse","body":"<p>Starting with...</p>\n<pre><code>public int asd,id;\n\npublic customerAppointmentScreen(int asd) {\n    System.out.println(&quot;asd &quot;);\n    System.out.println(asd);\n    id=asd;\n    System.out.println(id);\n    \n}\n</code></pre>\n<p>The parameter <code>asd</code> is never assigned to the instance field <code>asd</code>, so the instance field remains <code>0</code> (<code>id</code> on the other hand is equal to the parameter <code>asd</code>)</p>\n<p>When the <code>ActionListener</code> is triggered...</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    if (e.getSource() == massB) {\n        int id = asd;\n        System.out.println(asd);\n        System.out.println(id);\n        //this.setVisible(false);\n    } else if (e.getSource() == indiB) {\n\n        this.setVisible(false);\n    }\n}\n</code></pre>\n<p>You assign the instance field <code>asd</code> value to the local variable <code>id</code>, since <code>asd</code> is still zero, so is <code>id</code>.</p>\n<p>The &quot;simple&quot; solution would be to assign the parameter from the constructor to the appropriate instance field OR use the correct instance field in the <code>ActionListener</code>, depending on your intentions.</p>\n"}],"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72179117,"answer_count":1,"score":-2,"last_activity_date":1652138142,"creation_date":1652136011,"question_id":72178904,"body_markdown":"i am trying to reach the value within an int variable from within the actionPerformed class, the integer comes from another class where its passed as an argument &quot;asd&quot; and holds the value &quot;1&quot;. I obviously deleted some lines from the code i posted below to make it easier to read but what i ve deleted has nothing to do with the problem im having.\r\nSo here, the output i see is;\r\n\r\n    asd\r\n    \r\n    1\r\n    \r\n    1\r\n    \r\n    0\r\n    \r\n    0\r\n\r\nthe last two outputs are from the actionPerformed class, they appear when i click the related button. How can i make it so those 2 outputs are also shown as 1?\r\n\r\n    public class customerAppointmentScreen extends JFrame implements ActionListener{\r\n\tprivate JButton massB,indiB;\r\n\tpublic int asd,id;\r\n\t\r\n\tpublic customerAppointmentScreen(int asd) {\r\n\t\tSystem.out.println(&quot;asd &quot;);\r\n\t\tSystem.out.println(asd);\r\n\t\tid=asd;\r\n\t\tSystem.out.println(id);\r\n\t\t\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tif(e.getSource()==massB) {\r\n\t\t\tint id=asd;\r\n\t\t\tSystem.out.println(asd);\r\n\t\t\tSystem.out.println(id);\r\n\t\t\t//this.setVisible(false);\r\n\t\t}\r\n\t\telse if(e.getSource()==indiB) {\r\n\t\t\t\r\n\t\t\tthis.setVisible(false);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n","title":"Accessing local variable within actionPerformed Java eclipse","body":"<p>i am trying to reach the value within an int variable from within the actionPerformed class, the integer comes from another class where its passed as an argument &quot;asd&quot; and holds the value &quot;1&quot;. I obviously deleted some lines from the code i posted below to make it easier to read but what i ve deleted has nothing to do with the problem im having.\nSo here, the output i see is;</p>\n<pre><code>asd\n\n1\n\n1\n\n0\n\n0\n</code></pre>\n<p>the last two outputs are from the actionPerformed class, they appear when i click the related button. How can i make it so those 2 outputs are also shown as 1?</p>\n<pre><code>public class customerAppointmentScreen extends JFrame implements ActionListener{\nprivate JButton massB,indiB;\npublic int asd,id;\n\npublic customerAppointmentScreen(int asd) {\n    System.out.println(&quot;asd &quot;);\n    System.out.println(asd);\n    id=asd;\n    System.out.println(id);\n    \n}\n\npublic void actionPerformed(ActionEvent e) {\n    // TODO Auto-generated method stub\n    \n    if(e.getSource()==massB) {\n        int id=asd;\n        System.out.println(asd);\n        System.out.println(id);\n        //this.setVisible(false);\n    }\n    else if(e.getSource()==indiB) {\n        \n        this.setVisible(false);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652138094,"creation_date":1652137766,"answer_id":72179088,"question_id":72178199,"body_markdown":"**Solution 1, Disable test with custom annotation**\r\n&lt;br&gt;JUnit 5 provides a type of extension that can control whether or not a test should be run. This is defined by implementing the [ExecutionCondition][1] interface.\r\n&lt;br&gt;Extension implementation:\r\n```java\r\nimport org.junit.jupiter.api.extension.ConditionEvaluationResult;\r\nimport org.junit.jupiter.api.extension.ExecutionCondition;\r\nimport org.junit.jupiter.api.extension.ExtensionContext;\r\nimport org.junit.platform.commons.logging.Logger;\r\nimport org.junit.platform.commons.logging.LoggerFactory;\r\nimport org.junit.platform.commons.util.AnnotationUtils;\r\n\r\nimport java.lang.annotation.Annotation;\r\nimport java.lang.reflect.AnnotatedElement;\r\n\r\npublic class SkipConditionExtension implements ExecutionCondition {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SkipConditionExtension.class);\r\n\r\n    @Override\r\n    public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\r\n        AnnotatedElement element = context.getElement().orElse(null);\r\n\r\n        if (hasMyAnnotation(element, MyAnnotation.class)) {\r\n            LOGGER.info(() -&gt;&quot;Skipping test&quot;);\r\n            return ConditionEvaluationResult.disabled(String.format(&quot;Skipped test: %s by @MyAnnotation&quot;, element));\r\n        }\r\n\r\n        return ConditionEvaluationResult.enabled(&quot;Test enabled&quot;);\r\n    }\r\n\r\n    private &lt;T extends Annotation&gt;  boolean hasMyAnnotation(final AnnotatedElement element, Class&lt;T&gt; annotation) {\r\n        return element != null &amp;&amp; AnnotationUtils.findAnnotation(element, annotation).isPresent();\r\n    }\r\n}\r\n```\r\nRegistring extenssion:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\n\r\n@ExtendWith(SkipConditionExtension.class)\r\npublic class TestObject {\r\n    @Test\r\n    public void test1() {\r\n\r\n    }\r\n\r\n    @Test\r\n    @MyAnnotation\r\n    public void test2() {\r\n\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nINFO: Skipping test\r\nSkipped test: public void com.test.TestObject.test2() by @MyAnnotation\r\n```\r\n\r\n**Solution 2, Skip test via invocation interseptor**\r\n&lt;br&gt;[InvocationInterceptor][2] iterface defines the API for Extensions that wish to intercept calls to test.\r\n&lt;br&gt;Current implementation will behave *exactly like your previous* `Rule`. \r\n&lt;br&gt;Extension implementation:\r\n```java\r\nimport org.junit.jupiter.api.extension.ExtensionContext;\r\nimport org.junit.jupiter.api.extension.InvocationInterceptor;\r\nimport org.junit.jupiter.api.extension.ReflectiveInvocationContext;\r\nimport org.junit.platform.commons.logging.Logger;\r\nimport org.junit.platform.commons.logging.LoggerFactory;\r\nimport org.junit.platform.commons.util.AnnotationUtils;\r\n\r\nimport java.lang.annotation.Annotation;\r\nimport java.lang.reflect.AnnotatedElement;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class SkipCondition implements InvocationInterceptor {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SkipConditionExtension.class);\r\n\r\n    @Override\r\n    public void interceptTestMethod(Invocation&lt;Void&gt; invocation, ReflectiveInvocationContext&lt;Method&gt; invocationContext, ExtensionContext extensionContext) throws Throwable {\r\n        AnnotatedElement element = extensionContext.getElement().orElse(null);\r\n        if (hasMyAnnotation(element, MyAnnotation.class)) {\r\n            LOGGER.info(() -&gt;&quot;Skipping test&quot;);\r\n            invocation.skip();\r\n        } else {\r\n            invocation.proceed();\r\n        }\r\n    }\r\n\r\n    private &lt;T extends Annotation&gt;  boolean hasMyAnnotation(final AnnotatedElement element, Class&lt;T&gt; annotation) {\r\n        return element != null &amp;&amp; AnnotationUtils.findAnnotation(element, annotation).isPresent();\r\n    }\r\n}\r\n```\r\nRegistring extenssion:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\n\r\n@ExtendWith(SkipCondition.class)\r\npublic class TestObject {\r\n    @Test\r\n    public void test1() {\r\n\r\n    }\r\n\r\n    @Test\r\n    @MyAnnotation\r\n    public void test2() {\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Please note,** you can perform automatic extension registration according to [documentation][3].\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-conditions\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#extensions-intercepting-invocations\r\n  [3]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic","title":"How do I convert this test rule to JUnit5?","body":"<p><strong>Solution 1, Disable test with custom annotation</strong>\n<br>JUnit 5 provides a type of extension that can control whether or not a test should be run. This is defined by implementing the <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-conditions\" rel=\"nofollow noreferrer\">ExecutionCondition</a> interface.\n<br>Extension implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.extension.ConditionEvaluationResult;\nimport org.junit.jupiter.api.extension.ExecutionCondition;\nimport org.junit.jupiter.api.extension.ExtensionContext;\nimport org.junit.platform.commons.logging.Logger;\nimport org.junit.platform.commons.logging.LoggerFactory;\nimport org.junit.platform.commons.util.AnnotationUtils;\n\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.AnnotatedElement;\n\npublic class SkipConditionExtension implements ExecutionCondition {\n    private static final Logger LOGGER = LoggerFactory.getLogger(SkipConditionExtension.class);\n\n    @Override\n    public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\n        AnnotatedElement element = context.getElement().orElse(null);\n\n        if (hasMyAnnotation(element, MyAnnotation.class)) {\n            LOGGER.info(() -&gt;&quot;Skipping test&quot;);\n            return ConditionEvaluationResult.disabled(String.format(&quot;Skipped test: %s by @MyAnnotation&quot;, element));\n        }\n\n        return ConditionEvaluationResult.enabled(&quot;Test enabled&quot;);\n    }\n\n    private &lt;T extends Annotation&gt;  boolean hasMyAnnotation(final AnnotatedElement element, Class&lt;T&gt; annotation) {\n        return element != null &amp;&amp; AnnotationUtils.findAnnotation(element, annotation).isPresent();\n    }\n}\n</code></pre>\n<p>Registring extenssion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\n@ExtendWith(SkipConditionExtension.class)\npublic class TestObject {\n    @Test\n    public void test1() {\n\n    }\n\n    @Test\n    @MyAnnotation\n    public void test2() {\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>INFO: Skipping test\nSkipped test: public void com.test.TestObject.test2() by @MyAnnotation\n</code></pre>\n<p><strong>Solution 2, Skip test via invocation interseptor</strong>\n<br><a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-intercepting-invocations\" rel=\"nofollow noreferrer\">InvocationInterceptor</a> iterface defines the API for Extensions that wish to intercept calls to test.\n<br>Current implementation will behave <em>exactly like your previous</em> <code>Rule</code>.\n<br>Extension implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.extension.ExtensionContext;\nimport org.junit.jupiter.api.extension.InvocationInterceptor;\nimport org.junit.jupiter.api.extension.ReflectiveInvocationContext;\nimport org.junit.platform.commons.logging.Logger;\nimport org.junit.platform.commons.logging.LoggerFactory;\nimport org.junit.platform.commons.util.AnnotationUtils;\n\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.AnnotatedElement;\nimport java.lang.reflect.Method;\n\npublic class SkipCondition implements InvocationInterceptor {\n    private static final Logger LOGGER = LoggerFactory.getLogger(SkipConditionExtension.class);\n\n    @Override\n    public void interceptTestMethod(Invocation&lt;Void&gt; invocation, ReflectiveInvocationContext&lt;Method&gt; invocationContext, ExtensionContext extensionContext) throws Throwable {\n        AnnotatedElement element = extensionContext.getElement().orElse(null);\n        if (hasMyAnnotation(element, MyAnnotation.class)) {\n            LOGGER.info(() -&gt;&quot;Skipping test&quot;);\n            invocation.skip();\n        } else {\n            invocation.proceed();\n        }\n    }\n\n    private &lt;T extends Annotation&gt;  boolean hasMyAnnotation(final AnnotatedElement element, Class&lt;T&gt; annotation) {\n        return element != null &amp;&amp; AnnotationUtils.findAnnotation(element, annotation).isPresent();\n    }\n}\n</code></pre>\n<p>Registring extenssion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\n@ExtendWith(SkipCondition.class)\npublic class TestObject {\n    @Test\n    public void test1() {\n\n    }\n\n    @Test\n    @MyAnnotation\n    public void test2() {\n\n    }\n}\n</code></pre>\n<p><strong>Please note,</strong> you can perform automatic extension registration according to <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":9143631,"reputation":145,"user_id":6800688,"accept_rate":50,"display_name":"user6800688"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72179088,"answer_count":1,"score":1,"last_activity_date":1652138094,"creation_date":1652130221,"question_id":72178199,"body_markdown":"I have some custom rule using junit4 which I would like to convert to junit5. However I&#39;m not able to find good documentation on migrating a MethodRule implementation other than that I should be using junit5 extension instead of rule.\r\n\r\n\r\n```\r\npublic class MyRule implements MethodRule {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyRule.class);\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface MyAnnotation { }\r\n\r\n    @Override\r\n    public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object o) {\r\n        Statement result = statement;\r\n        if (hasMyAnnotation(frameworkMethod)) {\r\n                result = new Statement() {\r\n                    @Override\r\n                    public void evaluate() {\r\n                        LOGGER.info(&quot;Skipping test&quot;);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static boolean hasMyAnnotation(final Annotatable frameworkMethod) {\r\n        return frameworkMethod.getAnnotation(MyAnnotation.class) != null;\r\n    }\r\n```\r\n\r\nMy class is using junit4 `Statement`, `FrameworkMethod` etc to find out if my method has an annotation... then to skip it. How can I convert this?","title":"How do I convert this test rule to JUnit5?","body":"<p>I have some custom rule using junit4 which I would like to convert to junit5. However I'm not able to find good documentation on migrating a MethodRule implementation other than that I should be using junit5 extension instead of rule.</p>\n<pre><code>public class MyRule implements MethodRule {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyRule.class);\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface MyAnnotation { }\n\n    @Override\n    public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object o) {\n        Statement result = statement;\n        if (hasMyAnnotation(frameworkMethod)) {\n                result = new Statement() {\n                    @Override\n                    public void evaluate() {\n                        LOGGER.info(&quot;Skipping test&quot;);\n                    }\n                };\n            }\n        }\n        return result;\n    }\n\n    private static boolean hasMyAnnotation(final Annotatable frameworkMethod) {\n        return frameworkMethod.getAnnotation(MyAnnotation.class) != null;\n    }\n</code></pre>\n<p>My class is using junit4 <code>Statement</code>, <code>FrameworkMethod</code> etc to find out if my method has an annotation... then to skip it. How can I convert this?</p>\n"},{"tags":["java","function","recursion"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1652137861,"post_id":72179059,"comment_id":127528875,"body_markdown":"`println()` prints a new line at the end.","body":"<code>println()</code> prints a new line at the end."},{"owner":{"account_id":25248195,"reputation":13,"user_id":19081121,"display_name":"RafaelO"},"score":0,"creation_date":1652137996,"post_id":72179059,"comment_id":127528897,"body_markdown":"OMG. i did not think about that. ty so much !","body":"OMG. i did not think about that. ty so much !"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1652150370,"post_id":72179059,"comment_id":127530718,"body_markdown":"Off topic but I would prefer `fputs(&quot;ab&quot;, stdout);` to `printf(&quot;ab&quot;);` in C, since there are no format specifiers in the string. Not that it matters, really. (You can&#39;t use `puts` here for the same reason you don&#39;t want to use `println` in Java.)","body":"Off topic but I would prefer <code>fputs(&quot;ab&quot;, stdout);</code> to <code>printf(&quot;ab&quot;);</code> in C, since there are no format specifiers in the string. Not that it matters, really. (You can&#39;t use <code>puts</code> here for the same reason you don&#39;t want to use <code>println</code> in Java.)"}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652137926,"creation_date":1652137926,"answer_id":72179097,"question_id":72179059,"body_markdown":"\r\n\r\nChange:\r\n\r\n    System.out.println(&quot;ab&quot;);\r\n\r\nto:\r\n\r\n    System.out.print(&quot;ab&quot;);\r\n\r\nso there is no newline printed.\r\n\r\n**Full Code:**\r\n\r\n    public static void printAB(int n) {\r\n        if (n == 1) {\r\n            System.out.print(&quot;ab&quot;);\r\n        } else {\r\n            System.out.print(&quot;a&quot;);\r\n            printAB(n - 1);\r\n            System.out.print(&quot;b&quot;);\r\n        }\r\n    }\r\n\r\n**Output for `printAB(3)`:**\r\n\r\n    aaabbb\r\n\r\n","title":"Printing N times &#39;a&#39; and N times &#39;b&#39; using a Recursive function in Java","body":"<p>Change:</p>\n<pre><code>System.out.println(&quot;ab&quot;);\n</code></pre>\n<p>to:</p>\n<pre><code>System.out.print(&quot;ab&quot;);\n</code></pre>\n<p>so there is no newline printed.</p>\n<p><strong>Full Code:</strong></p>\n<pre><code>public static void printAB(int n) {\n    if (n == 1) {\n        System.out.print(&quot;ab&quot;);\n    } else {\n        System.out.print(&quot;a&quot;);\n        printAB(n - 1);\n        System.out.print(&quot;b&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output for <code>printAB(3)</code>:</strong></p>\n<pre><code>aaabbb\n</code></pre>\n"}],"owner":{"account_id":25248195,"reputation":13,"user_id":19081121,"display_name":"RafaelO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72179097,"answer_count":1,"score":1,"last_activity_date":1652137926,"creation_date":1652137539,"question_id":72179059,"body_markdown":"So, the following recursive function in C:\r\n\r\n    void print(int n){\r\n        if(n==1){\r\n           printf(&quot;ab&quot;);\r\n         return;\r\n        }\r\n         putchar(&#39;a&#39;);\r\n         print(n-1);\r\n         putchar(&#39;b&#39;);\r\n     }\r\n\r\nwill give you the output: `aaabbb` if n=3.\r\nBut, i tried to &#39;translate&#39; this into Java and came up with a problem.\r\nmy code in Java looks like this: (which is pretty similar) \r\n\r\n       public static void printAB(int n){\r\n            if (n==1) {\r\n                System.out.println(&quot;ab&quot;);\r\n            }else {\r\n                System.out.print(&quot;a&quot;);\r\n                printAB(n-1);\r\n                System.out.print(&quot;b&quot;);\r\n            }\r\n        }\r\nbut the output i&#39;m getting is this: \r\n\r\n    aaab\r\n    bb\r\n\r\nno matter what i tried i couldn&#39;t fix the last 2 &#39;b&#39; to be in the same line.\r\n\r\nhelp please? ","title":"Printing N times &#39;a&#39; and N times &#39;b&#39; using a Recursive function in Java","body":"<p>So, the following recursive function in C:</p>\n<pre><code>void print(int n){\n    if(n==1){\n       printf(&quot;ab&quot;);\n     return;\n    }\n     putchar('a');\n     print(n-1);\n     putchar('b');\n }\n</code></pre>\n<p>will give you the output: <code>aaabbb</code> if n=3.\nBut, i tried to 'translate' this into Java and came up with a problem.\nmy code in Java looks like this: (which is pretty similar)</p>\n<pre><code>   public static void printAB(int n){\n        if (n==1) {\n            System.out.println(&quot;ab&quot;);\n        }else {\n            System.out.print(&quot;a&quot;);\n            printAB(n-1);\n            System.out.print(&quot;b&quot;);\n        }\n    }\n</code></pre>\n<p>but the output i'm getting is this:</p>\n<pre><code>aaab\nbb\n</code></pre>\n<p>no matter what i tried i couldn't fix the last 2 'b' to be in the same line.</p>\n<p>help please?</p>\n"},{"tags":["java","regex","syntax"],"answers":[{"tags":[],"owner":{"account_id":2029833,"reputation":11611,"user_id":1813853,"display_name":"Chris Hayes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383884191,"creation_date":1383884191,"answer_id":19851489,"question_id":19851462,"body_markdown":"`\\\\d` does not match a number, it matches a digit. The distinction is that `\\\\d\\\\d` will match two consecutive digits.\r\n\r\n`[0-35-9]` will match a digit in the range `0-3` or a digit in the range `5-9`.\r\n\r\nThe practical upshot is that this matches a birthday where the month is 10, 11, 12, 01, 02, 03, 05, 06, 07,  08, or 09. The day and year don&#39;t matter provided they are two digits. It is a very long-winded way of saying &quot;find me any birthday that was not in April (`04`)&quot;.","title":"Regular Expression in Java: Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; )","body":"<p><code>\\\\d</code> does not match a number, it matches a digit. The distinction is that <code>\\\\d\\\\d</code> will match two consecutive digits.</p>\n\n<p><code>[0-35-9]</code> will match a digit in the range <code>0-3</code> or a digit in the range <code>5-9</code>.</p>\n\n<p>The practical upshot is that this matches a birthday where the month is 10, 11, 12, 01, 02, 03, 05, 06, 07,  08, or 09. The day and year don't matter provided they are two digits. It is a very long-winded way of saying \"find me any birthday that was not in April (<code>04</code>)\".</p>\n"},{"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383884770,"creation_date":1383884329,"answer_id":19851517,"question_id":19851462,"body_markdown":"&gt; What does it mean by the `[0-35-9]`:\r\n\r\nIt means that you are providing a [set of characters][1] enclosed within square brackets. It specifies the given characters that will successfully match a single character from a given input string. So the above class of characters will match if the matching character is among `0` through `3`, or `5` through `9`, inclusive .\r\n\r\n&gt; And why there are 4 &quot;\\d&quot;s instead of 3? I assume there are only 3\r\n&gt; numbers in the birthday.\r\n\r\nYour birthday string portion is: `Birthday is 05-12-75`:\r\n\r\n`\\d` is a [predefined character class][2] where `\\d` represents a digit, and `\\d\\d` represents two consecutive digits. Hence for a date `xx-xx-xx-xx` we would write, `\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d`, where `x` is assumed to represent a digit(`0-9`) \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html","title":"Regular Expression in Java: Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; )","body":"<blockquote>\n  <p>What does it mean by the <code>[0-35-9]</code>:</p>\n</blockquote>\n\n<p>It means that you are providing a <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html\" rel=\"nofollow\">set of characters</a> enclosed within square brackets. It specifies the given characters that will successfully match a single character from a given input string. So the above class of characters will match if the matching character is among <code>0</code> through <code>3</code>, or <code>5</code> through <code>9</code>, inclusive .</p>\n\n<blockquote>\n  <p>And why there are 4 \"\\d\"s instead of 3? I assume there are only 3\n  numbers in the birthday.</p>\n</blockquote>\n\n<p>Your birthday string portion is: <code>Birthday is 05-12-75</code>:</p>\n\n<p><code>\\d</code> is a <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html\" rel=\"nofollow\">predefined character class</a> where <code>\\d</code> represents a digit, and <code>\\d\\d</code> represents two consecutive digits. Hence for a date <code>xx-xx-xx-xx</code> we would write, <code>\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d</code>, where <code>x</code> is assumed to represent a digit(<code>0-9</code>) </p>\n"},{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385070446,"creation_date":1383898622,"answer_id":19854400,"question_id":19851462,"body_markdown":"The form of `\\\\d` simply matches a digit, not a number. \r\n\r\nSo using the pattern of `\\\\d\\\\d` will match two consecutive digits.\r\n\r\nUsing `\\\\d\\\\d-\\\\d\\\\d` will match two consecutive digits, a `-` literally, two consecutive digits.\r\n\r\nLet&#39;s take a look at your match and why.\r\n\r\n    Joe&#39;s Birthday is 12-17-77\r\n                      ^          match a digit 0 to 9\r\n                       ^         match any character of &#39;0&#39; to &#39;3&#39;, &#39;5&#39; to &#39;9&#39;\r\n                        ^        match a &#39;-&#39; literally\r\n                         ^       match a digit 0 to 9\r\n                          ^      match a digit 0 to 9\r\n                           ^     match a &#39;-&#39; literally\r\n                            ^    match a digit 0 to 9\r\n                             ^   match a digit 0 to 9\r\n\r\nThe `[0-35-9]` part matches any character of `0` to `3`, `5` to `9`\r\n\r\nYour whole regular expresson explained:\r\n\r\n\r\n    J              &#39;J&#39;\r\n    .*              any character except \\n (0 or more times)\r\n    \\d              match a digit 0 to 9\r\n     [0-35-9]       any character of: &#39;0&#39; to &#39;3&#39;, &#39;5&#39; to &#39;9&#39;\r\n       -            match a &#39;-&#39; literally\r\n      \\d            match a digit 0 to 9\r\n      \\d            match a digit 0 to 9 \r\n       -            match a &#39;-&#39; literally\r\n      \\d            match a digit 0 to 9\r\n      \\d            match a digit 0 to 9","title":"Regular Expression in Java: Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; )","body":"<p>The form of <code>\\\\d</code> simply matches a digit, not a number. </p>\n\n<p>So using the pattern of <code>\\\\d\\\\d</code> will match two consecutive digits.</p>\n\n<p>Using <code>\\\\d\\\\d-\\\\d\\\\d</code> will match two consecutive digits, a <code>-</code> literally, two consecutive digits.</p>\n\n<p>Let's take a look at your match and why.</p>\n\n<pre><code>Joe's Birthday is 12-17-77\n                  ^          match a digit 0 to 9\n                   ^         match any character of '0' to '3', '5' to '9'\n                    ^        match a '-' literally\n                     ^       match a digit 0 to 9\n                      ^      match a digit 0 to 9\n                       ^     match a '-' literally\n                        ^    match a digit 0 to 9\n                         ^   match a digit 0 to 9\n</code></pre>\n\n<p>The <code>[0-35-9]</code> part matches any character of <code>0</code> to <code>3</code>, <code>5</code> to <code>9</code></p>\n\n<p>Your whole regular expresson explained:</p>\n\n<pre><code>J              'J'\n.*              any character except \\n (0 or more times)\n\\d              match a digit 0 to 9\n [0-35-9]       any character of: '0' to '3', '5' to '9'\n   -            match a '-' literally\n  \\d            match a digit 0 to 9\n  \\d            match a digit 0 to 9 \n   -            match a '-' literally\n  \\d            match a digit 0 to 9\n  \\d            match a digit 0 to 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6000756,"reputation":185,"user_id":4714106,"accept_rate":100,"display_name":"jamesc1101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444763195,"creation_date":1444763195,"answer_id":33110686,"question_id":19851462,"body_markdown":"The confusion arises in the way we perceive numbers. To our mathematical eye, it looks that the middle section is a single number, the number &quot;35&quot;. But in actuality, it is two numbers, a &quot;3&quot; and a &quot;5&quot;. As has been answered in depth previously, this is actually two ranges, the range of digits from 0 through 3 inclusive, and the range 5 through 9 inclusive, thus eliminating 4 from the possible digits it will match.\r\n\r\nAs to the number of &quot;\\d&quot;s, there are actually 5 not 4. The first one pairs with a single digit from the ranges of digits to match a month (for example, October is 10 and June is 06, so both match, while April, which is 04, does not). the next two &quot;\\d&quot;s pair up to be a day. The last two pair up to make a year.","title":"Regular Expression in Java: Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; )","body":"<p>The confusion arises in the way we perceive numbers. To our mathematical eye, it looks that the middle section is a single number, the number \"35\". But in actuality, it is two numbers, a \"3\" and a \"5\". As has been answered in depth previously, this is actually two ranges, the range of digits from 0 through 3 inclusive, and the range 5 through 9 inclusive, thus eliminating 4 from the possible digits it will match.</p>\n\n<p>As to the number of \"\\d\"s, there are actually 5 not 4. The first one pairs with a single digit from the ranges of digits to match a month (for example, October is 10 and June is 06, so both match, while April, which is 04, does not). the next two \"\\d\"s pair up to be a day. The last two pair up to make a year.</p>\n"},{"tags":[],"owner":{"account_id":2187289,"reputation":669,"user_id":1935415,"accept_rate":27,"display_name":"babeyh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652136381,"creation_date":1652136381,"answer_id":72178946,"question_id":19851462,"body_markdown":"This answer is true but I think there is a mistake with the first two digits of the date. \r\n\r\n&gt; (Month value is should be 01-02-03-05-06-...-12)\r\n\r\n    \\\\d[0-35-9]\r\n\r\nThis regex provides all months except April but it must be 0-12 intervals, at the same time.\r\n\r\nSo, the correct regex is must be below; \r\n\r\n    (0[0-35-9]|1[0-2])\r\n\r\n","title":"Regular Expression in Java: Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; )","body":"<p>This answer is true but I think there is a mistake with the first two digits of the date.</p>\n<blockquote>\n<p>(Month value is should be 01-02-03-05-06-...-12)</p>\n</blockquote>\n<pre><code>\\\\d[0-35-9]\n</code></pre>\n<p>This regex provides all months except April but it must be 0-12 intervals, at the same time.</p>\n<p>So, the correct regex is must be below;</p>\n<pre><code>(0[0-35-9]|1[0-2])\n</code></pre>\n"}],"owner":{"account_id":3510364,"reputation":2030,"user_id":2934827,"accept_rate":85,"display_name":"jsh6303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4795,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":19854400,"answer_count":5,"score":3,"last_activity_date":1652136381,"creation_date":1383884004,"question_id":19851462,"body_markdown":"I found a code in Java Regular expression which is confusing to me:\r\n    \r\n    Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; );\r\nThe string to be compiled is:\r\n\r\n    String string1 = &quot;Jane&#39;s Birthday is 05-12-75\\n&quot; + &quot;Dave&#39;s Birthday is 11-04-68\\n&quot; + &quot;John&#39;s Birthday is 04-28-73\\n&quot; + &quot;Joe&#39;s Birthday is 12-17-77&quot;;\r\n\r\nWhat does it mean by the \r\n    \r\n    [0-35-9]\r\nAnd why there are 4 &quot;\\\\d&quot;s instead of 3? I assume there are only 3 numbers in the birthday.\r\n","title":"Regular Expression in Java: Pattern.compile( &quot;J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d&quot; )","body":"<p>I found a code in Java Regular expression which is confusing to me:</p>\n\n<pre><code>Pattern.compile( \"J.*\\\\d[0-35-9]-\\\\d\\\\d-\\\\d\\\\d\" );\n</code></pre>\n\n<p>The string to be compiled is:</p>\n\n<pre><code>String string1 = \"Jane's Birthday is 05-12-75\\n\" + \"Dave's Birthday is 11-04-68\\n\" + \"John's Birthday is 04-28-73\\n\" + \"Joe's Birthday is 12-17-77\";\n</code></pre>\n\n<p>What does it mean by the </p>\n\n<pre><code>[0-35-9]\n</code></pre>\n\n<p>And why there are 4 \"\\d\"s instead of 3? I assume there are only 3 numbers in the birthday.</p>\n"},{"tags":["java","discord","bots"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1605781606,"post_id":64909660,"comment_id":114759594,"body_markdown":"Have you tried placing a breakpoint at `e.getChannel().sendMessage(&quot;test&quot;).queue();` to see if the line is reached?","body":"Have you tried placing a breakpoint at <code>e.getChannel().sendMessage(&quot;test&quot;).queue();</code> to see if the line is reached?"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1605781929,"post_id":64909660,"comment_id":114759746,"body_markdown":"I&#39;ve had a quick look at the API and if the line is reached you should use the alternative `queue` method with two parameters to see if the call returns an error: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/requests/RestAction.html#queue(java.util.function.Consumer,java.util.function.Consumer)","body":"I&#39;ve had a quick look at the API and if the line is reached you should use the alternative <code>queue</code> method with two parameters to see if the call returns an error: <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/requests/RestAction.html#queue(java.util.function.Consumer,java.util.function.Consumer)\" rel=\"nofollow noreferrer\">ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/requests/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":19556050,"reputation":21,"user_id":14310406,"display_name":"superdregon"},"score":0,"creation_date":1605785563,"post_id":64909660,"comment_id":114761437,"body_markdown":"No. It doesn&#39;t reach there when I run the command","body":"No. It doesn&#39;t reach there when I run the command"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1605787171,"post_id":64909660,"comment_id":114762069,"body_markdown":"Then either a `GuildMessageReceivedEvent` never occurs, or `e.getMessage().getContentRaw().equalsIgnoreCase(&quot;!test&quot;)` never matches","body":"Then either a <code>GuildMessageReceivedEvent</code> never occurs, or <code>e.getMessage().getContentRaw().equalsIgnoreCase(&quot;!test&quot;)</code> never matches"},{"owner":{"account_id":19556050,"reputation":21,"user_id":14310406,"display_name":"superdregon"},"score":0,"creation_date":1605788011,"post_id":64909660,"comment_id":114762455,"body_markdown":"Yea but i&#39;ve seen videos and everyone does this","body":"Yea but i&#39;ve seen videos and everyone does this"},{"owner":{"account_id":19556050,"reputation":21,"user_id":14310406,"display_name":"superdregon"},"score":0,"creation_date":1605788034,"post_id":64909660,"comment_id":114762465,"body_markdown":"And i run the exact command and nothing happens","body":"And i run the exact command and nothing happens"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1605788490,"post_id":64909660,"comment_id":114762697,"body_markdown":"As I said in my previous comment, you need to check whether `GuildMessageReceivedEvent` fires (breakpoint at start of listener method), and if so: what the actual value of `e.getMessage().getContentRaw()` is so you can manually verify if it matches `&quot;!test&quot;`, such as by introducing an intermediate variable and inspecting it by placing a breakpoint on your if-statement","body":"As I said in my previous comment, you need to check whether <code>GuildMessageReceivedEvent</code> fires (breakpoint at start of listener method), and if so: what the actual value of <code>e.getMessage().getContentRaw()</code> is so you can manually verify if it matches <code>&quot;!test&quot;</code>, such as by introducing an intermediate variable and inspecting it by placing a breakpoint on your if-statement"}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605794359,"creation_date":1605794359,"answer_id":64913231,"question_id":64909660,"body_markdown":"You disabled the `GUILD_MESSAGES` intent. Add it to your list of intents when calling `createDefault`:\r\n\r\n```java\r\nEnumSet&lt;GatewayIntent&gt; intents = EnumSet.of(\r\n  GatewayIntent.GUILD_MEMBERS, // for member join/remove events and cache\r\n  GatewayIntent.GUILD_EMOJIS, // for Guild#getEmotes (not very useful)\r\n  GatewayIntent.GUILD_VOICE_STATES, // for member voice states\r\n  GatewayIntent.GUILD_MESSAGES // for message received event\r\n);\r\nJDA jda = JDABuilder.createDefault(&quot;My.Token.Here&quot;, intents)\r\n                    .addEventListeners(new TestCommand(), new JoinCommand(), client)\r\n                    .build();\r\n```\r\n\r\nRead up [Gateway Intents and Member Caching](https://github.com/DV8FromTheWorld/JDA/wiki/Gateway-Intents-and-Member-Cache-Policy)\r\n","title":"Discord Bot unable to send messages","body":"<p>You disabled the <code>GUILD_MESSAGES</code> intent. Add it to your list of intents when calling <code>createDefault</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumSet&lt;GatewayIntent&gt; intents = EnumSet.of(\n  GatewayIntent.GUILD_MEMBERS, // for member join/remove events and cache\n  GatewayIntent.GUILD_EMOJIS, // for Guild#getEmotes (not very useful)\n  GatewayIntent.GUILD_VOICE_STATES, // for member voice states\n  GatewayIntent.GUILD_MESSAGES // for message received event\n);\nJDA jda = JDABuilder.createDefault(&quot;My.Token.Here&quot;, intents)\n                    .addEventListeners(new TestCommand(), new JoinCommand(), client)\n                    .build();\n</code></pre>\n<p>Read up <a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/Gateway-Intents-and-Member-Cache-Policy\" rel=\"nofollow noreferrer\">Gateway Intents and Member Caching</a></p>\n"},{"tags":[],"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652136325,"creation_date":1652136325,"answer_id":72178940,"question_id":64909660,"body_markdown":"You forget to add **`GatewayIntent.GUILD_MESSAGES`**, you should add it","title":"Discord Bot unable to send messages","body":"<p>You forget to add <strong><code>GatewayIntent.GUILD_MESSAGES</code></strong>, you should add it</p>\n"}],"owner":{"account_id":19556050,"reputation":21,"user_id":14310406,"display_name":"superdregon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652136325,"creation_date":1605781269,"question_id":64909660,"body_markdown":"I&#39;m developing a discord bot, but I&#39;m having some problems that I&#39;ve never had. My discord bot is unable to send messages. The bot doesn&#39;t contain any deprecated methods. Here is the code:\r\n\r\nMain:\r\n\r\n    private Main() throws LoginException {\r\n        final JDA jda = JDABuilder.createDefault(&quot;My.Token.Here&quot;, GatewayIntent.GUILD_MEMBERS, GatewayIntent.GUILD_EMOJIS, GatewayIntent.GUILD_VOICE_STATES).build();\r\n\r\n        CommandClientBuilder builder = new CommandClientBuilder();\r\n        builder.setOwnerId(&quot;778564522046128148&quot;);\r\n        builder.setActivity(Activity.watching(&quot;es bueda fixe!&quot;));\r\n\r\n        CommandClient client = builder.build();\r\n\r\n        jda.addEventListener(client);\r\n        jda.addEventListener(new JoinLeave());\r\n        jda.addEventListener(new TestCommand());\r\n    }\r\n\r\n    public static void main(String[] args) throws LoginException{\r\n        long enable = System.currentTimeMillis();\r\n        new Main();\r\n        System.out.println(&quot;Bot enabled in: &quot; + (System.currentTimeMillis() - enable) + &quot;ms!&quot;);\r\n    }\r\n\r\nTestCommand (to test if the bot works):\r\n\r\n    public class TestCommand extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onGuildMessageReceived(GuildMessageReceivedEvent e){\r\n        System.out.println(&quot;hefdfs&quot;);\r\n        if(e.getMessage().getContentRaw().equalsIgnoreCase(&quot;!test&quot;)){\r\n            e.getChannel().sendMessage(&quot;test&quot;).queue();\r\n        }\r\n    }\r\n}\r\n\r\nThanks.","title":"Discord Bot unable to send messages","body":"<p>I'm developing a discord bot, but I'm having some problems that I've never had. My discord bot is unable to send messages. The bot doesn't contain any deprecated methods. Here is the code:</p>\n<p>Main:</p>\n<pre><code>private Main() throws LoginException {\n    final JDA jda = JDABuilder.createDefault(&quot;My.Token.Here&quot;, GatewayIntent.GUILD_MEMBERS, GatewayIntent.GUILD_EMOJIS, GatewayIntent.GUILD_VOICE_STATES).build();\n\n    CommandClientBuilder builder = new CommandClientBuilder();\n    builder.setOwnerId(&quot;778564522046128148&quot;);\n    builder.setActivity(Activity.watching(&quot;es bueda fixe!&quot;));\n\n    CommandClient client = builder.build();\n\n    jda.addEventListener(client);\n    jda.addEventListener(new JoinLeave());\n    jda.addEventListener(new TestCommand());\n}\n\npublic static void main(String[] args) throws LoginException{\n    long enable = System.currentTimeMillis();\n    new Main();\n    System.out.println(&quot;Bot enabled in: &quot; + (System.currentTimeMillis() - enable) + &quot;ms!&quot;);\n}\n</code></pre>\n<p>TestCommand (to test if the bot works):</p>\n<pre><code>public class TestCommand extends ListenerAdapter {\n\n@Override\npublic void onGuildMessageReceived(GuildMessageReceivedEvent e){\n    System.out.println(&quot;hefdfs&quot;);\n    if(e.getMessage().getContentRaw().equalsIgnoreCase(&quot;!test&quot;)){\n        e.getChannel().sendMessage(&quot;test&quot;).queue();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Thanks.</p>\n"},{"tags":["java","discord","bots"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1647220801,"post_id":71462078,"comment_id":126309255,"body_markdown":"Find out what it does run by debugging and reading the documentation.","body":"Find out what it does run by debugging and reading the documentation."},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1647260919,"post_id":71462078,"comment_id":126318925,"body_markdown":"Check the [troubleshooting guide](https://jda.wiki/using-jda/troubleshooting/#my-event-listener-code-is-not-executed)","body":"Check the <a href=\"https://jda.wiki/using-jda/troubleshooting/#my-event-listener-code-is-not-executed\" rel=\"nofollow noreferrer\">troubleshooting guide</a>"}],"answers":[{"tags":[],"owner":{"account_id":24139485,"reputation":19,"user_id":18105877,"display_name":"R N"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1647254815,"creation_date":1647221513,"answer_id":71462199,"question_id":71462078,"body_markdown":"```\r\npublic void onGuildMessageReceived(MessageReceivedEvent e)\r\n```\r\nneeded to be changed to\r\n```\r\npublic void onMessageReceivedEvent(MessageReceivedEvent e). \r\n```\r\n&quot;Guild&quot; was not required in this method&#39;s name.","title":"Java Discord Bot","body":"<pre><code>public void onGuildMessageReceived(MessageReceivedEvent e)\n</code></pre>\n<p>needed to be changed to</p>\n<pre><code>public void onMessageReceivedEvent(MessageReceivedEvent e). \n</code></pre>\n<p>&quot;Guild&quot; was not required in this method's name.</p>\n"},{"tags":[],"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652135978,"creation_date":1652135978,"answer_id":72178899,"question_id":71462078,"body_markdown":"First of all, your codes are so weird!\r\n\r\nHow could the event be called `MessageReceivedEvent`, meanwhile, the method called `onGuildMessageReceivedEvent`, JDA already renamed the methods! and second you didn&#39;t use the **`GatewayIntent.GUILD_MESSAGES`**, so basically, it going to be like this:\r\n\r\n```java\r\n\r\nJDABuilder jda = JDABuilder.create(token, GatewayIntent.GUILD_MESSAGES);\r\n```\r\n\r\nand third, think is I see you using `JDA`, not `JDABuilder` which is wrong, I recommended you to check what version of JDA you use and use the last one!","title":"Java Discord Bot","body":"<p>First of all, your codes are so weird!</p>\n<p>How could the event be called <code>MessageReceivedEvent</code>, meanwhile, the method called <code>onGuildMessageReceivedEvent</code>, JDA already renamed the methods! and second you didn't use the <strong><code>GatewayIntent.GUILD_MESSAGES</code></strong>, so basically, it going to be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nJDABuilder jda = JDABuilder.create(token, GatewayIntent.GUILD_MESSAGES);\n</code></pre>\n<p>and third, think is I see you using <code>JDA</code>, not <code>JDABuilder</code> which is wrong, I recommended you to check what version of JDA you use and use the last one!</p>\n"}],"owner":{"account_id":24139485,"reputation":19,"user_id":18105877,"display_name":"R N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1652135978,"creation_date":1647219550,"question_id":71462078,"body_markdown":"I am currently creating a bot for Discord. So far, I have got the bot up, and have it &quot;Online&quot; in my server. I created a custom command named !yata that displays a motivational message after being input. Is there a reason as to why my bot will not pick up commands? When I type in !yata it does not run the command.\r\n\r\n**Buki.java** \r\n\r\n    package Buki;\r\n\r\n    import javax.security.auth.login.LoginException;\r\n\r\n    import net.dv8tion.jda.api.AccountType;\r\n    import net.dv8tion.jda.api.JDA;\r\n    import net.dv8tion.jda.api.JDABuilder;\r\n    import net.dv8tion.jda.api.OnlineStatus;\r\n\r\n    public class Buki {\r\n\t    public static JDA jda;\r\n\t    public static String prefix = &quot;!&quot;;\r\n\t\r\n\t    //Main method\r\n\t    public static void main(String[] args) throws LoginException {\r\n\t\tJDA jda = JDABuilder.createDefault(&quot;bot token&quot;).build();\r\n\t\t\r\n\t\tjda.addEventListener(new Commands());\r\n\t\t\t\t\r\n\t    }\r\n    }\r\n\r\n**Commands.java**\r\n\r\n    package Buki;\r\n\r\n    import net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\n    import net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\n    public class Commands extends ListenerAdapter {\r\n\t\r\n\t    public void onGuildMessageReceived(MessageReceivedEvent e) {\r\n\t\tString[] message = e.getMessage().getContentRaw().split(&quot; &quot;);\r\n\t\t\t\t\r\n\t\t    if (message[0].equalsIgnoreCase(&quot;!yata&quot;)) {\r\n\t\t\t    e.getChannel().sendTyping().queue();\r\n\t\t\t    e.getChannel().sendMessage(&quot;The road of a ninja is long!&quot;).queue();\r\n\t\t    }\r\n\t\t    else {\r\n\t\t\t\r\n\t\t    }\r\n\t\t\t\r\n\t    }\r\n\r\n    }\r\n","title":"Java Discord Bot","body":"<p>I am currently creating a bot for Discord. So far, I have got the bot up, and have it &quot;Online&quot; in my server. I created a custom command named !yata that displays a motivational message after being input. Is there a reason as to why my bot will not pick up commands? When I type in !yata it does not run the command.</p>\n<p><strong>Buki.java</strong></p>\n<pre><code>package Buki;\n\nimport javax.security.auth.login.LoginException;\n\nimport net.dv8tion.jda.api.AccountType;\nimport net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.OnlineStatus;\n\npublic class Buki {\n    public static JDA jda;\n    public static String prefix = &quot;!&quot;;\n\n    //Main method\n    public static void main(String[] args) throws LoginException {\n    JDA jda = JDABuilder.createDefault(&quot;bot token&quot;).build();\n    \n    jda.addEventListener(new Commands());\n            \n    }\n}\n</code></pre>\n<p><strong>Commands.java</strong></p>\n<pre><code>package Buki;\n\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class Commands extends ListenerAdapter {\n\n    public void onGuildMessageReceived(MessageReceivedEvent e) {\n    String[] message = e.getMessage().getContentRaw().split(&quot; &quot;);\n            \n        if (message[0].equalsIgnoreCase(&quot;!yata&quot;)) {\n            e.getChannel().sendTyping().queue();\n            e.getChannel().sendMessage(&quot;The road of a ninja is long!&quot;).queue();\n        }\n        else {\n        \n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","program-entry-point"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1652135271,"post_id":72178816,"comment_id":127528478,"body_markdown":"Because it&#39;s `String[] args`, not `string[] args`","body":"Because it&#39;s <code>String[] args</code>, not <code>string[] args</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652135283,"post_id":72178816,"comment_id":127528481,"body_markdown":"Java is case sensitive, `string[]` should be `String[]` - your code won&#39;t even compile","body":"Java is case sensitive, <code>string[]</code> should be <code>String[]</code> - your code won&#39;t even compile"}],"answers":[{"tags":[],"owner":{"account_id":25246716,"reputation":24,"user_id":19079871,"display_name":"Julian Moreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652135623,"creation_date":1652135623,"answer_id":72178856,"question_id":72178816,"body_markdown":"    public class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }","title":"find main class in java","body":"<pre><code>public class Main {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello world!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":22356277,"reputation":1,"user_id":16573515,"display_name":"Alireza 81"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652135925,"accepted_answer_id":72178856,"answer_count":1,"score":-1,"last_activity_date":1652135623,"creation_date":1652135197,"question_id":72178816,"body_markdown":"Why java can&#39;t find my main?\r\nthis is my first java code\r\n                                              \r\n \r\n\r\n    package MyPacage;\r\n\r\n    public class MyClass {\r\n    \r\n      public static void main(string[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n    }\r\n","title":"find main class in java","body":"<p>Why java can't find my main?\nthis is my first java code</p>\n<pre><code>package MyPacage;\n\npublic class MyClass {\n\n  public static void main(string[] args) {\n    System.out.println(&quot;Hello world!&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","discord"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1536557414,"post_id":52251579,"comment_id":91450615,"body_markdown":"Yes, your `List` is empty","body":"Yes, your <code>List</code> is empty"},{"owner":{"account_id":8850628,"reputation":13,"user_id":6610029,"display_name":"Mikk K&#252;ttim"},"score":0,"creation_date":1536557932,"post_id":52251579,"comment_id":91450761,"body_markdown":"This doesn&#39;t happen to anything else, in fact i&#39;m also sending out game messages using the same logic, and I never have gotten error within this, so could you please enlighten me why it only happens when i&#39;m trying to send out discord messages?","body":"This doesn&#39;t happen to anything else, in fact i&#39;m also sending out game messages using the same logic, and I never have gotten error within this, so could you please enlighten me why it only happens when i&#39;m trying to send out discord messages?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1536558052,"post_id":52251579,"comment_id":91450804,"body_markdown":"As I peer into your invisible code, I can say with confidence that I have absolutely no idea","body":"As I peer into your invisible code, I can say with confidence that I have absolutely no idea"},{"owner":{"account_id":8850628,"reputation":13,"user_id":6610029,"display_name":"Mikk K&#252;ttim"},"score":0,"creation_date":1536558228,"post_id":52251579,"comment_id":91450850,"body_markdown":"I have updated code, sorry about that.","body":"I have updated code, sorry about that."}],"answers":[{"tags":[],"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652135107,"creation_date":1652135107,"answer_id":72178805,"question_id":52251579,"body_markdown":"I&#39;m not sure about the library you use for discord, I&#39;m using JDA so I&#39;m giving you the solution, which is you have to add **`GatewayIntent.GUILD_MESSAGES`** when you create your bot and add the token it will be someone like that \r\n\r\n**Example :**\r\n```java \r\nJDABuilder jda = JDABuilder.create(token, GatewayIntent.GUILD_MESSAGES);\r\n```\r\n\r\nhopefully, this is the case\r\n","title":"Discord bot does not send any messages out","body":"<p>I'm not sure about the library you use for discord, I'm using JDA so I'm giving you the solution, which is you have to add <strong><code>GatewayIntent.GUILD_MESSAGES</code></strong> when you create your bot and add the token it will be someone like that</p>\n<p><strong>Example :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>JDABuilder jda = JDABuilder.create(token, GatewayIntent.GUILD_MESSAGES);\n</code></pre>\n<p>hopefully, this is the case</p>\n"}],"owner":{"account_id":8850628,"reputation":13,"user_id":6610029,"display_name":"Mikk K&#252;ttim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652135107,"creation_date":1536557138,"question_id":52251579,"body_markdown":"I have made discord bot integration in java.\r\nBut I&#39;m getting an `indexoutofboundexception` and I&#39;m not sure where to go from there.\r\n\r\n    WARN: Error executing task: MessageEvent [pendingQueue: 0 executionQueue: 5], \r\n    [m java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    \tat java.util.ArrayList.rangeCheck(Unknown Source) ~[?:1.8.0_181]\r\n    \tat java.util.ArrayList.get(Unknown Source) ~[?:1.8.0_181]\r\n    \tat com.osroyale.util.Utility.randomElement(Utility.java:248) ~[bin/:?]\r\n\r\nAnd the randomElement class\r\n\r\n   \r\n\r\n        public static &lt;T&gt; T randomElement(Collection&lt;T&gt; collection) {\r\n        return new ArrayList&lt;T&gt;(collection).get((int) (RANDOM.nextDouble() * collection.size()));\r\n    }\r\n\r\nAny ideas?\r\n\r\nEdit: Added two classes related to the discord messages.\r\n\r\nDiscordDispatcher class\r\n\r\n     @EventSubscriber\r\n        public void onMessageReceivedEvent(MessageReceivedEvent event) throws DiscordException, MissingPermissionsException {\r\n            IMessage message = event.getMessage();\r\n            long channel = event.getChannel().getLongID();\r\n            String name = event.getAuthor().getName();\r\n            String command = message.getContent();\r\n    \r\n            if (Discord.community == null &amp;&amp; channel == Discord.COMMUNITY_CHANNEL) {\r\n                Discord.community = event.getChannel();\r\n            }\r\n    \r\n            if (command.equals(&quot;::players&quot;)) {\r\n                Discord.communityMessage(&quot;There are currently &quot; + World.getPlayerCount() + &quot; players online!&quot;);\r\n            } else if (command.equals(&quot;::staffonline&quot;)) {\r\n                Discord.communityMessage(&quot;There are currently &quot; + World.getStaffCount() + &quot; staff online!&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nAnd my Discord class\r\n\r\n    public class Discord {\r\n    \r\n        /** The community channel identification. */\r\n        public static final long COMMUNITY_CHANNEL = 232389411260596224L;\r\n    \r\n        /** The client builder. */\r\n        public static ClientBuilder builder;\r\n    \r\n        /** The discord client. */\r\n        public static IDiscordClient client;\r\n    \r\n        /** The community channel instance. */\r\n        static IChannel community;\r\n    \r\n        /** Handles starting the discord bot. */\r\n        public static void start() {\r\n            if (!Config.LIVE_SERVER) {\r\n                return;\r\n            }\r\n    \r\n            builder = new ClientBuilder().withToken(Config.DISCORD_TOKEN);\r\n            client = builder.login();\r\n            client.getDispatcher().registerListener(new DiscordDispatcher());\r\n        }\r\n    \r\n        public static void communityMessage(String message) {\r\n            if (community != null)\r\n                community.sendMessage(message);\r\n        }\r\n    ","title":"Discord bot does not send any messages out","body":"<p>I have made discord bot integration in java.\nBut I'm getting an <code>indexoutofboundexception</code> and I'm not sure where to go from there.</p>\n\n<pre><code>WARN: Error executing task: MessageEvent [pendingQueue: 0 executionQueue: 5], \n[m java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at java.util.ArrayList.rangeCheck(Unknown Source) ~[?:1.8.0_181]\n    at java.util.ArrayList.get(Unknown Source) ~[?:1.8.0_181]\n    at com.osroyale.util.Utility.randomElement(Utility.java:248) ~[bin/:?]\n</code></pre>\n\n<p>And the randomElement class</p>\n\n<pre><code>    public static &lt;T&gt; T randomElement(Collection&lt;T&gt; collection) {\n    return new ArrayList&lt;T&gt;(collection).get((int) (RANDOM.nextDouble() * collection.size()));\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Edit: Added two classes related to the discord messages.</p>\n\n<p>DiscordDispatcher class</p>\n\n<pre><code> @EventSubscriber\n    public void onMessageReceivedEvent(MessageReceivedEvent event) throws DiscordException, MissingPermissionsException {\n        IMessage message = event.getMessage();\n        long channel = event.getChannel().getLongID();\n        String name = event.getAuthor().getName();\n        String command = message.getContent();\n\n        if (Discord.community == null &amp;&amp; channel == Discord.COMMUNITY_CHANNEL) {\n            Discord.community = event.getChannel();\n        }\n\n        if (command.equals(\"::players\")) {\n            Discord.communityMessage(\"There are currently \" + World.getPlayerCount() + \" players online!\");\n        } else if (command.equals(\"::staffonline\")) {\n            Discord.communityMessage(\"There are currently \" + World.getStaffCount() + \" staff online!\");\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>And my Discord class</p>\n\n<pre><code>public class Discord {\n\n    /** The community channel identification. */\n    public static final long COMMUNITY_CHANNEL = 232389411260596224L;\n\n    /** The client builder. */\n    public static ClientBuilder builder;\n\n    /** The discord client. */\n    public static IDiscordClient client;\n\n    /** The community channel instance. */\n    static IChannel community;\n\n    /** Handles starting the discord bot. */\n    public static void start() {\n        if (!Config.LIVE_SERVER) {\n            return;\n        }\n\n        builder = new ClientBuilder().withToken(Config.DISCORD_TOKEN);\n        client = builder.login();\n        client.getDispatcher().registerListener(new DiscordDispatcher());\n    }\n\n    public static void communityMessage(String message) {\n        if (community != null)\n            community.sendMessage(message);\n    }\n</code></pre>\n"},{"tags":["java","mysql","sql","spring"],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652132363,"creation_date":1652132363,"answer_id":72178463,"question_id":72178354,"body_markdown":"If I understand your question correctly,  you are trying to \r\npopulate data.sql (mysql format) to an H2 database.  \r\n\r\n     spring.datasource.url=jdbc:h2:mem:skel;MODE=MYSQL\r\n     spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nI just doubt that H2 can have enough support on this. \r\nMy suggestion is to provide a data-h2.sql for your test. And it will be easy to maintain. \r\n\r\n","title":"Spring SQL: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;; expected &quot;identifier&quot;, when using INSERT INTO","body":"<p>If I understand your question correctly,  you are trying to\npopulate data.sql (mysql format) to an H2 database.</p>\n<pre><code> spring.datasource.url=jdbc:h2:mem:skel;MODE=MYSQL\n spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n</code></pre>\n<p>I just doubt that H2 can have enough support on this.\nMy suggestion is to provide a data-h2.sql for your test. And it will be easy to maintain.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652134927,"creation_date":1652133471,"answer_id":72178603,"question_id":72178354,"body_markdown":"You named your table `user` which is a [reserved keyword in H2][1]. It&#39;s also a reserved keyword in the [ANSI SQL-99 standard][2] and often in other SQL implementations (sometimes it is a non-reserved keyword, for example in MySQL).\r\n\r\nYou can use reserved keywords as table names in SQL if you delimit them. H2 supports standard identifier delimiters, which are double-quotes.\r\n\r\nI don&#39;t know if there&#39;s an easy way to make Spring delimit the identifiers in SQL statements. I recall it&#39;s pretty wonky. You have to define the entity with built-in double-quotes around its name, like this:\r\n\r\n    @Entity  \r\n    @Table(name = &quot;\\&quot;user\\&quot;&quot;)\r\n\r\nSee https://www.chrouki.com/posts/escape-sql-reserved-keywords-jpa-hibernate/\r\n\r\nIt&#39;s easier if you can just avoid using reserved words for your table names (or other identifiers, including columns, procedures, views, indexes, partitions, etc.).\r\n\r\n\r\n  [1]: https://www.h2database.com/html/advanced.html#keywords\r\n  [2]: https://crate.io/docs/sql-99/en/latest/chapters/02.html#the-set-of-reserved-keyword-s","title":"Spring SQL: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;; expected &quot;identifier&quot;, when using INSERT INTO","body":"<p>You named your table <code>user</code> which is a <a href=\"https://www.h2database.com/html/advanced.html#keywords\" rel=\"nofollow noreferrer\">reserved keyword in H2</a>. It's also a reserved keyword in the <a href=\"https://crate.io/docs/sql-99/en/latest/chapters/02.html#the-set-of-reserved-keyword-s\" rel=\"nofollow noreferrer\">ANSI SQL-99 standard</a> and often in other SQL implementations (sometimes it is a non-reserved keyword, for example in MySQL).</p>\n<p>You can use reserved keywords as table names in SQL if you delimit them. H2 supports standard identifier delimiters, which are double-quotes.</p>\n<p>I don't know if there's an easy way to make Spring delimit the identifiers in SQL statements. I recall it's pretty wonky. You have to define the entity with built-in double-quotes around its name, like this:</p>\n<pre><code>@Entity  \n@Table(name = &quot;\\&quot;user\\&quot;&quot;)\n</code></pre>\n<p>See <a href=\"https://www.chrouki.com/posts/escape-sql-reserved-keywords-jpa-hibernate/\" rel=\"nofollow noreferrer\">https://www.chrouki.com/posts/escape-sql-reserved-keywords-jpa-hibernate/</a></p>\n<p>It's easier if you can just avoid using reserved words for your table names (or other identifiers, including columns, procedures, views, indexes, partitions, etc.).</p>\n"}],"owner":{"account_id":16858927,"reputation":7,"user_id":12190189,"display_name":"Matteo Glaeser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72178603,"answer_count":2,"score":1,"last_activity_date":1652134927,"creation_date":1652131447,"question_id":72178354,"body_markdown":"I am working on a Spring Web Application.\r\nI am using mysql database, but for my unit tests, I want to run them in H2 database.\r\n\r\nTest specific application properties:\r\n\r\n    #Specific spring boot configuration for tests\r\n     spring.main.banner-mode=off\r\n     spring.datasource.driverClassName=org.h2.Driver\r\n     spring.datasource.url=jdbc:h2:mem:skel;MODE=MYSQL\r\n     spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n     spring.datasource.user=sa\r\n     spring.datasource.password=\r\n     spring.jpa.hibernate.ddl-auto=create\r\n     spring.jpa.defer-datasource-initialization=true\r\n     endpoints.enabled=false\r\n     # enable test-profile\r\n     spring.profiles.active=test\r\n\r\nAs you can see, my database is in MODE=MYSQL, since my data.sql is in MySQL dialect.\r\n\r\nBut during initialization of of data.sql I get this error:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \r\n    &quot;INSERT IGNORE INTO [*]user (username, password, first_name, last_name, enabled, \r\n    news_cycle, created_at, updated_at) VALUES(&#39;admin@example.com&#39;, \r\n    &#39;$2a$10$BFNo8gUTorQMtikcFbYVEeAPyX5iCn5BpKglp.eJ2DrFs.bNeXgEu&#39;, &#39;Admin&#39;, &#39;Adminoso&#39;, \r\n    &#39;TRUE&#39;, &#39;NEVER&#39;, &#39;2016-01-01 00:00:00&#39;, &#39;2016-01-01 00:00:00&#39;)&quot;; expected \r\n    &quot;identifier&quot;; SQL statement:\r\n     INSERT IGNORE INTO user (username, password, first_name, last_name, enabled, \r\n     news_cycle, created_at, updated_at) VALUES(&#39;admin@example.com&#39;, \r\n     &#39;$2a$10$BFNo8gUTorQMtikcFbYVEeAPyX5iCn5BpKglp.eJ2DrFs.bNeXgEu&#39;, &#39;Admin&#39;, &#39;Adminoso&#39;, \r\n     &#39;TRUE&#39;, &#39;NEVER&#39;, &#39;2016-01-01 00:00:00&#39;, &#39;2016-01-01 00:00:00&#39;) [42001-212]\r\n\r\nI suppose from this error you can see the SQL statement that is causing the problem, other statements in data.sql do not seem to cause issues. for example:\r\n\r\n    INSERT IGNORE INTO department (department_id, department_name, created_at, \r\n    updated_at) VALUES (1, &#39;Marketing&#39;, &#39;2016-01-01 00:00:00&#39;, &#39;2016-01-01 00:00:00&#39;);\r\n\r\nMy user entity:\r\n\r\n```package at.qe.skeleton.model.user;\r\n\r\nimport at.qe.skeleton.model.facility.Department;\r\nimport at.qe.skeleton.model.facility.Room;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.data.annotation.CreatedDate;\r\nimport org.springframework.data.annotation.LastModifiedDate;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\n/**\r\n * Entity representing users.\r\n *\r\n * This class is part of the skeleton project provided for students of the\r\n * courses &quot;Software Architecture&quot; and &quot;Software Engineering&quot; offered by the\r\n * University of Innsbruck.\r\n */\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class User implements Comparable&lt;User&gt;{\r\n\r\n    @Id\r\n    @Column(name = &quot;username&quot;, length = 255)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;,nullable = false,length = 255)\r\n    private String password;\r\n\r\n    @Column(name = &quot;first_Name&quot;,nullable = false,length = 255)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_Name&quot;,nullable = false,length = 255)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;enabled&quot;, nullable = false)\r\n    private boolean enabled;\r\n\r\n    @Column(name = &quot;news_cycle&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private NewsletterCycle newsCycle;\r\n\r\n    @ElementCollection(targetClass = UserRole.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;user_roles&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Set&lt;UserRole&gt; roles;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;manages_department_id&quot;, referencedColumnName = &quot;department_id&quot;)\r\n    private Department managingDepartment;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;assigned_room_id&quot;)\r\n    private Room assignedRoom;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\r\n    private Set&lt;Absence&gt; absences;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;created_at&quot;, nullable = false)\r\n    private LocalDateTime created;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;updated_at&quot;, nullable = false)\r\n    private LocalDateTime updated;\r\n\r\n    @Override\r\n\tpublic int compareTo(User o) {\r\n\t\treturn this.username.compareTo(o.getUsername());\r\n\t}\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int hash = 7;\r\n        hash = 59 * hash + Objects.hashCode(this.getUsername());\r\n        return hash;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (!(obj instanceof User)) {\r\n            return false;\r\n        }\r\n        final User other = (User) obj;\r\n        return Objects.equals(this.username, other.getUsername());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;username: &quot; + getUsername() + &quot; name: &quot; + getFirstName() + &quot; &quot; + getLastName();\r\n    }\r\n}\r\n```\r\nWhat does this &quot;identifier expected&quot; SQL syntax error mean in this case, I can&#39;t figure it out.\r\n\r\nI tried making all fields except for username in user nullable, and then tried the same statement only inserting with the username, suspecting that maybe some timestamp datatype was the problem, but that did not change a thing.\r\n\r\nI hope somebody can help thank you!\r\n\r\n","title":"Spring SQL: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;; expected &quot;identifier&quot;, when using INSERT INTO","body":"<p>I am working on a Spring Web Application.\nI am using mysql database, but for my unit tests, I want to run them in H2 database.</p>\n<p>Test specific application properties:</p>\n<pre><code>#Specific spring boot configuration for tests\n spring.main.banner-mode=off\n spring.datasource.driverClassName=org.h2.Driver\n spring.datasource.url=jdbc:h2:mem:skel;MODE=MYSQL\n spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n spring.datasource.user=sa\n spring.datasource.password=\n spring.jpa.hibernate.ddl-auto=create\n spring.jpa.defer-datasource-initialization=true\n endpoints.enabled=false\n # enable test-profile\n spring.profiles.active=test\n</code></pre>\n<p>As you can see, my database is in MODE=MYSQL, since my data.sql is in MySQL dialect.</p>\n<p>But during initialization of of data.sql I get this error:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \n&quot;INSERT IGNORE INTO [*]user (username, password, first_name, last_name, enabled, \nnews_cycle, created_at, updated_at) VALUES('admin@example.com', \n'$2a$10$BFNo8gUTorQMtikcFbYVEeAPyX5iCn5BpKglp.eJ2DrFs.bNeXgEu', 'Admin', 'Adminoso', \n'TRUE', 'NEVER', '2016-01-01 00:00:00', '2016-01-01 00:00:00')&quot;; expected \n&quot;identifier&quot;; SQL statement:\n INSERT IGNORE INTO user (username, password, first_name, last_name, enabled, \n news_cycle, created_at, updated_at) VALUES('admin@example.com', \n '$2a$10$BFNo8gUTorQMtikcFbYVEeAPyX5iCn5BpKglp.eJ2DrFs.bNeXgEu', 'Admin', 'Adminoso', \n 'TRUE', 'NEVER', '2016-01-01 00:00:00', '2016-01-01 00:00:00') [42001-212]\n</code></pre>\n<p>I suppose from this error you can see the SQL statement that is causing the problem, other statements in data.sql do not seem to cause issues. for example:</p>\n<pre><code>INSERT IGNORE INTO department (department_id, department_name, created_at, \nupdated_at) VALUES (1, 'Marketing', '2016-01-01 00:00:00', '2016-01-01 00:00:00');\n</code></pre>\n<p>My user entity:</p>\n<pre><code>\nimport at.qe.skeleton.model.facility.Department;\nimport at.qe.skeleton.model.facility.Room;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\nimport java.util.Objects;\nimport java.util.Set;\n\n/**\n * Entity representing users.\n *\n * This class is part of the skeleton project provided for students of the\n * courses &quot;Software Architecture&quot; and &quot;Software Engineering&quot; offered by the\n * University of Innsbruck.\n */\n@Getter\n@Setter\n@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Comparable&lt;User&gt;{\n\n    @Id\n    @Column(name = &quot;username&quot;, length = 255)\n    private String username;\n\n    @Column(name = &quot;password&quot;,nullable = false,length = 255)\n    private String password;\n\n    @Column(name = &quot;first_Name&quot;,nullable = false,length = 255)\n    private String firstName;\n\n    @Column(name = &quot;last_Name&quot;,nullable = false,length = 255)\n    private String lastName;\n\n    @Column(name = &quot;enabled&quot;, nullable = false)\n    private boolean enabled;\n\n    @Column(name = &quot;news_cycle&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private NewsletterCycle newsCycle;\n\n    @ElementCollection(targetClass = UserRole.class, fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;user_roles&quot;)\n    @Enumerated(EnumType.STRING)\n    private Set&lt;UserRole&gt; roles;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;manages_department_id&quot;, referencedColumnName = &quot;department_id&quot;)\n    private Department managingDepartment;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;assigned_room_id&quot;)\n    private Room assignedRoom;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\n    private Set&lt;Absence&gt; absences;\n\n    @CreatedDate\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private LocalDateTime created;\n\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;, nullable = false)\n    private LocalDateTime updated;\n\n    @Override\n    public int compareTo(User o) {\n        return this.username.compareTo(o.getUsername());\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 7;\n        hash = 59 * hash + Objects.hashCode(this.getUsername());\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) {\n            return false;\n        }\n        if (!(obj instanceof User)) {\n            return false;\n        }\n        final User other = (User) obj;\n        return Objects.equals(this.username, other.getUsername());\n    }\n\n    @Override\n    public String toString() {\n        return &quot;username: &quot; + getUsername() + &quot; name: &quot; + getFirstName() + &quot; &quot; + getLastName();\n    }\n}\n</code></pre>\n<p>What does this &quot;identifier expected&quot; SQL syntax error mean in this case, I can't figure it out.</p>\n<p>I tried making all fields except for username in user nullable, and then tried the same statement only inserting with the username, suspecting that maybe some timestamp datatype was the problem, but that did not change a thing.</p>\n<p>I hope somebody can help thank you!</p>\n"},{"tags":["java","performance","byte-buddy"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1647499670,"post_id":71508013,"comment_id":126387696,"body_markdown":"2. Cannot work reliably if you take virtual method calls and polymorphism into account. You do not know the runtime type of an object at compile time","body":"2. Cannot work reliably if you take virtual method calls and polymorphism into account. You do not know the runtime type of an object at compile time"},{"owner":{"account_id":9175266,"reputation":95,"user_id":6821062,"display_name":"Rubing Yang"},"score":0,"creation_date":1647500023,"post_id":71508013,"comment_id":126387793,"body_markdown":"@knittl That&#39;s true, we don&#39;t know the concrete type, thanks!","body":"@knittl That&#39;s true, we don&#39;t know the concrete type, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647546320,"creation_date":1647546320,"answer_id":71518197,"question_id":71508013,"body_markdown":"As for Byte Buddy, this would be done using a Java agent. If you instrument all implementations of a given interface - for example of a known HTTP client, or Java&#39;s `URLConnection`, you could instrument these classes and record the stack from there.\r\n\r\nThere are multiple resources on the net that describe how a Java agent is implemented using Byte Buddy.","title":"Java code static analysis to find whether the code contains a HTTP call?","body":"<p>As for Byte Buddy, this would be done using a Java agent. If you instrument all implementations of a given interface - for example of a known HTTP client, or Java's <code>URLConnection</code>, you could instrument these classes and record the stack from there.</p>\n<p>There are multiple resources on the net that describe how a Java agent is implemented using Byte Buddy.</p>\n"},{"tags":[],"owner":{"account_id":19033212,"reputation":301,"user_id":13894858,"display_name":"Nobody Tells The Truth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652133649,"creation_date":1652133649,"answer_id":72178625,"question_id":71508013,"body_markdown":"Are you only concerned about http?  If you wanted to consider &quot;net traffic as a whole&quot;, there is a chance for you.  But probably not through the means you are thinking.\r\n\r\nIf you&#39;re working in Java, why not use the Security Manager facility, if you are able to forbid all network traffic.\r\n\r\n","title":"Java code static analysis to find whether the code contains a HTTP call?","body":"<p>Are you only concerned about http?  If you wanted to consider &quot;net traffic as a whole&quot;, there is a chance for you.  But probably not through the means you are thinking.</p>\n<p>If you're working in Java, why not use the Security Manager facility, if you are able to forbid all network traffic.</p>\n"}],"owner":{"account_id":9175266,"reputation":95,"user_id":6821062,"display_name":"Rubing Yang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652133649,"creation_date":1647499338,"question_id":71508013,"body_markdown":"I am working on a very complex java web project with about hundreds of developers and intend to improve the performance of this monolitic. **What I am trying to do is find out whether some guy issue external HttpCall in the `Filter/Interceptor`** as you konw , HttpCall may be very time consuming and is very error-prone and will block other normal requests.\r\n\r\nI have thought serval solutions but don&#39;t know if that is practical:\r\n1. Add a flag in the the `Filter/Interceptor` and use bytebuddy to retransform `Socket` implementation to log the stacktrace if an HttpCall happended in the Filter/Interceptor\r\n2. Static code analysis. To travasal the AST using (may be *ANTLR*?) to find out if there are any HttpCalls from the `Filter/Interceptor`\r\n3. Customize the findbugs plugin to do things above?\r\n\r\nFor method 1, I know how to do that but it may hurt the performance a little bit as it&#39;s at Runtime and we must intercept all the http requests and check if it&#39;s from the Filter/Interceptor.\r\n\r\nTo 2 and 3, I am not quite clear about how to do that and if that is practical.\r\n\r\nAny help is appreciate!","title":"Java code static analysis to find whether the code contains a HTTP call?","body":"<p>I am working on a very complex java web project with about hundreds of developers and intend to improve the performance of this monolitic. <strong>What I am trying to do is find out whether some guy issue external HttpCall in the <code>Filter/Interceptor</code></strong> as you konw , HttpCall may be very time consuming and is very error-prone and will block other normal requests.</p>\n<p>I have thought serval solutions but don't know if that is practical:</p>\n<ol>\n<li>Add a flag in the the <code>Filter/Interceptor</code> and use bytebuddy to retransform <code>Socket</code> implementation to log the stacktrace if an HttpCall happended in the Filter/Interceptor</li>\n<li>Static code analysis. To travasal the AST using (may be <em>ANTLR</em>?) to find out if there are any HttpCalls from the <code>Filter/Interceptor</code></li>\n<li>Customize the findbugs plugin to do things above?</li>\n</ol>\n<p>For method 1, I know how to do that but it may hurt the performance a little bit as it's at Runtime and we must intercept all the http requests and check if it's from the Filter/Interceptor.</p>\n<p>To 2 and 3, I am not quite clear about how to do that and if that is practical.</p>\n<p>Any help is appreciate!</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":2,"creation_date":1652192120,"post_id":72178567,"comment_id":127543649,"body_markdown":"Application startup normally is a CPU intensive task. Why do you think it would be better to use a different thread? Even if it &quot;blocks&quot; the main thread, it doesn&#39;t matter because only after the startup is finished, it can start to serve requests.","body":"Application startup normally is a CPU intensive task. Why do you think it would be better to use a different thread? Even if it &quot;blocks&quot; the main thread, it doesn&#39;t matter because only after the startup is finished, it can start to serve requests."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1652192258,"post_id":72178567,"comment_id":127543720,"body_markdown":"Also, just to emphasize: moving the work to a different thread won&#39;t make it magically faster.","body":"Also, just to emphasize: moving the work to a different thread won&#39;t make it magically faster."}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652133202,"creation_date":1652133202,"question_id":72178567,"body_markdown":"Small question regarding Spring Webflux web apps please.\r\n\r\nWebflux apps are well known they should not block.\r\nHowever, on each of my application startup, I do see:\r\n\r\n```\r\nlogger_name:  org.springframework.boot.web.embedded.netty.NettyWebServer \r\n    message:  Netty started on port 8080 \r\n    thread_name:  main \r\n\r\nlogger_name:  a.b.c.MyApplication \r\n    message:  Started MyApplication in 251.887 seconds (JVM running for 52.801) \r\n    thread_name:  main \r\n```\r\n\r\nAnd only after that, I see it is serving requests on thread such as ```[or-http-epoll-1], [or-http-epoll-2], [or-http-epoll-3], [or-http-epoll-4]```\r\n\r\nAs you can see, the startup time is quite high. This is a bit confusing, as it uses the &quot;main&quot; thread, which I think is blocking, in order to perform application startup.\r\n\r\nThere are no code on my end using the main thread on purpose.\r\n\r\nHence, I am having a hard time understanding, why this use of main thread, if there is a way to use the non blocking threads instead?\r\n\r\nThank you","title":"Spring Webflux apps non-blocking, but starts using &quot;main&quot; thread","body":"<p>Small question regarding Spring Webflux web apps please.</p>\n<p>Webflux apps are well known they should not block.\nHowever, on each of my application startup, I do see:</p>\n<pre><code>logger_name:  org.springframework.boot.web.embedded.netty.NettyWebServer \n    message:  Netty started on port 8080 \n    thread_name:  main \n\nlogger_name:  a.b.c.MyApplication \n    message:  Started MyApplication in 251.887 seconds (JVM running for 52.801) \n    thread_name:  main \n</code></pre>\n<p>And only after that, I see it is serving requests on thread such as <code>[or-http-epoll-1], [or-http-epoll-2], [or-http-epoll-3], [or-http-epoll-4]</code></p>\n<p>As you can see, the startup time is quite high. This is a bit confusing, as it uses the &quot;main&quot; thread, which I think is blocking, in order to perform application startup.</p>\n<p>There are no code on my end using the main thread on purpose.</p>\n<p>Hence, I am having a hard time understanding, why this use of main thread, if there is a way to use the non blocking threads instead?</p>\n<p>Thank you</p>\n"},{"tags":["java","xml"],"owner":{"account_id":5481055,"reputation":497,"user_id":5468716,"accept_rate":50,"display_name":"4673_j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652133091,"creation_date":1652116388,"question_id":72175848,"body_markdown":"I am having an issue with *java org.w3c.dom.Document*. I had to remove the *standalone* property from prolog and now the formatting between proglog and body is gone (the new line?)\r\n\r\nPrevious code:\r\n\r\n     Document document = documentBuilder.newDocument();\r\n\r\nPrevious output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;response&gt;\r\n        &lt;params&gt;\r\n            &lt;form&gt;\r\n                ...\r\n            &lt;/form&gt;\r\n        &lt;/params&gt;\r\n    &lt;/response&gt;\r\n\r\nCurrent code:\r\n\r\n     Document document = documentBuilder.newDocument();\r\n     document.setXmlStandalone(true); \r\n\r\nCurrent output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;&lt;response&gt;\r\n        &lt;params&gt;\r\n            &lt;form&gt;\r\n                ...\r\n            &lt;/form&gt;\r\n        &lt;/params&gt;\r\n    &lt;/response&gt;\r\n\r\nOther relevant code section:\r\n\r\n    private Transformer getTransformer() {\r\n        Transformer transformer = null;\r\n\r\n        try {\r\n            transformer = TransformerFactory.newInstance().newTransformer();\r\n            transformer.setOutputProperty(OutputKeys.MEDIA_TYPE, &quot;string&quot;);\r\n            transformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\r\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        } catch (TransformerConfigurationException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return transformer;\r\n    }\r\n\r\nDid anyone came across this issue?","title":"java xml formatting issue","body":"<p>I am having an issue with <em>java org.w3c.dom.Document</em>. I had to remove the <em>standalone</em> property from prolog and now the formatting between proglog and body is gone (the new line?)</p>\n<p>Previous code:</p>\n<pre><code> Document document = documentBuilder.newDocument();\n</code></pre>\n<p>Previous output:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;response&gt;\n    &lt;params&gt;\n        &lt;form&gt;\n            ...\n        &lt;/form&gt;\n    &lt;/params&gt;\n&lt;/response&gt;\n</code></pre>\n<p>Current code:</p>\n<pre><code> Document document = documentBuilder.newDocument();\n document.setXmlStandalone(true); \n</code></pre>\n<p>Current output:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;&lt;response&gt;\n    &lt;params&gt;\n        &lt;form&gt;\n            ...\n        &lt;/form&gt;\n    &lt;/params&gt;\n&lt;/response&gt;\n</code></pre>\n<p>Other relevant code section:</p>\n<pre><code>private Transformer getTransformer() {\n    Transformer transformer = null;\n\n    try {\n        transformer = TransformerFactory.newInstance().newTransformer();\n        transformer.setOutputProperty(OutputKeys.MEDIA_TYPE, &quot;string&quot;);\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    } catch (TransformerConfigurationException e) {\n        e.printStackTrace();\n    }\n\n    return transformer;\n}\n</code></pre>\n<p>Did anyone came across this issue?</p>\n"},{"tags":["java","android","android-glide","android-fileprovider","scoped-storage"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1652133088,"post_id":72178538,"comment_id":127528068,"body_markdown":"You do not need `FileProvider` for showing images within your own app. `FileProvider` is for sharing content with other apps.","body":"You do not need <code>FileProvider</code> for showing images within your own app. <code>FileProvider</code> is for sharing content with other apps."},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652133160,"post_id":72178538,"comment_id":127528080,"body_markdown":"Pls how can I use this, I try using File but only displaying on Android 10 below not working on Android 11","body":"Pls how can I use this, I try using File but only displaying on Android 10 below not working on Android 11"},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652133205,"post_id":72178538,"comment_id":127528087,"body_markdown":"Uri.fromFile(new File(&quot;&quot;)); Not working on Android 11 with Glide , also Uri.parse(path); not working at all","body":"Uri.fromFile(new File(&quot;&quot;)); Not working on Android 11 with Glide , also Uri.parse(path); not working at all"},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652133310,"post_id":72178538,"comment_id":127528104,"body_markdown":"Glide supports the new File() passed in Glide...from(new File()) but not working in Android 11 upward","body":"Glide supports the new File() passed in Glide...from(new File()) but not working in Android 11 upward"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1652134288,"post_id":72178538,"comment_id":127528289,"body_markdown":"The implication is that you do not have read access to the image. `FileProvider` does not solve that. Where did you get your `File` from?","body":"The implication is that you do not have read access to the image. <code>FileProvider</code> does not solve that. Where did you get your <code>File</code> from?"},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652134791,"post_id":72178538,"comment_id":127528379,"body_markdown":"I used new File(dir).listFiles(), I think I know the problem scoped memory on Android 11. I don&#39;t know how to implement scoped-storage for glide to read file from the above","body":"I used new File(dir).listFiles(), I think I know the problem scoped memory on Android 11. I don&#39;t know how to implement scoped-storage for glide to read file from the above"},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652134936,"post_id":72178538,"comment_id":127528405,"body_markdown":"The files are directly from new File(&quot;...&quot;).listDir() method. But Glide can&#39;t read the file showing white blanks on Android 11 , maybe cos of scoped-storage","body":"The files are directly from new File(&quot;...&quot;).listDir() method. But Glide can&#39;t read the file showing white blanks on Android 11 , maybe cos of scoped-storage"},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652134975,"post_id":72178538,"comment_id":127528417,"body_markdown":"I&#39;m creating a status saver so can&#39;t use mediastore","body":"I&#39;m creating a status saver so can&#39;t use mediastore"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1652135539,"post_id":72178538,"comment_id":127528520,"body_markdown":"&quot;The files are directly from new File(&quot;...&quot;).listDir() method&quot; -- what is the value of `...`? &quot;I&#39;m creating a status saver so can&#39;t use mediastore&quot; -- I do not know what a &quot;status saver&quot; is, sorry.","body":"&quot;The files are directly from new File(&quot;...&quot;).listDir() method&quot; -- what is the value of <code>...</code>? &quot;I&#39;m creating a status saver so can&#39;t use mediastore&quot; -- I do not know what a &quot;status saver&quot; is, sorry."},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652135814,"post_id":72178538,"comment_id":127528552,"body_markdown":"/storage/emulated/0/Android/media/com.whatsapp/Media/.Statuses that&#39;s the value of ``...`` a WhatsApp status Saver","body":"/storage/emulated/0/Android/media/com.whatsapp/Media/.Status&zwnj;&#8203;es that&#39;s the value of <code>...</code> a WhatsApp status Saver"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1652137760,"post_id":72178538,"comment_id":127528857,"body_markdown":"That content is now private. As far as I know, there is no way for you to access it, except perhaps via `MANAGE_EXTERNAL_STORAGE` permission, and you may not have justification to use that permission.","body":"That content is now private. As far as I know, there is no way for you to access it, except perhaps via <code>MANAGE_EXTERNAL_STORAGE</code> permission, and you may not have justification to use that permission."},{"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"score":0,"creation_date":1652138937,"post_id":72178538,"comment_id":127529027,"body_markdown":"Thanks I&#39;m coding using scoped data now","body":"Thanks I&#39;m coding using scoped data now"}],"owner":{"account_id":20347536,"reputation":37,"user_id":14924986,"display_name":"Oasis Inc"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652132982,"creation_date":1652132982,"question_id":72178538,"body_markdown":"Pls I have add the provider permission xml in my androidmanifest.xml , how to show image from File Path in Glide android 11, image showing in Android SDK lower that 11.\r\n\r\n```\r\npublic Uri getUri(Context context) {\r\n\t\treturn FileProvider.getUriForFile(context, context.getPackageName() + &quot;.provider&quot;, getFile());\r\n\t}\r\n\r\n```\r\nGlide.with(context).load(status.getUri()).into(holder.thumbnail);\r\n\r\nFileProvider xml, scoped Storage requires this\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;root-path name=&quot;external_files&quot; path=&quot;/storage/&quot;/&gt;\r\n&lt;/paths&gt;\r\n```\r\n   In my android manifest file I have the following xml tags, my be I&#39;m doing it wrong for android 11\r\n```\r\n&lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.oasis.metasaver.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n```","title":"Show Storage Image On Glide Using FileProvider.getUriFile..()","body":"<p>Pls I have add the provider permission xml in my androidmanifest.xml , how to show image from File Path in Glide android 11, image showing in Android SDK lower that 11.</p>\n<pre><code>public Uri getUri(Context context) {\n        return FileProvider.getUriForFile(context, context.getPackageName() + &quot;.provider&quot;, getFile());\n    }\n\n</code></pre>\n<p>Glide.with(context).load(status.getUri()).into(holder.thumbnail);</p>\n<p>FileProvider xml, scoped Storage requires this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n    &lt;root-path name=&quot;external_files&quot; path=&quot;/storage/&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>In my android manifest file I have the following xml tags, my be I'm doing it wrong for android 11</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.oasis.metasaver.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n"},{"tags":["java","opengl"],"comments":[{"owner":{"account_id":7759314,"reputation":774,"user_id":5872574,"display_name":"rel"},"score":0,"creation_date":1652152534,"post_id":72178438,"comment_id":127530985,"body_markdown":"Adjust the scale of the rectangle to fill out the entire visible area, and change the alpha value of the vertex colors to match the fading animation&#39;s current transparency value. (It&#39;s difficult to give a more precise answer, you could edit the post and show how `DrawUserInterface()` draws the rectangles.)","body":"Adjust the scale of the rectangle to fill out the entire visible area, and change the alpha value of the vertex colors to match the fading animation&#39;s current transparency value. (It&#39;s difficult to give a more precise answer, you could edit the post and show how <code>DrawUserInterface()</code> draws the rectangles.)"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1652282056,"post_id":72178438,"comment_id":127570043,"body_markdown":"You could draw the UI, then draw the background with increasing alpha. You could draw the UI to a texture and draw the texture with alpha (but not in OpenGL 1.1)","body":"You could draw the UI, then draw the background with increasing alpha. You could draw the UI to a texture and draw the texture with alpha (but not in OpenGL 1.1)"}],"owner":{"account_id":20692391,"reputation":23,"user_id":15193469,"display_name":"racc2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652132194,"creation_date":1652132194,"question_id":72178438,"body_markdown":"I&#39;m using GL11 in Java, and the current issue I&#39;m facing is blending. I&#39;m making a simple fade-out animation, and as shown in the image, the borders of the rectangle are darker because they&#39;ve drawn over the background. How can I override an entire scene to be at one transparency level? Apologies if this doesn&#39;t make sense, I&#39;m new to OpenGL.\r\n\r\nMy code:\r\n\r\n    glEnable(GL_BLEND);\r\n    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\n    DrawUserInterface(x, y); // Simple vertex rectangles\r\n\r\n[![The borders are darker than the background at low-alpha][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iorfG.png","title":"OpenGL override scene transparency","body":"<p>I'm using GL11 in Java, and the current issue I'm facing is blending. I'm making a simple fade-out animation, and as shown in the image, the borders of the rectangle are darker because they've drawn over the background. How can I override an entire scene to be at one transparency level? Apologies if this doesn't make sense, I'm new to OpenGL.</p>\n<p>My code:</p>\n<pre><code>glEnable(GL_BLEND);\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\nDrawUserInterface(x, y); // Simple vertex rectangles\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iorfG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iorfG.png\" alt=\"The borders are darker than the background at low-alpha\" /></a></p>\n"},{"tags":["java","reference","inner-classes"],"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1652110425,"post_id":72160037,"comment_id":127521014,"body_markdown":"With &quot;memory-leak&quot; we immply **&quot;unintended&quot; use of memory**, but in situations like above beside being &quot;intended&quot;, it also **has far less memory usages** (as all share same &quot;service&quot;).","body":"With &quot;memory-leak&quot; we immply <b>&quot;unintended&quot; use of memory</b>, but in situations like above beside being &quot;intended&quot;, it also <b>has far less memory usages</b> (as all share same &quot;service&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652111513,"creation_date":1652079216,"answer_id":72167978,"question_id":72160037,"body_markdown":"&gt; In Java we can have (non-static) **inner-classes**, which seem to &quot;**behave**&quot; like having a strong-reference to their container-class and/or owner-class, **but without causing memory-leak**.\r\n&gt; \r\n&gt; I mean, I observed that even if both owner-class and inner-class keep strong-reference to each other, the classes are garbage-collected anyway (once no external class references them, although having reference-recursion).\r\n\r\nYes, that&#39;s how references work in Java: if an object is reachable, then it&#39;s retained, and if not, then it&#39;s (eventually) garbage-collected.\r\n\r\n&gt; But how can we implement above described &quot;`Inner-class-reference`&quot; behaviour for external classes?\r\n\r\nYou don&#39;t need to do anything special: just give `UserApi` a field of type `WebApi`, and initialize it in the constructor.\r\n\r\nJava&#39;s reference-tracing and garbage collection will ensure that, as long as any reachable `UserApi` instance holds a reference to a given `WebApi` instance, the `WebApi` instance is also considered reachable, and hence retained.","title":"Implement inner-class-like reference behaviour?","body":"<blockquote>\n<p>In Java we can have (non-static) <strong>inner-classes</strong>, which seem to &quot;<strong>behave</strong>&quot; like having a strong-reference to their container-class and/or owner-class, <strong>but without causing memory-leak</strong>.</p>\n<p>I mean, I observed that even if both owner-class and inner-class keep strong-reference to each other, the classes are garbage-collected anyway (once no external class references them, although having reference-recursion).</p>\n</blockquote>\n<p>Yes, that's how references work in Java: if an object is reachable, then it's retained, and if not, then it's (eventually) garbage-collected.</p>\n<blockquote>\n<p>But how can we implement above described &quot;<code>Inner-class-reference</code>&quot; behaviour for external classes?</p>\n</blockquote>\n<p>You don't need to do anything special: just give <code>UserApi</code> a field of type <code>WebApi</code>, and initialize it in the constructor.</p>\n<p>Java's reference-tracing and garbage collection will ensure that, as long as any reachable <code>UserApi</code> instance holds a reference to a given <code>WebApi</code> instance, the <code>WebApi</code> instance is also considered reachable, and hence retained.</p>\n"}],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1652092124,"accepted_answer_id":72167978,"answer_count":1,"score":-2,"last_activity_date":1652131742,"creation_date":1652005201,"question_id":72160037,"body_markdown":"First of all, allow me to explain a &quot;behaviour&quot; that I observed, then I will ask in &quot;Example&quot; section.\r\n\r\n#### Inner-class-reference behaviour\r\nIn Java we can have (non-static) **inner-classes**, which seem to behave like having a strong-reference to their container-class and/or owner-class, **but without causing memory-leak**.\r\n\r\nI mean, I observed that even if both owner-class and inner-class keep strong-reference to each other, the classes are garbage-collected anyway (once no external class references them, although having reference-recursion).\r\n\r\n&gt;In other words, or in other programming-languages, where &quot;reference-counters&quot; are often used (unlike Java?);\r\n&gt;\r\n&gt;We could achieve such behaviour if owner-class and all inner-classes share the same reference-counter. Where just like above, even if we only keep a single reference to inner-class, owner-class is kept as well.\r\n\r\n### Example (background and question)\r\nMy previous logic, which used above said behaviour, was something like:\r\n```java\r\npublic class WebApi {\r\n    public UserApi user = new UserApi();\r\n    public PostApi post = new PostApi();\r\n\r\n    protected String post(String url, String json) {\r\n        // ...\r\n    }\r\n\r\n    public class UserApi {\r\n        public void login() {\r\n            WebApi.this.post(...);\r\n        }\r\n\r\n        public void logout() {\r\n            WebApi.this.post(...);\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\n    public class PostApi {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nThen day by day the project did grow, till each of `UserApi` and `PostApi` classes deserved their own separate files (instead of being inner-classes of one huge file).\r\n\r\nHow can we implement above described &quot;`Inner-class-reference`&quot; behaviour for external classes?\r\n","title":"Implement inner-class-like reference behaviour?","body":"<p>First of all, allow me to explain a &quot;behaviour&quot; that I observed, then I will ask in &quot;Example&quot; section.</p>\n<h4>Inner-class-reference behaviour</h4>\n<p>In Java we can have (non-static) <strong>inner-classes</strong>, which seem to behave like having a strong-reference to their container-class and/or owner-class, <strong>but without causing memory-leak</strong>.</p>\n<p>I mean, I observed that even if both owner-class and inner-class keep strong-reference to each other, the classes are garbage-collected anyway (once no external class references them, although having reference-recursion).</p>\n<blockquote>\n<p>In other words, or in other programming-languages, where &quot;reference-counters&quot; are often used (unlike Java?);</p>\n<p>We could achieve such behaviour if owner-class and all inner-classes share the same reference-counter. Where just like above, even if we only keep a single reference to inner-class, owner-class is kept as well.</p>\n</blockquote>\n<h3>Example (background and question)</h3>\n<p>My previous logic, which used above said behaviour, was something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebApi {\n    public UserApi user = new UserApi();\n    public PostApi post = new PostApi();\n\n    protected String post(String url, String json) {\n        // ...\n    }\n\n    public class UserApi {\n        public void login() {\n            WebApi.this.post(...);\n        }\n\n        public void logout() {\n            WebApi.this.post(...);\n        }\n\n        // ...\n    }\n\n    public class PostApi {\n        // ...\n    }\n}\n</code></pre>\n<p>Then day by day the project did grow, till each of <code>UserApi</code> and <code>PostApi</code> classes deserved their own separate files (instead of being inner-classes of one huge file).</p>\n<p>How can we implement above described &quot;<code>Inner-class-reference</code>&quot; behaviour for external classes?</p>\n"},{"tags":["java","android","android-jetpack","android-architecture-navigation"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1652147172,"post_id":72178345,"comment_id":127530225,"body_markdown":"Is there a reason you aren&#39;t follow the docs that [specifically state how to show and hide a bottom nav based on what destination you are on](https://developer.android.com/guide/navigation/navigation-ui#listen_for_navigation_events)?","body":"Is there a reason you aren&#39;t follow the docs that <a href=\"https://developer.android.com/guide/navigation/navigation-ui#listen_for_navigation_events\" rel=\"nofollow noreferrer\">specifically state how to show and hide a bottom nav based on what destination you are on</a>?"},{"owner":{"account_id":8806138,"reputation":523,"user_id":6841157,"display_name":"Jeff L"},"score":0,"creation_date":1652148218,"post_id":72178345,"comment_id":127530401,"body_markdown":"@ianhanniballake the reason is that that bottom nav is specific to that fragment so I want to contain that bottom nav in that fragment.","body":"@ianhanniballake the reason is that that bottom nav is specific to that fragment so I want to contain that bottom nav in that fragment."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1652150269,"post_id":72178345,"comment_id":127530704,"body_markdown":"That&#39;s not what your diagram says at all. It shows no bottom bar when you are on your &#39;MainFragment&#39; and a persistent bottom bar as you swap between Fragment A, B, and C. That&#39;s exactly the case that the docs talk about.","body":"That&#39;s not what your diagram says at all. It shows no bottom bar when you are on your &#39;MainFragment&#39; and a persistent bottom bar as you swap between Fragment A, B, and C. That&#39;s exactly the case that the docs talk about."}],"owner":{"account_id":8806138,"reputation":523,"user_id":6841157,"display_name":"Jeff L"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652131419,"creation_date":1652131419,"question_id":72178345,"body_markdown":"I am trying to get started with using the Android navigation component architecture along with a `BottomNavigationView`. As a simplified example, I have a `Fragment` called MainFragment with a button, which when pressed navigates to a new view with a `BottomNavigationView` which allows the user to switch between FragmentA and FragmentB. FragmentB has a button which navigates to FragmentC, and the user should be able to switch between FragmentC and FragmentA via the `BottomNavigationView`. Here is a diagram of the navigation flow:\r\n\r\n[![navigation flow][1]][1]\r\n\r\nMy approach is to have a root nav graph to transition from MainFragment to some ContainerFragment which contains a second `NavHostFragment` and the `BottomNavigationView`. Then having a second nav graph containing Fragments A, B, and C.\r\n\r\n\r\nmain activity:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.fragment.app.FragmentContainerView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/nav_host_fragment&quot;\r\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    app:defaultNavHost=&quot;true&quot;\r\n    app:navGraph=&quot;@navigation/root_nav&quot; /&gt;\r\n```\r\n\r\ncontainer fragment:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_fragment2&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n\r\n        app:navGraph=&quot;@navigation/secondary_nav&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:menu=&quot;@menu/bottom_navigation_menu&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nroot navigation graph:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/root_nav&quot;\r\n    app:startDestination=&quot;@id/mainFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/mainFragment&quot;\r\n        android:name=&quot;com.example.navtest.MainFragment&quot;\r\n        android:label=&quot;main_fragment&quot;\r\n        tools:layout=&quot;@layout/main_fragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_mainFragment_to_containerFragment&quot;\r\n            app:destination=&quot;@id/containerFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/containerFragment&quot;\r\n        android:name=&quot;com.example.navtest.ContainerFragment&quot;\r\n        android:label=&quot;ContainerFragment&quot;\r\n        tools:layout=&quot;@layout/container_fragment&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nSecondary navigation graph:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nested_nav&quot;\r\n    app:startDestination=&quot;@id/fragment1&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/fragmentA&quot;\r\n        android:name=&quot;com.example.navtest.DummyFragment&quot;\r\n        android:label=&quot;FragmentA&quot;\r\n        tools:layout=&quot;@layout/fragment_a&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/FragmentB&quot;\r\n        android:name=&quot;com.example.navtest.SettingsFragment&quot;\r\n        android:label=&quot;FragmentB&quot;\r\n        tools:layout=&quot;@layout/fragment_b&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nI notice in my `ContainerFragment` when I try to retreive the `NavController` to link the `BottomNavigationView` to the controller like so:\r\n```java\r\nNavController controller = Navigation.findNavController(requireActivity(), R.id.nav_host_fragment2);\r\n```\r\nthat I&#39;m only retreiving the root nav controller and not the secondary one. Does this approach even make sense? I haven&#39;t seen a particular use-case like this before.\r\n\r\n  [1]: https://i.stack.imgur.com/36WMs.png","title":"Navigation component with BottomNavigationView","body":"<p>I am trying to get started with using the Android navigation component architecture along with a <code>BottomNavigationView</code>. As a simplified example, I have a <code>Fragment</code> called MainFragment with a button, which when pressed navigates to a new view with a <code>BottomNavigationView</code> which allows the user to switch between FragmentA and FragmentB. FragmentB has a button which navigates to FragmentC, and the user should be able to switch between FragmentC and FragmentA via the <code>BottomNavigationView</code>. Here is a diagram of the navigation flow:</p>\n<p><a href=\"https://i.stack.imgur.com/36WMs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36WMs.png\" alt=\"navigation flow\" /></a></p>\n<p>My approach is to have a root nav graph to transition from MainFragment to some ContainerFragment which contains a second <code>NavHostFragment</code> and the <code>BottomNavigationView</code>. Then having a second nav graph containing Fragments A, B, and C.</p>\n<p>main activity:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.fragment.app.FragmentContainerView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/nav_host_fragment&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    app:defaultNavHost=&quot;true&quot;\n    app:navGraph=&quot;@navigation/root_nav&quot; /&gt;\n</code></pre>\n<p>container fragment:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/nav_host_fragment2&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n\n        app:navGraph=&quot;@navigation/secondary_nav&quot; /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNav&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:menu=&quot;@menu/bottom_navigation_menu&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>root navigation graph:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/root_nav&quot;\n    app:startDestination=&quot;@id/mainFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/mainFragment&quot;\n        android:name=&quot;com.example.navtest.MainFragment&quot;\n        android:label=&quot;main_fragment&quot;\n        tools:layout=&quot;@layout/main_fragment&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_mainFragment_to_containerFragment&quot;\n            app:destination=&quot;@id/containerFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/containerFragment&quot;\n        android:name=&quot;com.example.navtest.ContainerFragment&quot;\n        android:label=&quot;ContainerFragment&quot;\n        tools:layout=&quot;@layout/container_fragment&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>Secondary navigation graph:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nested_nav&quot;\n    app:startDestination=&quot;@id/fragment1&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/fragmentA&quot;\n        android:name=&quot;com.example.navtest.DummyFragment&quot;\n        android:label=&quot;FragmentA&quot;\n        tools:layout=&quot;@layout/fragment_a&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/FragmentB&quot;\n        android:name=&quot;com.example.navtest.SettingsFragment&quot;\n        android:label=&quot;FragmentB&quot;\n        tools:layout=&quot;@layout/fragment_b&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>I notice in my <code>ContainerFragment</code> when I try to retreive the <code>NavController</code> to link the <code>BottomNavigationView</code> to the controller like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavController controller = Navigation.findNavController(requireActivity(), R.id.nav_host_fragment2);\n</code></pre>\n<p>that I'm only retreiving the root nav controller and not the secondary one. Does this approach even make sense? I haven't seen a particular use-case like this before.</p>\n"},{"tags":["java","static","singleton","field","final"],"answers":[{"tags":[],"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522240235,"creation_date":1522240235,"answer_id":49534608,"question_id":49534553,"body_markdown":"There are no consequences. Basically singleton is an instance (just one instance) so it is against design to have class member fields (static ones). I would avoid using static fields","title":"private static final field in singleton class","body":"<p>There are no consequences. Basically singleton is an instance (just one instance) so it is against design to have class member fields (static ones). I would avoid using static fields</p>\n"},{"tags":[],"owner":{"account_id":8115958,"reputation":1,"user_id":6114460,"display_name":"Fakhreddine Belgaied"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522241757,"creation_date":1522241757,"answer_id":49535186,"question_id":49534553,"body_markdown":"The singleton design pattern is to ensure that there is only one instance of your class in the application run-time. This Singleton  object it will be used by other object in order to invoke it public methods, so you should expose a public static method to other objects in order to get an instance of the singleton , so the field should be static also. ","title":"private static final field in singleton class","body":"<p>The singleton design pattern is to ensure that there is only one instance of your class in the application run-time. This Singleton  object it will be used by other object in order to invoke it public methods, so you should expose a public static method to other objects in order to get an instance of the singleton , so the field should be static also. </p>\n"}],"owner":{"account_id":6093255,"reputation":162,"user_id":5184887,"accept_rate":33,"display_name":"Zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1262,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652130677,"creation_date":1522240060,"question_id":49534553,"body_markdown":"Are there any consequences declaring/not declaring a field in a singleton class static final or just final if it&#39;s private and only a accessible from the class itself?","title":"private static final field in singleton class","body":"<p>Are there any consequences declaring/not declaring a field in a singleton class static final or just final if it's private and only a accessible from the class itself?</p>\n"},{"tags":["java","exception","getmessage"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1652129126,"post_id":72177991,"comment_id":127527088,"body_markdown":"Right now, you&#39;re not printing the message, you&#39;re printed string looks like you want to append something, but nothing is appended.  If the message exists, then simply appened e.getMessage() to your string.  You can also use e.printStackTrace() so you can see the full error.  Sometimes, the error you see isn&#39;t the root cause so seeing the full stack trace is helpful.","body":"Right now, you&#39;re not printing the message, you&#39;re printed string looks like you want to append something, but nothing is appended.  If the message exists, then simply appened e.getMessage() to your string.  You can also use e.printStackTrace() so you can see the full error.  Sometimes, the error you see isn&#39;t the root cause so seeing the full stack trace is helpful."},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1652129190,"post_id":72177991,"comment_id":127527103,"body_markdown":"@Ryan, how do I set getMessage in the above example","body":"@Ryan, how do I set getMessage in the above example"}],"answers":[{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652129673,"creation_date":1652129673,"answer_id":72178117,"question_id":72177991,"body_markdown":"You only set the message when the exception is created, it&#39;s an argument to the constructor.  In your case it would have been nice if the InputMismatchException was created like this: \r\n\r\ntnrow new InputMismatchException(&quot;Pretty please enter an int: &quot;)\r\n\r\nSince you probably aren&#39;t creating the InputMismatchException, you can&#39;t set it&#39;s message, however inside a catch you can do something liket this:\r\n\r\n    catch(InputMismatchException ime){\r\n        throw new IllegalArgumentException(&quot;Pretty please enter an int: &quot;);\r\n    }\r\n\r\nThen someone above you can catch that exception and will have an appropriate error message.\r\n\r\nThis is obviously a bit awkward which is why it usually isn&#39;t used this way.\r\n\r\nNote:\r\n\r\nYou aren&#39;t usually supposed to re-use java exceptions but create your own.  This is pretty annoying and I almost always re-use either IllegalArgumentException or IllegalStateException Because those are good, reusable exceptions and describe most of the reasons you&#39;d want to throw in general code for &quot;Catch and rethrow&quot; exceptions as I discussed above.","title":"How to properly use Exception method getMessage","body":"<p>You only set the message when the exception is created, it's an argument to the constructor.  In your case it would have been nice if the InputMismatchException was created like this:</p>\n<p>tnrow new InputMismatchException(&quot;Pretty please enter an int: &quot;)</p>\n<p>Since you probably aren't creating the InputMismatchException, you can't set it's message, however inside a catch you can do something liket this:</p>\n<pre><code>catch(InputMismatchException ime){\n    throw new IllegalArgumentException(&quot;Pretty please enter an int: &quot;);\n}\n</code></pre>\n<p>Then someone above you can catch that exception and will have an appropriate error message.</p>\n<p>This is obviously a bit awkward which is why it usually isn't used this way.</p>\n<p>Note:</p>\n<p>You aren't usually supposed to re-use java exceptions but create your own.  This is pretty annoying and I almost always re-use either IllegalArgumentException or IllegalStateException Because those are good, reusable exceptions and describe most of the reasons you'd want to throw in general code for &quot;Catch and rethrow&quot; exceptions as I discussed above.</p>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72178117,"answer_count":1,"score":-1,"last_activity_date":1652129673,"creation_date":1652128853,"question_id":72177991,"body_markdown":"I have the following java code:\r\n\r\n    System.out.print(&quot;\\fPlease Enter an integer: &quot;);\r\n    while(!validInt){\r\n       try{\r\n          number = kb.nextInt();\r\n          validInt = true;\r\n       }catch(InputMismatchException e){\r\n          System.out.print(&quot;Pretty please enter an int: &quot;);\r\n          System.out.print(e.getMessage());\r\n          kb.nextLine();\r\n          continue;\r\n       )\r\n       kb.nextLine(); \r\n    }\r\n\r\nhow can I set e.getMessage() so that System.out.println(e.getMessage()) will print &quot;Pretty please enter an int: &quot;\r\n\r\n","title":"How to properly use Exception method getMessage","body":"<p>I have the following java code:</p>\n<pre><code>System.out.print(&quot;\\fPlease Enter an integer: &quot;);\nwhile(!validInt){\n   try{\n      number = kb.nextInt();\n      validInt = true;\n   }catch(InputMismatchException e){\n      System.out.print(&quot;Pretty please enter an int: &quot;);\n      System.out.print(e.getMessage());\n      kb.nextLine();\n      continue;\n   )\n   kb.nextLine(); \n}\n</code></pre>\n<p>how can I set e.getMessage() so that System.out.println(e.getMessage()) will print &quot;Pretty please enter an int: &quot;</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1652123811,"post_id":72176668,"comment_id":127525553,"body_markdown":"you can simply return questionnaireRepository.findById(questionnaireId).orElse(null)","body":"you can simply return questionnaireRepository.findById(questionnaireId).orElse(nul&zwnj;&#8203;l)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1652125353,"post_id":72176668,"comment_id":127525989,"body_markdown":"Your first code snippet is just a convoluted null-check, and defeats the whole purpose of `Optional`. Returning an `Optional` means: this method either returns a certain something, or sensibly returns an absent value. For `findById`, it makes sense to return an `Optional`, because the absense of a value is a sensible use case (it&#39;s rather common than an exception). You are better off returning the `Optional`, because it forces the caller to think about this use case – the absense of a value.","body":"Your first code snippet is just a convoluted null-check, and defeats the whole purpose of <code>Optional</code>. Returning an <code>Optional</code> means: this method either returns a certain something, or sensibly returns an absent value. For <code>findById</code>, it makes sense to return an <code>Optional</code>, because the absense of a value is a sensible use case (it&#39;s rather common than an exception). You are better off returning the <code>Optional</code>, because it forces the caller to think about this use case – the absense of a value."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1652125576,"post_id":72176668,"comment_id":127526042,"body_markdown":"Note that question #2 is off-topic for StackOverflow.","body":"Note that question #2 is off-topic for StackOverflow."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652125347,"creation_date":1652125347,"answer_id":72177429,"question_id":72176668,"body_markdown":"I go with way 1 that you have mentioned. In case the object is not present, throw a validation exception or something. This approach also ensures that service layer is in charge of the logic and controller is just used your interacting with the outside world. \r\n\r\n","title":"Using Optionals correctly in service layer of spring boot application","body":"<p>I go with way 1 that you have mentioned. In case the object is not present, throw a validation exception or something. This approach also ensures that service layer is in charge of the logic and controller is just used your interacting with the outside world.</p>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652128644,"creation_date":1652127460,"answer_id":72177770,"question_id":72176668,"body_markdown":"I wouldn&#39;t go for either option tbh, especially not the first. You don&#39;t want to introduce null values inside your domain. Your domain should stay as simple as possible, readable and void of clutter like null checks.\r\n\r\nYou might want to read through the optional API for all your options, but personally I would go for something like this:\r\n\r\nIn repository:\r\n\r\n```java\r\npublic interface TodoBoardRepository {\r\n\r\n    Optional&lt;Questionnaire&gt; findByQuestionnaireId(String questionnaireId);\r\n\r\n    // ...\r\n\r\n}\r\n```\r\n\r\nIn service:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor // Or generate constructor if you&#39;re not using Lombok\r\npublic class QuestionnaireService {\r\n    private final QuestionnaireRepository questionnaireRepository;\r\n\r\n    // ...\r\n\r\n    public Questionnaire getQuestionnaireById(Long questionnaireId) {\r\n        Questionnaire questionnaire = questionnaireRepository.findById(questionnaireId)\r\n            .orElseThrow(() -&gt; new QuestionaireNotFoundException(questionnaireId));\r\n        // Do whatever you want to do with the Questionnaire...\r\n        return questionnaire;\r\n    }\r\n}\r\n```","title":"Using Optionals correctly in service layer of spring boot application","body":"<p>I wouldn't go for either option tbh, especially not the first. You don't want to introduce null values inside your domain. Your domain should stay as simple as possible, readable and void of clutter like null checks.</p>\n<p>You might want to read through the optional API for all your options, but personally I would go for something like this:</p>\n<p>In repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TodoBoardRepository {\n\n    Optional&lt;Questionnaire&gt; findByQuestionnaireId(String questionnaireId);\n\n    // ...\n\n}\n</code></pre>\n<p>In service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor // Or generate constructor if you're not using Lombok\npublic class QuestionnaireService {\n    private final QuestionnaireRepository questionnaireRepository;\n\n    // ...\n\n    public Questionnaire getQuestionnaireById(Long questionnaireId) {\n        Questionnaire questionnaire = questionnaireRepository.findById(questionnaireId)\n            .orElseThrow(() -&gt; new QuestionaireNotFoundException(questionnaireId));\n        // Do whatever you want to do with the Questionnaire...\n        return questionnaire;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18148011,"reputation":146,"user_id":13201103,"display_name":"Syed Iftekharuddin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72177770,"answer_count":2,"score":3,"last_activity_date":1652128644,"creation_date":1652120932,"question_id":72176668,"body_markdown":"I new to spring boot application development. I using service layer in my application, but came across the repository method that return Optional&lt;Object type&gt; as shown below.\r\n\r\n     @Override\r\n    public Questionnaire getQuestionnaireById(Long questionnaireId) {\r\n        Questionnaire returnedQuestionnaire = null;\r\n        Optional&lt;Questionnaire&gt; questionnaireOptional = questionnaireRepository.findById(questionnaireId);\r\n        if(questionnaireOptional.isPresent()) {\r\n            returnedQuestionnaire = questionnaireOptional.get();\r\n        }\r\n        return returnedQuestionnaire;\r\n    }\r\n\r\nMy question is , \r\n1. whether I am using the Optional correctly here. And is it ok to check this optional (isPresent()) in the RestController and throughing exception is not present.Like below\r\n\r\n```java\r\npublic Optional&lt;Questionnaire&gt; getQuestionnaireById(Long questionnaireId) {\r\n    return questionnaireRepository.findById(questionnaireId);\r\n}\r\n```\r\n\r\n \r\n","title":"Using Optionals correctly in service layer of spring boot application","body":"<p>I new to spring boot application development. I using service layer in my application, but came across the repository method that return Optional as shown below.</p>\n<pre><code> @Override\npublic Questionnaire getQuestionnaireById(Long questionnaireId) {\n    Questionnaire returnedQuestionnaire = null;\n    Optional&lt;Questionnaire&gt; questionnaireOptional = questionnaireRepository.findById(questionnaireId);\n    if(questionnaireOptional.isPresent()) {\n        returnedQuestionnaire = questionnaireOptional.get();\n    }\n    return returnedQuestionnaire;\n}\n</code></pre>\n<p>My question is ,</p>\n<ol>\n<li>whether I am using the Optional correctly here. And is it ok to check this optional (isPresent()) in the RestController and throughing exception is not present.Like below</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Questionnaire&gt; getQuestionnaireById(Long questionnaireId) {\n    return questionnaireRepository.findById(questionnaireId);\n}\n</code></pre>\n"},{"tags":["java","hashmap","sonarqube"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1651914231,"post_id":72150999,"comment_id":127481635,"body_markdown":"Please share which Json library you are using.","body":"Please share which Json library you are using."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1651914947,"post_id":72150999,"comment_id":127481792,"body_markdown":"Don&#39;t you see you&#39;re calling `get()` with something that is not a string?","body":"Don&#39;t you see you&#39;re calling <code>get()</code> with something that is not a string?"},{"owner":{"account_id":11571337,"reputation":16,"user_id":8478025,"display_name":"maede"},"score":0,"creation_date":1651916017,"post_id":72150999,"comment_id":127482026,"body_markdown":"what should I use instead of get () ? @Olivier","body":"what should I use instead of get () ? @Olivier"},{"owner":{"account_id":11571337,"reputation":16,"user_id":8478025,"display_name":"maede"},"score":0,"creation_date":1651916200,"post_id":72150999,"comment_id":127482065,"body_markdown":"JSONObject reportData = laserDataList.get(\n                                JSONUtil.getAsJSONObject(object, LoanOntologyKeys.PRINT_DOCUMENT_ID) != null\n                                ? JSONUtil.getAsJSONObject(object, LoanOntologyKeys.PRINT_DOCUMENT_ID).toString() : null);  Is this a good solution for this problem ? @Olivier","body":"JSONObject reportData = laserDataList.get(                                 JSONUtil.getAsJSONObject(object, LoanOntologyKeys.PRINT_DOCUMENT_ID) != null                                 ? JSONUtil.getAsJSONObject(object, LoanOntologyKeys.PRINT_DOCUMENT_ID).toString() : null);  Is this a good solution for this problem ? @Olivier"}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652127839,"creation_date":1652127839,"answer_id":72177828,"question_id":72150999,"body_markdown":"I can see from the comments that you&#39;re not understanding the problem.\r\n\r\nYou&#39;ve defined a Map object.  You&#39;ve specified that the keys of the map are of type String, and the values are of type JSONObject.\r\n\r\nWhen you look up a value in a map, you pass to the &quot;get&quot; method a value of the KEY type, and you get back a value of the VALUE type.  In this case, again, the key type is String, and the value type is JSONObject.  Your calls to &quot;JSONUtil.getAsJSONObject()&quot; all return JSONObject values, not strings.\r\n\r\nI don&#39;t know exactly what your logic is doing, but perhaps you need this:\r\n\r\n    JSONObject reportData = laserDataList.get(LoanOntologyKeys.PRINT_DOCUMENT_ID);","title":"how to resolve this sonarQube bug about hashmap in java","body":"<p>I can see from the comments that you're not understanding the problem.</p>\n<p>You've defined a Map object.  You've specified that the keys of the map are of type String, and the values are of type JSONObject.</p>\n<p>When you look up a value in a map, you pass to the &quot;get&quot; method a value of the KEY type, and you get back a value of the VALUE type.  In this case, again, the key type is String, and the value type is JSONObject.  Your calls to &quot;JSONUtil.getAsJSONObject()&quot; all return JSONObject values, not strings.</p>\n<p>I don't know exactly what your logic is doing, but perhaps you need this:</p>\n<pre><code>JSONObject reportData = laserDataList.get(LoanOntologyKeys.PRINT_DOCUMENT_ID);\n</code></pre>\n"}],"owner":{"account_id":11571337,"reputation":16,"user_id":8478025,"display_name":"maede"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652127839,"creation_date":1651913915,"question_id":72150999,"body_markdown":"I have a hashMap :\r\n  ```private static Map&lt;String, JSONObject&gt; laserDataList = new HashMap&lt;String, JSONObject&gt;();```\r\nI wrote this part of code :\r\n\r\n ```public void execute(JSONObject object) {JSONObject reportData = laserDataList.get(JSONUtil.getAsJSONObject(object, LoanOntologyKeys.PRINT_DOCUMENT_ID)); }```\r\n Sonar says this code has problem  : **A &quot;Map&lt;String, JSONObject&gt;&quot; cannot contain a &quot;JSONObject&quot; in a &quot;String&quot; type**\r\n\r\nhow can I resolve this bug ? what is the meaning of this sonar message ? ","title":"how to resolve this sonarQube bug about hashmap in java","body":"<p>I have a hashMap :\n<code>private static Map&lt;String, JSONObject&gt; laserDataList = new HashMap&lt;String, JSONObject&gt;();</code>\nI wrote this part of code :</p>\n<p><code>public void execute(JSONObject object) {JSONObject reportData = laserDataList.get(JSONUtil.getAsJSONObject(object, LoanOntologyKeys.PRINT_DOCUMENT_ID)); }</code>\nSonar says this code has problem  : <strong>A &quot;Map&lt;String, JSONObject&gt;&quot; cannot contain a &quot;JSONObject&quot; in a &quot;String&quot; type</strong></p>\n<p>how can I resolve this bug ? what is the meaning of this sonar message ?</p>\n"},{"tags":["java","file","servlets","jboss"],"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1506151653,"post_id":30638623,"comment_id":79712983,"body_markdown":"I&#39;m having this problem with `FileUtils.copy()` and it&#39;s driving me insane. I think it&#39;s either because another process is locking the source folder, or the drive has some logical errors.","body":"I&#39;m having this problem with <code>FileUtils.copy()</code> and it&#39;s driving me insane. I think it&#39;s either because another process is locking the source folder, or the drive has some logical errors."},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1619782241,"post_id":30638623,"comment_id":119014615,"body_markdown":"Did you found any root cause on this?","body":"Did you found any root cause on this?"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433406602,"creation_date":1433406602,"answer_id":30638784,"question_id":30638623,"body_markdown":"You&#39;ll either need to:\r\n\r\n1. Start the jboss process using a user/account which has read/write permissions to the files (possibly using [sudo](http://linux.about.com/od/commands/l/blcmdl8_sudo.htm))\r\n2. Change the access rights on the files/directories such that the jboss process&#39;s user has read/write permissions to the files (see [chmod](http://en.wikipedia.org/wiki/Chmod))\r\n\r\n","title":"Java cant access Files In NFS Share","body":"<p>You'll either need to:</p>\n\n<ol>\n<li>Start the jboss process using a user/account which has read/write permissions to the files (possibly using <a href=\"http://linux.about.com/od/commands/l/blcmdl8_sudo.htm\" rel=\"nofollow\">sudo</a>)</li>\n<li>Change the access rights on the files/directories such that the jboss process's user has read/write permissions to the files (see <a href=\"http://en.wikipedia.org/wiki/Chmod\" rel=\"nofollow\">chmod</a>)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2800919,"reputation":4385,"user_id":2409182,"accept_rate":100,"display_name":"Eric Citaire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433411369,"creation_date":1433411369,"answer_id":30640568,"question_id":30638623,"body_markdown":"Your issue is not Java related, it is unix related.\r\n\r\nFirst, a file is owned by a user, not a group.\r\n\r\nSecondly, you have to understand unix file permissions precedence. The system first check the user permissions, then the group permissions and finally the others permissions.\r\n\r\nFor example, given this file :\r\n\r\n    ----rwx--- bob wailers test.txt\r\n\r\n1. IF you are user &quot;bob&quot;, you CAN&#39;T read, write or execute it\r\n2. ELSE IF if you are in group &quot;wailers&quot;, you CAN read, write or execute it\r\n3. ELSE you CAN&#39;T read, write or execute it\r\n\r\nSo, if you are user &quot;bob&quot;, even if you are in the group &quot;wailers&quot; :\r\n\r\n1. the first condition is true (you are bob) and permissions apply : you CAN&#39;T access the file.\r\n\r\nBut if you are user &quot;peter&quot; and you are in the group &quot;wailers&quot; :\r\n\r\n1. the first condition is false (you are not bob) -&gt; permissions don&#39;t apply,\r\n2. the second condition is true (you are in the wailers) -&gt; permissions apply : you CAN access the file.","title":"Java cant access Files In NFS Share","body":"<p>Your issue is not Java related, it is unix related.</p>\n\n<p>First, a file is owned by a user, not a group.</p>\n\n<p>Secondly, you have to understand unix file permissions precedence. The system first check the user permissions, then the group permissions and finally the others permissions.</p>\n\n<p>For example, given this file :</p>\n\n<pre><code>----rwx--- bob wailers test.txt\n</code></pre>\n\n<ol>\n<li>IF you are user \"bob\", you CAN'T read, write or execute it</li>\n<li>ELSE IF if you are in group \"wailers\", you CAN read, write or execute it</li>\n<li>ELSE you CAN'T read, write or execute it</li>\n</ol>\n\n<p>So, if you are user \"bob\", even if you are in the group \"wailers\" :</p>\n\n<ol>\n<li>the first condition is true (you are bob) and permissions apply : you CAN'T access the file.</li>\n</ol>\n\n<p>But if you are user \"peter\" and you are in the group \"wailers\" :</p>\n\n<ol>\n<li>the first condition is false (you are not bob) -> permissions don't apply,</li>\n<li>the second condition is true (you are in the wailers) -> permissions apply : you CAN access the file.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652127833,"creation_date":1652127833,"answer_id":72177827,"question_id":30638623,"body_markdown":"This is a fairly old question, but I ran across a similar issue and finally figured out the issue and I didn&#39;t see any SO posts that documented the issue that I was experiencing.\r\n\r\nIn my case, I was using [Apache Commons FileUtils method][1] that preserves date information, and I believe that preserving date information to be the cause of the specific exception &quot;Operation Not Permitted&quot;. \r\nIn other cases, where the file/directory permissions are insufficient I tend to see &quot;Access Denied&quot; exceptions from Java.\r\n\r\nDebugging further, I found that with the filesystem I was dealing with (NFS or CIFS I believe) that if I used `cp -p` to copy files I would get the same &quot;Operation not permitted&quot; reported by the OS.\r\nAccording to the man page: `-p same as --preserve=mode,ownership,timestamps` so it will try to preserve timestamps.\r\nIn my case my user had group access to the files, but the owner was a different user (`root`). I read on another forum: https://serverfault.com/a/680045\r\n\r\n_On Unix the timestamps cannot be preserved on the files the user does not own._\r\n\r\nSo even though my user had group permissions to read the file/directory, the command would fail because of the inability to preserve timestamps.\r\n\r\nThe solution was to change the ownership of the files to match the user that was trying to perform the copy with preserving timestamps.\r\n\r\nAn alternative approach might be to use a different Java copy method that doesn&#39;t attempt to preserve timestamps, but I didn&#39;t actually try this.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyFileToDirectory-java.io.File-java.io.File-","title":"Java cant access Files In NFS Share","body":"<p>This is a fairly old question, but I ran across a similar issue and finally figured out the issue and I didn't see any SO posts that documented the issue that I was experiencing.</p>\n<p>In my case, I was using <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyFileToDirectory-java.io.File-java.io.File-\" rel=\"nofollow noreferrer\">Apache Commons FileUtils method</a> that preserves date information, and I believe that preserving date information to be the cause of the specific exception &quot;Operation Not Permitted&quot;.\nIn other cases, where the file/directory permissions are insufficient I tend to see &quot;Access Denied&quot; exceptions from Java.</p>\n<p>Debugging further, I found that with the filesystem I was dealing with (NFS or CIFS I believe) that if I used <code>cp -p</code> to copy files I would get the same &quot;Operation not permitted&quot; reported by the OS.\nAccording to the man page: <code>-p same as --preserve=mode,ownership,timestamps</code> so it will try to preserve timestamps.\nIn my case my user had group access to the files, but the owner was a different user (<code>root</code>). I read on another forum: <a href=\"https://serverfault.com/a/680045\">https://serverfault.com/a/680045</a></p>\n<p><em>On Unix the timestamps cannot be preserved on the files the user does not own.</em></p>\n<p>So even though my user had group permissions to read the file/directory, the command would fail because of the inability to preserve timestamps.</p>\n<p>The solution was to change the ownership of the files to match the user that was trying to perform the copy with preserving timestamps.</p>\n<p>An alternative approach might be to use a different Java copy method that doesn't attempt to preserve timestamps, but I didn't actually try this.</p>\n"}],"owner":{"account_id":6413555,"reputation":21,"user_id":4972417,"display_name":"Mangis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1652127833,"creation_date":1433406175,"question_id":30638623,"body_markdown":"Some strange behavior in Java app JBOSS (technology not relevant..)\r\n\r\napplication can access files, only OWNED by user, which runs process. Group is not used.\r\n\r\n&gt;-rwxrwxrwx. 1 root GroupUnix1 448 Jun 4 06:26 output_new.txt\r\n\r\n&gt;id uid=401322(MySuperUser) gid=401322(MySuperGroup) &gt;groups=401322(MySuperGroup),7013595(GroupUnix1 ) &gt;context=unconfined_u:system_r:openshift_t:s0:c528,c834\r\n\r\n&gt;getenforce Permissive\r\nFrom first view looks like Java does not care about file level permissions. Only ownership.\r\n\r\n&gt;ls -la\r\n&gt;-rw------- 1 MySuperUser GroupUnix1 308 Jun 3 14:15 output_new.txt &lt;-access ok\r\n\r\nAny ideas how to access file in Java, which is owned by Group and not user? I run in MultiUser environment.\r\n\r\n\r\n\r\n&gt;----rw---- 1 MySuperUser GroupUnix1 308 Jun 3 14:15 output_new.txt access ok ? WHY?\r\n\r\n&gt;---------- 1 MySuperUser GroupUnix1 308 Jun 3 14:15 output_new.txt access ok ? WHY?\r\n\r\n&gt;----rw---- 1 root GroupUnix1 364 Jun 3 14:16 output_new.txt no access ? WHY?\r\n\r\nError from JBOSS. But basically i get access restricted.\r\n\r\n&gt;Error: java.nio.file.FileSystemException: /mnt/SuperFolder/share1/outbound/output_new.txt: Operation not permitted sun.nio.fs.UnixException.translateToIOException(UnixException.java:91) sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) sun.nio.fs.UnixFileAttributeViews$Posix.setMode(UnixFileAttributeViews.java:228) sun.nio.fs.UnixFileAttributeViews$Posix.setPermissions(UnixFileAttributeViews.java:250) java.nio.file.Files.setPosixFilePermissions(Files.java:1992) com.company.soft.eap.test.nfs.ReadFile.doGet(ReadFile.java:85) javax.servlet.http.HttpServlet.service(HttpServlet.java:734) javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\r\n\r\n\r\nCODE i try:\r\n\r\n    String path = &quot;/mnt/SuperFolder/share1/outbound/output_new.txt&quot;;\r\n\t// (use relative path for Unix systems)\r\n\tFile f = new File(path);\r\n\t// (works for both Windows and Linux)\r\n\tf.getParentFile().mkdirs();\r\n\tf.createNewFile();\r\n\tFileWriter fstream = new FileWriter(path, true);\r\n\tBufferedWriter outt = new BufferedWriter(fstream);\r\n\toutt.write(&quot; something \\n &quot;);\r\n\toutt.newLine();\r\n    // close buffer writer\r\n\toutt.close();\r\n\r\nSo if file has 070 it cant write, edit as a group. \r\n\r\n\r\nUPDATE: writing happens to NFS share. outside NFS this behaves as expected. But inside share - Crashes. \r\n\r\n","title":"Java cant access Files In NFS Share","body":"<p>Some strange behavior in Java app JBOSS (technology not relevant..)</p>\n\n<p>application can access files, only OWNED by user, which runs process. Group is not used.</p>\n\n<blockquote>\n  <p>-rwxrwxrwx. 1 root GroupUnix1 448 Jun 4 06:26 output_new.txt</p>\n  \n  <p>id uid=401322(MySuperUser) gid=401322(MySuperGroup) >groups=401322(MySuperGroup),7013595(GroupUnix1 ) >context=unconfined_u:system_r:openshift_t:s0:c528,c834</p>\n  \n  <p>getenforce Permissive\n  From first view looks like Java does not care about file level permissions. Only ownership.</p>\n  \n  <p>ls -la\n  -rw------- 1 MySuperUser GroupUnix1 308 Jun 3 14:15 output_new.txt &lt;-access ok</p>\n</blockquote>\n\n<p>Any ideas how to access file in Java, which is owned by Group and not user? I run in MultiUser environment.</p>\n\n<blockquote>\n  <p>----rw---- 1 MySuperUser GroupUnix1 308 Jun 3 14:15 output_new.txt access ok ? WHY?</p>\n  \n  <p>---------- 1 MySuperUser GroupUnix1 308 Jun 3 14:15 output_new.txt access ok ? WHY?</p>\n  \n  <p>----rw---- 1 root GroupUnix1 364 Jun 3 14:16 output_new.txt no access ? WHY?</p>\n</blockquote>\n\n<p>Error from JBOSS. But basically i get access restricted.</p>\n\n<blockquote>\n  <p>Error: java.nio.file.FileSystemException: /mnt/SuperFolder/share1/outbound/output_new.txt: Operation not permitted sun.nio.fs.UnixException.translateToIOException(UnixException.java:91) sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) sun.nio.fs.UnixFileAttributeViews$Posix.setMode(UnixFileAttributeViews.java:228) sun.nio.fs.UnixFileAttributeViews$Posix.setPermissions(UnixFileAttributeViews.java:250) java.nio.file.Files.setPosixFilePermissions(Files.java:1992) com.company.soft.eap.test.nfs.ReadFile.doGet(ReadFile.java:85) javax.servlet.http.HttpServlet.service(HttpServlet.java:734) javax.servlet.http.HttpServlet.service(HttpServlet.java:847)</p>\n</blockquote>\n\n<p>CODE i try:</p>\n\n<pre><code>String path = \"/mnt/SuperFolder/share1/outbound/output_new.txt\";\n// (use relative path for Unix systems)\nFile f = new File(path);\n// (works for both Windows and Linux)\nf.getParentFile().mkdirs();\nf.createNewFile();\nFileWriter fstream = new FileWriter(path, true);\nBufferedWriter outt = new BufferedWriter(fstream);\noutt.write(\" something \\n \");\noutt.newLine();\n// close buffer writer\noutt.close();\n</code></pre>\n\n<p>So if file has 070 it cant write, edit as a group. </p>\n\n<p>UPDATE: writing happens to NFS share. outside NFS this behaves as expected. But inside share - Crashes. </p>\n"},{"tags":["java","rest","streaming"],"comments":[{"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"score":0,"creation_date":1652127421,"post_id":72177697,"comment_id":127526562,"body_markdown":"Streams and long-lived connection &quot;live&quot; in beetwen, in &quot;59 seconds&quot; when they are not needed and when something wrong can happen. So, I would take usual HTTP call.","body":"Streams and long-lived connection &quot;live&quot; in beetwen, in &quot;59 seconds&quot; when they are not needed and when something wrong can happen. So, I would take usual HTTP call."}],"answers":[{"tags":[],"owner":{"account_id":2352533,"reputation":36,"user_id":2061037,"display_name":"user2061037"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652127530,"creation_date":1652127530,"answer_id":72177783,"question_id":72177697,"body_markdown":"Don&#39;t make a long-lived connection.\r\n\r\n1) if something temporary breaks you&#39;ll have to deal with the reconnection\r\n2) you&#39;re permanently keeping a TCP connection for each appliance for nothing.\r\n\r\nLet the appliances send an HTTP call whenever they have something to say.","title":"Streaming or REST calls for one-minute updates?","body":"<p>Don't make a long-lived connection.</p>\n<ol>\n<li>if something temporary breaks you'll have to deal with the reconnection</li>\n<li>you're permanently keeping a TCP connection for each appliance for nothing.</li>\n</ol>\n<p>Let the appliances send an HTTP call whenever they have something to say.</p>\n"}],"owner":{"account_id":19747968,"reputation":67,"user_id":14459924,"display_name":"Bender Rodriguez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652127530,"creation_date":1652126984,"question_id":72177697,"body_markdown":"Let&#39;s say you&#39;re sending data from IoT appliances to a central server at intervals of one minute.\r\n\r\nThis interval is NEVER going to change.\r\n\r\nWould you go with some type of streaming, long-lived connection (which type?) or just make synchronous HTTP calls at that interval?","title":"Streaming or REST calls for one-minute updates?","body":"<p>Let's say you're sending data from IoT appliances to a central server at intervals of one minute.</p>\n<p>This interval is NEVER going to change.</p>\n<p>Would you go with some type of streaming, long-lived connection (which type?) or just make synchronous HTTP calls at that interval?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1652134341,"post_id":72177773,"comment_id":127528298,"body_markdown":"You might need options.setExperimental..... for that... I took a quick look in Chrome&#39;s preferences file, though, and couldn&#39;t figure out which option it was.","body":"You might need options.setExperimental..... for that... I took a quick look in Chrome&#39;s preferences file, though, and couldn&#39;t figure out which option it was."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1652189344,"post_id":72177773,"comment_id":127542373,"body_markdown":"You can not combine args `--headless` with `--force-dark-mode`.","body":"You can not combine args <code>--headless</code> with <code>--force-dark-mode</code>."},{"owner":{"account_id":19554709,"reputation":382,"user_id":14309411,"display_name":"Salaah Amin"},"score":0,"creation_date":1663627543,"post_id":72177773,"comment_id":130280292,"body_markdown":"Anyone figured out a solution to this?","body":"Anyone figured out a solution to this?"}],"owner":{"account_id":20645894,"reputation":95,"user_id":15157418,"display_name":"tctfox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652127479,"creation_date":1652127479,"question_id":72177773,"body_markdown":"Hei there\r\nI have a small script that opens a website and captures an element by doing a screenshot. Now the probelm is even tho the website is supposed to be in darkmode it opens for a short amount of time in white mode and then the picture is already taken with white mode, which doesnt look as nice.\r\nNow I know of the force darkmode experimental feature which I know fixed this issue. How can I implement this in selenium with java and the chromedriver? \r\nThis flag sadly didn&#39;t work..\r\n\r\n```\r\noptions.addArguments(&quot;--start-maximized&quot;,&quot;--headless&quot;,&quot;--window-size=2560,1440&quot;, &quot;--ignore-certificate-errors&quot;, &quot;--disable-dev-shm-usage&quot;);\r\noptions.addArguments(&quot;--force-dark-mode&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\n```","title":"Java chromedriver flag &quot;--force-dark-mode&quot; not working","body":"<p>Hei there\nI have a small script that opens a website and captures an element by doing a screenshot. Now the probelm is even tho the website is supposed to be in darkmode it opens for a short amount of time in white mode and then the picture is already taken with white mode, which doesnt look as nice.\nNow I know of the force darkmode experimental feature which I know fixed this issue. How can I implement this in selenium with java and the chromedriver?\nThis flag sadly didn't work..</p>\n<pre><code>options.addArguments(&quot;--start-maximized&quot;,&quot;--headless&quot;,&quot;--window-size=2560,1440&quot;, &quot;--ignore-certificate-errors&quot;, &quot;--disable-dev-shm-usage&quot;);\noptions.addArguments(&quot;--force-dark-mode&quot;);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":17505229,"reputation":359,"user_id":12694610,"display_name":"Silverfang"},"score":0,"creation_date":1652115907,"post_id":72175515,"comment_id":127522988,"body_markdown":"I don&#39;t see the reference to questionId column in your answer entity. Can you show how are you adding/updating the values.","body":"I don&#39;t see the reference to questionId column in your answer entity. Can you show how are you adding/updating the values."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1652123574,"post_id":72175515,"comment_id":127525480,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":18767134,"reputation":21,"user_id":13684747,"display_name":"IsuruKotta"},"score":0,"creation_date":1652123637,"post_id":72175515,"comment_id":127525499,"body_markdown":"@Silverfang &#160;`@JoinColumn( name = &quot;questionID&quot;, referencedColumnName = &quot;question_id&quot;)` by using this line, a column called questionID will be created in the answer entity. The problem is that questionID Colum is not updated according to the question_id in the question table.","body":"@Silverfang  <code>@JoinColumn( name = &quot;questionID&quot;, referencedColumnName = &quot;question_id&quot;)</code> by using this line, a column called questionID will be created in the answer entity. The problem is that questionID Colum is not updated according to the question_id in the question table."}],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652127469,"creation_date":1652127469,"answer_id":72177771,"question_id":72175515,"body_markdown":"In our Entity class: Answer,  seems you need also define the member:  Question.\t\r\n\r\n    @ManyToOne\r\n\t@JsonIgnore\r\n\t@JoinColumn(name = &quot;question&quot;, referencedColumnName = &quot;question_id&quot;)\r\n\tprivate Question question;\r\n\r\n","title":"I need to map one to many relationship between questions and answer entities. But questionID colum is not updating. How can I fix this?","body":"<p>In our Entity class: Answer,  seems you need also define the member:  Question.</p>\n<pre><code>@ManyToOne\n@JsonIgnore\n@JoinColumn(name = &quot;question&quot;, referencedColumnName = &quot;question_id&quot;)\nprivate Question question;\n</code></pre>\n"}],"owner":{"account_id":18767134,"reputation":21,"user_id":13684747,"display_name":"IsuruKotta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652127469,"creation_date":1652114701,"question_id":72175515,"body_markdown":"I used question_id as the primary key of questions table and it is a foreign key for the answers table. @JoinColumn has used for declare referencedColumnName .\r\n```\r\n@Entity\r\n@Table(name = &quot;questions&quot;)\r\npublic class Question {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long question_id;\r\n\r\n    @Column(nullable = false, unique = false, length = 100)\r\n    private String question_subjectArea;\r\n\r\n    @Column(nullable = false, unique = false, length = 1000)\r\n    private String  fullQuestion;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn( name = &quot;questionID&quot;, referencedColumnName = &quot;question_id&quot;)\r\n    List&lt;Answer&gt; answer = new ArrayList&lt;&gt;();\r\n//Getters and setters \r\n\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;answers&quot;)\r\npublic class Answer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long answer_id;\r\n\r\n    @Column(nullable = true, unique = false, length = 100)\r\n    private Long answer_authorID;\r\n\r\n    @Column(nullable = false, unique = false, length = 100)\r\n    private String fullAnswer;\r\n\r\n   //Getters and setters\r\n```\r\nApplication.properties configuration as follows\r\n```spring.jpa.hibernate.ddl-auto=create ```\r\n\r\n","title":"I need to map one to many relationship between questions and answer entities. But questionID colum is not updating. How can I fix this?","body":"<p>I used question_id as the primary key of questions table and it is a foreign key for the answers table. @JoinColumn has used for declare referencedColumnName .</p>\n<pre><code>@Entity\n@Table(name = &quot;questions&quot;)\npublic class Question {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long question_id;\n\n    @Column(nullable = false, unique = false, length = 100)\n    private String question_subjectArea;\n\n    @Column(nullable = false, unique = false, length = 1000)\n    private String  fullQuestion;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn( name = &quot;questionID&quot;, referencedColumnName = &quot;question_id&quot;)\n    List&lt;Answer&gt; answer = new ArrayList&lt;&gt;();\n//Getters and setters \n\n\n\n@Entity\n@Table(name = &quot;answers&quot;)\npublic class Answer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long answer_id;\n\n    @Column(nullable = true, unique = false, length = 100)\n    private Long answer_authorID;\n\n    @Column(nullable = false, unique = false, length = 100)\n    private String fullAnswer;\n\n   //Getters and setters\n</code></pre>\n<p>Application.properties configuration as follows\n<code>spring.jpa.hibernate.ddl-auto=create </code></p>\n"},{"tags":["java","android","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652126835,"creation_date":1652126835,"answer_id":72177671,"question_id":72177352,"body_markdown":"By looking at this code:\r\n\r\n1.This is using Junit4 &amp; not 5.\r\n\r\n2.If you want to use Junit 5, please remove `import org.junit.Test;` &amp; use `import org.junit.jupiter.api.Test;`\r\n\r\n3.Please correct [assertEquals][1] by modifying arguments to method. You might need to use only 2 arguments which are `int,int`.\r\n\r\n4.Regarding stacktrace error, you can refer [this link][2] if it helps.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertEquals-int-int-\r\n  [2]: https://stackoverflow.com/questions/58057769/method-getmainlooper-in-android-os-looper-not-mocked-still-occuring-even-after-a","title":"JUnit 5 testing not working with activities","body":"<p>By looking at this code:</p>\n<p>1.This is using Junit4 &amp; not 5.</p>\n<p>2.If you want to use Junit 5, please remove <code>import org.junit.Test;</code> &amp; use <code>import org.junit.jupiter.api.Test;</code></p>\n<p>3.Please correct <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertEquals-int-int-\" rel=\"nofollow noreferrer\">assertEquals</a> by modifying arguments to method. You might need to use only 2 arguments which are <code>int,int</code>.</p>\n<p>4.Regarding stacktrace error, you can refer <a href=\"https://stackoverflow.com/questions/58057769/method-getmainlooper-in-android-os-looper-not-mocked-still-occuring-even-after-a\">this link</a> if it helps.</p>\n"}],"owner":{"account_id":25246931,"reputation":1,"user_id":19080053,"display_name":"Mohamad Dhaini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652126835,"creation_date":1652124854,"question_id":72177352,"body_markdown":"I am trying to use JUnit 5 to test a function inside of an activity in Android Studio using Java, however, I am getting the following error:\r\n\r\n```\r\n\r\nMethod getMainLooper in android.os.Looper not mocked. See http://g.co/androidstudio/not-mocked for details.\r\njava.lang.RuntimeException: Method getMainLooper in android.os.Looper not mocked. See http://g.co/androidstudio/not-mocked for details.\r\n\tat android.os.Looper.getMainLooper(Looper.java)\r\n\tat androidx.arch.core.executor.DefaultTaskExecutor.isMainThread(DefaultTaskExecutor.java:77)\r\n\tat androidx.arch.core.executor.ArchTaskExecutor.isMainThread(ArchTaskExecutor.java:116)\r\n\tat androidx.lifecycle.LifecycleRegistry.enforceMainThreadIfNeeded(LifecycleRegistry.java:316)\r\n\tat androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:172)\r\n\tat androidx.activity.ComponentActivity.&lt;init&gt;(ComponentActivity.java:244)\r\n\tat androidx.fragment.app.FragmentActivity.&lt;init&gt;(FragmentActivity.java:103)\r\n\tat androidx.appcompat.app.AppCompatActivity.&lt;init&gt;(AppCompatActivity.java:94)\r\n\tat com.dhaini.passpall.InstructorAddTaskToStudentToDoListActivity.&lt;init&gt;(InstructorAddTaskToStudentToDoListActivity.java:38)\r\n\tat com.dhaini.passpall.InstructorAddTaskToStudentToDoListActivityTest.getRandomInteger(InstructorAddTaskToStudentToDoListActivityTest.java:19)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n```\r\n\r\nI am following online tutorials, but none of them are implementing testing on activities, instead they are simple classes within main.\r\n\r\nThis is my test code:\r\n\r\n```\r\npackage com.dhaini.passpall;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\nimport org.junit.Test;\r\n\r\npublic class InstructorAddTaskToStudentToDoListActivityTest {\r\n\r\n    @Test\r\n    public void onCreate() {\r\n    }\r\n\r\n    @Test\r\n    public void buildRecyclerView() {\r\n    }\r\n\r\n    @Test\r\n    public void getRandomInteger() {\r\n        InstructorAddTaskToStudentToDoListActivity test = new InstructorAddTaskToStudentToDoListActivity();\r\n        int output = test.getRandomInteger();\r\n        int expected = 1293;\r\n        assertEquals(expected,output,.1);\r\n    }\r\n}\r\n```\r\n\r\nI am fairly certain some part of the syntax is incorrect, but I cannot find guidance on how to fix it.\r\n\r\nThe getRandomInteger() function just generates a random integer. It should return false unless I get &quot;lucky&quot; and get the expected number.\r\n\r\n\r\n","title":"JUnit 5 testing not working with activities","body":"<p>I am trying to use JUnit 5 to test a function inside of an activity in Android Studio using Java, however, I am getting the following error:</p>\n<pre><code>\nMethod getMainLooper in android.os.Looper not mocked. See http://g.co/androidstudio/not-mocked for details.\njava.lang.RuntimeException: Method getMainLooper in android.os.Looper not mocked. See http://g.co/androidstudio/not-mocked for details.\n    at android.os.Looper.getMainLooper(Looper.java)\n    at androidx.arch.core.executor.DefaultTaskExecutor.isMainThread(DefaultTaskExecutor.java:77)\n    at androidx.arch.core.executor.ArchTaskExecutor.isMainThread(ArchTaskExecutor.java:116)\n    at androidx.lifecycle.LifecycleRegistry.enforceMainThreadIfNeeded(LifecycleRegistry.java:316)\n    at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:172)\n    at androidx.activity.ComponentActivity.&lt;init&gt;(ComponentActivity.java:244)\n    at androidx.fragment.app.FragmentActivity.&lt;init&gt;(FragmentActivity.java:103)\n    at androidx.appcompat.app.AppCompatActivity.&lt;init&gt;(AppCompatActivity.java:94)\n    at com.dhaini.passpall.InstructorAddTaskToStudentToDoListActivity.&lt;init&gt;(InstructorAddTaskToStudentToDoListActivity.java:38)\n    at com.dhaini.passpall.InstructorAddTaskToStudentToDoListActivityTest.getRandomInteger(InstructorAddTaskToStudentToDoListActivityTest.java:19)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n</code></pre>\n<p>I am following online tutorials, but none of them are implementing testing on activities, instead they are simple classes within main.</p>\n<p>This is my test code:</p>\n<pre><code>package com.dhaini.passpall;\n\nimport static org.junit.Assert.*;\n\nimport org.junit.Test;\n\npublic class InstructorAddTaskToStudentToDoListActivityTest {\n\n    @Test\n    public void onCreate() {\n    }\n\n    @Test\n    public void buildRecyclerView() {\n    }\n\n    @Test\n    public void getRandomInteger() {\n        InstructorAddTaskToStudentToDoListActivity test = new InstructorAddTaskToStudentToDoListActivity();\n        int output = test.getRandomInteger();\n        int expected = 1293;\n        assertEquals(expected,output,.1);\n    }\n}\n</code></pre>\n<p>I am fairly certain some part of the syntax is incorrect, but I cannot find guidance on how to fix it.</p>\n<p>The getRandomInteger() function just generates a random integer. It should return false unless I get &quot;lucky&quot; and get the expected number.</p>\n"},{"tags":["java","methods","overloading"],"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":2,"creation_date":1297307059,"post_id":4952856,"comment_id":5525456,"body_markdown":"You&#39;ve got already quite a few answers, so you can see it&#39;s possible, but not nice. I&#39;d recommend you to explain what you need it for. Then you&#39;ll most probably get a nicer solution. Btw., exception could be represented by throwing an exception, too. Returning Boolean.FALSE and never returning Boolean.TRUE is a code smell, consider returning Integer with null returned instead of FALSE.","body":"You&#39;ve got already quite a few answers, so you can see it&#39;s possible, but not nice. I&#39;d recommend you to explain what you need it for. Then you&#39;ll most probably get a nicer solution. Btw., exception could be represented by throwing an exception, too. Returning Boolean.FALSE and never returning Boolean.TRUE is a code smell, consider returning Integer with null returned instead of FALSE."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1297307120,"post_id":4952856,"comment_id":5525463,"body_markdown":"Using the return value is C-style programming.  Not that there&#39;s anything wrong with that, but consider exceptions.  This is what they&#39;re made for.","body":"Using the return value is C-style programming.  Not that there&#39;s anything wrong with that, but consider exceptions.  This is what they&#39;re made for."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1297306409,"creation_date":1297305981,"answer_id":4952871,"question_id":4952856,"body_markdown":"no.  the best you can do is return on instance of a class that handles all the things you might want to return.\r\n\r\nsomething like \r\n\r\n    public class ReturnObj {\r\n       public bool yesno; // yes or no\r\n       public int val; // for int values\r\n       public String mode; // mode describing what you returned, which the caller will need to understand.\r\n    }\r\n\r\nobviously, you need to play with the names....\r\n\r\nAlso, this seems like a code smell.  You might be able to remove the need to do something like this by qualifying what path you want outside of your function, and then call a specific function to get a boolean or a specific function to get an int, depending on the qualification.  ","title":"How to write Java function that returns values of multiple data types?","body":"<p>no.  the best you can do is return on instance of a class that handles all the things you might want to return.</p>\n\n<p>something like </p>\n\n<pre><code>public class ReturnObj {\n   public bool yesno; // yes or no\n   public int val; // for int values\n   public String mode; // mode describing what you returned, which the caller will need to understand.\n}\n</code></pre>\n\n<p>obviously, you need to play with the names....</p>\n\n<p>Also, this seems like a code smell.  You might be able to remove the need to do something like this by qualifying what path you want outside of your function, and then call a specific function to get a boolean or a specific function to get an int, depending on the qualification.  </p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297306005,"creation_date":1297306005,"answer_id":4952874,"question_id":4952856,"body_markdown":"No, one return reference to a customer.\r\n\r\nYou can write a response object that encapsulates a boolean and an int together and set the values according to your whim.\r\n\r\nBut if I was a user I&#39;d think your design was confusing.\r\n","title":"How to write Java function that returns values of multiple data types?","body":"<p>No, one return reference to a customer.</p>\n\n<p>You can write a response object that encapsulates a boolean and an int together and set the values according to your whim.</p>\n\n<p>But if I was a user I'd think your design was confusing.</p>\n"},{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1297306015,"creation_date":1297306015,"answer_id":4952875,"question_id":4952856,"body_markdown":"No, you can&#39;t do that in Java.\r\n\r\nYou could return an `Object` though. And by returning an object you could technically return a derived class such as `java.lang.Integer` or `java.lang.Boolean`. However, I don&#39;t think it&#39;s the best idea.","title":"How to write Java function that returns values of multiple data types?","body":"<p>No, you can't do that in Java.</p>\n\n<p>You could return an <code>Object</code> though. And by returning an object you could technically return a derived class such as <code>java.lang.Integer</code> or <code>java.lang.Boolean</code>. However, I don't think it's the best idea.</p>\n"},{"tags":[],"owner":{"account_id":179543,"reputation":4927,"user_id":412282,"accept_rate":88,"display_name":"Alex Churchill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297306113,"creation_date":1297306113,"answer_id":4952885,"question_id":4952856,"body_markdown":"Write a function that returns an &lt;code&gt;Object&lt;/code&gt;.  Have it either return the &lt;code&gt;Boolean&lt;/code&gt; or &lt;code&gt;Integer&lt;/code&gt; wrapper objects.  Then use instanceof to figure out which to use.","title":"How to write Java function that returns values of multiple data types?","body":"<p>Write a function that returns an <code>Object</code>.  Have it either return the <code>Boolean</code> or <code>Integer</code> wrapper objects.  Then use instanceof to figure out which to use.</p>\n"},{"tags":[],"owner":{"account_id":299307,"reputation":37,"user_id":605834,"display_name":"EscapeNT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297306599,"creation_date":1297306599,"answer_id":4952924,"question_id":4952856,"body_markdown":"This may not be the best solution depending on what you want to do, but an easy way to solve the problem might be to have the function return an int or a constant outside the possible range (such as RETURNED_FALSE/TRUE) and check for that.","title":"How to write Java function that returns values of multiple data types?","body":"<p>This may not be the best solution depending on what you want to do, but an easy way to solve the problem might be to have the function return an int or a constant outside the possible range (such as RETURNED_FALSE/TRUE) and check for that.</p>\n"},{"tags":[],"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1297313157,"creation_date":1297313157,"answer_id":4953482,"question_id":4952856,"body_markdown":"You could technically do this:\r\n\r\n    public &lt;T&gt; T doWork()\r\n    {\r\n       if(codition)\r\n       {\r\n          return (T) new Integer(1);\r\n       }\r\n       else\r\n       {\r\n          return (T) Boolean.FALSE;\r\n       }\r\n    }\r\n\r\nThen this code would compile:\r\n\r\n    int x = doWork(); // the condition evaluates to true\r\n    boolean test = doWork();\r\n\r\nBut you could most certainly encounter runtime exceptions if the method returns the wrong type. You also must return objects instead of primitives because T is erased to java.lang.Object, which means the returned type must extend Object (i.e. be an object). The above example makes use of autoboxing to achieve a primitive return type.\r\n\r\nI certainly wouldn&#39;t recommend this approach because IMO you need to evaluate your use of exception handling. You catch exceptions in exceptional cases if you can do something with that exception (i.e. recover, persist, retry, etc.). Exceptions are an *exception* to the expected workflow, not a part of it.\r\n","title":"How to write Java function that returns values of multiple data types?","body":"<p>You could technically do this:</p>\n\n<pre><code>public &lt;T&gt; T doWork()\n{\n   if(codition)\n   {\n      return (T) new Integer(1);\n   }\n   else\n   {\n      return (T) Boolean.FALSE;\n   }\n}\n</code></pre>\n\n<p>Then this code would compile:</p>\n\n<pre><code>int x = doWork(); // the condition evaluates to true\nboolean test = doWork();\n</code></pre>\n\n<p>But you could most certainly encounter runtime exceptions if the method returns the wrong type. You also must return objects instead of primitives because T is erased to java.lang.Object, which means the returned type must extend Object (i.e. be an object). The above example makes use of autoboxing to achieve a primitive return type.</p>\n\n<p>I certainly wouldn't recommend this approach because IMO you need to evaluate your use of exception handling. You catch exceptions in exceptional cases if you can do something with that exception (i.e. recover, persist, retry, etc.). Exceptions are an <em>exception</em> to the expected workflow, not a part of it.</p>\n"},{"tags":[],"owner":{"account_id":1151251,"reputation":11,"user_id":1132913,"display_name":"Munchyzzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325791051,"creation_date":1325791051,"answer_id":8748393,"question_id":4952856,"body_markdown":"my teacher had a cool idea for a tryParse C# like method in java hope it helps\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Program {\r\n    \tstatic Scanner scanner = new Scanner(System.in);\r\n        public static void main(String[] args) {\r\n        \tSystem.out.println(&quot;Enter number&quot;);\r\n        \tString input = scanner.next();\r\n        \tint[] num ={0};\r\n    \t    if(tryParse(input,num))\r\n    \t    \tSystem.out.println(num[0] * num[0]);\r\n        }\r\n        static boolean tryParse(String inputString,int[] outputInt){\r\n        \ttry{\r\n        \t\toutputInt[0] = Integer.parseInt(inputString);\r\n        \t\treturn true;\r\n        \t}catch(Exception e){\r\n        \t\treturn false;\r\n        \t}\r\n        }\r\n    }","title":"How to write Java function that returns values of multiple data types?","body":"<p>my teacher had a cool idea for a tryParse C# like method in java hope it helps</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Program {\n    static Scanner scanner = new Scanner(System.in);\n    public static void main(String[] args) {\n        System.out.println(\"Enter number\");\n        String input = scanner.next();\n        int[] num ={0};\n        if(tryParse(input,num))\n            System.out.println(num[0] * num[0]);\n    }\n    static boolean tryParse(String inputString,int[] outputInt){\n        try{\n            outputInt[0] = Integer.parseInt(inputString);\n            return true;\n        }catch(Exception e){\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435389,"reputation":1,"user_id":1356899,"display_name":"Jeff Caswell"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1335375665,"creation_date":1335375665,"answer_id":10320894,"question_id":4952856,"body_markdown":"inout parameters only work for objects that can be mutated. For String inout parameters, pass in StringBuilders instead of Strings, then replace() their values.","title":"How to write Java function that returns values of multiple data types?","body":"<p>inout parameters only work for objects that can be mutated. For String inout parameters, pass in StringBuilders instead of Strings, then replace() their values.</p>\n"},{"tags":[],"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1508461349,"creation_date":1377041625,"answer_id":18346599,"question_id":4952856,"body_markdown":"# IEEE Floating Point\r\nMost languages will handle your specific example without Exceptions or union types because IEEE floating point includes a representation for NaN.  In Java, use Double.NaN:\r\n\r\n    public static double quadratic(double a, double b, double c, int polarity) {\r\n        double x = b*b - 4*a*c;\r\n\r\n        // When x &lt; 0, Math.sqrt(x) retruns NaN\r\n        if (x &lt; 0) {\r\n            return Double.NaN;\r\n        }\r\n        return (-b + Math.sqrt(x) * polarity) / (2*a);\r\n    }\r\n\r\nThat produces your exact output that you wanted:\r\n\r\n    x = 4.0\r\n    x = 3.0\r\n    x = NaN\r\n    x = NaN\r\n\r\n# Exceptions\r\nExceptions are The Old Java Way of solving similar problems:\r\n\r\n    public static double quadratic(double a, double b, double c, int polarity) {\r\n        double x = b*b - 4*a*c;\r\n        // When x &lt; 0, Math.sqrt(x) returns NaN\r\n        if (x &lt; 0) {\r\n            throw new Exception(&quot;NaN&quot;)\r\n        }\r\n        return (-b + Math.sqrt(x) * polarity) / (2*a);\r\n    }\r\n\r\nHere&#39;s your client code for an Exception.\r\n\r\n    a=1; b=-7; c=12;\r\n\r\n    // x = 4.0\r\n    try {\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, 1));\r\n    } catch (Exception iae) {\r\n        System.out.println(&quot;Oopsie: &quot; + iae.getMessage());\r\n    }\r\n\r\n    // x = 3.0\r\n    try {\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, -1));\r\n    } catch (Exception iae) {\r\n        System.out.println(&quot;Oopsie: &quot; + iae.getMessage());\r\n    }\r\n\r\n    // &quot;invalid&quot; coefficients.\r\n    a=4; b=4; c=16;\r\n\r\n    // Oopsie: NaN\r\n    try {\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, 1));\r\n    } catch (Exception iae) {\r\n        System.out.println(&quot;Oopsie: &quot; + iae.getMessage());\r\n    }\r\n\r\n    // Oopsie: NaN\r\n    try {\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, -1));\r\n    } catch (Exception iae) {\r\n        System.out.println(&quot;Oopsie: &quot; + iae.getMessage());\r\n    }\r\n\r\n# Union Types\r\nTo truly pass or return unrelated types to or from a method, you want Union types which Java does not really support.  But Paguro provides [Union Types][1] which you can use in Java like this (using Or):\r\n\r\n    public static Or&lt;Double,String&gt; quadratic(double a, double b,\r\n                                              double c, int polarity) {\r\n        double x = b*b - 4*a*c;\r\n\r\n        // When x &lt; 0, Math.sqrt(x) retruns NaN\r\n        if (x &lt; 0) {\r\n            return Or.bad(&quot;NaN&quot;);\r\n        }\r\n        return Or.good((-b + Math.sqrt(x) * polarity) / (2*a));\r\n    }\r\n\r\n    @Test public void testQuadradic() {\r\n        double a, b, c;\r\n        a=1; b=-7; c=12;\r\n\r\n        // x = Good(4.0)\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, 1));\r\n\r\n        // x = 3.0\r\n        System.out.println(\r\n                (String) quadratic(a, b, c, -1)\r\n                        .match(good -&gt; &quot;x = &quot; + good,\r\n                               bad -&gt; &quot;Oopsie: &quot; + bad));\r\n\r\n        // &quot;invalid&quot; coefficients.\r\n        a=4; b=4; c=16;\r\n\r\n        // x = Bad(&quot;NaN&quot;)\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, 1));\r\n\r\n        // Oopsie: NaN\r\n        System.out.println(\r\n                (String) quadratic(a, b, c, -1)\r\n                        .match(good -&gt; &quot;x = &quot; + good,\r\n                               bad -&gt; &quot;Oopsie: &quot; + bad));\r\n    }\r\n\r\n# Conclusion\r\nFor your specific example, just use Floating Point.  For a more general solution, I find union types more useful than Exceptions.  You can use union types as arguments to a method that might take two different inputs which have no common interface or ancestor.  They are also more friendly to Functional Programming.\r\n\r\n  [1]: https://glenkpeterson.github.io/Paguro/apidocs/index.html?org/organicdesign/fp/oneOf/package-summary.html","title":"How to write Java function that returns values of multiple data types?","body":"<h1>IEEE Floating Point</h1>\n\n<p>Most languages will handle your specific example without Exceptions or union types because IEEE floating point includes a representation for NaN.  In Java, use Double.NaN:</p>\n\n<pre><code>public static double quadratic(double a, double b, double c, int polarity) {\n    double x = b*b - 4*a*c;\n\n    // When x &lt; 0, Math.sqrt(x) retruns NaN\n    if (x &lt; 0) {\n        return Double.NaN;\n    }\n    return (-b + Math.sqrt(x) * polarity) / (2*a);\n}\n</code></pre>\n\n<p>That produces your exact output that you wanted:</p>\n\n<pre><code>x = 4.0\nx = 3.0\nx = NaN\nx = NaN\n</code></pre>\n\n<h1>Exceptions</h1>\n\n<p>Exceptions are The Old Java Way of solving similar problems:</p>\n\n<pre><code>public static double quadratic(double a, double b, double c, int polarity) {\n    double x = b*b - 4*a*c;\n    // When x &lt; 0, Math.sqrt(x) returns NaN\n    if (x &lt; 0) {\n        throw new Exception(\"NaN\")\n    }\n    return (-b + Math.sqrt(x) * polarity) / (2*a);\n}\n</code></pre>\n\n<p>Here's your client code for an Exception.</p>\n\n<pre><code>a=1; b=-7; c=12;\n\n// x = 4.0\ntry {\n    System.out.println(\"x = \" + quadratic(a, b, c, 1));\n} catch (Exception iae) {\n    System.out.println(\"Oopsie: \" + iae.getMessage());\n}\n\n// x = 3.0\ntry {\n    System.out.println(\"x = \" + quadratic(a, b, c, -1));\n} catch (Exception iae) {\n    System.out.println(\"Oopsie: \" + iae.getMessage());\n}\n\n// \"invalid\" coefficients.\na=4; b=4; c=16;\n\n// Oopsie: NaN\ntry {\n    System.out.println(\"x = \" + quadratic(a, b, c, 1));\n} catch (Exception iae) {\n    System.out.println(\"Oopsie: \" + iae.getMessage());\n}\n\n// Oopsie: NaN\ntry {\n    System.out.println(\"x = \" + quadratic(a, b, c, -1));\n} catch (Exception iae) {\n    System.out.println(\"Oopsie: \" + iae.getMessage());\n}\n</code></pre>\n\n<h1>Union Types</h1>\n\n<p>To truly pass or return unrelated types to or from a method, you want Union types which Java does not really support.  But Paguro provides <a href=\"https://glenkpeterson.github.io/Paguro/apidocs/index.html?org/organicdesign/fp/oneOf/package-summary.html\" rel=\"noreferrer\">Union Types</a> which you can use in Java like this (using Or):</p>\n\n<pre><code>public static Or&lt;Double,String&gt; quadratic(double a, double b,\n                                          double c, int polarity) {\n    double x = b*b - 4*a*c;\n\n    // When x &lt; 0, Math.sqrt(x) retruns NaN\n    if (x &lt; 0) {\n        return Or.bad(\"NaN\");\n    }\n    return Or.good((-b + Math.sqrt(x) * polarity) / (2*a));\n}\n\n@Test public void testQuadradic() {\n    double a, b, c;\n    a=1; b=-7; c=12;\n\n    // x = Good(4.0)\n    System.out.println(\"x = \" + quadratic(a, b, c, 1));\n\n    // x = 3.0\n    System.out.println(\n            (String) quadratic(a, b, c, -1)\n                    .match(good -&gt; \"x = \" + good,\n                           bad -&gt; \"Oopsie: \" + bad));\n\n    // \"invalid\" coefficients.\n    a=4; b=4; c=16;\n\n    // x = Bad(\"NaN\")\n    System.out.println(\"x = \" + quadratic(a, b, c, 1));\n\n    // Oopsie: NaN\n    System.out.println(\n            (String) quadratic(a, b, c, -1)\n                    .match(good -&gt; \"x = \" + good,\n                           bad -&gt; \"Oopsie: \" + bad));\n}\n</code></pre>\n\n<h1>Conclusion</h1>\n\n<p>For your specific example, just use Floating Point.  For a more general solution, I find union types more useful than Exceptions.  You can use union types as arguments to a method that might take two different inputs which have no common interface or ancestor.  They are also more friendly to Functional Programming.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553412274,"creation_date":1451465288,"answer_id":34525988,"question_id":4952856,"body_markdown":"I would say it is possible. But not directly.\r\n\r\nI haven&#39;t gone through the program given in the question. I am answering this knowing this is an old post. Might help someone.\r\n\r\n*Add your values to a Map like below. And get it with its key!*\r\n\r\n    public static HashMap returnAnyType(){\r\n        String x = &quot;This&quot;;\r\n        int a = 9;\r\n        \r\n        HashMap&lt;String, Object&gt; myMap = new HashMap();\r\n        myMap.put(&quot;stringVal&quot;, x);\r\n        myMap.put(&quot;intVal&quot;, a);\r\n        return myMap;\r\n    }\r\n    \r\n    String theStringFromTheMap = (String) returnAnyType().get(&quot;stringVal&quot;);\r\n    int theIntFromTheMap = (Integer) returnAnyType().get(&quot;intVal&quot;);\r\n    \r\n    System.out.println(&quot;String : &quot; + theStringFromTheMap + &quot; is great !&quot;);   \r\n    System.out.println(&quot;Integer: &quot; + Math.addExact(theIntFromTheMap, 10));\r\n\r\n&gt; **Output (both are returned from same method):**\r\n&gt; &lt;pre&gt;\r\n&gt; String : This is great!\r\n&gt; Integer: 19\r\n&gt; &lt;/pre&gt;\r\n\r\nNote:  \r\nThis is not a good practice. But it helps sometimes when it is needed!","title":"How to write Java function that returns values of multiple data types?","body":"<p>I would say it is possible. But not directly.</p>\n\n<p>I haven't gone through the program given in the question. I am answering this knowing this is an old post. Might help someone.</p>\n\n<p><em>Add your values to a Map like below. And get it with its key!</em></p>\n\n<pre><code>public static HashMap returnAnyType(){\n    String x = \"This\";\n    int a = 9;\n\n    HashMap&lt;String, Object&gt; myMap = new HashMap();\n    myMap.put(\"stringVal\", x);\n    myMap.put(\"intVal\", a);\n    return myMap;\n}\n\nString theStringFromTheMap = (String) returnAnyType().get(\"stringVal\");\nint theIntFromTheMap = (Integer) returnAnyType().get(\"intVal\");\n\nSystem.out.println(\"String : \" + theStringFromTheMap + \" is great !\");   \nSystem.out.println(\"Integer: \" + Math.addExact(theIntFromTheMap, 10));\n</code></pre>\n\n<blockquote>\n  <p><strong>Output (both are returned from same method):</strong></p>\n\n<pre>\nString : This is great!\nInteger: 19\n</pre>\n</blockquote>\n\n<p>Note:<br>\nThis is not a good practice. But it helps sometimes when it is needed!</p>\n"},{"tags":[],"owner":{"account_id":2048122,"reputation":3032,"user_id":1827764,"accept_rate":47,"display_name":"raphael75"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607091476,"creation_date":1607091476,"answer_id":65145197,"question_id":4952856,"body_markdown":"Absolutely! In your case, since the return values can be positive, 0, negative, or false, probably the best return value would be a JSONObject. In your code, you would add this import:\r\n\r\n    import org.json.JSONObject;\r\n\r\nand in the function:\r\n\r\n    JSONObject retval = new JSONObject();\r\n    double x = b*b - 4*a*c;\r\n    if(x &lt; 0){\r\n        retval.put(&quot;result&quot;, false);\r\n    }\r\n    else{\r\n        retval.put(&quot;result&quot;, x);\r\n    }\r\n\r\nYou potentially could also add another key:value pair to the retval to include the result type to help with checking it in the calling function.","title":"How to write Java function that returns values of multiple data types?","body":"<p>Absolutely! In your case, since the return values can be positive, 0, negative, or false, probably the best return value would be a JSONObject. In your code, you would add this import:</p>\n<pre><code>import org.json.JSONObject;\n</code></pre>\n<p>and in the function:</p>\n<pre><code>JSONObject retval = new JSONObject();\ndouble x = b*b - 4*a*c;\nif(x &lt; 0){\n    retval.put(&quot;result&quot;, false);\n}\nelse{\n    retval.put(&quot;result&quot;, x);\n}\n</code></pre>\n<p>You potentially could also add another key:value pair to the retval to include the result type to help with checking it in the calling function.</p>\n"},{"tags":[],"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652126669,"creation_date":1652126669,"answer_id":72177646,"question_id":4952856,"body_markdown":"I wondered this same thing earlier this morning, and I made a nice little workaround that functioned well in my circumstance.\r\n\r\nI wanted to build a table class that extended the AWT `JPanel`, so that I could add it as a component to a `JFrame`. It would need to take in an `ArrayList&lt;ArrayList&lt;some value&gt;&gt;` that would store all of the tabledata (essentially a list of rows). The value, however, would sometimes be a `String`, sometimes a `double`, and sometimes an `int`. So I created a class called `Value` which has 3 constructors, a private enum `Type`, and a return method called `getContents()`. My class is arranged like so:\r\n\r\n    public class Value {\r\n\t    private String string;\r\n\t    private double decimal;\r\n\t    private int number;\r\n\t    private Type type;\r\n   \r\n\t    public Value(int i) {\r\n\t    \tthis.number = i;\r\n\t    \ttype = Type.NUMBER;\r\n\t    }\r\n\t    public Value(double d) {\r\n\t\t    this.decimal = d;\r\n\t\t    type = Type.DECIMAL;\r\n\t    }\r\n\t    public Value(String s) {\r\n\t\t    this.string = s;\r\n\t\t    type = Type.STRING;\r\n\t    }\r\n\t\r\n\t    public Object getContents() {\r\n\t\t    switch(type) {\r\n\t\t    case STRING:return string;\r\n\t\t    case DECIMAL:return decimal;\r\n\t\t    default:return number;\r\n\t\t}\r\n\t}\r\n\tprivate enum Type {\r\n\t\tSTRING, DECIMAL, NUMBER\r\n\t}\r\n\r\nTo use this, I&#39;ve used it in my `GopherTable` (ignore the name please, it is relevant in the context of the software)\r\n\r\n    public class GopherTable extends JPanel {\r\n\r\n\t    /**\r\n\t     * \r\n\t     */\r\n\t    private static final long serialVersionUID = 1L;\r\n\t\r\n\t    private ArrayList&lt;ArrayList&lt;Value&gt;&gt; rows;\r\n\r\n\t    public GopherTable() {\r\n\t\t    rows = new ArrayList&lt;ArrayList&lt;Value&gt;&gt;();\r\n\t    }\r\n\t\r\n\t    public void addRow(ArrayList&lt;Value&gt; items) {\r\n\t\t    rows.add(items);\r\n\t    }\r\n    }\r\n\r\nThis solution worked perfectly in my case and AFAIK wouldn&#39;t offend very many people. Sometimes, the solution you are asking about is not the solution you are seeking. See [this link][1] for more on that. \r\n\r\n\r\n  [1]: https://xyproblem.info","title":"How to write Java function that returns values of multiple data types?","body":"<p>I wondered this same thing earlier this morning, and I made a nice little workaround that functioned well in my circumstance.</p>\n<p>I wanted to build a table class that extended the AWT <code>JPanel</code>, so that I could add it as a component to a <code>JFrame</code>. It would need to take in an <code>ArrayList&lt;ArrayList&lt;some value&gt;&gt;</code> that would store all of the tabledata (essentially a list of rows). The value, however, would sometimes be a <code>String</code>, sometimes a <code>double</code>, and sometimes an <code>int</code>. So I created a class called <code>Value</code> which has 3 constructors, a private enum <code>Type</code>, and a return method called <code>getContents()</code>. My class is arranged like so:</p>\n<pre><code>public class Value {\n    private String string;\n    private double decimal;\n    private int number;\n    private Type type;\n\n    public Value(int i) {\n        this.number = i;\n        type = Type.NUMBER;\n    }\n    public Value(double d) {\n        this.decimal = d;\n        type = Type.DECIMAL;\n    }\n    public Value(String s) {\n        this.string = s;\n        type = Type.STRING;\n    }\n\n    public Object getContents() {\n        switch(type) {\n        case STRING:return string;\n        case DECIMAL:return decimal;\n        default:return number;\n    }\n}\nprivate enum Type {\n    STRING, DECIMAL, NUMBER\n}\n</code></pre>\n<p>To use this, I've used it in my <code>GopherTable</code> (ignore the name please, it is relevant in the context of the software)</p>\n<pre><code>public class GopherTable extends JPanel {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    private ArrayList&lt;ArrayList&lt;Value&gt;&gt; rows;\n\n    public GopherTable() {\n        rows = new ArrayList&lt;ArrayList&lt;Value&gt;&gt;();\n    }\n\n    public void addRow(ArrayList&lt;Value&gt; items) {\n        rows.add(items);\n    }\n}\n</code></pre>\n<p>This solution worked perfectly in my case and AFAIK wouldn't offend very many people. Sometimes, the solution you are asking about is not the solution you are seeking. See <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">this link</a> for more on that.</p>\n"}],"owner":{"account_id":62061,"reputation":76774,"user_id":184600,"accept_rate":89,"display_name":"maček"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85018,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":4952875,"answer_count":12,"score":23,"last_activity_date":1652126669,"creation_date":1297305830,"question_id":4952856,"body_markdown":"For example, I want to create a function that can return any number (negative, zero, or positive).\r\n\r\nHowever, based on certain exceptions, I&#39;d like the function to return `Boolean` `FALSE`\r\n\r\nIs there a way to write a function that can return an `int` **or** a `Boolean`?\r\n\r\n\r\n----------\r\n\r\nOk, so this has received a lot of responses. I understand I&#39;m simply approaching the problem incorrectly and I should `throw` some sort of Exception in the method. To get a better answer, I&#39;m going to provide some example code. Please don&#39;t make fun :)\r\n\r\n    public class Quad {\r\n      \r\n      public static void main (String[] args) {\r\n        \r\n        double a, b, c;\r\n        \r\n        a=1; b=-7; c=12;\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, 1));   // x = 4.0\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, -1));  // x = 3.0\r\n        \r\n        \r\n        // &quot;invalid&quot; coefficients. Let&#39;s throw an exception here. How do we handle the exception?\r\n        a=4; b=4; c=16;\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, 1));   // x = NaN\r\n        System.out.println(&quot;x = &quot; + quadratic(a, b, c, -1));  // x = NaN\r\n        \r\n      }\r\n      \r\n      public static double quadratic(double a, double b, double c, int polarity) {\r\n        \r\n        double x = b*b - 4*a*c;\r\n        \r\n        // When x &lt; 0, Math.sqrt(x) retruns NaN\r\n        if (x &lt; 0) {\r\n          /*\r\n            throw exception!\r\n            I understand this code can be adjusted to accommodate \r\n            imaginary numbers, but for the sake of this example,\r\n            let&#39;s just have this function throw an exception and\r\n            say the coefficients are invalid\r\n          */\r\n        }\r\n        \r\n        return (-b + Math.sqrt(x) * polarity) / (2*a);\r\n        \r\n      }\r\n      \r\n    }\r\n\r\n","title":"How to write Java function that returns values of multiple data types?","body":"<p>For example, I want to create a function that can return any number (negative, zero, or positive).</p>\n\n<p>However, based on certain exceptions, I'd like the function to return <code>Boolean</code> <code>FALSE</code></p>\n\n<p>Is there a way to write a function that can return an <code>int</code> <strong>or</strong> a <code>Boolean</code>?</p>\n\n<hr>\n\n<p>Ok, so this has received a lot of responses. I understand I'm simply approaching the problem incorrectly and I should <code>throw</code> some sort of Exception in the method. To get a better answer, I'm going to provide some example code. Please don't make fun :)</p>\n\n<pre><code>public class Quad {\n\n  public static void main (String[] args) {\n\n    double a, b, c;\n\n    a=1; b=-7; c=12;\n    System.out.println(\"x = \" + quadratic(a, b, c, 1));   // x = 4.0\n    System.out.println(\"x = \" + quadratic(a, b, c, -1));  // x = 3.0\n\n\n    // \"invalid\" coefficients. Let's throw an exception here. How do we handle the exception?\n    a=4; b=4; c=16;\n    System.out.println(\"x = \" + quadratic(a, b, c, 1));   // x = NaN\n    System.out.println(\"x = \" + quadratic(a, b, c, -1));  // x = NaN\n\n  }\n\n  public static double quadratic(double a, double b, double c, int polarity) {\n\n    double x = b*b - 4*a*c;\n\n    // When x &lt; 0, Math.sqrt(x) retruns NaN\n    if (x &lt; 0) {\n      /*\n        throw exception!\n        I understand this code can be adjusted to accommodate \n        imaginary numbers, but for the sake of this example,\n        let's just have this function throw an exception and\n        say the coefficients are invalid\n      */\n    }\n\n    return (-b + Math.sqrt(x) * polarity) / (2*a);\n\n  }\n\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1652124839,"post_id":72177318,"comment_id":127525854,"body_markdown":"Duplicate of [this question](https://stackoverflow.com/q/36619432/18157)?","body":"Duplicate of <a href=\"https://stackoverflow.com/q/36619432/18157\">this question</a>?"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1652126287,"post_id":72177318,"comment_id":127526264,"body_markdown":"@JimGarrison Many thanks, It seems like a solution. But I still do not understand why this error occurs after splitting.","body":"@JimGarrison Many thanks, It seems like a solution. But I still do not understand why this error occurs after splitting."}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652126321,"creation_date":1652124701,"question_id":72177318,"body_markdown":"I try to use the next case with Apache Camel framework:\r\n\r\n1) Get the CSV file\r\n2) Split data and send it to the queue\r\n3) Recieve data from the queue\r\n\r\nCsv file:\r\n\r\n```csv\r\n&quot;id&quot;,&quot;from&quot;,&quot;to&quot;,&quot;conversionMultiple&quot;\r\n&quot;1001&quot;,&quot;USD&quot;,&quot;INR&quot;,&quot;70&quot;\r\n&quot;1002&quot;,&quot;EUR&quot;,&quot;INR&quot;,&quot;80&quot;\r\n&quot;1003&quot;,&quot;AUD&quot;,&quot;INR&quot;,&quot;10&quot;\r\n```\r\n\r\nQueue creation:\r\n```java\r\n        from(csvFolder)\r\n                .unmarshal().csv()\r\n                .split(body())\r\n                .log(&quot;${body}&quot;) // &lt;---- (1)\r\n                .to(QUEUE_NAME);\r\n```\r\n\r\nQueue receiving:\r\n```java\r\n        from(QUEUE_NAME) // &lt;----------- (2)\r\n                .log(&quot;${body}&quot;);\r\n```\r\n\r\nSo, the body after splitting (1) looks like this (four different messages):\r\n\r\n```\r\n2022-05-09 21:32:58.499  INFO 16999 --- [ile://files/csv] route1                                   : id,from,to,conversionMultiple\r\n2022-05-09 21:32:58.631  INFO 16999 --- [ile://files/csv] route1                                   : 1001,USD,INR,70\r\n2022-05-09 21:32:58.677  INFO 16999 --- [ile://files/csv] route1                                   : 1002,EUR,INR,80\r\n2022-05-09 21:32:58.694  INFO 16999 --- [ile://files/csv] route1                                   : 1003,AUD,INR,10\r\n```\r\n\r\nMessages passed to the queue successfully, but, when I try to receive data from the queue (2) I got the error:\r\n\r\n```\r\n\r\n&gt; 2022-05-09 21:32:58.727  WARN 71292 --- [emq-json-queue]]\r\n&gt; o.a.c.c.jms.EndpointMessageListener      : Execution of JMS message\r\n&gt; listener failed. Caused by: [org.apache.camel.RuntimeCamelException -\r\n&gt; Failed to extract body due to: javax.jms.JMSException: Failed to build\r\n&gt; body from content. Serializable class not available to broker. Reason:\r\n&gt; java.lang.ClassNotFoundException: Forbidden class java.util.ArrayList!\r\n&gt; This class is not trusted to be serialized as ObjectMessage payload.\r\n&gt; Please take a look at http://activemq.apache.org/objectmessage.html\r\n&gt; for more information on how to configure trusted classes.. Message:\r\n&gt; ActiveMQObjectMessage {commandId = 12, responseRequired = true,\r\n&gt; messageId = ID:C11852-54716-1652027839908-1:1:1:1:8,\r\n&gt; originalDestination = null, originalTransactionId = null, producerId =\r\n&gt; ID:C11852-54716-1652027839908-1:1:1:1, destination =\r\n&gt; queue://my-activemq-json-queue, transactionId = null, expiration = 0,\r\n&gt; timestamp = 1652121178695, arrival = 0, brokerInTime = 1652121178697,\r\n&gt; brokerOutTime = 1652121178721, correlationId = null, replyTo = null,\r\n&gt; persistent = true, type = null, priority = 4, groupID = null,\r\n&gt; groupSequence = 0, targetConsumerId = null, compressed = false, userID\r\n&gt; = null, content = org.apache.activemq.util.ByteSequence@10f189a5, marshalledProperties = org.apache.activemq.util.ByteSequence@3f4a693f,\r\n&gt; dataStructure = null, redeliveryCounter = 0, size = 0, properties =\r\n&gt; {CamelFileLastModified=1611144622000, CamelFileParent=files/csv,\r\n&gt; CamelMessageTimestamp=1611144622000, CamelFilePath=files/csv/data.csv,\r\n&gt; CamelFileNameConsumed=data.csv, CamelFileLength=109,\r\n&gt; CamelFileRelativePath=data.csv, CamelFileAbsolute=false,\r\n&gt; CamelFileAbsolutePath=/Users/vhruzytskyi/IdeaProjects/camel-microservice-a/files/csv/data.csv,\r\n&gt; CamelFileName=data.csv, CamelFileNameOnly=data.csv},\r\n&gt; readOnlyProperties = true, readOnlyBody = true, droppable = false,\r\n&gt; jmsXGroupFirstForConsumer = false}]\r\n\r\n```\r\n\r\nbuild.gradle:\r\n```gradle\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.education&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\next{\r\n\tcamelVersion=&#39;3.16.0&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &quot;org.apache.camel.springboot:camel-spring-boot-starter:$camelVersion&quot;\r\n\timplementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-activemq-starter&#39;, version: camelVersion\r\n\timplementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-kafka-starter&#39;, version: camelVersion\r\n\timplementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-http-starter&#39;, version: camelVersion\r\n\timplementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-csv-starter&#39;, version: camelVersion\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n**So, why I can&#39;t receive messages after splitting?**\r\n\r\n\r\n\r\nPS\r\nI successfully receive data without splitting, so all settings are correct\r\n\r\n","title":"Apache camel error: Failed to extract body due to: javax.jms.JMSException: Forbidden class java.util.ArrayList","body":"<p>I try to use the next case with Apache Camel framework:</p>\n<ol>\n<li>Get the CSV file</li>\n<li>Split data and send it to the queue</li>\n<li>Recieve data from the queue</li>\n</ol>\n<p>Csv file:</p>\n<pre><code>&quot;id&quot;,&quot;from&quot;,&quot;to&quot;,&quot;conversionMultiple&quot;\n&quot;1001&quot;,&quot;USD&quot;,&quot;INR&quot;,&quot;70&quot;\n&quot;1002&quot;,&quot;EUR&quot;,&quot;INR&quot;,&quot;80&quot;\n&quot;1003&quot;,&quot;AUD&quot;,&quot;INR&quot;,&quot;10&quot;\n</code></pre>\n<p>Queue creation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        from(csvFolder)\n                .unmarshal().csv()\n                .split(body())\n                .log(&quot;${body}&quot;) // &lt;---- (1)\n                .to(QUEUE_NAME);\n</code></pre>\n<p>Queue receiving:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        from(QUEUE_NAME) // &lt;----------- (2)\n                .log(&quot;${body}&quot;);\n</code></pre>\n<p>So, the body after splitting (1) looks like this (four different messages):</p>\n<pre><code>2022-05-09 21:32:58.499  INFO 16999 --- [ile://files/csv] route1                                   : id,from,to,conversionMultiple\n2022-05-09 21:32:58.631  INFO 16999 --- [ile://files/csv] route1                                   : 1001,USD,INR,70\n2022-05-09 21:32:58.677  INFO 16999 --- [ile://files/csv] route1                                   : 1002,EUR,INR,80\n2022-05-09 21:32:58.694  INFO 16999 --- [ile://files/csv] route1                                   : 1003,AUD,INR,10\n</code></pre>\n<p>Messages passed to the queue successfully, but, when I try to receive data from the queue (2) I got the error:</p>\n<pre><code>\n&gt; 2022-05-09 21:32:58.727  WARN 71292 --- [emq-json-queue]]\n&gt; o.a.c.c.jms.EndpointMessageListener      : Execution of JMS message\n&gt; listener failed. Caused by: [org.apache.camel.RuntimeCamelException -\n&gt; Failed to extract body due to: javax.jms.JMSException: Failed to build\n&gt; body from content. Serializable class not available to broker. Reason:\n&gt; java.lang.ClassNotFoundException: Forbidden class java.util.ArrayList!\n&gt; This class is not trusted to be serialized as ObjectMessage payload.\n&gt; Please take a look at http://activemq.apache.org/objectmessage.html\n&gt; for more information on how to configure trusted classes.. Message:\n&gt; ActiveMQObjectMessage {commandId = 12, responseRequired = true,\n&gt; messageId = ID:C11852-54716-1652027839908-1:1:1:1:8,\n&gt; originalDestination = null, originalTransactionId = null, producerId =\n&gt; ID:C11852-54716-1652027839908-1:1:1:1, destination =\n&gt; queue://my-activemq-json-queue, transactionId = null, expiration = 0,\n&gt; timestamp = 1652121178695, arrival = 0, brokerInTime = 1652121178697,\n&gt; brokerOutTime = 1652121178721, correlationId = null, replyTo = null,\n&gt; persistent = true, type = null, priority = 4, groupID = null,\n&gt; groupSequence = 0, targetConsumerId = null, compressed = false, userID\n&gt; = null, content = org.apache.activemq.util.ByteSequence@10f189a5, marshalledProperties = org.apache.activemq.util.ByteSequence@3f4a693f,\n&gt; dataStructure = null, redeliveryCounter = 0, size = 0, properties =\n&gt; {CamelFileLastModified=1611144622000, CamelFileParent=files/csv,\n&gt; CamelMessageTimestamp=1611144622000, CamelFilePath=files/csv/data.csv,\n&gt; CamelFileNameConsumed=data.csv, CamelFileLength=109,\n&gt; CamelFileRelativePath=data.csv, CamelFileAbsolute=false,\n&gt; CamelFileAbsolutePath=/Users/vhruzytskyi/IdeaProjects/camel-microservice-a/files/csv/data.csv,\n&gt; CamelFileName=data.csv, CamelFileNameOnly=data.csv},\n&gt; readOnlyProperties = true, readOnlyBody = true, droppable = false,\n&gt; jmsXGroupFirstForConsumer = false}]\n\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.7'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.education'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\next{\n    camelVersion='3.16.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.apache.camel.springboot:camel-spring-boot-starter:$camelVersion&quot;\n    implementation group: 'org.apache.camel.springboot', name: 'camel-activemq-starter', version: camelVersion\n    implementation group: 'org.apache.camel.springboot', name: 'camel-kafka-starter', version: camelVersion\n    implementation group: 'org.apache.camel.springboot', name: 'camel-http-starter', version: camelVersion\n    implementation group: 'org.apache.camel.springboot', name: 'camel-csv-starter', version: camelVersion\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<hr />\n<p><strong>So, why I can't receive messages after splitting?</strong></p>\n<p>PS\nI successfully receive data without splitting, so all settings are correct</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"score":1,"creation_date":1651755253,"post_id":72126829,"comment_id":127441615,"body_markdown":"Please give us more information. Which error occurs?","body":"Please give us more information. Which error occurs?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1651784245,"post_id":72126829,"comment_id":127452417,"body_markdown":"this isn&#39;t a JSON-&gt;Database mapping, so sending in &quot;{ &quot;baz_id&quot; : &quot;1&quot; } will not build you a &#39;Baz&#39; instance for the java object reference. Try serializing your &#39;bars&#39; instance the other way to look at how it will need to handle building you a bars instance on the back end - but you&#39;ll need your own way to deal with a Baz id and decide what you want JPA/persistence to do with it to fill that &#39;baz_id&#39; fk column, such as manually calling find with that Id value and setting the reference yourself.","body":"this isn&#39;t a JSON-&gt;Database mapping, so sending in &quot;{ &quot;baz_id&quot; : &quot;1&quot; } will not build you a &#39;Baz&#39; instance for the java object reference. Try serializing your &#39;bars&#39; instance the other way to look at how it will need to handle building you a bars instance on the back end - but you&#39;ll need your own way to deal with a Baz id and decide what you want JPA/persistence to do with it to fill that &#39;baz_id&#39; fk column, such as manually calling find with that Id value and setting the reference yourself."},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1651841029,"post_id":72126829,"comment_id":127465928,"body_markdown":"For persistence sake, if baz_id can be stored in the corresponding column that would be awesome. Isn&#39;t this a standard feature which you would expect to be supported out of the box. I don&#39;t want to handle any other prePersist code which allows me to do a lookup of the same","body":"For persistence sake, if baz_id can be stored in the corresponding column that would be awesome. Isn&#39;t this a standard feature which you would expect to be supported out of the box. I don&#39;t want to handle any other prePersist code which allows me to do a lookup of the same"},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1652094712,"post_id":72126829,"comment_id":127514833,"body_markdown":"https://stackoverflow.com/help/minimal-reproducible-example","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":1,"creation_date":1652094984,"post_id":72126829,"comment_id":127514930,"body_markdown":"We need more information, you do not provide the 2 entities that are connected, you do not provide the controller, you do not even provide the stack trace.","body":"We need more information, you do not provide the 2 entities that are connected, you do not provide the controller, you do not even provide the stack trace."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1652124938,"post_id":72126829,"comment_id":127525879,"body_markdown":"It maybe a standard problem, but it is not something the 3 very different techs involved handle without you telling it how to. JSON-&gt;Java entity, where you haven&#39;t mapped what a &#39;baz_id&#39; property is, so it has no idea how to handle it. Then you have JPA to convert your java entity to a relational schema; this knows how to convert a Baz reference into a baz_id column. But you have nothing to tell your JSON converter what to do or how to hook into your JPA mappings; your code will have to take the JSON and do a findById search on the value to read in a Baz instance from JPA.","body":"It maybe a standard problem, but it is not something the 3 very different techs involved handle without you telling it how to. JSON-&gt;Java entity, where you haven&#39;t mapped what a &#39;baz_id&#39; property is, so it has no idea how to handle it. Then you have JPA to convert your java entity to a relational schema; this knows how to convert a Baz reference into a baz_id column. But you have nothing to tell your JSON converter what to do or how to hook into your JPA mappings; your code will have to take the JSON and do a findById search on the value to read in a Baz instance from JPA."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652125926,"creation_date":1652125926,"answer_id":72177518,"question_id":72126829,"body_markdown":"Your JSON is incorrect for the object being mapped. It should be of the form:\r\n\r\n    {\r\n      &quot;baz&quot; : {&quot;id&quot;:&quot;1&quot;},\r\n      &quot;weight&quot; : &quot;1.0&quot;\r\n    }\r\n\r\nthis will allow Spring to build a bar instance that references a Baz instance with an id of 1. \r\n\r\nAlternatively, if you use \r\n\r\n    {\r\n      &quot;baz_id&quot; : &quot;1&quot;,\r\n      &quot;weight&quot; : &quot;1.0&quot;\r\n    }\r\nyour java entity will need to define a &#39;baz_id&#39; property within it:\r\n\r\n    @Transient\r\n    private String baz_id;\r\n\r\nWhich your controller then uses to decide how to handle this value; ie using the appropriate findbyId method to set the baz reference before saving your Bar instance - this also gives you the opportunity to validate it does exist and decide what to do if it doesn&#39;t; create a new one or throw an appropriate exception. \r\n\r\nAlternatively, you can map the String basic to the column, and only use that to set the value:\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;baz_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updatable=false, fetch = FetchType.LAZY )\r\n    @JsonIgnore\r\n    private Baz baz;\r\n    \r\n    @Column(name = &quot;baz_id&quot;, nullable = false)\r\n    private String baz_id;\r\n\r\nThis will let you use the baz_id for REST api, but the baz reference for joins and other application usage.","title":"Unable to store ManyToOne association for an entity","body":"<p>Your JSON is incorrect for the object being mapped. It should be of the form:</p>\n<pre><code>{\n  &quot;baz&quot; : {&quot;id&quot;:&quot;1&quot;},\n  &quot;weight&quot; : &quot;1.0&quot;\n}\n</code></pre>\n<p>this will allow Spring to build a bar instance that references a Baz instance with an id of 1.</p>\n<p>Alternatively, if you use</p>\n<pre><code>{\n  &quot;baz_id&quot; : &quot;1&quot;,\n  &quot;weight&quot; : &quot;1.0&quot;\n}\n</code></pre>\n<p>your java entity will need to define a 'baz_id' property within it:</p>\n<pre><code>@Transient\nprivate String baz_id;\n</code></pre>\n<p>Which your controller then uses to decide how to handle this value; ie using the appropriate findbyId method to set the baz reference before saving your Bar instance - this also gives you the opportunity to validate it does exist and decide what to do if it doesn't; create a new one or throw an appropriate exception.</p>\n<p>Alternatively, you can map the String basic to the column, and only use that to set the value:</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;baz_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updatable=false, fetch = FetchType.LAZY )\n@JsonIgnore\nprivate Baz baz;\n\n@Column(name = &quot;baz_id&quot;, nullable = false)\nprivate String baz_id;\n</code></pre>\n<p>This will let you use the baz_id for REST api, but the baz reference for joins and other application usage.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72177518,"answer_count":1,"score":0,"last_activity_date":1652125926,"creation_date":1651752064,"question_id":72126829,"body_markdown":"I am unable to bind foreign_key baz_id to Baz on a POST call, it fails with a instantiation error trying to store a **bar**\r\n\r\n    POST http://localhost/foo/api/v1/bars\r\n    {\r\n    \t&quot;baz_id&quot; : &quot;1&quot;,\r\n    \t&quot;weight&quot; : &quot;1.0&quot;\r\n    \r\n    }\r\n\r\n    @NotNull\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;baz_id&quot;, nullable = false, referencedColumnName = &quot;id&quot;)\r\n    private Baz baz;","title":"Unable to store ManyToOne association for an entity","body":"<p>I am unable to bind foreign_key baz_id to Baz on a POST call, it fails with a instantiation error trying to store a <strong>bar</strong></p>\n<pre><code>POST http://localhost/foo/api/v1/bars\n{\n    &quot;baz_id&quot; : &quot;1&quot;,\n    &quot;weight&quot; : &quot;1.0&quot;\n\n}\n\n@NotNull\n@ManyToOne\n@JoinColumn(name = &quot;baz_id&quot;, nullable = false, referencedColumnName = &quot;id&quot;)\nprivate Baz baz;\n</code></pre>\n"},{"tags":["java","performance","metrics","jmc","jfr"],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1652125890,"creation_date":1548512923,"answer_id":54379309,"question_id":54377288,"body_markdown":"**JDK 17**\r\n\r\n    $ java -XX:StartFlightRecording:jdk.ObjectCount#enabled=true ...\r\n\r\n    $ jcmd &lt;pid&gt; JFR.start jdk.ObjectCount#enabled=true\r\n\r\n\r\n**JDK 9 - JDK 16**\r\n\r\nFor JDKs prior to JDK 17 there is no command line or jcmd option to enable Heap Statistics.\r\n\r\nThe event is disabled in both the default and profile settings file as it induces a safepoint when iterating over the heap.  \r\n\r\nYou can however use the template manager in JMC, Windows -&gt; Template Manager. and check the settings you want to have, i.e Heap Statistics, and export the file. Then use jcmd to apply it\r\n\r\n    jcmd &lt;pid&gt; JFR.start settings=my-configuration-file.jfc\r\n\r\n\r\nIf you are trying to diagnose a memory leak, it may be of interest to know that Oracle JDK 10+ and OpenJDK 11+ records the Old Object Sample event which collects information that is typically more useful for solving Java memory leaks (and without the safepoint overhead). Later JDKs have the option path-to-gc-roots=true (for both jcmd and -XX:StartFlightRecording) that can give additional information to solve memory leaks. That option will however induce similar overhead as Heap Statistics, but much less overhead than an HPROF dump as magnitudes less data is written to disk.","title":"How to enable heap metrics for jfr via command line","body":"<p><strong>JDK 17</strong></p>\n<pre><code>$ java -XX:StartFlightRecording:jdk.ObjectCount#enabled=true ...\n\n$ jcmd &lt;pid&gt; JFR.start jdk.ObjectCount#enabled=true\n</code></pre>\n<p><strong>JDK 9 - JDK 16</strong></p>\n<p>For JDKs prior to JDK 17 there is no command line or jcmd option to enable Heap Statistics.</p>\n<p>The event is disabled in both the default and profile settings file as it induces a safepoint when iterating over the heap.</p>\n<p>You can however use the template manager in JMC, Windows -&gt; Template Manager. and check the settings you want to have, i.e Heap Statistics, and export the file. Then use jcmd to apply it</p>\n<pre><code>jcmd &lt;pid&gt; JFR.start settings=my-configuration-file.jfc\n</code></pre>\n<p>If you are trying to diagnose a memory leak, it may be of interest to know that Oracle JDK 10+ and OpenJDK 11+ records the Old Object Sample event which collects information that is typically more useful for solving Java memory leaks (and without the safepoint overhead). Later JDKs have the option path-to-gc-roots=true (for both jcmd and -XX:StartFlightRecording) that can give additional information to solve memory leaks. That option will however induce similar overhead as Heap Statistics, but much less overhead than an HPROF dump as magnitudes less data is written to disk.</p>\n"},{"tags":[],"owner":{"account_id":16623578,"reputation":171,"user_id":12013214,"display_name":"WASDi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652108981,"creation_date":1652108981,"answer_id":72174234,"question_id":54377288,"body_markdown":"Running jcmd with `settings=profile` makes the recording include information about allocations. It doesn&#39;t exactly correspond to Heap Statistics as the other comment pointed out, but it lets you see allocation flame graphs in JMC which was what I was looking for coming here. See https://docs.oracle.com/javacomponents/jmc-5-5/jfr-command-reference/diagnostic-command-reference.htm#resourceid-15322-48C8362A\r\n\r\nI had issues exporting templates as the other comment also suggested. If you want Heap Statistics, you can copy `profile.jfc` and enable it as explained in https://stackoverflow.com/a/55449770/12013214","title":"How to enable heap metrics for jfr via command line","body":"<p>Running jcmd with <code>settings=profile</code> makes the recording include information about allocations. It doesn't exactly correspond to Heap Statistics as the other comment pointed out, but it lets you see allocation flame graphs in JMC which was what I was looking for coming here. See <a href=\"https://docs.oracle.com/javacomponents/jmc-5-5/jfr-command-reference/diagnostic-command-reference.htm#resourceid-15322-48C8362A\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javacomponents/jmc-5-5/jfr-command-reference/diagnostic-command-reference.htm#resourceid-15322-48C8362A</a></p>\n<p>I had issues exporting templates as the other comment also suggested. If you want Heap Statistics, you can copy <code>profile.jfc</code> and enable it as explained in <a href=\"https://stackoverflow.com/a/55449770/12013214\">https://stackoverflow.com/a/55449770/12013214</a></p>\n"}],"owner":{"account_id":1227165,"reputation":545,"user_id":1192513,"display_name":"Elvir Crncevic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2415,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54379309,"answer_count":2,"score":4,"last_activity_date":1652125890,"creation_date":1548496326,"question_id":54377288,"body_markdown":"I&#39;m trying to run Java Flight Recorder using the jcmd binary located /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home/bin/jcmd (Mac OS X). Is there a command line option to enable heap metrics that corresponds to Heap Statistics option on the Start Flight Recording UI:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z3HiS.png","title":"How to enable heap metrics for jfr via command line","body":"<p>I'm trying to run Java Flight Recorder using the jcmd binary located /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home/bin/jcmd (Mac OS X). Is there a command line option to enable heap metrics that corresponds to Heap Statistics option on the Start Flight Recording UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z3HiS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3HiS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","arrays","json"],"answers":[{"tags":[],"owner":{"account_id":24989454,"reputation":411,"user_id":18850835,"display_name":"Michel K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651989083,"creation_date":1651988197,"answer_id":72158383,"question_id":72158238,"body_markdown":"Your code only creates one `JSONObject` and then keeps modifying it. The following example illustrates this: \r\n```java-lang\r\nJSONArray array = new JSONArray();\r\nJSONObject item = new JSONObject();\r\nitem.put(&quot;id&quot;, 0); \r\narray.add(item); \r\n// The next line overwrites the &quot;id&quot; in item. This also affects \r\n// the one already in the array because it&#39;s the same instance\r\nitem.put(&quot;id&quot;, 1); \r\narray.add(item); \r\nSystem.out.println(array.toString());\r\n```\r\nThe array now contains the same instance twice. Result: `[{&quot;id&quot;:0}, {&quot;id&quot;:0}]`\r\n\r\n```java-lang\r\nJSONArray array = new JSONArray();\r\nJSONObject item1 = new JSONObject();\r\nitem1.put(&quot;id&quot;, 0); \r\narray.add(item1); \r\nJSONObject item2 = new JSONObject();\r\nitem2.put(&quot;id&quot;, 1); \r\narray.add(item2); \r\nSystem.out.println(array.toString());\r\n```\r\nThe array now contains two distinct instances. Result: `[{&quot;id&quot;:0}, {&quot;id&quot;:1}]`\r\n\r\n\r\nIn your code, you can solve the problem by moving the creation of the `JSONObject` instances into the loop: \r\n```java-lang\r\nfor(int i=0;i&lt;2;i++) {\r\n    JSONObject item = new JSONObject(); // moved inside loop\r\n    item.put(&quot;information&quot;, &quot;test&quot;+i);\r\n    ...\r\n    array.add(item); // \r\n```","title":"How to create JsonArray using loop?","body":"<p>Your code only creates one <code>JSONObject</code> and then keeps modifying it. The following example illustrates this:</p>\n<pre><code>JSONArray array = new JSONArray();\nJSONObject item = new JSONObject();\nitem.put(&quot;id&quot;, 0); \narray.add(item); \n// The next line overwrites the &quot;id&quot; in item. This also affects \n// the one already in the array because it's the same instance\nitem.put(&quot;id&quot;, 1); \narray.add(item); \nSystem.out.println(array.toString());\n</code></pre>\n<p>The array now contains the same instance twice. Result: <code>[{&quot;id&quot;:0}, {&quot;id&quot;:0}]</code></p>\n<pre><code>JSONArray array = new JSONArray();\nJSONObject item1 = new JSONObject();\nitem1.put(&quot;id&quot;, 0); \narray.add(item1); \nJSONObject item2 = new JSONObject();\nitem2.put(&quot;id&quot;, 1); \narray.add(item2); \nSystem.out.println(array.toString());\n</code></pre>\n<p>The array now contains two distinct instances. Result: <code>[{&quot;id&quot;:0}, {&quot;id&quot;:1}]</code></p>\n<p>In your code, you can solve the problem by moving the creation of the <code>JSONObject</code> instances into the loop:</p>\n<pre><code>for(int i=0;i&lt;2;i++) {\n    JSONObject item = new JSONObject(); // moved inside loop\n    item.put(&quot;information&quot;, &quot;test&quot;+i);\n    ...\n    array.add(item); // \n</code></pre>\n"}],"owner":{"account_id":25183153,"reputation":41,"user_id":19024402,"display_name":"suraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652125400,"creation_date":1651986525,"question_id":72158238,"body_markdown":"I am trying to create a JsonArray using a loop and adding the loop index to value, but getting last index in the JsonArray.\r\n\r\n    JSONArray array = new JSONArray();\r\n    JSONObject item = new JSONObject();\r\n    for(int i=0;i&lt;2;i++) {\r\n    \titem.put(&quot;information&quot;, &quot;test&quot;+i);\r\n    \titem.put(&quot;id&quot;, 0+i);\r\n    \titem.put(&quot;subName&quot;, &quot;course&quot;+i);\r\n    \t//System.out.println(item.toString());\r\n    \tarray.add(item);\r\n    \tSystem.out.println(array.toString());\r\n    }\r\n\r\nExpected result:\r\n```none\r\n[{&quot;subName&quot;:&quot;course0&quot;,&quot;information&quot;:&quot;test0&quot;,&quot;id&quot;:0},\r\n{&quot;subName&quot;:&quot;course1&quot;,&quot;information&quot;:&quot;test1&quot;,&quot;id&quot;:1}]\r\n```\r\nActual result:\r\n```none\r\n[{&quot;subName&quot;:&quot;course1&quot;,&quot;information&quot;:&quot;test1&quot;,&quot;id&quot;:1},{&quot;subName&quot;:&quot;course1&quot;,&quot;information&quot;:&quot;test1&quot;,&quot;id&quot;:1}]\r\n```","title":"How to create JsonArray using loop?","body":"<p>I am trying to create a JsonArray using a loop and adding the loop index to value, but getting last index in the JsonArray.</p>\n<pre><code>JSONArray array = new JSONArray();\nJSONObject item = new JSONObject();\nfor(int i=0;i&lt;2;i++) {\n    item.put(&quot;information&quot;, &quot;test&quot;+i);\n    item.put(&quot;id&quot;, 0+i);\n    item.put(&quot;subName&quot;, &quot;course&quot;+i);\n    //System.out.println(item.toString());\n    array.add(item);\n    System.out.println(array.toString());\n}\n</code></pre>\n<p>Expected result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{&quot;subName&quot;:&quot;course0&quot;,&quot;information&quot;:&quot;test0&quot;,&quot;id&quot;:0},\n{&quot;subName&quot;:&quot;course1&quot;,&quot;information&quot;:&quot;test1&quot;,&quot;id&quot;:1}]\n</code></pre>\n<p>Actual result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{&quot;subName&quot;:&quot;course1&quot;,&quot;information&quot;:&quot;test1&quot;,&quot;id&quot;:1},{&quot;subName&quot;:&quot;course1&quot;,&quot;information&quot;:&quot;test1&quot;,&quot;id&quot;:1}]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-cassandra"],"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652124933,"creation_date":1652122962,"question_id":72177035,"body_markdown":"&gt; **I have the following classes:**\r\n\r\n    @Repository\r\n    public interface MyRepoDC1 extends CassandraRepository&lt;MyBean, String&gt; {\r\n     ...\r\n    }\r\n\r\n    @Repository\r\n    public interface MyRepoDC2 extends CassandraRepository&lt;MyBean, String&gt; {\r\n     ...\r\n    }\r\n\r\n    \r\n    @EnableCassandraRepositories(cassandraTemplateRef = &quot;myRefTemplateDc1&quot;, basePackages = &quot;com.test.repodc1&quot;)\r\n    @Configuration\r\n    public class CassandraDC1ClusterConfig {\r\n     ...\r\n    }\r\n\r\n    @EnableCassandraRepositories(cassandraTemplateRef = &quot;myRefTemplateDc2&quot;, basePackages = &quot;com.test.repodc2&quot;)\r\n    @Configuration\r\n    public class CassandraDC2ClusterConfig {\r\n     ...\r\n    }\r\n\r\n&gt; About the classes:\r\n\r\n - Both MyRepoDC1 and MyRepoDC2 have the same member variables.\r\n - CassandraDC1ClusterConfig has a connection to a data-center named dc1.\r\n   CassandraDC2ClusterConfig has a connection to a data-center named dc2.\r\n\r\n&gt; **Current scenario:** \r\n\r\nI am using MyRepoDC1 to insert data into the DB. If I incur an exception during runtime, I am resorting to a fallback method that uses MyRepoDC2 to save the data.\r\n\r\n&gt; **My Query:**\r\n\r\nIs there a way to create the connection that uses CassandraDC2ClusterConfig during runtime and wire it to the MyRepoDC2 (or something similar)? In my current scenario, **2 connections are being created unnecessarily during start-up, which is a costly operation**. I am trying to avoid that. \r\n","title":"Wiring a custom cassandra cluster config to a repo class during runtime","body":"<blockquote>\n<p><strong>I have the following classes:</strong></p>\n</blockquote>\n<pre><code>@Repository\npublic interface MyRepoDC1 extends CassandraRepository&lt;MyBean, String&gt; {\n ...\n}\n\n@Repository\npublic interface MyRepoDC2 extends CassandraRepository&lt;MyBean, String&gt; {\n ...\n}\n\n\n@EnableCassandraRepositories(cassandraTemplateRef = &quot;myRefTemplateDc1&quot;, basePackages = &quot;com.test.repodc1&quot;)\n@Configuration\npublic class CassandraDC1ClusterConfig {\n ...\n}\n\n@EnableCassandraRepositories(cassandraTemplateRef = &quot;myRefTemplateDc2&quot;, basePackages = &quot;com.test.repodc2&quot;)\n@Configuration\npublic class CassandraDC2ClusterConfig {\n ...\n}\n</code></pre>\n<blockquote>\n<p>About the classes:</p>\n</blockquote>\n<ul>\n<li>Both MyRepoDC1 and MyRepoDC2 have the same member variables.</li>\n<li>CassandraDC1ClusterConfig has a connection to a data-center named dc1.\nCassandraDC2ClusterConfig has a connection to a data-center named dc2.</li>\n</ul>\n<blockquote>\n<p><strong>Current scenario:</strong></p>\n</blockquote>\n<p>I am using MyRepoDC1 to insert data into the DB. If I incur an exception during runtime, I am resorting to a fallback method that uses MyRepoDC2 to save the data.</p>\n<blockquote>\n<p><strong>My Query:</strong></p>\n</blockquote>\n<p>Is there a way to create the connection that uses CassandraDC2ClusterConfig during runtime and wire it to the MyRepoDC2 (or something similar)? In my current scenario, <strong>2 connections are being created unnecessarily during start-up, which is a costly operation</strong>. I am trying to avoid that.</p>\n"},{"tags":["java","vaadin14"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1652191808,"post_id":72177311,"comment_id":127543503,"body_markdown":"Have you checked Vaadin documentation for Binder?","body":"Have you checked Vaadin documentation for Binder?"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652124660,"creation_date":1652124660,"question_id":72177311,"body_markdown":"I have a Java Vaadin (Flow) application that allows a user to edit a task. This portion of the application consists of a main form and some sub-forms:\r\n\r\n    EditTaskForm.java\r\n    \tEditTaskDetailsForm.java\r\n    \tEditNotesForm.java\r\n    \t\tEditNoteForm.java\r\n\r\nAll of this allows editing for one &quot;task&quot; at a time. The task has a number of attributes, including a list of &quot;notes&quot;. The top-level form allows for editing the title and description and the means to access the lower-level editors. The details form allows for editing various simple attributes. The notes form allows for the management (adding, deleting, editing) of a collection of notes associated with the task. The lowest level form allows for the editing of a single note associated with a task.\r\n\r\nI&#39;m trying to figure out the best way to design this collection of related forms to populate all forms with the pertinent data from the specified task, and the best way to save any changes made in any of these forms to that task and its related objects.\r\n\r\nAt this time, I&#39;ve been passing the task object to the main form, which then passes it to the sub forms. This has been working reasonably well for populating the forms, but saving information is proving to be difficult. I&#39;m not sure if each form should be responsible for saving changes, or if it should be handled in the main form, or somewhere else.\r\n\r\nAre there any &quot;best practices&quot; on how this should be done?\r\n\r\n","title":"Best way to synchronize a data model object among multiple &quot;editor&quot; forms","body":"<p>I have a Java Vaadin (Flow) application that allows a user to edit a task. This portion of the application consists of a main form and some sub-forms:</p>\n<pre><code>EditTaskForm.java\n    EditTaskDetailsForm.java\n    EditNotesForm.java\n        EditNoteForm.java\n</code></pre>\n<p>All of this allows editing for one &quot;task&quot; at a time. The task has a number of attributes, including a list of &quot;notes&quot;. The top-level form allows for editing the title and description and the means to access the lower-level editors. The details form allows for editing various simple attributes. The notes form allows for the management (adding, deleting, editing) of a collection of notes associated with the task. The lowest level form allows for the editing of a single note associated with a task.</p>\n<p>I'm trying to figure out the best way to design this collection of related forms to populate all forms with the pertinent data from the specified task, and the best way to save any changes made in any of these forms to that task and its related objects.</p>\n<p>At this time, I've been passing the task object to the main form, which then passes it to the sub forms. This has been working reasonably well for populating the forms, but saving information is proving to be difficult. I'm not sure if each form should be responsible for saving changes, or if it should be handled in the main form, or somewhere else.</p>\n<p>Are there any &quot;best practices&quot; on how this should be done?</p>\n"},{"tags":["java","apache-kafka","mockito","quarkus","microprofile"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1652107442,"post_id":72173832,"comment_id":127519739,"body_markdown":"Kafka has its own mock consumer and producer classes. Do you need Quarkus?","body":"Kafka has its own mock consumer and producer classes. Do you need Quarkus?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652124095,"post_id":72173832,"comment_id":127525642,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19193232,"reputation":11,"user_id":14022538,"display_name":"vaibhavSO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652124586,"creation_date":1652107269,"question_id":72173832,"body_markdown":"Quarkus `@InjectMock` is not working for Kafka consumer test. The mocked service object is being removed during the test and actual service is being called. How to resolve this?\r\n\r\n \r\n \r\n```java\r\n//Kafka consumer test\r\n\r\n@QuarkusTest\r\npublic class ConsumerTest {\r\n\r\n\t@InjectMock\r\n\tTestService service;\r\n\r\n\t@Inject\r\n\t@Any\r\n\tInMemoryConnector connector;\r\n\r\n\tpublic void testEvent() {\r\n        Mockito.when(service).test(Mockito.any(Product.class)))\r\n            .thenReturn(&quot;1234&quot;);\r\n\t    InMemorySource source = connector.source(&quot;request-in&quot;);\r\n\t    source.send(e);\r\n    }   \r\n}\r\n\r\n//Kafka consumer \r\n\r\n@Inject\r\nTestService service;\r\n\r\n@Incoming(&quot;request-in&quot;)\r\n@Blocking\r\n@Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\r\npublic void consume(Event e) {\r\n\tservice.test(....);\r\n}\r\n\r\n//TestServiceImpl implements TestService\r\npublic String test(Product product) { ...\r\n}\r\n\r\n//service interface [TestService]\r\npublic String test(Product product);\r\n```","title":"Quarkus @InjectMock is not working for Kafka consumer test","body":"<p>Quarkus <code>@InjectMock</code> is not working for Kafka consumer test. The mocked service object is being removed during the test and actual service is being called. How to resolve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Kafka consumer test\n\n@QuarkusTest\npublic class ConsumerTest {\n\n    @InjectMock\n    TestService service;\n\n    @Inject\n    @Any\n    InMemoryConnector connector;\n\n    public void testEvent() {\n        Mockito.when(service).test(Mockito.any(Product.class)))\n            .thenReturn(&quot;1234&quot;);\n        InMemorySource source = connector.source(&quot;request-in&quot;);\n        source.send(e);\n    }   \n}\n\n//Kafka consumer \n\n@Inject\nTestService service;\n\n@Incoming(&quot;request-in&quot;)\n@Blocking\n@Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\npublic void consume(Event e) {\n    service.test(....);\n}\n\n//TestServiceImpl implements TestService\npublic String test(Product product) { ...\n}\n\n//service interface [TestService]\npublic String test(Product product);\n</code></pre>\n"},{"tags":["java","performance","parsing","inputstream","bufferedreader"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1652124629,"post_id":72177091,"comment_id":127525807,"body_markdown":"This is [Premature Optimization](https://softwareengineering.stackexchange.com/q/80084/989).  The parsing overhead will be minimal.  Don&#39;t overthink this unless you can prove there&#39;s a bottleneck.","body":"This is <a href=\"https://softwareengineering.stackexchange.com/q/80084/989\">Premature Optimization</a>.  The parsing overhead will be minimal.  Don&#39;t overthink this unless you can prove there&#39;s a bottleneck."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652141854,"post_id":72177091,"comment_id":127529479,"body_markdown":"You can read miillions of lines per second with `BufferedReader`. That&#39;s fast enough.","body":"You can read miillions of lines per second with <code>BufferedReader</code>. That&#39;s fast enough."}],"owner":{"account_id":4370435,"reputation":21,"user_id":3564987,"display_name":"sweet_popcorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652124311,"creation_date":1652123307,"question_id":72177091,"body_markdown":"I would like to find the fastest way to parse an inputstream. The inputstream is dynamic and the first lines contain all the info to parse the data.\r\neg:\r\n\r\n    key,val\r\n    INTEGER,INTEGER\r\n    1,5\r\n    2,5\r\n\r\nIn order to do the parsing I am currently using a BufferedReader. I read line by line, split on , (which is the separator) and then parse to the type given at the beginning. eg:  \r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8)); \r\n    // ...\r\n    String line = reader.readLine();\r\n    String[] line = StringUtils.split(stringToSplit, &#39;,&#39;);\r\n    Integer.parse(line[0]);\r\nI was wondering what is the performance impact of doing that, and what I could do to improve the performance ? Should I use byte[] ? Thanks !\r\n\r\n","title":"Most performant way to parse an Inputstream","body":"<p>I would like to find the fastest way to parse an inputstream. The inputstream is dynamic and the first lines contain all the info to parse the data.\neg:</p>\n<pre><code>key,val\nINTEGER,INTEGER\n1,5\n2,5\n</code></pre>\n<p>In order to do the parsing I am currently using a BufferedReader. I read line by line, split on , (which is the separator) and then parse to the type given at the beginning. eg:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8)); \n// ...\nString line = reader.readLine();\nString[] line = StringUtils.split(stringToSplit, ',');\nInteger.parse(line[0]);\n</code></pre>\n<p>I was wondering what is the performance impact of doing that, and what I could do to improve the performance ? Should I use byte[] ? Thanks !</p>\n"},{"tags":["java","string","if-statement","contains","boolean-expression"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651897461,"post_id":72148885,"comment_id":127479402,"body_markdown":"Welcome to Stack Overflow. This will be easier for us with a [mre].","body":"Welcome to Stack Overflow. This will be easier for us with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25186055,"reputation":31,"user_id":19026922,"display_name":"Lucas Rodriguez"},"score":0,"creation_date":1651930341,"post_id":72148885,"comment_id":127484923,"body_markdown":"I would send in the method that has the if statement, but the method itself has almost 200 lines, which is very long and has most parts functional by itself and irrelevant to the question above.","body":"I would send in the method that has the if statement, but the method itself has almost 200 lines, which is very long and has most parts functional by itself and irrelevant to the question above."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1651930538,"post_id":72148885,"comment_id":127484968,"body_markdown":"You are correct, posting 200 lines of code would be no good idea. This is as good a time as any to train creating a [Short, Self Contained, Correct (Compilable), Example](http://sscce.org/).","body":"You are correct, posting 200 lines of code would be no good idea. This is as good a time as any to train creating a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct (Compilable), Example</a>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1652114281,"post_id":72148885,"comment_id":127522427,"body_markdown":"if there are more variables in your equation, how does `getVar()` know, which one to take? Your current implementation simply concatenates all letter characters from `getEquation()` into one long string, so `x=x` would be processed to `xx`.","body":"if there are more variables in your equation, how does <code>getVar()</code> know, which one to take? Your current implementation simply concatenates all letter characters from <code>getEquation()</code> into one long string, so <code>x=x</code> would be processed to <code>xx</code>."},{"owner":{"account_id":25186055,"reputation":31,"user_id":19026922,"display_name":"Lucas Rodriguez"},"score":0,"creation_date":1652115038,"post_id":72148885,"comment_id":127522662,"body_markdown":"@cyberbrain Thank you so much for finding the bug! The getVar() method does in fact perform that way, so I have to overload the method to take in a string parameter, which would be either one of the sides, in order for the if statement to pass and solve the equation as intended.","body":"@cyberbrain Thank you so much for finding the bug! The getVar() method does in fact perform that way, so I have to overload the method to take in a string parameter, which would be either one of the sides, in order for the if statement to pass and solve the equation as intended."}],"answers":[{"tags":[],"owner":{"account_id":25186055,"reputation":31,"user_id":19026922,"display_name":"Lucas Rodriguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652124197,"creation_date":1652124197,"answer_id":72177249,"question_id":72148885,"body_markdown":"First, I need to thank the people that have assisted with finding the solution to this problem. Apparently, there was, in fact, an issue with the getVar() method getting double variables from equation strings with multiple instances of the variable.\r\n\r\nWhat I did to resolve the issue was to overload the getVar() method to take in and use string parameters so that I can get the variable from just one side of the equation.\r\n\r\nThe solve() method, which contains the if statement, worked to solve equations that would have **1** or more variables on either side. So, in the cases through which only 1 side would contain the variable, the both getVar() methods would still be used to avoid an *IndexOutOfBoundsException*. ","title":"Checking for Whether Both Expression Strings Contain the Variable","body":"<p>First, I need to thank the people that have assisted with finding the solution to this problem. Apparently, there was, in fact, an issue with the getVar() method getting double variables from equation strings with multiple instances of the variable.</p>\n<p>What I did to resolve the issue was to overload the getVar() method to take in and use string parameters so that I can get the variable from just one side of the equation.</p>\n<p>The solve() method, which contains the if statement, worked to solve equations that would have <strong>1</strong> or more variables on either side. So, in the cases through which only 1 side would contain the variable, the both getVar() methods would still be used to avoid an <em>IndexOutOfBoundsException</em>.</p>\n"}],"owner":{"account_id":25186055,"reputation":31,"user_id":19026922,"display_name":"Lucas Rodriguez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72177249,"answer_count":1,"score":0,"last_activity_date":1652124197,"creation_date":1651888461,"question_id":72148885,"body_markdown":"I had made a fully functioning method that would grab a variable string like *x* or *var* for the equation as so:\r\n```java\r\n// Equation Variable Getter\r\n    public String getVar(){\r\n        String variable = &quot;&quot;;\r\n        for (int i = 0; i &lt; getEquation().length(); i++){\r\n            if ((getEquation().charAt(i) &gt;= 65 &amp;&amp; getEquation().charAt(i) &lt;= 90)\r\n            || (getEquation().charAt(i) &gt;= 97 &amp;&amp; getEquation().charAt(i) &lt;= 122)){\r\n                variable += getEquation().charAt(i);\r\n            }\r\n        }\r\n        //System.out.println(variable);\r\n        return variable;\r\n    }\r\n```\r\n\r\nWhile attempting to solve an equation like *x = x* or *num = num*, I split the sides into an array and trimmed the whitespaces like any other equation that I had tested. The problem was in comparing the two sides. Naturally, I used an if statement and compared them like so:\r\n```\r\nif (sides[0].contains(getVar()) &amp;&amp; sides[1].contains(getVar()){\r\n   // statements used to solve equation format co*var = co*var\r\n}\r\n```\r\nWhen using this on *x = x* and *var = var*, the if statement never ran. Upon further investigation, I found out that the code did went around it because both of the conditions in the statement were false. This was not supposed to happen as, for strings like *x = x* and *var = var*, both did contain the variable *x*\r\n\r\nIs there something wrong with the if statement?","title":"Checking for Whether Both Expression Strings Contain the Variable","body":"<p>I had made a fully functioning method that would grab a variable string like <em>x</em> or <em>var</em> for the equation as so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Equation Variable Getter\n    public String getVar(){\n        String variable = &quot;&quot;;\n        for (int i = 0; i &lt; getEquation().length(); i++){\n            if ((getEquation().charAt(i) &gt;= 65 &amp;&amp; getEquation().charAt(i) &lt;= 90)\n            || (getEquation().charAt(i) &gt;= 97 &amp;&amp; getEquation().charAt(i) &lt;= 122)){\n                variable += getEquation().charAt(i);\n            }\n        }\n        //System.out.println(variable);\n        return variable;\n    }\n</code></pre>\n<p>While attempting to solve an equation like <em>x = x</em> or <em>num = num</em>, I split the sides into an array and trimmed the whitespaces like any other equation that I had tested. The problem was in comparing the two sides. Naturally, I used an if statement and compared them like so:</p>\n<pre><code>if (sides[0].contains(getVar()) &amp;&amp; sides[1].contains(getVar()){\n   // statements used to solve equation format co*var = co*var\n}\n</code></pre>\n<p>When using this on <em>x = x</em> and <em>var = var</em>, the if statement never ran. Upon further investigation, I found out that the code did went around it because both of the conditions in the statement were false. This was not supposed to happen as, for strings like <em>x = x</em> and <em>var = var</em>, both did contain the variable <em>x</em></p>\n<p>Is there something wrong with the if statement?</p>\n"},{"tags":["java","tomcat","google-cloud-sql"],"answers":[{"tags":[],"owner":{"account_id":21824426,"reputation":68,"user_id":16120160,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652124010,"creation_date":1652124010,"answer_id":72177220,"question_id":71872165,"body_markdown":"I replicate the issue on Google Cloud, then instead of using the library from Google Cloud I was able to connect to Cloud SQL using Connector/J following the Tomcat instructions (https://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html)","title":"How to add Google Cloud MySQL libs to Tomcat 8.5","body":"<p>I replicate the issue on Google Cloud, then instead of using the library from Google Cloud I was able to connect to Cloud SQL using Connector/J following the Tomcat instructions (<a href=\"https://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html</a>)</p>\n"}],"owner":{"account_id":24936764,"reputation":21,"user_id":18803238,"display_name":"cs-ms"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652124010,"creation_date":1649941637,"question_id":71872165,"body_markdown":"We want to deploy our Applications (.war-Files) via Tomcat 8.5 into a k8s-infrastructure, having the depending Database on Google Cloud SQL (MySQL).\r\n\r\nGoogle offers the MySQL-Connector-Librarys ( see https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md &amp; https://cloud.google.com/sql/docs/mysql/connect-connectors), sadly with only documentation about implementation into the java application itself. \r\nfor company strategic reasons we don&#39;t want to do that.\r\n\r\nWe already tried to use a fat jar with all the dependencies of the mysql-connector and put that (together with the connectorJ/8.jar) into the tomcat/libs/ directory and configured the resource in the server.xml as follows:\r\n\r\n    &lt;Resource name=&quot;jdbc/cloudSQL&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; maxTotal=&quot;100&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;\r\n              factory=&quot;com.google.cloud.sql.mysql.SocketFactory&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; removeAbandonedOnBorrow=&quot;true&quot; removeAbandonedTimeout=&quot;60&quot; logAbandoned=&quot;true&quot;\r\n              username=&quot;${db.user}&quot; password=&quot;${db.pass}&quot; url=&quot;jdbc:mysql:///${db.name}?cloudSqlInstance=${db.instance}&amp;amp;autoReconnect=true&quot;\r\n              testOnBorrow=&quot;true&quot; validationQuery=&quot;SELECT 1&quot; /&gt;\r\n\r\nDoesn&#39;t work too bad, but is not successfully either:\r\n\r\n    javax.naming.NamingException: Could not create resource factory instance \r\n    [Root exception is java.lang.ClassCastException: com.google.cloud.sql.mysql.SocketFactory cannot be cast to javax.naming.spi.ObjectFactory] \r\n    at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:86) \r\n    at javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:332) \r\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:846) \r\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:157) \r\n    at org.apache.naming.NamingContextBindingsEnumeration.nextElementInternal(NamingContextBindingsEnumeration.java:115) \r\n    at org.apache.naming.NamingContextBindingsEnumeration.next(NamingContextBindingsEnumeration.java:69) \r\n    at org.apache.naming.NamingContextBindingsEnumeration.next(NamingContextBindingsEnumeration.java:32) \r\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:138) \r\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:145) \r\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:112) \r\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycleEvent(GlobalResourcesLifecycleListener.java:87) \r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) \r\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) \r\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) \r\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787) \r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \r\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:695) \r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n    at java.lang.reflect.Method.invoke(Method.java:498) \r\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) \r\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) \r\n    Caused by: java.lang.ClassCastException: com.google.cloud.sql.mysql.SocketFactory cannot be cast to javax.naming.spi.ObjectFactory \r\n    at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:75) ... 22 more\r\n\r\nI&#39;d appreciate any idea how to tackle this issue.","title":"How to add Google Cloud MySQL libs to Tomcat 8.5","body":"<p>We want to deploy our Applications (.war-Files) via Tomcat 8.5 into a k8s-infrastructure, having the depending Database on Google Cloud SQL (MySQL).</p>\n<p>Google offers the MySQL-Connector-Librarys ( see <a href=\"https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md</a> &amp; <a href=\"https://cloud.google.com/sql/docs/mysql/connect-connectors\" rel=\"nofollow noreferrer\">https://cloud.google.com/sql/docs/mysql/connect-connectors</a>), sadly with only documentation about implementation into the java application itself.\nfor company strategic reasons we don't want to do that.</p>\n<p>We already tried to use a fat jar with all the dependencies of the mysql-connector and put that (together with the connectorJ/8.jar) into the tomcat/libs/ directory and configured the resource in the server.xml as follows:</p>\n<pre><code>&lt;Resource name=&quot;jdbc/cloudSQL&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; maxTotal=&quot;100&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;\n          factory=&quot;com.google.cloud.sql.mysql.SocketFactory&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; removeAbandonedOnBorrow=&quot;true&quot; removeAbandonedTimeout=&quot;60&quot; logAbandoned=&quot;true&quot;\n          username=&quot;${db.user}&quot; password=&quot;${db.pass}&quot; url=&quot;jdbc:mysql:///${db.name}?cloudSqlInstance=${db.instance}&amp;amp;autoReconnect=true&quot;\n          testOnBorrow=&quot;true&quot; validationQuery=&quot;SELECT 1&quot; /&gt;\n</code></pre>\n<p>Doesn't work too bad, but is not successfully either:</p>\n<pre><code>javax.naming.NamingException: Could not create resource factory instance \n[Root exception is java.lang.ClassCastException: com.google.cloud.sql.mysql.SocketFactory cannot be cast to javax.naming.spi.ObjectFactory] \nat org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:86) \nat javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:332) \nat org.apache.naming.NamingContext.lookup(NamingContext.java:846) \nat org.apache.naming.NamingContext.lookup(NamingContext.java:157) \nat org.apache.naming.NamingContextBindingsEnumeration.nextElementInternal(NamingContextBindingsEnumeration.java:115) \nat org.apache.naming.NamingContextBindingsEnumeration.next(NamingContextBindingsEnumeration.java:69) \nat org.apache.naming.NamingContextBindingsEnumeration.next(NamingContextBindingsEnumeration.java:32) \nat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:138) \nat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:145) \nat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:112) \nat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycleEvent(GlobalResourcesLifecycleListener.java:87) \nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) \nat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) \nat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) \nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787) \nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \nat org.apache.catalina.startup.Catalina.start(Catalina.java:695) \nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \nat java.lang.reflect.Method.invoke(Method.java:498) \nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) \nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) \nCaused by: java.lang.ClassCastException: com.google.cloud.sql.mysql.SocketFactory cannot be cast to javax.naming.spi.ObjectFactory \nat org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:75) ... 22 more\n</code></pre>\n<p>I'd appreciate any idea how to tackle this issue.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":19144113,"reputation":51,"user_id":13983497,"display_name":"Himanshu Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652124002,"creation_date":1652124002,"answer_id":72177219,"question_id":72177185,"body_markdown":"Well You can select this using relative xpath\r\n`//input[starts-with(@name,&#39;name&#39;)]`\r\n\r\nHere **starts-with** only checks whether the name attribute starts-with __name__ and ignore other randomly generated kinds of stuff.","title":"how to enter text in Name field if its value Keep changing after each refresh?","body":"<p>Well You can select this using relative xpath\n<code>//input[starts-with(@name,'name')]</code></p>\n<p>Here <strong>starts-with</strong> only checks whether the name attribute starts-with <strong>name</strong> and ignore other randomly generated kinds of stuff.</p>\n"}],"owner":{"account_id":25246301,"reputation":13,"user_id":19079516,"display_name":"Priyanshu Raj "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72177219,"answer_count":1,"score":1,"last_activity_date":1652124002,"creation_date":1652123824,"question_id":72177185,"body_markdown":"I am relatively new to Java and Selenium.\r\nURL : https://register.rediff.com/register/register.php?FormName=user_details\r\nI want to send keys into the name field. when I am trying to find the element by name tag I am unable do so because name attributes value changed each time.\r\n\r\n    `&lt;input type=&quot;text&quot; onblur=&quot;fieldTrack(this);&quot; name=&quot;name86b72791&quot; value=&quot;&quot; style=&quot;width:185px;&quot; maxlength=&quot;61&quot;&gt;`","title":"how to enter text in Name field if its value Keep changing after each refresh?","body":"<p>I am relatively new to Java and Selenium.\nURL : <a href=\"https://register.rediff.com/register/register.php?FormName=user_details\" rel=\"nofollow noreferrer\">https://register.rediff.com/register/register.php?FormName=user_details</a>\nI want to send keys into the name field. when I am trying to find the element by name tag I am unable do so because name attributes value changed each time.</p>\n<pre><code>`&lt;input type=&quot;text&quot; onblur=&quot;fieldTrack(this);&quot; name=&quot;name86b72791&quot; value=&quot;&quot; style=&quot;width:185px;&quot; maxlength=&quot;61&quot;&gt;`\n</code></pre>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1652123540,"post_id":72177080,"comment_id":127525469,"body_markdown":"Could you show us your code? At least the modifications?","body":"Could you show us your code? At least the modifications?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1652123668,"post_id":72177080,"comment_id":127525507,"body_markdown":"Second.java would need to be recompiled for you to use the new method in Main.","body":"Second.java would need to be recompiled for you to use the new method in Main."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652123742,"post_id":72177080,"comment_id":127525531,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652123562,"creation_date":1652123562,"answer_id":72177138,"question_id":72177080,"body_markdown":"`javac` automatically recompiles dependencies when it finds a corresponding `.java` file.\r\n\r\nYou will notice that if you delete both `.class` files and build only `Main.java` with `javac Main.java`, then `Second.class` will still be generated.\r\n\r\nIf you then delete or move `Second.java` but leave `Second.class` in place, and modify `Main.java` to call a new method, then `javac` will find the old class, be unable to recompile it, and give you the error about missing methods that you expected.","title":"java using multiple classes and compiling","body":"<p><code>javac</code> automatically recompiles dependencies when it finds a corresponding <code>.java</code> file.</p>\n<p>You will notice that if you delete both <code>.class</code> files and build only <code>Main.java</code> with <code>javac Main.java</code>, then <code>Second.class</code> will still be generated.</p>\n<p>If you then delete or move <code>Second.java</code> but leave <code>Second.class</code> in place, and modify <code>Main.java</code> to call a new method, then <code>javac</code> will find the old class, be unable to recompile it, and give you the error about missing methods that you expected.</p>\n"}],"owner":{"account_id":23545261,"reputation":11,"user_id":17588826,"display_name":"Lycan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652123562,"creation_date":1652123258,"question_id":72177080,"body_markdown":"I&#39;m just new to java .I made two java files. One is Main.java which contains the main method and the other one is Second.java which contains some fields and methods. After that I created the object of &quot;Second&quot; in the Main.java and call the fields and methods from Second. And then I compiled both of the file and it output the result of the fields and methods from Second. Then I put one more method in the Second.java file and call that method in the Main.java. At that time, I only have to recompile the Main.java file and that method was called. I don&#39;t have to recompile the Second.java file. How&#39;s that work? Doesn&#39;t the Second.java file has to be recompiled after some modification? \r\n\r\n\r\n( I used the notepad for better understanding of java compiling process)","title":"java using multiple classes and compiling","body":"<p>I'm just new to java .I made two java files. One is Main.java which contains the main method and the other one is Second.java which contains some fields and methods. After that I created the object of &quot;Second&quot; in the Main.java and call the fields and methods from Second. And then I compiled both of the file and it output the result of the fields and methods from Second. Then I put one more method in the Second.java file and call that method in the Main.java. At that time, I only have to recompile the Main.java file and that method was called. I don't have to recompile the Second.java file. How's that work? Doesn't the Second.java file has to be recompiled after some modification?</p>\n<p>( I used the notepad for better understanding of java compiling process)</p>\n"},{"tags":["java","android","search","menu","android-appcompat"],"answers":[{"tags":[],"owner":{"account_id":3930856,"reputation":43670,"user_id":3249477,"accept_rate":86,"display_name":"Simas"},"down_vote_count":1,"up_vote_count":236,"is_accepted":true,"score":235,"last_activity_date":1416516838,"creation_date":1416516838,"answer_id":27049368,"question_id":27049294,"body_markdown":"Try using the custom `app` namespace for your `actionViewClass` too:\r\n\r\n    app:actionViewClass=&quot;android.support.v7.widget.SearchView&quot;/&gt;\r\n","title":"Searchview doesn&#39;t work since app compat","body":"<p>Try using the custom <code>app</code> namespace for your <code>actionViewClass</code> too:</p>\n\n<pre><code>app:actionViewClass=\"android.support.v7.widget.SearchView\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967968,"reputation":1576,"user_id":1767692,"display_name":"Parag Sarda"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1423378499,"creation_date":1423378499,"answer_id":28391416,"question_id":27049294,"body_markdown":"This could also happen if you have proguard enabled and it is striping aways `SearchView` class. You would need to modify proguard settings to keep the class.\r\n\r\nSee [this][1] question for more details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22136032/action-bar-search-view-android-null-error","title":"Searchview doesn&#39;t work since app compat","body":"<p>This could also happen if you have proguard enabled and it is striping aways <code>SearchView</code> class. You would need to modify proguard settings to keep the class.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/22136032/action-bar-search-view-android-null-error\">this</a> question for more details.</p>\n"},{"tags":[],"owner":{"account_id":2983940,"reputation":12531,"user_id":2533290,"accept_rate":53,"display_name":"Martin Pfeffer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1425387699,"creation_date":1425387699,"answer_id":28832505,"question_id":27049294,"body_markdown":"after a while of playing &quot;run &amp; error&quot; I found a solution.. Looks like the UI-element isn&#39;t the reason what causes the error. After setting the search to the QueryListener it is working well. Here is some code:\r\n\r\n**Activity** which contains the SearchBar:\r\n\r\n    @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n    \r\n            SearchView searchView = (SearchView) menu.findItem(R.id.search).getActionView();\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n    \r\n                @Override\r\n                public boolean onQueryTextSubmit(String s) {\r\n                    Log.d(TAG, &quot;onQueryTextSubmit &quot;);\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onQueryTextChange(String s) {\r\n                    Log.d(TAG, &quot;onQueryTextChange &quot;);\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n            return true;\r\n        }\r\n\r\n\r\n**searchable.xml**\r\n\r\n    &lt;searchable xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                                          android:label=&quot;@string/app_name&quot;\r\n                                          android:hint=&quot;@string/search_hint&quot;/&gt;\r\n\r\nAnd the &quot;SearchBar&quot; in **menu.xml**\r\n\r\n         &lt;item\r\n                android:id=&quot;@+id/search&quot;\r\n                android:title=&quot;@string/search_title&quot;\r\n                android:icon=&quot;@drawable/abc_ic_search_api_mtrl_alpha&quot;\r\n                app:showAsAction=&quot;collapseActionView|ifRoom&quot;\r\n                app:actionViewClass=&quot;android.support.v7.widget.SearchView&quot;/&gt;\r\n\r\n    ...\r\n\r\nAnd last, but not least, the **manifest** (but this should be clear)... \r\n  \r\n\r\n      &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:label=&quot;@string/title_activity_main&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.searchable&quot;\r\n                android:resource=&quot;@xml/searchable&quot;/&gt;\r\n        &lt;/activity&gt;\r\n\r\nmore information -&gt; [Docs][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/search/setup.html","title":"Searchview doesn&#39;t work since app compat","body":"<p>after a while of playing \"run &amp; error\" I found a solution.. Looks like the UI-element isn't the reason what causes the error. After setting the search to the QueryListener it is working well. Here is some code:</p>\n\n<p><strong>Activity</strong> which contains the SearchBar:</p>\n\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n\n        SearchView searchView = (SearchView) menu.findItem(R.id.search).getActionView();\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n\n            @Override\n            public boolean onQueryTextSubmit(String s) {\n                Log.d(TAG, \"onQueryTextSubmit \");\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String s) {\n                Log.d(TAG, \"onQueryTextChange \");\n                return false;\n            }\n        });\n\n        return true;\n    }\n</code></pre>\n\n<p><strong>searchable.xml</strong></p>\n\n<pre><code>&lt;searchable xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                      android:label=\"@string/app_name\"\n                                      android:hint=\"@string/search_hint\"/&gt;\n</code></pre>\n\n<p>And the \"SearchBar\" in <strong>menu.xml</strong></p>\n\n<pre><code>     &lt;item\n            android:id=\"@+id/search\"\n            android:title=\"@string/search_title\"\n            android:icon=\"@drawable/abc_ic_search_api_mtrl_alpha\"\n            app:showAsAction=\"collapseActionView|ifRoom\"\n            app:actionViewClass=\"android.support.v7.widget.SearchView\"/&gt;\n\n...\n</code></pre>\n\n<p>And last, but not least, the <strong>manifest</strong> (but this should be clear)... </p>\n\n<pre><code>  &lt;activity\n        android:name=\".activities.MainActivity\"\n        android:label=\"@string/title_activity_main\"&gt;\n        &lt;meta-data\n            android:name=\"android.app.searchable\"\n            android:resource=\"@xml/searchable\"/&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>more information -> <a href=\"https://developer.android.com/training/search/setup.html\" rel=\"noreferrer\">Docs</a></p>\n"},{"tags":[],"owner":{"account_id":6379841,"reputation":121,"user_id":4949671,"display_name":"Florian Schneider"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1447387153,"creation_date":1447387153,"answer_id":33685715,"question_id":27049294,"body_markdown":"It&#180;s an additional information to Simas answer. I found this in another answer (https://stackoverflow.com/a/33400808/4949671) and it was very important for solving my exception:\r\n\r\n&gt; Notice that, it is, `app:actionViewClass` **NOT**\r\n&gt; `android:actionViewClass`","title":"Searchview doesn&#39;t work since app compat","body":"<p>It´s an additional information to Simas answer. I found this in another answer (<a href=\"https://stackoverflow.com/a/33400808/4949671\">https://stackoverflow.com/a/33400808/4949671</a>) and it was very important for solving my exception:</p>\n\n<blockquote>\n  <p>Notice that, it is, <code>app:actionViewClass</code> <strong>NOT</strong>\n  <code>android:actionViewClass</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1485545514,"creation_date":1485545514,"answer_id":41901653,"question_id":27049294,"body_markdown":"Add the following line to ***proguard-rules.pro*** file located inside ***app*** folder:\r\n\r\n&gt; -keep class android.support.v7.widget.SearchView { *; }\r\n\r\n","title":"Searchview doesn&#39;t work since app compat","body":"<p>Add the following line to <strong><em>proguard-rules.pro</em></strong> file located inside <strong><em>app</em></strong> folder:</p>\n\n<blockquote>\n  <p>-keep class android.support.v7.widget.SearchView { *; }</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2696450,"reputation":524,"user_id":2328378,"accept_rate":67,"display_name":"Kasun Wanniarachchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490091098,"creation_date":1490091098,"answer_id":42924031,"question_id":27049294,"body_markdown":"After you&#39;ve clicked on a result, your app is expecting that an operation has not completed and is trying to go further into an Intent argument.\r\n\r\n`SearchView.OnSuggestionListener` and return `true` which notifies your app that the click operation has completed.\r\n\r\n            searchView.setOnSuggestionListener(new SearchView.OnSuggestionListener() {\r\n\r\n                @Override\r\n                public boolean onSuggestionClick(int position) {\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public boolean onSuggestionSelect(int position) {\r\n                    return false;\r\n                }\r\n            });","title":"Searchview doesn&#39;t work since app compat","body":"<p>After you've clicked on a result, your app is expecting that an operation has not completed and is trying to go further into an Intent argument.</p>\n\n<p><code>SearchView.OnSuggestionListener</code> and return <code>true</code> which notifies your app that the click operation has completed.</p>\n\n<pre><code>        searchView.setOnSuggestionListener(new SearchView.OnSuggestionListener() {\n\n            @Override\n            public boolean onSuggestionClick(int position) {\n                return true;\n            }\n\n            @Override\n            public boolean onSuggestionSelect(int position) {\n                return false;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5521804,"reputation":4899,"user_id":4384513,"display_name":"Masum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517426745,"creation_date":1516307345,"answer_id":48329785,"question_id":27049294,"body_markdown":"If you use **progurd** then you have to add the following line into  **proguard-rules.pro** file\r\n\r\n&gt; -keep public class android.support.v7.widget.** { *; }\r\n\r\nor\r\n\r\n&gt; -keep class android.support.v7.widget.SearchView { *; }","title":"Searchview doesn&#39;t work since app compat","body":"<p>If you use <strong>progurd</strong> then you have to add the following line into  <strong>proguard-rules.pro</strong> file</p>\n\n<blockquote>\n  <p>-keep public class android.support.v7.widget.** { *; }</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>-keep class android.support.v7.widget.SearchView { *; }</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6094408,"reputation":676,"user_id":4755700,"accept_rate":100,"display_name":"Atiar Talukdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540077428,"creation_date":1540077428,"answer_id":52910862,"question_id":27049294,"body_markdown":"If if you minify in your build types like that then you need to add a single line your &#39;proguard-rules.pro&#39; file. \r\n\r\n    buildTypes {\r\n        release {\r\n            debuggable false\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            debuggable true\r\n            minifyEnabled false\r\n            shrinkResources false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n\r\nAdd line your &#39;proguard-rules.pro&#39; file. \r\n\r\n\r\n&gt;     -keep class android.support.v7.widget.SearchView { *; }\r\n\r\n","title":"Searchview doesn&#39;t work since app compat","body":"<p>If if you minify in your build types like that then you need to add a single line your 'proguard-rules.pro' file. </p>\n\n<pre><code>buildTypes {\n    release {\n        debuggable false\n        minifyEnabled true\n        shrinkResources true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n    debug {\n        debuggable true\n        minifyEnabled false\n        shrinkResources false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>Add line your 'proguard-rules.pro' file. </p>\n\n<blockquote>\n<pre><code>-keep class android.support.v7.widget.SearchView { *; }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12553396,"reputation":11,"user_id":9134092,"display_name":"jeevraj jangid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548915659,"creation_date":1548915659,"answer_id":54454505,"question_id":27049294,"body_markdown":"Issue occurs if Proguard is enabled.\r\ncan be fixed by adding this to proguard rules\r\n\r\n-keep class android.support.v7.widget.SearchView { *; }","title":"Searchview doesn&#39;t work since app compat","body":"<p>Issue occurs if Proguard is enabled.\ncan be fixed by adding this to proguard rules</p>\n\n<p>-keep class android.support.v7.widget.SearchView { *; }</p>\n"},{"tags":[],"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571648507,"creation_date":1571648507,"answer_id":58482983,"question_id":27049294,"body_markdown":"I had pretty similar issue with `androidx.appcompat.widget.SearchView`, but different cause. The crash occurs on an action button click\r\n\r\n     Process: hotspotshield.android.vpn, PID: 26089\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.drawable.Drawable.getPadding(android.graphics.Rect)&#39; on a null object reference\r\n        at androidx.appcompat.widget.SearchView.adjustDropDownSizeAndPosition(SearchView.java:1373)\r\n        at androidx.appcompat.widget.SearchView$4.onLayoutChange(SearchView.java:380)\r\n        at android.view.View.layout(View.java:20690)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\r\n\r\nThe cause is missing attribute `android:popupBackground` in the theme. Actually material AppCompat themes has the required background, but despite my theme extends from `Theme.AppCompat.Light`, it still crashes.\r\nThe only solution i have found is to override the attribute:\r\n    \r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n        &lt;item name=&quot;android:popupBackground&quot; tools:ignore=&quot;PrivateResource&quot;&gt;@drawable/abc_popup_background_mtrl_mult&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nIt is the default drawable which is used in AppCompat. It is marked as private, but you may use it though. Or declare background drawable by yourself","title":"Searchview doesn&#39;t work since app compat","body":"<p>I had pretty similar issue with <code>androidx.appcompat.widget.SearchView</code>, but different cause. The crash occurs on an action button click</p>\n\n<pre><code> Process: hotspotshield.android.vpn, PID: 26089\njava.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.drawable.Drawable.getPadding(android.graphics.Rect)' on a null object reference\n    at androidx.appcompat.widget.SearchView.adjustDropDownSizeAndPosition(SearchView.java:1373)\n    at androidx.appcompat.widget.SearchView$4.onLayoutChange(SearchView.java:380)\n    at android.view.View.layout(View.java:20690)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\n</code></pre>\n\n<p>The cause is missing attribute <code>android:popupBackground</code> in the theme. Actually material AppCompat themes has the required background, but despite my theme extends from <code>Theme.AppCompat.Light</code>, it still crashes.\nThe only solution i have found is to override the attribute:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light\"&gt;\n    &lt;item name=\"android:popupBackground\" tools:ignore=\"PrivateResource\"&gt;@drawable/abc_popup_background_mtrl_mult&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>It is the default drawable which is used in AppCompat. It is marked as private, but you may use it though. Or declare background drawable by yourself</p>\n"},{"tags":[],"owner":{"account_id":6281022,"reputation":187,"user_id":4882029,"display_name":"hamil.Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652123519,"creation_date":1652123519,"answer_id":72177134,"question_id":27049294,"body_markdown":"in my case, this issue occur after migrate my project to AndroidX. \r\n so replace `this: android.support.v7.widget.SearchView`\r\nby this: `androidx.appcompat.widget.SearchView`","title":"Searchview doesn&#39;t work since app compat","body":"<p>in my case, this issue occur after migrate my project to AndroidX.\nso replace <code>this: android.support.v7.widget.SearchView</code>\nby this: <code>androidx.appcompat.widget.SearchView</code></p>\n"}],"owner":{"account_id":2047810,"reputation":2144,"user_id":1827512,"accept_rate":83,"display_name":"Laurenswuyts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31393,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":27049368,"answer_count":11,"score":64,"last_activity_date":1652123519,"creation_date":1416516586,"question_id":27049294,"body_markdown":"Since I implented app compat my searchview doesn&#39;t work anymore:\r\n\r\n     Process: com.laurenswuyts.witpa, PID: 26666\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.support.v7.widget.SearchView.setSearchableInfo(android.app.SearchableInfo)&#39; on a null object reference\r\n                at com.laurenswuyts.witpa.Activities.Events.EventActivity.onCreateOptionsMenu(EventActivity.java:75)\r\n                at android.app.Activity.onCreatePanelMenu(Activity.java:2820)\r\n                at android.support.v4.app.FragmentActivity.onCreatePanelMenu(FragmentActivity.java:275)\r\n                at android.support.v7.app.ActionBarActivity.superOnCreatePanelMenu(ActionBarActivity.java:276)\r\n                at android.support.v7.app.ActionBarActivityDelegate$1.onCreatePanelMenu(ActionBarActivityDelegate.java:79)\r\n                at android.support.v7.widget.WindowCallbackWrapper.onCreatePanelMenu(WindowCallbackWrapper.java:49)\r\n                at android.support.v7.internal.app.ToolbarActionBar.populateOptionsMenu(ToolbarActionBar.java:459)\r\n                at android.support.v7.internal.app.ToolbarActionBar$1.run(ToolbarActionBar.java:69)\r\n                at android.os.Handler.handleCallback(Handler.java:739)\r\n                at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                at android.os.Looper.loop(Looper.java:135)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n                at java.lang.reflect.Method.invoke(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:372)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n\r\nSo nullpointer for searchview while I have it:\r\n    \r\n    @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater inflater = getMenuInflater();\r\n            inflater.inflate(R.menu.event_main, menu);\r\n    \r\n            // Get the SearchView and set the searchable configuration\r\n            // Associate searchable configuration with the SearchView\r\n            SearchManager searchManager =\r\n                    (SearchManager) getSystemService(Context.SEARCH_SERVICE);\r\n            SearchView searchView =\r\n                    (SearchView) menu.findItem(R.id.action_search).getActionView();\r\n            searchView.setSearchableInfo(\r\n                    searchManager.getSearchableInfo(getComponentName()));\r\n    \r\n    \r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n\r\nAnd in my menu I have this:\r\n\r\n    &lt;!-- Search Widget --&gt;\r\n      &lt;item android:id=&quot;@+id/action_search&quot;\r\n          android:title=&quot;@string/action_search&quot;\r\n          android:icon=&quot;@drawable/ic_action_search&quot;\r\n          app:showAsAction=&quot;always&quot;\r\n          android:actionViewClass=&quot;android.support.v7.widget.SearchView&quot;/&gt;\r\n\r\nI have no idea why it doesn&#39;t work anymore but it happened since I started using app compat 21.\r\n\r\nRegards,","title":"Searchview doesn&#39;t work since app compat","body":"<p>Since I implented app compat my searchview doesn't work anymore:</p>\n\n<pre><code> Process: com.laurenswuyts.witpa, PID: 26666\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v7.widget.SearchView.setSearchableInfo(android.app.SearchableInfo)' on a null object reference\n            at com.laurenswuyts.witpa.Activities.Events.EventActivity.onCreateOptionsMenu(EventActivity.java:75)\n            at android.app.Activity.onCreatePanelMenu(Activity.java:2820)\n            at android.support.v4.app.FragmentActivity.onCreatePanelMenu(FragmentActivity.java:275)\n            at android.support.v7.app.ActionBarActivity.superOnCreatePanelMenu(ActionBarActivity.java:276)\n            at android.support.v7.app.ActionBarActivityDelegate$1.onCreatePanelMenu(ActionBarActivityDelegate.java:79)\n            at android.support.v7.widget.WindowCallbackWrapper.onCreatePanelMenu(WindowCallbackWrapper.java:49)\n            at android.support.v7.internal.app.ToolbarActionBar.populateOptionsMenu(ToolbarActionBar.java:459)\n            at android.support.v7.internal.app.ToolbarActionBar$1.run(ToolbarActionBar.java:69)\n            at android.os.Handler.handleCallback(Handler.java:739)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:135)\n            at android.app.ActivityThread.main(ActivityThread.java:5221)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n</code></pre>\n\n<p>So nullpointer for searchview while I have it:</p>\n\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.event_main, menu);\n\n        // Get the SearchView and set the searchable configuration\n        // Associate searchable configuration with the SearchView\n        SearchManager searchManager =\n                (SearchManager) getSystemService(Context.SEARCH_SERVICE);\n        SearchView searchView =\n                (SearchView) menu.findItem(R.id.action_search).getActionView();\n        searchView.setSearchableInfo(\n                searchManager.getSearchableInfo(getComponentName()));\n\n\n        return super.onCreateOptionsMenu(menu);\n    }\n</code></pre>\n\n<p>And in my menu I have this:</p>\n\n<pre><code>&lt;!-- Search Widget --&gt;\n  &lt;item android:id=\"@+id/action_search\"\n      android:title=\"@string/action_search\"\n      android:icon=\"@drawable/ic_action_search\"\n      app:showAsAction=\"always\"\n      android:actionViewClass=\"android.support.v7.widget.SearchView\"/&gt;\n</code></pre>\n\n<p>I have no idea why it doesn't work anymore but it happened since I started using app compat 21.</p>\n\n<p>Regards,</p>\n"},{"tags":["java","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652123731,"post_id":72177127,"comment_id":127525525,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652162214,"post_id":72177127,"comment_id":127532581,"body_markdown":"&quot;but it is not working&quot;  doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?","body":"&quot;but it is not working&quot;  doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?"},{"owner":{"display_name":"user15994341"},"score":0,"creation_date":1652270868,"post_id":72177127,"comment_id":127565072,"body_markdown":"@AlexMamo My bad, actually it is not creating any node of text taken from input user, but somehow I managed to solve this problem, Thanks","body":"@AlexMamo My bad, actually it is not creating any node of text taken from input user, but somehow I managed to solve this problem, Thanks"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652271009,"post_id":72177127,"comment_id":127565120,"body_markdown":"What is the code that writes data to the database? Please add it to your question.","body":"What is the code that writes data to the database? Please add it to your question."}],"owner":{"display_name":"user15994341"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652123495,"creation_date":1652123495,"question_id":72177127,"body_markdown":"Heyy Community...!\r\n\r\n I want to create a node in firebase database each time with different node for different details  with different name from edittext in Android, means I want to put my database node name from edittext, but I&#39;m unable to do this I have tried various methods but it is not working.\r\nI want to show it like this.... this is my json file structure in firebase database, \r\n\r\n```\r\n  &quot;Student name&quot;: {\r\n    &quot;Raj&quot;: {                &lt;--- This node name I want ot create by getting text from edittext\r\n      &quot;name&quot;: &quot;Raj&quot;,\r\n      &quot;Age&quot;: &quot;12&quot;\r\n    },\r\n    &quot;Remo&quot;: {\r\n      &quot;name&quot;: &quot;Remo&quot;,\r\n      &quot;Age&quot;: &quot;21&quot;\r\n    }\r\n```\r\n\r\nI tried ```String childname = editText11.getText().toString();```\r\nand pass childname to database reference child but it is not working...\r\nPlease help me with this as soon as possible.\r\nAs I&#39;m new here so if I type anything wrong here then let me know.\r\n\r\nThank you in Advance.\r\n","title":"Can we set Firebase database node name from edittext?","body":"<p>Heyy Community...!</p>\n<p>I want to create a node in firebase database each time with different node for different details  with different name from edittext in Android, means I want to put my database node name from edittext, but I'm unable to do this I have tried various methods but it is not working.\nI want to show it like this.... this is my json file structure in firebase database,</p>\n<pre><code>  &quot;Student name&quot;: {\n    &quot;Raj&quot;: {                &lt;--- This node name I want ot create by getting text from edittext\n      &quot;name&quot;: &quot;Raj&quot;,\n      &quot;Age&quot;: &quot;12&quot;\n    },\n    &quot;Remo&quot;: {\n      &quot;name&quot;: &quot;Remo&quot;,\n      &quot;Age&quot;: &quot;21&quot;\n    }\n</code></pre>\n<p>I tried <code>String childname = editText11.getText().toString();</code>\nand pass childname to database reference child but it is not working...\nPlease help me with this as soon as possible.\nAs I'm new here so if I type anything wrong here then let me know.</p>\n<p>Thank you in Advance.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652123271,"creation_date":1652123271,"answer_id":72177083,"question_id":72176939,"body_markdown":"You can use a [User-Agent request header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent) to identify the application doing the request. There are good tutorials to check how to access the headers in Spring, like this [Baeldung one](https://www.baeldung.com/spring-rest-http-headers).","title":"How to have different JSON responses registered for a GET call","body":"<p>You can use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\" rel=\"nofollow noreferrer\">User-Agent request header</a> to identify the application doing the request. There are good tutorials to check how to access the headers in Spring, like this <a href=\"https://www.baeldung.com/spring-rest-http-headers\" rel=\"nofollow noreferrer\">Baeldung one</a>.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1652123271,"creation_date":1652122561,"question_id":72176939,"body_markdown":"    GET http://localhost/foo/api/v1/bars/:id\r\n\r\nHow to have different JSON responses registered for a GET call. We would like the GET call to return a separate response based on whether a CLI is invoking or the user interface is calling the API by passing a query parameter. But how do we register different serializers dynamically on the response.\r\n","title":"How to have different JSON responses registered for a GET call","body":"<pre><code>GET http://localhost/foo/api/v1/bars/:id\n</code></pre>\n<p>How to have different JSON responses registered for a GET call. We would like the GET call to return a separate response based on whether a CLI is invoking or the user interface is calling the API by passing a query parameter. But how do we register different serializers dynamically on the response.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1652122832,"creation_date":1652122707,"answer_id":72176976,"question_id":72176884,"body_markdown":"`@RestController` is itself annotated with two Spring annotations: `@Controller` and `@ResponseBody`.\r\n\r\nThat means that the only difference between `@RestController` and `@Controller` is in the handling of return values.\r\n\r\nWith `@RestController`, the return value is used as the response body. That&#39;s exactly what you want when writing REST services. \r\n\r\nWith `@Controller` you don&#39;t get this so you get the default handling. That means that a string return value is seen as the view to render, not a string to return as-is.","title":"Springboot @Controller and @RestController Annotations when to use and what is the underlying concept?","body":"<p><code>@RestController</code> is itself annotated with two Spring annotations: <code>@Controller</code> and <code>@ResponseBody</code>.</p>\n<p>That means that the only difference between <code>@RestController</code> and <code>@Controller</code> is in the handling of return values.</p>\n<p>With <code>@RestController</code>, the return value is used as the response body. That's exactly what you want when writing REST services.</p>\n<p>With <code>@Controller</code> you don't get this so you get the default handling. That means that a string return value is seen as the view to render, not a string to return as-is.</p>\n"}],"owner":{"account_id":19078357,"reputation":35,"user_id":13931150,"display_name":"Aditya Sadaphule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72176976,"answer_count":1,"score":2,"last_activity_date":1652122832,"creation_date":1652122207,"question_id":72176884,"body_markdown":"It is more of an observation than a question because I spent more than 2-3 hrs just figuring out which annotation should be used according to our needs.\r\n\r\nAccording to me, **@Controller** is used when we are making a proper MVC application that will do internal routing for the app and give a response along with a View(HTML PAGE) instead of exposing raw details.**@RestController** is used when we are making a RestFul App whose purpose is only to get the data fetched from the DB and perform a query. The Data which we get while using the @RestController is in JSON format.\r\n\r\nI want to know why spring behaves in this particular manner and is there some internal working that a SpringBoot learner should know for making restful APIs.","title":"Springboot @Controller and @RestController Annotations when to use and what is the underlying concept?","body":"<p>It is more of an observation than a question because I spent more than 2-3 hrs just figuring out which annotation should be used according to our needs.</p>\n<p>According to me, <strong>@Controller</strong> is used when we are making a proper MVC application that will do internal routing for the app and give a response along with a View(HTML PAGE) instead of exposing raw details.<strong>@RestController</strong> is used when we are making a RestFul App whose purpose is only to get the data fetched from the DB and perform a query. The Data which we get while using the @RestController is in JSON format.</p>\n<p>I want to know why spring behaves in this particular manner and is there some internal working that a SpringBoot learner should know for making restful APIs.</p>\n"},{"tags":["java","build","gradle","local","sonarqube"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1414912525,"post_id":26690817,"comment_id":41988411,"body_markdown":"which sonar version are you using?","body":"which sonar version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1414858415,"creation_date":1414858415,"answer_id":26691194,"question_id":26690817,"body_markdown":"Sonar always analyzes code that is stored locally, but it writes analysis results to the configured JDBC database, and bootstraps itself from the configured Sonar server. I&#39;m not aware of a way to do without this (it&#39;s kind of the point of Sonar).","title":"Sonar with Gradle Locally","body":"<p>Sonar always analyzes code that is stored locally, but it writes analysis results to the configured JDBC database, and bootstraps itself from the configured Sonar server. I'm not aware of a way to do without this (it's kind of the point of Sonar).</p>\n"},{"tags":[],"owner":{"account_id":12442584,"reputation":156,"user_id":9060023,"display_name":"Vyacheslav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512679393,"creation_date":1512679393,"answer_id":47703435,"question_id":26690817,"body_markdown":"We have Sonar server and we use SonarLint plugin configured in our IDE (IntelliJ IDEA). This plugin pointed to our Sonar server and in IDE appears warnings for code which have been checked on the fly according rules from our Sonar server.","title":"Sonar with Gradle Locally","body":"<p>We have Sonar server and we use SonarLint plugin configured in our IDE (IntelliJ IDEA). This plugin pointed to our Sonar server and in IDE appears warnings for code which have been checked on the fly according rules from our Sonar server.</p>\n"},{"tags":[],"owner":{"account_id":13208523,"reputation":47,"user_id":9539502,"display_name":"sajeeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652122695,"creation_date":1652122695,"answer_id":72176972,"question_id":26690817,"body_markdown":"In windows try this it will work.\r\n\r\n    ./gradlew sonarqube -D &quot;sonar.projectKey=&lt;code&gt;&quot; -D &quot;sonar.host.url=http://localhost:9000&quot; -D &quot;sonar.login=&lt;code&gt;&quot;","title":"Sonar with Gradle Locally","body":"<p>In windows try this it will work.</p>\n<pre><code>./gradlew sonarqube -D &quot;sonar.projectKey=&lt;code&gt;&quot; -D &quot;sonar.host.url=http://localhost:9000&quot; -D &quot;sonar.login=&lt;code&gt;&quot;\n</code></pre>\n"}],"owner":{"account_id":3328732,"reputation":469,"user_id":2798117,"accept_rate":100,"display_name":"Thor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26691194,"answer_count":3,"score":1,"last_activity_date":1652122695,"creation_date":1414856002,"question_id":26690817,"body_markdown":"We are trying to use Sonar for Code Analyzes locally\r\n\r\nour plan is to host the project on travis in the future and make Sonar run there with gradle\r\n\r\nour problem is that Sonar is always trying to connect to a server\r\n\r\nwhat we have now in our build file is: \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    apply plugin: &#39;sonar&#39;\r\n    /* other tasks*/\r\n    sonar {\r\n\r\n      project {\r\n      name = &quot;Late-Term-Assignment&quot;\r\n      language = &quot;java&quot;\r\n      version = &quot;1.0&quot; // whatever version you want here.\r\n      withProjectProperties { props -&gt;\r\n         props[&quot;sonar.jacoco.reportPath&quot;] = &quot;${buildDir}/reports/jacoco/jacoco.exec&quot;}\r\n      }\r\n    }\r\n\r\nthe error that we get is:\r\n\r\n    * What went wrong:\r\n    Executin failed for task &#39;:sonarAnalyze&#39;.\r\n    &gt; java.net.ConnectionException: Connection refused: connect\r\n\r\nIs there any way to get Sonar to run on code that is stored locally?\r\n\r\nbest wishes and thank you in advance!","title":"Sonar with Gradle Locally","body":"<p>We are trying to use Sonar for Code Analyzes locally</p>\n\n<p>our plan is to host the project on travis in the future and make Sonar run there with gradle</p>\n\n<p>our problem is that Sonar is always trying to connect to a server</p>\n\n<p>what we have now in our build file is: </p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\napply plugin: 'jacoco'\napply plugin: 'sonar'\n/* other tasks*/\nsonar {\n\n  project {\n  name = \"Late-Term-Assignment\"\n  language = \"java\"\n  version = \"1.0\" // whatever version you want here.\n  withProjectProperties { props -&gt;\n     props[\"sonar.jacoco.reportPath\"] = \"${buildDir}/reports/jacoco/jacoco.exec\"}\n  }\n}\n</code></pre>\n\n<p>the error that we get is:</p>\n\n<pre><code>* What went wrong:\nExecutin failed for task ':sonarAnalyze'.\n&gt; java.net.ConnectionException: Connection refused: connect\n</code></pre>\n\n<p>Is there any way to get Sonar to run on code that is stored locally?</p>\n\n<p>best wishes and thank you in advance!</p>\n"},{"tags":["java","try-catch-finally","interrupted-exception"],"comments":[{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652120696,"post_id":72176117,"comment_id":127524555,"body_markdown":"Can you share about your f1,f2,f3 as well?","body":"Can you share about your f1,f2,f3 as well?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1652121819,"post_id":72176117,"comment_id":127524936,"body_markdown":"&quot;is a bug in my debugger tool normal&quot;? Well, no.","body":"&quot;is a bug in my debugger tool normal&quot;? Well, no."},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1652122249,"post_id":72176117,"comment_id":127525059,"body_markdown":"I was not completely familiar with the precedence of throw statements. In case you are novice too, here is a helpful link explaining such: https://stackoverflow.com/questions/3779285/exception-thrown-in-catch-and-finally-clause","body":"I was not completely familiar with the precedence of throw statements. In case you are novice too, here is a helpful link explaining such: <a href=\"https://stackoverflow.com/questions/3779285/exception-thrown-in-catch-and-finally-clause\" title=\"exception thrown in catch and finally clause\">stackoverflow.com/questions/3779285/&hellip;</a>"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1652122589,"post_id":72176117,"comment_id":127525169,"body_markdown":"And though it shouldn&#39;t be happening, there have been questions related to bugs with the debugger: https://stackoverflow.com/questions/47591915/why-is-code-behavior-different-in-release-debug-mode","body":"And though it shouldn&#39;t be happening, there have been questions related to bugs with the debugger: <a href=\"https://stackoverflow.com/questions/47591915/why-is-code-behavior-different-in-release-debug-mode\" title=\"why is code behavior different in release debug mode\">stackoverflow.com/questions/47591915/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652120633,"creation_date":1652120633,"answer_id":72176607,"question_id":72176117,"body_markdown":"If you throw an exception in a method by stating it **throws** the exception, then you do not handle it inside the method.\r\n\r\nActually the code you shared has lots of mistakes that I can&#39;t show my example, so I&#39;ll show my example.\r\n\r\nLets say you have a method called foo() that throws an exception\r\n\r\n    int foo(int a, int b) throws DivisionByZero{\r\n        if (b == 0){\r\n            DivisionByZero myException = new DivisionByZero();\r\n            throw myException;\r\n        }\r\n        else\r\n            return a/b;\r\n    }\r\n\r\nNow, if you want to use `foo()` method in a `foo2()` method, then you either declare the `foo2()` as **throws** Exception `DivisionByZero` or you should handle it inside the `foo2()` method. **DO NOT DO BOTH**\r\n\r\nLike this:\r\n\r\n    foo2(int a, int b) throws DivisionByZero{\r\n        int result = foo(a,b);\r\n        System.out.println(result);\r\n    }\r\n\r\nor this:\r\n\r\n    foo2(int a, int b){\r\n        int result;\r\n        try{\r\n            result = foo(a,b);\r\n            System.out.println(&quot;No Exception.&quot;);\r\n        }catch(DivisionByZero e){\r\n            System.out.println(&quot;Caught.&quot;);\r\n        }finally{\r\n            System.out.println(&quot;I&#39;m done.&quot;); //works once either completing try or catch.\r\n        }        \r\n        System.out.println(result);\r\n    }\r\n\r\noutput of this last foo2() code is either \r\n\r\nNo Exception.\r\n\r\nI&#39;m done.\r\n\r\n&lt;result&gt; \r\n\r\nor \r\n\r\nCaught.\r\n\r\nI&#39;m done.\r\n\r\n0 //because int type initialized to zero.","title":"Java: finally-block seems to be executed twice when InterruptedException is thrown in catch block","body":"<p>If you throw an exception in a method by stating it <strong>throws</strong> the exception, then you do not handle it inside the method.</p>\n<p>Actually the code you shared has lots of mistakes that I can't show my example, so I'll show my example.</p>\n<p>Lets say you have a method called foo() that throws an exception</p>\n<pre><code>int foo(int a, int b) throws DivisionByZero{\n    if (b == 0){\n        DivisionByZero myException = new DivisionByZero();\n        throw myException;\n    }\n    else\n        return a/b;\n}\n</code></pre>\n<p>Now, if you want to use <code>foo()</code> method in a <code>foo2()</code> method, then you either declare the <code>foo2()</code> as <strong>throws</strong> Exception <code>DivisionByZero</code> or you should handle it inside the <code>foo2()</code> method. <strong>DO NOT DO BOTH</strong></p>\n<p>Like this:</p>\n<pre><code>foo2(int a, int b) throws DivisionByZero{\n    int result = foo(a,b);\n    System.out.println(result);\n}\n</code></pre>\n<p>or this:</p>\n<pre><code>foo2(int a, int b){\n    int result;\n    try{\n        result = foo(a,b);\n        System.out.println(&quot;No Exception.&quot;);\n    }catch(DivisionByZero e){\n        System.out.println(&quot;Caught.&quot;);\n    }finally{\n        System.out.println(&quot;I'm done.&quot;); //works once either completing try or catch.\n    }        \n    System.out.println(result);\n}\n</code></pre>\n<p>output of this last foo2() code is either</p>\n<p>No Exception.</p>\n<p>I'm done.</p>\n \n<p>or</p>\n<p>Caught.</p>\n<p>I'm done.</p>\n<p>0 //because int type initialized to zero.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652122581,"creation_date":1652122581,"answer_id":72176947,"question_id":72176117,"body_markdown":"This is possibly related to the way try/finally is contemporarily turned into bytecode (as in, since.. JDK... 6? It&#39;s been a long long time, but in the distant past, opcodes JMP and RET were used for this; those opcodes are no longer emitted by `javac` and haven&#39;t been for a very very long time).\r\n\r\nThe finally block is just repeated. Loads of times, if needed. java translates it to, basically, &#39;catch anything, run the finally block, then rethrow whatever you caught&#39;, + &#39;... and duplicate this code at the end of the body of the try block&#39;, + &#39;... and duplicate this code at the end of each and every catch block&#39;.\r\n\r\nThus, in your example code, your `finally` block is actually present in your compiled bytecode __3 times__. Your code is syntax desugared first from:\r\n\r\n```java\r\n   try {\r\n        f1();\r\n    }\r\n    catch (InterruptedException e) {\r\n        f2();\r\n        throw e;\r\n    }\r\n    finally {\r\n        f3(); //breakpoint hit twice\r\n    }\r\n```\r\n\r\nto:\r\n\r\n```\r\n   try {\r\n        f1();\r\n        f3(); // CAVEAT 1\r\n    }\r\n    catch (InterruptedException e) {\r\n        try {\r\n          f2();\r\n          f3(); // CAVEAT 2\r\n        } catch (Throwable t) {\r\n          f3();\r\n          throw t;\r\n        }\r\n    }\r\n    catch (Throwable t) {\r\n        f3();\r\n        throw t;\r\n    }\r\n```\r\n\r\nCAVEAT1: Though, with additional bookkeeping that `f3()` isn&#39;t re-invoked in response to throwing an exception itself. In java code that&#39;s hard to easily write, in bytecode its trivial - try/catch blocks work by declaring &#39;this range of opcodes? Jump to this code if exceptions occur&#39;. The `f3()` duplication in the try block simply isn&#39;t part of the range.\r\n\r\nCAVEAT2: The bytecode generated is efficient enough to only have the finally body once per catch block.\r\n\r\nHence, you have many different bytecode in your class file that all has the same &#39;line number&#39;. Debugging fundamentally occurs in bytecode (e.g. when you set a breakpoint, you pick a line. However, some system needs to translate that line to an actual bytecode, and breakpoint that bytecode. In this case, that&#39;s tricky: The one line you breakpoint actually has 3 completely different bytecode items. Presumably, your debugger adds breakpoint hooks to __all of them__.\r\n\r\nJust guessing, but it&#39;s easy to say how this leads to accidental double firing. It shouldn&#39;t - your debugger is clearly itself buggy (heh), but if you want to figure out why its happening, or even help out and write a PR to fix the problem, this is where I&#39;d start.\r\n\r\nYou can check this &#39;whaaaa? Are `finally` blocks duplicated this much? Crazy!&#39; stuff by using `javap -c`, which shows you bytecode.\r\n\r\nFor example:\r\n\r\n```java\r\nclass Test { void foo() {\r\n\ttry {\r\n\t\tSystem.out.println(&quot;A&quot;);\r\n\t} catch (NullPointerException e) {\r\n\t\tSystem.out.println(&quot;B&quot;);\r\n\t} finally {\r\n\t\tSystem.out.println(&quot;C&quot;);\r\n\t}\r\n}}\r\n```\r\n\r\nThen `javac Test.java; javap -c Test` shows:\r\n\r\n```bytecode\r\nvoid foo();\r\n    Code:\r\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n       3: ldc           #13                 // String A\r\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       8: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      11: ldc           #21                 // String C\r\n      13: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      16: goto          50\r\n      19: astore_1\r\n      20: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      23: ldc           #25                 // String B\r\n      25: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      28: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      31: ldc           #21                 // String C\r\n      33: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      36: goto          50\r\n      39: astore_2\r\n      40: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      43: ldc           #21                 // String C\r\n      45: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      48: aload_2\r\n      49: athrow\r\n      50: return\r\n    Exception table:\r\n       from    to  target type\r\n           0     8    19   Class java/lang/NullPointerException\r\n           0     8    39   any\r\n          19    28    39   any\r\n```\r\n\r\nbreaking that down: You can easily see how `C` is loaded three times, but `A` and `B` only once, which is bizarre given that C is only mentioned once in the source code - until you realize that `finally` blocks are duplicated all over the place.\r\n","title":"Java: finally-block seems to be executed twice when InterruptedException is thrown in catch block","body":"<p>This is possibly related to the way try/finally is contemporarily turned into bytecode (as in, since.. JDK... 6? It's been a long long time, but in the distant past, opcodes JMP and RET were used for this; those opcodes are no longer emitted by <code>javac</code> and haven't been for a very very long time).</p>\n<p>The finally block is just repeated. Loads of times, if needed. java translates it to, basically, 'catch anything, run the finally block, then rethrow whatever you caught', + '... and duplicate this code at the end of the body of the try block', + '... and duplicate this code at the end of each and every catch block'.</p>\n<p>Thus, in your example code, your <code>finally</code> block is actually present in your compiled bytecode <strong>3 times</strong>. Your code is syntax desugared first from:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   try {\n        f1();\n    }\n    catch (InterruptedException e) {\n        f2();\n        throw e;\n    }\n    finally {\n        f3(); //breakpoint hit twice\n    }\n</code></pre>\n<p>to:</p>\n<pre><code>   try {\n        f1();\n        f3(); // CAVEAT 1\n    }\n    catch (InterruptedException e) {\n        try {\n          f2();\n          f3(); // CAVEAT 2\n        } catch (Throwable t) {\n          f3();\n          throw t;\n        }\n    }\n    catch (Throwable t) {\n        f3();\n        throw t;\n    }\n</code></pre>\n<p>CAVEAT1: Though, with additional bookkeeping that <code>f3()</code> isn't re-invoked in response to throwing an exception itself. In java code that's hard to easily write, in bytecode its trivial - try/catch blocks work by declaring 'this range of opcodes? Jump to this code if exceptions occur'. The <code>f3()</code> duplication in the try block simply isn't part of the range.</p>\n<p>CAVEAT2: The bytecode generated is efficient enough to only have the finally body once per catch block.</p>\n<p>Hence, you have many different bytecode in your class file that all has the same 'line number'. Debugging fundamentally occurs in bytecode (e.g. when you set a breakpoint, you pick a line. However, some system needs to translate that line to an actual bytecode, and breakpoint that bytecode. In this case, that's tricky: The one line you breakpoint actually has 3 completely different bytecode items. Presumably, your debugger adds breakpoint hooks to <strong>all of them</strong>.</p>\n<p>Just guessing, but it's easy to say how this leads to accidental double firing. It shouldn't - your debugger is clearly itself buggy (heh), but if you want to figure out why its happening, or even help out and write a PR to fix the problem, this is where I'd start.</p>\n<p>You can check this 'whaaaa? Are <code>finally</code> blocks duplicated this much? Crazy!' stuff by using <code>javap -c</code>, which shows you bytecode.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test { void foo() {\n    try {\n        System.out.println(&quot;A&quot;);\n    } catch (NullPointerException e) {\n        System.out.println(&quot;B&quot;);\n    } finally {\n        System.out.println(&quot;C&quot;);\n    }\n}}\n</code></pre>\n<p>Then <code>javac Test.java; javap -c Test</code> shows:</p>\n<pre><code>void foo();\n    Code:\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       3: ldc           #13                 // String A\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n       8: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      11: ldc           #21                 // String C\n      13: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      16: goto          50\n      19: astore_1\n      20: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      23: ldc           #25                 // String B\n      25: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      28: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      31: ldc           #21                 // String C\n      33: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      36: goto          50\n      39: astore_2\n      40: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      43: ldc           #21                 // String C\n      45: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      48: aload_2\n      49: athrow\n      50: return\n    Exception table:\n       from    to  target type\n           0     8    19   Class java/lang/NullPointerException\n           0     8    39   any\n          19    28    39   any\n</code></pre>\n<p>breaking that down: You can easily see how <code>C</code> is loaded three times, but <code>A</code> and <code>B</code> only once, which is bizarre given that C is only mentioned once in the source code - until you realize that <code>finally</code> blocks are duplicated all over the place.</p>\n"}],"owner":{"account_id":2791770,"reputation":2067,"user_id":2401879,"accept_rate":12,"display_name":"A.G."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1652122581,"creation_date":1652117983,"question_id":72176117,"body_markdown":"In the following code:\r\n\r\n\tvoid foo() throws InterruptedException {\r\n\t\ttry {\r\n\t\t\tf1();\r\n\t\t}\r\n\t\tcatch (InterruptedException e) {\r\n\t\t\tf2();\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tf3(); //breakpoint hit twice\r\n\t\t}\r\n\t}\r\n\r\nWhen `InterruptedException` is thrown by `f1()`, the breakpoint in the `finally` block is hit twice, but `f3()` is entered only once while debugging. I&#39;m wondering if this is normal.","title":"Java: finally-block seems to be executed twice when InterruptedException is thrown in catch block","body":"<p>In the following code:</p>\n<pre><code>void foo() throws InterruptedException {\n    try {\n        f1();\n    }\n    catch (InterruptedException e) {\n        f2();\n        throw e;\n    }\n    finally {\n        f3(); //breakpoint hit twice\n    }\n}\n</code></pre>\n<p>When <code>InterruptedException</code> is thrown by <code>f1()</code>, the breakpoint in the <code>finally</code> block is hit twice, but <code>f3()</code> is entered only once while debugging. I'm wondering if this is normal.</p>\n"},{"tags":["java","spring","dependency-injection","record"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652122335,"creation_date":1652122335,"answer_id":72176908,"question_id":72176814,"body_markdown":"A record is final, so it probably can&#39;t be annotated with `@Component` or another similar annotation (although I haven&#39;t tried). It can be returned from a bean method that&#39;s annotated with `@Bean` though, and that makes it eligible for injection.\r\n\r\n```\r\npublic record Person (String name, int age) {}\r\n```\r\n```\r\n@Configuration\r\npublic class MyBean {\r\n\r\n    @Bean\r\n    public Person person() {\r\n        return new Person(&quot;John Doe&quot;, 30);\r\n    }\r\n}\r\n```","title":"Is it possible to inject a record with Spring?","body":"<p>A record is final, so it probably can't be annotated with <code>@Component</code> or another similar annotation (although I haven't tried). It can be returned from a bean method that's annotated with <code>@Bean</code> though, and that makes it eligible for injection.</p>\n<pre><code>public record Person (String name, int age) {}\n</code></pre>\n<pre><code>@Configuration\npublic class MyBean {\n\n    @Bean\n    public Person person() {\n        return new Person(&quot;John Doe&quot;, 30);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72176908,"answer_count":1,"score":1,"last_activity_date":1652122335,"creation_date":1652121761,"question_id":72176814,"body_markdown":"I have found [plenty](https://youribonnaffe.github.io/java/records/spring/2021/01/10/records-spring-boot.html) of [examples](https://dzone.com/articles/jdk-14-records-for-spring-devs#:~:text=dependency%20injection) of constructor injection into record types. However, I haven&#39;t seen anyone address injecting a record into another class. Is this possible? When I try it I see errors about the class being final. But I&#39;m struggling to make sense of this because I&#39;m not trying to extend it or use AOP, or anything else where I would expect the class to be extended.","title":"Is it possible to inject a record with Spring?","body":"<p>I have found <a href=\"https://youribonnaffe.github.io/java/records/spring/2021/01/10/records-spring-boot.html\" rel=\"nofollow noreferrer\">plenty</a> of <a href=\"https://dzone.com/articles/jdk-14-records-for-spring-devs#:%7E:text=dependency%20injection\" rel=\"nofollow noreferrer\">examples</a> of constructor injection into record types. However, I haven't seen anyone address injecting a record into another class. Is this possible? When I try it I see errors about the class being final. But I'm struggling to make sense of this because I'm not trying to extend it or use AOP, or anything else where I would expect the class to be extended.</p>\n"},{"tags":["java","rest","helidon"],"answers":[{"tags":[],"owner":{"account_id":4041570,"reputation":111,"user_id":3324264,"display_name":"peter.nagy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606405781,"creation_date":1606405781,"answer_id":65025281,"question_id":65016690,"body_markdown":"If you want to use and read params in the following way e.g.\r\n\r\n    http://localhost:8080/?q=test&amp;k=test2\r\n\r\nThen -in case of Helidon SE- do the following to get those parameters:\r\n\r\n    private void getParam(ServerRequest request, ServerResponse response) {\r\n\r\n        Map params = request.queryParams().toMap();\r\n        logger.info(&quot;params: &quot; + params);\r\n        logger.info(&quot;q: &quot; + params.get(&quot;q&quot;));\r\n        logger.info(&quot;k: &quot; + params.get(&quot;k&quot;));\r\n        \r\n        ...\r\n\r\n    }\r\nObviously the `getParam` method is configured for &quot;/&quot; path.","title":"How do we implement q Params in Helidon SE","body":"<p>If you want to use and read params in the following way e.g.</p>\n<pre><code>http://localhost:8080/?q=test&amp;k=test2\n</code></pre>\n<p>Then -in case of Helidon SE- do the following to get those parameters:</p>\n<pre><code>private void getParam(ServerRequest request, ServerResponse response) {\n\n    Map params = request.queryParams().toMap();\n    logger.info(&quot;params: &quot; + params);\n    logger.info(&quot;q: &quot; + params.get(&quot;q&quot;));\n    logger.info(&quot;k: &quot; + params.get(&quot;k&quot;));\n    \n    ...\n\n}\n</code></pre>\n<p>Obviously the <code>getParam</code> method is configured for &quot;/&quot; path.</p>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652122199,"creation_date":1652121506,"answer_id":72176772,"question_id":65016690,"body_markdown":"**How do I retrieve query parameters in a Helidon SE application:**\r\nHere is one  example,\r\n\r\n**HelloService.java**\r\n\r\n    public class HelloService implements Service {\r\n    \r\n    \tprivate static final JsonBuilderFactory JSON = Json.createBuilderFactory(Collections.emptyMap());\r\n    \r\n    \tHelloService(Config config) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void update(Rules rules) {\r\n    \t\trules.get(&quot;/&quot;, this::getDefaultMessageHandler);\r\n    \t}\r\n    \r\n    \tprivate void getDefaultMessageHandler(ServerRequest request, ServerResponse response) {\r\n    \t\tvar params = request.queryParams().toMap();\r\n    \t\tSystem.out.println(&quot;name: &quot; + params.get(&quot;name&quot;).get(0));\r\n    \t\tSystem.out.println(&quot;email: &quot; + params.get(&quot;email&quot;).get(0));\r\n    \r\n    \t\tsendResponse(response, params.get(&quot;name&quot;).get(0));\r\n    \t}\r\n    \r\n    \tprivate void sendResponse(ServerResponse response, String name) {\r\n    \r\n    \t\tvar returnObject = JSON.createObjectBuilder().add(&quot;name&quot;, name).build();\r\n    \t\tresponse.send(returnObject);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Main**\r\n\r\n    public class HelidonSeRestHelloWorldApplication {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tstartServer();\r\n    \t}\r\n    \r\n    \tprivate static Single&lt;WebServer&gt; startServer() {\r\n    \r\n    \t\tvar config = Config.create();\r\n    \t\tvar server = WebServer.builder(createRouting(config)).config(config.get(&quot;server&quot;))\r\n    \t\t\t\t.addMediaSupport(JsonpSupport.create()).build();\r\n    \t\tvar webserver = server.start();\r\n    \r\n    \t\twebserver.thenAccept(ws -&gt; {\r\n             System.out.println(&quot;Web server started! http://localhost:&quot; + ws.port() + &quot;/hello&quot;);\r\n\t\t\r\n    \t\t\tws.whenShutdown().thenRun(() -&gt; System.out.println(&quot;Web server is down!&quot;));\r\n    \t\t}).exceptionallyAccept(t -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Web startup failed: &quot; + t.getMessage());\r\n    \t\t});\r\n    \r\n    \t\treturn webserver;\r\n    \t}\r\n    \r\n    \tprivate static Routing createRouting(Config config) {\r\n    \r\n    \t\tvar helloService = new HelloService(config);\r\n    \r\n    \t\treturn Routing.builder()\r\n    \r\n    \t\t\t\t.register(&quot;/hello&quot;, helloService).build();\r\n    \t}\r\n    }\r\n\r\n**application.properties**\r\n\r\n    server.port=9080\r\n\r\nRun the application and hit [http://localhost:9080/hello?name=alpha&amp;email=alpha@alpha.alpha][1] \r\n\r\n**Console output:**\r\n\r\n    name: alpha\r\n    email: alpha@alpha.alpha\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n**++ How do I retrieve path parameters in a Helidon SE application:**\r\n   \r\n**Main**\r\n\r\n    public class HelidonSeRestHelloWorldApplication {\r\n    \r\n    \t...........................\r\n        ...........................\r\n    \r\n    \tprivate static Routing createRouting(Config config) {\r\n    \r\n    \t\tvar helloService = new HelloService(config);\r\n    \r\n    \t\treturn Routing.builder()\r\n    \r\n    \t\t\t\t.register(&quot;/hello/{name}&quot;, helloService).build();\r\n    \t}\r\n    }\r\n\r\n**HelloService.java**\r\n\r\n        public class HelloService implements Service {\r\n    \r\n        ............\r\n        ...........\r\n    \tprivate void getDefaultMessageHandler(ServerRequest request, ServerResponse response) {\r\n    \t\tvar name = request.path().absolute().param(&quot;name&quot;);\r\n    \t\tSystem.out.println(name);\r\n    \r\n    \t\tsendResponse(response, name);\r\n    \t}\r\n    \r\n    \t.................\r\n        .................\r\n    \r\n    }\r\n\r\n\r\nRun the application and hit: [http://localhost:9080/hello/alpha][2]\r\n\r\n\r\n  [1]: http://localhost:9080/hello?name=alpha&amp;email=alpha@alpha.alpha\r\n  [2]: http://localhost:9080/hello/alpha","title":"How do we implement q Params in Helidon SE","body":"<p><strong>How do I retrieve query parameters in a Helidon SE application:</strong>\nHere is one  example,</p>\n<p><strong>HelloService.java</strong></p>\n<pre><code>public class HelloService implements Service {\n\n    private static final JsonBuilderFactory JSON = Json.createBuilderFactory(Collections.emptyMap());\n\n    HelloService(Config config) {\n    }\n\n    @Override\n    public void update(Rules rules) {\n        rules.get(&quot;/&quot;, this::getDefaultMessageHandler);\n    }\n\n    private void getDefaultMessageHandler(ServerRequest request, ServerResponse response) {\n        var params = request.queryParams().toMap();\n        System.out.println(&quot;name: &quot; + params.get(&quot;name&quot;).get(0));\n        System.out.println(&quot;email: &quot; + params.get(&quot;email&quot;).get(0));\n\n        sendResponse(response, params.get(&quot;name&quot;).get(0));\n    }\n\n    private void sendResponse(ServerResponse response, String name) {\n\n        var returnObject = JSON.createObjectBuilder().add(&quot;name&quot;, name).build();\n        response.send(returnObject);\n    }\n\n}\n</code></pre>\n<p><strong>Main</strong></p>\n<pre><code>public class HelidonSeRestHelloWorldApplication {\n\n    public static void main(final String[] args) {\n        startServer();\n    }\n\n    private static Single&lt;WebServer&gt; startServer() {\n\n        var config = Config.create();\n        var server = WebServer.builder(createRouting(config)).config(config.get(&quot;server&quot;))\n                .addMediaSupport(JsonpSupport.create()).build();\n        var webserver = server.start();\n\n        webserver.thenAccept(ws -&gt; {\n         System.out.println(&quot;Web server started! http://localhost:&quot; + ws.port() + &quot;/hello&quot;);\n    \n            ws.whenShutdown().thenRun(() -&gt; System.out.println(&quot;Web server is down!&quot;));\n        }).exceptionallyAccept(t -&gt; {\n            System.out.println(&quot;Web startup failed: &quot; + t.getMessage());\n        });\n\n        return webserver;\n    }\n\n    private static Routing createRouting(Config config) {\n\n        var helloService = new HelloService(config);\n\n        return Routing.builder()\n\n                .register(&quot;/hello&quot;, helloService).build();\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=9080\n</code></pre>\n<p>Run the application and hit <a href=\"http://localhost:9080/hello?name=alpha&amp;email=alpha@alpha.alpha\" rel=\"nofollow noreferrer\">http://localhost:9080/hello?name=alpha&amp;email=alpha@alpha.alpha</a></p>\n<p><strong>Console output:</strong></p>\n<pre><code>name: alpha\nemail: alpha@alpha.alpha\n</code></pre>\n<hr />\n<hr />\n<p><strong>++ How do I retrieve path parameters in a Helidon SE application:</strong></p>\n<p><strong>Main</strong></p>\n<pre><code>public class HelidonSeRestHelloWorldApplication {\n\n    ...........................\n    ...........................\n\n    private static Routing createRouting(Config config) {\n\n        var helloService = new HelloService(config);\n\n        return Routing.builder()\n\n                .register(&quot;/hello/{name}&quot;, helloService).build();\n    }\n}\n</code></pre>\n<p><strong>HelloService.java</strong></p>\n<pre><code>    public class HelloService implements Service {\n\n    ............\n    ...........\n    private void getDefaultMessageHandler(ServerRequest request, ServerResponse response) {\n        var name = request.path().absolute().param(&quot;name&quot;);\n        System.out.println(name);\n\n        sendResponse(response, name);\n    }\n\n    .................\n    .................\n\n}\n</code></pre>\n<p>Run the application and hit: <a href=\"http://localhost:9080/hello/alpha\" rel=\"nofollow noreferrer\">http://localhost:9080/hello/alpha</a></p>\n"}],"owner":{"account_id":20049930,"reputation":43,"user_id":14698835,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652122199,"creation_date":1606369562,"question_id":65016690,"body_markdown":"I am new to Helidon SE and would like to know if there is a way to implement q params in REST service created via Helidon SE.\r\nAny help in this regard is truly appreciated. \r\n\r\nThanks,\r\nGaurav","title":"How do we implement q Params in Helidon SE","body":"<p>I am new to Helidon SE and would like to know if there is a way to implement q params in REST service created via Helidon SE.\nAny help in this regard is truly appreciated.</p>\n<p>Thanks,\nGaurav</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652121065,"post_id":72176620,"comment_id":127524657,"body_markdown":"*I also use VNC viewer to access my pi from the PC, and since that problem began, I have been unable to connect to the pi directly, but am able to view it through my account.* Clarify please - how &quot;directly&quot;? &quot;View it&quot; - with VNC?","body":"<i>I also use VNC viewer to access my pi from the PC, and since that problem began, I have been unable to connect to the pi directly, but am able to view it through my account.</i> Clarify please - how &quot;directly&quot;? &quot;View it&quot; - with VNC?"},{"owner":{"account_id":18104663,"reputation":65,"user_id":13162077,"display_name":"bookish303"},"score":0,"creation_date":1652121410,"post_id":72176620,"comment_id":127524784,"body_markdown":"when I try to connect using VNC viewer locally via IP (192.168.1.*) I cant, but when I use my account it connects fine (via internet)","body":"when I try to connect using VNC viewer locally via IP (192.168.1.*) I cant, but when I use my account it connects fine (via internet)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652127256,"post_id":72176620,"comment_id":127526509,"body_markdown":"Oof - not sure I&#39;d like VNC getting into my LAN when a direct connection should be in effect ;) You should really be using the hostname, not the IP address. And you should be able to ssh to user@hostname - can you?","body":"Oof - not sure I&#39;d like VNC getting into my LAN when a direct connection should be in effect ;) You should really be using the hostname, not the IP address. And you should be able to ssh to user@hostname - can you?"}],"owner":{"account_id":18104663,"reputation":65,"user_id":13162077,"display_name":"bookish303"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652122057,"creation_date":1652120701,"question_id":72176620,"body_markdown":"Started working with SQL databases recently and am relatively new to it so bear with me.\r\n\r\nI have a database on a 4GB raspberry pi and am storing logs on that database. Using my computer I access that database using java and process it.\r\n\r\nEverything was working fine until 2 days ago, when there was some trouble with the internet, which stopped the logging of information on the pi. After sorting out that problem, my PC started to give me error messages every few hours that it was unable to connect to the database on the pi. Even the MySQL workbench stops connecting to that database when this happens.\r\n\r\nI also use VNC viewer to access my pi from the PC, and since that problem began, I have been unable to connect to the pi locally using IP, but am able to view it through my account.\r\n\r\nThe code in java uses try with resources for opening and closing SQL connections, and I only open the connections for as long as necessary each time.\r\nThis is a sample of the code I use for connecting each time :\r\n\r\n    try ( Connection con = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + SQLurl + &quot;:3306/&quot; + SQLDataBase, SQLUserName, SQLPassword)) {\r\n        try ( PreparedStatement pstmt = con.prepareStatement(statement)) {\r\n                    pstmt.executeUpdate();\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(DiscordBotFunctions.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    } catch (SQLException ex) {\r\n        Logger.getLogger(DiscordBotFunctions.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\nSo far, I have fixed the problem by stopping the programs, putting the computer on airplane mode for a bit and then connecting it to the internet and running them again, but I want the programs to run even when I am busy with other things and not around to monitor it.\r\n\r\nCan anyone offer insight as to why this may be happening?\r\n\r\n\r\n**Obviously connecting to the database is through the local IP of the device (192.168.1.*)","title":"Remote SQL connection stops working every few hours","body":"<p>Started working with SQL databases recently and am relatively new to it so bear with me.</p>\n<p>I have a database on a 4GB raspberry pi and am storing logs on that database. Using my computer I access that database using java and process it.</p>\n<p>Everything was working fine until 2 days ago, when there was some trouble with the internet, which stopped the logging of information on the pi. After sorting out that problem, my PC started to give me error messages every few hours that it was unable to connect to the database on the pi. Even the MySQL workbench stops connecting to that database when this happens.</p>\n<p>I also use VNC viewer to access my pi from the PC, and since that problem began, I have been unable to connect to the pi locally using IP, but am able to view it through my account.</p>\n<p>The code in java uses try with resources for opening and closing SQL connections, and I only open the connections for as long as necessary each time.\nThis is a sample of the code I use for connecting each time :</p>\n<pre><code>try ( Connection con = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + SQLurl + &quot;:3306/&quot; + SQLDataBase, SQLUserName, SQLPassword)) {\n    try ( PreparedStatement pstmt = con.prepareStatement(statement)) {\n                pstmt.executeUpdate();\n    } catch (SQLException ex) {\n        Logger.getLogger(DiscordBotFunctions.class.getName()).log(Level.SEVERE, null, ex);\n    }\n} catch (SQLException ex) {\n    Logger.getLogger(DiscordBotFunctions.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>So far, I have fixed the problem by stopping the programs, putting the computer on airplane mode for a bit and then connecting it to the internet and running them again, but I want the programs to run even when I am busy with other things and not around to monitor it.</p>\n<p>Can anyone offer insight as to why this may be happening?</p>\n<p>**Obviously connecting to the database is through the local IP of the device (192.168.1.*)</p>\n"},{"tags":["java","nginx","jboss"],"owner":{"account_id":3969265,"reputation":191,"user_id":3274247,"accept_rate":50,"display_name":"InconsistentHashing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652120505,"creation_date":1652118584,"question_id":72176240,"body_markdown":"I have just started with Nginx, kindly bear with me. \r\n\r\nMy scenario is one application is sending Http request to another ( both deployed on Jboss). I want to pass this request via Nginx. \r\n\r\nThe request url in normal case ( where it is working as expected) : \r\n\r\n&gt; https://localhost:8443/AppName/serviceName/methodName\r\n\r\nI am using Nginx as docker container and the entry in the compose file looks like\r\n\r\n    nginx-container:\r\n        image: nginx:1.13\r\n        ports: \r\n            - &quot;8083:80&quot;\r\n        volumes: \r\n            - &#39;./ngnix.conf:/etc/ngnix/nginx.conf&#39;\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - &#39;nginx-container.localhost.localdomain&#39;\r\n        depends_on: \r\n            - jboss \r\n\r\nThe nginx.conf looks like\r\n\r\n    events { worker_connections 1024;}\r\n    http {\r\n        upstream app {\r\n            server jboss:8080;\r\n        }\r\n    }\r\n\r\nI have configured my appliaction so that the request goes through port 8083 ( assigned for Nginx), and so the request url now looks like\r\n\r\nhttps://localhost:8083/AppName/serviceName/methodName\r\n\r\nBut I am receiving \r\n\r\n&gt; java.net.ConnectException: java.net.ConnectException: Connection refused (Connection refused)(https://localhost:8083/AppName/serviceName/methodName)\r\n\r\nI am sure I have done ( many) things wrong, but so far unable to pinpoint it. Any help is appreciated. ","title":"Http request from one application to another via Nginx","body":"<p>I have just started with Nginx, kindly bear with me.</p>\n<p>My scenario is one application is sending Http request to another ( both deployed on Jboss). I want to pass this request via Nginx.</p>\n<p>The request url in normal case ( where it is working as expected) :</p>\n<blockquote>\n<p>https://localhost:8443/AppName/serviceName/methodName</p>\n</blockquote>\n<p>I am using Nginx as docker container and the entry in the compose file looks like</p>\n<pre><code>nginx-container:\n    image: nginx:1.13\n    ports: \n        - &quot;8083:80&quot;\n    volumes: \n        - './ngnix.conf:/etc/ngnix/nginx.conf'\n    networks:\n      default:\n        aliases:\n          - 'nginx-container.localhost.localdomain'\n    depends_on: \n        - jboss \n</code></pre>\n<p>The nginx.conf looks like</p>\n<pre><code>events { worker_connections 1024;}\nhttp {\n    upstream app {\n        server jboss:8080;\n    }\n}\n</code></pre>\n<p>I have configured my appliaction so that the request goes through port 8083 ( assigned for Nginx), and so the request url now looks like</p>\n<p>https://localhost:8083/AppName/serviceName/methodName</p>\n<p>But I am receiving</p>\n<blockquote>\n<p>java.net.ConnectException: java.net.ConnectException: Connection refused (Connection refused)(https://localhost:8083/AppName/serviceName/methodName)</p>\n</blockquote>\n<p>I am sure I have done ( many) things wrong, but so far unable to pinpoint it. Any help is appreciated.</p>\n"},{"tags":["java","android","audio-player"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1652120372,"post_id":72176495,"comment_id":127524462,"body_markdown":"The exception is coming from `onCreateView`, not `onClick`.","body":"The exception is coming from <code>onCreateView</code>, not <code>onClick</code>."},{"owner":{"display_name":"user19079492"},"score":0,"creation_date":1652120555,"post_id":72176495,"comment_id":127524508,"body_markdown":"so what should I change?","body":"so what should I change?"}],"owner":{"display_name":"user19079492"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652120316,"answer_count":0,"score":0,"last_activity_date":1652120379,"creation_date":1652120051,"question_id":72176495,"body_markdown":"I am trying to make a music player for Android. The problem is that as soon as I open the app and press the play button it gives me an error\r\n\r\n    playPauseBtn.setOnClickListener(v -&gt; {\r\n        if (musicService != null){\r\n          musicService.playPauseBtnClicked();\r\n          if (musicService != null &amp;&amp; musicService.isPlaying()){\r\n             playPauseBtn.setImageResource(R.drawable.ic_pause);\r\n          }else if (musicService != null){\r\n             playPauseBtn.setImageResource(R.drawable.ic_play);\r\n          }\r\n         }\r\n        });\r\n\r\nError:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.media.MediaPlayer.isPlaying()&#39; on a null object reference\r\n        at com.example.musix.MusicService.isPlaying(MusicService.java:105)\r\n        at com.example.musix.NowPlayingFragmentBottom.lambda$onCreateView$1$com-example-musix-NowPlayingFragmentBottom(NowPlayingFragmentBottom.java:94)\r\n        at com.example.musix.NowPlayingFragmentBottom$$ExternalSyntheticLambda1.onClick(Unknown Source:2)","title":"Error: Attempt to invoke virtual method MediaPlayer.isPlaying() on a null object reference","body":"<p>I am trying to make a music player for Android. The problem is that as soon as I open the app and press the play button it gives me an error</p>\n<pre><code>playPauseBtn.setOnClickListener(v -&gt; {\n    if (musicService != null){\n      musicService.playPauseBtnClicked();\n      if (musicService != null &amp;&amp; musicService.isPlaying()){\n         playPauseBtn.setImageResource(R.drawable.ic_pause);\n      }else if (musicService != null){\n         playPauseBtn.setImageResource(R.drawable.ic_play);\n      }\n     }\n    });\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.media.MediaPlayer.isPlaying()' on a null object reference\n    at com.example.musix.MusicService.isPlaying(MusicService.java:105)\n    at com.example.musix.NowPlayingFragmentBottom.lambda$onCreateView$1$com-example-musix-NowPlayingFragmentBottom(NowPlayingFragmentBottom.java:94)\n    at com.example.musix.NowPlayingFragmentBottom$$ExternalSyntheticLambda1.onClick(Unknown Source:2)\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1652113879,"post_id":72175297,"comment_id":127522263,"body_markdown":"Does this answer your question? [Java 8 modify stream elements](https://stackoverflow.com/questions/38302531/java-8-modify-stream-elements)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38302531/java-8-modify-stream-elements\">Java 8 modify stream elements</a>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1652114011,"post_id":72175297,"comment_id":127522333,"body_markdown":"In your own method `repeatedApplication` you only will return the `double[]` result of the last element of the list. Is this what you want?","body":"In your own method <code>repeatedApplication</code> you only will return the <code>double[]</code> result of the last element of the list. Is this what you want?"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1652114375,"post_id":72175297,"comment_id":127522455,"body_markdown":"@cyberbrain no, `output` is reused inside each iteration: the input of an iteration is the output of the previous one.","body":"@cyberbrain no, <code>output</code> is reused inside each iteration: the input of an iteration is the output of the previous one."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1652115357,"post_id":72175297,"comment_id":127522775,"body_markdown":"@sp00m you are right. I leave my comment so that others don&#39;t read the code wrong as I did ;)","body":"@sp00m you are right. I leave my comment so that others don&#39;t read the code wrong as I did ;)"}],"answers":[{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652119928,"creation_date":1652114217,"answer_id":72175401,"question_id":72175297,"body_markdown":"As long as you don&#39;t use a parallel stream, the following reduction-based approach should do:\r\n\r\n```java\r\npublic static double[] repeatedApplication(ArrayList&lt;MyClass&gt; myList, double[] input){\r\n    return myList.stream().reduce(input, (doubles, myClass) -&gt; myClass.myMethod(doubles), (x, y) -&gt; {\r\n        throw new IllegalStateException(&quot;Should not have been called&quot;);\r\n    });\r\n}\r\n```\r\n\r\nSee https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-, which example is very close to yours.","title":"How would I express this operation using streams in java?","body":"<p>As long as you don't use a parallel stream, the following reduction-based approach should do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double[] repeatedApplication(ArrayList&lt;MyClass&gt; myList, double[] input){\n    return myList.stream().reduce(input, (doubles, myClass) -&gt; myClass.myMethod(doubles), (x, y) -&gt; {\n        throw new IllegalStateException(&quot;Should not have been called&quot;);\n    });\n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-</a>, which example is very close to yours.</p>\n"}],"owner":{"account_id":17868380,"reputation":19,"user_id":12980255,"display_name":"Andar Manik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1652284759,"answer_count":1,"score":1,"last_activity_date":1652119928,"creation_date":1652113749,"question_id":72175297,"body_markdown":"I have an class which has an implementable method from double[] to double[]\r\n``` \r\nclass MyClass{\r\n    public abstract double[] myMethod(double[] input);\r\n}\r\n```\r\nAnd somewhere else in my code theres a list of myClass with different implementations of MyClass\r\n```\r\nArrayList&lt;MyClass&gt; myList = new ArrayList&lt;&gt;();\r\nfill(myList);\r\n```\r\n\r\nI then want to write a method which takes this list and a double[] as input and returns the repeated application of myMethod\r\n\r\n```\r\npublic double[] repeatedApplication(ArrayList&lt;MyClass&gt; myList, double[] input){\r\n    double[] output = input;\r\n    for(MyClass myObject : myList)\r\n        output = myObject.myMethod(output);\r\n    return output;\r\n}\r\n```\r\n\r\nHow would I go about implementing repeatedAplication using java streams","title":"How would I express this operation using streams in java?","body":"<p>I have an class which has an implementable method from double[] to double[]</p>\n<pre><code>class MyClass{\n    public abstract double[] myMethod(double[] input);\n}\n</code></pre>\n<p>And somewhere else in my code theres a list of myClass with different implementations of MyClass</p>\n<pre><code>ArrayList&lt;MyClass&gt; myList = new ArrayList&lt;&gt;();\nfill(myList);\n</code></pre>\n<p>I then want to write a method which takes this list and a double[] as input and returns the repeated application of myMethod</p>\n<pre><code>public double[] repeatedApplication(ArrayList&lt;MyClass&gt; myList, double[] input){\n    double[] output = input;\n    for(MyClass myObject : myList)\n        output = myObject.myMethod(output);\n    return output;\n}\n</code></pre>\n<p>How would I go about implementing repeatedAplication using java streams</p>\n"},{"tags":["java","android","controller","keyevent","gamepad"],"answers":[{"tags":[],"owner":{"account_id":8728885,"reputation":876,"user_id":6529658,"display_name":"nondebug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652119856,"creation_date":1652119856,"answer_id":72176468,"question_id":72102876,"body_markdown":"Apps like [GameKeyboard +](https://play.google.com/store/apps/details?id=com.locnet.gamekeyboard2&amp;hl=en_US&amp;gl=US) can do this but require root to create the virtual gamepad. As far as I know there&#39;s no Android API for this so you probably need to use [uinput](https://www.kernel.org/doc/html/latest/input/uinput.html) to create a virtual device and generate input events that can be seen by other applications.","title":"Android gamepad app to dispatchKeyEvent to another app (game)","body":"<p>Apps like <a href=\"https://play.google.com/store/apps/details?id=com.locnet.gamekeyboard2&amp;hl=en_US&amp;gl=US\" rel=\"nofollow noreferrer\">GameKeyboard +</a> can do this but require root to create the virtual gamepad. As far as I know there's no Android API for this so you probably need to use <a href=\"https://www.kernel.org/doc/html/latest/input/uinput.html\" rel=\"nofollow noreferrer\">uinput</a> to create a virtual device and generate input events that can be seen by other applications.</p>\n"}],"owner":{"account_id":25184281,"reputation":51,"user_id":19025384,"display_name":"Felipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652119856,"creation_date":1651597002,"question_id":72102876,"body_markdown":"I am developing a game controller app for a school project that displays a virtual gamepad and is aimed at controlling any game app on Android. Of course, the game app should support listening to KeyEvents. I am using Java to develop directly for Android. \r\n\r\nI found many resources regarding how to handle controller actions and to receive KeyEvents(game side), however it is very hard to find information about the other side - how to actually send those KeyEvents from one application (controller) to another. \r\n\r\nWhat I achieved so far:\r\n\r\n    dispatchKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_DPAD_UP));\r\n\r\nThis is the function that I use to dispatch a KeyEvent, I want to move the character one step forward, for example. \r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        System.out.println(&quot;Input received &quot;+ keyCode);\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\nI use the code above inside my own controller app to check if I am actually sending and being able to receive the input. \r\n\r\nWhen I run my code and call the dispatchKeyEvent function, I get the console output saying the key input was received by my own application. So it works that way.\r\n\r\nThe problem is that the input is not working for controlling another app. I leave my controller application dispatching the KeyEvent once every 2 seconds, I quit the app and the console continues logging that the input is being received (by my own application, running on the background) but it does not work when I enter the game app. The game app does not respond to the KeyEvents being dispatched. I tried the game with another virtual controller application and it works fine, so the game is able to receive controller inputs. \r\nI also tried removing the KeyEvent listener from my controller app (to see if it was interfering with the KeyEvent reception) but there was no positive result. \r\n\r\nSo my question is: what is the correct way of sending KeyEvents to Android so that it delivers the inputs to other apps listening? Is this the way that controller key inputs work? \r\n\r\nI&#39;d like to thank you in advance for your time. \r\n\r\n\r\n\r\n","title":"Android gamepad app to dispatchKeyEvent to another app (game)","body":"<p>I am developing a game controller app for a school project that displays a virtual gamepad and is aimed at controlling any game app on Android. Of course, the game app should support listening to KeyEvents. I am using Java to develop directly for Android.</p>\n<p>I found many resources regarding how to handle controller actions and to receive KeyEvents(game side), however it is very hard to find information about the other side - how to actually send those KeyEvents from one application (controller) to another.</p>\n<p>What I achieved so far:</p>\n<pre><code>dispatchKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_DPAD_UP));\n</code></pre>\n<p>This is the function that I use to dispatch a KeyEvent, I want to move the character one step forward, for example.</p>\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    System.out.println(&quot;Input received &quot;+ keyCode);\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n<p>I use the code above inside my own controller app to check if I am actually sending and being able to receive the input.</p>\n<p>When I run my code and call the dispatchKeyEvent function, I get the console output saying the key input was received by my own application. So it works that way.</p>\n<p>The problem is that the input is not working for controlling another app. I leave my controller application dispatching the KeyEvent once every 2 seconds, I quit the app and the console continues logging that the input is being received (by my own application, running on the background) but it does not work when I enter the game app. The game app does not respond to the KeyEvents being dispatched. I tried the game with another virtual controller application and it works fine, so the game is able to receive controller inputs.\nI also tried removing the KeyEvent listener from my controller app (to see if it was interfering with the KeyEvent reception) but there was no positive result.</p>\n<p>So my question is: what is the correct way of sending KeyEvents to Android so that it delivers the inputs to other apps listening? Is this the way that controller key inputs work?</p>\n<p>I'd like to thank you in advance for your time.</p>\n"},{"tags":["java","android"],"owner":{"account_id":8905548,"reputation":75,"user_id":6647496,"display_name":"Isee You"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652119013,"creation_date":1652119013,"question_id":72176327,"body_markdown":"when open the application i want to get notification if new data added to firebase realtime database  .\r\nbut whan i open the app i got notifcation every time i open the it.\r\nwhat should i do \r\nthis is my code.\r\n\r\n        cam_firebase.child(&quot;Detection&quot;).addChildEventListener(new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(@NotNull DataSnapshot dataSnapshot, String s) {\r\n                    double longt = dataSnapshot.child(&quot;longt&quot;).getValue(Double.class);\r\n                    double lat = dataSnapshot.child(&quot;lat&quot;).getValue(Double.class);\r\n                    notify_me();\r\n                  \r\n                }\r\n\r\n                @Override\r\n                public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n\r\n                }\r\n\r\n\r\n            });\r\n\r\n","title":"Get notifcation when add new data to firebase realtime database","body":"<p>when open the application i want to get notification if new data added to firebase realtime database  .\nbut whan i open the app i got notifcation every time i open the it.\nwhat should i do\nthis is my code.</p>\n<pre><code>    cam_firebase.child(&quot;Detection&quot;).addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NotNull DataSnapshot dataSnapshot, String s) {\n                double longt = dataSnapshot.child(&quot;longt&quot;).getValue(Double.class);\n                double lat = dataSnapshot.child(&quot;lat&quot;).getValue(Double.class);\n                notify_me();\n              \n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull @NotNull DatabaseError error) {\n\n            }\n\n\n        });\n</code></pre>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"account_id":6430185,"reputation":385,"user_id":4983701,"display_name":"Compile Commit"},"score":0,"creation_date":1562598587,"post_id":56937422,"comment_id":100415946,"body_markdown":"As I said, this program is running fine in Windows 7 and RHEL, so if filename case was an issue, it would be an issue elsewhere as well. Nevertheless, yes, the filename case is accurate.","body":"As I said, this program is running fine in Windows 7 and RHEL, so if filename case was an issue, it would be an issue elsewhere as well. Nevertheless, yes, the filename case is accurate."},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1562649481,"post_id":56937422,"comment_id":100430928,"body_markdown":"@AviBis FYI windows does not check case sensitive.so it must be some other issue.","body":"@AviBis FYI windows does not check case sensitive.so it must be some other issue."},{"owner":{"account_id":6430185,"reputation":385,"user_id":4983701,"display_name":"Compile Commit"},"score":0,"creation_date":1562650054,"post_id":56937422,"comment_id":100431088,"body_markdown":"That&#39;s what I said.","body":"That&#39;s what I said."},{"owner":{"account_id":3571624,"reputation":103,"user_id":2981793,"display_name":"naruen"},"score":0,"creation_date":1574059956,"post_id":56937422,"comment_id":104080889,"body_markdown":"Is there anyone who can answer this question?","body":"Is there anyone who can answer this question?"},{"owner":{"account_id":6430185,"reputation":385,"user_id":4983701,"display_name":"Compile Commit"},"score":0,"creation_date":1579620528,"post_id":56937422,"comment_id":105822685,"body_markdown":"I still don&#39;t know why this happened. However, I removed the project and downloaded from SVN again, and it started working.","body":"I still don&#39;t know why this happened. However, I removed the project and downloaded from SVN again, and it started working."}],"answers":[{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652118398,"creation_date":1652118398,"answer_id":72176203,"question_id":56937422,"body_markdown":"I had the same issue and nothing worked (`file:/` prefix variants, `C:` or `c:`).\r\n\r\nFinally I tried it with some **relative path** (like used in the production environment) and voil&#224;, it worked.\r\n\r\nFigured out current run dir using `System.getProperty(&quot;user.dir&quot;)`:\r\n\r\n    vel.getTemplate( &quot;foo/bar/some.vm&quot;, UTF_8.name() )\r\n\r\n     ","title":"Velocity template cannot be found in Windows 10","body":"<p>I had the same issue and nothing worked (<code>file:/</code> prefix variants, <code>C:</code> or <code>c:</code>).</p>\n<p>Finally I tried it with some <strong>relative path</strong> (like used in the production environment) and voilà, it worked.</p>\n<p>Figured out current run dir using <code>System.getProperty(&quot;user.dir&quot;)</code>:</p>\n<pre><code>vel.getTemplate( &quot;foo/bar/some.vm&quot;, UTF_8.name() )\n\n \n</code></pre>\n"}],"owner":{"account_id":6430185,"reputation":385,"user_id":4983701,"display_name":"Compile Commit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652118398,"creation_date":1562597104,"question_id":56937422,"body_markdown":"My laptop just got upgraded to windows 10 from windows 7, and a piece of code stopped working. A large application using velocity templates which used to work on windows 7 just fine now cannot find the template files. \r\n\r\nThe templates are kept at the path **WebContent\\WEB-INF\\config\\templates** under the project directory. An EngineInitializer class is used to load them. The code for the class is as follows:\r\n\r\n    private static Logger logger = Logger.getLogger(EngineInitializer.class);\r\n\t\r\n\tprivate static String RELATIVE_PATH_FOR_TEMPLATES = &quot;/WEB-INF/config/templates&quot;;\r\n\t\tif(logger.isDebugEnabled())\r\n\t\t\tlogger.debug(&quot;About to initialize the Velocity Engine&quot;);\r\n\t\tProperties p = new Properties();\r\n\t\tString absolutePath=new File(Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;).getFile()).getParentFile().getParentFile().getPath();//this goes to webapps directory\r\n\t\t//configure the velocity logger to use the default logging\r\n\t\tp.put(RuntimeConstants.RUNTIME_LOG_LOGSYSTEM_CLASS,&quot;org.apache.velocity.runtime.log.Log4JLogChute&quot;);\r\n\t\tp.put(&quot;runtime.log.logsystem.log4j.logger&quot;, &quot;defaultLog&quot;);\r\n\t\tp.put(&quot;file.resource.loader.path&quot;, absolutePath + RELATIVE_PATH_FOR_TEMPLATES);\r\n\t\tp.put(&quot;file.resource.loader.cache&quot;, &quot;true&quot;);\r\n\t\tp.put(&quot;file.resource.loader.modificationCheckInterval&quot;, &quot;-1&quot;);\r\n\t\tp.put(&quot;parser.pool.size&quot;, &quot;30&quot;);\r\n\r\n\t\tVelocity.init(p);\r\n\t\tif(logger.isInfoEnabled())\r\n\t\t\tlogger.info(&quot;The velocity engine is now initialized..&quot;);\r\n\t\r\nThe following lines in the applicationBeans.xml file initializes the engine:\r\n\r\n    &lt;!-- initialize the velocity engine before the listener thread starts --&gt;\r\n\t&lt;bean id=&quot;engineInitializer&quot; class=&quot;com.file.myprogram.template.processor.EngineInitializer&quot;\r\n\t\tinit-method=&quot;initializeEngine&quot; /&gt;\r\n\r\nAt the beginning, the log is getting printed. Inside the individual classes, the templates are called using Velocity.getTemplate() method. This is now returning a *org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource &#39;MediationZone.vm&#39;* error. Nothing other than the underlying OS has been changed. This code runs fine on an RHEL server as a web app. Code has been downloaded from subversion and run on the windows 10 laptop using eclipse v4.9.\r\n\r\nWhat is going wrong here?","title":"Velocity template cannot be found in Windows 10","body":"<p>My laptop just got upgraded to windows 10 from windows 7, and a piece of code stopped working. A large application using velocity templates which used to work on windows 7 just fine now cannot find the template files. </p>\n\n<p>The templates are kept at the path <strong>WebContent\\WEB-INF\\config\\templates</strong> under the project directory. An EngineInitializer class is used to load them. The code for the class is as follows:</p>\n\n<pre><code>private static Logger logger = Logger.getLogger(EngineInitializer.class);\n\nprivate static String RELATIVE_PATH_FOR_TEMPLATES = \"/WEB-INF/config/templates\";\n    if(logger.isDebugEnabled())\n        logger.debug(\"About to initialize the Velocity Engine\");\n    Properties p = new Properties();\n    String absolutePath=new File(Thread.currentThread().getContextClassLoader().getResource(\"\").getFile()).getParentFile().getParentFile().getPath();//this goes to webapps directory\n    //configure the velocity logger to use the default logging\n    p.put(RuntimeConstants.RUNTIME_LOG_LOGSYSTEM_CLASS,\"org.apache.velocity.runtime.log.Log4JLogChute\");\n    p.put(\"runtime.log.logsystem.log4j.logger\", \"defaultLog\");\n    p.put(\"file.resource.loader.path\", absolutePath + RELATIVE_PATH_FOR_TEMPLATES);\n    p.put(\"file.resource.loader.cache\", \"true\");\n    p.put(\"file.resource.loader.modificationCheckInterval\", \"-1\");\n    p.put(\"parser.pool.size\", \"30\");\n\n    Velocity.init(p);\n    if(logger.isInfoEnabled())\n        logger.info(\"The velocity engine is now initialized..\");\n</code></pre>\n\n<p>The following lines in the applicationBeans.xml file initializes the engine:</p>\n\n<pre><code>&lt;!-- initialize the velocity engine before the listener thread starts --&gt;\n&lt;bean id=\"engineInitializer\" class=\"com.file.myprogram.template.processor.EngineInitializer\"\n    init-method=\"initializeEngine\" /&gt;\n</code></pre>\n\n<p>At the beginning, the log is getting printed. Inside the individual classes, the templates are called using Velocity.getTemplate() method. This is now returning a <em>org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource 'MediationZone.vm'</em> error. Nothing other than the underlying OS has been changed. This code runs fine on an RHEL server as a web app. Code has been downloaded from subversion and run on the windows 10 laptop using eclipse v4.9.</p>\n\n<p>What is going wrong here?</p>\n"},{"tags":["java","linux","flutter","android-studio"],"owner":{"account_id":25245941,"reputation":31,"user_id":19079208,"display_name":"Torbatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1652118389,"creation_date":1652118389,"question_id":72176199,"body_markdown":"\r\nwhen i run sdkmanager command from terminal it prints out this error \r\n\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module java.xml.bind not found\r\n```\r\n sdkmanager is a command from android studio command tools kit\r\n\r\ni tried \r\n`set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee`\r\nbut it doesnt seem to fix it \r\n\r\nOs:Arch Linux\r\n\r\n\r\nhow can i fix this?","title":"Error occurred during initialization of boot layer java.lang.module.FindException: Module java.xml.bind not found","body":"<p>when i run sdkmanager command from terminal it prints out this error</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module java.xml.bind not found\n</code></pre>\n<p>sdkmanager is a command from android studio command tools kit</p>\n<p>i tried\n<code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee</code>\nbut it doesnt seem to fix it</p>\n<p>Os:Arch Linux</p>\n<p>how can i fix this?</p>\n"},{"tags":["java","oop","design-patterns","state-pattern"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1651928905,"post_id":72152363,"comment_id":127484586,"body_markdown":"I don&#39;t see a problem with this. The state classes must vary the actions that they perform based on their current state, and this can be one of those actions.","body":"I don&#39;t see a problem with this. The state classes must vary the actions that they perform based on their current state, and this can be one of those actions."},{"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"score":0,"creation_date":1651932036,"post_id":72152363,"comment_id":127485295,"body_markdown":"I would rather use an interface `WithState` and make the classes that have a State implement it. This is more flexible than using inheritance. Always choose [composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance) when available","body":"I would rather use an interface <code>WithState</code> and make the classes that have a State implement it. This is more flexible than using inheritance. Always choose <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">composition over inheritance</a> when available"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652116709,"creation_date":1652110638,"answer_id":72174624,"question_id":72152363,"body_markdown":"It looks like you have is **&quot;is a&quot;** relationship, so it is okay to put abstract method `getState()` in abstract class:\r\n\r\n    public abstract class State{\r\n    \r\n        public abstract String getState();\r\n    \r\n    }\r\n\r\nAbstract class should contain behaviour for all derived classes. `getState()` method is planned to use in all derived classes. In addition, `getState()` method has very high cohesion with `State` class. So this is a case when to use inheritance.\r\n\r\n[Read more when to prefer inheritance or composition.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53354/1646240","title":"Knowing the state of an object using the state pattern","body":"<p>It looks like you have is <strong>&quot;is a&quot;</strong> relationship, so it is okay to put abstract method <code>getState()</code> in abstract class:</p>\n<pre><code>public abstract class State{\n\n    public abstract String getState();\n\n}\n</code></pre>\n<p>Abstract class should contain behaviour for all derived classes. <code>getState()</code> method is planned to use in all derived classes. In addition, <code>getState()</code> method has very high cohesion with <code>State</code> class. So this is a case when to use inheritance.</p>\n<p><a href=\"https://stackoverflow.com/a/53354/1646240\">Read more when to prefer inheritance or composition.</a></p>\n"}],"owner":{"account_id":21411584,"reputation":39,"user_id":15771671,"display_name":"Pooyanoss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72174624,"answer_count":1,"score":2,"last_activity_date":1652116709,"creation_date":1651925550,"question_id":72152363,"body_markdown":"I am using the state pattern and I need to know in which state a given object is to print it. I thought about using an abstract method returning a string that each state would override with its own name, is it an acceptable solution?\r\n\r\n```java\r\npublic abstract class State{\r\n\r\n    public abstract String getState();\r\n\r\n}\r\n\r\nclass StateOne extends State{\r\n\r\n    @Override\r\n    public String getState(){ return &quot;StateOne&quot;; }\r\n\r\n}\r\n\r\n// And so on for each state...","title":"Knowing the state of an object using the state pattern","body":"<p>I am using the state pattern and I need to know in which state a given object is to print it. I thought about using an abstract method returning a string that each state would override with its own name, is it an acceptable solution?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class State{\n\n    public abstract String getState();\n\n}\n\nclass StateOne extends State{\n\n    @Override\n    public String getState(){ return &quot;StateOne&quot;; }\n\n}\n\n// And so on for each state...\n</code></pre>\n"},{"tags":["java","android-recyclerview","retrofit","retrofit2"],"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652116612,"creation_date":1652116612,"question_id":72175889,"body_markdown":"I am trying to add a load more feature in my recyclerview. I followed some tips I found on Stackoverflow but each one requires the existence of pages in the API. In my API there are no pages and that&#39;s why I can&#39;t figure out how to adjust this [code](https://stackoverflow.com/questions/51822115/how-to-handle-pagination-load-more-in-retrofit-2-0) to my recyclerview as there are no pages. Any answer would be appreciated!!","title":"How to load more items without pages in API in Android recyclerview?","body":"<p>I am trying to add a load more feature in my recyclerview. I followed some tips I found on Stackoverflow but each one requires the existence of pages in the API. In my API there are no pages and that's why I can't figure out how to adjust this <a href=\"https://stackoverflow.com/questions/51822115/how-to-handle-pagination-load-more-in-retrofit-2-0\">code</a> to my recyclerview as there are no pages. Any answer would be appreciated!!</p>\n"},{"tags":["java","date","gettime"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":3,"creation_date":1651847881,"post_id":72143078,"comment_id":127468749,"body_markdown":"FYI `Date` is old API. Since Java... 8, I belive, there is new API for dates. Check `LocalDate` and `LocalDateTime`","body":"FYI <code>Date</code> is old API. Since Java... 8, I belive, there is new API for dates. Check <code>LocalDate</code> and <code>LocalDateTime</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1651847935,"post_id":72143078,"comment_id":127468764,"body_markdown":"You said *without methods*, but you are calling the constructor (I consider that a method too) and the `getTime` method of the `Date` class, a class that was poorly designed and is long outdated. If I understand correctly that you want to do your own math based on milliseconds from the epoch, get those millis either from `Instant.now().toEpochMilli()` or from `System.currentTimeMillis()`. And enjoy the better naming in both cases.","body":"You said <i>without methods</i>, but you are calling the constructor (I consider that a method too) and the <code>getTime</code> method of the <code>Date</code> class, a class that was poorly designed and is long outdated. If I understand correctly that you want to do your own math based on milliseconds from the epoch, get those millis either from <code>Instant.now().toEpochMilli()</code> or from <code>System.currentTimeMillis()</code>. And enjoy the better naming in both cases."},{"owner":{"account_id":23239779,"reputation":29,"user_id":17329288,"display_name":"xtina_lt"},"score":0,"creation_date":1652113481,"post_id":72143078,"comment_id":127522128,"body_markdown":"Yes! I wanted to do the math based on the milliseconds. Figured it would help me understand the concept better as well as modulo. I&#39;m really glad to hear about LocalDate and Instant. That&#39;s what I get for practicing with an old book. Going to have fun looking into both of these concepts. You are correct about the better naming as well!","body":"Yes! I wanted to do the math based on the milliseconds. Figured it would help me understand the concept better as well as modulo. I&#39;m really glad to hear about LocalDate and Instant. That&#39;s what I get for practicing with an old book. Going to have fun looking into both of these concepts. You are correct about the better naming as well!"}],"answers":[{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651847773,"creation_date":1651847353,"answer_id":72143142,"question_id":72143078,"body_markdown":"According to Javadoc about [Date::getTime][1]: \r\n\r\n&gt; Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this Date object\r\n\r\nThe important part is &quot;GMT&quot; which is different from your timezone : EDT, which is... GMT - 4:00\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Date.html#getTime()","title":"Get current time without methods","body":"<p>According to Javadoc about <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Date.html#getTime()\" rel=\"nofollow noreferrer\">Date::getTime</a>:</p>\n<blockquote>\n<p>Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this Date object</p>\n</blockquote>\n<p>The important part is &quot;GMT&quot; which is different from your timezone : EDT, which is... GMT - 4:00</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652116512,"creation_date":1651848638,"answer_id":72143450,"question_id":72143078,"body_markdown":"# Avoid legacy date-time classes\r\n\r\nThe `toString` method on `java.util.Date` has the unfortunate anti-feature of applying the JVM`s current default time zone while generating the text. \r\n\r\nNever use `Date`. Replaced years ago by the modern *java.time* classes. \r\n\r\n# `Instant`\r\n\r\nUse [`java.time.Instant`][1]. \r\n\r\nCapture the current moment. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nGenerate text in standard ISO 8601 format. \r\n\r\n    String output = instant.toString() ;\r\n\r\nGet a count of milliseconds since the epoch reference of first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, 1970-01-01T00:00Z. \r\n\r\n    long millis = instant.toEpochMilli() ;\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html","title":"Get current time without methods","body":"<h1>Avoid legacy date-time classes</h1>\n<p>The <code>toString</code> method on <code>java.util.Date</code> has the unfortunate anti-feature of applying the JVM`s current default time zone while generating the text.</p>\n<p>Never use <code>Date</code>. Replaced years ago by the modern <em>java.time</em> classes.</p>\n<h1><code>Instant</code></h1>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>.</p>\n<p>Capture the current moment.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Generate text in standard ISO 8601 format.</p>\n<pre><code>String output = instant.toString() ;\n</code></pre>\n<p>Get a count of milliseconds since the epoch reference of first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, 1970-01-01T00:00Z.</p>\n<pre><code>long millis = instant.toEpochMilli() ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21516220,"reputation":47,"user_id":15858035,"display_name":"FRS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651849662,"creation_date":1651849662,"answer_id":72143682,"question_id":72143078,"body_markdown":"The LocalDateTime.now() method returns the instance of LocalDateTime class so if you print the instance  of LocalDateTime class, it will print the current time and time.\r\nTo get it the the right format you need to format the current date using DateTimeFormatter class included in JDK 1.8\r\n\r\n```\r\nimport java.time.format.DateTimeFormatter;  \r\nimport java.time.LocalDateTime;    \r\npublic class CurrentDateTime {    \r\n  public static void main(String[] args) {    \r\n   DateTimeFormatter date_wanted = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);  \r\n   LocalDateTime now = LocalDateTime.now();  \r\n   System.out.println(date_wanted.format(now));  \r\n  }    \r\n} \r\n```\r\n ","title":"Get current time without methods","body":"<p>The LocalDateTime.now() method returns the instance of LocalDateTime class so if you print the instance  of LocalDateTime class, it will print the current time and time.\nTo get it the the right format you need to format the current date using DateTimeFormatter class included in JDK 1.8</p>\n<pre><code>import java.time.format.DateTimeFormatter;  \nimport java.time.LocalDateTime;    \npublic class CurrentDateTime {    \n  public static void main(String[] args) {    \n   DateTimeFormatter date_wanted = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);  \n   LocalDateTime now = LocalDateTime.now();  \n   System.out.println(date_wanted.format(now));  \n  }    \n} \n</code></pre>\n"}],"owner":{"account_id":23239779,"reputation":29,"user_id":17329288,"display_name":"xtina_lt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1651866693,"accepted_answer_id":72143682,"answer_count":3,"score":-1,"last_activity_date":1652116512,"creation_date":1651847122,"question_id":72143078,"body_markdown":"I am trying to do it without methods so that I can better grasp the concept.\r\n\r\nI am really close. My hours math seems to be off. What am I not understanding there?\r\n\r\n```java\r\nstatic void showCurrent(){\r\n    Date today = new Date();\r\n    long milliseconds = today.getTime(); // ex: 1651773923837\r\n    \r\n    long seconds = milliseconds / 1000;\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n\r\n    long s = seconds % 60;\r\n    long m = minutes % 60;\r\n    long h = hours % 24;\r\n\r\n    System.out.printf(&quot;Date: %s, Time: %d\\n&quot;, today.toString(), milliseconds);\r\n    System.out.println(h + &quot;: &quot; + m + &quot;: &quot; + s );\r\n```\r\n\r\n\r\nOutput:\r\n```none\r\nDate: Fri May 06 10:13:21 EDT 2022, Time: 1651846401839\r\n14: 13: 21\r\n```","title":"Get current time without methods","body":"<p>I am trying to do it without methods so that I can better grasp the concept.</p>\n<p>I am really close. My hours math seems to be off. What am I not understanding there?</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void showCurrent(){\n    Date today = new Date();\n    long milliseconds = today.getTime(); // ex: 1651773923837\n    \n    long seconds = milliseconds / 1000;\n    long minutes = seconds / 60;\n    long hours = minutes / 60;\n\n    long s = seconds % 60;\n    long m = minutes % 60;\n    long h = hours % 24;\n\n    System.out.printf(&quot;Date: %s, Time: %d\\n&quot;, today.toString(), milliseconds);\n    System.out.println(h + &quot;: &quot; + m + &quot;: &quot; + s );\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Date: Fri May 06 10:13:21 EDT 2022, Time: 1651846401839\n14: 13: 21\n</code></pre>\n"},{"tags":["java","spring","maven","jenkins","operating-system"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1652117228,"post_id":72175869,"comment_id":127523456,"body_markdown":"You can just use an environment variable","body":"You can just use an environment variable"},{"owner":{"account_id":22924314,"reputation":205,"user_id":17059658,"display_name":"emplo yee"},"score":0,"creation_date":1652117639,"post_id":72175869,"comment_id":127523621,"body_markdown":"@PaulSamsotha how? can you provide an example ?","body":"@PaulSamsotha how? can you provide an example ?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1652119327,"post_id":72175869,"comment_id":127524156,"body_markdown":"You can used profiles with activation based on the OS.","body":"You can used profiles with activation based on the OS."}],"owner":{"account_id":22924314,"reputation":205,"user_id":17059658,"display_name":"emplo yee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652116509,"creation_date":1652116509,"question_id":72175869,"body_markdown":"\r\nI want to download a zip file via mavens POM.XML, but based on the OS i need different URLs (Linux/Windows).\r\n\r\nHow can I change the URL based on the OS maven is executed? (locally, its Windows, on Jenkins its then Linux)\r\n\r\n**This is how the plugins part of my POM.XML looks like**:\r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.googlecode.maven-download-plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;download-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- the wget goal actually binds itself to this phase by default --&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wget&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;url&gt;https://test/chromedriver_win32.zip&lt;/url&gt;\r\n                            &lt;unpack&gt;true&lt;/unpack&gt;\r\n                            &lt;outputFileName&gt;chromedriver&lt;/outputFileName&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/chromeDriver&lt;/outputDirectory&gt;--&gt;\r\n                            &lt;outputDirectory&gt;${user.home}/localdata/tools/chromeDriver&lt;/outputDirectory&gt;\r\n                            &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                            &lt;skipCache&gt;true&lt;/skipCache&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven : Download of executable zip based on OS","body":"<p>I want to download a zip file via mavens POM.XML, but based on the OS i need different URLs (Linux/Windows).</p>\n<p>How can I change the URL based on the OS maven is executed? (locally, its Windows, on Jenkins its then Linux)</p>\n<p><strong>This is how the plugins part of my POM.XML looks like</strong>:</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.googlecode.maven-download-plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;download-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- the wget goal actually binds itself to this phase by default --&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wget&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;url&gt;https://test/chromedriver_win32.zip&lt;/url&gt;\n                        &lt;unpack&gt;true&lt;/unpack&gt;\n                        &lt;outputFileName&gt;chromedriver&lt;/outputFileName&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/chromeDriver&lt;/outputDirectory&gt;--&gt;\n                        &lt;outputDirectory&gt;${user.home}/localdata/tools/chromeDriver&lt;/outputDirectory&gt;\n                        &lt;overwrite&gt;true&lt;/overwrite&gt;\n                        &lt;skipCache&gt;true&lt;/skipCache&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","aws-lambda","drools","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652116168,"creation_date":1652115824,"answer_id":72175738,"question_id":72173724,"body_markdown":"Wrt. 1: The performance impact is possibly considerable. We have seen performance decreases of up to 50 %, but YMMV. It will depend heavily on the problem being solved.\r\n\r\nWrt. 2: You have been able to disable ANC through the solver config. That is an officially supported option and you do not need to look for any other.\r\n\r\nWrt. 3: I do not see a way to hook into our own ANC with a hack such as the one mentioned. Maybe using Quarkus, which may do this compilation at project build-time and not at runtime, could solve your problem?\r\n\r\nWith all of that said, this error should not be showing up in the first place. Let&#39;s see if the Drools folks have anything to say about that.","title":"Running OptaPlanner in AWS Lambda gives AlphaNetworkCompilation related error","body":"<p>Wrt. 1: The performance impact is possibly considerable. We have seen performance decreases of up to 50 %, but YMMV. It will depend heavily on the problem being solved.</p>\n<p>Wrt. 2: You have been able to disable ANC through the solver config. That is an officially supported option and you do not need to look for any other.</p>\n<p>Wrt. 3: I do not see a way to hook into our own ANC with a hack such as the one mentioned. Maybe using Quarkus, which may do this compilation at project build-time and not at runtime, could solve your problem?</p>\n<p>With all of that said, this error should not be showing up in the first place. Let's see if the Drools folks have anything to say about that.</p>\n"}],"owner":{"account_id":1138836,"reputation":1013,"user_id":1123303,"accept_rate":30,"display_name":"Radical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72175738,"answer_count":1,"score":1,"last_activity_date":1652116168,"creation_date":1652106841,"question_id":72173724,"body_markdown":"I am attempting to run an Optaplanner (8.20.0) solver in AWS Lambda, uploaded in a fat-jar with all dependencies. When running a solution (Or more specifically when creating a solver: on `SolverFactory.create()`, I am encountering the following error:\r\n\r\n```\r\n  [ ... snip - large list of &quot;Cannot find symbol&quot; / &quot;Cannot find package&quot; errors ... ]\r\n  location: class org.drools.ancompiler.CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267, org/drools/ancompiler/CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267.java (95:16) : cannot find symbol\r\n  symbol:   variable objectTypeNode\r\n  location: class org.drools.ancompiler.CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267, org/drools/ancompiler/CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267.java (99:16) : cannot find symbol\r\n  symbol:   variable objectTypeNode\r\n  location: class org.drools.ancompiler.CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267]\r\n\tat org.kie.memorycompiler.KieMemoryCompiler.compileNoLoad(KieMemoryCompiler.java:136)\r\n\tat org.kie.memorycompiler.KieMemoryCompiler.compileNoLoad(KieMemoryCompiler.java:104)\r\n\tat org.kie.memorycompiler.KieMemoryCompiler.compile(KieMemoryCompiler.java:56)\r\n\tat org.kie.memorycompiler.KieMemoryCompiler.compile(KieMemoryCompiler.java:42)\r\n\tat org.drools.ancompiler.KieBaseUpdaterANC.inMemoryUpdate(KieBaseUpdaterANC.java:66)\r\n\tat org.drools.ancompiler.KieBaseUpdaterANC.run(KieBaseUpdaterANC.java:52)\r\n\tat org.drools.ancompiler.KieBaseUpdaterANC.generateAndSetInMemoryANC(KieBaseUpdaterANC.java:99)\r\n\tat org.optaplanner.core.impl.score.director.stream.DroolsConstraintStreamScoreDirectorFactory.buildKieBaseFromModel(DroolsConstraintStreamScoreDirectorFactory.java:115)\r\n\tat org.optaplanner.core.impl.score.director.stream.DroolsConstraintStreamScoreDirectorFactory.buildKieBase(DroolsConstraintStreamScoreDirectorFactory.java:104)\r\n\tat org.optaplanner.core.impl.score.director.stream.DroolsConstraintStreamScoreDirectorFactory.&lt;init&gt;(DroolsConstraintStreamScoreDirectorFactory.java:71)\r\n\tat org.optaplanner.core.impl.score.director.stream.ConstraintStreamsScoreDirectorFactoryService.lambda$buildScoreDirectorFactory$0(ConstraintStreamsScoreDirectorFactoryService.java:50)\r\n\tat org.optaplanner.core.impl.score.director.ScoreDirectorFactoryFactory.decideMultipleScoreDirectorFactories(ScoreDirectorFactoryFactory.java:115)\r\n\tat org.optaplanner.core.impl.score.director.ScoreDirectorFactoryFactory.buildScoreDirectorFactory(ScoreDirectorFactoryFactory.java:52)\r\n\tat org.optaplanner.core.impl.solver.DefaultSolverFactory.buildScoreDirectorFactory(DefaultSolverFactory.java:168)\r\n\tat org.optaplanner.core.impl.solver.DefaultSolverFactory.&lt;init&gt;(DefaultSolverFactory.java:78)\r\n\tat org.optaplanner.core.api.solver.SolverFactory.create(SolverFactory.java:122)\r\n[ ... snip - trace of my code before calling SolverFactory.create() ... ]\r\n```\r\n\r\nI seem to have traced the problem to the in-memory Alpha Network Compiler present in Drools. Specifically, disabling DroolsAlphaNetworkCompilationEnabled as suggested in [this answer][1] solves my problem. However, the problem does _not_ seem to be that AWS Lambda does not provide a Java compiler. For one thing the error in the linked issue is different, and secondly [this question (unrelated to optaplanner)][2] seems to suggest that AWS Lambda functions are able to compile classes with some runtime classpath hacks.\r\n\r\nMy questions:\r\n\r\n 1. What is the performance impact of settings DroolsAlphaNetworkCompilationEnabled to false (which currently fixes my issue)?\r\n 2. Is there a way to avoid in-memory DroolsAlphaNetworkCompilation? Digging into some source files led me to `KieBaseUpdaterANC.java` in [drools alphanetwork compiler][3] which supports a LOAD option and loading the compiled network from a KJar. However, `DroolsConstraintStreamScoreDirectorFactory` calls `generateAndSetInMemoryANC`, which forces in-memory compilation. This might be the same question as [DROOLS-5990][4]\r\n 3. As a measure of last resort, is the classpath-compiler-hack as suggested in [this answer][5] in any way relevant or implementable in my optaplanner/drools use-case?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71980669/1123303\r\n  [2]: https://stackoverflow.com/questions/58691675/aws-lambda-java-how-to-set-the-class-path-while-compiling-on-the-fly\r\n  [3]: https://github.com/kiegroup/drools/blob/main/drools-alphanetwork-compiler/src/main/java/org/drools/ancompiler/KieBaseUpdaterANC.java\r\n  [4]: https://issues.redhat.com/browse/DROOLS-5990\r\n  [5]: https://stackoverflow.com/a/58744608/1123303","title":"Running OptaPlanner in AWS Lambda gives AlphaNetworkCompilation related error","body":"<p>I am attempting to run an Optaplanner (8.20.0) solver in AWS Lambda, uploaded in a fat-jar with all dependencies. When running a solution (Or more specifically when creating a solver: on <code>SolverFactory.create()</code>, I am encountering the following error:</p>\n<pre><code>  [ ... snip - large list of &quot;Cannot find symbol&quot; / &quot;Cannot find package&quot; errors ... ]\n  location: class org.drools.ancompiler.CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267, org/drools/ancompiler/CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267.java (95:16) : cannot find symbol\n  symbol:   variable objectTypeNode\n  location: class org.drools.ancompiler.CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267, org/drools/ancompiler/CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267.java (99:16) : cannot find symbol\n  symbol:   variable objectTypeNode\n  location: class org.drools.ancompiler.CompiledPACKAGE_LOCATION_domain_ParticipationNetwork41408373267]\n    at org.kie.memorycompiler.KieMemoryCompiler.compileNoLoad(KieMemoryCompiler.java:136)\n    at org.kie.memorycompiler.KieMemoryCompiler.compileNoLoad(KieMemoryCompiler.java:104)\n    at org.kie.memorycompiler.KieMemoryCompiler.compile(KieMemoryCompiler.java:56)\n    at org.kie.memorycompiler.KieMemoryCompiler.compile(KieMemoryCompiler.java:42)\n    at org.drools.ancompiler.KieBaseUpdaterANC.inMemoryUpdate(KieBaseUpdaterANC.java:66)\n    at org.drools.ancompiler.KieBaseUpdaterANC.run(KieBaseUpdaterANC.java:52)\n    at org.drools.ancompiler.KieBaseUpdaterANC.generateAndSetInMemoryANC(KieBaseUpdaterANC.java:99)\n    at org.optaplanner.core.impl.score.director.stream.DroolsConstraintStreamScoreDirectorFactory.buildKieBaseFromModel(DroolsConstraintStreamScoreDirectorFactory.java:115)\n    at org.optaplanner.core.impl.score.director.stream.DroolsConstraintStreamScoreDirectorFactory.buildKieBase(DroolsConstraintStreamScoreDirectorFactory.java:104)\n    at org.optaplanner.core.impl.score.director.stream.DroolsConstraintStreamScoreDirectorFactory.&lt;init&gt;(DroolsConstraintStreamScoreDirectorFactory.java:71)\n    at org.optaplanner.core.impl.score.director.stream.ConstraintStreamsScoreDirectorFactoryService.lambda$buildScoreDirectorFactory$0(ConstraintStreamsScoreDirectorFactoryService.java:50)\n    at org.optaplanner.core.impl.score.director.ScoreDirectorFactoryFactory.decideMultipleScoreDirectorFactories(ScoreDirectorFactoryFactory.java:115)\n    at org.optaplanner.core.impl.score.director.ScoreDirectorFactoryFactory.buildScoreDirectorFactory(ScoreDirectorFactoryFactory.java:52)\n    at org.optaplanner.core.impl.solver.DefaultSolverFactory.buildScoreDirectorFactory(DefaultSolverFactory.java:168)\n    at org.optaplanner.core.impl.solver.DefaultSolverFactory.&lt;init&gt;(DefaultSolverFactory.java:78)\n    at org.optaplanner.core.api.solver.SolverFactory.create(SolverFactory.java:122)\n[ ... snip - trace of my code before calling SolverFactory.create() ... ]\n</code></pre>\n<p>I seem to have traced the problem to the in-memory Alpha Network Compiler present in Drools. Specifically, disabling DroolsAlphaNetworkCompilationEnabled as suggested in <a href=\"https://stackoverflow.com/a/71980669/1123303\">this answer</a> solves my problem. However, the problem does <em>not</em> seem to be that AWS Lambda does not provide a Java compiler. For one thing the error in the linked issue is different, and secondly <a href=\"https://stackoverflow.com/questions/58691675/aws-lambda-java-how-to-set-the-class-path-while-compiling-on-the-fly\">this question (unrelated to optaplanner)</a> seems to suggest that AWS Lambda functions are able to compile classes with some runtime classpath hacks.</p>\n<p>My questions:</p>\n<ol>\n<li>What is the performance impact of settings DroolsAlphaNetworkCompilationEnabled to false (which currently fixes my issue)?</li>\n<li>Is there a way to avoid in-memory DroolsAlphaNetworkCompilation? Digging into some source files led me to <code>KieBaseUpdaterANC.java</code> in <a href=\"https://github.com/kiegroup/drools/blob/main/drools-alphanetwork-compiler/src/main/java/org/drools/ancompiler/KieBaseUpdaterANC.java\" rel=\"nofollow noreferrer\">drools alphanetwork compiler</a> which supports a LOAD option and loading the compiled network from a KJar. However, <code>DroolsConstraintStreamScoreDirectorFactory</code> calls <code>generateAndSetInMemoryANC</code>, which forces in-memory compilation. This might be the same question as <a href=\"https://issues.redhat.com/browse/DROOLS-5990\" rel=\"nofollow noreferrer\">DROOLS-5990</a></li>\n<li>As a measure of last resort, is the classpath-compiler-hack as suggested in <a href=\"https://stackoverflow.com/a/58744608/1123303\">this answer</a> in any way relevant or implementable in my optaplanner/drools use-case?</li>\n</ol>\n"},{"tags":["java","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651908825,"post_id":72150074,"comment_id":127480727,"body_markdown":"What&#39;s the problem with having `ArrayList&lt;Location&gt; references`?","body":"What&#39;s the problem with having <code>ArrayList&lt;Location&gt; references</code>?"},{"owner":{"account_id":25223185,"reputation":1,"user_id":19059377,"display_name":"Ali Tunahan Işık"},"score":0,"creation_date":1652016936,"post_id":72150074,"comment_id":127498882,"body_markdown":"Firebase does not allow ArrayList&#39;s to be stored in it.","body":"Firebase does not allow ArrayList&#39;s to be stored in it."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652087155,"post_id":72150074,"comment_id":127512109,"body_markdown":"What have you tried in code that doesn&#39;t allow that?","body":"What have you tried in code that doesn&#39;t allow that?"}],"answers":[{"tags":[],"owner":{"account_id":25223185,"reputation":1,"user_id":19059377,"display_name":"Ali Tunahan Işık"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652116055,"creation_date":1652116055,"answer_id":72175791,"question_id":72150074,"body_markdown":"Figured it out. I had an object which is called Route. It also had a List&lt;Stop&gt; which holds Stop objects. When a stop is added to a route, a reference of the Route was also added to Stop to show that, that specific Stop exists in this Route. However, for some reason adding Route(this) reference to Stop and adding Stop to Route(this) crashes the app. I figure it is due to Database holding a copy of the object itself and not a reference which if allowed would result in infinite objects. \r\n\r\nSolution: check if you have cross references between your objects.","title":"How to store custom java objects with ArrayLists in Firebase realtime database","body":"<p>Figured it out. I had an object which is called Route. It also had a List which holds Stop objects. When a stop is added to a route, a reference of the Route was also added to Stop to show that, that specific Stop exists in this Route. However, for some reason adding Route(this) reference to Stop and adding Stop to Route(this) crashes the app. I figure it is due to Database holding a copy of the object itself and not a reference which if allowed would result in infinite objects.</p>\n<p>Solution: check if you have cross references between your objects.</p>\n"}],"owner":{"account_id":25223185,"reputation":1,"user_id":19059377,"display_name":"Ali Tunahan Işık"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72175791,"answer_count":1,"score":0,"last_activity_date":1652116055,"creation_date":1651905303,"question_id":72150074,"body_markdown":"I am trying to store custom java objects in Firebase. These objects have ArrayLists and other object references inside them such as Location. When I try to write these object to the database AndroidStudio gives two errors:\r\n\r\n1. CustomClassMapper.convertToPlainJavaTypes \r\n2. CustomClassMapper.serialize.\r\n\r\nI have read that these issues are due to Firebase only supporting java objects that have default constructors, public getters and implements Serializible. \r\n\r\nBut also (not sure) the object itself should not reference anything other than supported datattypes of Firebase which are `String, Long Double, Boolean, Map&lt;String, Object&gt;, List&lt;Object&gt;. `\r\n\r\nHowever in my project my objects has to have `ArrayList&lt;Location&gt; `references. Any help would be much appreciated.","title":"How to store custom java objects with ArrayLists in Firebase realtime database","body":"<p>I am trying to store custom java objects in Firebase. These objects have ArrayLists and other object references inside them such as Location. When I try to write these object to the database AndroidStudio gives two errors:</p>\n<ol>\n<li>CustomClassMapper.convertToPlainJavaTypes</li>\n<li>CustomClassMapper.serialize.</li>\n</ol>\n<p>I have read that these issues are due to Firebase only supporting java objects that have default constructors, public getters and implements Serializible.</p>\n<p>But also (not sure) the object itself should not reference anything other than supported datattypes of Firebase which are <code>String, Long Double, Boolean, Map&lt;String, Object&gt;, List&lt;Object&gt;. </code></p>\n<p>However in my project my objects has to have <code>ArrayList&lt;Location&gt; </code>references. Any help would be much appreciated.</p>\n"},{"tags":["java","junit","automation","selenide"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1474457559,"post_id":39615314,"comment_id":66537383,"body_markdown":"Wow... as a developer, I would surely be pissed if building some piece of software deleted MY downloads directory. Why don&#39;t you create (and delete) a temp directory?","body":"Wow... as a developer, I would surely be pissed if building some piece of software deleted MY downloads directory. Why don&#39;t you create (and delete) a temp directory?"},{"owner":{"account_id":7277279,"reputation":63,"user_id":5548292,"accept_rate":50,"display_name":"Iriny"},"score":0,"creation_date":1474457835,"post_id":39615314,"comment_id":66537566,"body_markdown":"Makes sense... I just need to figure out how to direct the downloading files to temp folder and not the default one as it used in Chrome brobser","body":"Makes sense... I just need to figure out how to direct the downloading files to temp folder and not the default one as it used in Chrome brobser"},{"owner":{"account_id":7277279,"reputation":63,"user_id":5548292,"accept_rate":50,"display_name":"Iriny"},"score":0,"creation_date":1474458093,"post_id":39615314,"comment_id":66537733,"body_markdown":"I&#39;m not deleting the Downloads directory, I&#39;m deleting all dowloaded files in it.","body":"I&#39;m not deleting the Downloads directory, I&#39;m deleting all dowloaded files in it."},{"owner":{"account_id":2236638,"reputation":2385,"user_id":1972843,"accept_rate":100,"display_name":"Pinkie Swirl"},"score":0,"creation_date":1474460345,"post_id":39615314,"comment_id":66539154,"body_markdown":"For what reason? Are you creating a &quot;cleaner&quot; application? And even then, give the user an option to specify the directory, you don&#39;t know if the user changes the director in chrome (maybe you can read out that info). And if you download something for your app (like an update) use a temp folder.","body":"For what reason? Are you creating a &quot;cleaner&quot; application? And even then, give the user an option to specify the directory, you don&#39;t know if the user changes the director in chrome (maybe you can read out that info). And if you download something for your app (like an update) use a temp folder."},{"owner":{"account_id":7277279,"reputation":63,"user_id":5548292,"accept_rate":50,"display_name":"Iriny"},"score":0,"creation_date":1474460661,"post_id":39615314,"comment_id":66539365,"body_markdown":"It is not the application. I&#39;m creating and running UI automated tests which download a file after particular actions and I need to delete all downloaded files in xlsx format after test run completes just to clean up the local folder and avoid doing it manually.","body":"It is not the application. I&#39;m creating and running UI automated tests which download a file after particular actions and I need to delete all downloaded files in xlsx format after test run completes just to clean up the local folder and avoid doing it manually."},{"owner":{"account_id":6888440,"reputation":1632,"user_id":5292801,"accept_rate":71,"display_name":"Takarii"},"score":0,"creation_date":1474461339,"post_id":39615314,"comment_id":66539830,"body_markdown":"whats wrong with using an internal folder within the applications directory? Why do you need to specifically use the standard download folder?","body":"whats wrong with using an internal folder within the applications directory? Why do you need to specifically use the standard download folder?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1652117596,"post_id":39615314,"comment_id":127523606,"body_markdown":"There are also libraries that already solve this issue, like e.g. https://github.com/dirs-dev/directories-jvm","body":"There are also libraries that already solve this issue, like e.g. <a href=\"https://github.com/dirs-dev/directories-jvm\" rel=\"nofollow noreferrer\">github.com/dirs-dev/directories-jvm</a>"}],"answers":[{"tags":[],"owner":{"account_id":8292603,"reputation":200,"user_id":6233722,"display_name":"Leolian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1474459083,"creation_date":1474458254,"answer_id":39615651,"question_id":39615314,"body_markdown":"Depending on your app you can use `System.getProperty(&quot;os.name&quot;)`.\r\n\r\nMaybe like this\r\n\r\n    //...\r\n    String url;\r\n    switch( System.getProperty(&quot;os.name&quot;) ) {\r\n        case &quot;Windows 8.1&quot;:\r\n        case &quot;Windows Vista&quot;:\r\n        //etc for all windows systems\r\n        {\r\n          url = &quot;C:/Users/user_name/downloads...&quot;\r\n          break;\r\n        }\r\n        case &quot;Mac OS X&quot;: //...\r\n        case &quot;SunOS&quot;: //...\r\n        case &quot;Linux&quot;: //...\r\n        //etc all systems you want to support\r\n    }\r\n\r\n**EDIT**\r\n\r\nAlso `System.getProperty(&quot;user.home&quot;)` can help you\r\n\r\n&gt; &quot;user.home&quot;\tUser home directory\r\n\r\n[Java System properties list][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html &quot;Java System properties list&quot;","title":"java cleanDirectory() how to make directory path OS idependent","body":"<p>Depending on your app you can use <code>System.getProperty(\"os.name\")</code>.</p>\n\n<p>Maybe like this</p>\n\n<pre><code>//...\nString url;\nswitch( System.getProperty(\"os.name\") ) {\n    case \"Windows 8.1\":\n    case \"Windows Vista\":\n    //etc for all windows systems\n    {\n      url = \"C:/Users/user_name/downloads...\"\n      break;\n    }\n    case \"Mac OS X\": //...\n    case \"SunOS\": //...\n    case \"Linux\": //...\n    //etc all systems you want to support\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Also <code>System.getProperty(\"user.home\")</code> can help you</p>\n\n<blockquote>\n  <p>\"user.home\"   User home directory</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow\" title=\"Java System properties list\">Java System properties list</a></p>\n"}],"owner":{"account_id":7277279,"reputation":63,"user_id":5548292,"accept_rate":50,"display_name":"Iriny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39615651,"answer_count":1,"score":1,"last_activity_date":1652115802,"creation_date":1474457247,"question_id":39615314,"body_markdown":"Please, help me with solution. I&#39;m testing the files downloading process and to clear up the Downloads directory using in @AfterClass cleanDirectory() on MAC OS\r\n\r\n    @AfterClass\r\n    public static void clearDownloadDirectory() throws IOException{\r\n        FileUtils.cleanDirectory(new File(&quot;/Users/irina/Downloads&quot;));\r\n    }\r\n\r\nHow to make the Downloads directory path platform independent so it could work for Windows too? \r\n\r\nMaybe I&#39;m looking for the answer in a wrong way. Primary thing I need is to delete all xlsx files from the Downloads folder. ","title":"java cleanDirectory() how to make directory path OS idependent","body":"<p>Please, help me with solution. I'm testing the files downloading process and to clear up the Downloads directory using in @AfterClass cleanDirectory() on MAC OS</p>\n\n<pre><code>@AfterClass\npublic static void clearDownloadDirectory() throws IOException{\n    FileUtils.cleanDirectory(new File(\"/Users/irina/Downloads\"));\n}\n</code></pre>\n\n<p>How to make the Downloads directory path platform independent so it could work for Windows too? </p>\n\n<p>Maybe I'm looking for the answer in a wrong way. Primary thing I need is to delete all xlsx files from the Downloads folder. </p>\n"},{"tags":["java","selenium-webdriver","testing"],"answers":[{"tags":[],"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357613411,"creation_date":1357613411,"answer_id":14207491,"question_id":14206572,"body_markdown":"Ok so here is what I did to make this work:\r\n\r\n    int reasonPriorCount = reason.getText().length();\r\n    int i = 0;\r\n    reason.click();\r\n    while(i &lt; reasonPriorCount)\r\n    {\r\n      reason.sendKeys(Keys.chord(Keys.SHIFT, Keys.ARROW_RIGHT));\r\n      i++;\r\n    }\r\n    reason.sendKeys(Keys.chord(Keys.BACK_SPACE));\r\n\r\n","title":"How Do I Select Everything In a Text Field With WebDriver","body":"<p>Ok so here is what I did to make this work:</p>\n\n<pre><code>int reasonPriorCount = reason.getText().length();\nint i = 0;\nreason.click();\nwhile(i &lt; reasonPriorCount)\n{\n  reason.sendKeys(Keys.chord(Keys.SHIFT, Keys.ARROW_RIGHT));\n  i++;\n}\nreason.sendKeys(Keys.chord(Keys.BACK_SPACE));\n</code></pre>\n"}],"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652115297,"creation_date":1357605715,"question_id":14206572,"body_markdown":"I am testing a webpage which has a counter in a reason field and a previous reason in the reason field. If I do a `field.clear();` the counter is not reset. So I am trying to do the following:\r\n\r\n    \tint reasonPriorCount = reason.getText().length();\r\n\t    reason.click();\r\n\t    reason.sendKeys(Keys.chord(Keys.SHIFT, Keys.ARROW_RIGHT.equals(reasonPriorCount), Keys.DELETE));\r\n\r\nWhere the `reasonPriorCount` is the length of the number of characters in the field. Since the counter is only responding to `Change` or `KeyPress` I am attempting to send the number of right arrow keys equal to the `reasonPriorCount`. \r\n\r\nHowever `Keys.chord` is complaining about the the `reasonPriorCount` argument in the right arrow key press.  Is there a way to do what I need to do? Am I going about this the right way?","title":"How Do I Select Everything In a Text Field With WebDriver","body":"<p>I am testing a webpage which has a counter in a reason field and a previous reason in the reason field. If I do a <code>field.clear();</code> the counter is not reset. So I am trying to do the following:</p>\n\n<pre><code>    int reasonPriorCount = reason.getText().length();\n    reason.click();\n    reason.sendKeys(Keys.chord(Keys.SHIFT, Keys.ARROW_RIGHT.equals(reasonPriorCount), Keys.DELETE));\n</code></pre>\n\n<p>Where the <code>reasonPriorCount</code> is the length of the number of characters in the field. Since the counter is only responding to <code>Change</code> or <code>KeyPress</code> I am attempting to send the number of right arrow keys equal to the <code>reasonPriorCount</code>. </p>\n\n<p>However <code>Keys.chord</code> is complaining about the the <code>reasonPriorCount</code> argument in the right arrow key press.  Is there a way to do what I need to do? Am I going about this the right way?</p>\n"},{"tags":["java","spring","multithreading","multi-tenant","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1883313,"reputation":418,"user_id":1703027,"display_name":"kmandalas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518708998,"creation_date":1518190409,"answer_id":48709162,"question_id":48666940,"body_markdown":"I would probably go with an approach similar to the following one proposed for Cassandra:\r\n\r\n - https://dzone.com/articles/multi-tenant-cassandra-cluster-with-spring-data-ca\r\n\r\nYou can have a look at the related GitHub repository here:\r\n\r\n - https://github.com/gitaroktato/spring-boot-cassandra-multitenant-example\r\n\r\nNow, since Elastic has differences in how you define a Document, you should mainly focus in defining a request-scoped bean that will encapsulate your tenant-id and bind it to your incoming requests.","title":"spring data elasticsearch dynamic multi tenant index mismatch?","body":"<p>I would probably go with an approach similar to the following one proposed for Cassandra:</p>\n\n<ul>\n<li><a href=\"https://dzone.com/articles/multi-tenant-cassandra-cluster-with-spring-data-ca\" rel=\"nofollow noreferrer\">https://dzone.com/articles/multi-tenant-cassandra-cluster-with-spring-data-ca</a></li>\n</ul>\n\n<p>You can have a look at the related GitHub repository here:</p>\n\n<ul>\n<li><a href=\"https://github.com/gitaroktato/spring-boot-cassandra-multitenant-example\" rel=\"nofollow noreferrer\">https://github.com/gitaroktato/spring-boot-cassandra-multitenant-example</a></li>\n</ul>\n\n<p>Now, since Elastic has differences in how you define a Document, you should mainly focus in defining a request-scoped bean that will encapsulate your tenant-id and bind it to your incoming requests.</p>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652115195,"creation_date":1652115195,"answer_id":72175609,"question_id":48666940,"body_markdown":"Here is my solution. I create a RequestScope bean to hold the indexes per HttpRequest\r\n\r\nhttps://stackoverflow.com/questions/72146757/how-does-singleton-bean-handle-dynamic-index\r\n\r\n","title":"spring data elasticsearch dynamic multi tenant index mismatch?","body":"<p>Here is my solution. I create a RequestScope bean to hold the indexes per HttpRequest</p>\n<p><a href=\"https://stackoverflow.com/questions/72146757/how-does-singleton-bean-handle-dynamic-index\">how does singleton bean handle dynamic index</a></p>\n"}],"owner":{"account_id":12898224,"reputation":53,"user_id":9327923,"display_name":"ItsIlias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48709162,"answer_count":2,"score":5,"last_activity_date":1652115195,"creation_date":1518015756,"question_id":48666940,"body_markdown":"I am experimenting with spring data elasticsearch by implementing a cluster which will host multi-tenant indexes, one index per tenant.\r\n\r\nI am able to create and set settings dynamically for each needed index, like\r\n\r\n    public class SpringDataES {\r\n    \r\n    \t@Autowired\r\n    \tprivate ElasticsearchTemplate es;\r\n    \r\n    \t@Autowired\r\n    \tprivate TenantIndexNamingService tenantIndexNamingService;\r\n    \r\n    \tprivate void createIndex(String indexName) {\r\n    \t\tSettings indexSettings = Settings.builder()\r\n    \t\t\t\t\t\t.put(&quot;number_of_shards&quot;, 1)\r\n    \t\t\t\t\t\t.build();\r\n    \t\tCreateIndexRequest indexRequest = new CreateIndexRequest(indexName, indexSettings);\r\n    \t\tes.getClient().admin().indices().create(indexRequest).actionGet();\r\n    \t\tes.refresh(indexName);\r\n    \t}\r\n    \r\n    \tprivate void preapareIndex(String indexName){\r\n    \t\tif (!es.indexExists(indexName)) {\r\n    \t\t\tcreateIndex(indexName);\r\n    \t\t}\r\n    \t\tupdateMappings(indexName);\r\n    \t}\r\n\r\nThe model is created like this\r\n\r\n    @Document(indexName = &quot;#{tenantIndexNamingService.getIndexName()}&quot;, type = &quot;movies&quot;)\r\n    public class Movie {\r\n    \r\n      @Id\r\n      @JsonIgnore\r\n      private String id;\r\n      private String movieTitle;\r\n      @CompletionField(maxInputLength = 100)\r\n      private Completion movieTitleSuggest;\r\n      private String director;\r\n      private Date releaseDate;\r\n\r\nwhere the index name is passed dynamically via the SpEl \r\n\r\n`#{tenantIndexNamingService.getIndexName()}`\r\n\r\nthat is served by\r\n\r\n    @Service\r\n    public class TenantIndexNamingService {\r\n      private static final String INDEX_PREFIX = &quot;test_index_&quot;;\r\n    \r\n      private String indexName = INDEX_PREFIX;\r\n    \r\n      public TenantIndexNamingService() {\r\n      }\r\n    \r\n      public String getIndexName() {\r\n        return  indexName;\r\n      }\r\n    \r\n      public void setIndexName(int tenantId) {\r\n        this.indexName = INDEX_PREFIX + tenantId;\r\n      }\r\n    \r\n      public void setIndexName(String indexName) {\r\n        this.indexName = indexName;\r\n      }\r\n    }\r\n\r\nSo, whenever I have to execute a CRUD action, first I am pointing to the right index and then to execute the desired action\r\n\r\n    tenantIndexNamingService.setIndexName(tenantId);\r\n    movieService.save(new Movie(&quot;Dead Poets Society&quot;, getCompletion(&quot;Dead Poets Society&quot;), &quot;Peter Weir&quot;, new Date()));\r\n\r\nMy assumption is that the following dynamically index assignment, will not work correctly  in a multi-threaded web application:\r\n\r\n    @Document(indexName = &quot;#{tenantIndexNamingService.getIndexName()}&quot;\r\n\r\n\r\nThis is because TenantIndexNamingService is singleton.\r\n\r\nSo my question is how achieve the right behavior in a thread save manner?\r\n","title":"spring data elasticsearch dynamic multi tenant index mismatch?","body":"<p>I am experimenting with spring data elasticsearch by implementing a cluster which will host multi-tenant indexes, one index per tenant.</p>\n\n<p>I am able to create and set settings dynamically for each needed index, like</p>\n\n<pre><code>public class SpringDataES {\n\n    @Autowired\n    private ElasticsearchTemplate es;\n\n    @Autowired\n    private TenantIndexNamingService tenantIndexNamingService;\n\n    private void createIndex(String indexName) {\n        Settings indexSettings = Settings.builder()\n                        .put(\"number_of_shards\", 1)\n                        .build();\n        CreateIndexRequest indexRequest = new CreateIndexRequest(indexName, indexSettings);\n        es.getClient().admin().indices().create(indexRequest).actionGet();\n        es.refresh(indexName);\n    }\n\n    private void preapareIndex(String indexName){\n        if (!es.indexExists(indexName)) {\n            createIndex(indexName);\n        }\n        updateMappings(indexName);\n    }\n</code></pre>\n\n<p>The model is created like this</p>\n\n<pre><code>@Document(indexName = \"#{tenantIndexNamingService.getIndexName()}\", type = \"movies\")\npublic class Movie {\n\n  @Id\n  @JsonIgnore\n  private String id;\n  private String movieTitle;\n  @CompletionField(maxInputLength = 100)\n  private Completion movieTitleSuggest;\n  private String director;\n  private Date releaseDate;\n</code></pre>\n\n<p>where the index name is passed dynamically via the SpEl </p>\n\n<p><code>#{tenantIndexNamingService.getIndexName()}</code></p>\n\n<p>that is served by</p>\n\n<pre><code>@Service\npublic class TenantIndexNamingService {\n  private static final String INDEX_PREFIX = \"test_index_\";\n\n  private String indexName = INDEX_PREFIX;\n\n  public TenantIndexNamingService() {\n  }\n\n  public String getIndexName() {\n    return  indexName;\n  }\n\n  public void setIndexName(int tenantId) {\n    this.indexName = INDEX_PREFIX + tenantId;\n  }\n\n  public void setIndexName(String indexName) {\n    this.indexName = indexName;\n  }\n}\n</code></pre>\n\n<p>So, whenever I have to execute a CRUD action, first I am pointing to the right index and then to execute the desired action</p>\n\n<pre><code>tenantIndexNamingService.setIndexName(tenantId);\nmovieService.save(new Movie(\"Dead Poets Society\", getCompletion(\"Dead Poets Society\"), \"Peter Weir\", new Date()));\n</code></pre>\n\n<p>My assumption is that the following dynamically index assignment, will not work correctly  in a multi-threaded web application:</p>\n\n<pre><code>@Document(indexName = \"#{tenantIndexNamingService.getIndexName()}\"\n</code></pre>\n\n<p>This is because TenantIndexNamingService is singleton.</p>\n\n<p>So my question is how achieve the right behavior in a thread save manner?</p>\n"},{"tags":["java","scala","annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1422725402,"post_id":28173994,"comment_id":44867410,"body_markdown":"I don&#39;t think Jackson has support, but the concept you&#39;re looking for is called meta-annotation.","body":"I don&#39;t think Jackson has support, but the concept you&#39;re looking for is called meta-annotation."},{"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"score":0,"creation_date":1433319936,"post_id":28173994,"comment_id":49295869,"body_markdown":"possible duplicate of [Create a custom Jackson annotation](http://stackoverflow.com/questions/12921812/create-a-custom-jackson-annotation)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12921812/create-a-custom-jackson-annotation\">Create a custom Jackson annotation</a>"}],"answers":[{"tags":[],"owner":{"account_id":1682334,"reputation":5268,"user_id":1829930,"display_name":"Robin Krahl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422718784,"creation_date":1422718784,"answer_id":28253382,"question_id":28173994,"body_markdown":"Looking at Java, there is no reasonable way to do this. [Annotations cannot be extended in current Java versions](https://stackoverflow.com/questions/1624084/why-is-not-possible-to-extend-annotations-in-java), so the easiest approach fails. An other possiblity would be to use reflection to replace all occurrences of a `JsonSerializeARGB` with `JsonSerialize`, though this would only work at runtime, not at compile time. Yet the Java Reflection API only supports [reading annotations](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/AnnotatedElement.html), not adding them.\r\n\r\nSo there are two theoretical approaches:\r\n\r\n - Messing with the compiled byte code, but nobody can honestly want to do that.\r\n - Modifying Jackson (or any other library that reads the annotations) to recognize your custom `JsonSerializeARGB` annotation.\r\n\r\nI’m not familiar with Scala, so I do not know whether there are other options available there. But I doubt that Scala provides methods to add or extends annotation that Java doesn’t.","title":"How to create a shortcut to existing annotation?","body":"<p>Looking at Java, there is no reasonable way to do this. <a href=\"https://stackoverflow.com/questions/1624084/why-is-not-possible-to-extend-annotations-in-java\">Annotations cannot be extended in current Java versions</a>, so the easiest approach fails. An other possiblity would be to use reflection to replace all occurrences of a <code>JsonSerializeARGB</code> with <code>JsonSerialize</code>, though this would only work at runtime, not at compile time. Yet the Java Reflection API only supports <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/AnnotatedElement.html\" rel=\"nofollow\">reading annotations</a>, not adding them.</p>\n\n<p>So there are two theoretical approaches:</p>\n\n<ul>\n<li>Messing with the compiled byte code, but nobody can honestly want to do that.</li>\n<li>Modifying Jackson (or any other library that reads the annotations) to recognize your custom <code>JsonSerializeARGB</code> annotation.</li>\n</ul>\n\n<p>I’m not familiar with Scala, so I do not know whether there are other options available there. But I doubt that Scala provides methods to add or extends annotation that Java doesn’t.</p>\n"},{"tags":[],"owner":{"account_id":1969682,"reputation":642,"user_id":1768993,"display_name":"Albert Sadowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1422722707,"creation_date":1422721261,"answer_id":28253783,"question_id":28173994,"body_markdown":"I&#39;m afraid there is [no way to subtype annotation with Java](https://stackoverflow.com/questions/1624084/why-is-not-possible-to-extend-annotations-in-java) (and Scala) language mechanisms. I think that the only solution is to make a Scala [macro with the annotation](https://stackoverflow.com/questions/13310144/scala-type-aliases-for-annotations).\r\n\r\n[Macro annotations](http://docs.scala-lang.org/overviews/macros/annotations.html) are available with [Macro Paradise plugin](http://docs.scala-lang.org/overviews/macros/paradise.html) for Scala compiler. Hopefully they &#39;ll be included in Scala 2.13. To configure SBT for Macro Paradise you may want to follow [this question](https://stackoverflow.com/questions/18767580/resolving-the-dependency-of-scala-macros-and-compiler-framework-in-sbt). There is also a [useful example](https://github.com/scalamacros/sbt-example-paradise) of project making use of macro paradise.\r\n\r\nI believe that this can be done better (especially DefDef matching), but macro similar to this one should solve your problem: \r\n\r\n    import scala.reflect.macros._\r\n    import scala.annotation.StaticAnnotation\r\n    import scala.language.experimental.macros\r\n\r\n    class JsonSerializeARGB extends StaticAnnotation {\r\n      def macroTransform(annottees: Any*): Any = macro JsonSerializeARGBMacroImpl.impl\r\n    }\r\n\r\n    object JsonSerializeARGBMacroImpl extends JsonSerializeARGBMacro\r\n\r\n    class JsonSerializeARGBMacro {\r\n      def impl(c: Context)(annottees: c.Expr[Any]*): c.Expr[Any] = {\r\n          import c.universe._\r\n    \r\n          def modifiedDef(d: DefDef) = {\r\n            val (mods, name, tparams, paramss, tpt, body) = try {\r\n              val q&quot;$mods def $name[..$tparams](...$paramss): $tpt = $body&quot; = d\r\n              (mods, name, tparams, paramss, tpt, body)\r\n            } catch {\r\n              case _: MatchError =&gt; c.abort(c.enclosingPosition, &quot;Failed to match...&quot;)\r\n            }\r\n\r\n            //TODO there is a problem with modifiers\r\n            c.Expr(q&quot;&quot;&quot;\r\n              @JsonSerialize(using = classOf[CustomColorRGBASerializer])\r\n              def $name[..$tparams](...$paramss): $tpt = $body\r\n              &quot;&quot;&quot;)\r\n          }\r\n   \r\n          annottees.map(_.tree) match {\r\n            case (d: DefDef) :: Nil =&gt; modifiedDef(d)\r\n            case _ =&gt; c.abort(c.enclosingPosition, &quot;Invalid annottee.&quot;)\r\n          }\r\n        }\r\n     }\r\n\r\n","title":"How to create a shortcut to existing annotation?","body":"<p>I'm afraid there is <a href=\"https://stackoverflow.com/questions/1624084/why-is-not-possible-to-extend-annotations-in-java\">no way to subtype annotation with Java</a> (and Scala) language mechanisms. I think that the only solution is to make a Scala <a href=\"https://stackoverflow.com/questions/13310144/scala-type-aliases-for-annotations\">macro with the annotation</a>.</p>\n\n<p><a href=\"http://docs.scala-lang.org/overviews/macros/annotations.html\" rel=\"nofollow noreferrer\">Macro annotations</a> are available with <a href=\"http://docs.scala-lang.org/overviews/macros/paradise.html\" rel=\"nofollow noreferrer\">Macro Paradise plugin</a> for Scala compiler. Hopefully they 'll be included in Scala 2.13. To configure SBT for Macro Paradise you may want to follow <a href=\"https://stackoverflow.com/questions/18767580/resolving-the-dependency-of-scala-macros-and-compiler-framework-in-sbt\">this question</a>. There is also a <a href=\"https://github.com/scalamacros/sbt-example-paradise\" rel=\"nofollow noreferrer\">useful example</a> of project making use of macro paradise.</p>\n\n<p>I believe that this can be done better (especially DefDef matching), but macro similar to this one should solve your problem: </p>\n\n<pre><code>import scala.reflect.macros._\nimport scala.annotation.StaticAnnotation\nimport scala.language.experimental.macros\n\nclass JsonSerializeARGB extends StaticAnnotation {\n  def macroTransform(annottees: Any*): Any = macro JsonSerializeARGBMacroImpl.impl\n}\n\nobject JsonSerializeARGBMacroImpl extends JsonSerializeARGBMacro\n\nclass JsonSerializeARGBMacro {\n  def impl(c: Context)(annottees: c.Expr[Any]*): c.Expr[Any] = {\n      import c.universe._\n\n      def modifiedDef(d: DefDef) = {\n        val (mods, name, tparams, paramss, tpt, body) = try {\n          val q\"$mods def $name[..$tparams](...$paramss): $tpt = $body\" = d\n          (mods, name, tparams, paramss, tpt, body)\n        } catch {\n          case _: MatchError =&gt; c.abort(c.enclosingPosition, \"Failed to match...\")\n        }\n\n        //TODO there is a problem with modifiers\n        c.Expr(q\"\"\"\n          @JsonSerialize(using = classOf[CustomColorRGBASerializer])\n          def $name[..$tparams](...$paramss): $tpt = $body\n          \"\"\")\n      }\n\n      annottees.map(_.tree) match {\n        case (d: DefDef) :: Nil =&gt; modifiedDef(d)\n        case _ =&gt; c.abort(c.enclosingPosition, \"Invalid annottee.\")\n      }\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107682,"reputation":3510,"user_id":1098758,"accept_rate":100,"display_name":"Lionel Port"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422925608,"creation_date":1422925608,"answer_id":28289686,"question_id":28173994,"body_markdown":"Taking a different approach. Jackson supports programattically defining serializers. So you can define your own annotation and then use reflection to find all classes with your annotation and add the serializer mapping.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule simpleModule = new SimpleModule(&quot;MyModule&quot;, new Version(1, 0, 0, null))\r\n    // use reflections to find all classes with Annotation the\r\n    for (classWithAnnotation &lt;- classesWithAnnotation) {\r\n      simpleModule.addSerializer(classWithAnnotation, new CustomColorRGBASerializer());\r\n    }\r\n    mapper.registerModule(simpleModule);\r\n\r\n\r\n","title":"How to create a shortcut to existing annotation?","body":"<p>Taking a different approach. Jackson supports programattically defining serializers. So you can define your own annotation and then use reflection to find all classes with your annotation and add the serializer mapping.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule simpleModule = new SimpleModule(\"MyModule\", new Version(1, 0, 0, null))\n// use reflections to find all classes with Annotation the\nfor (classWithAnnotation &lt;- classesWithAnnotation) {\n  simpleModule.addSerializer(classWithAnnotation, new CustomColorRGBASerializer());\n}\nmapper.registerModule(simpleModule);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4732476,"reputation":526,"user_id":3827697,"display_name":"Sushant Tambare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423063405,"creation_date":1423035673,"answer_id":28315978,"question_id":28173994,"body_markdown":"Here is the example I tried to get what you wanted to do with fasterXML library:\r\n\r\n### 1. Create your own CustomSerializer\r\n\r\n    import java.io.IOException;\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n\r\n    public class CustomSerializer extends JsonSerializer&lt;CustomDTO&gt; {\r\n\r\n\t@Override\r\n\tpublic void serialize(CustomDTO value, JsonGenerator gen,\r\n\t\t\tcom.fasterxml.jackson.databind.SerializerProvider serializers)\r\n\t\t\tthrows IOException,\r\n\t\t\tJsonProcessingException {\r\n\t\tgen.writeStartObject();\r\n\t\tgen.writeStringField(&quot;AccentColor&quot;, value.getAccentColor());\r\n\t\tgen.writeStringField(&quot;ButtonColor&quot;, value.getButtonColor());\r\n\t\tgen.writeEndObject();\r\n\t}\r\n\r\n}\r\n\r\n### 2. Create Annotation to use this CustomSerializer:\r\n\r\n*As of Scala 2.11 this needs to be done in Java, as in Scala it is currently not possible to define annotations with runtime retention.*\r\n\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n      \r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.annotation.JacksonAnnotationsInside;\r\n        \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @JacksonAnnotationsInside\r\n    @JsonSerialize(using = CustomSerializer.class)\r\n    public @interface JsonSeriliazerCustom {}\r\n\r\n### 3. Use this on CustomDTO or your class as follows:\r\n\r\n    @JsonSeriliazerCustom\r\n    public class CustomDTO {\r\n    \r\n    \tprivate String buttonColor;\r\n    \tprivate String accentColor;\r\n    \tprivate String frontColor;\r\n    \r\n    \tpublic String getButtonColor() {\r\n    \t\treturn buttonColor;\r\n    \t}\r\n    \r\n    \tpublic void setButtonColor(String buttonColor) {\r\n    \t\tthis.buttonColor = buttonColor;\r\n    \t}\r\n    \r\n    \tpublic String getAccentColor() {\r\n    \t\treturn accentColor;\r\n    \t}\r\n    \r\n    \tpublic void setAccentColor(String accentColor) {\r\n    \t\tthis.accentColor = accentColor;\r\n    \t}\r\n    \r\n    \tpublic String getFrontColor() {\r\n    \t\treturn frontColor;\r\n    \t}\r\n    \r\n    \tpublic void setFrontColor(String frontColor) {\r\n    \t\tthis.frontColor = frontColor;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n### 4. Write your main method like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonAutoDetect;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.introspect.VisibilityChecker;\r\n    import com.opera.oss.core.dto.CustomDTO;\r\n    \r\n    public class TestJson {\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tCustomDTO responseDTO = new CustomDTO();\r\n    \t\tresponseDTO.setAccentColor(&quot;red&quot;);\r\n    \t\tresponseDTO.setButtonColor(&quot;blue&quot;);\r\n    \t\tresponseDTO.setFrontColor(&quot;yellow&quot;);\r\n    \t\tSystem.out.println(&quot;hey&quot;);\r\n    \t\t ObjectMapper om = new ObjectMapper();\r\n    \t\t VisibilityChecker&lt;?&gt; checker = om.getSerializationConfig().getDefaultVisibilityChecker();\r\n    \t        om.setVisibilityChecker(checker.withFieldVisibility(JsonAutoDetect.Visibility.ANY));\r\n    \t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(om.writer().writeValueAsString(responseDTO));\r\n    \t\t\t} catch (JsonProcessingException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nLibraries used: fasterXML - 2.5.0 version - jackson-core, jackson-data-bind and jackson-annotations\r\n\r\n\r\n\r\n","title":"How to create a shortcut to existing annotation?","body":"<p>Here is the example I tried to get what you wanted to do with fasterXML library:</p>\n\n<h3>1. Create your own CustomSerializer</h3>\n\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.core.JsonProcessingException;\n\npublic class CustomSerializer extends JsonSerializer&lt;CustomDTO&gt; {\n\n@Override\npublic void serialize(CustomDTO value, JsonGenerator gen,\n        com.fasterxml.jackson.databind.SerializerProvider serializers)\n        throws IOException,\n        JsonProcessingException {\n    gen.writeStartObject();\n    gen.writeStringField(\"AccentColor\", value.getAccentColor());\n    gen.writeStringField(\"ButtonColor\", value.getButtonColor());\n    gen.writeEndObject();\n}\n</code></pre>\n\n<p>}</p>\n\n<h3>2. Create Annotation to use this CustomSerializer:</h3>\n\n<p><em>As of Scala 2.11 this needs to be done in Java, as in Scala it is currently not possible to define annotations with runtime retention.</em></p>\n\n<pre><code>import java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.annotation.JacksonAnnotationsInside;\n\n@Retention(RetentionPolicy.RUNTIME)\n@JacksonAnnotationsInside\n@JsonSerialize(using = CustomSerializer.class)\npublic @interface JsonSeriliazerCustom {}\n</code></pre>\n\n<h3>3. Use this on CustomDTO or your class as follows:</h3>\n\n<pre><code>@JsonSeriliazerCustom\npublic class CustomDTO {\n\n    private String buttonColor;\n    private String accentColor;\n    private String frontColor;\n\n    public String getButtonColor() {\n        return buttonColor;\n    }\n\n    public void setButtonColor(String buttonColor) {\n        this.buttonColor = buttonColor;\n    }\n\n    public String getAccentColor() {\n        return accentColor;\n    }\n\n    public void setAccentColor(String accentColor) {\n        this.accentColor = accentColor;\n    }\n\n    public String getFrontColor() {\n        return frontColor;\n    }\n\n    public void setFrontColor(String frontColor) {\n        this.frontColor = frontColor;\n    }\n\n\n}\n</code></pre>\n\n<h3>4. Write your main method like this:</h3>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.introspect.VisibilityChecker;\nimport com.opera.oss.core.dto.CustomDTO;\n\npublic class TestJson {\n\n    public static void main(String[] args)\n    {\n        CustomDTO responseDTO = new CustomDTO();\n        responseDTO.setAccentColor(\"red\");\n        responseDTO.setButtonColor(\"blue\");\n        responseDTO.setFrontColor(\"yellow\");\n        System.out.println(\"hey\");\n         ObjectMapper om = new ObjectMapper();\n         VisibilityChecker&lt;?&gt; checker = om.getSerializationConfig().getDefaultVisibilityChecker();\n            om.setVisibilityChecker(checker.withFieldVisibility(JsonAutoDetect.Visibility.ANY));\n\n            try {\n                System.out.println(om.writer().writeValueAsString(responseDTO));\n            } catch (JsonProcessingException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n    }\n}\n</code></pre>\n\n<p>Libraries used: fasterXML - 2.5.0 version - jackson-core, jackson-data-bind and jackson-annotations</p>\n"}],"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28253783,"answer_count":4,"score":3,"last_activity_date":1652115012,"creation_date":1422372398,"question_id":28173994,"body_markdown":"In my code I am using following annotation several times:\r\n\r\n    @JsonSerialize(using = classOf[CustomColorRGBASerializer])\r\n\r\nTo keep my code short and [DRY][1], I would like to create a shortcut to this, something like:\r\n\r\n    class JsonSerializeARGB\r\n      extends @JsonSerialize(using = classOf[CustomColorRGBASerializer])\r\n\r\nwhich I could then use as a new `@JsonSerializeARGB` annotation\r\n\r\n\r\nI can use annotation, but I do not know how to define them, therefore my attempt certainly looks naive and obviously incorrect, but I hope it bears the meaning through.\r\n\r\nI have read https://stackoverflow.com/questions/2265773/how-do-you-define-an-interface-in-scala and https://stackoverflow.com/questions/5177010/how-to-create-annotations-and-get-them-in-scala, but they did not help me much, as I do not want to create a brand new annotation, rather &quot;subclass&quot; existing annotation. Can this be done?\r\n\r\nIf there is no Scala solution, can something like this be done in Java? (The [Jackson annotations][2] I am working with are defined in Java anyway).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Don%27t_repeat_yourself\r\n  [2]: http://jackson.codehaus.org/1.7.0/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html","title":"How to create a shortcut to existing annotation?","body":"<p>In my code I am using following annotation several times:</p>\n<pre><code>@JsonSerialize(using = classOf[CustomColorRGBASerializer])\n</code></pre>\n<p>To keep my code short and <a href=\"http://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a>, I would like to create a shortcut to this, something like:</p>\n<pre><code>class JsonSerializeARGB\n  extends @JsonSerialize(using = classOf[CustomColorRGBASerializer])\n</code></pre>\n<p>which I could then use as a new <code>@JsonSerializeARGB</code> annotation</p>\n<p>I can use annotation, but I do not know how to define them, therefore my attempt certainly looks naive and obviously incorrect, but I hope it bears the meaning through.</p>\n<p>I have read <a href=\"https://stackoverflow.com/questions/2265773/how-do-you-define-an-interface-in-scala\">How do you define an @interface in Scala?</a> and <a href=\"https://stackoverflow.com/questions/5177010/how-to-create-annotations-and-get-them-in-scala\">How to create annotations and get them in scala</a>, but they did not help me much, as I do not want to create a brand new annotation, rather &quot;subclass&quot; existing annotation. Can this be done?</p>\n<p>If there is no Scala solution, can something like this be done in Java? (The <a href=\"http://jackson.codehaus.org/1.7.0/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html\" rel=\"nofollow noreferrer\">Jackson annotations</a> I am working with are defined in Java anyway).</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8630,"page":1362,"page_size":100}
