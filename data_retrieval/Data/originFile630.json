{"items":[{"tags":["java","command-line","command-line-arguments"],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1677033733,"creation_date":1286327459,"answer_id":3868882,"question_id":3868878,"body_markdown":"The arguments can never be `null`.  They just won&#39;t exist.\r\n\r\nIn other words, what you need to do is check the length of your arguments.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  // Check how many arguments were passed in\r\n  if (args.length == 0) {\r\n    System.out.println(&quot;Proper Usage is: java program filename&quot;);\r\n    System.exit(0);\r\n  }\r\n}\r\n```","title":"Java: Check if command line arguments are null","body":"<p>The arguments can never be <code>null</code>.  They just won't exist.</p>\n<p>In other words, what you need to do is check the length of your arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  // Check how many arguments were passed in\n  if (args.length == 0) {\n    System.out.println(&quot;Proper Usage is: java program filename&quot;);\n    System.exit(0);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1286335027,"post_id":3869272,"comment_id":4115893,"body_markdown":"This is totally incorrect.  If an application is launched with no command line arguments, the `main` method will be called with an `args` array whose length is zero.","body":"This is totally incorrect.  If an application is launched with no command line arguments, the <code>main</code> method will be called with an <code>args</code> array whose length is zero."},{"owner":{"account_id":213882,"reputation":11,"user_id":467519,"display_name":"Puspendu Banerjee"},"score":0,"creation_date":1288214103,"post_id":3869272,"comment_id":4333293,"body_markdown":"@Stephen An array without any element inside, has zero length. Then what&#39;s wrong about my answer?","body":"@Stephen An array without any element inside, has zero length. Then what&#39;s wrong about my answer?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1288215329,"post_id":3869272,"comment_id":4333452,"body_markdown":"@Puspendu - what is wrong is that `dummy[0]` throws an array index out of bounds exception!!  Ditto if you change the program (back) to testing `args[0]` and run it with no arguments.","body":"@Puspendu - what is wrong is that <code>dummy[0]</code> throws an array index out of bounds exception!!  Ditto if you change the program (back) to testing <code>args[0]</code> and run it with no arguments."},{"owner":{"account_id":213882,"reputation":11,"user_id":467519,"display_name":"Puspendu Banerjee"},"score":0,"creation_date":1288236775,"post_id":3869272,"comment_id":4335741,"body_markdown":"@Stephen I have not given any solution rather I tried  to describe the issue. Read &quot;If you don&#39;t pass any argument then even in that case args gets initialized but without any item/element. Try the following one, you will get the same effect:&quot;","body":"@Stephen I have not given any solution rather I tried  to describe the issue. Read &quot;If you don&#39;t pass any argument then even in that case args gets initialized but without any item/element. Try the following one, you will get the same effect:&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1288238665,"post_id":3869272,"comment_id":4335853,"body_markdown":"OK - I understand now.  It would have helped if you hadn&#39;t mistyped your first sentence.  As written it is unintelligible.  I note that you quietly corrected it in your last comment.  Sneaky.","body":"OK - I understand now.  It would have helped if you hadn&#39;t mistyped your first sentence.  As written it is unintelligible.  I note that you quietly corrected it in your last comment.  Sneaky."},{"owner":{"account_id":213882,"reputation":11,"user_id":467519,"display_name":"Puspendu Banerjee"},"score":0,"creation_date":1288239185,"post_id":3869272,"comment_id":4335897,"body_markdown":"Well, It&#39;s nothing &quot;Sneaky&quot;, I have just corrected a TYPO &quot;the&quot; to &quot;then&quot;","body":"Well, It&#39;s nothing &quot;Sneaky&quot;, I have just corrected a TYPO &quot;the&quot; to &quot;then&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1288242983,"post_id":3869272,"comment_id":4336286,"body_markdown":"... without saying so, and at the same time implying that I hadn&#39;t read your answer properly.  That&#39;s the sneaky part!","body":"... without saying so, and at the same time implying that I hadn&#39;t read your answer properly.  That&#39;s the sneaky part!"},{"owner":{"account_id":213882,"reputation":11,"user_id":467519,"display_name":"Puspendu Banerjee"},"score":0,"creation_date":1288262584,"post_id":3869272,"comment_id":4338747,"body_markdown":"Please check now, I have corrected it on the main post.I appreciate your criticism will help me to become a better writer in future!","body":"Please check now, I have corrected it on the main post.I appreciate your criticism will help me to become a better writer in future!"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":1,"creation_date":1445350396,"post_id":3869272,"comment_id":54280757,"body_markdown":"&quot;I have not given any solution rather I tried to describe the issue&quot;. Then don&#39;t post an answer. Post a comment.","body":"&quot;I have not given any solution rather I tried to describe the issue&quot;. Then don&#39;t post an answer. Post a comment."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1522484829,"post_id":3869272,"comment_id":86179469,"body_markdown":"The &quot;corrected&quot; version doesn&#39;t actually illustrate anything.  You are just trying to test a &quot;dummy&quot; variable, not the actual parameters.  And what is more, if you run this &quot;corrected&quot; code you will get an uncaught exception ... not your usage message.  The best thing you can do with this Answer is delete it.","body":"The &quot;corrected&quot; version doesn&#39;t actually illustrate anything.  You are just trying to test a &quot;dummy&quot; variable, not the actual parameters.  And what is more, if you run this &quot;corrected&quot; code you will get an uncaught exception ... not your usage message.  The best thing you can do with this Answer is delete it."}],"tags":[],"owner":{"account_id":213882,"reputation":11,"user_id":467519,"display_name":"Puspendu Banerjee"},"comment_count":10,"down_vote_count":11,"up_vote_count":1,"is_accepted":false,"score":-10,"last_activity_date":1288262397,"creation_date":1286334797,"answer_id":3869272,"question_id":3868878,"body_markdown":"If you don&#39;t pass any argument then even in that case args gets initialized but without any item/element.\r\nTry the following one, you will get the **same effect**:\r\n\r\n&lt;pre&gt;&lt;code&gt; \r\npublic static void main(String[] args) throws InterruptedException {\r\n        String [] dummy= new String [] {};\r\n        if(dummy[0] == null)\r\n        {\r\n            System.out.println(&quot;Proper Usage is: java program filename&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\n    }\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"Java: Check if command line arguments are null","body":"<p>If you don't pass any argument then even in that case args gets initialized but without any item/element.\nTry the following one, you will get the <strong>same effect</strong>:</p>\n\n<pre><code> \npublic static void main(String[] args) throws InterruptedException {\n        String [] dummy= new String [] {};\n        if(dummy[0] == null)\n        {\n            System.out.println(\"Proper Usage is: java program filename\");\n            System.exit(0);\n        }\n\n    }\n</code>\n</pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1519997236,"creation_date":1286334803,"answer_id":3869273,"question_id":3868878,"body_markdown":"@jjnguy&#39;s answer is correct in most circumstances.  You won&#39;t ever see a `null` String in the argument array (or a `null` array) if `main` is called by running the application is run from the command line in the normal way.  \r\n\r\nHowever, if some other part of the application calls a `main` method, it is conceivable that it might pass a `null` argument or `null` argument array.\r\n\r\nHowever(2), this is clearly a highly unusual use-case, *and* it is an egregious violation of the implied contract for a `main` entry-point method.  Therefore, I don&#39;t think you should bother checking for `null` argument values in `main`.  In the unlikely event that they do occur, it is acceptable for the calling code to get a `NullPointerException`.  After all, it is a bug in the caller to violate the contract.","title":"Java: Check if command line arguments are null","body":"<p>@jjnguy's answer is correct in most circumstances.  You won't ever see a <code>null</code> String in the argument array (or a <code>null</code> array) if <code>main</code> is called by running the application is run from the command line in the normal way.  </p>\n\n<p>However, if some other part of the application calls a <code>main</code> method, it is conceivable that it might pass a <code>null</code> argument or <code>null</code> argument array.</p>\n\n<p>However(2), this is clearly a highly unusual use-case, <em>and</em> it is an egregious violation of the implied contract for a <code>main</code> entry-point method.  Therefore, I don't think you should bother checking for <code>null</code> argument values in <code>main</code>.  In the unlikely event that they do occur, it is acceptable for the calling code to get a <code>NullPointerException</code>.  After all, it is a bug in the caller to violate the contract.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1547686741,"post_id":4038930,"comment_id":95281024,"body_markdown":"Unnecessary checks are NOT good practice.  The `null` check is unnecessary, but you are correct that the `length` check is necessary,","body":"Unnecessary checks are NOT good practice.  The <code>null</code> check is unnecessary, but you are correct that the <code>length</code> check is necessary,"}],"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1288227829,"creation_date":1288227829,"answer_id":4038930,"question_id":3868878,"body_markdown":"You should check for `(args == null || args.length == 0)`. Although the `null` check isn&#39;t really needed, it is a good practice.","title":"Java: Check if command line arguments are null","body":"<p>You should check for <code>(args == null || args.length == 0)</code>. Although the <code>null</code> check isn't really needed, it is a good practice.</p>\n"},{"tags":[],"owner":{"account_id":1164579,"reputation":129,"user_id":1143472,"display_name":"Sean Crouse"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1351228288,"creation_date":1326294887,"answer_id":8821644,"question_id":3868878,"body_markdown":"To expand upon this point:\r\n\r\nIt is possible that the args variable itself will be null, but not via normal execution.  Normal execution will use `java.exe` as the entry point from the command line.  However, I have seen some programs that use compiled `C++` code with JNI to use the `jvm.dll`, bypassing the java.exe entirely.  In this case, it is possible to pass `NULL` to the main method, in which case args will be null.\r\n\r\nI recommend always checking `if ((args == null) || (args.length == 0))`, or `if ((args != null) &amp;&amp; (args.length &gt; 0))` depending on your need.","title":"Java: Check if command line arguments are null","body":"<p>To expand upon this point:</p>\n\n<p>It is possible that the args variable itself will be null, but not via normal execution.  Normal execution will use <code>java.exe</code> as the entry point from the command line.  However, I have seen some programs that use compiled <code>C++</code> code with JNI to use the <code>jvm.dll</code>, bypassing the java.exe entirely.  In this case, it is possible to pass <code>NULL</code> to the main method, in which case args will be null.</p>\n\n<p>I recommend always checking <code>if ((args == null) || (args.length == 0))</code>, or <code>if ((args != null) &amp;&amp; (args.length &gt; 0))</code> depending on your need.</p>\n"},{"comments":[{"owner":{"account_id":16217952,"reputation":838,"user_id":11710275,"display_name":"AlexH"},"score":1,"creation_date":1603221036,"post_id":64448556,"comment_id":113966951,"body_markdown":"Please make this a question. Since it does not answer the question, it doesn&#39;t belong here. By asking a question instead, you have a much better chance of getting an answer.","body":"Please make this a question. Since it does not answer the question, it doesn&#39;t belong here. By asking a question instead, you have a much better chance of getting an answer."}],"tags":[],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603208232,"creation_date":1603208232,"answer_id":64448556,"question_id":3868878,"body_markdown":"if i want to check if any speicfic position of command line arguement is passed or not then how to check?\r\nlike for example\r\nin some scenarios 2 command line args will be passed and in some only one will be passed then how do it check wheather the specfic commnad line is passed or not?\r\n\r\n    public class check {\r\n    \r\n    public static void main(String[] args) {\r\n    if(args[0].length()!=0)\r\n    {\r\n    System.out.println(&quot;entered first if&quot;);\r\n    }\r\n    if(args[0].length()!=0 &amp;&amp; args[1].length()!=0)\r\n    {\r\n    System.out.println(&quot;entered second if&quot;);\r\n    }\r\n    }\r\n    }\r\n\r\nSo in the above code if args[1] is not passed then i get java.lang.ArrayIndexOutOfBoundsException:\r\n\r\nso how do i tackle this where i can check if second arguement is passed or not and if passed then enter it.\r\nneed assistance asap.","title":"Java: Check if command line arguments are null","body":"<p>if i want to check if any speicfic position of command line arguement is passed or not then how to check?\nlike for example\nin some scenarios 2 command line args will be passed and in some only one will be passed then how do it check wheather the specfic commnad line is passed or not?</p>\n<pre><code>public class check {\n\npublic static void main(String[] args) {\nif(args[0].length()!=0)\n{\nSystem.out.println(&quot;entered first if&quot;);\n}\nif(args[0].length()!=0 &amp;&amp; args[1].length()!=0)\n{\nSystem.out.println(&quot;entered second if&quot;);\n}\n}\n}\n</code></pre>\n<p>So in the above code if args[1] is not passed then i get java.lang.ArrayIndexOutOfBoundsException:</p>\n<p>so how do i tackle this where i can check if second arguement is passed or not and if passed then enter it.\nneed assistance asap.</p>\n"}],"owner":{"account_id":190952,"reputation":4016,"user_id":431203,"accept_rate":89,"display_name":"Bobby S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207071,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":3868882,"answer_count":6,"score":99,"last_activity_date":1677033733,"creation_date":1286327388,"question_id":3868878,"body_markdown":"I am looking to do some error checking for my command line arguments\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tif(args[0] == null)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Proper Usage is: java program filename&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\nHowever, this returns an array out of bounds exception, which makes sense.  I am just looking for the proper usage.\r\n","title":"Java: Check if command line arguments are null","body":"<p>I am looking to do some error checking for my command line arguments</p>\n\n<pre><code>public static void main(String[] args)\n{\n    if(args[0] == null)\n    {\n        System.out.println(\"Proper Usage is: java program filename\");\n        System.exit(0);\n    }\n}\n</code></pre>\n\n<p>However, this returns an array out of bounds exception, which makes sense.  I am just looking for the proper usage.</p>\n"},{"tags":["java","android","repository","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":6178465,"reputation":124,"user_id":4814697,"accept_rate":25,"display_name":"jam01"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474872626,"creation_date":1474872626,"answer_id":39696375,"question_id":37058892,"body_markdown":"I&#39;d recommend you read up on Aggregates.\r\n\r\nBasically you should only have Repositories for objects that are considered aggregates. An aggregate is an object that can always stand alone and make sense, it contains one or more objects. In your case, even with not a lot of information, I&#39;d say that you have 2 aggregates: user, and device. User is a thing that always makes sense and doesn&#39;t need device or cost to make sense. Cost on the other hand doesn&#39;t make sense without the thing that it is a cost for, therefore the aggregate would be device which has a cost. In practice this means that you have 2 Repositories, one for retrieving users and one for retrieving devices which come wirh costs.\r\n\r\nAgain, since there&#39;s not a lot of information it could very well be that in your application devices don&#39;t make sense without a user so your aggregate would just be user and when you add/retrieve one you get a user that has devices that have a cost. Or all objects could make sense on their own in which case you would have 3 Repositories but I doubt that&#39;s the case. ","title":"Clean architecture interactor implementation","body":"<p>I'd recommend you read up on Aggregates.</p>\n\n<p>Basically you should only have Repositories for objects that are considered aggregates. An aggregate is an object that can always stand alone and make sense, it contains one or more objects. In your case, even with not a lot of information, I'd say that you have 2 aggregates: user, and device. User is a thing that always makes sense and doesn't need device or cost to make sense. Cost on the other hand doesn't make sense without the thing that it is a cost for, therefore the aggregate would be device which has a cost. In practice this means that you have 2 Repositories, one for retrieving users and one for retrieving devices which come wirh costs.</p>\n\n<p>Again, since there's not a lot of information it could very well be that in your application devices don't make sense without a user so your aggregate would just be user and when you add/retrieve one you get a user that has devices that have a cost. Or all objects could make sense on their own in which case you would have 3 Repositories but I doubt that's the case. </p>\n"}],"owner":{"account_id":8147119,"reputation":1,"user_id":6135461,"display_name":"Montreal Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677033317,"creation_date":1462476910,"question_id":37058892,"body_markdown":"I&#39;m trying to separate each layer with Android Clean Arch. I follow the project from https://github.com/dmilicic/Android-Clean-Boilerplate, and Uncle-Bob&#39;s article/code. For now, I didn&#39;t use RxJava, Dragger, etc. just dbflow orm database. Don&#39;t want make a mess now. \r\n\r\nThere are several data repositories&#39; interface in domain for storage implementation. For each kind of data, there are several methods like insert/add, delete, update, getXXXByXX etc. In the example code, it&#39;s just User or Cost repository, and for each data, eg. User has three files(implementation) in interactor.\r\n\r\ninteractor:\r\nDefaultSubscriber\r\nGetUserDetails\r\nGetUserList\r\nUseCase\r\n\r\nrepository:\r\nUserRepository\r\n\r\nSuppose there are User, Cost, Device such three repositories, and in interactor there will be 3X4--12 methods files. If there&#39;s way to reduce files and make one repository&#39;s methods into one Impl file like UserOps which involves methods? Or any other recommendation.","title":"Clean architecture interactor implementation","body":"<p>I'm trying to separate each layer with Android Clean Arch. I follow the project from <a href=\"https://github.com/dmilicic/Android-Clean-Boilerplate\" rel=\"nofollow\">https://github.com/dmilicic/Android-Clean-Boilerplate</a>, and Uncle-Bob's article/code. For now, I didn't use RxJava, Dragger, etc. just dbflow orm database. Don't want make a mess now. </p>\n\n<p>There are several data repositories' interface in domain for storage implementation. For each kind of data, there are several methods like insert/add, delete, update, getXXXByXX etc. In the example code, it's just User or Cost repository, and for each data, eg. User has three files(implementation) in interactor.</p>\n\n<p>interactor:\nDefaultSubscriber\nGetUserDetails\nGetUserList\nUseCase</p>\n\n<p>repository:\nUserRepository</p>\n\n<p>Suppose there are User, Cost, Device such three repositories, and in interactor there will be 3X4--12 methods files. If there's way to reduce files and make one repository's methods into one Impl file like UserOps which involves methods? Or any other recommendation.</p>\n"},{"tags":["java","spring","singleton"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1677030100,"post_id":75527265,"comment_id":133255736,"body_markdown":"yes by default！","body":"yes by default！"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1677033434,"post_id":75527265,"comment_id":133256156,"body_markdown":"Here&#39;s a good overview of the different bean scopes (https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes).  You&#39;ll notice that `Singleton` is the default.","body":"Here&#39;s a good overview of the different bean scopes (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html&zwnj;&#8203;/&hellip;</a>).  You&#39;ll notice that <code>Singleton</code> is the default."}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677033193,"creation_date":1677030899,"answer_id":75527590,"question_id":75527265,"body_markdown":"Yes! by default,\r\n\r\nTry this code:\r\n\r\nthe service:\r\n\r\n    @Service\r\n    public class SomeService() {\r\n        public int num;\r\n    }\r\n\r\nthe controller1: \r\n\r\n    @RestController\r\n    public class SomeController {\r\n        private final SomeService someService;\r\n        public SomeController(SomeService someService){\r\n            this.someService = someService;\r\n            someService.num++;\r\n            System.out.println(someService.num);\r\n        }\r\n    }\r\n\r\nthe controller2:\r\n\r\n    @RestController\r\n    public class AnotherController {\r\n        private final SomeService someService;\r\n        public SomeController(SomeService someService){\r\n            this.someService = someService;\r\n            someService.num++;\r\n            System.out.println(someService.num);\r\n        }\r\n    }\r\n\r\n\r\nput `@Scope(&quot;prototype&quot;)` on service can make service not be  Singleton","title":"Does Spring inject the same instance of a service into multiple components that use it?","body":"<p>Yes! by default,</p>\n<p>Try this code:</p>\n<p>the service:</p>\n<pre><code>@Service\npublic class SomeService() {\n    public int num;\n}\n</code></pre>\n<p>the controller1:</p>\n<pre><code>@RestController\npublic class SomeController {\n    private final SomeService someService;\n    public SomeController(SomeService someService){\n        this.someService = someService;\n        someService.num++;\n        System.out.println(someService.num);\n    }\n}\n</code></pre>\n<p>the controller2:</p>\n<pre><code>@RestController\npublic class AnotherController {\n    private final SomeService someService;\n    public SomeController(SomeService someService){\n        this.someService = someService;\n        someService.num++;\n        System.out.println(someService.num);\n    }\n}\n</code></pre>\n<p>put <code>@Scope(&quot;prototype&quot;)</code> on service can make service not be  Singleton</p>\n"},{"tags":[],"owner":{"account_id":16198126,"reputation":31,"user_id":11695193,"display_name":"lamic Zo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677031069,"creation_date":1677030935,"answer_id":75527594,"question_id":75527265,"body_markdown":"yes,the default bean scope is Singleton in Spring,and Singleton means the two [someService] is the same ,you can print their hashCode and check.and may be you need this https://www.baeldung.com/spring-bean-scopes","title":"Does Spring inject the same instance of a service into multiple components that use it?","body":"<p>yes,the default bean scope is Singleton in Spring,and Singleton means the two [someService] is the same ,you can print their hashCode and check.and may be you need this <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-bean-scopes</a></p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75527590,"answer_count":2,"score":0,"last_activity_date":1677033193,"creation_date":1677026544,"question_id":75527265,"body_markdown":"I have a little confusion or doubt, for example if I have the service:\r\n\r\n    @Service\r\n    public class SomeService() {\r\n    }\r\n\r\nAnd then I have a controller like so:\r\n\r\n        @RestController\r\n        public class SomeController {\r\n          private final SomeService someService;\r\n          public SomeController(SomeService someService){\r\n          this.someService = someService;\r\n          }\r\n        }\r\n\r\nAnd then I have another controller like:\r\n\r\n        @RestController\r\n        public class AnotherController {\r\n          private final SomeService someService;\r\n          public AnotherController(SomeService someService){\r\n          this.someService = someService;\r\n          }\r\n        }\r\n\r\n\r\nSince Spring works with Singleton then I assume that the instance of someService that is at SomeController is the same that is at AnotherController right?","title":"Does Spring inject the same instance of a service into multiple components that use it?","body":"<p>I have a little confusion or doubt, for example if I have the service:</p>\n<pre><code>@Service\npublic class SomeService() {\n}\n</code></pre>\n<p>And then I have a controller like so:</p>\n<pre><code>    @RestController\n    public class SomeController {\n      private final SomeService someService;\n      public SomeController(SomeService someService){\n      this.someService = someService;\n      }\n    }\n</code></pre>\n<p>And then I have another controller like:</p>\n<pre><code>    @RestController\n    public class AnotherController {\n      private final SomeService someService;\n      public AnotherController(SomeService someService){\n      this.someService = someService;\n      }\n    }\n</code></pre>\n<p>Since Spring works with Singleton then I assume that the instance of someService that is at SomeController is the same that is at AnotherController right?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677007045,"post_id":75524939,"comment_id":133250996,"body_markdown":"You probably want to set `spring.datasource.url` in application.properties.","body":"You probably want to set <code>spring.datasource.url</code> in application.properties."},{"owner":{"account_id":27844763,"reputation":1,"user_id":21260481,"display_name":"rohan patel"},"score":0,"creation_date":1677014432,"post_id":75524939,"comment_id":133253008,"body_markdown":"I already have added spring.datasource.url","body":"I already have added spring.datasource.url"}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677033191,"creation_date":1677033191,"answer_id":75527740,"question_id":75524939,"body_markdown":"one of possible the cause problem is that  may  has some other``` DataSourceAutoConfig```, first of all ,chekout out your ```dependency``` ,ensure there no extra ``` DataSourceAutoConfig```. if you wont use database ,it is recommanded exclude all of them which ```DataSourceAutoCOnfig Dependency``` in your application；\r\nand more stack error log  that can be verrrry useful for  troubleshooting the cause of  error .","title":"Spring Boot error@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","body":"<p>one of possible the cause problem is that  may  has some other<code> DataSourceAutoConfig</code>, first of all ,chekout out your <code>dependency</code> ,ensure there no extra <code> DataSourceAutoConfig</code>. if you wont use database ,it is recommanded exclude all of them which <code>DataSourceAutoCOnfig Dependency</code> in your application；\nand more stack error log  that can be verrrry useful for  troubleshooting the cause of  error .</p>\n"}],"owner":{"account_id":27844763,"reputation":1,"user_id":21260481,"display_name":"rohan patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677033191,"creation_date":1677006799,"question_id":75524939,"body_markdown":"    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-21 14:07:24.292 ERROR 81885 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n\r\n\r\nI tried to run the program using dependencies","title":"Spring Boot error@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","body":"<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-02-21 14:07:24.292 ERROR 81885 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>I tried to run the program using dependencies</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication","clean-architecture"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638651993,"post_id":70229081,"comment_id":124146446,"body_markdown":"&quot;the AuthStateChangeListener needs to be in the oncreate of my files&quot; There is nothing in Firebase that specific requires this. Why can&#39;t you put them in the separate class? What happens when you do that? Can you show a [minimal repro](http://stackoverflow.com/help/mcve) of *that* problem?","body":"&quot;the AuthStateChangeListener needs to be in the oncreate of my files&quot; There is nothing in Firebase that specific requires this. Why can&#39;t you put them in the separate class? What happens when you do that? Can you show a <a href=\"http://stackoverflow.com/help/mcve\">minimal repro</a> of <i>that</i> problem?"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1638652953,"post_id":70229081,"comment_id":124146622,"body_markdown":"You have started with a highly coupled example. You are better off following some architecture like MVVM, MVP, MVC - The former being adopted by jetpack architecture. It might make more sense to setup the architecture first rather than trying to refactor to a this highly coupled code.","body":"You have started with a highly coupled example. You are better off following some architecture like MVVM, MVP, MVC - The former being adopted by jetpack architecture. It might make more sense to setup the architecture first rather than trying to refactor to a this highly coupled code."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638863747,"post_id":70229081,"comment_id":124194328,"body_markdown":"If you are interested in implementing a clean architecture, you might consider reading this article, [How to handle Firebase Authentication in clean architecture using Jetpack Compose?](https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8) or [How to create a clean Firebase authentication using MVVM?](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336).","body":"If you are interested in implementing a clean architecture, you might consider reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\" rel=\"nofollow noreferrer\">How to handle Firebase Authentication in clean architecture using Jetpack Compose?</a> or <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">How to create a clean Firebase authentication using MVVM?</a>."}],"owner":{"account_id":11697714,"reputation":11,"user_id":8563896,"display_name":"Pierre junior Sarrailh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677032542,"creation_date":1638648484,"question_id":70229081,"body_markdown":"Hi I want to implement clean architecture while using the realtime database but is seems that it is impossible to seperate the database from the my account screen class. Ideally I would want a DatabaseManager class that would handle all database operation (getting reading and posting to the db) but it seems that because the AuthStateChangeListener needs to be in the oncreate of my files it can&#39;t work. Does anyone know of any work-arounds? Here is the code I am using this on:\r\n\r\n   \r\n    public class CreateAccountScreen extends AppCompatActivity {\r\n\r\n    private Button mRegister;\r\n    private EditText mEmail, mPassword, mCPassword, mName;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth.AuthStateListener firebaseAuthStateListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.create_account);\r\n        \r\n        //------------------------------------------------------\r\n        //I would want to put this in a seperate class \r\n        //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\r\n        //------------------------------------------------------\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (user !=null){\r\n                    Intent intent = new Intent(CreateAccountScreen.this, HomeScreen.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n        //-----------------------------------------------------\r\n        //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        //I would want this in a seperate class\r\n        //------------------------------------------------------\r\n\r\n        mRegister = (Button) findViewById(R.id.goSignIn2);\r\n\r\n        mEmail = (EditText) findViewById(R.id.username3);\r\n        mPassword = (EditText) findViewById(R.id.password2);\r\n        mCPassword = (EditText) findViewById(R.id.password3);\r\n        mName = (EditText) findViewById(R.id.username2);\r\n\r\n        mRegister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final String email = mEmail.getText().toString();\r\n                final String password = mPassword.getText().toString();\r\n                final String cPassword = mCPassword.getText().toString();\r\n                final String name = mName.getText().toString();\r\n                if (name.equals(&quot;&quot;) || password.equals(&quot;&quot;) || email.equals(&quot;&quot;) || !password.equals(cPassword)) {\r\n                    Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                //------------------------------------------------------\r\n                //I would want to also put this in a seperate class \r\n                //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\r\n                //------------------------------------------------------\r\n                //DatabaseManager.createUser(email, password, name, CreateAccountScreen.this);\r\n                mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(CreateAccountScreen.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(!task.isSuccessful()) {\r\n                            Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\r\n                        }else{\r\n                            String userId = mAuth.getCurrentUser().getUid();\r\n                            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId);\r\n                            DatabaseReference currentUserDb2 = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId).child(&quot;connections&quot;).child(&quot;no&quot;).child(userId);\r\n                            Map userInfo = new HashMap&lt;&gt;();\r\n                            userInfo.put(&quot;name&quot;, name);\r\n                            userInfo.put(&quot;profileImageUrl&quot;, &quot;default&quot;);\r\n                            currentUserDb2.setValue(true);\r\n                            currentUserDb.updateChildren(userInfo);\r\n\r\n\r\n\r\n                        }\r\n                    }\r\n                });\r\n                //-----------------------------------------------------\r\n                //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n                //I would want this in a seperate class\r\n                //------------------------------------------------------\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"implementing clean architecture with realtime Firebase in AndroidStudio","body":"<p>Hi I want to implement clean architecture while using the realtime database but is seems that it is impossible to seperate the database from the my account screen class. Ideally I would want a DatabaseManager class that would handle all database operation (getting reading and posting to the db) but it seems that because the AuthStateChangeListener needs to be in the oncreate of my files it can't work. Does anyone know of any work-arounds? Here is the code I am using this on:</p>\n<pre><code>public class CreateAccountScreen extends AppCompatActivity {\n\nprivate Button mRegister;\nprivate EditText mEmail, mPassword, mCPassword, mName;\n\nprivate FirebaseAuth mAuth;\nprivate FirebaseAuth.AuthStateListener firebaseAuthStateListener;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState){\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    setContentView(R.layout.create_account);\n    \n    //------------------------------------------------------\n    //I would want to put this in a seperate class \n    //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\n    //------------------------------------------------------\n    mAuth = FirebaseAuth.getInstance();\n    firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n            final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n            if (user !=null){\n                Intent intent = new Intent(CreateAccountScreen.this, HomeScreen.class);\n                startActivity(intent);\n                finish();\n                return;\n            }\n        }\n    };\n    //-----------------------------------------------------\n    //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    //I would want this in a seperate class\n    //------------------------------------------------------\n\n    mRegister = (Button) findViewById(R.id.goSignIn2);\n\n    mEmail = (EditText) findViewById(R.id.username3);\n    mPassword = (EditText) findViewById(R.id.password2);\n    mCPassword = (EditText) findViewById(R.id.password3);\n    mName = (EditText) findViewById(R.id.username2);\n\n    mRegister.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            final String email = mEmail.getText().toString();\n            final String password = mPassword.getText().toString();\n            final String cPassword = mCPassword.getText().toString();\n            final String name = mName.getText().toString();\n            if (name.equals(&quot;&quot;) || password.equals(&quot;&quot;) || email.equals(&quot;&quot;) || !password.equals(cPassword)) {\n                Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n            //------------------------------------------------------\n            //I would want to also put this in a seperate class \n            //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\n            //------------------------------------------------------\n            //DatabaseManager.createUser(email, password, name, CreateAccountScreen.this);\n            mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(CreateAccountScreen.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(!task.isSuccessful()) {\n                        Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\n                    }else{\n                        String userId = mAuth.getCurrentUser().getUid();\n                        DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId);\n                        DatabaseReference currentUserDb2 = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId).child(&quot;connections&quot;).child(&quot;no&quot;).child(userId);\n                        Map userInfo = new HashMap&lt;&gt;();\n                        userInfo.put(&quot;name&quot;, name);\n                        userInfo.put(&quot;profileImageUrl&quot;, &quot;default&quot;);\n                        currentUserDb2.setValue(true);\n                        currentUserDb.updateChildren(userInfo);\n\n\n\n                    }\n                }\n            });\n            //-----------------------------------------------------\n            //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            //I would want this in a seperate class\n            //------------------------------------------------------\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-viewmodel","android-mvvm"],"owner":{"account_id":8806138,"reputation":523,"user_id":6841157,"display_name":"Jeff L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677032245,"creation_date":1677032245,"question_id":75527678,"body_markdown":"I have the following line of code:\r\n\r\n`ViewModelProvider.Factory factory = ViewModelProvider.AndroidViewModelFactory(requireActivity().getApplication());`\r\n\r\nwhich is presenting as an error saying that AndroidViewModelFactory is not a `Factory` despite `AndroidViewModelFactory` inheriting from `NewInstanceFactory` which implements `Factory`. My guess of why this error is showing up is that under the hood `AndroidViewModelFactory`&#39;s constructor that inherits from `NewInstanceFactory` is private for some compatibility reason, and the constructor I&#39;m using [inherits from that private constructor](https://github.com/androidx/androidx/blob/644ad6b0a7d1eb61b89ac9d804e8d4622d0074d6/lifecycle/lifecycle-viewmodel/src/main/java/androidx/lifecycle/ViewModelProvider.kt#L252-L275). Anyone know how I can fix or suppress this issue? ","title":"AndroidViewModelFactory incorrect type warning","body":"<p>I have the following line of code:</p>\n<p><code>ViewModelProvider.Factory factory = ViewModelProvider.AndroidViewModelFactory(requireActivity().getApplication());</code></p>\n<p>which is presenting as an error saying that AndroidViewModelFactory is not a <code>Factory</code> despite <code>AndroidViewModelFactory</code> inheriting from <code>NewInstanceFactory</code> which implements <code>Factory</code>. My guess of why this error is showing up is that under the hood <code>AndroidViewModelFactory</code>'s constructor that inherits from <code>NewInstanceFactory</code> is private for some compatibility reason, and the constructor I'm using <a href=\"https://github.com/androidx/androidx/blob/644ad6b0a7d1eb61b89ac9d804e8d4622d0074d6/lifecycle/lifecycle-viewmodel/src/main/java/androidx/lifecycle/ViewModelProvider.kt#L252-L275\" rel=\"nofollow noreferrer\">inherits from that private constructor</a>. Anyone know how I can fix or suppress this issue?</p>\n"},{"tags":["java","keystore","jce","ibm-jdk"],"owner":{"account_id":13799479,"reputation":74,"user_id":9959786,"display_name":"priyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677032026,"creation_date":1629710572,"question_id":68890159,"body_markdown":"I am trying to load JCKES keystore which is using SunJCE provider in my application which is running IBM JDK 8 (power linux).\r\n\r\nTo enable my application to load keystore, I have done below steps:\r\n- Extracted sun package from oracle jdk&#39;s rt.jar, created sun.jar with extracted package and added sun.jar in IBM JDK lib ext folder. \r\n- Copied sunjce_provider jar from oracle JDK to IBM JDK lib ext folder. \r\n- Sun jars are taken from oracle JDK installed on windows.\r\n- Added com.sun.crypto.provider.SunJCE provider in java.security file of IBM JDK.\r\n\r\n**Please let me know what more changes are needed to load the keystore.**\r\n\r\n*Here is the code which is trying to load the keystore:*\r\n```    \r\n    File file = new File(keystorelocation);\r\n    KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n    FileInputStream is = new FileInputStream(file);\r\n    ks.load(is, password);\r\n```\r\n\r\nHowever, my application fails to start with error:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: Class com/sun/crypto/provider/SunJCE illegally accessing &quot;package private&quot; member of class sun/security/provider/SunEntries\r\n    at com.sun.crypto.provider.SunJCE.putEntries(SunJCE.java:128)\r\n    at com.sun.crypto.provider.SunJCE.&lt;init&gt;(SunJCE.java:111)\r\n    at java.lang.J9VMInternals.newInstanceImpl(Native Method)\r\n    at java.lang.Class.newInstance(Class.java:2038)\r\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:233)\r\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:218)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\r\n```\r\nIf I remove SunJCE provider entry from java.security file, application starts successfully, but I get below error while trying to load keystore:\r\n```\r\nInvalid secret key format\r\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\r\n    at java.security.KeyStore.load(KeyStore.java:1456)\r\n```\r\n\r\nAnd If I do not add any Sun jars in IBM JDK, I get below error while trying to load keystore:\r\n```\r\njava.io.IOException: com.sun.crypto.provider.SealedObjectForKeyProtector\r\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\r\n    at java.security.KeyStore.load(KeyStore.java:1456)\r\n```\r\nThanks!\r\n","title":"Load JCKES keystore using SunJCE provider on IBM JDK","body":"<p>I am trying to load JCKES keystore which is using SunJCE provider in my application which is running IBM JDK 8 (power linux).</p>\n<p>To enable my application to load keystore, I have done below steps:</p>\n<ul>\n<li>Extracted sun package from oracle jdk's rt.jar, created sun.jar with extracted package and added sun.jar in IBM JDK lib ext folder.</li>\n<li>Copied sunjce_provider jar from oracle JDK to IBM JDK lib ext folder.</li>\n<li>Sun jars are taken from oracle JDK installed on windows.</li>\n<li>Added com.sun.crypto.provider.SunJCE provider in java.security file of IBM JDK.</li>\n</ul>\n<p><strong>Please let me know what more changes are needed to load the keystore.</strong></p>\n<p><em>Here is the code which is trying to load the keystore:</em></p>\n<pre><code>    File file = new File(keystorelocation);\n    KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\n    FileInputStream is = new FileInputStream(file);\n    ks.load(is, password);\n</code></pre>\n<p>However, my application fails to start with error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: Class com/sun/crypto/provider/SunJCE illegally accessing &quot;package private&quot; member of class sun/security/provider/SunEntries\n    at com.sun.crypto.provider.SunJCE.putEntries(SunJCE.java:128)\n    at com.sun.crypto.provider.SunJCE.&lt;init&gt;(SunJCE.java:111)\n    at java.lang.J9VMInternals.newInstanceImpl(Native Method)\n    at java.lang.Class.newInstance(Class.java:2038)\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:233)\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:218)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n</code></pre>\n<p>If I remove SunJCE provider entry from java.security file, application starts successfully, but I get below error while trying to load keystore:</p>\n<pre><code>Invalid secret key format\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\n    at java.security.KeyStore.load(KeyStore.java:1456)\n</code></pre>\n<p>And If I do not add any Sun jars in IBM JDK, I get below error while trying to load keystore:</p>\n<pre><code>java.io.IOException: com.sun.crypto.provider.SealedObjectForKeyProtector\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\n    at java.security.KeyStore.load(KeyStore.java:1456)\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","flutter","java-home","flutter-doctor"],"comments":[{"owner":{"account_id":15047923,"reputation":33,"user_id":10860442,"display_name":"Mahan"},"score":0,"creation_date":1676066329,"post_id":75416453,"comment_id":133069994,"body_markdown":"Before this, I installed **Java version 17** and this problem did not exist in this version, but I had problems building the project with that version of Java.","body":"Before this, I installed <b>Java version 17</b> and this problem did not exist in this version, but I had problems building the project with that version of Java."}],"answers":[{"comments":[{"owner":{"account_id":16663,"reputation":14248,"user_id":36545,"accept_rate":76,"display_name":"kylex"},"score":1,"creation_date":1679459514,"post_id":75527653,"comment_id":133724524,"body_markdown":"This worked for me in Mac too.\n\nAndroid Studio &gt; Settings &gt; System Settings &gt; Android SDK &gt; SDK Tools &gt; Android SDK Command Line Tools  &gt; Uncheck Latest &gt; Check 8.0 &gt; Apply Button","body":"This worked for me in Mac too.  Android Studio &gt; Settings &gt; System Settings &gt; Android SDK &gt; SDK Tools &gt; Android SDK Command Line Tools  &gt; Uncheck Latest &gt; Check 8.0 &gt; Apply Button"},{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1695227006,"post_id":75527653,"comment_id":135997265,"body_markdown":"Worked for me too @kylex","body":"Worked for me too @kylex"}],"tags":[],"owner":{"account_id":27846809,"reputation":21,"user_id":21262100,"display_name":"03 11"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677031839,"creation_date":1677031839,"answer_id":75527653,"question_id":75416453,"body_markdown":"1、Uncheck Android SDK command-line Tools (latest)\r\n2、Check Android SDK command-line Tools 8.0\r\n3、Click Apply\r\nIn Windows, go to “C:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk\\cmdline-tools” and rename the 8.0 folder to “latest”\r\n4、Run Flutter doctor again.","title":"Flutter doctor --android-licenses error: A JNI error has occurred, please check your installation and try again","body":"<p>1、Uncheck Android SDK command-line Tools (latest)\n2、Check Android SDK command-line Tools 8.0\n3、Click Apply\nIn Windows, go to “C:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk\\cmdline-tools” and rename the 8.0 folder to “latest”\n4、Run Flutter doctor again.</p>\n"}],"owner":{"account_id":15047923,"reputation":33,"user_id":10860442,"display_name":"Mahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677031839,"creation_date":1676065997,"question_id":75416453,"body_markdown":"I set **JAVA_HOME** and install **android SDK command-line Tools** but I still get an error\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n        at java.lang.Class.getMethod0(Class.java:3018)\r\n        at java.lang.Class.getMethod(Class.java:1784)\r\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\n```\r\nThis is my **```java -version```**:\r\n```\r\njava version &quot;1.8.0_351&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)\r\n```\r\nThis is my **```javac -version```**:\r\n```\r\njavac 1.8.0_351\r\n```\r\n\r\nI also add ```C:\\Program Files\\Java\\jdk1.8.0_351\\bin``` in **```path```** on Environment","title":"Flutter doctor --android-licenses error: A JNI error has occurred, please check your installation and try again","body":"<p>I set <strong>JAVA_HOME</strong> and install <strong>android SDK command-line Tools</strong> but I still get an error</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\n</code></pre>\n<p>This is my <strong><code>java -version</code></strong>:</p>\n<pre><code>java version &quot;1.8.0_351&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)\n</code></pre>\n<p>This is my <strong><code>javac -version</code></strong>:</p>\n<pre><code>javac 1.8.0_351\n</code></pre>\n<p>I also add <code>C:\\Program Files\\Java\\jdk1.8.0_351\\bin</code> in <strong><code>path</code></strong> on Environment</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634734482,"post_id":69646277,"comment_id":123104298,"body_markdown":"Some plugin probably can&#39;t handle JDK17 compiled classes yet. Wait a while and use an eralier JDK for now.","body":"Some plugin probably can&#39;t handle JDK17 compiled classes yet. Wait a while and use an eralier JDK for now."},{"owner":{"account_id":21456373,"reputation":141,"user_id":15807930,"display_name":"DiZZie"},"score":0,"creation_date":1634735729,"post_id":69646277,"comment_id":123104903,"body_markdown":"Unfortunately after I change Gradle&#39;s JDK to 16 and I set compileOptions to VERSION_16 I still get the same error. I use Gradle 7.2 and Gradle Plugin 7.0.3 which should be fine according to [compatibility](https://docs.gradle.org/current/userguide/compatibility.html). Any idea how I can solve it?","body":"Unfortunately after I change Gradle&#39;s JDK to 16 and I set compileOptions to VERSION_16 I still get the same error. I use Gradle 7.2 and Gradle Plugin 7.0.3 which should be fine according to <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatibility</a>. Any idea how I can solve it?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634735849,"post_id":69646277,"comment_id":123104953,"body_markdown":"Again: the problem is almost certainly not gradle itself, but some of the android-related plugins. If you get the **same** error message (including the class version number), then you probably just need to clean and re-build.","body":"Again: the problem is almost certainly not gradle itself, but some of the android-related plugins. If you get the <b>same</b> error message (including the class version number), then you probably just need to clean and re-build."},{"owner":{"account_id":21456373,"reputation":141,"user_id":15807930,"display_name":"DiZZie"},"score":0,"creation_date":1634743505,"post_id":69646277,"comment_id":123108853,"body_markdown":"I tried cleaning + rebuilding on JDK16 but still the same error. Can I even use this dependency with JDK &lt; 17? @5377037 What code should I provide? My build.gradle?","body":"I tried cleaning + rebuilding on JDK16 but still the same error. Can I even use this dependency with JDK &lt; 17? @5377037 What code should I provide? My build.gradle?"},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1634744726,"post_id":69646277,"comment_id":123109357,"body_markdown":"Yes try to minimal code according to stackoverflow guidelines or if possible share your debugging details.","body":"Yes try to minimal code according to stackoverflow guidelines or if possible share your debugging details."},{"owner":{"account_id":4973700,"reputation":1935,"user_id":4000694,"accept_rate":50,"display_name":"HappyCactus"},"score":0,"creation_date":1634843733,"post_id":69646277,"comment_id":123142817,"body_markdown":"I had the same issue today, OpenJDK 18 and Gradle 7.0.2. Upgrading Gradle to 7.2 just fixed the issue.","body":"I had the same issue today, OpenJDK 18 and Gradle 7.0.2. Upgrading Gradle to 7.2 just fixed the issue."}],"answers":[{"tags":[],"owner":{"account_id":13671308,"reputation":1299,"user_id":9863904,"display_name":"Hasan El-Hefnawy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675744054,"creation_date":1642057763,"answer_id":70692657,"question_id":69646277,"body_markdown":"As per the [docs][1], JDK 17 isn&#39;t supported yet in Android Studio. Actually, [JDK 11 was supported starting from version 4.2][2] which was released in April 2021.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases\r\n  [2]: https://developer.android.com/studio/past-releases/past-android-studio-releases/as-4-2-0-release-notes#4.2-bundled-jdk-11","title":"Android Studio and JDK17","body":"<p>As per the <a href=\"https://developer.android.com/studio/releases\" rel=\"nofollow noreferrer\">docs</a>, JDK 17 isn't supported yet in Android Studio. Actually, <a href=\"https://developer.android.com/studio/past-releases/past-android-studio-releases/as-4-2-0-release-notes#4.2-bundled-jdk-11\" rel=\"nofollow noreferrer\">JDK 11 was supported starting from version 4.2</a> which was released in April 2021.</p>\n"},{"tags":[],"owner":{"account_id":11187514,"reputation":1634,"user_id":8209253,"display_name":"Just The Highlights"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1675685649,"creation_date":1670105191,"answer_id":74671130,"question_id":69646277,"body_markdown":"Perhaps you can try **Android Studio Flamingo | 2022.2.1**. It&#39;s still in Beta at the time of writing but JDK 17 is bundled into it as the default according to the [release notes][1].\r\n\r\n&gt; Starting from Android Studio Flamingo Canary 3, the Studio IDE is bundled with JDK 17. If Android Studio is configured to use the embedded JDK, new projects will use the latest stable version of the Android Gradle plugin and JDK 17. However, existing projects might break, and you might have to manually set the JDK to a compatible version.\r\n\r\n  [1]: https://developer.android.com/studio/preview/features/#jdk-17","title":"Android Studio and JDK17","body":"<p>Perhaps you can try <strong>Android Studio Flamingo | 2022.2.1</strong>. It's still in Beta at the time of writing but JDK 17 is bundled into it as the default according to the <a href=\"https://developer.android.com/studio/preview/features/#jdk-17\" rel=\"noreferrer\">release notes</a>.</p>\n<blockquote>\n<p>Starting from Android Studio Flamingo Canary 3, the Studio IDE is bundled with JDK 17. If Android Studio is configured to use the embedded JDK, new projects will use the latest stable version of the Android Gradle plugin and JDK 17. However, existing projects might break, and you might have to manually set the JDK to a compatible version.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4567341,"reputation":76,"user_id":3708027,"display_name":"Clayton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677031350,"creation_date":1677031350,"answer_id":75527624,"question_id":69646277,"body_markdown":"Android 14, Upside Down cake will contain Java 17 features. According to https://www.xda-developers.com/android-14/, these classes should be available to older devices as well.","title":"Android Studio and JDK17","body":"<p>Android 14, Upside Down cake will contain Java 17 features. According to <a href=\"https://www.xda-developers.com/android-14/\" rel=\"nofollow noreferrer\">https://www.xda-developers.com/android-14/</a>, these classes should be available to older devices as well.</p>\n"}],"owner":{"account_id":21456373,"reputation":141,"user_id":15807930,"display_name":"DiZZie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22698,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1677031350,"creation_date":1634734133,"question_id":69646277,"body_markdown":"I&#39;ve been trying to use this [API][1] in Android Studio via Gradle, but when I build my project it throws Unsupported class file major version 61.\r\n\r\nFrom what I&#39;ve researched it&#39;s because I use JDK version 17 and Gradle does not yet support it, but in the API it&#39;s stated that it requires Java 17. Is there any way I could still use this API in Android Studio?\r\n\r\nSorry if this is a newbie question but I&#39;m fairly new to Android.\r\n\r\n\r\n  [1]: https://github.com/tors42/chariot","title":"Android Studio and JDK17","body":"<p>I've been trying to use this <a href=\"https://github.com/tors42/chariot\" rel=\"noreferrer\">API</a> in Android Studio via Gradle, but when I build my project it throws Unsupported class file major version 61.</p>\n<p>From what I've researched it's because I use JDK version 17 and Gradle does not yet support it, but in the API it's stated that it requires Java 17. Is there any way I could still use this API in Android Studio?</p>\n<p>Sorry if this is a newbie question but I'm fairly new to Android.</p>\n"},{"tags":["java","download","p2"],"comments":[{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1406747479,"post_id":25045003,"comment_id":38955334,"body_markdown":"Any other API exists for downloading Huge Files ?","body":"Any other API exists for downloading Huge Files ?"},{"owner":{"account_id":469838,"reputation":6333,"user_id":876686,"accept_rate":82,"display_name":"tier1"},"score":1,"creation_date":1406747646,"post_id":25045003,"comment_id":38955440,"body_markdown":"What is your actual question or what is not working about this code?","body":"What is your actual question or what is not working about this code?"},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":0,"creation_date":1406747765,"post_id":25045003,"comment_id":38955504,"body_markdown":"Call `flush()` on your `FileOutputStream` and then `close()` it.","body":"Call <code>flush()</code> on your <code>FileOutputStream</code> and then <code>close()</code> it."}],"answers":[{"comments":[{"owner":{"account_id":1422461,"reputation":367,"user_id":1346821,"display_name":"ormurin"},"score":0,"creation_date":1610458113,"post_id":25045101,"comment_id":116134573,"body_markdown":"It seems strange to avoid BufferedInputStream when you are implementing exactly a buffer here. Can you elaborate why BufferedInputStream is not a good fit?","body":"It seems strange to avoid BufferedInputStream when you are implementing exactly a buffer here. Can you elaborate why BufferedInputStream is not a good fit?"},{"owner":{"account_id":8018332,"reputation":132,"user_id":6047804,"display_name":"Gamebuster19901"},"score":0,"creation_date":1640718004,"post_id":25045101,"comment_id":124642261,"body_markdown":"The question is asking how to download a file from a URL. FileInputStream is not how you read/download a file from a URL. FileInputStream is used to read data from the file system.","body":"The question is asking how to download a file from a URL. FileInputStream is not how you read/download a file from a URL. FileInputStream is used to read data from the file system."}],"tags":[],"owner":{"account_id":3694211,"reputation":299,"user_id":3076069,"accept_rate":90,"display_name":"Rakesh Sharma"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1406747804,"creation_date":1406747804,"answer_id":25045101,"question_id":25045003,"body_markdown":"Firstly,\r\nI&#39;d suggest you use:\r\n\r\n    FileInputStream in = new FileInputStream(file);  \r\n\r\n \r\n\r\ninstead of:\r\n\r\n    BufferedInputStream in = new BufferedInputStream(new FileInputStream(file));\r\n\r\n(To avoid building up memory usage)\r\n\r\n    try\r\n    {\r\n        FileInputStream fileInputStream  = new FileInputStream(file);\r\n        byte[] buf=new byte[8192];\r\n        int bytesread = 0, bytesBuffered = 0;\r\n        while( (bytesread = fileInputStream.read( buf )) &gt; -1 ) {\r\n            out.write( buf, 0, bytesread );\r\n            bytesBuffered += bytesread;\r\n            if (bytesBuffered &gt; 1024 * 1024) { //flush after 1MB\r\n                bytesBuffered = 0;\r\n                out.flush();\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        if (out != null) {\r\n            out.flush();\r\n        }\r\n    }\r\n    \r\n    \r\n       ","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>Firstly,\nI'd suggest you use:</p>\n\n<pre><code>FileInputStream in = new FileInputStream(file);  \n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>BufferedInputStream in = new BufferedInputStream(new FileInputStream(file));\n</code></pre>\n\n<p>(To avoid building up memory usage)</p>\n\n<pre><code>try\n{\n    FileInputStream fileInputStream  = new FileInputStream(file);\n    byte[] buf=new byte[8192];\n    int bytesread = 0, bytesBuffered = 0;\n    while( (bytesread = fileInputStream.read( buf )) &gt; -1 ) {\n        out.write( buf, 0, bytesread );\n        bytesBuffered += bytesread;\n        if (bytesBuffered &gt; 1024 * 1024) { //flush after 1MB\n            bytesBuffered = 0;\n            out.flush();\n        }\n    }\n}\nfinally {\n    if (out != null) {\n        out.flush();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148519,"reputation":3710,"user_id":2662475,"display_name":"Xabster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406748069,"creation_date":1406748069,"answer_id":25045180,"question_id":25045003,"body_markdown":"Please read BufferedInputStream&#39;s method .available() in the API.\r\n\r\nIt returns the number of available bytes already downloaded (ie. the number of bytes you can read out of the stream without accessing/waiting for the network).\r\n\r\nYou should create a fixed size byte array, fx. 2048 bytes, and use the read() methods until it returns -1.","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>Please read BufferedInputStream's method .available() in the API.</p>\n\n<p>It returns the number of available bytes already downloaded (ie. the number of bytes you can read out of the stream without accessing/waiting for the network).</p>\n\n<p>You should create a fixed size byte array, fx. 2048 bytes, and use the read() methods until it returns -1.</p>\n"},{"comments":[{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1406799397,"post_id":25045224,"comment_id":38974912,"body_markdown":"Amit : Thanks for your reply.. Any restriction in terms of file size is there while using  FileUtils.copyURLToFile(url, dstFile), Can we download all files (regardless of its size) ?","body":"Amit : Thanks for your reply.. Any restriction in terms of file size is there while using  FileUtils.copyURLToFile(url, dstFile), Can we download all files (regardless of its size) ?"},{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1406799487,"post_id":25045224,"comment_id":38974963,"body_markdown":"do we need to take care of closing the stream when invoking the \nFileUtils.copyURLToFile(url, dstFile) method ?","body":"do we need to take care of closing the stream when invoking the  FileUtils.copyURLToFile(url, dstFile) method ?"},{"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"score":0,"creation_date":1406802216,"post_id":25045224,"comment_id":38976592,"body_markdown":"No need, see the [source code](http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.2/org/apache/commons/io/FileUtils.java#FileUtils.copyURLToFile%28java.net.URL%2Cjava.io.File%29), And there is no limit in size","body":"No need, see the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.2/org/apache/commons/io/FileUtils.java#FileUtils.copyURLToFile%28java.net.URL%2Cjava.io.File%29\" rel=\"nofollow noreferrer\">source code</a>, And there is no limit in size"},{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1407906295,"post_id":25045224,"comment_id":39391141,"body_markdown":"HiberKnight: Hi, whether this copyURLToFile() copies the list of files present in a directory from server ? i mean that if a directory in server has a list of files and if i provide the the directory location as the URL argument. then whether it holds good ?","body":"HiberKnight: Hi, whether this copyURLToFile() copies the list of files present in a directory from server ? i mean that if a directory in server has a list of files and if i provide the the directory location as the URL argument. then whether it holds good ?"},{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1407907018,"post_id":25045224,"comment_id":39391349,"body_markdown":"I think it is not possible to download all the files from server.\nIs there any API which does this ?","body":"I think it is not possible to download all the files from server. Is there any API which does this ?"},{"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"score":0,"creation_date":1407909632,"post_id":25045224,"comment_id":39392135,"body_markdown":"No, It is not. For that you need to download the directory page prase all the anchor tags, get the url for individual files and then download them in loop.","body":"No, It is not. For that you need to download the directory page prase all the anchor tags, get the url for individual files and then download them in loop."},{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1407910635,"post_id":25045224,"comment_id":39392527,"body_markdown":"Thanks, but that seems to be a costlier operation (getting the HTML file and parsing all the tags). Any other way (or open source API) exists for accomplishing this ?","body":"Thanks, but that seems to be a costlier operation (getting the HTML file and parsing all the tags). Any other way (or open source API) exists for accomplishing this ?"},{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1407910689,"post_id":25045224,"comment_id":39392553,"body_markdown":"because everywhere in blogs, they are talking about file download only and not directory download.","body":"because everywhere in blogs, they are talking about file download only and not directory download."},{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1407922102,"post_id":25045224,"comment_id":39398837,"body_markdown":"HiberKnight: How to get the URL for individual files in a directory ?","body":"HiberKnight: How to get the URL for individual files in a directory ?"},{"owner":{"account_id":1696323,"reputation":643,"user_id":1557649,"display_name":"movAX13h"},"score":0,"creation_date":1676549854,"post_id":25045224,"comment_id":133161490,"body_markdown":"You don&#39;t need to create the folders leading up to the target folder. From the docs: `Copies bytes from the URL source to a file destination. The directories up to destination will be created if they don&#39;t already exist. destination will be overwritten if it already exists.\nWarning: this method does not set a connection or read timeout and thus might block forever. Use copyURLToFile(URL, File, int, int) with reasonable timeouts to prevent this.`","body":"You don&#39;t need to create the folders leading up to the target folder. From the docs: <code>Copies bytes from the URL source to a file destination. The directories up to destination will be created if they don&#39;t already exist. destination will be overwritten if it already exists. Warning: this method does not set a connection or read timeout and thus might block forever. Use copyURLToFile(URL, File, int, int) with reasonable timeouts to prevent this.</code>"}],"tags":[],"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1406748533,"creation_date":1406748209,"answer_id":25045224,"question_id":25045003,"body_markdown":"You can use [apache commons IO library][1].\r\nIt&#39;s easy. I have used it in many projects.\r\n\r\n    File dstFile = null;\r\n    // check the directory for existence.\r\n    String dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\r\n    if(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(&quot;/&quot;)))\r\n        dstFolder += File.separator;\r\n    \r\n    // Creates the destination folder if doesn&#39;t not exists\r\n    dstFile = new File(dstFolder);\r\n    if (!dstFile.exists()) {\r\n        dstFile.mkdirs();\r\n    }\r\n    try {\r\n        URL url = new URL(URL_LOCATION);\r\n    \tFileUtils.copyURLToFile(url, dstFile);\r\n    } catch (Exception e) {\r\n        System.err.println(e);\r\n        VeBLogger.getInstance().log( e.getMessage());\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/download_io.cgi\r\n","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>You can use <a href=\"http://commons.apache.org/proper/commons-io/download_io.cgi\" rel=\"nofollow\">apache commons IO library</a>.\nIt's easy. I have used it in many projects.</p>\n\n<pre><code>File dstFile = null;\n// check the directory for existence.\nString dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\nif(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(\"/\")))\n    dstFolder += File.separator;\n\n// Creates the destination folder if doesn't not exists\ndstFile = new File(dstFolder);\nif (!dstFile.exists()) {\n    dstFile.mkdirs();\n}\ntry {\n    URL url = new URL(URL_LOCATION);\n    FileUtils.copyURLToFile(url, dstFile);\n} catch (Exception e) {\n    System.err.println(e);\n    VeBLogger.getInstance().log( e.getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27315455,"reputation":1,"user_id":20830007,"display_name":"Nguyễn Tuấn Hưng"},"score":0,"creation_date":1677031002,"post_id":75527585,"comment_id":133255838,"body_markdown":"i use Jsoup library. you can consult","body":"i use Jsoup library. you can consult"}],"tags":[],"owner":{"account_id":27315455,"reputation":1,"user_id":20830007,"display_name":"Nguyễn Tuấn Hưng"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677030853,"creation_date":1677030853,"answer_id":75527585,"question_id":25045003,"body_markdown":"\r\n\r\n  \r\n\r\n    public String DownloadFile(String path, String outputFileName) {\t\r\n    \t\ttry {\r\n                Connection.Response response = Jsoup.connect(path).cookie()\r\n                \t.maxBodySize(0)\r\n                    .ignoreContentType(true)\r\n                    .execute();\r\n                FileOutputStream out = new FileOutputStream(new File(outputFileName));\r\n    \t\t\tout.write(response.bodyAsBytes());\r\n    \t\t\tout.close();\r\n                return outputFileName;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return &quot;&quot;;\r\n            }\r\n    \t}","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<pre><code>public String DownloadFile(String path, String outputFileName) {    \n        try {\n            Connection.Response response = Jsoup.connect(path).cookie()\n                .maxBodySize(0)\n                .ignoreContentType(true)\n                .execute();\n            FileOutputStream out = new FileOutputStream(new File(outputFileName));\n            out.write(response.bodyAsBytes());\n            out.close();\n            return outputFileName;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19240,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25045224,"answer_count":4,"score":4,"last_activity_date":1677030853,"creation_date":1406747408,"question_id":25045003,"body_markdown":"I&#39;m downloading files from a remote location, and the download is complete for smaller sized files and in-complete for large sized files (&gt;10 MB). Here is my code that i have used for downloading files from remote server .\r\n\r\n\r\n\t\tFile dstFile = null;\r\n\t\t// check the directory for existence.\r\n\t\tString dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\r\n\t\tif(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(&quot;/&quot;)))\r\n\t\t\tdstFolder += File.separator;\r\n\t\t\r\n\t\t// Creates the destination folder if doesn&#39;t not exists\r\n\t\tdstFile = new File(dstFolder);\r\n\t\tif (!dstFile.exists()) {\r\n\t\t\tdstFile.mkdirs();\r\n\t\t}\r\n        try {\r\n            URL url = new URL(URL_LOCATION);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection(); \r\n            connection.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/4.76&quot;); \r\n            //URLConnection connection = url.openConnection();\r\n            BufferedInputStream stream = new BufferedInputStream(connection.getInputStream());\r\n            int available = stream.available();\r\n            byte b[]= new byte[available];\r\n            stream.read(b);\r\n            File file = new File(LOCAL_FILE);\r\n            OutputStream out  = new FileOutputStream(file);\r\n            out.write(b);\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n            VeBLogger.getInstance().log( e.getMessage());\r\n        }\r\n\t","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>I'm downloading files from a remote location, and the download is complete for smaller sized files and in-complete for large sized files (>10 MB). Here is my code that i have used for downloading files from remote server .</p>\n\n<pre><code>    File dstFile = null;\n    // check the directory for existence.\n    String dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\n    if(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(\"/\")))\n        dstFolder += File.separator;\n\n    // Creates the destination folder if doesn't not exists\n    dstFile = new File(dstFolder);\n    if (!dstFile.exists()) {\n        dstFile.mkdirs();\n    }\n    try {\n        URL url = new URL(URL_LOCATION);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection(); \n        connection.addRequestProperty(\"User-Agent\", \"Mozilla/4.76\"); \n        //URLConnection connection = url.openConnection();\n        BufferedInputStream stream = new BufferedInputStream(connection.getInputStream());\n        int available = stream.available();\n        byte b[]= new byte[available];\n        stream.read(b);\n        File file = new File(LOCAL_FILE);\n        OutputStream out  = new FileOutputStream(file);\n        out.write(b);\n    } catch (Exception e) {\n        System.err.println(e);\n        VeBLogger.getInstance().log( e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676934121,"post_id":75514932,"comment_id":133233565,"body_markdown":"What does your config look like? Maybe you need to make a bean with useRepository","body":"What does your config look like? Maybe you need to make a bean with useRepository"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676934140,"post_id":75514932,"comment_id":133233566,"body_markdown":"or you don&#39;t have the proper annotations on the userRepository class","body":"or you don&#39;t have the proper annotations on the userRepository class"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1676934265,"post_id":75514932,"comment_id":133233583,"body_markdown":"@devin I edited the question and added my repository","body":"@devin I edited the question and added my repository"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676949738,"post_id":75514932,"comment_id":133235485,"body_markdown":"What does your runner look like? or your config?","body":"What does your runner look like? or your config?"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676949796,"post_id":75514932,"comment_id":133235496,"body_markdown":"do you have something called @ComponentScan anywhere in your app(usually in the main entry point) . Show me this if not I would add @ComponentScan(&quot;com.packagename&quot;);","body":"do you have something called @ComponentScan anywhere in your app(usually in the main entry point) . Show me this if not I would add @ComponentScan(&quot;com.packagename&quot;);"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676961728,"post_id":75514932,"comment_id":133237110,"body_markdown":"What scares me in your structure is your `config` package, what does it contain? What does your `Application` class look like. You don&#39;t need the `spring-boot-starter` dependencies (that is implied by the others), remove the version from the `spring-boot-starter-validation` dependency. The `@Repository` on the `UserRepository` only adds clutter. And I suspect your open feign dependency isn&#39;t compatible with Spring Boot 3 (and pulling in older/conflicting dependencies).","body":"What scares me in your structure is your <code>config</code> package, what does it contain? What does your <code>Application</code> class look like. You don&#39;t need the <code>spring-boot-starter</code> dependencies (that is implied by the others), remove the version from the <code>spring-boot-starter-validation</code> dependency. The <code>@Repository</code> on the <code>UserRepository</code> only adds clutter. And I suspect your open feign dependency isn&#39;t compatible with Spring Boot 3 (and pulling in older/conflicting dependencies)."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1677008340,"post_id":75514932,"comment_id":133251331,"body_markdown":"I edited the question and added my main class, tried bumping up feign dependency version to 4.0.1 but still same error. My config dir only contains one file that simply allows all origins for CORS. I don&#39;t have ComponentScan anywhere and I tried adding scanBasePackages = {&quot;personal.tunelink&quot;} to SpringBootApplication but issue persists.","body":"I edited the question and added my main class, tried bumping up feign dependency version to 4.0.1 but still same error. My config dir only contains one file that simply allows all origins for CORS. I don&#39;t have ComponentScan anywhere and I tried adding scanBasePackages = {&quot;personal.tunelink&quot;} to SpringBootApplication but issue persists."}],"answers":[{"comments":[{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1677029747,"post_id":75527503,"comment_id":133255684,"body_markdown":"Fixing the package class names might be enough but the personal.tunelink component scan should definitely fix your issue. Please let me know if this worked by upvoting and marking my answer as correct.","body":"Fixing the package class names might be enough but the personal.tunelink component scan should definitely fix your issue. Please let me know if this worked by upvoting and marking my answer as correct."},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1677029809,"post_id":75527503,"comment_id":133255694,"body_markdown":"If you need further help I will need to see the repository for this project","body":"If you need further help I will need to see the repository for this project"}],"tags":[],"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677029672,"creation_date":1677029672,"answer_id":75527503,"question_id":75514932,"body_markdown":"Try adding this in your application.java class.\r\n\r\n    @ComponentScan({&quot;personal.tunelink.*&quot;})\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n\r\nalso you have mispelled the package name in your repository class, as well as your application class please correct this:\r\n\r\n    package perosnal.tunelink.user;\r\n\r\nI believe you mean it to be this:\r\n\r\n    package personal.tunelink.user","title":"@SpringBootTest UnsatisfiedDependencyException","body":"<p>Try adding this in your application.java class.</p>\n<pre><code>@ComponentScan({&quot;personal.tunelink.*&quot;})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>also you have mispelled the package name in your repository class, as well as your application class please correct this:</p>\n<pre><code>package perosnal.tunelink.user;\n</code></pre>\n<p>I believe you mean it to be this:</p>\n<pre><code>package personal.tunelink.user\n</code></pre>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677029672,"creation_date":1676933895,"question_id":75514932,"body_markdown":"I have this IntegrationTestBase abstract class:\r\n\r\n```java\r\npackage personal.tunelink;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.ApplicationContextInitializer;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.support.TestPropertySourceUtils;\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\n\r\n@ActiveProfiles(&quot;itest&quot;)\r\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\r\n@EnableAutoConfiguration\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class IntegrationTestBase {\r\n\r\n    private static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\r\n            .withUsername(&quot;itest&quot;)\r\n            .withPassword(&quot;itest&quot;)\r\n            .withDatabaseName(&quot;tunelink&quot;);\r\n\r\n    static {\r\n        postgresTestContainer.start();\r\n    }\r\n\r\n    @Configuration\r\n    public static class ContextInitializer implements\r\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            final String url = postgresTestContainer.getJdbcUrl();\r\n            final String username = postgresTestContainer.getUsername();\r\n            final String password = postgresTestContainer.getPassword();\r\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                    configurableApplicationContext,\r\n                    &quot;spring.datasource.url=&quot; + url,\r\n                    &quot;spring.datasource.username=&quot; + username,\r\n                    &quot;spring.datasource.password=&quot; + password\r\n            );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy build.gradle:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jvm-test-suite&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup &#39;tunelink&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\r\n\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n\r\n    implementation &#39;org.postgresql:postgresql:42.5.1&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\r\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.17.6&quot;\r\n    testImplementation &quot;org.testcontainers:postgresql:1.17.6&quot;\r\n}\r\n\r\nsourceSets {\r\n    testcommons{\r\n        java{\r\n            srcDir &#39;src/testcommons/java&#39;\r\n            compileClasspath += sourceSets.main.output\r\n            runtimeClasspath += sourceSets.main.output\r\n        }\r\n    }\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n\r\n            dependencies {\r\n                implementation(sourceSets[&quot;testcommons&quot;].output)\r\n            }\r\n        }\r\n\r\n        itest(JvmTestSuite) {\r\n            testType = TestSuiteType.INTEGRATION_TEST\r\n\r\n            dependencies {\r\n                implementation project()\r\n                implementation(sourceSets[&quot;testcommons&quot;].output)\r\n            }\r\n\r\n            configurations {\r\n                itestImplementation.extendsFrom testImplementation\r\n                itestRuntime.extendsFrom testRuntime\r\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRepository test class:\r\n```java\r\npackage personal.tunelink.user;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport perosnal.tunelink.user.UserRepository;\r\nimport personal.tunelink.IntegrationTestBase;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\npublic class UserRepositoryITest extends IntegrationTestBase {\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    @Test\r\n    void test() {\r\n        assertNotNull(userRepository);\r\n    }\r\n}\r\n```\r\nRepository class:\r\n\r\n```java\r\npackage perosnal.tunelink.user;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\r\n\r\n    @Query(value = &quot;SELECT * FROM user u &quot; +\r\n            &quot;JOIN user_top_tracks utt ON u.id = utt.user_id &quot; +\r\n            &quot;WHERE u.id =?1&quot;, nativeQuery = true)\r\n    User getById(String id);\r\n\r\n\r\n    @Query(value = &quot;SELECT * from user where id IN (&quot; +\r\n            &quot;SELECT that.user_id &quot; +\r\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\r\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\r\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\r\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2 )&quot;, nativeQuery = true)\r\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\r\n\r\n}\r\n```\r\n\r\nMain class:\r\n\r\n```java\r\npackage perosnal.tunelink;\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.openfeign.EnableFeignClients;\r\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\r\n\r\n@EnableFeignClients\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nConfig only contains 1 file that allows all origins for CORS.\r\n\r\nProject structure: \r\n\r\n[![structure][1]][1]\r\n\r\nError:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personal.tunelink.user.UserRepositoryITest&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: No qualifying bean of type &#39;perosnal.tunelink.user.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yxBHP.jpg\r\n","title":"@SpringBootTest UnsatisfiedDependencyException","body":"<p>I have this IntegrationTestBase abstract class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package personal.tunelink;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.support.TestPropertySourceUtils;\nimport org.testcontainers.containers.PostgreSQLContainer;\n\n@ActiveProfiles(&quot;itest&quot;)\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\n@EnableAutoConfiguration\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class IntegrationTestBase {\n\n    private static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\n            .withUsername(&quot;itest&quot;)\n            .withPassword(&quot;itest&quot;)\n            .withDatabaseName(&quot;tunelink&quot;);\n\n    static {\n        postgresTestContainer.start();\n    }\n\n    @Configuration\n    public static class ContextInitializer implements\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            final String url = postgresTestContainer.getJdbcUrl();\n            final String username = postgresTestContainer.getUsername();\n            final String password = postgresTestContainer.getPassword();\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                    configurableApplicationContext,\n                    &quot;spring.datasource.url=&quot; + url,\n                    &quot;spring.datasource.username=&quot; + username,\n                    &quot;spring.datasource.password=&quot; + password\n            );\n        }\n    }\n}\n</code></pre>\n<p>My build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'jvm-test-suite'\n    id 'org.springframework.boot' version '3.0.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup 'tunelink'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-openfeign:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n\n\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n\n    implementation 'org.postgresql:postgresql:42.5.1'\n\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.17.6&quot;\n    testImplementation &quot;org.testcontainers:postgresql:1.17.6&quot;\n}\n\nsourceSets {\n    testcommons{\n        java{\n            srcDir 'src/testcommons/java'\n            compileClasspath += sourceSets.main.output\n            runtimeClasspath += sourceSets.main.output\n        }\n    }\n}\n\ntesting {\n    suites {\n        test {\n            useJUnitJupiter()\n\n            dependencies {\n                implementation(sourceSets[&quot;testcommons&quot;].output)\n            }\n        }\n\n        itest(JvmTestSuite) {\n            testType = TestSuiteType.INTEGRATION_TEST\n\n            dependencies {\n                implementation project()\n                implementation(sourceSets[&quot;testcommons&quot;].output)\n            }\n\n            configurations {\n                itestImplementation.extendsFrom testImplementation\n                itestRuntime.extendsFrom testRuntime\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\n            }\n        }\n    }\n}\n</code></pre>\n<p>Repository test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package personal.tunelink.user;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport perosnal.tunelink.user.UserRepository;\nimport personal.tunelink.IntegrationTestBase;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\npublic class UserRepositoryITest extends IntegrationTestBase {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Test\n    void test() {\n        assertNotNull(userRepository);\n    }\n}\n</code></pre>\n<p>Repository class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package perosnal.tunelink.user;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\n\n    @Query(value = &quot;SELECT * FROM user u &quot; +\n            &quot;JOIN user_top_tracks utt ON u.id = utt.user_id &quot; +\n            &quot;WHERE u.id =?1&quot;, nativeQuery = true)\n    User getById(String id);\n\n\n    @Query(value = &quot;SELECT * from user where id IN (&quot; +\n            &quot;SELECT that.user_id &quot; +\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2 )&quot;, nativeQuery = true)\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\n\n}\n</code></pre>\n<p>Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package perosnal.tunelink;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\n\n@EnableFeignClients\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Config only contains 1 file that allows all origins for CORS.</p>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/yxBHP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxBHP.jpg\" alt=\"structure\" /></a></p>\n<p>Error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personal.tunelink.user.UserRepositoryITest': Unsatisfied dependency expressed through field 'userRepository': No qualifying bean of type 'perosnal.tunelink.user.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1653330183,"post_id":72353149,"comment_id":127821075,"body_markdown":"Search for `&quot;OP&quot;` in `&quot;X AD EP OP DAD&quot;`.","body":"Search for <code>&quot;OP&quot;</code> in <code>&quot;X AD EP OP DAD&quot;</code>."},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653330454,"post_id":72353149,"comment_id":127821169,"body_markdown":"@ScottHunter is there any shorter way or more efficient, stirng will be so much longer than in example.","body":"@ScottHunter is there any shorter way or more efficient, stirng will be so much longer than in example."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1653330696,"post_id":72353149,"comment_id":127821266,"body_markdown":"How do you know you *need* it to be more efficient?  (Don&#39;t know what you mean by &quot;shorter&quot;.)","body":"How do you know you <i>need</i> it to be more efficient?  (Don&#39;t know what you mean by &quot;shorter&quot;.)"},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653333136,"post_id":72353149,"comment_id":127822008,"body_markdown":"@ScottHunter but wait, if I would search for OP in your example I would get: 8 not 4. You misunderstood. I want to get index of PO from whole string (but starting looking from X). So PO starts from 4 index (but it is first occurence of this substring from left side of X). So it works like indexOf but from left, not from right.","body":"@ScottHunter but wait, if I would search for OP in your example I would get: 8 not 4. You misunderstood. I want to get index of PO from whole string (but starting looking from X). So PO starts from 4 index (but it is first occurence of this substring from left side of X). So it works like indexOf but from left, not from right."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1653333804,"post_id":72353149,"comment_id":127822174,"body_markdown":"I think your use of the word `backward` is somehow confusing. Which substring / index would you like to get if the input was `&quot;DAD PO PE PO X PO ZA&quot;` and why?","body":"I think your use of the word <code>backward</code> is somehow confusing. Which substring / index would you like to get if the input was <code>&quot;DAD PO PE PO X PO ZA&quot;</code> and why?"},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653333896,"post_id":72353149,"comment_id":127822198,"body_markdown":"@Eritrean If I would search for &#39;PO&#39; I would like to get 10 as it is closer to X, but the index is taken from whole string.","body":"@Eritrean If I would search for &#39;PO&#39; I would like to get 10 as it is closer to X, but the index is taken from whole string."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1653334269,"post_id":72353149,"comment_id":127822298,"body_markdown":"And if there is no substring, which have an index lower than index of `X` you want to get the greater index? For example `&quot;DAD PP PP PP X PO ZA&quot;` a search for `&quot;PO&quot;` should return 15, did I get it right?","body":"And if there is no substring, which have an index lower than index of <code>X</code> you want to get the greater index? For example <code>&quot;DAD PP PP PP X PO ZA&quot;</code> a search for <code>&quot;PO&quot;</code> should return 15, did I get it right?"},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653334355,"post_id":72353149,"comment_id":127822321,"body_markdown":"@Eritrean there always will be such a substring, so dont have to think about such a situation","body":"@Eritrean there always will be such a substring, so dont have to think about such a situation"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1653348305,"post_id":72353149,"comment_id":127825566,"body_markdown":"I did not misunderstand; once you know the location in the reversed string, it is a simple matter to compute the corresponding location in the original string.","body":"I did not misunderstand; once you know the location in the reversed string, it is a simple matter to compute the corresponding location in the original string."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653334325,"creation_date":1653333986,"answer_id":72353857,"question_id":72353149,"body_markdown":"You could implement a custom `Iterator` for backward search within a `String`. This, not only will allow you to iterate your `String` backward, but it will also tell you whether there are further matches or not (via `hasNext()`) and retrieve all of them with the `next()` method. The class could contain 3 fields: the string to search, the string to look for and an internal cursor. Through the constructor, you could set the two strings (obviously) and the starting point of the `Iterator`&#39;s cursor.\r\n\r\nHere is a possible implementation:\r\n\r\n```\r\nclass StringBackwardSearcher implements Iterator&lt;Integer&gt; {\r\n    private String str, match;\r\n    private int index;\r\n\r\n    public BackwardSearcher(String str, String match, int index) {\r\n        this.str = Objects.requireNonNull(str);\r\n        this.match = Objects.requireNonNull(match);\r\n        this.index = Objects.checkIndex(index, str.length());\r\n    }\r\n\r\n    public void setIndex(int index) {\r\n        this.index = Objects.checkIndex(index, str.length());\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return str.substring(0, index).contains(match);\r\n    }\r\n\r\n    @Override\r\n    public Integer next() {\r\n        for (; index &gt;= 0; index--) {\r\n            if (str.substring(index - match.length(), index).equals(match)) {\r\n                Integer temp = index;\r\n                index--;\r\n                return temp - match.length();\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nYour main would simply consist of\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\r\n    StringBackwardSearcher bs = new StringBackwardSearcher(s, &quot;PO&quot;, 16);\r\n    while (bs.hasNext()) {\r\n        System.out.println(bs.next());\r\n    }\r\n}\r\n```\r\n\r\nIf the iterator started at the index of `X` and had to look for `PO`, then the output would be:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O1kwr.png","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>You could implement a custom <code>Iterator</code> for backward search within a <code>String</code>. This, not only will allow you to iterate your <code>String</code> backward, but it will also tell you whether there are further matches or not (via <code>hasNext()</code>) and retrieve all of them with the <code>next()</code> method. The class could contain 3 fields: the string to search, the string to look for and an internal cursor. Through the constructor, you could set the two strings (obviously) and the starting point of the <code>Iterator</code>'s cursor.</p>\n<p>Here is a possible implementation:</p>\n<pre><code>class StringBackwardSearcher implements Iterator&lt;Integer&gt; {\n    private String str, match;\n    private int index;\n\n    public BackwardSearcher(String str, String match, int index) {\n        this.str = Objects.requireNonNull(str);\n        this.match = Objects.requireNonNull(match);\n        this.index = Objects.checkIndex(index, str.length());\n    }\n\n    public void setIndex(int index) {\n        this.index = Objects.checkIndex(index, str.length());\n    }\n\n    @Override\n    public boolean hasNext() {\n        return str.substring(0, index).contains(match);\n    }\n\n    @Override\n    public Integer next() {\n        for (; index &gt;= 0; index--) {\n            if (str.substring(index - match.length(), index).equals(match)) {\n                Integer temp = index;\n                index--;\n                return temp - match.length();\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>Your main would simply consist of</p>\n<pre><code>public static void main(String[] args) {\n    String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\n    StringBackwardSearcher bs = new StringBackwardSearcher(s, &quot;PO&quot;, 16);\n    while (bs.hasNext()) {\n        System.out.println(bs.next());\n    }\n}\n</code></pre>\n<p>If the iterator started at the index of <code>X</code> and had to look for <code>PO</code>, then the output would be:</p>\n<p><a href=\"https://i.stack.imgur.com/O1kwr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1kwr.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1653337726,"post_id":72353908,"comment_id":127823286,"body_markdown":"One line != not complex.","body":"One line != not complex."},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1653337750,"post_id":72353908,"comment_id":127823291,"body_markdown":"Can you please also link scott&#39;s method for readers who&#39;re unfamiliar with it.","body":"Can you please also link scott&#39;s method for readers who&#39;re unfamiliar with it."},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1653337873,"post_id":72353908,"comment_id":127823325,"body_markdown":"@HarshalParekh see the fisrt comment of the question","body":"@HarshalParekh see the fisrt comment of the question"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1653410613,"post_id":72353908,"comment_id":127844125,"body_markdown":"Comments are prone to get deleted over time. It is also unnecessarily expensive. Like the OP has mentioned in another comment: `it looks like completely different and has around 50k of characters`. In the worst case, the cropped could be 50K characters and match could be 49.9K characters.","body":"Comments are prone to get deleted over time. It is also unnecessarily expensive. Like the OP has mentioned in another comment: <code>it looks like completely different and has around 50k of characters</code>. In the worst case, the cropped could be 50K characters and match could be 49.9K characters."}],"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653335240,"creation_date":1653334269,"answer_id":72353908,"question_id":72353149,"body_markdown":"This should work:\r\n\r\n    public static int indexOfFromBackOf(String s,String match){\r\n       for(int i = s.length()-1; i&gt;0;i--) {\r\n         int prevI = i;\r\n         boolean found = true;\r\n         for(int j=match.length()-1;j&gt;0 &amp;&amp; i&gt;0;j--){\r\n           if(s.charAt(i)!=match.charAt(j)) {found = false; break;}\r\n           else i--;\r\n         }\r\n         if(found) return i;\r\n         i = prevI;\r\n       }\r\n       return -1;\r\n    }\r\n\r\nand then:\r\n\r\n  \r\n\r\n      String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\r\n      String match = &quot;PO&quot;; \r\n      System.out.println(indexOfFromBackOf(s.substring(0,s.indexOf(&quot;X&quot;)-1),match));\r\n\r\nBut its messy and complex. why not using Scott&#39;s method?\r\nin one line:\r\n\r\n        String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\r\n        String match = &quot;PO&quot;;\r\n        String cropped = s.substring(0,s.indexOf(&quot;X&quot;)-1;\r\n        int index = cropped.length() - (new StringBuilder(cropped).reverse().indexOf(new StringBuilder(match).reverse().toString()) + match.length()));\r\n\r\n","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>This should work:</p>\n<pre><code>public static int indexOfFromBackOf(String s,String match){\n   for(int i = s.length()-1; i&gt;0;i--) {\n     int prevI = i;\n     boolean found = true;\n     for(int j=match.length()-1;j&gt;0 &amp;&amp; i&gt;0;j--){\n       if(s.charAt(i)!=match.charAt(j)) {found = false; break;}\n       else i--;\n     }\n     if(found) return i;\n     i = prevI;\n   }\n   return -1;\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>  String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\n  String match = &quot;PO&quot;; \n  System.out.println(indexOfFromBackOf(s.substring(0,s.indexOf(&quot;X&quot;)-1),match));\n</code></pre>\n<p>But its messy and complex. why not using Scott's method?\nin one line:</p>\n<pre><code>    String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\n    String match = &quot;PO&quot;;\n    String cropped = s.substring(0,s.indexOf(&quot;X&quot;)-1;\n    int index = cropped.length() - (new StringBuilder(cropped).reverse().indexOf(new StringBuilder(match).reverse().toString()) + match.length()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653335401,"post_id":72354063,"comment_id":127822614,"body_markdown":"your way is the cleneast and the easiest. Thanks!","body":"your way is the cleneast and the easiest. Thanks!"}],"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677029443,"creation_date":1653335141,"answer_id":72354063,"question_id":72353149,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\r\n\t\tSystem.out.println(usingSubstring(s));\r\n\r\n\t\t\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; 10000; i++) {\r\n\t\t\tusingSubstring(s);\r\n\t\t}\r\n\t\tlong end = System.currentTimeMillis();\r\n\t\tSystem.out.println(&quot;`usingSubstring()` took &quot; + (end - start) + &quot;ms.&quot;);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * 1. Get the first index of `X`.\r\n\t * 2. Substring from 0 ... (1).\r\n\t * 3. Get the last index from (2) for `PO`.\r\n\t *\r\n\t * @param s input string\r\n\t * @return last index of `PO` backwards from `X`\r\n\t */\r\n\tprivate static int usingSubstring(String s) {\r\n\t\tString toSearch = &quot;PO&quot;;\r\n\t\tString searchUntil = &quot;X&quot;;\r\n\t\treturn s.substring(0, s.indexOf(searchUntil)).lastIndexOf(toSearch);\r\n\t}\r\n\r\nOutputs: \r\n\r\n    7\r\n    `usingSubstring()` took 2ms.\r\n\r\n----------\r\n\r\nAs pointed out by [@Holger](https://stackoverflow.com/users/2711488/holger), there&#39;s an even simpler way to achieve this using [String#lastIndexOf](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(java.lang.String,%20int)).\r\n\r\n```\r\nString s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\r\nSystem.out.print(s.lastIndexOf(&quot;PO&quot;, s.indexOf(&quot;X&quot;)));    // 7\r\n```","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<pre><code>public static void main(String[] args) {\n    String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\n    System.out.println(usingSubstring(s));\n\n    \n    long start = System.currentTimeMillis();\n    for (int i = 0; i &lt; 10000; i++) {\n        usingSubstring(s);\n    }\n    long end = System.currentTimeMillis();\n    System.out.println(&quot;`usingSubstring()` took &quot; + (end - start) + &quot;ms.&quot;);\n}\n\n\n/**\n * 1. Get the first index of `X`.\n * 2. Substring from 0 ... (1).\n * 3. Get the last index from (2) for `PO`.\n *\n * @param s input string\n * @return last index of `PO` backwards from `X`\n */\nprivate static int usingSubstring(String s) {\n    String toSearch = &quot;PO&quot;;\n    String searchUntil = &quot;X&quot;;\n    return s.substring(0, s.indexOf(searchUntil)).lastIndexOf(toSearch);\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>7\n`usingSubstring()` took 2ms.\n</code></pre>\n<hr />\n<p>As pointed out by <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a>, there's an even simpler way to achieve this using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">String#lastIndexOf</a>.</p>\n<pre><code>String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\nSystem.out.print(s.lastIndexOf(&quot;PO&quot;, s.indexOf(&quot;X&quot;)));    // 7\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653339439,"post_id":72354656,"comment_id":127823756,"body_markdown":"but  this string was just an example it looks like completely different and has around 50k of characters, so this solution would not work.","body":"but  this string was just an example it looks like completely different and has around 50k of characters, so this solution would not work."},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1653339683,"post_id":72354656,"comment_id":127823821,"body_markdown":"@vig2004, yes of course, this is just the idea: start with A, not followed by A and ending with B. The &quot;not followed by&quot; part is usually the tricky part, but in many common cases we can come up with a regular expression. This solution is of course not so generic as the others.","body":"@vig2004, yes of course, this is just the idea: start with A, not followed by A and ending with B. The &quot;not followed by&quot; part is usually the tricky part, but in many common cases we can come up with a regular expression. This solution is of course not so generic as the others."}],"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653338909,"creation_date":1653338909,"answer_id":72354656,"question_id":72353149,"body_markdown":"To throw another solution into the mix, one could compile a regular expression with following logic: match starting with &quot;PO&quot;, not followed by &quot;PO&quot;, and terminated by &quot;X&quot;.\r\n\r\nIn this way, only the closest (from left side) &quot;PO&quot; would match until an &quot;X&quot;.\r\n\r\nFor example:\r\n```java\r\nString subj = &quot;AA PO DAD PO PE DA X PO ZA RA ZA&quot;;\r\n        \r\nfinal Pattern pattern = Pattern.compile(&quot;(PO)([^P]|P(?!O))*(X)&quot;);\r\nfinal Matcher matcher = pattern.matcher(subj);\r\nif (matcher.find()) {\r\n   System.err.println(&quot;match at [&quot; + matcher.start() + &quot;,&quot; + matcher.end() + &quot;): &quot; + matcher.group());\r\n}\r\n```","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>To throw another solution into the mix, one could compile a regular expression with following logic: match starting with &quot;PO&quot;, not followed by &quot;PO&quot;, and terminated by &quot;X&quot;.</p>\n<p>In this way, only the closest (from left side) &quot;PO&quot; would match until an &quot;X&quot;.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String subj = &quot;AA PO DAD PO PE DA X PO ZA RA ZA&quot;;\n        \nfinal Pattern pattern = Pattern.compile(&quot;(PO)([^P]|P(?!O))*(X)&quot;);\nfinal Matcher matcher = pattern.matcher(subj);\nif (matcher.find()) {\n   System.err.println(&quot;match at [&quot; + matcher.start() + &quot;,&quot; + matcher.end() + &quot;): &quot; + matcher.group());\n}\n</code></pre>\n"}],"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72354063,"answer_count":4,"score":1,"last_activity_date":1677029443,"creation_date":1653329874,"question_id":72353149,"body_markdown":"I would like to search for substring of string starting from specific index.\r\n\r\nLet&#39;s say I have string: `&quot;PO DAD PO PE DA X PO ZA RA&quot;`\r\n\r\nIndex from which I want to start is character `X`, so is 13. If I would like to search normally for &#39;ZA&#39; I would do something like: \r\n`&quot;DAD PO PE DA X PO ZA RA ZA&quot;.indexOf(&quot;ZA&quot;)` and I would get 18.\r\n\r\nNext I want to search for first substring `&#39;PO&#39;` but backward from `&quot;X&quot;` index. So, I would get 4 (as it is closer to `X` from left side) not 15.\r\n\r\nHow could I do this?","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>I would like to search for substring of string starting from specific index.</p>\n<p>Let's say I have string: <code>&quot;PO DAD PO PE DA X PO ZA RA&quot;</code></p>\n<p>Index from which I want to start is character <code>X</code>, so is 13. If I would like to search normally for 'ZA' I would do something like:\n<code>&quot;DAD PO PE DA X PO ZA RA ZA&quot;.indexOf(&quot;ZA&quot;)</code> and I would get 18.</p>\n<p>Next I want to search for first substring <code>'PO'</code> but backward from <code>&quot;X&quot;</code> index. So, I would get 4 (as it is closer to <code>X</code> from left side) not 15.</p>\n<p>How could I do this?</p>\n"},{"tags":["java","rust","apache-arrow"],"owner":{"account_id":2278928,"reputation":2021,"user_id":2655102,"accept_rate":22,"display_name":"Renkai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677029436,"creation_date":1677029436,"question_id":75527485,"body_markdown":"In the [C Data Interface](https://arrow.apache.org/docs/java/cdata.html#c-data-interface) page of Arrow Java Document, the Java code allocated some memory, and the C++ code fill the allocated memory. While it seems [arrow-rs](https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579) works in a different way, it fills the data first and then pass the pointer to a foreign language. So I can&#39;t just reuse the Java part of C++/Java communication naively.\r\n\r\nIn the rust part I return the addresses of `FFI_ArrowArray` and `FFI_ArrowSchema` use pointer `as i64` because JNI can&#39;t recognize a pointer.\r\n\r\n```rust\r\npub fn array_example() -&gt; Int32Array\r\n{\r\n    let array = Int32Array::from(vec![Some(1), None, Some(3)]);\r\n    assert_eq!(array.len(), 3);\r\n    assert_eq!(array.value(0), 1);\r\n    assert_eq!(array.is_null(1), true);\r\n\r\n    let collected: Vec&lt;_&gt; = array.iter().collect();\r\n    assert_eq!(collected, vec![Some(1), None, Some(3)]);\r\n    assert_eq!(array.values(), [1, 0, 3]);\r\n    array\r\n}\r\n\r\npub fn export_array_example() -&gt; [i64; 2] {\r\n    // Export it\r\n    let array = array_example();\r\n    let data = array.data();\r\n    let out_array = FFI_ArrowArray::new(&amp;data);\r\n    let out_schema = FFI_ArrowSchema::try_from(data.data_type()).unwrap();\r\n\r\n    // Use ManuallyDrop to avoid Box:Drop recursing\r\n    let schema = Box::new(ManuallyDrop::new(out_schema));\r\n    let array = Box::new(ManuallyDrop::new(out_array));\r\n\r\n    let schema_ptr = &amp;**schema as *const _;\r\n    let array_ptr = &amp;**array as *const _;\r\n    let schema_addr = schema_ptr as i64;\r\n    let array_addr = array_ptr as i64;\r\n\r\n    let schema_addr2 = schema_addr as *const FFI_ArrowSchema;\r\n    let array_addr2 = array_addr as *const FFI_ArrowArray;\r\n    let array = unsafe {\r\n        ArrowArray::new(std::ptr::read(array_addr2), std::ptr::read(schema_addr2))\r\n    };\r\n\r\n    let array = Int32Array::from(ArrayData::try_from(array).unwrap());\r\n    println!(&quot;pointer schema as long: {}&quot;, schema_addr);\r\n    println!(&quot;pointer array as long: {}&quot;, array_addr);\r\n    println!(&quot;recovered arr: {:?}&quot;,array);\r\n\r\n    [schema_addr, array_addr]\r\n    //https://docs.rs/arrow/33.0.0/arrow/ffi/index.html\r\n    //https://arrow.apache.org/docs/java/cdata.html#java-to-c\r\n    //https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579-L580\r\n}\r\n```\r\n\r\nIn the Java part I use `ArrowSchema.wrap` and `ArrowArray.wrap`\r\n\r\n```java\r\npublic class Converter {\r\n\r\n    static {\r\n        System.loadLibrary(&quot;lance_jni&quot;);\r\n    }\r\n\r\n    public static void getInt32ArrayExample() {\r\n        BufferAllocator allocator = new RootAllocator();\r\n        ConverterJni.getInt32Arr();\r\n        long[] arr = ConverterJni.getInt32Arr();\r\n        System.out.println(arr[0]);\r\n        System.out.println(arr[1]);\r\n        ArrowSchema arrowSchema = ArrowSchema.wrap(arr[0]);\r\n        ArrowArray array = ArrowArray.wrap(arr[1]);\r\n        var vec = Data.importVector(allocator, array, arrowSchema, null);\r\n    }\r\n}\r\n```\r\n\r\nEventually I get\r\n\r\n```\r\n[info] #\r\n[info] # A fatal error has been detected by the Java Runtime Environment:\r\n[info] #\r\n[info] #  SIGSEGV (0xb) at pc=0x00000001127708e7, pid=47483, tid=5891\r\n[info] #\r\n[info] # JRE version: OpenJDK Runtime Environment Homebrew (11.0.12) (build 11.0.12+0)\r\n[info] # Java VM: OpenJDK 64-Bit Server VM Homebrew (11.0.12+0, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\r\n[info] # Problematic frame:\r\n[info] # J 414 c2 java.nio.DirectByteBuffer.get()B java.base@11.0.12 (28 bytes) @ 0x00000001127708e7 [0x00000001127708a0+0x0000000000000047]\r\n```\r\n\r\nFull example at [github](https://github.com/Renkai/lancelab/tree/1f32af83769ed2fce0672212f8a125de51fbda63)","title":"How to export arrow-rs array to Java?","body":"<p>In the <a href=\"https://arrow.apache.org/docs/java/cdata.html#c-data-interface\" rel=\"nofollow noreferrer\">C Data Interface</a> page of Arrow Java Document, the Java code allocated some memory, and the C++ code fill the allocated memory. While it seems <a href=\"https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579\" rel=\"nofollow noreferrer\">arrow-rs</a> works in a different way, it fills the data first and then pass the pointer to a foreign language. So I can't just reuse the Java part of C++/Java communication naively.</p>\n<p>In the rust part I return the addresses of <code>FFI_ArrowArray</code> and <code>FFI_ArrowSchema</code> use pointer <code>as i64</code> because JNI can't recognize a pointer.</p>\n<pre class=\"lang-rust prettyprint-override\"><code>pub fn array_example() -&gt; Int32Array\n{\n    let array = Int32Array::from(vec![Some(1), None, Some(3)]);\n    assert_eq!(array.len(), 3);\n    assert_eq!(array.value(0), 1);\n    assert_eq!(array.is_null(1), true);\n\n    let collected: Vec&lt;_&gt; = array.iter().collect();\n    assert_eq!(collected, vec![Some(1), None, Some(3)]);\n    assert_eq!(array.values(), [1, 0, 3]);\n    array\n}\n\npub fn export_array_example() -&gt; [i64; 2] {\n    // Export it\n    let array = array_example();\n    let data = array.data();\n    let out_array = FFI_ArrowArray::new(&amp;data);\n    let out_schema = FFI_ArrowSchema::try_from(data.data_type()).unwrap();\n\n    // Use ManuallyDrop to avoid Box:Drop recursing\n    let schema = Box::new(ManuallyDrop::new(out_schema));\n    let array = Box::new(ManuallyDrop::new(out_array));\n\n    let schema_ptr = &amp;**schema as *const _;\n    let array_ptr = &amp;**array as *const _;\n    let schema_addr = schema_ptr as i64;\n    let array_addr = array_ptr as i64;\n\n    let schema_addr2 = schema_addr as *const FFI_ArrowSchema;\n    let array_addr2 = array_addr as *const FFI_ArrowArray;\n    let array = unsafe {\n        ArrowArray::new(std::ptr::read(array_addr2), std::ptr::read(schema_addr2))\n    };\n\n    let array = Int32Array::from(ArrayData::try_from(array).unwrap());\n    println!(&quot;pointer schema as long: {}&quot;, schema_addr);\n    println!(&quot;pointer array as long: {}&quot;, array_addr);\n    println!(&quot;recovered arr: {:?}&quot;,array);\n\n    [schema_addr, array_addr]\n    //https://docs.rs/arrow/33.0.0/arrow/ffi/index.html\n    //https://arrow.apache.org/docs/java/cdata.html#java-to-c\n    //https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579-L580\n}\n</code></pre>\n<p>In the Java part I use <code>ArrowSchema.wrap</code> and <code>ArrowArray.wrap</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Converter {\n\n    static {\n        System.loadLibrary(&quot;lance_jni&quot;);\n    }\n\n    public static void getInt32ArrayExample() {\n        BufferAllocator allocator = new RootAllocator();\n        ConverterJni.getInt32Arr();\n        long[] arr = ConverterJni.getInt32Arr();\n        System.out.println(arr[0]);\n        System.out.println(arr[1]);\n        ArrowSchema arrowSchema = ArrowSchema.wrap(arr[0]);\n        ArrowArray array = ArrowArray.wrap(arr[1]);\n        var vec = Data.importVector(allocator, array, arrowSchema, null);\n    }\n}\n</code></pre>\n<p>Eventually I get</p>\n<pre><code>[info] #\n[info] # A fatal error has been detected by the Java Runtime Environment:\n[info] #\n[info] #  SIGSEGV (0xb) at pc=0x00000001127708e7, pid=47483, tid=5891\n[info] #\n[info] # JRE version: OpenJDK Runtime Environment Homebrew (11.0.12) (build 11.0.12+0)\n[info] # Java VM: OpenJDK 64-Bit Server VM Homebrew (11.0.12+0, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\n[info] # Problematic frame:\n[info] # J 414 c2 java.nio.DirectByteBuffer.get()B java.base@11.0.12 (28 bytes) @ 0x00000001127708e7 [0x00000001127708a0+0x0000000000000047]\n</code></pre>\n<p>Full example at <a href=\"https://github.com/Renkai/lancelab/tree/1f32af83769ed2fce0672212f8a125de51fbda63\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":["java","android-studio","aapt"],"comments":[{"owner":{"account_id":1810784,"reputation":1558,"user_id":1646896,"accept_rate":100,"display_name":"adinutzyc21"},"score":0,"creation_date":1423966724,"post_id":28522144,"comment_id":45361586,"body_markdown":"All you need to do is type R. to see the autocompletion suggestions.","body":"All you need to do is type R. to see the autocompletion suggestions."}],"answers":[{"tags":[],"owner":{"account_id":2899080,"reputation":2109,"user_id":2486234,"accept_rate":44,"display_name":"Belal Khan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1533156555,"creation_date":1423964572,"answer_id":28522249,"question_id":28522144,"body_markdown":"It is inside `app\\build\\generated\\source\\r` folder","title":"Where is the R.java file in Android Studio?","body":"<p>It is inside <code>app\\build\\generated\\source\\r</code> folder</p>\n"},{"comments":[{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1664462766,"post_id":28522254,"comment_id":130482163,"body_markdown":"there is no directory called r under source. see other answers - the source is no longer generated, only bytecode, if your AGP version is 3.6 or above.","body":"there is no directory called r under source. see other answers - the source is no longer generated, only bytecode, if your AGP version is 3.6 or above."}],"tags":[],"owner":{"account_id":5438128,"reputation":11717,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1423964621,"creation_date":1423964621,"answer_id":28522254,"question_id":28522144,"body_markdown":"`R.java` is the generated file by ADT or Android studio. It will be located under `app\\build\\generated\\source\\r` directory.\r\n\r\n    ./app/build/generated/source/r/debug/android/support/v7/appcompat/R.java\r\n    ./app/build/generated/source/r/debug/your/packagename/name/R.java\r\n","title":"Where is the R.java file in Android Studio?","body":"<p><code>R.java</code> is the generated file by ADT or Android studio. It will be located under <code>app\\build\\generated\\source\\r</code> directory.</p>\n\n<pre><code>./app/build/generated/source/r/debug/android/support/v7/appcompat/R.java\n./app/build/generated/source/r/debug/your/packagename/name/R.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9314964,"reputation":7453,"user_id":6915572,"accept_rate":100,"display_name":"Shubhamhackz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485148377,"creation_date":1485148377,"answer_id":41799605,"question_id":28522144,"body_markdown":"Project/app/build/generated/source/r/debug/com.android.&#39;projectname&#39;/R.java","title":"Where is the R.java file in Android Studio?","body":"<p>Project/app/build/generated/source/r/debug/com.android.'projectname'/R.java</p>\n"},{"comments":[{"owner":{"display_name":"user2453382"},"score":2,"creation_date":1546501584,"post_id":45490793,"comment_id":94872645,"body_markdown":"I feel sorry for the OP. I seriously doubt he/she was asking for a screenshot of the actual R file. The answer should clearly explain how it is generated as well.","body":"I feel sorry for the OP. I seriously doubt he/she was asking for a screenshot of the actual R file. The answer should clearly explain how it is generated as well."}],"tags":[],"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1533570357,"creation_date":1501780703,"answer_id":45490793,"question_id":28522144,"body_markdown":"[![//The picture ][1]][1]\r\n\r\nI use Android Studio 2.3.3. The `R.java` file is shown in the picture above.\r\n\r\nIn the left upper side, there is a select list. Select the `[project]` option so that you can see all the folders and files. \r\n\r\n\r\n[1]: https://i.stack.imgur.com/IGLud.jpg \r\n    ","title":"Where is the R.java file in Android Studio?","body":"<p><a href=\"https://i.stack.imgur.com/IGLud.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IGLud.jpg\" alt=\"//The picture \"></a></p>\n\n<p>I use Android Studio 2.3.3. The <code>R.java</code> file is shown in the picture above.</p>\n\n<p>In the left upper side, there is a select list. Select the <code>[project]</code> option so that you can see all the folders and files. </p>\n"},{"tags":[],"owner":{"account_id":12160656,"reputation":31,"user_id":8878306,"display_name":"Engr Saeed Anwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509680933,"creation_date":1509679314,"answer_id":47087999,"question_id":28522144,"body_markdown":"I am using Android Studio 2.2.3 , the R.java file is shown in the picture below.\r\nGoto in the left upper side there is a selecting list , \r\n\r\n1. select [package] \r\n2. Open &quot;App Folder&quot; \r\n3. com.example.saeedanwar.myapplication; \r\n4. r\r\n\r\n![screenshot][1] \r\n\r\n  [1]: https://i.stack.imgur.com/fnV2M.jpg","title":"Where is the R.java file in Android Studio?","body":"<p>I am using Android Studio 2.2.3 , the R.java file is shown in the picture below.\nGoto in the left upper side there is a selecting list , </p>\n\n<ol>\n<li>select [package] </li>\n<li>Open \"App Folder\" </li>\n<li>com.example.saeedanwar.myapplication; </li>\n<li>r</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/fnV2M.jpg\" alt=\"screenshot\"> </p>\n"},{"comments":[{"owner":{"account_id":7953174,"reputation":2968,"user_id":6003394,"accept_rate":80,"display_name":"aolphn"},"score":0,"creation_date":1574836942,"post_id":55102301,"comment_id":104367446,"body_markdown":"That&#39;s right,thanks so much.BTW,I&#39;m using AS 3.5.2.","body":"That&#39;s right,thanks so much.BTW,I&#39;m using AS 3.5.2."},{"owner":{"account_id":12881177,"reputation":879,"user_id":9316168,"display_name":"gmk57"},"score":7,"creation_date":1583406594,"post_id":55102301,"comment_id":107109481,"body_markdown":"There is no `not_namespaced_r_class_sources` folder in AS 3.6.1","body":"There is no <code>not_namespaced_r_class_sources</code> folder in AS 3.6.1"},{"owner":{"account_id":5268785,"reputation":590,"user_id":6908061,"display_name":"bomben"},"score":1,"creation_date":1586677743,"post_id":55102301,"comment_id":108210864,"body_markdown":"@gmk57 Look at answer by Sergey V. down here.","body":"@gmk57 Look at answer by Sergey V. down here."}],"tags":[],"owner":{"account_id":10535020,"reputation":324,"user_id":7763196,"display_name":"OulinaArt"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1553187162,"creation_date":1552308878,"answer_id":55102301,"question_id":28522144,"body_markdown":"\r\nI use Android Studio 3.3.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3S9Lv.png\r\n\r\n    \\app\\build\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\android\\support\\constraint\\R.java\r\n\r\n![enter image description here][1]\r\n\r\n","title":"Where is the R.java file in Android Studio?","body":"<p>I use Android Studio 3.3.2</p>\n\n<pre><code>\\app\\build\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\android\\support\\constraint\\R.java\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/3S9Lv.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1600862817,"creation_date":1567087052,"answer_id":57711817,"question_id":28522144,"body_markdown":"As noted above, &quot;The new Android Gradle Plugin generates the corresponding bytecode directly and does not make the intermediate R.java file&quot;.\r\n\r\nUsing the [ubuntudroid solution][1] you can find an `id` also this way. Find `R.txt` and copy absolute path. Project &gt; app &gt; build &gt; intermediates &gt; runtime_symbol_list &gt; debug &gt; R.txt. Then right click and select `Copy Path...`, `1. Absolute Path Ctrl+Shift+C`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis way you will obtain a path to `R.txt`, for instance, &quot;C:\\Users\\user\\AndroidStudioProjects\\your_project\\app\\build\\intermediates\\runtime_symbol_list\\debug\\R.txt&quot;. Copy the path without `R.txt` to a text file for future references, for example, with Notepad++.\r\n\r\nPress &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; to find in directory. Insert an `id` and the path.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n== Old answer ==\r\n\r\nChange a project view from `Android` to `Project` or `Project Files`. Find one of these two files.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen you can revert back to `Android` view.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61277205/2914140\r\n  [2]: https://i.stack.imgur.com/44NWk.png\r\n  [3]: https://i.stack.imgur.com/oUlTq.png\r\n  [4]: https://i.stack.imgur.com/zFjN7.png","title":"Where is the R.java file in Android Studio?","body":"<p>As noted above, &quot;The new Android Gradle Plugin generates the corresponding bytecode directly and does not make the intermediate R.java file&quot;.</p>\n<p>Using the <a href=\"https://stackoverflow.com/a/61277205/2914140\">ubuntudroid solution</a> you can find an <code>id</code> also this way. Find <code>R.txt</code> and copy absolute path. Project &gt; app &gt; build &gt; intermediates &gt; runtime_symbol_list &gt; debug &gt; R.txt. Then right click and select <code>Copy Path...</code>, <code>1. Absolute Path Ctrl+Shift+C</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/oUlTq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oUlTq.png\" alt=\"enter image description here\" /></a></p>\n<p>This way you will obtain a path to <code>R.txt</code>, for instance, &quot;C:\\Users\\user\\AndroidStudioProjects\\your_project\\app\\build\\intermediates\\runtime_symbol_list\\debug\\R.txt&quot;. Copy the path without <code>R.txt</code> to a text file for future references, for example, with Notepad++.</p>\n<p>Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F</kbd> to find in directory. Insert an <code>id</code> and the path.</p>\n<p><a href=\"https://i.stack.imgur.com/44NWk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/44NWk.png\" alt=\"enter image description here\" /></a></p>\n<p>== Old answer ==</p>\n<p>Change a project view from <code>Android</code> to <code>Project</code> or <code>Project Files</code>. Find one of these two files.</p>\n<p><a href=\"https://i.stack.imgur.com/zFjN7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zFjN7.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you can revert back to <code>Android</code> view.</p>\n"},{"tags":[],"owner":{"account_id":6369068,"reputation":133,"user_id":4942114,"accept_rate":53,"display_name":"Bad0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579594056,"creation_date":1579594056,"answer_id":59836594,"question_id":28522144,"body_markdown":"--The R.Java that contains your xml layouts and views id&#39;s in Android Studio 3.5.3 -- Project/app/build/generated/not_namespaced_r_class_sources/debug/r/com/&quot;your package&quot;/R.java","title":"Where is the R.java file in Android Studio?","body":"<p>--The R.Java that contains your xml layouts and views id's in Android Studio 3.5.3 -- Project/app/build/generated/not_namespaced_r_class_sources/debug/r/com/\"your package\"/R.java</p>\n"},{"comments":[{"owner":{"account_id":3803453,"reputation":2442,"user_id":3156454,"accept_rate":75,"display_name":"Karol Żygłowicz"},"score":1,"creation_date":1586360349,"post_id":61079734,"comment_id":108101429,"body_markdown":"That&#39;s the correct answear in 2020 (Android Studio 3.6), but how can I read actual id? like button17 = 52444873 ?","body":"That&#39;s the correct answear in 2020 (Android Studio 3.6), but how can I read actual id? like button17 = 52444873 ?"},{"owner":{"account_id":5268785,"reputation":590,"user_id":6908061,"display_name":"bomben"},"score":3,"creation_date":1586678430,"post_id":61079734,"comment_id":108211018,"body_markdown":"if somebody wonders: &quot;The new Android Gradle Plugin generates the corresponding bytecode directly and does not make the intermediate R.java file.&quot;\n\nhttps://forums.bignerdranch.com/t/cant-find-r-java-in-android-studio-3-6-newest-release/17266","body":"if somebody wonders: &quot;The new Android Gradle Plugin generates the corresponding bytecode directly and does not make the intermediate R.java file.&quot;  <a href=\"https://forums.bignerdranch.com/t/cant-find-r-java-in-android-studio-3-6-newest-release/17266\" rel=\"nofollow noreferrer\">forums.bignerdranch.com/t/&hellip;</a>"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":2,"creation_date":1600854489,"post_id":61079734,"comment_id":113217170,"body_markdown":"Also look at `classes2.dex` and `classes3.dex` for your package. If you search an `id`, probably you won&#39;t find it there, because it can belong to another package. See https://stackoverflow.com/a/61277205/2914140 for a short way.","body":"Also look at <code>classes2.dex</code> and <code>classes3.dex</code> for your package. If you search an <code>id</code>, probably you won&#39;t find it there, because it can belong to another package. See <a href=\"https://stackoverflow.com/a/61277205/2914140\">stackoverflow.com/a/61277205/2914140</a> for a short way."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":1,"creation_date":1664462581,"post_id":61079734,"comment_id":130482100,"body_markdown":"For me it was `classes2.dex`, and `classes.dex` didn&#39;t contain my app package at all","body":"For me it was <code>classes2.dex</code>, and <code>classes.dex</code> didn&#39;t contain my app package at all"},{"owner":{"account_id":4630332,"reputation":1690,"user_id":3753040,"display_name":"Benny"},"score":1,"creation_date":1676237515,"post_id":61079734,"comment_id":133092499,"body_markdown":"For me, selecting `resources.arsc` in the APK gave me a table with the type of resource (id, drawable, color, attr, etc) on the left and on the right the ID shown in the Crash and the Name of the resource.","body":"For me, selecting <code>resources.arsc</code> in the APK gave me a table with the type of resource (id, drawable, color, attr, etc) on the left and on the right the ID shown in the Crash and the Name of the resource."}],"tags":[],"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"comment_count":5,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1586374653,"creation_date":1586261374,"answer_id":61079734,"question_id":28522144,"body_markdown":"Based on the [new stable release of Android Studio (3.6)][1] we have:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nSo, now to find your generated resource classes you need the following steps:\r\n\r\n**1) Open your project.**\r\n\r\n**2) Go to your module build path.**\r\n\r\n**3) Open the *outputs/apk/debug/app-name-debug.apk* file.**\r\n\r\n**4) Choose your classes.dex file.**\r\n\r\n**5) Look at the down placed area and go to your full package path.**\r\n\r\n**6) You can see all bytecoded resource classes. So, scroll down to what you are looking for.**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**7) Expand the resource class you need to proceed (for example, let it be R.id)**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**8) Go to you id&#39;s.**\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**That&#39;s it.**\r\n\r\n\r\n**UPDATE:**\r\n\r\nIf you would like to see actual id integer number you should follows steps below:\r\n\r\n**1) By (7) Go to the resource class you need to proceed and right click to show the context menu**\r\n\r\n**2) Choose &quot;Show Bytecode&quot; to see the flexible dialog &quot;DEX Byte Code for R$id&quot;, for example, for id class**\r\n\r\n[![enter image description here][6]][6]\r\n\r\n**3) Scroll down to the actual id to look its number**\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2020/02/android-studio-36.html\r\n  [2]: https://i.stack.imgur.com/cDY5Z.png\r\n  [3]: https://i.stack.imgur.com/7YdVI.png\r\n  [4]: https://i.stack.imgur.com/xsQhH.png\r\n  [5]: https://i.stack.imgur.com/8AJBY.png\r\n  [6]: https://i.stack.imgur.com/8ROmg.png\r\n  [7]: https://i.stack.imgur.com/ue1kR.png","title":"Where is the R.java file in Android Studio?","body":"<p>Based on the <a href=\"https://android-developers.googleblog.com/2020/02/android-studio-36.html\" rel=\"noreferrer\">new stable release of Android Studio (3.6)</a> we have:\n<a href=\"https://i.stack.imgur.com/cDY5Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cDY5Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, now to find your generated resource classes you need the following steps:</p>\n\n<p><strong>1) Open your project.</strong></p>\n\n<p><strong>2) Go to your module build path.</strong></p>\n\n<p><strong>3) Open the <em>outputs/apk/debug/app-name-debug.apk</em> file.</strong></p>\n\n<p><strong>4) Choose your classes.dex file.</strong></p>\n\n<p><strong>5) Look at the down placed area and go to your full package path.</strong></p>\n\n<p><strong>6) You can see all bytecoded resource classes. So, scroll down to what you are looking for.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7YdVI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7YdVI.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>7) Expand the resource class you need to proceed (for example, let it be R.id)</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/xsQhH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xsQhH.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>8) Go to you id's.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8AJBY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8AJBY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>That's it.</strong></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If you would like to see actual id integer number you should follows steps below:</p>\n\n<p><strong>1) By (7) Go to the resource class you need to proceed and right click to show the context menu</strong></p>\n\n<p><strong>2) Choose \"Show Bytecode\" to see the flexible dialog \"DEX Byte Code for R$id\", for example, for id class</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8ROmg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8ROmg.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>3) Scroll down to the actual id to look its number</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ue1kR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ue1kR.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1600854744,"post_id":61277205,"comment_id":113217268,"body_markdown":"Thanks! A correct answer. It will look like `int drawable bonus_item 0x7f0800f1`.","body":"Thanks! A correct answer. It will look like <code>int drawable bonus_item 0x7f0800f1</code>."},{"owner":{"account_id":2476214,"reputation":903,"user_id":2156816,"accept_rate":41,"display_name":"Adi"},"score":0,"creation_date":1644395271,"post_id":61277205,"comment_id":125592548,"body_markdown":"This is the short and corrrect answer","body":"This is the short and corrrect answer"}],"tags":[],"owner":{"account_id":115966,"reputation":3740,"user_id":304266,"accept_rate":88,"display_name":"ubuntudroid"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1587144152,"creation_date":1587144152,"answer_id":61277205,"question_id":28522144,"body_markdown":"Although the current Android Gradle Plugin doesn&#39;t generate a `R.java` anymore you can still inspect the corresponding class file (see Sergey V.`s answer).\r\n\r\nHowever, if you (like probably in most cases) just want to look up the generated IDs for your resources, there is an easier way:\r\n\r\nIn the project pane on the left hand side switch from _Android_ to _Project_ view using the drop-down at the top. Then navigate to `app/build/intermediates/runtime_symbol_list/&lt;insert build type here&gt;/R.txt`. This file lists **all IDs generated by AGP** during the build process.","title":"Where is the R.java file in Android Studio?","body":"<p>Although the current Android Gradle Plugin doesn't generate a <code>R.java</code> anymore you can still inspect the corresponding class file (see Sergey V.`s answer).</p>\n\n<p>However, if you (like probably in most cases) just want to look up the generated IDs for your resources, there is an easier way:</p>\n\n<p>In the project pane on the left hand side switch from <em>Android</em> to <em>Project</em> view using the drop-down at the top. Then navigate to <code>app/build/intermediates/runtime_symbol_list/&lt;insert build type here&gt;/R.txt</code>. This file lists <strong>all IDs generated by AGP</strong> during the build process.</p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603802906,"creation_date":1603802906,"answer_id":64554776,"question_id":28522144,"body_markdown":"1) In my project in Android Studio 4.1\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2) R.jar that you can actually unzip resides in app build folder, as follows:\r\n\r\n    jar -xf R.jar\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3) Once the jar is unpacked you can find R.java inside of app package:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYwQr.png\r\n  [2]: https://i.stack.imgur.com/30IG1.png\r\n  [3]: https://i.stack.imgur.com/5n7lF.png","title":"Where is the R.java file in Android Studio?","body":"<ol>\n<li><p>In my project in Android Studio 4.1\n<a href=\"https://i.stack.imgur.com/tYwQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYwQr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>R.jar that you can actually unzip resides in app build folder, as follows:</p>\n<p>jar -xf R.jar</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/30IG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30IG1.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Once the jar is unpacked you can find R.java inside of app package:\n<a href=\"https://i.stack.imgur.com/5n7lF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5n7lF.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4863127,"reputation":15025,"user_id":3922207,"accept_rate":63,"display_name":"Anggrayudi H"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613462911,"creation_date":1613462911,"answer_id":66220683,"question_id":28522144,"body_markdown":"If you&#39;re using Mac or Linux, try the following command line on your terminal:\r\n\r\n```bash\r\nfind . -name &quot;R.*&quot;\r\n```\r\n\r\nIt will print something like:\r\n```\r\n./app/build/intermediaries/runtime_symbol_list/debug/R.txt\r\n./app/build/intermediaries/compile_and_runtime_not_namespaced_r_class_jar/debug/R.jar\r\n```","title":"Where is the R.java file in Android Studio?","body":"<p>If you're using Mac or Linux, try the following command line on your terminal:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>find . -name &quot;R.*&quot;\n</code></pre>\n<p>It will print something like:</p>\n<pre><code>./app/build/intermediaries/runtime_symbol_list/debug/R.txt\n./app/build/intermediaries/compile_and_runtime_not_namespaced_r_class_jar/debug/R.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2758645,"reputation":3065,"user_id":2376004,"accept_rate":62,"display_name":"Bad Loser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677028898,"creation_date":1677027743,"answer_id":75527368,"question_id":28522144,"body_markdown":"This answer will be in a constant state of flux until Android standardize a method of matching their *annoying* decimal/hexadecimal *id* references to a tangible resource such as *my_layout.xml*.\r\n\r\nFor Android Studio **Dolphin** | 2021.3.1 Patch 1 have a look at this file:\r\n\r\n    /project/package/build/intermediates/stable_resource_ids_file/debug/stableIds.txt\r\n\r\nIt is produced by RUN (not just BUILD). Sample:\r\n\r\n    layout/mtrl_picker_header_fullscreen = 0x7f0d00de\r\n    string/cancel = 0x7f1101f0\r\n    style/ThemeOverlay.MaterialComponents.MaterialCalendar = 0x7f1202f3\r\n    id/gpxBtn = 0x7f0a0346\r\n\r\n","title":"Where is the R.java file in Android Studio?","body":"<p>This answer will be in a constant state of flux until Android standardize a method of matching their <em>annoying</em> decimal/hexadecimal <em>id</em> references to a tangible resource such as <em>my_layout.xml</em>.</p>\n<p>For Android Studio <strong>Dolphin</strong> | 2021.3.1 Patch 1 have a look at this file:</p>\n<pre><code>/project/package/build/intermediates/stable_resource_ids_file/debug/stableIds.txt\n</code></pre>\n<p>It is produced by RUN (not just BUILD). Sample:</p>\n<pre><code>layout/mtrl_picker_header_fullscreen = 0x7f0d00de\nstring/cancel = 0x7f1101f0\nstyle/ThemeOverlay.MaterialComponents.MaterialCalendar = 0x7f1202f3\nid/gpxBtn = 0x7f0a0346\n</code></pre>\n"}],"owner":{"account_id":4525971,"reputation":681,"user_id":3677798,"accept_rate":0,"display_name":"TheChessDoctor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84465,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":13,"score":55,"last_activity_date":1677028898,"creation_date":1423963450,"question_id":28522144,"body_markdown":"Where is the R.java file in Android Studio? Can someone please help with this? I already tried google for the answer but can&#39;t find any solution.","title":"Where is the R.java file in Android Studio?","body":"<p>Where is the R.java file in Android Studio? Can someone please help with this? I already tried google for the answer but can't find any solution.</p>\n"},{"tags":["python","java","architecture","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":3314736,"reputation":3800,"user_id":2787364,"accept_rate":75,"display_name":"Cosmin Ioniță"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638566323,"creation_date":1638566323,"answer_id":70220788,"question_id":70211262,"body_markdown":"You can create a dedicated notification service, fully decoupled of the client/user entities, that handles notifications in a generic way.\r\n\r\nWhenever the assignment is completed, you use that service to fire 2 notifications, one for each entity.\r\n\r\nHaving this service decoupled will make the architecture more robust, because you can test it in a generic way, but also reuse it for other use-cases, not to mention that it follows the separation of concerns.","title":"Notifications with clean architecture","body":"<p>You can create a dedicated notification service, fully decoupled of the client/user entities, that handles notifications in a generic way.</p>\n<p>Whenever the assignment is completed, you use that service to fire 2 notifications, one for each entity.</p>\n<p>Having this service decoupled will make the architecture more robust, because you can test it in a generic way, but also reuse it for other use-cases, not to mention that it follows the separation of concerns.</p>\n"}],"owner":{"account_id":7412496,"reputation":222,"user_id":5639448,"display_name":"Alexander Kiselev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70220788,"answer_count":1,"score":0,"last_activity_date":1677027234,"creation_date":1638519169,"question_id":70211262,"body_markdown":"There is a case for creating a client.\r\n\r\n`Controller -&gt; CreateClientRequest -&gt; CreateClientUseCase -&gt; ClientEntity [assigned: UserEntity]`\r\n\r\nThe client is assigned a responsible person assigned.\r\n\r\nAfter creation, i need to notify the client about the assigned user, and the user about the incoming client.\r\n\r\nIn this case, the user has notification settings like: Email, Push, SMS.\r\n\r\nQ: How do i implement this kind of aggregation in a clean architecture?","title":"Notifications with clean architecture","body":"<p>There is a case for creating a client.</p>\n<p><code>Controller -&gt; CreateClientRequest -&gt; CreateClientUseCase -&gt; ClientEntity [assigned: UserEntity]</code></p>\n<p>The client is assigned a responsible person assigned.</p>\n<p>After creation, i need to notify the client about the assigned user, and the user about the incoming client.</p>\n<p>In this case, the user has notification settings like: Email, Push, SMS.</p>\n<p>Q: How do i implement this kind of aggregation in a clean architecture?</p>\n"},{"tags":["java","jpa","design-patterns","architecture","clean-architecture"],"comments":[{"owner":{"account_id":10300271,"reputation":612,"user_id":7599197,"display_name":"niemar"},"score":1,"creation_date":1538302896,"post_id":52576738,"comment_id":92089178,"body_markdown":"JPA is a standard and not framework so you there is no need to refactor entity classes.","body":"JPA is a standard and not framework so you there is no need to refactor entity classes."},{"owner":{"account_id":1768905,"reputation":1867,"user_id":2177240,"display_name":"Eneko"},"score":2,"creation_date":1592320345,"post_id":52576738,"comment_id":110380240,"body_markdown":"@niemar, I don&#39;t think that changes a lot. The project requirements can force you to change the used standard the same way they force you to change the used framework. For example, &quot;the marketing person&quot; may decide the project should use NoSQL because many customers love this fancy word. JPA does not support NoSQL so you would be required to use another standard/framework.","body":"@niemar, I don&#39;t think that changes a lot. The project requirements can force you to change the used standard the same way they force you to change the used framework. For example, &quot;the marketing person&quot; may decide the project should use NoSQL because many customers love this fancy word. JPA does not support NoSQL so you would be required to use another standard/framework."}],"answers":[{"comments":[{"owner":{"account_id":6492732,"reputation":982,"user_id":5026265,"accept_rate":78,"display_name":"Barney Stinson"},"score":0,"creation_date":1538501594,"post_id":52606482,"comment_id":92161366,"body_markdown":"so is it ok to use JPA-Annotation inside the entity because they are ?interfaces? and the implementation is injected by using hibernate dependency?","body":"so is it ok to use JPA-Annotation inside the entity because they are ?interfaces? and the implementation is injected by using hibernate dependency?"},{"owner":{"account_id":63583,"reputation":2477,"user_id":188138,"accept_rate":67,"display_name":"Brad Irby"},"score":0,"creation_date":1538557869,"post_id":52606482,"comment_id":92180504,"body_markdown":"The repository interface should not require any references to outside libraries.  It should only reference domain level objects so that you can implement the interface in any library, not just JPA.  So to answer your question, if you need JPA references in the domain, you&#39;ve done something wrong.\n\nThe interface should be something like the following:\n\ninterface MyEntityRepository \n{ \n    MyEntity Get(int id); \n    void Save(MyEntity ent); \n    void Delete(MyEntity ent);\n}","body":"The repository interface should not require any references to outside libraries.  It should only reference domain level objects so that you can implement the interface in any library, not just JPA.  So to answer your question, if you need JPA references in the domain, you&#39;ve done something wrong.  The interface should be something like the following:  interface MyEntityRepository  {      MyEntity Get(int id);      void Save(MyEntity ent);      void Delete(MyEntity ent); }"}],"tags":[],"owner":{"account_id":63583,"reputation":2477,"user_id":188138,"accept_rate":67,"display_name":"Brad Irby"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538475825,"creation_date":1538475825,"answer_id":52606482,"question_id":52576738,"body_markdown":"The interface for the repository to persist the entities goes in the center.  Implementation of that interface goes in the outside layer, and the implementation is injected where it is needed.","title":"JPA Clean Architecture","body":"<p>The interface for the repository to persist the entities goes in the center.  Implementation of that interface goes in the outside layer, and the implementation is injected where it is needed.</p>\n"},{"tags":[],"owner":{"account_id":8852490,"reputation":204,"user_id":6611224,"display_name":"Jhovanni"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556459469,"creation_date":1556459469,"answer_id":55890927,"question_id":52576738,"body_markdown":"If you really want to follow clean architecture, then no reference to external libraries should be in your domain classes.\r\nTo overcome that, a couple of strategies could be:\r\n\r\n- User jpa/hibernate XML mappings. This way you can externalize your mappings and change between sql/noSql easily just importing a different config file (each file will setup a different set of XML mappings).\r\n\r\nThe downside of this approach, is that your domain will still require to implement **Serializable**, and most of them will require setters/getters for its fields, or force hibernate/jpa to ignore Java limitations and access private fields. Also, there are things you can do with Annotations that is not possible with XML, or the workaround is problematic. It works, but still your domain layer looks like simple DTOs.\r\n\r\n- When crossing a boundary, use DTO objects. This means you will have your domain object **Demo**, and a DTO object **DemoData** for example. Data will be retrieved using DemoData instances, and repository should convert between those two when saving/retrieving.\r\n\r\nThis last approach makes you project very easy to change. You can change persistence layer any time, but doing so will require a whole new datastore layer to integrate. Let&#39;s say you want to change to cassandra, you will need a new DTO **DemoDataCassandra**, its mappers between it to Demo, new annotations for mappings, etc.","title":"JPA Clean Architecture","body":"<p>If you really want to follow clean architecture, then no reference to external libraries should be in your domain classes.\nTo overcome that, a couple of strategies could be:</p>\n\n<ul>\n<li>User jpa/hibernate XML mappings. This way you can externalize your mappings and change between sql/noSql easily just importing a different config file (each file will setup a different set of XML mappings).</li>\n</ul>\n\n<p>The downside of this approach, is that your domain will still require to implement <strong>Serializable</strong>, and most of them will require setters/getters for its fields, or force hibernate/jpa to ignore Java limitations and access private fields. Also, there are things you can do with Annotations that is not possible with XML, or the workaround is problematic. It works, but still your domain layer looks like simple DTOs.</p>\n\n<ul>\n<li>When crossing a boundary, use DTO objects. This means you will have your domain object <strong>Demo</strong>, and a DTO object <strong>DemoData</strong> for example. Data will be retrieved using DemoData instances, and repository should convert between those two when saving/retrieving.</li>\n</ul>\n\n<p>This last approach makes you project very easy to change. You can change persistence layer any time, but doing so will require a whole new datastore layer to integrate. Let's say you want to change to cassandra, you will need a new DTO <strong>DemoDataCassandra</strong>, its mappers between it to Demo, new annotations for mappings, etc.</p>\n"},{"comments":[{"owner":{"account_id":4989307,"reputation":171,"user_id":4012027,"display_name":"Cory Serratore"},"score":7,"creation_date":1575319397,"post_id":59093465,"comment_id":104518705,"body_markdown":"I&#39;m not sure why my comment was down voted. Allow me to quote The Clean Architecture book. Page 198 states &quot;Your Entity objects should be plain old objects that have no dependencies on frameworks or databases or other complications.&quot;\n\nPage 215 goes on to clarify &quot;Where should such ORM systems reside? In the database layer of course.&quot;\n\nCleary, JPA &quot;entities&quot; and Clean Architecture &quot;entities&quot; are distinct.","body":"I&#39;m not sure why my comment was down voted. Allow me to quote The Clean Architecture book. Page 198 states &quot;Your Entity objects should be plain old objects that have no dependencies on frameworks or databases or other complications.&quot;  Page 215 goes on to clarify &quot;Where should such ORM systems reside? In the database layer of course.&quot;  Cleary, JPA &quot;entities&quot; and Clean Architecture &quot;entities&quot; are distinct."}],"tags":[],"owner":{"account_id":4989307,"reputation":171,"user_id":4012027,"display_name":"Cory Serratore"},"comment_count":1,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1574960177,"creation_date":1574960177,"answer_id":59093465,"question_id":52576738,"body_markdown":"I think the general confusion here is due to the overloading of the term Entity, which has different semantics across different contexts.\r\nIn the context of JPA, an Entity is a persistence abstraction representing rows in a table and ORM.\r\nIn the context of Clean Architecture, an Entity is a business domain abstraction and is completely independent of persistence.\r\n\r\nThey can co-exist in a Clean Architecture, but they each serve distinct purposes. Attempting to combine them and leverage JPA capabilities in your business domain entities violates the principles of Clean Architecture and will couple your domain to your persistence implementation.\r\n\r\n","title":"JPA Clean Architecture","body":"<p>I think the general confusion here is due to the overloading of the term Entity, which has different semantics across different contexts.\nIn the context of JPA, an Entity is a persistence abstraction representing rows in a table and ORM.\nIn the context of Clean Architecture, an Entity is a business domain abstraction and is completely independent of persistence.</p>\n\n<p>They can co-exist in a Clean Architecture, but they each serve distinct purposes. Attempting to combine them and leverage JPA capabilities in your business domain entities violates the principles of Clean Architecture and will couple your domain to your persistence implementation.</p>\n"}],"owner":{"account_id":6492732,"reputation":982,"user_id":5026265,"accept_rate":78,"display_name":"Barney Stinson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3776,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"answer_count":3,"score":9,"last_activity_date":1677027171,"creation_date":1538301008,"question_id":52576738,"body_markdown":"I&#39;m refactoring a microservice according to *Clean Architecture*:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/38sT3.jpg\r\n\r\nFrameworks should be at the utmost layer. So I used the Adapter Pattern and Dependency Inversion to put \r\n`org.springframework.data.repository.CrudRepository` at the utmost layer. But how can I use `@Entity` (from **J**ava **P**ersistence **A**PI) to persist my entities, if entities are in the center and frameworks are at the utmost layer?\r\n\r\n__________\r\n\r\nExample:\r\nDemo-Entity:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.validation.constraints.NotNull;\r\n\r\n    @Entity\r\n    public class Demo implements Serializable {\r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        \r\n        @NotNull\r\n        private String foo;\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nGenericRepostioryInterface (in the Usecase Layer)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface CrudRepositoryInterface&lt;S,T&gt; {\r\n        public &lt;U extends S&gt; U save(U u) ;    \r\n        public &lt;U extends S&gt; Iterable&lt;U&gt; saveAll(Iterable&lt;U&gt; itrbl) ;    \r\n        public Optional&lt;S&gt; findById(T id) ;    \r\n        public boolean existsById(T id) ;    \r\n        public Iterable&lt;S&gt; findAll() ;    \r\n        public Iterable&lt;S&gt; findAllById(Iterable&lt;T&gt; itrbl) ;    \r\n        public long count() ;    \r\n        public void deleteById(T id) ;    \r\n        public void delete(S t);    \r\n        public void deleteAll(Iterable&lt;? extends S&gt; itrbl) ;    \r\n        public void deleteAll() ;  \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSome usecase:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n        @Autowired\r\n        private CrudRepositoryInterface&lt;Demo,Long&gt; demoRepository;\r\n        ...\r\n        \r\n        private void deleteAll(){\r\n          this.demoRepository.deleteAll();\r\n        }\r\n        ...\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAdapter (DB Layer)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface DemoRepositoryAdapter extends CrudRepository&lt;Demo,Long&gt;,CrudRepositoryInterface&lt;Demo,Long&gt;{    \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nConfig for Injection (I put that in the DB Package/Layer as well)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    public class InjectRepositoryConfig {    \r\n        @Bean\r\n        public CrudRepositoryInterface&lt;Demo,Long&gt; animalOwnerRepository(@Autowired DemoRepositoryAdapter demoRepositoryAdapter){\r\n            return demoRepositoryAdapter;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n__________\r\n\r\nThis works fine so far but I&#39;m unsure how to remove / replace / refactor JPA out of the core layer?\r\n\r\n","title":"JPA Clean Architecture","body":"<p>I'm refactoring a microservice according to <em>Clean Architecture</em>:</p>\n<p><a href=\"https://i.stack.imgur.com/38sT3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/38sT3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Frameworks should be at the utmost layer. So I used the Adapter Pattern and Dependency Inversion to put\n<code>org.springframework.data.repository.CrudRepository</code> at the utmost layer. But how can I use <code>@Entity</code> (from <strong>J</strong>ava <strong>P</strong>ersistence <strong>A</strong>PI) to persist my entities, if entities are in the center and frameworks are at the utmost layer?</p>\n<hr />\n<p>Example:\nDemo-Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.validation.constraints.NotNull;\n\n@Entity\npublic class Demo implements Serializable {\n    @Id\n    @GeneratedValue\n    private long id;\n    \n    @NotNull\n    private String foo;\n\n}\n</code></pre>\n\n<p>GenericRepostioryInterface (in the Usecase Layer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CrudRepositoryInterface&lt;S,T&gt; {\n    public &lt;U extends S&gt; U save(U u) ;    \n    public &lt;U extends S&gt; Iterable&lt;U&gt; saveAll(Iterable&lt;U&gt; itrbl) ;    \n    public Optional&lt;S&gt; findById(T id) ;    \n    public boolean existsById(T id) ;    \n    public Iterable&lt;S&gt; findAll() ;    \n    public Iterable&lt;S&gt; findAllById(Iterable&lt;T&gt; itrbl) ;    \n    public long count() ;    \n    public void deleteById(T id) ;    \n    public void delete(S t);    \n    public void deleteAll(Iterable&lt;? extends S&gt; itrbl) ;    \n    public void deleteAll() ;  \n}\n</code></pre>\n\n<p>Some usecase:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private CrudRepositoryInterface&lt;Demo,Long&gt; demoRepository;\n    ...\n    \n    private void deleteAll(){\n      this.demoRepository.deleteAll();\n    }\n    ...\n</code></pre>\n\n<p>Adapter (DB Layer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DemoRepositoryAdapter extends CrudRepository&lt;Demo,Long&gt;,CrudRepositoryInterface&lt;Demo,Long&gt;{    \n}\n</code></pre>\n\n<p>Config for Injection (I put that in the DB Package/Layer as well)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class InjectRepositoryConfig {    \n    @Bean\n    public CrudRepositoryInterface&lt;Demo,Long&gt; animalOwnerRepository(@Autowired DemoRepositoryAdapter demoRepositoryAdapter){\n        return demoRepositoryAdapter;\n    }\n}\n</code></pre>\n\n<hr />\n<p>This works fine so far but I'm unsure how to remove / replace / refactor JPA out of the core layer?</p>\n"},{"tags":["java","junit","mockito","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1675668628,"post_id":75353469,"comment_id":132970895,"body_markdown":"What&#39;s the use case for mocking an interceptor?","body":"What&#39;s the use case for mocking an interceptor?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1675762487,"post_id":75353469,"comment_id":132993513,"body_markdown":"I think this is a valid question. Interceptors have logic, sometimes complex logic, and the benefits of testing them are the same as testing any other piece of code! And indeed, there is no facility that I know of to help with that, at least in the JEE world. What I do is (a) create a dummy bean only for tests - the bean has one method that records whether it was called, and maybe its arguments, and getters for the arguments (b) apply the interceptor to that method and (c) test. It is cumbersome, but at least it works.","body":"I think this is a valid question. Interceptors have logic, sometimes complex logic, and the benefits of testing them are the same as testing any other piece of code! And indeed, there is no facility that I know of to help with that, at least in the JEE world. What I do is (a) create a dummy bean only for tests - the bean has one method that records whether it was called, and maybe its arguments, and getters for the arguments (b) apply the interceptor to that method and (c) test. It is cumbersome, but at least it works."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1675762686,"post_id":75353469,"comment_id":132993574,"body_markdown":"An example from my own code [here](https://github.com/nikospara/realworld-v2/blob/master/realworld-v2-article-module/realworld-v2-article-services/src/test/java/realworld/article/services/authz/impl/ArticleServiceAuthorizerTest.java). It is for a *decorator* and using *weld-junit*, but the principle is the same.","body":"An example from my own code <a href=\"https://github.com/nikospara/realworld-v2/blob/master/realworld-v2-article-module/realworld-v2-article-services/src/test/java/realworld/article/services/authz/impl/ArticleServiceAuthorizerTest.java\" rel=\"nofollow noreferrer\">here</a>. It is for a <i>decorator</i> and using <i>weld-junit</i>, but the principle is the same."}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677026752,"creation_date":1675611685,"question_id":75353469,"body_markdown":"How to mock interceptor methods during test?\r\n\r\nExample of class with interceptor:\r\n\r\n    \r\n    @ApplicationScoped\r\n    public class MyServiceImpl implements MyService {\r\n    \r\n    \r\n        @Override\r\n        @MyAnnotation\r\n        public Uni&lt;List&lt;SomeDto&gt;&gt; getAll() {\r\n            return //\r\n        }\r\n\r\nExample of interceptor which works via @MyAnnotation:\r\n\r\n    @Priority(100)\r\n    @MyAnnotation\r\n    @Interceptor\r\n    public class MyInterceptor {\r\n    \r\n        @AroundInvoke\r\n        public Object someMethod(InvocationContext ic)throws Exception {\r\n           // some logic\r\n            return ic.proceed();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHow test should be designed to mock invocation of someMethod in MyInterceptor?\r\n\r\n    @QuarkusTest\r\n    class SomeServiceTest {\r\n    \r\n        @Test\r\n        void getAllNotBlacklisted() {\r\n           // ???\r\n        }","title":"How to mock interceptors?","body":"<p>How to mock interceptor methods during test?</p>\n<p>Example of class with interceptor:</p>\n<pre><code>@ApplicationScoped\npublic class MyServiceImpl implements MyService {\n\n\n    @Override\n    @MyAnnotation\n    public Uni&lt;List&lt;SomeDto&gt;&gt; getAll() {\n        return //\n    }\n</code></pre>\n<p>Example of interceptor which works via @MyAnnotation:</p>\n<pre><code>@Priority(100)\n@MyAnnotation\n@Interceptor\npublic class MyInterceptor {\n\n    @AroundInvoke\n    public Object someMethod(InvocationContext ic)throws Exception {\n       // some logic\n        return ic.proceed();\n    }\n\n}\n</code></pre>\n<p>How test should be designed to mock invocation of someMethod in MyInterceptor?</p>\n<pre><code>@QuarkusTest\nclass SomeServiceTest {\n\n    @Test\n    void getAllNotBlacklisted() {\n       // ???\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-linux-2"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677090624,"post_id":75520461,"comment_id":133270758,"body_markdown":"Compiled binaries for what platform?  I&#39;ve not done what you&#39;re trying to do but Lambda&#39;s run in 64 bit Linux environments and I don&#39;t know how they handle 32 bits.","body":"Compiled binaries for what platform?  I&#39;ve not done what you&#39;re trying to do but Lambda&#39;s run in 64 bit Linux environments and I don&#39;t know how they handle 32 bits."},{"owner":{"account_id":18301519,"reputation":1,"user_id":13326199,"display_name":"ARPIT MISHRA"},"score":0,"creation_date":1677134189,"post_id":75520461,"comment_id":133278600,"body_markdown":"Amazon linux 2, i want to run selenium and headless chrome on aws lambda to execute ui test suites.","body":"Amazon linux 2, i want to run selenium and headless chrome on aws lambda to execute ui test suites."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677165526,"post_id":75520461,"comment_id":133287590,"body_markdown":"I don&#39;t see a AWS Linux 2 package on the [downloads page](https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/linux/chromium_packages.md) and you appear to be using a 32 bit driver.  Again, what did you package?","body":"I don&#39;t see a AWS Linux 2 package on the <a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/linux/chromium_packages.md\" rel=\"nofollow noreferrer\">downloads page</a> and you appear to be using a 32 bit driver.  Again, what did you package?"}],"owner":{"account_id":18301519,"reputation":1,"user_id":13326199,"display_name":"ARPIT MISHRA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677026688,"creation_date":1676982100,"question_id":75520461,"body_markdown":"unable to run chromium on traditional aws lambda. also i dont want to use docker.\r\n\r\nFor instance, I have uploaded the compiled binaries of the chrome driver and headless chromium into a lambda layer and have used system.setProperties in my code also have set the binaries for headless chromium but getting this error in lambda logs:\r\n\r\n    /opt/lib/chromedriver: error while loading shared libraries: libglib-2.0.so.0: wrong ELF class: ELFCLASS32 Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.  Host info: host: &#39;169.254.145.9&#39;, ip: &#39;169.254.145.9&#39;: org.openqa.selenium.SessionNotCreatedException\r\n\r\n \r\n\r\n\r\ncan any body help me with this.","title":"How to run headless chromium browser in AWS lambda using selenium and java without docker?","body":"<p>unable to run chromium on traditional aws lambda. also i dont want to use docker.</p>\n<p>For instance, I have uploaded the compiled binaries of the chrome driver and headless chromium into a lambda layer and have used system.setProperties in my code also have set the binaries for headless chromium but getting this error in lambda logs:</p>\n<pre><code>/opt/lib/chromedriver: error while loading shared libraries: libglib-2.0.so.0: wrong ELF class: ELFCLASS32 Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.  Host info: host: '169.254.145.9', ip: '169.254.145.9': org.openqa.selenium.SessionNotCreatedException\n</code></pre>\n<p>can any body help me with this.</p>\n"},{"tags":["java","intellij-idea","junit","junit5","intellij-14"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677029164,"post_id":75527244,"comment_id":133255622,"body_markdown":"You&#39;ll want to make sure that junit-jupiter-api is in your class path.  Have a look under `File &gt; Project Structure` for `Project Settings &gt; Libraries`.  Add the jar there if it&#39;s not already listed.","body":"You&#39;ll want to make sure that junit-jupiter-api is in your class path.  Have a look under <code>File &gt; Project Structure</code> for <code>Project Settings &gt; Libraries</code>.  Add the jar there if it&#39;s not already listed."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1677035353,"post_id":75527244,"comment_id":133256409,"body_markdown":"You could check the documentation here https://www.jetbrains.com/help/idea/library.html#define-a-project-library to know how to add the library to the project.","body":"You could check the documentation here <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-project-library\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html#define-a-project-librar&zwnj;&#8203;y</a> to know how to add the library to the project."}],"owner":{"account_id":27291934,"reputation":1,"user_id":20810174,"display_name":"Mr.Trollo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677026331,"creation_date":1677026331,"question_id":75527244,"body_markdown":"(https://i.stack.imgur.com/ON544.png) I don&#39;t know if Im supposed to put the jar file somewhere in my path or if I can place it anywhere currently Its not directly on my path maybe thats why its not working I would like to know how to fix.\r\n\r\nI want to be able to make a simple tester but I can&#39;t.","title":"Why is my JUNIT 5 not working Im trying to create a tester but I get &quot;cannot resolve symbol `Assertions`? I Did it in root source code and then fix","body":"<p>(<a href=\"https://i.stack.imgur.com/ON544.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ON544.png</a>) I don't know if Im supposed to put the jar file somewhere in my path or if I can place it anywhere currently Its not directly on my path maybe thats why its not working I would like to know how to fix.</p>\n<p>I want to be able to make a simple tester but I can't.</p>\n"},{"tags":["java","sql","sql-server","dll"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1677024503,"post_id":75527060,"comment_id":133255009,"body_markdown":"see if this helps https://stackoverflow.com/questions/61117080/no-mssql-jdbc-auth-8-2-1-x64-in-java-library-path","body":"see if this helps <a href=\"https://stackoverflow.com/questions/61117080/no-mssql-jdbc-auth-8-2-1-x64-in-java-library-path\" title=\"no mssql jdbc auth 8 2 1 x64 in java library path\">stackoverflow.com/questions/61117080/&hellip;</a>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1677034975,"post_id":75527060,"comment_id":133256370,"body_markdown":"I guess the question is: why do you need it? Azure AD authentication, etc., is built into the Microsoft JDBC driver itself as of around v8.2. If you&#39;re trying to do this for Windows Authentication against an SQL Server then you can only do that from Windows machines.","body":"I guess the question is: why do you need it? Azure AD authentication, etc., is built into the Microsoft JDBC driver itself as of around v8.2. If you&#39;re trying to do this for Windows Authentication against an SQL Server then you can only do that from Windows machines."}],"owner":{"account_id":17528560,"reputation":79,"user_id":12713111,"display_name":"DeeP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677025459,"creation_date":1677024015,"question_id":75527060,"body_markdown":"I&#39;m trying to connect to a SQL Server from a MAC and keep getting this error. \r\n\r\n&gt; Unable to load authentication DLL mssql-jdbc_auth-10.2.1.x64\r\n\r\nFor Windows, the solution is to add the dll file in the jdk/bin folder, but this doesn&#39;t work for mac. \r\n\r\nWhat&#39;s the solution for MAC users? ","title":"Unable to load authentication DLL mssql-jdbc_auth-10.2.1.x64 (For MAC)","body":"<p>I'm trying to connect to a SQL Server from a MAC and keep getting this error.</p>\n<blockquote>\n<p>Unable to load authentication DLL mssql-jdbc_auth-10.2.1.x64</p>\n</blockquote>\n<p>For Windows, the solution is to add the dll file in the jdk/bin folder, but this doesn't work for mac.</p>\n<p>What's the solution for MAC users?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"score":0,"creation_date":1677017751,"post_id":75526403,"comment_id":133253809,"body_markdown":"I got the sorted output mixed up but the site won&#39;t let me edit: Sorted output in the OP example should be [{&quot;Bob&quot;, 81}, {&quot;David&quot;, 47}, {&quot;John&quot;, 81}]. Wanted to demonstrate what happens in a tiebreaker but that&#39;d be applicable if the input was [&quot;byAge&quot;, &quot;byName&quot;]","body":"I got the sorted output mixed up but the site won&#39;t let me edit: Sorted output in the OP example should be [{&quot;Bob&quot;, 81}, {&quot;David&quot;, 47}, {&quot;John&quot;, 81}]. Wanted to demonstrate what happens in a tiebreaker but that&#39;d be applicable if the input was [&quot;byAge&quot;, &quot;byName&quot;]"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1677017815,"post_id":75526403,"comment_id":133253816,"body_markdown":"Why can&#39;t you edit? Just click the [edit] button beneath your post.","body":"Why can&#39;t you edit? Just click the <a href=\"https://stackoverflow.com/posts/75526403/edit\">edit</a> button beneath your post."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1677017824,"post_id":75526403,"comment_id":133253818,"body_markdown":"If you need to clarify anything - simply [edit] your question. Do not put it in comments.","body":"If you need to clarify anything - simply <a href=\"https://stackoverflow.com/posts/75526403/edit\">edit</a> your question. Do not put it in comments."},{"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"score":0,"creation_date":1677021704,"post_id":75526403,"comment_id":133254530,"body_markdown":"I get the error message &quot;There are too many pending edits on Stack Overflow. Please try again later.&quot; when I attempt to edit &#175;\\_(ツ)_/&#175;. Guess that&#39;s just me then","body":"I get the error message &quot;There are too many pending edits on Stack Overflow. Please try again later.&quot; when I attempt to edit &#175;_(ツ)_/&#175;. Guess that&#39;s just me then"}],"answers":[{"comments":[{"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"score":0,"creation_date":1677021747,"post_id":75526466,"comment_id":133254539,"body_markdown":"Ah of course. Not sure why I didn&#39;t think of this","body":"Ah of course. Not sure why I didn&#39;t think of this"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677018161,"creation_date":1677018161,"answer_id":75526466,"question_id":75526403,"body_markdown":"You can create a map of comparators by name:\r\n\r\n    Map&lt;String, Comparator&lt;Person&gt;&gt; comparators = new HashMap&lt;&gt;();\r\n    comparators.put(&quot;byName&quot;, Comparator.comparing(Person::getName));\r\n    comparators.put(&quot;byAge&quot;, Comparator.comparing(Person::getAge));\r\n    \r\nThen chain them on the fly:\r\n\r\n    List&lt;String&gt; input = Arrays.asList(&quot;byName&quot;, &quot;byAge&quot;);\r\n    Comparator&lt;Person&gt; comparator = input.stream()\r\n            .map(comparators::get)\r\n            .reduce(Comparator::thenComparing)\r\n            .orElse((a, b) -&gt; 0);","title":"How to dynamically choose a comparator to sort a collection of data by?","body":"<p>You can create a map of comparators by name:</p>\n<pre><code>Map&lt;String, Comparator&lt;Person&gt;&gt; comparators = new HashMap&lt;&gt;();\ncomparators.put(&quot;byName&quot;, Comparator.comparing(Person::getName));\ncomparators.put(&quot;byAge&quot;, Comparator.comparing(Person::getAge));\n</code></pre>\n<p>Then chain them on the fly:</p>\n<pre><code>List&lt;String&gt; input = Arrays.asList(&quot;byName&quot;, &quot;byAge&quot;);\nComparator&lt;Person&gt; comparator = input.stream()\n        .map(comparators::get)\n        .reduce(Comparator::thenComparing)\n        .orElse((a, b) -&gt; 0);\n</code></pre>\n"}],"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75526466,"answer_count":1,"score":0,"last_activity_date":1677024006,"creation_date":1677017664,"question_id":75526403,"body_markdown":"So I have user input that&#39;s a list of 2 elements, and the order of the 2 elements might change. If the input is like [&quot;byName&quot;, &quot;byAge&quot;], then I&#39;d need to first sort a collection of data based off name, and if there&#39;s a tie between 2 elements, then sort by age. \r\n\r\nSo if input is \r\n\r\n    [&quot;byName&quot;, &quot;byAge&quot;] \r\n\r\nand data is \r\n\r\n    [{&quot;John&quot;, 81}, \r\n     {&quot;Bob&quot;, 81}, \r\n     {&quot;David&quot;, 47}] \r\n\r\nsorted output would be \r\n\r\n    [{&quot;Bob&quot;, 81}, \r\n     {&quot;David&quot;, 47}, \r\n     {&quot;John&quot;, 81}]\r\n\r\nLikewise, if the input list is reversed like `[&quot;byAge&quot;, &quot;byName&quot;]`, then I&#39;d sort the data by age, and use the name as a tiebreaker. \r\n\r\nI&#39;m unsure of what&#39;s the cleanest way to dynamically choose a comparator (I need comparators because there&#39;s other custom comparison logic I need to implement) based off the input? The most obvious way would be to directly perform a check on which element exists at index 0, i.e. in some lambda chain if `input.get(0) == &quot;byAge&quot;` then sort like this. But that&#39;s not really extensible, is it? ","title":"How to dynamically choose a comparator to sort a collection of data by?","body":"<p>So I have user input that's a list of 2 elements, and the order of the 2 elements might change. If the input is like [&quot;byName&quot;, &quot;byAge&quot;], then I'd need to first sort a collection of data based off name, and if there's a tie between 2 elements, then sort by age.</p>\n<p>So if input is</p>\n<pre><code>[&quot;byName&quot;, &quot;byAge&quot;] \n</code></pre>\n<p>and data is</p>\n<pre><code>[{&quot;John&quot;, 81}, \n {&quot;Bob&quot;, 81}, \n {&quot;David&quot;, 47}] \n</code></pre>\n<p>sorted output would be</p>\n<pre><code>[{&quot;Bob&quot;, 81}, \n {&quot;David&quot;, 47}, \n {&quot;John&quot;, 81}]\n</code></pre>\n<p>Likewise, if the input list is reversed like <code>[&quot;byAge&quot;, &quot;byName&quot;]</code>, then I'd sort the data by age, and use the name as a tiebreaker.</p>\n<p>I'm unsure of what's the cleanest way to dynamically choose a comparator (I need comparators because there's other custom comparison logic I need to implement) based off the input? The most obvious way would be to directly perform a check on which element exists at index 0, i.e. in some lambda chain if <code>input.get(0) == &quot;byAge&quot;</code> then sort like this. But that's not really extensible, is it?</p>\n"},{"tags":["java","database","connection-pooling","hikaricp","lettuce"],"comments":[{"owner":{"account_id":2204808,"reputation":31386,"user_id":1948292,"accept_rate":69,"display_name":"Daniel W."},"score":0,"creation_date":1676634488,"post_id":75483841,"comment_id":133181429,"body_markdown":"Please link the source of your information","body":"Please link the source of your information"},{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":2,"creation_date":1677236729,"post_id":75483841,"comment_id":133302455,"body_markdown":"Basically, Lettuce is powered by Netty - that&#39;s why. If you read Jedis client recommendation, it would sound a lot like Hikari, since underneath the client operates more like JDBC in a blocking fashion.","body":"Basically, Lettuce is powered by Netty - that&#39;s why. If you read Jedis client recommendation, it would sound a lot like Hikari, since underneath the client operates more like JDBC in a blocking fashion."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676925129,"creation_date":1676841960,"answer_id":75503571,"question_id":75483841,"body_markdown":"Hikari is a JDBC connection pool. Connection pooling is required because database has long things to do and while that connection open and running a query you can not run another query over it, so it is better to have multiple &quot;open&quot; connections ready. Read more [here](https://stackoverflow.com/a/16093097/175554)\r\n\r\nOn the other hand Redis is not a database. Redis is a key value based in memory store/cache used for fast access. There you do not need connection pool because it is simple and fast, you ask to redis is &quot;key1&quot; exist give me the data and you get it or not. On the other hand with database you run long running SQLs sometime stored procedures depends to complexity but it is not one step work.","title":"Single connection vs Connection Pool","body":"<p>Hikari is a JDBC connection pool. Connection pooling is required because database has long things to do and while that connection open and running a query you can not run another query over it, so it is better to have multiple &quot;open&quot; connections ready. Read more <a href=\"https://stackoverflow.com/a/16093097/175554\">here</a></p>\n<p>On the other hand Redis is not a database. Redis is a key value based in memory store/cache used for fast access. There you do not need connection pool because it is simple and fast, you ask to redis is &quot;key1&quot; exist give me the data and you get it or not. On the other hand with database you run long running SQLs sometime stored procedures depends to complexity but it is not one step work.</p>\n"},{"comments":[{"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"score":0,"creation_date":1677080567,"post_id":75527052,"comment_id":133267593,"body_markdown":"is there some non-blocking JDBC client?","body":"is there some non-blocking JDBC client?"},{"owner":{"account_id":7501162,"reputation":820,"user_id":5699459,"accept_rate":50,"display_name":"Michael"},"score":0,"creation_date":1677105611,"post_id":75527052,"comment_id":133274624,"body_markdown":"The underlying Java Database Connectivity API is blocking, so you can&#39;t write a non-blocking JDBC client. If you want non-blocking you can use R2DBC which is reactive (assuming there&#39;s a client available for your DB).","body":"The underlying Java Database Connectivity API is blocking, so you can&#39;t write a non-blocking JDBC client. If you want non-blocking you can use R2DBC which is reactive (assuming there&#39;s a client available for your DB)."},{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":2,"creation_date":1677236380,"post_id":75527052,"comment_id":133302311,"body_markdown":"There was one failed attempt in the past at cracking this: https://github.com/oracle-samples/oracle-db-examples/tree/main/java/AoJ.","body":"There was one failed attempt in the past at cracking this: <a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/java/AoJ\" rel=\"nofollow noreferrer\">github.com/oracle-samples/oracle-db-examples/tree/main/java/&zwnj;&#8203;AoJ</a>."},{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":0,"creation_date":1677236546,"post_id":75527052,"comment_id":133302377,"body_markdown":"ALso, I would like to add this is very specific case of Lettuce since it uses Netty under the hood to enable async IO. If you look over the fence to the more popular Jedis client, there pooling is very much recommended.","body":"ALso, I would like to add this is very specific case of Lettuce since it uses Netty under the hood to enable async IO. If you look over the fence to the more popular Jedis client, there pooling is very much recommended."},{"owner":{"account_id":7501162,"reputation":820,"user_id":5699459,"accept_rate":50,"display_name":"Michael"},"score":1,"creation_date":1677326709,"post_id":75527052,"comment_id":133318117,"body_markdown":"I wouldn&#39;t say it&#39;s specific to Lettuce; Redisson also uses Netty under the hood to achieve non-blocking IO. But you are right, Jedis is more popular and a blocking client which needs pooling for the same reasons JDBC does.","body":"I wouldn&#39;t say it&#39;s specific to Lettuce; Redisson also uses Netty under the hood to achieve non-blocking IO. But you are right, Jedis is more popular and a blocking client which needs pooling for the same reasons JDBC does."}],"tags":[],"owner":{"account_id":7501162,"reputation":820,"user_id":5699459,"accept_rate":50,"display_name":"Michael"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677023861,"creation_date":1677023861,"answer_id":75527052,"question_id":75483841,"body_markdown":"JDBC is blocking, so only 1 request can be in flight at a time on a connection. Because of this, Hikari pools are used to efficiently share the resources of multiple connections so many threads can make requests simultaneously. The more requests you need to serve, and the longer they take, the larger your pool needs to be.\r\n\r\nLettuce, on the other hand, is non-blocking, a single connection can have many requests in flight at once. And because the connections are thread-safe, the connection can be safely shared by multiple threads too.","title":"Single connection vs Connection Pool","body":"<p>JDBC is blocking, so only 1 request can be in flight at a time on a connection. Because of this, Hikari pools are used to efficiently share the resources of multiple connections so many threads can make requests simultaneously. The more requests you need to serve, and the longer they take, the larger your pool needs to be.</p>\n<p>Lettuce, on the other hand, is non-blocking, a single connection can have many requests in flight at once. And because the connections are thread-safe, the connection can be safely shared by multiple threads too.</p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75527052,"answer_count":2,"score":1,"last_activity_date":1677023861,"creation_date":1676633999,"question_id":75483841,"body_markdown":"According to **lettuce**, we don&#39;t need connection pool and it uses ```single thread safe shared connection```\r\nhttps://github.com/lettuce-io/lettuce-core/wiki/Connection-Pooling\r\n\r\nBut, according to **hikari-cp** we need to have pool of connections of preferably size ```connections = ((core_count * 2) + effective_spindle_count)```\r\nhttps://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\r\n\r\nI am confused why we don&#39;t need pooling in one case but required in other?\r\n\r\n","title":"Single connection vs Connection Pool","body":"<p>According to <strong>lettuce</strong>, we don't need connection pool and it uses <code>single thread safe shared connection</code>\n<a href=\"https://github.com/lettuce-io/lettuce-core/wiki/Connection-Pooling\" rel=\"nofollow noreferrer\">https://github.com/lettuce-io/lettuce-core/wiki/Connection-Pooling</a></p>\n<p>But, according to <strong>hikari-cp</strong> we need to have pool of connections of preferably size <code>connections = ((core_count * 2) + effective_spindle_count)</code>\n<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing</a></p>\n<p>I am confused why we don't need pooling in one case but required in other?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":26484475,"reputation":5,"user_id":20123283,"display_name":"msp7"},"score":0,"creation_date":1677171523,"post_id":75527046,"comment_id":133289653,"body_markdown":"Totally thought I checkmarked this after reading it, sorry for the late feedback. Anyway worked like a charm, thank you very much. I&#39;ll make sure to give your linked method a try as well :)","body":"Totally thought I checkmarked this after reading it, sorry for the late feedback. Anyway worked like a charm, thank you very much. I&#39;ll make sure to give your linked method a try as well :)"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677023817,"creation_date":1677023817,"answer_id":75527046,"question_id":75526991,"body_markdown":"This is an ordering problem: since the `getDownloadUrl` method is asynchronous your `setValue` call runs before the `imageUrl[0] = task.getResult().toString()` ever executes. You can most easily validate this by adding some logging to the code, or by setting breakpoints on these lines and running in a debugger.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n\r\nThe fix for such problems is always the same: any code that needs a value, needs to be inside the callback that is executed when that value is available. In your case that means:\r\n\r\n    fileRef.putFile(uri)\r\n        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\r\n                fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                        Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\r\n\r\n                        String eventId = eventRef.push().getKey();\r\n                        eventRef.child(finalUid).child(eventId).setValue(new Evento(\r\n                                author[0],\r\n                                titolo,\r\n                                desc,\r\n                                add,\r\n                                task.getResult().toString(), // &#128072;\r\n                                data,\r\n                                timeStart,\r\n                                timeEnd,\r\n                                finalTick\r\n                        ));\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.e(&quot;Upload failure&quot;, e.getMessage());\r\n            }\r\n        });","title":"imageUrl not getting written into RTDB document","body":"<p>This is an ordering problem: since the <code>getDownloadUrl</code> method is asynchronous your <code>setValue</code> call runs before the <code>imageUrl[0] = task.getResult().toString()</code> ever executes. You can most easily validate this by adding some logging to the code, or by setting breakpoints on these lines and running in a debugger.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n</ul>\n<p>The fix for such problems is always the same: any code that needs a value, needs to be inside the callback that is executed when that value is available. In your case that means:</p>\n<pre><code>fileRef.putFile(uri)\n    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n            Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\n            fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                    Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\n\n                    String eventId = eventRef.push().getKey();\n                    eventRef.child(finalUid).child(eventId).setValue(new Evento(\n                            author[0],\n                            titolo,\n                            desc,\n                            add,\n                            task.getResult().toString(), // 👈\n                            data,\n                            timeStart,\n                            timeEnd,\n                            finalTick\n                    ));\n                }\n            });\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Log.e(&quot;Upload failure&quot;, e.getMessage());\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":26484475,"reputation":5,"user_id":20123283,"display_name":"msp7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75527046,"answer_count":1,"score":0,"last_activity_date":1677023817,"creation_date":1677023283,"question_id":75526991,"body_markdown":"Pretty new to Firebase here, I&#39;m developing an Android app for events going on in my city with Associations and regular Users either posting or saving events. This said, I got a problem with my Realtime Database not writing an imageUrl field inside my Event documents. \r\n\r\nThis my createEvent() method: \r\n```\r\n\r\nprivate void createEvent(View view) {\r\n    if(!checkDateIsNotInThePast())\r\n        return;\r\n\r\n    FirebaseUser user = mAuth.getCurrentUser();\r\n    String uid = null;\r\n    final String[] author = new String[1];\r\n    if(user != null) {\r\n        uid = user.getUid();\r\n        assocRef.child(uid).child(&quot;nome&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                author[0] = snapshot.getValue().toString();\r\n                Log.d(&quot;author&quot;, author[0]);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    String titolo = title.getText().toString();\r\n    String desc = description.getText().toString();\r\n    String add = address.getText().toString();\r\n    final String[] imageUrl = new String[1];\r\n    String data = date.getText().toString();\r\n    String timeStart = timeFrom.getText().toString();\r\n    String timeEnd = timeTo.getText().toString();\r\n    String tick = ticket.getText().toString();\r\n\r\n    if(tick.equals(&quot;&quot;)) {\r\n        ticket.setText(R.string.hint_free);\r\n        tick = &quot;Free&quot;;\r\n    }\r\n\r\n    StorageReference assocFolderRef = storageRef.child(uid);\r\n    StorageReference fileRef = assocFolderRef.child(System.currentTimeMillis() + &quot;.&quot; + getFileExtension(uri));\r\n\r\n    String finalUid = uid;\r\n    String finalTick = tick;\r\n    fileRef.putFile(uri)\r\n            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\r\n                    fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                            imageUrl[0] = task.getResult().toString();\r\n                            Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\r\n                        }\r\n                    });\r\n\r\n                    String eventId = eventRef.push().getKey();\r\n                    eventRef.child(finalUid).child(eventId).setValue(new Evento(\r\n                            author[0],\r\n                            titolo,\r\n                            desc,\r\n                            add,\r\n                            imageUrl[0],\r\n                            data,\r\n                            timeStart,\r\n                            timeEnd,\r\n                            finalTick\r\n                    ));\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.e(&quot;Upload failure&quot;, e.getMessage());\r\n                }\r\n            });\r\n    \r\n    title.setText(null);\r\n    description.setText(null);\r\n    address.setText(null);\r\n    date.setText(null);\r\n    timeFrom.setText(null);\r\n    timeTo.setText(null);\r\n    ticket.setText(null);\r\n\r\n    Toast.makeText(getContext(), &quot;Evento creato con successo&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n```\r\n\r\nI really don&#39;t know where I messed up since the constructor expects all fields to be passed inside of it, but for some reason every field gets written except the imageUrl one and gives me no errors? I&#39;m utterly confused. \r\n\r\nAny kind of help and/or pointing into any other question if this a duplicate is very well accepted. Thanks in advance.\r\n\r\nTried to pass an Object into a Realtime Database but it passes with a field less than those expected.","title":"imageUrl not getting written into RTDB document","body":"<p>Pretty new to Firebase here, I'm developing an Android app for events going on in my city with Associations and regular Users either posting or saving events. This said, I got a problem with my Realtime Database not writing an imageUrl field inside my Event documents.</p>\n<p>This my createEvent() method:</p>\n<pre><code>\nprivate void createEvent(View view) {\n    if(!checkDateIsNotInThePast())\n        return;\n\n    FirebaseUser user = mAuth.getCurrentUser();\n    String uid = null;\n    final String[] author = new String[1];\n    if(user != null) {\n        uid = user.getUid();\n        assocRef.child(uid).child(&quot;nome&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                author[0] = snapshot.getValue().toString();\n                Log.d(&quot;author&quot;, author[0]);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    String titolo = title.getText().toString();\n    String desc = description.getText().toString();\n    String add = address.getText().toString();\n    final String[] imageUrl = new String[1];\n    String data = date.getText().toString();\n    String timeStart = timeFrom.getText().toString();\n    String timeEnd = timeTo.getText().toString();\n    String tick = ticket.getText().toString();\n\n    if(tick.equals(&quot;&quot;)) {\n        ticket.setText(R.string.hint_free);\n        tick = &quot;Free&quot;;\n    }\n\n    StorageReference assocFolderRef = storageRef.child(uid);\n    StorageReference fileRef = assocFolderRef.child(System.currentTimeMillis() + &quot;.&quot; + getFileExtension(uri));\n\n    String finalUid = uid;\n    String finalTick = tick;\n    fileRef.putFile(uri)\n            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\n                    fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                            imageUrl[0] = task.getResult().toString();\n                            Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\n                        }\n                    });\n\n                    String eventId = eventRef.push().getKey();\n                    eventRef.child(finalUid).child(eventId).setValue(new Evento(\n                            author[0],\n                            titolo,\n                            desc,\n                            add,\n                            imageUrl[0],\n                            data,\n                            timeStart,\n                            timeEnd,\n                            finalTick\n                    ));\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Log.e(&quot;Upload failure&quot;, e.getMessage());\n                }\n            });\n    \n    title.setText(null);\n    description.setText(null);\n    address.setText(null);\n    date.setText(null);\n    timeFrom.setText(null);\n    timeTo.setText(null);\n    ticket.setText(null);\n\n    Toast.makeText(getContext(), &quot;Evento creato con successo&quot;, Toast.LENGTH_SHORT).show();\n}\n\n</code></pre>\n<p>I really don't know where I messed up since the constructor expects all fields to be passed inside of it, but for some reason every field gets written except the imageUrl one and gives me no errors? I'm utterly confused.</p>\n<p>Any kind of help and/or pointing into any other question if this a duplicate is very well accepted. Thanks in advance.</p>\n<p>Tried to pass an Object into a Realtime Database but it passes with a field less than those expected.</p>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1677024783,"post_id":75527029,"comment_id":133255052,"body_markdown":"Neat! I didn&#39;t see that one ;)","body":"Neat! I didn&#39;t see that one ;)"}],"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677023632,"creation_date":1677023632,"answer_id":75527029,"question_id":75526973,"body_markdown":"I think this should work\r\n```java\r\nfinal var values = Set.of(v1, v2, v3, ..., vN);\r\nfinal Map&lt;String, List&lt;Value&gt;&gt; results = values.stream()\r\n  .collect(Collectors.groupingBy(it -&gt; keyIdentifierFrom(it, someOtherStringValue)));\r\n```","title":"Return Map with (unique) key and collection of values that match the same","body":"<p>I think this should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var values = Set.of(v1, v2, v3, ..., vN);\nfinal Map&lt;String, List&lt;Value&gt;&gt; results = values.stream()\n  .collect(Collectors.groupingBy(it -&gt; keyIdentifierFrom(it, someOtherStringValue)));\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75527029,"answer_count":1,"score":0,"last_activity_date":1677023719,"creation_date":1677023069,"question_id":75526973,"body_markdown":"I have a simple object: \r\n \r\n    Value { a: int, \r\n            b: string, \r\n            c: boolean, ... \r\n            some other fields/members }\r\n\r\nThe _key identifier_ is generated from the values of `a`, `b`, and `c` — `${a}${b}${c}__${someOtherStringValue}`.\r\n\r\nI&#39;m receiving a set of `Value` and I would like (ideally) to use the Stream API to output a map with _key identifier_ as key, and the corresponding collection of `Value` objects that matches the key as value: `Map&lt;String, Collection&lt;Value&gt;&gt;`.\r\n\r\nThis is what I have so far, but it doesn&#39;t quite work yet...\r\n\r\n```java\r\nfinal var values = Set.of(v1, v2, v3, ..., vN);\r\nfinal Map&lt;String, Collection&lt;Value&gt;&gt; results = values.stream()\r\n  .map(it -&gt; keyIdentifierFrom(it, someOtherStringValue))\r\n  .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\r\n```\r\n\r\nAnyone with streaming super-powers can help?","title":"Return Map with (unique) key and collection of values that match the same","body":"<p>I have a simple object:</p>\n<pre><code>Value { a: int, \n        b: string, \n        c: boolean, ... \n        some other fields/members }\n</code></pre>\n<p>The <em>key identifier</em> is generated from the values of <code>a</code>, <code>b</code>, and <code>c</code> — <code>${a}${b}${c}__${someOtherStringValue}</code>.</p>\n<p>I'm receiving a set of <code>Value</code> and I would like (ideally) to use the Stream API to output a map with <em>key identifier</em> as key, and the corresponding collection of <code>Value</code> objects that matches the key as value: <code>Map&lt;String, Collection&lt;Value&gt;&gt;</code>.</p>\n<p>This is what I have so far, but it doesn't quite work yet...</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var values = Set.of(v1, v2, v3, ..., vN);\nfinal Map&lt;String, Collection&lt;Value&gt;&gt; results = values.stream()\n  .map(it -&gt; keyIdentifierFrom(it, someOtherStringValue))\n  .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n<p>Anyone with streaming super-powers can help?</p>\n"},{"tags":["java","image","colors","grayscale"],"answers":[{"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677001957,"creation_date":1677001957,"answer_id":75524158,"question_id":75521903,"body_markdown":"The way Grayscale works in RGB is that when all the values of red green and blue are equal, it is a shade of gray. (0,0,0) is black, and (255,255,255) is white. Something like (127,127,127) would be an in-between shade of gray. The higher the numbers, the lighter the gray, so (55,55,55) is darker than (190,190,190)\r\n\r\nIf you wanted to tint a grayscale image red, for example, you could create a function which increases the red value of each pixel by an amount which is randomly generated. I would go about this by using nested `for` loops to read each pixel of the image and add some red to it. you could also subtract the other values slightly so the image does not get too light. \r\n\r\nHere is a pseudo-code method that you could use to achieve this:\r\n\r\n    int randRed = rand.nextInt(50)\r\n    Color[][] colorArray = new Color[image width][image height];\r\n\r\n    //nested for loops to assign each pixel into Color[][] array\r\n    for (int i=0; i &lt; [image width]; i++) {\r\n        for (int j=0; j &lt; [image height]; j++) {\r\n            colorArray[i][j] = image.getRGB();\r\n        }\r\n    }\r\n    \r\n    //nested for loops to add &#39;randRed&#39; to each pixel into Color[][] array\r\n    for (int i=0; i &lt; [image width]; i++) {\r\n        for (int j=0; j &lt; [image height]; j++) {\r\n            colorArray[i][j] = new Color(image.getR()+randRed, image.getG(), image.getB());\r\n        }\r\n    }\r\n\r\n\r\nYou would need to add checks to ensure that your rib values do not exceed 255 or go below 0, which could be achieved with some `if` statements. Also create functions like `getR()`  to get the red value, etc. which shouldn&#39;t be too difficult. And figure out how to print the image back, but this should give you a good start!","title":"Colorize a Grayscale Image in Java","body":"<p>The way Grayscale works in RGB is that when all the values of red green and blue are equal, it is a shade of gray. (0,0,0) is black, and (255,255,255) is white. Something like (127,127,127) would be an in-between shade of gray. The higher the numbers, the lighter the gray, so (55,55,55) is darker than (190,190,190)</p>\n<p>If you wanted to tint a grayscale image red, for example, you could create a function which increases the red value of each pixel by an amount which is randomly generated. I would go about this by using nested <code>for</code> loops to read each pixel of the image and add some red to it. you could also subtract the other values slightly so the image does not get too light.</p>\n<p>Here is a pseudo-code method that you could use to achieve this:</p>\n<pre><code>int randRed = rand.nextInt(50)\nColor[][] colorArray = new Color[image width][image height];\n\n//nested for loops to assign each pixel into Color[][] array\nfor (int i=0; i &lt; [image width]; i++) {\n    for (int j=0; j &lt; [image height]; j++) {\n        colorArray[i][j] = image.getRGB();\n    }\n}\n\n//nested for loops to add 'randRed' to each pixel into Color[][] array\nfor (int i=0; i &lt; [image width]; i++) {\n    for (int j=0; j &lt; [image height]; j++) {\n        colorArray[i][j] = new Color(image.getR()+randRed, image.getG(), image.getB());\n    }\n}\n</code></pre>\n<p>You would need to add checks to ensure that your rib values do not exceed 255 or go below 0, which could be achieved with some <code>if</code> statements. Also create functions like <code>getR()</code>  to get the red value, etc. which shouldn't be too difficult. And figure out how to print the image back, but this should give you a good start!</p>\n"},{"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1677145115,"post_id":75527017,"comment_id":133281150,"body_markdown":"I think this looks like a good solution, but it assumes the input is already in (A)RGB &quot;true color&quot;, and the OP states *&quot;I&#39;ve tried using a hue changer, but it doesn&#39;t work on grayscale images&quot;*... Creating a new image for the output instead of changing the image in place will easily fix this.","body":"I think this looks like a good solution, but it assumes the input is already in (A)RGB &quot;true color&quot;, and the OP states <i>&quot;I&#39;ve tried using a hue changer, but it doesn&#39;t work on grayscale images&quot;</i>... Creating a new image for the output instead of changing the image in place will easily fix this."},{"owner":{"account_id":27842510,"reputation":13,"user_id":21258711,"display_name":"Joseph Parente"},"score":0,"creation_date":1677168881,"post_id":75527017,"comment_id":133288765,"body_markdown":"I added a main method to the program, as well as a file output to see if the program worked. However, the output file is a blank image. Here&#39;s my whole file: [link](https://pastebin.com/BCZmiYTj)","body":"I added a main method to the program, as well as a file output to see if the program worked. However, the output file is a blank image. Here&#39;s my whole file: <a href=\"https://pastebin.com/BCZmiYTj\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1677179606,"post_id":75527017,"comment_id":133292027,"body_markdown":"@JosephParente `new BufferedImage` creates a blank image, which is what you’re writing to a file.  My code modifies the image in place.  It doesn’t have to work that way, of course;  you could easily modify it to call `setRGB` on a different image.","body":"@JosephParente <code>new BufferedImage</code> creates a blank image, which is what you’re writing to a file.  My code modifies the image in place.  It doesn’t have to work that way, of course;  you could easily modify it to call <code>setRGB</code> on a different image."},{"owner":{"account_id":27842510,"reputation":13,"user_id":21258711,"display_name":"Joseph Parente"},"score":0,"creation_date":1677245482,"post_id":75527017,"comment_id":133304850,"body_markdown":"@VGR I was able to modify the code to make it work (I didn&#39;t set up the BufferedImage correctly), and it now works perfectly. Thank you for your help! Here is the final code should anyone else need it. [link](https://pastebin.com/asMtPeX)","body":"@VGR I was able to modify the code to make it work (I didn&#39;t set up the BufferedImage correctly), and it now works perfectly. Thank you for your help! Here is the final code should anyone else need it. <a href=\"https://pastebin.com/asMtPeX\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677023534,"creation_date":1677023534,"answer_id":75527017,"question_id":75521903,"body_markdown":"Miguel’s answer on the question to which you’ve linked provides the solution, albeit not directly as Java code:\r\n\r\n* Convert the grayscale value of each pixel in the original image into a brightness value in an HSB color for corresponding pixel in the converted image.\r\n* Keep the hue of each HSB color the same at all times;  that’s the color you want to apply.\r\n* I found setting the saturation to 100% looked good, but you are free to try other saturation values.\r\n\r\n&lt;!-- lang: java --&gt;\r\n    public static void colorize(BufferedImage image,\r\n                                float hue) {\r\n\r\n        Objects.requireNonNull(image, &quot;Image cannot be null.&quot;);\r\n\r\n        if (hue &lt; 0 || hue &gt; 1 || Float.isNaN(hue)) {\r\n            throw new IllegalArgumentException(\r\n                &quot;Hue must be between 0 and 1 inclusive.&quot;);\r\n        }\r\n\r\n        int width = image.getWidth();\r\n        int height = image.getHeight();\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                int argb = image.getRGB(x, y);\r\n\r\n                int alpha = (argb &amp; 0xff000000);\r\n                int grayLevel = (argb &gt;&gt; 8) &amp; 0xff;\r\n\r\n                float brightness = grayLevel / 255f;\r\n                int rgb = Color.HSBtoRGB(hue, 1, brightness);\r\n\r\n                argb = (rgb &amp; 0x00ffffff) | alpha;\r\n                image.setRGB(x, y, argb);\r\n            }\r\n        }\r\n    }\r\n","title":"Colorize a Grayscale Image in Java","body":"<p>Miguel’s answer on the question to which you’ve linked provides the solution, albeit not directly as Java code:</p>\n<ul>\n<li>Convert the grayscale value of each pixel in the original image into a brightness value in an HSB color for corresponding pixel in the converted image.</li>\n<li>Keep the hue of each HSB color the same at all times;  that’s the color you want to apply.</li>\n<li>I found setting the saturation to 100% looked good, but you are free to try other saturation values.</li>\n</ul>\n\n<pre><code>public static void colorize(BufferedImage image,\n                            float hue) {\n\n    Objects.requireNonNull(image, &quot;Image cannot be null.&quot;);\n\n    if (hue &lt; 0 || hue &gt; 1 || Float.isNaN(hue)) {\n        throw new IllegalArgumentException(\n            &quot;Hue must be between 0 and 1 inclusive.&quot;);\n    }\n\n    int width = image.getWidth();\n    int height = image.getHeight();\n\n    for (int y = 0; y &lt; height; y++) {\n        for (int x = 0; x &lt; width; x++) {\n            int argb = image.getRGB(x, y);\n\n            int alpha = (argb &amp; 0xff000000);\n            int grayLevel = (argb &gt;&gt; 8) &amp; 0xff;\n\n            float brightness = grayLevel / 255f;\n            int rgb = Color.HSBtoRGB(hue, 1, brightness);\n\n            argb = (rgb &amp; 0x00ffffff) | alpha;\n            image.setRGB(x, y, argb);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27842510,"reputation":13,"user_id":21258711,"display_name":"Joseph Parente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75527017,"answer_count":2,"score":1,"last_activity_date":1677023534,"creation_date":1676989876,"question_id":75521903,"body_markdown":"I&#39;m making a program in Java that takes a grayscale image and assigns a random color to it, but I can&#39;t seem to find a way to make it work. I&#39;ve looked at a couple of pages I found on the subject ([this page](https://stackoverflow.com/questions/7621774/whats-the-appropriate-way-to-colorize-a-grayscale-image-with-transparency-in-ja) and [this page](https://stackoverflow.com/questions/7521058/colorize-grayscale-image)), but I can&#39;t really understand how those work. \r\n\r\nIdeally, I want a grayscale image like this:\r\n\r\n[grayscale](https://i.stack.imgur.com/kOYir.png)\r\n\r\nto turn into this:\r\n\r\n[colored](https://i.stack.imgur.com/OtwM8.png)\r\n\r\nI&#39;ve tried using a hue changer, but it doesn&#39;t work on grayscale images. Everything else I&#39;ve tried doesn&#39;t seem to work either.","title":"Colorize a Grayscale Image in Java","body":"<p>I'm making a program in Java that takes a grayscale image and assigns a random color to it, but I can't seem to find a way to make it work. I've looked at a couple of pages I found on the subject (<a href=\"https://stackoverflow.com/questions/7621774/whats-the-appropriate-way-to-colorize-a-grayscale-image-with-transparency-in-ja\">this page</a> and <a href=\"https://stackoverflow.com/questions/7521058/colorize-grayscale-image\">this page</a>), but I can't really understand how those work.</p>\n<p>Ideally, I want a grayscale image like this:</p>\n<p><a href=\"https://i.stack.imgur.com/kOYir.png\" rel=\"nofollow noreferrer\">grayscale</a></p>\n<p>to turn into this:</p>\n<p><a href=\"https://i.stack.imgur.com/OtwM8.png\" rel=\"nofollow noreferrer\">colored</a></p>\n<p>I've tried using a hue changer, but it doesn't work on grayscale images. Everything else I've tried doesn't seem to work either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19404814,"reputation":21,"user_id":14190516,"display_name":"mahmoud"},"score":0,"creation_date":1677223226,"post_id":75527000,"comment_id":133298972,"body_markdown":"still waiting for somebody to solve it.","body":"still waiting for somebody to solve it."}],"owner":{"account_id":19404814,"reputation":21,"user_id":14190516,"display_name":"mahmoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677023362,"creation_date":1677023362,"question_id":75527000,"body_markdown":"I got this error in my android studio:\r\n\r\n    Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;\r\n\r\nBuild.gradle(:app):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    android {\r\n        compileSdkVersion 32\r\n        buildToolsVersion &quot;33.0.1&quot;\r\n        defaultConfig {\r\n            configurations.all {\r\n                resolutionStrategy { force &#39;androidx.core:core:1.6.0&#39; }\r\n            }\r\n            applicationId &quot;com.example.move_sensor&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\nbuild.gradle(Mov_Sensor):\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\r\n        }\r\n    }\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nthe error after building:\r\n\r\n    Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;\r\n\r\nAndriodMainifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.move_sensor&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Move_Sensor&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMainActivity.java:\r\n\r\n    package com.example.move_sensor;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.hardware.SensorEvent;\r\n    import android.hardware.SensorEventListener;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    ////\r\n            MovementDetector.getInstance().addListener(new MovementDetector.Listener() {\r\n    \r\n    \r\n    \r\n                @Override\r\n                public void onMotionDetected(SensorEvent event, float acceleration) {\r\n    \r\n                    TextView mMotionDetectionTextView = null;\r\n                    mMotionDetectionTextView.setText(&quot;Acceleration: [&quot;+String.format(&quot;%.3f&quot;,event.values[0])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[1])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[2])+&quot;] &quot;+String.format(&quot;%.3f&quot;, acceleration));\r\n                    //if (acceleration &gt; SettingsHelper.getInstance().getMotionDetectionThreshold()){\r\n                    //    mMotionDetectionTextView.setTextColor(Color.RED);\r\n                   // } else {\r\n                        mMotionDetectionTextView.setTextColor(Color.WHITE);\r\n                    //}\r\n    \r\n                }\r\n            });\r\n            ////\r\n        }\r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            MovementDetector.getInstance().start();\r\n        }\r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            MovementDetector.getInstance().stop();\r\n        }\r\n        protected final String TAG = getClass().getSimpleName();\r\n    }\r\n\r\nafter searching for it online I thought that decrease of the `dependencies`\r\n to previouse version will fix that. so I changed my dependencies from:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n\r\nto:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n\r\nbut I got similar error:\r\n\r\n    Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_bottom_app_bar_container_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;&#39;\r\n\r\n\r\nany help with this?\r\nthank you\r\n\r\n\r\n","title":"Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;","body":"<p>I got this error in my android studio:</p>\n<pre><code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;'\n</code></pre>\n<p>Build.gradle(:app):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\nandroid {\n    compileSdkVersion 32\n    buildToolsVersion &quot;33.0.1&quot;\n    defaultConfig {\n        configurations.all {\n            resolutionStrategy { force 'androidx.core:core:1.6.0' }\n        }\n        applicationId &quot;com.example.move_sensor&quot;\n        minSdkVersion 21\n        targetSdkVersion 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>build.gradle(Mov_Sensor):</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\n    }\n}\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>the error after building:</p>\n<pre><code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;'\n</code></pre>\n<p>AndriodMainifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.move_sensor&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Move_Sensor&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.move_sensor;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n////\n        MovementDetector.getInstance().addListener(new MovementDetector.Listener() {\n\n\n\n            @Override\n            public void onMotionDetected(SensorEvent event, float acceleration) {\n\n                TextView mMotionDetectionTextView = null;\n                mMotionDetectionTextView.setText(&quot;Acceleration: [&quot;+String.format(&quot;%.3f&quot;,event.values[0])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[1])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[2])+&quot;] &quot;+String.format(&quot;%.3f&quot;, acceleration));\n                //if (acceleration &gt; SettingsHelper.getInstance().getMotionDetectionThreshold()){\n                //    mMotionDetectionTextView.setTextColor(Color.RED);\n               // } else {\n                    mMotionDetectionTextView.setTextColor(Color.WHITE);\n                //}\n\n            }\n        });\n        ////\n    }\n    @Override\n    public void onResume() {\n        super.onResume();\n        MovementDetector.getInstance().start();\n    }\n    @Override\n    public void onPause() {\n        super.onPause();\n        MovementDetector.getInstance().stop();\n    }\n    protected final String TAG = getClass().getSimpleName();\n}\n</code></pre>\n<p>after searching for it online I thought that decrease of the <code>dependencies</code>\nto previouse version will fix that. so I changed my dependencies from:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n</code></pre>\n<p>to:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n</code></pre>\n<p>but I got similar error:</p>\n<pre><code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_bottom_app_bar_container_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;'\n</code></pre>\n<p>any help with this?\nthank you</p>\n"},{"tags":["java","string","parsing","numberformatexception"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1676578572,"post_id":75477448,"comment_id":133170688,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1676578915,"post_id":75477448,"comment_id":133170772,"body_markdown":"You&#39;re file seems to contain floating point values and yet you are using `Integer.parseInt`. What do you think `Integer.parseInt(&quot;8.0&quot;);` does?","body":"You&#39;re file seems to contain floating point values and yet you are using <code>Integer.parseInt</code>. What do you think <code>Integer.parseInt(&quot;8.0&quot;);</code> does?"},{"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"score":0,"creation_date":1676912202,"post_id":75477448,"comment_id":133228445,"body_markdown":"when I am reading the lines with floating points, I use Double.parseDouble() and it works.  When I am reading the lines where I need them to be natural numbers or indexes, I use pareseInt.","body":"when I am reading the lines with floating points, I use Double.parseDouble() and it works.  When I am reading the lines where I need them to be natural numbers or indexes, I use pareseInt."},{"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"score":0,"creation_date":1676912464,"post_id":75477448,"comment_id":133228525,"body_markdown":"@OHGODSPIDERS I should paste the text?","body":"@OHGODSPIDERS I should paste the text?"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1676913970,"post_id":75477448,"comment_id":133228929,"body_markdown":"T.J.Foster yes indeed! Just paste it as text, and please also read the link that OH GOD SPIDERS posted :)","body":"T.J.Foster yes indeed! Just paste it as text, and please also read the link that OH GOD SPIDERS posted :)"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677022141,"creation_date":1677022141,"answer_id":75526903,"question_id":75477448,"body_markdown":"You have some numbers separated by tabs. If you want to split on _any_ whitespace, you can use the `\\s` regex metacharacter:\r\n\r\n    String[] theseEdges = line.split(&quot;\\\\s+&quot;); // split along whitespaces","title":"Splitting a string of numbers into an array of strings to turn into integers - Java","body":"<p>You have some numbers separated by tabs. If you want to split on <em>any</em> whitespace, you can use the <code>\\s</code> regex metacharacter:</p>\n<pre><code>String[] theseEdges = line.split(&quot;\\\\s+&quot;); // split along whitespaces\n</code></pre>\n"}],"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75526903,"answer_count":1,"score":-2,"last_activity_date":1677022141,"creation_date":1676578440,"question_id":75477448,"body_markdown":"I am trying to break down lines in a file from strings to arrays of strings, each with a number. Then I am trying to convert each string to an integer value to use for my code.  It is giving me a number format exception.  Is there some way I&#39;m doing it wrong.\r\n\r\n16.0 0.0 30.0\r\n0.0 0.0 30.0\r\n0.0 10.0 30.0\r\n8.0 16.0 54.0\r\n16.0 0.0 54.0\r\n16.0 0.0 54.0\r\n0.0 0.0 54.0 \r\n0.0 10.0 54.0\r\n5\t1\t5\t4\t3\t2\r\n5\t6\t7\t8\t9\t10\r\n4\t7\t2\t3\t8split works for edges\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;5\t1\t5\t4\t3\t2&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n\r\n\r\n    for (int i = 0; i &lt; Transformation.numPoly; i ++) {\r\n             String line = Transformation.scanner.nextLine();  // file from another object. \r\n             System.out.println(line); // ensure line is read. \r\n               String[] theseEdges = line.split(&quot; &quot;); // split along spaces. \r\n               System.out.println(&quot;split works for edges&quot;); \r\n               int numEdges = Integer.parseInt(theseEdges[0].trim());// find first number of of string to use for program. \r\n               System.out.println(Arrays.toString(theseEdges)); // \r\n\r\n\r\nIt gave me a number format exception.  The spacing in the string it reads in the error message is different than the one in the file or printed by the code.","title":"Splitting a string of numbers into an array of strings to turn into integers - Java","body":"<p>I am trying to break down lines in a file from strings to arrays of strings, each with a number. Then I am trying to convert each string to an integer value to use for my code.  It is giving me a number format exception.  Is there some way I'm doing it wrong.</p>\n<p>16.0 0.0 30.0\n0.0 0.0 30.0\n0.0 10.0 30.0\n8.0 16.0 54.0\n16.0 0.0 54.0\n16.0 0.0 54.0\n0.0 0.0 54.0\n0.0 10.0 54.0\n5   1   5   4   3   2\n5   6   7   8   9   10\n4   7   2   3   8split works for edges\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;5    1   5   4   3   2&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\nat java.base/java.lang.Integer.parseInt(Integer.java:652)\nat java.base/java.lang.Integer.parseInt(Integer.java:770)</p>\n<pre><code>for (int i = 0; i &lt; Transformation.numPoly; i ++) {\n         String line = Transformation.scanner.nextLine();  // file from another object. \n         System.out.println(line); // ensure line is read. \n           String[] theseEdges = line.split(&quot; &quot;); // split along spaces. \n           System.out.println(&quot;split works for edges&quot;); \n           int numEdges = Integer.parseInt(theseEdges[0].trim());// find first number of of string to use for program. \n           System.out.println(Arrays.toString(theseEdges)); // \n</code></pre>\n<p>It gave me a number format exception.  The spacing in the string it reads in the error message is different than the one in the file or printed by the code.</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1595289730,"post_id":63005056,"comment_id":111417486,"body_markdown":"Why no Map? Seems like a useful data structure for this problem.","body":"Why no Map? Seems like a useful data structure for this problem."}],"answers":[{"comments":[{"owner":{"account_id":19065253,"reputation":51,"user_id":13920461,"display_name":"Coder_99"},"score":2,"creation_date":1595302814,"post_id":63005198,"comment_id":111420055,"body_markdown":"My bad, am using JAVA 8","body":"My bad, am using JAVA 8"}],"tags":[],"owner":{"account_id":2318297,"reputation":1653,"user_id":9231518,"display_name":"User9123"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1595289592,"creation_date":1595287635,"answer_id":63005198,"question_id":63005056,"body_markdown":"Since Java 9 you can use [`Locale::getISOCountries`][1] method, passing a flag for the 3-letter kind, [`Locale.IsoCountryCode.PART1_ALPHA3`][2]. \r\n\r\n    boolean contains = Locale.getISOCountries(Locale.IsoCountryCode.PART1_ALPHA3).contains(&quot;USA&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Locale.html#getISOCountries-java.util.Locale.IsoCountryCode-\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.IsoCountryCode.html#PART1_ALPHA3","title":"Iso 3 letter country code validation in JAVA","body":"<p>Since Java 9 you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Locale.html#getISOCountries-java.util.Locale.IsoCountryCode-\" rel=\"noreferrer\"><code>Locale::getISOCountries</code></a> method, passing a flag for the 3-letter kind, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.IsoCountryCode.html#PART1_ALPHA3\" rel=\"noreferrer\"><code>Locale.IsoCountryCode.PART1_ALPHA3</code></a>.</p>\n<pre><code>boolean contains = Locale.getISOCountries(Locale.IsoCountryCode.PART1_ALPHA3).contains(&quot;USA&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677021804,"creation_date":1595289441,"answer_id":63005428,"question_id":63005056,"body_markdown":"You can use both the `Locale.getISOCountries()` and `Locale.getISO3Country()` methods contained within the `Locale` class to get all the three letter country codes. Here is a method that will return a `String[]` array of all the three letter country codes:\r\n\r\n    public static String[] getISO3CountryCodes() {\r\n        String[] countries = Locale.getISOCountries();\r\n        String[] iso3 = new String[countries.length];\r\n        for (int i = 0; i &lt; countries.length; i++) {\r\n            Locale locale = new Locale(&quot;&quot;, countries[i]);\r\n            iso3[i] = locale.getISO3Country();\r\n        }\r\n        return iso3;\r\n    }\r\n\r\nAnd to fire it up with a validation example:\r\n\r\n    // Get the Country Codes and place them into a Collection (List Interface)\r\n    List&lt;String&gt; countryCodes = java.util.Arrays.asList(getISO3CountryCodes());\r\n    System.out.println(countryCodes);  //Display the collection in Console\r\n\r\n    // Get Country Code input from User and test for validity.\r\n    Scanner input = new Scanner(System.in);\r\n    String cCode = &quot;&quot;;\r\n    while (cCode.equals(&quot;&quot;)) {\r\n        System.out.print(&quot;Enter a Country code: --&gt; &quot;);\r\n        cCode = input.nextLine().trim().toUpperCase();\r\n        // Is the supplied Country Code contained within the\r\n        // List. If not then it&#39;s invalid.\r\n        if (!countryCodes.contains(cCode)) {\r\n            // Nope...supplied country code is not in the List. \r\n            System.err.println(&quot;Invalid Country Code Supplied (&quot; + cCode + &quot;)!&quot;);\r\n            System.out.println();\r\n            cCode = &quot;&quot;;  // Null String to ensure re-prompting\r\n        }\r\n    }\r\n    System.out.println(&quot;Valid Country Code Supplied (&quot; + cCode + &quot;). Thank-You&quot;);","title":"Iso 3 letter country code validation in JAVA","body":"<p>You can use both the <code>Locale.getISOCountries()</code> and <code>Locale.getISO3Country()</code> methods contained within the <code>Locale</code> class to get all the three letter country codes. Here is a method that will return a <code>String[]</code> array of all the three letter country codes:</p>\n<pre><code>public static String[] getISO3CountryCodes() {\n    String[] countries = Locale.getISOCountries();\n    String[] iso3 = new String[countries.length];\n    for (int i = 0; i &lt; countries.length; i++) {\n        Locale locale = new Locale(&quot;&quot;, countries[i]);\n        iso3[i] = locale.getISO3Country();\n    }\n    return iso3;\n}\n</code></pre>\n<p>And to fire it up with a validation example:</p>\n<pre><code>// Get the Country Codes and place them into a Collection (List Interface)\nList&lt;String&gt; countryCodes = java.util.Arrays.asList(getISO3CountryCodes());\nSystem.out.println(countryCodes);  //Display the collection in Console\n\n// Get Country Code input from User and test for validity.\nScanner input = new Scanner(System.in);\nString cCode = &quot;&quot;;\nwhile (cCode.equals(&quot;&quot;)) {\n    System.out.print(&quot;Enter a Country code: --&gt; &quot;);\n    cCode = input.nextLine().trim().toUpperCase();\n    // Is the supplied Country Code contained within the\n    // List. If not then it's invalid.\n    if (!countryCodes.contains(cCode)) {\n        // Nope...supplied country code is not in the List. \n        System.err.println(&quot;Invalid Country Code Supplied (&quot; + cCode + &quot;)!&quot;);\n        System.out.println();\n        cCode = &quot;&quot;;  // Null String to ensure re-prompting\n    }\n}\nSystem.out.println(&quot;Valid Country Code Supplied (&quot; + cCode + &quot;). Thank-You&quot;);\n</code></pre>\n"}],"owner":{"account_id":19065253,"reputation":51,"user_id":13920461,"display_name":"Coder_99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7856,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677021804,"creation_date":1595286509,"question_id":63005056,"body_markdown":"Using Java, is there a way to check if a given string is a valid ISO 3 letter country code? \r\n(example: check if USA is correct or not)\r\n\r\nIf possible, please provide a solution without having to make country code map. \r\n","title":"Iso 3 letter country code validation in JAVA","body":"<p>Using Java, is there a way to check if a given string is a valid ISO 3 letter country code?\n(example: check if USA is correct or not)</p>\n<p>If possible, please provide a solution without having to make country code map.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1594910348,"post_id":62937108,"comment_id":111297861,"body_markdown":"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html#getISO3Language() apply this to the two-letters solution.","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html#getISO3Language()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> apply this to the two-letters solution."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1594910353,"post_id":62937108,"comment_id":111297863,"body_markdown":"Does this answer your question? [Cleaner way to check if a string is ISO country of ISO language in Java](https://stackoverflow.com/questions/15921332/cleaner-way-to-check-if-a-string-is-iso-country-of-iso-language-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15921332/cleaner-way-to-check-if-a-string-is-iso-country-of-iso-language-in-java\">Cleaner way to check if a string is ISO country of ISO language in Java</a>"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1594910401,"post_id":62937108,"comment_id":111297894,"body_markdown":"the linked answer use Set of Strings. There is no limitation on the number of characters in each string","body":"the linked answer use Set of Strings. There is no limitation on the number of characters in each string"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1594910426,"post_id":62937108,"comment_id":111297912,"body_markdown":"what version of java you are using?","body":"what version of java you are using?"},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1594910430,"post_id":62937108,"comment_id":111297917,"body_markdown":"As i already mentioned, above given suggestions are good when we have incoming country code with 2 character. I am getting ISO code in 3 character.","body":"As i already mentioned, above given suggestions are good when we have incoming country code with 2 character. I am getting ISO code in 3 character."},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1594910493,"post_id":62937108,"comment_id":111297962,"body_markdown":"@AmitVyas I am using Java 11","body":"@AmitVyas I am using Java 11"},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1594910728,"post_id":62937108,"comment_id":111298104,"body_markdown":"@jhamon I have verified that, It&#39;s only working for 2 character country code. I have verified it by adding `IN` and `IND`. For `IN` it&#39;s giving true, for `IND` it&#39;s giving false","body":"@jhamon I have verified that, It&#39;s only working for 2 character country code. I have verified it by adding <code>IN</code> and <code>IND</code>. For <code>IN</code> it&#39;s giving true, for <code>IND</code> it&#39;s giving false"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1594910813,"post_id":62937108,"comment_id":111298165,"body_markdown":"you need to use  java.util.Locale.getISO3Country. This opensource has Locale utilities","body":"you need to use  java.util.Locale.getISO3Country. This opensource has Locale utilities"},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1594910945,"post_id":62937108,"comment_id":111298242,"body_markdown":"@AmitVyas It&#39;s a non static method and we can&#39;t call it directly. I have tried creating Locale object and passed like `Locale locale = new Locale(&quot;&quot;, &quot;IND&quot;);` this is also working for 2 characters only. :(","body":"@AmitVyas It&#39;s a non static method and we can&#39;t call it directly. I have tried creating Locale object and passed like <code>Locale locale = new Locale(&quot;&quot;, &quot;IND&quot;);</code> this is also working for 2 characters only. :("},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1594911425,"post_id":62937108,"comment_id":111298527,"body_markdown":"loop on `getAvailableLocales()` and call `getISO3Country`","body":"loop on <code>getAvailableLocales()</code> and call <code>getISO3Country</code>"},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1594962928,"post_id":62937108,"comment_id":111315457,"body_markdown":"This is something which i should appreciate as an answer!\nThanks man @jhamon","body":"This is something which i should appreciate as an answer! Thanks man @jhamon"}],"answers":[{"tags":[],"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594912176,"creation_date":1594912176,"answer_id":62937767,"question_id":62937108,"body_markdown":"Sample code to get country name based on 3 Letter code. Tweak and you can make your own validation method.\r\n\r\n\r\n      public static void main(String[] args) {\r\n        Map&lt;String, String&gt; countriesMap = buildISOCodeAndCountryMap();\r\n        String countryName = countriesMap.get(&quot;IND&quot;);\r\n        System.out.println(countryName);\r\n    \r\n      }\r\n    \r\n      public static Map&lt;String, String&gt; buildISOCodeAndCountryMap() {\r\n        Map&lt;String, String&gt; isoCodeAndCountryMap= new HashMap&lt;String, String&gt;();\r\n    \r\n        String[] isoCountries = Locale.getISOCountries();\r\n        for (String country : isoCountries) {\r\n          Locale locale = new Locale(&quot;&quot;, country);\r\n          String iso = locale.getISO3Country();\r\n          String code = locale.getCountry();\r\n          String name = locale.getDisplayCountry();\r\n    \r\n          if (!&quot;&quot;.equals(iso) &amp;&amp; !&quot;&quot;.equals(code)\r\n              &amp;&amp; !&quot;&quot;.equals(name)) {\r\n            isoCodeAndCountryMap.put(iso, name);\r\n          }\r\n    \r\n        }\r\n        return isoCodeAndCountryMap;\r\n      }","title":"Validated 3 character ISO Country code in Java","body":"<p>Sample code to get country name based on 3 Letter code. Tweak and you can make your own validation method.</p>\n<pre><code>  public static void main(String[] args) {\n    Map&lt;String, String&gt; countriesMap = buildISOCodeAndCountryMap();\n    String countryName = countriesMap.get(&quot;IND&quot;);\n    System.out.println(countryName);\n\n  }\n\n  public static Map&lt;String, String&gt; buildISOCodeAndCountryMap() {\n    Map&lt;String, String&gt; isoCodeAndCountryMap= new HashMap&lt;String, String&gt;();\n\n    String[] isoCountries = Locale.getISOCountries();\n    for (String country : isoCountries) {\n      Locale locale = new Locale(&quot;&quot;, country);\n      String iso = locale.getISO3Country();\n      String code = locale.getCountry();\n      String name = locale.getDisplayCountry();\n\n      if (!&quot;&quot;.equals(iso) &amp;&amp; !&quot;&quot;.equals(code)\n          &amp;&amp; !&quot;&quot;.equals(name)) {\n        isoCodeAndCountryMap.put(iso, name);\n      }\n\n    }\n    return isoCodeAndCountryMap;\n  }\n</code></pre>\n"}],"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1594936478,"accepted_answer_id":62937767,"answer_count":1,"score":-4,"last_activity_date":1677021718,"creation_date":1594910147,"question_id":62937108,"body_markdown":"I want to validate that 3 character ISO Country code coming in the request is valid or not using Java.\r\n\r\n**2 Digit Country code can be valid using** [this][1]\r\n\r\nBut I want to validate for 3 character ISO code.\r\n\r\n  [1]: https://stackoverflow.com/a/15921398/3331076\r\n\r\n**Java Version: 11**","title":"Validated 3 character ISO Country code in Java","body":"<p>I want to validate that 3 character ISO Country code coming in the request is valid or not using Java.</p>\n<p><strong>2 Digit Country code can be valid using</strong> <a href=\"https://stackoverflow.com/a/15921398/3331076\">this</a></p>\n<p>But I want to validate for 3 character ISO code.</p>\n<p><strong>Java Version: 11</strong></p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":3971654,"reputation":2696,"user_id":3276104,"accept_rate":100,"display_name":"Panayiotis Irakleous"},"score":0,"creation_date":1420590251,"post_id":27809524,"comment_id":44028069,"body_markdown":"why u set recyclerView.setAdapter(adapter); 2 times?","body":"why u set recyclerView.setAdapter(adapter); 2 times?"},{"owner":{"account_id":13376574,"reputation":29,"user_id":9653293,"display_name":"Koala"},"score":0,"creation_date":1555643198,"post_id":27809524,"comment_id":114344471,"body_markdown":"go to your xml. And change your layout to wrap content. The one element is hiding the next one, so the methods are not working!","body":"go to your xml. And change your layout to wrap content. The one element is hiding the next one, so the methods are not working!"},{"owner":{"account_id":328119,"reputation":2575,"user_id":650894,"accept_rate":43,"display_name":"Joe Lapp"},"score":0,"creation_date":1558652840,"post_id":27809524,"comment_id":99181760,"body_markdown":"Another cause of this problem is mistakenly making the item layout match the height of the parent, so only one item is shown at a time.","body":"Another cause of this problem is mistakenly making the item layout match the height of the parent, so only one item is shown at a time."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1576771834,"post_id":27809524,"comment_id":105013901,"body_markdown":"In my case help this : invoicesRecyclerView.setHasFixedSize(true)\n        invoicesRecyclerView.setLayoutManager(GridLayoutManager(this, 1))","body":"In my case help this : invoicesRecyclerView.setHasFixedSize(true)         invoicesRecyclerView.setLayoutManager(GridLayoutManager(this&zwnj;&#8203;, 1))"}],"answers":[{"comments":[{"owner":{"account_id":86447,"reputation":1659,"user_id":240390,"accept_rate":84,"display_name":"Dooie"},"score":0,"creation_date":1496661805,"post_id":27809569,"comment_id":75736696,"body_markdown":"I had a custom adapter and had forgotten to set my itemcount to the size of my collection","body":"I had a custom adapter and had forgotten to set my itemcount to the size of my collection"},{"owner":{"account_id":2254890,"reputation":2008,"user_id":1986282,"accept_rate":60,"display_name":"Cyph3rCod3r"},"score":7,"creation_date":1500152850,"post_id":27809569,"comment_id":77216359,"body_markdown":"my  item count is 3 still not visible, No debug points comes in onBind or onCreateHolder... but it comes in getItemCount","body":"my  item count is 3 still not visible, No debug points comes in onBind or onCreateHolder... but it comes in getItemCount"},{"owner":{"account_id":4389900,"reputation":1206,"user_id":3578677,"accept_rate":27,"display_name":"Mansuu...."},"score":0,"creation_date":1531312015,"post_id":27809569,"comment_id":89548235,"body_markdown":"in my case even getItemCount() is not getting","body":"in my case even getItemCount() is not getting"}],"tags":[],"owner":{"account_id":101390,"reputation":69050,"user_id":272824,"accept_rate":75,"display_name":"Konstantin Burov"},"comment_count":3,"down_vote_count":0,"up_vote_count":291,"is_accepted":true,"score":291,"last_activity_date":1537933427,"creation_date":1420590277,"answer_id":27809569,"question_id":27809524,"body_markdown":"Your `getItemCount` method `returns 0`. So `RecyclerView` never tries to instantiate a view. Make it return something `greater than 0`.\r\n\r\nfor example\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>Your <code>getItemCount</code> method <code>returns 0</code>. So <code>RecyclerView</code> never tries to instantiate a view. Make it return something <code>greater than 0</code>.</p>\n\n<p>for example</p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    return data.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168077,"reputation":6543,"user_id":1145905,"accept_rate":47,"display_name":"kip2"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1542103716,"creation_date":1436452949,"answer_id":31320831,"question_id":27809524,"body_markdown":"For what it&#39;s worth, I observed it when I set the recycler view adapter _before_ the adapter was actually initialized. Solution was to make sure `recyclerView.setAdapter(adapter)` was called with a non-null adapter ","title":"Recyclerview not call onCreateViewHolder","body":"<p>For what it's worth, I observed it when I set the recycler view adapter <em>before</em> the adapter was actually initialized. Solution was to make sure <code>recyclerView.setAdapter(adapter)</code> was called with a non-null adapter </p>\n"},{"comments":[{"owner":{"account_id":1193354,"reputation":1898,"user_id":1165643,"accept_rate":47,"display_name":"pete"},"score":12,"creation_date":1597276046,"post_id":32842098,"comment_id":112083044,"body_markdown":"This isn&#39;t even in any tutorials; how are people supposed to know this? ditto for almost every android pattern","body":"This isn&#39;t even in any tutorials; how are people supposed to know this? ditto for almost every android pattern"},{"owner":{"account_id":2259435,"reputation":275,"user_id":1989863,"accept_rate":55,"display_name":"XZen"},"score":11,"creation_date":1605277579,"post_id":32842098,"comment_id":114609014,"body_markdown":"Another way to specify layout manager can be xml attribute like this:                 app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;","body":"Another way to specify layout manager can be xml attribute like this:                 app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayout&zwnj;&#8203;Manager&quot;"}],"tags":[],"owner":{"account_id":5642991,"reputation":9226,"user_id":4466122,"accept_rate":33,"display_name":"Lay Leangsros"},"comment_count":2,"down_vote_count":1,"up_vote_count":542,"is_accepted":false,"score":541,"last_activity_date":1466601157,"creation_date":1443524121,"answer_id":32842098,"question_id":27809524,"body_markdown":"Another one is make sure you set layout manager to RecyclerView:\r\n\r\n    recycler.setLayoutManager(new LinearLayoutManager(this));","title":"Recyclerview not call onCreateViewHolder","body":"<p>Another one is make sure you set layout manager to RecyclerView:</p>\n\n<pre><code>recycler.setLayoutManager(new LinearLayoutManager(this));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1935321,"reputation":864,"user_id":1743719,"accept_rate":24,"display_name":"Asif Shiraz"},"score":0,"creation_date":1592086293,"post_id":38226111,"comment_id":110299932,"body_markdown":"Spent so much time on this.. the height of the recycler view was zero. When used in an activity, it somehow expanded itself. In a fragment inside other layouts.. it didn&#39;t","body":"Spent so much time on this.. the height of the recycler view was zero. When used in an activity, it somehow expanded itself. In a fragment inside other layouts.. it didn&#39;t"}],"tags":[],"owner":{"account_id":7497622,"reputation":61,"user_id":5697258,"display_name":"jian lang"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1467816863,"creation_date":1467814106,"answer_id":38226111,"question_id":27809524,"body_markdown":"Setting the height of the `TextView` in the `custom.xml` or `RecyclerView`. If height is `wrap-content`, the `RecyclerView` will not be visible.","title":"Recyclerview not call onCreateViewHolder","body":"<p>Setting the height of the <code>TextView</code> in the <code>custom.xml</code> or <code>RecyclerView</code>. If height is <code>wrap-content</code>, the <code>RecyclerView</code> will not be visible.</p>\n"},{"tags":[],"owner":{"account_id":2862860,"reputation":2085,"user_id":2457744,"accept_rate":60,"display_name":"J Wang"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1475097738,"creation_date":1475097738,"answer_id":39757889,"question_id":27809524,"body_markdown":"This happened when my `RecyclerView` was inside a `ScrollView` and I was using Android Support Library 23.0. To fix, I updated to Android Support Library 23.2:\r\n\r\nIn build.gradle:\r\n\r\n    dependencies {\r\n        ...\r\n        compile &#39;com.android.support:appcompat-v7:23.2.+&#39;\r\n        compile &#39;com.android.support:cardview-v7:23.2.+&#39;\r\n    }","title":"Recyclerview not call onCreateViewHolder","body":"<p>This happened when my <code>RecyclerView</code> was inside a <code>ScrollView</code> and I was using Android Support Library 23.0. To fix, I updated to Android Support Library 23.2:</p>\n\n<p>In build.gradle:</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.android.support:appcompat-v7:23.2.+'\n    compile 'com.android.support:cardview-v7:23.2.+'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3332825,"reputation":2211,"user_id":2801303,"accept_rate":100,"display_name":"venky"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1486311909,"creation_date":1486311909,"answer_id":42054411,"question_id":27809524,"body_markdown":"This does not apply for your particular case. But this might help someone else.\r\n\r\nThis reason could be careless usage of the following method\r\n\r\n    recyclerView.setHasFixedSize(true);\r\n\r\nIf not used with caution, this might cause the `onBindView` and `onCreateViewHolder` to not be called at all, with no error in the logs.","title":"Recyclerview not call onCreateViewHolder","body":"<p>This does not apply for your particular case. But this might help someone else.</p>\n\n<p>This reason could be careless usage of the following method</p>\n\n<pre><code>recyclerView.setHasFixedSize(true);\n</code></pre>\n\n<p>If not used with caution, this might cause the <code>onBindView</code> and <code>onCreateViewHolder</code> to not be called at all, with no error in the logs.</p>\n"},{"tags":[],"owner":{"account_id":7099029,"reputation":717,"user_id":5431401,"accept_rate":100,"display_name":"Mandeep Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1546950457,"creation_date":1492175312,"answer_id":43412183,"question_id":27809524,"body_markdown":"Please set layout manager to `RecyclerView` like below code:\r\n\r\n    RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view_right);\r\n    //set your recycler view adapter here\r\n    NavigationAdapter adapter = new NavigationAdapter(this, FragmentDrawer.getData());\r\n    recyclerView.setAdapter(adapter);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));","title":"Recyclerview not call onCreateViewHolder","body":"<p>Please set layout manager to <code>RecyclerView</code> like below code:</p>\n\n<pre><code>RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view_right);\n//set your recycler view adapter here\nNavigationAdapter adapter = new NavigationAdapter(this, FragmentDrawer.getData());\nrecyclerView.setAdapter(adapter);\nrecyclerView.setLayoutManager(new LinearLayoutManager(this));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5216245,"reputation":451,"user_id":4171098,"display_name":"Mateusz Wlodarczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494198895,"creation_date":1494198895,"answer_id":43837703,"question_id":27809524,"body_markdown":"In my case I set the ID of my RecyclerView to &quot;recyclerView&quot;. It seems that this ID was already defined somewhere, because when I changed that to different ID, the methods from the adapter were called properly.","title":"Recyclerview not call onCreateViewHolder","body":"<p>In my case I set the ID of my RecyclerView to \"recyclerView\". It seems that this ID was already defined somewhere, because when I changed that to different ID, the methods from the adapter were called properly.</p>\n"},{"tags":[],"owner":{"account_id":4614809,"reputation":3662,"user_id":3741698,"accept_rate":96,"display_name":"David Hackro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495484785,"creation_date":1495484785,"answer_id":44121585,"question_id":27809524,"body_markdown":"Other option is if you send this list objetc using get,verify if you have correct reference,for example\r\n\r\n    private list&lt;objetc&gt; listObjetc;\r\n    //Incorrect\r\n    public void setListObjetcs(list&lt;objetc&gt; listObjetc){\r\n      listObjetc = listObjetc;\r\n    }\r\n\r\n    //Correct\r\n    public void setListObjetcs(list&lt;objetc&gt; listObjetc){\r\n      this.listObjetc = listObjetc;\r\n    }","title":"Recyclerview not call onCreateViewHolder","body":"<p>Other option is if you send this list objetc using get,verify if you have correct reference,for example</p>\n\n<pre><code>private list&lt;objetc&gt; listObjetc;\n//Incorrect\npublic void setListObjetcs(list&lt;objetc&gt; listObjetc){\n  listObjetc = listObjetc;\n}\n\n//Correct\npublic void setListObjetcs(list&lt;objetc&gt; listObjetc){\n  this.listObjetc = listObjetc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86447,"reputation":1659,"user_id":240390,"accept_rate":84,"display_name":"Dooie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496661890,"creation_date":1496661890,"answer_id":44367879,"question_id":27809524,"body_markdown":"If using a custom adapter do not forget to set the ItemCount to the size of your collection.","title":"Recyclerview not call onCreateViewHolder","body":"<p>If using a custom adapter do not forget to set the ItemCount to the size of your collection.</p>\n"},{"comments":[{"owner":{"account_id":6214038,"reputation":185,"user_id":4839442,"display_name":"Adrian Buciuman"},"score":0,"creation_date":1537794341,"post_id":44745448,"comment_id":91901268,"body_markdown":"Thank you for your solution. Any idea why it behave like this if the View parent is `android.support.constraint.ConstraintLayout` ?","body":"Thank you for your solution. Any idea why it behave like this if the View parent is <code>android.support.constraint.ConstraintLayout</code> ?"}],"tags":[],"owner":{"account_id":7589013,"reputation":364,"user_id":5757212,"display_name":"Wild Teddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498386689,"creation_date":1498386519,"answer_id":44745448,"question_id":27809524,"body_markdown":"I had the same problem, because I was using `android.support.constraint.ConstraintLayout` in layout resource.\r\nChanging to `FrameLayout` helped.","title":"Recyclerview not call onCreateViewHolder","body":"<p>I had the same problem, because I was using <code>android.support.constraint.ConstraintLayout</code> in layout resource.\nChanging to <code>FrameLayout</code> helped.</p>\n"},{"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":1,"creation_date":1522142443,"post_id":44933099,"comment_id":86021996,"body_markdown":"This isn&#39;t a real good idea. It&#39;s better to set the visibility of the empty message when putting data to the adapter.","body":"This isn&#39;t a real good idea. It&#39;s better to set the visibility of the empty message when putting data to the adapter."}],"tags":[],"owner":{"account_id":1238494,"reputation":1399,"user_id":1201601,"accept_rate":57,"display_name":"MRX"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499277774,"creation_date":1499277774,"answer_id":44933099,"question_id":27809524,"body_markdown":"In my case, my list size was 0 and it was not calling the onCreateViewHolder\r\nmethod. I needed to display a message at center for the empty list as a placeholder so I did it like this and it worked like charm. Answer by @Konstantin Burov helped.\r\n\r\n      @Override\r\n    public int getItemCount() {\r\n        if (contactList.size() == 0) {\r\n            return 1;\r\n        } else {\r\n            return contactList.size();\r\n        }\r\n    }","title":"Recyclerview not call onCreateViewHolder","body":"<p>In my case, my list size was 0 and it was not calling the onCreateViewHolder\nmethod. I needed to display a message at center for the empty list as a placeholder so I did it like this and it worked like charm. Answer by @Konstantin Burov helped.</p>\n\n<pre><code>  @Override\npublic int getItemCount() {\n    if (contactList.size() == 0) {\n        return 1;\n    } else {\n        return contactList.size();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":2,"creation_date":1524903654,"post_id":46844042,"comment_id":87165156,"body_markdown":"Strange code. These variables and classes are hard to understand.","body":"Strange code. These variables and classes are hard to understand."}],"tags":[],"owner":{"account_id":2080922,"reputation":10273,"user_id":1852924,"accept_rate":63,"display_name":"TharakaNirmana"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508483536,"creation_date":1508483536,"answer_id":46844042,"question_id":27809524,"body_markdown":"I struggled with this issue for many hours. I was using a fragment. And the issue was not returning the `view`. Below is my code:\r\n\r\n    ProductGridBinding binding = DataBindingUtil.inflate( inflater, R.layout.product_grid, container, false);\r\n\r\n    \r\n\r\n        mLinearLayoutManager = new LinearLayoutManager(getActivity());\r\n        mLinearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n    \r\n        binding.rvNumbers.setHasFixedSize(true);\r\n        binding.rvNumbers.setLayoutManager(mLinearLayoutManager);\r\n        binding.rvNumbers.setAdapter(adapter);\r\n    \r\n    \r\n        View view = binding.getRoot();\r\n    \r\n    \r\n        return view;","title":"Recyclerview not call onCreateViewHolder","body":"<p>I struggled with this issue for many hours. I was using a fragment. And the issue was not returning the <code>view</code>. Below is my code:</p>\n\n<pre><code>ProductGridBinding binding = DataBindingUtil.inflate( inflater, R.layout.product_grid, container, false);\n\n\n\n    mLinearLayoutManager = new LinearLayoutManager(getActivity());\n    mLinearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n\n    binding.rvNumbers.setHasFixedSize(true);\n    binding.rvNumbers.setLayoutManager(mLinearLayoutManager);\n    binding.rvNumbers.setAdapter(adapter);\n\n\n    View view = binding.getRoot();\n\n\n    return view;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979575,"reputation":124,"user_id":5353035,"accept_rate":0,"display_name":"Saurav Mir"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512365736,"creation_date":1512365736,"answer_id":47627091,"question_id":27809524,"body_markdown":" Please do the following thing   \r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }","title":"Recyclerview not call onCreateViewHolder","body":"<p>Please do the following thing   </p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    return data.size();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":0,"creation_date":1567629799,"post_id":48226911,"comment_id":102023898,"body_markdown":"also, it&#39;s a duplicate","body":"also, it&#39;s a duplicate"}],"tags":[],"owner":{"account_id":12570353,"reputation":2753,"user_id":9144651,"accept_rate":25,"display_name":"Brinda Rathod"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1515769504,"creation_date":1515762389,"answer_id":48226911,"question_id":27809524,"body_markdown":"Add this to Your Adapter Class\r\n\r\n     @Override\r\n        public int getItemCount() {\r\n            return mDataset.size();\r\n        } ","title":"Recyclerview not call onCreateViewHolder","body":"<p>Add this to Your Adapter Class</p>\n\n<pre><code> @Override\n    public int getItemCount() {\n        return mDataset.size();\n    } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":4103031,"reputation":11144,"user_id":3367974,"accept_rate":33,"display_name":"Mehdi Dehghani"},"score":20,"creation_date":1546152017,"post_id":48468939,"comment_id":94789072,"body_markdown":"How this answer is different from [@Lay Leangsros _above one_](https://stackoverflow.com/a/32842098/3367974) answer?","body":"How this answer is different from <a href=\"https://stackoverflow.com/a/32842098/3367974\">@Lay Leangsros <i>above one</i></a> answer?"},{"owner":{"account_id":431507,"reputation":4944,"user_id":815612,"accept_rate":62,"display_name":"Jack M"},"score":0,"creation_date":1664496687,"post_id":48468939,"comment_id":130491386,"body_markdown":"Don&#39;t call it &quot;forgetting&quot; when Google never told anyone it was needed in the first place.","body":"Don&#39;t call it &quot;forgetting&quot; when Google never told anyone it was needed in the first place."}],"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"comment_count":2,"down_vote_count":6,"up_vote_count":52,"is_accepted":false,"score":46,"last_activity_date":1516997865,"creation_date":1516997865,"answer_id":48468939,"question_id":27809524,"body_markdown":"i forgot to add below line after i adding it worked for me\r\n\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));","title":"Recyclerview not call onCreateViewHolder","body":"<p>i forgot to add below line after i adding it worked for me</p>\n\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1524903495,"post_id":49221035,"comment_id":87165117,"body_markdown":"How did you solve a problem of not calling `onBindViewHolder`?","body":"How did you solve a problem of not calling <code>onBindViewHolder</code>?"}],"tags":[],"owner":{"account_id":2185314,"reputation":351,"user_id":1933843,"display_name":"Yaojin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520778199,"creation_date":1520778199,"answer_id":49221035,"question_id":27809524,"body_markdown":"My encouter was the onBindViewHolder( holder ,  position) overrided method of the RecyclerView.adaptor not being called. Method onCreateViewHolder was called, getItemCount was called. If you read the specs for Recyclerview Adapter, you will learn that if you have overrided onBindViewHolder( holder, position, List &lt;Object&gt; payloads) will be called in favour. So please be careful.","title":"Recyclerview not call onCreateViewHolder","body":"<p>My encouter was the onBindViewHolder( holder ,  position) overrided method of the RecyclerView.adaptor not being called. Method onCreateViewHolder was called, getItemCount was called. If you read the specs for Recyclerview Adapter, you will learn that if you have overrided onBindViewHolder( holder, position, List  payloads) will be called in favour. So please be careful.</p>\n"},{"tags":[],"owner":{"account_id":4210014,"reputation":3098,"user_id":3448003,"accept_rate":31,"display_name":"Bajrang Hudda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521634161,"creation_date":1521634161,"answer_id":49405999,"question_id":27809524,"body_markdown":"See my answer if you are using android data binding library - \r\nMake sure you are setting layout for recyclerview and item count must be greater than 0\r\n\r\n     @BindingAdapter({&quot;entries&quot;, &quot;layout&quot;})\r\n        public static void setEntries(RecyclerView view, ArrayList&lt;LoginResponse.User&gt; listOfUsers, int layoutId) {\r\n            if (view.getAdapter() == null) {\r\n                view.setLayoutManager(new LinearLayoutManager(view.getContext()));\r\n                SingleLayoutAdapter adapter = new SingleLayoutAdapter(layoutId) {\r\n                    @Override\r\n                    protected Object getObjForPosition(int position) {\r\n    \r\n                        return listOfUsers.get(position);\r\n                    }\r\n    \r\n                    @Override\r\n                    public int getItemCount() {\r\n                        return listOfUsers.size();\r\n                    }\r\n                };\r\n                view.setAdapter(adapter);\r\n            }\r\n        }\r\n\r\nHappy coding :-)","title":"Recyclerview not call onCreateViewHolder","body":"<p>See my answer if you are using android data binding library - \nMake sure you are setting layout for recyclerview and item count must be greater than 0</p>\n\n<pre><code> @BindingAdapter({\"entries\", \"layout\"})\n    public static void setEntries(RecyclerView view, ArrayList&lt;LoginResponse.User&gt; listOfUsers, int layoutId) {\n        if (view.getAdapter() == null) {\n            view.setLayoutManager(new LinearLayoutManager(view.getContext()));\n            SingleLayoutAdapter adapter = new SingleLayoutAdapter(layoutId) {\n                @Override\n                protected Object getObjForPosition(int position) {\n\n                    return listOfUsers.get(position);\n                }\n\n                @Override\n                public int getItemCount() {\n                    return listOfUsers.size();\n                }\n            };\n            view.setAdapter(adapter);\n        }\n    }\n</code></pre>\n\n<p>Happy coding :-)</p>\n"},{"comments":[{"owner":{"account_id":316766,"reputation":120,"user_id":633096,"display_name":"Paul"},"score":0,"creation_date":1609820781,"post_id":50191900,"comment_id":115935351,"body_markdown":"Additionally, putting &quot;match_parent&quot; for the item height can cause only the first item to show (because it&#39;s taking up the entire height of the RecyclerView).","body":"Additionally, putting &quot;match_parent&quot; for the item height can cause only the first item to show (because it&#39;s taking up the entire height of the RecyclerView)."}],"tags":[],"owner":{"account_id":331265,"reputation":945,"user_id":655839,"accept_rate":57,"display_name":"Meriam"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525539282,"creation_date":1525539282,"answer_id":50191900,"question_id":27809524,"body_markdown":"If you put wrap_content as height of your list as well as the height of your item list, nothing will show up and none of your recyclerView functions will be called. Fix the height of the item or put match_parent for the list height. That solved my problem.","title":"Recyclerview not call onCreateViewHolder","body":"<p>If you put wrap_content as height of your list as well as the height of your item list, nothing will show up and none of your recyclerView functions will be called. Fix the height of the item or put match_parent for the list height. That solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":5207015,"reputation":3191,"user_id":4164585,"accept_rate":63,"display_name":"Siamak Ferdos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533803956,"creation_date":1533803956,"answer_id":51762436,"question_id":27809524,"body_markdown":"In my case after changing Activity to use ViewModel and DataBinding, I had forgotten to remove `setContentView` method calling from `onCreate` method. By removing it my problem solved.","title":"Recyclerview not call onCreateViewHolder","body":"<p>In my case after changing Activity to use ViewModel and DataBinding, I had forgotten to remove <code>setContentView</code> method calling from <code>onCreate</code> method. By removing it my problem solved.</p>\n"},{"tags":[],"owner":{"account_id":9933732,"reputation":2018,"user_id":7352723,"display_name":"Jeffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534283872,"creation_date":1534283872,"answer_id":51850302,"question_id":27809524,"body_markdown":"My mistake was inflating the wrong view in Fragment onCreateView.","title":"Recyclerview not call onCreateViewHolder","body":"<p>My mistake was inflating the wrong view in Fragment onCreateView.</p>\n"},{"comments":[{"owner":{"account_id":12539480,"reputation":590,"user_id":9124950,"display_name":"Akbar Noto"},"score":1,"creation_date":1598188543,"post_id":52330783,"comment_id":112370150,"body_markdown":"took me 1-3 hours, omg T_T desperate, already exhausted lmaooo","body":"took me 1-3 hours, omg T_T desperate, already exhausted lmaooo"}],"tags":[],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1536923451,"creation_date":1536923451,"answer_id":52330783,"question_id":27809524,"body_markdown":"Maybe it helps someone but if you set your RecycleView&#39;s visibility to GONE the adapter methods won&#39;t be called at all... Took me some time to figure it out.","title":"Recyclerview not call onCreateViewHolder","body":"<p>Maybe it helps someone but if you set your RecycleView's visibility to GONE the adapter methods won't be called at all... Took me some time to figure it out.</p>\n"},{"comments":[{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1549298407,"post_id":54520148,"comment_id":95843866,"body_markdown":"But this method doesn&#39;t appear to be in the [mcve] in the question. If removing this _hint_ fixes something, it is probably an indication of a bug in the implementation of the view holder or maybe the notifier.","body":"But this method doesn&#39;t appear to be in the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question. If removing this <i>hint</i> fixes something, it is probably an indication of a bug in the implementation of the view holder or maybe the notifier."}],"tags":[],"owner":{"account_id":1240281,"reputation":119,"user_id":1203060,"display_name":"Catalin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549297012,"creation_date":1549297012,"answer_id":54520148,"question_id":27809524,"body_markdown":"For me, it was because the \r\n        setHasStableIds(true);\r\nmethod was set.\r\nRemove that and it will work","title":"Recyclerview not call onCreateViewHolder","body":"<p>For me, it was because the \n        setHasStableIds(true);\nmethod was set.\nRemove that and it will work</p>\n"},{"comments":[{"owner":{"account_id":45506,"reputation":777,"user_id":134162,"display_name":"rndstr"},"score":2,"creation_date":1596688680,"post_id":56118356,"comment_id":111892611,"body_markdown":"That was it. I wish Kotlin/AndroidStudio would highlight this differently whether the variable is from this block or somewhere else.","body":"That was it. I wish Kotlin/AndroidStudio would highlight this differently whether the variable is from this block or somewhere else."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1607887554,"post_id":56118356,"comment_id":115407488,"body_markdown":"Or `this.adapter = this@YourFragment.adapter` (or YourActivity).","body":"Or <code>this.adapter = this@YourFragment.adapter</code> (or YourActivity)."},{"owner":{"account_id":1105149,"reputation":205,"user_id":1096697,"accept_rate":100,"display_name":"Nissi"},"score":0,"creation_date":1644380021,"post_id":56118356,"comment_id":125589010,"body_markdown":"I wish I could tip you with some BAT or something","body":"I wish I could tip you with some BAT or something"}],"tags":[],"owner":{"account_id":226652,"reputation":3525,"user_id":487812,"accept_rate":59,"display_name":"the_new_mr"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1623321852,"creation_date":1557773753,"answer_id":56118356,"question_id":27809524,"body_markdown":"I really *really* hope this helps someone someday.  I just spent over an hour on this one going nuts!\r\n\r\nI had this:\r\n\r\n    projects_recycler_view.apply {\r\n                this.layoutManager = linearLayoutManager\r\n                this.adapter = adapter\r\n            }\r\n\r\nWhen I should have had this:\r\n\r\n    projects_recycler_view.apply {\r\n                this.layoutManager = linearLayoutManager\r\n                this.adapter = projectAdapter\r\n            }\r\n\r\nBecause I foolishly called my adapter `adapter`, it was being shadowed by the recycler view&#39;s adapter in the apply block!  I renamed the adapter to projectAdapter to differentiate it and problem solved!","title":"Recyclerview not call onCreateViewHolder","body":"<p>I really <em>really</em> hope this helps someone someday.  I just spent over an hour on this one going nuts!</p>\n<p>I had this:</p>\n<pre><code>projects_recycler_view.apply {\n            this.layoutManager = linearLayoutManager\n            this.adapter = adapter\n        }\n</code></pre>\n<p>When I should have had this:</p>\n<pre><code>projects_recycler_view.apply {\n            this.layoutManager = linearLayoutManager\n            this.adapter = projectAdapter\n        }\n</code></pre>\n<p>Because I foolishly called my adapter <code>adapter</code>, it was being shadowed by the recycler view's adapter in the apply block!  I renamed the adapter to projectAdapter to differentiate it and problem solved!</p>\n"},{"tags":[],"owner":{"account_id":13041954,"reputation":1,"user_id":9425070,"display_name":"Mesut Beys&#252;len"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561638698,"creation_date":1561638698,"answer_id":56791081,"question_id":27809524,"body_markdown":"recyclerView.setAdapter(adapter); called \r\nThe recyclerView list is populated by calling the method.","title":"Recyclerview not call onCreateViewHolder","body":"<p>recyclerView.setAdapter(adapter); called \nThe recyclerView list is populated by calling the method.</p>\n"},{"tags":[],"owner":{"account_id":8961324,"reputation":2938,"user_id":9181558,"display_name":"Mattia Ferigutti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582034073,"creation_date":1582034073,"answer_id":60282511,"question_id":27809524,"body_markdown":"Make sure your `XML` and `Koltin/Java` code match. In my case, I had a problem with the `ViewHolder` since I had written:\r\n\r\n    var txt: AppCompatTextView = itemView.findViewById(R.id.txt)\r\n\r\nBut since my XML code is:\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/txt&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            .../&gt;\r\n\r\nI had to change the privious row into:\r\n\r\n    var txt: TextView = itemView.findViewById(R.id.txt)\r\n\r\nIn addition, I also had to remove:\r\n\r\n    recyclerView.setHasFixedSize(true);\r\n\r\nI hope this can help you :)\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>Make sure your <code>XML</code> and <code>Koltin/Java</code> code match. In my case, I had a problem with the <code>ViewHolder</code> since I had written:</p>\n\n<pre><code>var txt: AppCompatTextView = itemView.findViewById(R.id.txt)\n</code></pre>\n\n<p>But since my XML code is:</p>\n\n<pre><code>&lt;TextView\n        android:id=\"@+id/txt\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        .../&gt;\n</code></pre>\n\n<p>I had to change the privious row into:</p>\n\n<pre><code>var txt: TextView = itemView.findViewById(R.id.txt)\n</code></pre>\n\n<p>In addition, I also had to remove:</p>\n\n<pre><code>recyclerView.setHasFixedSize(true);\n</code></pre>\n\n<p>I hope this can help you :)</p>\n"},{"tags":[],"owner":{"account_id":8549769,"reputation":233,"user_id":6407070,"display_name":"nkadu1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584831668,"creation_date":1584824076,"answer_id":60793168,"question_id":27809524,"body_markdown":"In my case , I was missing calling `notifyDataSetChanged()` after setting list in adapter.\r\n    \r\n    public void setUserList(List&lt;UserList&gt; userList) {\r\n          this.userList = userList;\r\n            notifyDataSetChanged();\r\n    }\r\n\r\n\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>In my case , I was missing calling <code>notifyDataSetChanged()</code> after setting list in adapter.</p>\n\n<pre><code>public void setUserList(List&lt;UserList&gt; userList) {\n      this.userList = userList;\n        notifyDataSetChanged();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587586771,"creation_date":1587586771,"answer_id":61374412,"question_id":27809524,"body_markdown":"In my case I miss to set the orientation in my LinearLayout. \r\n\r\nAfter adding orientation issue fixed. \r\n\r\n\r\n\r\n     android:orientation=&quot;vertical&quot;","title":"Recyclerview not call onCreateViewHolder","body":"<p>In my case I miss to set the orientation in my LinearLayout. </p>\n\n<p>After adding orientation issue fixed. </p>\n\n<pre><code> android:orientation=\"vertical\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7976640,"reputation":1306,"user_id":6019601,"accept_rate":80,"display_name":"Zezi Reeds"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588761872,"creation_date":1588761872,"answer_id":61633182,"question_id":27809524,"body_markdown":"My problem was `layout_height` and `layout_width` of the RecyclerView set to `0dp`.","title":"Recyclerview not call onCreateViewHolder","body":"<p>My problem was <code>layout_height</code> and <code>layout_width</code> of the RecyclerView set to <code>0dp</code>.</p>\n"},{"tags":[],"owner":{"account_id":15295407,"reputation":11,"user_id":11035676,"display_name":"MykoCh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605281749,"creation_date":1604397478,"answer_id":64660532,"question_id":27809524,"body_markdown":"I had an issue because i setup the layout by myself and have put\r\n\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/band_recycler_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\nand \r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/band_recycler_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:textAlignment=&quot;center&quot;&gt;\r\nresolved my issue","title":"Recyclerview not call onCreateViewHolder","body":"<p>I had an issue because i setup the layout by myself and have put</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/band_recycler_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/androidx.recyclerview.widget.RecyclerView&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/band_recycler_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:textAlignment=&quot;center&quot;&gt;\n</code></pre>\n<p>resolved my issue</p>\n"},{"tags":[],"owner":{"account_id":5702480,"reputation":652,"user_id":4507051,"display_name":"Pabel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624895887,"creation_date":1624895887,"answer_id":68166500,"question_id":27809524,"body_markdown":"You forget this line in the xml \r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n\r\nor \r\n\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>You forget this line in the xml\napp:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;</p>\n<p>or</p>\n<pre><code>    app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22445536,"reputation":1,"user_id":16649514,"display_name":"Роман Степин"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628767084,"creation_date":1628767084,"answer_id":68756467,"question_id":27809524,"body_markdown":"Not the case in the main post, but it may come in handy for someone.\r\nIf you set **setHasStableIds(true);**, override **getItemId(position)** is the adapter.","title":"Recyclerview not call onCreateViewHolder","body":"<p>Not the case in the main post, but it may come in handy for someone.\nIf you set <strong>setHasStableIds(true);</strong>, override <strong>getItemId(position)</strong> is the adapter.</p>\n"},{"tags":[],"owner":{"account_id":24480463,"reputation":41,"user_id":18398938,"display_name":"Reylar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646662650,"creation_date":1646662650,"answer_id":71382466,"question_id":27809524,"body_markdown":"You can add this in your XML widget RecyclerView\r\n\r\n \r\n\r\n     app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n\r\nor manually\r\n\r\n    reyclerview.setLayoutManager(new LinearLayoutManager(ActivityName.this));\r\n\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>You can add this in your XML widget RecyclerView</p>\n<pre><code> app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n</code></pre>\n<p>or manually</p>\n<pre><code>reyclerview.setLayoutManager(new LinearLayoutManager(ActivityName.this));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11645424,"reputation":101,"user_id":8528489,"display_name":"Quraishi sazid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647351462,"creation_date":1647351462,"answer_id":71483214,"question_id":27809524,"body_markdown":"In my case I was returning null from onCreateView of fragment.\r\n\r\n    override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? {\r\n            binding=DataBindingUtil.inflate(inflater,R.layout.fragment_add_budget,container,false)\r\n            setRecyclerView()\r\n            return null// that was the culprit\r\n        }\r\n\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>In my case I was returning null from onCreateView of fragment.</p>\n<pre><code>override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_add_budget,container,false)\n        setRecyclerView()\n        return null// that was the culprit\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20772013,"reputation":37,"user_id":15254470,"display_name":"Exitron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652461284,"creation_date":1652461284,"answer_id":72233097,"question_id":27809524,"body_markdown":"My answer do not applies to yours but may apply to someones else cause I had the same problem you are facing. \r\n\r\nSo I actually did:\r\n\r\n    RecyclerView rv = new RecyclerView(this);\r\n\r\ninstead of\r\n\r\n    RecyclerView rv = findViewById(R.id.Recycler);\r\n\r\nSo make sure to take a note on that.\r\n\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>My answer do not applies to yours but may apply to someones else cause I had the same problem you are facing.</p>\n<p>So I actually did:</p>\n<pre><code>RecyclerView rv = new RecyclerView(this);\n</code></pre>\n<p>instead of</p>\n<pre><code>RecyclerView rv = findViewById(R.id.Recycler);\n</code></pre>\n<p>So make sure to take a note on that.</p>\n"},{"tags":[],"owner":{"account_id":4552323,"reputation":446,"user_id":3697107,"display_name":"Andrew Lee"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1661093003,"creation_date":1661093003,"answer_id":73435468,"question_id":27809524,"body_markdown":"For those having this problem in Kotlin, use this code instead:\r\n\r\n    recycler.layoutManager = LinearLayoutManager(context)\r\n\r\nNote that you can use LinearLayoutManager even if your recyclerView is using constraintLayout.","title":"Recyclerview not call onCreateViewHolder","body":"<p>For those having this problem in Kotlin, use this code instead:</p>\n<pre><code>recycler.layoutManager = LinearLayoutManager(context)\n</code></pre>\n<p>Note that you can use LinearLayoutManager even if your recyclerView is using constraintLayout.</p>\n"},{"comments":[{"owner":{"account_id":12201687,"reputation":645,"user_id":8905812,"display_name":"Devinder Jhinjer"},"score":0,"creation_date":1696486070,"post_id":75526767,"comment_id":136159465,"body_markdown":"i Added recyclerview in bottomsheet , and using ConstraintLayout as parent and set recyclerview to 0dp. \nAfter setting height  to match_parent solved my issue . Thanks","body":"i Added recyclerview in bottomsheet , and using ConstraintLayout as parent and set recyclerview to 0dp.  After setting height  to match_parent solved my issue . Thanks"}],"tags":[],"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677020794,"creation_date":1677020794,"answer_id":75526767,"question_id":27809524,"body_markdown":"Here&#39;s my laundry list of reasons your recyclerView may not populate:\r\n\r\n - The Fragment/Activity didn&#39;t inflate correctly (failing to return the view in onCreateView or returning one other than the one the rest of code is using)\r\n - The RecyclerView&#39;s size has no height or width\r\n - The RecyclerView has no adapter\r\n - The RecyclerView has no layoutManager\r\n - Your text and background are the same color (i.e. it did populate but you&#39;re looking for a polar bear in snow storm)\r\n - There are no items (ie you don&#39;t have any data).\r\n - There are items, but the count returned is 0\r\n\r\nI think that covers all the reasons I&#39;ve seen a recyclerView not populate.\r\n\r\n","title":"Recyclerview not call onCreateViewHolder","body":"<p>Here's my laundry list of reasons your recyclerView may not populate:</p>\n<ul>\n<li>The Fragment/Activity didn't inflate correctly (failing to return the view in onCreateView or returning one other than the one the rest of code is using)</li>\n<li>The RecyclerView's size has no height or width</li>\n<li>The RecyclerView has no adapter</li>\n<li>The RecyclerView has no layoutManager</li>\n<li>Your text and background are the same color (i.e. it did populate but you're looking for a polar bear in snow storm)</li>\n<li>There are no items (ie you don't have any data).</li>\n<li>There are items, but the count returned is 0</li>\n</ul>\n<p>I think that covers all the reasons I've seen a recyclerView not populate.</p>\n"}],"owner":{"account_id":2694611,"reputation":2242,"user_id":2327033,"accept_rate":71,"display_name":"Malinosqui"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121638,"favorite_count":0,"down_vote_count":0,"up_vote_count":210,"accepted_answer_id":27809569,"answer_count":37,"score":210,"last_activity_date":1677020794,"creation_date":1420589881,"question_id":27809524,"body_markdown":"My `RecyclerView` does not call `onCreateViewHolder`, `onBindViewHolder` even `MenuViewHolder` constructor, therefore nothing appears in `RecyclerView`.\r\nI put logs for debugging, and no log is shown.\r\nWhat might be the problem?\r\n\r\nMy adapter:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuViewHolder&gt; {\r\n    private LayoutInflater inflater;\r\n    List&lt;Menu&gt; data = Collections.emptyList();\r\n\r\n    public MenuAdapter(Context context, List&lt;Menu&gt; data) {\r\n        Log.i(&quot;DEBUG&quot;, &quot;Constructor&quot;);\r\n        inflater = LayoutInflater.from(context);\r\n        Log.i(&quot;DEBUG MENU - CONSTRUCTOR&quot;, inflater.toString());\r\n        this.data = data;\r\n        for(Menu menu: this.data){\r\n            Log.i(&quot;DEBUG MENU - CONSTRUCTOR&quot;, menu.menu);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public MenuViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.row_menu, parent, false);\r\n        MenuViewHolder holder = new MenuViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(MenuViewHolder holder, int position) {\r\n        Log.i(&quot;DEBUG MENU&quot;, &quot;onBindViewHolder&quot;);\r\n        Menu current = data.get(position);\r\n        holder.title.setText(current.menu);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n\r\n    class MenuViewHolder extends RecyclerView.ViewHolder {\r\n        TextView title;\r\n        ImageView icon;\r\n\r\n        public MenuViewHolder(View itemView) {\r\n            super(itemView);\r\n            title = (TextView) itemView.findViewById(R.id.menuText);\r\n        }\r\n    }\r\nMy custom row XML:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;horizontal&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/menuText&quot;\r\n        android:text=&quot;Dummy Text&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;\r\n        android:textColor=&quot;#222&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\nand my Fragment:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public NavigationFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mUserLearnedDrawer = Boolean.valueOf(readFromPreferences(getActivity(), KEY_USER_LEARNED_DRAWER, &quot;false&quot;));\r\n        if (savedInstanceState != null) {\r\n            mFromSavedInstaceState = true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        View view = inflater.inflate(R.layout.fragment_navigation, container, false);\r\n        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.drawer_list);\r\n        MenuAdapter adapter = new MenuAdapter(getActivity(), getData());\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        recyclerView.setAdapter(adapter);\r\n        return view;\r\n    }","title":"Recyclerview not call onCreateViewHolder","body":"<p>My <code>RecyclerView</code> does not call <code>onCreateViewHolder</code>, <code>onBindViewHolder</code> even <code>MenuViewHolder</code> constructor, therefore nothing appears in <code>RecyclerView</code>.\nI put logs for debugging, and no log is shown.\nWhat might be the problem?</p>\n\n<p>My adapter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuViewHolder&gt; {\nprivate LayoutInflater inflater;\nList&lt;Menu&gt; data = Collections.emptyList();\n\npublic MenuAdapter(Context context, List&lt;Menu&gt; data) {\n    Log.i(\"DEBUG\", \"Constructor\");\n    inflater = LayoutInflater.from(context);\n    Log.i(\"DEBUG MENU - CONSTRUCTOR\", inflater.toString());\n    this.data = data;\n    for(Menu menu: this.data){\n        Log.i(\"DEBUG MENU - CONSTRUCTOR\", menu.menu);\n    }\n}\n\n@Override\npublic MenuViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View view = inflater.inflate(R.layout.row_menu, parent, false);\n    MenuViewHolder holder = new MenuViewHolder(view);\n    return holder;\n}\n\n@Override\npublic void onBindViewHolder(MenuViewHolder holder, int position) {\n    Log.i(\"DEBUG MENU\", \"onBindViewHolder\");\n    Menu current = data.get(position);\n    holder.title.setText(current.menu);\n}\n\n@Override\npublic int getItemCount() {\n    return 0;\n}\n\nclass MenuViewHolder extends RecyclerView.ViewHolder {\n    TextView title;\n    ImageView icon;\n\n    public MenuViewHolder(View itemView) {\n        super(itemView);\n        title = (TextView) itemView.findViewById(R.id.menuText);\n    }\n}\n</code></pre>\n\n<p>My custom row XML:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:orientation=\"horizontal\" android:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/menuText\"\n    android:text=\"Dummy Text\"\n    android:layout_gravity=\"center_vertical\"\n    android:textColor=\"#222\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>and my Fragment:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public NavigationFragment() {\n    // Required empty public constructor\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    mUserLearnedDrawer = Boolean.valueOf(readFromPreferences(getActivity(), KEY_USER_LEARNED_DRAWER, \"false\"));\n    if (savedInstanceState != null) {\n        mFromSavedInstaceState = true;\n    }\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n\n    View view = inflater.inflate(R.layout.fragment_navigation, container, false);\n    RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.drawer_list);\n    MenuAdapter adapter = new MenuAdapter(getActivity(), getData());\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n    recyclerView.setAdapter(adapter);\n    return view;\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677010011,"post_id":75523992,"comment_id":133251854,"body_markdown":"You didn&#39;t create an inner subquery at all and are just selecting a count on a join clause. See https://en.wikibooks.org/wiki/Java_Persistence/Querying#Subselect,_querying_all_of_a_to_many_relationship for an example of a subquery being used in the where clause - Unfortunately JPA doesn&#39;t support subqueries in the select clause, though some JPA providers (https://docs.oracle.com/middleware/1212/toplink/OTLCG/queries.htm#OTLCG94376 for EclipseLink ) do. Fortunately, JPA has the size operator to do it for you (&quot;select id, size(p.records) from Parent p where p.someId=:someValue&quot;","body":"You didn&#39;t create an inner subquery at all and are just selecting a count on a join clause. See <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Querying#Subselect,_querying_all_of_a_to_many_relationship\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/&hellip;</a> for an example of a subquery being used in the where clause - Unfortunately JPA doesn&#39;t support subqueries in the select clause, though some JPA providers (<a href=\"https://docs.oracle.com/middleware/1212/toplink/OTLCG/queries.htm#OTLCG94376\" rel=\"nofollow noreferrer\">docs.oracle.com/middleware/1212/toplink/OTLCG/&hellip;</a> for EclipseLink ) do. Fortunately, JPA has the size operator to do it for you (&quot;select id, size(p.records) from Parent p where p.someId=:someValue&quot;"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1677012070,"post_id":75523992,"comment_id":133252406,"body_markdown":"Thanks Chris for the response. Unfortunately, the current requirements require me to use CriteriaBuilder. I used the JPQL approach but it was rejected. I also had an inclination that JPA doesn&#39;t allow inner queries that&#39;s why I tried with count on left join. I&#39;ll keep trying.","body":"Thanks Chris for the response. Unfortunately, the current requirements require me to use CriteriaBuilder. I used the JPQL approach but it was rejected. I also had an inclination that JPA doesn&#39;t allow inner queries that&#39;s why I tried with count on left join. I&#39;ll keep trying."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1677012144,"post_id":75523992,"comment_id":133252426,"body_markdown":"I do use Hibernate as it comes by default in spring-data.","body":"I do use Hibernate as it comes by default in spring-data."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677015812,"post_id":75523992,"comment_id":133253351,"body_markdown":"CriteriaBuilder (api) works the same and supports size the same way - it is just easier to show in JPQL. Only issues is that you need to have a OneToMany there from parent-&gt;Child defined so that JPA can determine what to use for the Size operation (which is likely the sub query you wanted to issue anyway)","body":"CriteriaBuilder (api) works the same and supports size the same way - it is just easier to show in JPQL. Only issues is that you need to have a OneToMany there from parent-&gt;Child defined so that JPA can determine what to use for the Size operation (which is likely the sub query you wanted to issue anyway)"}],"answers":[{"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1677084902,"post_id":75526387,"comment_id":133269099,"body_markdown":"Thanks zforgo. I haven&#39;t tested it but it should be good.","body":"Thanks zforgo. I haven&#39;t tested it but it should be good."}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677020725,"creation_date":1677017457,"answer_id":75526387,"question_id":75523992,"body_markdown":"There are two possible solutions to achive desired result. Both of them available in Spring Data JPA or Quarkus and every JPA 2.0 compatible frameworks.\r\n\r\n### Example\r\nIn the following examples I use two entities in parent-child relation. I also use Quakus and Panache but the only difference just to got an ```EntitiyManager``` instance.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;TEMPLATES&quot;)\r\npublic class Template extends PanacheEntity {\r\n\r\n    public String slug;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;template_id&quot;)\r\n    public List&lt;TemplateVersion&gt; versions;\r\n}\r\n```\r\n```java\r\npublic enum TemplateVersionStatus {\r\n    DRAFT,\r\n    REVIEW,\r\n    ACTIVE,\r\n    REJECTED,\r\n    DEACTIVATED\r\n\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;TEMPLATE_VERSIONS&quot;)\r\npublic class TemplateVersion extends PanacheEntity {\r\n\r\n    @Column(name = &quot;STATUS&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    public TemplateVersionStatus status;\r\n\r\n    @ManyToOne\r\n    public Template template;\r\n}\r\n```\r\nSo I have a Tempalte entity (like a parent) and a TemplateVersion (child) each Template can have multiple versions.\r\n\r\n### SubQuery\r\n\r\n```java\r\n@QuarkusTest\r\n@QuarkusTestResource(H2DatabaseTestResource.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@Transactional\r\nclass TupleCountTest {\r\n\r\n    @Test\r\n    void subQuery() {\r\n        var em = Template.getEntityManager();\r\n        var criteriaBuilder = em.getCriteriaBuilder();\r\n        var query = criteriaBuilder.createTupleQuery();\r\n        var templateRoot = query.from(Template.class);\r\n\r\n        var subQuery = query.subquery(Long.class);\r\n        var subRoot = subQuery.from(TemplateVersion.class);\r\n        var countExpression = criteriaBuilder.count(subRoot.get(&quot;id&quot;));\r\n        subQuery.select(countExpression);\r\n        subQuery.where(\r\n                criteriaBuilder.equal(templateRoot.get(&quot;id&quot;), subRoot.get(&quot;template&quot;).get(&quot;id&quot;)),\r\n// optional extra filter\r\n                criteriaBuilder.equal(subRoot.get(&quot;status&quot;), DEACTIVATED)\r\n        );\r\n\r\n        query.select(criteriaBuilder.tuple(\r\n                templateRoot.get(&quot;slug&quot;).alias(&quot;slug&quot;),\r\n                templateRoot.get(&quot;id&quot;).alias(&quot;templateId&quot;),\r\n                subQuery.alias(&quot;versionCount&quot;)\r\n        ));\r\n// filter on main query\r\n        query.where(criteriaBuilder.like(templateRoot.get(&quot;slug&quot;),&quot;%foo%&quot;));\r\n\r\n        var resultList = em.createQuery(query).getResultList();\r\n        resultList.forEach(t -&gt; System.out.printf(&quot;Slug is: %-20s with id: %5d -- version count: %5d %n&quot;,\r\n                t.get(&quot;slug&quot;),\r\n                t.get(&quot;templateId&quot;, Long.class),\r\n                t.get(&quot;versionCount&quot;, Long.class)\r\n        ));\r\n    }\r\n}\r\n```\r\n\r\nThe generated SQL query is\r\n```sql\r\n    select\r\n        template0_.slug as col_0_0_,\r\n        template0_.id as col_1_0_,\r\n        (select\r\n            count(templateve1_.id) \r\n        from\r\n            TEMPLATE_VERSIONS templateve1_ \r\n        where\r\n            template0_.id=templateve1_.template_id \r\n            and templateve1_.STATUS=?) as col_2_0_ \r\n    from\r\n        TEMPLATES template0_ \r\n    where\r\n        template0_.slug like ?\r\n```\r\n#### Pros - Cons\r\n* Pro - ```@OneToMany``` relation on Parent entity is not requred. The sample code contains that relation because the other solution requires. In this case getting versions from template is totally unnecessary.\r\n* Pro - Extra filters are available in subQuery.\r\n* Con - A built-in feature (see below) hardcoded manually.\r\n\r\n### Size\r\n\r\n```java\r\n    @Test\r\n    void size() {\r\n        var em = Template.getEntityManager();\r\n        var criteriaBuilder = em.getCriteriaBuilder();\r\n        var query = criteriaBuilder.createTupleQuery();\r\n\r\n        var templateRoot = query.from(Template.class);\r\n        var sizeExpression = criteriaBuilder.size(templateRoot.get(&quot;versions&quot;));\r\n\r\n        query.select(criteriaBuilder.tuple(\r\n                templateRoot.get(&quot;slug&quot;).alias(&quot;slug&quot;),\r\n                templateRoot.get(&quot;id&quot;).alias(&quot;templateId&quot;),\r\n                sizeExpression.alias(&quot;versionCount&quot;)));\r\n\r\n        query.where(criteriaBuilder.like(templateRoot.get(&quot;slug&quot;),&quot;%foo%&quot;));\r\n\r\n        var resultList = em.createQuery(query).getResultList();\r\n\r\n        resultList.forEach(t -&gt; System.out.printf(&quot;Slug is: %-20s with id: %5d -- version count: %5d %n&quot;,\r\n                t.get(&quot;slug&quot;),\r\n                t.get(&quot;templateId&quot;, Long.class),\r\n                t.get(&quot;versionCount&quot;, Integer.class)\r\n        ));\r\n    }\r\n```\r\n\r\n#### Pros - Cons\r\n* Pro - ```size``` is a standard feature.\r\n* Pro - simplier code, easier to maintain.\r\n* Con - ```@OneToMany``` relation required on parent entity. In some cases it is not the best way.\r\n* Con? - However size feature designed to count related entities, no extra filters available on count query.","title":"JPA Criteria multiselect without explicit join in SQL","body":"<p>There are two possible solutions to achive desired result. Both of them available in Spring Data JPA or Quarkus and every JPA 2.0 compatible frameworks.</p>\n<h3>Example</h3>\n<p>In the following examples I use two entities in parent-child relation. I also use Quakus and Panache but the only difference just to got an <code>EntitiyManager</code> instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TEMPLATES&quot;)\npublic class Template extends PanacheEntity {\n\n    public String slug;\n\n    @OneToMany\n    @JoinColumn(name = &quot;template_id&quot;)\n    public List&lt;TemplateVersion&gt; versions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum TemplateVersionStatus {\n    DRAFT,\n    REVIEW,\n    ACTIVE,\n    REJECTED,\n    DEACTIVATED\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TEMPLATE_VERSIONS&quot;)\npublic class TemplateVersion extends PanacheEntity {\n\n    @Column(name = &quot;STATUS&quot;)\n    @Enumerated(EnumType.STRING)\n    public TemplateVersionStatus status;\n\n    @ManyToOne\n    public Template template;\n}\n</code></pre>\n<p>So I have a Tempalte entity (like a parent) and a TemplateVersion (child) each Template can have multiple versions.</p>\n<h3>SubQuery</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\n@QuarkusTestResource(H2DatabaseTestResource.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@Transactional\nclass TupleCountTest {\n\n    @Test\n    void subQuery() {\n        var em = Template.getEntityManager();\n        var criteriaBuilder = em.getCriteriaBuilder();\n        var query = criteriaBuilder.createTupleQuery();\n        var templateRoot = query.from(Template.class);\n\n        var subQuery = query.subquery(Long.class);\n        var subRoot = subQuery.from(TemplateVersion.class);\n        var countExpression = criteriaBuilder.count(subRoot.get(&quot;id&quot;));\n        subQuery.select(countExpression);\n        subQuery.where(\n                criteriaBuilder.equal(templateRoot.get(&quot;id&quot;), subRoot.get(&quot;template&quot;).get(&quot;id&quot;)),\n// optional extra filter\n                criteriaBuilder.equal(subRoot.get(&quot;status&quot;), DEACTIVATED)\n        );\n\n        query.select(criteriaBuilder.tuple(\n                templateRoot.get(&quot;slug&quot;).alias(&quot;slug&quot;),\n                templateRoot.get(&quot;id&quot;).alias(&quot;templateId&quot;),\n                subQuery.alias(&quot;versionCount&quot;)\n        ));\n// filter on main query\n        query.where(criteriaBuilder.like(templateRoot.get(&quot;slug&quot;),&quot;%foo%&quot;));\n\n        var resultList = em.createQuery(query).getResultList();\n        resultList.forEach(t -&gt; System.out.printf(&quot;Slug is: %-20s with id: %5d -- version count: %5d %n&quot;,\n                t.get(&quot;slug&quot;),\n                t.get(&quot;templateId&quot;, Long.class),\n                t.get(&quot;versionCount&quot;, Long.class)\n        ));\n    }\n}\n</code></pre>\n<p>The generated SQL query is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        template0_.slug as col_0_0_,\n        template0_.id as col_1_0_,\n        (select\n            count(templateve1_.id) \n        from\n            TEMPLATE_VERSIONS templateve1_ \n        where\n            template0_.id=templateve1_.template_id \n            and templateve1_.STATUS=?) as col_2_0_ \n    from\n        TEMPLATES template0_ \n    where\n        template0_.slug like ?\n</code></pre>\n<h4>Pros - Cons</h4>\n<ul>\n<li>Pro - <code>@OneToMany</code> relation on Parent entity is not requred. The sample code contains that relation because the other solution requires. In this case getting versions from template is totally unnecessary.</li>\n<li>Pro - Extra filters are available in subQuery.</li>\n<li>Con - A built-in feature (see below) hardcoded manually.</li>\n</ul>\n<h3>Size</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void size() {\n        var em = Template.getEntityManager();\n        var criteriaBuilder = em.getCriteriaBuilder();\n        var query = criteriaBuilder.createTupleQuery();\n\n        var templateRoot = query.from(Template.class);\n        var sizeExpression = criteriaBuilder.size(templateRoot.get(&quot;versions&quot;));\n\n        query.select(criteriaBuilder.tuple(\n                templateRoot.get(&quot;slug&quot;).alias(&quot;slug&quot;),\n                templateRoot.get(&quot;id&quot;).alias(&quot;templateId&quot;),\n                sizeExpression.alias(&quot;versionCount&quot;)));\n\n        query.where(criteriaBuilder.like(templateRoot.get(&quot;slug&quot;),&quot;%foo%&quot;));\n\n        var resultList = em.createQuery(query).getResultList();\n\n        resultList.forEach(t -&gt; System.out.printf(&quot;Slug is: %-20s with id: %5d -- version count: %5d %n&quot;,\n                t.get(&quot;slug&quot;),\n                t.get(&quot;templateId&quot;, Long.class),\n                t.get(&quot;versionCount&quot;, Integer.class)\n        ));\n    }\n</code></pre>\n<h4>Pros - Cons</h4>\n<ul>\n<li>Pro - <code>size</code> is a standard feature.</li>\n<li>Pro - simplier code, easier to maintain.</li>\n<li>Con - <code>@OneToMany</code> relation required on parent entity. In some cases it is not the best way.</li>\n<li>Con? - However size feature designed to count related entities, no extra filters available on count query.</li>\n</ul>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75526387,"answer_count":1,"score":0,"last_activity_date":1677020725,"creation_date":1677000787,"question_id":75523992,"body_markdown":"I have this query in SQL that doesn&#39;t use a `join` explicitly:\r\n\r\n`select id as parentIds,\r\n(select COUNT(*) from ChildTable c where c.matching_id=p.id) as ChildTableRecords\r\nfrom ParentTable p\r\nwhere p.someId = &#39;some_value;`\r\n\r\nI am trying to convert this in JPA Criteria Builder without JOINS. So I tried with joins but not getting results that I get when I run the raw sql:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\r\n    Root&lt;ParentEntity&gt; parent= cq.from(ParentEntity.class);\r\n    Join&lt;ParentEntity, ChildEntity&gt; childJoin = parent.join(&quot;matching_id&quot;,\r\n        JoinType.LEFT);\r\n    cq.select(cb.tuple(parent, cb.count(childJoin)));\r\n    cq.where(cb.equal(some where condition));\r\n    cq.groupBy(some group by columns);\r\n    List&lt;Tuple&gt; res = entityManager.createQuery(cq).getResultList();\r\n\r\n\r\n\r\n","title":"JPA Criteria multiselect without explicit join in SQL","body":"<p>I have this query in SQL that doesn't use a <code>join</code> explicitly:</p>\n<p><code>select id as parentIds, (select COUNT(*) from ChildTable c where c.matching_id=p.id) as ChildTableRecords from ParentTable p where p.someId = 'some_value;</code></p>\n<p>I am trying to convert this in JPA Criteria Builder without JOINS. So I tried with joins but not getting results that I get when I run the raw sql:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\nRoot&lt;ParentEntity&gt; parent= cq.from(ParentEntity.class);\nJoin&lt;ParentEntity, ChildEntity&gt; childJoin = parent.join(&quot;matching_id&quot;,\n    JoinType.LEFT);\ncq.select(cb.tuple(parent, cb.count(childJoin)));\ncq.where(cb.equal(some where condition));\ncq.groupBy(some group by columns);\nList&lt;Tuple&gt; res = entityManager.createQuery(cq).getResultList();\n</code></pre>\n"},{"tags":["java","spring-boot","micrometer","spring-micrometer"],"comments":[{"owner":{"account_id":13245542,"reputation":664,"user_id":11300267,"display_name":"Cat-Lord"},"score":0,"creation_date":1694429944,"post_id":75170489,"comment_id":135885370,"body_markdown":"You can remove the `micrometer-tracing` dependency as it [&quot;is added transitively&quot;](https://micrometer.io/docs/tracing#_installing). Not sure if you need the `micrometer-core`, logs work in my case just with the tracing bridge and actuator as mentioned in the comment below.","body":"You can remove the <code>micrometer-tracing</code> dependency as it <a href=\"https://micrometer.io/docs/tracing#_installing\" rel=\"nofollow noreferrer\">&quot;is added transitively&quot;</a>. Not sure if you need the <code>micrometer-core</code>, logs work in my case just with the tracing bridge and actuator as mentioned in the comment below."}],"answers":[{"comments":[{"owner":{"account_id":10785732,"reputation":251,"user_id":7934797,"display_name":"Victor Borovlev"},"score":0,"creation_date":1685113722,"post_id":75526660,"comment_id":134620872,"body_markdown":"Hi! I&#39;m using your demo project without zipkin report and it doesn&#39;t work.\nHere is the result:\n2023-05-26T22:02:11.632+07:00 &quot; INFO [,,]&quot; 341317 --- [    Test worker] com.example.demo.DemoApplicationTests\n\nWhat is may be wrong?","body":"Hi! I&#39;m using your demo project without zipkin report and it doesn&#39;t work. Here is the result: 2023-05-26T22:02:11.632+07:00 &quot; INFO [,,]&quot; 341317 --- [    Test worker] com.example.demo.DemoApplicationTests  What is may be wrong?"},{"owner":{"account_id":10785732,"reputation":251,"user_id":7934797,"display_name":"Victor Borovlev"},"score":0,"creation_date":1685182782,"post_id":75526660,"comment_id":134628074,"body_markdown":"Found my mistake, missed the need to use the @Observed annotation.","body":"Found my mistake, missed the need to use the @Observed annotation."},{"owner":{"account_id":8466250,"reputation":69,"user_id":6350335,"display_name":"Susheel Rao"},"score":0,"creation_date":1686797205,"post_id":75526660,"comment_id":134849639,"body_markdown":"@VictorBorovlev .. Where to use that Annotation  in our Springboot Application ?","body":"@VictorBorovlev .. Where to use that Annotation  in our Springboot Application ?"},{"owner":{"account_id":8466250,"reputation":69,"user_id":6350335,"display_name":"Susheel Rao"},"score":0,"creation_date":1686797794,"post_id":75526660,"comment_id":134849691,"body_markdown":"I tried adding the annotation on the Controller Class and I am getting different TraceIds at my Receiver end . Trace Id are not same in Sender and Receiver Controllers - Any Hint for this issue ?","body":"I tried adding the annotation on the Controller Class and I am getting different TraceIds at my Receiver end . Trace Id are not same in Sender and Receiver Controllers - Any Hint for this issue ?"},{"owner":{"account_id":10785732,"reputation":251,"user_id":7934797,"display_name":"Victor Borovlev"},"score":0,"creation_date":1686913279,"post_id":75526660,"comment_id":134867171,"body_markdown":"@SusheelRao I used annonation io.micrometer.observation.annotation.Observed on Controller class and RestTemplate or WebClient for request another application and it is work fine. Also i use CurrentTraceContext for get trace id in ControllerAdvice class and put in error dto.","body":"@SusheelRao I used annonation io.micrometer.observation.annotation.Observed on Controller class and RestTemplate or WebClient for request another application and it is work fine. Also i use CurrentTraceContext for get trace id in ControllerAdvice class and put in error dto."}],"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677020582,"creation_date":1677019790,"answer_id":75526660,"question_id":75170489,"body_markdown":"You need actuator and a bridge, the rest you included is not needed:\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\n```\r\nIf you also want to report your spans, you should add the zipkin reporter too:\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\nimplementation &#39;io.zipkin.reporter2:zipkin-reporter-brave&#39;\r\n```\r\n\r\nHere&#39;s an example on [start.spring.io](https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.2&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=distributed-tracing,zipkin) and there are a lot of samples in the [micrometer-samples](https://github.com/micrometer-metrics/micrometer-samples) repo.","title":"TraceId and SpanId not available after migrating to Spring Boot 3","body":"<p>You need actuator and a bridge, the rest you included is not needed:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-actuator'\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave'\n</code></pre>\n<p>If you also want to report your spans, you should add the zipkin reporter too:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-actuator'\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave'\nimplementation 'io.zipkin.reporter2:zipkin-reporter-brave'\n</code></pre>\n<p>Here's an example on <a href=\"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.2&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=distributed-tracing,zipkin\" rel=\"noreferrer\">start.spring.io</a> and there are a lot of samples in the <a href=\"https://github.com/micrometer-metrics/micrometer-samples\" rel=\"noreferrer\">micrometer-samples</a> repo.</p>\n"}],"owner":{"account_id":14480538,"reputation":439,"user_id":10459891,"display_name":"htmoia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5323,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1677020582,"creation_date":1674122326,"question_id":75170489,"body_markdown":"After migrating spring boot from version 2.x to 3 we miss traceId and spanId in our logs.\r\n\r\nWe removed all **sleuth** dependencies and added\r\n\r\n```properties\r\nimplementation &#39;io.micrometer:micrometer-core&#39;\r\nimplementation &#39;io.micrometer:micrometer-tracing&#39;\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\nimplementation platform(&#39;io.micrometer:micrometer-tracing-bom:latest.release&#39;)\r\n```\r\n\r\nas well as \r\n\r\n```yml\r\nlogging.pattern.level: &quot;%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]&quot;\r\n```\r\n\r\nbut no traceIds and spanIds are being logged. \r\n\r\nIs there something we missed?","title":"TraceId and SpanId not available after migrating to Spring Boot 3","body":"<p>After migrating spring boot from version 2.x to 3 we miss traceId and spanId in our logs.</p>\n<p>We removed all <strong>sleuth</strong> dependencies and added</p>\n<pre><code>implementation 'io.micrometer:micrometer-core'\nimplementation 'io.micrometer:micrometer-tracing'\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave'\nimplementation platform('io.micrometer:micrometer-tracing-bom:latest.release')\n</code></pre>\n<p>as well as</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging.pattern.level: &quot;%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]&quot;\n</code></pre>\n<p>but no traceIds and spanIds are being logged.</p>\n<p>Is there something we missed?</p>\n"},{"tags":["java","spring-boot","logback","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677020250,"creation_date":1677020250,"answer_id":75526714,"question_id":75208007,"body_markdown":"I think this is similar to https://stackoverflow.com/questions/75088934/spring-boot-actuator-logback-metric-with-custom-filter\r\n\r\nCould you please check [my answer](https://stackoverflow.com/a/75524785/971735) there and if you were not able to fix this based on it, could you please open an issue on GitHub?","title":"Why are Logback metrics increased for filtered logging events?","body":"<p>I think this is similar to <a href=\"https://stackoverflow.com/questions/75088934/spring-boot-actuator-logback-metric-with-custom-filter\">Spring Boot Actuator Logback Metric with custom Filter</a></p>\n<p>Could you please check <a href=\"https://stackoverflow.com/a/75524785/971735\">my answer</a> there and if you were not able to fix this based on it, could you please open an issue on GitHub?</p>\n"}],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677020250,"creation_date":1674468437,"question_id":75208007,"body_markdown":"I have an application with configured Logback Evaluator Filter to exclude certain log messages from Hibernate using the `JaninoEventEvaluator`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;false&quot;&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\r\n            &lt;evaluator&gt; &lt;!-- defaults to type ch.qos.logback.classic.boolex.JaninoEventEvaluator --&gt;\r\n                &lt;expression&gt;return logger.equals(&quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&quot;) &amp;amp;&amp;amp;\r\n                    (message.contains(&quot;duplicate key value violates unique constraint \\&quot;the_constraint_name\\&quot;&quot;) ||\r\n                    message.contains(&quot;SQLState: 23505&quot;));&lt;/expression&gt;\r\n            &lt;/evaluator&gt;\r\n            &lt;OnMismatch&gt;NEUTRAL&lt;/OnMismatch&gt;\r\n            &lt;OnMatch&gt;DENY&lt;/OnMatch&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n    &lt;logger name=&quot;com.mypackage&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThis works fine and the `duplicate key violates unique constraint` message is not logged.\r\n\r\nProblem is that every time this happens, the Logback metric `logback.events` is increased, so according to the application metrics it looks like an error has occurred anyway.\r\n\r\nReson for this appears to be in  `io.micrometer.core.instrument.binder.logging.MetricsTurboFilter` where these counters are [defined][1]. If I&#39;m reading the Logback documentation correctly, Turbo Filters are called &quot;... each and every time a logging request is issued&quot;: https://logback.qos.ch/manual/filters.html#TurboFilter.\r\n\r\nSo my question is if there is any way to configure Micrometer/Spring Boot to not increase this error metric when this error occurs? \r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/blob/067f4c3849fed1a289293d034caf780e8113d8e8/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/logging/LogbackMetrics.java#L138","title":"Why are Logback metrics increased for filtered logging events?","body":"<p>I have an application with configured Logback Evaluator Filter to exclude certain log messages from Hibernate using the <code>JaninoEventEvaluator</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;false&quot;&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\n            &lt;evaluator&gt; &lt;!-- defaults to type ch.qos.logback.classic.boolex.JaninoEventEvaluator --&gt;\n                &lt;expression&gt;return logger.equals(&quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&quot;) &amp;amp;&amp;amp;\n                    (message.contains(&quot;duplicate key value violates unique constraint \\&quot;the_constraint_name\\&quot;&quot;) ||\n                    message.contains(&quot;SQLState: 23505&quot;));&lt;/expression&gt;\n            &lt;/evaluator&gt;\n            &lt;OnMismatch&gt;NEUTRAL&lt;/OnMismatch&gt;\n            &lt;OnMatch&gt;DENY&lt;/OnMatch&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n\n\n    &lt;logger name=&quot;com.mypackage&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n\n\n&lt;/configuration&gt;\n</code></pre>\n<p>This works fine and the <code>duplicate key violates unique constraint</code> message is not logged.</p>\n<p>Problem is that every time this happens, the Logback metric <code>logback.events</code> is increased, so according to the application metrics it looks like an error has occurred anyway.</p>\n<p>Reson for this appears to be in  <code>io.micrometer.core.instrument.binder.logging.MetricsTurboFilter</code> where these counters are <a href=\"https://github.com/micrometer-metrics/micrometer/blob/067f4c3849fed1a289293d034caf780e8113d8e8/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/logging/LogbackMetrics.java#L138\" rel=\"nofollow noreferrer\">defined</a>. If I'm reading the Logback documentation correctly, Turbo Filters are called &quot;... each and every time a logging request is issued&quot;: <a href=\"https://logback.qos.ch/manual/filters.html#TurboFilter\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/filters.html#TurboFilter</a>.</p>\n<p>So my question is if there is any way to configure Micrometer/Spring Boot to not increase this error metric when this error occurs?</p>\n"},{"tags":["java","nextflow"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629972310,"creation_date":1629972310,"answer_id":68936499,"question_id":68935140,"body_markdown":"Have a look at the script you&#39;re running:\r\n```\r\n...\r\nif [ $major -eq 0 ] &amp;&amp; [ $minor -lt 26 ]; then\r\n    version_check=&quot;^(1.7|1.8)&quot;\r\n    version_message=&quot;Java 7 or 8&quot;\r\n  else\r\n    version_check=&quot;^(1.8|9|10|11|12|13|14|15)&quot;\r\n    version_message=&quot;Java 8 or later&quot;\r\n  fi\r\n...\r\n```\r\nLooks like it needs Java 15 or earlier. You can probably just add 16 and everything will be fine.","title":"Nextflow installation cannot find Java","body":"<p>Have a look at the script you're running:</p>\n<pre><code>...\nif [ $major -eq 0 ] &amp;&amp; [ $minor -lt 26 ]; then\n    version_check=&quot;^(1.7|1.8)&quot;\n    version_message=&quot;Java 7 or 8&quot;\n  else\n    version_check=&quot;^(1.8|9|10|11|12|13|14|15)&quot;\n    version_message=&quot;Java 8 or later&quot;\n  fi\n...\n</code></pre>\n<p>Looks like it needs Java 15 or earlier. You can probably just add 16 and everything will be fine.</p>\n"},{"tags":[],"owner":{"account_id":13978689,"reputation":11,"user_id":10095463,"display_name":"Dill Nelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669136298,"creation_date":1669135438,"answer_id":74536208,"question_id":68935140,"body_markdown":"I was unable to install nextflow utilizing the homebrew or the curl command so I installed it with the instructions that are particular to the bioconda installation portion, when using the nextflow command i didn&#39;t get the same java version error.\r\nhttps://nf-co.re/usage/installation ","title":"Nextflow installation cannot find Java","body":"<p>I was unable to install nextflow utilizing the homebrew or the curl command so I installed it with the instructions that are particular to the bioconda installation portion, when using the nextflow command i didn't get the same java version error.\n<a href=\"https://nf-co.re/usage/installation\" rel=\"nofollow noreferrer\">https://nf-co.re/usage/installation</a></p>\n"}],"owner":{"account_id":20919212,"reputation":1765,"user_id":15368235,"display_name":"Basti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68936499,"answer_count":2,"score":1,"last_activity_date":1677020249,"creation_date":1629966717,"question_id":68935140,"body_markdown":"I&#39;m currently trying to install nextflow on my computer but I&#39;m struggling with a Java error message I can&#39;t manage to solve.\r\n\r\n    curl -s https://get.nextflow.io | bash\r\n    \r\n    ERROR: Cannot find Java or it&#39;s a wrong version -- please make sure that Java 8 or later is installed\r\n    NOTE: Nextflow is trying to use the Java VM defined by the following environment variables:\r\n     JAVA_CMD: /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home/bin/java\r\n     JAVA_HOME:\r\n\r\nLooking for solution on other posts, I tried to use\r\n\r\n    export JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.7+)&quot;\r\n\r\nbut now I still have almost same error\r\n\r\n    ERROR: Cannot find Java or it&#39;s a wrong version -- please make sure that Java 8 or later is installed\r\n    NOTE: Nextflow is trying to use the Java VM defined by the following environment variables:\r\n     JAVA_CMD: /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home/bin/java\r\n     JAVA_HOME: /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home  \r\n\r\n  \r\n\r\nMy java version :\r\n   \r\n\r\n     java -version\r\n     java version &quot;16.0.2&quot; 2021-07-20\r\n     Java(TM) SE Runtime Environment (build 16.0.2+7-67)\r\n     Java HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\r\n\r\nI would be grateful if you could give me some tips to overcome this.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Nextflow installation cannot find Java","body":"<p>I'm currently trying to install nextflow on my computer but I'm struggling with a Java error message I can't manage to solve.</p>\n<pre><code>curl -s https://get.nextflow.io | bash\n\nERROR: Cannot find Java or it's a wrong version -- please make sure that Java 8 or later is installed\nNOTE: Nextflow is trying to use the Java VM defined by the following environment variables:\n JAVA_CMD: /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home/bin/java\n JAVA_HOME:\n</code></pre>\n<p>Looking for solution on other posts, I tried to use</p>\n<pre><code>export JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.7+)&quot;\n</code></pre>\n<p>but now I still have almost same error</p>\n<pre><code>ERROR: Cannot find Java or it's a wrong version -- please make sure that Java 8 or later is installed\nNOTE: Nextflow is trying to use the Java VM defined by the following environment variables:\n JAVA_CMD: /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home/bin/java\n JAVA_HOME: /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home  \n</code></pre>\n<p>My java version :</p>\n<pre><code> java -version\n java version &quot;16.0.2&quot; 2021-07-20\n Java(TM) SE Runtime Environment (build 16.0.2+7-67)\n Java HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\n</code></pre>\n<p>I would be grateful if you could give me some tips to overcome this.</p>\n"},{"tags":["java","class","uml"],"answers":[{"comments":[{"owner":{"account_id":26700484,"reputation":31,"user_id":20307618,"display_name":"nitrations"},"score":0,"creation_date":1676819737,"post_id":75501037,"comment_id":133209955,"body_markdown":"what about analysis class diagrams? it doesn&#39;t have implementation details","body":"what about analysis class diagrams? it doesn&#39;t have implementation details"},{"owner":{"account_id":26700484,"reputation":31,"user_id":20307618,"display_name":"nitrations"},"score":0,"creation_date":1676819773,"post_id":75501037,"comment_id":133209961,"body_markdown":"menu is more like adding detail about navigation and UI maybe","body":"menu is more like adding detail about navigation and UI maybe"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1676821673,"post_id":75501037,"comment_id":133210248,"body_markdown":"Analysis diagrams are not defined by the UML standard, and depending on the methodological choice. In some methods, an analysis model may stay self-standing; in other mthods it&#39;s just a first stage that  evolves into a design model. In the Unified Process for example analysis classes are Entity Boundary Controls, because they are directly related to Use-Cases, which model requirements. They would not contain  details such as menus (which will belong to refinements of the boundary classes). But they would contain more than only entities of the domain model. .../...","body":"Analysis diagrams are not defined by the UML standard, and depending on the methodological choice. In some methods, an analysis model may stay self-standing; in other mthods it&#39;s just a first stage that  evolves into a design model. In the Unified Process for example analysis classes are Entity Boundary Controls, because they are directly related to Use-Cases, which model requirements. They would not contain  details such as menus (which will belong to refinements of the boundary classes). But they would contain more than only entities of the domain model. .../..."},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1676821892,"post_id":75501037,"comment_id":133210278,"body_markdown":"@nitrations .../... Other methods understand analysis classes as solelely the conceptual classes that belong to the problem domain (often they already contain some design choices though...). This understanding on &quot;analysis&quot; is often a legacy of the ERD folks, since the limitations of the ERD let it only focus on domain knowledge and are not meant for designing anythir related to behavior.","body":"@nitrations .../... Other methods understand analysis classes as solelely the conceptual classes that belong to the problem domain (often they already contain some design choices though...). This understanding on &quot;analysis&quot; is often a legacy of the ERD folks, since the limitations of the ERD let it only focus on domain knowledge and are not meant for designing anythir related to behavior."}],"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677019814,"creation_date":1676818891,"answer_id":75501037,"question_id":75500805,"body_markdown":"A class diagram with only classes belonging to the domain of application (e.g teachers, students, classes, ..) without any of the app&#39;s internals (e.g. UI related classes) is called a &quot;domain model&quot;. Its goal is not to document all possible classes used in your app, but to focus on the domain knowledge, independently of how the app is structured or implemented. Such domain model would stay the same if you create a mobile app, a text based terminal application, or a voice controlled app. \r\n\r\nOn the other side you may also want to give insights on how your app is designed, i.e. using menu classes, database connectors, etc... This is also fine. It&#39;s up to you to decide what is the purpose of your class diagram and what you want to show with it. The only thing that you should avoid is to have one huge diagram with everything, because it&#39;ll be too complex to explain anything. Better go with several class diagrams focusing on different aspects of your design. \r\n\r\nOne thing that may help if you want to combine in the same diagram classes with very different purpose, i.e UI classes, domain classes and business logic, is the [Entity-Boundary-Control][1] stereotypes, to help to understand what class fulfills which technical purpose. \r\n\r\n\r\n**Edit: Analysis diagrams**\r\n\r\nYour title and your comments refer specifically to analysis diagrams.  Analysis diagrams are not defined by the UML standard and depend on methodological choice: \r\n\r\n* Some methods see analysis models as self-standing with only elements of the problem space, whereas design diagrams show the solution space. \r\n* But some other methods see analysis models just a first stage that evolves into a design model. \r\n* The Unified Process defines analysis classes to be Entity Boundary Controls, because they are directly related to Use-Cases, which model requirements. They would not contain details such as menus (which will belong to refinements of the boundary classes). But they would contain more than only entities of the domain model. \r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Entity-control-boundary","title":"Does analysis class diagram contain a menu and interface?","body":"<p>A class diagram with only classes belonging to the domain of application (e.g teachers, students, classes, ..) without any of the app's internals (e.g. UI related classes) is called a &quot;domain model&quot;. Its goal is not to document all possible classes used in your app, but to focus on the domain knowledge, independently of how the app is structured or implemented. Such domain model would stay the same if you create a mobile app, a text based terminal application, or a voice controlled app.</p>\n<p>On the other side you may also want to give insights on how your app is designed, i.e. using menu classes, database connectors, etc... This is also fine. It's up to you to decide what is the purpose of your class diagram and what you want to show with it. The only thing that you should avoid is to have one huge diagram with everything, because it'll be too complex to explain anything. Better go with several class diagrams focusing on different aspects of your design.</p>\n<p>One thing that may help if you want to combine in the same diagram classes with very different purpose, i.e UI classes, domain classes and business logic, is the <a href=\"https://en.m.wikipedia.org/wiki/Entity-control-boundary\" rel=\"nofollow noreferrer\">Entity-Boundary-Control</a> stereotypes, to help to understand what class fulfills which technical purpose.</p>\n<p><strong>Edit: Analysis diagrams</strong></p>\n<p>Your title and your comments refer specifically to analysis diagrams.  Analysis diagrams are not defined by the UML standard and depend on methodological choice:</p>\n<ul>\n<li>Some methods see analysis models as self-standing with only elements of the problem space, whereas design diagrams show the solution space.</li>\n<li>But some other methods see analysis models just a first stage that evolves into a design model.</li>\n<li>The Unified Process defines analysis classes to be Entity Boundary Controls, because they are directly related to Use-Cases, which model requirements. They would not contain details such as menus (which will belong to refinements of the boundary classes). But they would contain more than only entities of the domain model.</li>\n</ul>\n"}],"owner":{"account_id":26700484,"reputation":31,"user_id":20307618,"display_name":"nitrations"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677019814,"creation_date":1676816705,"question_id":75500805,"body_markdown":"I am implementing a class diagram for an application related to teachers and students as an assignment. A student can have many teachers.\r\n\r\nI will implement a menu in coding. Should I add menu and interface as classes?\r\nIf yes, how should I link all these?\r\nWhat can menu and interface contain?\r\nCould I say: menu has settings and teachers page, which has all teachers profiles in it?","title":"Does analysis class diagram contain a menu and interface?","body":"<p>I am implementing a class diagram for an application related to teachers and students as an assignment. A student can have many teachers.</p>\n<p>I will implement a menu in coding. Should I add menu and interface as classes?\nIf yes, how should I link all these?\nWhat can menu and interface contain?\nCould I say: menu has settings and teachers page, which has all teachers profiles in it?</p>\n"},{"tags":["java","loops","for-loop","arraylist","while-loop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1676960305,"post_id":75516861,"comment_id":133236833,"body_markdown":"Can you explain with examples what is happening?","body":"Can you explain with examples what is happening?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1676960957,"post_id":75516861,"comment_id":133236971,"body_markdown":"`while(name.contains(&quot;&quot;));` looks dodgy.  Debug your code and see what the value of `name` is.  Probably better to have `while(name.equals(&quot;&quot;));`?","body":"<code>while(name.contains(&quot;&quot;));</code> looks dodgy.  Debug your code and see what the value of <code>name</code> is.  Probably better to have <code>while(name.equals(&quot;&quot;));</code>?"},{"owner":{"display_name":"user21255055"},"score":0,"creation_date":1676961399,"post_id":75516861,"comment_id":133237049,"body_markdown":"@ScaryWombat it work one time but when I don&#39;t input anything the 2nd time, it automatically proceed to the other scanner. I want it to continuously ask to enter something if it doesn&#39;t have any input.","body":"@ScaryWombat it work one time but when I don&#39;t input anything the 2nd time, it automatically proceed to the other scanner. I want it to continuously ask to enter something if it doesn&#39;t have any input."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1676961598,"post_id":75516861,"comment_id":133237092,"body_markdown":"Sorry I just noticed that you are adding to a ArrayList.  Get the input from `nextLine` into a String and check its value.  If OK then add to the ArrayList","body":"Sorry I just noticed that you are adding to a ArrayList.  Get the input from <code>nextLine</code> into a String and check its value.  If OK then add to the ArrayList"}],"answers":[{"tags":[],"owner":{"account_id":16261347,"reputation":27,"user_id":11742585,"display_name":"Ted Vu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676961337,"creation_date":1676961308,"answer_id":75516999,"question_id":75516861,"body_markdown":"The reason it keeps looping is because you have this condition: `while(name.contains(&quot;&quot;));` this means that after you entered an empty line it will have this value &quot;&quot; in the array as it adds this value regardless if the value is valid or not. This means that you will keep looping in this do-while loop.\r\n\r\nThe easiest way I can think of to fix this is to have a separate boolean value to check if the input is different than empty space, and then only after it passes this validation you will add this to the name array.","title":"How to loop again while there is no input?","body":"<p>The reason it keeps looping is because you have this condition: <code>while(name.contains(&quot;&quot;));</code> this means that after you entered an empty line it will have this value &quot;&quot; in the array as it adds this value regardless if the value is valid or not. This means that you will keep looping in this do-while loop.</p>\n<p>The easiest way I can think of to fix this is to have a separate boolean value to check if the input is different than empty space, and then only after it passes this validation you will add this to the name array.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677016798,"creation_date":1677016798,"answer_id":75526305,"question_id":75516861,"body_markdown":"Below is a runnable demo console application which shows another way you can do this sort of thing by using a single ArrayList (or List Interface). You would utilize a **Player** class and then use a List of Player instead of three parallel ArrayList&#39;s:\r\n\r\n    List&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\nHere is the runnable code. Each prompt (Player Name, Team Name, and Player position) contains validation (via length) and if any prompt entry is found to to be invalid then the User can re-enter again.  *Be sure to read all the comments in code*:\r\n\r\n```\r\npublic class BasketBallPlayersDemo {\r\n\r\n    // Open a keyboard input Stream (can be used in any class):\r\n    public final static java.util.Scanner USER_INPUT = new java.util.Scanner(System.in);\r\n\r\n    // OS System related terminal newLine character(s) (can be used in any class):\r\n    public final static String LS = System.lineSeparator();\r\n\r\n    // List Interface of Player. Holds instances of Player (can be used in any class):\r\n    public static java.util.List&lt;Player&gt; players = new java.util.ArrayList&lt;&gt;();\r\n\r\n    // Application entry point...\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for\r\n           statics except for what we want.       */\r\n        new BasketBallPlayersDemo().startApp(args);\r\n    }\r\n\r\n    // Application start method:\r\n    private void startApp(String[] args) {\r\n        // Boolean flag used to end Player entry.\r\n        boolean done = false;\r\n        // Counter used to keep track of the current player number.\r\n        int playerCount = 0;\r\n\r\n        /* Loop so that continuous players can be entered. If &#39;d&#39; \r\n           is entered instead of a player name then player entry\r\n           is halted and a players list is displayed but only if\r\n           instances of Player have been added to the List.    */\r\n        while (!done) {\r\n            playerCount++;  // Increment player count.\r\n\r\n            // The Player Name Prompt:\r\n            String name = &quot;&quot;;\r\n            while (name.isEmpty()) {\r\n                // Prompt Display:\r\n                System.out.print(&quot;Please Enter Player Name #&quot; + playerCount + &quot; (&#39;d&#39; for Done): -&gt; &quot;);\r\n                // User Input. Trim off any possible leading/trailing whitespaces:\r\n                name = USER_INPUT.nextLine().trim();\r\n                // Is &#39;d&#39; for done supplied?\r\n                if (name.equalsIgnoreCase(&quot;d&quot;)) {\r\n                    //Yes...set flag to true and exit prompt loop:\r\n                    done = true;\r\n                    break;\r\n                }\r\n                /* Validation. If the length of Player Name is less than 3 then\r\n                   inform of invalid entry and allow User to try again:  */\r\n                if (name.length() &lt; 3) {\r\n                    System.out.println(&quot;Invalid Entry! You must enter a proper name! &quot;\r\n                            + &quot;Try again...&quot; + LS);\r\n                    name = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\r\n                }\r\n            }\r\n            /* If &#39;d&#39; for `done` was not supplied in the above prompt\r\n               then carry on into `if` code block otherwise exit player\r\n               entry loop:            */\r\n            if (!done) {\r\n                // Capitalize the first character of supplied name(s):\r\n                name = capitalizeAll(name);\r\n\r\n                //Prompt for Team Name:\r\n                String team = &quot;&quot;;\r\n                while (team.isEmpty()) {\r\n                    // Prompt Display:\r\n                    System.out.print(&quot;Please Enter Player Team Name: -&gt; &quot;);\r\n                    // User Input. Trim off any possible leading/trailing whitespaces:\r\n                    team = USER_INPUT.nextLine().trim();\r\n                    /* Validation. If the length of Team Name is less than 3 then\r\n                       inform of invalid entry and allow User to try again:  */\r\n                    if (team.length() &lt; 3) {\r\n                        System.out.println(&quot;Invalid Entry! You must enter a proper Team Name! &quot;\r\n                                + &quot;Try again...&quot; + LS);\r\n                        team = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\r\n                    }\r\n                }\r\n                // Capitalize the first character of supplied Team Name(s):\r\n                team = capitalizeAll(team);\r\n\r\n                //Prompt for Player Position:\r\n                String position = &quot;&quot;;\r\n                while (position.isEmpty()) {\r\n                    // Prompt Display:\r\n                    System.out.print(&quot;Please Enter Player Position: -&gt; &quot;);\r\n                    // User Input. Trim off any possible leading/trailing whitespaces:\r\n                    position = USER_INPUT.nextLine().trim();\r\n                    /* Validation. If the length of Player Position is less than\r\n                       3 then inform of invalid entry and allow User to try again:  */\r\n                    if (position.length() &lt; 3) {\r\n                        System.out.println(&quot;Invalid Entry! You must enter a position! &quot;\r\n                                + &quot;Try again...&quot; + LS);\r\n                        position = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\r\n                    }\r\n                }\r\n                /* Capitalize the first character of each word for supplied \r\n                   Player Position:  */\r\n                position = capitalizeAll(position);\r\n                System.out.println();  // Blank Line in Console Window.\r\n\r\n                // Add player instance to List via Player class constructor:\r\n                players.add(new Player(name, team, position));\r\n            }\r\n        }\r\n\r\n        // Display Players in Console Window (if there are any):\r\n        if (!players.isEmpty()) {\r\n            // First, Sort Players by `Team Names` in Ascending order (optional):\r\n            sortByTeams();\r\n\r\n            System.out.println();               // Blank Line in Console Window.\r\n            System.out.println(&quot;Players:&quot;);     // Display Title.\r\n            /* Used to indicate first Player instance so to \r\n               apply a Header to the display.          */\r\n            int idx = 0;\r\n            // Iterate through the List of Player Instances:\r\n            for (Player p : players) {\r\n                // Is this the first instance?\r\n                if (idx == 0) {\r\n                    /* Yes...Then display the Header and current instance of \r\n                       Player. Note how true is supplied to the toTableString()\r\n                       method so to display Header.      */\r\n                    System.out.println(p.toTableString(true));\r\n                }\r\n                else {\r\n                    // Otherwise...just display the current instance of Player.\r\n                    System.out.println(p.toTableString());\r\n                }\r\n                idx++;  // Incremant counter.\r\n            }\r\n\r\n            // Example how you could display All Players from a specific Team:\r\n            System.out.println();\r\n            String team = &quot;&quot;;\r\n            while (team.isEmpty()) {\r\n                // Prompt Display:\r\n                System.out.print(&quot;Please enter the Team Name to list Players of: -&gt; &quot;);\r\n                // User Input. Trim off any possible leading/trailing whitespaces:\r\n                team = USER_INPUT.nextLine().trim();\r\n                /* Validation. If the Team is not in the List then inform of \r\n                   invalid entry and allow User to try again:  */\r\n                boolean found = false;\r\n                for (Player p : players) {\r\n                    if (p.getPlayerTeam().equalsIgnoreCase(team)) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!found) {\r\n                    System.out.println(&quot;Invalid Entry! Team (&quot; + team + &quot;) Not Found! &quot;\r\n                            + &quot;Try again...&quot; + LS);\r\n                    team = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\r\n                }\r\n                else {\r\n                    idx = 0;\r\n                    for (Player p : players) {\r\n                        if (p.getPlayerTeam().equalsIgnoreCase(team)) {\r\n                            if (idx == 0) {\r\n                                System.out.println(p.toTableString(true));\r\n                            }\r\n                            else {\r\n                                System.out.println(p.toTableString());\r\n                            }\r\n                            idx++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Misc. Methods:\r\n    // Captialize all words in String (Java8+ | Uses Stream):\r\n    private String capitalizeAll(String inputString) {\r\n        if (inputString == null || inputString.isEmpty()) {\r\n            return inputString;\r\n        }\r\n        return java.util.Arrays.stream(inputString.split(&quot;\\\\s+&quot;))\r\n                .map(t -&gt; t.substring(0, 1).toUpperCase() + t.substring(1).toLowerCase())\r\n                .collect(java.util.stream.Collectors.joining(&quot; &quot;));\r\n    }\r\n\r\n    // Player Sort Methods. Use whichever you desire or none at all.\r\n    // Method to Sort players by `Player Names` (in Ascending order):\r\n    private void sortByNames() {\r\n        java.util.Collections.sort(players, (Player u1, Player u2)\r\n                -&gt; u1.getPlayerName().compareTo(u2.getPlayerName()));\r\n    }\r\n\r\n    // Method to Sort players by `Player Teams` (in Ascending order):\r\n    private void sortByTeams() {\r\n        java.util.Collections.sort(players, (Player u1, Player u2)\r\n                -&gt; u1.getPlayerTeam().compareTo(u2.getPlayerTeam()));\r\n    }\r\n\r\n    // Method to Sort players by `Player Positions` (in Ascending order):\r\n    private void sortByPositions() {\r\n        java.util.Collections.sort(players, (Player u1, Player u2)\r\n                -&gt; u1.getPlayerPosition().compareTo(u2.getPlayerPosition()));\r\n    }\r\n\r\n    /**\r\n     * The Player Class:\r\n     *\r\n     * Better to be a class (.java) file of its own rather than an inner class.\r\n     * Only used here as inner class for demo purpose.\r\n     */\r\n    public class Player {\r\n\r\n        private String playerName;\r\n        private String playerTeam;\r\n        private String playerPosition;\r\n\r\n        // Constructor:\r\n        public Player(String name, String team, String pos) {\r\n            this.playerName = name;\r\n            this.playerTeam = team;\r\n            this.playerPosition = pos;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return playerName + &quot;, &quot; + playerTeam + &quot;, &quot; + playerPosition;\r\n        }\r\n\r\n        /**\r\n         * Returns a table style String.\r\n         *\r\n         * @param applyHeader (boolean - optional) Default is false and when\r\n         *                    called, no header is supplied before the instance\r\n         *                    data. If boolean true is supplied then header text\r\n         *                    is applied along with the instance data.\r\n         *\r\n         * @return (String) Current class member instance data with or without a\r\n         *         Header string.\r\n         */\r\n        public String toTableString(boolean... applyHeader) {\r\n            boolean addHeader = false;\r\n            if (applyHeader.length &gt; 0) {\r\n                addHeader = applyHeader[0];\r\n            }\r\n            String header = String.format(&quot;%-12s %-14s %-12s%n&quot;, &quot;Name&quot;, &quot;Team&quot;, &quot;Position&quot;);\r\n            String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;))\r\n                    + BasketBallPlayersDemo.LS;\r\n\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            if (addHeader) {\r\n                sb.append(underline);\r\n                sb.append(header);\r\n                sb.append(underline);\r\n            }\r\n            sb.append(String.format(&quot;%-12s %-14s %-12s&quot;, playerName, playerTeam, playerPosition));\r\n\r\n            return sb.toString();\r\n        }\r\n\r\n        // Class Getter and Setter methods:\r\n        public String getPlayerName() {\r\n            return playerName;\r\n        }\r\n\r\n        public void setPlayerName(String playerName) {\r\n            this.playerName = playerName;\r\n        }\r\n\r\n        public String getPlayerTeam() {\r\n            return playerTeam;\r\n        }\r\n\r\n        public void setPlayerTeam(String playerTeam) {\r\n            this.playerTeam = playerTeam;\r\n        }\r\n\r\n        public String getPlayerPosition() {\r\n            return playerPosition;\r\n        }\r\n\r\n        public void setPlayerPosition(String playerPosition) {\r\n            this.playerPosition = playerPosition;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to loop again while there is no input?","body":"<p>Below is a runnable demo console application which shows another way you can do this sort of thing by using a single ArrayList (or List Interface). You would utilize a <strong>Player</strong> class and then use a List of Player instead of three parallel ArrayList's:</p>\n<pre><code>List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Here is the runnable code. Each prompt (Player Name, Team Name, and Player position) contains validation (via length) and if any prompt entry is found to to be invalid then the User can re-enter again.  <em>Be sure to read all the comments in code</em>:</p>\n<pre><code>public class BasketBallPlayersDemo {\n\n    // Open a keyboard input Stream (can be used in any class):\n    public final static java.util.Scanner USER_INPUT = new java.util.Scanner(System.in);\n\n    // OS System related terminal newLine character(s) (can be used in any class):\n    public final static String LS = System.lineSeparator();\n\n    // List Interface of Player. Holds instances of Player (can be used in any class):\n    public static java.util.List&lt;Player&gt; players = new java.util.ArrayList&lt;&gt;();\n\n    // Application entry point...\n    public static void main(String[] args) {\n        /* App started this way to avoid the need for\n           statics except for what we want.       */\n        new BasketBallPlayersDemo().startApp(args);\n    }\n\n    // Application start method:\n    private void startApp(String[] args) {\n        // Boolean flag used to end Player entry.\n        boolean done = false;\n        // Counter used to keep track of the current player number.\n        int playerCount = 0;\n\n        /* Loop so that continuous players can be entered. If 'd' \n           is entered instead of a player name then player entry\n           is halted and a players list is displayed but only if\n           instances of Player have been added to the List.    */\n        while (!done) {\n            playerCount++;  // Increment player count.\n\n            // The Player Name Prompt:\n            String name = &quot;&quot;;\n            while (name.isEmpty()) {\n                // Prompt Display:\n                System.out.print(&quot;Please Enter Player Name #&quot; + playerCount + &quot; ('d' for Done): -&gt; &quot;);\n                // User Input. Trim off any possible leading/trailing whitespaces:\n                name = USER_INPUT.nextLine().trim();\n                // Is 'd' for done supplied?\n                if (name.equalsIgnoreCase(&quot;d&quot;)) {\n                    //Yes...set flag to true and exit prompt loop:\n                    done = true;\n                    break;\n                }\n                /* Validation. If the length of Player Name is less than 3 then\n                   inform of invalid entry and allow User to try again:  */\n                if (name.length() &lt; 3) {\n                    System.out.println(&quot;Invalid Entry! You must enter a proper name! &quot;\n                            + &quot;Try again...&quot; + LS);\n                    name = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\n                }\n            }\n            /* If 'd' for `done` was not supplied in the above prompt\n               then carry on into `if` code block otherwise exit player\n               entry loop:            */\n            if (!done) {\n                // Capitalize the first character of supplied name(s):\n                name = capitalizeAll(name);\n\n                //Prompt for Team Name:\n                String team = &quot;&quot;;\n                while (team.isEmpty()) {\n                    // Prompt Display:\n                    System.out.print(&quot;Please Enter Player Team Name: -&gt; &quot;);\n                    // User Input. Trim off any possible leading/trailing whitespaces:\n                    team = USER_INPUT.nextLine().trim();\n                    /* Validation. If the length of Team Name is less than 3 then\n                       inform of invalid entry and allow User to try again:  */\n                    if (team.length() &lt; 3) {\n                        System.out.println(&quot;Invalid Entry! You must enter a proper Team Name! &quot;\n                                + &quot;Try again...&quot; + LS);\n                        team = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\n                    }\n                }\n                // Capitalize the first character of supplied Team Name(s):\n                team = capitalizeAll(team);\n\n                //Prompt for Player Position:\n                String position = &quot;&quot;;\n                while (position.isEmpty()) {\n                    // Prompt Display:\n                    System.out.print(&quot;Please Enter Player Position: -&gt; &quot;);\n                    // User Input. Trim off any possible leading/trailing whitespaces:\n                    position = USER_INPUT.nextLine().trim();\n                    /* Validation. If the length of Player Position is less than\n                       3 then inform of invalid entry and allow User to try again:  */\n                    if (position.length() &lt; 3) {\n                        System.out.println(&quot;Invalid Entry! You must enter a position! &quot;\n                                + &quot;Try again...&quot; + LS);\n                        position = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\n                    }\n                }\n                /* Capitalize the first character of each word for supplied \n                   Player Position:  */\n                position = capitalizeAll(position);\n                System.out.println();  // Blank Line in Console Window.\n\n                // Add player instance to List via Player class constructor:\n                players.add(new Player(name, team, position));\n            }\n        }\n\n        // Display Players in Console Window (if there are any):\n        if (!players.isEmpty()) {\n            // First, Sort Players by `Team Names` in Ascending order (optional):\n            sortByTeams();\n\n            System.out.println();               // Blank Line in Console Window.\n            System.out.println(&quot;Players:&quot;);     // Display Title.\n            /* Used to indicate first Player instance so to \n               apply a Header to the display.          */\n            int idx = 0;\n            // Iterate through the List of Player Instances:\n            for (Player p : players) {\n                // Is this the first instance?\n                if (idx == 0) {\n                    /* Yes...Then display the Header and current instance of \n                       Player. Note how true is supplied to the toTableString()\n                       method so to display Header.      */\n                    System.out.println(p.toTableString(true));\n                }\n                else {\n                    // Otherwise...just display the current instance of Player.\n                    System.out.println(p.toTableString());\n                }\n                idx++;  // Incremant counter.\n            }\n\n            // Example how you could display All Players from a specific Team:\n            System.out.println();\n            String team = &quot;&quot;;\n            while (team.isEmpty()) {\n                // Prompt Display:\n                System.out.print(&quot;Please enter the Team Name to list Players of: -&gt; &quot;);\n                // User Input. Trim off any possible leading/trailing whitespaces:\n                team = USER_INPUT.nextLine().trim();\n                /* Validation. If the Team is not in the List then inform of \n                   invalid entry and allow User to try again:  */\n                boolean found = false;\n                for (Player p : players) {\n                    if (p.getPlayerTeam().equalsIgnoreCase(team)) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) {\n                    System.out.println(&quot;Invalid Entry! Team (&quot; + team + &quot;) Not Found! &quot;\n                            + &quot;Try again...&quot; + LS);\n                    team = &quot;&quot;;  // Empty variable to ensure prompt re-loop.\n                }\n                else {\n                    idx = 0;\n                    for (Player p : players) {\n                        if (p.getPlayerTeam().equalsIgnoreCase(team)) {\n                            if (idx == 0) {\n                                System.out.println(p.toTableString(true));\n                            }\n                            else {\n                                System.out.println(p.toTableString());\n                            }\n                            idx++;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // Misc. Methods:\n    // Captialize all words in String (Java8+ | Uses Stream):\n    private String capitalizeAll(String inputString) {\n        if (inputString == null || inputString.isEmpty()) {\n            return inputString;\n        }\n        return java.util.Arrays.stream(inputString.split(&quot;\\\\s+&quot;))\n                .map(t -&gt; t.substring(0, 1).toUpperCase() + t.substring(1).toLowerCase())\n                .collect(java.util.stream.Collectors.joining(&quot; &quot;));\n    }\n\n    // Player Sort Methods. Use whichever you desire or none at all.\n    // Method to Sort players by `Player Names` (in Ascending order):\n    private void sortByNames() {\n        java.util.Collections.sort(players, (Player u1, Player u2)\n                -&gt; u1.getPlayerName().compareTo(u2.getPlayerName()));\n    }\n\n    // Method to Sort players by `Player Teams` (in Ascending order):\n    private void sortByTeams() {\n        java.util.Collections.sort(players, (Player u1, Player u2)\n                -&gt; u1.getPlayerTeam().compareTo(u2.getPlayerTeam()));\n    }\n\n    // Method to Sort players by `Player Positions` (in Ascending order):\n    private void sortByPositions() {\n        java.util.Collections.sort(players, (Player u1, Player u2)\n                -&gt; u1.getPlayerPosition().compareTo(u2.getPlayerPosition()));\n    }\n\n    /**\n     * The Player Class:\n     *\n     * Better to be a class (.java) file of its own rather than an inner class.\n     * Only used here as inner class for demo purpose.\n     */\n    public class Player {\n\n        private String playerName;\n        private String playerTeam;\n        private String playerPosition;\n\n        // Constructor:\n        public Player(String name, String team, String pos) {\n            this.playerName = name;\n            this.playerTeam = team;\n            this.playerPosition = pos;\n        }\n\n        @Override\n        public String toString() {\n            return playerName + &quot;, &quot; + playerTeam + &quot;, &quot; + playerPosition;\n        }\n\n        /**\n         * Returns a table style String.\n         *\n         * @param applyHeader (boolean - optional) Default is false and when\n         *                    called, no header is supplied before the instance\n         *                    data. If boolean true is supplied then header text\n         *                    is applied along with the instance data.\n         *\n         * @return (String) Current class member instance data with or without a\n         *         Header string.\n         */\n        public String toTableString(boolean... applyHeader) {\n            boolean addHeader = false;\n            if (applyHeader.length &gt; 0) {\n                addHeader = applyHeader[0];\n            }\n            String header = String.format(&quot;%-12s %-14s %-12s%n&quot;, &quot;Name&quot;, &quot;Team&quot;, &quot;Position&quot;);\n            String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;))\n                    + BasketBallPlayersDemo.LS;\n\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\n            if (addHeader) {\n                sb.append(underline);\n                sb.append(header);\n                sb.append(underline);\n            }\n            sb.append(String.format(&quot;%-12s %-14s %-12s&quot;, playerName, playerTeam, playerPosition));\n\n            return sb.toString();\n        }\n\n        // Class Getter and Setter methods:\n        public String getPlayerName() {\n            return playerName;\n        }\n\n        public void setPlayerName(String playerName) {\n            this.playerName = playerName;\n        }\n\n        public String getPlayerTeam() {\n            return playerTeam;\n        }\n\n        public void setPlayerTeam(String playerTeam) {\n            this.playerTeam = playerTeam;\n        }\n\n        public String getPlayerPosition() {\n            return playerPosition;\n        }\n\n        public void setPlayerPosition(String playerPosition) {\n            this.playerPosition = playerPosition;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677019717,"creation_date":1677019717,"answer_id":75526649,"question_id":75516861,"body_markdown":"Write a little helper function that receives a prompt and just loops until the user types something:\r\n\r\n      public static String getResponse(String prompt) {\r\n        String response = &quot;&quot;;\r\n        do {\r\n          System.out.print(prompt);\r\n          response = in.nextLine().trim();\r\n        } while (response.length() == 0);\r\n        return response;\r\n      }\r\n\r\nHere it is in use. Note that I moved the scanner outside of main() and made it static so that it can be used in all methods:\r\n\r\n    class Main { \r\n      \r\n      public static Scanner in = new Scanner(System.in);\r\n      \r\n      public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; team = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; pos = new ArrayList&lt;String&gt;();\r\n    \r\n        for (int s = 0; s &lt; 2; s++) {\r\n            String newName = getResponse(&quot;Enter Player Name: &quot;);\r\n            String newTeam = getResponse(&quot;Enter Basketball Team: &quot;);\r\n            String newPosition = getResponse(&quot;Enter your Position: &quot;);        \r\n            name.add(newName);\r\n            team.add(newTeam);\r\n            pos.add(newPosition);\r\n        }\r\n    \r\n        for (int i = 0; i &lt; name.size(); i++) {\r\n            System.out.println(name.get(i) + &quot;\\t&quot; + team.get(i) + &quot;\\t\\t&quot; + pos.get(i));\r\n        }\r\n      }\r\n    \r\n      public static String getResponse(String prompt) {\r\n        String response = &quot;&quot;;\r\n        do {\r\n          System.out.print(prompt);\r\n          response = in.nextLine().trim();\r\n        } while (response.length() == 0);\r\n        return response;\r\n      }\r\n      \r\n    }\r\n\r\n","title":"How to loop again while there is no input?","body":"<p>Write a little helper function that receives a prompt and just loops until the user types something:</p>\n<pre><code>  public static String getResponse(String prompt) {\n    String response = &quot;&quot;;\n    do {\n      System.out.print(prompt);\n      response = in.nextLine().trim();\n    } while (response.length() == 0);\n    return response;\n  }\n</code></pre>\n<p>Here it is in use. Note that I moved the scanner outside of main() and made it static so that it can be used in all methods:</p>\n<pre><code>class Main { \n  \n  public static Scanner in = new Scanner(System.in);\n  \n  public static void main(String[] args) {\n    ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; team = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; pos = new ArrayList&lt;String&gt;();\n\n    for (int s = 0; s &lt; 2; s++) {\n        String newName = getResponse(&quot;Enter Player Name: &quot;);\n        String newTeam = getResponse(&quot;Enter Basketball Team: &quot;);\n        String newPosition = getResponse(&quot;Enter your Position: &quot;);        \n        name.add(newName);\n        team.add(newTeam);\n        pos.add(newPosition);\n    }\n\n    for (int i = 0; i &lt; name.size(); i++) {\n        System.out.println(name.get(i) + &quot;\\t&quot; + team.get(i) + &quot;\\t\\t&quot; + pos.get(i));\n    }\n  }\n\n  public static String getResponse(String prompt) {\n    String response = &quot;&quot;;\n    do {\n      System.out.print(prompt);\n      response = in.nextLine().trim();\n    } while (response.length() == 0);\n    return response;\n  }\n  \n}\n</code></pre>\n"}],"owner":{"display_name":"user21255055"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677019717,"creation_date":1676960116,"question_id":75516861,"body_markdown":"I was hoping you could help me with my java code. \r\n\r\nHere is the code:\r\n\r\n      public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; team = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; pos = new ArrayList&lt;String&gt;();\r\n\r\n        for (int s = 0; s &lt; 2; s++) {\r\n            System.out.println(&quot;Enter Player Name: &quot;);\r\n            name.add(in.nextLine());\r\n            do {\r\n                System.out.println(&quot;Please Enter a Name\\n&quot;);\r\n                System.out.println(&quot;Enter Player Name: &quot;);\r\n                name.add(in.nextLine());\r\n            }\r\n            while (name.contains(&quot;&quot;));\r\n\r\n            System.out.println(&quot;Enter Basketball Team: &quot;);\r\n            team.add(in.nextLine());\r\n\r\n            System.out.println(&quot;Enter your Position: &quot;);\r\n            pos.add(in.nextLine());\r\n        }\r\n\r\n        for (int i = 0; i &lt; name.size(); i++) {\r\n            System.out.println(name.get(i) + &quot;\\t&quot; + team.get(i) + &quot;\\t\\t&quot; + pos.get(i));\r\n        }\r\n    }\r\n\r\n\r\nWhat I&#39;m trying achieve is that, in each scanner you are required to input something. \r\n\r\n","title":"How to loop again while there is no input?","body":"<p>I was hoping you could help me with my java code.</p>\n<p>Here is the code:</p>\n<pre><code>  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n\n    ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; team = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; pos = new ArrayList&lt;String&gt;();\n\n    for (int s = 0; s &lt; 2; s++) {\n        System.out.println(&quot;Enter Player Name: &quot;);\n        name.add(in.nextLine());\n        do {\n            System.out.println(&quot;Please Enter a Name\\n&quot;);\n            System.out.println(&quot;Enter Player Name: &quot;);\n            name.add(in.nextLine());\n        }\n        while (name.contains(&quot;&quot;));\n\n        System.out.println(&quot;Enter Basketball Team: &quot;);\n        team.add(in.nextLine());\n\n        System.out.println(&quot;Enter your Position: &quot;);\n        pos.add(in.nextLine());\n    }\n\n    for (int i = 0; i &lt; name.size(); i++) {\n        System.out.println(name.get(i) + &quot;\\t&quot; + team.get(i) + &quot;\\t\\t&quot; + pos.get(i));\n    }\n}\n</code></pre>\n<p>What I'm trying achieve is that, in each scanner you are required to input something.</p>\n"},{"tags":["java","checker-framework"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1677018660,"post_id":75526477,"comment_id":133254000,"body_markdown":"I feel like the question you&#39;re asking is really an implementation detail as to why the maintainers chose to keep their bytecode data in at runtime versus only having it at compile time, and we&#39;d only be able to guess.  But I suppose it depends on their goals; given that there are different Java compilers out there (think javac vs Eclipse), maybe the *simplest* way to keep compatibility between the two was to retain the annotation data during runtime.","body":"I feel like the question you&#39;re asking is really an implementation detail as to why the maintainers chose to keep their bytecode data in at runtime versus only having it at compile time, and we&#39;d only be able to guess.  But I suppose it depends on their goals; given that there are different Java compilers out there (think javac vs Eclipse), maybe the <i>simplest</i> way to keep compatibility between the two was to retain the annotation data during runtime."},{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":0,"creation_date":1677018957,"post_id":75526477,"comment_id":133254049,"body_markdown":"you are correct that i&#39;m asking about the implementation detail, but usually those impl details follow a requirement (or maybe oversight?). i&#39;m wondering if there&#39;s a feature I don&#39;t know about or if the problem is that artefacts with checker annotations are meant to be temporary and not deployed in PROD","body":"you are correct that i&#39;m asking about the implementation detail, but usually those impl details follow a requirement (or maybe oversight?). i&#39;m wondering if there&#39;s a feature I don&#39;t know about or if the problem is that artefacts with checker annotations are meant to be temporary and not deployed in PROD"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1677019091,"post_id":75526477,"comment_id":133254081,"body_markdown":"No?  They could be using JNI for all we care and so long as it does what&#39;s advertised on the tin, it really doesn&#39;t matter *how* they do it.","body":"No?  They could be using JNI for all we care and so long as it does what&#39;s advertised on the tin, it really doesn&#39;t matter <i>how</i> they do it."},{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":0,"creation_date":1677023241,"post_id":75526477,"comment_id":133254804,"body_markdown":"@Makoto i&#39;m totally with you in the black-box view and design by contract in general, but in this case the issue is related to jars being in the classpath (or temporary artefacts that shouldn&#39;t be running in production environment) so the implementation details/white box view is necessary to decide what to provision in the runtime environment. in your example, if it were to use JNI, i need to know it to set the proper permissions at the OS level","body":"@Makoto i&#39;m totally with you in the black-box view and design by contract in general, but in this case the issue is related to jars being in the classpath (or temporary artefacts that shouldn&#39;t be running in production environment) so the implementation details/white box view is necessary to decide what to provision in the runtime environment. in your example, if it were to use JNI, i need to know it to set the proper permissions at the OS level"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1677023698,"post_id":75526477,"comment_id":133254892,"body_markdown":"Eh, I dunno.  Someone somewhere decided that this tool was useful and the benefits that they accepted with using it came with the consequences of its use.  I think that someone would need to just approach it as wide-eyed as possible and say that yes, this does instrument and add extra things to our production bytecode with the point and benefit of it being ____, instead of the more dogmatic and myopic &quot;eliminate all suspicious looking things, no matter the cost&quot;","body":"Eh, I dunno.  Someone somewhere decided that this tool was useful and the benefits that they accepted with using it came with the consequences of its use.  I think that someone would need to just approach it as wide-eyed as possible and say that yes, this does instrument and add extra things to our production bytecode with the point and benefit of it being ____, instead of the more dogmatic and myopic &quot;eliminate all suspicious looking things, no matter the cost&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":0,"creation_date":1677020428,"post_id":75526625,"comment_id":133254316,"body_markdown":"thank you very much @mernst. i missed the answer to my question from the FAQ. \nAbout the JVM not crashing, if qual is not in the runtime classpath a process *will* crash with just doing `getClass().getDeclaredFields()[0].getAnnotatedType()`. there are no libraries here doing weird stuff, just pure JDK. that generated the stacktrace in my OP. does this mean that qual jar is meant to be deployed in production environments?","body":"thank you very much @mernst. i missed the answer to my question from the FAQ.  About the JVM not crashing, if qual is not in the runtime classpath a process <i>will</i> crash with just doing <code>getClass().getDeclaredFields()[0].getAnnotatedType()</code>. there are no libraries here doing weird stuff, just pure JDK. that generated the stacktrace in my OP. does this mean that qual jar is meant to be deployed in production environments?"},{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":0,"creation_date":1677021104,"post_id":75526625,"comment_id":133254433,"body_markdown":"actually, to be precise, the NPE was generated by hibernate-validator, but I traced it down to that call to `getAnnotatedType()` and i was able to reproduce the issue bypassing hibernate-validator completely with the code in the previous comment. the code seems harmless, not violating any JDK contracts","body":"actually, to be precise, the NPE was generated by hibernate-validator, but I traced it down to that call to <code>getAnnotatedType()</code> and i was able to reproduce the issue bypassing hibernate-validator completely with the code in the previous comment. the code seems harmless, not violating any JDK contracts"}],"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677019569,"creation_date":1677019512,"answer_id":75526625,"question_id":75526477,"body_markdown":"The [Checker Framework manual](https://checkerframework.org/manual/) contains the following FAQ:  [Why are type annotations declared with `@Retention(RetentionPolicy.RUNTIME)`?](https://checkerframework.org/manual/#faq-runtime-retention)\r\n\r\nIf you are using a tool that NPEs as a result of a missing annotation, that is a buggy tool.  Such a situation is not uncomon; for example, the JVM won&#39;t crash if it cannot find an annotation that is mentioned in a class file that it is running.","title":"Why are annotations added by checker framework needed at runtime?","body":"<p>The <a href=\"https://checkerframework.org/manual/\" rel=\"nofollow noreferrer\">Checker Framework manual</a> contains the following FAQ:  <a href=\"https://checkerframework.org/manual/#faq-runtime-retention\" rel=\"nofollow noreferrer\">Why are type annotations declared with <code>@Retention(RetentionPolicy.RUNTIME)</code>?</a></p>\n<p>If you are using a tool that NPEs as a result of a missing annotation, that is a buggy tool.  Such a situation is not uncomon; for example, the JVM won't crash if it cannot find an annotation that is mentioned in a class file that it is running.</p>\n"}],"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75526625,"answer_count":1,"score":1,"last_activity_date":1677019569,"creation_date":1677018290,"question_id":75526477,"body_markdown":"I&#39;m using Checker Framework via the maven-compiler-plugin. The resulting bytecode has annotations in fields such as `org.checkerframework.checker.nullness.qual.NonNull` or `org.checkerframework.checker.nullness.qual.UnknownKeyFor` that were not there in the source code. These qual annotations have `@Retention(RetentionPolicy.RUNTIME)`.  \r\nMy understanding is that checker framework [works at compile time][1]. Why are those annotations added to the bytecode then retained at runtime? is it standard practice to leave the annotations in production artefacts? because this means I will need to add qual to the runtime classpath, which sounds like an unnecessary cost/risk given that this is all about build time checks. Without that qual jar, libraries that introspect field annotations, like hibernate-validator, throw NPEs:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat sun.reflect.annotation.TypeAnnotationParser.mapTypeAnnotations(TypeAnnotationParser.java:356)\r\n\tat sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl.&lt;init&gt;(AnnotatedTypeFactory.java:139)\r\n\tat sun.reflect.annotation.AnnotatedTypeFactory.buildAnnotatedType(AnnotatedTypeFactory.java:65)\r\n\tat sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\r\n\tat java.lang.reflect.Field.getAnnotatedType(Field.java:1177)\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68274013/1086540","title":"Why are annotations added by checker framework needed at runtime?","body":"<p>I'm using Checker Framework via the maven-compiler-plugin. The resulting bytecode has annotations in fields such as <code>org.checkerframework.checker.nullness.qual.NonNull</code> or <code>org.checkerframework.checker.nullness.qual.UnknownKeyFor</code> that were not there in the source code. These qual annotations have <code>@Retention(RetentionPolicy.RUNTIME)</code>.<br />\nMy understanding is that checker framework <a href=\"https://stackoverflow.com/a/68274013/1086540\">works at compile time</a>. Why are those annotations added to the bytecode then retained at runtime? is it standard practice to leave the annotations in production artefacts? because this means I will need to add qual to the runtime classpath, which sounds like an unnecessary cost/risk given that this is all about build time checks. Without that qual jar, libraries that introspect field annotations, like hibernate-validator, throw NPEs:</p>\n<pre><code>Caused by: java.lang.NullPointerException\n    at sun.reflect.annotation.TypeAnnotationParser.mapTypeAnnotations(TypeAnnotationParser.java:356)\n    at sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl.&lt;init&gt;(AnnotatedTypeFactory.java:139)\n    at sun.reflect.annotation.AnnotatedTypeFactory.buildAnnotatedType(AnnotatedTypeFactory.java:65)\n    at sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\n    at java.lang.reflect.Field.getAnnotatedType(Field.java:1177)\n</code></pre>\n"},{"tags":["java","trigonometry","dmx512"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1676491953,"post_id":75464665,"comment_id":133149923,"body_markdown":"just calculate sine/cosine, add offset to value is always between 0-2, then scale by 32767","body":"just calculate sine/cosine, add offset to value is always between 0-2, then scale by 32767"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1676492717,"post_id":75464665,"comment_id":133150111,"body_markdown":"Thanks, but I&#39;m not sure I can follow you. I mean, I can use that for getting the coarse value but when calculating the fine-value it is like the resolution is wrong, it jumps way too much (at very low run speed so I can see what is going on), i need to have the fine to go from 1 to 2, 2 to 3 and so on. Regards","body":"Thanks, but I&#39;m not sure I can follow you. I mean, I can use that for getting the coarse value but when calculating the fine-value it is like the resolution is wrong, it jumps way too much (at very low run speed so I can see what is going on), i need to have the fine to go from 1 to 2, 2 to 3 and so on. Regards"}],"answers":[{"comments":[{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1677081524,"post_id":75526526,"comment_id":133267943,"body_markdown":"Hi cyberbrain. Thank you very much for your reply. I guess it all makes sense, thank you very much for your detailed answer. But, it is not working as expected. It won&#39;t make a slow and smotth movement. Its working fine with medium/fast movements but when slow movements the fine-channel is not doing its job. When the fine-values are printed in the console I can see that the fine-values jumps a lot - I thought it should always go from 1-&gt;255 or 255-&gt;1 as this will make very slow smooth movements possible (and only do coarse +1 when fine have done 0-&gt;255 or 255-&gt;0?","body":"Hi cyberbrain. Thank you very much for your reply. I guess it all makes sense, thank you very much for your detailed answer. But, it is not working as expected. It won&#39;t make a slow and smotth movement. Its working fine with medium/fast movements but when slow movements the fine-channel is not doing its job. When the fine-values are printed in the console I can see that the fine-values jumps a lot - I thought it should always go from 1-&gt;255 or 255-&gt;1 as this will make very slow smooth movements possible (and only do coarse +1 when fine have done 0-&gt;255 or 255-&gt;0?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677083079,"post_id":75526526,"comment_id":133268460,"body_markdown":"I used a spreadsheet to calculate some individual values, when starting with x=0, I got a change of the coarse value by ~2 for each angle in degrees like 127, 129, 132, 134, 136, 138, 141, 143, 145, 147. When you think that for x = 0 to 360 the coarse value will have to go from 0 to 65535 (not with that start and end) in only 360 steps - so it just cannot be smooth with that resolution. You would have to increment only about 1/182 degrees per step to get a smoother experience, but remember that for the &quot;flat&quot; parts of the curve you will have the same output values for different inputs.","body":"I used a spreadsheet to calculate some individual values, when starting with x=0, I got a change of the coarse value by ~2 for each angle in degrees like 127, 129, 132, 134, 136, 138, 141, 143, 145, 147. When you think that for x = 0 to 360 the coarse value will have to go from 0 to 65535 (not with that start and end) in only 360 steps - so it just cannot be smooth with that resolution. You would have to increment only about 1/182 degrees per step to get a smoother experience, but remember that for the &quot;flat&quot; parts of the curve you will have the same output values for different inputs."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1677083467,"post_id":75526526,"comment_id":133268596,"body_markdown":"Hi cyberbrain, thanks :) I have an updated version of my own code with your inputs, seems to do smooth movements at low speeds, can I show it to you in any way? Kind Regards","body":"Hi cyberbrain, thanks :) I have an updated version of my own code with your inputs, seems to do smooth movements at low speeds, can I show it to you in any way? Kind Regards"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677083987,"post_id":75526526,"comment_id":133268796,"body_markdown":"Do you have any specific question with it or just need an overall code review?","body":"Do you have any specific question with it or just need an overall code review?"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1677084673,"post_id":75526526,"comment_id":133269026,"body_markdown":"My question is whether it is a complete stupid way to do it :) Can I make a new post somewhere else with the updated code?","body":"My question is whether it is a complete stupid way to do it :) Can I make a new post somewhere else with the updated code?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677089868,"post_id":75526526,"comment_id":133270582,"body_markdown":"OK, you want to get a code review - you could make a post on [codereview.se] and paste the link to that here, so over there you also get other opinions than mine (but I also will have a look at it)","body":"OK, you want to get a code review - you could make a post on <a href=\"https://codereview.stackexchange.com\">Code Review</a> and paste the link to that here, so over there you also get other opinions than mine (but I also will have a look at it)"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1677091459,"post_id":75526526,"comment_id":133270982,"body_markdown":"Hi cyberbrain. Code review is here: https://codereview.stackexchange.com/questions/283500/java-code-for-generating-16bit-dmx-values-using-sine-and-cosine thanks.","body":"Hi cyberbrain. Code review is here: <a href=\"https://codereview.stackexchange.com/questions/283500/java-code-for-generating-16bit-dmx-values-using-sine-and-cosine\" title=\"java code for generating 16bit dmx values using sine and cosine\">codereview.stackexchange.com/questions/283500/&hellip;</a> thanks."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677019072,"creation_date":1677018737,"answer_id":75526526,"question_id":75464665,"body_markdown":"You should calculate the sine-wave just for the values 0 - 65535 and then use the splitting method you used for the triangle waveform to part it to the two channels like this:\r\n\r\n``` lang-java\r\npublic void runSineMovement() {\r\n\r\n    x = (x + 1) % 360; // this increments x and &quot;wraps around&quot; between 0-359\r\n\r\n    double radians = Math.toRadians(x);\r\n    double sine = Math.sin(radians);\r\n\r\n    int dmxValue = (int) (sine * 32767.0 + 32767.0);\r\n\r\n    int fineDmxValue = dmxValue &amp; 255; // &quot;lowByte&quot;\r\n    int coarseDmxValue = (dmxValue &gt;&gt; 8) &amp; 255; // &quot;hiByte&quot;\r\n\r\n    // TODO: set your DMX values here and send them\r\n}\r\n```\r\n\r\nIn this code I used several improvements: \r\n\r\n1. I replaced your increment + `if` for the x value with an increment and a modulus calculation.\r\n\r\n2. I used improved typing: \r\n    * `double` constants wherever possible (`32767.0` instead of `32767`) so the program doesn&#39;t cast the `int` to a `double` in each run.\r\n    * have `int dmxValue` instead of casting to `int` multiple times. \r\n\r\n2. Instead of division and modulus for your coarse and fine values I used the faster *bit shift right* (`&gt;&gt;`) and *binary and* (`&amp;`) operators. \r\n\r\nThe fine value consists of the 8 least significant bits of your number, so you can simply &quot;mask out&quot; all the others with a binary and operation.\r\n\r\nThe coarse value consist of the &quot;other&quot; 8 bits (most significant bits of a 16-bit value, that you are effectively using), so you can bring them 8 bits ot the right (equals a division by 2 to the power of 8), and then - just to make sure, again mask out all other bits.\r\n\r\nDon&#39;t mix up the logical *AND* (`&amp;&amp;`) with the binary *AND* `&amp;` used here, the former one can only be used with `boolean` values.\r\n\r\nWhy will this work: the fine value will not oscillate between 0 and 255 (in a sine form!) for each change of the coarse value, because the code calculates just one sine wave and &quot;splits&quot; the values into fine and coarse. So if you have e.g. a value of 255 for `dmxValue`, this will give you `fineDmxValue` as 255 and `coarseDmxValue` as 0. But for a value of 256 for `dmxValue`, the `fineDmxValue` will be 0 while the `coarseDmxValue` will be 1. \r\n\r\nThe calculation of fine and coarse is independent of the way you generate your waveform in `dmxValue`.","title":"DMX-values using sine and cosine. From 8bit (1 channel) to 16bit (two channels)","body":"<p>You should calculate the sine-wave just for the values 0 - 65535 and then use the splitting method you used for the triangle waveform to part it to the two channels like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void runSineMovement() {\n\n    x = (x + 1) % 360; // this increments x and &quot;wraps around&quot; between 0-359\n\n    double radians = Math.toRadians(x);\n    double sine = Math.sin(radians);\n\n    int dmxValue = (int) (sine * 32767.0 + 32767.0);\n\n    int fineDmxValue = dmxValue &amp; 255; // &quot;lowByte&quot;\n    int coarseDmxValue = (dmxValue &gt;&gt; 8) &amp; 255; // &quot;hiByte&quot;\n\n    // TODO: set your DMX values here and send them\n}\n</code></pre>\n<p>In this code I used several improvements:</p>\n<ol>\n<li><p>I replaced your increment + <code>if</code> for the x value with an increment and a modulus calculation.</p>\n</li>\n<li><p>I used improved typing:</p>\n<ul>\n<li><code>double</code> constants wherever possible (<code>32767.0</code> instead of <code>32767</code>) so the program doesn't cast the <code>int</code> to a <code>double</code> in each run.</li>\n<li>have <code>int dmxValue</code> instead of casting to <code>int</code> multiple times.</li>\n</ul>\n</li>\n<li><p>Instead of division and modulus for your coarse and fine values I used the faster <em>bit shift right</em> (<code>&gt;&gt;</code>) and <em>binary and</em> (<code>&amp;</code>) operators.</p>\n</li>\n</ol>\n<p>The fine value consists of the 8 least significant bits of your number, so you can simply &quot;mask out&quot; all the others with a binary and operation.</p>\n<p>The coarse value consist of the &quot;other&quot; 8 bits (most significant bits of a 16-bit value, that you are effectively using), so you can bring them 8 bits ot the right (equals a division by 2 to the power of 8), and then - just to make sure, again mask out all other bits.</p>\n<p>Don't mix up the logical <em>AND</em> (<code>&amp;&amp;</code>) with the binary <em>AND</em> <code>&amp;</code> used here, the former one can only be used with <code>boolean</code> values.</p>\n<p>Why will this work: the fine value will not oscillate between 0 and 255 (in a sine form!) for each change of the coarse value, because the code calculates just one sine wave and &quot;splits&quot; the values into fine and coarse. So if you have e.g. a value of 255 for <code>dmxValue</code>, this will give you <code>fineDmxValue</code> as 255 and <code>coarseDmxValue</code> as 0. But for a value of 256 for <code>dmxValue</code>, the <code>fineDmxValue</code> will be 0 while the <code>coarseDmxValue</code> will be 1.</p>\n<p>The calculation of fine and coarse is independent of the way you generate your waveform in <code>dmxValue</code>.</p>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677019072,"creation_date":1676489738,"question_id":75464665,"body_markdown":"I’m (still) working on a small project controlling DMX-lights (using Art-Net).\r\nAt the moment I’m working on the “Movement-generator” and what I basically do is to use sine and cosine to calculate the DMX values (0-255) for the pan- and tilt-channel, like with this method:\r\n\r\n    public void runSineMovement() {\r\n\r\n        double degrees = x;\r\n        double radians = Math.toRadians(degrees);\r\n        double sine = Math.sin(radians);\r\n\r\n        double dmxValue = (int) ((sine * 127) + 127);\r\n\r\n        dmxValuesOBJ.setDmxValuesInArray(1, (int) dmxValue);\r\n\r\n        SendArtnet.SendArtnetNow();\r\n\r\n        x = x + 1;\r\n\r\n        if (x &gt; 360) {\r\n\r\n            x = 1;\r\n\r\n        }\r\n\r\n    }\r\n\r\nx = 1\r\n\r\nI then have a ScheduledExecutorService that will call that method on a regular interval, like this:\r\n\r\n    int speed = 100;\r\n    ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n    executorService.scheduleAtFixedRate(SineMovement::runSineMovement, 0, 100000 * speed, TimeUnit.NANOSECONDS);\r\n\r\nAbove is working just fine, moving head (tilt-channel in this example) is moving perfectly. Now I want to use the “fine-channel”, that is,  go from 8bit to 16bit (from 1 channel to 2 channels controlling the tilt-channel) so I can get smooth movement even at very slow speed. Remember, &quot;fine-channel&quot; have to go from 0 to 255 first and then &quot;coarse-channel&quot; can go to 1, then &quot;fine-channel&quot; from 0 to 255 and then &quot;coarse-channel&quot; to 2, and so on.\r\n\r\nEarlier I build a movement-generator with “triangle-effect” where I looped from 0 to 65.536 and back to 0 and so on, and on every run I calculated the “coarse-channel” (counter/256) and the “fine-channel” (counter % 256) and that approach is working just fine. \r\n\r\nAny ideas on how to approach this when using sine and cosine when generating the effect? Can I use the approach from the triangle-generator calculating “coarse” and “fine” using division and modulus?\r\n\r\nEDIT: When thinking about it, I don&#39;t think the &quot;fine&quot; should have the form as a sine-wave, I mean, the &quot;fine&quot; will (if using sine) go very, very, fast, both up _and_ down, and that will mess things up if the &quot;coarse&quot; is still going &quot;up&quot;. I guess the correct is that the &quot;fine&quot; will always have the sawtooth-shape -&gt; sawtooth from zero to max when coarse is going up, and sawtooth from max to zero when coarse is going down. Does that makes sense?\r\n\r\nThanks &#128522;\r\n\r\n\r\n","title":"DMX-values using sine and cosine. From 8bit (1 channel) to 16bit (two channels)","body":"<p>I’m (still) working on a small project controlling DMX-lights (using Art-Net).\nAt the moment I’m working on the “Movement-generator” and what I basically do is to use sine and cosine to calculate the DMX values (0-255) for the pan- and tilt-channel, like with this method:</p>\n<pre><code>public void runSineMovement() {\n\n    double degrees = x;\n    double radians = Math.toRadians(degrees);\n    double sine = Math.sin(radians);\n\n    double dmxValue = (int) ((sine * 127) + 127);\n\n    dmxValuesOBJ.setDmxValuesInArray(1, (int) dmxValue);\n\n    SendArtnet.SendArtnetNow();\n\n    x = x + 1;\n\n    if (x &gt; 360) {\n\n        x = 1;\n\n    }\n\n}\n</code></pre>\n<p>x = 1</p>\n<p>I then have a ScheduledExecutorService that will call that method on a regular interval, like this:</p>\n<pre><code>int speed = 100;\nScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\nexecutorService.scheduleAtFixedRate(SineMovement::runSineMovement, 0, 100000 * speed, TimeUnit.NANOSECONDS);\n</code></pre>\n<p>Above is working just fine, moving head (tilt-channel in this example) is moving perfectly. Now I want to use the “fine-channel”, that is,  go from 8bit to 16bit (from 1 channel to 2 channels controlling the tilt-channel) so I can get smooth movement even at very slow speed. Remember, &quot;fine-channel&quot; have to go from 0 to 255 first and then &quot;coarse-channel&quot; can go to 1, then &quot;fine-channel&quot; from 0 to 255 and then &quot;coarse-channel&quot; to 2, and so on.</p>\n<p>Earlier I build a movement-generator with “triangle-effect” where I looped from 0 to 65.536 and back to 0 and so on, and on every run I calculated the “coarse-channel” (counter/256) and the “fine-channel” (counter % 256) and that approach is working just fine.</p>\n<p>Any ideas on how to approach this when using sine and cosine when generating the effect? Can I use the approach from the triangle-generator calculating “coarse” and “fine” using division and modulus?</p>\n<p>EDIT: When thinking about it, I don't think the &quot;fine&quot; should have the form as a sine-wave, I mean, the &quot;fine&quot; will (if using sine) go very, very, fast, both up <em>and</em> down, and that will mess things up if the &quot;coarse&quot; is still going &quot;up&quot;. I guess the correct is that the &quot;fine&quot; will always have the sawtooth-shape -&gt; sawtooth from zero to max when coarse is going up, and sawtooth from max to zero when coarse is going down. Does that makes sense?</p>\n<p>Thanks 😊</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677018719,"creation_date":1677018719,"answer_id":75526525,"question_id":75476630,"body_markdown":"AWS provides a bom and show how you can include it [here](https://github.com/aws/aws-sdk-java#importing-the-bom) shortly below.\r\n\r\nImporting the BOM\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;1.12.411&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\nUsing the SDK Maven modules\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-ec2&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nOn [aws java sdk documentation](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-project-maven.html) you can find how to create project template too.\r\n```bash\r\nmvn -B archetype:generate \\\r\n -DarchetypeGroupId=software.amazon.awssdk \\\r\n -DarchetypeArtifactId=archetype-lambda -Dservice=s3 -Dregion=US_WEST_2 \\\r\n -DgroupId=com.example.myapp \\\r\n -DartifactId=myapp\r\n```\r\n\r\nHow to get a single file from s3 [more](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#download-object) and [full example](https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/S3ObjectOperations.java)\r\n```java\r\nGetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n    .bucket(bucketName)\r\n    .key(key)\r\n    .build();\r\n\r\ns3.getObject(getObjectRequest);\r\n```\r\nOne important note about file extension \r\n\r\n&gt; An Amazon S3 bucket has no directory hierarchy such as you would find\r\n&gt; in a typical computer file system. You can, however, create a logical\r\n&gt; hierarchy by using object key names that imply a folder structure. For\r\n&gt; example, instead of naming an object sample.jpg, you can name it\r\n&gt; photos/2006/February/sample.jpg.\r\n\r\n&gt; To get an object from such a logical hierarchy, specify the full key\r\n&gt; name for the object in the GET operation. For a virtual hosted-style\r\n&gt; request example, if you have the object\r\n&gt; photos/2006/February/sample.jpg, specify the resource as\r\n&gt; /photos/2006/February/sample.jpg. For a path-style request example, if\r\n&gt; you have the object photos/2006/February/sample.jpg in the bucket\r\n&gt; named examplebucket, specify the resource as\r\n&gt; /examplebucket/photos/2006/February/sample.jpg. For more information\r\n&gt; about request types, see HTTP Host Header Bucket Specification.\r\n\r\nThere is no **folder**/directory in s3 so you will not get any multi file exception.\r\n\r\nAnd AWS suggesting to use file **extension** in the object name, this way you can get the object/file and no need to check extension. [javadoc](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#getObject(software.amazon.awssdk.services.s3.model.GetObjectRequest))\r\n\r\nTo determine the type of object or file, you can verify its content-type. [How to get the content type](https://stackoverflow.com/a/65970335/175554) and with apache tika [find the extension](https://stackoverflow.com/a/5542266/175554). This is more resource consuming and slow way therefore I suggest using the extensions in the object name.","title":"download the single file from s3 location using java","body":"<p>AWS provides a bom and show how you can include it <a href=\"https://github.com/aws/aws-sdk-java#importing-the-bom\" rel=\"nofollow noreferrer\">here</a> shortly below.</p>\n<p>Importing the BOM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n      &lt;version&gt;1.12.411&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Using the SDK Maven modules</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-ec2&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>On <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-project-maven.html\" rel=\"nofollow noreferrer\">aws java sdk documentation</a> you can find how to create project template too.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -B archetype:generate \\\n -DarchetypeGroupId=software.amazon.awssdk \\\n -DarchetypeArtifactId=archetype-lambda -Dservice=s3 -Dregion=US_WEST_2 \\\n -DgroupId=com.example.myapp \\\n -DartifactId=myapp\n</code></pre>\n<p>How to get a single file from s3 <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#download-object\" rel=\"nofollow noreferrer\">more</a> and <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/S3ObjectOperations.java\" rel=\"nofollow noreferrer\">full example</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n    .bucket(bucketName)\n    .key(key)\n    .build();\n\ns3.getObject(getObjectRequest);\n</code></pre>\n<p>One important note about file extension</p>\n<blockquote>\n<p>An Amazon S3 bucket has no directory hierarchy such as you would find\nin a typical computer file system. You can, however, create a logical\nhierarchy by using object key names that imply a folder structure. For\nexample, instead of naming an object sample.jpg, you can name it\nphotos/2006/February/sample.jpg.</p>\n</blockquote>\n<blockquote>\n<p>To get an object from such a logical hierarchy, specify the full key\nname for the object in the GET operation. For a virtual hosted-style\nrequest example, if you have the object\nphotos/2006/February/sample.jpg, specify the resource as\n/photos/2006/February/sample.jpg. For a path-style request example, if\nyou have the object photos/2006/February/sample.jpg in the bucket\nnamed examplebucket, specify the resource as\n/examplebucket/photos/2006/February/sample.jpg. For more information\nabout request types, see HTTP Host Header Bucket Specification.</p>\n</blockquote>\n<p>There is no <strong>folder</strong>/directory in s3 so you will not get any multi file exception.</p>\n<p>And AWS suggesting to use file <strong>extension</strong> in the object name, this way you can get the object/file and no need to check extension. <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#getObject(software.amazon.awssdk.services.s3.model.GetObjectRequest)\" rel=\"nofollow noreferrer\">javadoc</a></p>\n<p>To determine the type of object or file, you can verify its content-type. <a href=\"https://stackoverflow.com/a/65970335/175554\">How to get the content type</a> and with apache tika <a href=\"https://stackoverflow.com/a/5542266/175554\">find the extension</a>. This is more resource consuming and slow way therefore I suggest using the extensions in the object name.</p>\n"}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75526525,"answer_count":1,"score":0,"last_activity_date":1677018719,"creation_date":1676573007,"question_id":75476630,"body_markdown":"I have an amazon s3 bucket which contains one file and I am looking for a way to download that one file using the file extension. currently, I have the code to download multiple files from s3 bucket using key and then filter based on the extension. Something like this:\r\n\r\n    s3.listObjects(operaBucketName, keyName)\r\n              .getObjectSummaries()\r\n              .forEach(s -&gt; keys.add(s.getKey()));\r\n    List&lt;String&gt; filteredKeys =\r\n            keys.stream().filter(s -&gt; s.contains(extension)).collect(Collectors.toList());\r\n    //add to file list\r\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n        for (String key : filteredKeys) {\r\n          File file = new File(FilenameUtils.getFullPath(localDirectory) + FilenameUtils.getName(key));\r\n          downloadFileFromS3(operaBucketName, key, file);\r\n          files.add(file);\r\n        }\r\n\r\nI want to do this but targeting a single file. I tried `s3.getObject(operaBucketName, keyName);`, but the com.amazonaws.services.s3.model.S3Object doesn&#39;t have a way to check the file extension. I think using this https://stackoverflow.com/questions/7679924/how-to-write-an-s3-object-to-a-file I can write S3object contents to file.\r\nAlso, just in case, there are multiple files in the given s3 folder(key), will getObject throw an exception?\r\n\r\nSdk version used:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n          &lt;version&gt;1.11.792&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThanks!\r\n","title":"download the single file from s3 location using java","body":"<p>I have an amazon s3 bucket which contains one file and I am looking for a way to download that one file using the file extension. currently, I have the code to download multiple files from s3 bucket using key and then filter based on the extension. Something like this:</p>\n<pre><code>s3.listObjects(operaBucketName, keyName)\n          .getObjectSummaries()\n          .forEach(s -&gt; keys.add(s.getKey()));\nList&lt;String&gt; filteredKeys =\n        keys.stream().filter(s -&gt; s.contains(extension)).collect(Collectors.toList());\n//add to file list\nList&lt;File&gt; files = new ArrayList&lt;&gt;();\n    for (String key : filteredKeys) {\n      File file = new File(FilenameUtils.getFullPath(localDirectory) + FilenameUtils.getName(key));\n      downloadFileFromS3(operaBucketName, key, file);\n      files.add(file);\n    }\n</code></pre>\n<p>I want to do this but targeting a single file. I tried <code>s3.getObject(operaBucketName, keyName);</code>, but the com.amazonaws.services.s3.model.S3Object doesn't have a way to check the file extension. I think using this <a href=\"https://stackoverflow.com/questions/7679924/how-to-write-an-s3-object-to-a-file\">How to write an S3 object to a file?</a> I can write S3object contents to file.\nAlso, just in case, there are multiple files in the given s3 folder(key), will getObject throw an exception?</p>\n<p>Sdk version used:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n      &lt;version&gt;1.11.792&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","bytebuffer"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1677016166,"post_id":75526168,"comment_id":133253440,"body_markdown":"Do you have more than **2 TB** of RAM?","body":"Do you have more than <b>2 TB</b> of RAM?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1677016296,"post_id":75526168,"comment_id":133253471,"body_markdown":"Does this answer your question? [JAVA NIO Bytebuffer.allocateDirect() size limit over the int](https://stackoverflow.com/questions/24026918/java-nio-bytebuffer-allocatedirect-size-limit-over-the-int)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24026918/java-nio-bytebuffer-allocatedirect-size-limit-over-the-int\">JAVA NIO Bytebuffer.allocateDirect() size limit over the int</a>"}],"answers":[{"tags":[],"owner":{"account_id":7021940,"reputation":2155,"user_id":5380897,"accept_rate":62,"display_name":"Uladzislau Kaminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677016658,"creation_date":1677016658,"answer_id":75526286,"question_id":75526168,"body_markdown":"According to the source code this of `HeapByteBuffer.class` it uses byte array under the hood:\r\n\r\n    HeapByteBuffer(int cap, int lim, MemorySegmentProxy segment) {            \r\n        super(-1, 0, lim, cap, new byte[cap], 0, segment);\r\n        this.address = ARRAY_BASE_OFFSET;\r\n    } \r\n\r\nAs you probably know it is impossible to allocate array with length more then `Integer.MAX_VALUE`\r\n\r\nI can suggest using other data structure like `List&lt;Byte&gt;` or `Set&lt;Byte&gt;` ","title":"Java ByteBuffer: How to allocate a buffer of capacity size type LONG?","body":"<p>According to the source code this of <code>HeapByteBuffer.class</code> it uses byte array under the hood:</p>\n<pre><code>HeapByteBuffer(int cap, int lim, MemorySegmentProxy segment) {            \n    super(-1, 0, lim, cap, new byte[cap], 0, segment);\n    this.address = ARRAY_BASE_OFFSET;\n} \n</code></pre>\n<p>As you probably know it is impossible to allocate array with length more then <code>Integer.MAX_VALUE</code></p>\n<p>I can suggest using other data structure like <code>List&lt;Byte&gt;</code> or <code>Set&lt;Byte&gt;</code></p>\n"}],"owner":{"account_id":16037517,"reputation":549,"user_id":11853015,"display_name":"Peabrain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677016658,"creation_date":1677015601,"question_id":75526168,"body_markdown":"Currently getting integer overflow on `ByteBuffer allocate(int capacity)` in Java, where capacity &gt; max value of integer in Java. How can I allocate a byte buffer of capacity larger than INTEGER.MAX_VALUE?","title":"Java ByteBuffer: How to allocate a buffer of capacity size type LONG?","body":"<p>Currently getting integer overflow on <code>ByteBuffer allocate(int capacity)</code> in Java, where capacity &gt; max value of integer in Java. How can I allocate a byte buffer of capacity larger than INTEGER.MAX_VALUE?</p>\n"},{"tags":["java","dictionary","iteration"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1350687005,"post_id":12983478,"comment_id":17609934,"body_markdown":"It&#39;s not a temporary copy of the map, it&#39;s just a way of walking through the map and getting the key/value pairs _together_ rather than iterating through the keys and getting the corresponding values.","body":"It&#39;s not a temporary copy of the map, it&#39;s just a way of walking through the map and getting the key/value pairs <i>together</i> rather than iterating through the keys and getting the corresponding values."}],"answers":[{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1350688304,"post_id":12983525,"comment_id":17610254,"body_markdown":"It is not entire true that you aren&#39;t supposed to know. The [documentation](http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet()) says The set is backed by the map, so changes to the map are reflected in the set, and vice-versa.","body":"It is not entire true that you aren&#39;t supposed to know. The <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\">documentation</a> says The set is backed by the map, so changes to the map are reflected in the set, and vice-versa."}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350688382,"creation_date":1350687235,"answer_id":12983525,"question_id":12983478,"body_markdown":"You aren&#39;t supposed to know much about the entrySet() function returns. All you are allowed to depend on is that it is a `Set&lt;Map.Entry&lt;x,y&gt;&gt;`. It might be a rather special (*) copy, but it&#39;s more likely to be an object that provides a view of the innards of the original `Map`. \r\n\r\nIn modern Java, this sort of thing get commonly written as:\r\n\r\n    for (Map.Entry&lt;X, Y&gt; me : map.entrySet()) {\r\n       // code that looks at me.xxx() here\r\n    }\r\n\r\nIn your example, X,Y is `List&lt;Integer&gt;, Set&lt;String&gt;`.\r\n\r\n(*)  The documentation says, &#39;The set is backed by the map, so changes to the map are reflected in the set, and vice-versa.&#39;\r\n\r\nThanks to @Miserable Variable.\r\n\r\n\r\n\r\n","title":"Trouble understanding Java map Entry sets","body":"<p>You aren't supposed to know much about the entrySet() function returns. All you are allowed to depend on is that it is a <code>Set&lt;Map.Entry&lt;x,y&gt;&gt;</code>. It might be a rather special (*) copy, but it's more likely to be an object that provides a view of the innards of the original <code>Map</code>. </p>\n\n<p>In modern Java, this sort of thing get commonly written as:</p>\n\n<pre><code>for (Map.Entry&lt;X, Y&gt; me : map.entrySet()) {\n   // code that looks at me.xxx() here\n}\n</code></pre>\n\n<p>In your example, X,Y is <code>List&lt;Integer&gt;, Set&lt;String&gt;</code>.</p>\n\n<p>(*)  The documentation says, 'The set is backed by the map, so changes to the map are reflected in the set, and vice-versa.'</p>\n\n<p>Thanks to @Miserable Variable.</p>\n"},{"tags":[],"owner":{"account_id":1810491,"reputation":2458,"user_id":1646671,"accept_rate":53,"display_name":"uldall"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350687727,"creation_date":1350687262,"answer_id":12983528,"question_id":12983478,"body_markdown":"You can find information about Entry in the Javadoc:\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\r\n\r\nThe `&lt;?, ?&gt;` part is because Entry is a generic interface.\r\n\r\nMore info on `?` here: http://docs.oracle.com/javase/tutorial/java/generics/wildcards.html\r\n\r\nThat being said, the usage in this example is not very nice. A cleaner way of getting sizeOfSet:\r\n\r\n    int sizeOfSet = k.next().getValue().size();","title":"Trouble understanding Java map Entry sets","body":"<p>You can find information about Entry in the Javadoc:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html</a></p>\n\n<p>The <code>&lt;?, ?&gt;</code> part is because Entry is a generic interface.</p>\n\n<p>More info on <code>?</code> here: <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/wildcards.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/generics/wildcards.html</a></p>\n\n<p>That being said, the usage in this example is not very nice. A cleaner way of getting sizeOfSet:</p>\n\n<pre><code>int sizeOfSet = k.next().getValue().size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1350689687,"creation_date":1350687509,"answer_id":12983552,"question_id":12983478,"body_markdown":"An `entrySet` is the set of all Entries in a Map - i.e. the set of all key,value pairs in the Map. Because a Map consists of key,value pairs, if you want to iterate over it you need to specify whether you want to iterate over the keys, the values, or both (Entries).\r\n\r\nThe `&lt;?,?&gt;` indicates that the `pair` variable holds an Entry where the key and the value could be of any type. This would normally indicate that we don&#39;t care what types of values it holds. In your code this is not the case, because you need to cast the value to `Set&lt;String&gt;` so you can check its size.\r\n\r\nYou could also rewrite the code as follows, avoiding the cast to `Set&lt;String&gt;`\r\n\r\n    Iterator&lt;Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;&gt; k = partitions.entrySet().iterator();\r\n    while (k.hasNext())\r\n    {\r\n\tEntry&lt;?, Set&lt;String&gt;&gt; pair = (Entry&lt;?, Set&lt;String&gt;&gt;)k.next();\r\n\tint sizeOfSet = pair.getValue().size();\r\n\tif (sizeOfSet &gt; biggestPartitionSize)\r\n\t{\r\n\t\t biggestPartitionSize = sizeOfSet;\r\n\t}\r\n\r\nWhen we need to be more specific about the types that the Entry holds, we can use the full type: `Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;`. This avoids the need to cast the key or value to a particular type (and the risk of casting to the wrong type).\r\n\r\nYou can also specify just the type of the key, or the value, as shown in my example above.","title":"Trouble understanding Java map Entry sets","body":"<p>An <code>entrySet</code> is the set of all Entries in a Map - i.e. the set of all key,value pairs in the Map. Because a Map consists of key,value pairs, if you want to iterate over it you need to specify whether you want to iterate over the keys, the values, or both (Entries).</p>\n\n<p>The <code>&lt;?,?&gt;</code> indicates that the <code>pair</code> variable holds an Entry where the key and the value could be of any type. This would normally indicate that we don't care what types of values it holds. In your code this is not the case, because you need to cast the value to <code>Set&lt;String&gt;</code> so you can check its size.</p>\n\n<p>You could also rewrite the code as follows, avoiding the cast to <code>Set&lt;String&gt;</code></p>\n\n<pre><code>Iterator&lt;Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;&gt; k = partitions.entrySet().iterator();\nwhile (k.hasNext())\n{\nEntry&lt;?, Set&lt;String&gt;&gt; pair = (Entry&lt;?, Set&lt;String&gt;&gt;)k.next();\nint sizeOfSet = pair.getValue().size();\nif (sizeOfSet &gt; biggestPartitionSize)\n{\n     biggestPartitionSize = sizeOfSet;\n}\n</code></pre>\n\n<p>When we need to be more specific about the types that the Entry holds, we can use the full type: <code>Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;</code>. This avoids the need to cast the key or value to a particular type (and the risk of casting to the wrong type).</p>\n\n<p>You can also specify just the type of the key, or the value, as shown in my example above.</p>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350688555,"creation_date":1350688555,"answer_id":12983677,"question_id":12983478,"body_markdown":"    Entry&lt;?, ?&gt; \r\n \r\n&gt; Can anyone explain or point me toward an explanation of what is going on with those question marks?\r\n \r\n\r\nI could be wrong but I think the programmer is trying to be lazy. It should have been \r\n\r\n    Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;&gt; \r\n\r\n**then none of the casts would have been required**\r\n\r\nALSO:\r\n &gt;    My google foo is weak I guess, I cannot find much on Entry sets other than the java doc itself. Is is just a temporary copy of the map? \r\n\r\n[Javadoc][1] has everything you need (emphasis mine):\r\n\r\n- Returns a Set view of the mappings contained in this map. The set is **backed by the map**, so changes to the map are reflected in the set, and vice-versa. \r\n- If the map is modified while an iteration over the set is in progress (except through the iterator&#39;s own remove operation, or through the setValue operation on a map entry returned by the iterator) the results of the iteration are undefined. \r\n- The set **supports** element **removal**, which removes the corresponding mapping from the map, via the Iterator.remove, Set.remove, removeAll, retainAll and clear operations. \r\n- It **does not support** the **add** or **addAll** operations. \r\n\r\nWhat more information are you looking for?\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet%28%29","title":"Trouble understanding Java map Entry sets","body":"<pre><code>Entry&lt;?, ?&gt; \n</code></pre>\n\n<blockquote>\n  <p>Can anyone explain or point me toward an explanation of what is going on with those question marks?</p>\n</blockquote>\n\n<p>I could be wrong but I think the programmer is trying to be lazy. It should have been </p>\n\n<pre><code>Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;&gt; \n</code></pre>\n\n<p><strong>then none of the casts would have been required</strong></p>\n\n<p>ALSO:</p>\n\n<blockquote>\n  <p>My google foo is weak I guess, I cannot find much on Entry sets other than the java doc itself. Is is just a temporary copy of the map? </p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet%28%29\" rel=\"nofollow\">Javadoc</a> has everything you need (emphasis mine):</p>\n\n<ul>\n<li>Returns a Set view of the mappings contained in this map. The set is <strong>backed by the map</strong>, so changes to the map are reflected in the set, and vice-versa. </li>\n<li>If the map is modified while an iteration over the set is in progress (except through the iterator's own remove operation, or through the setValue operation on a map entry returned by the iterator) the results of the iteration are undefined. </li>\n<li>The set <strong>supports</strong> element <strong>removal</strong>, which removes the corresponding mapping from the map, via the Iterator.remove, Set.remove, removeAll, retainAll and clear operations. </li>\n<li>It <strong>does not support</strong> the <strong>add</strong> or <strong>addAll</strong> operations. </li>\n</ul>\n\n<p>What more information are you looking for?</p>\n"}],"owner":{"account_id":1902579,"reputation":2369,"user_id":1718119,"accept_rate":41,"display_name":"Jake Sellers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12983552,"answer_count":4,"score":2,"last_activity_date":1677015485,"creation_date":1350686893,"question_id":12983478,"body_markdown":"I&#39;m looking at a java hangman game here: https://github.com/leleah/EvilHangman/blob/master/EvilHangman.java\r\n\r\nThe code in particular is this:\r\n    \r\n    Iterator&lt;Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;&gt; k = partitions.entrySet().iterator();\r\n    while (k.hasNext())\r\n    {\r\n        Entry&lt;?, ?&gt; pair = (Entry&lt;?, ?&gt;)k.next();\r\n        int sizeOfSet = ((Set&lt;String&gt;)pair.getValue()).size();\r\n        if (sizeOfSet &gt; biggestPartitionSize)\r\n        {\r\n            biggestPartitionSize = sizeOfSet;\r\n        }\r\n    }\r\nNow my question.  My google foo is weak I guess, I cannot find much on Entry sets other than the java doc itself.  Is is just a temporary copy of the map? And I cannot find any info at all on the syntax:\r\n\r\n    Entry&lt;?, ?&gt;\r\nCan anyone explain or point me toward an explanation of what is going on with those question marks? Thanks in advance!\r\n","title":"Trouble understanding Java map Entry sets","body":"<p>I'm looking at a java hangman game here: <a href=\"https://github.com/leleah/EvilHangman/blob/master/EvilHangman.java\" rel=\"nofollow noreferrer\">https://github.com/leleah/EvilHangman/blob/master/EvilHangman.java</a></p>\n<p>The code in particular is this:</p>\n<pre><code>Iterator&lt;Entry&lt;List&lt;Integer&gt;, Set&lt;String&gt;&gt;&gt; k = partitions.entrySet().iterator();\nwhile (k.hasNext())\n{\n    Entry&lt;?, ?&gt; pair = (Entry&lt;?, ?&gt;)k.next();\n    int sizeOfSet = ((Set&lt;String&gt;)pair.getValue()).size();\n    if (sizeOfSet &gt; biggestPartitionSize)\n    {\n        biggestPartitionSize = sizeOfSet;\n    }\n}\n</code></pre>\n<p>Now my question.  My google foo is weak I guess, I cannot find much on Entry sets other than the java doc itself.  Is is just a temporary copy of the map? And I cannot find any info at all on the syntax:</p>\n<pre><code>Entry&lt;?, ?&gt;\n</code></pre>\n<p>Can anyone explain or point me toward an explanation of what is going on with those question marks? Thanks in advance!</p>\n"},{"tags":["java","spring","testing","junit"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676994477,"post_id":75522756,"comment_id":133247093,"body_markdown":"the reason is that you haven&#39;t initialized your map. Your map is null. Initialize your map like Map&lt;String,String&gt; tokens = new HashMap&lt;&gt;()","body":"the reason is that you haven&#39;t initialized your map. Your map is null. Initialize your map like Map&lt;String,String&gt; tokens = new HashMap&lt;&gt;()"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676995144,"post_id":75522756,"comment_id":133247300,"body_markdown":"Are you sure that `jwtService.createAccessRefreshJwtToken(&quot;test&quot;)` doesn&#39;t return `null` ? Maybe you should insert an assertion for that before you put anything into the map. But the exception message looks a but unusual to me.","body":"Are you sure that <code>jwtService.createAccessRefreshJwtToken(&quot;test&quot;)</code> doesn&#39;t return <code>null</code> ? Maybe you should insert an assertion for that before you put anything into the map. But the exception message looks a but unusual to me."},{"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"score":0,"creation_date":1676997383,"post_id":75522756,"comment_id":133248075,"body_markdown":"the createAccessRefreshJwtToken returns a hashmap and I checked it with debug and also with logs it initiated and has values, and even with removing the field tokens from the class and the methods the perform of MVC gives me the same message because the perform is looking for a tokens map for some magical reason.","body":"the createAccessRefreshJwtToken returns a hashmap and I checked it with debug and also with logs it initiated and has values, and even with removing the field tokens from the class and the methods the perform of MVC gives me the same message because the perform is looking for a tokens map for some magical reason."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1677009825,"post_id":75522756,"comment_id":133251796,"body_markdown":"FrameworkServlet.processRequest throws ServletException with a cause. Please post entire stack trace, including the cause. See https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/FrameworkServlet.java#L1019","body":"FrameworkServlet.processRequest throws ServletException with a cause. Please post entire stack trace, including the cause. See <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/FrameworkServlet.java#L1019\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/main/&hellip;</a>"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1677015431,"post_id":75522756,"comment_id":133253253,"body_markdown":"@DonFleym Ok, now we know that the error is throwin in one of your methods `com.project.socializer.requests.refresh_jwt.service.RefreshJwtService. getNewAccessTokenThroughRefreshToken` entered via  `RefreshJwtController`. You need to debug what happens in these 2 classes when executing your test (and post their contents if you need more help)","body":"@DonFleym Ok, now we know that the error is throwin in one of your methods <code>com.project.socializer.requests.refresh_jwt.service.RefreshJ&zwnj;&#8203;wtService. getNewAccessTokenThroughRefreshToken</code> entered via  <code>RefreshJwtController</code>. You need to debug what happens in these 2 classes when executing your test (and post their contents if you need more help)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677016596,"post_id":75522756,"comment_id":133253547,"body_markdown":"What annoys me a bit (but not sure if its causing this error): you do a `POST` request with a `Content-Type` header, but no body. also unusual - even for an invalid token: your `Authorization` header doesn&#39;t contain a &quot;Bearer&quot; prefix before the token.","body":"What annoys me a bit (but not sure if its causing this error): you do a <code>POST</code> request with a <code>Content-Type</code> header, but no body. also unusual - even for an invalid token: your <code>Authorization</code> header doesn&#39;t contain a &quot;Bearer&quot; prefix before the token."},{"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"score":0,"creation_date":1677018800,"post_id":75522756,"comment_id":133254021,"body_markdown":"@Lesiak ok i will check,","body":"@Lesiak ok i will check,"},{"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"score":0,"creation_date":1677019191,"post_id":75522756,"comment_id":133254098,"body_markdown":"@cyberbrain ye is true the token normally has bearer and I forget to add it to invalid, but for the body part I&#39;m just playing around for testing purpose normally its get, I just was trying to change things to see the behavior of the error results but thanks for the reminder and any remarks giving, after all I&#39;m just a beginner.","body":"@cyberbrain ye is true the token normally has bearer and I forget to add it to invalid, but for the body part I&#39;m just playing around for testing purpose normally its get, I just was trying to change things to see the behavior of the error results but thanks for the reminder and any remarks giving, after all I&#39;m just a beginner."},{"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"score":0,"creation_date":1677020187,"post_id":75522756,"comment_id":133254271,"body_markdown":"@Lesiak thanks a lot you helped me to find the root problem and cyberbrain helped me by reminding me that Bearer that I was missing, it was just me miss using my code.","body":"@Lesiak thanks a lot you helped me to find the root problem and cyberbrain helped me by reminding me that Bearer that I was missing, it was just me miss using my code."}],"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677015262,"creation_date":1676994285,"question_id":75522756,"body_markdown":"I don&#39;t understand whats happening in my code literally the actual Map is defined with the values but I keep getting that the Map.get(Object) is null ,  i think its because when i perform the request the request doesn&#39;t find the token map or something like that probably even do its not true but that&#39;s what i think because even by removing the field and performing the mockMvc request without any MAP field i get the error here is my code and i hope you  help me\r\n\r\n    `@SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @Slf4j\r\n    class RefreshJwtControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Autowired\r\n        JwtService jwtService;\r\n    \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        Map&lt;String,String&gt; tokens;\r\n    \r\n        @BeforeEach\r\n        void setUp() throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n            this.tokens = jwtService.createAccessRefreshJwtToken(&quot;test&quot;);\r\n        }\r\n    \r\n        @AfterEach\r\n        void tearDown() {\r\n        }\r\n    \r\n        @Test\r\n        public void GetANewJwtTokensFromRefreshTokens() throws Exception {\r\n            this.tokens.put(&quot;accessToken&quot;,&quot;invalid&quot;);\r\n            mockMvc.perform(post(&quot;/api/v1/public/auth/refresh/jwt&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .header(&quot;Authorization&quot;,tokens.get(&quot;accessToken&quot;))\r\n                            .header(&quot;RefreshToken&quot;,tokens.get(&quot;refreshToken&quot;)))\r\n                    .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;$.accessToken&quot;).hasJsonPath())\r\n                    .andExpect(jsonPath(&quot;$.accessToken&quot;).value(matchesPattern(&quot;.{442,}&quot;)))\r\n                    .andExpect(jsonPath(&quot;$.refreshToken&quot;).hasJsonPath())\r\n                    .andExpect(jsonPath(&quot;$.refreshToken&quot;).value(matchesPattern(&quot;.{442,}&quot;)))\r\n                    .andReturn();\r\n        }\r\n    \r\n        @Test\r\n        public void AccessTokenStillValidYouWontGetANewJwtToken(){\r\n    \r\n        }\r\n    }\r\n    \r\n```lang-none    \r\njakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;tokens&quot; is null\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1018)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat com.project.socializer.security.filter.VerifyJwtTokenFilter.doFilter(VerifyJwtTokenFilter.java:80)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat com.project.socializer.security.filter.VerifyJwtTokenFilter.doFilter(VerifyJwtTokenFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n\tat com.project.socializer.requests.refresh_jwt.controller.RefreshJwtControllerTest.GetANewJwtTokensFromRefreshTokens(RefreshJwtControllerTest.java:57)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;tokens&quot; is null\r\n\tat com.project.socializer.requests.refresh_jwt.service.RefreshJwtService.getNewAccessTokenThroughRefreshToken(RefreshJwtService.java:33)\r\n\tat com.project.socializer.requests.refresh_jwt.controller.RefreshJwtController.refreshJwtToken(RefreshJwtController.java:26)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010)\r\n\t... 127 more\r\n```\r\n\r\nNote:\r\nthe createAccessRefreshJwtToken returns a hashmap and I checked it with debug and also with logs it initiated and has values, and even with removing the field tokens from the class and the methods the perform of MVC gives me the same message because the perform is looking for a tokens map for some magical reason.\r\n","title":"testing with spring starter test - jupiter problem with mockMVC","body":"<p>I don't understand whats happening in my code literally the actual Map is defined with the values but I keep getting that the Map.get(Object) is null ,  i think its because when i perform the request the request doesn't find the token map or something like that probably even do its not true but that's what i think because even by removing the field and performing the mockMvc request without any MAP field i get the error here is my code and i hope you  help me</p>\n<pre><code>`@SpringBootTest\n@AutoConfigureMockMvc\n@Slf4j\nclass RefreshJwtControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    JwtService jwtService;\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    Map&lt;String,String&gt; tokens;\n\n    @BeforeEach\n    void setUp() throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        this.tokens = jwtService.createAccessRefreshJwtToken(&quot;test&quot;);\n    }\n\n    @AfterEach\n    void tearDown() {\n    }\n\n    @Test\n    public void GetANewJwtTokensFromRefreshTokens() throws Exception {\n        this.tokens.put(&quot;accessToken&quot;,&quot;invalid&quot;);\n        mockMvc.perform(post(&quot;/api/v1/public/auth/refresh/jwt&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .header(&quot;Authorization&quot;,tokens.get(&quot;accessToken&quot;))\n                        .header(&quot;RefreshToken&quot;,tokens.get(&quot;refreshToken&quot;)))\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.accessToken&quot;).hasJsonPath())\n                .andExpect(jsonPath(&quot;$.accessToken&quot;).value(matchesPattern(&quot;.{442,}&quot;)))\n                .andExpect(jsonPath(&quot;$.refreshToken&quot;).hasJsonPath())\n                .andExpect(jsonPath(&quot;$.refreshToken&quot;).value(matchesPattern(&quot;.{442,}&quot;)))\n                .andReturn();\n    }\n\n    @Test\n    public void AccessTokenStillValidYouWontGetANewJwtToken(){\n\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>jakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;tokens&quot; is null\n\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1018)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at com.project.socializer.security.filter.VerifyJwtTokenFilter.doFilter(VerifyJwtTokenFilter.java:80)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at com.project.socializer.security.filter.VerifyJwtTokenFilter.doFilter(VerifyJwtTokenFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at com.project.socializer.requests.refresh_jwt.controller.RefreshJwtControllerTest.GetANewJwtTokensFromRefreshTokens(RefreshJwtControllerTest.java:57)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;tokens&quot; is null\n    at com.project.socializer.requests.refresh_jwt.service.RefreshJwtService.getNewAccessTokenThroughRefreshToken(RefreshJwtService.java:33)\n    at com.project.socializer.requests.refresh_jwt.controller.RefreshJwtController.refreshJwtToken(RefreshJwtController.java:26)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010)\n    ... 127 more\n</code></pre>\n<p>Note:\nthe createAccessRefreshJwtToken returns a hashmap and I checked it with debug and also with logs it initiated and has values, and even with removing the field tokens from the class and the methods the perform of MVC gives me the same message because the perform is looking for a tokens map for some magical reason.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","pagination"],"answers":[{"comments":[{"owner":{"account_id":19589013,"reputation":47,"user_id":16129883,"display_name":"mateo cunha"},"score":0,"creation_date":1677021470,"post_id":75526112,"comment_id":133254493,"body_markdown":"Yes, it was there","body":"Yes, it was there"}],"tags":[],"owner":{"account_id":20490173,"reputation":91,"user_id":15036436,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677015216,"creation_date":1677015216,"answer_id":75526112,"question_id":75525854,"body_markdown":"the error you have here is selecting all columns from the `house` table and then you are adding `distance` column with the value of `4`, The `H.*` part of the query shows that all the house column should be returned, but in your `house` there is no such thing column named `H`\r\n\r\nyou need to use named parameters in your native query instead of positional parameters\r\n\r\n    public interface IHouseDao extends JpaRepository&lt;House, String&gt; {\r\n    \r\n        @Query(value = &quot;SELECT H.*, ( 4 ) AS distance FROM house H&quot;,\r\n                countQuery = &quot;SELECT COUNT(*) FROM house H&quot;,\r\n                nativeQuery = true)\r\n        Page&lt;House&gt; search(Pageable pageable);\r\n    }\r\n\r\nthis snippet uses named parameters\r\n\r\nI have added a `countQuery` parameter to the `@Query` and this separate query that returns total number of records that match the search.\r\n\r\nI removed the parameter you had which is `4` and replaced it with hard coded value, you change the value and put on parameters so you can pass them through your query\r\n","title":"Hibernate Unexpected gap in ordinal parameter","body":"<p>the error you have here is selecting all columns from the <code>house</code> table and then you are adding <code>distance</code> column with the value of <code>4</code>, The <code>H.*</code> part of the query shows that all the house column should be returned, but in your <code>house</code> there is no such thing column named <code>H</code></p>\n<p>you need to use named parameters in your native query instead of positional parameters</p>\n<pre><code>public interface IHouseDao extends JpaRepository&lt;House, String&gt; {\n\n    @Query(value = &quot;SELECT H.*, ( 4 ) AS distance FROM house H&quot;,\n            countQuery = &quot;SELECT COUNT(*) FROM house H&quot;,\n            nativeQuery = true)\n    Page&lt;House&gt; search(Pageable pageable);\n}\n</code></pre>\n<p>this snippet uses named parameters</p>\n<p>I have added a <code>countQuery</code> parameter to the <code>@Query</code> and this separate query that returns total number of records that match the search.</p>\n<p>I removed the parameter you had which is <code>4</code> and replaced it with hard coded value, you change the value and put on parameters so you can pass them through your query</p>\n"}],"owner":{"account_id":19589013,"reputation":47,"user_id":16129883,"display_name":"mateo cunha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75526112,"answer_count":1,"score":1,"last_activity_date":1677015216,"creation_date":1677013231,"question_id":75525854,"body_markdown":"I have got an Springboot App with mysql The code is as follows:\r\n\r\n    public interface IHouseDao extends JpaRepository &lt;House, String&gt;{\r\n\t\r\n\t@Query(value =&quot;SELECT H.*, ( 4 ) AS distance FROM house H&quot;\r\n\t\t\t, nativeQuery = true)\r\n\tPage&lt;House&gt; search(Pageable pageable);\r\n    }\r\n\r\nthat code throws the following error \r\n\r\n&gt; Unknown column &#39;H&#39; in &#39;field list&#39;\r\n\r\nBut if I change \r\n\r\n    search(Pageable pageable)\r\n\r\nto \r\n\r\n    search()\r\n\r\nthen the query works fine.\r\n\r\nI need the query to be pageable.","title":"Hibernate Unexpected gap in ordinal parameter","body":"<p>I have got an Springboot App with mysql The code is as follows:</p>\n<pre><code>public interface IHouseDao extends JpaRepository &lt;House, String&gt;{\n\n@Query(value =&quot;SELECT H.*, ( 4 ) AS distance FROM house H&quot;\n        , nativeQuery = true)\nPage&lt;House&gt; search(Pageable pageable);\n}\n</code></pre>\n<p>that code throws the following error</p>\n<blockquote>\n<p>Unknown column 'H' in 'field list'</p>\n</blockquote>\n<p>But if I change</p>\n<pre><code>search(Pageable pageable)\n</code></pre>\n<p>to</p>\n<pre><code>search()\n</code></pre>\n<p>then the query works fine.</p>\n<p>I need the query to be pageable.</p>\n"},{"tags":["java","collections","knapsack-problem"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677016138,"post_id":75525233,"comment_id":133253434,"body_markdown":"you cannot achieve this with a single class that fits into the Java Collections framework, you can build a wrapper that uses multiple classes from that framework or just use them in your other code.","body":"you cannot achieve this with a single class that fits into the Java Collections framework, you can build a wrapper that uses multiple classes from that framework or just use them in your other code."}],"answers":[{"comments":[{"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"score":0,"creation_date":1677134570,"post_id":75526036,"comment_id":133278665,"body_markdown":"Thank you! I‘ll try that when I get home","body":"Thank you! I‘ll try that when I get home"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677015124,"creation_date":1677014640,"answer_id":75526036,"question_id":75525233,"body_markdown":"Judging by the example data you gave, I&#39;m speculating that the collection of scores for any player might contain duplicates. That makes this a little harder, because you can&#39;t use a standard `java.util.SortedSet` implemenation (`Set`s don&#39;t allow duplicate values). You also can&#39;t have the scores be `List`s because the contract of the `List` interface states that `add()`-ing always inserts at the _end_ of the list, which is contrary to maintaining a _sorted_ collection.\r\n\r\nSo even though there isn&#39;t a perfect collection class included in the Java standard library, there are a couple of options I can think of.\r\n\r\n**Option A**: Store the scores as an ordinary Collection (perhaps a `List`), and re-sort them either on every add or on-demand when retrieving the scores for a particular player. Here is an example:\r\n```java\r\npublic class ExplicitlySortingScorekeeper {\r\n\r\n\tprivate Map&lt;Integer, List&lt;Integer&gt;&gt; scores = new HashMap&lt;&gt;();\r\n\r\n\tpublic void addScore(Integer player, Integer score) {\r\n\t\tList&lt;Integer&gt; playerScores = scores.get(player);\r\n\t\tif (playerScores == null) {\r\n\t\t\tplayerScores = new ArrayList&lt;&gt;();\r\n\t\t\tscores.put(score, playerScores);\r\n\t\t}\r\n\r\n\t\tplayerScores.add(score);\r\n\t\tplayerScores.sort(null);\r\n\t}\r\n\r\n\tpublic List&lt;Integer&gt; getScores(Integer player) {\r\n\t\tList&lt;Integer&gt; playerScores = scores.get(player);\r\n\t\tif (playerScores != null) {\r\n\t\t\tplayerScores.sort(null);\r\n\t\t}\r\n\r\n\t\treturn playerScores;\r\n\t}\r\n}\r\n```\r\nNote that this code shows the sorting both during add and during get; it&#39;s not necessary to do it both, you could choose which place you want to call `List.sort()`.\r\n\r\n**Option B**: If you&#39;re willing to use a third-party library (specifically, Apache Commons Collections 4), it has an interface, `SortedBag` that fits the need. Here&#39;s an example that uses a `TreeBag`, an implementation of `SortedBag`, to keep the collection of scores sorted at all times.\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.apache.commons.collections4.SortedBag;\r\nimport org.apache.commons.collections4.bag.TreeBag;\r\n\r\npublic class AutoSortedScorekeeper {\r\n\r\n\tprivate Map&lt;Integer, TreeBag&lt;Integer&gt;&gt; scores = new HashMap&lt;&gt;();\r\n\r\n\tpublic void addScore(Integer player, Integer score) {\r\n\t\tTreeBag&lt;Integer&gt; playerScores = scores.get(player);\r\n\t\tif (playerScores == null) {\r\n\t\t\tplayerScores = new TreeBag&lt;&gt;();\r\n\t\t\tscores.put(score, playerScores);\r\n\t\t}\r\n\r\n\t\tplayerScores.add(score);\r\n\t}\r\n\r\n\tpublic SortedBag&lt;Integer&gt; getScores(Integer player) {\r\n\t\treturn scores.get(player);\r\n\t}\r\n}\r\n```\r\n---\r\nI notice that your example data output shows the scores sorted in _descending_ order, which is opposite of the natural ordering of `Integer`. So you&#39;ll probably have to use a custom `Comparator` in either the `sort()` call or the `TreeBag` constructor. `Comparator.reverseOrder()` will work if you stick with the natural ordering of score (ie, Integer).\r\n","title":"Java Collection with multiple keys that refer to a different value that is also sortable (by key and index)","body":"<p>Judging by the example data you gave, I'm speculating that the collection of scores for any player might contain duplicates. That makes this a little harder, because you can't use a standard <code>java.util.SortedSet</code> implemenation (<code>Set</code>s don't allow duplicate values). You also can't have the scores be <code>List</code>s because the contract of the <code>List</code> interface states that <code>add()</code>-ing always inserts at the <em>end</em> of the list, which is contrary to maintaining a <em>sorted</em> collection.</p>\n<p>So even though there isn't a perfect collection class included in the Java standard library, there are a couple of options I can think of.</p>\n<p><strong>Option A</strong>: Store the scores as an ordinary Collection (perhaps a <code>List</code>), and re-sort them either on every add or on-demand when retrieving the scores for a particular player. Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExplicitlySortingScorekeeper {\n\n    private Map&lt;Integer, List&lt;Integer&gt;&gt; scores = new HashMap&lt;&gt;();\n\n    public void addScore(Integer player, Integer score) {\n        List&lt;Integer&gt; playerScores = scores.get(player);\n        if (playerScores == null) {\n            playerScores = new ArrayList&lt;&gt;();\n            scores.put(score, playerScores);\n        }\n\n        playerScores.add(score);\n        playerScores.sort(null);\n    }\n\n    public List&lt;Integer&gt; getScores(Integer player) {\n        List&lt;Integer&gt; playerScores = scores.get(player);\n        if (playerScores != null) {\n            playerScores.sort(null);\n        }\n\n        return playerScores;\n    }\n}\n</code></pre>\n<p>Note that this code shows the sorting both during add and during get; it's not necessary to do it both, you could choose which place you want to call <code>List.sort()</code>.</p>\n<p><strong>Option B</strong>: If you're willing to use a third-party library (specifically, Apache Commons Collections 4), it has an interface, <code>SortedBag</code> that fits the need. Here's an example that uses a <code>TreeBag</code>, an implementation of <code>SortedBag</code>, to keep the collection of scores sorted at all times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.commons.collections4.SortedBag;\nimport org.apache.commons.collections4.bag.TreeBag;\n\npublic class AutoSortedScorekeeper {\n\n    private Map&lt;Integer, TreeBag&lt;Integer&gt;&gt; scores = new HashMap&lt;&gt;();\n\n    public void addScore(Integer player, Integer score) {\n        TreeBag&lt;Integer&gt; playerScores = scores.get(player);\n        if (playerScores == null) {\n            playerScores = new TreeBag&lt;&gt;();\n            scores.put(score, playerScores);\n        }\n\n        playerScores.add(score);\n    }\n\n    public SortedBag&lt;Integer&gt; getScores(Integer player) {\n        return scores.get(player);\n    }\n}\n</code></pre>\n<hr />\n<p>I notice that your example data output shows the scores sorted in <em>descending</em> order, which is opposite of the natural ordering of <code>Integer</code>. So you'll probably have to use a custom <code>Comparator</code> in either the <code>sort()</code> call or the <code>TreeBag</code> constructor. <code>Comparator.reverseOrder()</code> will work if you stick with the natural ordering of score (ie, Integer).</p>\n"}],"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677015124,"creation_date":1677008945,"question_id":75525233,"body_markdown":"I had a lot of problems with my program recently, as I am not able to create a Collection which has duplicate keys at the same that refer to a different value. It&#39;s like an array in a List.\r\nI already tried a TreeMap, as so I tried a SortedTreeMap, which seem to work with the idea of identical keys, but the problem here is that you can only sort a (Sorted)TreeMap by key, and not by value.\r\n\r\nFor Example, I have a game:\r\nPlayer one scored 100 points, then he scores 200, and then he only scores 150\r\nPlayer two scores, 140, 120, and 210.\r\n\r\nIs it possible to write this into a Collection, which also sorts it that the output would be like this:\r\n\r\n```1 = [200, 150, 100], 2 = [210, 140, 120] //Note that the values are sorted```\r\n\r\nThanks in advance!","title":"Java Collection with multiple keys that refer to a different value that is also sortable (by key and index)","body":"<p>I had a lot of problems with my program recently, as I am not able to create a Collection which has duplicate keys at the same that refer to a different value. It's like an array in a List.\nI already tried a TreeMap, as so I tried a SortedTreeMap, which seem to work with the idea of identical keys, but the problem here is that you can only sort a (Sorted)TreeMap by key, and not by value.</p>\n<p>For Example, I have a game:\nPlayer one scored 100 points, then he scores 200, and then he only scores 150\nPlayer two scores, 140, 120, and 210.</p>\n<p>Is it possible to write this into a Collection, which also sorts it that the output would be like this:</p>\n<p><code>1 = [200, 150, 100], 2 = [210, 140, 120] //Note that the values are sorted</code></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","android-recyclerview","scrollview"],"answers":[{"tags":[],"owner":{"account_id":20013596,"reputation":1154,"user_id":14670123,"display_name":"Thanasis M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677014543,"creation_date":1677014543,"answer_id":75526027,"question_id":75522114,"body_markdown":"First of all, your code produces this error:\r\n\r\n&gt; This androidx.constraintlayout.widget.ConstraintLayout should use android:layout_height=&quot;wrap_content&quot;\r\n\r\nThat&#39;s resolved by using `wrap_content`, instead of `match_parent` for the height of the `ConstraintLayout`.\r\n\r\nSecondly, there&#39;s no need to provide constraint attributes for the `ConstraintLayout`. The constraint attributes should be added in views that are children of a `ConstraintLayout`, in order for them to have an effect.\r\n\r\nThirdly, using a `ConstraintLayout` doesn&#39;t make much sense here. Try using a `LinearLayout` instead, like this:\r\n\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n            ...\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n\r\nFinally, using a `RecyclerView` isn&#39;t a solution that should be used instead of using a `ScrollView` and it shouldn&#39;t be used just to use its scrolling capabilities. You should use a `RecyclerView` in different cases, for example whenever you&#39;d like to render a dynamic list of items. For more info you should read [the official doc](https://developer.android.com/develop/ui/views/layout/recyclerview?gclid=CjwKCAiA9NGfBhBvEiwAq5vSyyWWoeGcH1P34BSd2erl23-wkGBgm4ukyrywLMwUe1e4lqeID8wB8RoClREQAvD_BwE&amp;gclsrc=aw.ds).","title":"How to ase RecyclerView Instead of ScrollView?","body":"<p>First of all, your code produces this error:</p>\n<blockquote>\n<p>This androidx.constraintlayout.widget.ConstraintLayout should use android:layout_height=&quot;wrap_content&quot;</p>\n</blockquote>\n<p>That's resolved by using <code>wrap_content</code>, instead of <code>match_parent</code> for the height of the <code>ConstraintLayout</code>.</p>\n<p>Secondly, there's no need to provide constraint attributes for the <code>ConstraintLayout</code>. The constraint attributes should be added in views that are children of a <code>ConstraintLayout</code>, in order for them to have an effect.</p>\n<p>Thirdly, using a <code>ConstraintLayout</code> doesn't make much sense here. Try using a <code>LinearLayout</code> instead, like this:</p>\n<pre><code>&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n    \n        ...\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>Finally, using a <code>RecyclerView</code> isn't a solution that should be used instead of using a <code>ScrollView</code> and it shouldn't be used just to use its scrolling capabilities. You should use a <code>RecyclerView</code> in different cases, for example whenever you'd like to render a dynamic list of items. For more info you should read <a href=\"https://developer.android.com/develop/ui/views/layout/recyclerview?gclid=CjwKCAiA9NGfBhBvEiwAq5vSyyWWoeGcH1P34BSd2erl23-wkGBgm4ukyrywLMwUe1e4lqeID8wB8RoClREQAvD_BwE&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">the official doc</a>.</p>\n"}],"owner":{"account_id":27832933,"reputation":1,"user_id":21251002,"display_name":"Samir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677014543,"creation_date":1676990886,"question_id":75522114,"body_markdown":"How can I use RecyclerView instead of ScrollView? ScrollView is giving me errors, so I want to use RecyclerView instead of ScrollView.\r\n\r\nThis is my first fragment layout code:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/homeF&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/androidbackground2&quot;\r\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nWhen I want to move from this layout to the layout below:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/androidbackground2&quot;&gt;\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nI got an error like this:\r\n\r\n&gt; java.lang.IllegalStateException: ScrollView can host only one direct\r\n&gt; child\r\n\r\nI can&#39;t switch layout because of this ScrollView error. How to solve this?","title":"How to ase RecyclerView Instead of ScrollView?","body":"<p>How can I use RecyclerView instead of ScrollView? ScrollView is giving me errors, so I want to use RecyclerView instead of ScrollView.</p>\n<p>This is my first fragment layout code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/homeF&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/androidbackground2&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>When I want to move from this layout to the layout below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/androidbackground2&quot;&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>I got an error like this:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: ScrollView can host only one direct\nchild</p>\n</blockquote>\n<p>I can't switch layout because of this ScrollView error. How to solve this?</p>\n"},{"tags":["java","integer-overflow","arithmetic-expressions"],"comments":[{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1677014369,"post_id":75525943,"comment_id":133252991,"body_markdown":"Fwiw, in your specific example, it doesn&#39;t matter, the end result will be the same.","body":"Fwiw, in your specific example, it doesn&#39;t matter, the end result will be the same."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1677015557,"post_id":75525943,"comment_id":133253282,"body_markdown":"When addition or multiplication overflows, it does it silently in Java. But you can use `Math:multiplyExact(a,b)`  or `Math:addExact(a,b)` which throws when overflowing. Or use BigInteger for arbitrary precision.","body":"When addition or multiplication overflows, it does it silently in Java. But you can use <code>Math:multiplyExact(a,b)</code>  or <code>Math:addExact(a,b)</code> which throws when overflowing. Or use BigInteger for arbitrary precision."}],"answers":[{"comments":[{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1677014515,"post_id":75525990,"comment_id":133253032,"body_markdown":"I know 2&#39;s complement but what does sufficiently large two&#39;s-complement mean?","body":"I know 2&#39;s complement but what does sufficiently large two&#39;s-complement mean?"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1677014588,"post_id":75525990,"comment_id":133253048,"body_markdown":"@abhimanyue Sufficiently large = large enough to hold the value.","body":"@abhimanyue Sufficiently large = large enough to hold the value."},{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1677014670,"post_id":75525990,"comment_id":133253067,"body_markdown":"Does it mean it finds the actual value of the operation and then just discard the higher bits?","body":"Does it mean it finds the actual value of the operation and then just discard the higher bits?"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1677015196,"post_id":75525990,"comment_id":133253205,"body_markdown":"@abhimanyue Effectively yes. But it does the operation first, which implicitly discards the higher bits. Then it gives you the result in a form that&#39;s large enough to hold that result. So in `int a = 0x7FFFFFFF; long b = a + a;`, `b` will end up as `-2`.","body":"@abhimanyue Effectively yes. But it does the operation first, which implicitly discards the higher bits. Then it gives you the result in a form that&#39;s large enough to hold that result. So in <code>int a = 0x7FFFFFFF; long b = a + a;</code>, <code>b</code> will end up as <code>-2</code>."},{"owner":{"account_id":2141010,"reputation":118259,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1677015335,"post_id":75525990,"comment_id":133253237,"body_markdown":"@abhimanyue It just means &quot;if you multiply two 64bit numbers, you need to compute all 64 lower order bits&quot; which sounds super obvious, but spec writers are pedantic people and don&#39;t want someone to cheat and say &quot;well you only said the lower order bits, not how many, so on x86 it was faster and cheaper to just compute 32 of them&quot;","body":"@abhimanyue It just means &quot;if you multiply two 64bit numbers, you need to compute all 64 lower order bits&quot; which sounds super obvious, but spec writers are pedantic people and don&#39;t want someone to cheat and say &quot;well you only said the lower order bits, not how many, so on x86 it was faster and cheaper to just compute 32 of them&quot;"}],"tags":[],"owner":{"account_id":2141010,"reputation":118259,"user_id":1899640,"display_name":"that other guy"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677014220,"creation_date":1677014220,"answer_id":75525990,"question_id":75525943,"body_markdown":"[JLS 15.17.1](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.1):\r\n\r\n&gt; If an integer multiplication overflows, then the result is the low-order bits of the mathematical product as represented in some sufficiently large two&#39;s-complement format.\r\n\r\n[JLS 15.18.2](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.2):\r\n\r\n&gt; If an integer addition overflows, then the result is the low-order bits of the mathematical sum as represented in some sufficiently large two&#39;s-complement format.\r\n\r\nThis is in contrast to C, which famously does not assume a two&#39;s-complement architecture and treats overflow of signed types as undefined behavior.","title":"How does Java handle the intermediate values while evaluating a long arithmetic expression?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.1\" rel=\"nofollow noreferrer\">JLS 15.17.1</a>:</p>\n<blockquote>\n<p>If an integer multiplication overflows, then the result is the low-order bits of the mathematical product as represented in some sufficiently large two's-complement format.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.2\" rel=\"nofollow noreferrer\">JLS 15.18.2</a>:</p>\n<blockquote>\n<p>If an integer addition overflows, then the result is the low-order bits of the mathematical sum as represented in some sufficiently large two's-complement format.</p>\n</blockquote>\n<p>This is in contrast to C, which famously does not assume a two's-complement architecture and treats overflow of signed types as undefined behavior.</p>\n"},{"comments":[{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1677014834,"post_id":75526023,"comment_id":133253117,"body_markdown":"All I was trying to understand that during this process the actual value is calculated and then finally it discards the higher (out of range) bits.","body":"All I was trying to understand that during this process the actual value is calculated and then finally it discards the higher (out of range) bits."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1677015554,"post_id":75526023,"comment_id":133253281,"body_markdown":"@abhimanyue No; the value is calculated within the confines of the types involved, so the truncation is implicit. There isn&#39;t a separate post-calculation &quot;hey I got the whole value but let&#39;s truncate this anyways just to be obnoxious&quot; step.","body":"@abhimanyue No; the value is calculated within the confines of the types involved, so the truncation is implicit. There isn&#39;t a separate post-calculation &quot;hey I got the whole value but let&#39;s truncate this anyways just to be obnoxious&quot; step."}],"tags":[],"owner":{"account_id":27827893,"reputation":11,"user_id":21246924,"display_name":"Michael Zinsmeister"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677014493,"creation_date":1677014493,"answer_id":75526023,"question_id":75525943,"body_markdown":"Each intermediate value has a type, unless you explicity cast it it will be the one that the intermediate calculation will produce so int * int will produce another int and int * float will produce another float and overflows of immediate values will happen accordingly. Such computations will essentially be deconstructed into something like\r\n\r\n    int a = 1103515245;\r\n    int x = 1013904223;\r\n    int c = 2531011;\r\n    \r\n    x = a*x;\r\n    x = x + c;\r\n    x = x &amp; 0x7FFFFFFF;\r\n\r\nThat&#39;s not really what the compiler does because it will produce JVM bytecode which operates on a stack machine but you can roughly imagine it as doing something closer to that code than to yours. There&#39;s nothing really magical about it. Overflows will happen just like they will in the decomposed operations i wrote in the code example. If you want to avoid overflows you need to cast one or both of the input values to some intermediate calculation to a larger data type like a long. Be careful here because just casting the result won&#39;t do the trick. Then it will first overflow and then cast the overflowed value.","title":"How does Java handle the intermediate values while evaluating a long arithmetic expression?","body":"<p>Each intermediate value has a type, unless you explicity cast it it will be the one that the intermediate calculation will produce so int * int will produce another int and int * float will produce another float and overflows of immediate values will happen accordingly. Such computations will essentially be deconstructed into something like</p>\n<pre><code>int a = 1103515245;\nint x = 1013904223;\nint c = 2531011;\n\nx = a*x;\nx = x + c;\nx = x &amp; 0x7FFFFFFF;\n</code></pre>\n<p>That's not really what the compiler does because it will produce JVM bytecode which operates on a stack machine but you can roughly imagine it as doing something closer to that code than to yours. There's nothing really magical about it. Overflows will happen just like they will in the decomposed operations i wrote in the code example. If you want to avoid overflows you need to cast one or both of the input values to some intermediate calculation to a larger data type like a long. Be careful here because just casting the result won't do the trick. Then it will first overflow and then cast the overflowed value.</p>\n"}],"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75525990,"answer_count":2,"score":1,"last_activity_date":1677014493,"creation_date":1677013864,"question_id":75525943,"body_markdown":"I was wondering how does Java handle the intermediate values while evaluating a mathematical expression specially when the intermediate values exceeds their storage size. For an example,\r\n\r\n    int a = 1103515245;\r\n    int x = 1013904223;\r\n    int c = 2531011;\r\n\r\n    x = (a*x + c) &amp; 0x7FFFFFFF; //\tto make sure x will remain a positive integer.\r\n\r\nNow, **my question is** while computing `a*x`, its value exceeds integer range (even during the addition it could happen), **how this is taken care by Java Compiler**?\r\n\r\nThank you.\r\n \r\n","title":"How does Java handle the intermediate values while evaluating a long arithmetic expression?","body":"<p>I was wondering how does Java handle the intermediate values while evaluating a mathematical expression specially when the intermediate values exceeds their storage size. For an example,</p>\n<pre><code>int a = 1103515245;\nint x = 1013904223;\nint c = 2531011;\n\nx = (a*x + c) &amp; 0x7FFFFFFF; //  to make sure x will remain a positive integer.\n</code></pre>\n<p>Now, <strong>my question is</strong> while computing <code>a*x</code>, its value exceeds integer range (even during the addition it could happen), <strong>how this is taken care by Java Compiler</strong>?</p>\n<p>Thank you.</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1677013150,"post_id":75525828,"comment_id":133252664,"body_markdown":"don&#39;t call `keyboard.nextInt()` two times per loop iteration, you&#39;re loosing numbers","body":"don&#39;t call <code>keyboard.nextInt()</code> two times per loop iteration, you&#39;re loosing numbers"},{"owner":{"account_id":27181504,"reputation":364,"user_id":20716692,"display_name":"codingStarter"},"score":0,"creation_date":1677013201,"post_id":75525828,"comment_id":133252676,"body_markdown":"you need to store keyboard.nextInt() inside a variable, and than you can add another condition to the for loop","body":"you need to store keyboard.nextInt() inside a variable, and than you can add another condition to the for loop"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1677014082,"post_id":75525828,"comment_id":133252917,"body_markdown":"Your message says &quot;up to 10 integers&quot; but your array only accepts 9.","body":"Your message says &quot;up to 10 integers&quot; but your array only accepts 9."}],"answers":[{"comments":[{"owner":{"account_id":2474006,"reputation":65,"user_id":2155064,"display_name":"Nicky"},"score":3,"creation_date":1677014223,"post_id":75525865,"comment_id":133252955,"body_markdown":"this will work, but for the love of God please do not actually write your loops this way. His professor may hate breaks, but everyone else will hate this.","body":"this will work, but for the love of God please do not actually write your loops this way. His professor may hate breaks, but everyone else will hate this."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1677014421,"post_id":75525865,"comment_id":133253006,"body_markdown":"Maybe the professor will learn a lesson.","body":"Maybe the professor will learn a lesson."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1677015884,"post_id":75525865,"comment_id":133253366,"body_markdown":"As a professional for 25 years, having done code reviews for more than half that time as both a peer and a leader, I would NEVER approve that code in any production system. Just ick!","body":"As a professional for 25 years, having done code reviews for more than half that time as both a peer and a leader, I would NEVER approve that code in any production system. Just ick!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677017034,"post_id":75525865,"comment_id":133253648,"body_markdown":"@E-Riz Might want to steer clear of the [JDK](https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L4942) then.","body":"@E-Riz Might want to steer clear of the <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L4942\" rel=\"nofollow noreferrer\">JDK</a> then."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677013989,"creation_date":1677013294,"answer_id":75525865,"question_id":75525828,"body_markdown":"One way is to call `nextInt()` in the loop condition:\r\n\r\n    for (int i = 0; i &lt; userArray.length &amp;&amp; (userArray[i] = keyboard.nextInt()) != 0; i++);","title":"Exit for loop without using a break statement","body":"<p>One way is to call <code>nextInt()</code> in the loop condition:</p>\n<pre><code>for (int i = 0; i &lt; userArray.length &amp;&amp; (userArray[i] = keyboard.nextInt()) != 0; i++);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1677013359,"post_id":75525869,"comment_id":133252724,"body_markdown":"Fine, but what about the last line: `posOrNeg(userArray)` ?","body":"Fine, but what about the last line: <code>posOrNeg(userArray)</code> ?"},{"owner":{"account_id":9919243,"reputation":516,"user_id":7343009,"display_name":"Nurio Fern&#225;ndez"},"score":0,"creation_date":1677014220,"post_id":75525869,"comment_id":133252953,"body_markdown":"If his professor hates continue and break, for sure is going to also hate return... &#128557;","body":"If his professor hates continue and break, for sure is going to also hate return... 😭"}],"tags":[],"owner":{"account_id":25655373,"reputation":11,"user_id":19421896,"display_name":"Aman"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677013404,"creation_date":1677013315,"answer_id":75525869,"question_id":75525828,"body_markdown":"just replace break; with return;","title":"Exit for loop without using a break statement","body":"<p>just replace break; with return;</p>\n"},{"comments":[{"owner":{"account_id":9919243,"reputation":516,"user_id":7343009,"display_name":"Nurio Fern&#225;ndez"},"score":0,"creation_date":1677014812,"post_id":75525911,"comment_id":133253109,"body_markdown":"The reason why the professor doesn&#39;t like the continue and break, and probably return is more likely to be due to the &quot;single exit point rule&quot;. Professors around the world misunderstand this rule and try to radically avoid any kind of alternative path. the best way to fight this argument is to show them why it doesn&#39;t make any sense by throwing an exception instead of a guard clause return.","body":"The reason why the professor doesn&#39;t like the continue and break, and probably return is more likely to be due to the &quot;single exit point rule&quot;. Professors around the world misunderstand this rule and try to radically avoid any kind of alternative path. the best way to fight this argument is to show them why it doesn&#39;t make any sense by throwing an exception instead of a guard clause return."}],"tags":[],"owner":{"account_id":2474006,"reputation":65,"user_id":2155064,"display_name":"Nicky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677013638,"creation_date":1677013638,"answer_id":75525911,"question_id":75525828,"body_markdown":"First, as someone else said, you should read nextInt() into a variable so you can assign it later. Your code will ask for a number, and then if that number is not zero, it will forget what the number was and then ask for another number to be input, which will get assigned.\n\nAs for potential solutions: One idea would be to move the loop to its own method, and then you could just use &quot;return&quot; in lieu of &quot;break&quot;. It&#39;s effectively the same concept, but avoids the break keyword. I worry that he may not like that either though. It&#39;s not clear why he doesn&#39;t like break, so it&#39;s hard to say.\n\nAnother solution would be to replace the for loop with a while loop, get the next input at the end of the loop, and then have the conditional for the loop include the number not being zero.\n","title":"Exit for loop without using a break statement","body":"<p>First, as someone else said, you should read nextInt() into a variable so you can assign it later. Your code will ask for a number, and then if that number is not zero, it will forget what the number was and then ask for another number to be input, which will get assigned.</p>\n<p>As for potential solutions: One idea would be to move the loop to its own method, and then you could just use &quot;return&quot; in lieu of &quot;break&quot;. It's effectively the same concept, but avoids the break keyword. I worry that he may not like that either though. It's not clear why he doesn't like break, so it's hard to say.</p>\n<p>Another solution would be to replace the for loop with a while loop, get the next input at the end of the loop, and then have the conditional for the loop include the number not being zero.</p>\n"},{"tags":[],"owner":{"account_id":9919243,"reputation":516,"user_id":7343009,"display_name":"Nurio Fern&#225;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677014106,"creation_date":1677014106,"answer_id":75525974,"question_id":75525828,"body_markdown":"The **break;** and **continue;** are the best way to control the flow of a loop. Anyway, It&#39;s a reality that professors around the world are haters of that.\r\n\r\nWith this kind of nonsense limitation, you have to be creative if you want to end up with a code that doesn&#39;t look like shit.\r\n\r\nMy suggestion, is a little bit obfuscated and makes to code harder to understand, but is the closest thing to &quot;break&quot;:\r\n\r\n```java\r\nint length = 10;\r\nfor(i = 0; i &lt; length; i++)           \r\n{\r\n    i = length; // This produces the same effect as break.\r\n}\r\n```\r\n\r\nGood luck with that, stay cool and keep things nice and clean!","title":"Exit for loop without using a break statement","body":"<p>The <strong>break;</strong> and <strong>continue;</strong> are the best way to control the flow of a loop. Anyway, It's a reality that professors around the world are haters of that.</p>\n<p>With this kind of nonsense limitation, you have to be creative if you want to end up with a code that doesn't look like shit.</p>\n<p>My suggestion, is a little bit obfuscated and makes to code harder to understand, but is the closest thing to &quot;break&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int length = 10;\nfor(i = 0; i &lt; length; i++)           \n{\n    i = length; // This produces the same effect as break.\n}\n</code></pre>\n<p>Good luck with that, stay cool and keep things nice and clean!</p>\n"}],"owner":{"account_id":23035625,"reputation":13,"user_id":17154427,"display_name":"jeremslol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75525865,"answer_count":4,"score":0,"last_activity_date":1677014106,"creation_date":1677012986,"question_id":75525828,"body_markdown":"\tpublic static void enterInts()\r\n\t{\r\n\t\tint i = 0;\r\n\t\tint[] userArray = new int[9];\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter up to 10 integers, type 0 when done&quot;);\r\n\t\t\r\n\t\tfor(i = 0; i &lt; userArray.length; i++)\t\t\t\r\n\t\t{\r\n\t\t\tif (keyboard.nextInt() != 0)\t\r\n\t\t\t\tuserArray[i] = keyboard.nextInt();\r\n\t\t\telse\r\n\t\t\t\tbreak;\r\n\t\t}//for\r\n\t\tposOrNeg(userArray);\r\n\t}//enterInts\r\n\r\nMy professor REALLY hates break statements and continue() in loops, so I would like to know if there is anyway to exit this for loop once &quot;0&quot; is typed without using one.","title":"Exit for loop without using a break statement","body":"<pre><code>public static void enterInts()\n{\n    int i = 0;\n    int[] userArray = new int[9];\n    \n    System.out.println(&quot;Enter up to 10 integers, type 0 when done&quot;);\n    \n    for(i = 0; i &lt; userArray.length; i++)           \n    {\n        if (keyboard.nextInt() != 0)    \n            userArray[i] = keyboard.nextInt();\n        else\n            break;\n    }//for\n    posOrNeg(userArray);\n}//enterInts\n</code></pre>\n<p>My professor REALLY hates break statements and continue() in loops, so I would like to know if there is anyway to exit this for loop once &quot;0&quot; is typed without using one.</p>\n"},{"tags":["java","spring-boot","couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676279167,"post_id":75433773,"comment_id":133098105,"body_markdown":"What are _&quot;Lac keys&quot;_?","body":"What are <i>&quot;Lac keys&quot;</i>?"},{"owner":{"account_id":10540449,"reputation":213,"user_id":7766732,"display_name":"Vipin Gupta"},"score":1,"creation_date":1676282735,"post_id":75433773,"comment_id":133099065,"body_markdown":"@MarkRotteveel its number unit we use in India. Have formatted question so everyone can understand.","body":"@MarkRotteveel its number unit we use in India. Have formatted question so everyone can understand."},{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":2,"creation_date":1676286770,"post_id":75433773,"comment_id":133100152,"body_markdown":"you can keep a timestamp of a key used last time. Then use a scheduler every night to see if the key is used before threshold, delete it.","body":"you can keep a timestamp of a key used last time. Then use a scheduler every night to see if the key is used before threshold, delete it."}],"answers":[{"tags":[],"owner":{"account_id":7571250,"reputation":336,"user_id":5745077,"display_name":"Ian McCloy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676367649,"creation_date":1676367649,"answer_id":75445952,"question_id":75433773,"body_markdown":"This is something that is easily implemented in the application tier.  Say you wanted all new keys to be deleted after 90 days and delete any keys that are unused for 30 days. \r\n\r\nWhen you create the document, add a creation timestamp field and a TTL of 30 days.  Then when your application reads/updates a document, you can set a new TTL on the document which is calculated as the timestamp + 90 days.  \r\n\r\nAfter 30 days any unused docs will be expired, documents which have been accessed and updated will have a TTL in 60 additional days. \r\n\r\nThanks,\r\nIan McCloy (Principal Product Manager, Couchbase)","title":"Delete unused keys from CB","body":"<p>This is something that is easily implemented in the application tier.  Say you wanted all new keys to be deleted after 90 days and delete any keys that are unused for 30 days.</p>\n<p>When you create the document, add a creation timestamp field and a TTL of 30 days.  Then when your application reads/updates a document, you can set a new TTL on the document which is calculated as the timestamp + 90 days.</p>\n<p>After 30 days any unused docs will be expired, documents which have been accessed and updated will have a TTL in 60 additional days.</p>\n<p>Thanks,\nIan McCloy (Principal Product Manager, Couchbase)</p>\n"},{"tags":[],"owner":{"account_id":17201369,"reputation":421,"user_id":12453032,"display_name":"Jon Strabala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677013865,"creation_date":1677013865,"answer_id":75525944,"question_id":75433773,"body_markdown":"The Couchbase Eventing service can be periodically run to remove old data, it doesn&#39;t need an index so in some situations it is good solution.   This isn&#39;t as clean as Ian&#39;s TTL approach but works if you have a mixed set of documents some you want to purge and other you want to keep.\r\n\r\nRefer to this post: https://forums.couchbase.com/t/delete-1-billion-doc-having-docs-key-company-name-employeeid/27261/4\r\n\r\nNote in later versions of Couchbase you can also pass a constant into the Eventing function for the &quot;cutoff_millis&quot; timestamp or just calculate it from Date.now().\r\n\r\nIf you wanted to automate this you could deploy and undeploy via the Eventing REST API and a crontab job.\r\n\r\n","title":"Delete unused keys from CB","body":"<p>The Couchbase Eventing service can be periodically run to remove old data, it doesn't need an index so in some situations it is good solution.   This isn't as clean as Ian's TTL approach but works if you have a mixed set of documents some you want to purge and other you want to keep.</p>\n<p>Refer to this post: <a href=\"https://forums.couchbase.com/t/delete-1-billion-doc-having-docs-key-company-name-employeeid/27261/4\" rel=\"nofollow noreferrer\">https://forums.couchbase.com/t/delete-1-billion-doc-having-docs-key-company-name-employeeid/27261/4</a></p>\n<p>Note in later versions of Couchbase you can also pass a constant into the Eventing function for the &quot;cutoff_millis&quot; timestamp or just calculate it from Date.now().</p>\n<p>If you wanted to automate this you could deploy and undeploy via the Eventing REST API and a crontab job.</p>\n"}],"owner":{"account_id":10540449,"reputation":213,"user_id":7766732,"display_name":"Vipin Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75445952,"answer_count":2,"score":1,"last_activity_date":1677013865,"creation_date":1676278786,"question_id":75433773,"body_markdown":"We have approx 1 million keys in CB and each key has expiry time of 10 days.\r\nBasically after every 10 days we run a schedular to re-insert data in CB for these 1 million keys.\r\n\r\nOut of these there are approx 0.5 million keys which are not used. There is no way to identify which keys will be used and which will not.\r\n\r\nI have checked if there is a way to define 2 TTL for a key. \r\n1. Delete record after fixed certain time period. (expiry)\r\n2. Delete record if key not used for certain time period\r\n\r\nIs there some way to delete these unused keys.\r\n\r\n","title":"Delete unused keys from CB","body":"<p>We have approx 1 million keys in CB and each key has expiry time of 10 days.\nBasically after every 10 days we run a schedular to re-insert data in CB for these 1 million keys.</p>\n<p>Out of these there are approx 0.5 million keys which are not used. There is no way to identify which keys will be used and which will not.</p>\n<p>I have checked if there is a way to define 2 TTL for a key.</p>\n<ol>\n<li>Delete record after fixed certain time period. (expiry)</li>\n<li>Delete record if key not used for certain time period</li>\n</ol>\n<p>Is there some way to delete these unused keys.</p>\n"},{"tags":["java","spring-boot","maven","google-oauth-java-client"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676948484,"post_id":75515900,"comment_id":133235349,"body_markdown":"Does this answer your question? [How to read JSON file from resources in Spring Boot](https://stackoverflow.com/questions/58703834/how-to-read-json-file-from-resources-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58703834/how-to-read-json-file-from-resources-in-spring-boot\">How to read JSON file from resources in Spring Boot</a>"},{"owner":{"account_id":18134089,"reputation":35,"user_id":13188863,"display_name":"aebange"},"score":0,"creation_date":1676949396,"post_id":75515900,"comment_id":133235448,"body_markdown":"These methods only work assuming you have not packaged your project into a jar","body":"These methods only work assuming you have not packaged your project into a jar"}],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677013765,"creation_date":1677013765,"answer_id":75525927,"question_id":75515900,"body_markdown":"File packaged into **jar** archive is not a fully-featured file that you can read by **FileReader**.\r\nHowever, **GoogleClientSecrets** accepts any **Reader**, so just use **InputStreamReader**:\r\n\r\n    GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new InputStreamReader(Application.class.getResourceAsStream(&quot;/google-oauth/credential.json&quot;));\r\n","title":"How to get an absolute path to a resource inside the springboot resources folder?","body":"<p>File packaged into <strong>jar</strong> archive is not a fully-featured file that you can read by <strong>FileReader</strong>.\nHowever, <strong>GoogleClientSecrets</strong> accepts any <strong>Reader</strong>, so just use <strong>InputStreamReader</strong>:</p>\n<pre><code>GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new InputStreamReader(Application.class.getResourceAsStream(&quot;/google-oauth/credential.json&quot;));\n</code></pre>\n"}],"owner":{"account_id":18134089,"reputation":35,"user_id":13188863,"display_name":"aebange"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75525927,"answer_count":1,"score":1,"last_activity_date":1677013765,"creation_date":1676948020,"question_id":75515900,"body_markdown":"I have a folder located inside of a resources folder in a Java springboot project...\r\n[![screenshot](https://i.stack.imgur.com/LZWZT.png)](https://i.stack.imgur.com/LZWZT.png)\r\n\r\nI am attempting to get the filepath of this file both when running the code locally, AND when the project has been packaged into a jar file (using maven)\r\n\r\nThe problem is that when the project is packaged, the location of the file changes to something like ``...\\backend-1.0-SNAPSHOT-exec.jar\\BOOT-INF\\classes\\google-oauth\\credential.json``\r\n\r\n\r\nI have attempted multiple methods of referring to this file, but none of them have worked. I have spent probably 4 hours trying to find a way to dynamically refer to the location of this file and I am out of steam.\r\n\r\nThe current method I have works fine when running locally (except I have to manually strip off leading forward slashes and convert forward slashes to backslashes, which sucks), except once the app is packaged it no longer works (and I have no idea why).\r\n\r\n\r\n```java\r\n// Get the location of the credential.json file regardless of the OS separator or if the app is running locally or packaged\r\nURL credentialLocationURL = Application.class.getClassLoader().getResource(&quot;google-oauth/credential.json&quot;);\r\nString credentialLocation = URLDecoder.decode(credentialLocationURL.getPath(), &quot;UTF-8&quot;);\r\n\r\n// Remove leading slashes, the word &#39;file:&#39;, and replace remaining slashes with the proper system file separator character\r\ncredentialLocation = credentialLocation.substring(1);\r\ncredentialLocation = credentialLocation.replaceAll(&quot;ile:/&quot;, &quot;&quot;);\r\ncredentialLocation = credentialLocation.replace(&#39;/&#39;, File.separatorChar);\r\n\r\n\r\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new FileReader(credentialLocation));\r\n```\r\n\r\n\r\nWith this code, the app blows up, citing this error:\r\n`java.io.FileNotFoundException: C:\\Users\\My Username\\IdeaProjects\\sigilLab\\backend\\target\\backend-1.0-SNAPSHOT-exec.jar!\\BOOT-INF\\classes!\\google-oauth\\credential.json (The system cannot find the path specified)\r\n`\r\n\r\nI have ALSO attempted [this solution](https://stackoverflow.com/questions/17351043/how-to-get-absolute-path-to-file-in-resources-folder-of-your-project), but get a different (albeit similar) error\r\n\r\nThe code I used for that method:\r\n```java\r\nURL resource = Application.class.getResource(&quot;/google-oauth/credential.json&quot;);\r\nString credentialLocation = Paths.get(resource.toURI()).toString();\r\n\r\n\r\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new FileReader(credentialLocation));\r\n```\r\n\r\n\r\n`Error creating bean with name &#39;com.lessons.services.GoogleOauthService&#39;: Invocation o\r\nf init method failed; nested exception is java.nio.file.FileSystemNotFoundException`\r\n\r\n**It might also be worth mentioning that I am running this function with the @PostConstruct decorator, which may potentially be running this before the resources file is constructed? I am not entirely familiar with how Springboot handles this.**\r\n\r\nAny help would be appreciated. ","title":"How to get an absolute path to a resource inside the springboot resources folder?","body":"<p>I have a folder located inside of a resources folder in a Java springboot project...\n<a href=\"https://i.stack.imgur.com/LZWZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LZWZT.png\" alt=\"screenshot\" /></a></p>\n<p>I am attempting to get the filepath of this file both when running the code locally, AND when the project has been packaged into a jar file (using maven)</p>\n<p>The problem is that when the project is packaged, the location of the file changes to something like <code>...\\backend-1.0-SNAPSHOT-exec.jar\\BOOT-INF\\classes\\google-oauth\\credential.json</code></p>\n<p>I have attempted multiple methods of referring to this file, but none of them have worked. I have spent probably 4 hours trying to find a way to dynamically refer to the location of this file and I am out of steam.</p>\n<p>The current method I have works fine when running locally (except I have to manually strip off leading forward slashes and convert forward slashes to backslashes, which sucks), except once the app is packaged it no longer works (and I have no idea why).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get the location of the credential.json file regardless of the OS separator or if the app is running locally or packaged\nURL credentialLocationURL = Application.class.getClassLoader().getResource(&quot;google-oauth/credential.json&quot;);\nString credentialLocation = URLDecoder.decode(credentialLocationURL.getPath(), &quot;UTF-8&quot;);\n\n// Remove leading slashes, the word 'file:', and replace remaining slashes with the proper system file separator character\ncredentialLocation = credentialLocation.substring(1);\ncredentialLocation = credentialLocation.replaceAll(&quot;ile:/&quot;, &quot;&quot;);\ncredentialLocation = credentialLocation.replace('/', File.separatorChar);\n\n\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new FileReader(credentialLocation));\n</code></pre>\n<p>With this code, the app blows up, citing this error:\n<code>java.io.FileNotFoundException: C:\\Users\\My Username\\IdeaProjects\\sigilLab\\backend\\target\\backend-1.0-SNAPSHOT-exec.jar!\\BOOT-INF\\classes!\\google-oauth\\credential.json (The system cannot find the path specified) </code></p>\n<p>I have ALSO attempted <a href=\"https://stackoverflow.com/questions/17351043/how-to-get-absolute-path-to-file-in-resources-folder-of-your-project\">this solution</a>, but get a different (albeit similar) error</p>\n<p>The code I used for that method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL resource = Application.class.getResource(&quot;/google-oauth/credential.json&quot;);\nString credentialLocation = Paths.get(resource.toURI()).toString();\n\n\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new FileReader(credentialLocation));\n</code></pre>\n<p><code>Error creating bean with name 'com.lessons.services.GoogleOauthService': Invocation o f init method failed; nested exception is java.nio.file.FileSystemNotFoundException</code></p>\n<p><strong>It might also be worth mentioning that I am running this function with the @PostConstruct decorator, which may potentially be running this before the resources file is constructed? I am not entirely familiar with how Springboot handles this.</strong></p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","arrays","arraylist","duplicates"],"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1235006790,"post_id":562894,"comment_id":374912,"body_markdown":"If &quot;Block&quot; is compared by an int, you should probably have hashCode return that same int and have equals compare those ints.","body":"If &quot;Block&quot; is compared by an int, you should probably have hashCode return that same int and have equals compare those ints."},{"owner":{"account_id":7552307,"reputation":3828,"user_id":5733258,"display_name":"dmarquina"},"score":0,"creation_date":1560197802,"post_id":562894,"comment_id":99649256,"body_markdown":"use Set instead of List","body":"use Set instead of List"}],"answers":[{"comments":[{"owner":{"account_id":11744,"reputation":10351,"user_id":22801,"accept_rate":90,"display_name":"jon077"},"score":14,"creation_date":1234992457,"post_id":562906,"comment_id":374169,"body_markdown":"Make sure to implement hashCode/equals as well.","body":"Make sure to implement hashCode/equals as well."},{"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"score":1,"creation_date":1234992528,"post_id":562906,"comment_id":374173,"body_markdown":"Or even a bit easier: wrap it when creating the set, e.g. new HashSet(list), instead of using addAll.","body":"Or even a bit easier: wrap it when creating the set, e.g. new HashSet(list), instead of using addAll."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1234992541,"post_id":562906,"comment_id":374174,"body_markdown":"@jon077: That depends on your definition of &quot;duplicate&quot;.","body":"@jon077: That depends on your definition of &quot;duplicate&quot;."},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1234992580,"post_id":562906,"comment_id":374180,"body_markdown":"Would the process of detecting the elements in a 2D array be the same?\nFor example, checking from array[0][0] to array[0][6] (a &#39;row&#39;)..?\n\nMany thanks,\nTerry","body":"Would the process of detecting the elements in a 2D array be the same? For example, checking from array[0][0] to array[0][6] (a &#39;row&#39;)..?  Many thanks, Terry"},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1234992644,"post_id":562906,"comment_id":374184,"body_markdown":"Each object in the array holds an integer value. By &quot;duplicate&quot;, the object would have the same integer value.","body":"Each object in the array holds an integer value. By &quot;duplicate&quot;, the object would have the same integer value."},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1234992795,"post_id":562906,"comment_id":374194,"body_markdown":"Terry, there are probably more efficient ways, but yes, you could add the array to a Set and compare Set.size to array.length.","body":"Terry, there are probably more efficient ways, but yes, you could add the array to a Set and compare Set.size to array.length."},{"owner":{"account_id":653,"reputation":5725,"user_id":853,"display_name":"Nikhil"},"score":0,"creation_date":1234992932,"post_id":562906,"comment_id":374208,"body_markdown":"&quot;Duplicate&quot; has multiple meanings for objects (as opposed to primitives).  If you&#39;re just using ints, or the Integer class which implements equals(), that shouldn&#39;t be an issue.","body":"&quot;Duplicate&quot; has multiple meanings for objects (as opposed to primitives).  If you&#39;re just using ints, or the Integer class which implements equals(), that shouldn&#39;t be an issue."},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1234995720,"post_id":562906,"comment_id":374414,"body_markdown":"I&#39;m trying to implement the solution above but it seems to be triggering an error message which says: &quot;myFile.java uses unchecked or unsafe operations&quot;\nNot quite sure what it meansor what to do!","body":"I&#39;m trying to implement the solution above but it seems to be triggering an error message which says: &quot;myFile.java uses unchecked or unsafe operations&quot; Not quite sure what it meansor what to do!"},{"owner":{"account_id":9763,"reputation":6303,"user_id":18160,"accept_rate":44,"display_name":"Paul Brinkley"},"score":0,"creation_date":1235001116,"post_id":562906,"comment_id":374699,"body_markdown":"I think we&#39;d have to see the code you actually wrote.  The snippet in the answer isn&#39;t intended to compile as written, but what was written, should compile fine, provided you filled in the bits well.","body":"I think we&#39;d have to see the code you actually wrote.  The snippet in the answer isn&#39;t intended to compile as written, but what was written, should compile fine, provided you filled in the bits well."},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1235002837,"post_id":562906,"comment_id":374759,"body_markdown":"You can&#39;t turn a table into a list like that.  Look at the Arrays class.","body":"You can&#39;t turn a table into a list like that.  Look at the Arrays class."},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1235002978,"post_id":562906,"comment_id":374767,"body_markdown":"If you&#39;re trying to turn the entire 36 Block objects into a single list, you need to loop.","body":"If you&#39;re trying to turn the entire 36 Block objects into a single list, you need to loop."},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1235003019,"post_id":562906,"comment_id":374768,"body_markdown":"Comments aren&#39;t a good place to solve a secondary problem like this.  Edit your question and I&#39;ll edit the answer, or ask a new question.","body":"Comments aren&#39;t a good place to solve a secondary problem like this.  Edit your question and I&#39;ll edit the answer, or ask a new question."},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1235003089,"post_id":562906,"comment_id":374773,"body_markdown":"Ah, I see that a &quot;table&quot; is a different thing entirely. Assume that &quot;table1&quot; is the name given to 2D array of &quot;Block&quot; objects","body":"Ah, I see that a &quot;table&quot; is a different thing entirely. Assume that &quot;table1&quot; is the name given to 2D array of &quot;Block&quot; objects"},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1235003659,"post_id":562906,"comment_id":374788,"body_markdown":"Sorry about the clutter in the comments, I&#39;ve now edited my question. Thank you for the help so far!","body":"Sorry about the clutter in the comments, I&#39;ve now edited my question. Thank you for the help so far!"},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1235004215,"post_id":562906,"comment_id":374812,"body_markdown":"Ok, so from what I can tell, the loops add each &#39;row&#39; to a Set.\nSo am i correct in thinking that now all that remains to do is compare each Set to the size of table1 (and if Set&#39;s size is less than the size of table1&#39;s size then there are duplicates)?","body":"Ok, so from what I can tell, the loops add each &#39;row&#39; to a Set. So am i correct in thinking that now all that remains to do is compare each Set to the size of table1 (and if Set&#39;s size is less than the size of table1&#39;s size then there are duplicates)?"},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1235004769,"post_id":562906,"comment_id":374837,"body_markdown":"You said you wanted to find out if there were any duplicates *within* a row, not over the whole table.  That&#39;s why I compare the set.size() to 6.","body":"You said you wanted to find out if there were any duplicates <i>within</i> a row, not over the whole table.  That&#39;s why I compare the set.size() to 6."},{"owner":{"display_name":"Terry"},"score":0,"creation_date":1235006017,"post_id":562906,"comment_id":374877,"body_markdown":"Update: Solution implemented and working!\nThank you all for your input on this problem and special thanks to Paul for going out of your way to help!\n\nWarm Regards,\nTerry","body":"Update: Solution implemented and working! Thank you all for your input on this problem and special thanks to Paul for going out of your way to help!  Warm Regards, Terry"}],"tags":[],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":17,"down_vote_count":0,"up_vote_count":230,"is_accepted":true,"score":230,"last_activity_date":1567021077,"creation_date":1234992332,"answer_id":562906,"question_id":562894,"body_markdown":"Simplest: dump the whole collection into a Set (using the Set(Collection) constructor or Set.addAll), then see if the Set has the same size as the ArrayList.\r\n\r\n\r\n    List&lt;Integer&gt; list = ...;\r\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(list);\r\n    \r\n    if(set.size() &lt; list.size()){\r\n        /* There are duplicates */\r\n    }\r\n\r\nUpdate: If I&#39;m understanding your question correctly, you have a 2d array of Block, as in\r\n\r\nBlock table[][];\r\n\r\nand you want to detect if any row of them has duplicates?\r\n\r\nIn that case, I could do the following, assuming that Block implements &quot;equals&quot; and &quot;hashCode&quot; correctly:\r\n\r\n    for (Block[] row : table) {\r\n       Set set = new HashSet&lt;Block&gt;(); \r\n       for (Block cell : row) {\r\n          set.add(cell);\r\n       }\r\n       if (set.size() &lt; 6) { //has duplicate\r\n       }\r\n    }\r\n\r\n \r\nI&#39;m not 100% sure of that for syntax, so it might be safer to write it as\r\n\r\n    for (int i = 0; i &lt; 6; i++) {\r\n       Set set = new HashSet&lt;Block&gt;(); \r\n       for (int j = 0; j &lt; 6; j++)\r\n        set.add(table[i][j]);\r\n     ...\r\n\r\n`Set.add` returns a boolean false if the item being added is already in the set, so you could even short circuit and bale out on any add that returns `false` if all you want to know is whether there are any duplicates.","title":"Java: Detect duplicates in ArrayList?","body":"<p>Simplest: dump the whole collection into a Set (using the Set(Collection) constructor or Set.addAll), then see if the Set has the same size as the ArrayList.</p>\n\n<pre><code>List&lt;Integer&gt; list = ...;\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(list);\n\nif(set.size() &lt; list.size()){\n    /* There are duplicates */\n}\n</code></pre>\n\n<p>Update: If I'm understanding your question correctly, you have a 2d array of Block, as in</p>\n\n<p>Block table[][];</p>\n\n<p>and you want to detect if any row of them has duplicates?</p>\n\n<p>In that case, I could do the following, assuming that Block implements \"equals\" and \"hashCode\" correctly:</p>\n\n<pre><code>for (Block[] row : table) {\n   Set set = new HashSet&lt;Block&gt;(); \n   for (Block cell : row) {\n      set.add(cell);\n   }\n   if (set.size() &lt; 6) { //has duplicate\n   }\n}\n</code></pre>\n\n<p>I'm not 100% sure of that for syntax, so it might be safer to write it as</p>\n\n<pre><code>for (int i = 0; i &lt; 6; i++) {\n   Set set = new HashSet&lt;Block&gt;(); \n   for (int j = 0; j &lt; 6; j++)\n    set.add(table[i][j]);\n ...\n</code></pre>\n\n<p><code>Set.add</code> returns a boolean false if the item being added is already in the set, so you could even short circuit and bale out on any add that returns <code>false</code> if all you want to know is whether there are any duplicates.</p>\n"},{"comments":[{"owner":{"account_id":11744,"reputation":10351,"user_id":22801,"accept_rate":90,"display_name":"jon077"},"score":1,"creation_date":1234992994,"post_id":562918,"comment_id":374214,"body_markdown":"Make sure to implement hashCode/equals :)","body":"Make sure to implement hashCode/equals :)"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1234993111,"post_id":562918,"comment_id":374224,"body_markdown":"@jon077: Not necessarily, as I just said.","body":"@jon077: Not necessarily, as I just said."},{"owner":{"account_id":4088175,"reputation":69,"user_id":3356944,"display_name":"mcallahan"},"score":1,"creation_date":1508521900,"post_id":562918,"comment_id":80656732,"body_markdown":"However using a Set does not _detect_ duplicates. It just prevents them. Unless of course you check the result of the add method as noted by @akuhn above.","body":"However using a Set does not <i>detect</i> duplicates. It just prevents them. Unless of course you check the result of the add method as noted by @akuhn above."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1234992614,"creation_date":1234992614,"answer_id":562918,"question_id":562894,"body_markdown":"If you are looking to avoid having duplicates at all, then you should just cut out the middle process of detecting duplicates and use a [Set][1].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Set.html","title":"Java: Detect duplicates in ArrayList?","body":"<p>If you are looking to avoid having duplicates at all, then you should just cut out the middle process of detecting duplicates and use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\">Set</a>.</p>\n"},{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1235006726,"post_id":563016,"comment_id":374908,"body_markdown":"In this case, n is 6 so I wouldn&#39;t waste a lot of time on implementation details, but I&#39;ll keep your idea of the special heap sort if I ever need to do something like that.","body":"In this case, n is 6 so I wouldn&#39;t waste a lot of time on implementation details, but I&#39;ll keep your idea of the special heap sort if I ever need to do something like that."},{"owner":{"account_id":113585,"reputation":2779,"user_id":299080,"accept_rate":90,"display_name":"ChaimKut"},"score":0,"creation_date":1336314834,"post_id":563016,"comment_id":13527436,"body_markdown":"I don&#39;t understand the third paragraph. Mergesort and heapsort are both O(nlog(n)), not O(log(n)) as you write; even if you exit once you identify a duplicate, that still doesn&#39;t change your time complexity...","body":"I don&#39;t understand the third paragraph. Mergesort and heapsort are both O(nlog(n)), not O(log(n)) as you write; even if you exit once you identify a duplicate, that still doesn&#39;t change your time complexity..."},{"owner":{"account_id":5643901,"reputation":750,"user_id":4466720,"accept_rate":50,"display_name":"Petr Dvoř&#225;k"},"score":1,"creation_date":1622210098,"post_id":563016,"comment_id":119734469,"body_markdown":"Commenting just to remove confusing info from the internet. The time complexity of the accepted answer is actually O(n) when using insertion to HashSet. The memory complexity is doubled, but still O(n)... you do not need to sort anything unless you have a requirement of minimalistic memory impact...","body":"Commenting just to remove confusing info from the internet. The time complexity of the accepted answer is actually O(n) when using insertion to HashSet. The memory complexity is doubled, but still O(n)... you do not need to sort anything unless you have a requirement of minimalistic memory impact..."}],"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"comment_count":3,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1234994730,"creation_date":1234994236,"answer_id":563016,"question_id":562894,"body_markdown":"If your elements are somehow Comparable (the fact that the order has any real meaning is indifferent -- it just needs to be consistent with your definition of equality), the fastest duplicate removal solution is going to sort the list ( 0(n log(n)) ) then to do a single pass and look for *repeated* elements (that is, equal elements that follow each other) (this is O(n)).\r\n\r\nThe overall complexity is going to be O(n log(n)), which is roughly the same as what you would get with a Set (n times long(n)), but with a much smaller constant. This is because the constant in sort/dedup results from the cost of comparing elements, whereas the cost from the set is most likely to result from a hash computation, plus one (possibly several) hash comparisons. If you are using a hash-based Set implementation, that is, because a Tree based is going to give you a O( n log&#178;(n) ), which is even worse.\r\n\r\nAs I understand it, however, you do not need to *remove* duplicates, but merely test for their existence. So you should hand-code a merge or heap sort algorithm on your array, that simply exits returning true (i.e. &quot;there is a dup&quot;) if your comparator returns 0, and otherwise completes the sort, and traverse the sorted array testing for repeats. In a merge or heap sort, indeed, when the sort is completed, you will have compared every duplicate pair unless both elements were already in their final positions (which is unlikely). Thus, a tweaked sort algorithm should yield a huge performance improvement (I would have to prove that, but I guess the tweaked algorithm should be in the O(log(n)) on uniformly random data)","title":"Java: Detect duplicates in ArrayList?","body":"<p>If your elements are somehow Comparable (the fact that the order has any real meaning is indifferent -- it just needs to be consistent with your definition of equality), the fastest duplicate removal solution is going to sort the list ( 0(n log(n)) ) then to do a single pass and look for <em>repeated</em> elements (that is, equal elements that follow each other) (this is O(n)).</p>\n\n<p>The overall complexity is going to be O(n log(n)), which is roughly the same as what you would get with a Set (n times long(n)), but with a much smaller constant. This is because the constant in sort/dedup results from the cost of comparing elements, whereas the cost from the set is most likely to result from a hash computation, plus one (possibly several) hash comparisons. If you are using a hash-based Set implementation, that is, because a Tree based is going to give you a O( n log²(n) ), which is even worse.</p>\n\n<p>As I understand it, however, you do not need to <em>remove</em> duplicates, but merely test for their existence. So you should hand-code a merge or heap sort algorithm on your array, that simply exits returning true (i.e. \"there is a dup\") if your comparator returns 0, and otherwise completes the sort, and traverse the sorted array testing for repeats. In a merge or heap sort, indeed, when the sort is completed, you will have compared every duplicate pair unless both elements were already in their final positions (which is unlikely). Thus, a tweaked sort algorithm should yield a huge performance improvement (I would have to prove that, but I guess the tweaked algorithm should be in the O(log(n)) on uniformly random data)</p>\n"},{"comments":[{"owner":{"account_id":4807807,"reputation":568,"user_id":3882240,"display_name":"Sergiy Dakhniy"},"score":0,"creation_date":1598562275,"post_id":563553,"comment_id":112507895,"body_markdown":"That&#39;s too expensive considering algorithmic complexity. Best sorting is O(n*log(n)) while you can find duplicates with O(n) complexity.","body":"That&#39;s too expensive considering algorithmic complexity. Best sorting is O(n*log(n)) while you can find duplicates with O(n) complexity."}],"tags":[],"owner":{"account_id":26104,"reputation":2426,"user_id":67637,"display_name":"Antonio"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1235005975,"creation_date":1235005975,"answer_id":563553,"question_id":562894,"body_markdown":"Simply put:\r\n1) make sure all items are comparable\r\n2) sort the array\r\n2) iterate over the array and find duplicates\r\n","title":"Java: Detect duplicates in ArrayList?","body":"<p>Simply put:\n1) make sure all items are comparable\n2) sort the array\n2) iterate over the array and find duplicates</p>\n"},{"comments":[{"owner":{"account_id":927017,"reputation":2097,"user_id":957595,"accept_rate":75,"display_name":"Paul Jackson"},"score":7,"creation_date":1398725450,"post_id":600319,"comment_id":35764877,"body_markdown":"Would it be more efficient to tell the HashSet how much space to allocate: `Set&lt;T&gt; set = new HashSet&lt;T&gt;(list.size());`? Given a List parameter I think it is more efficient if it is common for the list to not contain duplicates.","body":"Would it be more efficient to tell the HashSet how much space to allocate: <code>Set&lt;T&gt; set = new HashSet&lt;T&gt;(list.size());</code>? Given a List parameter I think it is more efficient if it is common for the list to not contain duplicates."},{"owner":{"account_id":6928567,"reputation":967,"user_id":5318827,"display_name":"Jay Anderson"},"score":1,"creation_date":1521753561,"post_id":600319,"comment_id":85879248,"body_markdown":"@PaulJackson Sizing based on the full list will probably be beneficial. However if the common case is for it to find a duplicate early then the space was wasted. Also even sizing the `HashSet` to the size of the list will result in resizing when running through the whole list because of the underlying loading factor of the hash structure.","body":"@PaulJackson Sizing based on the full list will probably be beneficial. However if the common case is for it to find a duplicate early then the space was wasted. Also even sizing the <code>HashSet</code> to the size of the list will result in resizing when running through the whole list because of the underlying loading factor of the hash structure."},{"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"score":1,"creation_date":1521759083,"post_id":600319,"comment_id":85881371,"body_markdown":"Unless you experience actual issues with runtime or space I would not finetune your code like that. Premature optimization is best avoided.","body":"Unless you experience actual issues with runtime or space I would not finetune your code like that. Premature optimization is best avoided."}],"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"comment_count":3,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1381379715,"creation_date":1235934797,"answer_id":600319,"question_id":562894,"body_markdown":"Improved code, using return value of `Set#add` instead of comparing the size of list and set.\r\n\r\n\r\n    public static &lt;T&gt; boolean hasDuplicate(Iterable&lt;T&gt; all) {\r\n        Set&lt;T&gt; set = new HashSet&lt;T&gt;();\r\n        // Set#add returns false if the set does not change, which\r\n        // indicates that a duplicate element has been added.\r\n        for (T each: all) if (!set.add(each)) return true;\r\n        return false;\r\n    }","title":"Java: Detect duplicates in ArrayList?","body":"<p>Improved code, using return value of <code>Set#add</code> instead of comparing the size of list and set.</p>\n\n<pre><code>public static &lt;T&gt; boolean hasDuplicate(Iterable&lt;T&gt; all) {\n    Set&lt;T&gt; set = new HashSet&lt;T&gt;();\n    // Set#add returns false if the set does not change, which\n    // indicates that a duplicate element has been added.\n    for (T each: all) if (!set.add(each)) return true;\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":112365,"reputation":11367,"user_id":296430,"accept_rate":93,"display_name":"Jules Colle"},"score":0,"creation_date":1349292203,"post_id":1404807,"comment_id":17170043,"body_markdown":"That&#39;s pretty awesome. you have some invalid code, and maybe it&#39;s not the most optimal way, but your approach totally rocks! (and it works great)","body":"That&#39;s pretty awesome. you have some invalid code, and maybe it&#39;s not the most optimal way, but your approach totally rocks! (and it works great)"}],"tags":[],"owner":{"account_id":23830,"reputation":141,"user_id":60062,"display_name":"user60062"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1321966578,"creation_date":1252583126,"answer_id":1404807,"question_id":562894,"body_markdown":"Improved code to return the duplicate elements \r\n\r\n - Can find duplicates in a Collection\r\n - return the set of duplicates\r\n - Unique Elements can be obtained from the Set\r\n\r\n---\r\n\r\n    public static &lt;T&gt; List getDuplicate(Collection&lt;T&gt; list) {\r\n     \r\n        final List&lt;T&gt; duplicatedObjects = new ArrayList&lt;T&gt;();\r\n        Set&lt;T&gt; set = new HashSet&lt;T&gt;() {\r\n        @Override\r\n        public boolean add(T e) {\r\n            if (contains(e)) {\r\n                duplicatedObjects.add(e);\r\n            }\r\n            return super.add(e);\r\n        }\r\n        };\r\n       for (T t : list) {\r\n            set.add(t);\r\n        }\r\n        return duplicatedObjects;\r\n    }\r\n    \r\n    \r\n    public static &lt;T&gt; boolean hasDuplicate(Collection&lt;T&gt; list) {\r\n        if (getDuplicate(list).isEmpty())\r\n            return false;\r\n        return true;\r\n    }","title":"Java: Detect duplicates in ArrayList?","body":"<p>Improved code to return the duplicate elements </p>\n\n<ul>\n<li>Can find duplicates in a Collection</li>\n<li>return the set of duplicates</li>\n<li>Unique Elements can be obtained from the Set</li>\n</ul>\n\n<hr>\n\n<pre><code>public static &lt;T&gt; List getDuplicate(Collection&lt;T&gt; list) {\n\n    final List&lt;T&gt; duplicatedObjects = new ArrayList&lt;T&gt;();\n    Set&lt;T&gt; set = new HashSet&lt;T&gt;() {\n    @Override\n    public boolean add(T e) {\n        if (contains(e)) {\n            duplicatedObjects.add(e);\n        }\n        return super.add(e);\n    }\n    };\n   for (T t : list) {\n        set.add(t);\n    }\n    return duplicatedObjects;\n}\n\n\npublic static &lt;T&gt; boolean hasDuplicate(Collection&lt;T&gt; list) {\n    if (getDuplicate(list).isEmpty())\n        return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165736,"reputation":1675,"user_id":389428,"accept_rate":48,"display_name":"Rakesh Sabbani"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1328295463,"creation_date":1328295463,"answer_id":9133979,"question_id":562894,"body_markdown":"To know the Duplicates in a List use the following code:It will give you the set which contains duplicates.\r\n\t\r\n     public Set&lt;?&gt; findDuplicatesInList(List&lt;?&gt; beanList) {\r\n\t\tSystem.out.println(&quot;findDuplicatesInList::&quot;+beanList);\r\n\t\tSet&lt;Object&gt; duplicateRowSet=null;\r\n\t\tduplicateRowSet=new LinkedHashSet&lt;Object&gt;();\r\n\t\t\t\tfor(int\ti=0;i&lt;beanList.size();i++){\r\n\t\t\t\t\tObject superString=beanList.get(i);\r\n\t\t\t\t\tSystem.out.println(&quot;findDuplicatesInList::superString::&quot;+superString);\r\n\t\t\t\t\tfor(int\tj=0;j&lt;beanList.size();j++){\r\n\t\t\t\t\t\tif(i!=j){\r\n\t\t\t\t\t\t\t Object\tsubString=beanList.get(j);\r\n\t\t\t\t\t\t\t System.out.println(&quot;findDuplicatesInList::subString::&quot;+subString);\r\n\t\t\t\t\t\t\t if(superString.equals(subString)){\r\n\t\t\t\t\t\t\t\t duplicateRowSet.add(beanList.get(j));\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;findDuplicatesInList::duplicationSet::&quot;+duplicateRowSet);\r\n\t\t\treturn duplicateRowSet;\r\n\t  }","title":"Java: Detect duplicates in ArrayList?","body":"<p>To know the Duplicates in a List use the following code:It will give you the set which contains duplicates.</p>\n\n<pre><code> public Set&lt;?&gt; findDuplicatesInList(List&lt;?&gt; beanList) {\n    System.out.println(\"findDuplicatesInList::\"+beanList);\n    Set&lt;Object&gt; duplicateRowSet=null;\n    duplicateRowSet=new LinkedHashSet&lt;Object&gt;();\n            for(int i=0;i&lt;beanList.size();i++){\n                Object superString=beanList.get(i);\n                System.out.println(\"findDuplicatesInList::superString::\"+superString);\n                for(int j=0;j&lt;beanList.size();j++){\n                    if(i!=j){\n                         Object subString=beanList.get(j);\n                         System.out.println(\"findDuplicatesInList::subString::\"+subString);\n                         if(superString.equals(subString)){\n                             duplicateRowSet.add(beanList.get(j));\n                         }\n                    }\n                }\n            }\n            System.out.println(\"findDuplicatesInList::duplicationSet::\"+duplicateRowSet);\n        return duplicateRowSet;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3166676,"reputation":26,"user_id":2676535,"display_name":"Amitesh Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383111310,"creation_date":1383111310,"answer_id":19674599,"question_id":562894,"body_markdown":"\t\tString tempVal = null;\r\n\t\tfor (int i = 0; i &lt; l.size(); i++) {\r\n\t\t\ttempVal = l.get(i); //take the ith object out of list\r\n\t\t\twhile (l.contains(tempVal)) {\r\n\t\t\t\tl.remove(tempVal); //remove all matching entries\r\n\t\t\t}\r\n\t\t\tl.add(tempVal); //at last add one entry\r\n\t\t}\r\nNote: this will have major performance hit though as items are removed from start of the list.\r\nTo address this, we have two options. 1) iterate in reverse order and remove elements. 2) Use LinkedList instead of ArrayList. Due to biased questions asked in interviews to remove duplicates from List without using any other collection, above example is the answer. In real world though, if I have to achieve this, I will put elements from List to Set, simple!","title":"Java: Detect duplicates in ArrayList?","body":"<pre><code>    String tempVal = null;\n    for (int i = 0; i &lt; l.size(); i++) {\n        tempVal = l.get(i); //take the ith object out of list\n        while (l.contains(tempVal)) {\n            l.remove(tempVal); //remove all matching entries\n        }\n        l.add(tempVal); //at last add one entry\n    }\n</code></pre>\n\n<p>Note: this will have major performance hit though as items are removed from start of the list.\nTo address this, we have two options. 1) iterate in reverse order and remove elements. 2) Use LinkedList instead of ArrayList. Due to biased questions asked in interviews to remove duplicates from List without using any other collection, above example is the answer. In real world though, if I have to achieve this, I will put elements from List to Set, simple!</p>\n"},{"tags":[],"owner":{"account_id":2410921,"reputation":3497,"user_id":2105986,"accept_rate":85,"display_name":"faizal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415607344,"creation_date":1415606984,"answer_id":26839327,"question_id":562894,"body_markdown":"    /**\r\n    \t * Method to detect presence of duplicates in a generic list. \r\n    \t * Depends on the equals method of the concrete type. make sure to override it as required.\r\n    \t */\r\n    \tpublic static &lt;T&gt; boolean hasDuplicates(List&lt;T&gt; list){\r\n    \t\tint count = list.size();\r\n    \t\tT t1,t2;\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;count;i++){\r\n    \t\t\tt1 = list.get(i);\r\n    \t\t\tfor(int j=i+1;j&lt;count;j++){\r\n    \t\t\t\tt2 = list.get(j);\r\n    \t\t\t\tif(t2.equals(t1)){\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n\r\nAn example of a concrete class that has overridden `equals()` :\r\n\r\n    public class Reminder{\r\n    \tprivate long id;\r\n    \tprivate int hour;\r\n    \tprivate int minute;\r\n    \t\r\n    \tpublic Reminder(long id, int hour, int minute){\r\n    \t\tthis.id = id;\r\n    \t\tthis.hour = hour;\r\n    \t\tthis.minute = minute;\r\n    \t}\r\n    \t\t\r\n    \t@Override\r\n        public boolean equals(Object other){\r\n    \t\tif(other == null) return false;\r\n    \t\tif(this.getClass() != other.getClass()) return false;\r\n    \t\tReminder otherReminder = (Reminder) other;\r\n    \t\tif(this.hour != otherReminder.hour) return false;\r\n    \t\tif(this.minute != otherReminder.minute) return false;\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    }","title":"Java: Detect duplicates in ArrayList?","body":"<pre><code>/**\n     * Method to detect presence of duplicates in a generic list. \n     * Depends on the equals method of the concrete type. make sure to override it as required.\n     */\n    public static &lt;T&gt; boolean hasDuplicates(List&lt;T&gt; list){\n        int count = list.size();\n        T t1,t2;\n\n        for(int i=0;i&lt;count;i++){\n            t1 = list.get(i);\n            for(int j=i+1;j&lt;count;j++){\n                t2 = list.get(j);\n                if(t2.equals(t1)){\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n\n<p>An example of a concrete class that has overridden <code>equals()</code> :</p>\n\n<pre><code>public class Reminder{\n    private long id;\n    private int hour;\n    private int minute;\n\n    public Reminder(long id, int hour, int minute){\n        this.id = id;\n        this.hour = hour;\n        this.minute = minute;\n    }\n\n    @Override\n    public boolean equals(Object other){\n        if(other == null) return false;\n        if(this.getClass() != other.getClass()) return false;\n        Reminder otherReminder = (Reminder) other;\n        if(this.hour != otherReminder.hour) return false;\n        if(this.minute != otherReminder.minute) return false;\n\n        return true;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1550506894,"post_id":33294387,"comment_id":96285024,"body_markdown":"Simplest and best answer if you want the duplicates, for performance you may init uniqueSet hint with size of args.","body":"Simplest and best answer if you want the duplicates, for performance you may init uniqueSet hint with size of args."}],"tags":[],"owner":{"account_id":7170890,"reputation":21,"user_id":5478384,"display_name":"Saurabh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550507021,"creation_date":1445570727,"answer_id":33294387,"question_id":562894,"body_markdown":"If you want the set of duplicate values:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n\r\n    public class FindDuplicateInArrayList {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSet&lt;String&gt; uniqueSet = new HashSet&lt;String&gt;();\r\n    \t\tList&lt;String&gt; dupesList = new ArrayList&lt;String&gt;();\r\n    \t\tfor (String a : args) {\r\n    \t\t\tif (uniqueSet.contains(a))\r\n    \t\t\t\tdupesList.add(a);\r\n    \t\t\telse\r\n    \t\t\t\tuniqueSet.add(a);\r\n    \t\t}\r\n    \t\tSystem.out.println(uniqueSet.size() + &quot; distinct words: &quot; + uniqueSet);\r\n    \t\tSystem.out.println(dupesList.size() + &quot; dupesList words: &quot; + dupesList);\r\n    \t}\r\n    }\r\n\r\nAnd probably also think about trimming values or using lowercase ... depending on your case.","title":"Java: Detect duplicates in ArrayList?","body":"<p>If you want the set of duplicate values:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class FindDuplicateInArrayList {\n\n    public static void main(String[] args) {\n\n        Set&lt;String&gt; uniqueSet = new HashSet&lt;String&gt;();\n        List&lt;String&gt; dupesList = new ArrayList&lt;String&gt;();\n        for (String a : args) {\n            if (uniqueSet.contains(a))\n                dupesList.add(a);\n            else\n                uniqueSet.add(a);\n        }\n        System.out.println(uniqueSet.size() + \" distinct words: \" + uniqueSet);\n        System.out.println(dupesList.size() + \" dupesList words: \" + dupesList);\n    }\n}\n</code></pre>\n\n<p>And probably also think about trimming values or using lowercase ... depending on your case.</p>\n"},{"comments":[{"owner":{"account_id":6742219,"reputation":3296,"user_id":5922757,"accept_rate":100,"display_name":"Jezor"},"score":4,"creation_date":1610112003,"post_id":35001661,"comment_id":116035817,"body_markdown":"Could be even shorter: `return stream.allMatch(new HashSet&lt;&gt;()::add);`","body":"Could be even shorter: <code>return stream.allMatch(new HashSet&lt;&gt;()::add);</code>"}],"tags":[],"owner":{"account_id":6928567,"reputation":967,"user_id":5318827,"display_name":"Jay Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1480710467,"creation_date":1453753440,"answer_id":35001661,"question_id":562894,"body_markdown":"I needed to do a similar operation for a `Stream`, but couldn&#39;t find a good example. Here&#39;s what I came up with.\r\n\r\n    public static &lt;T&gt; boolean areUnique(final Stream&lt;T&gt; stream) {\r\n        final Set&lt;T&gt; seen = new HashSet&lt;&gt;();\r\n        return stream.allMatch(seen::add);\r\n    }\r\n\r\nThis has the advantage of short-circuiting when duplicates are found early rather than having to process the whole stream and isn&#39;t much more complicated than just putting everything in a `Set` and checking the size. So this case would roughly be:\r\n\r\n    List&lt;T&gt; list = ...\r\n    boolean allDistinct = areUnique(list.stream());","title":"Java: Detect duplicates in ArrayList?","body":"<p>I needed to do a similar operation for a <code>Stream</code>, but couldn't find a good example. Here's what I came up with.</p>\n\n<pre><code>public static &lt;T&gt; boolean areUnique(final Stream&lt;T&gt; stream) {\n    final Set&lt;T&gt; seen = new HashSet&lt;&gt;();\n    return stream.allMatch(seen::add);\n}\n</code></pre>\n\n<p>This has the advantage of short-circuiting when duplicates are found early rather than having to process the whole stream and isn't much more complicated than just putting everything in a <code>Set</code> and checking the size. So this case would roughly be:</p>\n\n<pre><code>List&lt;T&gt; list = ...\nboolean allDistinct = areUnique(list.stream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2936050,"reputation":3084,"user_id":2514902,"display_name":"Ashana.Jackol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500178192,"creation_date":1472101423,"answer_id":39137025,"question_id":562894,"body_markdown":"best way to handle this issue is to use a **HashSet** :\r\n\r\n    ArrayList&lt;String&gt; listGroupCode = new ArrayList&lt;&gt;();\r\n    listGroupCode.add(&quot;A&quot;);\r\n    listGroupCode.add(&quot;A&quot;);\r\n    listGroupCode.add(&quot;B&quot;);\r\n    listGroupCode.add(&quot;C&quot;);\r\n    HashSet&lt;String&gt; set = new HashSet&lt;&gt;(listGroupCode);\r\n    ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;(set);\r\n\r\nJust print  **result** arraylist and see the result without duplicates :)","title":"Java: Detect duplicates in ArrayList?","body":"<p>best way to handle this issue is to use a <strong>HashSet</strong> :</p>\n\n<pre><code>ArrayList&lt;String&gt; listGroupCode = new ArrayList&lt;&gt;();\nlistGroupCode.add(\"A\");\nlistGroupCode.add(\"A\");\nlistGroupCode.add(\"B\");\nlistGroupCode.add(\"C\");\nHashSet&lt;String&gt; set = new HashSet&lt;&gt;(listGroupCode);\nArrayList&lt;String&gt; result = new ArrayList&lt;&gt;(set);\n</code></pre>\n\n<p>Just print  <strong>result</strong> arraylist and see the result without duplicates :)</p>\n"},{"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1499143440,"post_id":44896993,"comment_id":76771867,"body_markdown":"Add some explanation with answer for how this answer help OP in fixing current issue","body":"Add some explanation with answer for how this answer help OP in fixing current issue"}],"tags":[],"owner":{"account_id":2012183,"reputation":9,"user_id":1800375,"display_name":"Venkata"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499142153,"creation_date":1499142153,"answer_id":44896993,"question_id":562894,"body_markdown":"        ArrayList&lt;String&gt; withDuplicates = new ArrayList&lt;&gt;();\r\n        withDuplicates.add(&quot;1&quot;);\r\n        withDuplicates.add(&quot;2&quot;);\r\n        withDuplicates.add(&quot;1&quot;);\r\n        withDuplicates.add(&quot;3&quot;);\r\n        HashSet&lt;String&gt; set = new HashSet&lt;&gt;(withDuplicates);\r\n        ArrayList&lt;String&gt; withoutDupicates = new ArrayList&lt;&gt;(set);\r\n        \r\n        ArrayList&lt;String&gt; duplicates = new ArrayList&lt;String&gt;();\r\n\r\n        Iterator&lt;String&gt; dupIter = withDuplicates.iterator();\r\n        while(dupIter.hasNext())\r\n        {\r\n        String dupWord = dupIter.next();\r\n        if(withDuplicates.contains(dupWord))\r\n        {\r\n        \tduplicates.add(dupWord);\r\n        }else{\r\n        \twithoutDupicates.add(dupWord);\r\n        }\r\n        }\r\n      System.out.println(duplicates);\r\n      System.out.println(withoutDupicates);","title":"Java: Detect duplicates in ArrayList?","body":"<pre><code>    ArrayList&lt;String&gt; withDuplicates = new ArrayList&lt;&gt;();\n    withDuplicates.add(\"1\");\n    withDuplicates.add(\"2\");\n    withDuplicates.add(\"1\");\n    withDuplicates.add(\"3\");\n    HashSet&lt;String&gt; set = new HashSet&lt;&gt;(withDuplicates);\n    ArrayList&lt;String&gt; withoutDupicates = new ArrayList&lt;&gt;(set);\n\n    ArrayList&lt;String&gt; duplicates = new ArrayList&lt;String&gt;();\n\n    Iterator&lt;String&gt; dupIter = withDuplicates.iterator();\n    while(dupIter.hasNext())\n    {\n    String dupWord = dupIter.next();\n    if(withDuplicates.contains(dupWord))\n    {\n        duplicates.add(dupWord);\n    }else{\n        withoutDupicates.add(dupWord);\n    }\n    }\n  System.out.println(duplicates);\n  System.out.println(withoutDupicates);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4807807,"reputation":568,"user_id":3882240,"display_name":"Sergiy Dakhniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1550689545,"creation_date":1550689545,"answer_id":54793580,"question_id":562894,"body_markdown":"With Java 8+ you can use Stream API:\r\n\r\n    boolean areAllDistinct(List&lt;Block&gt; blocksList) {\r\n        return blocksList.stream().map(Block::getNum).distinct().count() == blockList.size();\r\n    }","title":"Java: Detect duplicates in ArrayList?","body":"<p>With Java 8+ you can use Stream API:</p>\n\n<pre><code>boolean areAllDistinct(List&lt;Block&gt; blocksList) {\n    return blocksList.stream().map(Block::getNum).distinct().count() == blockList.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7855388,"reputation":2241,"user_id":6868161,"accept_rate":69,"display_name":"grantespo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560197230,"creation_date":1560197230,"answer_id":56532893,"question_id":562894,"body_markdown":"This answer is wrriten in Kotlin, but can easily be translated to Java.\r\n\r\nIf your arraylist&#39;s size is within a fixed small range, then this is a great solution.\r\n\r\n    var duplicateDetected = false\r\n        if(arrList.size &gt; 1){\r\n            for(i in 0 until arrList.size){\r\n                for(j in 0 until arrList.size){\r\n                    if(i != j &amp;&amp; arrList.get(i) == arrList.get(j)){\r\n                        duplicateDetected = true\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Java: Detect duplicates in ArrayList?","body":"<p>This answer is wrriten in Kotlin, but can easily be translated to Java.</p>\n\n<p>If your arraylist's size is within a fixed small range, then this is a great solution.</p>\n\n<pre><code>var duplicateDetected = false\n    if(arrList.size &gt; 1){\n        for(i in 0 until arrList.size){\n            for(j in 0 until arrList.size){\n                if(i != j &amp;&amp; arrList.get(i) == arrList.get(j)){\n                    duplicateDetected = true\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8936907,"reputation":5144,"user_id":6667442,"display_name":"Ketan Ramani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576494454,"creation_date":1576494454,"answer_id":59355409,"question_id":562894,"body_markdown":"    private boolean isDuplicate() {\r\n        for (int i = 0; i &lt; arrayList.size(); i++) {\r\n            for (int j = i + 1; j &lt; arrayList.size(); j++) {\r\n                if (arrayList.get(i).getName().trim().equalsIgnoreCase(arrayList.get(j).getName().trim())) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return false;\r\n    }","title":"Java: Detect duplicates in ArrayList?","body":"<pre><code>private boolean isDuplicate() {\n    for (int i = 0; i &lt; arrayList.size(); i++) {\n        for (int j = i + 1; j &lt; arrayList.size(); j++) {\n            if (arrayList.get(i).getName().trim().equalsIgnoreCase(arrayList.get(j).getName().trim())) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677013899,"post_id":75525906,"comment_id":133252865,"body_markdown":"Basically a duplicate of [this answer](https://stackoverflow.com/a/9133979/1553851) with the bonus inefficiency of using a result list and checking for duplicates by hand, plus incorrect object comparison.","body":"Basically a duplicate of <a href=\"https://stackoverflow.com/a/9133979/1553851\">this answer</a> with the bonus inefficiency of using a result list and checking for duplicates by hand, plus incorrect object comparison."}],"tags":[],"owner":{"account_id":4511834,"reputation":159,"user_id":3667702,"accept_rate":20,"display_name":"Bibin Zacharias"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677013602,"creation_date":1677013602,"answer_id":75525906,"question_id":562894,"body_markdown":"A simple solution for learners.\r\n//Method to find the duplicates.\r\n\r\n\r\n\tpublic static List&lt;Integer&gt; findDublicate(List&lt;Integer&gt; numList){\r\n\t\tList&lt;Integer&gt; dupLst = new ArrayList&lt;Integer&gt;();\r\n\t\t//Compare one number against all the other number except the self.\r\n\t\tfor(int i =0;i&lt;numList.size();i++) {\r\n\t\t\tfor(int j=0 ; j&lt;numList.size();j++) {\r\n\t\t\t\tif(i!=j &amp;&amp; numList.get(i)==numList.get(j)) {\r\n\t\t\t\t\tboolean isNumExist = false;\r\n\t\t\t\t\t//The below for loop is used for avoid the duplicate again in the result list\r\n\t\t\t\t\tfor(Integer aNum: dupLst) {\r\n\t\t\t\t\t\tif(aNum==numList.get(i)) {\r\n\t\t\t\t\t\t\tisNumExist = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!isNumExist) {\r\n\t\t\t\t\t\tdupLst.add(numList.get(i));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dupLst;\r\n\t}","title":"Java: Detect duplicates in ArrayList?","body":"<p>A simple solution for learners.\n//Method to find the duplicates.</p>\n<pre><code>public static List&lt;Integer&gt; findDublicate(List&lt;Integer&gt; numList){\n    List&lt;Integer&gt; dupLst = new ArrayList&lt;Integer&gt;();\n    //Compare one number against all the other number except the self.\n    for(int i =0;i&lt;numList.size();i++) {\n        for(int j=0 ; j&lt;numList.size();j++) {\n            if(i!=j &amp;&amp; numList.get(i)==numList.get(j)) {\n                boolean isNumExist = false;\n                //The below for loop is used for avoid the duplicate again in the result list\n                for(Integer aNum: dupLst) {\n                    if(aNum==numList.get(i)) {\n                        isNumExist = true;\n                        break;\n                    }\n                }\n                if(!isNumExist) {\n                    dupLst.add(numList.get(i));\n                }\n            }\n        }\n    }\n    return dupLst;\n}\n</code></pre>\n"}],"owner":{"display_name":"Terry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332169,"favorite_count":0,"down_vote_count":1,"up_vote_count":122,"accepted_answer_id":562906,"answer_count":17,"score":121,"last_activity_date":1677013602,"creation_date":1234992151,"question_id":562894,"body_markdown":"How could I go about detecting (returning true/false) whether an ArrayList contains more than one of the same element in Java?\r\n\r\nMany thanks,\r\nTerry\r\n\r\n**Edit**\r\nForgot to mention that I am not looking to compare &quot;Blocks&quot; with each other but their integer values. Each &quot;block&quot; has an int and this is what makes them different.\r\nI find the int of a particular Block by calling a method named &quot;getNum&quot; (e.g. table1[0][2].getNum();","title":"Java: Detect duplicates in ArrayList?","body":"<p>How could I go about detecting (returning true/false) whether an ArrayList contains more than one of the same element in Java?</p>\n\n<p>Many thanks,\nTerry</p>\n\n<p><strong>Edit</strong>\nForgot to mention that I am not looking to compare \"Blocks\" with each other but their integer values. Each \"block\" has an int and this is what makes them different.\nI find the int of a particular Block by calling a method named \"getNum\" (e.g. table1[0][2].getNum();</p>\n"},{"tags":["java","junit","mockito","matcher"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1393915752,"post_id":22164787,"comment_id":33638247,"body_markdown":"Ensure you have **all** your arguments are using matchers (`anyXX` or `eq`): `userSubModuleDao.findById((any(UserSubModuleId.class)),false)` looks suspicious","body":"Ensure you have <b>all</b> your arguments are using matchers (<code>anyXX</code> or <code>eq</code>): <code>userSubModuleDao.findById((any(UserSubModuleId.class)),false&zwnj;&#8203;)</code> looks suspicious"},{"owner":{"account_id":4392493,"reputation":675,"user_id":3580458,"accept_rate":100,"display_name":"LisaMM"},"score":0,"creation_date":1428490288,"post_id":22164787,"comment_id":47180895,"body_markdown":"possible duplicate of [Mockito: InvalidUseOfMatchersException](http://stackoverflow.com/questions/14845690/mockito-invaliduseofmatchersexception)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14845690/mockito-invaliduseofmatchersexception\">Mockito: InvalidUseOfMatchersException</a>"}],"answers":[{"comments":[{"owner":{"account_id":2757688,"reputation":1001,"user_id":2375298,"accept_rate":28,"display_name":"user2375298"},"score":0,"creation_date":1393922343,"post_id":22164950,"comment_id":33641610,"body_markdown":"When i try to use doRetrun().when(), it gives me following error. TestUserModuleServiceImpl.testupdateSubModuleOrder(TestUserModuleServiceImpl.java:270)\nE.g. thenReturn() may be missing.\nExamples of correct stubbing:\n    when(mock.isOk()).thenReturn(true);\n    when(mock.isOk()).thenThrow(exception);\n    doThrow(exception).when(mock).someVoidMethod();\nHints:\n 1. missing thenReturn()\n 2. you are trying to stub a final method, you naughty developer!  anyways i had revert back to the initial line and its working now.","body":"When i try to use doRetrun().when(), it gives me following error. TestUserModuleServiceImpl.testupdateSubModuleOrder(TestUserM&zwnj;&#8203;oduleServiceImpl.jav&zwnj;&#8203;a:270) E.g. thenReturn() may be missing. Examples of correct stubbing:     when(mock.isOk()).thenReturn(true);     when(mock.isOk()).thenThrow(exception);     doThrow(exception).when(mock).someVoidMethod(); Hints:  1. missing thenReturn()  2. you are trying to stub a final method, you naughty developer!  anyways i had revert back to the initial line and its working now."},{"owner":{"account_id":2729575,"reputation":536,"user_id":2353652,"display_name":"Sam"},"score":0,"creation_date":1528882390,"post_id":22164950,"comment_id":88671403,"body_markdown":"The latest Matchers document http://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html. (Mockito 1.x)","body":"The latest Matchers document <a href=\"http://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html\" rel=\"nofollow noreferrer\">static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mocki&zwnj;&#8203;to/&hellip;</a>. (Mockito 1.x)"},{"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"score":0,"creation_date":1564637867,"post_id":22164950,"comment_id":101097908,"body_markdown":"My case is caused by the method access level being `package-level` https://stackoverflow.com/a/57302399/8034839, changing the method to `protected` fixed my problem.","body":"My case is caused by the method access level being <code>package-level</code> <a href=\"https://stackoverflow.com/a/57302399/8034839\">stackoverflow.com/a/57302399/8034839</a>, changing the method to <code>protected</code> fixed my problem."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1393915977,"creation_date":1393915977,"answer_id":22164950,"question_id":22164787,"body_markdown":"You either have to specify *no* matchers, or *all* the arguments need matches. So this:\n\n    when(userSubModuleDao.findById((any(UserSubModuleId.class)),false))\n\nshould be:\n\n    when(userSubModuleDao.findById(any(UserSubModuleId.class), eq(false)))\n\n(I&#39;ve removed the redundant brackets from around the `any` call.)\n\nFrom the [`Matchers` documentation][1]:\n\n&gt; **Warning:**\n&gt;\n&gt; If you are using argument matchers, **all arguments** have to be provided by matchers.\n\n  [1]: http://docs.mockito.googlecode.com/hg/org/mockito/Matchers.html","title":"org.mockito.exceptions.misusing.InvalidUseOfMatchersException:","body":"<p>You either have to specify <em>no</em> matchers, or <em>all</em> the arguments need matches. So this:</p>\n<pre><code>when(userSubModuleDao.findById((any(UserSubModuleId.class)),false))\n</code></pre>\n<p>should be:</p>\n<pre><code>when(userSubModuleDao.findById(any(UserSubModuleId.class), eq(false)))\n</code></pre>\n<p>(I've removed the redundant brackets from around the <code>any</code> call.)</p>\n<p>From the <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Matchers.html\" rel=\"noreferrer\"><code>Matchers</code> documentation</a>:</p>\n<blockquote>\n<p><strong>Warning:</strong></p>\n<p>If you are using argument matchers, <strong>all arguments</strong> have to be provided by matchers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16328939,"reputation":656,"user_id":11792830,"display_name":"Joey Carlisle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677013241,"creation_date":1677013241,"answer_id":75525855,"question_id":22164787,"body_markdown":"My issue was my target method to mock was a `final` method.\r\n\r\nThe error message says\r\n```\r\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\r\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\nMocking methods declared on non-public parent classes is not supported.\r\n```\r\n\r\nsolution:\r\n\r\nchange `public final void foo() {}` --&gt; `public void foo() {}`\r\n\r\n","title":"org.mockito.exceptions.misusing.InvalidUseOfMatchersException:","body":"<p>My issue was my target method to mock was a <code>final</code> method.</p>\n<p>The error message says</p>\n<pre><code>Also, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n</code></pre>\n<p>solution:</p>\n<p>change <code>public final void foo() {}</code> --&gt; <code>public void foo() {}</code></p>\n"}],"owner":{"account_id":2757688,"reputation":1001,"user_id":2375298,"accept_rate":28,"display_name":"user2375298"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36163,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":22164950,"answer_count":2,"score":11,"last_activity_date":1677013241,"creation_date":1393915415,"question_id":22164787,"body_markdown":"My method in the service and test class :\r\n\r\n\tpublic void updateSubModuleOrder(Long[] data, Long moduleSysId, Long userId) {\r\n\t\ttry {\r\n\t\t\tfor (int i = 0; i &lt; data.length; i++) {\r\n\t\t\t\tSubModule subModule=new SubModule();\r\n\t\t\t\t\r\n\t\t\t\tint temp = i + 1;\r\n\t\t\t\tuserSubmodule.setDsplySeq(temp);\r\n\t\t\t\tuserSubModuleDao.saveOrUpdate(userSubmodule);\r\n    @Test\r\n\tpublic void testupdateSubModuleOrder(){\r\n\t\tUserModuleServiceImpl userModuleServiceImpl = new UserModuleServiceImpl();\r\n\t\tUserSubModuleDao userSubModuleDao = mock(User//set the required param ,some code here//\r\n\t\tUserSubModuleId userSubModuleId=new UserSubModuleId();\r\n\t\t//some code//\r\n\t\twhen(userSubModuleDao.findById((any(UserSubModuleId.class)),false)).thenReturn(userSubModule);\r\n\t\twhen(userSubModuleDao.saveOrUpdate(any(UserSubModule.class))).thenReturn(null);\r\n\t\tuserModuleServiceImpl.updateSubModuleOrder(data, moduleSysId, userId);\r\n\t\t\r\n\t};*\r\n\r\nthe error I get is\r\n\r\n    FAILED: testupdateSubModuleOrder\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    Invalid use of argument matchers!\r\n    2 matchers expected, 1 recorded:\r\n    -&gt; at com.TestUserModuleServiceImpl.testupdateSubModuleOrder(TestUserModuleServiceImpl.java:267)\r\n\r\nThis exception may occur if matchers are combined with raw values:\r\n\r\n    //incorrect:\r\n    someMethod(anyObject(), &quot;raw String&quot;);\r\n\r\nWhen using matchers, all arguments have to be provided by matchers.\r\nFor example:\r\n\r\n    //correct:\r\n    someMethod(anyObject(), eq(&quot;String by matcher&quot;));\r\n\r\nthe method `findbyID` is a baseDao method which my dao extends . It is not a final or static but still I&#39;m getting this problem.\r\n\r\n","title":"org.mockito.exceptions.misusing.InvalidUseOfMatchersException:","body":"<p>My method in the service and test class :</p>\n\n<pre><code>public void updateSubModuleOrder(Long[] data, Long moduleSysId, Long userId) {\n    try {\n        for (int i = 0; i &lt; data.length; i++) {\n            SubModule subModule=new SubModule();\n\n            int temp = i + 1;\n            userSubmodule.setDsplySeq(temp);\n            userSubModuleDao.saveOrUpdate(userSubmodule);\n@Test\npublic void testupdateSubModuleOrder(){\n    UserModuleServiceImpl userModuleServiceImpl = new UserModuleServiceImpl();\n    UserSubModuleDao userSubModuleDao = mock(User//set the required param ,some code here//\n    UserSubModuleId userSubModuleId=new UserSubModuleId();\n    //some code//\n    when(userSubModuleDao.findById((any(UserSubModuleId.class)),false)).thenReturn(userSubModule);\n    when(userSubModuleDao.saveOrUpdate(any(UserSubModule.class))).thenReturn(null);\n    userModuleServiceImpl.updateSubModuleOrder(data, moduleSysId, userId);\n\n};*\n</code></pre>\n\n<p>the error I get is</p>\n\n<pre><code>FAILED: testupdateSubModuleOrder\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n2 matchers expected, 1 recorded:\n-&gt; at com.TestUserModuleServiceImpl.testupdateSubModuleOrder(TestUserModuleServiceImpl.java:267)\n</code></pre>\n\n<p>This exception may occur if matchers are combined with raw values:</p>\n\n<pre><code>//incorrect:\nsomeMethod(anyObject(), \"raw String\");\n</code></pre>\n\n<p>When using matchers, all arguments have to be provided by matchers.\nFor example:</p>\n\n<pre><code>//correct:\nsomeMethod(anyObject(), eq(\"String by matcher\"));\n</code></pre>\n\n<p>the method <code>findbyID</code> is a baseDao method which my dao extends . It is not a final or static but still I'm getting this problem.</p>\n"},{"tags":["java","swing","jtextpane"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676961518,"post_id":75516900,"comment_id":133237070,"body_markdown":"What do you expect should happen?  Setting a components font (especially a text component) to `null` seem illogical to me","body":"What do you expect should happen?  Setting a components font (especially a text component) to <code>null</code> seem illogical to me"},{"owner":{"account_id":22874992,"reputation":481,"user_id":17017466,"display_name":"Kostya Dzyuba"},"score":0,"creation_date":1676961724,"post_id":75516900,"comment_id":133237109,"body_markdown":"I expected exception, but got desirable but strange behavior","body":"I expected exception, but got desirable but strange behavior"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676961804,"post_id":75516900,"comment_id":133237132,"body_markdown":"Yeah, I might have expected a NPE, but it would seem the original authors didn’t want that an instead delegated the getFont to their parent containers getFont","body":"Yeah, I might have expected a NPE, but it would seem the original authors didn’t want that an instead delegated the getFont to their parent containers getFont"},{"owner":{"account_id":22874992,"reputation":481,"user_id":17017466,"display_name":"Kostya Dzyuba"},"score":0,"creation_date":1676962331,"post_id":75516900,"comment_id":133237229,"body_markdown":"getFont returns Lucida Grande but renders Monospaced. Hmm...","body":"getFont returns Lucida Grande but renders Monospaced. Hmm..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1676964334,"post_id":75516900,"comment_id":133237634,"body_markdown":"[mcve] please . .","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please . ."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676967705,"post_id":75516900,"comment_id":133238458,"body_markdown":"So, having a look at the root element for the `StyledDocument` (when `JTextPane`&#39;s font is `null`), it returns `javax.swing.plaf.FontUIResource[family=Monospaced,name=Monospaced,style=plain,size=12]`, so, based on observation, the `JTextPane` will override the `StyleDocument`&#39;s default font if it&#39;s set","body":"So, having a look at the root element for the <code>StyledDocument</code> (when <code>JTextPane</code>&#39;s font is <code>null</code>), it returns <code>javax.swing.plaf.FontUIResource[family=Monospaced,name=Monos&zwnj;&#8203;paced,style=plain,si&zwnj;&#8203;ze=12]</code>, so, based on observation, the <code>JTextPane</code> will override the <code>StyleDocument</code>&#39;s default font if it&#39;s set"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676984489,"post_id":75516900,"comment_id":133243579,"body_markdown":"@MadProgrammer good track down - you might consider posting the comment as an answer :) While in hind-sight the styledDocument with its attributes should have looked obvious .. it wasn&#39;t my first thought ;)","body":"@MadProgrammer good track down - you might consider posting the comment as an answer :) While in hind-sight the styledDocument with its attributes should have looked obvious .. it wasn&#39;t my first thought ;)"}],"answers":[{"comments":[{"owner":{"account_id":22874992,"reputation":481,"user_id":17017466,"display_name":"Kostya Dzyuba"},"score":0,"creation_date":1676961108,"post_id":75516937,"comment_id":133236999,"body_markdown":"But I use default BorderLayout, why don&#39;t it has default font set?","body":"But I use default BorderLayout, why don&#39;t it has default font set?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676961343,"post_id":75516937,"comment_id":133237035,"body_markdown":"Observationally, that might be correct, techncially, if the `font` is `null`, calling `getFont` will delegate to the parent containers `getFont` (or `null` if it doesn&#39;t have one) - I know, nit pick, but it sounds weird the way you&#39;ve described it","body":"Observationally, that might be correct, techncially, if the <code>font</code> is <code>null</code>, calling <code>getFont</code> will delegate to the parent containers <code>getFont</code> (or <code>null</code> if it doesn&#39;t have one) - I know, nit pick, but it sounds weird the way you&#39;ve described it"},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":1,"creation_date":1676961439,"post_id":75516937,"comment_id":133237060,"body_markdown":"BorderLayout does not have a default font set because it is just a layout manager and not a container itself.The default font of a container in Swing is determined by the look and feel. If the look and feel does not specify a default font, then the font of the parent container is used as the default font for its child components.","body":"BorderLayout does not have a default font set because it is just a layout manager and not a container itself.The default font of a container in Swing is determined by the look and feel. If the look and feel does not specify a default font, then the font of the parent container is used as the default font for its child components."},{"owner":{"account_id":22874992,"reputation":481,"user_id":17017466,"display_name":"Kostya Dzyuba"},"score":0,"creation_date":1676961902,"post_id":75516937,"comment_id":133237159,"body_markdown":"But after setting null font getFont returns Lucida Grande","body":"But after setting null font getFont returns Lucida Grande"},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1676963041,"post_id":75516937,"comment_id":133237363,"body_markdown":"n your case, since you are using a BorderLayout, the JTextPane is added to the center of the parent container, which is likely a JFrame. So when you call getFont() after setting the font to null, it returns the default font of the JFrame, which is &quot;Lucida Grande&quot;.","body":"n your case, since you are using a BorderLayout, the JTextPane is added to the center of the parent container, which is likely a JFrame. So when you call getFont() after setting the font to null, it returns the default font of the JFrame, which is &quot;Lucida Grande&quot;."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676965395,"post_id":75516937,"comment_id":133237873,"body_markdown":"JFrame contains a JRootPane, which contains a contentPane into which components are added, so, you’d be getting the contentPane’s font over the frames","body":"JFrame contains a JRootPane, which contains a contentPane into which components are added, so, you’d be getting the contentPane’s font over the frames"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676984195,"post_id":75516937,"comment_id":133243469,"body_markdown":"actually, this answer is not quite correct (apart from the strange comment involving BorderLayout) a) specifically for _JTextPane_ it&#39;s the StyledDocument which chooses the default font (as @MadProgrammer commented to the question) b) for other swing components, the default font might be monospaced .. or not - in Swing it&#39;s decided by the LookAndFeel (metal and windows don&#39;t, didn&#39;t check the others)","body":"actually, this answer is not quite correct (apart from the strange comment involving BorderLayout) a) specifically for <i>JTextPane</i> it&#39;s the StyledDocument which chooses the default font (as @MadProgrammer commented to the question) b) for other swing components, the default font might be monospaced .. or not - in Swing it&#39;s decided by the LookAndFeel (metal and windows don&#39;t, didn&#39;t check the others)"}],"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"comment_count":7,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1676960820,"creation_date":1676960820,"answer_id":75516937,"question_id":75516900,"body_markdown":"When you call setFont(null) on a JTextPane, it sets the font to the default font of the JTextPane&#39;s parent container. If the parent container does not have a default font set, then it will use a default font that is usually monospaced.","title":"Why does JTextPane.setFont(null) sets monospaced font?","body":"<p>When you call setFont(null) on a JTextPane, it sets the font to the default font of the JTextPane's parent container. If the parent container does not have a default font set, then it will use a default font that is usually monospaced.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677013107,"creation_date":1677013107,"answer_id":75525842,"question_id":75516900,"body_markdown":"Calling `setFont` with `null` will set the component&#39;s `font` property to `null`.  The Swing designers obviously felt that this was a suitable solution and allowed `getFont` instead to return the parent container&#39;s `Font` (or `null` if the component didn&#39;t have a parent, in which case, it won&#39;t be painted, so it probably doesn&#39;t matter)\r\n\r\n    Font font = this.font;\r\n    if (font != null) {\r\n        return font;\r\n    }\r\n    Container parent = this.parent;\r\n    return (parent != null) ? parent.getFont_NoClientCode() : null;\r\n\r\nJust to be clear, on my system, doing the above will result in a `Font` of `null` until the frame is realised, after which it will return `com.apple.laf.AquaFonts$DerivedUIResourceFont[family=Lucida Grande,name=Lucida Grande,style=plain,size=13]`.  This is most likely coming from the Look and Feel.\r\n\r\nIn the case of the `JTextPane`, there&#39;s additional layer, the `StyledDocument`.\r\n\r\nSo, on my system, `UIManager.getFont(&quot;TextPane.font&quot;)` will return `com.apple.laf.AquaFonts$DerivedUIResourceFont[family=Lucida Grande,name=Lucida Grande,style=plain,size=13]`\r\n\r\n    StyledDocument doc = textPane.getDefaultRootElement().getAttributes();\r\n    System.out.println(doc.getFont(attributes));\r\n\r\nWill print `javax.swing.plaf.FontUIResource[family=Monospaced,name=Monospaced,style=plain,size=12]` regardless of the `font` state of the `JTextPane`.\r\n\r\nSooo, observationally (as I&#39;m not going to dig into the Look and Feel classes), if the `font` property is set on the `JTextPane`, it will override the `StyledDocument`&#39;s root element&#39;s `Font` value (which, based on stepping through the code default&#39;s to `Monospaced` if no `Font` attribute exists)\r\n\r\nSooo, the answer is, it&#39;s complicated and may be different on different platforms based on the implementations/interactions of the Look and Feel.","title":"Why does JTextPane.setFont(null) sets monospaced font?","body":"<p>Calling <code>setFont</code> with <code>null</code> will set the component's <code>font</code> property to <code>null</code>.  The Swing designers obviously felt that this was a suitable solution and allowed <code>getFont</code> instead to return the parent container's <code>Font</code> (or <code>null</code> if the component didn't have a parent, in which case, it won't be painted, so it probably doesn't matter)</p>\n<pre><code>Font font = this.font;\nif (font != null) {\n    return font;\n}\nContainer parent = this.parent;\nreturn (parent != null) ? parent.getFont_NoClientCode() : null;\n</code></pre>\n<p>Just to be clear, on my system, doing the above will result in a <code>Font</code> of <code>null</code> until the frame is realised, after which it will return <code>com.apple.laf.AquaFonts$DerivedUIResourceFont[family=Lucida Grande,name=Lucida Grande,style=plain,size=13]</code>.  This is most likely coming from the Look and Feel.</p>\n<p>In the case of the <code>JTextPane</code>, there's additional layer, the <code>StyledDocument</code>.</p>\n<p>So, on my system, <code>UIManager.getFont(&quot;TextPane.font&quot;)</code> will return <code>com.apple.laf.AquaFonts$DerivedUIResourceFont[family=Lucida Grande,name=Lucida Grande,style=plain,size=13]</code></p>\n<pre><code>StyledDocument doc = textPane.getDefaultRootElement().getAttributes();\nSystem.out.println(doc.getFont(attributes));\n</code></pre>\n<p>Will print <code>javax.swing.plaf.FontUIResource[family=Monospaced,name=Monospaced,style=plain,size=12]</code> regardless of the <code>font</code> state of the <code>JTextPane</code>.</p>\n<p>Sooo, observationally (as I'm not going to dig into the Look and Feel classes), if the <code>font</code> property is set on the <code>JTextPane</code>, it will override the <code>StyledDocument</code>'s root element's <code>Font</code> value (which, based on stepping through the code default's to <code>Monospaced</code> if no <code>Font</code> attribute exists)</p>\n<p>Sooo, the answer is, it's complicated and may be different on different platforms based on the implementations/interactions of the Look and Feel.</p>\n"}],"owner":{"account_id":22874992,"reputation":481,"user_id":17017466,"display_name":"Kostya Dzyuba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677013107,"creation_date":1676960511,"question_id":75516900,"body_markdown":"I encountered a somewhat strange behaviour of Java Swing JTextPane. Why does `JTextPane.setFont(null)` sets monospaced font? It&#39;s totally illogical. I found it when I tried to debug `JTextPane.setFont(Font.getFont(Font.MONOSPACED))`, and it turned out that `Font.getFont` returns `null`.\r\n\r\nEdit: when I `getFont()` after setting `null`, it returns `java.awt.Font[family=Lucida Grande,name=Lucida Grande,style=plain,size=13]`, and I dont&#39;t think that it is monospaced.","title":"Why does JTextPane.setFont(null) sets monospaced font?","body":"<p>I encountered a somewhat strange behaviour of Java Swing JTextPane. Why does <code>JTextPane.setFont(null)</code> sets monospaced font? It's totally illogical. I found it when I tried to debug <code>JTextPane.setFont(Font.getFont(Font.MONOSPACED))</code>, and it turned out that <code>Font.getFont</code> returns <code>null</code>.</p>\n<p>Edit: when I <code>getFont()</code> after setting <code>null</code>, it returns <code>java.awt.Font[family=Lucida Grande,name=Lucida Grande,style=plain,size=13]</code>, and I dont't think that it is monospaced.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1677013295,"post_id":75525801,"comment_id":133252704,"body_markdown":"There are so many misues/misconceptions about coroutines and blocking of threads in this code, I don&#39;t really know where to start. I think you need to do more review of coroutine basics to understand them better before attempting to use them. It is a bit of a steep learning curve for beginners. Suggested search terms:  &quot;what does it mean to block a thread&quot;, &quot;why you can&#39;t block the main thread on android&quot;, &quot;blocking vs. suspending code in kotlin coroutines&quot;, &quot;asynchronous code&quot;, &quot;race condition&quot;.","body":"There are so many misues/misconceptions about coroutines and blocking of threads in this code, I don&#39;t really know where to start. I think you need to do more review of coroutine basics to understand them better before attempting to use them. It is a bit of a steep learning curve for beginners. Suggested search terms:  &quot;what does it mean to block a thread&quot;, &quot;why you can&#39;t block the main thread on android&quot;, &quot;blocking vs. suspending code in kotlin coroutines&quot;, &quot;asynchronous code&quot;, &quot;race condition&quot;."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1677013770,"post_id":75525801,"comment_id":133252831,"body_markdown":"It is extremely weird that your database factory function takes a CoroutineScope parameter. That seems like a recipe for disaster if your database is a singleton.","body":"It is extremely weird that your database factory function takes a CoroutineScope parameter. That seems like a recipe for disaster if your database is a singleton."}],"owner":{"account_id":17777961,"reputation":128,"user_id":12909792,"display_name":"Biskweet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677012795,"creation_date":1677012795,"question_id":75525801,"body_markdown":"I&#39;m working on a code for a new job and we have a severe performance problem on that Android app. There is a view, which, when opened, returns `oeuvreDetailViewModel.oeuvre?.title` as `null` more often than not.\r\n```kotlin\r\n// Class attributes\r\nprivate val oeuvreViewModel: OeuvreViewModel by viewModels()\r\nprivate lateinit var oeuvreDetailViewModel: OeuvreDetailViewModel\r\nprivate val safeArgs : OeuvreDetailFragmentArgs by navArgs()\r\n\r\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\r\n    // Obtain the artwork associated with `safeArgs.itemSelected.id`\r\n    oeuvreDetailViewModel = ViewModelProvider(\r\n        this,\r\n        OeuvreDetailViewModelFactory(requireActivity().application, safeArgs.itemSelected.id)\r\n    ).get(OeuvreDetailViewModel::class.java)\r\n\r\n    val binding = DataBindingUtil.inflate&lt;FragmentOeuvreItemBinding&gt;(inflater, R.layout.fragment_oeuvre_item, container, false).apply {\r\n        viewModel = oeuvreDetailViewModel\r\n        lifecycleOwner = viewLifecycleOwner\r\n        callback = getProperCallback(fab)\r\n    }\r\n\r\n    return binding.root\r\n}\r\n```\r\nSo I tried a while loop that runs every 0.03 seconds and tries again as long as the attribute is `null`:\r\n```kotlin\r\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\r\n    // Obtain the artwork associated with `safeArgs.itemSelected.id`\r\n    oeuvreDetailViewModel = ViewModelProvider(\r\n        this,\r\n        OeuvreDetailViewModelFactory(requireActivity().application, safeArgs.itemSelected.id)\r\n    ).get(OeuvreDetailViewModel::class.java)\r\n\r\n    val binding = DataBindingUtil.inflate&lt;FragmentOeuvreItemBinding&gt;(inflater, R.layout.fragment_oeuvre_item, container, false).apply {\r\n        viewModel = oeuvreDetailViewModel\r\n        lifecycleOwner = viewLifecycleOwner\r\n        callback = getProperCallback(fab)\r\n\r\n        while (oeuvreDetailViewModel.oeuvre?.title == null) {\r\n            Handler(Looper.getMainLooper()).postDelayed({\r\n                viewModel = oeuvreDetailViewModel\r\n                callback = getProperCallback(fab)\r\n            }, 30L)\r\n        }\r\n\r\n        toolbar.setNavigationOnClickListener { view -&gt;\r\n            view.findNavController().navigateUp()\r\n        }\r\n    }\r\n\r\n    return binding.root\r\n}\r\n```\r\nBut now the execution stops on the `while` for several seconds. Why is this so slow?\r\n\r\n`OeuvreDetailsViewModel`&#39;s relevant code:\r\n```kotlin\r\nclass OeuvreDetailViewModel(application: Application, private var oeuvreId: Int): AndroidViewModel(application) {\r\n    private var isArt = false;\r\n    private var isPlaces = false;\r\n    private var isHeritages = false;\r\n\r\n    private val repository: OeuvreRepository\r\n    var oeuvre: Oeuvre? = null\r\n    init {\r\n        // Gets reference to OeuvreDao from OeuvreDatabase to construct\r\n        // the correct OeuvreRepository.\r\n        val oeuvreDao = OeuvreDatabase.getDatabase(\r\n            application,\r\n            viewModelScope\r\n        ).oeuvreDAO()\r\n        repository = OeuvreRepository.getInstance(oeuvreDao)\r\n        getOeuvre()\r\n    }\r\n\r\n    private fun getOeuvre() {\r\n        viewModelScope.launch(Dispatchers.IO) {\r\n            oeuvre = repository.getArticleById(oeuvreId)\r\n        }\r\n    }\r\n\r\n\r\n    fun updateTarget(oeuvreId: Int, target: Int?) {\r\n        viewModelScope.launch(Dispatchers.IO) {\r\n            repository.updateTarget(oeuvreId,target)\r\n        }\r\n    }\r\n}\r\n```","title":"ViewModelProvider.get is very slow","body":"<p>I'm working on a code for a new job and we have a severe performance problem on that Android app. There is a view, which, when opened, returns <code>oeuvreDetailViewModel.oeuvre?.title</code> as <code>null</code> more often than not.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Class attributes\nprivate val oeuvreViewModel: OeuvreViewModel by viewModels()\nprivate lateinit var oeuvreDetailViewModel: OeuvreDetailViewModel\nprivate val safeArgs : OeuvreDetailFragmentArgs by navArgs()\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n    // Obtain the artwork associated with `safeArgs.itemSelected.id`\n    oeuvreDetailViewModel = ViewModelProvider(\n        this,\n        OeuvreDetailViewModelFactory(requireActivity().application, safeArgs.itemSelected.id)\n    ).get(OeuvreDetailViewModel::class.java)\n\n    val binding = DataBindingUtil.inflate&lt;FragmentOeuvreItemBinding&gt;(inflater, R.layout.fragment_oeuvre_item, container, false).apply {\n        viewModel = oeuvreDetailViewModel\n        lifecycleOwner = viewLifecycleOwner\n        callback = getProperCallback(fab)\n    }\n\n    return binding.root\n}\n</code></pre>\n<p>So I tried a while loop that runs every 0.03 seconds and tries again as long as the attribute is <code>null</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n    // Obtain the artwork associated with `safeArgs.itemSelected.id`\n    oeuvreDetailViewModel = ViewModelProvider(\n        this,\n        OeuvreDetailViewModelFactory(requireActivity().application, safeArgs.itemSelected.id)\n    ).get(OeuvreDetailViewModel::class.java)\n\n    val binding = DataBindingUtil.inflate&lt;FragmentOeuvreItemBinding&gt;(inflater, R.layout.fragment_oeuvre_item, container, false).apply {\n        viewModel = oeuvreDetailViewModel\n        lifecycleOwner = viewLifecycleOwner\n        callback = getProperCallback(fab)\n\n        while (oeuvreDetailViewModel.oeuvre?.title == null) {\n            Handler(Looper.getMainLooper()).postDelayed({\n                viewModel = oeuvreDetailViewModel\n                callback = getProperCallback(fab)\n            }, 30L)\n        }\n\n        toolbar.setNavigationOnClickListener { view -&gt;\n            view.findNavController().navigateUp()\n        }\n    }\n\n    return binding.root\n}\n</code></pre>\n<p>But now the execution stops on the <code>while</code> for several seconds. Why is this so slow?</p>\n<p><code>OeuvreDetailsViewModel</code>'s relevant code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class OeuvreDetailViewModel(application: Application, private var oeuvreId: Int): AndroidViewModel(application) {\n    private var isArt = false;\n    private var isPlaces = false;\n    private var isHeritages = false;\n\n    private val repository: OeuvreRepository\n    var oeuvre: Oeuvre? = null\n    init {\n        // Gets reference to OeuvreDao from OeuvreDatabase to construct\n        // the correct OeuvreRepository.\n        val oeuvreDao = OeuvreDatabase.getDatabase(\n            application,\n            viewModelScope\n        ).oeuvreDAO()\n        repository = OeuvreRepository.getInstance(oeuvreDao)\n        getOeuvre()\n    }\n\n    private fun getOeuvre() {\n        viewModelScope.launch(Dispatchers.IO) {\n            oeuvre = repository.getArticleById(oeuvreId)\n        }\n    }\n\n\n    fun updateTarget(oeuvreId: Int, target: Int?) {\n        viewModelScope.launch(Dispatchers.IO) {\n            repository.updateTarget(oeuvreId,target)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","pojo"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676981196,"post_id":75520025,"comment_id":133242513,"body_markdown":"I don&#39;t see where you call `putDogIntoDB`.","body":"I don&#39;t see where you call <code>putDogIntoDB</code>."},{"owner":{"account_id":15443743,"reputation":13,"user_id":11141455,"display_name":"Alexandr Malkov"},"score":0,"creation_date":1676985592,"post_id":75520025,"comment_id":133243936,"body_markdown":"Sure I do. Edited the question.","body":"Sure I do. Edited the question."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676994644,"post_id":75520025,"comment_id":133247147,"body_markdown":"What shows up in the logs - are there SQL statements and information on the transaction being started and committed? How are you checking the database, and can you &#39;find&#39; the entity you inserted with a read all query in the same session context?","body":"What shows up in the logs - are there SQL statements and information on the transaction being started and committed? How are you checking the database, and can you &#39;find&#39; the entity you inserted with a read all query in the same session context?"},{"owner":{"account_id":15443743,"reputation":13,"user_id":11141455,"display_name":"Alexandr Malkov"},"score":0,"creation_date":1676997198,"post_id":75520025,"comment_id":133248015,"body_markdown":"I used &quot;SELECT * ...&quot; statement, checked the datebase from pg4Admin and from the inside of IDEA. No data at all. I saw this SQL query in the logs:   Hibernate: \n    /* insert Entity.Dog\n        */ insert \n    into\n        public.dog (name) \n    values\n        (?)","body":"I used &quot;SELECT * ...&quot; statement, checked the datebase from pg4Admin and from the inside of IDEA. No data at all. I saw this SQL query in the logs:   Hibernate:      /* insert Entity.Dog         */ insert      into         public.dog (name)      values         (?)"}],"owner":{"account_id":15443743,"reputation":13,"user_id":11141455,"display_name":"Alexandr Malkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677012732,"creation_date":1676979640,"question_id":75520025,"body_markdown":"I&#39;ve started learning Hibernate and ran into a problem: when I try to insert a value into my Postgres DB, it just disappears. I can not understand what I do wrong.\r\n\r\nHere my POJO I try to upload\r\n\r\n    @Entity\r\n    @Table(name = &quot;dog&quot;, schema = &quot;public&quot;, catalog = &quot;TestDogAndOwnerDB&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Dog implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n    }\r\n\r\nHere my xml-file with properties.\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/postgres&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;*****&lt;/property&gt;\r\n            &lt;property name=&quot;connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt; true &lt;/property&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n            &lt;mapping class=&quot;Entity.Dog&quot;/&gt;\r\n            &lt;mapping class=&quot;Entity.Owner&quot;/&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nHere my DogHelper class\r\n\r\n    import Entity.Dog;\r\n    import Entity.Owner;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import jakarta.persistence.Persistence;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class DogHelper {\r\n        private final SessionFactory sessionFactory;\r\n    \r\n        public DogHelper() {\r\n            sessionFactory = HibernateUtil.getSessionFactory();\r\n        }\r\n    \r\n        public Dog getDogByID(Long id) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n            if (session == null) {\r\n                session = sessionFactory.openSession();\r\n            }\r\n            return session.get(Dog.class, id);\r\n        }\r\n    \r\n        public void putDogIntoDB(Dog dog) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n            if (session == null) {\r\n                session = sessionFactory.openSession();\r\n            }\r\n            try {\r\n                session.getTransaction().begin();\r\n                session.persist(dog);\r\n                session.getTransaction().commit();\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            } finally {\r\n                session.close();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nThe main function.\r\n\r\n    public static void main(String[] args){\r\n            DogHelper dogHelper = new DogHelper();\r\n            Dog dog = new Dog();\r\n            dog.setName(&quot;Archi&quot;);\r\n            dogHelper.putDogIntoDB(dog);\r\n        }\r\n\r\nWhen I try to upload the POJO, everything goes fine, but then I check my DB and there is nothing inside!  Maybe something is wrong with it, I don&#39;t know.\r\n\r\n**EDIT:**\r\nFound out, that Hibernate tries to put all data in one column &quot;name&quot;. It follows from the sql query Hibernate produces -- \r\n\r\n    insert into public.dog (name) values (?)\r\nI have no idea why this happens.","title":"Hibernate does not insert a value into the database","body":"<p>I've started learning Hibernate and ran into a problem: when I try to insert a value into my Postgres DB, it just disappears. I can not understand what I do wrong.</p>\n<p>Here my POJO I try to upload</p>\n<pre><code>@Entity\n@Table(name = &quot;dog&quot;, schema = &quot;public&quot;, catalog = &quot;TestDogAndOwnerDB&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Dog implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>Here my xml-file with properties.</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/postgres&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;*****&lt;/property&gt;\n        &lt;property name=&quot;connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt; true &lt;/property&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;mapping class=&quot;Entity.Dog&quot;/&gt;\n        &lt;mapping class=&quot;Entity.Owner&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Here my DogHelper class</p>\n<pre><code>import Entity.Dog;\nimport Entity.Owner;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\n\nimport java.util.List;\n\npublic class DogHelper {\n    private final SessionFactory sessionFactory;\n\n    public DogHelper() {\n        sessionFactory = HibernateUtil.getSessionFactory();\n    }\n\n    public Dog getDogByID(Long id) {\n        Session session = sessionFactory.getCurrentSession();\n        if (session == null) {\n            session = sessionFactory.openSession();\n        }\n        return session.get(Dog.class, id);\n    }\n\n    public void putDogIntoDB(Dog dog) {\n        Session session = sessionFactory.getCurrentSession();\n        if (session == null) {\n            session = sessionFactory.openSession();\n        }\n        try {\n            session.getTransaction().begin();\n            session.persist(dog);\n            session.getTransaction().commit();\n        }catch (Exception e){\n            e.printStackTrace();\n        } finally {\n            session.close();\n        }\n\n    }\n}\n</code></pre>\n<p>The main function.</p>\n<pre><code>public static void main(String[] args){\n        DogHelper dogHelper = new DogHelper();\n        Dog dog = new Dog();\n        dog.setName(&quot;Archi&quot;);\n        dogHelper.putDogIntoDB(dog);\n    }\n</code></pre>\n<p>When I try to upload the POJO, everything goes fine, but then I check my DB and there is nothing inside!  Maybe something is wrong with it, I don't know.</p>\n<p><strong>EDIT:</strong>\nFound out, that Hibernate tries to put all data in one column &quot;name&quot;. It follows from the sql query Hibernate produces --</p>\n<pre><code>insert into public.dog (name) values (?)\n</code></pre>\n<p>I have no idea why this happens.</p>\n"},{"tags":["java","user-interface","button","javafx","jnativehook"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1677008756,"post_id":75525146,"comment_id":133251472,"body_markdown":"*&quot;It&#39;s supposed to allow the user to click on it once, and once there&#39;s a input, it&#39;ll change the label.&quot;*. When you press a button, it will gain keyboard focus. Why do you need to mess with `jnativehook` etc? Isn&#39;t it sufficient just to register a regular JavaFX key event handler (or filter) with the button? That handler will only be invoked if the button has focus.","body":"<i>&quot;It&#39;s supposed to allow the user to click on it once, and once there&#39;s a input, it&#39;ll change the label.&quot;</i>. When you press a button, it will gain keyboard focus. Why do you need to mess with <code>jnativehook</code> etc? Isn&#39;t it sufficient just to register a regular JavaFX key event handler (or filter) with the button? That handler will only be invoked if the button has focus."},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1677010693,"post_id":75525146,"comment_id":133252033,"body_markdown":"Yeh, but after the button gets clicked, I&#39;m trying to wait for a keyboard key to be pressed, and thus will change the label to that specific keyboard key. Initially, the label is &quot;Stop Hotkey: F3&quot;, and after the button is pressed, the program should wait for the user to input a key on their keyboard, and the label should change accordingly - &quot;Stop Hotkey: (keyboard input)&quot;. I&#39;m unsure how to do that with javafx key event handler either.","body":"Yeh, but after the button gets clicked, I&#39;m trying to wait for a keyboard key to be pressed, and thus will change the label to that specific keyboard key. Initially, the label is &quot;Stop Hotkey: F3&quot;, and after the button is pressed, the program should wait for the user to input a key on their keyboard, and the label should change accordingly - &quot;Stop Hotkey: (keyboard input)&quot;. I&#39;m unsure how to do that with javafx key event handler either."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677010816,"post_id":75525146,"comment_id":133252062,"body_markdown":"*&quot;Yeh, but after the button gets clicked, I&#39;m trying to wait for a keyboard key to be pressed, and thus will change the label to that specific keyboard key.&quot;* So what&#39;s wrong with what I suggested?","body":"<i>&quot;Yeh, but after the button gets clicked, I&#39;m trying to wait for a keyboard key to be pressed, and thus will change the label to that specific keyboard key.&quot;</i> So what&#39;s wrong with what I suggested?"},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1677010922,"post_id":75525146,"comment_id":133252088,"body_markdown":"Probably my awful understanding of your response, my apologies. I&#39;m quite new to javafx. Can you perhaps provide an example for your first response?","body":"Probably my awful understanding of your response, my apologies. I&#39;m quite new to javafx. Can you perhaps provide an example for your first response?"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":1,"creation_date":1677011733,"post_id":75525146,"comment_id":133252325,"body_markdown":"What&#39;s the ultimate goal? Your description defies standard expectations of how an interface works. Buttons don&#39;t wait for input: they are pressed and the user expects that the action described by the text of the button will be performed, if conditions allow (e.g., validation may block the action). I just ran the `NativeHookDemo` to see what it could possibly contribute beyond the facilities provided by JavaFX for listening for such events. ...","body":"What&#39;s the ultimate goal? Your description defies standard expectations of how an interface works. Buttons don&#39;t wait for input: they are pressed and the user expects that the action described by the text of the button will be performed, if conditions allow (e.g., validation may block the action). I just ran the <code>NativeHookDemo</code> to see what it could possibly contribute beyond the facilities provided by JavaFX for listening for such events. ..."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677011744,"post_id":75525146,"comment_id":133252327,"body_markdown":"... I was surprised that I had to change System accessibility security settings (macOS) to allow the demo to control my computer! Yikes! Also noted that even when I was typing in another app (e.g., Messages), the demo was capturing keystrokes. Not good.","body":"... I was surprised that I had to change System accessibility security settings (macOS) to allow the demo to control my computer! Yikes! Also noted that even when I was typing in another app (e.g., Messages), the demo was capturing keystrokes. Not good."},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1677012401,"post_id":75525146,"comment_id":133252489,"body_markdown":"@pfurbacher I&#39;m not trying to code any sketchy things, was just trying make a window for my autoclicker...","body":"@pfurbacher I&#39;m not trying to code any sketchy things, was just trying make a window for my autoclicker..."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677012325,"creation_date":1677011874,"answer_id":75525663,"question_id":75525146,"body_markdown":"I don&#39;t think you need to involve native key listeners here at all. A regular JavaFX key event handler on a button will only be invoked if the button has keyboard focus, which typically only happens if it is pressed (but see note later). Thus if the functionality you want is for the label to be changed (and presumably other actions to occur) when a key is pressed after a button has been pressed, it should be enough to simply register a key event handler with the button. Here is a quick example:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Label startHotkeyLabel = new Label(&quot;Start HotKey: F1&quot;);\r\n            Label stopHotkeyLabel = new Label(&quot;Stop HotKey: F3&quot;);\r\n            Button changeStartHotkey = new Button(&quot;Change start key&quot;);\r\n            changeStartHotkey.setOnKeyReleased(e -&gt; startHotkeyLabel.setText(&quot;Start HotKey: &quot;+e.getCode()));\r\n            Button changeStopHotkey = new Button(&quot;Change stop key&quot;);\r\n            changeStopHotkey.setOnKeyReleased(e -&gt; stopHotkeyLabel.setText(&quot;Stop HotKey: &quot;+e.getCode()));\r\n            GridPane grid = new GridPane();\r\n            grid.setHgap(5);\r\n            grid.setVgap(5);\r\n            grid.setPadding(new Insets(10));\r\n            grid.setAlignment(Pos.CENTER);\r\n            TextField textField = new TextField();\r\n            grid.add(textField, 0, 0, 2, 1);\r\n            grid.add(changeStartHotkey, 0, 1);\r\n            grid.add(startHotkeyLabel, 1, 1);\r\n            grid.add(changeStopHotkey,0, 2);\r\n            grid.add(stopHotkeyLabel, 1, 2);\r\n    \r\n            Scene scene = new Scene(grid);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nNote that the corresponding &quot;hot key&quot; will change any time the button has keyboard focus. So if you use the &lt;kbd&gt;Tab&lt;/kbd&gt; key to navigate keyboard focus to one of the buttons and type a key, the corresponding label will change. This is *probably* what you want anyway; it would be what a user would expect. However, if you don&#39;t want that, it&#39;s easy enough to register the key event handler in the button&#39;s `onAction()` handler, and de-register it when the button loses focus.\r\n\r\n---\r\n\r\nOther general solutions (that don&#39;t involve native key listeners) are possible too. For example: Register a key event handler with the scene, and in that handler check the state of your application (encapsulated in some appropriate variables) and change whatever needs to be changed (if anything). In the buttons&#39; action handlers, update the state of the application so the correct thing happens when a key is pressed.\r\n","title":"How to wait for a key to be pressed?","body":"<p>I don't think you need to involve native key listeners here at all. A regular JavaFX key event handler on a button will only be invoked if the button has keyboard focus, which typically only happens if it is pressed (but see note later). Thus if the functionality you want is for the label to be changed (and presumably other actions to occur) when a key is pressed after a button has been pressed, it should be enough to simply register a key event handler with the button. Here is a quick example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Label startHotkeyLabel = new Label(&quot;Start HotKey: F1&quot;);\n        Label stopHotkeyLabel = new Label(&quot;Stop HotKey: F3&quot;);\n        Button changeStartHotkey = new Button(&quot;Change start key&quot;);\n        changeStartHotkey.setOnKeyReleased(e -&gt; startHotkeyLabel.setText(&quot;Start HotKey: &quot;+e.getCode()));\n        Button changeStopHotkey = new Button(&quot;Change stop key&quot;);\n        changeStopHotkey.setOnKeyReleased(e -&gt; stopHotkeyLabel.setText(&quot;Stop HotKey: &quot;+e.getCode()));\n        GridPane grid = new GridPane();\n        grid.setHgap(5);\n        grid.setVgap(5);\n        grid.setPadding(new Insets(10));\n        grid.setAlignment(Pos.CENTER);\n        TextField textField = new TextField();\n        grid.add(textField, 0, 0, 2, 1);\n        grid.add(changeStartHotkey, 0, 1);\n        grid.add(startHotkeyLabel, 1, 1);\n        grid.add(changeStopHotkey,0, 2);\n        grid.add(stopHotkeyLabel, 1, 2);\n\n        Scene scene = new Scene(grid);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Note that the corresponding &quot;hot key&quot; will change any time the button has keyboard focus. So if you use the <kbd>Tab</kbd> key to navigate keyboard focus to one of the buttons and type a key, the corresponding label will change. This is <em>probably</em> what you want anyway; it would be what a user would expect. However, if you don't want that, it's easy enough to register the key event handler in the button's <code>onAction()</code> handler, and de-register it when the button loses focus.</p>\n<hr />\n<p>Other general solutions (that don't involve native key listeners) are possible too. For example: Register a key event handler with the scene, and in that handler check the state of your application (encapsulated in some appropriate variables) and change whatever needs to be changed (if anything). In the buttons' action handlers, update the state of the application so the correct thing happens when a key is pressed.</p>\n"}],"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75525663,"answer_count":1,"score":1,"last_activity_date":1677012325,"creation_date":1677008399,"question_id":75525146,"body_markdown":"I&#39;m currently using jnativhook from: https://github.com/kwhat/jnativehook to listen for nativekeys. I was trying to make a button that waits for a nativekey to be pressed, and sets that input as the new hotkey. Here&#39;s what I&#39;ve tried so far, but when the user clicks it, they have to type the key, and press the button again. It&#39;s supposed to allow the user to click on it once, and once there&#39;s a input, it&#39;ll change the label. \r\n\r\n\r\n```\r\nimport com.github.kwhat.jnativehook.GlobalScreen;\r\nimport com.github.kwhat.jnativehook.NativeHookException;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\r\nimport com.github.kwhat.jnativehook.mouse.NativeMouseInputListener;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.animation.AnimationTimer;\r\n\r\npublic class HotKeyWindowController implements NativeKeyListener {\r\n    @FXML\r\n    private Label stopHotKeyLabel;\r\n    @FXML\r\n    private Label startHotKeyLabel;\r\n    @FXML\r\n    private Button stopHotKeyButton;\r\n    @FXML\r\n    private Button startHotKeyButton;\r\n    private static String startKey = &quot;F1&quot;;\r\n    private static String stopKey = &quot;F3&quot;;\r\n    private static String key;\r\n\r\n\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n\r\n        key = NativeKeyEvent.getKeyText(e.getKeyCode());\r\n    }\r\n    public void stopHotKeyButtonClicked(ActionEvent actionEvent) {\r\n        GlobalScreen.removeNativeKeyListener(new HelloApplication());\r\n        GlobalScreen.addNativeKeyListener(new HotKeyWindowController());\r\n        stopKey = key;\r\n        stopHotKeyLabel.setText(&quot;Stop HotKey: &quot; + stopKey);\r\n        GlobalScreen.addNativeKeyListener(new HelloApplication());\r\n        GlobalScreen.removeNativeKeyListener(new HotKeyWindowController());\r\n    }\r\n\r\n    public void startHotKeyButtonClicked(ActionEvent actionEvent) {\r\n\r\n    }\r\n}\r\n\r\n```","title":"How to wait for a key to be pressed?","body":"<p>I'm currently using jnativhook from: <a href=\"https://github.com/kwhat/jnativehook\" rel=\"nofollow noreferrer\">https://github.com/kwhat/jnativehook</a> to listen for nativekeys. I was trying to make a button that waits for a nativekey to be pressed, and sets that input as the new hotkey. Here's what I've tried so far, but when the user clicks it, they have to type the key, and press the button again. It's supposed to allow the user to click on it once, and once there's a input, it'll change the label.</p>\n<pre><code>import com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\nimport com.github.kwhat.jnativehook.mouse.NativeMouseInputListener;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.animation.AnimationTimer;\n\npublic class HotKeyWindowController implements NativeKeyListener {\n    @FXML\n    private Label stopHotKeyLabel;\n    @FXML\n    private Label startHotKeyLabel;\n    @FXML\n    private Button stopHotKeyButton;\n    @FXML\n    private Button startHotKeyButton;\n    private static String startKey = &quot;F1&quot;;\n    private static String stopKey = &quot;F3&quot;;\n    private static String key;\n\n\n    public void nativeKeyPressed(NativeKeyEvent e) {\n\n        key = NativeKeyEvent.getKeyText(e.getKeyCode());\n    }\n    public void stopHotKeyButtonClicked(ActionEvent actionEvent) {\n        GlobalScreen.removeNativeKeyListener(new HelloApplication());\n        GlobalScreen.addNativeKeyListener(new HotKeyWindowController());\n        stopKey = key;\n        stopHotKeyLabel.setText(&quot;Stop HotKey: &quot; + stopKey);\n        GlobalScreen.addNativeKeyListener(new HelloApplication());\n        GlobalScreen.removeNativeKeyListener(new HotKeyWindowController());\n    }\n\n    public void startHotKeyButtonClicked(ActionEvent actionEvent) {\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","automation","appium","gesture","appium-android"],"owner":{"account_id":18626360,"reputation":25,"user_id":13575371,"display_name":"MallSoft95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677012242,"creation_date":1677012242,"question_id":75525719,"body_markdown":"I am getting this error despite existing documentation indicating that this command isn&#39;t depracated.\r\n\r\nHere is my code:\r\n\r\n```\r\nimport com.google.common.collect.ImmutableMap;\r\nimport io.appium.java_client.AppiumBy;\r\nimport io.appium.java_client.AppiumDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.remote.RemoteWebElement;\r\n\r\npublic class AndroidGestures {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        AppiumDriver driver = CreateDriverSession.initializeDriver(&quot;Android&quot;);\r\n        // longClickGesture(driver);\r\n        clickGesture(driver);\r\n    }\r\n\r\n    public static void clickGesture(AppiumDriver driver) {\r\n        WebElement element = driver.findElement(AppiumBy.accessibilityId(&quot;Views&quot;));\r\n\r\n        driver.executeScript(&quot;mobile: clickGesture&quot;, ImmutableMap.of(\r\n                &quot;elementId&quot;, ((RemoteWebElement) element).getId()\r\n        ));\r\n    }\r\n\r\n    public static void longClickGesture(AppiumDriver driver) {\r\n        driver.findElement(AppiumBy.accessibilityId(&quot;Views&quot;)).click();\r\n        driver.findElement(AppiumBy.accessibilityId(&quot;Drag and Drop&quot;)).click();\r\n        //accessibilityId would not work for dot, unable to locate\r\n        WebElement element = driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.view.ViewGroup/android.widget.FrameLayout[2]/android.widget.RelativeLayout/android.view.View[1]&quot;));\r\n\r\n        driver.executeScript(&quot;mobile: longClickGesture&quot;, ImmutableMap.of(\r\n           &quot;elementId&quot;, ((RemoteWebElement) element).getId(),\r\n//                use coordinates instead of center click:\r\n//                &quot;x&quot;,217,\r\n//                &quot;y&quot;,659,\r\n                &quot;duration&quot;, 1000\r\n        ));\r\n    }\r\n}\r\n```\r\n\r\nHere is the error I get when I run the class:\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;clickGesture&quot;. Only shell,execEmuConsoleCommand,dragGesture,flingGesture,doubleClickGesture,longClickGesture,pinchCloseGesture,pinchOpenGesture,swipeGesture,scrollGesture,scrollBackTo,scroll,viewportScreenshot,viewportRect,deepLink,startLogsBroadcast,stopLogsBroadcast,acceptAlert,dismissAlert,batteryInfo,deviceInfo,getDeviceTime,changePermissions,getPermissions,performEditorAction,startScreenStreaming,stopScreenStreaming,getNotifications,listSms,type,sensorSet,deleteFile,clearApp,startActivity,startService,stopService,broadcast,getContexts,installMultipleApks,unlock commands are supported.\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.16&#39;, java.version: &#39;1.8.0_301&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [0b00a050-d9de-49e8-948f-ce6392f1d867, executeScript {script=mobile: clickGesture, args=[{elementId=00000000-0000-01d0-ffff-ffff00000014}]}]\r\nCapabilities {appium:app: /Users/fieldemployee/IdeaPr..., appium:appPackage: io.appium.android.apis, appium:automationName: uiAutomator2, appium:avd: Nexus_5_API_29, appium:avdLaunchTimeout: 280000, appium:databaseEnabled: false, appium:desired: {app: /Users/fieldemployee/IdeaPr..., automationName: uiAutomator2, avd: Nexus_5_API_29, avdLaunchTimeout: 280000, deviceName: nexus_5, newCommandTimeout: 300, platformName: android, udid: emulator-5554}, appium:deviceApiLevel: 29, appium:deviceManufacturer: Google, appium:deviceModel: Android SDK built for x86, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 408, appium:deviceScreenSize: 1080x1920, appium:deviceUDID: emulator-5554, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 300, appium:pixelRatio: 2.55, appium:platformVersion: 10, appium:statBarHeight: 61, appium:takesScreenshot: true, appium:udid: emulator-5554, appium:viewportRect: {height: 1737, left: 0, top: 61, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\nSession ID: 0b00a050-d9de-49e8-948f-ce6392f1d867\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:480)\r\n\tat AndroidGestures.clickGesture(AndroidGestures.java:18)\r\n\tat AndroidGestures.main(AndroidGestures.java:12)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\nHere is the link to the documentation:\r\n\r\nhttp://appium.io/docs/en/writing-running-appium/android/android-mobile-gestures/#mobile-clickgesture","title":"org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;clickGesture&quot;","body":"<p>I am getting this error despite existing documentation indicating that this command isn't depracated.</p>\n<p>Here is my code:</p>\n<pre><code>import com.google.common.collect.ImmutableMap;\nimport io.appium.java_client.AppiumBy;\nimport io.appium.java_client.AppiumDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.RemoteWebElement;\n\npublic class AndroidGestures {\n\n    public static void main(String[] args) throws Exception {\n        AppiumDriver driver = CreateDriverSession.initializeDriver(&quot;Android&quot;);\n        // longClickGesture(driver);\n        clickGesture(driver);\n    }\n\n    public static void clickGesture(AppiumDriver driver) {\n        WebElement element = driver.findElement(AppiumBy.accessibilityId(&quot;Views&quot;));\n\n        driver.executeScript(&quot;mobile: clickGesture&quot;, ImmutableMap.of(\n                &quot;elementId&quot;, ((RemoteWebElement) element).getId()\n        ));\n    }\n\n    public static void longClickGesture(AppiumDriver driver) {\n        driver.findElement(AppiumBy.accessibilityId(&quot;Views&quot;)).click();\n        driver.findElement(AppiumBy.accessibilityId(&quot;Drag and Drop&quot;)).click();\n        //accessibilityId would not work for dot, unable to locate\n        WebElement element = driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.view.ViewGroup/android.widget.FrameLayout[2]/android.widget.RelativeLayout/android.view.View[1]&quot;));\n\n        driver.executeScript(&quot;mobile: longClickGesture&quot;, ImmutableMap.of(\n           &quot;elementId&quot;, ((RemoteWebElement) element).getId(),\n//                use coordinates instead of center click:\n//                &quot;x&quot;,217,\n//                &quot;y&quot;,659,\n                &quot;duration&quot;, 1000\n        ));\n    }\n}\n</code></pre>\n<p>Here is the error I get when I run the class:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;clickGesture&quot;. Only shell,execEmuConsoleCommand,dragGesture,flingGesture,doubleClickGesture,longClickGesture,pinchCloseGesture,pinchOpenGesture,swipeGesture,scrollGesture,scrollBackTo,scroll,viewportScreenshot,viewportRect,deepLink,startLogsBroadcast,stopLogsBroadcast,acceptAlert,dismissAlert,batteryInfo,deviceInfo,getDeviceTime,changePermissions,getPermissions,performEditorAction,startScreenStreaming,stopScreenStreaming,getNotifications,listSms,type,sensorSet,deleteFile,clearApp,startActivity,startService,stopService,broadcast,getContexts,installMultipleApks,unlock commands are supported.\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.16', java.version: '1.8.0_301'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [0b00a050-d9de-49e8-948f-ce6392f1d867, executeScript {script=mobile: clickGesture, args=[{elementId=00000000-0000-01d0-ffff-ffff00000014}]}]\nCapabilities {appium:app: /Users/fieldemployee/IdeaPr..., appium:appPackage: io.appium.android.apis, appium:automationName: uiAutomator2, appium:avd: Nexus_5_API_29, appium:avdLaunchTimeout: 280000, appium:databaseEnabled: false, appium:desired: {app: /Users/fieldemployee/IdeaPr..., automationName: uiAutomator2, avd: Nexus_5_API_29, avdLaunchTimeout: 280000, deviceName: nexus_5, newCommandTimeout: 300, platformName: android, udid: emulator-5554}, appium:deviceApiLevel: 29, appium:deviceManufacturer: Google, appium:deviceModel: Android SDK built for x86, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 408, appium:deviceScreenSize: 1080x1920, appium:deviceUDID: emulator-5554, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 300, appium:pixelRatio: 2.55, appium:platformVersion: 10, appium:statBarHeight: 61, appium:takesScreenshot: true, appium:udid: emulator-5554, appium:viewportRect: {height: 1737, left: 0, top: 61, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\nSession ID: 0b00a050-d9de-49e8-948f-ce6392f1d867\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:480)\n    at AndroidGestures.clickGesture(AndroidGestures.java:18)\n    at AndroidGestures.main(AndroidGestures.java:12)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is the link to the documentation:</p>\n<p><a href=\"http://appium.io/docs/en/writing-running-appium/android/android-mobile-gestures/#mobile-clickgesture\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/writing-running-appium/android/android-mobile-gestures/#mobile-clickgesture</a></p>\n"},{"tags":["java","tomcat","memory-management","memory-leaks","jprofiler"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676995269,"post_id":75522637,"comment_id":133247343,"body_markdown":"I&#39;m wondering if you&#39;re having any problems beside you&#39;re monitoring tools.  Do you see any performance degradation?  Slow throughput or increase in latency? Anything else?","body":"I&#39;m wondering if you&#39;re having any problems beside you&#39;re monitoring tools.  Do you see any performance degradation?  Slow throughput or increase in latency? Anything else?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676996024,"post_id":75522637,"comment_id":133247599,"body_markdown":"The Java heap is where Java stores objects, it is not the only memory used by Java. There is also memory to store classes and metadata, and native (a.k.a. direct) memory, and memory for thread stacks, memory for garbage collectors, etc.","body":"The Java heap is where Java stores objects, it is not the only memory used by Java. There is also memory to store classes and metadata, and native (a.k.a. direct) memory, and memory for thread stacks, memory for garbage collectors, etc."},{"owner":{"account_id":27841447,"reputation":25,"user_id":21257843,"display_name":"pio1dcaqr"},"score":0,"creation_date":1677000449,"post_id":75522637,"comment_id":133248992,"body_markdown":"@markspace Not that I know of. That said, I don&#39;t have very precise monitoring in place so it&#39;s possible. But anecdotally, I can say performance seems to be very good at all times even under heavy load.","body":"@markspace Not that I know of. That said, I don&#39;t have very precise monitoring in place so it&#39;s possible. But anecdotally, I can say performance seems to be very good at all times even under heavy load."},{"owner":{"account_id":27841447,"reputation":25,"user_id":21257843,"display_name":"pio1dcaqr"},"score":0,"creation_date":1677000965,"post_id":75522637,"comment_id":133249151,"body_markdown":"@MarkRotteveel Any suggestions for how to get more detailed info about allocation in those other areas of memory? Maybe I was na&#239;ve to think that JProfiler would magically point me to the answer, but are there any other tools or techniques I could employ here to get closer to an explanation of the high allocation? Also, to your point, my assumption would have been that those non-heap memory areas would&#39;t consume more memory than the app itself. If the app always consumes less than 10 GB of heap memory, I don&#39;t understand how to get to an explanation for non-heap memory being twice that amount.","body":"@MarkRotteveel Any suggestions for how to get more detailed info about allocation in those other areas of memory? Maybe I was na&#239;ve to think that JProfiler would magically point me to the answer, but are there any other tools or techniques I could employ here to get closer to an explanation of the high allocation? Also, to your point, my assumption would have been that those non-heap memory areas would&#39;t consume more memory than the app itself. If the app always consumes less than 10 GB of heap memory, I don&#39;t understand how to get to an explanation for non-heap memory being twice that amount."},{"owner":{"account_id":27841447,"reputation":25,"user_id":21257843,"display_name":"pio1dcaqr"},"score":0,"creation_date":1677001091,"post_id":75522637,"comment_id":133249180,"body_markdown":"@MarkRotteveel The other thing is, JProfiler says non-heap memory is around 300 MB while the `top` `RES` value implies that number is closer to 25 GB. That&#39;s a big discrepancy.","body":"@MarkRotteveel The other thing is, JProfiler says non-heap memory is around 300 MB while the <code>top</code> <code>RES</code> value implies that number is closer to 25 GB. That&#39;s a big discrepancy."}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677011915,"creation_date":1677011915,"answer_id":75525672,"question_id":75522637,"body_markdown":"Process size and the heap size in the JVM are not the same, see\r\n\r\nhttps://stackoverflow.com/questions/131303/how-can-i-measure-the-actual-memory-usage-of-an-application-or-process\r\n\r\nfor a discussion of process size on Linux.\r\n\r\nIf your heap size stays constant and the process size is increasing all the time, there must be a native memory leak. JProfiler cannot detect such a leak because it is only concerned with Java memory usage. The &quot;Non-heap memory&quot; that is reported by JProfiler is derived from bookkeeping by the JVM. It would not include a memory leak from a native library that is used via JNI.\r\n","title":"Why do JProfiler and the Linux top command show different non-heap allocation for the same Java/Tomcat process?","body":"<p>Process size and the heap size in the JVM are not the same, see</p>\n<p><a href=\"https://stackoverflow.com/questions/131303/how-can-i-measure-the-actual-memory-usage-of-an-application-or-process\">How can I measure the actual memory usage of an application or process?</a></p>\n<p>for a discussion of process size on Linux.</p>\n<p>If your heap size stays constant and the process size is increasing all the time, there must be a native memory leak. JProfiler cannot detect such a leak because it is only concerned with Java memory usage. The &quot;Non-heap memory&quot; that is reported by JProfiler is derived from bookkeeping by the JVM. It would not include a memory leak from a native library that is used via JNI.</p>\n"}],"owner":{"account_id":27841447,"reputation":25,"user_id":21257843,"display_name":"pio1dcaqr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75525672,"answer_count":1,"score":1,"last_activity_date":1677011915,"creation_date":1676993653,"question_id":75522637,"body_markdown":"According to the `top` command the Java/Tomcat process is using 77.9% of available memory (32GB physical * 77.9% = 25.32GB):\r\n\r\n\r\n\r\n![top command](https://i.stack.imgur.com/fYpR9.png)\r\n\r\n\r\n|TYPE |SIZE   |\r\n|-----|-------|\r\n|VIRT:|32.5 GB|\r\n|RES: |24.5 GB|\r\n|SHR: |24.9 MB|\r\n\r\n\r\n\r\nThe JVM `-Xmx` option has been set for this application to permit the JVM 12GB, which seems to be respected.\r\n\r\n\r\n\r\nHowever, our monitoring tools keep setting off alarm bells as memory usage on the box slowly increments towards the physical limit and then we have to restart Tomcat to bring it back down.\r\n\r\n\r\n\r\nThe 12 GB JVM maximum is also reflected in the blue/green Heap diagram provided by JProfiler. The other diagram provided by JProfiler shows 280.7 MB of non-heap memory allocated.\r\n\r\n\r\n\r\n![Heap/JProfiler](https://i.stack.imgur.com/67oOL.png)\r\n\r\n\r\n\r\n![Non-Heap/JProfiler](https://i.stack.imgur.com/BfzRi.png)\r\n\r\n\r\n\r\nNone of the instrumentation in JProfiler seems to help explain the gap between the 12 GB JVM maximum and the 25 GB or more reported by `top`.\r\n\r\n\r\n\r\nJProfiler consistently shows Heap memory usage hovers between 4 GB and 7 GB.\r\n\r\n\r\n\r\nI&#39;m considering profiling with a Linux-native memory profiler (Valgrind) to see if that can reveal more information but are there any other features in JProfiler that could help explain the gap?\r\n\r\n\r\n\r\nI&#39;ve used the JProfiler tools: `Heap Walker`, `Live Memory` and allocation recorder but the application&#39;s memory usage seems healthy and unremarkable.\r\n\r\n\r\n\r\nIt&#39;s definitely a powerful tool, which makes me wonder what I&#39;m missing here.\r\n\r\n\r\n\r\nOther things I&#39;ve tried include looking at `proc/PID/maps | wc -l` for the same process - out of a `max_map_count` of `65,530`, the process is using `845`. This seems to indicate that even if memory-mapped files may be involved, the number is well below the max. I&#39;m just not sure how to determine how much total memory space that might be taking up.\r\n\r\n\r\n\r\nI also compared `top` with `atop` which is consistent.\r\n\r\n\r\n\r\nI also ran pmap against the process but wasn&#39;t sure how to interpret the massive text dump that it produces. For that reason, I&#39;m hoping Valgrind is more human-friendly.","title":"Why do JProfiler and the Linux top command show different non-heap allocation for the same Java/Tomcat process?","body":"<p>According to the <code>top</code> command the Java/Tomcat process is using 77.9% of available memory (32GB physical * 77.9% = 25.32GB):</p>\n<p><img src=\"https://i.stack.imgur.com/fYpR9.png\" alt=\"top command\" /></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>TYPE</th>\n<th>SIZE</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VIRT:</td>\n<td>32.5 GB</td>\n</tr>\n<tr>\n<td>RES:</td>\n<td>24.5 GB</td>\n</tr>\n<tr>\n<td>SHR:</td>\n<td>24.9 MB</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The JVM <code>-Xmx</code> option has been set for this application to permit the JVM 12GB, which seems to be respected.</p>\n<p>However, our monitoring tools keep setting off alarm bells as memory usage on the box slowly increments towards the physical limit and then we have to restart Tomcat to bring it back down.</p>\n<p>The 12 GB JVM maximum is also reflected in the blue/green Heap diagram provided by JProfiler. The other diagram provided by JProfiler shows 280.7 MB of non-heap memory allocated.</p>\n<p><img src=\"https://i.stack.imgur.com/67oOL.png\" alt=\"Heap/JProfiler\" /></p>\n<p><img src=\"https://i.stack.imgur.com/BfzRi.png\" alt=\"Non-Heap/JProfiler\" /></p>\n<p>None of the instrumentation in JProfiler seems to help explain the gap between the 12 GB JVM maximum and the 25 GB or more reported by <code>top</code>.</p>\n<p>JProfiler consistently shows Heap memory usage hovers between 4 GB and 7 GB.</p>\n<p>I'm considering profiling with a Linux-native memory profiler (Valgrind) to see if that can reveal more information but are there any other features in JProfiler that could help explain the gap?</p>\n<p>I've used the JProfiler tools: <code>Heap Walker</code>, <code>Live Memory</code> and allocation recorder but the application's memory usage seems healthy and unremarkable.</p>\n<p>It's definitely a powerful tool, which makes me wonder what I'm missing here.</p>\n<p>Other things I've tried include looking at <code>proc/PID/maps | wc -l</code> for the same process - out of a <code>max_map_count</code> of <code>65,530</code>, the process is using <code>845</code>. This seems to indicate that even if memory-mapped files may be involved, the number is well below the max. I'm just not sure how to determine how much total memory space that might be taking up.</p>\n<p>I also compared <code>top</code> with <code>atop</code> which is consistent.</p>\n<p>I also ran pmap against the process but wasn't sure how to interpret the massive text dump that it produces. For that reason, I'm hoping Valgrind is more human-friendly.</p>\n"},{"tags":["java","neo4j","spring-data"],"owner":{"account_id":2703013,"reputation":137,"user_id":2333303,"display_name":"pmext"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677011600,"creation_date":1677011600,"question_id":75525629,"body_markdown":"I am trying to retrieve a relationship by its identity in Java using Spring Data Neo4j.\r\n\r\nWhen querying my Neo4j database directly from the browser, I see that every relationshp has a unique property called `identity`.\r\n\r\nThe parent class for relationship defines the ID:\r\n```\r\n@RelationshipProperties\r\npublic class MyBasicRelationship {\r\n    @Id @GeneratedValue\r\n    private Long identity;\r\n```\r\n\r\nThe subclass which I&#39;m trying to load extends it:\r\n```\r\n@RelationshipProperties\r\npublic class MyAdvancedRelationship extends MyBasicRelationship {\r\n```\r\n\r\nAnd I have a repo to load the subclass:\r\n```\r\n@Repository\r\npublic interface MyAdvancedRelationshipRespository extends Neo4jRepository&lt;MyAdvancedRelationship, Long&gt; {\r\n\r\n    MyAdvancedRelationship findByIdentity (Long id);\r\n```\r\n\r\nEven with a known good value for `id`, `findByIdentity()` always returns null.\r\n\r\nIs the subclass relationshp causing the problem?\r\n\r\nIs this approach entirely wrong?\r\n\r\nIf it&#39;s wrong, how *do* you retrieve a relationship directly?","title":"Spring Data Neo4j: Retrieve relationship by ID doesn&#39;t work","body":"<p>I am trying to retrieve a relationship by its identity in Java using Spring Data Neo4j.</p>\n<p>When querying my Neo4j database directly from the browser, I see that every relationshp has a unique property called <code>identity</code>.</p>\n<p>The parent class for relationship defines the ID:</p>\n<pre><code>@RelationshipProperties\npublic class MyBasicRelationship {\n    @Id @GeneratedValue\n    private Long identity;\n</code></pre>\n<p>The subclass which I'm trying to load extends it:</p>\n<pre><code>@RelationshipProperties\npublic class MyAdvancedRelationship extends MyBasicRelationship {\n</code></pre>\n<p>And I have a repo to load the subclass:</p>\n<pre><code>@Repository\npublic interface MyAdvancedRelationshipRespository extends Neo4jRepository&lt;MyAdvancedRelationship, Long&gt; {\n\n    MyAdvancedRelationship findByIdentity (Long id);\n</code></pre>\n<p>Even with a known good value for <code>id</code>, <code>findByIdentity()</code> always returns null.</p>\n<p>Is the subclass relationshp causing the problem?</p>\n<p>Is this approach entirely wrong?</p>\n<p>If it's wrong, how <em>do</em> you retrieve a relationship directly?</p>\n"},{"tags":["java","spring","spring-boot","jsp"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668536737,"post_id":74450224,"comment_id":131427939,"body_markdown":"Please change your (pom) `&lt;packaging/&gt;` to `war` ...https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations","body":"Please change your (pom) <code>&lt;packaging&#47;&gt;</code> to <code>war</code> ...<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":26795368,"reputation":21,"user_id":20388189,"display_name":"lalala"},"score":0,"creation_date":1668536211,"post_id":74450328,"comment_id":131427744,"body_markdown":"already tried it.\n\nI added console log to my question.","body":"already tried it.  I added console log to my question."}],"tags":[],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668535619,"creation_date":1668535619,"answer_id":74450328,"question_id":74450224,"body_markdown":"try in your `.properties` to change it into\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\nif it still dont work i would like to see the error in console or the stack trace.","title":"How to use JSP in Spring Boot","body":"<p>try in your <code>.properties</code> to change it into</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>if it still dont work i would like to see the error in console or the stack trace.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668596994,"creation_date":1668596994,"answer_id":74459458,"question_id":74450224,"body_markdown":"### Gotcha at [&quot;JSP Limitations&quot;][1];\r\n&gt;When running a Spring Boot application that **uses an embedded servlet container (and is packaged as an executable archive)**, there are some limitations in the JSP support.\r\n&gt;\r\n&gt;- **With Jetty and Tomcat, it should work if you use `war` packaging**. An executable war will work when launched with `java -jar`, and will also be deployable to any standard container. **JSPs are not supported when using an executable jar**.\r\n&gt;\r\n&gt;- Undertow does not support JSPs.\r\n&gt;\r\n&gt;- Creating a custom `error.jsp` page does not override the default view for error handling. Custom error pages should be used instead.\r\n\r\nIn maven (if omit) default packaging is `jar`, so please add:\r\n- to `pom.xml`:\r\n   ```lang-xml\r\n   &lt;project&gt;\r\n     ...\r\n     &lt;packaging&gt;war&lt;/packaging&gt;\r\n     ...\r\n   ```\r\n- to `build.gradle`:\r\n   ```lang-groovie\r\n   plugins {\r\n     ...\r\n     id &#39;war&#39;\r\n     ...\r\n   }\r\n   ```\r\n- or at https://start.spring.io/#!packaging=war (which also sets `spring-boot-starter-tomcat` to `prvoided` scope (i.e. excludes it from packaging/prepares for external deployment))\r\n\r\n(With all of its consequences.) \r\n\r\nPlease Also [Note &quot;Tip&quot;](https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.template-engines):\r\n&gt;**If possible, JSPs should be avoided**. There are several [known limitations][1] when using them with embedded servlet containers.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations","title":"How to use JSP in Spring Boot","body":"<h3>Gotcha at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations\" rel=\"nofollow noreferrer\">&quot;JSP Limitations&quot;</a>;</h3>\n<blockquote>\n<p>When running a Spring Boot application that <strong>uses an embedded servlet container (and is packaged as an executable archive)</strong>, there are some limitations in the JSP support.</p>\n<ul>\n<li><p><strong>With Jetty and Tomcat, it should work if you use <code>war</code> packaging</strong>. An executable war will work when launched with <code>java -jar</code>, and will also be deployable to any standard container. <strong>JSPs are not supported when using an executable jar</strong>.</p>\n</li>\n<li><p>Undertow does not support JSPs.</p>\n</li>\n<li><p>Creating a custom <code>error.jsp</code> page does not override the default view for error handling. Custom error pages should be used instead.</p>\n</li>\n</ul>\n</blockquote>\n<p>In maven (if omit) default packaging is <code>jar</code>, so please add:</p>\n<ul>\n<li>to <code>pom.xml</code>:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n   ...\n   &lt;packaging&gt;war&lt;/packaging&gt;\n   ...\n</code></pre>\n</li>\n<li>to <code>build.gradle</code>:\n<pre class=\"lang-groovie prettyprint-override\"><code>plugins {\n   ...\n   id 'war'\n   ...\n}\n</code></pre>\n</li>\n<li>or at <a href=\"https://start.spring.io/#!packaging=war\" rel=\"nofollow noreferrer\">https://start.spring.io/#!packaging=war</a> (which also sets <code>spring-boot-starter-tomcat</code> to <code>prvoided</code> scope (i.e. excludes it from packaging/prepares for external deployment))</li>\n</ul>\n<p>(With all of its consequences.)</p>\n<p>Please Also <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.template-engines\" rel=\"nofollow noreferrer\">Note &quot;Tip&quot;</a>:</p>\n<blockquote>\n<p><strong>If possible, JSPs should be avoided</strong>. There are several <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations\" rel=\"nofollow noreferrer\">known limitations</a> when using them with embedded servlet containers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2450779,"reputation":1014,"user_id":2137125,"accept_rate":75,"display_name":"Lifeweaver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677011488,"creation_date":1677011488,"answer_id":75525617,"question_id":74450224,"body_markdown":"I was able to get JSPs to work with an executable JAR by using https://stackoverflow.com/a/50846032/2137125, part of https://stackoverflow.com/a/68619247/2137125, and https://dzone.com/articles/spring-boot-with-jsps-in-executable-jars-1.\r\n\r\nBut as other answers in the first link say, the supported way seems to be using an executable war, i.e. you can `java -jar something.war`, although I didn&#39;t try it, maybe because I&#39;m stubborn.","title":"How to use JSP in Spring Boot","body":"<p>I was able to get JSPs to work with an executable JAR by using <a href=\"https://stackoverflow.com/a/50846032/2137125\">https://stackoverflow.com/a/50846032/2137125</a>, part of <a href=\"https://stackoverflow.com/a/68619247/2137125\">https://stackoverflow.com/a/68619247/2137125</a>, and <a href=\"https://dzone.com/articles/spring-boot-with-jsps-in-executable-jars-1\" rel=\"nofollow noreferrer\">https://dzone.com/articles/spring-boot-with-jsps-in-executable-jars-1</a>.</p>\n<p>But as other answers in the first link say, the supported way seems to be using an executable war, i.e. you can <code>java -jar something.war</code>, although I didn't try it, maybe because I'm stubborn.</p>\n"}],"owner":{"account_id":26795368,"reputation":21,"user_id":20388189,"display_name":"lalala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677011488,"creation_date":1668535175,"question_id":74450224,"body_markdown":"Configured Spring Boot according to a guide, still it cannot  find my jsp views. So after launching I get this message &quot;This application has no explicit mapping for /error, so you are seeing this as a fallback.&quot;\r\n\r\nAny suggestions?\r\n\r\npom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.lib.secondtry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyLibrary&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MyLibrary&lt;/name&gt;\r\n    &lt;description&gt;MyLibrary&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.44&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.44&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nProperties:\r\n\r\n```\r\nspring.mvc.view.prefix=/webapp/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\nController:\r\n\r\n```\r\n@Controller\r\npublic class FirstController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String sayHello(){\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\nConsole:\r\n\r\n```\r\n2022-11-15 23:09:26.879  INFO 11896 --- [  restartedMain] c.l.s.mylibrary.MyLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-11-15 23:09:26.907  INFO 11896 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-11-15 23:09:26.908  INFO 11896 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-11-15 23:09:27.369  INFO 11896 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-11-15 23:09:27.374  INFO 11896 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-11-15 23:09:27.375  INFO 11896 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2022-11-15 23:09:27.495  INFO 11896 --- [  restartedMain] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n2022-11-15 23:09:27.500  INFO 11896 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-11-15 23:09:27.501  INFO 11896 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 593 ms\r\n2022-11-15 23:09:27.663  INFO 11896 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2022-11-15 23:09:27.694  INFO 11896 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-11-15 23:09:27.700  INFO 11896 --- [  restartedMain] c.l.s.mylibrary.MyLibraryApplication     : Started MyLibraryApplication in 1.008 seconds (JVM running for 1.342)\r\n2022-11-15 23:09:43.705  INFO 11896 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-11-15 23:09:43.705  INFO 11896 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-11-15 23:09:43.706  INFO 11896 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```\r\n\r\nIn main I created webapp/WEB-INF/jsp/ and it didn&#39;t help.","title":"How to use JSP in Spring Boot","body":"<p>Configured Spring Boot according to a guide, still it cannot  find my jsp views. So after launching I get this message &quot;This application has no explicit mapping for /error, so you are seeing this as a fallback.&quot;</p>\n<p>Any suggestions?</p>\n<p>pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lib.secondtry&lt;/groupId&gt;\n    &lt;artifactId&gt;MyLibrary&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MyLibrary&lt;/name&gt;\n    &lt;description&gt;MyLibrary&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.44&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.44&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Properties:</p>\n<pre><code>spring.mvc.view.prefix=/webapp/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class FirstController {\n    @GetMapping(&quot;/&quot;)\n    public String sayHello(){\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>Console:</p>\n<pre><code>2022-11-15 23:09:26.879  INFO 11896 --- [  restartedMain] c.l.s.mylibrary.MyLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-11-15 23:09:26.907  INFO 11896 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-11-15 23:09:26.908  INFO 11896 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-11-15 23:09:27.369  INFO 11896 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-11-15 23:09:27.374  INFO 11896 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-11-15 23:09:27.375  INFO 11896 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2022-11-15 23:09:27.495  INFO 11896 --- [  restartedMain] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2022-11-15 23:09:27.500  INFO 11896 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-11-15 23:09:27.501  INFO 11896 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 593 ms\n2022-11-15 23:09:27.663  INFO 11896 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-11-15 23:09:27.694  INFO 11896 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-11-15 23:09:27.700  INFO 11896 --- [  restartedMain] c.l.s.mylibrary.MyLibraryApplication     : Started MyLibraryApplication in 1.008 seconds (JVM running for 1.342)\n2022-11-15 23:09:43.705  INFO 11896 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-11-15 23:09:43.705  INFO 11896 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-11-15 23:09:43.706  INFO 11896 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<p>In main I created webapp/WEB-INF/jsp/ and it didn't help.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677011283,"creation_date":1677011283,"answer_id":75525592,"question_id":75523997,"body_markdown":"Found that [here][1]\r\n\r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_APP_MESSAGING);\r\n    startActivity(intent);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37113613/1806493","title":"How can I open the system app to send sms on button click?","body":"<p>Found that <a href=\"https://stackoverflow.com/a/37113613/1806493\">here</a></p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_APP_MESSAGING);\nstartActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75525592,"answer_count":1,"score":0,"last_activity_date":1677011283,"creation_date":1677000823,"question_id":75523997,"body_markdown":"I need to make it so that when a button is pressed, the system application for sending SMS is launched. But I don&#39;t know how to do that and I haven&#39;t found any information about it. Is there any way to do this? Please, help me!\r\n\r\nI found a way to launch another application using the code below, it works for youtube for example, but I don&#39;t know the package that contains the system application for sending sms\r\n\r\n    messageIcon.setOnClickListener(view -&gt; {\r\n                Intent launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;&quot;);\r\n                if (launchIntent != null) {\r\n                    startActivity(launchIntent);\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;Произошла ошибка...&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            });","title":"How can I open the system app to send sms on button click?","body":"<p>I need to make it so that when a button is pressed, the system application for sending SMS is launched. But I don't know how to do that and I haven't found any information about it. Is there any way to do this? Please, help me!</p>\n<p>I found a way to launch another application using the code below, it works for youtube for example, but I don't know the package that contains the system application for sending sms</p>\n<pre><code>messageIcon.setOnClickListener(view -&gt; {\n            Intent launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;&quot;);\n            if (launchIntent != null) {\n                startActivity(launchIntent);\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Произошла ошибка...&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"answers":[{"comments":[{"owner":{"account_id":4390049,"reputation":189,"user_id":3578777,"accept_rate":50,"display_name":"chetra tep"},"score":0,"creation_date":1517794952,"post_id":48578084,"comment_id":84226668,"body_markdown":"I know that. `Ctrl + 12` is listed in shortcut command but it is not working. I mean no action triggered. It seems like it cannot find the implemented class of the interface. On eclipse it is working as normal.","body":"I know that. <code>Ctrl + 12</code> is listed in shortcut command but it is not working. I mean no action triggered. It seems like it cannot find the implemented class of the interface. On eclipse it is working as normal."},{"owner":{"account_id":232190,"reputation":3145,"user_id":496865,"accept_rate":89,"display_name":"alerya"},"score":0,"creation_date":1517837816,"post_id":48578084,"comment_id":84244200,"body_markdown":"Then I guess your implementation is in the library. :)","body":"Then I guess your implementation is in the library. :)"}],"tags":[],"owner":{"account_id":232190,"reputation":3145,"user_id":496865,"accept_rate":89,"display_name":"alerya"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1522409389,"creation_date":1517557912,"answer_id":48578084,"question_id":48555597,"body_markdown":"Try &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;K&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt; and see your key maps.\r\n\r\nAnother really useful option is &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;K&lt;/kbd&gt;+&lt;kbd&gt;M&lt;/kbd&gt;","title":"Visual studio code Go to implementation not working ( ctr + F12) not working","body":"<p>Try <kbd>Ctrl</kbd>+<kbd>K</kbd>+<kbd>S</kbd> and see your key maps.</p>\n\n<p>Another really useful option is <kbd>Ctrl</kbd>+<kbd>K</kbd>+<kbd>M</kbd></p>\n"},{"tags":[],"owner":{"account_id":10463054,"reputation":511,"user_id":7713193,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545307182,"creation_date":1545307182,"answer_id":53868287,"question_id":48555597,"body_markdown":"As for scss files i got this problem after i changed\r\n\r\n    // Allows to display errors.\r\n    &quot;scss.showErrors&quot;: false\r\n\r\nto\r\n\r\n    &quot;scss.showErrors&quot;: true\r\n\r\nin Settings...\r\ngl","title":"Visual studio code Go to implementation not working ( ctr + F12) not working","body":"<p>As for scss files i got this problem after i changed</p>\n\n<pre><code>// Allows to display errors.\n\"scss.showErrors\": false\n</code></pre>\n\n<p>to</p>\n\n<pre><code>\"scss.showErrors\": true\n</code></pre>\n\n<p>in Settings...\ngl</p>\n"},{"tags":[],"owner":{"account_id":75850,"reputation":1360,"user_id":217440,"display_name":"Gibron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677011281,"creation_date":1677011281,"answer_id":75525591,"question_id":48555597,"body_markdown":"The following answer helped me with the same issue. It enumerates steps to enable/disable all extensions.\r\n\r\n\r\n[VSCode &quot;go to definition&quot; not working][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71984136/217440","title":"Visual studio code Go to implementation not working ( ctr + F12) not working","body":"<p>The following answer helped me with the same issue. It enumerates steps to enable/disable all extensions.</p>\n<p><a href=\"https://stackoverflow.com/a/71984136/217440\">VSCode &quot;go to definition&quot; not working</a></p>\n"}],"owner":{"account_id":4390049,"reputation":189,"user_id":3578777,"accept_rate":50,"display_name":"chetra tep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4173,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"answer_count":3,"score":2,"last_activity_date":1677011281,"creation_date":1517460910,"question_id":48555597,"body_markdown":"VS code cannot route to the implementation of an interface. &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt; is not working too. Is there anyway to fix this problem?  Visual Studio code version `1.19.3`. ","title":"Visual studio code Go to implementation not working ( ctr + F12) not working","body":"<p>VS code cannot route to the implementation of an interface. <kbd>Alt</kbd>+<kbd>F12</kbd> is not working too. Is there anyway to fix this problem?  Visual Studio code version <code>1.19.3</code>. </p>\n"},{"tags":["java","rest","api","ip"],"answers":[{"comments":[{"owner":{"account_id":7314857,"reputation":306,"user_id":5572863,"display_name":"K Rajitha"},"score":0,"creation_date":1541061572,"post_id":53097369,"comment_id":93091359,"body_markdown":"what do you mean @son pham","body":"what do you mean @son pham"},{"owner":{"account_id":9959405,"reputation":205,"user_id":7369204,"display_name":"son pham"},"score":0,"creation_date":1541131411,"post_id":53097369,"comment_id":93119900,"body_markdown":"If you use nginx in config location you must add: proxy_set_header X-Real-IP $remote_addr;  when you use request.getRemoteAddr() it will return IP client.","body":"If you use nginx in config location you must add: proxy_set_header X-Real-IP $remote_addr;  when you use request.getRemoteAddr() it will return IP client."},{"owner":{"account_id":7314857,"reputation":306,"user_id":5572863,"display_name":"K Rajitha"},"score":0,"creation_date":1542364765,"post_id":53097369,"comment_id":93551127,"body_markdown":"This is because some proxy. I have use the ip of server now it running perfectly. The server url was a shorten one. That is the problem here.","body":"This is because some proxy. I have use the ip of server now it running perfectly. The server url was a shorten one. That is the problem here."}],"tags":[],"owner":{"account_id":9959405,"reputation":205,"user_id":7369204,"display_name":"son pham"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541059944,"creation_date":1541059944,"answer_id":53097369,"question_id":53097285,"body_markdown":"Please updated it again use request.getRemoteAddr()\r\n\r\n    @RequestMapping(value = &quot;/origin/test/&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n    public String getTest(@Context HttpServletRequest request) {\r\n        String Text = &quot;Version - &quot; + org.hibernate.Version.getVersionString();\r\n        return Text+request.getRemoteAddr()+&quot;----&quot;+request.getRemoteAddr();\r\n    }","title":"request.getRemoteAddr() return server ip","body":"<p>Please updated it again use request.getRemoteAddr()</p>\n\n<pre><code>@RequestMapping(value = \"/origin/test/\", method = RequestMethod.GET, headers = \"Accept=application/json\")\npublic String getTest(@Context HttpServletRequest request) {\n    String Text = \"Version - \" + org.hibernate.Version.getVersionString();\n    return Text+request.getRemoteAddr()+\"----\"+request.getRemoteAddr();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12687472,"reputation":1209,"user_id":9218757,"display_name":"Dang Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1541064938,"creation_date":1541064938,"answer_id":53098537,"question_id":53097285,"body_markdown":"`getRemoteAddr()` will cause trouble if the client is behind any proxy then you will get the IP address of the proxy\r\n\r\nAnd when the client is using DHCP then the IP address can and will change during the session.\r\n&gt;getRemoteAddr(): Returns the Internet Protocol (IP) address of the client or last proxy that sent the request.","title":"request.getRemoteAddr() return server ip","body":"<p><code>getRemoteAddr()</code> will cause trouble if the client is behind any proxy then you will get the IP address of the proxy</p>\n\n<p>And when the client is using DHCP then the IP address can and will change during the session.</p>\n\n<blockquote>\n  <p>getRemoteAddr(): Returns the Internet Protocol (IP) address of the client or last proxy that sent the request.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4192466,"reputation":172,"user_id":4984014,"display_name":"Folli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677011103,"creation_date":1677011103,"answer_id":75525575,"question_id":53097285,"body_markdown":"If you use NGINX standard settings, i.e.\r\n\r\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n\r\nYou can use following call to get the IP as string:\r\n\r\n    String userIp = request.getHeader(&quot;X-FORWARDED-FOR&quot;);","title":"request.getRemoteAddr() return server ip","body":"<p>If you use NGINX standard settings, i.e.</p>\n<pre><code>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n</code></pre>\n<p>You can use following call to get the IP as string:</p>\n<pre><code>String userIp = request.getHeader(&quot;X-FORWARDED-FOR&quot;);\n</code></pre>\n"}],"owner":{"account_id":7314857,"reputation":306,"user_id":5572863,"display_name":"K Rajitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3948,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53098537,"answer_count":3,"score":2,"last_activity_date":1677011103,"creation_date":1541059578,"question_id":53097285,"body_markdown":"    @RequestMapping(value = &quot;/origin/test/&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n\tpublic String getTest(@Context HttpServletRequest request) {\r\n\t\tString Text = &quot;Version - &quot; + org.hibernate.Version.getVersionString();\r\n\t\treturn Text+request.getRemoteAddr()+&quot;----&quot;+request.getLocalAddr();\r\n\t}\r\n\r\nIn above code when running in the server it return server ip as remote address and also local address. \r\nBut when running as localhost i have made a request with different laptop it return that laptop IP correctly. \r\nBut the problem is server not returning the IP of laptop that made the request. ","title":"request.getRemoteAddr() return server ip","body":"<pre><code>@RequestMapping(value = \"/origin/test/\", method = RequestMethod.GET, headers = \"Accept=application/json\")\npublic String getTest(@Context HttpServletRequest request) {\n    String Text = \"Version - \" + org.hibernate.Version.getVersionString();\n    return Text+request.getRemoteAddr()+\"----\"+request.getLocalAddr();\n}\n</code></pre>\n\n<p>In above code when running in the server it return server ip as remote address and also local address. \nBut when running as localhost i have made a request with different laptop it return that laptop IP correctly. \nBut the problem is server not returning the IP of laptop that made the request. </p>\n"},{"tags":["java","macos","ojdbc","aws-sct"],"answers":[{"tags":[],"owner":{"account_id":12018090,"reputation":1,"user_id":8792539,"display_name":"David Roberts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508275732,"creation_date":1508275732,"answer_id":46799500,"question_id":46496811,"body_markdown":"Same problem here.  Looks like you need to chmod +x ojdbc6.jar  and try again.  ","title":"AWS Schema Conversion Tool on OSX- Driver Permissions - You don&#39;t have permission","body":"<p>Same problem here.  Looks like you need to chmod +x ojdbc6.jar  and try again.  </p>\n"}],"owner":{"account_id":10929220,"reputation":1,"user_id":8032964,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677011081,"creation_date":1506718610,"question_id":46496811,"body_markdown":"Just did my upgrade to OSX.\r\nUsing AWS Schema Conversion Tool 1.0.606 on OSX 10.13 with JRE \r\nJava(TM) SE Runtime Environment (build 1.8.0_65-b17), JODBC driver ojdbc7.jar.\r\n\r\nWhen try to add to Global Settings and point at the jodbc driver, get an error of &quot;You don&#39;t have permissions to read or execute the specific object&quot;.  Same error for pointing at redshift driver.  Was not problem before the OSX upgrade.\r\n\r\nSQLWorkbenchJ works fine with these drivers.\r\n\r\nI have checked permissions on the .jar. I have opened the AWS SCT with sudo. And have reninstalled AWS SCT.\r\n\r\nNot sure what broke on the OSX upgrade.\r\n","title":"AWS Schema Conversion Tool on OSX- Driver Permissions - You don&#39;t have permission","body":"<p>Just did my upgrade to OSX.\nUsing AWS Schema Conversion Tool 1.0.606 on OSX 10.13 with JRE \nJava(TM) SE Runtime Environment (build 1.8.0_65-b17), JODBC driver ojdbc7.jar.</p>\n\n<p>When try to add to Global Settings and point at the jodbc driver, get an error of \"You don't have permissions to read or execute the specific object\".  Same error for pointing at redshift driver.  Was not problem before the OSX upgrade.</p>\n\n<p>SQLWorkbenchJ works fine with these drivers.</p>\n\n<p>I have checked permissions on the .jar. I have opened the AWS SCT with sudo. And have reninstalled AWS SCT.</p>\n\n<p>Not sure what broke on the OSX upgrade.</p>\n"},{"tags":["java","rounding","bigdecimal"],"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":1,"creation_date":1461698665,"post_id":10734230,"comment_id":61314604,"body_markdown":"Indeed it is a surprise.  Without looking at docs I expected setting the scale to truncate at the scale...","body":"Indeed it is a surprise.  Without looking at docs I expected setting the scale to truncate at the scale..."},{"owner":{"account_id":10062835,"reputation":1541,"user_id":7438853,"accept_rate":68,"display_name":"wheeleruniverse"},"score":0,"creation_date":1531343130,"post_id":10734230,"comment_id":89565808,"body_markdown":"I expectedthe same thing. This exception even comes when specifying the RoundingMode.ROUNDING_UNNECESSARY. I didn&#39;t see a truncate option, but wish there was.","body":"I expectedthe same thing. This exception even comes when specifying the RoundingMode.ROUNDING_UNNECESSARY. I didn&#39;t see a truncate option, but wish there was."}],"answers":[{"tags":[],"owner":{"account_id":232474,"reputation":5506,"user_id":497339,"display_name":"brain"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1510606817,"creation_date":1337850439,"answer_id":10734366,"question_id":10734230,"body_markdown":"You have two BigDecimal numbers both of which require over a 1000 decimal places. Trying to set the scale to only have 113 decimal places means you will lose precision and therefore you need to round. \r\n\r\nYou can use the setScale methods that take a RoundingMode to prevent the exception but not the rounding.","title":"Rounding necessary with BigDecimal numbers","body":"<p>You have two BigDecimal numbers both of which require over a 1000 decimal places. Trying to set the scale to only have 113 decimal places means you will lose precision and therefore you need to round. </p>\n\n<p>You can use the setScale methods that take a RoundingMode to prevent the exception but not the rounding.</p>\n"},{"tags":[],"owner":{"account_id":247049,"reputation":6390,"user_id":521525,"accept_rate":86,"display_name":"Haozhun"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473451327,"creation_date":1337850703,"answer_id":10734437,"question_id":10734230,"body_markdown":"Rounding is necessary.  \r\n\r\nIn [javadoc for BigDecimal][1], it says `BigDecimal` is represented as (unscaledValue &#215; 10&lt;sup&gt;-scale&lt;/sup&gt;), where `unscaledValue` is an arbitatrily long integer and scale is a 32-bit integer.\r\n\r\n2.6*10&lt;sup&gt;-1095&lt;/sup&gt; requires a scale of at least 1096 to represent accurately. It can not be represented accurately with (any integer)*10&lt;sup&gt;-113&lt;/sup&gt;. Therefore, you need to providing a `roundingMode`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html","title":"Rounding necessary with BigDecimal numbers","body":"<p>Rounding is necessary.  </p>\n\n<p>In <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">javadoc for BigDecimal</a>, it says <code>BigDecimal</code> is represented as (unscaledValue × 10<sup>-scale</sup>), where <code>unscaledValue</code> is an arbitatrily long integer and scale is a 32-bit integer.</p>\n\n<p>2.6*10<sup>-1095</sup> requires a scale of at least 1096 to represent accurately. It can not be represented accurately with (any integer)*10<sup>-113</sup>. Therefore, you need to providing a <code>roundingMode</code>.</p>\n"},{"comments":[{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":4,"creation_date":1561629720,"post_id":37842980,"comment_id":100131380,"body_markdown":"I think the enum should be RoundingMode.HALF_DOWN","body":"I think the enum should be RoundingMode.HALF_DOWN"}],"tags":[],"owner":{"account_id":8304600,"reputation":679,"user_id":6242145,"display_name":"Akostha"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1677011049,"creation_date":1466014843,"answer_id":37842980,"question_id":10734230,"body_markdown":"Try to use rounding mode of `setScale` method.\r\n\r\nSome thing like:\r\n\r\n    BigDecimal aa = a.setScale(i+j, RoundingMode.HALF_DOWN);\r\n\r\n","title":"Rounding necessary with BigDecimal numbers","body":"<p>Try to use rounding mode of <code>setScale</code> method.</p>\n<p>Some thing like:</p>\n<pre><code>BigDecimal aa = a.setScale(i+j, RoundingMode.HALF_DOWN);\n</code></pre>\n"}],"owner":{"account_id":1281346,"reputation":2180,"user_id":1251787,"accept_rate":70,"display_name":"Mehdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101617,"favorite_count":0,"down_vote_count":1,"up_vote_count":63,"accepted_answer_id":10734366,"answer_count":3,"score":62,"last_activity_date":1677011049,"creation_date":1337849923,"question_id":10734230,"body_markdown":"\r\nI want to set scale of two BigDecimal numbers `a` and `b` . as in this example :\r\n\r\n    BigDecimal a = new BigDecimal(&quot;2.6E-1095&quot;);\r\n            BigDecimal b = new BigDecimal(&quot;2.7E-1105&quot;);\r\n            int i = 112, j=1;\r\n    \r\n            BigDecimal aa = a.setScale(i+j);\r\n            BigDecimal bb = b.setScale(i+j);\r\n\r\nand when i run i have this exception:\r\n\r\n    java.lang.ArithmeticException: Rounding necessary\r\n    \tat java.math.BigDecimal.divideAndRound(BigDecimal.java:1439)\r\n    \tat java.math.BigDecimal.setScale(BigDecimal.java:2394)\r\n    \tat java.math.BigDecimal.setScale(BigDecimal.java:2437)\r\n\r\nWhy rounding is necessary ?  if i don&#39;t want to make around, what is solution please ?\r\n\r\nThanks","title":"Rounding necessary with BigDecimal numbers","body":"<p>I want to set scale of two BigDecimal numbers <code>a</code> and <code>b</code> . as in this example :</p>\n\n<pre><code>BigDecimal a = new BigDecimal(\"2.6E-1095\");\n        BigDecimal b = new BigDecimal(\"2.7E-1105\");\n        int i = 112, j=1;\n\n        BigDecimal aa = a.setScale(i+j);\n        BigDecimal bb = b.setScale(i+j);\n</code></pre>\n\n<p>and when i run i have this exception:</p>\n\n<pre><code>java.lang.ArithmeticException: Rounding necessary\n    at java.math.BigDecimal.divideAndRound(BigDecimal.java:1439)\n    at java.math.BigDecimal.setScale(BigDecimal.java:2394)\n    at java.math.BigDecimal.setScale(BigDecimal.java:2437)\n</code></pre>\n\n<p>Why rounding is necessary ?  if i don't want to make around, what is solution please ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","javafx","scenebuilder","builder","scene"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1521675273,"post_id":49418164,"comment_id":85838116,"body_markdown":"&quot;I was using an older JRE version than JavaFX was.&quot;  How was that even possible?  JavaFX is part of the JRE, so it always has the same version as the JRE that it is part of.","body":"&quot;I was using an older JRE version than JavaFX was.&quot;  How was that even possible?  JavaFX is part of the JRE, so it always has the same version as the JRE that it is part of."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":2,"creation_date":1521675557,"post_id":49418164,"comment_id":85838191,"body_markdown":"It is not appropriate to add (SOLVED) in your post title and edit the solution into your post, so I&#39;ve removed it. If you&#39;ve solved the problem and want to share that solution, do so by using the answer space below to do so properly as it says in [Can I answer my own question here?](http://stackoverflow.com/help/self-answer). If you don&#39;t want to be bothered writing that answer, you can either leave the question for someone else to answer, or you can choose to delete it.","body":"It is not appropriate to add (SOLVED) in your post title and edit the solution into your post, so I&#39;ve removed it. If you&#39;ve solved the problem and want to share that solution, do so by using the answer space below to do so properly as it says in <a href=\"http://stackoverflow.com/help/self-answer\">Can I answer my own question here?</a>. If you don&#39;t want to be bothered writing that answer, you can either leave the question for someone else to answer, or you can choose to delete it."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1521679205,"post_id":49418164,"comment_id":85839097,"body_markdown":"@KenWhite Thank you, i just did that.","body":"@KenWhite Thank you, i just did that."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1521679296,"post_id":49418164,"comment_id":85839120,"body_markdown":"@jewelsea Scenebuilder was generating a fxml with this: xmlns=&quot;http://javafx.com/javafx/9.0.1&quot; check the red error above, I&#39;m not really used to jres and libraries.","body":"@jewelsea Scenebuilder was generating a fxml with this: xmlns=&quot;<a href=\"http://javafx.com/javafx/9.0.1\" rel=\"nofollow noreferrer\">javafx.com/javafx/9.0.1</a>&quot; check the red error above, I&#39;m not really used to jres and libraries."}],"answers":[{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1522597340,"creation_date":1521679166,"answer_id":49418747,"question_id":49418164,"body_markdown":"Solved it! I was useing an older JRE version. I was useing javafx 9.0.1 and JRE 8.0.161\r\n\r\nSo i just downloaded JRE 9, changed it on Window -&gt; Preferences -&gt; Java -&gt; installed JREs -&gt; add\r\n\r\nand created a new project, copied everything and it worked. Now the red error is not showing.\r\n\r\n**Update: I ended downgrading again to 1.8... Its been imposible to manage all the problems that JRE 9 were giveing to me. I guess my destiny is to have a bigger window than I want...**\r\n\r\n**Upadate 2: I downloades SceneBuilder 8. Now I don&#39;t get the compatibility error but the frame stills being better.**","title":"JavaFX execution has a bigger frame than SceneBuilder preview","body":"<p>Solved it! I was useing an older JRE version. I was useing javafx 9.0.1 and JRE 8.0.161</p>\n\n<p>So i just downloaded JRE 9, changed it on Window -> Preferences -> Java -> installed JREs -> add</p>\n\n<p>and created a new project, copied everything and it worked. Now the red error is not showing.</p>\n\n<p><strong>Update: I ended downgrading again to 1.8... Its been imposible to manage all the problems that JRE 9 were giveing to me. I guess my destiny is to have a bigger window than I want...</strong></p>\n\n<p><strong>Upadate 2: I downloades SceneBuilder 8. Now I don't get the compatibility error but the frame stills being better.</strong></p>\n"}],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49418747,"answer_count":1,"score":0,"last_activity_date":1677011029,"creation_date":1521675002,"question_id":49418164,"body_markdown":"I am making an UI with Scenebuilder and I noticed that this: (SceneBuilder preview)  \r\n[![scenebuilderpreview][1]][1]\r\n \r\nWas sightly different than this: (Eclipse execution)  \r\n[![enter image description here][2]][2]\r\n\r\nSo I tried to make it simple (without dynamically added elements and those things).\r\n\r\nSame results. This is the Scene Builder preview:  \r\n[![enter image description here][3]][3]\r\n\r\nAnd this is on execution:  \r\n[![enter image description here][4]][4]\r\n\r\nEvery time I execute a Stage I get a system print which says:  \r\n[![enter image description here][5]][5]\r\n\r\n&gt; mar 22, 2018 12:17:21 AM javafx.fxml.FXMLLoader$ValueElement processValue  \r\nWARNING: Loading FXML document with JavaFX API of version 9.0.1 by JavaFX runtime of version 8.0.101\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nuMOA.png\r\n  [2]: https://i.stack.imgur.com/KQ7oZ.pngd\r\n  [3]: https://i.stack.imgur.com/lErJL.png\r\n  [4]: https://i.stack.imgur.com/sS54h.png\r\n  [5]: https://i.stack.imgur.com/CMLpz.png","title":"JavaFX execution has a bigger frame than SceneBuilder preview","body":"<p>I am making an UI with Scenebuilder and I noticed that this: (SceneBuilder preview)<br />\n<a href=\"https://i.stack.imgur.com/nuMOA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nuMOA.png\" alt=\"scenebuilderpreview\" /></a></p>\n<p>Was sightly different than this: (Eclipse execution)<br />\n<a href=\"https://i.stack.imgur.com/KQ7oZ.pngd\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KQ7oZ.pngd\" alt=\"enter image description here\" /></a></p>\n<p>So I tried to make it simple (without dynamically added elements and those things).</p>\n<p>Same results. This is the Scene Builder preview:<br />\n<a href=\"https://i.stack.imgur.com/lErJL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lErJL.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is on execution:<br />\n<a href=\"https://i.stack.imgur.com/sS54h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sS54h.png\" alt=\"enter image description here\" /></a></p>\n<p>Every time I execute a Stage I get a system print which says:<br />\n<a href=\"https://i.stack.imgur.com/CMLpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CMLpz.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>mar 22, 2018 12:17:21 AM javafx.fxml.FXMLLoader$ValueElement processValue<br />\nWARNING: Loading FXML document with JavaFX API of version 9.0.1 by JavaFX runtime of version 8.0.101</p>\n</blockquote>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1677009411,"post_id":75524912,"comment_id":133251687,"body_markdown":"Best place to ask was [concurrency-interest](https://gee.cs.oswego.edu/dl/concurrency-interest/), but as that is down due to university server failure, you could ask on [core-libs-dev](https://mail.openjdk.org/pipermail/core-libs-dev/) or email Doug.","body":"Best place to ask was <a href=\"https://gee.cs.oswego.edu/dl/concurrency-interest/\" rel=\"nofollow noreferrer\">concurrency-interest</a>, but as that is down due to university server failure, you could ask on <a href=\"https://mail.openjdk.org/pipermail/core-libs-dev/\" rel=\"nofollow noreferrer\">core-libs-dev</a> or email Doug."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677010519,"creation_date":1677010519,"answer_id":75525492,"question_id":75524912,"body_markdown":"I think there are multiple reasons for this:\r\n- different concept of the queues. `SynchronousQueue` assumes that there&#39;s exactly one consumer in one thread and exactly one consumer in another thread synching up an object. `TransferQueue` is designed more as message-passing tool with multiple conumers/producers\r\n- backward compatibility: suppose we have serialized an instance of `SynchronousQueue` using Java 6 and written the bytes somewhere. Now we are taking them out and deserializing on Java 8. If some fields were added to `SynchronousQueue` in order to implement new methods of `TransferQueueu` how can we guarantee correct deserialization?\r\n- `SynchronousQueue` is fully blocking queue while `TransferQueue` provides non-blocking methods as well\r\n- JavaDoc of `SynchronousQueue` claims:\r\n```java\r\nA synchronous queue does not have any\r\n * internal capacity, not even a capacity of one.  You cannot\r\n * {@code peek} at a synchronous queue because an element is only\r\n * present when you try to remove it; you cannot insert an element\r\n * (using any method) unless another thread is trying to remove it;\r\n * you cannot iterate as there is nothing to iterate.\r\n```\r\ni.e. this a queue without capacity. Compare with description of `TransferQueue`:\r\n```java\r\n* Like other blocking queues, a {@code TransferQueue} may be\r\n* capacity bounded\r\n```\r\nSo both they seem to be pretty different.","title":"Why Does SynchronousQueue not Implement TransferQueue?","body":"<p>I think there are multiple reasons for this:</p>\n<ul>\n<li>different concept of the queues. <code>SynchronousQueue</code> assumes that there's exactly one consumer in one thread and exactly one consumer in another thread synching up an object. <code>TransferQueue</code> is designed more as message-passing tool with multiple conumers/producers</li>\n<li>backward compatibility: suppose we have serialized an instance of <code>SynchronousQueue</code> using Java 6 and written the bytes somewhere. Now we are taking them out and deserializing on Java 8. If some fields were added to <code>SynchronousQueue</code> in order to implement new methods of <code>TransferQueueu</code> how can we guarantee correct deserialization?</li>\n<li><code>SynchronousQueue</code> is fully blocking queue while <code>TransferQueue</code> provides non-blocking methods as well</li>\n<li>JavaDoc of <code>SynchronousQueue</code> claims:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>A synchronous queue does not have any\n * internal capacity, not even a capacity of one.  You cannot\n * {@code peek} at a synchronous queue because an element is only\n * present when you try to remove it; you cannot insert an element\n * (using any method) unless another thread is trying to remove it;\n * you cannot iterate as there is nothing to iterate.\n</code></pre>\n<p>i.e. this a queue without capacity. Compare with description of <code>TransferQueue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>* Like other blocking queues, a {@code TransferQueue} may be\n* capacity bounded\n</code></pre>\n<p>So both they seem to be pretty different.</p>\n"}],"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677010519,"creation_date":1677006650,"question_id":75524912,"body_markdown":"In Java, `SynchronousQueue` looks like it might be able to implement `TransferQueue`.  I see TransferQueue was added later, but I was wondering why SynchronousQueue was not adapted to implement it?","title":"Why Does SynchronousQueue not Implement TransferQueue?","body":"<p>In Java, <code>SynchronousQueue</code> looks like it might be able to implement <code>TransferQueue</code>.  I see TransferQueue was added later, but I was wondering why SynchronousQueue was not adapted to implement it?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677052130,"post_id":75525020,"comment_id":133259006,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Please also indicate the exact data you want to read.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Please also indicate the exact data you want to read."}],"answers":[{"comments":[{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1677067871,"post_id":75525486,"comment_id":133263320,"body_markdown":"what `String parent = noteSnapshot.getKey(); ` is doing?","body":"what <code>String parent = noteSnapshot.getKey(); </code> is doing?"},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1677265347,"post_id":75525486,"comment_id":133310378,"body_markdown":"taking my example, You will get the users entries of the firebase database","body":"taking my example, You will get the users entries of the firebase database"},{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1677610335,"post_id":75525486,"comment_id":133370997,"body_markdown":"Cannot resolve symbol &#39;currentUser&#39;\nI make app for android version 5,  19 sdk","body":"Cannot resolve symbol &#39;currentUser&#39; I make app for android version 5,  19 sdk"},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1677613513,"post_id":75525486,"comment_id":133371805,"body_markdown":"currentUser is the FirebaseUser you get with `FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();`","body":"currentUser is the FirebaseUser you get with <code>FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();</code>"}],"tags":[],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677010487,"creation_date":1677010487,"answer_id":75525486,"question_id":75525020,"body_markdown":"I implemented it according documentation ([here][1]) and it works for me.\r\n\r\n    DatabaseReference database = FirebaseDatabase.getInstance().getReference();\r\n        Query recentPostsQuery = database.child(&quot;users&quot;).child(currentUser.getUid());\r\n        recentPostsQuery.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot noteSnapshot : dataSnapshot.getChildren()) {\r\n                    String parent = noteSnapshot.getKey(); //parent key            \r\n                }             \r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/android/read-and-write?hl=de#java_1","title":"How to read data from firebase realtime database in java?","body":"<p>I implemented it according documentation (<a href=\"https://firebase.google.com/docs/database/android/read-and-write?hl=de#java_1\" rel=\"nofollow noreferrer\">here</a>) and it works for me.</p>\n<pre><code>DatabaseReference database = FirebaseDatabase.getInstance().getReference();\n    Query recentPostsQuery = database.child(&quot;users&quot;).child(currentUser.getUid());\n    recentPostsQuery.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot noteSnapshot : dataSnapshot.getChildren()) {\n                String parent = noteSnapshot.getKey(); //parent key            \n            }             \n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677010487,"creation_date":1677007503,"question_id":75525020,"body_markdown":"im trying to read data from database:\r\n```java\r\npublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\nToast.makeText(More.this, &quot;User-done&quot;, Toast.LENGTH_SHORT).show();\r\nif (task.isSuccessful()) {\r\nToast.makeText(More.this, &quot;User-startReading&quot;, Toast.LENGTH_SHORT).show();\r\nfor (DataSnapshot userSnapshot: task.getResult().getChildren()) {\r\nLog.e(&quot;firebase&quot;,String.valueOf(task.getException()));\r\nUser value = userSnapshot.getValue(User.class);\r\nToast.makeText(More.this, &quot;User-loaded data&quot;, Toast.LENGTH_SHORT).show();\r\nPreferenceConfig.Ammos(getApplicationContext(), ammoInt);\r\n```\r\nI saw toast: &quot;User-done&quot;, &quot;User-startReading&quot;, but &quot;User-loaded data&quot; i didn`t saw, so i can`t take data from db.\r\n\r\nI saw some troubles in run-log:\r\nW/System: Ignoring header X-Firebase-Locale because its value was null. \r\nI/System.out: testtesttest(HTTPLog)-Static: isSBSettingEnabled false.\r\n\r\nSo i added in manifest.xml\r\n```\r\nandroid:usesCleartextTraffic=&quot;true&quot;\r\n```\r\nBut, nothing happened","title":"How to read data from firebase realtime database in java?","body":"<p>im trying to read data from database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\nToast.makeText(More.this, &quot;User-done&quot;, Toast.LENGTH_SHORT).show();\nif (task.isSuccessful()) {\nToast.makeText(More.this, &quot;User-startReading&quot;, Toast.LENGTH_SHORT).show();\nfor (DataSnapshot userSnapshot: task.getResult().getChildren()) {\nLog.e(&quot;firebase&quot;,String.valueOf(task.getException()));\nUser value = userSnapshot.getValue(User.class);\nToast.makeText(More.this, &quot;User-loaded data&quot;, Toast.LENGTH_SHORT).show();\nPreferenceConfig.Ammos(getApplicationContext(), ammoInt);\n</code></pre>\n<p>I saw toast: &quot;User-done&quot;, &quot;User-startReading&quot;, but &quot;User-loaded data&quot; i didn<code>t saw, so i can</code>t take data from db.</p>\n<p>I saw some troubles in run-log:\nW/System: Ignoring header X-Firebase-Locale because its value was null.\nI/System.out: testtesttest(HTTPLog)-Static: isSBSettingEnabled false.</p>\n<p>So i added in manifest.xml</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>But, nothing happened</p>\n"},{"tags":["java","r","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":19998029,"reputation":31,"user_id":14657634,"display_name":"Flo2020"},"score":0,"creation_date":1677010441,"post_id":75525441,"comment_id":133251970,"body_markdown":"Hey, thank for your answer! The code moved on, but now I have the following problem:\n\nNext line of code:\nrsDriver &lt;- rsDriver(browser = &quot;firefox&quot;, port = 4200L)\n\nError:\nError in wdman::selenium(port = port, verbose = verbose, version = version,  : \n  Selenium server signals port = 4206 is already in use.\n\nIt seems like the server running in the background blocks the port, so that my driver in R can&#39;t work with the port.","body":"Hey, thank for your answer! The code moved on, but now I have the following problem:  Next line of code: rsDriver &lt;- rsDriver(browser = &quot;firefox&quot;, port = 4200L)  Error: Error in wdman::selenium(port = port, verbose = verbose, version = version,  :    Selenium server signals port = 4206 is already in use.  It seems like the server running in the background blocks the port, so that my driver in R can&#39;t work with the port."},{"owner":{"account_id":26729252,"reputation":136,"user_id":20331897,"display_name":"MarcusCodrescu"},"score":0,"creation_date":1677010914,"post_id":75525441,"comment_id":133252086,"body_markdown":"You are a running the Selenium driver twice. Once with the call to system() and once with the call to rsDriver(). If you are simply creating a web driver to scrape data from the web or navigate to websites you can follow the example in the help file of ?RSelenium::rsDriver. Or use the webdriver package from RStudio instead and follow the instructions on this GitHub page: https://github.com/rstudio/webdriver","body":"You are a running the Selenium driver twice. Once with the call to system() and once with the call to rsDriver(). If you are simply creating a web driver to scrape data from the web or navigate to websites you can follow the example in the help file of ?RSelenium::rsDriver. Or use the webdriver package from RStudio instead and follow the instructions on this GitHub page: <a href=\"https://github.com/rstudio/webdriver\" rel=\"nofollow noreferrer\">github.com/rstudio/webdriver</a>"}],"tags":[],"owner":{"account_id":26729252,"reputation":136,"user_id":20331897,"display_name":"MarcusCodrescu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677010233,"creation_date":1677010233,"answer_id":75525441,"question_id":75524951,"body_markdown":"The `system` function has a parameter `wait = TRUE`, if you set this to FALSE then it should run the command asynchronously.\r\n\r\n```r\r\nsystem(&quot;java -jar /Users/macbook/Documents/R/selenium-server-standalone-2.53.1.jar -port 4200&quot;, wait = FALSE)\r\n```","title":"Selenium standalone server is stuck in endless loop on Mac","body":"<p>The <code>system</code> function has a parameter <code>wait = TRUE</code>, if you set this to FALSE then it should run the command asynchronously.</p>\n<pre class=\"lang-r prettyprint-override\"><code>system(&quot;java -jar /Users/macbook/Documents/R/selenium-server-standalone-2.53.1.jar -port 4200&quot;, wait = FALSE)\n</code></pre>\n"}],"owner":{"account_id":19998029,"reputation":31,"user_id":14657634,"display_name":"Flo2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75525441,"answer_count":1,"score":0,"last_activity_date":1677010233,"creation_date":1677006958,"question_id":75524951,"body_markdown":"I was tying to start my selenium standalone server in R with this code:\r\n\r\n``` \r\nsystem(&quot;java -jar /Users/macbook/Documents/R/selenium-server-standalone-2.53.1.jar -port 4200&quot;)\r\n```\r\nIf I do this, my R code gets stuck in an endless loop at that line of code, so that the following code does not get executed. Same if I try it through the Mac terminal (I can&#39;t type in the next command because the previous one is running endless). The server is stuck after saying:\r\n\r\n``` \r\nSelenium Server is up and running\r\n``` \r\n\r\nI do not have the problem with the 4.8.0 version of Selenium standalone server (yes, I used different ports), but I need the 2.53.1 version running too.\r\n\r\nI also tried the &quot;&amp;&quot; at the end of the code so that the code runs in the background. In this case the code does not get stuck, but I can&#39;t execute the next lines of code anyway because R says that the port is already in use.\r\n\r\n``` \r\nsystem(&quot;java -jar /Users/macbook/Documents/R/selenium-server-standalone-2.53.1.jar -port 4200 &amp;&quot;)\r\n```\r\n\r\nDoes anyone know how to solve this issue?\r\n\r\nThank you very much!","title":"Selenium standalone server is stuck in endless loop on Mac","body":"<p>I was tying to start my selenium standalone server in R with this code:</p>\n<pre><code>system(&quot;java -jar /Users/macbook/Documents/R/selenium-server-standalone-2.53.1.jar -port 4200&quot;)\n</code></pre>\n<p>If I do this, my R code gets stuck in an endless loop at that line of code, so that the following code does not get executed. Same if I try it through the Mac terminal (I can't type in the next command because the previous one is running endless). The server is stuck after saying:</p>\n<pre><code>Selenium Server is up and running\n</code></pre>\n<p>I do not have the problem with the 4.8.0 version of Selenium standalone server (yes, I used different ports), but I need the 2.53.1 version running too.</p>\n<p>I also tried the &quot;&amp;&quot; at the end of the code so that the code runs in the background. In this case the code does not get stuck, but I can't execute the next lines of code anyway because R says that the port is already in use.</p>\n<pre><code>system(&quot;java -jar /Users/macbook/Documents/R/selenium-server-standalone-2.53.1.jar -port 4200 &amp;&quot;)\n</code></pre>\n<p>Does anyone know how to solve this issue?</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","asp.net","spring","url","asmx"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":1,"creation_date":1677020842,"post_id":75525347,"comment_id":133254382,"body_markdown":"Even ASP.NET Core can respond with SOAP, https://github.com/DigDes/SoapCore , so I don’t think you chose the right way for the future. ASMX is too old. To manipulate URLs, you can use URL rewriting middleware.","body":"Even ASP.NET Core can respond with SOAP, <a href=\"https://github.com/DigDes/SoapCore\" rel=\"nofollow noreferrer\">github.com/DigDes/SoapCore</a> , so I don’t think you chose the right way for the future. ASMX is too old. To manipulate URLs, you can use URL rewriting middleware."}],"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677009650,"creation_date":1677009650,"question_id":75525347,"body_markdown":"I&#39;m porting a Java Spring SOAP web service to a &#39;new&#39; ASP.NET .ASMX project, to be then deployed on a IIS server. \r\n\r\nNew is between quotes, I&#39;m aware SOAP is not the latest or best technology: The project goal is to replicate the Spring Web service 1:1 so the customers don&#39;t have to change a single line of the current code after our migration to .NET.\r\n\r\nInside WebService1.asmx I have the following:\r\n\r\n        /// &lt;summary&gt;\r\n        /// Summary description for WebService1\r\n        /// &lt;/summary&gt;\r\n        [WebService(Namespace = &quot;http://mywebsite.com/consultas&quot;)]\r\n        [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\r\n        [System.ComponentModel.ToolboxItem(false)]\r\n        public class WebService1 : System.Web.Services.WebService\r\n        {\r\n            [WebMethod]\r\n            public String aplicar(\r\n                String nombreDeUsuario = &quot;test&quot;,\r\n                String passwordDeUsuario = &quot;test&quot;,\r\n                )\r\n            {\r\n                return &quot;hello world&quot;;         \r\n            }\r\n        }\r\n    }\r\n\r\nWhen testing the ASP.NET project on SoapUI the tags and schema look exactly as the Java Spring project, very nice.\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:con=&quot;http://mywebsite.com/consultas&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;con:aplicar&gt;\r\n             &lt;con:nombreDeUsuario&gt;?&lt;/con:nombreDeUsuario&gt;\r\n             &lt;!--Optional:--&gt;\r\n             &lt;con:passwordDeUsuario&gt;?&lt;/con:passwordDeUsuario&gt;\r\n          &lt;/con:aplicar&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nA little nuisance is that every field is marked as optional. The real problem is the URL, it has a completely different structure:\r\n\r\nJava Spring\r\n\r\n&gt; http://0.0.0.0:8085/ws/consultas.wsdl?\r\n\r\nASP.NET\r\n\r\n&gt; http://0.0.0.0:8085/WebService1.asmx?wsdl\r\n\r\n\r\nI&#39;ve been fiddling with the parameters for hours but I&#39;m unable to change it to look identical. Any help will be appreciated.\r\n","title":"How to change a ASP.NET (.NET Framework ASMX url to mimick a Java Spring SOAP webservice?","body":"<p>I'm porting a Java Spring SOAP web service to a 'new' ASP.NET .ASMX project, to be then deployed on a IIS server.</p>\n<p>New is between quotes, I'm aware SOAP is not the latest or best technology: The project goal is to replicate the Spring Web service 1:1 so the customers don't have to change a single line of the current code after our migration to .NET.</p>\n<p>Inside WebService1.asmx I have the following:</p>\n<pre><code>    /// &lt;summary&gt;\n    /// Summary description for WebService1\n    /// &lt;/summary&gt;\n    [WebService(Namespace = &quot;http://mywebsite.com/consultas&quot;)]\n    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n    [System.ComponentModel.ToolboxItem(false)]\n    public class WebService1 : System.Web.Services.WebService\n    {\n        [WebMethod]\n        public String aplicar(\n            String nombreDeUsuario = &quot;test&quot;,\n            String passwordDeUsuario = &quot;test&quot;,\n            )\n        {\n            return &quot;hello world&quot;;         \n        }\n    }\n}\n</code></pre>\n<p>When testing the ASP.NET project on SoapUI the tags and schema look exactly as the Java Spring project, very nice.</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:con=&quot;http://mywebsite.com/consultas&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;con:aplicar&gt;\n         &lt;con:nombreDeUsuario&gt;?&lt;/con:nombreDeUsuario&gt;\n         &lt;!--Optional:--&gt;\n         &lt;con:passwordDeUsuario&gt;?&lt;/con:passwordDeUsuario&gt;\n      &lt;/con:aplicar&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>A little nuisance is that every field is marked as optional. The real problem is the URL, it has a completely different structure:</p>\n<p>Java Spring</p>\n<blockquote>\n<p><a href=\"http://0.0.0.0:8085/ws/consultas.wsdl\" rel=\"nofollow noreferrer\">http://0.0.0.0:8085/ws/consultas.wsdl</a>?</p>\n</blockquote>\n<p>ASP.NET</p>\n<blockquote>\n<p><a href=\"http://0.0.0.0:8085/WebService1.asmx?wsdl\" rel=\"nofollow noreferrer\">http://0.0.0.0:8085/WebService1.asmx?wsdl</a></p>\n</blockquote>\n<p>I've been fiddling with the parameters for hours but I'm unable to change it to look identical. Any help will be appreciated.</p>\n"},{"tags":["java","android","android-studio","text-to-speech"],"comments":[{"owner":{"account_id":7768865,"reputation":403,"user_id":5879171,"display_name":"DB377"},"score":0,"creation_date":1603430876,"post_id":64494239,"comment_id":114040638,"body_markdown":"Your text to speech object may not be ready while you try to make it speak. You can wait until it&#39;s ready or you can try by initialize it in Application class.","body":"Your text to speech object may not be ready while you try to make it speak. You can wait until it&#39;s ready or you can try by initialize it in Application class."}],"answers":[{"comments":[{"owner":{"account_id":18983165,"reputation":37,"user_id":13854149,"display_name":"Popcorn Movies"},"score":0,"creation_date":1603455282,"post_id":64494789,"comment_id":114049940,"body_markdown":"And also it is quite wired as it works properly when I press the button but it doesn&#39;t work in onCreate alone. I just want my app to speak as soon as it is launched by the user. @DB377 Please help me.","body":"And also it is quite wired as it works properly when I press the button but it doesn&#39;t work in onCreate alone. I just want my app to speak as soon as it is launched by the user. @DB377 Please help me."},{"owner":{"account_id":18983165,"reputation":37,"user_id":13854149,"display_name":"Popcorn Movies"},"score":0,"creation_date":1603457715,"post_id":64494789,"comment_id":114051113,"body_markdown":"@@DB377  I think i made a mistake can you please explain with code how will I use the above code from application class in MainActivity.java and how will I pass it the parameters to make it speak. Please tell me ASAP.","body":"@@DB377  I think i made a mistake can you please explain with code how will I use the above code from application class in MainActivity.java and how will I pass it the parameters to make it speak. Please tell me ASAP."}],"tags":[],"owner":{"account_id":7768865,"reputation":403,"user_id":5879171,"display_name":"DB377"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603433531,"creation_date":1603433531,"answer_id":64494789,"question_id":64494239,"body_markdown":"You can try by creating an application class and initialize your textToSpeech engine in it so that it starts initializing on app launch.\r\n\r\n    public class MyApp extends Application {\r\n        private static MyApp instance = null;\r\n        private TextToSpeech t1;\r\n    \r\n        public static MyApp getInstance() {\r\n            return instance;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            instance = this;\r\n    \r\n            t1 = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n                @Override\r\n                public void onInit(int i) {\r\n                    if (i == TextToSpeech.SUCCESS) {\r\n                        \r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public TextToSpeech getT1() {\r\n            return t1;\r\n        }\r\n    }\r\n\r\nand than use that in your activity.","title":"Text To Speech not working properly in Android Studio","body":"<p>You can try by creating an application class and initialize your textToSpeech engine in it so that it starts initializing on app launch.</p>\n<pre><code>public class MyApp extends Application {\n    private static MyApp instance = null;\n    private TextToSpeech t1;\n\n    public static MyApp getInstance() {\n        return instance;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        instance = this;\n\n        t1 = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int i) {\n                if (i == TextToSpeech.SUCCESS) {\n                    \n                }\n            }\n        });\n    }\n\n    public TextToSpeech getT1() {\n        return t1;\n    }\n}\n</code></pre>\n<p>and than use that in your activity.</p>\n"},{"tags":[],"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603519461,"creation_date":1603519461,"answer_id":64510495,"question_id":64494239,"body_markdown":"The reason it didn&#39;t work before is the same reason DB377 said.  It&#39;s because the initialization of the tts is asynchronous and onInit is only called when that process is complete.  Execution doesn&#39;t necessarily happen line-by-line.\r\n\r\nYou can change your code as follows:\r\n\r\n    // THIS RUNS FIRST\r\n    textToSpeech = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n\r\n            // THIS RUNS THIRD!\r\n            @Override\r\n            public void onInit(int i) {\r\n                if (i == TextToSpeech.SUCCESS) {\r\n\r\n                    textToSpeech.setLanguage(Locale.ENGLISH);\r\n\r\n                    // NEW LOCATION\r\n                    textToSpeech.speak(&quot;Hi you succesfully ran me.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        // OLD LOCATION (THIS RUNS SECOND)\r\n","title":"Text To Speech not working properly in Android Studio","body":"<p>The reason it didn't work before is the same reason DB377 said.  It's because the initialization of the tts is asynchronous and onInit is only called when that process is complete.  Execution doesn't necessarily happen line-by-line.</p>\n<p>You can change your code as follows:</p>\n<pre><code>// THIS RUNS FIRST\ntextToSpeech = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\n\n        // THIS RUNS THIRD!\n        @Override\n        public void onInit(int i) {\n            if (i == TextToSpeech.SUCCESS) {\n\n                textToSpeech.setLanguage(Locale.ENGLISH);\n\n                // NEW LOCATION\n                textToSpeech.speak(&quot;Hi you succesfully ran me.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n\n\n            }\n\n        }\n    });\n\n    // OLD LOCATION (THIS RUNS SECOND)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21487140,"reputation":1,"user_id":15833562,"display_name":"AlanPintor.Tech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677009521,"creation_date":1677009521,"answer_id":75525322,"question_id":64494239,"body_markdown":"// This worked for me:\r\n\r\n// Your TextToSpeech here\r\n\r\n    // Create a Handler object to run some code after a delay\r\n    Handler handler = new Handler();\r\n    handler.postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Your code to run after a delay. in my case in another handler\r\n            handler.post(runnable);\r\n        }\r\n    }, 3000); // 3 seconds delay","title":"Text To Speech not working properly in Android Studio","body":"<p>// This worked for me:</p>\n<p>// Your TextToSpeech here</p>\n<pre><code>// Create a Handler object to run some code after a delay\nHandler handler = new Handler();\nhandler.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Your code to run after a delay. in my case in another handler\n        handler.post(runnable);\n    }\n}, 3000); // 3 seconds delay\n</code></pre>\n"}],"owner":{"account_id":18983165,"reputation":37,"user_id":13854149,"display_name":"Popcorn Movies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64510495,"answer_count":3,"score":0,"last_activity_date":1677009521,"creation_date":1603430103,"question_id":64494239,"body_markdown":"I have recently created a simple project in android studio using speech recognition and text to speech but the problem is that the text to speech doesn&#39;t speak the given line on starting the app for the first time but after this event it works very properly. Like when I start the app in the below code I have added the line to welcome the user but tts doesn&#39;t speak and then when I press the recognize button the app recognizes the sentence and also speaks correctly. Why is it so? It seems quite weird. I am providing the code below please do check it and tell me if I am making some mistake as soon as possible.\r\n\r\nThis is my Java code:\r\n\r\n```\r\npackage com.maitreyastudio.ai;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.Settings;\r\nimport android.speech.RecognitionListener;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.SpeechRecognizer;\r\nimport android.speech.tts.TextToSpeech;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.GridLayout;\r\nimport android.widget.TextView;\r\n\r\n\r\nimport com.chaquo.python.PyObject;\r\nimport com.chaquo.python.Python;\r\nimport com.chaquo.python.android.AndroidPlatform;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\nimport static android.Manifest.permission.ACCESS_FINE_LOCATION;\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\nimport static android.Manifest.permission.RECORD_AUDIO;\r\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private Button btnRecognize;\r\n    private SpeechRecognizer speechRecognizer;\r\n    private TextToSpeech textToSpeech;\r\n    private EditText ET_ShowRecognized;\r\n    String locality;\r\n    private Intent intent;\r\n    private String ET_ShowRecognizedText;\r\n    private String ProcessingText;\r\n    private ArrayList voices;\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    Geocoder geocoder;\r\n    /*Python py;\r\n    PyObject pyobj;\r\n    PyObject obj;\r\n    String currentDate;\r\n    String currentTime;*/\r\n\r\n\r\n    @SuppressLint({&quot;SetTextI18n&quot;, &quot;ClickableViewAccessibility&quot;, &quot;MissingPermission&quot;})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ActivityCompat.requestPermissions(this, new String[]{RECORD_AUDIO, WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE, ACCESS_FINE_LOCATION}, PackageManager.PERMISSION_GRANTED);\r\n\r\n\r\n        ET_ShowRecognized = findViewById(R.id.ET_ShowRecognized);\r\n        btnRecognize = findViewById(R.id.btnRecognize);\r\n\r\n\r\n\r\n\r\n        /*fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n\r\n                Location location = task.getResult();\r\n                if(location != null){\r\n\r\n                    geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\r\n                    try {\r\n\r\n                        List&lt;Address&gt; address = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\r\n                        locality = address.get(0).getLocality();\r\n\r\n                    } catch (IOException e) {\r\n                        ;\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        if(!Python.isStarted()){\r\n\r\n            Python.start(new AndroidPlatform(this));\r\n\r\n        }\r\n        py = Python.getInstance();\r\n        pyobj = py.getModule(&quot;WolframAlpha&quot;);\r\n        obj = pyobj.callAttr(&quot;main&quot;, locality);*/\r\n\r\n\r\n        textToSpeech = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int i) {\r\n                if (i == TextToSpeech.SUCCESS) {\r\n\r\n                    textToSpeech.setLanguage(Locale.ENGLISH);\r\n\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        textToSpeech.speak(&quot;Hi you succesfully ran me.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n\r\n\r\n        //currentDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault()).format(new Date());\r\n        //currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.getDefault()).format(new Date());\r\n        //textToSpeech.speak(&quot;Hi! I am your personal assistant. Today date is something something &quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n        //Speak(&quot;Today&#39;s weather forecast for the current location is &quot; + obj.toString());\r\n\r\n\r\n        intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n\r\n        speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n        speechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n            @Override\r\n            public void onReadyForSpeech(Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBeginningOfSpeech() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onRmsChanged(float v) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBufferReceived(byte[] bytes) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEndOfSpeech() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(int i) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onResults(Bundle bundle) {\r\n                ArrayList&lt;String&gt; mathches = bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n                if (mathches != null) {\r\n\r\n                    ET_ShowRecognized.setText(mathches.get(0));\r\n                    process();\r\n\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPartialResults(Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEvent(int i, Bundle bundle) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n        btnRecognize.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n\r\n                switch (motionEvent.getAction()) {\r\n\r\n                    case MotionEvent.ACTION_UP:\r\n                        speechRecognizer.stopListening();\r\n\r\n                        break;\r\n\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        ET_ShowRecognized.setText(null);\r\n                        ET_ShowRecognized.setText(&quot;Listening...&quot;);\r\n                        speechRecognizer.startListening(intent);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n        textToSpeech.speak(&quot;Hi! Seems good to meet you.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n    }\r\n\r\n    public void process() {\r\n\r\n        ProcessingText = ET_ShowRecognized.getText().toString().toLowerCase();\r\n\r\n        switch (ProcessingText) {\r\n\r\n            case (&quot;hello&quot;):\r\n                textToSpeech.speak(&quot;Hello! Hope all is going fine.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n                break;\r\n\r\n            case (&quot;hi&quot;):\r\n                textToSpeech.speak(&quot;Hi! I hope all is well.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n                break;\r\n\r\n\r\n            case (&quot;what is your name&quot;):\r\n                textToSpeech.speak(&quot;My name is assistant.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n                break;\r\n\r\n\r\n            case (&quot;bye&quot;):\r\n                finish();\r\n                System.exit(0);\r\n\r\n            default:\r\n                textToSpeech.speak(ProcessingText, TextToSpeech.QUEUE_FLUSH, null, null);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n ```\r\n\r\nAnd this is my XML code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnRecognize&quot;\r\n        style=&quot;@style/Widget.AppCompat.Button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/recognize&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/ET_ShowRecognized&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:hint=&quot;@string/you_will_see_recognized_text_here&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btnRecognize&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nPlease help me as soon as possible.\r\n\r\nThank You \r\n","title":"Text To Speech not working properly in Android Studio","body":"<p>I have recently created a simple project in android studio using speech recognition and text to speech but the problem is that the text to speech doesn't speak the given line on starting the app for the first time but after this event it works very properly. Like when I start the app in the below code I have added the line to welcome the user but tts doesn't speak and then when I press the recognize button the app recognizes the sentence and also speaks correctly. Why is it so? It seems quite weird. I am providing the code below please do check it and tell me if I am making some mistake as soon as possible.</p>\n<p>This is my Java code:</p>\n<pre><code>package com.maitreyastudio.ai;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.Settings;\nimport android.speech.RecognitionListener;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\nimport android.speech.tts.TextToSpeech;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.GridLayout;\nimport android.widget.TextView;\n\n\nimport com.chaquo.python.PyObject;\nimport com.chaquo.python.Python;\nimport com.chaquo.python.android.AndroidPlatform;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\n\nimport org.w3c.dom.Text;\n\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\n\nimport static android.Manifest.permission.ACCESS_FINE_LOCATION;\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.RECORD_AUDIO;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private Button btnRecognize;\n    private SpeechRecognizer speechRecognizer;\n    private TextToSpeech textToSpeech;\n    private EditText ET_ShowRecognized;\n    String locality;\n    private Intent intent;\n    private String ET_ShowRecognizedText;\n    private String ProcessingText;\n    private ArrayList voices;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    Geocoder geocoder;\n    /*Python py;\n    PyObject pyobj;\n    PyObject obj;\n    String currentDate;\n    String currentTime;*/\n\n\n    @SuppressLint({&quot;SetTextI18n&quot;, &quot;ClickableViewAccessibility&quot;, &quot;MissingPermission&quot;})\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ActivityCompat.requestPermissions(this, new String[]{RECORD_AUDIO, WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE, ACCESS_FINE_LOCATION}, PackageManager.PERMISSION_GRANTED);\n\n\n        ET_ShowRecognized = findViewById(R.id.ET_ShowRecognized);\n        btnRecognize = findViewById(R.id.btnRecognize);\n\n\n\n\n        /*fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Location&gt; task) {\n\n                Location location = task.getResult();\n                if(location != null){\n\n                    geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\n                    try {\n\n                        List&lt;Address&gt; address = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\n                        locality = address.get(0).getLocality();\n\n                    } catch (IOException e) {\n                        ;\n                    }\n\n                }\n            }\n        });\n\n\n        if(!Python.isStarted()){\n\n            Python.start(new AndroidPlatform(this));\n\n        }\n        py = Python.getInstance();\n        pyobj = py.getModule(&quot;WolframAlpha&quot;);\n        obj = pyobj.callAttr(&quot;main&quot;, locality);*/\n\n\n        textToSpeech = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int i) {\n                if (i == TextToSpeech.SUCCESS) {\n\n                    textToSpeech.setLanguage(Locale.ENGLISH);\n\n\n                }\n\n            }\n        });\n\n        textToSpeech.speak(&quot;Hi you succesfully ran me.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n\n\n        //currentDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault()).format(new Date());\n        //currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.getDefault()).format(new Date());\n        //textToSpeech.speak(&quot;Hi! I am your personal assistant. Today date is something something &quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n        //Speak(&quot;Today's weather forecast for the current location is &quot; + obj.toString());\n\n\n        intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n\n        speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n        speechRecognizer.setRecognitionListener(new RecognitionListener() {\n            @Override\n            public void onReadyForSpeech(Bundle bundle) {\n\n            }\n\n            @Override\n            public void onBeginningOfSpeech() {\n\n            }\n\n            @Override\n            public void onRmsChanged(float v) {\n\n            }\n\n            @Override\n            public void onBufferReceived(byte[] bytes) {\n\n            }\n\n            @Override\n            public void onEndOfSpeech() {\n\n            }\n\n            @Override\n            public void onError(int i) {\n\n            }\n\n            @Override\n            public void onResults(Bundle bundle) {\n                ArrayList&lt;String&gt; mathches = bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n                if (mathches != null) {\n\n                    ET_ShowRecognized.setText(mathches.get(0));\n                    process();\n\n\n                }\n            }\n\n            @Override\n            public void onPartialResults(Bundle bundle) {\n\n            }\n\n            @Override\n            public void onEvent(int i, Bundle bundle) {\n\n            }\n        });\n\n\n        btnRecognize.setOnTouchListener(new View.OnTouchListener() {\n\n            @Override\n            public boolean onTouch(View view, MotionEvent motionEvent) {\n\n                switch (motionEvent.getAction()) {\n\n                    case MotionEvent.ACTION_UP:\n                        speechRecognizer.stopListening();\n\n                        break;\n\n                    case MotionEvent.ACTION_DOWN:\n                        ET_ShowRecognized.setText(null);\n                        ET_ShowRecognized.setText(&quot;Listening...&quot;);\n                        speechRecognizer.startListening(intent);\n                        break;\n                    default:\n                        break;\n                }\n\n                return false;\n            }\n        });\n\n        textToSpeech.speak(&quot;Hi! Seems good to meet you.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n    }\n\n    public void process() {\n\n        ProcessingText = ET_ShowRecognized.getText().toString().toLowerCase();\n\n        switch (ProcessingText) {\n\n            case (&quot;hello&quot;):\n                textToSpeech.speak(&quot;Hello! Hope all is going fine.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n                break;\n\n            case (&quot;hi&quot;):\n                textToSpeech.speak(&quot;Hi! I hope all is well.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n                break;\n\n\n            case (&quot;what is your name&quot;):\n                textToSpeech.speak(&quot;My name is assistant.&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n                break;\n\n\n            case (&quot;bye&quot;):\n                finish();\n                System.exit(0);\n\n            default:\n                textToSpeech.speak(ProcessingText, TextToSpeech.QUEUE_FLUSH, null, null);\n                break;\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>And this is my XML code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnRecognize&quot;\n        style=&quot;@style/Widget.AppCompat.Button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/recognize&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/ET_ShowRecognized&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:hint=&quot;@string/you_will_see_recognized_text_here&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btnRecognize&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>Please help me as soon as possible.</p>\n<p>Thank You</p>\n"},{"tags":["java","php","amazon-ec2","freeze"],"comments":[{"owner":{"account_id":415426,"reputation":19183,"user_id":790224,"display_name":"datasage"},"score":1,"creation_date":1417982689,"post_id":27346428,"comment_id":43149163,"body_markdown":"Its hard to tell exactly whats going on, but generally, result sets are not stored by php until you actually request them. Its appears that its locking up waiting for a result set from mysql. Do you have more code about what is going on in fetchByLatLng or getCity?","body":"Its hard to tell exactly whats going on, but generally, result sets are not stored by php until you actually request them. Its appears that its locking up waiting for a result set from mysql. Do you have more code about what is going on in fetchByLatLng or getCity?"},{"owner":{"account_id":484746,"reputation":1142,"user_id":900617,"accept_rate":57,"display_name":"tix3"},"score":0,"creation_date":1420914577,"post_id":27346428,"comment_id":44160949,"body_markdown":"Try to see if the query is executing on mysql with &quot;show full processlist&quot;. If it is then the script is waiting for the query to return data.","body":"Try to see if the query is executing on mysql with &quot;show full processlist&quot;. If it is then the script is waiting for the query to return data."},{"owner":{"account_id":5023243,"reputation":3089,"user_id":4036091,"display_name":"unixmiah"},"score":0,"creation_date":1422648861,"post_id":27346428,"comment_id":44848523,"body_markdown":"i dont mean to sound rude, but you couldn&#39;t do this on a lamp stack? why windows on ec2 when you can deploy linux lamp on the fly on amazon ec2.","body":"i dont mean to sound rude, but you couldn&#39;t do this on a lamp stack? why windows on ec2 when you can deploy linux lamp on the fly on amazon ec2."},{"owner":{"account_id":5023243,"reputation":3089,"user_id":4036091,"display_name":"unixmiah"},"score":0,"creation_date":1422649231,"post_id":27346428,"comment_id":44848691,"body_markdown":"have you looked at your error log from php?","body":"have you looked at your error log from php?"},{"owner":{"account_id":72499,"reputation":6901,"user_id":209288,"accept_rate":58,"display_name":"scipilot"},"score":0,"creation_date":1428301999,"post_id":27346428,"comment_id":47095484,"body_markdown":"I would add simple debug logging between each statement, to see where it&#39;s stopping at.","body":"I would add simple debug logging between each statement, to see where it&#39;s stopping at."}],"owner":{"account_id":83625,"reputation":5032,"user_id":234307,"accept_rate":89,"display_name":"jn1kk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677009486,"creation_date":1417978047,"question_id":27346428,"body_markdown":"New WinDBG call stack. Seems to be MySQL related.\r\n\r\n---UPDATE---\r\n\r\nOn Windows Server 2012, using Java 7, and PHP 5.3.29 on Amazon EC2 I run a Java program that launches I pretty simple PHP script (can&#39;t show since it depends on multiple dependencies - a lot of code). PHP script just gets something from mysql and emails me if something goes wrong.\r\n\r\n***This PHP script does not exit!*** I call exit(); at the end of PHP file. The Java code that starts this as a sub-process, redirects error stream to inputstream, so there is no infamous buffer deadlock that should be going on. Procmon shows no PHP.exe activity whatsoever.\r\n\r\nPicture of the process (about 2 hours long - 4:51PM UTC):\r\n\r\n![enter image description here][1]\r\n\r\nPicture showing 0 CPU usage:\r\n\r\n![enter image description here][2]\r\n\r\nPicture showing that the process lasted only about 1 second:\r\n\r\n![enter image description here][3]\r\n\r\n***The last picture is the one I am most concerned about, my scripts last about 10 seconds, not under 1 second!***\r\n\r\nProcess Explorer PHP.exe stack:\r\n\r\n    ntoskrnl.exe!KeSynchronizeExecution+0x2246\r\n    ntoskrnl.exe!KeRemoveQueueEx+0x108e\r\n    ntoskrnl.exe!KeRemoveQueueEx+0xae9\r\n    ntoskrnl.exe!KeWaitForMutexObject+0x22a\r\n    ntoskrnl.exe!KeSetBasePriorityThread+0x4ec\r\n    ntoskrnl.exe!KeRemoveQueueEx+0x281d\r\n    ntoskrnl.exe!KeRemoveQueueEx+0x121a\r\n    ntoskrnl.exe!KeRemoveQueueEx+0xae9\r\n    ntoskrnl.exe!KeWaitForMutexObject+0x22a\r\n    ntoskrnl.exe!NtWaitForSingleObject+0xb2\r\n    ntoskrnl.exe!setjmpex+0x34b3\r\n    wow64cpu.dll!TurboDispatchJumpAddressEnd+0x598\r\n    wow64cpu.dll!TurboDispatchJumpAddressEnd+0x3e4\r\n    wow64.dll!Wow64LdrpInitialize+0x22e\r\n    wow64.dll!Wow64LdrpInitialize+0x172\r\n    ntdll.dll!LdrInitShimEngineDynamic+0x2383\r\n    ntdll.dll!memset+0xf36a\r\n    ntdll.dll!LdrInitializeThunk+0xe\r\n    ntdll.dll!ZwWaitForSingleObject+0xc\r\n    mswsock.dll!NSPStartup+0x298\r\n    WS2_32.dll!select+0x17d\r\n    ntdll.dll!RtlAllocateHeap+0xca\r\n\r\nPHP.exe dump file analyzed calls stack:\r\n\r\n    00 ntdll!NtWaitForSingleObject+0xc\r\n    01 mswsock!SockWaitForSingleObject+0x154\r\n    02 mswsock!WSPSelect+0x355\r\n    03 ws2_32!select+0x17d\r\n    04 php5ts!php_poll2+0x1e0\r\n    05 php5ts!php_stream_xport_create+0x371e\r\n    06 php_openssl!get_module+0x9b39\r\n    07 php5ts!php_stream_alloc+0x3f4\r\n    08 php5ts!php_stream_fill_read_buffer+0x2a4\r\n    0a php5ts!php_mysqlnd_net_network_read_pub+0x4b\r\n    0b php5ts!php_mysqlnd_net_receive_pub+0x149\r\n    0c php5ts!php_mysqlnd_read_row_ex+0x9c\r\n    0d php5ts!php_mysqlnd_rowp_read+0x4d\r\n    0e php5ts!php_mysqlnd_res_store_result_fetch_data_pub+0x21f\r\n    0f php5ts!php_mysqlnd_res_store_result_pub+0xc0\r\n    10 php5ts!php_mysqlnd_conn_store_result_pub+0x160\r\n    11 php_mysqli!zif_mysqli_query+0x2e2\r\n    12 php5ts!zend_do_fcall_common_helper_SPEC+0x8af\r\n    13 php5ts!ZEND_DO_FCALL_BY_NAME_SPEC_HANDLER+0xd\r\n    14 php5ts!execute+0x2e8\r\n    15 php5ts!zend_execute_scripts+0xfe\r\n    16 php5ts!php_execute_script+0x24c\r\n    17 php!main+0xc1b\r\n    18 php!__tmainCRTStartup+0x10f\r\n    19 kernel32!BaseThreadInitThunk+0xe\r\n    1a ntdll!__RtlUserThreadStart+0x20\r\n    1b ntdll!_RtlUserThreadStart+0x1b\r\n\r\nCan anyone recommend the next course of action or maybe you experienced this before? Thanks!\r\n\r\nThe script:\r\n\r\n    &lt;?php\r\n    error_reporting(E_ALL &amp; ~E_DEPRECATED &amp; ~E_STRICT);\r\n    require_once(&#39;common.php&#39;);\r\n    DB::overwriteInstanceWithHost(&#39;db&#39;); // exists in hosts\r\n    date_default_timezone_set(&quot;UTC&quot;);\r\n    DB::overrideCommonDBWithHost(&quot;common.db.com&quot;); // not real, but exists\r\n    $fetcher = new DataFetcher();\r\n    $weatherData = $fetcher-&gt;fetchByLatLng(latHere,longHere);\r\n    if($weatherData){\r\n        echo $weatherData-&gt;getCity();\r\n    } else {\r\n        echo &quot;couldn&#39;t get station lat/lng&quot;;\r\n    }\r\n    exit();\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Fvk22.jpg\r\n  [2]: http://i.stack.imgur.com/avhry.jpg\r\n  [3]: http://i.stack.imgur.com/l1C19.jpg","title":"PHP On EC2 hangs","body":"<p>New WinDBG call stack. Seems to be MySQL related.</p>\n\n<p>---UPDATE---</p>\n\n<p>On Windows Server 2012, using Java 7, and PHP 5.3.29 on Amazon EC2 I run a Java program that launches I pretty simple PHP script (can't show since it depends on multiple dependencies - a lot of code). PHP script just gets something from mysql and emails me if something goes wrong.</p>\n\n<p><strong><em>This PHP script does not exit!</em></strong> I call exit(); at the end of PHP file. The Java code that starts this as a sub-process, redirects error stream to inputstream, so there is no infamous buffer deadlock that should be going on. Procmon shows no PHP.exe activity whatsoever.</p>\n\n<p>Picture of the process (about 2 hours long - 4:51PM UTC):</p>\n\n<p><img src=\"https://i.stack.imgur.com/Fvk22.jpg\" alt=\"enter image description here\"></p>\n\n<p>Picture showing 0 CPU usage:</p>\n\n<p><img src=\"https://i.stack.imgur.com/avhry.jpg\" alt=\"enter image description here\"></p>\n\n<p>Picture showing that the process lasted only about 1 second:</p>\n\n<p><img src=\"https://i.stack.imgur.com/l1C19.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong><em>The last picture is the one I am most concerned about, my scripts last about 10 seconds, not under 1 second!</em></strong></p>\n\n<p>Process Explorer PHP.exe stack:</p>\n\n<pre><code>ntoskrnl.exe!KeSynchronizeExecution+0x2246\nntoskrnl.exe!KeRemoveQueueEx+0x108e\nntoskrnl.exe!KeRemoveQueueEx+0xae9\nntoskrnl.exe!KeWaitForMutexObject+0x22a\nntoskrnl.exe!KeSetBasePriorityThread+0x4ec\nntoskrnl.exe!KeRemoveQueueEx+0x281d\nntoskrnl.exe!KeRemoveQueueEx+0x121a\nntoskrnl.exe!KeRemoveQueueEx+0xae9\nntoskrnl.exe!KeWaitForMutexObject+0x22a\nntoskrnl.exe!NtWaitForSingleObject+0xb2\nntoskrnl.exe!setjmpex+0x34b3\nwow64cpu.dll!TurboDispatchJumpAddressEnd+0x598\nwow64cpu.dll!TurboDispatchJumpAddressEnd+0x3e4\nwow64.dll!Wow64LdrpInitialize+0x22e\nwow64.dll!Wow64LdrpInitialize+0x172\nntdll.dll!LdrInitShimEngineDynamic+0x2383\nntdll.dll!memset+0xf36a\nntdll.dll!LdrInitializeThunk+0xe\nntdll.dll!ZwWaitForSingleObject+0xc\nmswsock.dll!NSPStartup+0x298\nWS2_32.dll!select+0x17d\nntdll.dll!RtlAllocateHeap+0xca\n</code></pre>\n\n<p>PHP.exe dump file analyzed calls stack:</p>\n\n<pre><code>00 ntdll!NtWaitForSingleObject+0xc\n01 mswsock!SockWaitForSingleObject+0x154\n02 mswsock!WSPSelect+0x355\n03 ws2_32!select+0x17d\n04 php5ts!php_poll2+0x1e0\n05 php5ts!php_stream_xport_create+0x371e\n06 php_openssl!get_module+0x9b39\n07 php5ts!php_stream_alloc+0x3f4\n08 php5ts!php_stream_fill_read_buffer+0x2a4\n0a php5ts!php_mysqlnd_net_network_read_pub+0x4b\n0b php5ts!php_mysqlnd_net_receive_pub+0x149\n0c php5ts!php_mysqlnd_read_row_ex+0x9c\n0d php5ts!php_mysqlnd_rowp_read+0x4d\n0e php5ts!php_mysqlnd_res_store_result_fetch_data_pub+0x21f\n0f php5ts!php_mysqlnd_res_store_result_pub+0xc0\n10 php5ts!php_mysqlnd_conn_store_result_pub+0x160\n11 php_mysqli!zif_mysqli_query+0x2e2\n12 php5ts!zend_do_fcall_common_helper_SPEC+0x8af\n13 php5ts!ZEND_DO_FCALL_BY_NAME_SPEC_HANDLER+0xd\n14 php5ts!execute+0x2e8\n15 php5ts!zend_execute_scripts+0xfe\n16 php5ts!php_execute_script+0x24c\n17 php!main+0xc1b\n18 php!__tmainCRTStartup+0x10f\n19 kernel32!BaseThreadInitThunk+0xe\n1a ntdll!__RtlUserThreadStart+0x20\n1b ntdll!_RtlUserThreadStart+0x1b\n</code></pre>\n\n<p>Can anyone recommend the next course of action or maybe you experienced this before? Thanks!</p>\n\n<p>The script:</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL &amp; ~E_DEPRECATED &amp; ~E_STRICT);\nrequire_once('common.php');\nDB::overwriteInstanceWithHost('db'); // exists in hosts\ndate_default_timezone_set(\"UTC\");\nDB::overrideCommonDBWithHost(\"common.db.com\"); // not real, but exists\n$fetcher = new DataFetcher();\n$weatherData = $fetcher-&gt;fetchByLatLng(latHere,longHere);\nif($weatherData){\n    echo $weatherData-&gt;getCity();\n} else {\n    echo \"couldn't get station lat/lng\";\n}\nexit();\n</code></pre>\n"},{"tags":["java","oop","get","set","dice"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1677003152,"post_id":75524307,"comment_id":133249803,"body_markdown":"Why are you calling `getSumValues()` when you&#39;re trying to show the current *single* value?","body":"Why are you calling <code>getSumValues()</code> when you&#39;re trying to show the current <i>single</i> value?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677003314,"post_id":75524307,"comment_id":133249841,"body_markdown":"`Die` shouldn&#39;t be keeping state based on some external logic over which it has no control. The sums of values should be determined and monitored by the caller, not `Die`. You can simplify (and error-proof) the class by giving it a *single static method* (`roll()`)","body":"<code>Die</code> shouldn&#39;t be keeping state based on some external logic over which it has no control. The sums of values should be determined and monitored by the caller, not <code>Die</code>. You can simplify (and error-proof) the class by giving it a <i>single static method</i> (<code>roll()</code>)"}],"answers":[{"tags":[],"owner":{"account_id":23536321,"reputation":53,"user_id":17581223,"display_name":"prgg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677009190,"creation_date":1677004746,"answer_id":75524618,"question_id":75524307,"body_markdown":"I think the problem is that you never reset `sumValues`. So the next time you role the dice `sumValues` is the sum of the old die throw with the new one. You should add this to your reset method:\r\n\r\n    public void reset() {\r\n        value = 0;\r\n        total = 0;\r\n        sumValues = 0; //add this line\r\n\r\n    }\r\nIf that is what you want (Sorry I can&#39;t exactly understand what you&#39;re trying to do) then you should use `getSumValues` to calculate total like this:\r\n\r\n    total = die1.getSumValues() + die2.getSumValues();\r\n\r\nBut I think you&#39;re a bit overcomplicating. I think it&#39;s best to have the `roll` method return the value directly. And then you don&#39;t need all the other methods and fields. Or if you want you could keep the `value` field and make the `roll` method set that field and then you wouldn&#39;t need the `reset` method method (and all the other fields and methods except for `getValue`). ","title":"Java dice program incorrect sum of dice","body":"<p>I think the problem is that you never reset <code>sumValues</code>. So the next time you role the dice <code>sumValues</code> is the sum of the old die throw with the new one. You should add this to your reset method:</p>\n<pre><code>public void reset() {\n    value = 0;\n    total = 0;\n    sumValues = 0; //add this line\n\n}\n</code></pre>\n<p>If that is what you want (Sorry I can't exactly understand what you're trying to do) then you should use <code>getSumValues</code> to calculate total like this:</p>\n<pre><code>total = die1.getSumValues() + die2.getSumValues();\n</code></pre>\n<p>But I think you're a bit overcomplicating. I think it's best to have the <code>roll</code> method return the value directly. And then you don't need all the other methods and fields. Or if you want you could keep the <code>value</code> field and make the <code>roll</code> method set that field and then you wouldn't need the <code>reset</code> method method (and all the other fields and methods except for <code>getValue</code>).</p>\n"}],"owner":{"account_id":26799356,"reputation":1,"user_id":21260164,"display_name":"Pillis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677009190,"creation_date":1677002855,"question_id":75524307,"body_markdown":"I have this dice program i have been working on. It lets the user roll 2 die, then returns the value of the 2 die, and the sum of the 2 die. the first time I roll a die when running the program, it works and it adds the die up correctly, after that though, it does not add the 2 die together correctly and returns an incorrect sum of the 2 die. Any ideas?\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class DiceOOP {\r\n        public static void main(String[] args) {\r\n                Die die1 = new Die();\r\n                Die die2 = new Die();\r\n                int total;\r\n                char answer = &#39;y&#39;;\r\n                Scanner scanner = new Scanner(System.in);\r\n\r\n                while (answer == &#39;y&#39;) {\r\n                        die1.roll();\r\n                        die2.roll();\r\n                        total = die1.getValue() + die2.getValue();\r\n                        System.out.println(&quot;Dice 1 value is : &quot; + die1.getSumValues());\r\n                        System.out.println(&quot;Dice 2 value is : &quot; + die2.getSumValues());\r\n                        die1.reset();\r\n                        die2.reset();\r\n                        System.out.println(&quot;The total value rolled between both dice is: &quot; + total);\r\n\r\n                        System.out.println(&quot;\\nDo you want to roll the dice again? (y/n)&quot;);\r\n                        answer = scanner.next().charAt(0);\r\n                }\r\n        }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Die {\r\n    public int value;\r\n    public int sumValues;\r\n    public int total;\r\n\r\n    public void roll() {\r\n        value = (int) (6 * Math.random()) + 1;\r\n        sumValues += value;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public int getSumValues() {\r\n        return sumValues;\r\n    }\r\n\r\n    public void reset() {\r\n    value = 0;\r\n    total = 0;\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Java dice program incorrect sum of dice","body":"<p>I have this dice program i have been working on. It lets the user roll 2 die, then returns the value of the 2 die, and the sum of the 2 die. the first time I roll a die when running the program, it works and it adds the die up correctly, after that though, it does not add the 2 die together correctly and returns an incorrect sum of the 2 die. Any ideas?</p>\n<pre><code>import java.util.Scanner;\n\npublic class DiceOOP {\n        public static void main(String[] args) {\n                Die die1 = new Die();\n                Die die2 = new Die();\n                int total;\n                char answer = 'y';\n                Scanner scanner = new Scanner(System.in);\n\n                while (answer == 'y') {\n                        die1.roll();\n                        die2.roll();\n                        total = die1.getValue() + die2.getValue();\n                        System.out.println(&quot;Dice 1 value is : &quot; + die1.getSumValues());\n                        System.out.println(&quot;Dice 2 value is : &quot; + die2.getSumValues());\n                        die1.reset();\n                        die2.reset();\n                        System.out.println(&quot;The total value rolled between both dice is: &quot; + total);\n\n                        System.out.println(&quot;\\nDo you want to roll the dice again? (y/n)&quot;);\n                        answer = scanner.next().charAt(0);\n                }\n        }\n}\n</code></pre>\n<pre><code>public class Die {\n    public int value;\n    public int sumValues;\n    public int total;\n\n    public void roll() {\n        value = (int) (6 * Math.random()) + 1;\n        sumValues += value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public int getSumValues() {\n        return sumValues;\n    }\n\n    public void reset() {\n    value = 0;\n    total = 0;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","application.properties"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":2,"creation_date":1677002777,"post_id":75524099,"comment_id":133249687,"body_markdown":"Make the testProperty non static, then it works. See https://www.baeldung.com/spring-inject-static-field and also what Sergey says below, annotate the test with @SpringBootTest","body":"Make the testProperty non static, then it works. See <a href=\"https://www.baeldung.com/spring-inject-static-field\" rel=\"nofollow noreferrer\">baeldung.com/spring-inject-static-field</a> and also what Sergey says below, annotate the test with @SpringBootTest"}],"answers":[{"tags":[],"owner":{"account_id":17051110,"reputation":46,"user_id":12336723,"display_name":"Sergey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677002787,"creation_date":1677002787,"answer_id":75524295,"question_id":75524099,"body_markdown":"You need to annotate your test class with `@SpringBootTest` instead of `@Component`","title":"Minimal @Value test in Spring","body":"<p>You need to annotate your test class with <code>@SpringBootTest</code> instead of <code>@Component</code></p>\n"},{"tags":[],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677008957,"creation_date":1677008957,"answer_id":75525234,"question_id":75524099,"body_markdown":"This works:\r\n```\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\n/**\r\n * This simple example uses an @Value annotation.\r\n */\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class MinimalValueTest {\r\n\r\n\t@Value(&quot;${test.property}&quot;)\r\n\tString testProperty;\r\n\r\n    @Test\r\n    public void test() {\r\n      Assertions.assertTrue(testProperty != null);\r\n      Assertions.assertEquals(&quot;a_test_property&quot;, testProperty);\r\n    }\r\n}\r\n```","title":"Minimal @Value test in Spring","body":"<p>This works:</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.stereotype.Component;\nimport org.springframework.test.context.ActiveProfiles;\n\n/**\n * This simple example uses an @Value annotation.\n */\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class MinimalValueTest {\n\n    @Value(&quot;${test.property}&quot;)\n    String testProperty;\n\n    @Test\n    public void test() {\n      Assertions.assertTrue(testProperty != null);\n      Assertions.assertEquals(&quot;a_test_property&quot;, testProperty);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677008957,"creation_date":1677001564,"question_id":75524099,"body_markdown":"I&#39;m new to `Spring` and struggling with its complexity and opaque documentation.\r\nMy question is **How does one write a minimal @Value test?**\r\n\r\nConsider this test module, in `MinimalValueTest.java`.\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\n@Component\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class MinimalValueTest {\r\n\r\n\t@Value(&quot;${test.property}&quot;)\r\n\tpublic static String testProperty;\r\n\r\n    @Test\r\n    public void test() {\r\n      if (testProperty == null) {\r\n        System.out.println(&quot;*** FAILED ***&quot;);\r\n      } else {\r\n        System.out.println(&quot;*** SUCCEEDED ***&quot;);\r\n      }\r\n      // Unit tests will go here\r\n    }\r\n}\r\n```\r\nThis test references this property defined in the `src/test/resources/application.properties` file:\r\n```\r\ntest.property=a_test_property\r\n```\r\nRunning this outputs `*** FAILED ***`.\r\n\r\nExtra credit: which Spring documentation best explains how to do this?","title":"Minimal @Value test in Spring","body":"<p>I'm new to <code>Spring</code> and struggling with its complexity and opaque documentation.\nMy question is <strong>How does one write a minimal @Value test?</strong></p>\n<p>Consider this test module, in <code>MinimalValueTest.java</code>.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\nimport org.springframework.test.context.ActiveProfiles;\n\n@Component\n@ActiveProfiles(&quot;test&quot;)\npublic class MinimalValueTest {\n\n    @Value(&quot;${test.property}&quot;)\n    public static String testProperty;\n\n    @Test\n    public void test() {\n      if (testProperty == null) {\n        System.out.println(&quot;*** FAILED ***&quot;);\n      } else {\n        System.out.println(&quot;*** SUCCEEDED ***&quot;);\n      }\n      // Unit tests will go here\n    }\n}\n</code></pre>\n<p>This test references this property defined in the <code>src/test/resources/application.properties</code> file:</p>\n<pre><code>test.property=a_test_property\n</code></pre>\n<p>Running this outputs <code>*** FAILED ***</code>.</p>\n<p>Extra credit: which Spring documentation best explains how to do this?</p>\n"},{"tags":["java","spring","testing","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676907246,"post_id":75510883,"comment_id":133226964,"body_markdown":"Your test is a mess. You are mixing JUnit4 and JUnit5 and I have no clue on what you want to use of those. You are using `@WebMvcTest` but also an `@ContextConfiguration` which doesn&#39;t really make sense. You autowire mockmvc but then discard that and do it yourself in a setup method. Trying to add `spring-test-4.1.3` will indeed make things go wrong even more, as spring boot 2.7 uses Spring 5.3, mixing jars from different versions of a framework is trouble waiting to happen.","body":"Your test is a mess. You are mixing JUnit4 and JUnit5 and I have no clue on what you want to use of those. You are using <code>@WebMvcTest</code> but also an <code>@ContextConfiguration</code> which doesn&#39;t really make sense. You autowire mockmvc but then discard that and do it yourself in a setup method. Trying to add <code>spring-test-4.1.3</code> will indeed make things go wrong even more, as spring boot 2.7 uses Spring 5.3, mixing jars from different versions of a framework is trouble waiting to happen."},{"owner":{"account_id":8007,"reputation":22733,"user_id":14131,"accept_rate":58,"display_name":"Pavel Chuchuva"},"score":1,"creation_date":1676962978,"post_id":75510883,"comment_id":133237351,"body_markdown":"If you scroll down the error stack you will see the actual error message: NoSuchBeanDefinitionException: No bean named &#39;customUserDetailsService&#39; available","body":"If you scroll down the error stack you will see the actual error message: NoSuchBeanDefinitionException: No bean named &#39;customUserDetailsService&#39; available"},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1676990095,"post_id":75510883,"comment_id":133245524,"body_markdown":"Thanks Pavel! I didn&#39;t notice that.","body":"Thanks Pavel! I didn&#39;t notice that."},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1677000863,"post_id":75510883,"comment_id":133249122,"body_markdown":"After setting some breakpoints in the Controller, I realized that the test never hits the Controller so now I&#39;m investigating that.","body":"After setting some breakpoints in the Controller, I realized that the test never hits the Controller so now I&#39;m investigating that."}],"answers":[{"comments":[{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1676912916,"post_id":75511368,"comment_id":133228628,"body_markdown":"Hey M, thanks so much for your detailed response. I have applied your suggested changes and am still getting the same error.\n\nMy CustomUserDetailsService is, in fact, called CustomUserDetailsService and the import statement looks correct to me.\n```import cn.RecipeAPI.Security.CustomUserDetailsService;```","body":"Hey M, thanks so much for your detailed response. I have applied your suggested changes and am still getting the same error.  My CustomUserDetailsService is, in fact, called CustomUserDetailsService and the import statement looks correct to me. <code>import cn.RecipeAPI.Security.CustomUserDetailsService;</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676959586,"post_id":75511368,"comment_id":133236717,"body_markdown":"I was referencing the name of the bean in your configuration **not** the name of the class.","body":"I was referencing the name of the bean in your configuration <b>not</b> the name of the class."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676907845,"creation_date":1676907845,"answer_id":75511368,"question_id":75510883,"body_markdown":"Start by selecting a framework either JUnit4 or JUnit5 but not both. I suggest the latter as that is the most recent. With that you should remove some of the annotations on your test.\r\n\r\n```java\r\n@WebMvcTest(RecipeController.class)\r\n@ContextConfiguration(classes = SecurityConfig.class)\r\n@ActiveProfiles(profiles = &quot;test&quot;)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n@WebAppConfiguration\r\n@ExtendWith(SpringExtension.class)\r\npublic class RecipeApiApplicationTests { }\r\n```\r\n\r\nWhen using `@WebMvcTest` this will auto configure Spring Boot with a minimal context to execute your controller. It will also setup `MockMvc` for you, so you should autowire it. You don&#39;t need the controller, webapplication etc. on your class. As `@WebMvcTest` already includes `@ExtendWith(SpringExtension.class)` you can remove that as well. Your class  definition should be something like the following. \r\n\r\n```java\r\n@WebMvcTest(RecipeController.class)\r\n@ActiveProfiles(profiles = &quot;test&quot;)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class RecipeApiApplicationTests { }\r\n```\r\n\r\nAs you should be autowiring `MockMvc` and not create it yourself ditch the `setup` method as well as some of the fields you don&#39;t need. \r\n\r\n```java\r\n@WebMvcTest(RecipeController.class)\r\n@ActiveProfiles(profiles = &quot;test&quot;)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class RecipeApiApplicationTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private RecipeService recipeService;\r\n\r\n    @MockBean(name=&quot;customUserDetailsService&quot;)\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    // Your data fields for testing go here\r\n\r\n```\r\n\r\nNotice the added name to the `CustomerUserDetailsService` mock. Probably not really needed as it should take the name of the field or the existing bean it will replace. \r\n\r\nNow re-run your test. If that doesn&#39;t work make sure that you are using the same name in your `@WithUserDetails` annotation as the name of your actual `UserDetailsService` in your application. ","title":"Spring Security testing with Mockito - Unable to create SecurityContext","body":"<p>Start by selecting a framework either JUnit4 or JUnit5 but not both. I suggest the latter as that is the most recent. With that you should remove some of the annotations on your test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(RecipeController.class)\n@ContextConfiguration(classes = SecurityConfig.class)\n@ActiveProfiles(profiles = &quot;test&quot;)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@WebAppConfiguration\n@ExtendWith(SpringExtension.class)\npublic class RecipeApiApplicationTests { }\n</code></pre>\n<p>When using <code>@WebMvcTest</code> this will auto configure Spring Boot with a minimal context to execute your controller. It will also setup <code>MockMvc</code> for you, so you should autowire it. You don't need the controller, webapplication etc. on your class. As <code>@WebMvcTest</code> already includes <code>@ExtendWith(SpringExtension.class)</code> you can remove that as well. Your class  definition should be something like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(RecipeController.class)\n@ActiveProfiles(profiles = &quot;test&quot;)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class RecipeApiApplicationTests { }\n</code></pre>\n<p>As you should be autowiring <code>MockMvc</code> and not create it yourself ditch the <code>setup</code> method as well as some of the fields you don't need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(RecipeController.class)\n@ActiveProfiles(profiles = &quot;test&quot;)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class RecipeApiApplicationTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private RecipeService recipeService;\n\n    @MockBean(name=&quot;customUserDetailsService&quot;)\n    private CustomUserDetailsService customUserDetailsService;\n\n    // Your data fields for testing go here\n\n</code></pre>\n<p>Notice the added name to the <code>CustomerUserDetailsService</code> mock. Probably not really needed as it should take the name of the field or the existing bean it will replace.</p>\n<p>Now re-run your test. If that doesn't work make sure that you are using the same name in your <code>@WithUserDetails</code> annotation as the name of your actual <code>UserDetailsService</code> in your application.</p>\n"},{"tags":[],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677008770,"creation_date":1677008770,"answer_id":75525211,"question_id":75510883,"body_markdown":"Thanks so much to M, Pavel, and Nikita for helping me on this. Turns out that my SecurityConfig class was never being picked up by my tests. This was fixed by adding ```@Import(SecurityConfig.class)``` to the test class.\r\n\r\nFrom Nikita: Starting from 2.7.X the regular @Configuration beans are not picked up by testMvcTest. See [17.15.3. Structure @Configuration classes for inclusion in slice tests](https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#howto.testing.slice-tests)\r\n\r\nHere&#39;s the final test class, which passes now.\r\n```\r\n@WebMvcTest(RecipeController.class)\r\n@ActiveProfiles(profiles = &quot;test&quot;)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n@Import(SecurityConfig.class)\r\npublic class RecipeApiApplicationTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private RecipeService recipeService;\r\n\r\n    // Create some test users\r\n    // user for recipes\r\n    UserMeta userMeta = UserMeta.builder().email(&quot;recipe@gmail.com&quot;).name(&quot;recipeUser1&quot;).build();\r\n    Role role = Role.builder().role(Role.Roles.ROLE_USER).build();\r\n    Set&lt;Role&gt; roles = Set.of(role);\r\n    CustomUserDetails userRecipe = CustomUserDetails.builder().userMeta(userMeta).username(&quot;userRecipe&quot;).password(&quot;1234&quot;).authorities(roles).build();\r\n    // user for reviews\r\n    UserMeta userMeta1 = UserMeta.builder().email(&quot;review@gmail.com&quot;).name(&quot;reviewUser&quot;).build();\r\n    CustomUserDetails userReview = CustomUserDetails.builder().userMeta(userMeta1).username(&quot;userReview&quot;).password(&quot;1234&quot;).authorities(roles).build();\r\n\r\n    // Create some test recipes\r\n    Review review = Review.builder().description(&quot;was just caramel&quot;).rating(3).user(userReview).build();\r\n    Review review2 = Review.builder().description(&quot;was just egg&quot;).rating(4).user(userReview).build();\r\n\r\n    Recipe recipe = Recipe.builder().name(&quot;test name&quot;).difficultyRating(1).minutesToMake(5)\r\n            .ingredients(Set.of(Ingredient.builder().name(&quot;spam&quot;).amount(&quot;1 can&quot;).build()))\r\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;eat spam&quot;).build()))\r\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/1&quot;))\r\n            .reviews(Set.of(review))\r\n            .id(1L)\r\n            .user(userRecipe)\r\n            .build();\r\n    Recipe recipe2 = Recipe.builder().name(&quot;test name2&quot;).difficultyRating(2).minutesToMake(6)\r\n            .ingredients(Set.of(Ingredient.builder().name(&quot;egg&quot;).amount(&quot;1 egg&quot;).build()))\r\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;crack egg&quot;).build()))\r\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/2&quot;))\r\n            .reviews(Set.of(review2))\r\n            .id(2L)\r\n            .user(userRecipe)\r\n            .build();\r\n    ArrayList&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;(Arrays.asList(recipe, recipe2));\r\n\r\n@Test\r\n    @Order(4)\r\n    @WithMockUser(&quot;userRecipe&quot;)\r\n    public void testCreateNewRecipeSuccessBehavior() throws Exception {\r\n        when(recipeService.createNewRecipe(any(Recipe.class), any(Authentication.class))).thenReturn(recipe);\r\n\r\n        mockMvc.perform(post(&quot;/recipes&quot;)//.with(user(userRecipe))\r\n                        //set request Content-Type header\r\n                        .contentType(&quot;application/json&quot;)\r\n                        //set HTTP body equal to JSON based on recipe object\r\n                        .content(TestUtil.convertObjectToJsonBytes(recipe))\r\n                )\r\n                //confirm HTTP response meta\r\n                .andExpect(status().isCreated())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                //confirm Location header with new location of object matches the correct URL structure\r\n                .andExpect(header().string(&quot;Location&quot;, containsString(&quot;http://localhost:8080/recipes/1&quot;)))\r\n\r\n                //confirm some recipe data\r\n                .andExpect(jsonPath(&quot;id&quot;).value(1))\r\n                .andExpect(jsonPath(&quot;name&quot;).value(&quot;test name&quot;))\r\n\r\n                //confirm ingredient data\r\n                .andExpect(jsonPath(&quot;ingredients&quot;, hasSize(1)))\r\n                .andExpect(jsonPath(&quot;ingredients[0].name&quot;).value(&quot;spam&quot;))\r\n                .andExpect(jsonPath(&quot;ingredients[0].amount&quot;).value(&quot;1 can&quot;))\r\n\r\n                //confirm step data\r\n                .andExpect(jsonPath(&quot;steps&quot;, hasSize(1)))\r\n                .andExpect(jsonPath(&quot;steps[0]&quot;).isNotEmpty())\r\n\r\n                //confirm review data\r\n                .andExpect(jsonPath(&quot;reviews&quot;, hasSize(1)))\r\n                .andExpect(jsonPath(&quot;reviews[0].author&quot;).value(&quot;userReview&quot;));\r\n    }\r\n}\r\n```","title":"Spring Security testing with Mockito - Unable to create SecurityContext","body":"<p>Thanks so much to M, Pavel, and Nikita for helping me on this. Turns out that my SecurityConfig class was never being picked up by my tests. This was fixed by adding <code>@Import(SecurityConfig.class)</code> to the test class.</p>\n<p>From Nikita: Starting from 2.7.X the regular @Configuration beans are not picked up by testMvcTest. See <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#howto.testing.slice-tests\" rel=\"nofollow noreferrer\">17.15.3. Structure @Configuration classes for inclusion in slice tests</a></p>\n<p>Here's the final test class, which passes now.</p>\n<pre><code>@WebMvcTest(RecipeController.class)\n@ActiveProfiles(profiles = &quot;test&quot;)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@Import(SecurityConfig.class)\npublic class RecipeApiApplicationTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private RecipeService recipeService;\n\n    // Create some test users\n    // user for recipes\n    UserMeta userMeta = UserMeta.builder().email(&quot;recipe@gmail.com&quot;).name(&quot;recipeUser1&quot;).build();\n    Role role = Role.builder().role(Role.Roles.ROLE_USER).build();\n    Set&lt;Role&gt; roles = Set.of(role);\n    CustomUserDetails userRecipe = CustomUserDetails.builder().userMeta(userMeta).username(&quot;userRecipe&quot;).password(&quot;1234&quot;).authorities(roles).build();\n    // user for reviews\n    UserMeta userMeta1 = UserMeta.builder().email(&quot;review@gmail.com&quot;).name(&quot;reviewUser&quot;).build();\n    CustomUserDetails userReview = CustomUserDetails.builder().userMeta(userMeta1).username(&quot;userReview&quot;).password(&quot;1234&quot;).authorities(roles).build();\n\n    // Create some test recipes\n    Review review = Review.builder().description(&quot;was just caramel&quot;).rating(3).user(userReview).build();\n    Review review2 = Review.builder().description(&quot;was just egg&quot;).rating(4).user(userReview).build();\n\n    Recipe recipe = Recipe.builder().name(&quot;test name&quot;).difficultyRating(1).minutesToMake(5)\n            .ingredients(Set.of(Ingredient.builder().name(&quot;spam&quot;).amount(&quot;1 can&quot;).build()))\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;eat spam&quot;).build()))\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/1&quot;))\n            .reviews(Set.of(review))\n            .id(1L)\n            .user(userRecipe)\n            .build();\n    Recipe recipe2 = Recipe.builder().name(&quot;test name2&quot;).difficultyRating(2).minutesToMake(6)\n            .ingredients(Set.of(Ingredient.builder().name(&quot;egg&quot;).amount(&quot;1 egg&quot;).build()))\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;crack egg&quot;).build()))\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/2&quot;))\n            .reviews(Set.of(review2))\n            .id(2L)\n            .user(userRecipe)\n            .build();\n    ArrayList&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;(Arrays.asList(recipe, recipe2));\n\n@Test\n    @Order(4)\n    @WithMockUser(&quot;userRecipe&quot;)\n    public void testCreateNewRecipeSuccessBehavior() throws Exception {\n        when(recipeService.createNewRecipe(any(Recipe.class), any(Authentication.class))).thenReturn(recipe);\n\n        mockMvc.perform(post(&quot;/recipes&quot;)//.with(user(userRecipe))\n                        //set request Content-Type header\n                        .contentType(&quot;application/json&quot;)\n                        //set HTTP body equal to JSON based on recipe object\n                        .content(TestUtil.convertObjectToJsonBytes(recipe))\n                )\n                //confirm HTTP response meta\n                .andExpect(status().isCreated())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                //confirm Location header with new location of object matches the correct URL structure\n                .andExpect(header().string(&quot;Location&quot;, containsString(&quot;http://localhost:8080/recipes/1&quot;)))\n\n                //confirm some recipe data\n                .andExpect(jsonPath(&quot;id&quot;).value(1))\n                .andExpect(jsonPath(&quot;name&quot;).value(&quot;test name&quot;))\n\n                //confirm ingredient data\n                .andExpect(jsonPath(&quot;ingredients&quot;, hasSize(1)))\n                .andExpect(jsonPath(&quot;ingredients[0].name&quot;).value(&quot;spam&quot;))\n                .andExpect(jsonPath(&quot;ingredients[0].amount&quot;).value(&quot;1 can&quot;))\n\n                //confirm step data\n                .andExpect(jsonPath(&quot;steps&quot;, hasSize(1)))\n                .andExpect(jsonPath(&quot;steps[0]&quot;).isNotEmpty())\n\n                //confirm review data\n                .andExpect(jsonPath(&quot;reviews&quot;, hasSize(1)))\n                .andExpect(jsonPath(&quot;reviews[0].author&quot;).value(&quot;userReview&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75525211,"answer_count":2,"score":1,"last_activity_date":1677008770,"creation_date":1676905231,"question_id":75510883,"body_markdown":"I have written a test method to test a POST request to an API. Every time I run it it returns this error: Unable to create SecurityContext.\r\n\r\nI am a beginner with Java and Spring and security (so go gentle on me). I&#39;m taking an online course that asked us to create a recipe API then secure it with Spring Security. I have verified all of the end points with Postman, but am unable to pass a test using Mockito and mockMVC.\r\n\r\nJava 11, Spring Boot 2.7.8\r\n\r\n# Recipe Controller\r\nIncluding only the POST request here.\r\n```\r\npackage cn.RecipeAPI.Controllers;\r\n\r\nimport cn.RecipeAPI.Exceptions.NoSuchRecipeException;\r\nimport cn.RecipeAPI.Models.Recipe;\r\nimport cn.RecipeAPI.Services.RecipeService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.access.prepost.PreAuthorize;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/recipes&quot;)\r\npublic class RecipeController {\r\n    @Autowired\r\n    RecipeService recipeService;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; createNewRecipe(@RequestBody Recipe recipe, Authentication authentication) {\r\n        try {\r\n            Recipe insertedRecipe = recipeService.createNewRecipe(recipe, authentication);\r\n            return ResponseEntity.created(insertedRecipe.getLocationURI()).body(insertedRecipe);\r\n        } catch (IllegalStateException e) {\r\n            return ResponseEntity.badRequest().body(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n# Recipe Service\r\n```\r\npackage cn.RecipeAPI.Services;\r\n\r\nimport cn.RecipeAPI.Exceptions.NoSuchRecipeException;\r\nimport cn.RecipeAPI.Models.CustomUserDetails;\r\nimport cn.RecipeAPI.Models.Recipe;\r\nimport cn.RecipeAPI.Models.Review;\r\nimport cn.RecipeAPI.Repositories.RecipeRepo;\r\nimport cn.RecipeAPI.Repositories.UserRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.security.core.Authentication;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class RecipeService {\r\n    @Autowired\r\n    RecipeRepo recipeRepo;\r\n    @Autowired\r\n    UserRepo userRepo;\r\n\r\n    @Transactional\r\n    public Recipe createNewRecipe(Recipe recipe, Authentication authentication) throws IllegalStateException {\r\n        CustomUserDetails userDetails = (CustomUserDetails) authentication.getPrincipal();\r\n        recipe.setUser(userRepo.getReferenceById(userDetails.getId()));\r\n        recipe.validate();\r\n        recipe = recipeRepo.save(recipe);\r\n        recipe.generateLocationURI();\r\n        return recipe;\r\n    }\r\n}\r\n```\r\n\r\n# Recipe API Tests\r\nThis class may include many unnecessary annotations and things. As I read through many Stack Overflow answers and the Spring Security documentation I tried various fixes. At this point I can&#39;t remember what&#39;s necessary and what&#39;s not.\r\n```\r\npackage cn.RecipeAPI;\r\n\r\nimport cn.RecipeAPI.Controllers.RecipeController;\r\nimport cn.RecipeAPI.Exceptions.NoSuchRecipeException;\r\nimport cn.RecipeAPI.Models.*;\r\nimport cn.RecipeAPI.Security.CustomUserDetailsService;\r\nimport cn.RecipeAPI.Security.SecurityConfig;\r\nimport cn.RecipeAPI.Services.RecipeService;\r\nimport org.junit.jupiter.api.*;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.ArgumentMatchers;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.test.context.support.WithMockUser;\r\nimport org.springframework.security.test.context.support.WithUserDetails;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.context.WebApplicationContext;\r\n\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Set;\r\n\r\nimport static org.hamcrest.Matchers.containsString;\r\nimport static org.hamcrest.Matchers.hasSize;\r\nimport static org.mockito.ArgumentMatchers.*;\r\nimport static org.mockito.Mockito.when;\r\nimport static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.springSecurity;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n\r\n\r\n@WebMvcTest(RecipeController.class)\r\n@ContextConfiguration(classes = SecurityConfig.class)\r\n@ActiveProfiles(profiles = &quot;test&quot;)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@WebAppConfiguration\r\n@ExtendWith(SpringExtension.class)\r\npublic class RecipeApiApplicationTests {\r\n    @Mock\r\n    private Authentication authentication;\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private RecipeService recipeService;\r\n    @MockBean\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    // I&#39;m not sure if either of these are needed, but I&#39;m going to leave them in for now\r\n    @InjectMocks\r\n    private RecipeController recipeController;\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n    }\r\n\r\n    // Create some test users\r\n    // user for recipes\r\n    UserMeta userMeta = UserMeta.builder().email(&quot;recipe@gmail.com&quot;).name(&quot;recipeUser1&quot;).build();\r\n    Role role = Role.builder().role(Role.Roles.ROLE_USER).build();\r\n    Set&lt;Role&gt; roles = Set.of(role);\r\n    CustomUserDetails userRecipe = CustomUserDetails.builder().userMeta(userMeta).username(&quot;userRecipe&quot;).password(&quot;1234&quot;).authorities(roles).build();\r\n    // user for reviews\r\n    UserMeta userMeta1 = UserMeta.builder().email(&quot;review@gmail.com&quot;).name(&quot;reviewUser&quot;).build();\r\n    CustomUserDetails userReview = CustomUserDetails.builder().userMeta(userMeta1).username(&quot;userReview&quot;).password(&quot;1234&quot;).authorities(roles).build();\r\n\r\n    // Create some test recipes\r\n    Review review = Review.builder().description(&quot;was just caramel&quot;).rating(3).user(userReview).build();\r\n    Review review2 = Review.builder().description(&quot;was just egg&quot;).rating(4).user(userReview).build();\r\n\r\n    Recipe recipe = Recipe.builder().name(&quot;test name&quot;).difficultyRating(1).minutesToMake(5)\r\n            .ingredients(Set.of(Ingredient.builder().name(&quot;spam&quot;).amount(&quot;1 can&quot;).build()))\r\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;eat spam&quot;).build()))\r\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/1&quot;))\r\n            .reviews(Set.of(review))\r\n            .id(1L)\r\n            .user(userRecipe)\r\n            .build();\r\n    Recipe recipe2 = Recipe.builder().name(&quot;test name2&quot;).difficultyRating(2).minutesToMake(6)\r\n            .ingredients(Set.of(Ingredient.builder().name(&quot;egg&quot;).amount(&quot;1 egg&quot;).build()))\r\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;crack egg&quot;).build()))\r\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/2&quot;))\r\n            .reviews(Set.of(review2))\r\n            .id(2L)\r\n            .user(userRecipe)\r\n            .build();\r\n    ArrayList&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;(Arrays.asList(recipe, recipe2));\r\n\r\n    public RecipeApiApplicationTests() throws URISyntaxException {\r\n    }\r\n@Test\r\n    @Order(4)\r\n    @WithUserDetails(value=&quot;userRecipe&quot;, userDetailsServiceBeanName=&quot;customUserDetailsService&quot;)\r\n    public void testCreateNewRecipeSuccessBehavior() throws Exception {\r\n        when(recipeService.createNewRecipe(any(Recipe.class), any(Authentication.class))).thenReturn(recipe);\r\n\r\n        mockMvc.perform(post(&quot;/recipes&quot;)\r\n                        //set request Content-Type header\r\n                        .contentType(&quot;application/json&quot;)\r\n                        //set HTTP body equal to JSON based on recipe object\r\n                        .content(TestUtil.convertObjectToJsonBytes(recipe))\r\n                )\r\n                //confirm HTTP response meta\r\n                .andExpect(status().isCreated())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                //confirm Location header with new location of object matches the correct URL structure\r\n                .andExpect(header().string(&quot;Location&quot;, containsString(&quot;http://localhost:8080/recipes/1&quot;)))\r\n\r\n                //confirm some recipe data\r\n                .andExpect(jsonPath(&quot;id&quot;).value(1))\r\n                .andExpect(jsonPath(&quot;name&quot;).value(&quot;test name&quot;))\r\n\r\n                //confirm ingredient data\r\n                .andExpect(jsonPath(&quot;ingredients&quot;, hasSize(1)))\r\n                .andExpect(jsonPath(&quot;ingredients[0].name&quot;).value(&quot;spam&quot;))\r\n                .andExpect(jsonPath(&quot;ingredients[0].amount&quot;).value(&quot;1 can&quot;))\r\n\r\n                //confirm step data\r\n                .andExpect(jsonPath(&quot;steps&quot;, hasSize(1)))\r\n//                .andExpect(jsonPath(&quot;steps[0]&quot;).isNotEmpty())\r\n\r\n                //confirm review data\r\n                .andExpect(jsonPath(&quot;reviews&quot;, hasSize(1)))\r\n                .andExpect(jsonPath(&quot;reviews[0].username&quot;).value(&quot;idk&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\n# Stack trace\r\n```\r\njava.lang.IllegalStateException: Unable to create SecurityContext using @org.springframework.security.test.context.support.WithUserDetails(setupBefore=TEST_METHOD, userDetailsServiceBeanName=&quot;customUserDetailsService&quot;, value=&quot;userRecipe&quot;)\r\n\tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.lambda$createTestSecurityContext$0(WithSecurityContextTestExecutionListener.java:126) ~[spring-security-test-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.beforeTestMethod(WithSecurityContextTestExecutionListener.java:73) ~[spring-security-test-5.7.6.jar:5.7.6]\r\n\tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:293) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:163) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:162) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:129) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[na:na]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[na:na]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[na:na]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[na:na]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[na:na]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[na:na]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[na:na]\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[na:na]\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94) ~[na:na]\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100) ~[na:na]\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60) ~[na:na]\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113) ~[na:na]\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65) ~[na:na]\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;customUserDetailsService&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1358) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.findUserDetailsService(WithUserDetailsSecurityContextFactory.java:76) ~[spring-security-test-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:58) ~[spring-security-test-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:43) ~[spring-security-test-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.lambda$createTestSecurityContext$0(WithSecurityContextTestExecutionListener.java:123) ~[spring-security-test-5.7.6.jar:5.7.6]\r\n\t... 72 common frames omitted\r\n```\r\n\r\n# Other\r\n\r\nWhile reading through the [Spring documentation on testing](https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html) I did see this note.\r\n[![enter image description here](https://i.stack.imgur.com/NmDM3.png)](https://i.stack.imgur.com/NmDM3.png)\r\n\r\nI tried adding spring-test-4.1.3.RELEASE to my dependencies and that made everything go wrong. It&#39;s the only place I&#39;ve seen that mentioned. I removed it.\r\n\r\nIs there anything else I should have included?","title":"Spring Security testing with Mockito - Unable to create SecurityContext","body":"<p>I have written a test method to test a POST request to an API. Every time I run it it returns this error: Unable to create SecurityContext.</p>\n<p>I am a beginner with Java and Spring and security (so go gentle on me). I'm taking an online course that asked us to create a recipe API then secure it with Spring Security. I have verified all of the end points with Postman, but am unable to pass a test using Mockito and mockMVC.</p>\n<p>Java 11, Spring Boot 2.7.8</p>\n<h1>Recipe Controller</h1>\n<p>Including only the POST request here.</p>\n<pre><code>package cn.RecipeAPI.Controllers;\n\nimport cn.RecipeAPI.Exceptions.NoSuchRecipeException;\nimport cn.RecipeAPI.Models.Recipe;\nimport cn.RecipeAPI.Services.RecipeService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/recipes&quot;)\npublic class RecipeController {\n    @Autowired\n    RecipeService recipeService;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; createNewRecipe(@RequestBody Recipe recipe, Authentication authentication) {\n        try {\n            Recipe insertedRecipe = recipeService.createNewRecipe(recipe, authentication);\n            return ResponseEntity.created(insertedRecipe.getLocationURI()).body(insertedRecipe);\n        } catch (IllegalStateException e) {\n            return ResponseEntity.badRequest().body(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<h1>Recipe Service</h1>\n<pre><code>package cn.RecipeAPI.Services;\n\nimport cn.RecipeAPI.Exceptions.NoSuchRecipeException;\nimport cn.RecipeAPI.Models.CustomUserDetails;\nimport cn.RecipeAPI.Models.Recipe;\nimport cn.RecipeAPI.Models.Review;\nimport cn.RecipeAPI.Repositories.RecipeRepo;\nimport cn.RecipeAPI.Repositories.UserRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.security.core.Authentication;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class RecipeService {\n    @Autowired\n    RecipeRepo recipeRepo;\n    @Autowired\n    UserRepo userRepo;\n\n    @Transactional\n    public Recipe createNewRecipe(Recipe recipe, Authentication authentication) throws IllegalStateException {\n        CustomUserDetails userDetails = (CustomUserDetails) authentication.getPrincipal();\n        recipe.setUser(userRepo.getReferenceById(userDetails.getId()));\n        recipe.validate();\n        recipe = recipeRepo.save(recipe);\n        recipe.generateLocationURI();\n        return recipe;\n    }\n}\n</code></pre>\n<h1>Recipe API Tests</h1>\n<p>This class may include many unnecessary annotations and things. As I read through many Stack Overflow answers and the Spring Security documentation I tried various fixes. At this point I can't remember what's necessary and what's not.</p>\n<pre><code>package cn.RecipeAPI;\n\nimport cn.RecipeAPI.Controllers.RecipeController;\nimport cn.RecipeAPI.Exceptions.NoSuchRecipeException;\nimport cn.RecipeAPI.Models.*;\nimport cn.RecipeAPI.Security.CustomUserDetailsService;\nimport cn.RecipeAPI.Security.SecurityConfig;\nimport cn.RecipeAPI.Services.RecipeService;\nimport org.junit.jupiter.api.*;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.ArgumentMatchers;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.security.test.context.support.WithUserDetails;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Set;\n\nimport static org.hamcrest.Matchers.containsString;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.mockito.ArgumentMatchers.*;\nimport static org.mockito.Mockito.when;\nimport static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.springSecurity;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n\n\n@WebMvcTest(RecipeController.class)\n@ContextConfiguration(classes = SecurityConfig.class)\n@ActiveProfiles(profiles = &quot;test&quot;)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ExtendWith(SpringExtension.class)\npublic class RecipeApiApplicationTests {\n    @Mock\n    private Authentication authentication;\n    @Autowired\n    private MockMvc mockMvc;\n    @MockBean\n    private RecipeService recipeService;\n    @MockBean\n    private CustomUserDetailsService customUserDetailsService;\n\n    // I'm not sure if either of these are needed, but I'm going to leave them in for now\n    @InjectMocks\n    private RecipeController recipeController;\n    @Autowired\n    private WebApplicationContext context;\n\n    @BeforeEach\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .build();\n    }\n\n    // Create some test users\n    // user for recipes\n    UserMeta userMeta = UserMeta.builder().email(&quot;recipe@gmail.com&quot;).name(&quot;recipeUser1&quot;).build();\n    Role role = Role.builder().role(Role.Roles.ROLE_USER).build();\n    Set&lt;Role&gt; roles = Set.of(role);\n    CustomUserDetails userRecipe = CustomUserDetails.builder().userMeta(userMeta).username(&quot;userRecipe&quot;).password(&quot;1234&quot;).authorities(roles).build();\n    // user for reviews\n    UserMeta userMeta1 = UserMeta.builder().email(&quot;review@gmail.com&quot;).name(&quot;reviewUser&quot;).build();\n    CustomUserDetails userReview = CustomUserDetails.builder().userMeta(userMeta1).username(&quot;userReview&quot;).password(&quot;1234&quot;).authorities(roles).build();\n\n    // Create some test recipes\n    Review review = Review.builder().description(&quot;was just caramel&quot;).rating(3).user(userReview).build();\n    Review review2 = Review.builder().description(&quot;was just egg&quot;).rating(4).user(userReview).build();\n\n    Recipe recipe = Recipe.builder().name(&quot;test name&quot;).difficultyRating(1).minutesToMake(5)\n            .ingredients(Set.of(Ingredient.builder().name(&quot;spam&quot;).amount(&quot;1 can&quot;).build()))\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;eat spam&quot;).build()))\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/1&quot;))\n            .reviews(Set.of(review))\n            .id(1L)\n            .user(userRecipe)\n            .build();\n    Recipe recipe2 = Recipe.builder().name(&quot;test name2&quot;).difficultyRating(2).minutesToMake(6)\n            .ingredients(Set.of(Ingredient.builder().name(&quot;egg&quot;).amount(&quot;1 egg&quot;).build()))\n            .steps(Set.of(Step.builder().stepNumber(1).description(&quot;crack egg&quot;).build()))\n            .locationURI(new URI(&quot;http://localhost:8080/recipes/2&quot;))\n            .reviews(Set.of(review2))\n            .id(2L)\n            .user(userRecipe)\n            .build();\n    ArrayList&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;(Arrays.asList(recipe, recipe2));\n\n    public RecipeApiApplicationTests() throws URISyntaxException {\n    }\n@Test\n    @Order(4)\n    @WithUserDetails(value=&quot;userRecipe&quot;, userDetailsServiceBeanName=&quot;customUserDetailsService&quot;)\n    public void testCreateNewRecipeSuccessBehavior() throws Exception {\n        when(recipeService.createNewRecipe(any(Recipe.class), any(Authentication.class))).thenReturn(recipe);\n\n        mockMvc.perform(post(&quot;/recipes&quot;)\n                        //set request Content-Type header\n                        .contentType(&quot;application/json&quot;)\n                        //set HTTP body equal to JSON based on recipe object\n                        .content(TestUtil.convertObjectToJsonBytes(recipe))\n                )\n                //confirm HTTP response meta\n                .andExpect(status().isCreated())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                //confirm Location header with new location of object matches the correct URL structure\n                .andExpect(header().string(&quot;Location&quot;, containsString(&quot;http://localhost:8080/recipes/1&quot;)))\n\n                //confirm some recipe data\n                .andExpect(jsonPath(&quot;id&quot;).value(1))\n                .andExpect(jsonPath(&quot;name&quot;).value(&quot;test name&quot;))\n\n                //confirm ingredient data\n                .andExpect(jsonPath(&quot;ingredients&quot;, hasSize(1)))\n                .andExpect(jsonPath(&quot;ingredients[0].name&quot;).value(&quot;spam&quot;))\n                .andExpect(jsonPath(&quot;ingredients[0].amount&quot;).value(&quot;1 can&quot;))\n\n                //confirm step data\n                .andExpect(jsonPath(&quot;steps&quot;, hasSize(1)))\n//                .andExpect(jsonPath(&quot;steps[0]&quot;).isNotEmpty())\n\n                //confirm review data\n                .andExpect(jsonPath(&quot;reviews&quot;, hasSize(1)))\n                .andExpect(jsonPath(&quot;reviews[0].username&quot;).value(&quot;idk&quot;));\n    }\n}\n</code></pre>\n<h1>Stack trace</h1>\n<pre><code>java.lang.IllegalStateException: Unable to create SecurityContext using @org.springframework.security.test.context.support.WithUserDetails(setupBefore=TEST_METHOD, userDetailsServiceBeanName=&quot;customUserDetailsService&quot;, value=&quot;userRecipe&quot;)\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.lambda$createTestSecurityContext$0(WithSecurityContextTestExecutionListener.java:126) ~[spring-security-test-5.7.6.jar:5.7.6]\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.beforeTestMethod(WithSecurityContextTestExecutionListener.java:73) ~[spring-security-test-5.7.6.jar:5.7.6]\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:293) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:163) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:162) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:129) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[na:na]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[na:na]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[na:na]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[na:na]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[na:na]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[na:na]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[na:na]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[na:na]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94) ~[na:na]\n    at com.sun.proxy.$Proxy2.stop(Unknown Source) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100) ~[na:na]\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60) ~[na:na]\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113) ~[na:na]\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65) ~[na:na]\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'customUserDetailsService' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1358) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.findUserDetailsService(WithUserDetailsSecurityContextFactory.java:76) ~[spring-security-test-5.7.6.jar:5.7.6]\n    at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:58) ~[spring-security-test-5.7.6.jar:5.7.6]\n    at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:43) ~[spring-security-test-5.7.6.jar:5.7.6]\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.lambda$createTestSecurityContext$0(WithSecurityContextTestExecutionListener.java:123) ~[spring-security-test-5.7.6.jar:5.7.6]\n    ... 72 common frames omitted\n</code></pre>\n<h1>Other</h1>\n<p>While reading through the <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\" rel=\"nofollow noreferrer\">Spring documentation on testing</a> I did see this note.\n<a href=\"https://i.stack.imgur.com/NmDM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmDM3.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried adding spring-test-4.1.3.RELEASE to my dependencies and that made everything go wrong. It's the only place I've seen that mentioned. I removed it.</p>\n<p>Is there anything else I should have included?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677039860,"post_id":75520056,"comment_id":133256992,"body_markdown":"`Setup IIS with URL Rewrite as a reverse proxy for real world apps` (https://techcommunity.microsoft.com/t5/iis-support-blog/setup-iis-with-url-rewrite-as-a-reverse-proxy-for-real-world/ba-p/846222)","body":"<code>Setup IIS with URL Rewrite as a reverse proxy for real world apps</code> (<a href=\"https://techcommunity.microsoft.com/t5/iis-support-blog/setup-iis-with-url-rewrite-as-a-reverse-proxy-for-real-world/ba-p/846222\" rel=\"nofollow noreferrer\">techcommunity.microsoft.com/t5/iis-support-blog/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":7091575,"reputation":58,"user_id":5426589,"display_name":"Imre T&#246;m&#246;sv&#225;ri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676982132,"creation_date":1676982132,"answer_id":75520470,"question_id":75520056,"body_markdown":"You will need a reverse proxy that listens on your server for all incoming calls to `monsite.com` and based on the path redirects the calls to one of the 2 applications. The most popular ones are Apache and Nginx. Unfortunately I&#39;m not familiar with configuring and managing these on Windows, but you can start from the links below.\r\n\r\nhttps://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-configure-Apache-as-a-reverse-proxy-example\r\n\r\nhttps://learn.microsoft.com/en-us/troubleshoot/developer/webapps/aspnetcore/practice-troubleshoot-linux/2-2-install-nginx-configure-it-reverse-proxy\r\n\r\nA proxy like this enables you to do a lot of things, like SSL termination for the whole domain in a central place. It is worth getting to know a bit about them.\r\n","title":"domain name and spring boot application deployment","body":"<p>You will need a reverse proxy that listens on your server for all incoming calls to <code>monsite.com</code> and based on the path redirects the calls to one of the 2 applications. The most popular ones are Apache and Nginx. Unfortunately I'm not familiar with configuring and managing these on Windows, but you can start from the links below.</p>\n<p><a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-configure-Apache-as-a-reverse-proxy-example\" rel=\"nofollow noreferrer\">https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-configure-Apache-as-a-reverse-proxy-example</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/troubleshoot/developer/webapps/aspnetcore/practice-troubleshoot-linux/2-2-install-nginx-configure-it-reverse-proxy\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/troubleshoot/developer/webapps/aspnetcore/practice-troubleshoot-linux/2-2-install-nginx-configure-it-reverse-proxy</a></p>\n<p>A proxy like this enables you to do a lot of things, like SSL termination for the whole domain in a central place. It is worth getting to know a bit about them.</p>\n"}],"owner":{"account_id":27841028,"reputation":1,"user_id":21257513,"display_name":"zahra abdillahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677008740,"creation_date":1676979803,"question_id":75520056,"body_markdown":"I have developed an application that has two parts:\r\n\r\n    applicant -&gt; localhost:8081/applicant-api\r\n     approver -&gt; localhost:8082/approver-api\r\n\r\nand then I deployed it on a windows server which has a public address. now I can access my platform on the web.\r\n\r\n    applicant -&gt; 197.241.211.36:8081/applicant-api\r\n     approver -&gt; 197.241.211.36:8082/approver-api\r\n\r\nand then I asked my provider to give me a domain name so I can connect like this.\r\n\r\n    applicant -&gt; monsite.com:8081/applicant-api\r\n     approver -&gt; monsite.com:8082/approver-api\r\n\r\nso I didn&#39;t want that, I only wanted to type in the domain name like this.\r\n\r\n\r\nPlease help me as I have to do this. I will not be able to ask my visitors to enter even with port 8081.\r\n\r\n\r\nN.B. for deployment on windows I make two separate jar to launch my application.","title":"domain name and spring boot application deployment","body":"<p>I have developed an application that has two parts:</p>\n<pre><code>applicant -&gt; localhost:8081/applicant-api\n approver -&gt; localhost:8082/approver-api\n</code></pre>\n<p>and then I deployed it on a windows server which has a public address. now I can access my platform on the web.</p>\n<pre><code>applicant -&gt; 197.241.211.36:8081/applicant-api\n approver -&gt; 197.241.211.36:8082/approver-api\n</code></pre>\n<p>and then I asked my provider to give me a domain name so I can connect like this.</p>\n<pre><code>applicant -&gt; monsite.com:8081/applicant-api\n approver -&gt; monsite.com:8082/approver-api\n</code></pre>\n<p>so I didn't want that, I only wanted to type in the domain name like this.</p>\n<p>Please help me as I have to do this. I will not be able to ask my visitors to enter even with port 8081.</p>\n<p>N.B. for deployment on windows I make two separate jar to launch my application.</p>\n"},{"tags":["java","docker","selenium-webdriver"],"owner":{"account_id":27843543,"reputation":11,"user_id":21259551,"display_name":"venkatraghavandhl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677008470,"creation_date":1676996832,"question_id":75523238,"body_markdown":"I want to take full page screenshot including the date and time at the bottom and with the URL. I&#39;m using robot class method (createScreenCapture) by taking the screen size as rectangle object and sending it into the createScreenCapture as below:\r\n````\r\npublic static void fullScreenshot(){\r\n        Robot robot;\r\n        byte[] bytes;\r\n        try{\r\n             robot=new Robot();\r\n            Rectangle rect =new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n            BufferedImage screenshot=robot.createScreenCapture(rect);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ImageIO.write(screenshot, &quot;png&quot;, baos);\r\n            bytes = baos.toByteArray();\r\n            String name=&quot;Test2031&quot;;\r\n            CMTestUtil.updateLog(name);\r\n            scenario.attach(bytes,&quot;image/png&quot;,name);\r\n        }catch (Exception e){\r\n            System.out.println(&quot;FullScreen shot not taken&quot;);\r\n        }\r\n    }\r\n````\r\nAbove code works perfectly fine for me on local and it takes full page screenshot with the URL and Date and time in the bottom. But on executing the same on docker container using git lab it throws error as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNot sure why it is causing the problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IuYqq.png","title":"Getting Java.lang.Unsatisfiedlink error on docker machine if the robot class code gets executed for taking full page screenshot","body":"<p>I want to take full page screenshot including the date and time at the bottom and with the URL. I'm using robot class method (createScreenCapture) by taking the screen size as rectangle object and sending it into the createScreenCapture as below:</p>\n<pre><code>public static void fullScreenshot(){\n        Robot robot;\n        byte[] bytes;\n        try{\n             robot=new Robot();\n            Rectangle rect =new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n            BufferedImage screenshot=robot.createScreenCapture(rect);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ImageIO.write(screenshot, &quot;png&quot;, baos);\n            bytes = baos.toByteArray();\n            String name=&quot;Test2031&quot;;\n            CMTestUtil.updateLog(name);\n            scenario.attach(bytes,&quot;image/png&quot;,name);\n        }catch (Exception e){\n            System.out.println(&quot;FullScreen shot not taken&quot;);\n        }\n    }\n</code></pre>\n<p>Above code works perfectly fine for me on local and it takes full page screenshot with the URL and Date and time in the bottom. But on executing the same on docker container using git lab it throws error as below:</p>\n<p><a href=\"https://i.stack.imgur.com/IuYqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IuYqq.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure why it is causing the problem.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676976023,"post_id":75519276,"comment_id":133240953,"body_markdown":"How did you try to do option 1? As you didn&#39;t clarify that.","body":"How did you try to do option 1? As you didn&#39;t clarify that."},{"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"score":0,"creation_date":1676977713,"post_id":75519276,"comment_id":133241445,"body_markdown":"I used the property `spring.jpa.properties.hibernate.timezone.default_storage` using the different storage options. I have updated my question with this info as well.","body":"I used the property <code>spring.jpa.properties.hibernate.timezone.default_storage</code> using the different storage options. I have updated my question with this info as well."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1676978419,"post_id":75519276,"comment_id":133241634,"body_markdown":"`hibernate.timezone.default_storage` should have no effect on any of this, since `Instant`s don&#39;t have time zones. Only `OffsetDateTime`s and `ZonedDateTime`s are affected by that setting.","body":"<code>hibernate.timezone.default_storage</code> should have no effect on any of this, since <code>Instant</code>s don&#39;t have time zones. Only <code>OffsetDateTime</code>s and <code>ZonedDateTime</code>s are affected by that setting."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676982617,"post_id":75519276,"comment_id":133242962,"body_markdown":"Can you share the entity model and schema, JVM and Hibernate configuration, as well as the timezone you configured on PostgreSQL?","body":"Can you share the entity model and schema, JVM and Hibernate configuration, as well as the timezone you configured on PostgreSQL?"}],"answers":[{"comments":[{"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"score":1,"creation_date":1676978784,"post_id":75519746,"comment_id":133241750,"body_markdown":"I have added the property to the application.properties files as `spring.jpa.properties.hibernate.type.preferred_instant_jdbc_type=TIMESTAMP` and it works perfectly. Thank you!","body":"I have added the property to the application.properties files as <code>spring.jpa.properties.hibernate.type.preferred_instant_jdbc_&zwnj;&#8203;type=TIMESTAMP</code> and it works perfectly. Thank you!"},{"owner":{"account_id":392479,"reputation":1926,"user_id":753769,"accept_rate":94,"display_name":"kyiu"},"score":1,"creation_date":1690459895,"post_id":75519746,"comment_id":135358666,"body_markdown":"Weirdly enough, I was facing the same troubles in my project at work but that didn&#39;t work for me. I ended up setting  the `hibernate.timezone.default_storage` property to `NORMALIZE` as described in Hibernate 6 migration guide:  https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html#ddl-timezones\n\nAnyway, this post pointed me in the right direction, thanks!","body":"Weirdly enough, I was facing the same troubles in my project at work but that didn&#39;t work for me. I ended up setting  the <code>hibernate.timezone.default_storage</code> property to <code>NORMALIZE</code> as described in Hibernate 6 migration guide:  <a href=\"https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html#ddl-timezones\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.2/migration-guide/&hellip;</a>  Anyway, this post pointed me in the right direction, thanks!"}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676978246,"creation_date":1676978246,"answer_id":75519746,"question_id":75519276,"body_markdown":"By default, Hibernate 6 maps `Instant` to the SQL type code `SqlTypes.TIMESTAMP_UTC`. This type code (by default) maps to `InstantAsTimestampWithTimeZoneJdbcType` or `InstantAsTimestampJdbcType` depending on the capabilities of the `Dialect`&#39;s `TimeZoneSupport`. Both of these `JdbcType`s will convert the `Instant` to a timestamp expressed in UTC before sending it to the database.\r\n\r\nIf you set `hibernate.type.preferred_instant_jdbc_type=TIMESTAMP`, then this should force Hibernate to use `TimestampJdbcType`, which will _not_ normalize to UTC, and will simply convert the `Instant` to a local timestamp and send that to the database.\r\n\r\nCan you try that, and let me know if that has the effect you&#39;re looking for?\r\n\r\n\r\n**PS** Note that using `@JdbcTypeCode(TIMESTAMP)` or `@JdbcType(TimestampJdbcType.class)` should have the same effect as the configuration property.","title":"Spring Boot 3 + Hibernate 6 migration: Timezone mapping issues","body":"<p>By default, Hibernate 6 maps <code>Instant</code> to the SQL type code <code>SqlTypes.TIMESTAMP_UTC</code>. This type code (by default) maps to <code>InstantAsTimestampWithTimeZoneJdbcType</code> or <code>InstantAsTimestampJdbcType</code> depending on the capabilities of the <code>Dialect</code>'s <code>TimeZoneSupport</code>. Both of these <code>JdbcType</code>s will convert the <code>Instant</code> to a timestamp expressed in UTC before sending it to the database.</p>\n<p>If you set <code>hibernate.type.preferred_instant_jdbc_type=TIMESTAMP</code>, then this should force Hibernate to use <code>TimestampJdbcType</code>, which will <em>not</em> normalize to UTC, and will simply convert the <code>Instant</code> to a local timestamp and send that to the database.</p>\n<p>Can you try that, and let me know if that has the effect you're looking for?</p>\n<p><strong>PS</strong> Note that using <code>@JdbcTypeCode(TIMESTAMP)</code> or <code>@JdbcType(TimestampJdbcType.class)</code> should have the same effect as the configuration property.</p>\n"}],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75519746,"answer_count":1,"score":2,"last_activity_date":1677007438,"creation_date":1676975879,"question_id":75519276,"body_markdown":"I&#39;m in the process of upgrading a Spring Boot 2 + Hibernate 5 application to Spring Boot 3 and Hibernate 6. While updating I noticed that Hibernate 6 handles the conversion between java Instant fields to a table column without timezone information differently than Hibernate 5 does. \r\n\r\nIn Hibernate 6, when persisting an object with an instance field having value `2023-02-20T04:08:00Z`, the value is mapped to `2023-02-20T05:08:00Z` upon retrieval. As explained [here](https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/) this might be related to the new way of mapping Instant and Duration fields.\r\n\r\nI managed to fix this by adding `@JdbcType(InstantAsTimestampJdbcType.class)` to every `Instant` field in every `@Entity` class in the application. However, I would rather have a single, centralized configuration for this matter instead of adding annotations to each Instant field in the application. I have tried several approaches:\r\n\r\nOption 1: Adding the property `hibernate.timezone.default_storage` and tried out all the storage type options ([source](https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/#5_different_TimezoneStorageTypes)):\r\n\r\n```\r\nspring.jpa.properties.hibernate.timezone.default_storage=NORMALIZE_UTC\r\n```\r\n\r\nOption 2: Declaring a HibernatePropertiesCustomizer bean:\r\n\r\n```java\r\n    @Bean\r\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizerPG() {\r\n\r\n        return hibernateProperties -&gt; {\r\n            hibernateProperties.put(EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\r\n                    (TypeContributorList) () -&gt; List.of(\r\n                            (TypeContributions typeContributions, ServiceRegistry serviceRegistry) -&gt;\r\n                                    typeContributions.contributeJdbcType(InstantAsTimestampJdbcType.INSTANCE)));\r\n        };\r\n    } \r\n```\r\n\r\nOption 3: Creating a `HibernatePropertiesCustomizer`:\r\n\r\n```java\r\n@Configuration\r\npublic class HibernateTypeContributorConfiguration implements HibernatePropertiesCustomizer {\r\n\r\n    @Override\r\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n        hibernateProperties.put(\r\n                EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\r\n                (TypeContributorList) () -&gt; List.of((jdbcType, serviceRegistry) -&gt; jdbcType.contributeJdbcType(InstantAsTimestampJdbcType.INSTANCE))\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately none of the approaches have worked so far. Would anyone know how a `InstantAsTimestampJdbcType` can be registered? Or is there a better way to fix this?\r\n\r\n\r\n*Note that modifying the table columns to add timezone information is not an option.*","title":"Spring Boot 3 + Hibernate 6 migration: Timezone mapping issues","body":"<p>I'm in the process of upgrading a Spring Boot 2 + Hibernate 5 application to Spring Boot 3 and Hibernate 6. While updating I noticed that Hibernate 6 handles the conversion between java Instant fields to a table column without timezone information differently than Hibernate 5 does.</p>\n<p>In Hibernate 6, when persisting an object with an instance field having value <code>2023-02-20T04:08:00Z</code>, the value is mapped to <code>2023-02-20T05:08:00Z</code> upon retrieval. As explained <a href=\"https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/\" rel=\"nofollow noreferrer\">here</a> this might be related to the new way of mapping Instant and Duration fields.</p>\n<p>I managed to fix this by adding <code>@JdbcType(InstantAsTimestampJdbcType.class)</code> to every <code>Instant</code> field in every <code>@Entity</code> class in the application. However, I would rather have a single, centralized configuration for this matter instead of adding annotations to each Instant field in the application. I have tried several approaches:</p>\n<p>Option 1: Adding the property <code>hibernate.timezone.default_storage</code> and tried out all the storage type options (<a href=\"https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/#5_different_TimezoneStorageTypes\" rel=\"nofollow noreferrer\">source</a>):</p>\n<pre><code>spring.jpa.properties.hibernate.timezone.default_storage=NORMALIZE_UTC\n</code></pre>\n<p>Option 2: Declaring a HibernatePropertiesCustomizer bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizerPG() {\n\n        return hibernateProperties -&gt; {\n            hibernateProperties.put(EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\n                    (TypeContributorList) () -&gt; List.of(\n                            (TypeContributions typeContributions, ServiceRegistry serviceRegistry) -&gt;\n                                    typeContributions.contributeJdbcType(InstantAsTimestampJdbcType.INSTANCE)));\n        };\n    } \n</code></pre>\n<p>Option 3: Creating a <code>HibernatePropertiesCustomizer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class HibernateTypeContributorConfiguration implements HibernatePropertiesCustomizer {\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        hibernateProperties.put(\n                EntityManagerFactoryBuilderImpl.TYPE_CONTRIBUTORS,\n                (TypeContributorList) () -&gt; List.of((jdbcType, serviceRegistry) -&gt; jdbcType.contributeJdbcType(InstantAsTimestampJdbcType.INSTANCE))\n        );\n    }\n}\n</code></pre>\n<p>Unfortunately none of the approaches have worked so far. Would anyone know how a <code>InstantAsTimestampJdbcType</code> can be registered? Or is there a better way to fix this?</p>\n<p><em>Note that modifying the table columns to add timezone information is not an option.</em></p>\n"},{"tags":["java","jvm","jvm-hotspot","adoptopenjdk"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1677018085,"post_id":75524995,"comment_id":133253873,"body_markdown":"It&#39;s not clear what you mean by &quot;two JVM implementations&quot;. Can you post links to the &quot;first&quot; and to the &quot;second&quot; one?","body":"It&#39;s not clear what you mean by &quot;two JVM implementations&quot;. Can you post links to the &quot;first&quot; and to the &quot;second&quot; one?"},{"owner":{"account_id":16722186,"reputation":111,"user_id":12086785,"display_name":"Robbe"},"score":0,"creation_date":1677019604,"post_id":75524995,"comment_id":133254173,"body_markdown":"Will edit them in later; can&#39;t right now - StackOverflow is refusing.\nOne would be in here: https://github.com/openjdk/jdk19/blob/master/src/java.base/share/native/libjli/java.c (when it reaches CreateExecutionEnvironment especially, that is pretty much the same implementation as the other one),\nThe other would &quot;be&quot; here as a starting point: https://github.com/openjdk/jdk19/tree/master/src/hotspot (Haven&#39;t quite figured out what the entry point might be yet. Still working on that one :( ).","body":"Will edit them in later; can&#39;t right now - StackOverflow is refusing. One would be in here: <a href=\"https://github.com/openjdk/jdk19/blob/master/src/java.base/share/native/libjli/java.c\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk19/blob/master/src/java.base/share/nat&zwnj;&#8203;ive/&hellip;</a> (when it reaches CreateExecutionEnvironment especially, that is pretty much the same implementation as the other one), The other would &quot;be&quot; here as a starting point: <a href=\"https://github.com/openjdk/jdk19/tree/master/src/hotspot\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk19/tree/master/src/hotspot</a> (Haven&#39;t quite figured out what the entry point might be yet. Still working on that one :( )."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1677022024,"post_id":75524995,"comment_id":133254590,"body_markdown":"I don&#39;t see what similarity you find between those two. These are different things: the first one (`java.c`) is the [launcher](https://stackoverflow.com/questions/26020872/totally-confused-with-java-exe/26025656#26025656). The launcher is not the JVM implementation. The second link points to the root directory of the HotSpot JVM source code.","body":"I don&#39;t see what similarity you find between those two. These are different things: the first one (<code>java.c</code>) is the <a href=\"https://stackoverflow.com/questions/26020872/totally-confused-with-java-exe/26025656#26025656\">launcher</a>. The launcher is not the JVM implementation. The second link points to the root directory of the HotSpot JVM source code."},{"owner":{"account_id":16722186,"reputation":111,"user_id":12086785,"display_name":"Robbe"},"score":0,"creation_date":1677022217,"post_id":75524995,"comment_id":133254634,"body_markdown":"yep ... bad second choice on my part. It&#39;s much easier to see in the old version; this might be more explanative:\n\nHotspot Launcher: https://github.com/openjdk/jdk6/blob/master/hotspot/src/share/tools/launcher/java.c\n\nJDK VM Lancher: https://github.com/openjdk/jdk6/blob/master/jdk/src/share/bin/java.c","body":"yep ... bad second choice on my part. It&#39;s much easier to see in the old version; this might be more explanative:  Hotspot Launcher: <a href=\"https://github.com/openjdk/jdk6/blob/master/hotspot/src/share/tools/launcher/java.c\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk6/blob/master/hotspot/src/share/tools/&zwnj;&#8203;&hellip;</a>  JDK VM Lancher: <a href=\"https://github.com/openjdk/jdk6/blob/master/jdk/src/share/bin/java.c\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk6/blob/master/jdk/src/share/bin/java.c</a>"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1677023039,"post_id":75524995,"comment_id":133254762,"body_markdown":"Again: `java.c` is not a JVM implementation, it is just a launcher, i.e. a small CLI utility to load and run the JVM. Historically, in the times of JDK 6, JDK class library and HotSpot JVM were in different repositories developed by different teams. To ease the development and testing of the JVM, HotSpot source base had its own version of the launcher. The [comment](https://github.com/openjdk/jdk6/blob/master/hotspot/src/share/tools/launcher/java.c#L25-L36) in the source code explains the aim of this separate launcher pretty well.","body":"Again: <code>java.c</code> is not a JVM implementation, it is just a launcher, i.e. a small CLI utility to load and run the JVM. Historically, in the times of JDK 6, JDK class library and HotSpot JVM were in different repositories developed by different teams. To ease the development and testing of the JVM, HotSpot source base had its own version of the launcher. The <a href=\"https://github.com/openjdk/jdk6/blob/master/hotspot/src/share/tools/launcher/java.c#L25-L36\" rel=\"nofollow noreferrer\">comment</a> in the source code explains the aim of this separate launcher pretty well."},{"owner":{"account_id":16722186,"reputation":111,"user_id":12086785,"display_name":"Robbe"},"score":0,"creation_date":1677023599,"post_id":75524995,"comment_id":133254868,"body_markdown":"Oh ... that&#39;s what it was about.\nWeird launcher stuff ... I had a suspicion but hadn&#39;t quite recognised it yet! Thank you very much.","body":"Oh ... that&#39;s what it was about. Weird launcher stuff ... I had a suspicion but hadn&#39;t quite recognised it yet! Thank you very much."}],"owner":{"account_id":16722186,"reputation":111,"user_id":12086785,"display_name":"Robbe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677007291,"creation_date":1677007291,"question_id":75524995,"body_markdown":"When looking through the OpenJDK repositories and trying to build them, I discovered that they contain two very similar implementations of the Hotspot JVM. (Mostly was looking through JDK6 because it has a significantly simpler structure ... but have found the same in the modern releases).\r\n\r\nObviously, the code group &quot;hotspot&quot; will contain an implementation (although that seems to completely be missing an entry-point, but that&#39;s not really important here).\r\nBut &quot;java.base&quot; has many of the same classes with very similar implementations; also referencing itself as being the &quot;Java VM&quot;. \r\n\r\nWhy is this? Is there any specific reason there are two implementations provided - or, more likely, what am I misunderstanding about the JDK?","title":"Why does OpenJDK provide two JVM implementations","body":"<p>When looking through the OpenJDK repositories and trying to build them, I discovered that they contain two very similar implementations of the Hotspot JVM. (Mostly was looking through JDK6 because it has a significantly simpler structure ... but have found the same in the modern releases).</p>\n<p>Obviously, the code group &quot;hotspot&quot; will contain an implementation (although that seems to completely be missing an entry-point, but that's not really important here).\nBut &quot;java.base&quot; has many of the same classes with very similar implementations; also referencing itself as being the &quot;Java VM&quot;.</p>\n<p>Why is this? Is there any specific reason there are two implementations provided - or, more likely, what am I misunderstanding about the JDK?</p>\n"},{"tags":["java","multithreading","treemap"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676999640,"post_id":75523761,"comment_id":133248778,"body_markdown":"Are you accessing the `TreeMap` from multiple threads? Thread-safety only concerns accessing the same object/state from multiple threads.","body":"Are you accessing the <code>TreeMap</code> from multiple threads? Thread-safety only concerns accessing the same object/state from multiple threads."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676999763,"post_id":75523761,"comment_id":133248816,"body_markdown":"Also, how many elements are in the `TreeMap`? How long does a single `TreeMap#put` call take? How often do you call `put()`?","body":"Also, how many elements are in the <code>TreeMap</code>? How long does a single <code>TreeMap#put</code> call take? How often do you call <code>put()</code>?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":6,"creation_date":1676999869,"post_id":75523761,"comment_id":133248838,"body_markdown":"Unsynchronized multithreaded writes can corrupt a TreeMap to the point of forming infinite loops. [External explanation.](https://ivoanjo.me/blog/2018/07/21/writing-to-a-java-treemap-concurrently-can-lead-to-an-infinite-loop-during-reads/)","body":"Unsynchronized multithreaded writes can corrupt a TreeMap to the point of forming infinite loops. <a href=\"https://ivoanjo.me/blog/2018/07/21/writing-to-a-java-treemap-concurrently-can-lead-to-an-infinite-loop-during-reads/\" rel=\"nofollow noreferrer\">External explanation.</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1677000178,"post_id":75523761,"comment_id":133248927,"body_markdown":"Just as an fyi: `HashMap` or `LinkedList` may also form infinite loops, e.g. when 2 threads change the `next` or `prev` references to form a cycle. And there are probably a couple of other collections or maps that suffer from the same. General rule of thumb: don&#39;t do unsynchronized parallel access to non-thread-safe data structures.","body":"Just as an fyi: <code>HashMap</code> or <code>LinkedList</code> may also form infinite loops, e.g. when 2 threads change the <code>next</code> or <code>prev</code> references to form a cycle. And there are probably a couple of other collections or maps that suffer from the same. General rule of thumb: don&#39;t do unsynchronized parallel access to non-thread-safe data structures."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677007265,"creation_date":1677007265,"answer_id":75524991,"question_id":75523761,"body_markdown":"Multithreaded access to an unsynchronized `TreeMap` can not only cause inconsistent data to be seen, but can actively lead to [infinite loops][1].\r\n\r\nInfinite loops can, of course, take infinite amounts of time.  So really, really don&#39;t have multithreaded access to a `TreeMap`.  Use a concurrent implementation like `ConcurrentSkipListMap`, or synchronize properly.\r\n\r\n  [1]: https://ivoanjo.me/blog/2018/07/21/writing-to-a-java-treemap-concurrently-can-lead-to-an-infinite-loop-during-reads/","title":"Program got stuck at TreeMap.put","body":"<p>Multithreaded access to an unsynchronized <code>TreeMap</code> can not only cause inconsistent data to be seen, but can actively lead to <a href=\"https://ivoanjo.me/blog/2018/07/21/writing-to-a-java-treemap-concurrently-can-lead-to-an-infinite-loop-during-reads/\" rel=\"nofollow noreferrer\">infinite loops</a>.</p>\n<p>Infinite loops can, of course, take infinite amounts of time.  So really, really don't have multithreaded access to a <code>TreeMap</code>.  Use a concurrent implementation like <code>ConcurrentSkipListMap</code>, or synchronize properly.</p>\n"}],"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75524991,"answer_count":1,"score":0,"last_activity_date":1677007265,"creation_date":1676999506,"question_id":75523761,"body_markdown":"I have an enterprise application which was eating so much of CPU. As dug further into thread dump, I see the threads that are eating so much CPU is stuck at `TreeMap.put`. I see a similar question [here][1] due to the same problem.\r\n\r\nI understand people mentioned there that TreeMap is not thread safe. But what I don&#39;t understand is, not having ThreadSafe might cause inconsistent results. But why it holds the CPU?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40739313/java-program-got-stucked-in-treeset-add","title":"Program got stuck at TreeMap.put","body":"<p>I have an enterprise application which was eating so much of CPU. As dug further into thread dump, I see the threads that are eating so much CPU is stuck at <code>TreeMap.put</code>. I see a similar question <a href=\"https://stackoverflow.com/questions/40739313/java-program-got-stucked-in-treeset-add\">here</a> due to the same problem.</p>\n<p>I understand people mentioned there that TreeMap is not thread safe. But what I don't understand is, not having ThreadSafe might cause inconsistent results. But why it holds the CPU?</p>\n"},{"tags":["java","api","android-studio","retrofit","retrofit2"],"owner":{"account_id":18567761,"reputation":1,"user_id":13530256,"display_name":"Ram Meena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677007260,"creation_date":1677007260,"question_id":75524990,"body_markdown":"I am working on developing an android application where I need to define a API controller / APICLient \r\nfor NetworkInterface but I am getting error and don&#39;t know how to do it. \r\n\r\nNetworkInterface.java file contains all the PHP files that are defined to access the DATA of the database for the application. \r\n\r\nBelow is the `NetworkIterface.java` file. it is an Interface file\r\n\r\n```\r\npublic interface NetworkInterface {\r\n    @GET(&quot;home_result.php&quot;)\r\n    Call&lt;Home_result_res&gt; Home_result();\r\n\r\n    @GET(&quot;qr_code.php&quot;)\r\n    Call&lt;QrModule&gt; Qr_image();\r\n\r\n    @GET(&quot;video.php&quot;)\r\n    Call&lt;Video_res&gt; Video();\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;add_money.php&quot;)\r\n    Call&lt;Add_wallet_Amount&gt; add_Wallet(@Field(&quot;date&quot;) String str, @Field(&quot;p_id&quot;) String str2, @Field(&quot;name&quot;) String str3, @Field(&quot;mobile&quot;) String str4, @Field(&quot;amount&quot;) String str5, @Field(&quot;time&quot;) String str6, @Field(&quot;transaction_id&quot;) String str7);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;add_withdrawal_history.php&quot;)\r\n    Call&lt;Wallet_History&gt; add_withdrawal_history(@Field(&quot;user_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;change_pwd.php&quot;)\r\n    Call&lt;ChangePasswordModule&gt; change_password(@Field(&quot;user_id&quot;) String str, @Field(&quot;pwd&quot;) String str2);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;setting.php&quot;)\r\n    Call&lt;Check_Setting_Module&gt; check_game(@Field(&quot;game_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;register.php&quot;)\r\n    Call&lt;Reffer_model&gt; check_refferid(@Field(&quot;ref_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;wallet_check_withdrawal.php&quot;)\r\n    Call&lt;CheckWinWalletModule&gt; check_win_wallet(@Field(&quot;p_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;commssion.php&quot;)\r\n    Call&lt;Commission_data&gt; commssion(@Field(&quot;user_id&quot;) String str);\r\n\r\n    @GET(&quot;current_time.php&quot;)\r\n    Call&lt;Current_Date_Time&gt; current_date_time();\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;game.php&quot;)\r\n    Call&lt;Play_game_result&gt; game(@Field(&quot;game&quot;) String str);\r\n\r\n    @GET(&quot;latest_result.php&quot;)\r\n    Call&lt;Latest_result&gt; latest_result();\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;login.php&quot;)\r\n    Call&lt;Register_Result&gt; login(@Field(&quot;mobile&quot;) String str, @Field(&quot;password&quot;) String str2);\r\n\r\n    @GET(&quot;message.php&quot;)\r\n    Call&lt;Message_data&gt; message();\r\n\r\n    @GET(&quot;apk_version.php&quot;)\r\n    Call&lt;NewVersion&gt; new_version();\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;play_game_history.php&quot;)\r\n    Call&lt;My_play_game_res&gt; play_game_history(@Field(&quot;user_id&quot;) String str, @Field(&quot;datee&quot;) String str2, @Field(&quot;g_id&quot;) String str3);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;play_game.php&quot;)\r\n    Call&lt;Add_wallet_Amount&gt; playgame(@Field(&quot;data&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;profile_edit.php&quot;)\r\n    Call&lt;Add_wallet_Amount&gt; profile_edit(@Field(&quot;user_id&quot;) String str, @Field(&quot;fname&quot;) String str2, @Field(&quot;lname&quot;) String str3);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;profile_view.php&quot;)\r\n    Call&lt;Profile_data&gt; profile_view(@Field(&quot;user_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;r_history.php&quot;)\r\n    Call&lt;game_history_res&gt; r_history(@Field(&quot;year&quot;) String str, @Field(&quot;month&quot;) String str2);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;register.php&quot;)\r\n    Call&lt;Register_Result&gt; register(@Field(&quot;ref_idi&quot;) String str, @Field(&quot;f_name&quot;) String str2, @Field(&quot;l_name&quot;) String str3, @Field(&quot;mobile&quot;) String str4, @Field(&quot;pass&quot;) String str5, @Field(&quot;wallet&quot;) String str6, @Field(&quot;token&quot;) String str7, @Field(&quot;winwallet&quot;) String str8);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;upi.php&quot;)\r\n    Call&lt;Upi_data&gt; upi(@Field(&quot;upi&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;wallet_check.php&quot;)\r\n    Call&lt;Wallet_balance&gt; wallet_check(@Field(&quot;p_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;wallet_history.php&quot;)\r\n    Call&lt;Wallet_History&gt; wallet_history(@Field(&quot;user_id&quot;) String str);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;withdrawal.php&quot;)\r\n    Call&lt;Add_wallet_Amount&gt; withdrawal(@Field(&quot;date&quot;) String str, @Field(&quot;p_id&quot;) String str2, @Field(&quot;name&quot;) String str3, @Field(&quot;bank&quot;) String str4, @Field(&quot;mobile&quot;) String str5, @Field(&quot;amount&quot;) String str6);\r\n```\r\n\r\nBelow is the `APIClient.java` file\r\n\r\n```\r\npackage com.ramresh.app.rajsatka.network;\r\n\r\nimport android.content.Context;\r\nimport com.google.gson.GsonBuilder;\r\nimport java.util.concurrent.TimeUnit;\r\nimport okhttp3.OkHttpClient.Builder;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class APIClient {\r\n    private static final String BASE_URL = &quot;https://playvipmember.in/api/&quot;;\r\n\r\n    public static Retrofit getClient(Context context, String tag) {\r\n        Builder builder = new Builder();\r\n        try {\r\n            builder.connectTimeout(60, TimeUnit.SECONDS)\r\n                    .readTimeout(0, TimeUnit.NANOSECONDS)\r\n                    .writeTimeout(35, TimeUnit.SECONDS)\r\n                    .addInterceptor(______.INSTANCE).build();\r\n            \r\n            return new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(builder.build())\r\n                    .build();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static Retrofit getClientHeader(Context context, String tag) {\r\n        Builder builder = new Builder();\r\n        try {\r\n            builder.connectTimeout(60, TimeUnit.SECONDS)\r\n                    .readTimeout(0, TimeUnit.NANOSECONDS)\r\n                    .writeTimeout(35, TimeUnit.SECONDS)\r\n                    .addInterceptor(______.INSTANCE).build();\r\n            \r\n            return new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(new GsonBuilder().setLenient().create()))\r\n                    .client(builder.build()).build();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nin both the methods `getClient()`  and `getClientHeader(), ` I am getting error at  \r\n\r\n`.addInterceptor(______.INSTANCE).build();`\r\n\r\nthere should be something in place of `dashed lines` that can remove this error.","title":"Error in Calling API Controller/APIClient using Retrofit in java in android Studio","body":"<p>I am working on developing an android application where I need to define a API controller / APICLient\nfor NetworkInterface but I am getting error and don't know how to do it.</p>\n<p>NetworkInterface.java file contains all the PHP files that are defined to access the DATA of the database for the application.</p>\n<p>Below is the <code>NetworkIterface.java</code> file. it is an Interface file</p>\n<pre><code>public interface NetworkInterface {\n    @GET(&quot;home_result.php&quot;)\n    Call&lt;Home_result_res&gt; Home_result();\n\n    @GET(&quot;qr_code.php&quot;)\n    Call&lt;QrModule&gt; Qr_image();\n\n    @GET(&quot;video.php&quot;)\n    Call&lt;Video_res&gt; Video();\n\n    @FormUrlEncoded\n    @POST(&quot;add_money.php&quot;)\n    Call&lt;Add_wallet_Amount&gt; add_Wallet(@Field(&quot;date&quot;) String str, @Field(&quot;p_id&quot;) String str2, @Field(&quot;name&quot;) String str3, @Field(&quot;mobile&quot;) String str4, @Field(&quot;amount&quot;) String str5, @Field(&quot;time&quot;) String str6, @Field(&quot;transaction_id&quot;) String str7);\n\n    @FormUrlEncoded\n    @POST(&quot;add_withdrawal_history.php&quot;)\n    Call&lt;Wallet_History&gt; add_withdrawal_history(@Field(&quot;user_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;change_pwd.php&quot;)\n    Call&lt;ChangePasswordModule&gt; change_password(@Field(&quot;user_id&quot;) String str, @Field(&quot;pwd&quot;) String str2);\n\n    @FormUrlEncoded\n    @POST(&quot;setting.php&quot;)\n    Call&lt;Check_Setting_Module&gt; check_game(@Field(&quot;game_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;register.php&quot;)\n    Call&lt;Reffer_model&gt; check_refferid(@Field(&quot;ref_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;wallet_check_withdrawal.php&quot;)\n    Call&lt;CheckWinWalletModule&gt; check_win_wallet(@Field(&quot;p_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;commssion.php&quot;)\n    Call&lt;Commission_data&gt; commssion(@Field(&quot;user_id&quot;) String str);\n\n    @GET(&quot;current_time.php&quot;)\n    Call&lt;Current_Date_Time&gt; current_date_time();\n\n    @FormUrlEncoded\n    @POST(&quot;game.php&quot;)\n    Call&lt;Play_game_result&gt; game(@Field(&quot;game&quot;) String str);\n\n    @GET(&quot;latest_result.php&quot;)\n    Call&lt;Latest_result&gt; latest_result();\n\n    @FormUrlEncoded\n    @POST(&quot;login.php&quot;)\n    Call&lt;Register_Result&gt; login(@Field(&quot;mobile&quot;) String str, @Field(&quot;password&quot;) String str2);\n\n    @GET(&quot;message.php&quot;)\n    Call&lt;Message_data&gt; message();\n\n    @GET(&quot;apk_version.php&quot;)\n    Call&lt;NewVersion&gt; new_version();\n\n    @FormUrlEncoded\n    @POST(&quot;play_game_history.php&quot;)\n    Call&lt;My_play_game_res&gt; play_game_history(@Field(&quot;user_id&quot;) String str, @Field(&quot;datee&quot;) String str2, @Field(&quot;g_id&quot;) String str3);\n\n    @FormUrlEncoded\n    @POST(&quot;play_game.php&quot;)\n    Call&lt;Add_wallet_Amount&gt; playgame(@Field(&quot;data&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;profile_edit.php&quot;)\n    Call&lt;Add_wallet_Amount&gt; profile_edit(@Field(&quot;user_id&quot;) String str, @Field(&quot;fname&quot;) String str2, @Field(&quot;lname&quot;) String str3);\n\n    @FormUrlEncoded\n    @POST(&quot;profile_view.php&quot;)\n    Call&lt;Profile_data&gt; profile_view(@Field(&quot;user_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;r_history.php&quot;)\n    Call&lt;game_history_res&gt; r_history(@Field(&quot;year&quot;) String str, @Field(&quot;month&quot;) String str2);\n\n    @FormUrlEncoded\n    @POST(&quot;register.php&quot;)\n    Call&lt;Register_Result&gt; register(@Field(&quot;ref_idi&quot;) String str, @Field(&quot;f_name&quot;) String str2, @Field(&quot;l_name&quot;) String str3, @Field(&quot;mobile&quot;) String str4, @Field(&quot;pass&quot;) String str5, @Field(&quot;wallet&quot;) String str6, @Field(&quot;token&quot;) String str7, @Field(&quot;winwallet&quot;) String str8);\n\n    @FormUrlEncoded\n    @POST(&quot;upi.php&quot;)\n    Call&lt;Upi_data&gt; upi(@Field(&quot;upi&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;wallet_check.php&quot;)\n    Call&lt;Wallet_balance&gt; wallet_check(@Field(&quot;p_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;wallet_history.php&quot;)\n    Call&lt;Wallet_History&gt; wallet_history(@Field(&quot;user_id&quot;) String str);\n\n    @FormUrlEncoded\n    @POST(&quot;withdrawal.php&quot;)\n    Call&lt;Add_wallet_Amount&gt; withdrawal(@Field(&quot;date&quot;) String str, @Field(&quot;p_id&quot;) String str2, @Field(&quot;name&quot;) String str3, @Field(&quot;bank&quot;) String str4, @Field(&quot;mobile&quot;) String str5, @Field(&quot;amount&quot;) String str6);\n</code></pre>\n<p>Below is the <code>APIClient.java</code> file</p>\n<pre><code>package com.ramresh.app.rajsatka.network;\n\nimport android.content.Context;\nimport com.google.gson.GsonBuilder;\nimport java.util.concurrent.TimeUnit;\nimport okhttp3.OkHttpClient.Builder;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class APIClient {\n    private static final String BASE_URL = &quot;https://playvipmember.in/api/&quot;;\n\n    public static Retrofit getClient(Context context, String tag) {\n        Builder builder = new Builder();\n        try {\n            builder.connectTimeout(60, TimeUnit.SECONDS)\n                    .readTimeout(0, TimeUnit.NANOSECONDS)\n                    .writeTimeout(35, TimeUnit.SECONDS)\n                    .addInterceptor(______.INSTANCE).build();\n            \n            return new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .client(builder.build())\n                    .build();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public static Retrofit getClientHeader(Context context, String tag) {\n        Builder builder = new Builder();\n        try {\n            builder.connectTimeout(60, TimeUnit.SECONDS)\n                    .readTimeout(0, TimeUnit.NANOSECONDS)\n                    .writeTimeout(35, TimeUnit.SECONDS)\n                    .addInterceptor(______.INSTANCE).build();\n            \n            return new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create(new GsonBuilder().setLenient().create()))\n                    .client(builder.build()).build();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>in both the methods <code>getClient()</code>  and <code>getClientHeader(), </code> I am getting error at</p>\n<p><code>.addInterceptor(______.INSTANCE).build();</code></p>\n<p>there should be something in place of <code>dashed lines</code> that can remove this error.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","liquibase"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1566808666,"post_id":57654298,"comment_id":101758691,"body_markdown":"Add `@Converter` to your `DogConverter.class`. Yet your setup looks like you would want a normal mapping using `@OneToOne`","body":"Add <code>@Converter</code> to your <code>DogConverter.class</code>. Yet your setup looks like you would want a normal mapping using <code>@OneToOne</code>"},{"owner":{"account_id":15995944,"reputation":236,"user_id":11543856,"display_name":"pepijno"},"score":0,"creation_date":1566811730,"post_id":57654298,"comment_id":101760214,"body_markdown":"@XtremeBaumer `@Converter` was already on the `DogConverter`, I forgot to include it in the example, I edited the example.","body":"@XtremeBaumer <code>@Converter</code> was already on the <code>DogConverter</code>, I forgot to include it in the example, I edited the example."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1566812195,"post_id":57654298,"comment_id":101760452,"body_markdown":"Show the configuration of your hibernate sessionFactory","body":"Show the configuration of your hibernate sessionFactory"},{"owner":{"account_id":54813,"reputation":574,"user_id":164090,"accept_rate":75,"display_name":"Mitch Kent"},"score":0,"creation_date":1589222591,"post_id":57654298,"comment_id":109202612,"body_markdown":"I&#39;m having a similar issue, also with UUID as the database type - did you find a solution or did you leave it as String?","body":"I&#39;m having a similar issue, also with UUID as the database type - did you find a solution or did you leave it as String?"},{"owner":{"account_id":15995944,"reputation":236,"user_id":11543856,"display_name":"pepijno"},"score":0,"creation_date":1589273101,"post_id":57654298,"comment_id":109220080,"body_markdown":"@MitchKent I didn&#39;t find a solution, I left it as a String","body":"@MitchKent I didn&#39;t find a solution, I left it as a String"},{"owner":{"account_id":54813,"reputation":574,"user_id":164090,"accept_rate":75,"display_name":"Mitch Kent"},"score":0,"creation_date":1589361059,"post_id":57654298,"comment_id":109260034,"body_markdown":"Thanks for your reply pepijno, I also didn&#39;t find a solution so my workaround was to use a custom @Type","body":"Thanks for your reply pepijno, I also didn&#39;t find a solution so my workaround was to use a custom @Type"},{"owner":{"account_id":5101035,"reputation":1027,"user_id":4090651,"display_name":"Yonatan Wilkof"},"score":0,"creation_date":1597839153,"post_id":57654298,"comment_id":112263241,"body_markdown":"Another solution (arguably a hack) that requires almost no effort is to mark the Dog property in Doghouse, like so `@Embedded @AttributeOverride(name = &quot;value&quot;, column = Column(name = &quot;dog_id&quot;)) private Dog dog;` where value is the UUID property name in Dog and dog_id is the UUID column in the DB referencing to the dog table. Optionally, the Dog class should have the `@Embeddable` annotation, but for me it worked even without.","body":"Another solution (arguably a hack) that requires almost no effort is to mark the Dog property in Doghouse, like so <code>@Embedded @AttributeOverride(name = &quot;value&quot;, column = Column(name = &quot;dog_id&quot;)) private Dog dog;</code> where value is the UUID property name in Dog and dog_id is the UUID column in the DB referencing to the dog table. Optionally, the Dog class should have the <code>@Embeddable</code> annotation, but for me it worked even without."}],"answers":[{"tags":[],"owner":{"account_id":20157346,"reputation":11,"user_id":14783211,"display_name":"Giuseppe Fortuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607384212,"creation_date":1607384212,"answer_id":65191003,"question_id":57654298,"body_markdown":"I have the same issue with postgis Geometry and concluded that types supported by converter are limited compared to the ones supported by entity fields.\r\nIn this post https://gitter.im/hibernate/hibernate-orm?at=5ab11305e4d1c636041f1251 if you search for &quot;dialect&quot; you see a similar questions. Answer seems to be it&#39;s not possible with Hibernate 5.2. Maybe it will be possible with Hibernate 6. ","title":"Using AttributeConverter converting to UUID results in &#39;No Dialect mapping for JDBC type&#39; exception","body":"<p>I have the same issue with postgis Geometry and concluded that types supported by converter are limited compared to the ones supported by entity fields.\nIn this post <a href=\"https://gitter.im/hibernate/hibernate-orm?at=5ab11305e4d1c636041f1251\" rel=\"nofollow noreferrer\">https://gitter.im/hibernate/hibernate-orm?at=5ab11305e4d1c636041f1251</a> if you search for &quot;dialect&quot; you see a similar questions. Answer seems to be it's not possible with Hibernate 5.2. Maybe it will be possible with Hibernate 6.</p>\n"}],"owner":{"account_id":15995944,"reputation":236,"user_id":11543856,"display_name":"pepijno"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677007223,"creation_date":1566807957,"question_id":57654298,"body_markdown":"So I have a class, lets say `Dog` (not an entity) containing only an `UUID` field. I then have the following `AttributeConverter`:\r\n\r\n```java\r\n@Converter\r\npublic class DogConverter implements AttributeConverter&lt;Dog, UUID&gt; {\r\n    @Override\r\n\tpublic UUID convertToDatabaseColumn(final Dog attribute) {\r\n\t\treturn attribute.getUuid();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Dog convertToEntityAttribute(final UUID dbData) {\r\n\t\treturn new Dog(dbData);\r\n\t}\r\n}\r\n```\r\nI then use the `Dog` as a field in an entity class `DogHouse`:\r\n```java\r\n@Entity\r\nclass DogHouse {\r\n    ...\r\n    @Convert(converter = DogConverter.class)\r\n    private Dog dog;\r\n    ...\r\n}\r\n```\r\nThen I use liquibase to create a diff changelog against an empty postgresql database which then results in the following exception:\r\n```\r\norg.hibernate.MappingException: No Dialect mapping for JDBC type: 206384196\r\n```\r\nWhen I change to `DogConverter` to convert between a `Dog` and a `String` by also mapping the `UUID` to a string, liquibase works fine and no exception shows up.\r\n\r\nDoes anyone have any idea why the exception occurs and how to fix it?","title":"Using AttributeConverter converting to UUID results in &#39;No Dialect mapping for JDBC type&#39; exception","body":"<p>So I have a class, lets say <code>Dog</code> (not an entity) containing only an <code>UUID</code> field. I then have the following <code>AttributeConverter</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Converter\npublic class DogConverter implements AttributeConverter&lt;Dog, UUID&gt; {\n    @Override\n    public UUID convertToDatabaseColumn(final Dog attribute) {\n        return attribute.getUuid();\n    }\n\n    @Override\n    public Dog convertToEntityAttribute(final UUID dbData) {\n        return new Dog(dbData);\n    }\n}\n</code></pre>\n\n<p>I then use the <code>Dog</code> as a field in an entity class <code>DogHouse</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass DogHouse {\n    ...\n    @Convert(converter = DogConverter.class)\n    private Dog dog;\n    ...\n}\n</code></pre>\n\n<p>Then I use liquibase to create a diff changelog against an empty postgresql database which then results in the following exception:</p>\n\n<pre><code>org.hibernate.MappingException: No Dialect mapping for JDBC type: 206384196\n</code></pre>\n\n<p>When I change to <code>DogConverter</code> to convert between a <code>Dog</code> and a <code>String</code> by also mapping the <code>UUID</code> to a string, liquibase works fine and no exception shows up.</p>\n\n<p>Does anyone have any idea why the exception occurs and how to fix it?</p>\n"},{"tags":["java","spring-boot","hibernate","java-stream","modelmapper"],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1676836708,"post_id":75502809,"comment_id":133213096,"body_markdown":"Thank you soo much for this useful answer. I am trying this approach, but I just need to sum `population` as `BigDecimal` instead `Integer` and I could not using `BigDecimal::add`. Any idea for this `c.getStates().stream().mapToInt(State::getPopulation).sum()` line with BigDecimal ?","body":"Thank you soo much for this useful answer. I am trying this approach, but I just need to sum <code>population</code> as <code>BigDecimal</code> instead <code>Integer</code> and I could not using <code>BigDecimal::add</code>. Any idea for this <code>c.getStates().stream().mapToInt(State::getPopulation).sum()</code> line with BigDecimal ?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1676836922,"post_id":75502809,"comment_id":133213139,"body_markdown":"Now I am trying `c.getStates().stream().map(State::getPopulation).reduce(BigDecimal.ZERO, BigDecimal::add),`","body":"Now I am trying <code>c.getStates().stream().map(State::getPopulation).reduce(BigD&zwnj;&#8203;ecimal.ZERO, BigDecimal::add),</code>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676836998,"post_id":75502809,"comment_id":133213152,"body_markdown":"@rosy `c.getStates().stream().map(s -&gt; new BigDecimal(s.getPopulation())).reduce(BigDecimal.ZERO, BigDecimal::add)` should do it. (You need to convert each `Long` to `BigDecimal` first.)","body":"@rosy <code>c.getStates().stream().map(s -&gt; new BigDecimal(s.getPopulation())).reduce(BigDecimal.ZERO, BigDecimal::add)</code> should do it. (You need to convert each <code>Long</code> to <code>BigDecimal</code> first.)"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676834231,"creation_date":1676834231,"answer_id":75502809,"question_id":75502777,"body_markdown":"- You can use `Stream#mapToInt` to get all the state populations and `.sum` to add them up. \r\n- `Stream#flatMap` can be used to get all the towns of each state into a single stream.\r\n\r\n```java\r\nList&lt;CountryDTO&gt; res = countries.stream().map(c -&gt; new CountryDTO(c.getName(), \r\n      c.getStates().stream().mapToInt(State::getPopulation).sum(), \r\n      c.getStates().stream().flatMap(s -&gt; s.getTowns().stream()).toList())).toList();\r\n```","title":"Java Stream: How to map multiple value to a single DTO?","body":"<ul>\n<li>You can use <code>Stream#mapToInt</code> to get all the state populations and <code>.sum</code> to add them up.</li>\n<li><code>Stream#flatMap</code> can be used to get all the towns of each state into a single stream.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CountryDTO&gt; res = countries.stream().map(c -&gt; new CountryDTO(c.getName(), \n      c.getStates().stream().mapToInt(State::getPopulation).sum(), \n      c.getStates().stream().flatMap(s -&gt; s.getTowns().stream()).toList())).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677006551,"creation_date":1676834565,"answer_id":75502844,"question_id":75502777,"body_markdown":"Didn&#39;t get your question completely, maybe it will be more helpful if you share the exact response returned by the APIs.\r\n\r\nBut, going by the use case, if you are getting a list in the response, you always have the option of stream the list, iterate each element, and then use conditional / grouping logics to get the data in the desired way.\r\n\r\nFor example;\r\nLet&#39;s say, you have a list of `Object` type, for which you have a repository layer configured as `ObjetRepo`. Now, if you are getting a list of objects, you can stream it like this:\r\n\r\n    @Autowired\r\n    private ObjectRepo objectRepo;\r\n\t\r\n\tpublic List&lt;Object&gt; method() {\r\n\t\t\r\n\t\t\r\n\t\tList&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n\t\tobjectRepo.findAll().forEach(objects::add);\r\n\t\t// Here, instead of add, any other logic can be used.\r\n        // You can also write a method, and use that method here\r\n        // objectRepo.findAll().forEach(objects::someMethod);\r\n\t\treturn objects;\t\r\n\t}","title":"Java Stream: How to map multiple value to a single DTO?","body":"<p>Didn't get your question completely, maybe it will be more helpful if you share the exact response returned by the APIs.</p>\n<p>But, going by the use case, if you are getting a list in the response, you always have the option of stream the list, iterate each element, and then use conditional / grouping logics to get the data in the desired way.</p>\n<p>For example;\nLet's say, you have a list of <code>Object</code> type, for which you have a repository layer configured as <code>ObjetRepo</code>. Now, if you are getting a list of objects, you can stream it like this:</p>\n<pre><code>@Autowired\nprivate ObjectRepo objectRepo;\n\npublic List&lt;Object&gt; method() {\n    \n    \n    List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n    objectRepo.findAll().forEach(objects::add);\n    // Here, instead of add, any other logic can be used.\n    // You can also write a method, and use that method here\n    // objectRepo.findAll().forEach(objects::someMethod);\n    return objects; \n}\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75502809,"answer_count":2,"score":1,"last_activity_date":1677006551,"creation_date":1676833945,"question_id":75502777,"body_markdown":"I have a List result in my Spring Boot service method as shown below:\r\n\r\n```\r\nCountry:\r\nString name;\r\nList&lt;State&gt; states;\r\n```\r\n\r\n```\r\nState:\r\nString name;\r\nLong population;\r\nList&lt;Town&gt; towns;\r\n```\r\n\r\n```\r\nTown:\r\nString name;\r\n```\r\n\r\nI return Country list from my repository and it has all the related State and Town date for each Country. I want to map this data to a DTO as shown below:\r\n\r\n```\r\npublic class CountryDTO {\r\n\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private Long population; //population sum of states by country\r\n\r\n    private List&lt;Town&gt; towns;\r\n\r\n    //constructor\r\n}\r\n```\r\n\r\nSo, how can I map my Country entity to this CountryDTO properly as explained above? I need the following data:\r\n\r\nCountry name\r\nSum of population by each country\r\nTowns of each country\r\n\r\n**Update:** Here is my service method where I tried to use Java Stream and then also ModelMapper, but cannot return desired values :( \r\n\r\n```\r\nList&lt;CountryDTO&gt; countries = countryRepository.findAll().stream()\r\n                .flatMap(x -&gt; x.getStates().stream())\r\n                .map(x -&gt; new CountryDTO(x.getCountry(), &lt;-- need to return sum of population here --&gt;, ObjectMapperUtils.mapAll(x.getTowns(), TownDTO.class)))\r\n                .toList();\r\n```","title":"Java Stream: How to map multiple value to a single DTO?","body":"<p>I have a List result in my Spring Boot service method as shown below:</p>\n<pre><code>Country:\nString name;\nList&lt;State&gt; states;\n</code></pre>\n<pre><code>State:\nString name;\nLong population;\nList&lt;Town&gt; towns;\n</code></pre>\n<pre><code>Town:\nString name;\n</code></pre>\n<p>I return Country list from my repository and it has all the related State and Town date for each Country. I want to map this data to a DTO as shown below:</p>\n<pre><code>public class CountryDTO {\n\n    private Long id;\n\n    private String name;\n\n    private Long population; //population sum of states by country\n\n    private List&lt;Town&gt; towns;\n\n    //constructor\n}\n</code></pre>\n<p>So, how can I map my Country entity to this CountryDTO properly as explained above? I need the following data:</p>\n<p>Country name\nSum of population by each country\nTowns of each country</p>\n<p><strong>Update:</strong> Here is my service method where I tried to use Java Stream and then also ModelMapper, but cannot return desired values :(</p>\n<pre><code>List&lt;CountryDTO&gt; countries = countryRepository.findAll().stream()\n                .flatMap(x -&gt; x.getStates().stream())\n                .map(x -&gt; new CountryDTO(x.getCountry(), &lt;-- need to return sum of population here --&gt;, ObjectMapperUtils.mapAll(x.getTowns(), TownDTO.class)))\n                .toList();\n</code></pre>\n"},{"tags":["java","netbeans-11"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1569681294,"post_id":58144934,"comment_id":102679049,"body_markdown":"Please update your question with a screen shot of **Tools &gt; Java Platforms**.","body":"Please update your question with a screen shot of <b>Tools &gt; Java Platforms</b>."}],"answers":[{"comments":[{"owner":{"account_id":2227287,"reputation":193,"user_id":1965726,"display_name":"bc1984adam"},"score":0,"creation_date":1583244877,"post_id":59850984,"comment_id":107045511,"body_markdown":"If you are not sure of your JDK path, run `sudo update-java-alternatives -l` to list these. Also, make sure you have set a Main Class as an entry point under Project Properties. See: https://stackoverflow.com/questions/20601845/no-main-class-found-in-netbeans","body":"If you are not sure of your JDK path, run <code>sudo update-java-alternatives -l</code> to list these. Also, make sure you have set a Main Class as an entry point under Project Properties. See: <a href=\"https://stackoverflow.com/questions/20601845/no-main-class-found-in-netbeans\" title=\"no main class found in netbeans\">stackoverflow.com/questions/20601845/&hellip;</a>"}],"tags":[],"owner":{"account_id":3284384,"reputation":287,"user_id":2764214,"display_name":"Sabuj Das"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1579651904,"creation_date":1579651904,"answer_id":59850984,"question_id":58144934,"body_markdown":"I also had the same issue.\r\nSolved using manually setting the default jdk.\r\n\r\n1. open the `netbeans.conf` from `&lt;install_dir&gt;/netbeans/etc`\r\n2. set the JDK home path for `netbeans_jdkhome` property\r\n\r\nI am using `Ubuntu 19.10`","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>I also had the same issue.\nSolved using manually setting the default jdk.</p>\n\n<ol>\n<li>open the <code>netbeans.conf</code> from <code>&lt;install_dir&gt;/netbeans/etc</code></li>\n<li>set the JDK home path for <code>netbeans_jdkhome</code> property</li>\n</ol>\n\n<p>I am using <code>Ubuntu 19.10</code></p>\n"},{"tags":[],"owner":{"account_id":10172899,"reputation":161,"user_id":7512612,"display_name":"Frost Metoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581524308,"creation_date":1581524308,"answer_id":60192742,"question_id":58144934,"body_markdown":"After a complete uninstall of my distros Netbeans version, I resorted to installing  Netbeans 11 LTS version from the https://netbeans.apache.org/download/nb110/nb110.html  into /usr/share/netbeans. This seems to have resolved the issues in the IDE. The program also seems to compile and run faster now.\r\n\r\nI was having very similar problems with Netbeans IDE from the Ubunutu/Mint repositories which was still on version 10 the open JDK was version 11. I could not get the IDE to display without errors - but the program would compile and run from the command line fine.\r\n\r\n\r\n","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>After a complete uninstall of my distros Netbeans version, I resorted to installing  Netbeans 11 LTS version from the <a href=\"https://netbeans.apache.org/download/nb110/nb110.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/download/nb110/nb110.html</a>  into /usr/share/netbeans. This seems to have resolved the issues in the IDE. The program also seems to compile and run faster now.</p>\n\n<p>I was having very similar problems with Netbeans IDE from the Ubunutu/Mint repositories which was still on version 10 the open JDK was version 11. I could not get the IDE to display without errors - but the program would compile and run from the command line fine.</p>\n"},{"tags":[],"owner":{"account_id":19283761,"reputation":81,"user_id":14095233,"display_name":"user14095233"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1597291359,"creation_date":1597258439,"answer_id":63383052,"question_id":58144934,"body_markdown":"After exiting netbeans edit the config file `netbeans.conf` using\r\n\r\n```html\r\nnano ~/netbeans-11.2/netbeans/etc/netbeans.conf\r\n```\r\nIn the line `netbeans_jdkhome` edit the path like\r\n\r\n```\r\nnetbeans_jdkhome=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n```\r\n\r\n(Found at [askubuntu.com](https://askubuntu.com/questions/1166639/cant-using-netbeans-10-0-after-installing-from-repository-on-ubuntu-18-04))","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>After exiting netbeans edit the config file <code>netbeans.conf</code> using</p>\n<pre class=\"lang-html prettyprint-override\"><code>nano ~/netbeans-11.2/netbeans/etc/netbeans.conf\n</code></pre>\n<p>In the line <code>netbeans_jdkhome</code> edit the path like</p>\n<pre><code>netbeans_jdkhome=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n</code></pre>\n<p>(Found at <a href=\"https://askubuntu.com/questions/1166639/cant-using-netbeans-10-0-after-installing-from-repository-on-ubuntu-18-04\">askubuntu.com</a>)</p>\n"},{"tags":[],"owner":{"account_id":7078904,"reputation":345,"user_id":5417974,"display_name":"Luis Carlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610053544,"creation_date":1610053544,"answer_id":65619932,"question_id":58144934,"body_markdown":"If you&#39;re using Maven for the project and OpenJDK the reason could be the way that you define the source and target options in the maven-compiler-plugin. I had a little project build with JDK 1.8 and when I migrated it the maven compiler plugin show me that error.\r\nThe solution that worked for me was change the format of the java version on the **source** and **target** parameters in maven-compiler-plugin definition:\r\n\r\nBefore:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.7&lt;/source&gt;\r\n            &lt;target&gt;1.7&lt;/target&gt;\r\n            &lt;compilerArguments&gt;\r\n                &lt;bootclasspath&gt;${sun.boot.class.path}${path.separator}${java.home}/lib/jfxrt.jar&lt;/bootclasspath&gt;\r\n            &lt;/compilerArguments&gt;\r\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;7&lt;/source&gt;\r\n            &lt;target&gt;7&lt;/target&gt;\r\n            &lt;compilerArguments&gt;\r\n                &lt;bootclasspath&gt;${sun.boot.class.path}${path.separator}${java.home}/lib/jfxrt.jar&lt;/bootclasspath&gt;\r\n            &lt;/compilerArguments&gt;\r\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>If you're using Maven for the project and OpenJDK the reason could be the way that you define the source and target options in the maven-compiler-plugin. I had a little project build with JDK 1.8 and when I migrated it the maven compiler plugin show me that error.\nThe solution that worked for me was change the format of the java version on the <strong>source</strong> and <strong>target</strong> parameters in maven-compiler-plugin definition:</p>\n<p>Before:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n        &lt;compilerArguments&gt;\n            &lt;bootclasspath&gt;${sun.boot.class.path}${path.separator}${java.home}/lib/jfxrt.jar&lt;/bootclasspath&gt;\n        &lt;/compilerArguments&gt;\n        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;7&lt;/source&gt;\n        &lt;target&gt;7&lt;/target&gt;\n        &lt;compilerArguments&gt;\n            &lt;bootclasspath&gt;${sun.boot.class.path}${path.separator}${java.home}/lib/jfxrt.jar&lt;/bootclasspath&gt;\n        &lt;/compilerArguments&gt;\n        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26622084,"reputation":1,"user_id":20240724,"display_name":"Fahad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665749841,"creation_date":1665749841,"answer_id":74069091,"question_id":58144934,"body_markdown":"I have solved this. First create a folder &gt; install Jdk in this folder &gt; create a new folder inside your first creating folder &gt; install netbeans second creating folder.","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>I have solved this. First create a folder &gt; install Jdk in this folder &gt; create a new folder inside your first creating folder &gt; install netbeans second creating folder.</p>\n"},{"tags":[],"owner":{"account_id":20893784,"reputation":1,"user_id":19021004,"display_name":"Neoly Moreno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677006075,"creation_date":1677006075,"answer_id":75524825,"question_id":58144934,"body_markdown":"Yep, always check the JDK version and all the libraries the project uses","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>Yep, always check the JDK version and all the libraries the project uses</p>\n"}],"owner":{"account_id":14318721,"reputation":2432,"user_id":10342778,"display_name":"Ahmad Anis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35264,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":6,"score":14,"last_activity_date":1677006075,"creation_date":1569662147,"question_id":58144934,"body_markdown":"I downloaded netbeans ide 11 and tried to do a sample hello world project but it is giving me error &quot;cannot access java.lang\r\n  Fatal Error: Unable to find package java.lang in classpath or bootclasspath&quot;\r\nI tried some solutions from stack overflow but didnt worked.\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage javaapplication1;\r\n\r\n/**\r\n *\r\n * @author ahmad\r\n */\r\npublic class JavaApplication1 {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\nMain error is\r\n&quot; cannot access java.lang\r\n  Fatal Error: Unable to find package java.lang in classpath or bootclasspath\r\n----\r\n&quot;[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7mkRk.png","title":"Netbeans IDE 11 cannot access java.lang Fatal Error: Unable to find package java.lang in classpath or bootclasspath","body":"<p>I downloaded netbeans ide 11 and tried to do a sample hello world project but it is giving me error &quot;cannot access java.lang\nFatal Error: Unable to find package java.lang in classpath or bootclasspath&quot;\nI tried some solutions from stack overflow but didnt worked.</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage javaapplication1;\n\n/**\n *\n * @author ahmad\n */\npublic class JavaApplication1 {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n        System.out.println(&quot;Hello&quot;);\n    }\n    \n}\n</code></pre>\n<h2>Main error is\n&quot; cannot access java.lang\nFatal Error: Unable to find package java.lang in classpath or bootclasspath</h2>\n<p>&quot;<a href=\"https://i.stack.imgur.com/7mkRk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7mkRk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1677004732,"post_id":75524600,"comment_id":133250278,"body_markdown":"Please tag the programming language you are using.","body":"Please tag the programming language you are using."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1677005701,"post_id":75524600,"comment_id":133250601,"body_markdown":"Hey Vic, I closed this question as a duplicate as it looks like it&#39;s the same issue. You have to call the method `string()` as mentioned in the other thread.","body":"Hey Vic, I closed this question as a duplicate as it looks like it&#39;s the same issue. You have to call the method <code>string()</code> as mentioned in the other thread."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1677006344,"post_id":75524600,"comment_id":133250805,"body_markdown":"@Augusto Thanks for letting me know. I overlooked the string() method.","body":"@Augusto Thanks for letting me know. I overlooked the string() method."}],"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677005628,"answer_count":0,"score":0,"last_activity_date":1677005376,"creation_date":1677004657,"question_id":75524600,"body_markdown":"The following code snap is for a REST call with OkHttp3 in Java.\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n            .url(myUrl)\r\n            .build();\r\n        Call call = client.newCall(request);\r\n        try (Response response = call.execute()) {\r\n            String json = response.body().toString();\r\n            JsonNode node = objectMapper.readTree(json);  // &lt;--- cause an error\r\n            if(node.has(&quot;foo&quot;) &amp;&amp; node.get(&quot;foo&quot;).has(&quot;boo&quot;)) {\r\n                node = node.get(&quot;foo&quot;).get(&quot;boo&quot;);\r\n                for(int i = 0; i &lt; node.size(); i++) {\r\n                    result.add(this.parseJson(node.get(i)));\r\n                }\r\n                 ...\r\n            }\r\n            return Optional.empty();\r\n        } catch (IOException e) {\r\n            log.error(e.getMessage());\r\n        }\r\nThe readTree method throws an error as the following:\r\n\r\n    Unrecognized token &#39;okhttp3&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)_ at [Source: (String)&quot;okhttp3.internal.http.RealResponseBody@3bb3d2d4&quot;; line: 1, column: 8]\r\n    \r\nI don&#39;t see &quot;okhttp3&quot; when I run curl for the Url and I can&#39;t see the response data in a readable format. I don&#39;t use the readValue method because I only need a small portion of the response and the response contains a reserved word. How to inspect the response and resolve this issue? ","title":"A response data read error - Unrecognized token &#39;okhttp3&#39;","body":"<p>The following code snap is for a REST call with OkHttp3 in Java.</p>\n<pre><code>    ObjectMapper objectMapper = new ObjectMapper();\n    OkHttpClient client = new OkHttpClient();\n    Request request = new Request.Builder()\n        .url(myUrl)\n        .build();\n    Call call = client.newCall(request);\n    try (Response response = call.execute()) {\n        String json = response.body().toString();\n        JsonNode node = objectMapper.readTree(json);  // &lt;--- cause an error\n        if(node.has(&quot;foo&quot;) &amp;&amp; node.get(&quot;foo&quot;).has(&quot;boo&quot;)) {\n            node = node.get(&quot;foo&quot;).get(&quot;boo&quot;);\n            for(int i = 0; i &lt; node.size(); i++) {\n                result.add(this.parseJson(node.get(i)));\n            }\n             ...\n        }\n        return Optional.empty();\n    } catch (IOException e) {\n        log.error(e.getMessage());\n    }\n</code></pre>\n<p>The readTree method throws an error as the following:</p>\n<pre><code>Unrecognized token 'okhttp3': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')_ at [Source: (String)&quot;okhttp3.internal.http.RealResponseBody@3bb3d2d4&quot;; line: 1, column: 8]\n</code></pre>\n<p>I don't see &quot;okhttp3&quot; when I run curl for the Url and I can't see the response data in a readable format. I don't use the readValue method because I only need a small portion of the response and the response contains a reserved word. How to inspect the response and resolve this issue?</p>\n"},{"tags":["java","cdi","weld","java-websocket"],"answers":[{"comments":[{"owner":{"account_id":3904817,"reputation":13849,"user_id":3231778,"accept_rate":100,"display_name":"Evandro Pomatti"},"score":0,"creation_date":1487959960,"post_id":42440947,"comment_id":72034596,"body_markdown":"I am using WildFly, any solution without external dependencies?","body":"I am using WildFly, any solution without external dependencies?"},{"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"score":0,"creation_date":1487960329,"post_id":42440947,"comment_id":72034865,"body_markdown":"since its apache licensed, using the source code shouldn&#39;t be an issue https://github.com/apache/deltaspike/blob/master/deltaspike/cdictrl/impl-weld/src/main/java/org/apache/deltaspike/cdise/weld/WeldContextControl.java#L158  you may not need all these complexities","body":"since its apache licensed, using the source code shouldn&#39;t be an issue <a href=\"https://github.com/apache/deltaspike/blob/master/deltaspike/cdictrl/impl-weld/src/main/java/org/apache/deltaspike/cdise/weld/WeldContextControl.java#L158\" rel=\"nofollow noreferrer\">github.com/apache/deltaspike/blob/master/deltaspike/cdictrl/&zwnj;&#8203;&hellip;</a>  you may not need all these complexities"},{"owner":{"account_id":8854974,"reputation":1387,"user_id":6613014,"display_name":"Rouliboy"},"score":0,"creation_date":1488042352,"post_id":42440947,"comment_id":72060362,"body_markdown":"@BonanzaOne : I updated my answer using Weld which is part of WildFly server.","body":"@BonanzaOne : I updated my answer using Weld which is part of WildFly server."}],"tags":[],"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487945913,"creation_date":1487945913,"answer_id":42440947,"question_id":42440851,"body_markdown":"WebSockets do not initialize a request scope context for their method invocations.  You can use [deltaspike context control](http://deltaspike.apache.org/documentation/container-control.html#ContextControlUsage) to manually start a request context for the method invocation.","title":"WebSocket endpoint and CDI injection: No active contexts for scope RequestScoped","body":"<p>WebSockets do not initialize a request scope context for their method invocations.  You can use <a href=\"http://deltaspike.apache.org/documentation/container-control.html#ContextControlUsage\" rel=\"nofollow noreferrer\">deltaspike context control</a> to manually start a request context for the method invocation.</p>\n"},{"comments":[{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":3,"creation_date":1488181894,"post_id":42442415,"comment_id":72100608,"body_markdown":"@BonanzaOne @Rouliboy While this is good approach, I would first try one that is **already present in Weld**. If you set a dependency on Weld API, that you can annotate your methods/classes with pre-defined interceptor binding `@ActivateRequestContext` which does exactly what you seek. You can read more about it in [Weld Doc](http://docs.jboss.org/weld/reference/latest/en-US/html_single/#_request_context). While this is originally designed for SE environment, it should work in EE all the same.","body":"@BonanzaOne @Rouliboy While this is good approach, I would first try one that is <b>already present in Weld</b>. If you set a dependency on Weld API, that you can annotate your methods/classes with pre-defined interceptor binding <code>@ActivateRequestContext</code> which does exactly what you seek. You can read more about it in <a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html_single/#_request_context\" rel=\"nofollow noreferrer\">Weld Doc</a>. While this is originally designed for SE environment, it should work in EE all the same."},{"owner":{"account_id":8854974,"reputation":1387,"user_id":6613014,"display_name":"Rouliboy"},"score":0,"creation_date":1488188708,"post_id":42442415,"comment_id":72104431,"body_markdown":"@Siliarus : I didn&#39;t know this, thanks for the info!","body":"@Siliarus : I didn&#39;t know this, thanks for the info!"}],"tags":[],"owner":{"account_id":8854974,"reputation":1387,"user_id":6613014,"display_name":"Rouliboy"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1488042956,"creation_date":1487950227,"answer_id":42442415,"question_id":42440851,"body_markdown":"As @John mentioned, `RequestContext` is not active in WebSocket methods. Instead of using Deltaspike (which is a good option), you can also write your own Interceptor to activate/deactivate weld `RequestContext`.\r\n\r\nAs you are using Wildfly, you can use weld as a provided dependency :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n        &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.12.Final&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen you can define an `InterceptorBinding` `@RequestContextOperation` :\r\n\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n\r\n    import javax.interceptor.InterceptorBinding;\r\n\r\n    @InterceptorBinding\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ ElementType.METHOD, ElementType.TYPE })\r\n    public @interface RequestContextOperation\r\n    {\r\n\r\n    }\r\n\r\nAnd the corresponding `RequestContextInterceptor` where we activate/deactivate the `RequestContext`:\r\n\r\n    import javax.inject.Inject;\r\n    import javax.interceptor.AroundInvoke;\r\n    import javax.interceptor.Interceptor;\r\n    import javax.interceptor.InvocationContext;\r\n\r\n    import org.jboss.weld.context.RequestContext;\r\n    import org.jboss.weld.context.unbound.Unbound;\r\n\r\n    @Interceptor\r\n    @RequestContextOperation\r\n    public class RequestContextInterceptor {\r\n\r\n        /** The RequestContext */\r\n        @Inject\r\n        @Unbound\r\n        private RequestContext m_requestContext;\r\n\r\n        /**\r\n         * \r\n         * @param p_invocationContext\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        @AroundInvoke\r\n        public Object activateRequestContext(final InvocationContext p_invocationContext) throws Exception {\r\n            try {\r\n                m_requestContext.activate();\r\n                return p_invocationContext.proceed();\r\n            } finally {\r\n                m_requestContext.invalidate();\r\n                m_requestContext.deactivate();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nYou can then use the `@RequestContextOperation` annotation on your class or on a specific method :\r\n\r\n    @ServerEndpoint(&quot;/serverpush&quot;)\r\n    public class ContratoEndpoint {\r\n\r\n        @Inject\r\n        private Storage storage;\r\n        \r\n        @OnMessage\r\n        @RequestContextOperation\r\n        public String handleMessage(String message){\r\n            \r\n            // Here the @RequestScoped bean is valid thanks to the @RequestContextOperation InterceptorBinding\r\n            storage.yourMethod();\r\n            ....\r\n        }\r\n\r\n    }","title":"WebSocket endpoint and CDI injection: No active contexts for scope RequestScoped","body":"<p>As @John mentioned, <code>RequestContext</code> is not active in WebSocket methods. Instead of using Deltaspike (which is a good option), you can also write your own Interceptor to activate/deactivate weld <code>RequestContext</code>.</p>\n\n<p>As you are using Wildfly, you can use weld as a provided dependency :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n    &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\n    &lt;version&gt;2.2.12.Final&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you can define an <code>InterceptorBinding</code> <code>@RequestContextOperation</code> :</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.interceptor.InterceptorBinding;\n\n@InterceptorBinding\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.METHOD, ElementType.TYPE })\npublic @interface RequestContextOperation\n{\n\n}\n</code></pre>\n\n<p>And the corresponding <code>RequestContextInterceptor</code> where we activate/deactivate the <code>RequestContext</code>:</p>\n\n<pre><code>import javax.inject.Inject;\nimport javax.interceptor.AroundInvoke;\nimport javax.interceptor.Interceptor;\nimport javax.interceptor.InvocationContext;\n\nimport org.jboss.weld.context.RequestContext;\nimport org.jboss.weld.context.unbound.Unbound;\n\n@Interceptor\n@RequestContextOperation\npublic class RequestContextInterceptor {\n\n    /** The RequestContext */\n    @Inject\n    @Unbound\n    private RequestContext m_requestContext;\n\n    /**\n     * \n     * @param p_invocationContext\n     * @return\n     * @throws Exception\n     */\n    @AroundInvoke\n    public Object activateRequestContext(final InvocationContext p_invocationContext) throws Exception {\n        try {\n            m_requestContext.activate();\n            return p_invocationContext.proceed();\n        } finally {\n            m_requestContext.invalidate();\n            m_requestContext.deactivate();\n        }\n    }\n}\n</code></pre>\n\n<p>You can then use the <code>@RequestContextOperation</code> annotation on your class or on a specific method :</p>\n\n<pre><code>@ServerEndpoint(\"/serverpush\")\npublic class ContratoEndpoint {\n\n    @Inject\n    private Storage storage;\n\n    @OnMessage\n    @RequestContextOperation\n    public String handleMessage(String message){\n\n        // Here the @RequestScoped bean is valid thanks to the @RequestContextOperation InterceptorBinding\n        storage.yourMethod();\n        ....\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2875163,"reputation":396,"user_id":2467428,"display_name":"CarlosGoncalves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677005242,"creation_date":1677005000,"answer_id":75524664,"question_id":42440851,"body_markdown":"Although Request Scope is not active in WebSockets (including Atmosphere) you can manually activate it using the approach proposed in [a previous answer](https://stackoverflow.com/a/42442415).\r\n\r\nHowever, since CDI 2.0, you can use the `@ActivateRequestContext` annotation (from `javax.enterprise.context.control.ActivateRequestContext`) interceptor to do just that.\r\n\r\nEither annotate the class or the method where you want to have Request Scope and this will activate it at the beginning of method execution and deactivate it when it finishes,","title":"WebSocket endpoint and CDI injection: No active contexts for scope RequestScoped","body":"<p>Although Request Scope is not active in WebSockets (including Atmosphere) you can manually activate it using the approach proposed in <a href=\"https://stackoverflow.com/a/42442415\">a previous answer</a>.</p>\n<p>However, since CDI 2.0, you can use the <code>@ActivateRequestContext</code> annotation (from <code>javax.enterprise.context.control.ActivateRequestContext</code>) interceptor to do just that.</p>\n<p>Either annotate the class or the method where you want to have Request Scope and this will activate it at the beginning of method execution and deactivate it when it finishes,</p>\n"}],"owner":{"account_id":3904817,"reputation":13849,"user_id":3231778,"accept_rate":100,"display_name":"Evandro Pomatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2880,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42442415,"answer_count":3,"score":4,"last_activity_date":1677005242,"creation_date":1487945638,"question_id":42440851,"body_markdown":"I want to inject a `@RequestScoped` CDI bean in my Java EE 7 WebSocket endpoint.\r\n\r\nHowever I am getting error `WELD-001303: No active contexts for scope type javax.enterprise.context.RequestScoped`.\r\n\r\nWhat am I doing wrong and why it is not possible?\r\n\r\n    @Named\r\n    @RequestScoped\r\n    public class Storage {\r\n    \r\n    }\r\n\r\nWhich I `@Inject` in the endpoint like this:\r\n\r\n    @ServerEndpoint(&quot;/serverpush&quot;)\r\n    public class ContratoEndpoint {\r\n    \t\r\n    \t@Inject\r\n    \tprivate Storage storage;\r\n    \t\r\n    }\r\n\r\nAnd I am getting the following stack trace:\r\n\r\n    org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.enterprise.context.RequestScoped\r\n    \tat org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:689)\r\n    \tat org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:90)\r\n    \tat org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:165)\r\n    \tat org.jboss.weld.bean.ContextualInstance.getIfExists(ContextualInstance.java:63)\r\n    \tat org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:83)\r\n    \tat org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:125)","title":"WebSocket endpoint and CDI injection: No active contexts for scope RequestScoped","body":"<p>I want to inject a <code>@RequestScoped</code> CDI bean in my Java EE 7 WebSocket endpoint.</p>\n\n<p>However I am getting error <code>WELD-001303: No active contexts for scope type javax.enterprise.context.RequestScoped</code>.</p>\n\n<p>What am I doing wrong and why it is not possible?</p>\n\n<pre><code>@Named\n@RequestScoped\npublic class Storage {\n\n}\n</code></pre>\n\n<p>Which I <code>@Inject</code> in the endpoint like this:</p>\n\n<pre><code>@ServerEndpoint(\"/serverpush\")\npublic class ContratoEndpoint {\n\n    @Inject\n    private Storage storage;\n\n}\n</code></pre>\n\n<p>And I am getting the following stack trace:</p>\n\n<pre><code>org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.enterprise.context.RequestScoped\n    at org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:689)\n    at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:90)\n    at org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:165)\n    at org.jboss.weld.bean.ContextualInstance.getIfExists(ContextualInstance.java:63)\n    at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:83)\n    at org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:125)\n</code></pre>\n"},{"tags":["java","spring","microservices","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"score":0,"creation_date":1677006008,"post_id":75524680,"comment_id":133250700,"body_markdown":"maybe this can help you https://stackoverflow.com/questions/55869694/cookies-path-with-spring-cloud-gateway","body":"maybe this can help you <a href=\"https://stackoverflow.com/questions/55869694/cookies-path-with-spring-cloud-gateway\" title=\"cookies path with spring cloud gateway\">stackoverflow.com/questions/55869694/&hellip;</a>"}],"owner":{"account_id":27844211,"reputation":1,"user_id":21260053,"display_name":"Cristian Moreno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677005108,"creation_date":1677005108,"question_id":75524680,"body_markdown":"Currently I have to login for each request I make through the api gateway. The session&#39;s keys are being persisted on Redis and if I make requests directly to my microservices without using the gateway it works as expected, (I login once and can make requests to any microservice). I think the problem is the SESSION cookie is being deleted for every request I make through the gateway but I don&#39;t know how to configure this to stop happening\r\n \r\n\r\n\r\nI added these dependencies to every microservice including the api gateway:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthis is the gateway application.properties: \r\n\r\n```\r\nspring.application.name = api-gateway\r\nmanagement.endpoints.web.exposure.include=*\r\nserver.port=9191\r\nspring.cloud.gateway.routes[0].id=SERVICE1\r\nspring.cloud.gateway.routes[0].uri=http://localhost:8081/service1\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/service1\r\nspring.cloud.gateway.routes[1].id=SERVICE2\r\nspring.cloud.gateway.routes[1].uri=http://localhost:8082/service2\r\nspring.cloud.gateway.routes[1].predicates[0]=Path=/service2\r\nspring.main.allow-bean-definition-overriding=true\r\nspring.session.store-type=redis\r\nspring.cloud.gateway.default-filters=SaveSession\r\nserver.servlet.session.timeout= 1800s\r\n```","title":"How to configure Spring Cloud Gateway to use sessions with Redis?","body":"<p>Currently I have to login for each request I make through the api gateway. The session's keys are being persisted on Redis and if I make requests directly to my microservices without using the gateway it works as expected, (I login once and can make requests to any microservice). I think the problem is the SESSION cookie is being deleted for every request I make through the gateway but I don't know how to configure this to stop happening</p>\n<p>I added these dependencies to every microservice including the api gateway:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this is the gateway application.properties:</p>\n<pre><code>spring.application.name = api-gateway\nmanagement.endpoints.web.exposure.include=*\nserver.port=9191\nspring.cloud.gateway.routes[0].id=SERVICE1\nspring.cloud.gateway.routes[0].uri=http://localhost:8081/service1\nspring.cloud.gateway.routes[0].predicates[0]=Path=/service1\nspring.cloud.gateway.routes[1].id=SERVICE2\nspring.cloud.gateway.routes[1].uri=http://localhost:8082/service2\nspring.cloud.gateway.routes[1].predicates[0]=Path=/service2\nspring.main.allow-bean-definition-overriding=true\nspring.session.store-type=redis\nspring.cloud.gateway.default-filters=SaveSession\nserver.servlet.session.timeout= 1800s\n</code></pre>\n"},{"tags":["java","android","ssl","https"],"comments":[{"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"score":0,"creation_date":1402629983,"post_id":24197201,"comment_id":37356750,"body_markdown":"Can I prevent the above exception after renew the cert? Thanks","body":"Can I prevent the above exception after renew the cert? Thanks"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1402651698,"post_id":24197201,"comment_id":37365689,"body_markdown":"The certificate pinning is a great security control. *Before* you take the advice to abandon it, you should talk to some security folks who understand the web security model and PKIX. If I was your security guy, I would deny the request and tell you to update the pinned certificate in the client.","body":"The certificate pinning is a great security control. <i>Before</i> you take the advice to abandon it, you should talk to some security folks who understand the web security model and PKIX. If I was your security guy, I would deny the request and tell you to update the pinned certificate in the client."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1402651847,"post_id":24197201,"comment_id":37365771,"body_markdown":"And you don&#39;t need to store the certificate in a KeyStore (hidden away like it is). You can store it plain text as a file resource, and you can even hard code it into your app as a string. See, for example, [Options for Programatically Adding Certificates to Java KeyStore](https://stackoverflow.com/questions/24043397/options-for-programatically-adding-certificates-to-java-keystore).","body":"And you don&#39;t need to store the certificate in a KeyStore (hidden away like it is). You can store it plain text as a file resource, and you can even hard code it into your app as a string. See, for example, <a href=\"https://stackoverflow.com/questions/24043397/options-for-programatically-adding-certificates-to-java-keystore\">Options for Programatically Adding Certificates to Java KeyStore</a>."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1402651971,"post_id":24197201,"comment_id":37365869,"body_markdown":"By the way.... This *will* return an SSL context (and not a TLS exclusive context): `SSLContext.getInstance(&quot;TLS&quot;)`. There&#39;s hardening that should be applied to it, too - both protocol hardening and cipher suite hardening. For example, SSLv3 will be enabled, and TLS 1.1 and 1.2 will be disabled. See, for example, [Which Cipher Suites to enable for SSL Socket?](https://stackoverflow.com/questions/1037590/which-cipher-suites-to-enable-for-ssl-socket).","body":"By the way.... This <i>will</i> return an SSL context (and not a TLS exclusive context): <code>SSLContext.getInstance(&quot;TLS&quot;)</code>. There&#39;s hardening that should be applied to it, too - both protocol hardening and cipher suite hardening. For example, SSLv3 will be enabled, and TLS 1.1 and 1.2 will be disabled. See, for example, <a href=\"https://stackoverflow.com/questions/1037590/which-cipher-suites-to-enable-for-ssl-socket\">Which Cipher Suites to enable for SSL Socket?</a>."},{"owner":{"account_id":122163,"reputation":117,"user_id":315793,"display_name":"Don G."},"score":0,"creation_date":1676923877,"post_id":24197201,"comment_id":133231393,"body_markdown":"Be careful if storing certificate as String, as suggested, since users could extract the certificate from app.","body":"Be careful if storing certificate as String, as suggested, since users could extract the certificate from app."}],"answers":[{"comments":[{"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"score":0,"creation_date":1402630874,"post_id":24197304,"comment_id":37356931,"body_markdown":"Thanks for your suggestion. Sorry I am just to take over the project and never implement SSL stuff before. I have searched for a while and there is some approach for paying to renew , and the &quot;pinning&quot; is the best apporach if I don&#39;t want to pay?","body":"Thanks for your suggestion. Sorry I am just to take over the project and never implement SSL stuff before. I have searched for a while and there is some approach for paying to renew , and the &quot;pinning&quot; is the best apporach if I don&#39;t want to pay?"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":2,"creation_date":1402630987,"post_id":24197304,"comment_id":37356961,"body_markdown":"Yes you can use this method to create a &quot;self-signed&quot; certificate which means you won&#39;t have to pay. However you can also get an &quot;official&quot; certificate for free from https://www.startssl.com/","body":"Yes you can use this method to create a &quot;self-signed&quot; certificate which means you won&#39;t have to pay. However you can also get an &quot;official&quot; certificate for free from <a href=\"https://www.startssl.com/\" rel=\"nofollow noreferrer\">startssl.com</a>"},{"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"score":0,"creation_date":1402630994,"post_id":24197304,"comment_id":37356962,"body_markdown":"Because that means I have to update the app once per year and are there any workaround for that ? Is my current situation like that :  Not using SSL / using SSL then I need to update once per year / pay for it","body":"Because that means I have to update the app once per year and are there any workaround for that ? Is my current situation like that :  Not using SSL / using SSL then I need to update once per year / pay for it"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":1,"creation_date":1402631053,"post_id":24197304,"comment_id":37356977,"body_markdown":"Using the StartSSL free certificate, you won&#39;t have to re-release once a year. Simply updating the certificate on your server will be enough. However in this case, remove the `.bks` custom certificate code from your app.","body":"Using the StartSSL free certificate, you won&#39;t have to re-release once a year. Simply updating the certificate on your server will be enough. However in this case, remove the <code>.bks</code> custom certificate code from your app."},{"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"score":0,"creation_date":1402631234,"post_id":24197304,"comment_id":37357020,"body_markdown":"it seems my boss has already purchased the ssl cert (renewal the cert), what is the difference between using that one and the one in StartSSL? That means if I use that one so I need to update once per year? Thanks for your patient","body":"it seems my boss has already purchased the ssl cert (renewal the cert), what is the difference between using that one and the one in StartSSL? That means if I use that one so I need to update once per year? Thanks for your patient"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":1,"creation_date":1402631500,"post_id":24197304,"comment_id":37357078,"body_markdown":"There&#39;s no difference really. StartSSL gives them out for free but charges money if you want to revoke it (they reversed the standard business model). All certificates expire so you will always eventually need to update your certificate server side. You will need to update the app only if it&#39;s hardcoded to accept a specific certificate and no other. If the certificate is an &quot;official&quot; one, and you don&#39;t hardcode it into your app, the app will still recognize it.","body":"There&#39;s no difference really. StartSSL gives them out for free but charges money if you want to revoke it (they reversed the standard business model). All certificates expire so you will always eventually need to update your certificate server side. You will need to update the app only if it&#39;s hardcoded to accept a specific certificate and no other. If the certificate is an &quot;official&quot; one, and you don&#39;t hardcode it into your app, the app will still recognize it."},{"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"score":0,"creation_date":1402631833,"post_id":24197304,"comment_id":37357151,"body_markdown":"So, after I remove the bks file, those bks revelant code  I still have the SSL protection as long as I use the link &quot;https&quot;?","body":"So, after I remove the bks file, those bks revelant code  I still have the SSL protection as long as I use the link &quot;https&quot;?"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":1,"creation_date":1402632296,"post_id":24197304,"comment_id":37357244,"body_markdown":"Yes exactly. There are over 30 companies that can issue SSL certificates. There&#39;s a small risk that an attacker could hack one of them and create another valid SSL certificate for your domain (which is what certificate pinning addresses). However if you&#39;re not worried about this (and most people aren&#39;t except big companies like Google, Microsoft etc.), then go ahead and remove it.","body":"Yes exactly. There are over 30 companies that can issue SSL certificates. There&#39;s a small risk that an attacker could hack one of them and create another valid SSL certificate for your domain (which is what certificate pinning addresses). However if you&#39;re not worried about this (and most people aren&#39;t except big companies like Google, Microsoft etc.), then go ahead and remove it."},{"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"score":0,"creation_date":1402632799,"post_id":24197304,"comment_id":37357356,"body_markdown":"besides the android code , so I also need to remove some code on the server side PHP that relevant to the bks? thanks","body":"besides the android code , so I also need to remove some code on the server side PHP that relevant to the bks? thanks"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":1,"creation_date":1402632845,"post_id":24197304,"comment_id":37357367,"body_markdown":"No there shouldn&#39;t be any code that you need to touch server-side.","body":"No there shouldn&#39;t be any code that you need to touch server-side."}],"tags":[],"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1402630559,"creation_date":1402630559,"answer_id":24197304,"question_id":24197201,"body_markdown":"Looks like the app is using &quot;certificate pinning&quot;, which means that a certificate has been hardcoded into the app, and the app has been instructed to accept only that certificate and no other.\r\n\r\nThis increases security at the expense that you need to update your app when (ideally before) the certificate expires. You can following the instructions from a post I created here:\r\n\r\nhttps://stackoverflow.com/a/24007536/276949\r\n\r\nto generate a new `.bks` file from your certificate. Once this is done, overwrite your old `.bks` file and your app should successfully connect via SSL.","title":"How do I update the SSL cert in my android apps?","body":"<p>Looks like the app is using \"certificate pinning\", which means that a certificate has been hardcoded into the app, and the app has been instructed to accept only that certificate and no other.</p>\n\n<p>This increases security at the expense that you need to update your app when (ideally before) the certificate expires. You can following the instructions from a post I created here:</p>\n\n<p><a href=\"https://stackoverflow.com/a/24007536/276949\">https://stackoverflow.com/a/24007536/276949</a></p>\n\n<p>to generate a new <code>.bks</code> file from your certificate. Once this is done, overwrite your old <code>.bks</code> file and your app should successfully connect via SSL.</p>\n"},{"tags":[],"owner":{"account_id":122163,"reputation":117,"user_id":315793,"display_name":"Don G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677004732,"creation_date":1677003861,"answer_id":75524475,"question_id":24197201,"body_markdown":"Apps by default trust the pre-installed system Certificate Authorities (CA), like this example:\r\nhttps://www.digitalocean.com/community/tutorials/retrofit-android-example-tutorial\r\n\r\nCheck if you really need to use certificate pinning (https://owasp.org/www-community/controls/Certificate_and_Public_Key_Pinning) in your application.\r\n\r\nIn case you want to disable Certificate Pinning, delete android:networkSecurityConfig line from AndroidManifest.xml and/or comment domain-config block from network_security_config.xml","title":"How do I update the SSL cert in my android apps?","body":"<p>Apps by default trust the pre-installed system Certificate Authorities (CA), like this example:\n<a href=\"https://www.digitalocean.com/community/tutorials/retrofit-android-example-tutorial\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/retrofit-android-example-tutorial</a></p>\n<p>Check if you really need to use certificate pinning (<a href=\"https://owasp.org/www-community/controls/Certificate_and_Public_Key_Pinning\" rel=\"nofollow noreferrer\">https://owasp.org/www-community/controls/Certificate_and_Public_Key_Pinning</a>) in your application.</p>\n<p>In case you want to disable Certificate Pinning, delete android:networkSecurityConfig line from AndroidManifest.xml and/or comment domain-config block from network_security_config.xml</p>\n"}],"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8155,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":24197304,"answer_count":2,"score":8,"last_activity_date":1677004732,"creation_date":1402629939,"question_id":24197201,"body_markdown":"Recently I work on the project that has implemented the SSL.\r\n\r\nThe SSL cert is expire once per year. And it throw exception in android after I renew the cert on the server.\r\n\r\n**06-13 11:20:27.709: D/allenj(30076): javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.**\r\n\r\nAfter I looking through the project code, I saw there is a bks file, so , does it mean I have to update the bks file once per year, and I have to re-upload the app to google play as well. \r\n\r\nThe problem is what is the standard way to cope with the renewal of the SSL cert? Thanks for helping.\r\n\r\nCode extract\r\n\r\n    nnable Register_runnable = new Runnable(){\r\n    \t    @Override\r\n    \t    public void run() {\r\n    \t    \tEditText emailText = (EditText) findViewById(R.id.editText1regist);\r\n    \t\t\t\r\n    \t\t\tEditText pwText = (EditText) findViewById(R.id.editText2registpw);\r\n    \t\t\t\r\n    \t\t    String end = &quot;\\r\\n&quot;;\r\n    \t\t    String twoHyphens = &quot;--&quot;;\r\n    \t\t    String boundary = &quot;*****&quot;;\r\n    \t\t    try {\r\n    \t\t    \tKeyStore keyStore = KeyStore.getInstance(&quot;BKS&quot;);\r\n    \t\t\t    InputStream in =  \r\n    \t\t\t    getResources().openRawResource(R.raw.ballooncardbks);\r\n    \t\t\t    keyStore.load(in, &quot;&quot;.toCharArray());\r\n    \t\t\t    TrustManagerFactory tmf = \r\n    \t\t\t    TrustManagerFactory.getInstance(&quot;X509&quot;);\r\n    \t\t\t    tmf.init(keyStore);\r\n    \t\t\t\t\r\n    \t\t\t    SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\t\t    context.init(null, tmf.getTrustManagers(), null);\r\n    \r\n    \t\t        String actionUrl = &quot;https://app.ballooncard.com/api/client/register/format/json&quot;;\r\n    \t\t        URL url = new URL(actionUrl);\r\n    \t\t        HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n    \t\t     //   con.setDoInput(true);\r\n    \t\t        con.setDoOutput(true);\r\n    \t\t        con.setUseCaches(false);\r\n    \t\t        con.setRequestMethod(&quot;POST&quot;);\r\n    \r\n    \t\t        con.setSSLSocketFactory(context.getSocketFactory());\r\n    \r\n    \t\t        con.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n    \t\t        con.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);\r\n    \t\t        con.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);","title":"How do I update the SSL cert in my android apps?","body":"<p>Recently I work on the project that has implemented the SSL.</p>\n\n<p>The SSL cert is expire once per year. And it throw exception in android after I renew the cert on the server.</p>\n\n<p><strong>06-13 11:20:27.709: D/allenj(30076): javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.</strong></p>\n\n<p>After I looking through the project code, I saw there is a bks file, so , does it mean I have to update the bks file once per year, and I have to re-upload the app to google play as well. </p>\n\n<p>The problem is what is the standard way to cope with the renewal of the SSL cert? Thanks for helping.</p>\n\n<p>Code extract</p>\n\n<pre><code>nnable Register_runnable = new Runnable(){\n        @Override\n        public void run() {\n            EditText emailText = (EditText) findViewById(R.id.editText1regist);\n\n            EditText pwText = (EditText) findViewById(R.id.editText2registpw);\n\n            String end = \"\\r\\n\";\n            String twoHyphens = \"--\";\n            String boundary = \"*****\";\n            try {\n                KeyStore keyStore = KeyStore.getInstance(\"BKS\");\n                InputStream in =  \n                getResources().openRawResource(R.raw.ballooncardbks);\n                keyStore.load(in, \"\".toCharArray());\n                TrustManagerFactory tmf = \n                TrustManagerFactory.getInstance(\"X509\");\n                tmf.init(keyStore);\n\n                SSLContext context = SSLContext.getInstance(\"TLS\");\n                context.init(null, tmf.getTrustManagers(), null);\n\n                String actionUrl = \"https://app.ballooncard.com/api/client/register/format/json\";\n                URL url = new URL(actionUrl);\n                HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n             //   con.setDoInput(true);\n                con.setDoOutput(true);\n                con.setUseCaches(false);\n                con.setRequestMethod(\"POST\");\n\n                con.setSSLSocketFactory(context.getSocketFactory());\n\n                con.setRequestProperty(\"Connection\", \"Keep-Alive\");\n                con.setRequestProperty(\"Charset\", \"UTF-8\");\n                con.setRequestProperty(\"Content-Type\", \"multipart/form-data;boundary=\" + boundary);\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"score":0,"creation_date":1677005586,"post_id":75524578,"comment_id":133250567,"body_markdown":"Have you tried something similar to that? https://www.igorkromin.net/index.php/2018/05/31/java-threadpoolexecutor-with-automatic-task-cancellation-after-timeout/","body":"Have you tried something similar to that? <a href=\"https://www.igorkromin.net/index.php/2018/05/31/java-threadpoolexecutor-with-automatic-task-cancellation-after-timeout/\" rel=\"nofollow noreferrer\">igorkromin.net/index.php/2018/05/31/&hellip;</a>"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1677006471,"post_id":75524578,"comment_id":133250836,"body_markdown":"Executors are not able to kill without any explicit code to interrupt or sleep","body":"Executors are not able to kill without any explicit code to interrupt or sleep"},{"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"score":0,"creation_date":1677010246,"post_id":75524578,"comment_id":133251925,"body_markdown":"Does this answer your question? [ExecutorService that interrupts tasks after a timeout](https://stackoverflow.com/questions/2758612/executorservice-that-interrupts-tasks-after-a-timeout)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2758612/executorservice-that-interrupts-tasks-after-a-timeout\">ExecutorService that interrupts tasks after a timeout</a>"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1677017642,"post_id":75524578,"comment_id":133253794,"body_markdown":"no Executor only kills when there&#39;s a sleep or interrupt in the code","body":"no Executor only kills when there&#39;s a sleep or interrupt in the code"}],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677004547,"creation_date":1677004547,"question_id":75524578,"body_markdown":"I&#39;m having a java code which i would have to kill because sometimes it takes 100% cpu usage for infinite time. Below is the code but java has no means to kill this thread while running.\r\n\r\nIf this is possible in any other programming language like scala or groovy which i can addon to the present java project or altogether i have to shift to some other programming language please suggest.\r\n\r\n    p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);\r\n    m = p.matcher(desc);\r\n    if(m.find()) {\r\n          desc = desc + &quot;cplusplus &quot;;\r\n    }\r\n\r\n","title":"kill a java thread after a certain period of time","body":"<p>I'm having a java code which i would have to kill because sometimes it takes 100% cpu usage for infinite time. Below is the code but java has no means to kill this thread while running.</p>\n<p>If this is possible in any other programming language like scala or groovy which i can addon to the present java project or altogether i have to shift to some other programming language please suggest.</p>\n<pre><code>p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);\nm = p.matcher(desc);\nif(m.find()) {\n      desc = desc + &quot;cplusplus &quot;;\n}\n</code></pre>\n"},{"tags":["java","maven","heroku"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677000356,"post_id":75523870,"comment_id":133248975,"body_markdown":"If nothing else the classpath should be the **root** of the classes..","body":"If nothing else the classpath should be the <b>root</b> of the classes.."},{"owner":{"account_id":9795971,"reputation":11,"user_id":7259008,"display_name":"Joe Bunda"},"score":0,"creation_date":1677004191,"post_id":75523870,"comment_id":133250106,"body_markdown":"I added an image of the project structure. Did you spot a place where it isn&#39;t correct?","body":"I added an image of the project structure. Did you spot a place where it isn&#39;t correct?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677005211,"post_id":75523870,"comment_id":133250455,"body_markdown":"Your Procfile specifies the classpath as starting deep inside the classpath. The classpath starts at the **root** of the class hierarchy..","body":"Your Procfile specifies the classpath as starting deep inside the classpath. The classpath starts at the <b>root</b> of the class hierarchy.."},{"owner":{"account_id":9795971,"reputation":11,"user_id":7259008,"display_name":"Joe Bunda"},"score":0,"creation_date":1677007579,"post_id":75523870,"comment_id":133251120,"body_markdown":"Can you be more specific? I&#39;ve adjusted the classpath to `worker: java -cp com/heroku/chiller/service com.heroku.chiller.service.WorkerProcess config.yml`, this produces the same error. Or is it supposed to be `worker: java -cp target/classes/ com.heroku.chiller.service.WorkerProcess config.yml`?","body":"Can you be more specific? I&#39;ve adjusted the classpath to <code>worker: java -cp com&#47;heroku&#47;chiller&#47;service com.heroku.chiller.service.WorkerProcess config.yml</code>, this produces the same error. Or is it supposed to be <code>worker: java -cp target&#47;classes&#47; com.heroku.chiller.service.WorkerProcess config.yml</code>?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677007689,"post_id":75523870,"comment_id":133251150,"body_markdown":"The root of the classpath is the **top** of the classes: whatever directory `com` is in. It’d be worth taking a step back and checking out the Java docs/tutorials around classpaths.","body":"The root of the classpath is the <b>top</b> of the classes: whatever directory <code>com</code> is in. It’d be worth taking a step back and checking out the Java docs/tutorials around classpaths."},{"owner":{"account_id":9795971,"reputation":11,"user_id":7259008,"display_name":"Joe Bunda"},"score":0,"creation_date":1677008876,"post_id":75523870,"comment_id":133251521,"body_markdown":"OK, so what I understand about the -cp flag is this. `-cp &lt;path to root of classpath&gt; &lt;package and main class name&gt;` So if `java -cp target/classes/ com.heroku.chiller.service.WorkerProcess` does not work, then why doesn&#39;t it work?","body":"OK, so what I understand about the -cp flag is this. <code>-cp &lt;path to root of classpath&gt; &lt;package and main class name&gt;</code> So if <code>java -cp target&#47;classes&#47; com.heroku.chiller.service.WorkerProcess</code> does not work, then why doesn&#39;t it work?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677014666,"post_id":75523870,"comment_id":133253066,"body_markdown":"No clue; depends on what’s being deployed and how. If your code requires all the dependencies in the Pom at runtime they also need to be on the classpath whether locally or on Heroku. You may be better served with some Java and Maven tutorials than SO until the basics are worked out. You may also want to look at the exec and shade (or other &#252;ber-jar) plugins.","body":"No clue; depends on what’s being deployed and how. If your code requires all the dependencies in the Pom at runtime they also need to be on the classpath whether locally or on Heroku. You may be better served with some Java and Maven tutorials than SO until the basics are worked out. You may also want to look at the exec and shade (or other &#252;ber-jar) plugins."}],"owner":{"account_id":9795971,"reputation":11,"user_id":7259008,"display_name":"Joe Bunda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677004140,"creation_date":1677000105,"question_id":75523870,"body_markdown":"I&#39;m having problems getting a simple java app built with Maven to run on Heroku. Can anyone spot what&#39;s wrong here? I cannot run this locally either. I will say that I&#39;m not terribly experienced with Maven, so my guess is that the pom file has a misconfiguration, but I don&#39;t know what it is.\r\n\r\n\r\n**Log upon starting:**\r\n```\r\n2023-02-21T16:50:32.886966+00:00 heroku[worker.1]: State changed from starting to up\r\n2023-02-21T16:50:33.096908+00:00 app[worker.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \r\n2023-02-21T16:50:33.158703+00:00 app[worker.1]: Error: Could not find or load main class com.heroku.chiller.service.WorkerProcess\r\n2023-02-21T16:50:33.292958+00:00 heroku[worker.1]: Process exited with status 1\r\n2023-02-21T16:50:33.344761+00:00 heroku[worker.1]: State changed from up to crashed\r\n```\r\n\r\n**WorkerProcess.java:**\r\n```\r\npackage com.heroku.chiller.service;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport io.dropwizard.Application;\r\nimport io.dropwizard.setup.Environment;\r\nimport io.dropwizard.configuration.EnvironmentVariableSubstitutor;\r\nimport io.dropwizard.configuration.SubstitutingSourceProvider;\r\nimport io.dropwizard.setup.Bootstrap;\r\n\r\n\r\npublic class WorkerProcess extends Application &lt;ServiceConfiguration&gt; {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(com.heroku.chiller.service.WorkerProcess.class);\r\n\r\n    \r\n    public static void main (String[] args) throws Exception {\r\n        //new WorkerProcess().run(args);\r\n    }\r\n\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;chiller-kafka-to-postgres&quot;;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void initialize (Bootstrap &lt;ServiceConfiguration&gt; bootstrap) {\r\n        bootstrap.setConfigurationSourceProvider(\r\n            new SubstitutingSourceProvider(bootstrap.getConfigurationSourceProvider(),\r\n                    new EnvironmentVariableSubstitutor()\r\n            )\r\n        );\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run (ServiceConfiguration config, Environment env) throws Exception {\r\n        KafkaConsumerService consumerService = new KafkaConsumerService(config.getKafkaConfig());\r\n        env.lifecycle().manage(consumerService);\r\n    }\r\n}\r\n```\r\n\r\n**Procfile:**\r\n\r\n```\r\nworker: java $JAVA_OPTS -cp target/classes/com/heroku/chiller/service com.heroku.chiller.service.WorkerProcess config.yml\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.heroku.chiller.service&lt;/groupId&gt;\r\n  &lt;artifactId&gt;chillerkafkatopostrgres&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t   &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t   &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n     &lt;slf4jVersion&gt;1.6.1&lt;/slf4jVersion&gt;\r\n     &lt;dropwizard.version&gt;0.9.2&lt;/dropwizard.version&gt;\r\n &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-views-mustache&lt;/artifactId&gt;\r\n      &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-assets&lt;/artifactId&gt;\r\n      &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.loginbox.heroku&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-heroku-config&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.jkutner&lt;/groupId&gt;\r\n      &lt;artifactId&gt;env-keystore&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-declarative-linking&lt;/artifactId&gt;\r\n      &lt;version&gt;2.22.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.1&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients --&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;jcenter&lt;/id&gt;\r\n      &lt;url&gt;https://jcenter.bintray.com/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;Eclipse Paho Repo&lt;/id&gt;\r\n        &lt;url&gt;https://repo.eclipse.org/content/repositories/paho-releases/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.1&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\r\n            &lt;programs&gt;\r\n                &lt;program&gt;\r\n                    &lt;mainClass&gt;com.heroku.chiller.service.WorkerProcess&lt;/mainClass&gt;\r\n                    &lt;name&gt;worker&lt;/name&gt;\r\n                &lt;/program&gt;\r\n            &lt;/programs&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                  &lt;phase&gt;package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;assemble&lt;/goal&gt;&lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**Project structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**What I expect and what I&#39;ve tried:**\r\nI expect that the program will run once deployed. I have tried adjusting the pom file and procfile in many ways no to avail. I also peer-reviewed with a colleague and they can&#39;t find the problem either.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kzjtq.png","title":"Heroku, Java App, Maven: Cannot find main class","body":"<p>I'm having problems getting a simple java app built with Maven to run on Heroku. Can anyone spot what's wrong here? I cannot run this locally either. I will say that I'm not terribly experienced with Maven, so my guess is that the pom file has a misconfiguration, but I don't know what it is.</p>\n<p><strong>Log upon starting:</strong></p>\n<pre><code>2023-02-21T16:50:32.886966+00:00 heroku[worker.1]: State changed from starting to up\n2023-02-21T16:50:33.096908+00:00 app[worker.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \n2023-02-21T16:50:33.158703+00:00 app[worker.1]: Error: Could not find or load main class com.heroku.chiller.service.WorkerProcess\n2023-02-21T16:50:33.292958+00:00 heroku[worker.1]: Process exited with status 1\n2023-02-21T16:50:33.344761+00:00 heroku[worker.1]: State changed from up to crashed\n</code></pre>\n<p><strong>WorkerProcess.java:</strong></p>\n<pre><code>package com.heroku.chiller.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport io.dropwizard.Application;\nimport io.dropwizard.setup.Environment;\nimport io.dropwizard.configuration.EnvironmentVariableSubstitutor;\nimport io.dropwizard.configuration.SubstitutingSourceProvider;\nimport io.dropwizard.setup.Bootstrap;\n\n\npublic class WorkerProcess extends Application &lt;ServiceConfiguration&gt; {\n\n    private static final Logger LOG = LoggerFactory.getLogger(com.heroku.chiller.service.WorkerProcess.class);\n\n    \n    public static void main (String[] args) throws Exception {\n        //new WorkerProcess().run(args);\n    }\n\n\n    @Override\n    public String getName() {\n        return &quot;chiller-kafka-to-postgres&quot;;\n    }\n\n\n    @Override\n    public void initialize (Bootstrap &lt;ServiceConfiguration&gt; bootstrap) {\n        bootstrap.setConfigurationSourceProvider(\n            new SubstitutingSourceProvider(bootstrap.getConfigurationSourceProvider(),\n                    new EnvironmentVariableSubstitutor()\n            )\n        );\n    }\n\n\n    @Override\n    public void run (ServiceConfiguration config, Environment env) throws Exception {\n        KafkaConsumerService consumerService = new KafkaConsumerService(config.getKafkaConfig());\n        env.lifecycle().manage(consumerService);\n    }\n}\n</code></pre>\n<p><strong>Procfile:</strong></p>\n<pre><code>worker: java $JAVA_OPTS -cp target/classes/com/heroku/chiller/service com.heroku.chiller.service.WorkerProcess config.yml\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.heroku.chiller.service&lt;/groupId&gt;\n  &lt;artifactId&gt;chillerkafkatopostrgres&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n     &lt;slf4jVersion&gt;1.6.1&lt;/slf4jVersion&gt;\n     &lt;dropwizard.version&gt;0.9.2&lt;/dropwizard.version&gt;\n &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n      &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n      &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n      &lt;artifactId&gt;dropwizard-views-mustache&lt;/artifactId&gt;\n      &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n      &lt;artifactId&gt;dropwizard-assets&lt;/artifactId&gt;\n      &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.loginbox.heroku&lt;/groupId&gt;\n      &lt;artifactId&gt;dropwizard-heroku-config&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.jkutner&lt;/groupId&gt;\n      &lt;artifactId&gt;env-keystore&lt;/artifactId&gt;\n      &lt;version&gt;0.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-declarative-linking&lt;/artifactId&gt;\n      &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n      &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n      &lt;version&gt;1.6.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;jcenter&lt;/id&gt;\n      &lt;url&gt;https://jcenter.bintray.com/&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;Eclipse Paho Repo&lt;/id&gt;\n        &lt;url&gt;https://repo.eclipse.org/content/repositories/paho-releases/&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.1.1&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\n            &lt;programs&gt;\n                &lt;program&gt;\n                    &lt;mainClass&gt;com.heroku.chiller.service.WorkerProcess&lt;/mainClass&gt;\n                    &lt;name&gt;worker&lt;/name&gt;\n                &lt;/program&gt;\n            &lt;/programs&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;phase&gt;package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;assemble&lt;/goal&gt;&lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Project structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Kzjtq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kzjtq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What I expect and what I've tried:</strong>\nI expect that the program will run once deployed. I have tried adjusting the pom file and procfile in many ways no to avail. I also peer-reviewed with a colleague and they can't find the problem either.</p>\n"},{"tags":["java","spring-boot","microservices","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":11801968,"reputation":1,"user_id":8635435,"display_name":"Subhash Talla"},"score":0,"creation_date":1677050985,"post_id":75524516,"comment_id":133258734,"body_markdown":"Hi @fedden, thanks for responding. Url will be fetching some array of SubscriberAccount objects and I am  using List&lt;SubscriberAccount&gt;. But it has to convert to the list of objects right. I am getting that error. Or I have to cast to List&lt;SubscriberAccount&gt;. Anyway when I call, I am getting some other exception. Mismatched input exception.","body":"Hi @fedden, thanks for responding. Url will be fetching some array of SubscriberAccount objects and I am  using List&lt;SubscriberAccount&gt;. But it has to convert to the list of objects right. I am getting that error. Or I have to cast to List&lt;SubscriberAccount&gt;. Anyway when I call, I am getting some other exception. Mismatched input exception."},{"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"score":0,"creation_date":1677051410,"post_id":75524516,"comment_id":133258816,"body_markdown":"Please share the full exception message &#128591;","body":"Please share the full exception message 🙏"},{"owner":{"account_id":11801968,"reputation":1,"user_id":8635435,"display_name":"Subhash Talla"},"score":0,"creation_date":1677065623,"post_id":75524516,"comment_id":133262669,"body_markdown":"Hi fedden, I have used  restTemplate.exchange(url, HttpMethod.GET, requestEntity,\n\t\t\t\tnew ParameterizedTypeReference&lt;List&lt;SubscriberAccount&gt;&gt;() {\n\t\t\t\t});. Now the issue has been resolved","body":"Hi fedden, I have used  restTemplate.exchange(url, HttpMethod.GET, requestEntity, \t\t\t\tnew ParameterizedTypeReference&lt;List&lt;SubscriberAccount&gt;&gt;() { \t\t\t\t});. Now the issue has been resolved"},{"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"score":0,"creation_date":1677082561,"post_id":75524516,"comment_id":133268299,"body_markdown":"Awesome, if you feel like my responses helped to you please approve my answer &#128591;","body":"Awesome, if you feel like my responses helped to you please approve my answer 🙏"}],"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677004115,"creation_date":1677004115,"answer_id":75524516,"question_id":75520864,"body_markdown":"I think the problem is that you are using `restTemplate.getForObject`, it&#39;s not accepting headers as a 3rd param but `uriVariables`\r\n\r\nSee more details in [the doc][1] \r\n```\r\nurl - the URL\r\nresponseType - the type of the return value\r\nuriVariables - the variables to expand the template\r\n```\r\n\r\nPlease try to use `restTemplate.exchange` instead and pass requestEntity as a 3rd param. You could create them from headers like that \r\n\r\n    HttpEntity&lt;Void&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n\r\nSo you should have something like that\r\n\r\n```\r\n restTemplate.exchange(url, HttpMethod.GET, requestEntity, List.class);\r\n```\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject-java.lang.String-java.lang.Class-java.lang.Object...-","title":"Getting HTTP status code 415: Unsupported Media type exception for Get API using Rest Template","body":"<p>I think the problem is that you are using <code>restTemplate.getForObject</code>, it's not accepting headers as a 3rd param but <code>uriVariables</code></p>\n<p>See more details in <a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject-java.lang.String-java.lang.Class-java.lang.Object...-\" rel=\"nofollow noreferrer\">the doc</a></p>\n<pre><code>url - the URL\nresponseType - the type of the return value\nuriVariables - the variables to expand the template\n</code></pre>\n<p>Please try to use <code>restTemplate.exchange</code> instead and pass requestEntity as a 3rd param. You could create them from headers like that</p>\n<pre><code>HttpEntity&lt;Void&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n</code></pre>\n<p>So you should have something like that</p>\n<pre><code> restTemplate.exchange(url, HttpMethod.GET, requestEntity, List.class);\n</code></pre>\n"}],"owner":{"account_id":11801968,"reputation":1,"user_id":8635435,"display_name":"Subhash Talla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677004115,"creation_date":1676984325,"question_id":75520864,"body_markdown":"I have created two spring boot projects called MS1 and MS2 running on different ports in my local system. MS1.controller has /GetAPI which call the external API end point which is MS2.controller /GetAPI. When I run MS2 it fetches the data in JSON. But when I trigger the API with MS1 then it throws 415 Unsupported Media Type. In spring boot by default data format is JSON. I have even created the headers and added to the restTemplate.getForObject() method. Please refer my code and let me know where it is going wrong.\r\n\r\nMS1\r\n------\r\nmain class:\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(&quot;ondc_account_validation&quot;)\r\npublic class OndcAccountValidation {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSpringApplication.run(OndcAccountValidation.class, args);\r\n\r\n\t}\r\n\t@Bean\r\n\tpublic RestTemplate getRestTemplate() {\r\n\t\treturn new RestTemplate();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SubscriberAccount getSubscriberAccount() {\r\n\t\treturn new SubscriberAccount();\r\n\t}\r\n\r\n}\r\n\r\n```\r\nDomain :\r\n\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;subscriber_id&quot;,\r\n    &quot;unique_key_id&quot;,\r\n    &quot;participant_legal_name&quot;,\r\n    &quot;participant_type&quot;,\r\n    &quot;pan&quot;,\r\n    &quot;bank_details&quot;,\r\n    &quot;created_at&quot;,\r\n    &quot;updated_at&quot;\r\n})\r\n\r\npublic class SubscriberAccount {\r\n\r\n\t@JsonProperty(&quot;subscriber_id&quot;)\r\n\tprivate String subscriber_id;\r\n\r\n\t@JsonProperty(&quot;unique_key_id&quot;)\r\n\tprivate String unique_key_id;\r\n\r\n\t@JsonProperty(&quot;participant_legal_name&quot;)\r\n\tprivate String participant_legal_name;\r\n\r\n\t@JsonProperty(&quot;participant_type&quot;)\r\n\tprivate String participant_type;\r\n\r\n\t@JsonProperty(&quot;pan&quot;)\r\n\tprivate PanDetails panDetails;\r\n\r\n\t@JsonProperty(&quot;bank_details&quot;)\r\n\tprivate BankAccountDetails accountDetails;\r\n\r\n\t@JsonProperty(&quot;created_at&quot;)\r\n\tprivate String created_at;\r\n\r\n\t@JsonProperty(&quot;updated_at&quot;)\r\n\tprivate String updated_at;\r\n\tprivate List&lt;SubscriberAccount&gt; subsAccount;\r\n\t\r\n\t/**/\r\n\tpublic String getSubscriber_id() {\r\n\t\treturn subscriber_id;\r\n\t}\r\n\r\n\tpublic void setSubscriber_id(String subscriber_id) {\r\n\t\tthis.subscriber_id = subscriber_id;\r\n\t}\r\n\r\n\tpublic String getUnique_key_id() {\r\n\t\treturn unique_key_id;\r\n\t}\r\n\r\n\tpublic void setUnique_key_id(String unique_key_id) {\r\n\t\tthis.unique_key_id = unique_key_id;\r\n\t}\r\n\r\n\tpublic String getParticipant_legal_name() {\r\n\t\treturn participant_legal_name;\r\n\t}\r\n\r\n\tpublic void setParticipant_legal_name(String participant_legal_name) {\r\n\t\tthis.participant_legal_name = participant_legal_name;\r\n\t}\r\n\r\n\tpublic String getParticipant_type() {\r\n\t\treturn participant_type;\r\n\t}\r\n\r\n\tpublic void setParticipant_type(String participant_type) {\r\n\t\tthis.participant_type = participant_type;\r\n\t}\r\n\r\n\tpublic PanDetails getPanDetails() {\r\n\t\treturn panDetails;\r\n\t}\r\n\r\n\tpublic void setPanDetails(PanDetails panDetails) {\r\n\t\tthis.panDetails = panDetails;\r\n\t}\r\n\r\n\tpublic BankAccountDetails getAccountDetails() {\r\n\t\treturn accountDetails;\r\n\t}\r\n\r\n\tpublic void setAccountDetails(BankAccountDetails accountDetails) {\r\n\t\tthis.accountDetails = accountDetails;\r\n\t}\r\n\r\n\tpublic String getCreated_at() {\r\n\t\treturn created_at;\r\n\t}\r\n\r\n\tpublic void setCreated_at(String created_at) {\r\n\t\tthis.created_at = created_at;\r\n\t}\r\n\r\n\tpublic String getUpdated_at() {\r\n\t\treturn updated_at;\r\n\t}\r\n\r\n\tpublic void setUpdated_at(String updated_at) {\r\n\t\tthis.updated_at = updated_at;\r\n\t}\r\n\r\n\tpublic SubscriberAccount(String subscriber_id, String unique_key_id, String participant_legal_name,\r\n\t\t\tString participant_type, PanDetails panDetails, BankAccountDetails accountDetails, String created_at,\r\n\t\t\tString updated_at) {\r\n\t\tsuper();\r\n\t\tthis.subscriber_id = subscriber_id;\r\n\t\tthis.unique_key_id = unique_key_id;\r\n\t\tthis.participant_legal_name = participant_legal_name;\r\n\t\tthis.participant_type = participant_type;\r\n\t\tthis.panDetails = panDetails;\r\n\t\tthis.accountDetails = accountDetails;\r\n\t\tthis.created_at = created_at;\r\n\t\tthis.updated_at = updated_at;\r\n\t}\r\n\r\n\tpublic SubscriberAccount() {\r\n\t\t\r\n\t}\r\n\tpublic List&lt;SubscriberAccount&gt; getSubsAccount() {\r\n\t\treturn subsAccount;\r\n\t}\r\n\tpublic void setSubsAccount(List&lt;SubscriberAccount&gt; subsAccount) {\r\n\t\tthis.subsAccount = subsAccount;\r\n\t}\r\n}\r\n```\r\nController:\r\n\r\n```\r\n@RestController\r\npublic class AccountValidationController {\r\n\t@Autowired\r\n\tFetchRegistrationDetails fetchRegistrationDetailsSerivce;\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\t\r\n\t@RequestMapping(value =&quot;/registration&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;SubscriberAccount&gt;&gt; getRegistrationDetails() throws URISyntaxException {\r\n\t\t\r\n\t\tList&lt;SubscriberAccount&gt; subAccountList  = fetchRegistrationDetailsSerivce.fetchRegistrationDetails();\r\n\t\t\r\n\t\t\r\n\t\treturn ResponseEntity.ok(subAccountList);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\nInterface:\r\n\r\n```\r\npublic interface FetchRegistrationDetails {\r\n\t\r\n\tpublic List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException;\r\n}\r\n```\r\n\r\nServiceImpl:\r\n\r\n```\r\n@Service(&quot;fetchRegistrationDetails&quot;)\r\npublic class FetchRegistrationDetailsImpl implements FetchRegistrationDetails {\r\n\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n\r\n\t@Autowired(required = true)\r\n\tSendToExcel sendToExcel;\r\n\r\n\tpublic List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString url = &quot;http://localhost:8091/api/registrationAPI&quot;;\r\n\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\r\n\t\tList&lt;SubscriberAccount&gt; subAccList = (List&lt;SubscriberAccount&gt;) restTemplate.getForObject(url,\r\n\t\t\t\tList.class, headers);\r\n\t\t// List&lt;SubscriberAccount&gt; subcrLi st = subAccList.getBody();\r\n\r\n\t\tfor (SubscriberAccount subscriberAccount : subAccList) {\r\n\t\t\tSystem.out.println(subscriberAccount);\r\n\t\t}\r\n\r\n\t\tsendToExcel.saveDataToExcel(subAccList);\r\n\r\n\t\treturn subAccList;\r\n\t}\r\n\r\n}\r\n```\r\nMS2:\r\n-----\r\nDomain:\r\nSame domain as above\r\n\r\nController:\r\n@RestController\r\n```\r\npublic class SimulatorController {\r\n\t\r\n\tstatic final String url = &quot;http:localhost:8091/api/registrationAPI&quot;;\r\n\t@Autowired\r\n\tprivate  SimulatorService simulatorService;\r\n\t\r\n\t\r\n\t@GetMapping(value =&quot;/registrationAPI&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;SimulatorDTO&gt;&gt; sendRegistrationData() throws Exception {\r\n\t\tList&lt;SimulatorDTO&gt; simulatorEntity = simulatorService.sendRegistrationData();\r\n\t\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\r\n\t\t\r\n\treturn ResponseEntity.status(HttpStatus.OK).headers(headers).body(simulatorEntity);\r\n\t}\r\n}\r\n```\r\nserviceInterface:\r\n\r\n```\r\n@Component\r\npublic interface SimulatorService {\r\n\r\n\t\r\n\r\n\tpublic List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException;\r\n\r\n\tList&lt;SimulatorDTO&gt; fetchDetailsFromExcel(File file) throws FileNotFoundException, IOException;\r\n}\r\n```\r\nServiceImpl:\r\n\r\n```\r\n@Service\r\npublic class SimulatorServiceImpl implements SimulatorService {\r\n\r\n\t@Override\r\n\tpublic List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException {\r\n\t\t\r\n\t\tFile file = new File(&quot;D:\\\\Workspace\\\\RegistrationData.xlsx&quot;);\r\n\t\t\r\n\t\t\r\n\t\t  List&lt;SimulatorDTO&gt; list = new ArrayList&lt;&gt;(); \r\nPanDTO panDTO = new PanDTO(&quot;AVLPT1847Q&quot;, &quot;DummyName&quot;, &quot;12-12-2011&quot;);\r\n\t\t  \r\n\t\t  BankDTO bankDTO = new BankDTO(&quot;202120211077&quot;, &quot;SBIN000836&quot;, &quot;DummyName&quot;,\r\n\t\t  &quot;Nodal&quot;); \r\n\t\t  list.add(new SimulatorDTO(&quot;ABC.com&quot;, &quot;123456789ABC&quot;, &quot;DUmmyName&quot;,\r\n\t\t  panDTO, bankDTO, &quot;2023-01-23&quot;, &quot;2023-01-23&quot;)); \r\n\t\t  list.add(new SimulatorDTO(&quot;AcC.com&quot;, &quot;1233356789ABC&quot;, &quot;DuummyName&quot;, panDTO, bankDTO,\r\n\t\t  &quot;2023-01-24&quot;, &quot;2023-01-24&quot;));\r\n\t\t \r\n\t\t\r\n\t\tSystem.out.print(list);\r\n\t\treturn list;\r\n\t}\r\n```\r\nPlease let me know what are your thoughts. \r\nNote: I am not using any DB here I am just saving in excel. \r\n\r\n\r\n\r\n\r\nI tried manually setting the headers with Content-Type is Application/json. but no use still it says 415 error code.\r\n\r\nI am expecting a new approach and mostly used approach if avoids these kind of bottlenecks.","title":"Getting HTTP status code 415: Unsupported Media type exception for Get API using Rest Template","body":"<p>I have created two spring boot projects called MS1 and MS2 running on different ports in my local system. MS1.controller has /GetAPI which call the external API end point which is MS2.controller /GetAPI. When I run MS2 it fetches the data in JSON. But when I trigger the API with MS1 then it throws 415 Unsupported Media Type. In spring boot by default data format is JSON. I have even created the headers and added to the restTemplate.getForObject() method. Please refer my code and let me know where it is going wrong.</p>\n<h2>MS1</h2>\n<p>main class:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;ondc_account_validation&quot;)\npublic class OndcAccountValidation {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        SpringApplication.run(OndcAccountValidation.class, args);\n\n    }\n    @Bean\n    public RestTemplate getRestTemplate() {\n        return new RestTemplate();\n    }\n    \n    @Bean\n    public SubscriberAccount getSubscriberAccount() {\n        return new SubscriberAccount();\n    }\n\n}\n\n</code></pre>\n<p>Domain :</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;subscriber_id&quot;,\n    &quot;unique_key_id&quot;,\n    &quot;participant_legal_name&quot;,\n    &quot;participant_type&quot;,\n    &quot;pan&quot;,\n    &quot;bank_details&quot;,\n    &quot;created_at&quot;,\n    &quot;updated_at&quot;\n})\n\npublic class SubscriberAccount {\n\n    @JsonProperty(&quot;subscriber_id&quot;)\n    private String subscriber_id;\n\n    @JsonProperty(&quot;unique_key_id&quot;)\n    private String unique_key_id;\n\n    @JsonProperty(&quot;participant_legal_name&quot;)\n    private String participant_legal_name;\n\n    @JsonProperty(&quot;participant_type&quot;)\n    private String participant_type;\n\n    @JsonProperty(&quot;pan&quot;)\n    private PanDetails panDetails;\n\n    @JsonProperty(&quot;bank_details&quot;)\n    private BankAccountDetails accountDetails;\n\n    @JsonProperty(&quot;created_at&quot;)\n    private String created_at;\n\n    @JsonProperty(&quot;updated_at&quot;)\n    private String updated_at;\n    private List&lt;SubscriberAccount&gt; subsAccount;\n    \n    /**/\n    public String getSubscriber_id() {\n        return subscriber_id;\n    }\n\n    public void setSubscriber_id(String subscriber_id) {\n        this.subscriber_id = subscriber_id;\n    }\n\n    public String getUnique_key_id() {\n        return unique_key_id;\n    }\n\n    public void setUnique_key_id(String unique_key_id) {\n        this.unique_key_id = unique_key_id;\n    }\n\n    public String getParticipant_legal_name() {\n        return participant_legal_name;\n    }\n\n    public void setParticipant_legal_name(String participant_legal_name) {\n        this.participant_legal_name = participant_legal_name;\n    }\n\n    public String getParticipant_type() {\n        return participant_type;\n    }\n\n    public void setParticipant_type(String participant_type) {\n        this.participant_type = participant_type;\n    }\n\n    public PanDetails getPanDetails() {\n        return panDetails;\n    }\n\n    public void setPanDetails(PanDetails panDetails) {\n        this.panDetails = panDetails;\n    }\n\n    public BankAccountDetails getAccountDetails() {\n        return accountDetails;\n    }\n\n    public void setAccountDetails(BankAccountDetails accountDetails) {\n        this.accountDetails = accountDetails;\n    }\n\n    public String getCreated_at() {\n        return created_at;\n    }\n\n    public void setCreated_at(String created_at) {\n        this.created_at = created_at;\n    }\n\n    public String getUpdated_at() {\n        return updated_at;\n    }\n\n    public void setUpdated_at(String updated_at) {\n        this.updated_at = updated_at;\n    }\n\n    public SubscriberAccount(String subscriber_id, String unique_key_id, String participant_legal_name,\n            String participant_type, PanDetails panDetails, BankAccountDetails accountDetails, String created_at,\n            String updated_at) {\n        super();\n        this.subscriber_id = subscriber_id;\n        this.unique_key_id = unique_key_id;\n        this.participant_legal_name = participant_legal_name;\n        this.participant_type = participant_type;\n        this.panDetails = panDetails;\n        this.accountDetails = accountDetails;\n        this.created_at = created_at;\n        this.updated_at = updated_at;\n    }\n\n    public SubscriberAccount() {\n        \n    }\n    public List&lt;SubscriberAccount&gt; getSubsAccount() {\n        return subsAccount;\n    }\n    public void setSubsAccount(List&lt;SubscriberAccount&gt; subsAccount) {\n        this.subsAccount = subsAccount;\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class AccountValidationController {\n    @Autowired\n    FetchRegistrationDetails fetchRegistrationDetailsSerivce;\n    \n    \n    @Autowired\n    private RestTemplate restTemplate;\n    \n    @RequestMapping(value =&quot;/registration&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;SubscriberAccount&gt;&gt; getRegistrationDetails() throws URISyntaxException {\n        \n        List&lt;SubscriberAccount&gt; subAccountList  = fetchRegistrationDetailsSerivce.fetchRegistrationDetails();\n        \n        \n        return ResponseEntity.ok(subAccountList);\n    }\n    \n    \n    \n}\n\n</code></pre>\n<p>Interface:</p>\n<pre><code>public interface FetchRegistrationDetails {\n    \n    public List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException;\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Service(&quot;fetchRegistrationDetails&quot;)\npublic class FetchRegistrationDetailsImpl implements FetchRegistrationDetails {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    @Autowired(required = true)\n    SendToExcel sendToExcel;\n\n    public List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException {\n        // TODO Auto-generated method stub\n        String url = &quot;http://localhost:8091/api/registrationAPI&quot;;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        \n        List&lt;SubscriberAccount&gt; subAccList = (List&lt;SubscriberAccount&gt;) restTemplate.getForObject(url,\n                List.class, headers);\n        // List&lt;SubscriberAccount&gt; subcrLi st = subAccList.getBody();\n\n        for (SubscriberAccount subscriberAccount : subAccList) {\n            System.out.println(subscriberAccount);\n        }\n\n        sendToExcel.saveDataToExcel(subAccList);\n\n        return subAccList;\n    }\n\n}\n</code></pre>\n<h2>MS2:</h2>\n<p>Domain:\nSame domain as above</p>\n<p>Controller:\n@RestController</p>\n<pre><code>public class SimulatorController {\n    \n    static final String url = &quot;http:localhost:8091/api/registrationAPI&quot;;\n    @Autowired\n    private  SimulatorService simulatorService;\n    \n    \n    @GetMapping(value =&quot;/registrationAPI&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;SimulatorDTO&gt;&gt; sendRegistrationData() throws Exception {\n        List&lt;SimulatorDTO&gt; simulatorEntity = simulatorService.sendRegistrationData();\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        \n        \n    return ResponseEntity.status(HttpStatus.OK).headers(headers).body(simulatorEntity);\n    }\n}\n</code></pre>\n<p>serviceInterface:</p>\n<pre><code>@Component\npublic interface SimulatorService {\n\n    \n\n    public List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException;\n\n    List&lt;SimulatorDTO&gt; fetchDetailsFromExcel(File file) throws FileNotFoundException, IOException;\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Service\npublic class SimulatorServiceImpl implements SimulatorService {\n\n    @Override\n    public List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException {\n        \n        File file = new File(&quot;D:\\\\Workspace\\\\RegistrationData.xlsx&quot;);\n        \n        \n          List&lt;SimulatorDTO&gt; list = new ArrayList&lt;&gt;(); \nPanDTO panDTO = new PanDTO(&quot;AVLPT1847Q&quot;, &quot;DummyName&quot;, &quot;12-12-2011&quot;);\n          \n          BankDTO bankDTO = new BankDTO(&quot;202120211077&quot;, &quot;SBIN000836&quot;, &quot;DummyName&quot;,\n          &quot;Nodal&quot;); \n          list.add(new SimulatorDTO(&quot;ABC.com&quot;, &quot;123456789ABC&quot;, &quot;DUmmyName&quot;,\n          panDTO, bankDTO, &quot;2023-01-23&quot;, &quot;2023-01-23&quot;)); \n          list.add(new SimulatorDTO(&quot;AcC.com&quot;, &quot;1233356789ABC&quot;, &quot;DuummyName&quot;, panDTO, bankDTO,\n          &quot;2023-01-24&quot;, &quot;2023-01-24&quot;));\n         \n        \n        System.out.print(list);\n        return list;\n    }\n</code></pre>\n<p>Please let me know what are your thoughts.\nNote: I am not using any DB here I am just saving in excel.</p>\n<p>I tried manually setting the headers with Content-Type is Application/json. but no use still it says 415 error code.</p>\n<p>I am expecting a new approach and mostly used approach if avoids these kind of bottlenecks.</p>\n"},{"tags":["java","maven","pom.xml","packaging","intellij-13"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676921073,"post_id":75512884,"comment_id":133230738,"body_markdown":"remove the whole stuff about maven-dependency-plugin and go with the answer...","body":"remove the whole stuff about maven-dependency-plugin and go with the answer..."}],"answers":[{"comments":[{"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"score":0,"creation_date":1676923023,"post_id":75512938,"comment_id":133231215,"body_markdown":"As I have multiple projects that depend on this library, there any way for them to copy into their own file structure at compile-time?","body":"As I have multiple projects that depend on this library, there any way for them to copy into their own file structure at compile-time?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1676923169,"post_id":75512938,"comment_id":133231247,"body_markdown":"Are these maven projects?","body":"Are these maven projects?"},{"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"score":0,"creation_date":1676924076,"post_id":75512938,"comment_id":133231432,"body_markdown":"yes.  They are on the same machine and file system","body":"yes.  They are on the same machine and file system"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":1,"creation_date":1676924548,"post_id":75512938,"comment_id":133231529,"body_markdown":"So, you don’t need to copy anything manually if you add this project to their Pom files. The way to do it is by adding a dependency just like you did with log4j (use your groupId, artifact and version) and maven will take care for the rest.","body":"So, you don’t need to copy anything manually if you add this project to their Pom files. The way to do it is by adding a dependency just like you did with log4j (use your groupId, artifact and version) and maven will take care for the rest."}],"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676919171,"creation_date":1676917876,"answer_id":75512938,"question_id":75512884,"body_markdown":"If you want to use one dependency in another maven project that is compiled locally, all you need to do is to run `mvn clean install` on the dependency project, this will add the `jar` to your local `m2` repository. Then, you’ll need to add it as a dependency in another pom.\r\nWhen you will build the other maven project, maven will look for that dependency in your local `m2` folder and will fetch it from there.","title":"Trying to copy a jar file at compile time (or packaging time) using maven and intellij","body":"<p>If you want to use one dependency in another maven project that is compiled locally, all you need to do is to run <code>mvn clean install</code> on the dependency project, this will add the <code>jar</code> to your local <code>m2</code> repository. Then, you’ll need to add it as a dependency in another pom.\nWhen you will build the other maven project, maven will look for that dependency in your local <code>m2</code> folder and will fetch it from there.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1677014439,"post_id":75524497,"comment_id":133253011,"body_markdown":"For maven projects this is not a good solution!","body":"For maven projects this is not a good solution!"}],"tags":[],"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677003966,"creation_date":1677003966,"answer_id":75524497,"question_id":75512884,"body_markdown":"Thanks for everyone&#39;s help.  It was a lot more obvious than I was thinking:\r\nIn the jar project, I have it building the jar:\r\nfile-&gt;Project Structure-&gt;artifacts (make sure that &quot;Include in build project&quot; is selected.  You may also want to play with the output jar file name.  Build the project.  This should create your &quot;out&quot; folder in your project that contains the jar library.\r\nIn the project you want to include the library, add this jar file to the its libraries:\r\nfile-&gt;Project Structure-&gt;libraries (locate and add the newly built jar file.)\r\n\r\nNow, whenever the jar library is updated, the project will have the latest and greatest.","title":"Trying to copy a jar file at compile time (or packaging time) using maven and intellij","body":"<p>Thanks for everyone's help.  It was a lot more obvious than I was thinking:\nIn the jar project, I have it building the jar:\nfile-&gt;Project Structure-&gt;artifacts (make sure that &quot;Include in build project&quot; is selected.  You may also want to play with the output jar file name.  Build the project.  This should create your &quot;out&quot; folder in your project that contains the jar library.\nIn the project you want to include the library, add this jar file to the its libraries:\nfile-&gt;Project Structure-&gt;libraries (locate and add the newly built jar file.)</p>\n<p>Now, whenever the jar library is updated, the project will have the latest and greatest.</p>\n"}],"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677003966,"creation_date":1676917530,"question_id":75512884,"body_markdown":"I have a jar file project that I want to use in other projects.\r\nI want to copy the jar file to the other projects&#39; folder.\r\nIdeally I would like the dependent project to compare the jar file in its folder and copy the library jar if it is newer.\r\nI am willing to accept having the library project copy the jar to the other projects every time it packages.\r\n\r\nI have found many examples, but I am unable to get any of them to work for me.\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SqlPersistance&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-artifact&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                                        &lt;version&gt;${project.version}&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                        &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                        &lt;outputDirectory&gt;../TEST1&lt;/outputDirectory&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe TEST1 folder is never ccreated.\r\n\r\n","title":"Trying to copy a jar file at compile time (or packaging time) using maven and intellij","body":"<p>I have a jar file project that I want to use in other projects.\nI want to copy the jar file to the other projects' folder.\nIdeally I would like the dependent project to compare the jar file in its folder and copy the library jar if it is newer.\nI am willing to accept having the library project copy the jar to the other projects every time it packages.</p>\n<p>I have found many examples, but I am unable to get any of them to work for me.</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SqlPersistance&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-artifact&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;../TEST1&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The TEST1 folder is never ccreated.</p>\n"},{"tags":["java","selenium-webdriver","web-scraping"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1676931791,"post_id":75509556,"comment_id":133233112,"body_markdown":"The handcrafted HTML makes it more difficult to understand the HTML as well as test our solutions before publishing. Update the question with the text based actual HTML.","body":"The handcrafted HTML makes it more difficult to understand the HTML as well as test our solutions before publishing. Update the question with the text based actual HTML."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676987898,"post_id":75509556,"comment_id":133244676,"body_markdown":"@undetectedSelenium I&#39;ve updated my post with some more of the html, hopefully that&#39;s helpful","body":"@undetectedSelenium I&#39;ve updated my post with some more of the html, hopefully that&#39;s helpful"}],"answers":[{"comments":[{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676903597,"post_id":75509686,"comment_id":133225831,"body_markdown":"I&#39;ve changed it to this but the issue still occurs.","body":"I&#39;ve changed it to this but the issue still occurs."},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1676955100,"post_id":75509686,"comment_id":133236051,"body_markdown":"Can you share the actual `HTML`  as it seems to be written by yourself. OR provide the `URL` if it is public.","body":"Can you share the actual <code>HTML</code>  as it seems to be written by yourself. OR provide the <code>URL</code> if it is public."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676972468,"post_id":75509686,"comment_id":133239910,"body_markdown":"I&#39;ve added more of the html document, it is a private page so I can&#39;t add much more.","body":"I&#39;ve added more of the html document, it is a private page so I can&#39;t add much more."}],"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676898734,"creation_date":1676898734,"answer_id":75509686,"question_id":75509556,"body_markdown":"You should try the below\r\n\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]&quot;)));\r\n\r\nInstead of \r\n\r\n    WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]&quot;))","title":"Why does clicking a check box within a td not always work using selenium?","body":"<p>You should try the below</p>\n<pre><code>WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]&quot;)));\n</code></pre>\n<p>Instead of</p>\n<pre><code>WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]&quot;))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676972147,"post_id":75517007,"comment_id":133239799,"body_markdown":"When I do this, I get : Expected condition failed: waiting for element to be clickable","body":"When I do this, I get : Expected condition failed: waiting for element to be clickable"},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676973663,"post_id":75517007,"comment_id":133240264,"body_markdown":"//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]//span clicks and then your xpath returns true for isSelected, but it doesn&#39;t always click. Even when it doesn&#39;t, it returns isSelected = true.","body":"//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preced&zwnj;&#8203;ing::td[3]//span clicks and then your xpath returns true for isSelected, but it doesn&#39;t always click. Even when it doesn&#39;t, it returns isSelected = true."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676975495,"post_id":75517007,"comment_id":133240801,"body_markdown":"I&#39;ve added the full row of html","body":"I&#39;ve added the full row of html"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677003384,"post_id":75517007,"comment_id":133249867,"body_markdown":"Given the HTML you&#39;ve posted, the original XPath I posted should work but it&#39;s not how I would have written it. I&#39;ve updated my answer with another XPath the way I would write it along with an explanation. When you try these, please post the full error message so I can see what the issue might be.","body":"Given the HTML you&#39;ve posted, the original XPath I posted should work but it&#39;s not how I would have written it. I&#39;ve updated my answer with another XPath the way I would write it along with an explanation. When you try these, please post the full error message so I can see what the issue might be."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677003560,"post_id":75517007,"comment_id":133249912,"body_markdown":"NOTE: One danger with using `following::td` and `preceding::td` is that it can jump to another table or row on the page which would obviously be bad and very confusing to debug. The way I&#39;ve written it, all the cells must be within the same TR (in the same table).","body":"NOTE: One danger with using <code>following::td</code> and <code>preceding::td</code> is that it can jump to another table or row on the page which would obviously be bad and very confusing to debug. The way I&#39;ve written it, all the cells must be within the same TR (in the same table)."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1677244188,"post_id":75517007,"comment_id":133304477,"body_markdown":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //tr[./td[2]/div[text()=&#39;Name&#39;]][./td[4]/div[text()=&#39;8&#39;]]/td[1]//input (tried for 30 second(s) with 2000 milliseconds interval)","body":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //tr[./td[2]/div[text()=&#39;Name&#39;]][./td[4]/div[text()=&#39;8&#39;]]/td&zwnj;&#8203;[1]//input (tried for 30 second(s) with 2000 milliseconds interval)"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677257514,"post_id":75517007,"comment_id":133308463,"body_markdown":"I&#39;m not sure what&#39;s happening. That locator works on the HTML you posted. Are you sure that the current page you&#39;re looking at matches with what is expected? &quot;Name&quot; in column 2, &quot;8&quot; in column 4, and an INPUT in column 1? I can&#39;t verify anything myself past the HTML you posted without a link to the page itself.","body":"I&#39;m not sure what&#39;s happening. That locator works on the HTML you posted. Are you sure that the current page you&#39;re looking at matches with what is expected? &quot;Name&quot; in column 2, &quot;8&quot; in column 4, and an INPUT in column 1? I can&#39;t verify anything myself past the HTML you posted without a link to the page itself."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1677506281,"post_id":75517007,"comment_id":133345355,"body_markdown":"The locator definitely works, but its not clickable for some reason. I can&#39;t post the full html or the link as its a private page. @JeffC","body":"The locator definitely works, but its not clickable for some reason. I can&#39;t post the full html or the link as its a private page. @JeffC"}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677003289,"creation_date":1676961392,"answer_id":75517007,"question_id":75509556,"body_markdown":"I think the issue is that your XPath is returning a TD and not the INPUT \\*inside\\* the TD. That&#39;s likely the reason why\r\n\r\n1. Your clicks aren&#39;t always successful. Selenium clicks the exact middle of the element you specify so it&#39;s possible that sometimes the exact middle of the TD hits the checkbox/label and other times it doesn&#39;t.\r\n\r\n1. `.isSelected()` is never going to return anything but `false` when called on a TD element.\r\n\r\nYou need to update your XPath to return the INPUT. The XPath below is the modified version of your current XPath that works with the HTML provided.\r\n\r\n    //td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]//input\r\n\r\nI would rewrite it to the XPath below.\r\n\r\n    //tr[./td[2]/div[text()=&#39;Name&#39;]][./td[4]/div[text()=&#39;8&#39;]]/td[1]//input\r\n\r\n| XPath | Description |\r\n| --- | --- |\r\n| //tr | From the top of the DOM, find any TR|\r\n| [./td[2]/div[text()=&#39;Name&#39;]] | In that TR, the second column contains a DIV with the text &quot;Name&quot; |\r\n| [./td[4]/div[text()=&#39;8&#39;]]     | In that TR, the fourth column contains a DIV with the text &quot;8&quot; |\r\n| /td[1]//input | The INPUT in the first column |\r\n\r\nThis XPath validates that &quot;Name&quot; is in column 2, &quot;8&quot; is in column 4, and the INPUT is in column 1.","title":"Why does clicking a check box within a td not always work using selenium?","body":"<p>I think the issue is that your XPath is returning a TD and not the INPUT *inside* the TD. That's likely the reason why</p>\n<ol>\n<li><p>Your clicks aren't always successful. Selenium clicks the exact middle of the element you specify so it's possible that sometimes the exact middle of the TD hits the checkbox/label and other times it doesn't.</p>\n</li>\n<li><p><code>.isSelected()</code> is never going to return anything but <code>false</code> when called on a TD element.</p>\n</li>\n</ol>\n<p>You need to update your XPath to return the INPUT. The XPath below is the modified version of your current XPath that works with the HTML provided.</p>\n<pre><code>//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]//input\n</code></pre>\n<p>I would rewrite it to the XPath below.</p>\n<pre><code>//tr[./td[2]/div[text()='Name']][./td[4]/div[text()='8']]/td[1]//input\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>XPath</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>//tr</td>\n<td>From the top of the DOM, find any TR</td>\n</tr>\n<tr>\n<td>[./td[2]/div[text()='Name']]</td>\n<td>In that TR, the second column contains a DIV with the text &quot;Name&quot;</td>\n</tr>\n<tr>\n<td>[./td[4]/div[text()='8']]</td>\n<td>In that TR, the fourth column contains a DIV with the text &quot;8&quot;</td>\n</tr>\n<tr>\n<td>/td[1]//input</td>\n<td>The INPUT in the first column</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This XPath validates that &quot;Name&quot; is in column 2, &quot;8&quot; is in column 4, and the INPUT is in column 1.</p>\n"}],"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677003289,"creation_date":1676897942,"question_id":75509556,"body_markdown":"I am trying to click a check box within a td, using\r\n\r\n    WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]&quot;))\r\n\r\nSometimes the checkbox is selected, however when I run `element.isSelected();` it&#39;s always `false`. When the element isn&#39;t selected, I don&#39;t get an error message thrown at all, it just passes but the checkbox hasn&#39;t actually been clicked. I can&#39;t understand why this is, I have tried using javascript and `Actions` however this doesn&#39;t resolve the issue as it only works sometimes.\r\n\r\nI&#39;m using the XPath to click the following TD:\r\n\r\n    &lt;tr class=&quot;MuiTableRow-root jss122 undefined MuiTableRow-hover&quot; data-testid=&quot;MUIDataTableBodyRow-37&quot; id=&quot;MUIDataTableBodyRow-37&quot;&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss91 jss93 MuiTableCell-paddingCheckbox&quot;&gt;\r\n        &lt;div style=&quot;display: flex; align-items: center&quot;&gt;\r\n          &lt;span class=&quot;MuiButtonBase-root MuiIconButton-root jss102 MuiCheckbox-root jss99 MuiCheckbox-colorPrimary MuiIconButton-colorPrimary&quot; aria-disabled=&quot;false&quot; data-description=&quot;row-select&quot; data-index=&quot;37&quot;&gt;\r\n            &lt;span class=&quot;MuiIconButton-label&quot;&gt;\r\n              &lt;input class=&quot;jss98&quot; id=&quot;MUIDataTableSelectCell-37&quot; type=&quot;checkbox&quot; data-indeterminate=&quot;false&quot; value=&quot;&quot; /&gt;\r\n              &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\r\n                &lt;path d=&quot;M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z&quot;&gt;&lt;/path&gt;\r\n              &lt;/svg&gt;\r\n            &lt;/span&gt;\r\n            &lt;span class=&quot;MuiTouchRipple-root&quot;&gt;&lt;/span&gt;\r\n          &lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;0&quot; data-testid=&quot;MuiDataTableBodyCell-0-0&quot;&gt;\r\n        &lt;div class=&quot;jss126&quot;&gt;Name&lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;1&quot; data-testid=&quot;MuiDataTableBodyCell-1-0&quot;&gt;\r\n        &lt;div class=&quot;jss120&quot;&gt;Jenny&lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;2&quot; data-testid=&quot;MuiDataTableBodyCell-2-0&quot;&gt;\r\n        &lt;div class=&quot;jss120&quot;&gt;8&lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;3&quot; data-testid=&quot;MuiDataTableBodyCell-3-0&quot;&gt;\r\n        &lt;div class=&quot;jss120&quot;&gt;\r\n          &lt;div&gt;\r\n            &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\r\n              &lt;path d=&quot;M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z&quot;&gt;&lt;/path&gt;\r\n            &lt;/svg&gt;\r\n            &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\r\n              &lt;path d=&quot;M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z&quot;&gt;&lt;/path&gt;\r\n            &lt;/svg&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nI have tried other possible XPaths, like with INPUT, etc.","title":"Why does clicking a check box within a td not always work using selenium?","body":"<p>I am trying to click a check box within a td, using</p>\n<pre><code>WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]&quot;))\n</code></pre>\n<p>Sometimes the checkbox is selected, however when I run <code>element.isSelected();</code> it's always <code>false</code>. When the element isn't selected, I don't get an error message thrown at all, it just passes but the checkbox hasn't actually been clicked. I can't understand why this is, I have tried using javascript and <code>Actions</code> however this doesn't resolve the issue as it only works sometimes.</p>\n<p>I'm using the XPath to click the following TD:</p>\n<pre><code>&lt;tr class=&quot;MuiTableRow-root jss122 undefined MuiTableRow-hover&quot; data-testid=&quot;MUIDataTableBodyRow-37&quot; id=&quot;MUIDataTableBodyRow-37&quot;&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss91 jss93 MuiTableCell-paddingCheckbox&quot;&gt;\n    &lt;div style=&quot;display: flex; align-items: center&quot;&gt;\n      &lt;span class=&quot;MuiButtonBase-root MuiIconButton-root jss102 MuiCheckbox-root jss99 MuiCheckbox-colorPrimary MuiIconButton-colorPrimary&quot; aria-disabled=&quot;false&quot; data-description=&quot;row-select&quot; data-index=&quot;37&quot;&gt;\n        &lt;span class=&quot;MuiIconButton-label&quot;&gt;\n          &lt;input class=&quot;jss98&quot; id=&quot;MUIDataTableSelectCell-37&quot; type=&quot;checkbox&quot; data-indeterminate=&quot;false&quot; value=&quot;&quot; /&gt;\n          &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\n            &lt;path d=&quot;M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z&quot;&gt;&lt;/path&gt;\n          &lt;/svg&gt;\n        &lt;/span&gt;\n        &lt;span class=&quot;MuiTouchRipple-root&quot;&gt;&lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;0&quot; data-testid=&quot;MuiDataTableBodyCell-0-0&quot;&gt;\n    &lt;div class=&quot;jss126&quot;&gt;Name&lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;1&quot; data-testid=&quot;MuiDataTableBodyCell-1-0&quot;&gt;\n    &lt;div class=&quot;jss120&quot;&gt;Jenny&lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;2&quot; data-testid=&quot;MuiDataTableBodyCell-2-0&quot;&gt;\n    &lt;div class=&quot;jss120&quot;&gt;8&lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;3&quot; data-testid=&quot;MuiDataTableBodyCell-3-0&quot;&gt;\n    &lt;div class=&quot;jss120&quot;&gt;\n      &lt;div&gt;\n        &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\n          &lt;path d=&quot;M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z&quot;&gt;&lt;/path&gt;\n        &lt;/svg&gt;\n        &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\n          &lt;path d=&quot;M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z&quot;&gt;&lt;/path&gt;\n        &lt;/svg&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>I have tried other possible XPaths, like with INPUT, etc.</p>\n"},{"tags":["java","string","operator-overloading","string-concatenation"],"answers":[{"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":1,"creation_date":1267043726,"post_id":2328494,"comment_id":2299260,"body_markdown":"Impressive answer. Have you considered being a teacher?","body":"Impressive answer. Have you considered being a teacher?"},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1267047289,"post_id":2328494,"comment_id":2299811,"body_markdown":"@Willi Sch&#246;nborn: Well, it is the simple and correct answer. I didn&#39;t have time to write more when I wrote it and when I got back to the computer there were plenty of answers explaining it in more detail. Sorry to say, but I don&#39;t see the point in duplicating the other answers, I recommend reading @Sean&#39;s and @jleedev&#39;s if you need more info (And yes, teaching is on my resume).","body":"@Willi Sch&#246;nborn: Well, it is the simple and correct answer. I didn&#39;t have time to write more when I wrote it and when I got back to the computer there were plenty of answers explaining it in more detail. Sorry to say, but I don&#39;t see the point in duplicating the other answers, I recommend reading @Sean&#39;s and @jleedev&#39;s if you need more info (And yes, teaching is on my resume)."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1267123541,"post_id":2328494,"comment_id":2307583,"body_markdown":"The point is: Your answer is so general, it fits for almost ~75% of all java related questions on SO.","body":"The point is: Your answer is so general, it fits for almost ~75% of all java related questions on SO."},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1267124332,"post_id":2328494,"comment_id":2307668,"body_markdown":"@Will Sch&#246;nborn 75% of all java issues are not handled by the compiler. In fact, in most cases the compiler just compiles source to byte code. The few exceptions are the + operator on String and a few things where the result is intrinsic function inlining. My answer got in first with the only intention to be a quick answer to point the OP in the right direction while waiting for more complete answers. I had like 30s to spare before a meeting and dedicated them to SO. If you don&#39;t like that, please go visit the hyphen site or something or build some rep yourself instead of complaining.","body":"@Will Sch&#246;nborn 75% of all java issues are not handled by the compiler. In fact, in most cases the compiler just compiles source to byte code. The few exceptions are the + operator on String and a few things where the result is intrinsic function inlining. My answer got in first with the only intention to be a quick answer to point the OP in the right direction while waiting for more complete answers. I had like 30s to spare before a meeting and dedicated them to SO. If you don&#39;t like that, please go visit the hyphen site or something or build some rep yourself instead of complaining."}],"tags":[],"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"comment_count":4,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1267036382,"creation_date":1267036382,"answer_id":2328494,"question_id":2328483,"body_markdown":"It is handled by the compiler.","title":"+ operator for String in Java","body":"<p>It is handled by the compiler.</p>\n"},{"comments":[{"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"score":0,"creation_date":1267075644,"post_id":2328502,"comment_id":2302118,"body_markdown":"`StringBuilder` should be preferred where synchronization is not a concern.","body":"<code>StringBuilder</code> should be preferred where synchronization is not a concern."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1375201018,"post_id":2328502,"comment_id":26236073,"body_markdown":"@gpampara The Compiler knows to use StringBuilder. StringBuffer was used in old releases before the introduction of StringBuilder.","body":"@gpampara The Compiler knows to use StringBuilder. StringBuffer was used in old releases before the introduction of StringBuilder."}],"tags":[],"owner":{"account_id":10450,"reputation":172578,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1267036450,"creation_date":1267036450,"answer_id":2328502,"question_id":2328483,"body_markdown":"From the [Fine Manual](http://java.sun.com/javase/6/docs/api/java/lang/String.html):\r\n\r\n&gt; The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the `StringBuilder`(or `StringBuffer`) class and its `append` method. String conversions are implemented through the method toString, defined by Object and inherited by all classes in Java. For additional information on string concatenation and conversion, see Gosling, Joy, and Steele, *The Java Language Specification*.\r\n\r\nSee [String Concatenation](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1) in the JLS.","title":"+ operator for String in Java","body":"<p>From the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html\" rel=\"noreferrer\">Fine Manual</a>:</p>\n\n<blockquote>\n  <p>The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the <code>StringBuilder</code>(or <code>StringBuffer</code>) class and its <code>append</code> method. String conversions are implemented through the method toString, defined by Object and inherited by all classes in Java. For additional information on string concatenation and conversion, see Gosling, Joy, and Steele, <em>The Java Language Specification</em>.</p>\n</blockquote>\n\n<p>See <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1\" rel=\"noreferrer\">String Concatenation</a> in the JLS.</p>\n"},{"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267036509,"creation_date":1267036509,"answer_id":2328509,"question_id":2328483,"body_markdown":"It&#39;s done at the language level. The Java Language Specification is [very specific about what string addition must do](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1).","title":"+ operator for String in Java","body":"<p>It's done at the language level. The Java Language Specification is <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1\" rel=\"nofollow noreferrer\">very specific about what string addition must do</a>.</p>\n"},{"tags":[],"owner":{"account_id":33136,"reputation":27684,"user_id":92493,"accept_rate":83,"display_name":"Otto Allmendinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267036547,"creation_date":1267036547,"answer_id":2328516,"question_id":2328483,"body_markdown":"This is special behavior documented in the [language specification](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#39990).\r\n\r\n&gt; 15.18.1 String Concatenation Operator +\r\n&gt; \r\n&gt; If only one operand expression is of\r\n&gt; type String, then string conversion is\r\n&gt; performed on the other operand to\r\n&gt; produce a string at run time. The\r\n&gt; result is a reference to a String\r\n&gt; object (newly created, unless the\r\n&gt; expression is a compile-time constant\r\n&gt; expression (&#167;15.28))that is the\r\n&gt; concatenation of the two operand\r\n&gt; strings. The characters of the\r\n&gt; left-hand operand precede the\r\n&gt; characters of the right-hand operand\r\n&gt; in the newly created string. If an\r\n&gt; operand of type String is null, then\r\n&gt; the string &quot;null&quot; is used instead of\r\n&gt; that operand.\r\n\r\n\r\n\r\n ","title":"+ operator for String in Java","body":"<p>This is special behavior documented in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#39990\" rel=\"nofollow noreferrer\">language specification</a>.</p>\n\n<blockquote>\n  <p>15.18.1 String Concatenation Operator +</p>\n  \n  <p>If only one operand expression is of\n  type String, then string conversion is\n  performed on the other operand to\n  produce a string at run time. The\n  result is a reference to a String\n  object (newly created, unless the\n  expression is a compile-time constant\n  expression (§15.28))that is the\n  concatenation of the two operand\n  strings. The characters of the\n  left-hand operand precede the\n  characters of the right-hand operand\n  in the newly created string. If an\n  operand of type String is null, then\n  the string \"null\" is used instead of\n  that operand.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":61267,"reputation":29250,"user_id":182693,"accept_rate":77,"display_name":"Sean"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1267040995,"creation_date":1267036548,"answer_id":2328517,"question_id":2328483,"body_markdown":"The compiler treats your code as if you had written something like:\r\n\r\n    String both = new StringBuilder().append(ab).append(cd).toString();\r\n\r\nEdit: Any reference?  Well, if I compile and decompile the OP&#39;s code, I get this:\r\n\r\n    0:  ldc #2; //String ab\r\n    2:  astore_1\r\n    3:  ldc #3; //String cd\r\n    5:  astore_2\r\n    6:  new #4; //class java/lang/StringBuilder\r\n    9:  dup\r\n    10: invokespecial   #5; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n    13: aload_1\r\n    14: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    17: aload_2\r\n    18: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    21: invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n    24: astore_3\r\n    25: return\r\n\r\nSo, it&#39;s like I said.\r\n","title":"+ operator for String in Java","body":"<p>The compiler treats your code as if you had written something like:</p>\n\n<pre><code>String both = new StringBuilder().append(ab).append(cd).toString();\n</code></pre>\n\n<p>Edit: Any reference?  Well, if I compile and decompile the OP's code, I get this:</p>\n\n<pre><code>0:  ldc #2; //String ab\n2:  astore_1\n3:  ldc #3; //String cd\n5:  astore_2\n6:  new #4; //class java/lang/StringBuilder\n9:  dup\n10: invokespecial   #5; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n13: aload_1\n14: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n17: aload_2\n18: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n21: invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n24: astore_3\n25: return\n</code></pre>\n\n<p>So, it's like I said.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267036857,"creation_date":1267036857,"answer_id":2328547,"question_id":2328483,"body_markdown":"`String` is defined as a standard type just like int, double, float, etc. on compiler level. Essentially, all compilers have operator overloading. Operator overloading is not defined for Developers (unlike in C++).\r\n\r\nInterestingly enough: This question was logged as a bug: https://bugs.java.com/bugdatabase/view_bug?bug_id=4905919","title":"+ operator for String in Java","body":"<p><code>String</code> is defined as a standard type just like int, double, float, etc. on compiler level. Essentially, all compilers have operator overloading. Operator overloading is not defined for Developers (unlike in C++).</p>\n<p>Interestingly enough: This question was logged as a bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4905919\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4905919</a></p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":3,"creation_date":1375200912,"post_id":2328578,"comment_id":26236005,"body_markdown":"There is no `new String().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)`, but `new StringBuilder().append(&quot;a&quot;).append(&quot;b).append(&quot;c&quot;).toString()`. The *no-stringbuilder* way would be `&quot;a&quot;.concat(&quot;b&quot;).concat(&quot;c&quot;)`, and this is the inefficient way as you described. (But when using + with compile-time constants, all of this is already done by the compiler.)","body":"There is no <code>new String().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)</code>, but <code>new StringBuilder().append(&quot;a&quot;).append(&quot;b).append(&quot;c&quot;).toString(&zwnj;&#8203;)</code>. The <i>no-stringbuilder</i> way would be <code>&quot;a&quot;.concat(&quot;b&quot;).concat(&quot;c&quot;)</code>, and this is the inefficient way as you described. (But when using + with compile-time constants, all of this is already done by the compiler.)"}],"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677002417,"creation_date":1267037076,"answer_id":2328578,"question_id":2328483,"body_markdown":"Most of the answers here are correct (it&#39;s handled by the compiler, + is converted to .append()...)\r\n\r\nI wanted to add that everyone should take a look at the source code for String and append at some point, it&#39;s pretty impressive.\r\n\r\nI believe it came down to something like:\r\n\r\n    &quot;a&quot;+&quot;b&quot;+&quot;c&quot;\r\n\r\n=\r\n\r\n    new StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)\r\n\r\nBut then some magic happens.  This turns into:\r\n\r\n - Create a string array of length 3\r\n - copy a into the first position.\r\n - copy b into the second\r\n - copy c into the third\r\n\r\nWhereas most people believe that it will create a 2 character array with &quot;ab&quot;, and then throw it away when it creates a three character array with &quot;abc&quot;.  It actually understands that it&#39;s being chained and does some manipulation outside what you would assume if these were simple library calls.\r\n\r\n&lt;s&gt;There is also a trick where if  you have the string &quot;abc&quot; and you ask for a substring that turns out to be &quot;bc&quot;, they CAN share the exact same underlying array.  You&#39;ll notice that there is a start position, end position and &quot;shared&quot; flag.&lt;/s&gt;\r\n\r\nIn fact, if it&#39;s not shared, it&#39;s possible for it to extend the length of a string array and copy the new characters in when appending.\r\n\r\nNow I&#39;m just being confusing.  Read the source code--it&#39;s fairly cool.\r\n\r\nVery Late Edit:\r\nThe part about sharing the underlying array isn&#39;t quite true any more.  They had to de-optimize String a little because people were downloading giant strings, taking a tiny sub-string and keeping it.  This was holding the entire underlying array in storage, it couldn&#39;t be GC&#39;d until all sub-references were dropped.","title":"+ operator for String in Java","body":"<p>Most of the answers here are correct (it's handled by the compiler, + is converted to .append()...)</p>\n<p>I wanted to add that everyone should take a look at the source code for String and append at some point, it's pretty impressive.</p>\n<p>I believe it came down to something like:</p>\n<pre><code>&quot;a&quot;+&quot;b&quot;+&quot;c&quot;\n</code></pre>\n<p>=</p>\n<pre><code>new StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)\n</code></pre>\n<p>But then some magic happens.  This turns into:</p>\n<ul>\n<li>Create a string array of length 3</li>\n<li>copy a into the first position.</li>\n<li>copy b into the second</li>\n<li>copy c into the third</li>\n</ul>\n<p>Whereas most people believe that it will create a 2 character array with &quot;ab&quot;, and then throw it away when it creates a three character array with &quot;abc&quot;.  It actually understands that it's being chained and does some manipulation outside what you would assume if these were simple library calls.</p>\n<p><s>There is also a trick where if  you have the string &quot;abc&quot; and you ask for a substring that turns out to be &quot;bc&quot;, they CAN share the exact same underlying array.  You'll notice that there is a start position, end position and &quot;shared&quot; flag.</s></p>\n<p>In fact, if it's not shared, it's possible for it to extend the length of a string array and copy the new characters in when appending.</p>\n<p>Now I'm just being confusing.  Read the source code--it's fairly cool.</p>\n<p>Very Late Edit:\nThe part about sharing the underlying array isn't quite true any more.  They had to de-optimize String a little because people were downloading giant strings, taking a tiny sub-string and keeping it.  This was holding the entire underlying array in storage, it couldn't be GC'd until all sub-references were dropped.</p>\n"}],"owner":{"account_id":36938,"reputation":17559,"user_id":105486,"accept_rate":62,"display_name":"Samuel Carrijo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19654,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1382445538,"accepted_answer_id":2328502,"answer_count":7,"score":9,"last_activity_date":1677002417,"creation_date":1267036284,"question_id":2328483,"body_markdown":"I saw [this question][1] a few minutes ago, and decided to take a look in the java String class to check if there was some overloading for the `+` operator.\r\n\r\nI couldn&#39;t find anything, but I know I can do this\r\n\r\n    String ab = &quot;ab&quot;;\r\n    String cd = &quot;cd&quot;;\r\n    String both = ab + cd; //both = &quot;abcd&quot;\r\n\r\nWhere&#39;s that implemented?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2327916/operator-in-java","title":"+ operator for String in Java","body":"<p>I saw <a href=\"https://stackoverflow.com/questions/2327916/operator-in-java\">this question</a> a few minutes ago, and decided to take a look in the java String class to check if there was some overloading for the <code>+</code> operator.</p>\n\n<p>I couldn't find anything, but I know I can do this</p>\n\n<pre><code>String ab = \"ab\";\nString cd = \"cd\";\nString both = ab + cd; //both = \"abcd\"\n</code></pre>\n\n<p>Where's that implemented?</p>\n"},{"tags":["java","hibernate","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455223523,"creation_date":1455223523,"answer_id":35349693,"question_id":35336446,"body_markdown":"No this is not possible. The constraint validator just knows that `false` is returned. There is no way to know why `false` is returned. Also, the implementation of `isValidPrice` has no knowledge of the `@AssertTrue` constraints. ","title":"Customize error message depends on condition in JSR 303","body":"<p>No this is not possible. The constraint validator just knows that <code>false</code> is returned. There is no way to know why <code>false</code> is returned. Also, the implementation of <code>isValidPrice</code> has no knowledge of the <code>@AssertTrue</code> constraints. </p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677002347,"creation_date":1455185818,"question_id":35336446,"body_markdown":"I have the following code:\r\n   \r\n\r\n        ....\r\n        @AssertTrue(message = &quot;I want to customize this message&quot;)\r\n        public boolean isValidPrice() {\r\n            if (...) {\r\n                return false; // error message 1\r\n            }\r\n            if (...) {\r\n                return false; // error message 2\r\n            }\r\n             if (...) {\r\n                return false; // error message 3\r\n            }\r\n            return true;\r\n        }\r\n\r\nI need to return different error messages depends on condition\r\n\r\nDoes `JSR 303` allow this?\r\n\r\nP.S.\r\n\r\n`error message 2` should not be shown if `error message 1` have already shown","title":"Customize error message depends on condition in JSR 303","body":"<p>I have the following code:</p>\n\n<pre><code>    ....\n    @AssertTrue(message = \"I want to customize this message\")\n    public boolean isValidPrice() {\n        if (...) {\n            return false; // error message 1\n        }\n        if (...) {\n            return false; // error message 2\n        }\n         if (...) {\n            return false; // error message 3\n        }\n        return true;\n    }\n</code></pre>\n\n<p>I need to return different error messages depends on condition</p>\n\n<p>Does <code>JSR 303</code> allow this?</p>\n\n<p>P.S.</p>\n\n<p><code>error message 2</code> should not be shown if <code>error message 1</code> have already shown</p>\n"},{"tags":["java","eclipse","git","github","git-branch"],"answers":[{"tags":[],"owner":{"account_id":2859784,"reputation":431,"user_id":2455274,"display_name":"LuisGP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521731758,"creation_date":1521731758,"answer_id":49432296,"question_id":49432154,"body_markdown":"Before a new item is considered attached to a branch in git, you must commit it. Git works with commits. Branches (and Tags) are only &quot;pointers&quot; to that commits (or &quot;named&quot; commits).","title":"Adding a branch in Eclipse","body":"<p>Before a new item is considered attached to a branch in git, you must commit it. Git works with commits. Branches (and Tags) are only \"pointers\" to that commits (or \"named\" commits).</p>\n"},{"tags":[],"owner":{"account_id":7829656,"reputation":11,"user_id":8587825,"display_name":"CoolMandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521731810,"creation_date":1521731810,"answer_id":49432319,"question_id":49432154,"body_markdown":"It suggest that you did not change the branch. You worked on the master branch only. You need to switch to a specific branch by going to **Git perspective -&gt; Switch To** option. ","title":"Adding a branch in Eclipse","body":"<p>It suggest that you did not change the branch. You worked on the master branch only. You need to switch to a specific branch by going to <strong>Git perspective -> Switch To</strong> option. </p>\n"}],"owner":{"account_id":7922035,"reputation":67,"user_id":5982723,"accept_rate":67,"display_name":"Sportalcraft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49432296,"answer_count":2,"score":0,"last_activity_date":1677002284,"creation_date":1521731387,"question_id":49432154,"body_markdown":"I&#39;m trying to learn how to use GitHub.\r\nI managed to create a repository and update the master,\r\nBut I&#39;m trying to understand how the branching is working.\r\n \r\nI have created a new branch on eclipse by right clicking the master and then &quot;Create branch...&quot; button.\r\nAfter that I double-clicked it to work on this branch, and I added a new class to see if I am working on this branch. \r\n\r\nBut when I&#39;m going back to the master that class is already there, and I did not used the merge command...\r\nIn the project explorer the content on the [...] after the project&#39;s name has change to the new branch&#39;s name, which I will assumed means that I&#39;m working on a different branch.\r\n\r\nSo, what am I doing wrong?\r\nThanks!","title":"Adding a branch in Eclipse","body":"<p>I'm trying to learn how to use GitHub.\nI managed to create a repository and update the master,\nBut I'm trying to understand how the branching is working.</p>\n<p>I have created a new branch on eclipse by right clicking the master and then &quot;Create branch...&quot; button.\nAfter that I double-clicked it to work on this branch, and I added a new class to see if I am working on this branch.</p>\n<p>But when I'm going back to the master that class is already there, and I did not used the merge command...\nIn the project explorer the content on the [...] after the project's name has change to the new branch's name, which I will assumed means that I'm working on a different branch.</p>\n<p>So, what am I doing wrong?\nThanks!</p>\n"},{"tags":["java","java-17","openwebstart"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669393418,"post_id":74575453,"comment_id":131638664,"body_markdown":"Does your project have a `module-info.java`? If so, does it contain `requires java.sql;`?","body":"Does your project have a <code>module-info.java</code>? If so, does it contain <code>requires java.sql;</code>?"},{"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"score":0,"creation_date":1669399642,"post_id":74575453,"comment_id":131640199,"body_markdown":"Yes we did. Here&#39;s the content of the file :requires kernel.remote;\n  requires commons.collections;\n  requires cre.icu4j;\n  requires jasperreports;\n  requires java.datatransfer;\n  requires java.desktop;\n  requires java.logging;\n  requires java.management;\n  requires java.naming;\n  requires java.prefs;\n  requires java.rmi;\n  requires java.sql;\n  requires javafx.base;\n  requires javafx.controls;\n  requires javafx.graphics;\n  requires javafx.swing;\n  requires javafx.web;\n  requires javafx.fxml;\n  requires javafx.media;\n  requires jcs;\n  requires jdk.jsobject;\n  ..","body":"Yes we did. Here&#39;s the content of the file :requires kernel.remote;   requires commons.collections;   requires cre.icu4j;   requires jasperreports;   requires java.datatransfer;   requires java.desktop;   requires java.logging;   requires java.management;   requires java.naming;   requires java.prefs;   requires java.rmi;   requires java.sql;   requires javafx.base;   requires javafx.controls;   requires javafx.graphics;   requires javafx.swing;   requires javafx.web;   requires javafx.fxml;   requires javafx.media;   requires jcs;   requires jdk.jsobject;   .."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669449266,"post_id":74575453,"comment_id":131646898,"body_markdown":"My experience with the Java Module System is limited, but have you tried adding add-opens=java.sql/java.sql=java.rmi","body":"My experience with the Java Module System is limited, but have you tried adding add-opens=java.sql/java.sql=java.rmi"},{"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"score":0,"creation_date":1669633094,"post_id":74575453,"comment_id":131678631,"body_markdown":"Hello, thanks for your reply. We tried this : `&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql/java.sql=java.rmi&quot;/&gt;`and this `&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql/java.sql=ALL-UNNAMED&quot;/&gt;` with no result (same error)","body":"Hello, thanks for your reply. We tried this : <code>&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql&#47;java.sql=java.rmi&quot;&#47;&gt;</code>and this <code>&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql&#47;java.sql=ALL-UNNAMED&quot;&#47;&gt;</code> with no result (same error)"}],"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677002207,"creation_date":1669392851,"question_id":74575453,"body_markdown":"We are currently migrating from Java 8 to Java  17 + open web start. We are facing an issue we are not able to solve after quite a lot of research : We get a ClassNotFound error on java.sql.Date when launching the client. The package is present in the module.java file.\r\n\r\nHere is the complete stack\r\n\r\n```none\r\njava.lang.ClassNotFoundException: java.sql.Date\r\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    at java.rmi/sun.rmi.server.LoaderHandler$Loader.loadClass(LoaderHandler.java:1216)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    at java.base/java.lang.Class.forName0(Native Method)\r\n    at java.base/java.lang.Class.forName(Class.java:467)\r\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClassForName(LoaderHandler.java:1230)\r\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:458)\r\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:188)\r\n    at java.rmi/java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:639)\r\n    at java.rmi/java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:265)\r\n    at java.rmi/sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:199)\r\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2045)\r\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1909)\r\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2235)\r\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\r\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\r\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\r\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\r\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\r\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\r\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\r\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\r\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\r\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\r\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\r\n    at java.rmi/sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:328)\r\n    at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:178)\r\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:215)\r\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:160)\r\n    at jdk.proxy2/jdk.proxy2.$Proxy13.exec(Unknown Source)\r\n    at net.sf.extrmi.ClientRMIInterceptorControl.makeRemoteInvocation(ClientRMIInterceptorControl.java:312)\r\n    at net.sf.extrmi.ClientRMIInterceptorControl.invoke(ClientRMIInterceptorControl.java:208)\r\n    at jdk.proxy2/jdk.proxy2.$Proxy13.getVersionStruct(Unknown Source)\r\n    at kim.util.client.entryadm.mvc.LauncherCtrl.checkAppl(LauncherCtrl.java:162)\r\n    at kim.util.client.entryadm.mvc.LauncherCtrl$1.run(LauncherCtrl.java:86)\r\n    at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nand the jnlp file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!-- JNLP File for gsi --&gt; \r\n&lt;jnlp \r\n     spec=&quot;1.0+&quot; \r\n     codebase=&quot;http://vm2022v7st:8060/xxx&quot; \r\n&gt; \r\n  &lt;information&gt; \r\n    &lt;title&gt;xxx&lt;/title&gt; \r\n    &lt;vendor&gt;xxxx&lt;/vendor&gt; \r\n    &lt;homepage href=&quot;http://www.xxxxxx.com&quot;/&gt; \r\n    &lt;description&gt;xxxxx&lt;/description&gt; \r\n    &lt;description kind=&quot;short&quot;&gt;xxxxx&lt;/description&gt;\r\n    &lt;icon href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/kimweb_64x64.png&quot;/&gt;\r\n    &lt;icon kind=&quot;splash&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/splash_screen_kimoce.png&quot;/&gt;\r\n  &lt;/information&gt; \r\n  &lt;security&gt;\r\n   &lt;all-permissions /&gt;\r\n  &lt;/security&gt;  \r\n  &lt;update check=&quot;never&quot; policy=&quot;always&quot;/&gt;  &lt;resources&gt; \r\n    &lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot;/&gt;\r\n    &lt;jar name=&quot;kimweb&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/kimweb.jar&quot;/&gt;\r\n    &lt;jar name=&quot;utilscommons-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/utilscommons-1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;extrmi-0.2.4.3.Kim1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/extrmi-0.2.4.3.Kim1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;commons-logging-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-logging-1.1.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;commons-collections-3.2.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-collections-3.2.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jcommon-1.0.23&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcommon-1.0.23.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jfreechart-1.0.19&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jfreechart-1.0.19.jar&quot;/&gt;\r\n    &lt;jar name=&quot;swingx-1.6.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/swingx-1.6.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-entitymanager-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-entitymanager-5.2.5.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-c3p0-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-c3p0-5.2.5.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-core-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-core-5.2.5.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-validator-5.3.4.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-validator-5.3.4.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-jpa-2.1-api-1.0.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-jpa-2.1-api-1.0.0.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javassist-3.18.1-GA&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javassist-3.18.1-GA.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jboss-logging-3.3.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jboss-logging-3.3.0.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;geronimo-jms_1.1_spec-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-jms_1.1_spec-1.1.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;activemq-all-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-all-5.17.2.jar&quot;/&gt;\r\n    &lt;jar name=&quot;activemq-jaas-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-jaas-5.17.2.jar&quot;/&gt;\r\n    &lt;jar name=&quot;geronimo-j2ee-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-j2ee-1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;twain-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/twain-1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;postgresql-42.2.19-2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/postgresql-42.2.19-2.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jcs-1.3&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcs-1.3.jar&quot;/&gt;\r\n    &lt;jar name=&quot;concurrent-1.3.4&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/concurrent-1.3.4.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-base-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-controls-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-fxml-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-graphics-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-media-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-swing-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-web-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-base-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-controls-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-fxml-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-graphics-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-media-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-swing-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-web-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-win.jar&quot;/&gt;\r\n \r\n    &lt;jar name=&quot;pluginsmanager&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/pluginsmanager.jar&quot;/&gt;\r\n    &lt;jar name=&quot;slf4j-api-2.0.0.jar&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/slf4j-api-2.0.0.jar&quot;/&gt;\r\n   &lt;property name=&quot;net.sf.extrmi.RMIInterceptorControlInitInfo.RMIInterceptorClass.kim.rmi.extrmi.interceptor.TransacRmiInterceptor&quot; value=&quot;&quot;/&gt;\r\n  &lt;/resources&gt; \r\n  &lt;application-desc main-class=&quot;kim.appli.frame.entryadm.Launcher&quot;&gt;\r\n    &lt;argument&gt;bundleUrl=http://vm2022v7st:8060/KimWeb/ressources/lib/kimoce-bundles.jar|prism.order=j2d|--add-opens=java.base/java.lang=ALL-UNNAMED&lt;/argument&gt;\r\n  &lt;/application-desc&gt;\r\n&lt;/jnlp&gt; \r\n```\r\n\r\nWe checked the the module.java file, added the add-opens=java.base/java.lang=ALL-UNNAMED, but no result\r\n\r\nHas somebody had this issue before?","title":"Open Web Start - java.sql.date ClassNotFound when lauching the client","body":"<p>We are currently migrating from Java 8 to Java  17 + open web start. We are facing an issue we are not able to solve after quite a lot of research : We get a ClassNotFound error on java.sql.Date when launching the client. The package is present in the module.java file.</p>\n<p>Here is the complete stack</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: java.sql.Date\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.rmi/sun.rmi.server.LoaderHandler$Loader.loadClass(LoaderHandler.java:1216)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClassForName(LoaderHandler.java:1230)\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:458)\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:188)\n    at java.rmi/java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:639)\n    at java.rmi/java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:265)\n    at java.rmi/sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:199)\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2045)\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1909)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2235)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\n    at java.rmi/sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:328)\n    at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:178)\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:215)\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:160)\n    at jdk.proxy2/jdk.proxy2.$Proxy13.exec(Unknown Source)\n    at net.sf.extrmi.ClientRMIInterceptorControl.makeRemoteInvocation(ClientRMIInterceptorControl.java:312)\n    at net.sf.extrmi.ClientRMIInterceptorControl.invoke(ClientRMIInterceptorControl.java:208)\n    at jdk.proxy2/jdk.proxy2.$Proxy13.getVersionStruct(Unknown Source)\n    at kim.util.client.entryadm.mvc.LauncherCtrl.checkAppl(LauncherCtrl.java:162)\n    at kim.util.client.entryadm.mvc.LauncherCtrl$1.run(LauncherCtrl.java:86)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>and the jnlp file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!-- JNLP File for gsi --&gt; \n&lt;jnlp \n     spec=&quot;1.0+&quot; \n     codebase=&quot;http://vm2022v7st:8060/xxx&quot; \n&gt; \n  &lt;information&gt; \n    &lt;title&gt;xxx&lt;/title&gt; \n    &lt;vendor&gt;xxxx&lt;/vendor&gt; \n    &lt;homepage href=&quot;http://www.xxxxxx.com&quot;/&gt; \n    &lt;description&gt;xxxxx&lt;/description&gt; \n    &lt;description kind=&quot;short&quot;&gt;xxxxx&lt;/description&gt;\n    &lt;icon href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/kimweb_64x64.png&quot;/&gt;\n    &lt;icon kind=&quot;splash&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/splash_screen_kimoce.png&quot;/&gt;\n  &lt;/information&gt; \n  &lt;security&gt;\n   &lt;all-permissions /&gt;\n  &lt;/security&gt;  \n  &lt;update check=&quot;never&quot; policy=&quot;always&quot;/&gt;  &lt;resources&gt; \n    &lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot;/&gt;\n    &lt;jar name=&quot;kimweb&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/kimweb.jar&quot;/&gt;\n    &lt;jar name=&quot;utilscommons-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/utilscommons-1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;extrmi-0.2.4.3.Kim1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/extrmi-0.2.4.3.Kim1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;commons-logging-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-logging-1.1.1.jar&quot;/&gt;\n    &lt;jar name=&quot;commons-collections-3.2.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-collections-3.2.1.jar&quot;/&gt;\n    &lt;jar name=&quot;jcommon-1.0.23&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcommon-1.0.23.jar&quot;/&gt;\n    &lt;jar name=&quot;jfreechart-1.0.19&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jfreechart-1.0.19.jar&quot;/&gt;\n    &lt;jar name=&quot;swingx-1.6.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/swingx-1.6.1.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-entitymanager-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-entitymanager-5.2.5.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-c3p0-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-c3p0-5.2.5.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-core-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-core-5.2.5.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-validator-5.3.4.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-validator-5.3.4.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-jpa-2.1-api-1.0.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-jpa-2.1-api-1.0.0.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;javassist-3.18.1-GA&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javassist-3.18.1-GA.jar&quot;/&gt;\n    &lt;jar name=&quot;jboss-logging-3.3.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jboss-logging-3.3.0.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;geronimo-jms_1.1_spec-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-jms_1.1_spec-1.1.1.jar&quot;/&gt;\n    &lt;jar name=&quot;activemq-all-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-all-5.17.2.jar&quot;/&gt;\n    &lt;jar name=&quot;activemq-jaas-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-jaas-5.17.2.jar&quot;/&gt;\n    &lt;jar name=&quot;geronimo-j2ee-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-j2ee-1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;twain-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/twain-1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;postgresql-42.2.19-2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/postgresql-42.2.19-2.jar&quot;/&gt;\n    &lt;jar name=&quot;jcs-1.3&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcs-1.3.jar&quot;/&gt;\n    &lt;jar name=&quot;concurrent-1.3.4&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/concurrent-1.3.4.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-base-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-controls-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-fxml-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-graphics-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-media-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-swing-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-web-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-base-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-controls-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-fxml-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-graphics-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-media-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-swing-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-web-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-win.jar&quot;/&gt;\n \n    &lt;jar name=&quot;pluginsmanager&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/pluginsmanager.jar&quot;/&gt;\n    &lt;jar name=&quot;slf4j-api-2.0.0.jar&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/slf4j-api-2.0.0.jar&quot;/&gt;\n   &lt;property name=&quot;net.sf.extrmi.RMIInterceptorControlInitInfo.RMIInterceptorClass.kim.rmi.extrmi.interceptor.TransacRmiInterceptor&quot; value=&quot;&quot;/&gt;\n  &lt;/resources&gt; \n  &lt;application-desc main-class=&quot;kim.appli.frame.entryadm.Launcher&quot;&gt;\n    &lt;argument&gt;bundleUrl=http://vm2022v7st:8060/KimWeb/ressources/lib/kimoce-bundles.jar|prism.order=j2d|--add-opens=java.base/java.lang=ALL-UNNAMED&lt;/argument&gt;\n  &lt;/application-desc&gt;\n&lt;/jnlp&gt; \n</code></pre>\n<p>We checked the the module.java file, added the add-opens=java.base/java.lang=ALL-UNNAMED, but no result</p>\n<p>Has somebody had this issue before?</p>\n"},{"tags":["java","list","class","parameters"],"comments":[{"owner":{"account_id":9551641,"reputation":2137,"user_id":7095601,"display_name":"Elan Hamburger"},"score":0,"creation_date":1521743028,"post_id":49435844,"comment_id":85873697,"body_markdown":"Just clarifying, do you want this method to add the `Age` property of every instance of `Human` to the list?","body":"Just clarifying, do you want this method to add the <code>Age</code> property of every instance of <code>Human</code> to the list?"},{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":0,"creation_date":1521743215,"post_id":49435844,"comment_id":85873788,"body_markdown":"Let me edit the question and make it clearer","body":"Let me edit the question and make it clearer"}],"answers":[{"comments":[{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":0,"creation_date":1521743932,"post_id":49435957,"comment_id":85874182,"body_markdown":"That&#39;s actually, pretty much what I&#39;m looking for! I&#39;ll check how to do it on a generic method!","body":"That&#39;s actually, pretty much what I&#39;m looking for! I&#39;ll check how to do it on a generic method!"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1521747655,"post_id":49435957,"comment_id":85876127,"body_markdown":"There&#39;s no point in using a `ToIntFunction&lt;SomeObjectClass&gt;` instead of just `Function&lt;SomeObjectClass, T&gt;` with `T` being a generic type parameter of the method, as you are storing the `int`s in an `ArrayList&lt;Integer&gt;`, thus boxing the integers.","body":"There&#39;s no point in using a <code>ToIntFunction&lt;SomeObjectClass&gt;</code> instead of just <code>Function&lt;SomeObjectClass, T&gt;</code> with <code>T</code> being a generic type parameter of the method, as you are storing the <code>int</code>s in an <code>ArrayList&lt;Integer&gt;</code>, thus boxing the integers."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1521747858,"post_id":49435957,"comment_id":85876253,"body_markdown":"@Federico Peralta Schaffne You are right. I confess to have hesitated for this same reason. But I finally kept like that as it gives me the feeling that it was more readable. Not really in fact ?","body":"@Federico Peralta Schaffne You are right. I confess to have hesitated for this same reason. But I finally kept like that as it gives me the feeling that it was more readable. Not really in fact ?"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1521747965,"post_id":49435957,"comment_id":85876314,"body_markdown":"You are right, it is more readable this way. If you introduce a generic type parameter, the code will be less readable. On the other hand, I think the OP really wants a way to *project* a list of `SomeObjectClass` to a list of *any* type.","body":"You are right, it is more readable this way. If you introduce a generic type parameter, the code will be less readable. On the other hand, I think the OP really wants a way to <i>project</i> a list of <code>SomeObjectClass</code> to a list of <i>any</i> type."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":2,"creation_date":1521748511,"post_id":49435957,"comment_id":85876583,"body_markdown":"Alex Coronas and @Federico Peralta Schaffner  I will edit with a generic way for the returned List.","body":"Alex Coronas and @Federico Peralta Schaffner  I will edit with a generic way for the returned List."},{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":0,"creation_date":1521748615,"post_id":49435957,"comment_id":85876638,"body_markdown":"@FedericoPeraltaSchaffner In fact, what I wanted was to pass the generic type. The list of objects was just an example.","body":"@FedericoPeraltaSchaffner In fact, what I wanted was to pass the generic type. The list of objects was just an example."},{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":1,"creation_date":1521748684,"post_id":49435957,"comment_id":85876694,"body_markdown":"@davidxxx It&#39;s not necessary that you edit the answer. It&#39;s clear and understandable as it is.","body":"@davidxxx It&#39;s not necessary that you edit the answer. It&#39;s clear and understandable as it is."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1677005805,"post_id":49435957,"comment_id":133250644,"body_markdown":"This answer uses a *method reference*. To use a *field* of some class instance, you could use a *lambda expression*: `getAllPropertyValues(x -&gt; x.age)`.","body":"This answer uses a <i>method reference</i>. To use a <i>field</i> of some class instance, you could use a <i>lambda expression</i>: <code>getAllPropertyValues(x -&gt; x.age)</code>."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521743236,"creation_date":1521743236,"answer_id":49435957,"question_id":49435844,"body_markdown":"I think that you could use a `ToIntFunction` that accepts a SomeObjectClass and returns an `int`.\r\n\r\n     public ArrayList&lt;Integer&gt; getAllPropertyValues(ToIntFunction&lt;SomeObjectClass&gt; function) { \r\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n        for (someObject x : someObjectList) {\r\n            temp.add(function.apply(x));\r\n        }\r\n     }\r\n\r\nAnd you could invoke it :\r\n\r\n    ArrayList&lt;Integer&gt; results = getAllPropertyValues(SomeObjectClass::getAge);\r\n\r\nYou could pass `getAge()` or any method of `SomeObjectClass` that returns an `int`.","title":"&quot;Relative&quot; class property referencing","body":"<p>I think that you could use a <code>ToIntFunction</code> that accepts a SomeObjectClass and returns an <code>int</code>.</p>\n\n<pre><code> public ArrayList&lt;Integer&gt; getAllPropertyValues(ToIntFunction&lt;SomeObjectClass&gt; function) { \n    ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n    for (someObject x : someObjectList) {\n        temp.add(function.apply(x));\n    }\n }\n</code></pre>\n\n<p>And you could invoke it :</p>\n\n<pre><code>ArrayList&lt;Integer&gt; results = getAllPropertyValues(SomeObjectClass::getAge);\n</code></pre>\n\n<p>You could pass <code>getAge()</code> or any method of <code>SomeObjectClass</code> that returns an <code>int</code>.</p>\n"}],"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49435957,"answer_count":1,"score":2,"last_activity_date":1677002191,"creation_date":1521742748,"question_id":49435844,"body_markdown":"I want to pass a &quot;relative&quot; reference of a class property as a parameter.\r\n\r\nFirst of all, I don&#39;t know if &quot;relative reference&quot; is actually the proper name for this, but what I have in mind is something along these lines:\r\n\r\n    public ArrayList&lt;Integer&gt; getAllPropertyValues(someObjectClass.someInteger) { //someObjectClass.someInteger being the &quot;relative reference&quot;\r\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n        for (someObject x : someObjectList) {\r\n            temp.add(x.someInteger);\r\n        }\r\n    }\r\n\r\nThe idea would be to pass a reference to (for example) `Human.Age` and the method would add to the list each `x.Age`. \r\n\r\nIn other words, given an object `x` if I pass the property `y` i&#39;d be able to call `someDataType recievedProperty = x.y`. Regarldess of which kind object is `x` or what type is `y`.\r\n\r\nIs there a way to do this in Java?","title":"&quot;Relative&quot; class property referencing","body":"<p>I want to pass a &quot;relative&quot; reference of a class property as a parameter.</p>\n<p>First of all, I don't know if &quot;relative reference&quot; is actually the proper name for this, but what I have in mind is something along these lines:</p>\n<pre><code>public ArrayList&lt;Integer&gt; getAllPropertyValues(someObjectClass.someInteger) { //someObjectClass.someInteger being the &quot;relative reference&quot;\n    ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n    for (someObject x : someObjectList) {\n        temp.add(x.someInteger);\n    }\n}\n</code></pre>\n<p>The idea would be to pass a reference to (for example) <code>Human.Age</code> and the method would add to the list each <code>x.Age</code>.</p>\n<p>In other words, given an object <code>x</code> if I pass the property <code>y</code> i'd be able to call <code>someDataType recievedProperty = x.y</code>. Regarldess of which kind object is <code>x</code> or what type is <code>y</code>.</p>\n<p>Is there a way to do this in Java?</p>\n"},{"tags":["java","spring","spring-mvc","jsp"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677038663,"post_id":75524177,"comment_id":133256833,"body_markdown":"`javax.servlet:jstl` ? use `jakarta` do not use `javax`, Tomcat 10,x.","body":"<code>javax.servlet:jstl</code> ? use <code>jakarta</code> do not use <code>javax</code>, Tomcat 10,x."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677163685,"post_id":75524177,"comment_id":133286875,"body_markdown":"What are the details of the 500 error, and what is logged by Spring? What you have looks correct to me.","body":"What are the details of the 500 error, and what is logged by Spring? What you have looks correct to me."}],"owner":{"account_id":27844185,"reputation":21,"user_id":21260030,"display_name":"extrasexq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677002052,"creation_date":1677002052,"question_id":75524177,"body_markdown":"I&#39;m trying to write a web application using Spring MVC and ran into a problem  \r\nWhen passing any collection to jsp catching the exception:    \r\n**java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.pages.films_jsp**  \r\nand HTTP status 500, but if I pass any other object that is not a collection, then everything is fine\r\n\r\n*films.jsp:*\r\n```\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;FILMS&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Films&lt;/h2&gt;\r\n&lt;table&gt;\r\n    &lt;tr&gt;\r\n        &lt;th&gt;id&lt;/th&gt;\r\n        &lt;th&gt;title&lt;/th&gt;\r\n        &lt;th&gt;year&lt;/th&gt;\r\n        &lt;th&gt;genre&lt;/th&gt;\r\n        &lt;th&gt;watched&lt;/th&gt;\r\n        &lt;th&gt;action&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;c:forEach var=&quot;film&quot; items=&quot;${filmsList}&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;${film.id}&lt;/td&gt;\r\n            &lt;td&gt;${film.title}&lt;/td&gt;\r\n            &lt;td&gt;${film.year}&lt;/td&gt;\r\n            &lt;td&gt;${film.genre}&lt;/td&gt;\r\n            &lt;td&gt;${film.watched}&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;a href=&quot;/edit/${film.id}&quot;&gt;edit&lt;/a&gt;\r\n                &lt;a href=&quot;/delete/${film.id}&quot;&gt;delete&lt;/a&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n&lt;/table&gt;\r\n&lt;a href=&quot;/add&quot;&gt;Add new film&lt;/a&gt;&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n*pom.xml:*\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Filmography&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;Filmography&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n*Controller.java:*\r\n```\r\n...\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView allFilms() {\r\n        List&lt;Film&gt; films = new ArrayList&lt;&gt;();\r\n\r\n        films.add(new Film(0, &quot;Pie&quot;, 1991, &quot;Fantasy&quot;));\r\n        films.add(new Film(1, &quot;Passion&quot;, 2003, &quot;Drama&quot;));\r\n\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;newFilms&quot;);\r\n        modelAndView.addObject(&quot;filmsList&quot;, films);\r\n        return modelAndView;\r\n    }\r\n...\r\n```\r\n\r\nI suspect that the problem is in the Spring or in the versions of the connected dependencies. If it matters i use Tomcat","title":"Spring MVC. Passing Collection to jsp","body":"<p>I'm trying to write a web application using Spring MVC and ran into a problem<br />\nWhen passing any collection to jsp catching the exception:<br />\n<strong>java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.pages.films_jsp</strong><br />\nand HTTP status 500, but if I pass any other object that is not a collection, then everything is fine</p>\n<p><em>films.jsp:</em></p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;FILMS&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Films&lt;/h2&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;id&lt;/th&gt;\n        &lt;th&gt;title&lt;/th&gt;\n        &lt;th&gt;year&lt;/th&gt;\n        &lt;th&gt;genre&lt;/th&gt;\n        &lt;th&gt;watched&lt;/th&gt;\n        &lt;th&gt;action&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;c:forEach var=&quot;film&quot; items=&quot;${filmsList}&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${film.id}&lt;/td&gt;\n            &lt;td&gt;${film.title}&lt;/td&gt;\n            &lt;td&gt;${film.year}&lt;/td&gt;\n            &lt;td&gt;${film.genre}&lt;/td&gt;\n            &lt;td&gt;${film.watched}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=&quot;/edit/${film.id}&quot;&gt;edit&lt;/a&gt;\n                &lt;a href=&quot;/delete/${film.id}&quot;&gt;delete&lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n&lt;a href=&quot;/add&quot;&gt;Add new film&lt;/a&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><em>pom.xml:</em></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;Filmography&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;Filmography&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>Controller.java:</em></p>\n<pre><code>...\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public ModelAndView allFilms() {\n        List&lt;Film&gt; films = new ArrayList&lt;&gt;();\n\n        films.add(new Film(0, &quot;Pie&quot;, 1991, &quot;Fantasy&quot;));\n        films.add(new Film(1, &quot;Passion&quot;, 2003, &quot;Drama&quot;));\n\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;newFilms&quot;);\n        modelAndView.addObject(&quot;filmsList&quot;, films);\n        return modelAndView;\n    }\n...\n</code></pre>\n<p>I suspect that the problem is in the Spring or in the versions of the connected dependencies. If it matters i use Tomcat</p>\n"},{"tags":["java","swing","jframe","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676920674,"post_id":75512034,"comment_id":133230645,"body_markdown":"I think you meant `while (paint &lt; 255)`.  Swing is single threaded and you can&#39;t paint in a loop like that.  Use a Swing [Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) to redraw your `JPanel` in steps.  You might be interested in the [How to Create a Splash Screen](https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html) section.","body":"I think you meant <code>while (paint &lt; 255)</code>.  Swing is single threaded and you can&#39;t paint in a loop like that.  Use a Swing <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Timer</a> to redraw your <code>JPanel</code> in steps.  You might be interested in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html\" rel=\"nofollow noreferrer\">How to Create a Splash Screen</a> section."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1676960329,"post_id":75512034,"comment_id":133236838,"body_markdown":"`Thread.sleep(200);` You shouldn&#39;t call method `sleep` in code that executes in the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) (EDT).","body":"<code>Thread.sleep(200);</code> You shouldn&#39;t call method <code>sleep</code> in code that executes in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT)."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1676980108,"post_id":75512034,"comment_id":133242170,"body_markdown":"@Abra the reason I am executing the sleep method is to delay the increase in opacity, this is so I can make a fade-in sort of animation.","body":"@Abra the reason I am executing the sleep method is to delay the increase in opacity, this is so I can make a fade-in sort of animation."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1676982146,"post_id":75512034,"comment_id":133242791,"body_markdown":"@GilbertLeBlanc according to The Java Docs [Swing Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), I need an action to be performed, but this takes place at the start of the game, therefore I am unable or unsure on how I can use Swing Timer, If I use the [SplashScreen](https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html), I need to prepare a GIF, but I am trying not to use many images, it also may take me lot of time.","body":"@GilbertLeBlanc according to The Java Docs <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>, I need an action to be performed, but this takes place at the start of the game, therefore I am unable or unsure on how I can use Swing Timer, If I use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html\" rel=\"nofollow noreferrer\">SplashScreen</a>, I need to prepare a GIF, but I am trying not to use many images, it also may take me lot of time."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676994933,"post_id":75512034,"comment_id":133247240,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1677000619,"post_id":75522498,"comment_id":133249035,"body_markdown":"Here you are using JFrame and the JPanel in one file, but I am using _2 separate files_, so I thought of switching `drawingPanel` with `this`, but it doesn&#39;t work... I will be providing the code of the file containing the JPanel.","body":"Here you are using JFrame and the JPanel in one file, but I am using <i>2 separate files</i>, so I thought of switching <code>drawingPanel</code> with <code>this</code>, but it doesn&#39;t work... I will be providing the code of the file containing the JPanel."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677002771,"post_id":75522498,"comment_id":133249683,"body_markdown":"@BuddyCraft: You can put the `DrawingPanel` in a separate file.  You can also put the `ActionListener` in a separate file.  I put them together so I could post the code as one block.","body":"@BuddyCraft: You can put the <code>DrawingPanel</code> in a separate file.  You can also put the <code>ActionListener</code> in a separate file.  I put them together so I could post the code as one block."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677004311,"post_id":75522498,"comment_id":133250143,"body_markdown":"@BuddyCraft: Your `JPanel` code is a confusing mess.  My `JPanel` code gets repainted properly.","body":"@BuddyCraft: Your <code>JPanel</code> code is a confusing mess.  My <code>JPanel</code> code gets repainted properly."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678032316,"post_id":75522498,"comment_id":133450445,"body_markdown":"Which class exactly is `drawingPanel`?","body":"Which class exactly is <code>drawingPanel</code>?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678041539,"post_id":75522498,"comment_id":133452042,"body_markdown":"@BuddyCraft: `drawingPanel` is a field that holds an instance of the class `DrawingPanel`.  The `DrawingPanel` class is the first inner class that extends `JPanel`.","body":"@BuddyCraft: <code>drawingPanel</code> is a field that holds an instance of the class <code>DrawingPanel</code>.  The <code>DrawingPanel</code> class is the first inner class that extends <code>JPanel</code>."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678981804,"post_id":75522498,"comment_id":133642074,"body_markdown":"JPanel doesn&#39;t have the method `setOpacity(int opacity);`","body":"JPanel doesn&#39;t have the method <code>setOpacity(int opacity);</code>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678987504,"post_id":75522498,"comment_id":133643813,"body_markdown":"@BuddyCraft: You&#39;re right.  However, the `DrawingPanel` parent class does have a `setOpacity` method defined.","body":"@BuddyCraft: You&#39;re right.  However, the <code>DrawingPanel</code> parent class does have a <code>setOpacity</code> method defined."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694886841,"post_id":75522498,"comment_id":135951634,"body_markdown":"I understand I am really late but thank you!","body":"I understand I am really late but thank you!"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676993453,"creation_date":1676992952,"answer_id":75522498,"question_id":75512034,"body_markdown":"Here&#39;s an example of a fade-in GUI.\r\n\r\nHere&#39;s the initial GUI:\r\n\r\n[![Initial GUI][1]][1]\r\n\r\nHere&#39;s the GUI after the image is faded in:\r\n\r\n[![Final GUI][2]][2]\r\n\r\nSo, How did I do this?\r\n\r\nI created a `JFrame` and a drawing `JPanel`.  I drew the background and the text using `Color` instances with a specified opacity or alpha component.\r\n\r\nI used a Swing `Timer` to adjust the opacity every 250 milliseconds and repaint the drawing `JPanel`.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional class an inner class so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class FadeInGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new FadeInGUI());\r\n    \t}\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tpublic FadeInGUI() {\r\n    \t\tthis.drawingPanel = new DrawingPanel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Fade In GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t\tTimer timer = new Timer(250, new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\tTimer timer = (Timer) event.getSource();\r\n    \t\t\t\tint opacity = drawingPanel.getOpacity();\r\n    \t\t\t\topacity += 15;\r\n    \t\t\t\tif (opacity &lt; 255) {\r\n    \t\t\t\t\tdrawingPanel.setOpacity(opacity);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\topacity = 255;\r\n    \t\t\t\t\tdrawingPanel.setOpacity(opacity);\r\n    \t\t\t\t\ttimer.stop();\r\n    \t\t\t\t}\r\n    \t\t\t\tdrawingPanel.repaint();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate int opacity;\r\n    \r\n    \t\tpublic DrawingPanel() {\r\n    \t\t\tthis.opacity = 0;\r\n    \t\t\tthis.setPreferredSize(new Dimension(640, 480));\r\n    \t\t}\r\n    \r\n    \t\tpublic void setOpacity(int opacity) {\r\n    \t\t\tthis.opacity = opacity;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getOpacity() {\r\n    \t\t\treturn opacity;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tColor backgroundColor = new Color(255, 255, 0, opacity);\r\n    \t\t\tColor textColor = new Color(0, 0, 255, opacity);\r\n    \r\n    \t\t\tg.setColor(backgroundColor);\r\n    \t\t\tg.fillRect(0, 0, getWidth(), getHeight());\r\n    \r\n    \t\t\tString text = &quot;Amazing Game&quot;;\r\n    \t\t\tFont titleFont = getFont().deriveFont(Font.BOLD, 48f);\r\n    \t\t\tRectangle r = new Rectangle(0, 0, getWidth(), getHeight() / 3);\r\n    \t\t\tdrawCenteredString(g, text, r, textColor, titleFont);\r\n    \r\n    \t\t\ttext = &quot;by Amazing Company&quot;;\r\n    \t\t\tFont subtitleFont = getFont().deriveFont(Font.BOLD, 32f);\r\n    \t\t\tr = new Rectangle(0, getHeight() * 2 / 3, getWidth(),\r\n    \t\t\t\t\tgetHeight() / 3);\r\n    \t\t\tdrawCenteredString(g, text, r, textColor, subtitleFont);\r\n    \t\t};\r\n    \r\n    \t\t/**\r\n    \t\t * Draw a String centered in the middle of a Rectangle.\r\n    \t\t *\r\n    \t\t * @param g    The Graphics instance.\r\n    \t\t * @param text The String to draw.\r\n    \t\t * @param rect The Rectangle to center the text in.\r\n    \t\t */\r\n    \t\tprivate void drawCenteredString(Graphics g, String text, Rectangle rect,\r\n    \t\t\t\tColor color, Font font) {\r\n    \t\t\tFontMetrics metrics = g.getFontMetrics(font);\r\n    \t\t\tint x = rect.x + (rect.width - metrics.stringWidth(text)) / 2;\r\n    \t\t\tint y = rect.y + ((rect.height - metrics.getHeight()) / 2)\r\n    \t\t\t\t\t+ metrics.getAscent();\r\n    \t\t\tg.setFont(font);\r\n    \t\t\tg.setColor(color);\r\n    \t\t\tg.drawString(text, x, y);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3G5L4.png\r\n  [2]: https://i.stack.imgur.com/KXy9i.png\r\n\r\n","title":"Opacity in Color is not being drawn on JPanel","body":"<p>Here's an example of a fade-in GUI.</p>\n<p>Here's the initial GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/3G5L4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3G5L4.png\" alt=\"Initial GUI\" /></a></p>\n<p>Here's the GUI after the image is faded in:</p>\n<p><a href=\"https://i.stack.imgur.com/KXy9i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXy9i.png\" alt=\"Final GUI\" /></a></p>\n<p>So, How did I do this?</p>\n<p>I created a <code>JFrame</code> and a drawing <code>JPanel</code>.  I drew the background and the text using <code>Color</code> instances with a specified opacity or alpha component.</p>\n<p>I used a Swing <code>Timer</code> to adjust the opacity every 250 milliseconds and repaint the drawing <code>JPanel</code>.</p>\n<p>Here's the complete runnable code.  I made the additional class an inner class so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class FadeInGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new FadeInGUI());\n    }\n\n    private final DrawingPanel drawingPanel;\n\n    public FadeInGUI() {\n        this.drawingPanel = new DrawingPanel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Fade In GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n\n        Timer timer = new Timer(250, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent event) {\n                Timer timer = (Timer) event.getSource();\n                int opacity = drawingPanel.getOpacity();\n                opacity += 15;\n                if (opacity &lt; 255) {\n                    drawingPanel.setOpacity(opacity);\n                } else {\n                    opacity = 255;\n                    drawingPanel.setOpacity(opacity);\n                    timer.stop();\n                }\n                drawingPanel.repaint();\n            }\n        });\n        timer.start();\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private int opacity;\n\n        public DrawingPanel() {\n            this.opacity = 0;\n            this.setPreferredSize(new Dimension(640, 480));\n        }\n\n        public void setOpacity(int opacity) {\n            this.opacity = opacity;\n        }\n\n        public int getOpacity() {\n            return opacity;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Color backgroundColor = new Color(255, 255, 0, opacity);\n            Color textColor = new Color(0, 0, 255, opacity);\n\n            g.setColor(backgroundColor);\n            g.fillRect(0, 0, getWidth(), getHeight());\n\n            String text = &quot;Amazing Game&quot;;\n            Font titleFont = getFont().deriveFont(Font.BOLD, 48f);\n            Rectangle r = new Rectangle(0, 0, getWidth(), getHeight() / 3);\n            drawCenteredString(g, text, r, textColor, titleFont);\n\n            text = &quot;by Amazing Company&quot;;\n            Font subtitleFont = getFont().deriveFont(Font.BOLD, 32f);\n            r = new Rectangle(0, getHeight() * 2 / 3, getWidth(),\n                    getHeight() / 3);\n            drawCenteredString(g, text, r, textColor, subtitleFont);\n        };\n\n        /**\n         * Draw a String centered in the middle of a Rectangle.\n         *\n         * @param g    The Graphics instance.\n         * @param text The String to draw.\n         * @param rect The Rectangle to center the text in.\n         */\n        private void drawCenteredString(Graphics g, String text, Rectangle rect,\n                Color color, Font font) {\n            FontMetrics metrics = g.getFontMetrics(font);\n            int x = rect.x + (rect.width - metrics.stringWidth(text)) / 2;\n            int y = rect.y + ((rect.height - metrics.getHeight()) / 2)\n                    + metrics.getAscent();\n            g.setFont(font);\n            g.setColor(color);\n            g.drawString(text, x, y);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75522498,"answer_count":1,"score":-1,"last_activity_date":1677001760,"creation_date":1676911598,"question_id":75512034,"body_markdown":"I am using paintComponent to make a fade-in opening. Though I can use transparent images to create this effect, I feel like drawing is both space conservative and efficient, but when I had tried to make code for it which is provided below\r\n\r\n```\r\nGraphics2D painter = (Graphics2D)g;\r\n\t\tint paint = 0;\r\n\t\t\r\n\t\t\r\n\t\tif (paint!=255) {\r\n\t\t\tpainter.setColor(new Color(0, 0, 0, paint));\r\n\t\t\tpaint+=17;\r\n\t\t\tpainter.drawImage(frm1,0,-16,768,576,null);\r\n\t\t\tpainter.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(200);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n```\r\nThe window starts with a white screen, later showing `frm1` (the image that I want the opacity to overlay)\r\n\r\nIn the Frame&#39;s code, I tried typing the constructor (which contains the start to the game loop) after the `frame.setVisible(true);` line of code, this affected the code in no way whatsoever. Even though I can use transparent images, I am trying to make the game more lightweight, therefore I would prefer paintComponent.\r\n\r\nThe code for the panel is provided below\r\n```\r\npackage studios.masterpiece.pts.display;\r\n\r\n//AWT\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\n//IO\r\nimport java.io.IOException;\r\n\r\n//ImageIO\r\nimport javax.imageio.ImageIO;\r\n//Swing\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\npublic class GameScene extends JPanel implements Runnable{\r\n\t\r\n\tprivate static final long serialVersionUID = -1892599432299801189L;\r\n\t\r\n\tTimer timer;\r\n\t\r\n\tGraphics painter;\r\n\tBufferedImage frm1;\r\n\t\r\n\tThread repeat;\r\n\t\r\n\t//References\r\n\tstatic int tileSize = 48;\r\n\t\r\n\tstatic int rows = 16;\r\n\tstatic int columns = 12;\r\n\t\r\n\tpublic static int SCREEN_WIDTH = tileSize*rows; //768  \r\n\tpublic static int SCREEN_HEIGHT = tileSize*columns;\r\n\t\r\n\t//GameScene Properties\r\n\tpublic GameScene() {\r\n\t\tthis.setSize(SCREEN_WIDTH,SCREEN_HEIGHT);\r\n\t\tthis.setBackground(Color.BLACK);\r\n\t\t\r\n\t\tthis.setFocusable(true);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t\t\r\n\t\tstartRepeat();\r\n\t\t\r\n\t\t//Getting the image I want the opacity to overlay\r\n\t\ttry {\r\n\t\t\tfrm1 = ImageIO.read(getClass().getResourceAsStream(&quot;/studios/masterpiece/pts/animations/intro/Intro1.png&quot;));\r\n\t\t} \r\n\t\tcatch (IOException e) {e.printStackTrace();}\r\n\t}\r\n\t\r\n\tpublic void startRepeat() {\r\n\t\trepeat = new Thread(this);\r\n\t\trepeat.start();\r\n\t\t\r\n\t\t//CURRENTLY DOES NOT WORK\r\n\t    timer = new Timer(250, new ActionListener() {\r\n\t    \t\r\n\t        @Override\r\n\t        public void actionPerformed(ActionEvent event) {\r\n\t            Timer timer = (Timer) event.getSource();\r\n\t            int opacity = this.getOpacity();\r\n\t            opacity += 15;\r\n\t            if (opacity &lt; 255) {\r\n\t                this.setOpacity(opacity);\r\n\t            } else {\r\n\t                opacity = 255;\r\n\t                this.setOpacity(opacity);\r\n\t                timer.stop();\r\n\t            }\r\n\t            this.repaint();\r\n\t        }\r\n\t    });\r\n\t    timer.start();\r\n\t    //UNTIL HERE\r\n\t}\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D painter = (Graphics2D)g;\r\n\t\t\r\n\t\tthis.painter=painter;\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (repeat!=null) {\r\n\t\t\trepaint();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"Opacity in Color is not being drawn on JPanel","body":"<p>I am using paintComponent to make a fade-in opening. Though I can use transparent images to create this effect, I feel like drawing is both space conservative and efficient, but when I had tried to make code for it which is provided below</p>\n<pre><code>Graphics2D painter = (Graphics2D)g;\n        int paint = 0;\n        \n        \n        if (paint!=255) {\n            painter.setColor(new Color(0, 0, 0, paint));\n            paint+=17;\n            painter.drawImage(frm1,0,-16,768,576,null);\n            painter.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\n            \n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>The window starts with a white screen, later showing <code>frm1</code> (the image that I want the opacity to overlay)</p>\n<p>In the Frame's code, I tried typing the constructor (which contains the start to the game loop) after the <code>frame.setVisible(true);</code> line of code, this affected the code in no way whatsoever. Even though I can use transparent images, I am trying to make the game more lightweight, therefore I would prefer paintComponent.</p>\n<p>The code for the panel is provided below</p>\n<pre><code>package studios.masterpiece.pts.display;\n\n//AWT\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n//IO\nimport java.io.IOException;\n\n//ImageIO\nimport javax.imageio.ImageIO;\n//Swing\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class GameScene extends JPanel implements Runnable{\n    \n    private static final long serialVersionUID = -1892599432299801189L;\n    \n    Timer timer;\n    \n    Graphics painter;\n    BufferedImage frm1;\n    \n    Thread repeat;\n    \n    //References\n    static int tileSize = 48;\n    \n    static int rows = 16;\n    static int columns = 12;\n    \n    public static int SCREEN_WIDTH = tileSize*rows; //768  \n    public static int SCREEN_HEIGHT = tileSize*columns;\n    \n    //GameScene Properties\n    public GameScene() {\n        this.setSize(SCREEN_WIDTH,SCREEN_HEIGHT);\n        this.setBackground(Color.BLACK);\n        \n        this.setFocusable(true);\n        this.setDoubleBuffered(true);\n        \n        startRepeat();\n        \n        //Getting the image I want the opacity to overlay\n        try {\n            frm1 = ImageIO.read(getClass().getResourceAsStream(&quot;/studios/masterpiece/pts/animations/intro/Intro1.png&quot;));\n        } \n        catch (IOException e) {e.printStackTrace();}\n    }\n    \n    public void startRepeat() {\n        repeat = new Thread(this);\n        repeat.start();\n        \n        //CURRENTLY DOES NOT WORK\n        timer = new Timer(250, new ActionListener() {\n            \n            @Override\n            public void actionPerformed(ActionEvent event) {\n                Timer timer = (Timer) event.getSource();\n                int opacity = this.getOpacity();\n                opacity += 15;\n                if (opacity &lt; 255) {\n                    this.setOpacity(opacity);\n                } else {\n                    opacity = 255;\n                    this.setOpacity(opacity);\n                    timer.stop();\n                }\n                this.repaint();\n            }\n        });\n        timer.start();\n        //UNTIL HERE\n    }\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        \n        Graphics2D painter = (Graphics2D)g;\n        \n        this.painter=painter;       \n    }\n\n    @Override\n    public void run() {\n        while (repeat!=null) {\n            repaint();\n            \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","parquet","avro"],"comments":[{"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"score":0,"creation_date":1677002224,"post_id":75512457,"comment_id":133249510,"body_markdown":"Similar but not the same as https://stackoverflow.com/questions/36852162","body":"Similar but not the same as <a href=\"https://stackoverflow.com/questions/36852162\">stackoverflow.com/questions/36852162</a>"}],"answers":[{"tags":[],"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677001521,"creation_date":1677001521,"answer_id":75524094,"question_id":75512457,"body_markdown":"My solution is to read the file as a GenericData record.  This stops the automatic conversion to the model object when you use SpecificData.\r\n\r\nAfter that, I can use reflection to grab the GenericData.Record object from inside the ParquetRecord\r\n\r\n    Field dataField = ParquetRecord.class.getDeclaredField(&quot;data&quot;);\r\n    ReflectionUtils.makeAccessible(field);\r\n    GenericData.Record genericDataRecord = (GenericData.Record) ReflectionUtils.getField(field, parquetRecord);\r\n\r\nHere we can see the schema name to decide which model object we need to create\r\n\r\n    data.getSchema().getName();\r\n\r\nand based on that, map it like so:\r\n\r\n    com.bigcompany.model.Foo modelFoo = new Foo();\r\n    genericDataRecord.getSchema().getFields().stream()\r\n            .forEach(f -&gt; modelFoo.put(f.name(), genericDataRecord.get(f.pos()))));","title":"Using AvroParquetReader to read a file where the model has diverged","body":"<p>My solution is to read the file as a GenericData record.  This stops the automatic conversion to the model object when you use SpecificData.</p>\n<p>After that, I can use reflection to grab the GenericData.Record object from inside the ParquetRecord</p>\n<pre><code>Field dataField = ParquetRecord.class.getDeclaredField(&quot;data&quot;);\nReflectionUtils.makeAccessible(field);\nGenericData.Record genericDataRecord = (GenericData.Record) ReflectionUtils.getField(field, parquetRecord);\n</code></pre>\n<p>Here we can see the schema name to decide which model object we need to create</p>\n<pre><code>data.getSchema().getName();\n</code></pre>\n<p>and based on that, map it like so:</p>\n<pre><code>com.bigcompany.model.Foo modelFoo = new Foo();\ngenericDataRecord.getSchema().getFields().stream()\n        .forEach(f -&gt; modelFoo.put(f.name(), genericDataRecord.get(f.pos()))));\n</code></pre>\n"}],"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75524094,"answer_count":1,"score":0,"last_activity_date":1677001521,"creation_date":1676914201,"question_id":75512457,"body_markdown":"I want to read a parquet file with AvroParquetReader in Java.  The file footer specifies the model class, e.g. com.bigcompany.model.Foo, but when the file was written the model object had one less column in it.  The extra column was not added at the end of the model object but in the middle so the error I currently get is that it is trying to put an String value from the file and put it in an integer column in the model object.\r\n\r\nFor sake of argument, I cannot use an old version of the model or modify the file.  I need to work with the existing file and the current model version and I need to read the file into the model object ignoring the additional field.\r\n\r\nAre there options for AvroParquetReader that will allow me to do this?\r\n\r\n","title":"Using AvroParquetReader to read a file where the model has diverged","body":"<p>I want to read a parquet file with AvroParquetReader in Java.  The file footer specifies the model class, e.g. com.bigcompany.model.Foo, but when the file was written the model object had one less column in it.  The extra column was not added at the end of the model object but in the middle so the error I currently get is that it is trying to put an String value from the file and put it in an integer column in the model object.</p>\n<p>For sake of argument, I cannot use an old version of the model or modify the file.  I need to work with the existing file and the current model version and I need to read the file into the model object ignoring the additional field.</p>\n<p>Are there options for AvroParquetReader that will allow me to do this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9593,"page":630,"page_size":100}
