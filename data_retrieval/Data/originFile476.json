{"items":[{"tags":["java","recursion","post-increment","pre-increment"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":3,"creation_date":1682436742,"post_id":76102930,"comment_id":134213764,"body_markdown":"1. you don&#39;t have any pre-increment here. 2. post-increment will *first* return the value *then* increment. And since you only pass in the returned value, it&#39;s only the one before it is incremented. So, zero. Same as if you do `int depth = 0; System.out.println(depth++)` you&#39;d still get a zero printed. That&#39;s how post-increment always works. Recursion has no real bearing on it.","body":"1. you don&#39;t have any pre-increment here. 2. post-increment will <i>first</i> return the value <i>then</i> increment. And since you only pass in the returned value, it&#39;s only the one before it is incremented. So, zero. Same as if you do <code>int depth = 0; System.out.println(depth++)</code> you&#39;d still get a zero printed. That&#39;s how post-increment always works. Recursion has no real bearing on it."},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":2,"creation_date":1682436842,"post_id":76102930,"comment_id":134213788,"body_markdown":"Does this answer your question? [How do the post increment (i++) and pre increment (++i) operators work in Java?](https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java\">How do the post increment (i++) and pre increment (++i) operators work in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23173771,"reputation":215,"user_id":17272599,"display_name":"dbakr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682439286,"creation_date":1682437203,"answer_id":76103017,"question_id":76102930,"body_markdown":"you aren&#39;t pre-incrementing. Your function is passing 0 before it increments, thereby effectively not incrementing. try this:  \r\n\r\n```java\r\npublic static void main(String[] args){\r\n        Screen.clear();\r\n        System.out.println(depth(5,0));\r\n        \r\n    }\r\n\r\npublic static int depth(int n, int depth){\r\n        System.out.println(depth);\r\n        if(n == 0)return depth;\r\n        else{\r\n           System.out.println(depth);          \r\n           return depth(n-1, ++depth);\r\n        }\r\n    }\r\n```\r\nor (if you want to use the post-increment)\r\n```java\r\npublic static void main(String[] args){\r\n        Screen.clear();\r\n        System.out.println(depth(5,0));\r\n        \r\n    }\r\n\r\npublic static int depth(int n, int depth){\r\n        System.out.println(depth);\r\n        if(n == 0)return depth;\r\n        else{\r\n           System.out.println(depth++);          \r\n           return depth(n-1, depth);\r\n        }\r\n    }\r\n```","title":"Why is pre and post increment operator not working in recursion?","body":"<p>you aren't pre-incrementing. Your function is passing 0 before it increments, thereby effectively not incrementing. try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n        Screen.clear();\n        System.out.println(depth(5,0));\n        \n    }\n\npublic static int depth(int n, int depth){\n        System.out.println(depth);\n        if(n == 0)return depth;\n        else{\n           System.out.println(depth);          \n           return depth(n-1, ++depth);\n        }\n    }\n</code></pre>\n<p>or (if you want to use the post-increment)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n        Screen.clear();\n        System.out.println(depth(5,0));\n        \n    }\n\npublic static int depth(int n, int depth){\n        System.out.println(depth);\n        if(n == 0)return depth;\n        else{\n           System.out.println(depth++);          \n           return depth(n-1, depth);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682439461,"creation_date":1682439461,"answer_id":76103380,"question_id":76102930,"body_markdown":"The first time you call `depth`, you pass 5 for `n` and 0 for `depth` (btw, in general it&#39;s a bad idea to have the same name for methods and parameters). You are doing it like this:\r\n\r\n```\r\nSystem.out.println(depth(5,0));\r\n```\r\n\r\nLater on, you are calling it like this:\r\n\r\n```\r\nreturn depth(n-1, depth++);\r\n```\r\n\r\nLet&#39;s see what happens:\r\n\r\n- you subtract 1 from `n` and pass the result to the new function call\r\n- you pass the unchanged `depth` and then increment it (`depth++` evaluates to its initial value and increments it without, whereas `++depth` would increment it first and evaluate the result)\r\n\r\nSo, these are the values of `n` and `depth` respectively upon each call:\r\n\r\n- 5, 0\r\n- 4, 0\r\n- 3, 0\r\n- 2, 0\r\n- 1, 0\r\n- 0, 0\r\n\r\nTo understand this even better, let&#39;s try the following:\r\n\r\n```\r\nint i = 1;\r\nSystem.out.println(i++); //1\r\nSystem.out.println(i); //2\r\nint j = 1;\r\nSystem.out.println(++j); //2\r\nSystem.out.println(j); //2\r\n```","title":"Why is pre and post increment operator not working in recursion?","body":"<p>The first time you call <code>depth</code>, you pass 5 for <code>n</code> and 0 for <code>depth</code> (btw, in general it's a bad idea to have the same name for methods and parameters). You are doing it like this:</p>\n<pre><code>System.out.println(depth(5,0));\n</code></pre>\n<p>Later on, you are calling it like this:</p>\n<pre><code>return depth(n-1, depth++);\n</code></pre>\n<p>Let's see what happens:</p>\n<ul>\n<li>you subtract 1 from <code>n</code> and pass the result to the new function call</li>\n<li>you pass the unchanged <code>depth</code> and then increment it (<code>depth++</code> evaluates to its initial value and increments it without, whereas <code>++depth</code> would increment it first and evaluate the result)</li>\n</ul>\n<p>So, these are the values of <code>n</code> and <code>depth</code> respectively upon each call:</p>\n<ul>\n<li>5, 0</li>\n<li>4, 0</li>\n<li>3, 0</li>\n<li>2, 0</li>\n<li>1, 0</li>\n<li>0, 0</li>\n</ul>\n<p>To understand this even better, let's try the following:</p>\n<pre><code>int i = 1;\nSystem.out.println(i++); //1\nSystem.out.println(i); //2\nint j = 1;\nSystem.out.println(++j); //2\nSystem.out.println(j); //2\n</code></pre>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76103017,"answer_count":2,"score":-1,"last_activity_date":1682439461,"creation_date":1682436488,"question_id":76102930,"body_markdown":"I have the following:\r\n\r\n    public static void main(String[] args){\r\n            Screen.clear();\r\n            System.out.println(depth(5,0));\r\n            \r\n        }\r\n\r\n    public static int depth(int n, int depth){\r\n            System.out.println(depth);\r\n            if(n == 0)return depth;\r\n            else{\r\n               System.out.println(depth);          \r\n               return depth(n-1, depth++);\r\n            }\r\n            \r\n        }\r\n\r\nwhy does this always print out 0, n times?  Why isn&#39;t depth being incremented?","title":"Why is pre and post increment operator not working in recursion?","body":"<p>I have the following:</p>\n<pre><code>public static void main(String[] args){\n        Screen.clear();\n        System.out.println(depth(5,0));\n        \n    }\n\npublic static int depth(int n, int depth){\n        System.out.println(depth);\n        if(n == 0)return depth;\n        else{\n           System.out.println(depth);          \n           return depth(n-1, depth++);\n        }\n        \n    }\n</code></pre>\n<p>why does this always print out 0, n times?  Why isn't depth being incremented?</p>\n"},{"tags":["java","spring","hibernate","sorting","jpa"],"answers":[{"tags":[],"owner":{"account_id":5156075,"reputation":30,"user_id":4129281,"display_name":"JanVerbeke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645613465,"creation_date":1645613465,"answer_id":71235547,"question_id":71168743,"body_markdown":"You should be able to add a dot &quot;.&quot; between the parent and the nested property you want to sort upon.\r\n\r\neg: course.something","title":"Sort entity and its nested collection @OneToMany Spring Data JPA with Pageable","body":"<p>You should be able to add a dot &quot;.&quot; between the parent and the nested property you want to sort upon.</p>\n<p>eg: course.something</p>\n"}],"owner":{"account_id":14843774,"reputation":107,"user_id":10719691,"display_name":"M. Mis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1682438559,"creation_date":1645162059,"question_id":71168743,"body_markdown":"Is there a way to sort an entity and its nested collection in a @OneToMany relationship with a Pageable interface?\r\n\r\nI have these two entities\r\n```\r\n@Entity\r\n@Table(name = &quot;course&quot;)\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;course&quot;)\r\n    private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\r\n\r\n    ....contructors, getters and setters\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;review&quot;)\r\npublic class Review {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String rating;\r\n\r\n    @ManyToOne\r\n    private Course course;\r\n\r\n    ....contructors, getters and setters\r\n}\r\n```\r\nThis repository\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n}\r\n```\r\nThis service\r\n```\r\n@Service\r\npublic class CourseService {\r\n\r\n    @Autowired\r\n    CourseRepository courseRepository;\r\n\r\n    public Page&lt;Course&gt; getCourses(Pageable pageable) {\r\n        return courseRepository.findAll(pageable);\r\n    }\r\n\r\n}\r\n```\r\nAnd this controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class CourseController {\r\n\r\n    @Autowired\r\n    CourseService courseService;\r\n\r\n    @RequestMapping(value=&quot;/courses&quot;, method= RequestMethod.GET)\r\n    public ResponseEntity&lt;Page&lt;CourseDTO&gt;&gt; readInteractionsPagedParam(Pageable pageable) {\r\n        Page&lt;Course&gt; pageCourse = courseService.getCourses(pageable);\r\n        ... To DTO and return it\r\n    }\r\n}\r\n```\r\nI found other similar questions but in the answers the sorting become static, like @OrderBy annotation but the need is that the sorting will be dynamic, I mean, I must order by any property in course and review. I must use Pagable too.\r\n\r\nI need something like these but I tried them and only sort the entity Course, the entity Review never is sorted\r\n```\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,asc\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,desc\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,asc\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,desc\r\n```\r\nI new in all of this, Java, Spring, JPA, Hibernate, etc and I would like to know if is there a way to achieve this?","title":"Sort entity and its nested collection @OneToMany Spring Data JPA with Pageable","body":"<p>Is there a way to sort an entity and its nested collection in a @OneToMany relationship with a Pageable interface?</p>\n<p>I have these two entities</p>\n<pre><code>@Entity\n@Table(name = &quot;course&quot;)\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;course&quot;)\n    private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\n\n    ....contructors, getters and setters\n}\n\n@Entity\n@Table(name = &quot;review&quot;)\npublic class Review {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String rating;\n\n    @ManyToOne\n    private Course course;\n\n    ....contructors, getters and setters\n}\n</code></pre>\n<p>This repository</p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n}\n</code></pre>\n<p>This service</p>\n<pre><code>@Service\npublic class CourseService {\n\n    @Autowired\n    CourseRepository courseRepository;\n\n    public Page&lt;Course&gt; getCourses(Pageable pageable) {\n        return courseRepository.findAll(pageable);\n    }\n\n}\n</code></pre>\n<p>And this controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class CourseController {\n\n    @Autowired\n    CourseService courseService;\n\n    @RequestMapping(value=&quot;/courses&quot;, method= RequestMethod.GET)\n    public ResponseEntity&lt;Page&lt;CourseDTO&gt;&gt; readInteractionsPagedParam(Pageable pageable) {\n        Page&lt;Course&gt; pageCourse = courseService.getCourses(pageable);\n        ... To DTO and return it\n    }\n}\n</code></pre>\n<p>I found other similar questions but in the answers the sorting become static, like @OrderBy annotation but the need is that the sorting will be dynamic, I mean, I must order by any property in course and review. I must use Pagable too.</p>\n<p>I need something like these but I tried them and only sort the entity Course, the entity Review never is sorted</p>\n<pre><code>.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,asc\n.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,desc\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,asc\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,desc\n</code></pre>\n<p>I new in all of this, Java, Spring, JPA, Hibernate, etc and I would like to know if is there a way to achieve this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682102610,"post_id":76075626,"comment_id":134168421,"body_markdown":"I believe that your problem is at the deserialise phase not the serialise. In the absence of a definition of problematicProperty Jackson can’t deserialise it. If a superset class with lots of JsonIgnore can be defined then that would work. Maybe Map&lt;String, Object&gt; problematicProperty or Map&lt;String, List&lt;String&gt;&gt;","body":"I believe that your problem is at the deserialise phase not the serialise. In the absence of a definition of problematicProperty Jackson can’t deserialise it. If a superset class with lots of JsonIgnore can be defined then that would work. Maybe Map&lt;String, Object&gt; problematicProperty or Map&lt;String, List&lt;String&gt;&gt;"},{"owner":{"account_id":1913341,"reputation":21,"user_id":1726546,"display_name":"Marko D"},"score":0,"creation_date":1682346987,"post_id":76075626,"comment_id":134196509,"body_markdown":"I can&#39;t change the type to Map because, sometime problematicProperty will be String, like this: &quot;problematicProperty&quot; :  &quot;randomText&quot;","body":"I can&#39;t change the type to Map because, sometime problematicProperty will be String, like this: &quot;problematicProperty&quot; :  &quot;randomText&quot;"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682337389,"creation_date":1682337389,"answer_id":76091597,"question_id":76075626,"body_markdown":"A complete example would help here. If I create a dummy example from your code - see below, then it works as expected.\r\n\r\nThe `{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}` JSON is coming from what is most likely a Scala type, probably a Scala Map. It&#39;s difficult to say how to fix it without seeing where this data is coming from. One possible solution might be to change the problematicProperty field type to a (Java) Map, and convert the Scala Map when the object is constructed.\r\n\r\n    \r\n    import com.fasterxml.jackson.annotation.*;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.*;\r\n    \r\n    public class JacksonTest {\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        public static class MyClass {\r\n    \r\n            private String property1;\r\n            private Double property2;\r\n            private Boolean property3;\r\n            private Object problematicProperty;\r\n    \r\n            public MyClass() {}\r\n    \r\n            public MyClass(String property1, Double property2, Boolean property3, Object problematicProperty) {\r\n                this.property1 = property1;\r\n                this.property2 = property2;\r\n                this.property3 = property3;\r\n                this.problematicProperty = problematicProperty;\r\n            }\r\n    \r\n            // getters and setters\r\n        }\r\n    \r\n        private static final String TEST_JSON = &quot;{\\n&quot; +\r\n                &quot;\\&quot;property1\\&quot; : \\&quot;randomString\\&quot;,\\n&quot; +\r\n                &quot;\\&quot;property2\\&quot; : 0.3,\\n&quot; +\r\n                &quot;\\&quot;property3\\&quot; : false,\\n&quot; +\r\n                &quot;\\&quot;problematicProperty\\&quot; :  {\\n&quot; +\r\n                &quot;                \\&quot;yearFromDate\\&quot;: [\\n&quot; +\r\n                &quot;                    \\&quot;dob\\&quot;,\\n&quot; +\r\n                &quot;                    \\&quot;yyyyMMdd\\&quot;\\n&quot; +\r\n                &quot;                ]\\n&quot; +\r\n                &quot;            }\\n&quot; +\r\n                &quot;}&quot;;\r\n    \r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            final ObjectMapper obj = new ObjectMapper();\r\n            obj.enable(SerializationFeature.INDENT_OUTPUT);\r\n            obj.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n    \r\n            MyClass myPOJO = obj.readValue(TEST_JSON, MyClass.class);\r\n    \r\n            final String json = obj\r\n                    .writerWithDefaultPrettyPrinter()\r\n                    .writeValueAsString(myPOJO);\r\n    \r\n            System.out.println(json);\r\n        }\r\n    }\r\n","title":"POJO to JSON - writing to string - getting {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false} with Jackson","body":"<p>A complete example would help here. If I create a dummy example from your code - see below, then it works as expected.</p>\n<p>The <code>{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}</code> JSON is coming from what is most likely a Scala type, probably a Scala Map. It's difficult to say how to fix it without seeing where this data is coming from. One possible solution might be to change the problematicProperty field type to a (Java) Map, and convert the Scala Map when the object is constructed.</p>\n<pre><code>import com.fasterxml.jackson.annotation.*;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\n\npublic class JacksonTest {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public static class MyClass {\n\n        private String property1;\n        private Double property2;\n        private Boolean property3;\n        private Object problematicProperty;\n\n        public MyClass() {}\n\n        public MyClass(String property1, Double property2, Boolean property3, Object problematicProperty) {\n            this.property1 = property1;\n            this.property2 = property2;\n            this.property3 = property3;\n            this.problematicProperty = problematicProperty;\n        }\n\n        // getters and setters\n    }\n\n    private static final String TEST_JSON = &quot;{\\n&quot; +\n            &quot;\\&quot;property1\\&quot; : \\&quot;randomString\\&quot;,\\n&quot; +\n            &quot;\\&quot;property2\\&quot; : 0.3,\\n&quot; +\n            &quot;\\&quot;property3\\&quot; : false,\\n&quot; +\n            &quot;\\&quot;problematicProperty\\&quot; :  {\\n&quot; +\n            &quot;                \\&quot;yearFromDate\\&quot;: [\\n&quot; +\n            &quot;                    \\&quot;dob\\&quot;,\\n&quot; +\n            &quot;                    \\&quot;yyyyMMdd\\&quot;\\n&quot; +\n            &quot;                ]\\n&quot; +\n            &quot;            }\\n&quot; +\n            &quot;}&quot;;\n\n    public static void main(String[] args) throws JsonProcessingException {\n        final ObjectMapper obj = new ObjectMapper();\n        obj.enable(SerializationFeature.INDENT_OUTPUT);\n        obj.enable(SerializationFeature.WRAP_ROOT_VALUE);\n\n        MyClass myPOJO = obj.readValue(TEST_JSON, MyClass.class);\n\n        final String json = obj\n                .writerWithDefaultPrettyPrinter()\n                .writeValueAsString(myPOJO);\n\n        System.out.println(json);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1913341,"reputation":21,"user_id":1726546,"display_name":"Marko D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682438403,"creation_date":1682347161,"answer_id":76093079,"question_id":76075626,"body_markdown":"Inspired by [this][1] answer and [this][2] link\r\nI added \r\n\r\n    objectMapper.registerModule(new DefaultScalaModule());\r\nAnd now it works fine and code looks like this:\r\n\r\n    MyClass myPOJO = myRepository.getOne(pojoID);\r\n    ObjectMapper obj = getObjectMapper();\r\n    objectMapper.registerModule(new DefaultScalaModule());\r\n    obj.enable(SerializationFeature.INDENT_OUTPUT);\r\n    obj.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n\r\n    String stringLayout = obj\r\n        .writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(myPOJO);\r\n\r\n  [1]: https://stackoverflow.com/a/76091597/1726546\r\n  [2]: https://github.com/FasterXML/jackson-module-scala/issues/94#issuecomment-934174682","title":"POJO to JSON - writing to string - getting {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false} with Jackson","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/76091597/1726546\">this</a> answer and <a href=\"https://github.com/FasterXML/jackson-module-scala/issues/94#issuecomment-934174682\" rel=\"nofollow noreferrer\">this</a> link\nI added</p>\n<pre><code>objectMapper.registerModule(new DefaultScalaModule());\n</code></pre>\n<p>And now it works fine and code looks like this:</p>\n<pre><code>MyClass myPOJO = myRepository.getOne(pojoID);\nObjectMapper obj = getObjectMapper();\nobjectMapper.registerModule(new DefaultScalaModule());\nobj.enable(SerializationFeature.INDENT_OUTPUT);\nobj.enable(SerializationFeature.WRAP_ROOT_VALUE);\n\nString stringLayout = obj\n    .writerWithDefaultPrettyPrinter()\n    .writeValueAsString(myPOJO);\n</code></pre>\n"}],"owner":{"account_id":1913341,"reputation":21,"user_id":1726546,"display_name":"Marko D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76093079,"answer_count":2,"score":0,"last_activity_date":1682438403,"creation_date":1682099493,"question_id":76075626,"body_markdown":"I&#39;m having json type in my Postgres DB and getting it as `POJO`.\r\nThen I&#39;m trying to write my `POJO` to `String`.\r\n`POJO` is being populated correctly, but when Jackson writes it to `String`, I get  `{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}` for nested `JSON` whose type in `POJO` is `Object`.\r\n\r\nMy `POJO`:\r\n\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class MyClass {\r\n\r\n  private String property1;\r\n  private Double property2;\r\n  private Boolean property3;\r\n  private Object problematicProperty;\r\n\r\n}\r\n```\r\n\r\nJSON I&#39;m retrieving from DB:\r\n\r\n```\r\n{\r\n&quot;property1&quot; : &quot;randomString&quot;,\r\n&quot;property2&quot; : 0.3,\r\n&quot;property3&quot; : false,\r\n&quot;problematicProperty&quot; :  {\r\n                &quot;yearFromDate&quot;: [\r\n                    &quot;dob&quot;,\r\n                    &quot;yyyyMMdd&quot;\r\n                ]\r\n            }\r\n}\r\n```\r\n\r\nMy code:\r\n\r\n```\r\nMyClass myPOJO = myRepository.getOne(pojoID);\r\nObjectMapper obj = getObjectMapper();\r\nobj.enable(SerializationFeature.INDENT_OUTPUT);\r\nobj.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n\r\nString stringLayout = obj\r\n        .writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(myPOJO);\r\n```\r\n\r\nWhen I print stringLayout, I get:\r\n\r\n```\r\n{\r\n&quot;property1&quot; : &quot;randomString&quot;,\r\n&quot;property2&quot; : 0.3,\r\n&quot;property3&quot; : false,\r\n&quot;problematicProperty&quot; :  {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}\r\n}\r\n```\r\n\r\ninstead of\r\n\r\n```\r\n{\r\n&quot;property1&quot; : &quot;randomString&quot;,\r\n&quot;property2&quot; : 0.3,\r\n&quot;property3&quot; : false,\r\n&quot;problematicProperty&quot; :  {\r\n                &quot;yearFromDate&quot;: [\r\n                    &quot;dob&quot;,\r\n                    &quot;yyyyMMdd&quot;\r\n                ]\r\n            }\r\n}\r\n```\r\n\r\nI used java.lang.Object type because problematicProperty is &quot;dynamic&quot;, sometimes it will be nested json like above, and sometimes string e.g. like this:\r\n\r\n```\r\n&quot;problematicProperty&quot; :  &quot;randomText&quot;\r\n```\r\n\r\nWhen testing, if I use `com.fasterxml.jackson.databind.node.ObjectNode` type instead of `Object`, string is properly being written. But I can&#39;t use `ObjectNode` with Hibernate.\r\n\r\nWhy is this happening and is there a way to configure `objectMapper` to write `java.lang.Object`(that is actually a nested `JSON`) to `String` properly?","title":"POJO to JSON - writing to string - getting {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false} with Jackson","body":"<p>I'm having json type in my Postgres DB and getting it as <code>POJO</code>.\nThen I'm trying to write my <code>POJO</code> to <code>String</code>.\n<code>POJO</code> is being populated correctly, but when Jackson writes it to <code>String</code>, I get  <code>{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}</code> for nested <code>JSON</code> whose type in <code>POJO</code> is <code>Object</code>.</p>\n<p>My <code>POJO</code>:</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class MyClass {\n\n  private String property1;\n  private Double property2;\n  private Boolean property3;\n  private Object problematicProperty;\n\n}\n</code></pre>\n<p>JSON I'm retrieving from DB:</p>\n<pre><code>{\n&quot;property1&quot; : &quot;randomString&quot;,\n&quot;property2&quot; : 0.3,\n&quot;property3&quot; : false,\n&quot;problematicProperty&quot; :  {\n                &quot;yearFromDate&quot;: [\n                    &quot;dob&quot;,\n                    &quot;yyyyMMdd&quot;\n                ]\n            }\n}\n</code></pre>\n<p>My code:</p>\n<pre><code>MyClass myPOJO = myRepository.getOne(pojoID);\nObjectMapper obj = getObjectMapper();\nobj.enable(SerializationFeature.INDENT_OUTPUT);\nobj.enable(SerializationFeature.WRAP_ROOT_VALUE);\n\nString stringLayout = obj\n        .writerWithDefaultPrettyPrinter()\n        .writeValueAsString(myPOJO);\n</code></pre>\n<p>When I print stringLayout, I get:</p>\n<pre><code>{\n&quot;property1&quot; : &quot;randomString&quot;,\n&quot;property2&quot; : 0.3,\n&quot;property3&quot; : false,\n&quot;problematicProperty&quot; :  {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}\n}\n</code></pre>\n<p>instead of</p>\n<pre><code>{\n&quot;property1&quot; : &quot;randomString&quot;,\n&quot;property2&quot; : 0.3,\n&quot;property3&quot; : false,\n&quot;problematicProperty&quot; :  {\n                &quot;yearFromDate&quot;: [\n                    &quot;dob&quot;,\n                    &quot;yyyyMMdd&quot;\n                ]\n            }\n}\n</code></pre>\n<p>I used java.lang.Object type because problematicProperty is &quot;dynamic&quot;, sometimes it will be nested json like above, and sometimes string e.g. like this:</p>\n<pre><code>&quot;problematicProperty&quot; :  &quot;randomText&quot;\n</code></pre>\n<p>When testing, if I use <code>com.fasterxml.jackson.databind.node.ObjectNode</code> type instead of <code>Object</code>, string is properly being written. But I can't use <code>ObjectNode</code> with Hibernate.</p>\n<p>Why is this happening and is there a way to configure <code>objectMapper</code> to write <code>java.lang.Object</code>(that is actually a nested <code>JSON</code>) to <code>String</code> properly?</p>\n"},{"tags":["java","javafx","filter","treeview"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1682378696,"post_id":76095646,"comment_id":134202903,"body_markdown":"What is `FilterableTreeItem`? Is it your own class or is it from a library? Because it&#39;s not in standard JavaFX.","body":"What is <code>FilterableTreeItem</code>? Is it your own class or is it from a library? Because it&#39;s not in standard JavaFX."},{"owner":{"account_id":14329804,"reputation":19,"user_id":10350837,"display_name":"Jose Teixeira"},"score":0,"creation_date":1682428475,"post_id":76095646,"comment_id":134211109,"body_markdown":"Hi, Slaw ! https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/demos/org.eclipse.fx.ui.controls.sample/src/org/eclipse/fx/ui/controls/sample/FilterableTreeItemSample.java","body":"Hi, Slaw ! <a href=\"https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/demos/org.eclipse.fx.ui.controls.sample/src/org/eclipse/fx/ui/controls/sample/FilterableTreeItemSample.java\" rel=\"nofollow noreferrer\">git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/&hellip;</a>"},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1682434658,"post_id":76095646,"comment_id":134213133,"body_markdown":"@JoseTeixeira, I followed the example in the link you posted. Everything works fine and I was able to perform the search. One problem in your code is that you might be initializing the root twice. `root = new FilterableTreeItem(...)`. Also, you didn&#39;t share the path splitter in your code.","body":"@JoseTeixeira, I followed the example in the link you posted. Everything works fine and I was able to perform the search. One problem in your code is that you might be initializing the root twice. <code>root = new FilterableTreeItem(...)</code>. Also, you didn&#39;t share the path splitter in your code."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682483126,"post_id":76095646,"comment_id":134221288,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682438164,"creation_date":1682438164,"answer_id":76103182,"question_id":76095646,"body_markdown":"Search is not performed because you&#39;re creating tree items using `new TreeItem&lt;&gt;(value)`. In order to make the tree filterable from the root down, you should create the children using `new FilterableTreeItem&lt;&gt;(value)`. Note that you have to use `getInternalChildren()` instead of `getChildren()` when adding new items, otherwise an exception will be thrown (`FilterableTreeItem` replaces the implementation of children using reflection to enable filtering. Check the [source code][1]).\r\n\r\nWorking code:\r\n```java\r\nprivate &lt;S,T&gt; TreeView&lt;T&gt; createTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, T rootValue) {\r\n    FilterableTreeItem&lt;T&gt; root = new FilterableTreeItem&lt;&gt;(rootValue);\r\n    populateTree(paths, pathSplitter, root);\r\n    TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\r\n    tree.setShowRoot(false);\r\n    return tree;\r\n}\r\n\r\nprivate &lt;S, T&gt; void populateTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, FilterableTreeItem&lt;T&gt; root) {\r\n    for (S path : paths) {\r\n        FilterableTreeItem&lt;T&gt; current = root ;\r\n        for (T component : pathSplitter.apply(path)) {\r\n            current = getOrCreateChild(current, component);\r\n        }\r\n    }\r\n}\r\n\r\nprivate &lt;T&gt; FilterableTreeItem&lt;T&gt; getOrCreateChild(FilterableTreeItem&lt;T&gt; parent, T value) {\r\n    for (TreeItem&lt;T&gt; child : parent.getInternalChildren()) {\r\n        if (value.equals(child.getValue())) {\r\n            return (FilterableTreeItem&lt;T&gt;) child;\r\n        }\r\n    }\r\n    FilterableTreeItem&lt;T&gt; newChild = new FilterableTreeItem&lt;&gt;(value);\r\n    parent.getInternalChildren().add(newChild);\r\n    return newChild;\r\n}\r\n```\r\n\r\nAssuming that your path splitter splits paths by `.`, here is what a demo filterable tree looks like:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/bundles/runtime/org.eclipse.fx.ui.controls/src/org/eclipse/fx/ui/controls/tree/FilterableTreeItem.java\r\n  [2]: https://i.stack.imgur.com/hntod.gif","title":"Filter TreeView JavaFX FilterableTreeItem List Strings","body":"<p>Search is not performed because you're creating tree items using <code>new TreeItem&lt;&gt;(value)</code>. In order to make the tree filterable from the root down, you should create the children using <code>new FilterableTreeItem&lt;&gt;(value)</code>. Note that you have to use <code>getInternalChildren()</code> instead of <code>getChildren()</code> when adding new items, otherwise an exception will be thrown (<code>FilterableTreeItem</code> replaces the implementation of children using reflection to enable filtering. Check the <a href=\"https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/bundles/runtime/org.eclipse.fx.ui.controls/src/org/eclipse/fx/ui/controls/tree/FilterableTreeItem.java\" rel=\"nofollow noreferrer\">source code</a>).</p>\n<p>Working code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;S,T&gt; TreeView&lt;T&gt; createTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, T rootValue) {\n    FilterableTreeItem&lt;T&gt; root = new FilterableTreeItem&lt;&gt;(rootValue);\n    populateTree(paths, pathSplitter, root);\n    TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\n    tree.setShowRoot(false);\n    return tree;\n}\n\nprivate &lt;S, T&gt; void populateTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, FilterableTreeItem&lt;T&gt; root) {\n    for (S path : paths) {\n        FilterableTreeItem&lt;T&gt; current = root ;\n        for (T component : pathSplitter.apply(path)) {\n            current = getOrCreateChild(current, component);\n        }\n    }\n}\n\nprivate &lt;T&gt; FilterableTreeItem&lt;T&gt; getOrCreateChild(FilterableTreeItem&lt;T&gt; parent, T value) {\n    for (TreeItem&lt;T&gt; child : parent.getInternalChildren()) {\n        if (value.equals(child.getValue())) {\n            return (FilterableTreeItem&lt;T&gt;) child;\n        }\n    }\n    FilterableTreeItem&lt;T&gt; newChild = new FilterableTreeItem&lt;&gt;(value);\n    parent.getInternalChildren().add(newChild);\n    return newChild;\n}\n</code></pre>\n<p>Assuming that your path splitter splits paths by <code>.</code>, here is what a demo filterable tree looks like:\n<a href=\"https://i.stack.imgur.com/hntod.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hntod.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14329804,"reputation":19,"user_id":10350837,"display_name":"Jose Teixeira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682438396,"creation_date":1682366372,"question_id":76095646,"body_markdown":"I tried to use the following code ( example )\r\n\r\nI&#39;m using `FilterableTreeItem` class to filter\r\n\r\n```java\r\npublic class TreeFromPaths extends Application {\r\n\r\n    private final List&lt;String&gt; paths = Arrays.asList(\r\n        //&quot;input1&quot;,\r\n        &quot;Registrations.People&quot;,\r\n        &quot;Querys.sub2&quot;,\r\n        &quot;Reports.sub2.subsub1&quot;,\r\n        &quot;Miscellaneous.sub3&quot;,\r\n        &quot;input3&quot;,\r\n        &quot;input3.sub1&quot;,\r\n        &quot;input3.sub1.subsub1&quot;,\r\n        &quot;input3.sub1.subsub1.subsubsub1&quot;,\r\n        &quot;input3.sub2&quot;\r\n    );\r\n\r\n    private &lt;S,T&gt; TreeView&lt;T&gt; createTree(\r\n            List&lt;S&gt; paths, \r\n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \r\n            T rootValue) {\r\n\r\n        TreeItem&lt;T&gt; root = new TreeItem&lt;&gt;(rootValue);\r\n        populateTree(paths, pathSplitter, root);\r\n        TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\r\n        tree.setShowRoot(false);\r\n        return tree;\r\n    }\r\n\r\n    private &lt;S,T&gt; void populateTree(\r\n            List&lt;S&gt; paths, \r\n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \r\n            TreeItem&lt;T&gt; root) {\r\n\r\n        for (S path : paths) {\r\n            TreeItem&lt;T&gt; current = root ;\r\n            for (T component : pathSplitter.apply(path)) {\r\n                current = getOrCreateChild(current, component);\r\n            }\r\n        }\r\n    }\r\n\r\n    private &lt;T&gt; TreeItem&lt;T&gt; getOrCreateChild(TreeItem&lt;T&gt; parent, T value) {\r\n        for (TreeItem&lt;T&gt; child : parent.getChildren()) {\r\n            if (value.equals(child.getValue())) {\r\n                return child ;\r\n            }\r\n        }\r\n        TreeItem&lt;T&gt; newChild = new TreeItem&lt;&gt;(value);\r\n        parent.getChildren().add(newChild);\r\n        return newChild ;\r\n    }\r\n\r\n   ...\r\n}\r\n```\r\n\r\nTextField filter to scroll through the filter\r\n\r\n```java\r\nFilterableTreeItem&lt;String&gt; root = new FilterableTreeItem&lt;&gt;(new String(&quot;root&quot;));\r\npaths.forEach(actor -&gt; root.getInternalChildren().add(new FilterableTreeItem&lt;&gt;(actor)));\r\n  \r\nroot.predicateProperty().bind(Bindings.createObjectBinding(() -&gt; {\r\n    if (filterField.getText() == null || filterField.getText().isEmpty())\r\n        return null;\r\n    return TreeItemPredicate.create(actor -&gt; actor.toString().contains(filterField.getText()));\r\n}, filterField.textProperty()));\r\n```\r\n\r\nit can find it but without updating the treeview.\r\n\r\nThe strange thing is that if you use a Bean, the filter will run. How can I solve this problem?\r\n\r\n ","title":"Filter TreeView JavaFX FilterableTreeItem List Strings","body":"<p>I tried to use the following code ( example )</p>\n<p>I'm using <code>FilterableTreeItem</code> class to filter</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TreeFromPaths extends Application {\n\n    private final List&lt;String&gt; paths = Arrays.asList(\n        //&quot;input1&quot;,\n        &quot;Registrations.People&quot;,\n        &quot;Querys.sub2&quot;,\n        &quot;Reports.sub2.subsub1&quot;,\n        &quot;Miscellaneous.sub3&quot;,\n        &quot;input3&quot;,\n        &quot;input3.sub1&quot;,\n        &quot;input3.sub1.subsub1&quot;,\n        &quot;input3.sub1.subsub1.subsubsub1&quot;,\n        &quot;input3.sub2&quot;\n    );\n\n    private &lt;S,T&gt; TreeView&lt;T&gt; createTree(\n            List&lt;S&gt; paths, \n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \n            T rootValue) {\n\n        TreeItem&lt;T&gt; root = new TreeItem&lt;&gt;(rootValue);\n        populateTree(paths, pathSplitter, root);\n        TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\n        tree.setShowRoot(false);\n        return tree;\n    }\n\n    private &lt;S,T&gt; void populateTree(\n            List&lt;S&gt; paths, \n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \n            TreeItem&lt;T&gt; root) {\n\n        for (S path : paths) {\n            TreeItem&lt;T&gt; current = root ;\n            for (T component : pathSplitter.apply(path)) {\n                current = getOrCreateChild(current, component);\n            }\n        }\n    }\n\n    private &lt;T&gt; TreeItem&lt;T&gt; getOrCreateChild(TreeItem&lt;T&gt; parent, T value) {\n        for (TreeItem&lt;T&gt; child : parent.getChildren()) {\n            if (value.equals(child.getValue())) {\n                return child ;\n            }\n        }\n        TreeItem&lt;T&gt; newChild = new TreeItem&lt;&gt;(value);\n        parent.getChildren().add(newChild);\n        return newChild ;\n    }\n\n   ...\n}\n</code></pre>\n<p>TextField filter to scroll through the filter</p>\n<pre class=\"lang-java prettyprint-override\"><code>FilterableTreeItem&lt;String&gt; root = new FilterableTreeItem&lt;&gt;(new String(&quot;root&quot;));\npaths.forEach(actor -&gt; root.getInternalChildren().add(new FilterableTreeItem&lt;&gt;(actor)));\n  \nroot.predicateProperty().bind(Bindings.createObjectBinding(() -&gt; {\n    if (filterField.getText() == null || filterField.getText().isEmpty())\n        return null;\n    return TreeItemPredicate.create(actor -&gt; actor.toString().contains(filterField.getText()));\n}, filterField.textProperty()));\n</code></pre>\n<p>it can find it but without updating the treeview.</p>\n<p>The strange thing is that if you use a Bean, the filter will run. How can I solve this problem?</p>\n"},{"tags":["java","javafx","path","jar"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1682437260,"post_id":76102752,"comment_id":134213919,"body_markdown":"there is no way around _learning_ how to lookup resources (vs. random experimenting :) see f.i. the duplicate which explains in detail what/how to do it.","body":"there is no way around <i>learning</i> how to lookup resources (vs. random experimenting :) see f.i. the duplicate which explains in detail what/how to do it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682438435,"post_id":76102752,"comment_id":134214268,"body_markdown":"That code cannot possibly produce that exception, unless I am missing something;","body":"That code cannot possibly produce that exception, unless I am missing something;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682441318,"post_id":76102752,"comment_id":134215081,"body_markdown":"Did you actually check to see if the image is in the jar file?","body":"Did you actually check to see if the image is in the jar file?"}],"owner":{"account_id":25275477,"reputation":1,"user_id":19104188,"display_name":"Trupka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682437019,"answer_count":0,"score":0,"last_activity_date":1682438270,"creation_date":1682435354,"question_id":76102752,"body_markdown":"I have my JavaFX app.\r\n\r\nI&#39;m trying to display some images on Scene it looks like this:\r\n\r\n```java\r\n    private ImageView createChampionImageView(Champion champion)\r\n    {\r\n        ImageView imageView = new ImageView(&quot;/images/champions/&quot; + champion.getName().toLowerCase().replaceAll(&quot;[. ]&quot;, &quot;&quot;) + &quot;.png&quot;);\r\n        imageView.setFitHeight(60);\r\n        imageView.setFitWidth(60);\r\n        RoundCorners.setRoundedCornerImageView(imageView);\r\n        return imageView;\r\n    }\r\n```\r\nMy error looks like this and it only happens to JAR file, if i run the program in IntelliJ everything is fine:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:138)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:91)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:75)\r\n\tat me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\nI&#39;m calling this method (createChampionImageView()) in this method:\r\n\r\n```java\r\npublic void fillChampionsPane()\r\n    {\r\n        if (championsPageParser.champions() == null)\r\n            return;\r\n        ArrayList&lt;Champion&gt; champions = championsPageParser.champions();\r\n        for (Champion champion : champions)\r\n        {\r\n// This addToTilePane calls the createChampionImageView\r\n            addToTilePane(champion);\r\n        }\r\n    }\r\n```\r\nAnd this method above is called from here (it is called from a different controller):\r\n\r\n```java\r\n@FXML\r\n    private void setChampionsParserUGG()\r\n    {\r\n        JavaLeagueBuilds.chosenPage = U_GG;\r\n        JavaLeagueBuilds.getInstance().switchToLoading();\r\n        CompletableFuture.runAsync(() -&gt; ChampionsScene.getInstance().setChampionsPageParser(new HtmlChampionsUGGParser()))\r\n                .thenRun(() -&gt; Platform.runLater(() -&gt; {\r\n                    ChampionsScene.getInstance().fillChampionsPane();\r\n                    JavaLeagueBuilds.getInstance().switchToChampions();\r\n                }));\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI tried using getClass().getResource() and getResourceAsStream() but it seems nothing has worked.\r\n\r\nEDIT: So I tried the getResource() again following the guide, but when I run my program as JAR i get this:\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:141)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:94)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:78)\r\n\tat me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nWhat is very strange that the app icon is loaded normaly and works but other images dont.\r\n\r\n[Here](https://github.com/Trup10ka/JLB-JavaLeagueBuilds) is my github repository if you need to check anything else","title":"When running executable JAR, JAR cannot find my images","body":"<p>I have my JavaFX app.</p>\n<p>I'm trying to display some images on Scene it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private ImageView createChampionImageView(Champion champion)\n    {\n        ImageView imageView = new ImageView(&quot;/images/champions/&quot; + champion.getName().toLowerCase().replaceAll(&quot;[. ]&quot;, &quot;&quot;) + &quot;.png&quot;);\n        imageView.setFitHeight(60);\n        imageView.setFitWidth(60);\n        RoundCorners.setRoundedCornerImageView(imageView);\n        return imageView;\n    }\n</code></pre>\n<p>My error looks like this and it only happens to JAR file, if i run the program in IntelliJ everything is fine:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n    at me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:138)\n    at me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:91)\n    at me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:75)\n    at me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>I'm calling this method (createChampionImageView()) in this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void fillChampionsPane()\n    {\n        if (championsPageParser.champions() == null)\n            return;\n        ArrayList&lt;Champion&gt; champions = championsPageParser.champions();\n        for (Champion champion : champions)\n        {\n// This addToTilePane calls the createChampionImageView\n            addToTilePane(champion);\n        }\n    }\n</code></pre>\n<p>And this method above is called from here (it is called from a different controller):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\n    private void setChampionsParserUGG()\n    {\n        JavaLeagueBuilds.chosenPage = U_GG;\n        JavaLeagueBuilds.getInstance().switchToLoading();\n        CompletableFuture.runAsync(() -&gt; ChampionsScene.getInstance().setChampionsPageParser(new HtmlChampionsUGGParser()))\n                .thenRun(() -&gt; Platform.runLater(() -&gt; {\n                    ChampionsScene.getInstance().fillChampionsPane();\n                    JavaLeagueBuilds.getInstance().switchToChampions();\n                }));\n    }\n</code></pre>\n<p>I tried using getClass().getResource() and getResourceAsStream() but it seems nothing has worked.</p>\n<p>EDIT: So I tried the getResource() again following the guide, but when I run my program as JAR i get this:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n    at me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:141)\n    at me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:94)\n    at me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:78)\n    at me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>What is very strange that the app icon is loaded normaly and works but other images dont.</p>\n<p><a href=\"https://github.com/Trup10ka/JLB-JavaLeagueBuilds\" rel=\"nofollow noreferrer\">Here</a> is my github repository if you need to check anything else</p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682110221,"post_id":76076613,"comment_id":134169696,"body_markdown":"Details: Does the text field use word wrap? Are you interested in the line as measured by hard line-breaks or by hard *and soft* breaks (a la word wrap)? Note that it is usually best to ask a question *after* you have done significant research and have tried something.","body":"Details: Does the text field use word wrap? Are you interested in the line as measured by hard line-breaks or by hard <i>and soft</i> breaks (a la word wrap)? Note that it is usually best to ask a question <i>after</i> you have done significant research and have tried something."},{"owner":{"account_id":28279766,"reputation":1,"user_id":21621621,"display_name":"AtlasRR"},"score":0,"creation_date":1682110475,"post_id":76076613,"comment_id":134169741,"body_markdown":"No, it doesn&#39;t use word wrap, I am interested on hard-line breaks","body":"No, it doesn&#39;t use word wrap, I am interested on hard-line breaks"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682110542,"post_id":76076613,"comment_id":134169759,"body_markdown":"I have my doubts about it, because the line number could differ based on the so many different variables","body":"I have my doubts about it, because the line number could differ based on the so many different variables"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682110606,"post_id":76076613,"comment_id":134169773,"body_markdown":"*&quot;I am interested on hard-line breaks&quot;* - then discard the text area and search the text itself, maybe breaking the text down into an array/list of lines","body":"<i>&quot;I am interested on hard-line breaks&quot;</i> - then discard the text area and search the text itself, maybe breaking the text down into an array/list of lines"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682110845,"post_id":76076613,"comment_id":134169803,"body_markdown":"Rob Camick (site user camickr) has or had some text utilities that might be of use in adding line numbers to text areas, but I can&#39;t find the link","body":"Rob Camick (site user camickr) has or had some text utilities that might be of use in adding line numbers to text areas, but I can&#39;t find the link"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682112802,"post_id":76076613,"comment_id":134170083,"body_markdown":"if you use the getLineOfOffset() method you should use the &quot;Documents&quot; getText() method since it will only contain a &quot;\\n&quot; for each line so the offset will be returned correctly. If you use the getText() method of the text area the String may contain &quot;\\r\\n&quot; which could result in an incorrect offset for the string location.","body":"if you use the getLineOfOffset() method you should use the &quot;Documents&quot; getText() method since it will only contain a &quot;\\n&quot; for each line so the offset will be returned correctly. If you use the getText() method of the text area the String may contain &quot;\\r\\n&quot; which could result in an incorrect offset for the string location."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682112997,"post_id":76076613,"comment_id":134170107,"body_markdown":"You could also try looking at [Text Utilities](https://tips4java.wordpress.com/2008/10/26/text-utilities/). You can&#39;t use any of the methods directly, but the code in the methods may help you iterate through each Element (line of text) in the Document to search for the word in question.","body":"You could also try looking at <a href=\"https://tips4java.wordpress.com/2008/10/26/text-utilities/\" rel=\"nofollow noreferrer\">Text Utilities</a>. You can&#39;t use any of the methods directly, but the code in the methods may help you iterate through each Element (line of text) in the Document to search for the word in question."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1682130107,"post_id":76076613,"comment_id":134171581,"body_markdown":"@user16320675, Oops, I made a wrong statement. If you start with an empty JTextArea or JTextPane and just type text, then the getText() method with only return a &quot;\\n&quot;. However, if you use the `read(...)` method to read a file into a JTextArea or JTextPane the text area works the same however the JTextPane.getText() will return the &quot;\\r\\n&quot; on Windows. I made an unnecessary comment since might only be an issue with a JTextPane and reading from a file.","body":"@user16320675, Oops, I made a wrong statement. If you start with an empty JTextArea or JTextPane and just type text, then the getText() method with only return a &quot;\\n&quot;. However, if you use the <code>read(...)</code> method to read a file into a JTextArea or JTextPane the text area works the same however the JTextPane.getText() will return the &quot;\\r\\n&quot; on Windows. I made an unnecessary comment since might only be an issue with a JTextPane and reading from a file."},{"owner":{"account_id":28279766,"reputation":1,"user_id":21621621,"display_name":"AtlasRR"},"score":0,"creation_date":1682178524,"post_id":76076613,"comment_id":134176039,"body_markdown":"Thanks to all people with comments, I&#39;ll upload the solution on how I did it as soon as I can.","body":"Thanks to all people with comments, I&#39;ll upload the solution on how I did it as soon as I can."}],"answers":[{"tags":[],"owner":{"account_id":24195440,"reputation":3,"user_id":18154064,"display_name":"XYink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682438265,"creation_date":1682438265,"answer_id":76103200,"question_id":76076613,"body_markdown":"To do that, you will need to get the text of the JTextArea. Here, I will put it as an array where each line in the array is a line in the JTextArea. I found this code from [this guy on stackoverflow][1].\r\n\r\n    String lines[] = jTextArea1.getText().split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n*This uses [regexes][2], kinda hard to explain so there’s the documentation for you.*\r\n\r\nAfterwards, you can [loop through the lines of the array][3] and look for x word. To find x word in a string, you can use [`String.contains(String);`][4]\r\n\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n        if(lines[i].contains(x);\r\n            System.out.println(i);\r\n    }\r\n\r\nHere, the line where the word is located is `i`.\r\n\r\nThere is a problem though. There could be multiple of the same word. There are multiple ways to *fix* this: keep the last one; keep the first one; keep of them; and many others. \r\n\r\nTo keep the last one, you could assign a variable to the value of `i`. As that variable’s would get changed each time that word comes up, the last time the word would appear would be the value of that variable. \r\n\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n        if(lines[i].contains(x))\r\n            myVar = i;\r\n    }\r\n\r\nTo keep the first one, you can create a boolean variable that is first assigned to true and when you find the word in the string, simply put it to false. Add an if statement and yeah, should work.\r\n\r\n\r\n    boolean xShowedUp = false;\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n        if(lines[i].contains(x) &amp;&amp; !xShowedUp)\r\n        {\r\n            myVar = i;\r\n            xShowedUp = true;\r\n        }\r\n    }\r\n\r\nTo keep all of them, you can make an array and add the value of `i` to the array when you find the word in the string.\r\n\r\nIf you would like to learn more about the the JTextArea, you can look [here][6]!\r\n\r\n*This is one of my first answer, please forgive me for any misspellings of any errors in my explaining. Thanks!*\r\n\r\n  [1]: https://stackoverflow.com/a/20432540/18154064\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/regex/\r\n  [3]: https://www.w3schools.com/java/java_arrays_loop.asp\r\n  [4]: https://www.w3schools.com/java/ref_string_contains.asp\r\n  [5]: https://www.javatpoint.com/understanding-toString()-method\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#:~:text=A%20JTextArea%20is%20a%20multi,it%20can%20reasonably%20do%20so.","title":"How can I get the line where a specific word is written on a JTextArea in Java?","body":"<p>To do that, you will need to get the text of the JTextArea. Here, I will put it as an array where each line in the array is a line in the JTextArea. I found this code from <a href=\"https://stackoverflow.com/a/20432540/18154064\">this guy on stackoverflow</a>.</p>\n<pre><code>String lines[] = jTextArea1.getText().split(&quot;\\\\r?\\\\n&quot;);\n</code></pre>\n<p><em>This uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regexes</a>, kinda hard to explain so there’s the documentation for you.</em></p>\n<p>Afterwards, you can <a href=\"https://www.w3schools.com/java/java_arrays_loop.asp\" rel=\"nofollow noreferrer\">loop through the lines of the array</a> and look for x word. To find x word in a string, you can use <a href=\"https://www.w3schools.com/java/ref_string_contains.asp\" rel=\"nofollow noreferrer\"><code>String.contains(String);</code></a></p>\n<pre><code>for (int i = 0; i &lt; lines.length; i++) {\n    if(lines[i].contains(x);\n        System.out.println(i);\n}\n</code></pre>\n<p>Here, the line where the word is located is <code>i</code>.</p>\n<p>There is a problem though. There could be multiple of the same word. There are multiple ways to <em>fix</em> this: keep the last one; keep the first one; keep of them; and many others.</p>\n<p>To keep the last one, you could assign a variable to the value of <code>i</code>. As that variable’s would get changed each time that word comes up, the last time the word would appear would be the value of that variable.</p>\n<pre><code>for (int i = 0; i &lt; lines.length; i++) {\n    if(lines[i].contains(x))\n        myVar = i;\n}\n</code></pre>\n<p>To keep the first one, you can create a boolean variable that is first assigned to true and when you find the word in the string, simply put it to false. Add an if statement and yeah, should work.</p>\n<pre><code>boolean xShowedUp = false;\nfor (int i = 0; i &lt; lines.length; i++) {\n    if(lines[i].contains(x) &amp;&amp; !xShowedUp)\n    {\n        myVar = i;\n        xShowedUp = true;\n    }\n}\n</code></pre>\n<p>To keep all of them, you can make an array and add the value of <code>i</code> to the array when you find the word in the string.</p>\n<p>If you would like to learn more about the the JTextArea, you can look <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#:%7E:text=A%20JTextArea%20is%20a%20multi,it%20can%20reasonably%20do%20so.\" rel=\"nofollow noreferrer\">here</a>!</p>\n<p><em>This is one of my first answer, please forgive me for any misspellings of any errors in my explaining. Thanks!</em></p>\n"}],"owner":{"account_id":28279766,"reputation":1,"user_id":21621621,"display_name":"AtlasRR"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682438265,"creation_date":1682110113,"question_id":76076613,"body_markdown":"I&#39;m trying to iterate through a JTextArea and get the line where a specific word is written so I can insert the line number into a table or an array but I don&#39;t have a clear idea on how to address it.\r\n\r\nI haven&#39;t tried too much until now for the same reason that I don&#39;t have the idea of how to do it.  ","title":"How can I get the line where a specific word is written on a JTextArea in Java?","body":"<p>I'm trying to iterate through a JTextArea and get the line where a specific word is written so I can insert the line number into a table or an array but I don't have a clear idea on how to address it.</p>\n<p>I haven't tried too much until now for the same reason that I don't have the idea of how to do it.</p>\n"},{"tags":["java","instantiation"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1251697412,"post_id":1355810,"comment_id":1192759,"body_markdown":"Instance initialisers are quite rare (unless you bump into code from someone keen on the double brace idiom).","body":"Instance initialisers are quite rare (unless you bump into code from someone keen on the double brace idiom)."},{"owner":{"account_id":1492142,"reputation":772,"user_id":1399001,"display_name":"lboullo0"},"score":1,"creation_date":1671195847,"post_id":1355810,"comment_id":132052440,"body_markdown":"The kind of code you only find in interviews for a job","body":"The kind of code you only find in interviews for a job"}],"answers":[{"tags":[],"owner":{"account_id":27644,"reputation":8450,"user_id":73148,"accept_rate":80,"display_name":"Rahul Garg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1251694086,"creation_date":1251694086,"answer_id":1355834,"question_id":1355810,"body_markdown":"When you have many constructors and want some common code to be executed for each constructor you can use instance initializer.As it is called for all constructors.","title":"How is an instance initializer different from a constructor?","body":"<p>When you have many constructors and want some common code to be executed for each constructor you can use instance initializer.As it is called for all constructors.</p>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1682438091,"creation_date":1251694183,"answer_id":1355839,"question_id":1355810,"body_markdown":"In terms of object lifecycle, there is no difference. Both are invoked at construction time, and logically the initializer block can be considered part of construction.\r\n\r\nSemantically, an initializer is a nice tool to have for several reasons:\r\n\r\nthe initializer can improve code readability by keeping the initialization logic next to the variable being initialized:\r\n   \r\n       public class Universe {\r\n           public int theAnswer;\r\n           {\r\n             int SIX = 6;\r\n             int NINE = 7;\r\n             theAnswer = SIX * NINE;\r\n           }\r\n\r\n           // a bunch of other vars\r\n       }\r\n   \r\n   vs\r\n   \r\n       public class Universe {\r\n           public int theAnswer;\r\n\r\n           // a bunch of other vars\r\n\r\n           public Universe() {\r\n             int SIX = 6;\r\n             int NINE = 7;\r\n             theAnswer = SIX * NINE;\r\n\r\n             // other constructor logic\r\n           }\r\n       }\r\n   \r\n   Initializers are invoked regardless\r\n   of which constructor is used.\r\n   \r\n   Initializers can be used in anonymous\r\n   inner classes, where constructors\r\n   can&#39;t.\r\n\r\n","title":"How is an instance initializer different from a constructor?","body":"<p>In terms of object lifecycle, there is no difference. Both are invoked at construction time, and logically the initializer block can be considered part of construction.</p>\n<p>Semantically, an initializer is a nice tool to have for several reasons:</p>\n<p>the initializer can improve code readability by keeping the initialization logic next to the variable being initialized:</p>\n<pre><code>   public class Universe {\n       public int theAnswer;\n       {\n         int SIX = 6;\n         int NINE = 7;\n         theAnswer = SIX * NINE;\n       }\n\n       // a bunch of other vars\n   }\n</code></pre>\n<p>vs</p>\n<pre><code>   public class Universe {\n       public int theAnswer;\n\n       // a bunch of other vars\n\n       public Universe() {\n         int SIX = 6;\n         int NINE = 7;\n         theAnswer = SIX * NINE;\n\n         // other constructor logic\n       }\n   }\n</code></pre>\n<p>Initializers are invoked regardless\nof which constructor is used.</p>\n<p>Initializers can be used in anonymous\ninner classes, where constructors\ncan't.</p>\n"},{"tags":[],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1411840524,"creation_date":1251694256,"answer_id":1355843,"question_id":1355810,"body_markdown":"This seems to explain it well:\r\n\r\n&gt; Instance initializers are a useful alternative to instance variable\r\n&gt; initializers whenever: \r\n&gt; \r\n&gt; + initializer code must catch exceptions, or \r\n&gt; \r\n&gt; + perform fancy calculations that can&#39;t be expressed with an instance variable initializer. *You could, of course, always write such code in\r\n&gt; constructors.* \r\n&gt; \r\n&gt; **But in a class that had multiple constructors, you would have to repeat the code in each constructor. With an instance initializer, you\r\n&gt; can just write the code once, and it will be executed no matter what\r\n&gt; constructor is used to create the object. Instance initializers are\r\n&gt; also useful in anonymous inner classes, which can&#39;t declare any\r\n&gt; constructors at all.**\r\n\r\nFrom: JavaWorld [Object initialization in Java][1].\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-03-1998/jw-03-initialization.html?page=4","title":"How is an instance initializer different from a constructor?","body":"<p>This seems to explain it well:</p>\n\n<blockquote>\n  <p>Instance initializers are a useful alternative to instance variable\n  initializers whenever: </p>\n  \n  <ul>\n  <li><p>initializer code must catch exceptions, or </p></li>\n  <li><p>perform fancy calculations that can't be expressed with an instance variable initializer. <em>You could, of course, always write such code in\n  constructors.</em> </p></li>\n  </ul>\n  \n  <p><strong>But in a class that had multiple constructors, you would have to repeat the code in each constructor. With an instance initializer, you\n  can just write the code once, and it will be executed no matter what\n  constructor is used to create the object. Instance initializers are\n  also useful in anonymous inner classes, which can't declare any\n  constructors at all.</strong></p>\n</blockquote>\n\n<p>From: JavaWorld <a href=\"http://www.javaworld.com/javaworld/jw-03-1998/jw-03-initialization.html?page=4\" rel=\"noreferrer\">Object initialization in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1251726412,"creation_date":1251726412,"answer_id":1357545,"question_id":1355810,"body_markdown":"I would avoid the instance initializer idiom in general - the only real advantage it gives over variable initializers is exception handling.  \r\n\r\nAnd since an init method (callable from constructor) can also do exception handling and also centralizes constructor setup code, but has the advantage that it can operate on constructor parameter values, I&#39;d say that the instance initializer is redundant, and therefore to be avoided.  ","title":"How is an instance initializer different from a constructor?","body":"<p>I would avoid the instance initializer idiom in general - the only real advantage it gives over variable initializers is exception handling.  </p>\n\n<p>And since an init method (callable from constructor) can also do exception handling and also centralizes constructor setup code, but has the advantage that it can operate on constructor parameter values, I'd say that the instance initializer is redundant, and therefore to be avoided.  </p>\n"},{"tags":[],"owner":{"account_id":6581989,"reputation":101,"user_id":5086005,"accept_rate":0,"display_name":"dnyanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445148433,"creation_date":1445147317,"answer_id":33194764,"question_id":1355810,"body_markdown":"Initializer is way to share code between constructors and it make code more readable if initializer is used with variable declaration.\r\n\r\nThe Java compiler copies initializer blocks into every constructor. Therefore, this approach can be used to share a block of code between multiple constructors.\r\n[Oracle documentation][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html","title":"How is an instance initializer different from a constructor?","body":"<p>Initializer is way to share code between constructors and it make code more readable if initializer is used with variable declaration.</p>\n\n<p>The Java compiler copies initializer blocks into every constructor. Therefore, this approach can be used to share a block of code between multiple constructors.\n<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow\">Oracle documentation</a></p>\n"},{"tags":[],"owner":{"account_id":5256683,"reputation":1188,"user_id":4199385,"display_name":"padippist"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536698445,"creation_date":1465471115,"answer_id":37724496,"question_id":1355810,"body_markdown":"The **real advantage of instance initializers over constructors is seen when we use an anonymous inner class**.\r\n\r\n**Anonymous inner classes can&#39;t have a constructor** (as they&#39;re anonymous)**,** **so** they&#39;re a pretty natural fit for **instance initializers**.","title":"How is an instance initializer different from a constructor?","body":"<p>The <strong>real advantage of instance initializers over constructors is seen when we use an anonymous inner class</strong>.</p>\n\n<p><strong>Anonymous inner classes can't have a constructor</strong> (as they're anonymous)<strong>,</strong> <strong>so</strong> they're a pretty natural fit for <strong>instance initializers</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6179671,"reputation":462,"user_id":4815580,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574171747,"creation_date":1574171747,"answer_id":58935701,"question_id":1355810,"body_markdown":"At the time of object creation, if we want to perform initialise of instance variables, then we should go for Constructor, other than initialisation activity if we want to perform any activity at the time of object creation then we should go for instance block.\r\n\r\nWe can&#39;t replace constructor with instance block because constructor can take argument but instance block can&#39;t take arguments.\r\n\r\nWe can&#39;t replace instance block wih constructor because a class can contain more than one constructor. If we want to replace instance block with constructor then in every constructor we have to write instance block code because at runtime which constructor will be called we can&#39;t expect, this will unnecesarily increase duplicate code.\r\n\r\n**Example :** \r\n\r\n    class MyClass{\r\n\r\n\t    static int object_count = 0;\r\n\t\r\n\t    MyClass(){\r\n\t\t    object_count++;\r\n\t    }\r\n\t\r\n\t    MyClass(int i){\r\n\t\t\r\n\t\t    object_count++;\r\n\t    }\r\n\t\r\n        void getCount() {\r\n\t\t\r\n\t\t    System.out.println(object_count);\r\n\t    }\r\n\r\n\t    public static void main(String... args) {\r\n\t\t    MyClass one = new MyClass();\r\n\t\t    MyClass two = new MyClass(2);\r\n            two.getCount();\r\n\t    }\r\n    }\r\n\r\n**Output :** `2`\r\n\r\n    class MyClass{\r\n\r\n\t    static int object_count = 0;\r\n\t\r\n        {\r\n            object_count++;\r\n        }\r\n\t    \r\n        MyClass(){\r\n\t\t    \r\n\t    }\r\n\t\r\n\t    MyClass(int i){\t\t\r\n\t\t    \r\n\t    }\r\n\t\r\n        void getCount() {\r\n\t\t\r\n\t\t    System.out.println(object_count);\r\n\t    }\r\n\r\n\t    public static void main(String... args) {\r\n\t\t    MyClass one = new MyClass();\r\n\t\t    MyClass two = new MyClass(2);\r\n            two.getCount();\r\n\t    }\r\n    }\r\n\r\n**Output :** `2`","title":"How is an instance initializer different from a constructor?","body":"<p>At the time of object creation, if we want to perform initialise of instance variables, then we should go for Constructor, other than initialisation activity if we want to perform any activity at the time of object creation then we should go for instance block.</p>\n\n<p>We can't replace constructor with instance block because constructor can take argument but instance block can't take arguments.</p>\n\n<p>We can't replace instance block wih constructor because a class can contain more than one constructor. If we want to replace instance block with constructor then in every constructor we have to write instance block code because at runtime which constructor will be called we can't expect, this will unnecesarily increase duplicate code.</p>\n\n<p><strong>Example :</strong> </p>\n\n<pre><code>class MyClass{\n\n    static int object_count = 0;\n\n    MyClass(){\n        object_count++;\n    }\n\n    MyClass(int i){\n\n        object_count++;\n    }\n\n    void getCount() {\n\n        System.out.println(object_count);\n    }\n\n    public static void main(String... args) {\n        MyClass one = new MyClass();\n        MyClass two = new MyClass(2);\n        two.getCount();\n    }\n}\n</code></pre>\n\n<p><strong>Output :</strong> <code>2</code></p>\n\n<pre><code>class MyClass{\n\n    static int object_count = 0;\n\n    {\n        object_count++;\n    }\n\n    MyClass(){\n\n    }\n\n    MyClass(int i){     \n\n    }\n\n    void getCount() {\n\n        System.out.println(object_count);\n    }\n\n    public static void main(String... args) {\n        MyClass one = new MyClass();\n        MyClass two = new MyClass(2);\n        two.getCount();\n    }\n}\n</code></pre>\n\n<p><strong>Output :</strong> <code>2</code></p>\n"}],"owner":{"account_id":54143,"reputation":7398,"user_id":161967,"accept_rate":53,"display_name":"Ajay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25437,"favorite_count":0,"down_vote_count":1,"up_vote_count":88,"accepted_answer_id":1355843,"answer_count":7,"score":87,"last_activity_date":1682438091,"creation_date":1251693591,"question_id":1355810,"body_markdown":"In other words, why would you need an instance initializer? What difference or advantage do you have in writing a instance initializer over a constructor?","title":"How is an instance initializer different from a constructor?","body":"<p>In other words, why would you need an instance initializer? What difference or advantage do you have in writing a instance initializer over a constructor?</p>\n"},{"tags":["java","spring","timeout","webclient"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682439759,"post_id":76103133,"comment_id":134214623,"body_markdown":"“WebClient seems to convert these to an HTTP status” - typically which http status do you receive in a response when the connection is interrupted?","body":"“WebClient seems to convert these to an HTTP status” - typically which http status do you receive in a response when the connection is interrupted?"},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1682441785,"post_id":76103133,"comment_id":134215186,"body_markdown":"I&#39;m getting 404.","body":"I&#39;m getting 404."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682442751,"post_id":76103133,"comment_id":134215389,"body_markdown":"A 404 is definitely not a connection issue. The request has made its way to the server. The server does not have code to service the path called so responds with a 404 (not_found).","body":"A 404 is definitely not a connection issue. The request has made its way to the server. The server does not have code to service the path called so responds with a 404 (not_found)."},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1682450912,"post_id":76103133,"comment_id":134217103,"body_markdown":"Agreed but I&#39;ve made sure the server isn&#39;t listening and I still get 404. I&#39;m wondering if it&#39;s a limitation of WebClient?","body":"Agreed but I&#39;ve made sure the server isn&#39;t listening and I still get 404. I&#39;m wondering if it&#39;s a limitation of WebClient?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682451155,"post_id":76103133,"comment_id":134217163,"body_markdown":"A 404 is a response from something that talks http. Do you have any sort of proxy between client and server that might return a 404 to a client when the proxy can’t reach the server.","body":"A 404 is a response from something that talks http. Do you have any sort of proxy between client and server that might return a 404 to a client when the proxy can’t reach the server."},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1682488655,"post_id":76103133,"comment_id":134221988,"body_markdown":"I guess the question is - how to tell when a connection *does* fail?","body":"I guess the question is - how to tell when a connection <i>does</i> fail?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682499394,"post_id":76103133,"comment_id":134224209,"body_markdown":"I think that the answers here are a good start - https://stackoverflow.com/questions/65841285/handling-connection-errors-in-spring-reactive-webclient . Just to reiterate, http errors (4xx &amp; 5xx) are not generated by WebClient. They are returned by servers (or possibly by proxies, eg nginx)","body":"I think that the answers here are a good start - <a href=\"https://stackoverflow.com/questions/65841285/handling-connection-errors-in-spring-reactive-webclient\" title=\"handling connection errors in spring reactive webclient\">stackoverflow.com/questions/65841285/&hellip;</a> . Just to reiterate, http errors (4xx &amp; 5xx) are not generated by WebClient. They are returned by servers (or possibly by proxies, eg nginx)"}],"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682437902,"creation_date":1682437902,"question_id":76103133,"body_markdown":"I&#39;m trying to catch TCP/IP connection resets and read timeouts when using WebClient. WebClient seems to convert these to an HTTP status. Is there a way of working out when these have occurred?\r\n","title":"Is there a way to tell when Spring WebClient encounters a connection failure?","body":"<p>I'm trying to catch TCP/IP connection resets and read timeouts when using WebClient. WebClient seems to convert these to an HTTP status. Is there a way of working out when these have occurred?</p>\n"},{"tags":["java","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1682439023,"post_id":76103132,"comment_id":134214440,"body_markdown":"Remove `extends TestRunner ` and put all 3 classes in the same package. Use only `TestRunner` in your suite.","body":"Remove <code>extends TestRunner </code> and put all 3 classes in the same package. Use only <code>TestRunner</code> in your suite."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682439382,"post_id":76103132,"comment_id":134214524,"body_markdown":"@M.P.Korstanje But I need to execute different tests in my suite. If I will add TestRunner in the smoke.xml - which test (feature) will be executed?","body":"@M.P.Korstanje But I need to execute different tests in my suite. If I will add TestRunner in the smoke.xml - which test (feature) will be executed?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1682442937,"post_id":76103132,"comment_id":134215440,"body_markdown":"The one you select with `features = {&quot;....&quot;}`. You can also put your feature selection in your xml suite. https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#configure-cucumber-options-via-testng-xml","body":"The one you select with <code>features = {&quot;....&quot;}</code>. You can also put your feature selection in your xml suite. <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#configure-cucumber-options-via-testng-xml\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682604457,"post_id":76103132,"comment_id":134244768,"body_markdown":"@M.P.Korstanje\nThanks, obviously I saw this reference before but understood after your pointed me. This solution works well.","body":"@M.P.Korstanje Thanks, obviously I saw this reference before but understood after your pointed me. This solution works well."}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682437901,"creation_date":1682437901,"question_id":76103132,"body_markdown":"I try to execute cucumber tests, but my solution isn&#39;t working.\r\nI had simplified the code to a very simple instance:\r\n\r\n```java\r\npublic class FirstSteps extends TestRunner {\r\n\r\n    @When(&quot;First Step&quot;)\r\n    public void firstStep() {\r\n        System.out.println(&quot;FirstSteps::firstStep&quot;);\r\n    }\r\n\r\n    @Then(&quot;Second Step&quot;)\r\n    public void secondStep() {\r\n        System.out.println(&quot;FirstSteps::secondStep&quot;);\r\n    }\r\n}\r\n\r\npublic class SecondSteps extends TestRunner {\r\n    @When(&quot;First Function&quot;)\r\n    public void firstFunction() throws InterruptedException {\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;SecondSteps::firstFunction &quot;);\r\n    }\r\n\r\n    @Then(&quot;Second Function&quot;)\r\n    public void secondFunction() {\r\n        System.out.println(&quot;SecondSteps::secondFunction&quot;);\r\n    }\r\n}\r\n\r\n@CucumberOptions(\r\n        features = {&quot;src/test/resources&quot;})\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n}\r\n```\r\n\r\nsmoke.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Test Debug&quot;&gt;\r\n    &lt;test name=&quot;Test 1&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.projectname.tests.suites.FirstSteps&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\npom.xml:\r\n```xml\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;!-- pass testng.xml files as argument from command line --&gt;\r\n                            ${suiteXmlFile}\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n - command to test execution:\r\n\r\n`mvn clean test -DsuiteXmlFile=&quot;src/test/resources/suites/smoke.xml&quot;`\r\n\r\n**Expected result:**\r\n\r\n&gt;FirstSteps::firstStep  \r\n&gt;FirstSteps::secondStep\r\n\r\n**Actual result:**\r\n\r\n&gt;FirstSteps::firstStep  \r\n&gt;FirstSteps::secondStep  \r\n&gt;SecondSteps::firstFunction   \r\n&gt;SecondSteps::secondFunction\r\n\r\n---\r\n\r\nAs we can see the testing executes both classes: `FirstSteps` and `SecondSteps`, although I setup only `FirstSteps` in the `smoke.xml`\r\n\r\n\r\n\r\n\r\n\r\n\r\n    ```","title":"How to execute separate feature with cucumber and testng?","body":"<p>I try to execute cucumber tests, but my solution isn't working.\nI had simplified the code to a very simple instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FirstSteps extends TestRunner {\n\n    @When(&quot;First Step&quot;)\n    public void firstStep() {\n        System.out.println(&quot;FirstSteps::firstStep&quot;);\n    }\n\n    @Then(&quot;Second Step&quot;)\n    public void secondStep() {\n        System.out.println(&quot;FirstSteps::secondStep&quot;);\n    }\n}\n\npublic class SecondSteps extends TestRunner {\n    @When(&quot;First Function&quot;)\n    public void firstFunction() throws InterruptedException {\n        Thread.sleep(1000);\n        System.out.println(&quot;SecondSteps::firstFunction &quot;);\n    }\n\n    @Then(&quot;Second Function&quot;)\n    public void secondFunction() {\n        System.out.println(&quot;SecondSteps::secondFunction&quot;);\n    }\n}\n\n@CucumberOptions(\n        features = {&quot;src/test/resources&quot;})\npublic class TestRunner extends AbstractTestNGCucumberTests {\n}\n</code></pre>\n<p>smoke.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Test Debug&quot;&gt;\n    &lt;test name=&quot;Test 1&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.projectname.tests.suites.FirstSteps&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;suiteXmlFiles&gt;\n                            &lt;!-- pass testng.xml files as argument from command line --&gt;\n                            ${suiteXmlFile}\n                        &lt;/suiteXmlFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n</code></pre>\n<ul>\n<li>command to test execution:</li>\n</ul>\n<p><code>mvn clean test -DsuiteXmlFile=&quot;src/test/resources/suites/smoke.xml&quot;</code></p>\n<p><strong>Expected result:</strong></p>\n<blockquote>\n<p>FirstSteps::firstStep<br />\nFirstSteps::secondStep</p>\n</blockquote>\n<p><strong>Actual result:</strong></p>\n<blockquote>\n<p>FirstSteps::firstStep<br />\nFirstSteps::secondStep<br />\nSecondSteps::firstFunction<br />\nSecondSteps::secondFunction</p>\n</blockquote>\n<hr />\n<p>As we can see the testing executes both classes: <code>FirstSteps</code> and <code>SecondSteps</code>, although I setup only <code>FirstSteps</code> in the <code>smoke.xml</code></p>\n<pre><code>```\n</code></pre>\n"},{"tags":["java","android","yt-dlp"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1682434200,"post_id":76102438,"comment_id":134212986,"body_markdown":"android studio has nothing to do with it","body":"android studio has nothing to do with it"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1682435692,"post_id":76102438,"comment_id":134213448,"body_markdown":"Android Studio is an IDE that helps to develop and build apps. If you want to make it &quot;work witth android studio&quot; this means to develop a plugin for AS (what you don&#39;t want). You simply want to execute an executable (that is included in the APK) from within your app. Not sure if execution is still possible on recent Android versions, please see https://stackoverflow.com/questions/66933528/running-binary-files","body":"Android Studio is an IDE that helps to develop and build apps. If you want to make it &quot;work witth android studio&quot; this means to develop a plugin for AS (what you don&#39;t want). You simply want to execute an executable (that is included in the APK) from within your app. Not sure if execution is still possible on recent Android versions, please see <a href=\"https://stackoverflow.com/questions/66933528/running-binary-files\" title=\"running binary files\">stackoverflow.com/questions/66933528/running-binary-files</a>"},{"owner":{"account_id":20769004,"reputation":1,"user_id":15252178,"display_name":"melad samir"},"score":0,"creation_date":1682436790,"post_id":76102438,"comment_id":134213779,"body_markdown":"i mean that i need the app run the library","body":"i mean that i need the app run the library"}],"owner":{"account_id":20769004,"reputation":1,"user_id":15252178,"display_name":"melad samir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682437035,"creation_date":1682433639,"question_id":76102438,"body_markdown":"I&#39;m trying to use https://github.com/yt-dlp/yt-dlp library and add it to the android studio, but I can&#39;t get it to work\r\n\r\nWhat I understood from the research I did was that I would use java ProcessBuilder and give it the path of the file\r\nBefore that, I wrote code to copy the lib file from the assets files to the internal storage, and then give it to the proccess builder as a command \r\n\r\n\r\n```\r\n String FILE_NAME=&quot;yt-dlp_linux_armv7l&quot;;\r\n        File  outputFile;\r\n\r\n        /////////////\r\n        try {\r\n            InputStream inputStream = assetManager.open(FILE_NAME);\r\n\r\n            // Write the yt_dlp file to a local file in the application&#39;s data directory\r\n             outputFile = new File(context.getFilesDir(), FILE_NAME);\r\n            outputFile.setExecutable(true);\r\n            OutputStream outputStream = new FileOutputStream(outputFile);\r\n            byte[] buffer = new byte[2048];\r\n            int length;\r\n            while ((length = inputStream.read(buffer)) &gt; 0) {\r\n                outputStream.write(buffer, 0, length);\r\n            }\r\n            outputStream.flush();\r\n            outputStream.close();\r\n            inputStream.close();\r\n            //important\r\n            outputFile.setExecutable(true);\r\n\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n```\r\n\r\n**excute command **\r\n\r\n```\r\nist&lt;String&gt; command = new ArrayList&lt;&gt;();\r\n        command.add(**outputFile.getAbsolutePath() **);\r\n        command.add(videoUrl);\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n        pb.redirectErrorStream(true);\r\n\r\n        try {\r\n            Process process = pb.start();\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n                return line;\r\n            }\r\n            try {\r\n                process.waitFor();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                return e.getMessage();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return e.getMessage();\r\n        }\r\n```\r\n\r\nwhatever prebuilt file type i try it doesn&#39;t work\r\n\r\n[if i use aarch64 file](https://i.stack.imgur.com/aizJw.png)\r\n\r\n\r\n[if i use linux_armv7l from ](https://i.stack.imgur.com/QlEiv.png)\r\n\r\n\r\n[avaliable lib prebuild files](https://i.stack.imgur.com/51iX8.png)\r\n\r\n\r\n\r\ni want to make &quot;linux_armv7l&quot; or &quot;aarch64&quot; prebuild files to work with android app\r\n","title":"how to use yt-dlp in android native app - how to add aarch64 excutable file and excute it in android studio native app","body":"<p>I'm trying to use <a href=\"https://github.com/yt-dlp/yt-dlp\" rel=\"nofollow noreferrer\">https://github.com/yt-dlp/yt-dlp</a> library and add it to the android studio, but I can't get it to work</p>\n<p>What I understood from the research I did was that I would use java ProcessBuilder and give it the path of the file\nBefore that, I wrote code to copy the lib file from the assets files to the internal storage, and then give it to the proccess builder as a command</p>\n<pre><code> String FILE_NAME=&quot;yt-dlp_linux_armv7l&quot;;\n        File  outputFile;\n\n        /////////////\n        try {\n            InputStream inputStream = assetManager.open(FILE_NAME);\n\n            // Write the yt_dlp file to a local file in the application's data directory\n             outputFile = new File(context.getFilesDir(), FILE_NAME);\n            outputFile.setExecutable(true);\n            OutputStream outputStream = new FileOutputStream(outputFile);\n            byte[] buffer = new byte[2048];\n            int length;\n            while ((length = inputStream.read(buffer)) &gt; 0) {\n                outputStream.write(buffer, 0, length);\n            }\n            outputStream.flush();\n            outputStream.close();\n            inputStream.close();\n            //important\n            outputFile.setExecutable(true);\n\n        }\n        catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n</code></pre>\n<p>**excute command **</p>\n<pre><code>ist&lt;String&gt; command = new ArrayList&lt;&gt;();\n        command.add(**outputFile.getAbsolutePath() **);\n        command.add(videoUrl);\n\n        ProcessBuilder pb = new ProcessBuilder(command);\n        pb.redirectErrorStream(true);\n\n        try {\n            Process process = pb.start();\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(line);\n                return line;\n            }\n            try {\n                process.waitFor();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n                return e.getMessage();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            return e.getMessage();\n        }\n</code></pre>\n<p>whatever prebuilt file type i try it doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/aizJw.png\" rel=\"nofollow noreferrer\">if i use aarch64 file</a></p>\n<p><a href=\"https://i.stack.imgur.com/QlEiv.png\" rel=\"nofollow noreferrer\">if i use linux_armv7l from </a></p>\n<p><a href=\"https://i.stack.imgur.com/51iX8.png\" rel=\"nofollow noreferrer\">avaliable lib prebuild files</a></p>\n<p>i want to make &quot;linux_armv7l&quot; or &quot;aarch64&quot; prebuild files to work with android app</p>\n"},{"tags":["java","generics","yaml","classcastexception","snakeyaml"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682438308,"post_id":76102913,"comment_id":134214225,"body_markdown":"It would seem that your attempted way of getting snakeyaml to parse your data into objects didn&#39;t work. In raw data terms, you have a `Map&lt;String, Map&lt;String, String&gt;&gt;`, which is what you got back anyhow. You _could_ manually serialize/deserialize these things, but since it looks like you&#39;re using a jackson-esque library for this, I would look into some form of type adapter for the library. When I last used snakeyaml (a pretty long time ago), I don&#39;t believe there were mechanisms for this, so data types needed a flag for what they were.","body":"It would seem that your attempted way of getting snakeyaml to parse your data into objects didn&#39;t work. In raw data terms, you have a <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code>, which is what you got back anyhow. You <i>could</i> manually serialize/deserialize these things, but since it looks like you&#39;re using a jackson-esque library for this, I would look into some form of type adapter for the library. When I last used snakeyaml (a pretty long time ago), I don&#39;t believe there were mechanisms for this, so data types needed a flag for what they were."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1682523526,"post_id":76102913,"comment_id":134230569,"body_markdown":"Usually you&#39;d use `putMapPropertyType` but that only works on properties in other beans, not on the root type. You can write a custom constructor but it&#39;s quite the hassle.","body":"Usually you&#39;d use <code>putMapPropertyType</code> but that only works on properties in other beans, not on the root type. You can write a custom constructor but it&#39;s quite the hassle."}],"owner":{"account_id":19173164,"reputation":119,"user_id":14006438,"display_name":"Liam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682436360,"creation_date":1682436360,"question_id":76102913,"body_markdown":"I have the following YAML file:\r\n```\r\na:\r\n  name: alpha\r\nb:\r\n  name: beta\r\n```\r\n\r\nI want to turn this into a `Map&lt;String, Item&gt;`, where an `Item` looks like this:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic static class Item {\r\n    String name;\r\n}\r\n```\r\nMy approach was to define a class representing this map:\r\n```\r\npublic static class ItemMap extends HashMap&lt;String, Item&gt; {\r\n}\r\n```\r\nAnd then I parse the file using a `Yaml` object from the `SnakeYAML` library:\r\n```\r\nItemMap result = new Yaml().loadAs(yaml, ItemMap.class);\r\n```\r\nHowever, the values in this `ItemMap` are not of type `Item` - they are of type `Map&lt;String, String&gt;` - so when I call `result.get(&quot;a&quot;)` I get this error:\r\n```\r\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.Item\r\n```\r\nIs what I&#39;m trying to do possible? ","title":"Can SnakeYAML be used to parse a map of objects?","body":"<p>I have the following YAML file:</p>\n<pre><code>a:\n  name: alpha\nb:\n  name: beta\n</code></pre>\n<p>I want to turn this into a <code>Map&lt;String, Item&gt;</code>, where an <code>Item</code> looks like this:</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic static class Item {\n    String name;\n}\n</code></pre>\n<p>My approach was to define a class representing this map:</p>\n<pre><code>public static class ItemMap extends HashMap&lt;String, Item&gt; {\n}\n</code></pre>\n<p>And then I parse the file using a <code>Yaml</code> object from the <code>SnakeYAML</code> library:</p>\n<pre><code>ItemMap result = new Yaml().loadAs(yaml, ItemMap.class);\n</code></pre>\n<p>However, the values in this <code>ItemMap</code> are not of type <code>Item</code> - they are of type <code>Map&lt;String, String&gt;</code> - so when I call <code>result.get(&quot;a&quot;)</code> I get this error:</p>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.Item\n</code></pre>\n<p>Is what I'm trying to do possible?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1512494477,"post_id":47659151,"comment_id":82277110,"body_markdown":"You need to tell Eclipse to refresh Maven dependencies. Right click on the project, select Maven, select update dependencies, tick the force refresh checkbox too. Something like that, I don&#39;t have an Eclipse in front of me right now","body":"You need to tell Eclipse to refresh Maven dependencies. Right click on the project, select Maven, select update dependencies, tick the force refresh checkbox too. Something like that, I don&#39;t have an Eclipse in front of me right now"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1512495730,"post_id":47659151,"comment_id":82277869,"body_markdown":"So you have these both projects in same workspace in your Eclipse?","body":"So you have these both projects in same workspace in your Eclipse?"},{"owner":{"account_id":5313963,"reputation":611,"user_id":4239402,"accept_rate":3,"display_name":"Jean"},"score":0,"creation_date":1512551402,"post_id":47659151,"comment_id":82299729,"body_markdown":"Yes they are in the same workspace.","body":"Yes they are in the same workspace."},{"owner":{"account_id":5313963,"reputation":611,"user_id":4239402,"accept_rate":3,"display_name":"Jean"},"score":0,"creation_date":1512551445,"post_id":47659151,"comment_id":82299755,"body_markdown":"I&#39;ve already tried Maven Update dependencies with no success.","body":"I&#39;ve already tried Maven Update dependencies with no success."}],"owner":{"account_id":5313963,"reputation":611,"user_id":4239402,"accept_rate":3,"display_name":"Jean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682435714,"creation_date":1512494108,"question_id":47659151,"body_markdown":"I work on two projects with a friend on Eclipse. One of them (Project 2) create a Maven Jar with dependencies which is used on the other project(Project 1).\r\n\r\nEvery time I change one of the objects created on my Project 2, Eclipse doesn&#39;t realize there is an update that can be used by project 1. \r\n\r\nI clean, refresh, update project but 99% of the time, my Tomcat cannot be launched. It took me most of the times between a few hours and 48 hours to fix the problem without never knowing what went wrong.\r\n\r\nHow could I fix this?","title":"Eclipse - Maven Update Jar with dependencies struggling to be updated","body":"<p>I work on two projects with a friend on Eclipse. One of them (Project 2) create a Maven Jar with dependencies which is used on the other project(Project 1).</p>\n<p>Every time I change one of the objects created on my Project 2, Eclipse doesn't realize there is an update that can be used by project 1.</p>\n<p>I clean, refresh, update project but 99% of the time, my Tomcat cannot be launched. It took me most of the times between a few hours and 48 hours to fix the problem without never knowing what went wrong.</p>\n<p>How could I fix this?</p>\n"},{"tags":["java","android","google-image-search"],"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682435674,"creation_date":1682435674,"question_id":76102799,"body_markdown":"I coded the app a year ago. Its works and easily search images by providing the image in the Google search bar, latter in 2023 when I upload an image for searching, it says the image search is unavailable.\r\n\r\n**my code is** \r\n\r\n     String hash = GooglePhotoHash.hashFromBitmap(bitmap); \r\n     Intent openHashURLinBrowser = (new Intent(SingleFrmGall.this, WebActivity.class));\r\n     openHashURLinBrowser.setData(Uri.parse(hash));\r\n\r\n**GooglePhotoHash code is**\r\n\r\n\r\n    public class GooglePhotoHash {\r\n        private static final String GOOGLE_IMAGE_UPLOAD_URL = &quot;https://www.google.com/searchbyimage/upload&quot;;\r\n    \r\n        private static HttpEntity buildRequestForBitmap(Bitmap bitmap) {\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 50, bos);\r\n            byte[] data = bos.toByteArray();\r\n            @SuppressLint(&quot;DefaultLocale&quot;) String fileName = String.format(&quot;File_%d.png&quot;, new Date().getTime());\r\n            ByteArrayBody bab = new ByteArrayBody(data, fileName);\r\n            return MultipartEntityBuilder.create().addPart(&quot;encoded_image&quot;, bab)\r\n                    .addPart(&quot;image_url&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;image_content&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;filename&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;h1&quot;, new StringBody(&quot;en&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;bih&quot;, new StringBody(&quot;179&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;biw&quot;, new StringBody(&quot;1600&quot;, ContentType.TEXT_PLAIN)).build();\r\n        }\r\n    \r\n        // Post request and get response\r\n        private static BufferedReader sendRequest(CloseableHttpClient client, HttpPost post, HttpEntity entity)\r\n                throws IOException {\r\n            post.setEntity(entity);\r\n            CloseableHttpResponse response = client.execute(post);\r\n            InputStream content = response.getEntity().getContent();\r\n            return new BufferedReader(new InputStreamReader(content));\r\n        }\r\n    \r\n        // Parse response\r\n        private static String parseResponse(BufferedReader reader) throws IOException {\r\n            String line;\r\n            String hashURL = &quot;&quot;;\r\n            while ((line = reader.readLine()) != null)\r\n                if (line.indexOf(&quot;HREF&quot;) &gt; 0)\r\n                    hashURL = line.substring(9, line.length() - 11);\r\n            if (hashURL.equals(&quot;&quot;))\r\n                throw new IOException();\r\n            return hashURL;\r\n        }\r\n    \r\n        // Accepts file object of image and returns hash URL\r\n        public static String hashFromBitmap(Bitmap bitmap) throws IOException {\r\n            CloseableHttpClient client = HttpClients.createDefault();\r\n            HttpPost post = new HttpPost(GOOGLE_IMAGE_UPLOAD_URL);\r\n            HttpEntity entity = buildRequestForBitmap(bitmap);\r\n            BufferedReader reader = sendRequest(client, post, entity);\r\n            return parseResponse(reader);\r\n        }}\r\n\r\n**and show the following result** \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xp6d9.png","title":"How to search image by image based search (reverse image search Google) in android java","body":"<p>I coded the app a year ago. Its works and easily search images by providing the image in the Google search bar, latter in 2023 when I upload an image for searching, it says the image search is unavailable.</p>\n<p><strong>my code is</strong></p>\n<pre><code> String hash = GooglePhotoHash.hashFromBitmap(bitmap); \n Intent openHashURLinBrowser = (new Intent(SingleFrmGall.this, WebActivity.class));\n openHashURLinBrowser.setData(Uri.parse(hash));\n</code></pre>\n<p><strong>GooglePhotoHash code is</strong></p>\n<pre><code>public class GooglePhotoHash {\n    private static final String GOOGLE_IMAGE_UPLOAD_URL = &quot;https://www.google.com/searchbyimage/upload&quot;;\n\n    private static HttpEntity buildRequestForBitmap(Bitmap bitmap) {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 50, bos);\n        byte[] data = bos.toByteArray();\n        @SuppressLint(&quot;DefaultLocale&quot;) String fileName = String.format(&quot;File_%d.png&quot;, new Date().getTime());\n        ByteArrayBody bab = new ByteArrayBody(data, fileName);\n        return MultipartEntityBuilder.create().addPart(&quot;encoded_image&quot;, bab)\n                .addPart(&quot;image_url&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;image_content&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;filename&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;h1&quot;, new StringBody(&quot;en&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;bih&quot;, new StringBody(&quot;179&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;biw&quot;, new StringBody(&quot;1600&quot;, ContentType.TEXT_PLAIN)).build();\n    }\n\n    // Post request and get response\n    private static BufferedReader sendRequest(CloseableHttpClient client, HttpPost post, HttpEntity entity)\n            throws IOException {\n        post.setEntity(entity);\n        CloseableHttpResponse response = client.execute(post);\n        InputStream content = response.getEntity().getContent();\n        return new BufferedReader(new InputStreamReader(content));\n    }\n\n    // Parse response\n    private static String parseResponse(BufferedReader reader) throws IOException {\n        String line;\n        String hashURL = &quot;&quot;;\n        while ((line = reader.readLine()) != null)\n            if (line.indexOf(&quot;HREF&quot;) &gt; 0)\n                hashURL = line.substring(9, line.length() - 11);\n        if (hashURL.equals(&quot;&quot;))\n            throw new IOException();\n        return hashURL;\n    }\n\n    // Accepts file object of image and returns hash URL\n    public static String hashFromBitmap(Bitmap bitmap) throws IOException {\n        CloseableHttpClient client = HttpClients.createDefault();\n        HttpPost post = new HttpPost(GOOGLE_IMAGE_UPLOAD_URL);\n        HttpEntity entity = buildRequestForBitmap(bitmap);\n        BufferedReader reader = sendRequest(client, post, entity);\n        return parseResponse(reader);\n    }}\n</code></pre>\n<p><strong>and show the following result</strong>\n<a href=\"https://i.stack.imgur.com/xp6d9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xp6d9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682430231,"creation_date":1682430231,"answer_id":76101864,"question_id":76100648,"body_markdown":"Not clear what is wrong with your code, but the feature works well:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is Spring Boot code I used to test against my locally running RabbitMQ.\r\n\r\nIn the `application.properties` I just have this:\r\n\r\n    spring.rabbitmq.listener.simple.retry.enabled=true\r\n\r\nTo enable retry on a listener container with 3 attempts and `RejectAndDontRequeueRecoverer` as a default policy. See `AbstractRabbitListenerContainerFactoryConfigurer` for more information.\r\n\r\nThe code looks like this:\r\n\r\n    @SpringBootApplication\r\n    public class So76100648Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So76100648Application.class, args);\r\n    \t}\r\n    \r\n    \tprivate final String testDLQ = &quot;testDLQ&quot;;\r\n    \r\n    \tprivate final String testDLX = &quot;testDLX&quot;;\r\n    \r\n    \tprivate final String testQueue = &quot;testQueue&quot;;\r\n    \r\n    \tprivate final String testExchange = &quot;testExchange&quot;;\r\n    \r\n    \t@Bean\r\n    \tQueue testMsgDLQ() {\r\n    \t\treturn QueueBuilder.durable(testDLQ).build();\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tDirectExchange testMsgDLX() {\r\n    \t\treturn new DirectExchange(testDLX);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tBinding testDLBinding(Queue testMsgDLQ, DirectExchange testMsgDLX) {\r\n    \t\treturn BindingBuilder.bind(testMsgDLQ)\r\n    \t\t\t\t.to(testMsgDLX).with(testDLQ);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tQueue testMsgQueue() {\r\n    \t\treturn QueueBuilder.durable(testQueue)\r\n    \t\t\t\t.withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\r\n    \t\t\t\t.withArgument(&quot;x-dead-letter-routing-key&quot;, testDLQ).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tDirectExchange testMsgExchange() {\r\n    \t\treturn new DirectExchange(testExchange);\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tBinding testMessageQueue(Queue testMsgQueue, DirectExchange testMsgExchange) {\r\n    \t\treturn BindingBuilder.bind(testMsgQueue)\r\n    \t\t\t\t.to(testMsgExchange).with(testQueue);\r\n    \t}\r\n    \r\n    \t@RabbitListener(queues = testQueue)\r\n    \tpublic void testListener(Object payload) {\r\n    \t\tthrow new RuntimeException(&quot;intentional&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tApplicationRunner applicationRunner(RabbitTemplate rabbitTemplate) {\r\n    \t\treturn args -&gt; rabbitTemplate.convertAndSend(testExchange, testQueue, &quot;test data&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nSo, I have exactly the same AMQP objects like in your code and then I have a `@RabbitListener` which just throws an exception on message receipt.\r\n\r\nIn logs after sending ad receiving message I have:\r\n\r\n    2023-04-25T09:36:55.827-04:00  WARN 12456 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\r\n    \r\n    org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Retry Policy Exhausted\r\n    \t...\r\n    Caused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: null\r\n    \t... 21 common frames omitted\r\n    Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method &#39;public void com.example.so76100648.So76100648Application.testListener(java.lang.Object)&#39; threw exception\r\n\r\nSo, everything confirms that we are OK. \r\n\r\nPlease, share with us a simple minimal project to reproduce.\r\n\r\n  [1]: https://i.stack.imgur.com/0f271.png","title":"dead letter queue not getting message after retry completed","body":"<p>Not clear what is wrong with your code, but the feature works well:</p>\n<p><a href=\"https://i.stack.imgur.com/0f271.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0f271.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is Spring Boot code I used to test against my locally running RabbitMQ.</p>\n<p>In the <code>application.properties</code> I just have this:</p>\n<pre><code>spring.rabbitmq.listener.simple.retry.enabled=true\n</code></pre>\n<p>To enable retry on a listener container with 3 attempts and <code>RejectAndDontRequeueRecoverer</code> as a default policy. See <code>AbstractRabbitListenerContainerFactoryConfigurer</code> for more information.</p>\n<p>The code looks like this:</p>\n<pre><code>@SpringBootApplication\npublic class So76100648Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So76100648Application.class, args);\n    }\n\n    private final String testDLQ = &quot;testDLQ&quot;;\n\n    private final String testDLX = &quot;testDLX&quot;;\n\n    private final String testQueue = &quot;testQueue&quot;;\n\n    private final String testExchange = &quot;testExchange&quot;;\n\n    @Bean\n    Queue testMsgDLQ() {\n        return QueueBuilder.durable(testDLQ).build();\n    }\n\n\n    @Bean\n    DirectExchange testMsgDLX() {\n        return new DirectExchange(testDLX);\n    }\n\n    @Bean\n    Binding testDLBinding(Queue testMsgDLQ, DirectExchange testMsgDLX) {\n        return BindingBuilder.bind(testMsgDLQ)\n                .to(testMsgDLX).with(testDLQ);\n    }\n\n    @Bean\n    Queue testMsgQueue() {\n        return QueueBuilder.durable(testQueue)\n                .withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\n                .withArgument(&quot;x-dead-letter-routing-key&quot;, testDLQ).build();\n    }\n\n    @Bean\n    DirectExchange testMsgExchange() {\n        return new DirectExchange(testExchange);\n    }\n\n\n    @Bean\n    Binding testMessageQueue(Queue testMsgQueue, DirectExchange testMsgExchange) {\n        return BindingBuilder.bind(testMsgQueue)\n                .to(testMsgExchange).with(testQueue);\n    }\n\n    @RabbitListener(queues = testQueue)\n    public void testListener(Object payload) {\n        throw new RuntimeException(&quot;intentional&quot;);\n    }\n\n    @Bean\n    ApplicationRunner applicationRunner(RabbitTemplate rabbitTemplate) {\n        return args -&gt; rabbitTemplate.convertAndSend(testExchange, testQueue, &quot;test data&quot;);\n    }\n\n}\n</code></pre>\n<p>So, I have exactly the same AMQP objects like in your code and then I have a <code>@RabbitListener</code> which just throws an exception on message receipt.</p>\n<p>In logs after sending ad receiving message I have:</p>\n<pre><code>2023-04-25T09:36:55.827-04:00  WARN 12456 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\n\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Retry Policy Exhausted\n    ...\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: null\n    ... 21 common frames omitted\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.example.so76100648.So76100648Application.testListener(java.lang.Object)' threw exception\n</code></pre>\n<p>So, everything confirms that we are OK.</p>\n<p>Please, share with us a simple minimal project to reproduce.</p>\n"}],"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682435334,"creation_date":1682422035,"question_id":76100648,"body_markdown":"After retry limit reached message is not pushed to DLQ. Also my message in main queue is also removed getting empty logs after retry done. But retry is happening for the specified limit. After retry nothing is happening. Also tried by throwing AmqpRejectAndDontRequeueException  from consumer  but till  facing  same issue. DLQ not receving any message. After retry message not routed to DLQ                                                                                                    \r\n                                                                                                     \r\n                                                                                                     \r\n                                                                                     \r\n                                                                                                                              \r\n                                                                                             \r\n```\r\n    @Bean\r\n    Queue testMsgDLQ() {\r\n        return QueueBuilder.durable(testDLQ).build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    DirectExchange testMsgDLX() {\r\n        return new DirectExchange(testDLX);\r\n    }\r\n\r\n    @Bean\r\n    Binding testDLBinding(Queue testMsgDLQ,DirectExchange testMsgDLX) {\r\n        return BindingBuilder.bind(testMsgDLQ)\r\n                .to(testMsgDLX).with(testDLQ);\r\n    }\r\n    @Bean\r\n    Queue testMsgQueue() {\r\n        return QueueBuilder.durable(testQueue)\r\n                .withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\r\n                .withArgument(&quot;x-dead-letter-routing-key&quot;,testDLQ).build();\r\n    }\r\n\r\n    @Bean\r\n    DirectExchange testMsgExchange() {\r\n        return new DirectExchange(testExchange);\r\n    }\r\n\r\n\r\n    @Bean\r\n    Binding testMessageQueue(Queue testMsgQueue,DirectExchange testMsgExchange) {\r\n        return BindingBuilder.bind(testMsgQueue)\r\n                .to(testMsgExchange).with(testQueue);\r\n    }\r\n\r\n**&gt;Configuration**\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setHost(host);\r\n        cachingConnectionFactory.setPort(port);\r\n        cachingConnectionFactory.setUsername(username);\r\n        cachingConnectionFactory.setPassword(password);\r\n        cachingConnectionFactory.setAddresses(address);\r\n        cachingConnectionFactory.setUri(url);\r\n/*        cachingConnectionFactory.setPublisherReturns(true);\r\n        cachingConnectionFactory.setPublisherConfirmType(CachingConnectionFactory.ConfirmType.CORRELATED);*/\r\n        cachingConnectionFactory.setCacheMode(CachingConnectionFactory.CacheMode.CONNECTION);\r\n        cachingConnectionFactory.setRequestedHeartBeat(10);\r\n\r\n        return cachingConnectionFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {\r\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory());\r\n        factory.setConcurrentConsumers(concurrentConsumers);\r\n        factory.setMaxConcurrentConsumers(maxConcurrentConsumers);\r\n       factory.setDefaultRequeueRejected(false);\r\n        factory.setAdviceChain(RetryInterceptorBuilder.stateless()\r\n                .recoverer(new RejectAndDontRequeueRecoverer())\r\n                .maxAttempts(5)\r\n                .backOffOptions(2000, 2.0, 10000) // initialInterval, multiplier, maxInterval\r\n\r\n                .build());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory publisherConnectionFactory) {\r\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(publisherConnectionFactory);\r\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\r\n        return rabbitTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public DefaultMessageHandlerMethodFactory messageHandlerMethodFactory() {\r\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n        factory.setMessageConverter(consumerJackson2MessageConverter());\r\n        return factory;\r\n    }\r\n\r\n    @Override\r\n    public void configureRabbitListeners(final RabbitListenerEndpointRegistrar registrar) {\r\n        registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\r\n    }\r\n\r\n**&gt;Consumer**\r\n    @RabbitListener(containerFactory=&quot;rabbitListenerContainerFactory&quot;, queues = &quot;${rabbitmq.email.queue.name}&quot;)\r\n    public void receiveMessage(MessageKeyVo messageId) {\r\n\r\n        System.out.println(&quot;Demo&quot;);\r\n\r\n        throw new RuntimeException(&quot;q&quot;);\r\n\r\n       }\r\n\r\n","title":"dead letter queue not getting message after retry completed","body":"<p>After retry limit reached message is not pushed to DLQ. Also my message in main queue is also removed getting empty logs after retry done. But retry is happening for the specified limit. After retry nothing is happening. Also tried by throwing AmqpRejectAndDontRequeueException  from consumer  but till  facing  same issue. DLQ not receving any message. After retry message not routed to DLQ</p>\n<pre><code>    @Bean\n    Queue testMsgDLQ() {\n        return QueueBuilder.durable(testDLQ).build();\n    }\n\n\n    @Bean\n    DirectExchange testMsgDLX() {\n        return new DirectExchange(testDLX);\n    }\n\n    @Bean\n    Binding testDLBinding(Queue testMsgDLQ,DirectExchange testMsgDLX) {\n        return BindingBuilder.bind(testMsgDLQ)\n                .to(testMsgDLX).with(testDLQ);\n    }\n    @Bean\n    Queue testMsgQueue() {\n        return QueueBuilder.durable(testQueue)\n                .withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\n                .withArgument(&quot;x-dead-letter-routing-key&quot;,testDLQ).build();\n    }\n\n    @Bean\n    DirectExchange testMsgExchange() {\n        return new DirectExchange(testExchange);\n    }\n\n\n    @Bean\n    Binding testMessageQueue(Queue testMsgQueue,DirectExchange testMsgExchange) {\n        return BindingBuilder.bind(testMsgQueue)\n                .to(testMsgExchange).with(testQueue);\n    }\n\n**&gt;Configuration**\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setHost(host);\n        cachingConnectionFactory.setPort(port);\n        cachingConnectionFactory.setUsername(username);\n        cachingConnectionFactory.setPassword(password);\n        cachingConnectionFactory.setAddresses(address);\n        cachingConnectionFactory.setUri(url);\n/*        cachingConnectionFactory.setPublisherReturns(true);\n        cachingConnectionFactory.setPublisherConfirmType(CachingConnectionFactory.ConfirmType.CORRELATED);*/\n        cachingConnectionFactory.setCacheMode(CachingConnectionFactory.CacheMode.CONNECTION);\n        cachingConnectionFactory.setRequestedHeartBeat(10);\n\n        return cachingConnectionFactory;\n    }\n\n\n    @Bean\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory());\n        factory.setConcurrentConsumers(concurrentConsumers);\n        factory.setMaxConcurrentConsumers(maxConcurrentConsumers);\n       factory.setDefaultRequeueRejected(false);\n        factory.setAdviceChain(RetryInterceptorBuilder.stateless()\n                .recoverer(new RejectAndDontRequeueRecoverer())\n                .maxAttempts(5)\n                .backOffOptions(2000, 2.0, 10000) // initialInterval, multiplier, maxInterval\n\n                .build());\n        return factory;\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory publisherConnectionFactory) {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(publisherConnectionFactory);\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    @Bean\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Bean\n    public DefaultMessageHandlerMethodFactory messageHandlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setMessageConverter(consumerJackson2MessageConverter());\n        return factory;\n    }\n\n    @Override\n    public void configureRabbitListeners(final RabbitListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\n    }\n\n**&gt;Consumer**\n    @RabbitListener(containerFactory=&quot;rabbitListenerContainerFactory&quot;, queues = &quot;${rabbitmq.email.queue.name}&quot;)\n    public void receiveMessage(MessageKeyVo messageId) {\n\n        System.out.println(&quot;Demo&quot;);\n\n        throw new RuntimeException(&quot;q&quot;);\n\n       }\n\n</code></pre>\n"},{"tags":["java","spring-boot","cloud-foundry","pcfdev"],"comments":[{"owner":{"account_id":8466250,"reputation":69,"user_id":6350335,"display_name":"Susheel Rao"},"score":0,"creation_date":1686766500,"post_id":76102744,"comment_id":134845792,"body_markdown":"Do you get any solution for this ..  I am facing the same problem","body":"Do you get any solution for this ..  I am facing the same problem"},{"owner":{"account_id":82275,"reputation":1064,"user_id":231460,"accept_rate":77,"display_name":"Rezler"},"score":0,"creation_date":1690368657,"post_id":76102744,"comment_id":135342850,"body_markdown":"See https://stackoverflow.com/questions/75543408/can-i-continue-using-brave-headers-in-spring-boot-3-with-micrometer","body":"See <a href=\"https://stackoverflow.com/questions/75543408/can-i-continue-using-brave-headers-in-spring-boot-3-with-micrometer\" title=\"can i continue using brave headers in spring boot 3 with micrometer\">stackoverflow.com/questions/75543408/&hellip;</a>"}],"owner":{"account_id":28412397,"reputation":11,"user_id":21735653,"display_name":"Prince"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682435321,"creation_date":1682435321,"question_id":76102744,"body_markdown":"As sleuth project is moved into the Micrometer Tracing project as of SpringBoot 3, having issue with x_b3_traceid when deploying the application to PCF. Before Springboot 3, used to get the same x_b3_traceid in the log and the PCF&#39;s GOrouter logs. \r\n\r\nBut now seeing different x_b3_traceid between application logs and GOrouter logs- 6447d6557ff6934ce613142682e7f6ff (expected) vs 4a947108c123812a06f86bb13c05bab0 (actual)\r\n\r\nSample Logs (application and Gorouter log) -\r\n\r\n```\r\n2023-04-25T09:32:05.556-04:00 [APP/PROC/WEB/2] [OUT] 2023-04-25T13:32:05.555Z INFO [sample-api,**6447d6557ff6934ce613142682e7f6ff**,67ed0eca64b448c1] 15 --- [nio-8080-exec-1] sample.controller.DemoController : Fetching the user info\r\n\r\n2023-04-25T09:32:05.561-04:00 [RTR/11] [OUT] sample-api.com - [2023-04-25T13:32:05.542389295Z] &quot;GET /demo HTTP/1.1&quot; 200 0 55 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; &quot;127.0.0.1:12345&quot; &quot;127.0.0.1:12345&quot; x_forwarded_for:&quot;127.0.0.1&quot; x_forwarded_proto:&quot;https&quot; vcap_request_id:&quot;a3bae067-9e04-4299-6d50-c6a4256740e6&quot; response_time:0.018694 gorouter_time:0.000253 app_id:&quot;23f0f921-7931-4190-8453-344a595698ed&quot; app_index:&quot;2&quot; instance_id:&quot;3d2bb4f7-3fc3-450c-7853-9305&quot; x_cf_routererror:&quot;-&quot; x_b3_traceid:&quot;**4a947108c123812a06f86bb13c05bab0**&quot; x_b3_spanid:&quot;06f86bb13c05bab0&quot; x_b3_parentspanid:&quot;-&quot; b3:&quot;4a947108c123812a06f86bb13c05bab0-06f86bb13c05bab0&quot;\r\n```\r\n\r\nDependencies - \r\n\r\n```     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zipkin-reporter-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThese are the configs I have - \r\n```\r\nlogging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]  #To add trace and span ids to logs\r\n\r\nspring.sleuth.propagation.type=w3c,b3 #To have b3 headers. As PCF Zipkin accepts b3 instead of default w3c\r\n```\r\n\r\nTried different tracers - OpenZipkin Brave and OpenTelemetry. Got the same result and it looks PCF&#39;s Gorouter ignoring the b3 traceid in the header and generating its own traceid.","title":"After upgrading to Spring Boot 3, PCF Gorouter emits different x-b3-traceid","body":"<p>As sleuth project is moved into the Micrometer Tracing project as of SpringBoot 3, having issue with x_b3_traceid when deploying the application to PCF. Before Springboot 3, used to get the same x_b3_traceid in the log and the PCF's GOrouter logs.</p>\n<p>But now seeing different x_b3_traceid between application logs and GOrouter logs- 6447d6557ff6934ce613142682e7f6ff (expected) vs 4a947108c123812a06f86bb13c05bab0 (actual)</p>\n<p>Sample Logs (application and Gorouter log) -</p>\n<pre><code>2023-04-25T09:32:05.556-04:00 [APP/PROC/WEB/2] [OUT] 2023-04-25T13:32:05.555Z INFO [sample-api,**6447d6557ff6934ce613142682e7f6ff**,67ed0eca64b448c1] 15 --- [nio-8080-exec-1] sample.controller.DemoController : Fetching the user info\n\n2023-04-25T09:32:05.561-04:00 [RTR/11] [OUT] sample-api.com - [2023-04-25T13:32:05.542389295Z] &quot;GET /demo HTTP/1.1&quot; 200 0 55 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; &quot;127.0.0.1:12345&quot; &quot;127.0.0.1:12345&quot; x_forwarded_for:&quot;127.0.0.1&quot; x_forwarded_proto:&quot;https&quot; vcap_request_id:&quot;a3bae067-9e04-4299-6d50-c6a4256740e6&quot; response_time:0.018694 gorouter_time:0.000253 app_id:&quot;23f0f921-7931-4190-8453-344a595698ed&quot; app_index:&quot;2&quot; instance_id:&quot;3d2bb4f7-3fc3-450c-7853-9305&quot; x_cf_routererror:&quot;-&quot; x_b3_traceid:&quot;**4a947108c123812a06f86bb13c05bab0**&quot; x_b3_spanid:&quot;06f86bb13c05bab0&quot; x_b3_parentspanid:&quot;-&quot; b3:&quot;4a947108c123812a06f86bb13c05bab0-06f86bb13c05bab0&quot;\n</code></pre>\n<p>Dependencies -</p>\n<pre><code>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\n            &lt;artifactId&gt;zipkin-reporter-brave&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>These are the configs I have -</p>\n<pre><code>logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]  #To add trace and span ids to logs\n\nspring.sleuth.propagation.type=w3c,b3 #To have b3 headers. As PCF Zipkin accepts b3 instead of default w3c\n</code></pre>\n<p>Tried different tracers - OpenZipkin Brave and OpenTelemetry. Got the same result and it looks PCF's Gorouter ignoring the b3 traceid in the header and generating its own traceid.</p>\n"},{"tags":["java","android","apk","code-signing","jar-signing"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1529855893,"post_id":50874282,"comment_id":89015853,"body_markdown":"As the signing takes place on the USB device a key size limitation is strange. Are you sure that your Java version is not an old one restricted for export (RSA keys larger 2048 were restricted in such versions). Make sure to use a current unrestricted Java version (e.g. 6u181, 7u171, 8u161) or install JCE Unlimited Strength policy files.","body":"As the signing takes place on the USB device a key size limitation is strange. Are you sure that your Java version is not an old one restricted for export (RSA keys larger 2048 were restricted in such versions). Make sure to use a current unrestricted Java version (e.g. 6u181, 7u171, 8u161) or install JCE Unlimited Strength policy files."},{"owner":{"account_id":995061,"reputation":3330,"user_id":1016105,"accept_rate":98,"display_name":"burnersk"},"score":0,"creation_date":1529904464,"post_id":50874282,"comment_id":89025998,"body_markdown":"This (limitation) has nothing to do with Java. The PIV standard describes explicitly only 1024 and 2048 RSA keys and nothing else (nothing else is allowed). This question is about how to setup the communication between the Yubikey and Keytool via the Yubikey OpenPGP applet.","body":"This (limitation) has nothing to do with Java. The PIV standard describes explicitly only 1024 and 2048 RSA keys and nothing else (nothing else is allowed). This question is about how to setup the communication between the Yubikey and Keytool via the Yubikey OpenPGP applet."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1530040906,"post_id":50874282,"comment_id":89091122,"body_markdown":"IMHO using an outdated apk signer tool like yubico-piv-tool is more security relevant than the used key for signing. The outdated tools only support the deprecated? v1 signature, apk signature v2 has some major security advantages and AFAIR Google is just in progress of releasing the [v3 signature](https://www.xda-developers.com/apk-signature-scheme-v3-key-rotation/). Anyway you can sign an APK using multiple signatures may be that is a solution for you?","body":"IMHO using an outdated apk signer tool like yubico-piv-tool is more security relevant than the used key for signing. The outdated tools only support the deprecated? v1 signature, apk signature v2 has some major security advantages and AFAIR Google is just in progress of releasing the <a href=\"https://www.xda-developers.com/apk-signature-scheme-v3-key-rotation/\" rel=\"nofollow noreferrer\">v3 signature</a>. Anyway you can sign an APK using multiple signatures may be that is a solution for you?"},{"owner":{"account_id":995061,"reputation":3330,"user_id":1016105,"accept_rate":98,"display_name":"burnersk"},"score":0,"creation_date":1530109815,"post_id":50874282,"comment_id":89120650,"body_markdown":"Sounds promising, anyway I cannot use it since Android 6 devices are being used (v1 only).","body":"Sounds promising, anyway I cannot use it since Android 6 devices are being used (v1 only)."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1530110900,"post_id":50874282,"comment_id":89121369,"body_markdown":"The signature v2 is AFAIK transparent for old devices, therefore you can use it. Old devices check v1, new devices use v2. And in 2023 when your key should no longer be used Android 6 devices should not be a problem anymore.","body":"The signature v2 is AFAIK transparent for old devices, therefore you can use it. Old devices check v1, new devices use v2. And in 2023 when your key should no longer be used Android 6 devices should not be a problem anymore."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552108288,"creation_date":1552098269,"answer_id":55073407,"question_id":50874282,"body_markdown":"Use an USB token or a SmartCard which supports RSA &lt;strike&gt;3072&lt;/strike&gt;  4096 for personal identity verification? Not even the [Yubikey 5][1] does support that for PIV / [FIPS 201-2][2] (which is a SmartCard emulation). I&#39;ve searched for a while, but it seems there barely is any hardware which supports it yet (in case it&#39;s even applicable); alternatives I could find were [RSA SecurID][3], [Nitrokey Pro 2][4] and [Gemalto IDBridge K50][5].\r\n\r\nWith APK signing [v2][6] or [v3][7], the strength of the *upload key* might not even matter that much ... it says `RSA 1024, RSA 2048, RSA 4096, RSA 8192, RSA 16384` are being supported, but it says nowhere which strength the actual *release key* would have, which would be the rather interesting part of it. The [V3SchemeSigner][8] hints for PKCS1 V1.5 encoding format; but the only way to find out would be to check the public key of a package from the Play Store by running `ssh-keygen -lf ./rsa_key.pub` (which shows the fingerprint of the public key file, which also displays the strength of the key).\r\n\r\n[security.stackexchange.com][9] might provide further clues.\r\n\r\n\r\n  [1]: https://www.yubico.com/product/yubikey-5-nano/\r\n  [2]: https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.201-2.pdf\r\n  [3]: https://www.rsa.com/content/dam/en/data-sheet/rsa-securid-hardware-tokens.pdf\r\n  [4]: https://www.nitrokey.com/files/doc/Nitrokey_Pro_factsheet.pdf\r\n  [5]: https://safenet.gemalto.com/multi-factor-authentication/smart-card-readers/\r\n  [6]: https://source.android.com/security/apksigning/v2\r\n  [7]: https://source.android.com/security/apksigning/v3\r\n  [8]: https://android.googlesource.com/platform/tools/apksig/+/master/src/main/java/com/android/apksig/internal/apk/v3/V3SchemeSigner.java\r\n  [9]: https://security.stackexchange.com/questions/tagged/code-signing","title":"How to sign an application package (APK) using OpenPGP (Yubikey)?","body":"<p>Use an USB token or a SmartCard which supports RSA <strike>3072</strike>  4096 for personal identity verification? Not even the <a href=\"https://www.yubico.com/product/yubikey-5-nano/\" rel=\"nofollow noreferrer\">Yubikey 5</a> does support that for PIV / <a href=\"https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.201-2.pdf\" rel=\"nofollow noreferrer\">FIPS 201-2</a> (which is a SmartCard emulation). I've searched for a while, but it seems there barely is any hardware which supports it yet (in case it's even applicable); alternatives I could find were <a href=\"https://www.rsa.com/content/dam/en/data-sheet/rsa-securid-hardware-tokens.pdf\" rel=\"nofollow noreferrer\">RSA SecurID</a>, <a href=\"https://www.nitrokey.com/files/doc/Nitrokey_Pro_factsheet.pdf\" rel=\"nofollow noreferrer\">Nitrokey Pro 2</a> and <a href=\"https://safenet.gemalto.com/multi-factor-authentication/smart-card-readers/\" rel=\"nofollow noreferrer\">Gemalto IDBridge K50</a>.</p>\n\n<p>With APK signing <a href=\"https://source.android.com/security/apksigning/v2\" rel=\"nofollow noreferrer\">v2</a> or <a href=\"https://source.android.com/security/apksigning/v3\" rel=\"nofollow noreferrer\">v3</a>, the strength of the <em>upload key</em> might not even matter that much ... it says <code>RSA 1024, RSA 2048, RSA 4096, RSA 8192, RSA 16384</code> are being supported, but it says nowhere which strength the actual <em>release key</em> would have, which would be the rather interesting part of it. The <a href=\"https://android.googlesource.com/platform/tools/apksig/+/master/src/main/java/com/android/apksig/internal/apk/v3/V3SchemeSigner.java\" rel=\"nofollow noreferrer\">V3SchemeSigner</a> hints for PKCS1 V1.5 encoding format; but the only way to find out would be to check the public key of a package from the Play Store by running <code>ssh-keygen -lf ./rsa_key.pub</code> (which shows the fingerprint of the public key file, which also displays the strength of the key).</p>\n\n<p><a href=\"https://security.stackexchange.com/questions/tagged/code-signing\">security.stackexchange.com</a> might provide further clues.</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682435271,"creation_date":1682435271,"answer_id":76102733,"question_id":50874282,"body_markdown":"It&#39;s possible to use the OpenPGP applet on the Yubikey to sign an APK by using the [OpenSC][1] PKCS#11 module. By default OpenSC will use the keys from the PIV applet, the trick is to set the environment variable `OPENSC_DRIVER=openpgp` to force the use of the OpenPGP applet.\r\n\r\nThe syntax will look like this:\r\n\r\n\tOPENSC_DRIVER=openpgp \\\r\n\tapksigner sign -ks NONE --ks-type PKCS11 \\\r\n\t               --ks-key-alias SIGN \\\r\n\t               --provider-class sun.security.pkcs11.SunPKCS11 \\\r\n\t               --provider-arg opensc.cfg \\\r\n\t               myapp.apk\r\n\r\nand opensc.cfg is the SunPKCS11 configuration file for OpenSC:\r\n\r\n\tname=OpenSC\r\n\tlibrary=/usr/lib/x86_64-linux-gnu/opensc-pkcs11.so\r\n\tslot=8\r\n\r\n(the actual slot may be different)\r\n\r\n\r\n  [1]: https://github.com/OpenSC/OpenSC/wiki","title":"How to sign an application package (APK) using OpenPGP (Yubikey)?","body":"<p>It's possible to use the OpenPGP applet on the Yubikey to sign an APK by using the <a href=\"https://github.com/OpenSC/OpenSC/wiki\" rel=\"nofollow noreferrer\">OpenSC</a> PKCS#11 module. By default OpenSC will use the keys from the PIV applet, the trick is to set the environment variable <code>OPENSC_DRIVER=openpgp</code> to force the use of the OpenPGP applet.</p>\n<p>The syntax will look like this:</p>\n<pre><code>OPENSC_DRIVER=openpgp \\\napksigner sign -ks NONE --ks-type PKCS11 \\\n               --ks-key-alias SIGN \\\n               --provider-class sun.security.pkcs11.SunPKCS11 \\\n               --provider-arg opensc.cfg \\\n               myapp.apk\n</code></pre>\n<p>and opensc.cfg is the SunPKCS11 configuration file for OpenSC:</p>\n<pre><code>name=OpenSC\nlibrary=/usr/lib/x86_64-linux-gnu/opensc-pkcs11.so\nslot=8\n</code></pre>\n<p>(the actual slot may be different)</p>\n"}],"owner":{"account_id":995061,"reputation":3330,"user_id":1016105,"accept_rate":98,"display_name":"burnersk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":2,"score":41,"last_activity_date":1682435271,"creation_date":1529060660,"question_id":50874282,"body_markdown":"I want to **sign APK** files with a OpenPGP key stored within the **OpenPGP applet of my Yubikey**.\r\n\r\nI am aware, that there is a [solution for APK signing using Yubikey&#39;s PIV applet](https://developers.yubico.com/PIV/Guides/Android_code_signing.html). The PIV applet, however, can only handle RSA keys up to 2048 bits in key length.\r\n\r\nThe [BSI TR-02102-1 Cryptographic Mechanisms Technical Guidelines](https://www.bsi.bund.de/SharedDocs/Downloads/EN/BSI/Publications/TechGuidelines/TG02102/BSI-TR-02102-1.pdf?__blob=publicationFile&amp;v=8) (translated english version) states that from the year 2023 on (or for the usage in 2023 and later), only RSA keys with a key length greater or equal to 3000 bits are allowed. The first available _standard_ key length would be 3072 bits. I have to be compliant to the _BSI TR-02102_.\r\n\r\nThis sums up into the requirement, that I have to use 3072 bits for the key length and RSA as the algorithm, and I cannot use the PIV APK singing approach.\r\n\r\n**Is there a way to use the OpenPGP applet of Yubikey 4 to sign APK files using the standard procedure, or using a custom procedure?**\r\n\r\n_Note_: The private key is generated on the Yubikey and is not exportable. This is due to the design of the Yubikey and by my minimum security requirements. So exportation and conversation is not a possible solution.","title":"How to sign an application package (APK) using OpenPGP (Yubikey)?","body":"<p>I want to <strong>sign APK</strong> files with a OpenPGP key stored within the <strong>OpenPGP applet of my Yubikey</strong>.</p>\n\n<p>I am aware, that there is a <a href=\"https://developers.yubico.com/PIV/Guides/Android_code_signing.html\" rel=\"noreferrer\">solution for APK signing using Yubikey's PIV applet</a>. The PIV applet, however, can only handle RSA keys up to 2048 bits in key length.</p>\n\n<p>The <a href=\"https://www.bsi.bund.de/SharedDocs/Downloads/EN/BSI/Publications/TechGuidelines/TG02102/BSI-TR-02102-1.pdf?__blob=publicationFile&amp;v=8\" rel=\"noreferrer\">BSI TR-02102-1 Cryptographic Mechanisms Technical Guidelines</a> (translated english version) states that from the year 2023 on (or for the usage in 2023 and later), only RSA keys with a key length greater or equal to 3000 bits are allowed. The first available <em>standard</em> key length would be 3072 bits. I have to be compliant to the <em>BSI TR-02102</em>.</p>\n\n<p>This sums up into the requirement, that I have to use 3072 bits for the key length and RSA as the algorithm, and I cannot use the PIV APK singing approach.</p>\n\n<p><strong>Is there a way to use the OpenPGP applet of Yubikey 4 to sign APK files using the standard procedure, or using a custom procedure?</strong></p>\n\n<p><em>Note</em>: The private key is generated on the Yubikey and is not exportable. This is due to the design of the Yubikey and by my minimum security requirements. So exportation and conversation is not a possible solution.</p>\n"},{"tags":["java","maven","ant"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1681912984,"post_id":76055438,"comment_id":134133801,"body_markdown":"Does this answer your question? [Make Maven to copy dependencies into target/lib](https://stackoverflow.com/questions/97640/make-maven-to-copy-dependencies-into-target-lib) or [this one](https://stackoverflow.com/q/6689511/10952503)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/97640/make-maven-to-copy-dependencies-into-target-lib\">Make Maven to copy dependencies into target/lib</a> or <a href=\"https://stackoverflow.com/q/6689511/10952503\">this one</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681913813,"post_id":76055438,"comment_id":134134058,"body_markdown":"Use the maven-assembly-plugin to create the structure and package that into tar.gz/tar/zip file if really needed....","body":"Use the maven-assembly-plugin to create the structure and package that into tar.gz/tar/zip file if really needed...."}],"answers":[{"tags":[],"owner":{"account_id":15138431,"reputation":36,"user_id":10924206,"display_name":"Marcos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682092028,"creation_date":1682092028,"answer_id":76074769,"question_id":76055438,"body_markdown":"I&#39;m not sure about your question but if you only want to copy files creating target directories on the fly you can use the maven-antrun-plugin.\r\n\r\nSomething like\r\n\r\n   \t&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;copywar&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;target name=&quot;copy war into install folder&quot;&gt;\r\n\t\t\t\t\t&lt;copy \r\n\t\t\t\t\t\tfile=&quot;target/my.war&quot;\r\n\t\t\t\t\t\ttofile=&quot;/install/my/${maven.build.timestamp}/my.war&quot; /&gt;\r\n\t\t\t\t&lt;/target&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\t\t\r\n\r\n\r\n Is this what you are looking for?","title":"How to use Maven to create directories then copy jars and dependencies into those directories","body":"<p>I'm not sure about your question but if you only want to copy files creating target directories on the fly you can use the maven-antrun-plugin.</p>\n<p>Something like</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n&lt;version&gt;1.7&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;copywar&lt;/id&gt;\n        &lt;phase&gt;install&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;target name=&quot;copy war into install folder&quot;&gt;\n                &lt;copy \n                    file=&quot;target/my.war&quot;\n                    tofile=&quot;/install/my/${maven.build.timestamp}/my.war&quot; /&gt;\n            &lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;       \n</code></pre>\n<p>Is this what you are looking for?</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682435203,"creation_date":1681912865,"question_id":76055438,"body_markdown":"I am converting a Java project from an any build process to Maven.\r\n\r\nMaven can currently compile the jars from the project but to fully replace Ant I need to do two additional steps:\r\n1. Create a file tree \r\n2. Copy the compiled jars and other files stored in the project into desired directories created in step 1. \r\n\r\nThis tree needs to mirror the structure that both jars and resource files will appear in installed machine.\r\n\r\ne.g. the contents of `srs/foo/bar/scripts` might need to be moved to `/usr/local/myFoo/spam/bar/scripts`\r\n\r\nwhile jars might need to\r\ngo from `./myPjroject/target/*.jar` to `/usr/local/tomcat/webaps/fooApp/WEB-IBF/lib`\r\n\r\nect\r\n\r\nthis tree does not then get zipped but processed by a subsequent program. \r\n\r\nI have read that that install mojo can copy the jars but I have not seen any documentation showing that it can also copy the other files I need to move. \r\n","title":"How to use Maven to create directories then copy jars and dependencies into those directories","body":"<p>I am converting a Java project from an any build process to Maven.</p>\n<p>Maven can currently compile the jars from the project but to fully replace Ant I need to do two additional steps:</p>\n<ol>\n<li>Create a file tree</li>\n<li>Copy the compiled jars and other files stored in the project into desired directories created in step 1.</li>\n</ol>\n<p>This tree needs to mirror the structure that both jars and resource files will appear in installed machine.</p>\n<p>e.g. the contents of <code>srs/foo/bar/scripts</code> might need to be moved to <code>/usr/local/myFoo/spam/bar/scripts</code></p>\n<p>while jars might need to\ngo from <code>./myPjroject/target/*.jar</code> to <code>/usr/local/tomcat/webaps/fooApp/WEB-IBF/lib</code></p>\n<p>ect</p>\n<p>this tree does not then get zipped but processed by a subsequent program.</p>\n<p>I have read that that install mojo can copy the jars but I have not seen any documentation showing that it can also copy the other files I need to move.</p>\n"},{"tags":["java","enumset"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1682360890,"post_id":76094978,"comment_id":134199886,"body_markdown":"A little wonky, but how about: `if (!sideRestricted.remove(side)) { sideRestricted.add(side); }`. You want to avoid iterating the set to find it, but unless you extended the class I don&#39;t think there&#39;s a direct swap available. Note that operations on `EnumSet` are _extremely_ fast (it&#39;s bit logic on a `long` using `Enum#ordinal`, so extending would avail you that ability).","body":"A little wonky, but how about: <code>if (!sideRestricted.remove(side)) { sideRestricted.add(side); }</code>. You want to avoid iterating the set to find it, but unless you extended the class I don&#39;t think there&#39;s a direct swap available. Note that operations on <code>EnumSet</code> are <i>extremely</i> fast (it&#39;s bit logic on a <code>long</code> using <code>Enum#ordinal</code>, so extending would avail you that ability)."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682368592,"post_id":76094978,"comment_id":134201411,"body_markdown":"To do the bit flip in the case of extending, you&#39;d want `this.set ^= yourEnumConstant.ordinal()`, where `this.set` would be the bitfield/`long` held by `EnumSet`. Note even with the direct bit manipulation, there&#39;s still at least the three read-update-write operations. Compound assignment operators are not atomic, so (slightly) not thread safe here","body":"To do the bit flip in the case of extending, you&#39;d want <code>this.set ^= yourEnumConstant.ordinal()</code>, where <code>this.set</code> would be the bitfield/<code>long</code> held by <code>EnumSet</code>. Note even with the direct bit manipulation, there&#39;s still at least the three read-update-write operations. Compound assignment operators are not atomic, so (slightly) not thread safe here"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682381988,"creation_date":1682381988,"answer_id":76096912,"question_id":76094978,"body_markdown":"No.  `EnumSet` only exposes the basic `Set` methods, which do not include a toggle of the form you describe.\r\n\r\nI would suspect that the reason it does not provide such a method is that it would be very rarely used.  Most usages of Sets -- certainly those that&#39;d require high performance -- seem likely to only need to add and remove.","title":"XOR toggle an Enum value in or out of an EnumSet","body":"<p>No.  <code>EnumSet</code> only exposes the basic <code>Set</code> methods, which do not include a toggle of the form you describe.</p>\n<p>I would suspect that the reason it does not provide such a method is that it would be very rarely used.  Most usages of Sets -- certainly those that'd require high performance -- seem likely to only need to add and remove.</p>\n"},{"tags":[],"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682435191,"creation_date":1682424888,"answer_id":76101064,"question_id":76094978,"body_markdown":"Given my requirements to abstract away from the implementation, keep decent performances and [Louis&#39;s answer](https://stackoverflow.com/a/76096912/7939871) confirming the absence of toggling in the `EnumSet` implementations; There is a good middle-ground for my use case.\r\n\r\nThe implementation details can be moved away from the main class, while still flipping bits.\r\n\r\nI found it out when I realised my abstraction could be reused for other kind of enumerated boolean properties packed into a binary number, where those also need a byte representation of the sided boolean state : to transmit, save and load persistent data in a minimal byte space.\r\n\r\nRewrote it this way:\r\n\r\n```java\r\npublic class EnumBoolean&lt;T extends Enum&lt;T&gt;&gt; {\r\n\r\n    public long bits = 0;\r\n\r\n    public void set(final T enumValue) {\r\n        bits |= (1L &lt;&lt; enumValue.ordinal());\r\n    }\r\n\r\n    public void clear(final T enumValue) {\r\n        bits &amp;= ~(1L &lt;&lt; enumValue.ordinal());\r\n    }\r\n\r\n    public void setBoolean(final T enumValue, final boolean boolValue) {\r\n        if (boolValue) set(enumValue);\r\n        else clear(enumValue);\r\n    }\r\n\r\n    public boolean get(final T enumValue) {\r\n        return (bits &amp; (1L &lt;&lt; enumValue.ordinal())) != 0;\r\n    }\r\n\r\n    public void toggle(final T enumValue) {\r\n        bits ^= (1L &lt;&lt; enumValue.ordinal());\r\n    }\r\n}\r\n```\r\n\r\nThen the byte bit state can be obtained by casting, saved and reloaded very efficiently.\r\n\r\nIf I had persisted with the `EnumSet` it would have required looping through values, turn it to bit and the other way to load. Or worse overkill implementation with a `BitSet` of the persistence byte, which uses and returns an array. (way too much bloat for 6-bits). I examine the `RegularEnumSet` implementation, and while switching bits internally, it also contains lots of boilerplate, type testing and checks that are useless bloat for this use case.\r\n\r\n```java\r\nEnumBoolean&lt;ForgeDirection&gt; disabledInput = new EnumBoolean&lt;&gt;();\r\n\r\n// yada yada yada\r\n\r\npublic void saveNBTData(final NBTTagCompound nbtTagCompound) {\r\n   nbtTagCompound.setByte(&quot;disabledInput&quot;, (byte) disabledInput.bits);\r\n}\r\n\r\npublic void loadNBTData(final NBTTagCompound nbtTagCompound) {\r\n    disabledInput.bits = nbtTagCompound.getByte(&quot;disabledInput&quot;);\r\n}\r\n```","title":"XOR toggle an Enum value in or out of an EnumSet","body":"<p>Given my requirements to abstract away from the implementation, keep decent performances and <a href=\"https://stackoverflow.com/a/76096912/7939871\">Louis's answer</a> confirming the absence of toggling in the <code>EnumSet</code> implementations; There is a good middle-ground for my use case.</p>\n<p>The implementation details can be moved away from the main class, while still flipping bits.</p>\n<p>I found it out when I realised my abstraction could be reused for other kind of enumerated boolean properties packed into a binary number, where those also need a byte representation of the sided boolean state : to transmit, save and load persistent data in a minimal byte space.</p>\n<p>Rewrote it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EnumBoolean&lt;T extends Enum&lt;T&gt;&gt; {\n\n    public long bits = 0;\n\n    public void set(final T enumValue) {\n        bits |= (1L &lt;&lt; enumValue.ordinal());\n    }\n\n    public void clear(final T enumValue) {\n        bits &amp;= ~(1L &lt;&lt; enumValue.ordinal());\n    }\n\n    public void setBoolean(final T enumValue, final boolean boolValue) {\n        if (boolValue) set(enumValue);\n        else clear(enumValue);\n    }\n\n    public boolean get(final T enumValue) {\n        return (bits &amp; (1L &lt;&lt; enumValue.ordinal())) != 0;\n    }\n\n    public void toggle(final T enumValue) {\n        bits ^= (1L &lt;&lt; enumValue.ordinal());\n    }\n}\n</code></pre>\n<p>Then the byte bit state can be obtained by casting, saved and reloaded very efficiently.</p>\n<p>If I had persisted with the <code>EnumSet</code> it would have required looping through values, turn it to bit and the other way to load. Or worse overkill implementation with a <code>BitSet</code> of the persistence byte, which uses and returns an array. (way too much bloat for 6-bits). I examine the <code>RegularEnumSet</code> implementation, and while switching bits internally, it also contains lots of boilerplate, type testing and checks that are useless bloat for this use case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumBoolean&lt;ForgeDirection&gt; disabledInput = new EnumBoolean&lt;&gt;();\n\n// yada yada yada\n\npublic void saveNBTData(final NBTTagCompound nbtTagCompound) {\n   nbtTagCompound.setByte(&quot;disabledInput&quot;, (byte) disabledInput.bits);\n}\n\npublic void loadNBTData(final NBTTagCompound nbtTagCompound) {\n    disabledInput.bits = nbtTagCompound.getByte(&quot;disabledInput&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76096912,"answer_count":2,"score":0,"last_activity_date":1682435191,"creation_date":1682360681,"question_id":76094978,"body_markdown":"I am refactoring some code that used low-level bit manipulation and masking to reimplement it with an `EnumSet`. The incentive is: having a much more maintainable and readable code. I find it appropriate to abstract the logic away from low-level implementation like bits and memory units, while trading some minor efficiency loss (if any).\r\n\r\nI already wrote the base methods to set, unset various states to replace bits. But I also need a method to flip a flag (set if unset, unset if set).\r\n\r\nHere is a simplified subset of my class. It handles the state of input restriction per side of a block in a MinecraftForge mod (if context matters). Most of the time, player interacts with the setting of the side restriction, to flip it one way or the other (thus using the `flip()` method).\r\n\r\n```java\r\npublic class InputRestrictor {\r\n\r\n    protected EnumSet&lt;ForgeDirection&gt; sideRestricted = EnumSet.noneOf(ForgeDirection.class);\r\n\r\n    public void set(final ForgeDirection side, final boolean isInputOnly) {\r\n        if (isInputOnly) sideRestricted.add(side);\r\n        else sideRestricted.remove(side);\r\n    }\r\n\r\n    public boolean get(final ForgeDirection side) {\r\n        return sideRestricted.contains(side);\r\n    }\r\n\r\n    public void flip(final ForgeDirection side) {\r\n        set(side, !get(side));\r\n    }\r\n}\r\n```\r\n\r\nI think if the `EnumSet` had a native method to flip an enum value in-out of the set, it would be more efficient than first fetching the boolean state, inverting it and setting it or removing it conditionally.\r\n\r\nI read in this post https://stackoverflow.com/q/14536665/7939871, an EnumSet is internally implemented using a bit-mask or bit-field. Would be convenient if one could just toggle XOR one or more enum values (in or out of the set) in one step like you&#39;d do with:\r\n\r\n```java\r\nbyte bits = 0b000111;\r\nbits ^= (byte) 1 &lt;&lt; 2; // inverted bit 2: bits = 0b00011\r\nbits ^= (byte) 0b111111; // inverted all at once: bits = 0b111100\r\n```\r\n\r\nAre there more direct toggling methods beside going low level with bit manipulation?\r\n\r\n","title":"XOR toggle an Enum value in or out of an EnumSet","body":"<p>I am refactoring some code that used low-level bit manipulation and masking to reimplement it with an <code>EnumSet</code>. The incentive is: having a much more maintainable and readable code. I find it appropriate to abstract the logic away from low-level implementation like bits and memory units, while trading some minor efficiency loss (if any).</p>\n<p>I already wrote the base methods to set, unset various states to replace bits. But I also need a method to flip a flag (set if unset, unset if set).</p>\n<p>Here is a simplified subset of my class. It handles the state of input restriction per side of a block in a MinecraftForge mod (if context matters). Most of the time, player interacts with the setting of the side restriction, to flip it one way or the other (thus using the <code>flip()</code> method).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InputRestrictor {\n\n    protected EnumSet&lt;ForgeDirection&gt; sideRestricted = EnumSet.noneOf(ForgeDirection.class);\n\n    public void set(final ForgeDirection side, final boolean isInputOnly) {\n        if (isInputOnly) sideRestricted.add(side);\n        else sideRestricted.remove(side);\n    }\n\n    public boolean get(final ForgeDirection side) {\n        return sideRestricted.contains(side);\n    }\n\n    public void flip(final ForgeDirection side) {\n        set(side, !get(side));\n    }\n}\n</code></pre>\n<p>I think if the <code>EnumSet</code> had a native method to flip an enum value in-out of the set, it would be more efficient than first fetching the boolean state, inverting it and setting it or removing it conditionally.</p>\n<p>I read in this post <a href=\"https://stackoverflow.com/q/14536665/7939871\">Why an EnumSet or an EnumMap is likely to be more performant than their hashed counterparts?</a>, an EnumSet is internally implemented using a bit-mask or bit-field. Would be convenient if one could just toggle XOR one or more enum values (in or out of the set) in one step like you'd do with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte bits = 0b000111;\nbits ^= (byte) 1 &lt;&lt; 2; // inverted bit 2: bits = 0b00011\nbits ^= (byte) 0b111111; // inverted all at once: bits = 0b111100\n</code></pre>\n<p>Are there more direct toggling methods beside going low level with bit manipulation?</p>\n"},{"tags":["java","spring-boot","pdf-generation","itextrenderer"],"owner":{"account_id":8082039,"reputation":29,"user_id":6090871,"display_name":"Sreekanth Dabbeeru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682434413,"creation_date":1682425007,"question_id":76101078,"body_markdown":"I am trying to generate a pdf from HTML page. For this I am using ITextRenderer. In my html code having multiple check boxes. I have disabled those check boxes. But when I convert HTML to pdf , PDF is generated. When I opened it on browser, all the check box fields are editable. How can I made a PDF non editable. Below is my code.[![code snippet image][1]][1]\r\n\r\n    \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A1x3W.png","title":"Making non editable pdf using ItextRender","body":"<p>I am trying to generate a pdf from HTML page. For this I am using ITextRenderer. In my html code having multiple check boxes. I have disabled those check boxes. But when I convert HTML to pdf , PDF is generated. When I opened it on browser, all the check box fields are editable. How can I made a PDF non editable. Below is my code.<a href=\"https://i.stack.imgur.com/A1x3W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A1x3W.png\" alt=\"code snippet image\" /></a></p>\n"},{"tags":["java","reflection","runtime"],"comments":[{"owner":{"account_id":20772,"reputation":55133,"user_id":49942,"accept_rate":80,"display_name":"ChrisW"},"score":1,"creation_date":1246892136,"post_id":1087401,"comment_id":901054,"body_markdown":"In C# you can do this by iterating through the definition of every class in an assembly, and testing each of these classes to see whether it implements that interface.","body":"In C# you can do this by iterating through the definition of every class in an assembly, and testing each of these classes to see whether it implements that interface."},{"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":3,"creation_date":1246892456,"post_id":1087401,"comment_id":901099,"body_markdown":"Sadly, the question is not about c#.","body":"Sadly, the question is not about c#."},{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":1,"creation_date":1246892660,"post_id":1087401,"comment_id":901119,"body_markdown":"Duplicate? &#39;How do you find all subclasses of a given class in Java?&#39;, http://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java","body":"Duplicate? &#39;How do you find all subclasses of a given class in Java?&#39;, <a href=\"http://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\" title=\"how do you find all subclasses of a given class in java\">stackoverflow.com/questions/492184/&hellip;</a>"},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1246893490,"post_id":1087401,"comment_id":901213,"body_markdown":"this question is more oriented about service loader pattern?","body":"this question is more oriented about service loader pattern?"},{"owner":{"account_id":3002540,"reputation":6032,"user_id":2547739,"accept_rate":67,"display_name":"Paul Lo"},"score":0,"creation_date":1383323388,"post_id":1087401,"comment_id":29315063,"body_markdown":"You could also refer to another old article [here](http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection) for more details, I believe it&#39;s useful for you :)","body":"You could also refer to another old article <a href=\"http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection\">here</a> for more details, I believe it&#39;s useful for you :)"},{"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"score":0,"creation_date":1449584522,"post_id":1087401,"comment_id":56063164,"body_markdown":"Using comment section to make a true &quot;comment&quot;: Java Reflection is annoying :S","body":"Using comment section to make a true &quot;comment&quot;: Java Reflection is annoying :S"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1246892063,"creation_date":1246892063,"answer_id":1087425,"question_id":1087401,"body_markdown":"The short answer is no.\r\n\r\nThe long answer is that subclasses can come into existence in many ways, which basically makes it impossible to categorically find them all.\r\n\r\nYou can&#39;t do it at runtime but you can&#39;t find classes until they&#39;re loaded and how do you know they&#39;re loaded? You could scan every JAR and class file but that&#39;s not definitive. Plus there are things like URL class loaders.\r\n\r\nInner classes (static and non-static) are another case to consider. Named inner classes are easier to find. Anonymous inner classes are potentially much more difficult to find.\r\n\r\nYou also have to consider that if a class has subclasses then new subclasses can be created at a later point.\r\n\r\n","title":"Is it possible to get all the subclasses of a class?","body":"<p>The short answer is no.</p>\n\n<p>The long answer is that subclasses can come into existence in many ways, which basically makes it impossible to categorically find them all.</p>\n\n<p>You can't do it at runtime but you can't find classes until they're loaded and how do you know they're loaded? You could scan every JAR and class file but that's not definitive. Plus there are things like URL class loaders.</p>\n\n<p>Inner classes (static and non-static) are another case to consider. Named inner classes are easier to find. Anonymous inner classes are potentially much more difficult to find.</p>\n\n<p>You also have to consider that if a class has subclasses then new subclasses can be created at a later point.</p>\n"},{"tags":[],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1246892168,"creation_date":1246892168,"answer_id":1087437,"question_id":1087401,"body_markdown":"If you only load classes from the disk or from URLs then you can scan the classpath and find subclasses &quot;manually&quot;.","title":"Is it possible to get all the subclasses of a class?","body":"<p>If you only load classes from the disk or from URLs then you can scan the classpath and find subclasses \"manually\".</p>\n"},{"tags":[],"owner":{"account_id":24554,"reputation":13200,"user_id":62544,"accept_rate":79,"display_name":"uriDium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246892195,"creation_date":1246892195,"answer_id":1087440,"question_id":1087401,"body_markdown":"I am trying to reason through the answer here so I am probably wrong. It would not make sense for a class to have information about its descendants or subclasses because at any point in time someone can create a new subclass of your class. Then you would have to recompile your class to include this new information every time. This does not make sense for extendable code. It is more likely for a class to contain information about its ancestors. So the only solution that I can see is for you to iterate over every class in your problem space and check but this is more than likely a horrible solution for you. ","title":"Is it possible to get all the subclasses of a class?","body":"<p>I am trying to reason through the answer here so I am probably wrong. It would not make sense for a class to have information about its descendants or subclasses because at any point in time someone can create a new subclass of your class. Then you would have to recompile your class to include this new information every time. This does not make sense for extendable code. It is more likely for a class to contain information about its ancestors. So the only solution that I can see is for you to iterate over every class in your problem space and check but this is more than likely a horrible solution for you. </p>\n"},{"tags":[],"owner":{"account_id":560337,"reputation":685,"user_id":95603,"display_name":"Tim H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246892235,"creation_date":1246892235,"answer_id":1087444,"question_id":1087401,"body_markdown":"I can always create a new subclass for any non-final class, add the subclass to the classpath, and defeat your intent. Subclassing is an open-ended proposition.\r\n\r\nAbout the best you can do is say that for a given classpath, you know what the subclasses are, and to do that, you&#39;d have to scan each class in the classpath.","title":"Is it possible to get all the subclasses of a class?","body":"<p>I can always create a new subclass for any non-final class, add the subclass to the classpath, and defeat your intent. Subclassing is an open-ended proposition.</p>\n\n<p>About the best you can do is say that for a given classpath, you know what the subclasses are, and to do that, you'd have to scan each class in the classpath.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682434306,"creation_date":1246892516,"answer_id":1087477,"question_id":1087401,"body_markdown":"It&#39;s fairly simple using reflection.  Read [this article][1] from JavaWorld.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/javatips/jw-javatip113.html","title":"Is it possible to get all the subclasses of a class?","body":"<p>It's fairly simple using reflection.  Read <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip113.html\" rel=\"nofollow noreferrer\">this article</a> from JavaWorld.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246893115,"creation_date":1246892635,"answer_id":1087488,"question_id":1087401,"body_markdown":"The only way you&#39;d be able to do it is walking the package hierarchy for the packages available in the classpath checking each class via reflection (and that&#39;s gonna suck because you&#39;ll effectively load every class, unless you restrict your search to certain packages).  \r\n\r\nThe trouble with this sort of auto-magical behavior is that it becomes hard to quantify the application without running it, which is a maintenance headache.  I&#39;d always prefer to go the injection route (a-la Spring) passing instances via some sort of configuration.","title":"Is it possible to get all the subclasses of a class?","body":"<p>The only way you'd be able to do it is walking the package hierarchy for the packages available in the classpath checking each class via reflection (and that's gonna suck because you'll effectively load every class, unless you restrict your search to certain packages).  </p>\n\n<p>The trouble with this sort of auto-magical behavior is that it becomes hard to quantify the application without running it, which is a maintenance headache.  I'd always prefer to go the injection route (a-la Spring) passing instances via some sort of configuration.</p>\n"},{"tags":[],"owner":{"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246893090,"creation_date":1246893090,"answer_id":1087534,"question_id":1087401,"body_markdown":"Do you want to enumerate classes that implement a particular interface or enumerate classes that derive from some base class? These are two different issues.  Both as far as I know would be hard to implement since new implementations can be created/installed on a PC at any time in the future.  It sounds like you are trying to create a factory method to instantiate a particular instance and you don&#39;t want to hard-code the class name in the code.  Usually using a config file that enumerates all the classes that implement the interface is the way to go (or a database can be used).  As new classes implement the interface, you add them to the config file and the factory should pick up the new class name.","title":"Is it possible to get all the subclasses of a class?","body":"<p>Do you want to enumerate classes that implement a particular interface or enumerate classes that derive from some base class? These are two different issues.  Both as far as I know would be hard to implement since new implementations can be created/installed on a PC at any time in the future.  It sounds like you are trying to create a factory method to instantiate a particular instance and you don't want to hard-code the class name in the code.  Usually using a config file that enumerates all the classes that implement the interface is the way to go (or a database can be used).  As new classes implement the interface, you add them to the config file and the factory should pick up the new class name.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1246893457,"creation_date":1246893457,"answer_id":1087569,"question_id":1087401,"body_markdown":"you should use Java [ServiceLoader][1] that is a builtin class. It is capable of iterating at runtime over all know service (interface) implementations. \r\n\r\nIf for some reason you don&#39;t want it, you can use ClassLoader.getSystemResources() to iterate over all resources; e.g. if you have 6 times the file /META-INF/com.interface you&#39;ll get 6 iterations.  \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Is it possible to get all the subclasses of a class?","body":"<p>you should use Java <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\">ServiceLoader</a> that is a builtin class. It is capable of iterating at runtime over all know service (interface) implementations. </p>\n\n<p>If for some reason you don't want it, you can use ClassLoader.getSystemResources() to iterate over all resources; e.g. if you have 6 times the file /META-INF/com.interface you'll get 6 iterations.  </p>\n"}],"owner":{"account_id":45376,"reputation":215,"user_id":2409371,"display_name":"Chris Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35119,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1247058509,"accepted_answer_id":1087425,"answer_count":8,"score":17,"last_activity_date":1682434306,"creation_date":1246891838,"question_id":1087401,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [How do you find all subclasses of a given class in Java?](https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java)  \r\n\r\n\r\nHi,\r\n\r\nI would like to get a list of classes that implement an interface in Java at runtime so I can do a lookup service without having to hard code it.  Is there a simple way of doing this?  I fear not.\r\n","title":"Is it possible to get all the subclasses of a class?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\">How do you find all subclasses of a given class in Java?</a>  </p>\n</blockquote>\n\n<p>Hi,</p>\n\n<p>I would like to get a list of classes that implement an interface in Java at runtime so I can do a lookup service without having to hard code it.  Is there a simple way of doing this?  I fear not.</p>\n"},{"tags":["java","firebase","android-studio","datetime","qr-code"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682489480,"post_id":76102537,"comment_id":134222109,"body_markdown":"Are you getting any errors when you try to write an object of type `StoreInfo` to the Realtime Database?","body":"Are you getting any errors when you try to write an object of type <code>StoreInfo</code> to the Realtime Database?"},{"owner":{"account_id":28412975,"reputation":5,"user_id":21736153,"display_name":"michy"},"score":0,"creation_date":1682496696,"post_id":76102537,"comment_id":134223602,"body_markdown":"No, but nothing is displaying. @AlexMamo","body":"No, but nothing is displaying. @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682497448,"post_id":76102537,"comment_id":134223778,"body_markdown":"Have you tried to see what happens when the task is not successful?","body":"Have you tried to see what happens when the task is not successful?"},{"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"score":0,"creation_date":1682502434,"post_id":76102537,"comment_id":134224948,"body_markdown":"You need to grab the ```key``` first while doing the push before ```setValue``` like this: ```String key = dbref.push().getKey();\ndbref.child(key).setValue(storeInfo);```","body":"You need to grab the <code>key</code> first while doing the push before <code>setValue</code> like this: <code>String key = dbref.push().getKey(); dbref.child(key).setValue(storeInfo);</code>"}],"owner":{"account_id":28412975,"reputation":5,"user_id":21736153,"display_name":"michy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682434300,"creation_date":1682434246,"question_id":76102537,"body_markdown":"```\r\npublic void handleResult(Result result) {\r\n        String data = result.getText().toString();\r\n        Date dateAndTime = (Date) Calendar.getInstance().getTime();\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.getDefault());\r\n        SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault());\r\n        String date = dateFormat.format(dateAndTime);\r\n        String time = timeFormat.format(dateAndTime);\r\n\r\n        StoreInfo storeInfo = new StoreInfo(data, date, time);\r\n\r\n        dbref.push().setValue(storeInfo).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                scanner.qrtext.setText(&quot;Course: &quot; + data);\r\n                scanner.date.setText(&quot;Date: &quot; + date);\r\n                scanner.arrival.setText(&quot;Arrival time: &quot; + time);\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nIf I change the `dbref.push().setValue(data)` only 1 data are storing in firebase, but when I change it to  `dbref.push().setValue(storeInfo)`, nothing is saving. \r\n\r\nI expect to store the data of qr, date, and time.","title":"Only one data are displaying dbref.push().setValue().addOnCompleteListener","body":"<pre><code>public void handleResult(Result result) {\n        String data = result.getText().toString();\n        Date dateAndTime = (Date) Calendar.getInstance().getTime();\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.getDefault());\n        SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault());\n        String date = dateFormat.format(dateAndTime);\n        String time = timeFormat.format(dateAndTime);\n\n        StoreInfo storeInfo = new StoreInfo(data, date, time);\n\n        dbref.push().setValue(storeInfo).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                scanner.qrtext.setText(&quot;Course: &quot; + data);\n                scanner.date.setText(&quot;Date: &quot; + date);\n                scanner.arrival.setText(&quot;Arrival time: &quot; + time);\n                onBackPressed();\n            }\n        });\n    }\n</code></pre>\n<p>If I change the <code>dbref.push().setValue(data)</code> only 1 data are storing in firebase, but when I change it to  <code>dbref.push().setValue(storeInfo)</code>, nothing is saving.</p>\n<p>I expect to store the data of qr, date, and time.</p>\n"},{"tags":["java","maven","build","artifact"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1621286750,"post_id":67577185,"comment_id":119445424,"body_markdown":"an &quot;artifact&quot; is indeed most of the time a jar, but it could be anything that your project generates, a `war`, an `ear` or even a PDF document","body":"an &quot;artifact&quot; is indeed most of the time a jar, but it could be anything that your project generates, a <code>war</code>, an <code>ear</code> or even a PDF document"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1621287056,"post_id":67577185,"comment_id":119445507,"body_markdown":"Yes. Maven tries not to pigeon-hole itself as something than can only build Java projects, so you may find some of the documentation slightly vague. They are trying to avoid saying something like &quot;converting Java source to JARs&quot;, because that&#39;s not *all* it can do. In practice, 99% of the time, Java projects are what Maven&#39;s used for. For most Java projects, a JAR is going to be your main artifact. Increasingly, rather than a JAR, you might make a Docker image or even a native executable (e.g. graalvm)","body":"Yes. Maven tries not to pigeon-hole itself as something than can only build Java projects, so you may find some of the documentation slightly vague. They are trying to avoid saying something like &quot;converting Java source to JARs&quot;, because that&#39;s not <i>all</i> it can do. In practice, 99% of the time, Java projects are what Maven&#39;s used for. For most Java projects, a JAR is going to be your main artifact. Increasingly, rather than a JAR, you might make a Docker image or even a native executable (e.g. graalvm)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1621288537,"post_id":67577185,"comment_id":119445925,"body_markdown":"... or XML reports (JaCoCo), or HTML pages (JavaDoc), or...","body":"... or XML reports (JaCoCo), or HTML pages (JavaDoc), or..."},{"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"score":0,"creation_date":1621357975,"post_id":67577185,"comment_id":119470284,"body_markdown":"And can the byte code files themselves be considered an artifact?","body":"And can the byte code files themselves be considered an artifact?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1621299318,"creation_date":1621293507,"answer_id":67578099,"question_id":67577185,"body_markdown":"When trying to understand terminology, Wikipedia is only ever a secondary source.\r\n\r\nThe [Apache Maven Glossary][1] says:\r\n\r\n&gt; Artifact: An artifact is something that is either produced or used by a project. Examples of artifacts produced by Maven for a project include: JARs, source and binary distributions, WARs. Each artifact is identified by a group id, an artifact ID, a version, an extension and a classifier (extension+classifier may be named by a type).\r\n\r\n(There may be a *more* definitive source than this.  If someone can find it, please comment.)\r\n\r\nSo, yes, a JAR is an example of an artifact according to Maven terminology.  \r\n\r\nNote that the JAR doesn&#39;t need to have been produced by Maven to be an artifact in the sense that Maven uses the concept.  You can take a JAR file that was produced by (say) running the `jar` command by hand, and then ascribe it artifact coordinates by adding it to your local repo.\r\n\r\n\r\n  [1]: https://maven.apache.org/glossary.html","title":"Would a jar file be considered an artifact in Java?","body":"<p>When trying to understand terminology, Wikipedia is only ever a secondary source.</p>\n<p>The <a href=\"https://maven.apache.org/glossary.html\" rel=\"nofollow noreferrer\">Apache Maven Glossary</a> says:</p>\n<blockquote>\n<p>Artifact: An artifact is something that is either produced or used by a project. Examples of artifacts produced by Maven for a project include: JARs, source and binary distributions, WARs. Each artifact is identified by a group id, an artifact ID, a version, an extension and a classifier (extension+classifier may be named by a type).</p>\n</blockquote>\n<p>(There may be a <em>more</em> definitive source than this.  If someone can find it, please comment.)</p>\n<p>So, yes, a JAR is an example of an artifact according to Maven terminology.</p>\n<p>Note that the JAR doesn't need to have been produced by Maven to be an artifact in the sense that Maven uses the concept.  You can take a JAR file that was produced by (say) running the <code>jar</code> command by hand, and then ascribe it artifact coordinates by adding it to your local repo.</p>\n"}],"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67578099,"answer_count":1,"score":1,"last_activity_date":1682434273,"creation_date":1621286600,"question_id":67577185,"body_markdown":"Currently I&#39;m learning Maven and upon studying it I have encountered the following definition on [Wikipedia][1]:\r\n\r\n&gt; In software development, a build is the process of converting source code files into standalone software artifact(s) that can be run on a computer, or the result of doing so.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Software_build\r\n\r\nI would assume in Java the standalone artifact would be the jar file since it is the by-product from the compiled source code and it can be run standalone. However I&#39;m not entirely sure if this would be the case.\r\n","title":"Would a jar file be considered an artifact in Java?","body":"<p>Currently I'm learning Maven and upon studying it I have encountered the following definition on <a href=\"https://en.wikipedia.org/wiki/Software_build\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>In software development, a build is the process of converting source code files into standalone software artifact(s) that can be run on a computer, or the result of doing so.</p>\n</blockquote>\n<p>I would assume in Java the standalone artifact would be the jar file since it is the by-product from the compiled source code and it can be run standalone. However I'm not entirely sure if this would be the case.</p>\n"},{"tags":["java","list","stream"],"comments":[{"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"score":1,"creation_date":1682428438,"post_id":76101512,"comment_id":134211094,"body_markdown":"It&#39;s not clear what you want, and what kind of matching you are looking for.\nYou are talking 3 levels of steps, and want to update the status for 2nd level? And that is supposed to happen when the name of a step matches the name of parent step and has any child step with similar name?","body":"It&#39;s not clear what you want, and what kind of matching you are looking for. You are talking 3 levels of steps, and want to update the status for 2nd level? And that is supposed to happen when the name of a step matches the name of parent step and has any child step with similar name?"},{"owner":{"account_id":26128103,"reputation":13,"user_id":19819243,"display_name":"Gaurav Matta"},"score":0,"creation_date":1682428911,"post_id":76101512,"comment_id":134211232,"body_markdown":"The name of step and sub steps will always be different. Yes I have 3 levels of step and first attribute is step name.\nI want to change the status at 3rd level only.\nSo for example I have parent step P1,child step C1 and in the child I have anther child CC1.\nI want to change the status of CC1 and return the Parent list.","body":"The name of step and sub steps will always be different. Yes I have 3 levels of step and first attribute is step name. I want to change the status at 3rd level only. So for example I have parent step P1,child step C1 and in the child I have anther child CC1. I want to change the status of CC1 and return the Parent list."}],"answers":[{"tags":[],"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682434232,"creation_date":1682430051,"answer_id":76101832,"question_id":76101512,"body_markdown":"You are not specifying what kind of stream usage you are looking for. You don&#39;t need `flatMap` because you are not going to update the structure of the list but only modify the values in it.\r\n\r\nYou can forcibly use the `stream()` to iterate over your lists and update the values in place.\r\n\r\n        List&lt;StepsDto&gt; l1steps = new ArrayList&lt;&gt;();\r\n\r\n        l1steps.stream().forEach(l1step -&gt; {\r\n            l1step.sub_steps.stream().forEach(l2step -&gt; {\r\n                l2step.sub_steps.stream().forEach(l3step -&gt; {\r\n                    if(l3step.step.equals(l2step.step) &amp;&amp; l3step.step.equals(l1step.step)){\r\n                        l3step.status = &quot;newStatus&quot;;\r\n                    }\r\n                });\r\n            });\r\n        });\r\nAlternatively, if you don&#39;t want to modify the values in place, instead of `foreach` you could use `map` while creating new instances of steps each time.\r\n\r\n\r\n        List&lt;StepsDto&gt; result = l1steps.stream().map(l1step -&gt; {\r\n            List&lt;StepsDto&gt; l1SubSteps = l1step.sub_steps.stream().map(l2step -&gt; {\r\n                List&lt;StepsDto&gt; l2SubSteps = l2step.sub_steps.stream().map(l3Step -&gt; {\r\n                    return new StepsDto(l3Step.step, l3Step.status.equals(l2step.status) &amp;&amp; l3Step.status.equals(l1step.status) ? &quot;newStatus&quot; : l3Step.status, l3Step.sub_steps, l3Step.previousStep, l3Step.nextStep);\r\n                }).collect(Collectors.toList());\r\n                return new StepsDto(l2step.step, l2step.status, l2SubSteps, l2step.previousStep, l2step.nextStep);\r\n            }).collect(Collectors.toList());\r\n            return new StepsDto(l1step.step, l1step.status, l1SubSteps, l1step.previousStep, l1step.nextStep);\r\n        }).collect(Collectors.toList());","title":"Java use streams to modify nested list and return parent list","body":"<p>You are not specifying what kind of stream usage you are looking for. You don't need <code>flatMap</code> because you are not going to update the structure of the list but only modify the values in it.</p>\n<p>You can forcibly use the <code>stream()</code> to iterate over your lists and update the values in place.</p>\n<pre><code>    List&lt;StepsDto&gt; l1steps = new ArrayList&lt;&gt;();\n\n    l1steps.stream().forEach(l1step -&gt; {\n        l1step.sub_steps.stream().forEach(l2step -&gt; {\n            l2step.sub_steps.stream().forEach(l3step -&gt; {\n                if(l3step.step.equals(l2step.step) &amp;&amp; l3step.step.equals(l1step.step)){\n                    l3step.status = &quot;newStatus&quot;;\n                }\n            });\n        });\n    });\n</code></pre>\n<p>Alternatively, if you don't want to modify the values in place, instead of <code>foreach</code> you could use <code>map</code> while creating new instances of steps each time.</p>\n<pre><code>    List&lt;StepsDto&gt; result = l1steps.stream().map(l1step -&gt; {\n        List&lt;StepsDto&gt; l1SubSteps = l1step.sub_steps.stream().map(l2step -&gt; {\n            List&lt;StepsDto&gt; l2SubSteps = l2step.sub_steps.stream().map(l3Step -&gt; {\n                return new StepsDto(l3Step.step, l3Step.status.equals(l2step.status) &amp;&amp; l3Step.status.equals(l1step.status) ? &quot;newStatus&quot; : l3Step.status, l3Step.sub_steps, l3Step.previousStep, l3Step.nextStep);\n            }).collect(Collectors.toList());\n            return new StepsDto(l2step.step, l2step.status, l2SubSteps, l2step.previousStep, l2step.nextStep);\n        }).collect(Collectors.toList());\n        return new StepsDto(l1step.step, l1step.status, l1SubSteps, l1step.previousStep, l1step.nextStep);\n    }).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682432452,"creation_date":1682432452,"answer_id":76102238,"question_id":76101512,"body_markdown":"you could do this as follows\r\n\r\n    substeps.stream().filter(x -&gt; x.status == originalStatus)\r\n    .map(x -&gt; x.substeps).flatMap(Collection::stream).filter(x -&gt; x.status == originalStatus)\r\n    .findFirst()\r\n\r\nWhat happens above is that you take the substeps of you parent step,\r\n\r\nyou filter out the steps with different status\r\n\r\nthen you map each substep to its substeps : this gives you a stream of lists of steps, the flatmap will &quot;remove the list layer&quot; and will return a stream of all the grandchildren steps\r\n\r\nthen you filter out the grand children with a different status.\r\n\r\ntheoritically, the remaining step will have the same status as their parent and grandparent.\r\n\r\nyou can test further into the hierarchy by adding extra map.flatmap.filter steps\r\n","title":"Java use streams to modify nested list and return parent list","body":"<p>you could do this as follows</p>\n<pre><code>substeps.stream().filter(x -&gt; x.status == originalStatus)\n.map(x -&gt; x.substeps).flatMap(Collection::stream).filter(x -&gt; x.status == originalStatus)\n.findFirst()\n</code></pre>\n<p>What happens above is that you take the substeps of you parent step,</p>\n<p>you filter out the steps with different status</p>\n<p>then you map each substep to its substeps : this gives you a stream of lists of steps, the flatmap will &quot;remove the list layer&quot; and will return a stream of all the grandchildren steps</p>\n<p>then you filter out the grand children with a different status.</p>\n<p>theoritically, the remaining step will have the same status as their parent and grandparent.</p>\n<p>you can test further into the hierarchy by adding extra map.flatmap.filter steps</p>\n"}],"owner":{"account_id":26128103,"reputation":13,"user_id":19819243,"display_name":"Gaurav Matta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76101832,"answer_count":2,"score":0,"last_activity_date":1682434232,"creation_date":1682428074,"question_id":76101512,"body_markdown":"I have following dto\r\n```\r\npublic class StepsDto {\r\n\t\r\n\tprivate String step_name;\r\n\tprivate String status;\r\n\tprivate List&lt;StepsDto&gt; sub_steps;\r\n\tprivate String previousStep;\r\n\tprivate String nextStep;\r\n}\r\n```\r\nUsing streams I need to change the status of Substeps if name of a particular step and its substep and its sub sub step matches.\r\nAnd then I need to return the complete Parent list of Steps.\r\n\r\nI have tried using flatmap but it returns sublist and not the main list.\r\n\r\nSo for example I have parent step P1,child step C1 and in the child I have another child CC1. I want to change the status of CC1 and return the Parent list.","title":"Java use streams to modify nested list and return parent list","body":"<p>I have following dto</p>\n<pre><code>public class StepsDto {\n    \n    private String step_name;\n    private String status;\n    private List&lt;StepsDto&gt; sub_steps;\n    private String previousStep;\n    private String nextStep;\n}\n</code></pre>\n<p>Using streams I need to change the status of Substeps if name of a particular step and its substep and its sub sub step matches.\nAnd then I need to return the complete Parent list of Steps.</p>\n<p>I have tried using flatmap but it returns sublist and not the main list.</p>\n<p>So for example I have parent step P1,child step C1 and in the child I have another child CC1. I want to change the status of CC1 and return the Parent list.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1682433490,"post_id":76102339,"comment_id":134212766,"body_markdown":"The root cause is the last exception in the stack trace ... what have you tried to investigate that exception? In particular, does the Person class bear the necessary annotations? Is entity scanning set up appropriately?","body":"The root cause is the last exception in the stack trace ... what have you tried to investigate that exception? In particular, does the Person class bear the necessary annotations? Is entity scanning set up appropriately?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1682434926,"post_id":76102339,"comment_id":134213212,"body_markdown":"Spring Boot itself has rich documentation with practical examples. I would follow that rather than a random example on github. I.E. : https://spring.io/guides/gs/accessing-data-jpa/","body":"Spring Boot itself has rich documentation with practical examples. I would follow that rather than a random example on github. I.E. : <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>"}],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682434135,"creation_date":1682434135,"answer_id":76102521,"question_id":76102339,"body_markdown":"The problem is in your `Person` class. You are importing your annotations from `javax.persistence.*`. After Spring Boot 3, `javax` replaced with `jakarta`.\r\n\r\nSo basically\r\n\r\nremove this line from `Person`\r\n\r\n`import javax.persistence.*`\r\n\r\nand replace it with\r\n\r\n`import jakarta.persistence.Table`","title":"Error creating bean with name &#39;personController&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;","body":"<p>The problem is in your <code>Person</code> class. You are importing your annotations from <code>javax.persistence.*</code>. After Spring Boot 3, <code>javax</code> replaced with <code>jakarta</code>.</p>\n<p>So basically</p>\n<p>remove this line from <code>Person</code></p>\n<p><code>import javax.persistence.*</code></p>\n<p>and replace it with</p>\n<p><code>import jakarta.persistence.Table</code></p>\n"}],"owner":{"account_id":3532110,"reputation":514,"user_id":2951327,"display_name":"FrankZhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76102521,"answer_count":1,"score":0,"last_activity_date":1682434135,"creation_date":1682433010,"question_id":76102339,"body_markdown":"I am building an example project to demonstrate springboot with webservice enabled. project build successful, but had run error below, \r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personController&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;: Error creating bean with name &#39;personRepository&#39; defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.example.demo3.Demo3Application.main(Demo3Application.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personRepository&#39; defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.demo3.model.Person\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 30 common frames omitted\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:56936&#39;, transport: &#39;socket&#39;\r\n```\r\n\r\nfor reference, the whole project repo can be found at\r\nhttps://github.com/fzhcary/Springboot\r\n\r\nThanks a lot!","title":"Error creating bean with name &#39;personController&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;","body":"<p>I am building an example project to demonstrate springboot with webservice enabled. project build successful, but had run error below,</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personController': Unsatisfied dependency expressed through field 'personRepository': Error creating bean with name 'personRepository' defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at com.example.demo3.Demo3Application.main(Demo3Application.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'personRepository' defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.demo3.model.Person\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 30 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:56936', transport: 'socket'\n</code></pre>\n<p>for reference, the whole project repo can be found at\n<a href=\"https://github.com/fzhcary/Springboot\" rel=\"nofollow noreferrer\">https://github.com/fzhcary/Springboot</a></p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-shell"],"owner":{"account_id":28412868,"reputation":11,"user_id":21736062,"display_name":"AlexZape"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682434028,"creation_date":1682434028,"question_id":76102503,"body_markdown":"I am trying to create a CLI application that has several commands using Spring Shell, having dependencies on another project and Spring. This is my pom:\r\n\r\n\r\n```\r\n  &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\r\n  &lt;artifactId&gt;cli&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!--  Add the assemble plugin with standard configuration  --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-assembly&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;  \r\n      &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe Main.java is the following:\r\n\r\n\r\n```\r\npackage es.uca.dss.sigeca;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Main \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\n\r\nAnd my commands:\r\n\r\n\r\n```\r\npackage es.uca.dss.sigeca;\r\n\r\nimport org.springframework.shell.standard.ShellMethod;\r\n\r\nimport java.util.Date;\r\n\r\nimport org.springframework.shell.standard.ShellComponent;\r\n\r\n@ShellComponent\r\npublic class MyCommands \r\n{\r\n\tIServicesClient servicesClient = ServicesProvider.getClientServices();\r\n\tIServicesVehicle servicesVehicle = ServicesProvider.getVehicleServices();\r\n\tIServicesReserve servicesReserve = ServicesProvider.getReserveServices();\r\n\t\r\n\t@ShellMethod(&quot;Consults if a car is avalaible between two determined dates.&quot;)\r\n\tpublic void consultDisponibility(String enrollment, Date start, Date end)\r\n\t{\r\n\t\tif(servicesReserve.isAvailable(servicesVehicle.getVehicle(enrollment), start, end))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;It is avalaible.\\n&quot;);\r\n\t\t} else System.out.println(&quot;It is not avalaible.\\n&quot;);\r\n\t}\r\n\t\r\n\t@ShellMethod(&quot;Register a new client.&quot;)\r\n\tpublic void clientRegister(String ID, String contact, String name)\r\n\t{\r\n\t\tservicesClient.registerClient(ID, contact, name);\r\n\t}\r\n\t\r\n\t@ShellMethod(&quot;Edit data from a client.&quot;)\r\n\tpublic void clientEdit(String ID, String contact, int incidences)\r\n\t{\r\n\t\tservicesClient.editClient(ID, contact, incidences);\r\n\t}\r\n}\r\n```\r\n\r\nDependencies with the other project seems to be fine, as the .jar generated file contains them, and i have no compiling problems.\r\n\r\n\r\n\r\n\r\nI tried to execute it with *mvn clean install -DskipTests* and then *java -jar target/cli1.0-jar-with-dependencies.jar*, and spring initialices, but there is no Spring Shell output or prompt for me to issue the commands, it just finishes executing.\r\n\r\nThis is the output:\r\n\r\n\r\n```\r\njava -jar target/cli-1.0-jar-with-dependencies.jar \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.6)\r\n\r\n15:31:09.186 [main] INFO es.uca.dss.sigeca.Main -- Starting Main using Java 17.0.7 with PID 39497 (/home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli/target/cli-1.0-jar-with-dependencies.jar started by alex in /home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli)\r\n15:31:09.190 [main] DEBUG es.uca.dss.sigeca.Main -- Running with Spring Boot, Spring\r\n15:31:09.192 [main] INFO es.uca.dss.sigeca.Main -- No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n15:31:09.194 [main] DEBUG org.springframework.boot.SpringApplication -- Loading source class es.uca.dss.sigeca.Main\r\n15:31:09.309 [main] DEBUG \r\n\r\n/* A lot of mor DEBUGs... */\r\n\r\n&#39;org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration&#39;\r\n15:31:11.105 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean &#39;spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties&#39;\r\n15:31:11.143 [main] INFO es.uca.dss.sigeca.Main -- Started Main in 2.279 seconds (process running for 2.6)\r\n15:31:11.146 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext -- Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2b4a2ec7, started on Tue Apr 25 15:31:09 CEST 2023\r\n\r\n```\r\n\r\nI hope anyone can help me, I&#39;ve been around this for a long time now.\r\n","title":"Spring Shell not initializing","body":"<p>I am trying to create a CLI application that has several commands using Spring Shell, having dependencies on another project and Spring. This is my pom:</p>\n<pre><code>  &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\n  &lt;artifactId&gt;cli&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!--  Add the assemble plugin with standard configuration  --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-assembly&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;  \n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The Main.java is the following:</p>\n<pre><code>package es.uca.dss.sigeca;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main \n{\n    public static void main( String[] args )\n    {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<p>And my commands:</p>\n<pre><code>package es.uca.dss.sigeca;\n\nimport org.springframework.shell.standard.ShellMethod;\n\nimport java.util.Date;\n\nimport org.springframework.shell.standard.ShellComponent;\n\n@ShellComponent\npublic class MyCommands \n{\n    IServicesClient servicesClient = ServicesProvider.getClientServices();\n    IServicesVehicle servicesVehicle = ServicesProvider.getVehicleServices();\n    IServicesReserve servicesReserve = ServicesProvider.getReserveServices();\n    \n    @ShellMethod(&quot;Consults if a car is avalaible between two determined dates.&quot;)\n    public void consultDisponibility(String enrollment, Date start, Date end)\n    {\n        if(servicesReserve.isAvailable(servicesVehicle.getVehicle(enrollment), start, end))\n        {\n            System.out.println(&quot;It is avalaible.\\n&quot;);\n        } else System.out.println(&quot;It is not avalaible.\\n&quot;);\n    }\n    \n    @ShellMethod(&quot;Register a new client.&quot;)\n    public void clientRegister(String ID, String contact, String name)\n    {\n        servicesClient.registerClient(ID, contact, name);\n    }\n    \n    @ShellMethod(&quot;Edit data from a client.&quot;)\n    public void clientEdit(String ID, String contact, int incidences)\n    {\n        servicesClient.editClient(ID, contact, incidences);\n    }\n}\n</code></pre>\n<p>Dependencies with the other project seems to be fine, as the .jar generated file contains them, and i have no compiling problems.</p>\n<p>I tried to execute it with <em>mvn clean install -DskipTests</em> and then <em>java -jar target/cli1.0-jar-with-dependencies.jar</em>, and spring initialices, but there is no Spring Shell output or prompt for me to issue the commands, it just finishes executing.</p>\n<p>This is the output:</p>\n<pre><code>java -jar target/cli-1.0-jar-with-dependencies.jar \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n15:31:09.186 [main] INFO es.uca.dss.sigeca.Main -- Starting Main using Java 17.0.7 with PID 39497 (/home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli/target/cli-1.0-jar-with-dependencies.jar started by alex in /home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli)\n15:31:09.190 [main] DEBUG es.uca.dss.sigeca.Main -- Running with Spring Boot, Spring\n15:31:09.192 [main] INFO es.uca.dss.sigeca.Main -- No active profile set, falling back to 1 default profile: &quot;default&quot;\n15:31:09.194 [main] DEBUG org.springframework.boot.SpringApplication -- Loading source class es.uca.dss.sigeca.Main\n15:31:09.309 [main] DEBUG \n\n/* A lot of mor DEBUGs... */\n\n'org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration'\n15:31:11.105 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties'\n15:31:11.143 [main] INFO es.uca.dss.sigeca.Main -- Started Main in 2.279 seconds (process running for 2.6)\n15:31:11.146 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext -- Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2b4a2ec7, started on Tue Apr 25 15:31:09 CEST 2023\n\n</code></pre>\n<p>I hope anyone can help me, I've been around this for a long time now.</p>\n"},{"tags":["java","netty","reactor-netty","netty4"],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682433952,"creation_date":1682433952,"answer_id":76102490,"question_id":76102308,"body_markdown":"`HttpContentDecompressor.decode` sources:\r\n```\r\n...\r\n// set new content encoding,\r\nCharSequence targetContentEncoding = getTargetContentEncoding(contentEncoding);\r\nif (HttpHeaderValues.IDENTITY.contentEquals(targetContentEncoding)) {\r\n    // Do NOT set the &#39;Content-Encoding&#39; header if the target encoding is &#39;identity&#39;\r\n    // as per: https://tools.ietf.org/html/rfc2616#section-14.11\r\n    headers.remove(HttpHeaderNames.CONTENT_ENCODING);\r\n} else {\r\n    headers.set(HttpHeaderNames.CONTENT_ENCODING, targetContentEncoding);\r\n}\r\n...\r\n```\r\n\r\nUse the following snippet to prevent `Content-Encoding` header modification:\r\n```\r\npipeline.addLast(new HttpContentDecompressor() {\r\n    @Override\r\n    protected String getTargetContentEncoding(String contentEncoding) throws Exception {\r\n        return contentEncoding;\r\n    }\r\n})\r\n```","title":"Netty Server HttpContentDecompressor is removing content-encoding header from the request, can we configure it to not do so?","body":"<p><code>HttpContentDecompressor.decode</code> sources:</p>\n<pre><code>...\n// set new content encoding,\nCharSequence targetContentEncoding = getTargetContentEncoding(contentEncoding);\nif (HttpHeaderValues.IDENTITY.contentEquals(targetContentEncoding)) {\n    // Do NOT set the 'Content-Encoding' header if the target encoding is 'identity'\n    // as per: https://tools.ietf.org/html/rfc2616#section-14.11\n    headers.remove(HttpHeaderNames.CONTENT_ENCODING);\n} else {\n    headers.set(HttpHeaderNames.CONTENT_ENCODING, targetContentEncoding);\n}\n...\n</code></pre>\n<p>Use the following snippet to prevent <code>Content-Encoding</code> header modification:</p>\n<pre><code>pipeline.addLast(new HttpContentDecompressor() {\n    @Override\n    protected String getTargetContentEncoding(String contentEncoding) throws Exception {\n        return contentEncoding;\n    }\n})\n</code></pre>\n"}],"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76102490,"answer_count":1,"score":2,"last_activity_date":1682433952,"creation_date":1682432821,"question_id":76102308,"body_markdown":"I am using netty io.netty.handler.codec.http.HttpContentDecompressor by adding it into pipeline in my spring boot server, its decompressing the incoming request successfully but also removing the &#39;content-encoding:gzip&#39; header from request. Is there any way to configure netty server to stop removing this header after decompression as we really want to know if original request had come in the compressed format or decompressed format?","title":"Netty Server HttpContentDecompressor is removing content-encoding header from the request, can we configure it to not do so?","body":"<p>I am using netty io.netty.handler.codec.http.HttpContentDecompressor by adding it into pipeline in my spring boot server, its decompressing the incoming request successfully but also removing the 'content-encoding:gzip' header from request. Is there any way to configure netty server to stop removing this header after decompression as we really want to know if original request had come in the compressed format or decompressed format?</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1682350790,"post_id":76092974,"comment_id":134197555,"body_markdown":"You can check out this [JWT login sample](https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login) provided by the Spring Security team.","body":"You can check out this <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login\" rel=\"nofollow noreferrer\">JWT login sample</a> provided by the Spring Security team."}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682433881,"creation_date":1682432697,"answer_id":76102289,"question_id":76092974,"body_markdown":"&gt; How to Implement SecurityConfig in java spring for jwt token\r\n&gt; validation\r\n\r\nHere are steps to follow:\r\n\r\n**1)** Add all necessary dependencies to your project.\r\n\r\n**2)** Create a `UserDetailsServiceImpl`  class that implements the `UserDetailsService interface` which is used to load user-specific data during authentication. This class has a method to retrieve the user&#39;s details based on the username or any other data passed in the request. It is possible to use any data source  such as a database, a remote service to retrieve the user details.\r\n\r\nHere is the code example:\r\n```\r\nimport com.zufar.onlinestore.security.repository.UserDetailsRepository;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\tprivate final UserDetailsRepository userDetailsRepository;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException {\r\n\t\treturn userDetailsRepository\r\n\t\t\t\t.findByUsername(username)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User doesn&#39;t exists&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n**3)** Create a `JwtTokenUtil` class. This class is responsible for generating JWT tokens with a secret key and an expiration time, and also for validating JWT tokens passed in the HTTP header of incoming requests.\r\n\r\n\r\nHere is the code example:\r\n```\r\n@Component\r\npublic class JwtTokenUtil {\r\n\r\n    private static final String SECRET_KEY = &quot;your-secret-key&quot;;\r\n    private static final long EXPIRATION_TIME = 89990000L;\r\n\r\n    public String generateToken(UserDetails userDetails) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\r\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY)\r\n                .compact();\r\n    }\r\n\r\n    public boolean validateToken(String token) {\r\n        try {\r\n            Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);\r\n            return true;\r\n        } catch (JwtException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public String getUsernameFromToken(String token) {\r\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n}\r\n```\r\n\r\n\r\n**4)** Create a class that implements `Filter` and extends `OncePerRequestFilter`. This filter is used to validate the JWT token in the incoming requests. This filter works this way: \r\n - The token is retrieved from the header of the HTTP request\r\n - The token is validated.\r\n - If the token is valid, the filter sets the authentication in the `SecurityContextHolder`.\r\n\r\nHere is the code example:\r\n```\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\tprivate final JwtAuthenticationProvider jwtAuthenticationProvider;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(@NonNull final HttpServletRequest httpRequest,\r\n\t                                @NonNull final HttpServletResponse httpResponse,\r\n\t                                @NonNull final FilterChain filterChain) throws ServletException, IOException {\r\n\t\tOptional&lt;UsernamePasswordAuthenticationToken&gt; authenticationTokenOptional = jwtAuthenticationProvider.get(httpRequest);\r\n\r\n\t\tif (authenticationTokenOptional.isPresent()) {\r\n\t\t\tUsernamePasswordAuthenticationToken authenticationToken = authenticationTokenOptional.get();\r\n\t\t\tSecurityContextHolder\r\n\t\t\t\t\t.getContext()\r\n\t\t\t\t\t.setAuthentication(authenticationToken);\r\n\t\t}\r\n\r\n\t\tfilterChain.doFilter(httpRequest, httpResponse);\r\n\t}\r\n}\r\n```\r\n**5)** Create a `SpringSecurityConfiguration` class to configure the Spring Security filter chain. This way we can:\r\n - customize the authentication and authorization mechanisms, \r\n - specify the login and logout pages, \r\n - enable/disable CSRF protection,\r\n - and more.\r\n\r\nHere is the code example:\r\n```\r\nimport com.zufar.onlinestore.security.authentication.UserDetailsServiceImpl;\r\nimport com.zufar.onlinestore.security.jwt.filter.JwtAuthenticationFilter;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SpringSecurityConfiguration {\r\n\tprivate static final String API_AUTH_URL_PREFIX = &quot;/api/auth/**&quot;;\r\n\tpublic static final String ACTUATOR_ENDPOINTS_URL_PREFIX = &quot;/actuator/**&quot;;\r\n\r\n\tprivate final UserDetailsServiceImpl userDetailsService;\r\n\tprivate final JwtAuthenticationFilter jwtTokenFilter;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(final HttpSecurity httpSecurity) throws Exception {\r\n\t\treturn httpSecurity\r\n\t\t\t\t.csrf().disable()\r\n\t\t\t\t.authorizeHttpRequests()\r\n\t\t\t\t.requestMatchers(API_AUTH_URL_PREFIX).permitAll()\r\n\t\t\t\t.requestMatchers(ACTUATOR_ENDPOINTS_URL_PREFIX).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t\t.and()\r\n\t\t\t\t.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(final HttpSecurity httpSecurity,\r\n\t                                                   final PasswordEncoder passwordEncoder,\r\n\t                                                   final UserDetailsServiceImpl userDetailService) throws Exception {\r\n\t\treturn httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\r\n\t\t\t\t.userDetailsService(userDetailService)\r\n\t\t\t\t.passwordEncoder(passwordEncoder)\r\n\t\t\t\t.and()\r\n\t\t\t\t.build();\r\n\t}\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n}\r\n\r\n```\r\n","title":"How to Implement SecurityConfig in java spring for jwt token validation","body":"<blockquote>\n<p>How to Implement SecurityConfig in java spring for jwt token\nvalidation</p>\n</blockquote>\n<p>Here are steps to follow:</p>\n<p><strong>1)</strong> Add all necessary dependencies to your project.</p>\n<p><strong>2)</strong> Create a <code>UserDetailsServiceImpl</code>  class that implements the <code>UserDetailsService interface</code> which is used to load user-specific data during authentication. This class has a method to retrieve the user's details based on the username or any other data passed in the request. It is possible to use any data source  such as a database, a remote service to retrieve the user details.</p>\n<p>Here is the code example:</p>\n<pre><code>import com.zufar.onlinestore.security.repository.UserDetailsRepository;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    private final UserDetailsRepository userDetailsRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException {\n        return userDetailsRepository\n                .findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User doesn't exists&quot;));\n    }\n}\n</code></pre>\n<p><strong>3)</strong> Create a <code>JwtTokenUtil</code> class. This class is responsible for generating JWT tokens with a secret key and an expiration time, and also for validating JWT tokens passed in the HTTP header of incoming requests.</p>\n<p>Here is the code example:</p>\n<pre><code>@Component\npublic class JwtTokenUtil {\n\n    private static final String SECRET_KEY = &quot;your-secret-key&quot;;\n    private static final long EXPIRATION_TIME = 89990000L;\n\n    public String generateToken(UserDetails userDetails) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY)\n                .compact();\n    }\n\n    public boolean validateToken(String token) {\n        try {\n            Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);\n            return true;\n        } catch (JwtException e) {\n            return false;\n        }\n    }\n\n    public String getUsernameFromToken(String token) {\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody().getSubject();\n    }\n}\n</code></pre>\n<p><strong>4)</strong> Create a class that implements <code>Filter</code> and extends <code>OncePerRequestFilter</code>. This filter is used to validate the JWT token in the incoming requests. This filter works this way:</p>\n<ul>\n<li>The token is retrieved from the header of the HTTP request</li>\n<li>The token is validated.</li>\n<li>If the token is valid, the filter sets the authentication in the <code>SecurityContextHolder</code>.</li>\n</ul>\n<p>Here is the code example:</p>\n<pre><code>import org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.RequiredArgsConstructor;\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n    private final JwtAuthenticationProvider jwtAuthenticationProvider;\n\n    @Override\n    protected void doFilterInternal(@NonNull final HttpServletRequest httpRequest,\n                                    @NonNull final HttpServletResponse httpResponse,\n                                    @NonNull final FilterChain filterChain) throws ServletException, IOException {\n        Optional&lt;UsernamePasswordAuthenticationToken&gt; authenticationTokenOptional = jwtAuthenticationProvider.get(httpRequest);\n\n        if (authenticationTokenOptional.isPresent()) {\n            UsernamePasswordAuthenticationToken authenticationToken = authenticationTokenOptional.get();\n            SecurityContextHolder\n                    .getContext()\n                    .setAuthentication(authenticationToken);\n        }\n\n        filterChain.doFilter(httpRequest, httpResponse);\n    }\n}\n</code></pre>\n<p><strong>5)</strong> Create a <code>SpringSecurityConfiguration</code> class to configure the Spring Security filter chain. This way we can:</p>\n<ul>\n<li>customize the authentication and authorization mechanisms,</li>\n<li>specify the login and logout pages,</li>\n<li>enable/disable CSRF protection,</li>\n<li>and more.</li>\n</ul>\n<p>Here is the code example:</p>\n<pre><code>import com.zufar.onlinestore.security.authentication.UserDetailsServiceImpl;\nimport com.zufar.onlinestore.security.jwt.filter.JwtAuthenticationFilter;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SpringSecurityConfiguration {\n    private static final String API_AUTH_URL_PREFIX = &quot;/api/auth/**&quot;;\n    public static final String ACTUATOR_ENDPOINTS_URL_PREFIX = &quot;/actuator/**&quot;;\n\n    private final UserDetailsServiceImpl userDetailsService;\n    private final JwtAuthenticationFilter jwtTokenFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(final HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(API_AUTH_URL_PREFIX).permitAll()\n                .requestMatchers(ACTUATOR_ENDPOINTS_URL_PREFIX).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(final HttpSecurity httpSecurity,\n                                                       final PasswordEncoder passwordEncoder,\n                                                       final UserDetailsServiceImpl userDetailService) throws Exception {\n        return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(userDetailService)\n                .passwordEncoder(passwordEncoder)\n                .and()\n                .build();\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16623085,"reputation":3880,"user_id":12012828,"display_name":"Rahul Kavati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76102289,"answer_count":1,"score":0,"last_activity_date":1682433881,"creation_date":1682346496,"question_id":76092974,"body_markdown":"I&#39;m trying to implement Security Config for java spring project for JWT Token validation using spring security 6. Can anyone suggest the steps to implement it using bearer token. \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private JwtTokenFilter jwtTokenFilter;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/authenticate&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement(management -&gt; management.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n        // http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\n\r\nFacing issues to setup configure.\r\n","title":"How to Implement SecurityConfig in java spring for jwt token validation","body":"<p>I'm trying to implement Security Config for java spring project for JWT Token validation using spring security 6. Can anyone suggest the steps to implement it using bearer token.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private JwtTokenFilter jwtTokenFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/authenticate&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement(management -&gt; management.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        // http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>Facing issues to setup configure.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1445340133,"post_id":33232849,"comment_id":54273535,"body_markdown":"Whereever you have declared your multi-part resolver, you can change these things.","body":"Whereever you have declared your multi-part resolver, you can change these things."},{"owner":{"account_id":5931478,"reputation":1895,"user_id":4665781,"accept_rate":77,"display_name":"Jordan"},"score":0,"creation_date":1445385379,"post_id":33232849,"comment_id":54299618,"body_markdown":"I haven&#39;t declared it anywhere. I&#39;m assuming that means spring boot is automatically creating and handling it. Does that mean I can&#39;t edit it?","body":"I haven&#39;t declared it anywhere. I&#39;m assuming that means spring boot is automatically creating and handling it. Does that mean I can&#39;t edit it?"},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1445411051,"post_id":33232849,"comment_id":54307271,"body_markdown":"You can edit it. Find the multipart resolver and edit the value. If there is multipart support, I am sure you will find some configuration for it. You have not even posted your config in the main post, so no one can even point out what to change.","body":"You can edit it. Find the multipart resolver and edit the value. If there is multipart support, I am sure you will find some configuration for it. You have not even posted your config in the main post, so no one can even point out what to change."}],"answers":[{"tags":[],"owner":{"account_id":5526036,"reputation":1859,"user_id":4387470,"display_name":"Sanjay Singh Rawat"},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1584551975,"creation_date":1445333780,"answer_id":33233088,"question_id":33232849,"body_markdown":"In **application.properties** file write this:\r\n   \r\n    # Max file size.\r\n    spring.http.multipart.max-file-size=1Mb\r\n    # Max request size.\r\n    spring.http.multipart.max-request-size=10Mb\r\n\r\nAdjust size according to your need.\r\n\r\n---\r\n## Update\r\n\r\n**Note:** As of ***Spring Boot 2***, however you can now do\r\n\r\n    # Max file size.\r\n    spring.servlet.multipart.max-file-size=1MB\r\n    # Max request size.\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\n[Appendix A. Common application properties - Spring][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n\r\n","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>In <strong>application.properties</strong> file write this:</p>\n\n<pre><code># Max file size.\nspring.http.multipart.max-file-size=1Mb\n# Max request size.\nspring.http.multipart.max-request-size=10Mb\n</code></pre>\n\n<p>Adjust size according to your need.</p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p><strong>Note:</strong> As of <strong><em>Spring Boot 2</em></strong>, however you can now do</p>\n\n<pre><code># Max file size.\nspring.servlet.multipart.max-file-size=1MB\n# Max request size.\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Appendix A. Common application properties - Spring</a></p>\n"},{"tags":[],"owner":{"account_id":5931478,"reputation":1895,"user_id":4665781,"accept_rate":77,"display_name":"Jordan"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1462235806,"creation_date":1447634272,"answer_id":33726892,"question_id":33232849,"body_markdown":"Found a solution. Add this code to the same class running SpringApplication.run.\r\n\r\n    // Set maxPostSize of embedded tomcat server to 10 megabytes (default is 2 MB, not large enough to support file uploads &gt; 1.5 MB)\r\n    @Bean\r\n    EmbeddedServletContainerCustomizer containerCustomizer() throws Exception {\r\n        return (ConfigurableEmbeddedServletContainer container) -&gt; {\r\n            if (container instanceof TomcatEmbeddedServletContainerFactory) {\r\n                TomcatEmbeddedServletContainerFactory tomcat = (TomcatEmbeddedServletContainerFactory) container;\r\n                tomcat.addConnectorCustomizers(\r\n                    (connector) -&gt; {\r\n                        connector.setMaxPostSize(10000000); // 10 MB\r\n                    }\r\n                );\r\n            }\r\n        };\r\n    }\r\n\r\nEdit: Apparently adding this to your application.properties file will also increase the maxPostSize, but I haven&#39;t tried it myself so I can&#39;t confirm.\r\n\r\n    multipart.maxFileSize=10Mb # Max file size.\r\n    multipart.maxRequestSize=10Mb # Max request size.","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>Found a solution. Add this code to the same class running SpringApplication.run.</p>\n\n<pre><code>// Set maxPostSize of embedded tomcat server to 10 megabytes (default is 2 MB, not large enough to support file uploads &gt; 1.5 MB)\n@Bean\nEmbeddedServletContainerCustomizer containerCustomizer() throws Exception {\n    return (ConfigurableEmbeddedServletContainer container) -&gt; {\n        if (container instanceof TomcatEmbeddedServletContainerFactory) {\n            TomcatEmbeddedServletContainerFactory tomcat = (TomcatEmbeddedServletContainerFactory) container;\n            tomcat.addConnectorCustomizers(\n                (connector) -&gt; {\n                    connector.setMaxPostSize(10000000); // 10 MB\n                }\n            );\n        }\n    };\n}\n</code></pre>\n\n<p>Edit: Apparently adding this to your application.properties file will also increase the maxPostSize, but I haven't tried it myself so I can't confirm.</p>\n\n<pre><code>multipart.maxFileSize=10Mb # Max file size.\nmultipart.maxRequestSize=10Mb # Max request size.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1483544610,"creation_date":1483544610,"answer_id":41467782,"question_id":33232849,"body_markdown":"from documentation: https://spring.io/guides/gs/uploading-files/\r\n\r\n&gt; **Tuning file upload limits**\r\n&gt; \r\n&gt; When configuring file uploads, it is often useful to set limits on the\r\n&gt; size of files. Imagine trying to handle a 5GB file upload! With Spring\r\n&gt; Boot, we can tune its auto-configured MultipartConfigElement with some\r\n&gt; property settings.\r\n&gt; \r\n&gt; Add the following properties to your existing\r\n&gt; `src/main/resources/application.properties`:\r\n&gt; \r\n&gt; `spring.http.multipart.max-file-size=128KB`\r\n&gt;\r\n&gt; `spring.http.multipart.max-request-size=128KB`\r\n&gt; \r\n&gt; The multipart settings are constrained as follows:\r\n&gt; \r\n&gt; - `spring.http.multipart.max-file-size is set to 128KB`, meaning total\r\n&gt; file size cannot exceed 128KB. \r\n&gt;\r\n&gt; - `spring.http.multipart.max-request-size`\r\n&gt; is set to 128KB, meaning total request size for a multipart/form-data\r\n&gt; cannot exceed 128KB.","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>from documentation: <a href=\"https://spring.io/guides/gs/uploading-files/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/uploading-files/</a></p>\n\n<blockquote>\n  <p><strong>Tuning file upload limits</strong></p>\n  \n  <p>When configuring file uploads, it is often useful to set limits on the\n  size of files. Imagine trying to handle a 5GB file upload! With Spring\n  Boot, we can tune its auto-configured MultipartConfigElement with some\n  property settings.</p>\n  \n  <p>Add the following properties to your existing\n  <code>src/main/resources/application.properties</code>:</p>\n  \n  <p><code>spring.http.multipart.max-file-size=128KB</code></p>\n  \n  <p><code>spring.http.multipart.max-request-size=128KB</code></p>\n  \n  <p>The multipart settings are constrained as follows:</p>\n  \n  <ul>\n  <li><p><code>spring.http.multipart.max-file-size is set to 128KB</code>, meaning total\n  file size cannot exceed 128KB. </p></li>\n  <li><p><code>spring.http.multipart.max-request-size</code>\n  is set to 128KB, meaning total request size for a multipart/form-data\n  cannot exceed 128KB.</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1197726,"reputation":1225,"user_id":1169093,"display_name":"denzal"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1524773851,"creation_date":1484654208,"answer_id":41696496,"question_id":33232849,"body_markdown":"There is some difference when we define the properties in the `application.yaml` and `application.properties`.\r\n\r\nIn `application.yml`:\r\n\r\n    spring:\r\n      http:\r\n        multipart:\r\n          max-file-size: 256KB\r\n          max-request-size: 256KB\r\n\r\nAnd in `application.propeties`:\r\n\r\n    spring.http.multipart.max-file-size=128KB\r\n    spring.http.multipart.max-request-size=128KB\r\n\r\nNote: Spring version 4.3 and Spring boot 1.4\r\n","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>There is some difference when we define the properties in the <code>application.yaml</code> and <code>application.properties</code>.</p>\n\n<p>In <code>application.yml</code>:</p>\n\n<pre><code>spring:\n  http:\n    multipart:\n      max-file-size: 256KB\n      max-request-size: 256KB\n</code></pre>\n\n<p>And in <code>application.propeties</code>:</p>\n\n<pre><code>spring.http.multipart.max-file-size=128KB\nspring.http.multipart.max-request-size=128KB\n</code></pre>\n\n<p>Note: Spring version 4.3 and Spring boot 1.4</p>\n"},{"tags":[],"owner":{"account_id":893632,"reputation":4602,"user_id":931428,"accept_rate":100,"display_name":"Ondrej Kvasnovsky"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1519268217,"creation_date":1516813610,"answer_id":48428004,"question_id":33232849,"body_markdown":"First, make sure you are using `spring.servlet` instead of `spring.http`.\r\n\r\n    ---\r\n    spring:\r\n      servlet:\r\n        multipart:\r\n          max-file-size: 10MB\r\n          max-request-size: 10MB\r\n\r\nIf you have to use tomcat, you might end up creating [EmbeddedServletContainerCustomizer][1], which is not really nice thing to do.\r\n\r\nIf you can live without tomat, you could [replace tomcat with e.g. undertow][2] and avoid this issue at all. \r\n\r\n\r\n  [1]: https://gist.github.com/dalesupa22/2b5f67afd7a8b3a39714\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html#howto-use-undertow-instead-of-tomcat","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>First, make sure you are using <code>spring.servlet</code> instead of <code>spring.http</code>.</p>\n\n<pre><code>---\nspring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre>\n\n<p>If you have to use tomcat, you might end up creating <a href=\"https://gist.github.com/dalesupa22/2b5f67afd7a8b3a39714\" rel=\"noreferrer\">EmbeddedServletContainerCustomizer</a>, which is not really nice thing to do.</p>\n\n<p>If you can live without tomat, you could <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html#howto-use-undertow-instead-of-tomcat\" rel=\"noreferrer\">replace tomcat with e.g. undertow</a> and avoid this issue at all. </p>\n"},{"tags":[],"owner":{"account_id":7588768,"reputation":371,"user_id":5757025,"display_name":"Fabi Ko"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1534859617,"creation_date":1534859617,"answer_id":51950313,"question_id":33232849,"body_markdown":"If you are using using *x-www-form-urlencoded* mediatype in your POST requests (as I do), the multipart property of spring-boot does not work. If your spring-boot application is also starting a tomcat, you need to set the following property in your application.properties file:&lt;p&gt;\r\n\r\n    # Setting max size of post requests to 6MB (default: 2MB)\r\n    server.tomcat.max-http-post-size=6291456\r\n\r\nI could not find that information anywhere in the spring-boot documentations. Hope it helps anybody who also sticks with *x-www-form-urlencoded* encoding of the body.","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>If you are using using <em>x-www-form-urlencoded</em> mediatype in your POST requests (as I do), the multipart property of spring-boot does not work. If your spring-boot application is also starting a tomcat, you need to set the following property in your application.properties file:<p></p>\n\n<pre><code># Setting max size of post requests to 6MB (default: 2MB)\nserver.tomcat.max-http-post-size=6291456\n</code></pre>\n\n<p>I could not find that information anywhere in the spring-boot documentations. Hope it helps anybody who also sticks with <em>x-www-form-urlencoded</em> encoding of the body.</p>\n"},{"tags":[],"owner":{"account_id":8681845,"reputation":143,"user_id":6497440,"accept_rate":50,"display_name":"spiritworld"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550672707,"creation_date":1550672707,"answer_id":54788598,"question_id":33232849,"body_markdown":"None of the solutions did work for me and most of them are just downright offtopic because OP is talking about **maxPostSize**, and not **maxFileSize** (latter gives you a different error anyway if the size is exceeded)\r\n\r\nSolution: in /tomcat/conf/server.xml add maxPostSize=&quot;&lt;maxBytes&gt;&quot; attribute to Connector\r\n\r\n   \r\n    &lt;!-- A &quot;Connector&quot; represents an endpoint by which requests are received\r\n         and responses are returned. Documentation at :\r\n         Java HTTP Connector: /docs/config/http.html (blocking &amp; non-blocking)\r\n         Java AJP  Connector: /docs/config/ajp.html\r\n         APR (HTTP/AJP) Connector: /docs/apr.html\r\n         Define a non-SSL/TLS HTTP/1.1 Connector on port 8080\r\n    --&gt;\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n\t\t\t   maxPostSize=&quot;10485760&quot;\r\n               redirectPort=&quot;8443&quot; /&gt;","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>None of the solutions did work for me and most of them are just downright offtopic because OP is talking about <strong>maxPostSize</strong>, and not <strong>maxFileSize</strong> (latter gives you a different error anyway if the size is exceeded)</p>\n\n<p>Solution: in /tomcat/conf/server.xml add maxPostSize=\"\" attribute to Connector</p>\n\n<pre><code>&lt;!-- A \"Connector\" represents an endpoint by which requests are received\n     and responses are returned. Documentation at :\n     Java HTTP Connector: /docs/config/http.html (blocking &amp; non-blocking)\n     Java AJP  Connector: /docs/config/ajp.html\n     APR (HTTP/AJP) Connector: /docs/apr.html\n     Define a non-SSL/TLS HTTP/1.1 Connector on port 8080\n--&gt;\n&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\"\n           connectionTimeout=\"20000\"\n           maxPostSize=\"10485760\"\n           redirectPort=\"8443\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10984355,"reputation":2450,"user_id":8070554,"display_name":"Steve Banton"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1584552995,"creation_date":1566592760,"answer_id":57632752,"question_id":33232849,"body_markdown":"# Apply settings for Tomcat as well as servlet\r\n\r\nYou can set the max post size for Tomcat in `application.properties` which is set with an int as below. Just setting `spring.servlet.multipart.max-request-size=10MB`, as in some other answers, may not be enough. \r\n\r\n    # Web properties\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\n    # Server properties\r\n    server.tomcat.max-http-post-size=100000000\r\n    server.tomcat.max-swallow-size=100000000\r\n\r\nWorking with Spring Boot `2.0.5.RELEASE`","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<h1>Apply settings for Tomcat as well as servlet</h1>\n\n<p>You can set the max post size for Tomcat in <code>application.properties</code> which is set with an int as below. Just setting <code>spring.servlet.multipart.max-request-size=10MB</code>, as in some other answers, may not be enough. </p>\n\n<pre><code># Web properties\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n\n# Server properties\nserver.tomcat.max-http-post-size=100000000\nserver.tomcat.max-swallow-size=100000000\n</code></pre>\n\n<p>Working with Spring Boot <code>2.0.5.RELEASE</code></p>\n"},{"tags":[],"owner":{"account_id":16604472,"reputation":41,"user_id":11999314,"display_name":"user11999314"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567167246,"creation_date":1567167246,"answer_id":57726560,"question_id":33232849,"body_markdown":"For me nothing of previous works (maybe use application with yaml is an issue here), but get ride of that issue using that:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.MultipartConfigFactory;\r\n    import org.springframework.boot.web.servlet.ServletComponentScan;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.util.unit.DataSize;\r\n    \r\n    import javax.servlet.MultipartConfigElement;\r\n    \r\n    @ServletComponentScan\r\n    @SpringBootApplication\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        MultipartConfigElement multipartConfigElement() {\r\n            MultipartConfigFactory factory = new MultipartConfigFactory();\r\n            factory.setMaxFileSize(DataSize.ofBytes(512000000L));\r\n            factory.setMaxRequestSize(DataSize.ofBytes(512000000L));\r\n            return factory.createMultipartConfig();\r\n        }\r\n    }","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>For me nothing of previous works (maybe use application with yaml is an issue here), but get ride of that issue using that:</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.MultipartConfigFactory;\nimport org.springframework.boot.web.servlet.ServletComponentScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.util.unit.DataSize;\n\nimport javax.servlet.MultipartConfigElement;\n\n@ServletComponentScan\n@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n    @Bean\n    MultipartConfigElement multipartConfigElement() {\n        MultipartConfigFactory factory = new MultipartConfigFactory();\n        factory.setMaxFileSize(DataSize.ofBytes(512000000L));\n        factory.setMaxRequestSize(DataSize.ofBytes(512000000L));\n        return factory.createMultipartConfig();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3202835"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575200933,"creation_date":1575200933,"answer_id":59125212,"question_id":33232849,"body_markdown":"This worked for me with Tomcat 8\r\n\r\n    MBeanServer mbeanServer = ManagementFactory.getPlatformMBeanServer();\r\n    ObjectName objectName = new ObjectName(&quot;Catalina:type=Connector,port=&quot; + 8080);\r\n    mbeanServer.setAttribute(objectName, new Attribute(&quot;maxPostSize&quot;, 100000000));","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>This worked for me with Tomcat 8</p>\n\n<pre><code>MBeanServer mbeanServer = ManagementFactory.getPlatformMBeanServer();\nObjectName objectName = new ObjectName(\"Catalina:type=Connector,port=\" + 8080);\nmbeanServer.setAttribute(objectName, new Attribute(\"maxPostSize\", 100000000));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3547973,"reputation":1492,"user_id":2963436,"accept_rate":40,"display_name":"Maayan Hope"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582791619,"creation_date":1582791266,"answer_id":60428855,"question_id":33232849,"body_markdown":"For me this worked in yaml\r\n\r\n    spring:\r\n        profiles: ....\r\n        application:\r\n            name:&quot;....&quot;\r\n        http:\r\n            multipart:\r\n                max-file-size: 2147483648\r\n                max-request-size: 2147483648","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>For me this worked in yaml</p>\n\n<pre><code>spring:\n    profiles: ....\n    application:\n        name:\"....\"\n    http:\n        multipart:\n            max-file-size: 2147483648\n            max-request-size: 2147483648\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589955874,"creation_date":1589955874,"answer_id":61906449,"question_id":33232849,"body_markdown":"The error here is **not** caused by `max-file-size` or `max-request-size` ([as pointed out][1]) but rather the container-specific max-http-post-size property. For tomcat (the default container), you can set:\r\n\r\n    server.tomcat.max-http-post-size: 10MB\r\n\r\nJetty:\r\n\r\n    server.jetty.max-http-post-size: 10MB\r\n\r\nUndertow:\r\n\r\n    server.undertow.max-http-post-size: 10MB\r\n\r\nThis has the same effect as OP&#39;s answer [here][2], but via application.properties which is much more preferable.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54788598/1615903\r\n  [2]: https://stackoverflow.com/a/33726892/1615903","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>The error here is <strong>not</strong> caused by <code>max-file-size</code> or <code>max-request-size</code> (<a href=\"https://stackoverflow.com/a/54788598/1615903\">as pointed out</a>) but rather the container-specific max-http-post-size property. For tomcat (the default container), you can set:</p>\n\n<pre><code>server.tomcat.max-http-post-size: 10MB\n</code></pre>\n\n<p>Jetty:</p>\n\n<pre><code>server.jetty.max-http-post-size: 10MB\n</code></pre>\n\n<p>Undertow:</p>\n\n<pre><code>server.undertow.max-http-post-size: 10MB\n</code></pre>\n\n<p>This has the same effect as OP's answer <a href=\"https://stackoverflow.com/a/33726892/1615903\">here</a>, but via application.properties which is much more preferable.</p>\n"},{"tags":[],"owner":{"account_id":16168836,"reputation":21,"user_id":11673099,"display_name":"DEV10"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593647375,"creation_date":1593647375,"answer_id":62686895,"question_id":33232849,"body_markdown":"In Spring Boot &gt;2 version, you can simply add following to the &quot;application.properties&quot; file:\r\n\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=20MB\r\n\r\n","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>In Spring Boot &gt;2 version, you can simply add following to the &quot;application.properties&quot; file:</p>\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=20MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2192963,"reputation":143,"user_id":1939477,"display_name":"Lokesh Guru"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1682433868,"creation_date":1603124653,"answer_id":64431442,"question_id":33232849,"body_markdown":"I was facing kind a similar issue. Where the Error I recieved is -\r\n\r\n     &quot;IllegalStateException multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector&quot;\r\n**Solution**\r\nI have applied following property, Where using **max-http-form-post-size** property did actually worked for me  -\r\n\r\n    server:\r\n      tomcat:\r\n        max-http-form-post-size: 100000000\r\n        max-swallow-size: 100000000\r\n\r\n\r\nAlong with - \r\n\r\n    spring:\r\n      servlet:\r\n        multipart:\r\n          maxFileSize: 10MB\r\n          maxRequestSize: 10MB\r\n\r\n\r\n\r\nAbove configuration worked properly.","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>I was facing kind a similar issue. Where the Error I recieved is -</p>\n<pre><code> &quot;IllegalStateException multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector&quot;\n</code></pre>\n<p><strong>Solution</strong>\nI have applied following property, Where using <strong>max-http-form-post-size</strong> property did actually worked for me  -</p>\n<pre><code>server:\n  tomcat:\n    max-http-form-post-size: 100000000\n    max-swallow-size: 100000000\n</code></pre>\n<p>Along with -</p>\n<pre><code>spring:\n  servlet:\n    multipart:\n      maxFileSize: 10MB\n      maxRequestSize: 10MB\n</code></pre>\n<p>Above configuration worked properly.</p>\n"},{"tags":[],"owner":{"account_id":8325076,"reputation":61,"user_id":6255389,"display_name":"mkboel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624458073,"creation_date":1624452701,"answer_id":68100202,"question_id":33232849,"body_markdown":"Spring-boot 2.2.x has changed \r\n\r\n    server.tomcat.max-http-post-size \r\n\r\nto\r\n\r\n    server.tomcat.max-http-form-post-size\r\n\r\n[spring-boot-issue][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/18521#issuecomment-541166463","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>Spring-boot 2.2.x has changed</p>\n<pre><code>server.tomcat.max-http-post-size \n</code></pre>\n<p>to</p>\n<pre><code>server.tomcat.max-http-form-post-size\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/18521#issuecomment-541166463\" rel=\"noreferrer\">spring-boot-issue</a></p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655790465,"creation_date":1655789157,"answer_id":72695726,"question_id":33232849,"body_markdown":"I have tried every property and solution mentioned here. Nothing works with SpringBoot 2.7.0 for me when running `./gradlew bootRun`.\r\n\r\nWhat I ended up doing was adding a custom filter.\r\n\r\n```java\r\npublic class Application\r\n{\r\n   private static final int DEFAULT_LIMIT = 10 * 1024 * 1024;\r\n\r\n   public static void main(String[] args)\r\n   {\r\n      SpringApplication.run(Application.class, args);\r\n   }\r\n\r\n   @Bean\r\n   public FilterRegistrationBean&lt;RequestBodyLimitFilter&gt; createRequestBodyLimitFilter(\r\n         @Value(&quot;${PAYLOAD_LIMIT:&quot; + DEFAULT_LIMIT + &quot;}&quot;) Integer limitBytes)\r\n   {\r\n      FilterRegistrationBean&lt;RequestBodyLimitFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\r\n      registration.setFilter(new RequestBodyLimitFilter(limitBytes));\r\n      registration.setName(&quot;RequestBodyLimitFilter&quot;);\r\n      return registration;\r\n   }\r\n}\r\n```\r\n\r\nAnd `RequestBodyLimitFilter`:\r\n\r\n````java\r\npublic class RequestBodyLimitFilter implements Filter\r\n{\r\n   private static Logger LOG = Logger.getLogger(RequestBodyLimitFilter.class.getName());\r\n   private final Integer limitBytes;\r\n\r\n   public RequestBodyLimitFilter(Integer limitBytes)\r\n   {\r\n      this.limitBytes = limitBytes;\r\n   }\r\n\r\n   @Override\r\n   public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\r\n   {\r\n      long contentLengthLong = request.getContentLengthLong();\r\n      if (contentLengthLong &gt; limitBytes)\r\n      {\r\n         LOG.info(&quot;Received &quot; + contentLengthLong + &quot; limit is &quot; + limitBytes);\r\n         HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n         httpServletResponse.setStatus(HttpServletResponse.SC_REQUEST_ENTITY_TOO_LARGE);\r\n         return;\r\n      }\r\n      chain.doFilter(request, response);\r\n   }\r\n}\r\n```","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>I have tried every property and solution mentioned here. Nothing works with SpringBoot 2.7.0 for me when running <code>./gradlew bootRun</code>.</p>\n<p>What I ended up doing was adding a custom filter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application\n{\n   private static final int DEFAULT_LIMIT = 10 * 1024 * 1024;\n\n   public static void main(String[] args)\n   {\n      SpringApplication.run(Application.class, args);\n   }\n\n   @Bean\n   public FilterRegistrationBean&lt;RequestBodyLimitFilter&gt; createRequestBodyLimitFilter(\n         @Value(&quot;${PAYLOAD_LIMIT:&quot; + DEFAULT_LIMIT + &quot;}&quot;) Integer limitBytes)\n   {\n      FilterRegistrationBean&lt;RequestBodyLimitFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n      registration.setFilter(new RequestBodyLimitFilter(limitBytes));\n      registration.setName(&quot;RequestBodyLimitFilter&quot;);\n      return registration;\n   }\n}\n</code></pre>\n<p>And <code>RequestBodyLimitFilter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RequestBodyLimitFilter implements Filter\n{\n   private static Logger LOG = Logger.getLogger(RequestBodyLimitFilter.class.getName());\n   private final Integer limitBytes;\n\n   public RequestBodyLimitFilter(Integer limitBytes)\n   {\n      this.limitBytes = limitBytes;\n   }\n\n   @Override\n   public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\n   {\n      long contentLengthLong = request.getContentLengthLong();\n      if (contentLengthLong &gt; limitBytes)\n      {\n         LOG.info(&quot;Received &quot; + contentLengthLong + &quot; limit is &quot; + limitBytes);\n         HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n         httpServletResponse.setStatus(HttpServletResponse.SC_REQUEST_ENTITY_TOO_LARGE);\n         return;\n      }\n      chain.doFilter(request, response);\n   }\n}\n```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662794453,"creation_date":1662794453,"answer_id":73670016,"question_id":33232849,"body_markdown":"Since this is the first result in Google and none of the answers has the full correct answer for Spring 2.7.x and beyond, this is what adding to `application.properties` fixed it for me:\r\n\r\n    # Max file size.\r\n    spring.servlet.multipart.max-file-size=5MB\r\n    # Max request size.\r\n    spring.servlet.multipart.max-request-size=10MB\r\n    \r\n    # Tomcat properties\r\n    server.tomcat.max-http-form-post-size=10MB\r\n    server.tomcat.max-swallow-size=10MB\r\n","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>Since this is the first result in Google and none of the answers has the full correct answer for Spring 2.7.x and beyond, this is what adding to <code>application.properties</code> fixed it for me:</p>\n<pre><code># Max file size.\nspring.servlet.multipart.max-file-size=5MB\n# Max request size.\nspring.servlet.multipart.max-request-size=10MB\n\n# Tomcat properties\nserver.tomcat.max-http-form-post-size=10MB\nserver.tomcat.max-swallow-size=10MB\n</code></pre>\n"}],"owner":{"account_id":5931478,"reputation":1895,"user_id":4665781,"accept_rate":77,"display_name":"Jordan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160436,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":33726892,"answer_count":17,"score":73,"last_activity_date":1682433868,"creation_date":1445333168,"question_id":33232849,"body_markdown":"I&#39;ve got a fairly simple Spring Boot web application, I have a single HTML page with a form with `enctype=&quot;multipart/form-data&quot;`. I&#39;m getting this error:\r\n\r\n&gt;The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector.\r\n\r\nI&#39;m using Spring Boot&#39;s default embedded tomcat server. Apparently the default `maxPostSize` value is 2 megabytes. Is there any way to edit this value? Doing so via `application.properties` would be best, rather than having to create customized beans or mess with xml files.","title":"Increase HTTP Post maxPostSize in Spring Boot","body":"<p>I've got a fairly simple Spring Boot web application, I have a single HTML page with a form with <code>enctype=\"multipart/form-data\"</code>. I'm getting this error:</p>\n\n<blockquote>\n  <p>The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector.</p>\n</blockquote>\n\n<p>I'm using Spring Boot's default embedded tomcat server. Apparently the default <code>maxPostSize</code> value is 2 megabytes. Is there any way to edit this value? Doing so via <code>application.properties</code> would be best, rather than having to create customized beans or mess with xml files.</p>\n"},{"tags":["java","grails","amazon-web-services","amazon-s3","jclouds"],"answers":[{"tags":[],"owner":{"account_id":21925,"reputation":46055,"user_id":53686,"accept_rate":92,"display_name":"E.J. Brennan"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1442563259,"creation_date":1442563259,"answer_id":32646827,"question_id":32646646,"body_markdown":"You can&#39;t:\r\n\r\n&gt; Each Amazon S3 object has data, a key, and metadata. Object key (or\r\n&gt; key name) uniquely identifies the object in a bucket. Object metadata\r\n&gt; is a set of name-value pairs. You can set object metadata at the time\r\n&gt; you upload it. **After you upload the object, you cannot modify object\r\n&gt; metadata. The only way to modify object metadata is to make a copy of\r\n&gt; the object and set the metadata.**\r\n\r\nhttp://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>You can't:</p>\n\n<blockquote>\n  <p>Each Amazon S3 object has data, a key, and metadata. Object key (or\n  key name) uniquely identifies the object in a bucket. Object metadata\n  is a set of name-value pairs. You can set object metadata at the time\n  you upload it. <strong>After you upload the object, you cannot modify object\n  metadata. The only way to modify object metadata is to make a copy of\n  the object and set the metadata.</strong></p>\n</blockquote>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html</a></p>\n"},{"tags":[],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1470913426,"creation_date":1470913426,"answer_id":38894571,"question_id":32646646,"body_markdown":"It is possible to change the metadata by performing an object copy (see https://stackoverflow.com/questions/11847179/how-to-update-metadata-using-amazon-s3-sdk):\r\n\r\n    ObjectMetadata metadataCopy = new ObjectMetadata();\r\n    // copy previous metadata\r\n    metadataCopy.addUserMetadata(&quot;newmetadata&quot;, &quot;newmetadatavalue&quot;);\r\n    \r\n    CopyObjectRequest request = new CopyObjectRequest(bucketName, existingKey, bucketName, existingKey)\r\n          .withNewObjectMetadata(metadataCopy);\r\n    \r\n    amazonS3Client.copyObject(request);\r\n\r\nWhether this is philosophically an &quot;update&quot; is up to you to decide.","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>It is possible to change the metadata by performing an object copy (see <a href=\"https://stackoverflow.com/questions/11847179/how-to-update-metadata-using-amazon-s3-sdk\">How to update metadata using Amazon S3 SDK</a>):</p>\n\n<pre><code>ObjectMetadata metadataCopy = new ObjectMetadata();\n// copy previous metadata\nmetadataCopy.addUserMetadata(\"newmetadata\", \"newmetadatavalue\");\n\nCopyObjectRequest request = new CopyObjectRequest(bucketName, existingKey, bucketName, existingKey)\n      .withNewObjectMetadata(metadataCopy);\n\namazonS3Client.copyObject(request);\n</code></pre>\n\n<p>Whether this is philosophically an \"update\" is up to you to decide.</p>\n"},{"tags":[],"owner":{"account_id":2906891,"reputation":1720,"user_id":2491961,"display_name":"robnick"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1519877092,"creation_date":1519877092,"answer_id":49042440,"question_id":32646646,"body_markdown":"As at March 2018, the latest version of the AWS SDK for .NET Core has changed. It now uses asynchronous programming. Many of the method signatures have changed. While you still cannot change metadata without the object copy solution that Dan has suggested, the code to do so has. \r\n\r\nMy solution is to update the existing S3 object with the modified metadata.\r\n\r\nThe following works for me to update a single metadata value (based on key and new value). I&#39;ve got two loops for setting the metadata but it could be optimised to just have one:\r\n\r\n    string fileContents = string.Empty;\r\n    Dictionary&lt;string, string&gt; fileMetaData = null;\r\n        \r\n    GetObjectRequest request = new GetObjectRequest\r\n    {\r\n      BucketName = bucketName,\r\n      Key = setKeyName\r\n    };\r\n        \r\n    var response = await s3Client.GetObjectAsync(request);\r\n        \r\n    // Read the contents of the file\r\n    using (var stream = response.ResponseStream)\r\n    {\r\n      // Get file contents\r\n      TextReader tr = new StreamReader(stream);\r\n      fileContents = tr.ReadToEnd();\r\n    }\r\n        \r\n    // Create the File Metadata collection\r\n    fileMetaData = new Dictionary&lt;string, string&gt;();\r\n    foreach (string metadataKey in response.Metadata.Keys)\r\n    {\r\n      fileMetaData.Add(metadataKey, response.Metadata[metadataKey]);\r\n    }\r\n        \r\n    // Update the metadata value (key to update, new value)\r\n    fileMetaData[metaDataKeyToUpdate] = metaDataNewValue;\r\n    \r\n    // Update the existing S3 object    \r\n    PutObjectRequest putRequest1 = new PutObjectRequest\r\n    {\r\n      BucketName = bucketName,\r\n      Key = setKeyName,\r\n      ContentBody = fileContents\r\n    };\r\n    \r\n    // Set the metadata\r\n    foreach (string metadataKey in response.Metadata.Keys)\r\n    {\r\n      putRequest1.Metadata.Add(metadataKey, fileMetaData[metadataKey]);\r\n    }\r\n        \r\n    PutObjectResponse response1 = await s3Client.PutObjectAsync(putRequest1);\r\n\r\n","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>As at March 2018, the latest version of the AWS SDK for .NET Core has changed. It now uses asynchronous programming. Many of the method signatures have changed. While you still cannot change metadata without the object copy solution that Dan has suggested, the code to do so has. </p>\n\n<p>My solution is to update the existing S3 object with the modified metadata.</p>\n\n<p>The following works for me to update a single metadata value (based on key and new value). I've got two loops for setting the metadata but it could be optimised to just have one:</p>\n\n<pre><code>string fileContents = string.Empty;\nDictionary&lt;string, string&gt; fileMetaData = null;\n\nGetObjectRequest request = new GetObjectRequest\n{\n  BucketName = bucketName,\n  Key = setKeyName\n};\n\nvar response = await s3Client.GetObjectAsync(request);\n\n// Read the contents of the file\nusing (var stream = response.ResponseStream)\n{\n  // Get file contents\n  TextReader tr = new StreamReader(stream);\n  fileContents = tr.ReadToEnd();\n}\n\n// Create the File Metadata collection\nfileMetaData = new Dictionary&lt;string, string&gt;();\nforeach (string metadataKey in response.Metadata.Keys)\n{\n  fileMetaData.Add(metadataKey, response.Metadata[metadataKey]);\n}\n\n// Update the metadata value (key to update, new value)\nfileMetaData[metaDataKeyToUpdate] = metaDataNewValue;\n\n// Update the existing S3 object    \nPutObjectRequest putRequest1 = new PutObjectRequest\n{\n  BucketName = bucketName,\n  Key = setKeyName,\n  ContentBody = fileContents\n};\n\n// Set the metadata\nforeach (string metadataKey in response.Metadata.Keys)\n{\n  putRequest1.Metadata.Add(metadataKey, fileMetaData[metadataKey]);\n}\n\nPutObjectResponse response1 = await s3Client.PutObjectAsync(putRequest1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366083,"reputation":3251,"user_id":711401,"accept_rate":79,"display_name":"styks"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1561478245,"creation_date":1561478245,"answer_id":56757936,"question_id":32646646,"body_markdown":"**PHP Example**\r\n\r\nI understand this question was not PHP specific, but it may help someone as it is a top result on Google.\r\n\r\nThis will overwrite the existing object.\r\n\r\n```php\r\n$client = new \\Aws\\S3\\S3Client([\r\n    &#39;version&#39; =&gt; &#39;2006-03-01&#39;,\r\n    &#39;region&#39; =&gt; &#39;BUCKET-REGION&#39;\r\n]);\r\n\r\n$updateResponse = $client-&gt;copyObject([\r\n    &#39;Key&#39; =&gt; &#39;OBJECTKEY&#39;,\r\n    &#39;Bucket&#39; =&gt;  &#39;MYBUCKET&#39;,\r\n    &#39;CopySource&#39; =&gt; &#39;MYBUCKET/OBJECTKEY&#39;,\r\n    &#39;MetadataDirective&#39; =&gt; &#39;REPLACE&#39;,\r\n    &#39;Metadata&#39; =&gt; [\r\n        &#39;width&#39; =&gt; 441,\r\n        &#39;height&#39; =&gt; 189\r\n    ]\r\n]);\r\n```\r\n\r\n[![The Content Type was an existing metadata item][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AMG6o.png","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p><strong>PHP Example</strong></p>\n\n<p>I understand this question was not PHP specific, but it may help someone as it is a top result on Google.</p>\n\n<p>This will overwrite the existing object.</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$client = new \\Aws\\S3\\S3Client([\n    'version' =&gt; '2006-03-01',\n    'region' =&gt; 'BUCKET-REGION'\n]);\n\n$updateResponse = $client-&gt;copyObject([\n    'Key' =&gt; 'OBJECTKEY',\n    'Bucket' =&gt;  'MYBUCKET',\n    'CopySource' =&gt; 'MYBUCKET/OBJECTKEY',\n    'MetadataDirective' =&gt; 'REPLACE',\n    'Metadata' =&gt; [\n        'width' =&gt; 441,\n        'height' =&gt; 189\n    ]\n]);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AMG6o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AMG6o.png\" alt=\"The Content Type was an existing metadata item\"></a></p>\n"},{"tags":[],"owner":{"account_id":1880471,"reputation":618,"user_id":1700797,"display_name":"John Lindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576257049,"creation_date":1576257049,"answer_id":59327055,"question_id":32646646,"body_markdown":"In my case, I care about the object versions, and copying creates a new version.  I decided to create a parallel, &quot;hidden&quot; object with the mutable metadata.  For example, if I have `/foo/bar/baz`, then I would create `/foo/bar/.baz`.","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>In my case, I care about the object versions, and copying creates a new version.  I decided to create a parallel, \"hidden\" object with the mutable metadata.  For example, if I have <code>/foo/bar/baz</code>, then I would create <code>/foo/bar/.baz</code>.</p>\n"},{"tags":[],"owner":{"account_id":238673,"reputation":28952,"user_id":507721,"accept_rate":78,"display_name":"JellicleCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613525045,"creation_date":1613523777,"answer_id":66234368,"question_id":32646646,"body_markdown":"As stated in other answers, a &quot;copy&quot; request can be made which overwrites the existing record.\r\n\r\n## Ruby example\r\n```ruby\r\ns3_client.copy_object({\r\n  bucket: BUCKET, # Destination\r\n  key: KEY, # Destination\r\n  copy_source: &quot;/#{BUCKET}/#{KEY}&quot;, # Source\r\n  content_type: &quot;text/html; charset=utf8&quot;, # Metadata update\r\n  metadata_directive: &quot;REPLACE&quot;\r\n})\r\n```","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>As stated in other answers, a &quot;copy&quot; request can be made which overwrites the existing record.</p>\n<h2>Ruby example</h2>\n<pre class=\"lang-rb prettyprint-override\"><code>s3_client.copy_object({\n  bucket: BUCKET, # Destination\n  key: KEY, # Destination\n  copy_source: &quot;/#{BUCKET}/#{KEY}&quot;, # Source\n  content_type: &quot;text/html; charset=utf8&quot;, # Metadata update\n  metadata_directive: &quot;REPLACE&quot;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2724098,"reputation":572,"user_id":2349668,"accept_rate":41,"display_name":"Damaon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666194522,"creation_date":1666194522,"answer_id":74128299,"question_id":32646646,"body_markdown":"I had to do it recently and used JS for that:\r\n```\r\nconst {\r\n  S3Client,\r\n  ListObjectsCommand,\r\n  HeadObjectCommand,\r\n  CopyObjectCommand,\r\n} = require(&#39;@aws-sdk/client-s3&#39;);\r\nconst fs = require(&#39;fs&#39;);\r\n\r\nconst client = new S3Client({\r\n  region: &#39;us-west-2&#39;,\r\n});\r\n\r\nconst files = fs.readFileSync(&#39;images.txt&#39;, &#39;utf8&#39;).split(&#39;\\n&#39;);\r\n\r\nasync function run() {\r\n  for (const prefix of files) {\r\n    await fixMetdata(prefix);\r\n  }\r\n}\r\n\r\nconst BUCKET_NAME = &#39;my-bucket&#39;;\r\n\r\nasync function fixMetdata(prefix) {\r\n  // console.error(prefix);\r\n  try {\r\n    const listObjects = new ListObjectsCommand({\r\n      Bucket: BUCKET_NAME,\r\n      Prefix: prefix,\r\n      MaxKeys: 1,\r\n    });\r\n    const data = await client.send(listObjects);\r\n\r\n    if (!data.Contents) return;\r\n\r\n    data.Contents.filter((f) =&gt; f.Key.includes(&#39;.jpg&#39;)).forEach(\r\n      async (file) =&gt; {\r\n        const fileMetadata = await client.send(\r\n          new HeadObjectCommand({ Bucket: BUCKET_NAME, Key: file.Key })\r\n        );\r\n        // console.error(fileMetadata.ContentType);\r\n        if (fileMetadata.ContentType !== &#39;image/jpeg&#39;) {\r\n          const updatedMetadata = await client.send(\r\n            new CopyObjectCommand({\r\n              Bucket: BUCKET_NAME,\r\n              Key: file.Key,\r\n              CopySource: `${BUCKET_NAME}/${file.Key}`,\r\n              MetadataDirective: &#39;REPLACE&#39;,\r\n              ContentType: &#39;image/jpeg&#39;,\r\n            })\r\n          );\r\n          console.log(file.Key);\r\n        }\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.error(&#39;Error&#39;, err);\r\n  }\r\n}\r\n\r\nrun();\r\n```\r\n","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>I had to do it recently and used JS for that:</p>\n<pre><code>const {\n  S3Client,\n  ListObjectsCommand,\n  HeadObjectCommand,\n  CopyObjectCommand,\n} = require('@aws-sdk/client-s3');\nconst fs = require('fs');\n\nconst client = new S3Client({\n  region: 'us-west-2',\n});\n\nconst files = fs.readFileSync('images.txt', 'utf8').split('\\n');\n\nasync function run() {\n  for (const prefix of files) {\n    await fixMetdata(prefix);\n  }\n}\n\nconst BUCKET_NAME = 'my-bucket';\n\nasync function fixMetdata(prefix) {\n  // console.error(prefix);\n  try {\n    const listObjects = new ListObjectsCommand({\n      Bucket: BUCKET_NAME,\n      Prefix: prefix,\n      MaxKeys: 1,\n    });\n    const data = await client.send(listObjects);\n\n    if (!data.Contents) return;\n\n    data.Contents.filter((f) =&gt; f.Key.includes('.jpg')).forEach(\n      async (file) =&gt; {\n        const fileMetadata = await client.send(\n          new HeadObjectCommand({ Bucket: BUCKET_NAME, Key: file.Key })\n        );\n        // console.error(fileMetadata.ContentType);\n        if (fileMetadata.ContentType !== 'image/jpeg') {\n          const updatedMetadata = await client.send(\n            new CopyObjectCommand({\n              Bucket: BUCKET_NAME,\n              Key: file.Key,\n              CopySource: `${BUCKET_NAME}/${file.Key}`,\n              MetadataDirective: 'REPLACE',\n              ContentType: 'image/jpeg',\n            })\n          );\n          console.log(file.Key);\n        }\n      }\n    );\n  } catch (err) {\n    console.error('Error', err);\n  }\n}\n\nrun();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214275,"reputation":261,"user_id":468156,"display_name":"Chris Gilbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682433682,"creation_date":1682433682,"answer_id":76102446,"question_id":32646646,"body_markdown":"I couldn&#39;t find it documented anywhere, but if you are using [Step Functions to make an SDK call to S3][1], you can set metadata like this, using `MetadataDirective` like with PHP and Ruby above (this example shows the parameters for s3:copyObject):\r\n\r\n    {\r\n      &quot;Bucket.$&quot;: &quot;$.bucketName&quot;,\r\n      &quot;CopySource.$&quot;: &quot;$.bucketSourceLocation&quot;,\r\n      &quot;Key.$&quot;: &quot;$.destinationKey&quot;,\r\n      &quot;Acl&quot;: &quot;bucket-owner-full-control&quot;,\r\n      &quot;ServerSideEncryption&quot;: &quot;AES256&quot;,\r\n      &quot;MetadataDirective&quot;: &quot;REPLACE&quot;,\r\n      &quot;Metadata&quot;: {\r\n        &quot;my-metadata.$&quot;: &quot;$.my-metadata&quot;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/step-functions/latest/dg/supported-services-awssdk.html","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>I couldn't find it documented anywhere, but if you are using <a href=\"https://docs.aws.amazon.com/step-functions/latest/dg/supported-services-awssdk.html\" rel=\"nofollow noreferrer\">Step Functions to make an SDK call to S3</a>, you can set metadata like this, using <code>MetadataDirective</code> like with PHP and Ruby above (this example shows the parameters for s3:copyObject):</p>\n<pre><code>{\n  &quot;Bucket.$&quot;: &quot;$.bucketName&quot;,\n  &quot;CopySource.$&quot;: &quot;$.bucketSourceLocation&quot;,\n  &quot;Key.$&quot;: &quot;$.destinationKey&quot;,\n  &quot;Acl&quot;: &quot;bucket-owner-full-control&quot;,\n  &quot;ServerSideEncryption&quot;: &quot;AES256&quot;,\n  &quot;MetadataDirective&quot;: &quot;REPLACE&quot;,\n  &quot;Metadata&quot;: {\n    &quot;my-metadata.$&quot;: &quot;$.my-metadata&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1685884,"reputation":5387,"user_id":1549191,"accept_rate":80,"display_name":"Priyanshu Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62208,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":38894571,"answer_count":8,"score":55,"last_activity_date":1682433682,"creation_date":1442562655,"question_id":32646646,"body_markdown":"I need to update the cache control header in all AmazonS3&#39;s Cloud Files. However, I can&#39;t figure out how I do that using the jclouds API.\r\nI&#39;m using apache jclouds plugin. And I got two related answers:\r\n\r\n - https://stackoverflow.com/questions/22133914/jclouds-how-do-i-update-metadata-for-an-existing-blob\r\n - https://stackoverflow.com/questions/9797276/set-expires-header-for-an-existing-s3-object-using-aws-java-sdk\r\n\r\nThe first answer is suggesting to use SwiftKey Api class which is not available in grails&#39;s jcloud plugin. The second answer is using AWS java sdk for which there is already a grails wrapping plugin https://grails.org/plugin/aws-sdk but it doesn&#39;t support metadata update.","title":"How do I update metadata for an existing Amazon S3 file?","body":"<p>I need to update the cache control header in all AmazonS3's Cloud Files. However, I can't figure out how I do that using the jclouds API.\nI'm using apache jclouds plugin. And I got two related answers:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22133914/jclouds-how-do-i-update-metadata-for-an-existing-blob\">jclouds : how do I update metadata for an existing blob?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9797276/set-expires-header-for-an-existing-s3-object-using-aws-java-sdk\">Set Expires header for an existing S3 object using AWS Java SDK</a></li>\n</ul>\n\n<p>The first answer is suggesting to use SwiftKey Api class which is not available in grails's jcloud plugin. The second answer is using AWS java sdk for which there is already a grails wrapping plugin <a href=\"https://grails.org/plugin/aws-sdk\" rel=\"noreferrer\">https://grails.org/plugin/aws-sdk</a> but it doesn't support metadata update.</p>\n"},{"tags":["java","authentication","security","playframework","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682433497,"creation_date":1682433497,"answer_id":76102418,"question_id":76101720,"body_markdown":"The authorizers listed in the `authorizers` parameter must be all satisfied, meaning they are treated as &quot;AND&quot;.\r\n\r\nIf you want to implement the &quot;OR&quot; logic, you must define a specific authorizer based on the `OrAuthorizer`. Example:\r\n\r\n```java\r\nfinal Config c = new Config(clients);\r\nc.addAuthorizer(&quot;orAuthorizer&quot;,\r\n  OrAuthorizer.or(\r\n    new RequireAnyRoleAuthorizer(&quot;allowRead&quot;),\r\n    new RequireAnyRoleAuthorizer(&quot;AllowRight&quot;)\r\n  )\r\n);\r\nreturn c;\r\n```","title":"pac4j configure authorizers with OR","body":"<p>The authorizers listed in the <code>authorizers</code> parameter must be all satisfied, meaning they are treated as &quot;AND&quot;.</p>\n<p>If you want to implement the &quot;OR&quot; logic, you must define a specific authorizer based on the <code>OrAuthorizer</code>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Config c = new Config(clients);\nc.addAuthorizer(&quot;orAuthorizer&quot;,\n  OrAuthorizer.or(\n    new RequireAnyRoleAuthorizer(&quot;allowRead&quot;),\n    new RequireAnyRoleAuthorizer(&quot;AllowRight&quot;)\n  )\n);\nreturn c;\n</code></pre>\n"}],"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76102418,"answer_count":1,"score":0,"last_activity_date":1682433502,"creation_date":1682429376,"question_id":76101720,"body_markdown":"I am using DirectBearerAuthClient with Authorizes.\r\nAccording to the pac4j default behavior if multiple authorizes aredefined , then all should be stisfied, lets take below example, there are two authorizes and a URL  \r\n\r\nAuthorizer : allowRead, allowRight\r\nURL: /student/action\r\n\r\n#Config Ex1:\r\n```\r\npac4j.security.rules = [\r\n{\r\n    &quot;/student/action&quot; = {\r\n      authorizers = &quot;allowRead,AllowRight&quot;\r\n      clients = &quot;DirectBearerAuthClient&quot;\r\n    }\r\n}\r\n\r\n]\r\n```\r\n\r\n\r\n#Config Ex2:\r\n```\r\npac4j.security.rules = [\r\n{\r\n    &quot;/student/action&quot; = {\r\n      authorizers = &quot;allowRead&quot;\r\n      clients = &quot;DirectBearerAuthClient&quot;\r\n    }\r\n}\r\n\r\n]\r\n```\r\n\r\n\r\nEx1 : both Authorizes should be statisifed &quot;allowRead,AllowRight&quot;\r\nto access the URL, so both should be satisfied\r\n\r\n\r\nEx2 : only one authorized &quot;allowRead&quot; should be satisfied\r\nto access the URL, if user have &quot;allowWrite&quot; instead of &quot;allowReady&quot; then not to access URL\r\n\r\nis it possible to configure Authorize as with &#39;OR&#39; condition , like \r\nauthorizers = &quot;allowRead OR AllowRight&quot;, which mean any user has one to these two \r\nauthorizes can access the URL  , for example to configure something like\r\n\r\n```\r\npac4j.security.rules = [\r\n{\r\n    &quot;/student/action&quot; = {\r\n      authorizers = &quot;allowRead OR AllowRight&quot;\r\n      clients = &quot;DirectBearerAuthClient&quot;\r\n    }\r\n}\r\n\r\n]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"pac4j configure authorizers with OR","body":"<p>I am using DirectBearerAuthClient with Authorizes.\nAccording to the pac4j default behavior if multiple authorizes aredefined , then all should be stisfied, lets take below example, there are two authorizes and a URL</p>\n<p>Authorizer : allowRead, allowRight\nURL: /student/action</p>\n<p>#Config Ex1:</p>\n<pre><code>pac4j.security.rules = [\n{\n    &quot;/student/action&quot; = {\n      authorizers = &quot;allowRead,AllowRight&quot;\n      clients = &quot;DirectBearerAuthClient&quot;\n    }\n}\n\n]\n</code></pre>\n<p>#Config Ex2:</p>\n<pre><code>pac4j.security.rules = [\n{\n    &quot;/student/action&quot; = {\n      authorizers = &quot;allowRead&quot;\n      clients = &quot;DirectBearerAuthClient&quot;\n    }\n}\n\n]\n</code></pre>\n<p>Ex1 : both Authorizes should be statisifed &quot;allowRead,AllowRight&quot;\nto access the URL, so both should be satisfied</p>\n<p>Ex2 : only one authorized &quot;allowRead&quot; should be satisfied\nto access the URL, if user have &quot;allowWrite&quot; instead of &quot;allowReady&quot; then not to access URL</p>\n<p>is it possible to configure Authorize as with 'OR' condition , like\nauthorizers = &quot;allowRead OR AllowRight&quot;, which mean any user has one to these two\nauthorizes can access the URL  , for example to configure something like</p>\n<pre><code>pac4j.security.rules = [\n{\n    &quot;/student/action&quot; = {\n      authorizers = &quot;allowRead OR AllowRight&quot;\n      clients = &quot;DirectBearerAuthClient&quot;\n    }\n}\n\n]\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1682339283,"post_id":76091866,"comment_id":134194457,"body_markdown":"If your code is working and you only want ideas/tipps on how to improve it your question might be a better fit for https://codereview.stackexchange.com","body":"If your code is working and you only want ideas/tipps on how to improve it your question might be a better fit for <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1682346173,"post_id":76091866,"comment_id":134196241,"body_markdown":"What does your string currency look like? I see you are replacing $, etc. Can you share a link to the page?","body":"What does your string currency look like? I see you are replacing $, etc. Can you share a link to the page?"}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682433326,"creation_date":1682361259,"answer_id":76095043,"question_id":76091866,"body_markdown":"There&#39;s a few things I can recommend.\r\n\r\n - You can combine your two loops where you `.getText()` to get the string and then convert the string to a number (with several steps) and just do both in that single loop.\r\n\r\n - Your cleanup of the string and parsing to a number can be simplified. You don&#39;t need to remove the &#39;$&#39; and then process it. You can instead use `NumberFormat.getCurrencyInstance()` and use the currency string directly. This removes the need for `cropAndParseToDecimal()`.\r\n\r\n - You are using `Locale.GERMAN` (the language) when it should be `Locale.GERMANY` (the country). Having said that, you are processing US currency &#39;$&#39; so you actually should be using `Locale.US` when parsing.\r\n\r\n       Number n = NumberFormat.getCurrencyInstance(Locale.US).parse(&quot;$1.00&quot;)\r\n\r\n- You don&#39;t need `BigDecimal`s here since you aren&#39;t writing a bank app, you are just scraping currency strings off the site and validating. Using `Double` here should be fine and go faster.\r\n\r\nRolling all these suggestions up,\r\n\r\n    List&lt;WebElement&gt; productPricesWE = baseMethods.findElements(&quot;ProductListing.ProductPrice&quot;);\r\n    List&lt;Double&gt; productPrices = new ArrayList&lt;&gt;();\r\n    for (WebElement element : productPricesWE) {\r\n        String s = element.getText().trim().replaceAll(&quot;€* &quot;, &quot;&quot;);\r\n        productPrices.add(NumberFormat.getNumberInstance(Locale.GERMANY).parse(s).doubleValue());\r\n    }\r\n\r\n    Assert.assertTrue(Ordering.natural().isOrdered(productPrices));\r\n\r\n-----\r\n\r\nHaving said all that, my guess is that my code is probably 100ms faster than your code which is negligible on any web UI test. I like it slightly better not because it&#39;s faster but some of the functions are simpler and more straightforward.\r\n\r\nRemember the rule, you write code once and read it ten times. Always prefer readable code over lengthy &quot;one-liners&quot; or excessively shortened code.","title":"Verifying if elements are listed in descending/ascending order","body":"<p>There's a few things I can recommend.</p>\n<ul>\n<li><p>You can combine your two loops where you <code>.getText()</code> to get the string and then convert the string to a number (with several steps) and just do both in that single loop.</p>\n</li>\n<li><p>Your cleanup of the string and parsing to a number can be simplified. You don't need to remove the '$' and then process it. You can instead use <code>NumberFormat.getCurrencyInstance()</code> and use the currency string directly. This removes the need for <code>cropAndParseToDecimal()</code>.</p>\n</li>\n<li><p>You are using <code>Locale.GERMAN</code> (the language) when it should be <code>Locale.GERMANY</code> (the country). Having said that, you are processing US currency '$' so you actually should be using <code>Locale.US</code> when parsing.</p>\n<pre><code>Number n = NumberFormat.getCurrencyInstance(Locale.US).parse(&quot;$1.00&quot;)\n</code></pre>\n</li>\n<li><p>You don't need <code>BigDecimal</code>s here since you aren't writing a bank app, you are just scraping currency strings off the site and validating. Using <code>Double</code> here should be fine and go faster.</p>\n</li>\n</ul>\n<p>Rolling all these suggestions up,</p>\n<pre><code>List&lt;WebElement&gt; productPricesWE = baseMethods.findElements(&quot;ProductListing.ProductPrice&quot;);\nList&lt;Double&gt; productPrices = new ArrayList&lt;&gt;();\nfor (WebElement element : productPricesWE) {\n    String s = element.getText().trim().replaceAll(&quot;€* &quot;, &quot;&quot;);\n    productPrices.add(NumberFormat.getNumberInstance(Locale.GERMANY).parse(s).doubleValue());\n}\n\nAssert.assertTrue(Ordering.natural().isOrdered(productPrices));\n</code></pre>\n<hr />\n<p>Having said all that, my guess is that my code is probably 100ms faster than your code which is negligible on any web UI test. I like it slightly better not because it's faster but some of the functions are simpler and more straightforward.</p>\n<p>Remember the rule, you write code once and read it ten times. Always prefer readable code over lengthy &quot;one-liners&quot; or excessively shortened code.</p>\n"}],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76095043,"answer_count":1,"score":0,"last_activity_date":1682433326,"creation_date":1682339166,"question_id":76091866,"body_markdown":"Using Java + Selenium for automation. Task was simple:\r\n- Get all the products (WebElements) from the page to the list **(1)**\r\n- Format data (String to Decimal) **(2)**\r\n- Check if parsed data is in ascending/ descending order **(3)**\r\n\r\nI implemented the solution an it works but in my opinion it can be done much much better &amp; with lower lines of code. \r\n\r\n**1:**\r\n\r\n    List&lt;WebElement&gt; productPricesWE = baseMethods.findElements(&quot;ProductListing.ProductPrice&quot;);\r\nMethod: &quot;findElements&quot; is wrapped - nothing to change here I think)\r\n\r\n**2:** \r\n\r\n    List&lt;WebElement&gt; productPricesWE = baseMethods.findElements(&quot;ProductListing.ProductPrice&quot;);\r\n    List&lt;String&gt; productPricesStringsAsc = new ArrayList&lt;&gt;();\r\n    for (WebElement webElement : productPricesWE) {\r\n        productPricesStringsAsc.add(webElement.getText().trim());\r\n    }\r\n    List&lt;BigDecimal&gt; productPricesDecimalsAsc = new ArrayList&lt;&gt;();\r\n    for (String stringElement : productPricesStringsAsc) {\r\n        productPricesDecimalsAsc.add(HelpersNL.cropAndParseToDecimal(stringElement));\r\n    }\r\n    \r\n    public static BigDecimal cropAndParseToDecimal(final String productPriceAmount) throws ParseException {\r\n        String decimalString = productPriceAmount.replaceAll(&quot;^..|.$&quot;, &quot;&quot;);\r\n        final NumberFormat format = NumberFormat.getNumberInstance(Locale.GERMAN);\r\n        if (format instanceof DecimalFormat) {\r\n            ((DecimalFormat) format).setParseBigDecimal(true);\r\n        }\r\n        return (BigDecimal) format.parse(decimalString);\r\n    }\r\n\r\nI&#39;m rolling through the arrays, create one, loop through then add data to another one. **In my opinion is looks bad and can be done in easier way**\r\n\r\n**3:**\r\n\r\n    Assert.assertTrue(Ordering.natural().isOrdered(productPricesDecimalsAsc));\r\n\r\n Found correct library for assertion and it works correctly.\r\n\r\nCan you give any hints &amp; suggestion how code can be rewritten or changes to make it look better?\r\n","title":"Verifying if elements are listed in descending/ascending order","body":"<p>Using Java + Selenium for automation. Task was simple:</p>\n<ul>\n<li>Get all the products (WebElements) from the page to the list <strong>(1)</strong></li>\n<li>Format data (String to Decimal) <strong>(2)</strong></li>\n<li>Check if parsed data is in ascending/ descending order <strong>(3)</strong></li>\n</ul>\n<p>I implemented the solution an it works but in my opinion it can be done much much better &amp; with lower lines of code.</p>\n<p><strong>1:</strong></p>\n<pre><code>List&lt;WebElement&gt; productPricesWE = baseMethods.findElements(&quot;ProductListing.ProductPrice&quot;);\n</code></pre>\n<p>Method: &quot;findElements&quot; is wrapped - nothing to change here I think)</p>\n<p><strong>2:</strong></p>\n<pre><code>List&lt;WebElement&gt; productPricesWE = baseMethods.findElements(&quot;ProductListing.ProductPrice&quot;);\nList&lt;String&gt; productPricesStringsAsc = new ArrayList&lt;&gt;();\nfor (WebElement webElement : productPricesWE) {\n    productPricesStringsAsc.add(webElement.getText().trim());\n}\nList&lt;BigDecimal&gt; productPricesDecimalsAsc = new ArrayList&lt;&gt;();\nfor (String stringElement : productPricesStringsAsc) {\n    productPricesDecimalsAsc.add(HelpersNL.cropAndParseToDecimal(stringElement));\n}\n\npublic static BigDecimal cropAndParseToDecimal(final String productPriceAmount) throws ParseException {\n    String decimalString = productPriceAmount.replaceAll(&quot;^..|.$&quot;, &quot;&quot;);\n    final NumberFormat format = NumberFormat.getNumberInstance(Locale.GERMAN);\n    if (format instanceof DecimalFormat) {\n        ((DecimalFormat) format).setParseBigDecimal(true);\n    }\n    return (BigDecimal) format.parse(decimalString);\n}\n</code></pre>\n<p>I'm rolling through the arrays, create one, loop through then add data to another one. <strong>In my opinion is looks bad and can be done in easier way</strong></p>\n<p><strong>3:</strong></p>\n<pre><code>Assert.assertTrue(Ordering.natural().isOrdered(productPricesDecimalsAsc));\n</code></pre>\n<p>Found correct library for assertion and it works correctly.</p>\n<p>Can you give any hints &amp; suggestion how code can be rewritten or changes to make it look better?</p>\n"},{"tags":["java","apache-kafka","log4j2","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1555374826,"post_id":55697278,"comment_id":98079851,"body_markdown":"Kafka batches messages. Plus you&#39;re using async appends, so very likely not all messages are flushed to Kafka immediately","body":"Kafka batches messages. Plus you&#39;re using async appends, so very likely not all messages are flushed to Kafka immediately"},{"owner":{"account_id":7094188,"reputation":749,"user_id":5428405,"display_name":"bigskull"},"score":0,"creation_date":1555422825,"post_id":55697278,"comment_id":98100430,"body_markdown":"I removed the async appender but still my log statements are not being pushed to kafka. I updated the sample log message in kafka and console.","body":"I removed the async appender but still my log statements are not being pushed to kafka. I updated the sample log message in kafka and console."},{"owner":{"account_id":7094188,"reputation":749,"user_id":5428405,"display_name":"bigskull"},"score":0,"creation_date":1555507536,"post_id":55697278,"comment_id":98136156,"body_markdown":"I do not see appender being called for log statements. not sure if if i need any additional configuration in my log4j2.xml","body":"I do not see appender being called for log statements. not sure if if i need any additional configuration in my log4j2.xml"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1555515720,"post_id":55697278,"comment_id":98141514,"body_markdown":"Not sure what you&#39;re expecting to see exactly.","body":"Not sure what you&#39;re expecting to see exactly."},{"owner":{"account_id":7094188,"reputation":749,"user_id":5428405,"display_name":"bigskull"},"score":0,"creation_date":1555621472,"post_id":55697278,"comment_id":98183811,"body_markdown":"As i said, i am seeing server startup messages in kafka but not the log messages from the application like log.error or log.info messages are being ignored.","body":"As i said, i am seeing server startup messages in kafka but not the log messages from the application like log.error or log.info messages are being ignored."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1555621598,"post_id":55697278,"comment_id":98183861,"body_markdown":"Your question seems to show `[main] INFO  TestApplication`... Sorry, I don&#39;t follow","body":"Your question seems to show <code>[main] INFO  TestApplication</code>... Sorry, I don&#39;t follow"}],"answers":[{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555897707,"creation_date":1555897707,"answer_id":55788272,"question_id":55697278,"body_markdown":"I think log4j2 already have the Kafka appender. As for me, I added Kafka client in gradle. So no need to add `kafka-log4j-appender`\r\n\r\n    compile group: &#39;org.apache.kafka&#39;, name: &#39;kafka-clients&#39;, version: &#39;2.0.1&#39;\r\n\r\nMaven should be similar","title":"How to write application logs using log4j appender for kafka?","body":"<p>I think log4j2 already have the Kafka appender. As for me, I added Kafka client in gradle. So no need to add <code>kafka-log4j-appender</code></p>\n\n<pre><code>compile group: 'org.apache.kafka', name: 'kafka-clients', version: '2.0.1'\n</code></pre>\n\n<p>Maven should be similar</p>\n"},{"tags":[],"owner":{"account_id":19102222,"reputation":1,"user_id":13950229,"display_name":"vindhya s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595440231,"creation_date":1595440231,"answer_id":63040336,"question_id":55697278,"body_markdown":"you need to exclude the spring-boot-starter-logging as below\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;","title":"How to write application logs using log4j appender for kafka?","body":"<p>you need to exclude the spring-boot-starter-logging as below</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n             &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620456492,"creation_date":1620456492,"answer_id":67444847,"question_id":55697278,"body_markdown":"First you need to remove default providers for logs in your spring boot application inside  your pom.xml file, Which are Logback and perhaps Log-classic then you need to add log4j2 as new log provider and adding Kafka appender.\r\nAfter adding dependencies you need xml configuration file where you can add your Kafka appender configurations.\r\nBy default you need to locate your configuration file in resource path of your project and name it as &quot;log4j2.xml&quot;.\r\n\r\nYou can find many others [Log4j2 appenders][1] like Cassandra or Failover appenders and add them beside your Kafka appender inside your configuration file. You can find an applicable and correct example in below.\r\n\r\n    &lt;!--excluding logback --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n    &lt;!--adding log4j2 and kafka appender--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-log4j-appender&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nKafka appender configuration \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;info&quot; name=&quot;kafka-appender&quot; packages=&quot;Citydi.ElasticDemo&quot;&gt;\r\n\r\n        &lt;Appenders&gt;\r\n\r\n            &lt;Kafka name=&quot;kafkaLogAppender&quot; topic=&quot;Second-Topic&quot;&gt;\r\n                &lt;JSONLayout /&gt;\r\n                &lt;Property name=&quot;bootstrap.servers&quot;&gt;localhost:9092&lt;/Property&gt;\r\n                &lt;MarkerFilter marker=&quot;Recorder&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;/Kafka&gt;\r\n\r\n            &lt;Console name=&quot;stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} stdout %highlight{%-5p} [%-7t] %F:%L - %m%n&quot;/&gt;\r\n                &lt;MarkerFilter marker=&quot;Recorder&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;/Console&gt;\r\n\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;INFO&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;kafkaLogAppender&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;stdout&quot;/&gt;\r\n            &lt;/Root&gt;\r\n            &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;warn&quot; /&gt;\r\n        &lt;/Loggers&gt;\r\n\r\n    &lt;/Configuration&gt;\r\n\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html","title":"How to write application logs using log4j appender for kafka?","body":"<p>First you need to remove default providers for logs in your spring boot application inside  your pom.xml file, Which are Logback and perhaps Log-classic then you need to add log4j2 as new log provider and adding Kafka appender.\nAfter adding dependencies you need xml configuration file where you can add your Kafka appender configurations.\nBy default you need to locate your configuration file in resource path of your project and name it as &quot;log4j2.xml&quot;.</p>\n<p>You can find many others <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">Log4j2 appenders</a> like Cassandra or Failover appenders and add them beside your Kafka appender inside your configuration file. You can find an applicable and correct example in below.</p>\n<pre><code>&lt;!--excluding logback --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n&lt;!--adding log4j2 and kafka appender--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-log4j-appender&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Kafka appender configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;info&quot; name=&quot;kafka-appender&quot; packages=&quot;Citydi.ElasticDemo&quot;&gt;\n\n    &lt;Appenders&gt;\n\n        &lt;Kafka name=&quot;kafkaLogAppender&quot; topic=&quot;Second-Topic&quot;&gt;\n            &lt;JSONLayout /&gt;\n            &lt;Property name=&quot;bootstrap.servers&quot;&gt;localhost:9092&lt;/Property&gt;\n            &lt;MarkerFilter marker=&quot;Recorder&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n        &lt;/Kafka&gt;\n\n        &lt;Console name=&quot;stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} stdout %highlight{%-5p} [%-7t] %F:%L - %m%n&quot;/&gt;\n            &lt;MarkerFilter marker=&quot;Recorder&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n        &lt;/Console&gt;\n\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;kafkaLogAppender&quot;/&gt;\n            &lt;AppenderRef ref=&quot;stdout&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;warn&quot; /&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11806293,"reputation":188,"user_id":8638695,"display_name":"Mohamad Mirzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682433175,"creation_date":1682433175,"answer_id":76102367,"question_id":55697278,"body_markdown":"try this : \r\n\r\n    &lt;appender name=&quot;KAFKA&quot; class=&quot;org.apache.kafka.log4jappender.KafkaLog4jAppender&quot;&gt;\r\n        &lt;param name=&quot;Topic&quot; value=&quot;logs&quot;/&gt;\r\n        &lt;param name=&quot;BrokerList&quot; value=&quot;localhost:9092&quot;/&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;logger name=&quot;org.apache.kafka&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;level value=&quot;INFO&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;KAFKA&quot;/&gt;\r\n    &lt;/logger&gt;","title":"How to write application logs using log4j appender for kafka?","body":"<p>try this :</p>\n<pre><code>&lt;appender name=&quot;KAFKA&quot; class=&quot;org.apache.kafka.log4jappender.KafkaLog4jAppender&quot;&gt;\n    &lt;param name=&quot;Topic&quot; value=&quot;logs&quot;/&gt;\n    &lt;param name=&quot;BrokerList&quot; value=&quot;localhost:9092&quot;/&gt;\n    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot;/&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;org.apache.kafka&quot; additivity=&quot;false&quot;&gt;\n    &lt;level value=&quot;INFO&quot;/&gt;\n    &lt;appender-ref ref=&quot;KAFKA&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n"}],"owner":{"account_id":7094188,"reputation":749,"user_id":5428405,"display_name":"bigskull"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1682433175,"creation_date":1555362515,"question_id":55697278,"body_markdown":"I want to stream my app log messages to kafka using log4j kafka appender.\r\n\r\nMy application is using spring boot and log4j2. \r\n\r\nI am seeing startup log messages in the topic but not the log statements used in the application. \r\n\r\nDid i miss anything in the log4j2 configuration?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;debug&quot; name=&quot;kafka-logs&quot; \r\n    packages=&quot;myapp.kafka.test&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Kafka name=&quot;Kafka&quot; topic=&quot;test-kafka-topic&quot;&gt;\r\n            &lt;JSONLayout /&gt;\r\n\t\t\t&lt;Property name=&quot;bootstrap.servers&quot;&gt;server1,server2&lt;/Property&gt;\r\n        &lt;/Kafka&gt;\r\n        &lt;Async name=&quot;Async&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Kafka&quot;/&gt;\r\n        &lt;/Async&gt;\r\n\r\n        &lt;Console name=&quot;stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5p [%-7t] %F:%L - %m%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Kafka&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;stdout&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;WARN&quot; /&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\npom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-log4j-appender&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nJava Code\r\n\r\n    @SpringBootApplication\r\n    public class TestApplication {\r\n    private static final Logger logger = \r\n    LoggerFactory.getLogger(TestApplication.class);\r\n    public static void main(String[] args) {\r\n      SpringApplication application = new SpringApplication(TestApplication.class);\r\n\t  logger.info(&quot;Before Application Startup&quot;);\r\n      application.run(args);\r\n      logger.info(&quot;After Application Startup&quot;);\r\n    }\r\n    }\r\n\r\nLogs in Kafka:\r\n\r\n      {\r\n      &quot;thread&quot; : &quot;main&quot;,\r\n      &quot;level&quot; : &quot;INFO&quot;,\r\n      &quot;loggerName&quot; : &quot;TestApplication&quot;,\r\n      &quot;message&quot; : &quot;Started TestApplication in 17.19 seconds (JVM running for 22.67)&quot;,\r\n      &quot;endOfBatch&quot; : false,\r\n      &quot;loggerFqcn&quot; : &quot;org.apache.commons.logging.LogFactory$Log4jLog&quot;,\r\n      &quot;instant&quot; : {\r\n      &quot;epochSecond&quot; : 1555422668,\r\n      &quot;nanoOfSecond&quot; : 856000000\r\n    },\r\n    &quot;threadId&quot; : 1,\r\n    &quot;threadPriority&quot; : 5\r\n    }\r\n\r\nConsole output:\r\n\r\n    08:51:08.856 [main] INFO  TestApplication - Started TestApplication in 17.19 seconds (JVM running for 22.67)\r\n    [main] INFO TestApplication - Testing my application from TestApplication\r\n    [main] ERROR TestApplication - Testing my application from TestApplication","title":"How to write application logs using log4j appender for kafka?","body":"<p>I want to stream my app log messages to kafka using log4j kafka appender.</p>\n\n<p>My application is using spring boot and log4j2. </p>\n\n<p>I am seeing startup log messages in the topic but not the log statements used in the application. </p>\n\n<p>Did i miss anything in the log4j2 configuration?</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"debug\" name=\"kafka-logs\" \npackages=\"myapp.kafka.test\"&gt;\n&lt;Appenders&gt;\n    &lt;Kafka name=\"Kafka\" topic=\"test-kafka-topic\"&gt;\n        &lt;JSONLayout /&gt;\n        &lt;Property name=\"bootstrap.servers\"&gt;server1,server2&lt;/Property&gt;\n    &lt;/Kafka&gt;\n    &lt;Async name=\"Async\"&gt;\n        &lt;AppenderRef ref=\"Kafka\"/&gt;\n    &lt;/Async&gt;\n\n    &lt;Console name=\"stdout\" target=\"SYSTEM_OUT\"&gt;\n        &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} %-5p [%-7t] %F:%L - %m%n\"/&gt;\n    &lt;/Console&gt;\n\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=\"INFO\"&gt;\n        &lt;AppenderRef ref=\"Kafka\"/&gt;\n        &lt;AppenderRef ref=\"stdout\"/&gt;\n    &lt;/Root&gt;\n    &lt;Logger name=\"org.apache.kafka\" level=\"WARN\" /&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p></p>\n\n<p>pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-log4j-appender&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Java Code</p>\n\n<pre><code>@SpringBootApplication\npublic class TestApplication {\nprivate static final Logger logger = \nLoggerFactory.getLogger(TestApplication.class);\npublic static void main(String[] args) {\n  SpringApplication application = new SpringApplication(TestApplication.class);\n  logger.info(\"Before Application Startup\");\n  application.run(args);\n  logger.info(\"After Application Startup\");\n}\n}\n</code></pre>\n\n<p>Logs in Kafka:</p>\n\n<pre><code>  {\n  \"thread\" : \"main\",\n  \"level\" : \"INFO\",\n  \"loggerName\" : \"TestApplication\",\n  \"message\" : \"Started TestApplication in 17.19 seconds (JVM running for 22.67)\",\n  \"endOfBatch\" : false,\n  \"loggerFqcn\" : \"org.apache.commons.logging.LogFactory$Log4jLog\",\n  \"instant\" : {\n  \"epochSecond\" : 1555422668,\n  \"nanoOfSecond\" : 856000000\n},\n\"threadId\" : 1,\n\"threadPriority\" : 5\n}\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>08:51:08.856 [main] INFO  TestApplication - Started TestApplication in 17.19 seconds (JVM running for 22.67)\n[main] INFO TestApplication - Testing my application from TestApplication\n[main] ERROR TestApplication - Testing my application from TestApplication\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1682433594,"post_id":76102350,"comment_id":134212803,"body_markdown":"Do not close ```fos.close();``` directly in second code block.  Use ```oos.close()```.  Better, use Java 7 try-with-resources in both code blocks.\n```try(ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;items.dat&quot;)))```.  And just work with `ois`.\nand\n```try(ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;items.dat&quot;)))```.\nAlso, why do you need to check if the file already exists in second block? It has to be overwritten always with fresh data, no?","body":"Do not close <code>fos.close();</code> directly in second code block.  Use <code>oos.close()</code>.  Better, use Java 7 try-with-resources in both code blocks. <code>try(ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;items.dat&quot;)))</code>.  And just work with <code>ois</code>. and <code>try(ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;items.dat&quot;)))</code>. Also, why do you need to check if the file already exists in second block? It has to be overwritten always with fresh data, no?"},{"owner":{"account_id":15439117,"reputation":1,"user_id":11138292,"display_name":"Dayeh"},"score":0,"creation_date":1682435672,"post_id":76102350,"comment_id":134213443,"body_markdown":"Thank you a lot for your answer. After doing all what you have suggested, the problem completely solved. And you are right, no need to check if file exists.","body":"Thank you a lot for your answer. After doing all what you have suggested, the problem completely solved. And you are right, no need to check if file exists."}],"owner":{"account_id":15439117,"reputation":1,"user_id":11138292,"display_name":"Dayeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682433053,"creation_date":1682433053,"question_id":76102350,"body_markdown":"Program goes like this: \r\nFirst, I read objects from a file and store them in ArrayList.\r\n\r\n\r\n```\r\n\t\ttry {\r\n\t\t\tFileInputStream fis = new FileInputStream(&quot;items.dat&quot;);\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(fis);\r\n\t\t\twhile(fis.available() &gt; 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tItem i = (Item) ois.readObject();\r\n\t\t\t\t\titems.add(i);\r\n\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tois.close(); \r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch(IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\r\n\r\n```\r\n\r\nThen I write the objects to the file after editing the objects.\r\n\r\n\r\n```\r\ntry {\r\n\t\t\tboolean exists = new File(&quot;items.dat&quot;).exists();\r\n\t\t\tFileOutputStream fos = new FileOutputStream(&quot;items.dat&quot;);\r\n\t\t\tObjectOutputStream oos = exists ? \r\n\t\t\t\tnew ObjectOutputStream(fos) {\r\n\t\t\t\t\tprotected void writeStreamHeader() throws IOException {\r\n                    \treset();\r\n                }\r\n            }:new ObjectOutputStream(fos);\r\n\r\n\t\t\tfor (Item i : items)\r\n\t\t\t\toos.writeObject(i);\r\n\r\n\t\t\toos.flush();\r\n\t\t\tfos.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\r\n```\r\n\r\nIt works completely fine, until I terminate my java program and reload it again. \r\nI am trying to read the objects again (ones I already written in last session) after running my Java program again,  I immediately get this error: \r\n\r\n\r\n```\r\njava.io.StreamCorruptedException: invalid stream header: 79737200\r\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:987)\r\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:414)\r\n...\r\n...\r\n...\r\n```\r\n\r\nI been trying to fix this for hours now, please help. Thank you!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe program works completely fine in the same session of the running code, the issue is when reloading the java program entirely.","title":"ObjectInputStream corrupted invalid stream header: 79737200 after reloading java program","body":"<p>Program goes like this:\nFirst, I read objects from a file and store them in ArrayList.</p>\n<pre><code>        try {\n            FileInputStream fis = new FileInputStream(&quot;items.dat&quot;);\n            ObjectInputStream ois = new ObjectInputStream(fis);\n            while(fis.available() &gt; 0) {\n                try {\n                    Item i = (Item) ois.readObject();\n                    items.add(i);\n                } catch (ClassNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }\n            ois.close(); \n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch(IOException e) {\n            e.printStackTrace();\n        }   \n\n\n</code></pre>\n<p>Then I write the objects to the file after editing the objects.</p>\n<pre><code>try {\n            boolean exists = new File(&quot;items.dat&quot;).exists();\n            FileOutputStream fos = new FileOutputStream(&quot;items.dat&quot;);\n            ObjectOutputStream oos = exists ? \n                new ObjectOutputStream(fos) {\n                    protected void writeStreamHeader() throws IOException {\n                        reset();\n                }\n            }:new ObjectOutputStream(fos);\n\n            for (Item i : items)\n                oos.writeObject(i);\n\n            oos.flush();\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n\n</code></pre>\n<p>It works completely fine, until I terminate my java program and reload it again.\nI am trying to read the objects again (ones I already written in last session) after running my Java program again,  I immediately get this error:</p>\n<pre><code>java.io.StreamCorruptedException: invalid stream header: 79737200\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:987)\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:414)\n...\n...\n...\n</code></pre>\n<p>I been trying to fix this for hours now, please help. Thank you!</p>\n<p>The program works completely fine in the same session of the running code, the issue is when reloading the java program entirely.</p>\n"},{"tags":["java","android","database"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682433234,"post_id":76102309,"comment_id":134212694,"body_markdown":"Do not use double slashes. One is enough.","body":"Do not use double slashes. One is enough."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682433401,"post_id":76102309,"comment_id":134212736,"body_markdown":"`&quot;//data//com.oz.levi//&quot;` You mean: `&quot;/data/data/com.oz.levi/&quot;`. But have a look at getFilesDir().","body":"<code>&quot;&#47;&#47;data&#47;&#47;com.oz.levi&#47;&#47;&quot;</code> You mean: <code>&quot;&#47;data&#47;data&#47;com.oz.levi&#47;&quot;</code>. But have a look at getFilesDir()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682433501,"post_id":76102309,"comment_id":134212770,"body_markdown":"Use new File(path).exists() before you use a path then you will see that all your paths are wrong.","body":"Use new File(path).exists() before you use a path then you will see that all your paths are wrong."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682433562,"post_id":76102309,"comment_id":134212793,"body_markdown":"You are not telling about exceptions.","body":"You are not telling about exceptions."}],"owner":{"account_id":28184780,"reputation":1,"user_id":21541180,"display_name":"Oz Levi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682432821,"creation_date":1682432821,"question_id":76102309,"body_markdown":"I&#39;m trying to allow my app&#39;s data to be transferred from one phone to another.\r\n\r\nThe content of the application is backed up by Google&#39;s backup, this backup:  \r\nhttps://developer.android.com/guide/topics/data/autobackup\r\n\r\nBut the recovery of the data does not work when the user recovers the data on his new phone with Samsung Switch and not with the Google recovery.\r\n\r\nTherefore I want to allow the user to save the data on his storage, transfer it to the new phone and import it into the application.\r\n\r\nI was able to save all the app data and files to the phone&#39;s internal storage  \r\nin Documents//backup  \r\n**But I can&#39;t recover the files**  \r\nFrom Documents//backup  \r\nto /data/data/{package_name}\r\n\r\nThe code I did, fails to copy the files to /data/data/{package_name}\r\n\r\nI would appreciate your help,\r\n\r\nWhat is wrong with the code?\r\n\r\nThanks a lot in advance.\r\n\r\n```\r\npackage com.oz.levi.core.backup;\r\n\r\nimport android.os.Build;\r\nimport android.os.Environment;\r\n\r\nimport com.oz.levi.utils.Utils;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class LocalBackupService {\r\n    private static String BASE_DATA_PATH = &quot;//data//com.oz.levi//&quot;;\r\n    private final ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n\r\n    public void backup(BackupCallback callback) {\r\n        executorService.execute(() -&gt; {\r\n            try {\r\n                backupData();\r\n                callback.onComplete();\r\n            } catch (Exception e) {\r\n                callback.onComplete();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void restore(BackupCallback callback) {\r\n        executorService.execute(() -&gt; {\r\n            try {\r\n                restoreData();\r\n                callback.onComplete();\r\n            } catch (Exception e) {\r\n                callback.onComplete();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void backupData() {\r\n        try {\r\n            File sd = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                sd = Environment.getExternalStorageDirectory();\r\n            }\r\n            File data = Environment.getDataDirectory();\r\n\r\n            String currentDBPath = BASE_DATA_PATH + &quot;databases&quot;;\r\n            String currentAudiosPath = BASE_DATA_PATH + &quot;app_audios&quot;;\r\n            String backupDBPath = &quot;//Documents//backup//&quot;;\r\n            File sourceDBDirectory = new File(data, currentDBPath);\r\n            File sourceAudiosDirectory = new File(data, currentAudiosPath);\r\n            File destinationDBDirectory = new File(sd, backupDBPath + &quot;databases//&quot;);\r\n            File destinationAudioDirectory = new File(sd, backupDBPath + &quot;app_audios//&quot;);\r\n            Utils.copyDirectory(sourceDBDirectory, destinationDBDirectory);\r\n            Utils.copyDirectory(sourceAudiosDirectory, destinationAudioDirectory);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void restoreData() {\r\n        try {\r\n            File sd = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                sd = Environment.getExternalStorageDirectory();\r\n            }\r\n            File data = Environment.getDataDirectory();\r\n\r\n            String backupDBPath = &quot;//Documents//backup//&quot;;\r\n            File sourceDBDirectory = new File(data, BASE_DATA_PATH);\r\n            File destinationDirectory = new File(sd, backupDBPath);\r\n            Utils.copyDirectory(destinationDirectory, sourceDBDirectory);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"Android - Can&#39;t import data from internal storage to /data/data/{package_name}","body":"<p>I'm trying to allow my app's data to be transferred from one phone to another.</p>\n<p>The content of the application is backed up by Google's backup, this backup:<br />\n<a href=\"https://developer.android.com/guide/topics/data/autobackup\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/data/autobackup</a></p>\n<p>But the recovery of the data does not work when the user recovers the data on his new phone with Samsung Switch and not with the Google recovery.</p>\n<p>Therefore I want to allow the user to save the data on his storage, transfer it to the new phone and import it into the application.</p>\n<p>I was able to save all the app data and files to the phone's internal storage<br />\nin Documents//backup<br />\n<strong>But I can't recover the files</strong><br />\nFrom Documents//backup<br />\nto /data/data/{package_name}</p>\n<p>The code I did, fails to copy the files to /data/data/{package_name}</p>\n<p>I would appreciate your help,</p>\n<p>What is wrong with the code?</p>\n<p>Thanks a lot in advance.</p>\n<pre><code>package com.oz.levi.core.backup;\n\nimport android.os.Build;\nimport android.os.Environment;\n\nimport com.oz.levi.utils.Utils;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class LocalBackupService {\n    private static String BASE_DATA_PATH = &quot;//data//com.oz.levi//&quot;;\n    private final ExecutorService executorService = Executors.newFixedThreadPool(4);\n\n    public void backup(BackupCallback callback) {\n        executorService.execute(() -&gt; {\n            try {\n                backupData();\n                callback.onComplete();\n            } catch (Exception e) {\n                callback.onComplete();\n            }\n        });\n    }\n\n    public void restore(BackupCallback callback) {\n        executorService.execute(() -&gt; {\n            try {\n                restoreData();\n                callback.onComplete();\n            } catch (Exception e) {\n                callback.onComplete();\n            }\n        });\n    }\n\n    private void backupData() {\n        try {\n            File sd = null;\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n                sd = Environment.getExternalStorageDirectory();\n            }\n            File data = Environment.getDataDirectory();\n\n            String currentDBPath = BASE_DATA_PATH + &quot;databases&quot;;\n            String currentAudiosPath = BASE_DATA_PATH + &quot;app_audios&quot;;\n            String backupDBPath = &quot;//Documents//backup//&quot;;\n            File sourceDBDirectory = new File(data, currentDBPath);\n            File sourceAudiosDirectory = new File(data, currentAudiosPath);\n            File destinationDBDirectory = new File(sd, backupDBPath + &quot;databases//&quot;);\n            File destinationAudioDirectory = new File(sd, backupDBPath + &quot;app_audios//&quot;);\n            Utils.copyDirectory(sourceDBDirectory, destinationDBDirectory);\n            Utils.copyDirectory(sourceAudiosDirectory, destinationAudioDirectory);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void restoreData() {\n        try {\n            File sd = null;\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n                sd = Environment.getExternalStorageDirectory();\n            }\n            File data = Environment.getDataDirectory();\n\n            String backupDBPath = &quot;//Documents//backup//&quot;;\n            File sourceDBDirectory = new File(data, BASE_DATA_PATH);\n            File destinationDirectory = new File(sd, backupDBPath);\n            Utils.copyDirectory(destinationDirectory, sourceDBDirectory);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","security","encryption","android-keystore"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1504691520,"post_id":46072065,"comment_id":79104724,"body_markdown":"Using external storage?","body":"Using external storage?"},{"owner":{"account_id":4630894,"reputation":101,"user_id":3753453,"display_name":"Ziiiimon"},"score":0,"creation_date":1504692115,"post_id":46072065,"comment_id":79105163,"body_markdown":"Can you briefly explain what you mean by that?","body":"Can you briefly explain what you mean by that?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1504702359,"post_id":46072065,"comment_id":79112454,"body_markdown":"I can&#39;t be sure from what I&#39;ve read, but I think the answer is no.","body":"I can&#39;t be sure from what I&#39;ve read, but I think the answer is no."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":1,"creation_date":1504703705,"post_id":46072065,"comment_id":79113553,"body_markdown":"@Ziiiimon there are two types of storage in Android: internal and external. Internal storage is the apps data, which **gets deleted when it is uninstalled**. External storage is public, but the data made by a single app isn&#39;t deleted when the app is. So if you use external storage, if that is a possibility, the keystore will not be deleted when the app is. I have no clue if you **can** save it to external storage though.  And external storage is the public storage, not just an SD card","body":"@Ziiiimon there are two types of storage in Android: internal and external. Internal storage is the apps data, which <b>gets deleted when it is uninstalled</b>. External storage is public, but the data made by a single app isn&#39;t deleted when the app is. So if you use external storage, if that is a possibility, the keystore will not be deleted when the app is. I have no clue if you <b>can</b> save it to external storage though.  And external storage is the public storage, not just an SD card"},{"owner":{"account_id":4630894,"reputation":101,"user_id":3753453,"display_name":"Ziiiimon"},"score":1,"creation_date":1504730094,"post_id":46072065,"comment_id":79129785,"body_markdown":"I think that is not an option, because it would leave the private key unprotected on the device.","body":"I think that is not an option, because it would leave the private key unprotected on the device."}],"owner":{"account_id":4630894,"reputation":101,"user_id":3753453,"display_name":"Ziiiimon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1682432762,"creation_date":1504691445,"question_id":46072065,"body_markdown":"Is there any way of keeping a KeyStoreEntry of an App even if the App is uninstalled?\r\n\r\nWe are generating a RSA-KeyPair for a secure device identification, which is stored on the KeyStore. The PublicKey is stored on the backend.\r\n\r\n     val generator = KeyPairGenerator.getInstance(KeyProperties.KEY_ALGORITHM_RSA, ANDROID_KEYSTORE)\r\n            if (isSDKVersionEqualOrHigherThan23()) {\r\n                generator.initialize(KeyGenParameterSpec.Builder(\r\n                    &quot;keystoreAlias&quot;,\r\n                    KeyProperties.PURPOSE_SIGN)\r\n                    .setDigests(KeyProperties.DIGEST_SHA256)\r\n                    .setSignaturePaddings(KeyProperties.SIGNATURE_PADDING_RSA_PKCS1)\r\n                    .build())\r\n            } \r\n\r\nIf the user is now uninstalling and then reinstalling the app, the RSA-KeyPair changes, and the PublicKey check on the backend fails.\r\n\r\nIs there a way to either keep the KeyStore entry on uninstall OR make sure that the same KeyPair is generated again on the same device (e.g. by adding a parameter?)\r\n\r\n","title":"Is there any way of keeping a AndroidKeyStoreEntry even if the App is uninstalled?","body":"<p>Is there any way of keeping a KeyStoreEntry of an App even if the App is uninstalled?</p>\n\n<p>We are generating a RSA-KeyPair for a secure device identification, which is stored on the KeyStore. The PublicKey is stored on the backend.</p>\n\n<pre><code> val generator = KeyPairGenerator.getInstance(KeyProperties.KEY_ALGORITHM_RSA, ANDROID_KEYSTORE)\n        if (isSDKVersionEqualOrHigherThan23()) {\n            generator.initialize(KeyGenParameterSpec.Builder(\n                \"keystoreAlias\",\n                KeyProperties.PURPOSE_SIGN)\n                .setDigests(KeyProperties.DIGEST_SHA256)\n                .setSignaturePaddings(KeyProperties.SIGNATURE_PADDING_RSA_PKCS1)\n                .build())\n        } \n</code></pre>\n\n<p>If the user is now uninstalling and then reinstalling the app, the RSA-KeyPair changes, and the PublicKey check on the backend fails.</p>\n\n<p>Is there a way to either keep the KeyStore entry on uninstall OR make sure that the same KeyPair is generated again on the same device (e.g. by adding a parameter?)</p>\n"},{"tags":["java","swing","layout","awt","grid-layout"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682432252,"post_id":76101956,"comment_id":134212401,"body_markdown":"[mcve] please  .. and: as a general rule, don&#39;t hard-code sizing hints","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please  .. and: as a general rule, don&#39;t hard-code sizing hints"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682432587,"post_id":76101956,"comment_id":134212507,"body_markdown":"That is eactly the way GridLayout works. Each component has an equal size in the space available.  One solution is to use a &quot;wrapper panel&quot; to create the scroll pane. The wrapper panel can use a BorderLayout. Add the &#39;messagesPanel&quot; to the BorderLayout.PAGE_START, of the wrapper panel, which will respect the height of components added.","body":"That is eactly the way GridLayout works. Each component has an equal size in the space available.  One solution is to use a &quot;wrapper panel&quot; to create the scroll pane. The wrapper panel can use a BorderLayout. Add the &#39;messagesPanel&quot; to the BorderLayout.PAGE_START, of the wrapper panel, which will respect the height of components added."}],"owner":{"account_id":27960447,"reputation":3,"user_id":21352365,"display_name":"damby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682432310,"creation_date":1682430820,"question_id":76101956,"body_markdown":"I am making a messaging app where a server and a client communicate with each other by sending messages. I have a main panel where the messages are printed, and it is set with gridlayout and put on a scrollpane, but every time I send or receive a message the vgap gets from large to smaller until a certain point where it becomes always the same.  \r\nHere is the code:\r\n\r\n```\r\nstatic JPanel messagesPanel = new JPanel();\r\n\r\npublic void crea(){\r\n    JFrame f = new JFrame(&quot;ItMessenger lato server&quot;);\r\n    f.setSize(400,750);\r\n    f.setLocationRelativeTo(null);\r\n    f.setResizable(false);\r\n    f.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\r\n    Font tit = new Font(&quot;Roboto&quot;, Font.BOLD, 20);\r\n\r\n    JPanel p = new JPanel(new BorderLayout());\r\n\r\n    JPanel messaggio = new JPanel(new GridBagLayout());\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    JPanel chat = new JPanel(new BorderLayout());\r\n    JPanel contatto = new JPanel(new BorderLayout());\r\n\r\n    f.add(p);\r\n    p.add(messaggio, BorderLayout.SOUTH);\r\n    p.add(chat, BorderLayout.CENTER);\r\n\r\n    p.add(contatto, BorderLayout.NORTH);\r\n\r\n    JLabel c = new JLabel(&quot;Contatto Client&quot;);\r\n    c.setFont(tit);\r\n    c.setHorizontalAlignment(SwingConstants.CENTER);\r\n    contatto.add(c, BorderLayout.CENTER);\r\n\r\n    int width = f.getWidth();\r\n    int height = f.getHeight();\r\n\r\n    contatto.setPreferredSize(new Dimension(width, (int)(height * 0.10)));\r\n    chat.setPreferredSize(new Dimension(width, (int)(height * 0.75)));\r\n    messaggio.setPreferredSize(new Dimension(width, (int)(height * 0.15)));\r\n\r\n    contatto.setBackground(new Color(0,128,105,255));\r\n\r\n    messagesPanel.setLayout(new GridLayout(0,1,0,0));\r\n\r\n    JScrollPane scrollPane = new JScrollPane(messagesPanel);\r\n    scrollPane.setPreferredSize(new Dimension(400, 600));\r\n    chat.add(scrollPane, BorderLayout.CENTER);\r\n\r\n    JTextField text = new JTextField(&quot;Messaggio&quot;);\r\n    text.setDocument(new LimitedDocument(44));\r\n    text.setPreferredSize(new Dimension(250,75));\r\n    //  Il FocusListener fa in modo che se si clicca la JTextField, la scritta per indicare la casella del messaggio sparisce\r\n    text.addFocusListener(new FocusListener() {\r\n        @Override\r\n        public void focusGained(FocusEvent e) {\r\n            if (text.getText().equals(&quot;Messaggio&quot;)) {\r\n                text.setText(&quot;&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void focusLost(FocusEvent e) {\r\n            if (text.getText().isEmpty()) {\r\n                text.setText(&quot;Messaggio&quot;);\r\n            }\r\n        }\r\n    });\r\n    gbc.gridx = 0;\r\n    gbc.gridy = 0;\r\n    gbc.insets = new Insets(0, 10, 0, 10); // margine a sinistra e destra\r\n    gbc.anchor = GridBagConstraints.CENTER;\r\n    messaggio.add(text, gbc);\r\n\r\n    ImageIcon sendIcon = new ImageIcon(Objects.requireNonNull(getClass().getResource(&quot;send64.png&quot;)));\r\n    JButton invia = new JButton(sendIcon);\r\n    invia.setPreferredSize(new Dimension(sendIcon.getIconWidth(), sendIcon.getIconHeight()));\r\n    invia.setBorderPainted(false);\r\n    invia.setContentAreaFilled(false);\r\n    invia.setFocusPainted(false);\r\n    invia.setOpaque(false);\r\n    gbc.gridx = 1;\r\n    gbc.gridy = 0;\r\n    gbc.anchor = GridBagConstraints.LINE_END;\r\n    messaggio.add(invia, gbc);\r\n    messaggio.add(invia);\r\n\r\n    invia.addActionListener((ActionEvent e) -&gt;{\r\n        String message = text.getText();\r\n        if(!Objects.equals(message, &quot;&quot;)) {\r\n            JPanel cont = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n\r\n            RoundedPanel messagePanel = new RoundedPanel(20);\r\n            messagePanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n            messagePanel.setBackground(new Color(231, 255, 219, 255));\r\n            JLabel l = new JLabel(message);\r\n            l.setFont(mex);\r\n            messagePanel.add(l);\r\n            cont.add(messagePanel);\r\n            messagesPanel.add(cont);\r\n            messagesPanel.revalidate();\r\n            text.setText(&quot;Messaggio&quot;);\r\n            ss.scrivi(message);\r\n        }\r\n    });\r\n\r\n    text.addActionListener(e -&gt; {\r\n        invia.doClick();\r\n        text.setText(&quot;&quot;);\r\n    });\r\n\r\n    f.setVisible(true);\r\n    ts.start();\r\n}\r\n```\r\n\r\nThat&#39;s when I send two messages and the vgap is large:\r\n[![https://i.stack.imgur.com/sUwIm.png][1]][1]\r\n\r\nInstead that&#39;s when I send many messages and the gap becomes always the same : \r\n[![https://i.stack.imgur.com/lKyg4.png][2]][2]\r\n\r\nI expect the vgap between messages to always be fixed from the beginning\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUwIm.png\r\n  [2]: https://i.stack.imgur.com/lKyg4.png","title":"The gridlayout vgap changes on its own, how can I make it always the same?","body":"<p>I am making a messaging app where a server and a client communicate with each other by sending messages. I have a main panel where the messages are printed, and it is set with gridlayout and put on a scrollpane, but every time I send or receive a message the vgap gets from large to smaller until a certain point where it becomes always the same.<br />\nHere is the code:</p>\n<pre><code>static JPanel messagesPanel = new JPanel();\n\npublic void crea(){\n    JFrame f = new JFrame(&quot;ItMessenger lato server&quot;);\n    f.setSize(400,750);\n    f.setLocationRelativeTo(null);\n    f.setResizable(false);\n    f.setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    Font tit = new Font(&quot;Roboto&quot;, Font.BOLD, 20);\n\n    JPanel p = new JPanel(new BorderLayout());\n\n    JPanel messaggio = new JPanel(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    JPanel chat = new JPanel(new BorderLayout());\n    JPanel contatto = new JPanel(new BorderLayout());\n\n    f.add(p);\n    p.add(messaggio, BorderLayout.SOUTH);\n    p.add(chat, BorderLayout.CENTER);\n\n    p.add(contatto, BorderLayout.NORTH);\n\n    JLabel c = new JLabel(&quot;Contatto Client&quot;);\n    c.setFont(tit);\n    c.setHorizontalAlignment(SwingConstants.CENTER);\n    contatto.add(c, BorderLayout.CENTER);\n\n    int width = f.getWidth();\n    int height = f.getHeight();\n\n    contatto.setPreferredSize(new Dimension(width, (int)(height * 0.10)));\n    chat.setPreferredSize(new Dimension(width, (int)(height * 0.75)));\n    messaggio.setPreferredSize(new Dimension(width, (int)(height * 0.15)));\n\n    contatto.setBackground(new Color(0,128,105,255));\n\n    messagesPanel.setLayout(new GridLayout(0,1,0,0));\n\n    JScrollPane scrollPane = new JScrollPane(messagesPanel);\n    scrollPane.setPreferredSize(new Dimension(400, 600));\n    chat.add(scrollPane, BorderLayout.CENTER);\n\n    JTextField text = new JTextField(&quot;Messaggio&quot;);\n    text.setDocument(new LimitedDocument(44));\n    text.setPreferredSize(new Dimension(250,75));\n    //  Il FocusListener fa in modo che se si clicca la JTextField, la scritta per indicare la casella del messaggio sparisce\n    text.addFocusListener(new FocusListener() {\n        @Override\n        public void focusGained(FocusEvent e) {\n            if (text.getText().equals(&quot;Messaggio&quot;)) {\n                text.setText(&quot;&quot;);\n            }\n        }\n\n        @Override\n        public void focusLost(FocusEvent e) {\n            if (text.getText().isEmpty()) {\n                text.setText(&quot;Messaggio&quot;);\n            }\n        }\n    });\n    gbc.gridx = 0;\n    gbc.gridy = 0;\n    gbc.insets = new Insets(0, 10, 0, 10); // margine a sinistra e destra\n    gbc.anchor = GridBagConstraints.CENTER;\n    messaggio.add(text, gbc);\n\n    ImageIcon sendIcon = new ImageIcon(Objects.requireNonNull(getClass().getResource(&quot;send64.png&quot;)));\n    JButton invia = new JButton(sendIcon);\n    invia.setPreferredSize(new Dimension(sendIcon.getIconWidth(), sendIcon.getIconHeight()));\n    invia.setBorderPainted(false);\n    invia.setContentAreaFilled(false);\n    invia.setFocusPainted(false);\n    invia.setOpaque(false);\n    gbc.gridx = 1;\n    gbc.gridy = 0;\n    gbc.anchor = GridBagConstraints.LINE_END;\n    messaggio.add(invia, gbc);\n    messaggio.add(invia);\n\n    invia.addActionListener((ActionEvent e) -&gt;{\n        String message = text.getText();\n        if(!Objects.equals(message, &quot;&quot;)) {\n            JPanel cont = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n\n            RoundedPanel messagePanel = new RoundedPanel(20);\n            messagePanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n            messagePanel.setBackground(new Color(231, 255, 219, 255));\n            JLabel l = new JLabel(message);\n            l.setFont(mex);\n            messagePanel.add(l);\n            cont.add(messagePanel);\n            messagesPanel.add(cont);\n            messagesPanel.revalidate();\n            text.setText(&quot;Messaggio&quot;);\n            ss.scrivi(message);\n        }\n    });\n\n    text.addActionListener(e -&gt; {\n        invia.doClick();\n        text.setText(&quot;&quot;);\n    });\n\n    f.setVisible(true);\n    ts.start();\n}\n</code></pre>\n<p>That's when I send two messages and the vgap is large:\n<a href=\"https://i.stack.imgur.com/sUwIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUwIm.png\" alt=\"https://i.stack.imgur.com/sUwIm.png\" /></a></p>\n<p>Instead that's when I send many messages and the gap becomes always the same :\n<a href=\"https://i.stack.imgur.com/lKyg4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lKyg4.png\" alt=\"https://i.stack.imgur.com/lKyg4.png\" /></a></p>\n<p>I expect the vgap between messages to always be fixed from the beginning</p>\n"},{"tags":["java","xml","x509certificate","xml-signature","xades"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682437527,"post_id":76102200,"comment_id":134214011,"body_markdown":"[`KeyStore.getCertificate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html#getCertificate(java.lang.String)) returns only the first cert in the specified entry, while usually a privatekeyentry will contain a cert _chain_ (i.e. more than one cert which are logically linked to be used for validation) and to get all of them you **use `getCertificateChain`**.","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html#getCertificate(java.lang.String)\" rel=\"nofollow noreferrer\"><code>KeyStore.getCertificate</code></a> returns only the first cert in the specified entry, while usually a privatekeyentry will contain a cert <i>chain</i> (i.e. more than one cert which are logically linked to be used for validation) and to get all of them you <b>use <code>getCertificateChain</code></b>."}],"owner":{"account_id":28412418,"reputation":1,"user_id":21735667,"display_name":"Adriusk91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682432278,"creation_date":1682432278,"question_id":76102200,"body_markdown":"In the correct form of the file there are thee fields coming from the same .pfx certificate and ends with something like this:\r\n\r\n```\r\n&lt;ds:X509Data&gt;\r\n    &lt;ds:X509Certificate&gt;\r\n    MIIHYTCCBkmgAwIBA....\r\n    &lt;/ds:X509Certificate&gt;\r\n    &lt;ds:X509Certificate&gt;\r\n    MIIFgzCCA2ugAwIB...\r\n    &lt;/ds:X509Certificate&gt;\r\n    &lt;ds:X509Certificate&gt;\r\n    MIIG2jCCBMKgAw...\r\n    &lt;/ds:X509Certificate&gt;\r\n&lt;/ds:X509Data&gt;\r\n```\r\n\r\nBut with my Java code:\r\n\r\n```\r\nXMLSignature sig = new XMLSignature(doc, null, XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA512);\r\nKeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\nks.load(new FileInputStream(certificado), contrase&#241;a);\r\nX509Certificate cert = (X509Certificate) ks.getCertificate(ks.aliases().nextElement());\r\nsig.addKeyInfo(cert);\r\nsig.addKeyInfo(cert.getPublicKey());\r\n```\r\n\r\n\r\n\r\n```\r\n&lt;ds:X509Data&gt;\r\n    &lt;ds:X509Certificate&gt;\r\n    MIIHYTCCBkmgAwIBA...\r\n    &lt;/ds:X509Certificate&gt;\r\n&lt;/ds:X509Data&gt;\r\n```\r\n\r\nWhich it&#39;s only the first field of the three ones...\r\n\r\nAny idea?\r\n\r\n\r\n","title":"I need to sign a XML with a specific format, I have an example of what I should get but I&#39;m not being able to replicate it","body":"<p>In the correct form of the file there are thee fields coming from the same .pfx certificate and ends with something like this:</p>\n<pre><code>&lt;ds:X509Data&gt;\n    &lt;ds:X509Certificate&gt;\n    MIIHYTCCBkmgAwIBA....\n    &lt;/ds:X509Certificate&gt;\n    &lt;ds:X509Certificate&gt;\n    MIIFgzCCA2ugAwIB...\n    &lt;/ds:X509Certificate&gt;\n    &lt;ds:X509Certificate&gt;\n    MIIG2jCCBMKgAw...\n    &lt;/ds:X509Certificate&gt;\n&lt;/ds:X509Data&gt;\n</code></pre>\n<p>But with my Java code:</p>\n<pre><code>XMLSignature sig = new XMLSignature(doc, null, XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA512);\nKeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\nks.load(new FileInputStream(certificado), contraseña);\nX509Certificate cert = (X509Certificate) ks.getCertificate(ks.aliases().nextElement());\nsig.addKeyInfo(cert);\nsig.addKeyInfo(cert.getPublicKey());\n</code></pre>\n<pre><code>&lt;ds:X509Data&gt;\n    &lt;ds:X509Certificate&gt;\n    MIIHYTCCBkmgAwIBA...\n    &lt;/ds:X509Certificate&gt;\n&lt;/ds:X509Data&gt;\n</code></pre>\n<p>Which it's only the first field of the three ones...</p>\n<p>Any idea?</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":18533022,"reputation":79,"user_id":13503315,"display_name":"Dhanush reddy"},"score":0,"creation_date":1682422609,"post_id":76100678,"comment_id":134209394,"body_markdown":"yes, that is what it says! for example  &quot;select * from user where (id, country) in ((1, &quot;USA&quot;), (2, &quot;Germany))&quot;; but it seems pairs is not represented as the two tuples that are used with in operator.","body":"yes, that is what it says! for example  &quot;select * from user where (id, country) in ((1, &quot;USA&quot;), (2, &quot;Germany))&quot;; but it seems pairs is not represented as the two tuples that are used with in operator."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1682422776,"post_id":76100678,"comment_id":134209428,"body_markdown":"The tuple syntax you are trying to use here is unique to native MySQL, and most likely is not supported by HQL/JPA.  You will have to express your query some other way.","body":"The tuple syntax you are trying to use here is unique to native MySQL, and most likely is not supported by HQL/JPA.  You will have to express your query some other way."},{"owner":{"account_id":18533022,"reputation":79,"user_id":13503315,"display_name":"Dhanush reddy"},"score":0,"creation_date":1682423111,"post_id":76100678,"comment_id":134209535,"body_markdown":"where (id, country) in (&quot;(1,&quot;USA&quot;), (2,&quot;Germany&quot;)&quot;); it is oriented like this when I tried converting map to string, atleast i&#39;m assuming. I checked it in the same link you provided, there is a syntax error you can look for yourself","body":"where (id, country) in (&quot;(1,&quot;USA&quot;), (2,&quot;Germany&quot;)&quot;); it is oriented like this when I tried converting map to string, atleast i&#39;m assuming. I checked it in the same link you provided, there is a syntax error you can look for yourself"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682432255,"creation_date":1682432255,"answer_id":76102192,"question_id":76100678,"body_markdown":"I managed to make the query work with tuples. Or at least to be recognized as such. Unfortunately Hibernate 6 doesn&#39;t support tuples yet... I got a clear exception:\r\n\r\n    org.hibernate.NotYetImplementedFor6Exception: \r\n       org.hibernate.metamodel.model.domain.internal.ArrayTupleType\r\n\r\nMy repository:\r\n\r\n    @Query(&quot;select c from Customer c where (c.id, c.name) in (:pairs)&quot;)\r\n    List&lt;Customer&gt; getCustomers(List&lt;Map&lt;Integer, String&gt;&gt; pairs);","title":"MYSQL - operand should contain 2 column(s)","body":"<p>I managed to make the query work with tuples. Or at least to be recognized as such. Unfortunately Hibernate 6 doesn't support tuples yet... I got a clear exception:</p>\n<pre><code>org.hibernate.NotYetImplementedFor6Exception: \n   org.hibernate.metamodel.model.domain.internal.ArrayTupleType\n</code></pre>\n<p>My repository:</p>\n<pre><code>@Query(&quot;select c from Customer c where (c.id, c.name) in (:pairs)&quot;)\nList&lt;Customer&gt; getCustomers(List&lt;Map&lt;Integer, String&gt;&gt; pairs);\n</code></pre>\n"}],"owner":{"account_id":18533022,"reputation":79,"user_id":13503315,"display_name":"Dhanush reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682432255,"creation_date":1682422270,"question_id":76100678,"body_markdown":"I am getting this error when I am trying to yield results based on two columns.\r\n\r\nHere&#39;s the code : \r\n\r\n    @Query(&quot;select u from employee u where (u.empId, u.empRating) in (:pairs)&quot;)\r\n    List&lt;User&gt; getusers(List&lt;List&lt;String&gt;&gt; pairs);\r\n\r\nI&#39;ve tried `Map&lt;Integer, Integer&gt;` as well but of no avail. I&#39;ve also tried converting map to string, used replaceall to construct a tuple, it didn&#39;t work either because the string has double quotes. I&#39;ve checked that with the SQL as well it wasn&#39;t working when double quotes are included in the query.\r\n","title":"MYSQL - operand should contain 2 column(s)","body":"<p>I am getting this error when I am trying to yield results based on two columns.</p>\n<p>Here's the code :</p>\n<pre><code>@Query(&quot;select u from employee u where (u.empId, u.empRating) in (:pairs)&quot;)\nList&lt;User&gt; getusers(List&lt;List&lt;String&gt;&gt; pairs);\n</code></pre>\n<p>I've tried <code>Map&lt;Integer, Integer&gt;</code> as well but of no avail. I've also tried converting map to string, used replaceall to construct a tuple, it didn't work either because the string has double quotes. I've checked that with the SQL as well it wasn't working when double quotes are included in the query.</p>\n"},{"tags":["java","spring","rabbitmq"],"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1682464777,"post_id":76102161,"comment_id":134219433,"body_markdown":"Thank you for joining StackOverflow. To increase your chances of getting a response from others, I would add the code of the best attempt that you have tried.  See https://stackoverflow.com/help/how-to-ask.","body":"Thank you for joining StackOverflow. To increase your chances of getting a response from others, I would add the code of the best attempt that you have tried.  See <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."}],"owner":{"account_id":17246154,"reputation":1,"user_id":12487396,"display_name":"MichalKuk10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682432057,"creation_date":1682432057,"question_id":76102161,"body_markdown":"I&#39;m using a RabbitMq queue. So far when some error occurs messeges from queue are moved to DLQ. Now - they stay there with no action, however what I wanna to do is to create java-spring endpoint to GET all of these messeges from DLQ and print them somwhere on UI. \r\nAnd I am wondering what would be the best approach to fetch this info from Rabbit DLQ directly to my code so I can either save them or send them somewhere else. \r\n\r\nI tried to create RabbitListiner (queues = &quot;myDLG&quot;) but it doesn&#39;t work that way.","title":"How to get messages from RabbitMQ DLQ in Spring via REST API","body":"<p>I'm using a RabbitMq queue. So far when some error occurs messeges from queue are moved to DLQ. Now - they stay there with no action, however what I wanna to do is to create java-spring endpoint to GET all of these messeges from DLQ and print them somwhere on UI.\nAnd I am wondering what would be the best approach to fetch this info from Rabbit DLQ directly to my code so I can either save them or send them somewhere else.</p>\n<p>I tried to create RabbitListiner (queues = &quot;myDLG&quot;) but it doesn't work that way.</p>\n"},{"tags":["java","playframework","sbt"],"comments":[{"owner":{"account_id":1309367,"reputation":47277,"user_id":1257694,"accept_rate":62,"display_name":"Kingpin2k"},"score":1,"creation_date":1680879997,"post_id":75958260,"comment_id":133974863,"body_markdown":"yeah, the typesafe repo is currently down, haven&#39;t quite figured out who to tell yet.","body":"yeah, the typesafe repo is currently down, haven&#39;t quite figured out who to tell yet."},{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":1,"creation_date":1682430757,"post_id":75958260,"comment_id":134211923,"body_markdown":"the ticket on this transient outage was https://github.com/sbt/sbt/issues/7202","body":"the ticket on this transient outage was <a href=\"https://github.com/sbt/sbt/issues/7202\" rel=\"nofollow noreferrer\">github.com/sbt/sbt/issues/7202</a>"}],"answers":[{"tags":[],"owner":{"account_id":4052302,"reputation":143,"user_id":3331412,"display_name":"comdotlinux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680927713,"creation_date":1680927713,"answer_id":75963290,"question_id":75958260,"body_markdown":"If the source repository is public you could temporarily use https://jitpack.io and maybe the tag to get the new maven coordinates and get the build working.\r\n\r\nThis works with maven not sure if it is also working with sbt.","title":"SBT can not download dependency from 07.04.2023 - com.typesafe.sbt:sbt-js-engine","body":"<p>If the source repository is public you could temporarily use <a href=\"https://jitpack.io\" rel=\"nofollow noreferrer\">https://jitpack.io</a> and maybe the tag to get the new maven coordinates and get the build working.</p>\n<p>This works with maven not sure if it is also working with sbt.</p>\n"},{"tags":[],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682426840,"creation_date":1681198929,"answer_id":75983521,"question_id":75958260,"body_markdown":"Finally, after removed all cached libs (on the mac: `~/Library/Caches/Coursier/v1/https`) sbt is able to download `sbt-js-engine` from repo.scala-sbt.org:\r\n\r\n`https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/com.typesafe.sbt/sbt-js-engine/scala_2.12/sbt_1.0/1.2.3/ivys/ivy.xml`","title":"SBT can not download dependency from 07.04.2023 - com.typesafe.sbt:sbt-js-engine","body":"<p>Finally, after removed all cached libs (on the mac: <code>~/Library/Caches/Coursier/v1/https</code>) sbt is able to download <code>sbt-js-engine</code> from repo.scala-sbt.org:</p>\n<p><code>https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/com.typesafe.sbt/sbt-js-engine/scala_2.12/sbt_1.0/1.2.3/ivys/ivy.xml</code></p>\n"}],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75983521,"answer_count":2,"score":4,"last_activity_date":1682431980,"creation_date":1680869268,"question_id":75958260,"body_markdown":"From today CI is not able to build the playframework project because of unresolved dependencies. I even cloned playframework sample hello world project - https://github.com/playframework/play-samples/tree/2.8.x/play-java-hello-world-tutorial and result is same, same dependency are missing:\r\n\r\n```\r\n[warn]\r\n[warn] \tNote: Some unresolved dependencies have extra attributes.  Check that these dependencies exist with the requested attributes.\r\n[warn] \t\tcom.typesafe.sbt:sbt-js-engine:1.2.3 (scalaVersion=2.12, sbtVersion=1.0)\r\n[warn]\r\n[warn] \tNote: Unresolved dependencies path:\r\n[error] sbt.librarymanagement.ResolveException: Error downloading com.typesafe.sbt:sbt-js-engine;sbtVersion=1.0;scalaVersion=2.12:1.2.3\r\n[error]   Not found\r\n[error]   Not found\r\n[error]   not found: https://repo1.maven.org/maven2/com/typesafe/sbt/sbt-js-engine_2.12_1.0/1.2.3/sbt-js-engine-1.2.3.pom\r\n```\r\n```\r\nnot found: https://repo.typesafe.com/typesafe/releases/com/typesafe/sbt/sbt-js-engine_2.12_1.0/1.2.3/sbt-js-engine-1.2.3.pom\r\n```\r\nProblem is with lib:\r\n       \r\n    Error downloading com.typesafe.sbt:sbt-js-engine;sbtVersion=1.0;scalaVersion=2.12:1.2.3\r\n\r\nand when I check https://repo1.maven.org/maven2/com/typesafe/sbt all this dependency are missing.\r\n\r\nAny action I can do? Or even information, why this artifacts were removed?\r\n\r\n**UPDATE**:\r\n\r\nrepository: https://repo.typesafe.com/typesafe/releases/ redirect me to https://dl.cloudsmith.io/public/lightbend/maven-releases/maven/ \r\nso maybe problem is with dl.cloudsmith.io? \r\n\r\n**UPDATE #2**:\r\n\r\nLooks like on sbt github repo, was created ticket related to this outage:  https://github.com/sbt/sbt/issues/7202 (Thanks @SethTisue)\r\n","title":"SBT can not download dependency from 07.04.2023 - com.typesafe.sbt:sbt-js-engine","body":"<p>From today CI is not able to build the playframework project because of unresolved dependencies. I even cloned playframework sample hello world project - <a href=\"https://github.com/playframework/play-samples/tree/2.8.x/play-java-hello-world-tutorial\" rel=\"nofollow noreferrer\">https://github.com/playframework/play-samples/tree/2.8.x/play-java-hello-world-tutorial</a> and result is same, same dependency are missing:</p>\n<pre><code>[warn]\n[warn]  Note: Some unresolved dependencies have extra attributes.  Check that these dependencies exist with the requested attributes.\n[warn]      com.typesafe.sbt:sbt-js-engine:1.2.3 (scalaVersion=2.12, sbtVersion=1.0)\n[warn]\n[warn]  Note: Unresolved dependencies path:\n[error] sbt.librarymanagement.ResolveException: Error downloading com.typesafe.sbt:sbt-js-engine;sbtVersion=1.0;scalaVersion=2.12:1.2.3\n[error]   Not found\n[error]   Not found\n[error]   not found: https://repo1.maven.org/maven2/com/typesafe/sbt/sbt-js-engine_2.12_1.0/1.2.3/sbt-js-engine-1.2.3.pom\n</code></pre>\n<pre><code>not found: https://repo.typesafe.com/typesafe/releases/com/typesafe/sbt/sbt-js-engine_2.12_1.0/1.2.3/sbt-js-engine-1.2.3.pom\n</code></pre>\n<p>Problem is with lib:</p>\n<pre><code>Error downloading com.typesafe.sbt:sbt-js-engine;sbtVersion=1.0;scalaVersion=2.12:1.2.3\n</code></pre>\n<p>and when I check <a href=\"https://repo1.maven.org/maven2/com/typesafe/sbt\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/typesafe/sbt</a> all this dependency are missing.</p>\n<p>Any action I can do? Or even information, why this artifacts were removed?</p>\n<p><strong>UPDATE</strong>:</p>\n<p>repository: <a href=\"https://repo.typesafe.com/typesafe/releases/\" rel=\"nofollow noreferrer\">https://repo.typesafe.com/typesafe/releases/</a> redirect me to <a href=\"https://dl.cloudsmith.io/public/lightbend/maven-releases/maven/\" rel=\"nofollow noreferrer\">https://dl.cloudsmith.io/public/lightbend/maven-releases/maven/</a>\nso maybe problem is with dl.cloudsmith.io?</p>\n<p><strong>UPDATE #2</strong>:</p>\n<p>Looks like on sbt github repo, was created ticket related to this outage:  <a href=\"https://github.com/sbt/sbt/issues/7202\" rel=\"nofollow noreferrer\">https://github.com/sbt/sbt/issues/7202</a> (Thanks @SethTisue)</p>\n"},{"tags":["javascript","java","android","react-native","react-navigation"],"comments":[{"owner":{"account_id":10108859,"reputation":98,"user_id":7470531,"display_name":"Karthik Suthan"},"score":0,"creation_date":1682444019,"post_id":76102138,"comment_id":134215677,"body_markdown":"I think what you require is deep linking functionality. https://reactnavigation.org/docs/deep-linking/","body":"I think what you require is deep linking functionality. <a href=\"https://reactnavigation.org/docs/deep-linking/\" rel=\"nofollow noreferrer\">reactnavigation.org/docs/deep-linking</a>"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1682713988,"post_id":76102138,"comment_id":134264655,"body_markdown":"@KarthikSuthan: Would it be possible to do this without using expo or expo modules?","body":"@KarthikSuthan: Would it be possible to do this without using expo or expo modules?"},{"owner":{"account_id":10108859,"reputation":98,"user_id":7470531,"display_name":"Karthik Suthan"},"score":0,"creation_date":1682827995,"post_id":76102138,"comment_id":134275328,"body_markdown":"kindly check official documentation  https://reactnative.dev/docs/linking","body":"kindly check official documentation  <a href=\"https://reactnative.dev/docs/linking\" rel=\"nofollow noreferrer\">reactnative.dev/docs/linking</a>"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682431925,"creation_date":1682431925,"question_id":76102138,"body_markdown":"I have to make sure that since I&#39;m on the browser (for example Firefox and Chrome) and I&#39;m on a specific url, I can open in the app, then pass url to the app to be able to open a specific page on react-native.\r\n\r\nI have the following urls:\r\n1) `https://wwww.domain.com/page.html`\r\n2) `https://wwww.domain.com/detail/name`\r\n\r\nI have to make sure:\r\n- if I have a url of type 1) then I open a specific page for react-native.\r\n- if I have a url of type 2) then I open another specific page for react-native.\r\n\r\n```java\r\n&lt;data\r\n             android:host=&quot;www.domain.com&quot;\r\n             android:pathPrefix=&quot;/&quot;\r\n             android:scheme=&quot;https&quot; /&gt;\r\n&lt;data\r\n             android:host=&quot;www.domain.com&quot;\r\n             android:pathPrefix=&quot;/detail&quot;\r\n             android:scheme=&quot;https&quot; /&gt;\r\n```\r\n\r\nCan you give me a hand?\r\n","title":"React native android browser open url in app","body":"<p>I have to make sure that since I'm on the browser (for example Firefox and Chrome) and I'm on a specific url, I can open in the app, then pass url to the app to be able to open a specific page on react-native.</p>\n<p>I have the following urls:</p>\n<ol>\n<li><code>https://wwww.domain.com/page.html</code></li>\n<li><code>https://wwww.domain.com/detail/name</code></li>\n</ol>\n<p>I have to make sure:</p>\n<ul>\n<li>if I have a url of type 1) then I open a specific page for react-native.</li>\n<li>if I have a url of type 2) then I open another specific page for react-native.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;data\n             android:host=&quot;www.domain.com&quot;\n             android:pathPrefix=&quot;/&quot;\n             android:scheme=&quot;https&quot; /&gt;\n&lt;data\n             android:host=&quot;www.domain.com&quot;\n             android:pathPrefix=&quot;/detail&quot;\n             android:scheme=&quot;https&quot; /&gt;\n</code></pre>\n<p>Can you give me a hand?</p>\n"},{"tags":["java","installation","exe"],"comments":[{"owner":{"account_id":5861958,"reputation":681,"user_id":4617334,"accept_rate":33,"display_name":"Madhusoodan P"},"score":1,"creation_date":1476158993,"post_id":147181,"comment_id":67220032,"body_markdown":"simple hack for applets: write a C code with main and a call to function &quot;system&quot; like system(&quot;appletviewer java_src_file&quot;);","body":"simple hack for applets: write a C code with main and a call to function &quot;system&quot; like system(&quot;appletviewer java_src_file&quot;);"},{"owner":{"account_id":7711564,"reputation":563,"user_id":5840664,"accept_rate":100,"display_name":"Arpit Agarwal"},"score":1,"creation_date":1483401158,"post_id":147181,"comment_id":70075284,"body_markdown":"Will the .exe works in windows system with no JRE ?","body":"Will the .exe works in windows system with no JRE ?"},{"owner":{"account_id":1843851,"reputation":3637,"user_id":1672678,"display_name":"anre"},"score":1,"creation_date":1489764720,"post_id":147181,"comment_id":72829039,"body_markdown":"Just to be complete (did not try it myself because we needed exe wrapper, not installer):\nInstaller packages can also be created using javapackager\n(see http://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#BCGIBBCI).\nTo create EXE or MSI installer, additionally Inno Setup or WiX need to be downloaded and installed.","body":"Just to be complete (did not try it myself because we needed exe wrapper, not installer): Installer packages can also be created using javapackager (see <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#BCGIBBCI\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/deploy/&hellip;</a>). To create EXE or MSI installer, additionally Inno Setup or WiX need to be downloaded and installed."},{"owner":{"account_id":116316,"reputation":1900,"user_id":305038,"accept_rate":80,"display_name":"baris.aydinoz"},"score":0,"creation_date":1525592432,"post_id":147181,"comment_id":87411576,"body_markdown":"May be [NSIS](http://nsis.sourceforge.net/Main_Page) also helps; http://nsis.sourceforge.net/Java_Launcher","body":"May be <a href=\"http://nsis.sourceforge.net/Main_Page\" rel=\"nofollow noreferrer\">NSIS</a> also helps; <a href=\"http://nsis.sourceforge.net/Java_Launcher\" rel=\"nofollow noreferrer\">nsis.sourceforge.net/Java_Launcher</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1613606792,"post_id":147181,"comment_id":117130374,"body_markdown":"As of 2021 GraalVM is an interesting way of compiling Java to native code and officially supported by Oracle.","body":"As of 2021 GraalVM is an interesting way of compiling Java to native code and officially supported by Oracle."}],"answers":[{"tags":[],"owner":{"account_id":8238,"reputation":10410,"user_id":14738,"display_name":"jussij"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1461557901,"creation_date":1222652253,"answer_id":147223,"question_id":147181,"body_markdown":"IMHO [JSmooth][1] seems to do a pretty good job.\r\n\r\n\r\n  [1]: http://jsmooth.sourceforge.net/","title":"How can I convert my Java program to an .exe file?","body":"<p>IMHO <a href=\"http://jsmooth.sourceforge.net/\" rel=\"noreferrer\">JSmooth</a> seems to do a pretty good job.</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1543048078,"creation_date":1222652425,"answer_id":147230,"question_id":147181,"body_markdown":"&gt; **UPDATE:** GCJ is dead. It was [officially removed][1] from the GCC project in 2016. Even before that, it was practically abandoned for seven years, and in any case it [was never sufficiently complete][2] to serve as a viable alternative Java implementation.\n&gt;\n&gt; Go find another Java AOT compiler.\n\n[GCJ: The GNU Compiler for Java][3] can compile Java source code into native machine code, including Windows executables.\n\nAlthough not everything in Java is supported under GCJ, especially the GUI components (see \n[What Java API&#39;s are supported? How complete is the support?][4] question from the [FAQ][5]). I haven&#39;t used GCJ much, but from the limited testing I&#39;ve done with console applications, it seems fine.\n\nOne downside of using GCJ to create an standalone executable is that the size of the resulting EXE can be quite large. One time I compiled a trivial console application in GCJ and the result was an executable about 1 MB. (There may be ways around this that I am not aware of. Another option would be executable compression programs.)\n\nIn terms of open-source installers, the [Nullsoft Scriptable Install System][6] is a scriptable installer. If you&#39;re curious, there are [user contributed examples][7] on how to detect the presence of a JRE and install it automatically if the required JRE is not installed. (Just to let you know, I haven&#39;t used NSIS before.)\n\nFor more information on using NSIS for installing Java applications, please take a look at [my response][8] for the question &quot;[What&#39;s the best way to distribute Java applications?][8]&quot;\n\n\n  [1]: https://tromey.com/blog/?p=911\n  [2]: https://stackoverflow.com/a/4040404\n  [3]: https://web.archive.org/web/20161119151952im_/http://gcc.gnu.org/java/\n  [4]: https://web.archive.org/web/20161020222532im_/https://gcc.gnu.org/java/faq.html#2_1\n  [5]: https://web.archive.org/web/20161020222532im_/https://gcc.gnu.org/java/faq.html\n  [6]: https://nsis.sourceforge.io/Main_Page\n  [7]: https://nsis.sourceforge.io/Category:Code_Examples\n  [8]: https://stackoverflow.com/questions/80105/whats-the-best-way-to-distribute-java-applications#101628","title":"How can I convert my Java program to an .exe file?","body":"<blockquote>\n<p><strong>UPDATE:</strong> GCJ is dead. It was <a href=\"https://tromey.com/blog/?p=911\" rel=\"noreferrer\">officially removed</a> from the GCC project in 2016. Even before that, it was practically abandoned for seven years, and in any case it <a href=\"https://stackoverflow.com/a/4040404\">was never sufficiently complete</a> to serve as a viable alternative Java implementation.</p>\n<p>Go find another Java AOT compiler.</p>\n</blockquote>\n<p><a href=\"https://web.archive.org/web/20161119151952im_/http://gcc.gnu.org/java/\" rel=\"noreferrer\">GCJ: The GNU Compiler for Java</a> can compile Java source code into native machine code, including Windows executables.</p>\n<p>Although not everything in Java is supported under GCJ, especially the GUI components (see\n<a href=\"https://web.archive.org/web/20161020222532im_/https://gcc.gnu.org/java/faq.html#2_1\" rel=\"noreferrer\">What Java API's are supported? How complete is the support?</a> question from the <a href=\"https://web.archive.org/web/20161020222532im_/https://gcc.gnu.org/java/faq.html\" rel=\"noreferrer\">FAQ</a>). I haven't used GCJ much, but from the limited testing I've done with console applications, it seems fine.</p>\n<p>One downside of using GCJ to create an standalone executable is that the size of the resulting EXE can be quite large. One time I compiled a trivial console application in GCJ and the result was an executable about 1 MB. (There may be ways around this that I am not aware of. Another option would be executable compression programs.)</p>\n<p>In terms of open-source installers, the <a href=\"https://nsis.sourceforge.io/Main_Page\" rel=\"noreferrer\">Nullsoft Scriptable Install System</a> is a scriptable installer. If you're curious, there are <a href=\"https://nsis.sourceforge.io/Category:Code_Examples\" rel=\"noreferrer\">user contributed examples</a> on how to detect the presence of a JRE and install it automatically if the required JRE is not installed. (Just to let you know, I haven't used NSIS before.)</p>\n<p>For more information on using NSIS for installing Java applications, please take a look at <a href=\"https://stackoverflow.com/questions/80105/whats-the-best-way-to-distribute-java-applications#101628\">my response</a> for the question &quot;<a href=\"https://stackoverflow.com/questions/80105/whats-the-best-way-to-distribute-java-applications#101628\">What's the best way to distribute Java applications?</a>&quot;</p>\n"},{"tags":[],"owner":{"account_id":10921,"reputation":42038,"user_id":20840,"accept_rate":100,"display_name":"Jay"},"down_vote_count":2,"up_vote_count":376,"is_accepted":true,"score":374,"last_activity_date":1682431919,"creation_date":1222652532,"answer_id":147233,"question_id":147181,"body_markdown":"### [javapackager][1]\r\n\r\n&gt; The Java Packager tool compiles, packages, and prepares Java and JavaFX applications for distribution. The javapackager command is the command-line version.\r\n&gt;\r\n&gt; – Oracle&#39;s documentation\r\n\r\nThe `javapackager` utility ships with the JDK. It can generate .exe files with the `-native exe` flag, among many other things.\r\n\r\n### [WinRun4J][2]\r\n\r\n&gt; WinRun4j is a java launcher for windows. It is an alternative to javaw.exe and provides the following benefits:\r\n&gt;\r\n&gt; - Uses an INI file for specifying classpath, main class, vm args, program args.\r\n&gt; - Custom executable name that appears in task manager.\r\n&gt; - Additional JVM args for more flexible memory use.\r\n&gt; - Built-in icon replacer for custom icon.\r\n&gt; - *[more bullet points follow]*\r\n&gt;\r\n&gt; – WinRun4J&#39;s webpage\r\n\r\nWinRun4J is an open source utility. It has *many* features.\r\n\r\n### [packr][3]\r\n\r\n&gt; Packages your JAR, assets and a JVM for distribution on Windows, Linux and Mac OS X, adding a native executable file to make it appear like a native app. Packr is most suitable for GUI applications.\r\n&gt;\r\n&gt; – packr README\r\n\r\npackr is another open source tool.\r\n\r\n### [JSmooth][5]\r\n\r\n&gt; JSmooth is a Java Executable Wrapper. It creates native Windows launchers (standard .exe) for your java applications. It makes java deployment much smoother and user-friendly, as it is able to find any installed Java VM by itself.\r\n&gt;\r\n&gt; – JSmooth&#39;s website\r\n\r\nJSmooth is open source and has features, but it is very old. The last release was in 2007.\r\n\r\n### [JexePack][6] ###\r\n\r\n&gt; *JexePack* is a command line tool (great for automated scripting) that allows you to package your Java application (class files), optionally along with its resources (like GIF/JPG/TXT/etc), into a single *compressed* 32-bit Windows EXE, which runs using Sun&#39;s Java Runtime Environment. Both console and windowed applications are supported.\r\n&gt;\r\n&gt; – JexePack&#39;s website\r\n\r\nJexePack is trialware. Payment is required for production use, and exe files created with this tool will display &quot;reminders&quot; without payment. Also, the last release was in 2013.\r\n\r\n### [InstallAnywhere][7]\r\n\r\n&gt; InstallAnywhere makes it easy for developers to create professional installation software for any platform. With InstallAnywhere, you’ll adapt to industry changes quickly, get to market faster and deliver an engaging customer experience. And know the vulnerability of your project’s OSS components before you ship.\r\n&gt;\r\n&gt; – InstallAnywhere&#39;s website\r\n\r\nInstallAnywhere is a commercial/enterprise package that generates installers for Java-based programs. It&#39;s probably capable of creating .exe files.\r\n\r\n### Executable JAR files\r\n\r\nAs an alternative to .exe files, you can create a JAR file that automatically runs when double-clicked, by [adding an entry point to the JAR manifest][8].\r\n\r\n----\r\n\r\n# For more information\r\n\r\nAn excellent source of information on this topic is this article, &quot;[Convert Java to EXE – Why, When, When Not and How][9]&quot;, by Dmitry Leskov\r\n\r\nSee also the companion page &quot;[Best JAR to EXE Conversion Tools, Free and Commercial][10]&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/tools/javapackager.htm\r\n  [2]: https://winrun4j.sourceforge.net/\r\n  [3]: https://github.com/libgdx/packr\r\n  [4]: https://github.com/libgdx/packr/tree/master/src/main/native\r\n  [5]: https://jsmooth.sourceforge.net/\r\n  [6]: https://www.duckware.com/jexepack/index.html\r\n  [7]: https://www.flexera.com/products/installation/installanywhere.html\r\n  [8]: https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\r\n  [9]: https://web.archive.org/web/20181117071040/https://www.excelsior-usa.com/articles/java-to-exe.html\r\n  [10]: https://web.archive.org/web/20160808182011/https://www.excelsior-usa.com/articles/best-jar-to-exe-conversion-tools-free-commercial.html","title":"How can I convert my Java program to an .exe file?","body":"<h3><a href=\"https://docs.oracle.com/javase/10/tools/javapackager.htm\" rel=\"nofollow noreferrer\">javapackager</a></h3>\n<blockquote>\n<p>The Java Packager tool compiles, packages, and prepares Java and JavaFX applications for distribution. The javapackager command is the command-line version.</p>\n<p>– Oracle's documentation</p>\n</blockquote>\n<p>The <code>javapackager</code> utility ships with the JDK. It can generate .exe files with the <code>-native exe</code> flag, among many other things.</p>\n<h3><a href=\"https://winrun4j.sourceforge.net/\" rel=\"nofollow noreferrer\">WinRun4J</a></h3>\n<blockquote>\n<p>WinRun4j is a java launcher for windows. It is an alternative to javaw.exe and provides the following benefits:</p>\n<ul>\n<li>Uses an INI file for specifying classpath, main class, vm args, program args.</li>\n<li>Custom executable name that appears in task manager.</li>\n<li>Additional JVM args for more flexible memory use.</li>\n<li>Built-in icon replacer for custom icon.</li>\n<li><em>[more bullet points follow]</em></li>\n</ul>\n<p>– WinRun4J's webpage</p>\n</blockquote>\n<p>WinRun4J is an open source utility. It has <em>many</em> features.</p>\n<h3><a href=\"https://github.com/libgdx/packr\" rel=\"nofollow noreferrer\">packr</a></h3>\n<blockquote>\n<p>Packages your JAR, assets and a JVM for distribution on Windows, Linux and Mac OS X, adding a native executable file to make it appear like a native app. Packr is most suitable for GUI applications.</p>\n<p>– packr README</p>\n</blockquote>\n<p>packr is another open source tool.</p>\n<h3><a href=\"https://jsmooth.sourceforge.net/\" rel=\"nofollow noreferrer\">JSmooth</a></h3>\n<blockquote>\n<p>JSmooth is a Java Executable Wrapper. It creates native Windows launchers (standard .exe) for your java applications. It makes java deployment much smoother and user-friendly, as it is able to find any installed Java VM by itself.</p>\n<p>– JSmooth's website</p>\n</blockquote>\n<p>JSmooth is open source and has features, but it is very old. The last release was in 2007.</p>\n<h3><a href=\"https://www.duckware.com/jexepack/index.html\" rel=\"nofollow noreferrer\">JexePack</a></h3>\n<blockquote>\n<p><em>JexePack</em> is a command line tool (great for automated scripting) that allows you to package your Java application (class files), optionally along with its resources (like GIF/JPG/TXT/etc), into a single <em>compressed</em> 32-bit Windows EXE, which runs using Sun's Java Runtime Environment. Both console and windowed applications are supported.</p>\n<p>– JexePack's website</p>\n</blockquote>\n<p>JexePack is trialware. Payment is required for production use, and exe files created with this tool will display &quot;reminders&quot; without payment. Also, the last release was in 2013.</p>\n<h3><a href=\"https://www.flexera.com/products/installation/installanywhere.html\" rel=\"nofollow noreferrer\">InstallAnywhere</a></h3>\n<blockquote>\n<p>InstallAnywhere makes it easy for developers to create professional installation software for any platform. With InstallAnywhere, you’ll adapt to industry changes quickly, get to market faster and deliver an engaging customer experience. And know the vulnerability of your project’s OSS components before you ship.</p>\n<p>– InstallAnywhere's website</p>\n</blockquote>\n<p>InstallAnywhere is a commercial/enterprise package that generates installers for Java-based programs. It's probably capable of creating .exe files.</p>\n<h3>Executable JAR files</h3>\n<p>As an alternative to .exe files, you can create a JAR file that automatically runs when double-clicked, by <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">adding an entry point to the JAR manifest</a>.</p>\n<hr />\n<h1>For more information</h1>\n<p>An excellent source of information on this topic is this article, &quot;<a href=\"https://web.archive.org/web/20181117071040/https://www.excelsior-usa.com/articles/java-to-exe.html\" rel=\"nofollow noreferrer\">Convert Java to EXE – Why, When, When Not and How</a>&quot;, by Dmitry Leskov</p>\n<p>See also the companion page &quot;<a href=\"https://web.archive.org/web/20160808182011/https://www.excelsior-usa.com/articles/best-jar-to-exe-conversion-tools-free-commercial.html\" rel=\"nofollow noreferrer\">Best JAR to EXE Conversion Tools, Free and Commercial</a>&quot;</p>\n"},{"tags":[],"owner":{"account_id":11160,"reputation":6376,"user_id":21368,"display_name":"the.duckman"},"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1543040130,"creation_date":1222675837,"answer_id":147889,"question_id":147181,"body_markdown":"# [Launch4j][1]\n\n&gt; Launch4j is a cross-platform tool for wrapping Java applications distributed as jars in lightweight Windows native executables. The executable can be configured to search for a certain JRE version or use a bundled one, and it&#39;s possible to set runtime options, like the initial/max heap size. The wrapper also provides better user experience through an application icon, a native pre-JRE splash screen, a custom process name, and a Java download page in case the appropriate JRE cannot be found.\n&gt;\n&gt;  – Launch4j&#39;s website\n\n\n  [1]: http://launch4j.sourceforge.net/","title":"How can I convert my Java program to an .exe file?","body":"<h1><a href=\"http://launch4j.sourceforge.net/\" rel=\"noreferrer\">Launch4j</a></h1>\n<blockquote>\n<p>Launch4j is a cross-platform tool for wrapping Java applications distributed as jars in lightweight Windows native executables. The executable can be configured to search for a certain JRE version or use a bundled one, and it's possible to set runtime options, like the initial/max heap size. The wrapper also provides better user experience through an application icon, a native pre-JRE splash screen, a custom process name, and a Java download page in case the appropriate JRE cannot be found.</p>\n<p>– Launch4j's website</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12009,"reputation":4327,"user_id":23428,"accept_rate":83,"display_name":"Stroboskop"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1682431298,"creation_date":1222693306,"answer_id":148553,"question_id":147181,"body_markdown":"We&#39;re using [Install4J][1] to build installers for Windows or Unix environments.\r\n\r\nIt&#39;s easily customizable up to the point where you want to write scripts for special actions that cannot be done with standard dialogues. But even though we&#39;re setting up Windows services with it, we&#39;re only using standard components.\r\n\r\n  - installer + launcher\r\n  - Windows or Unix\r\n  - scriptable in Java\r\n  - ant task\r\n  - lots of customizable standard panels and actions\r\n  - optionally includes or downloads a JRE\r\n  - can also launch Windows services\r\n  - multiple languages\r\n\r\nI think Launch4J is from the same company (just the launcher - no installer).\r\n\r\n  [1]: http://www.ej-technologies.com/products/install4j/overview.html","title":"How can I convert my Java program to an .exe file?","body":"<p>We're using <a href=\"http://www.ej-technologies.com/products/install4j/overview.html\" rel=\"nofollow noreferrer\">Install4J</a> to build installers for Windows or Unix environments.</p>\n<p>It's easily customizable up to the point where you want to write scripts for special actions that cannot be done with standard dialogues. But even though we're setting up Windows services with it, we're only using standard components.</p>\n<ul>\n<li>installer + launcher</li>\n<li>Windows or Unix</li>\n<li>scriptable in Java</li>\n<li>ant task</li>\n<li>lots of customizable standard panels and actions</li>\n<li>optionally includes or downloads a JRE</li>\n<li>can also launch Windows services</li>\n<li>multiple languages</li>\n</ul>\n<p>I think Launch4J is from the same company (just the launcher - no installer).</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1682431366,"creation_date":1243418994,"answer_id":914948,"question_id":147181,"body_markdown":"The latest version of [tag:Java-Web-Start] has been enhanced to allow good offline operation as well as allowing &quot;local installation&quot;. It is worth looking into.\r\n\r\nHowever, as of 2018 Java Web Start is no longer bundled with the newest JDKs.  Oracle is pushing toward a &quot;deploy your app locally with an enclosed JRE&quot; model instead.","title":"How can I convert my Java program to an .exe file?","body":"<p>The latest version of <a href=\"/questions/tagged/java-web-start\" class=\"post-tag\" title=\"show questions tagged &#39;java-web-start&#39;\" aria-label=\"show questions tagged &#39;java-web-start&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-web-start-tooltip-container\">java-web-start</a> has been enhanced to allow good offline operation as well as allowing &quot;local installation&quot;. It is worth looking into.</p>\n<p>However, as of 2018 Java Web Start is no longer bundled with the newest JDKs.  Oracle is pushing toward a &quot;deploy your app locally with an enclosed JRE&quot; model instead.</p>\n"},{"tags":[],"owner":{"account_id":100964,"reputation":251,"user_id":271872,"display_name":"Ivan Maidanski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1275056774,"creation_date":1275056774,"answer_id":2929857,"question_id":147181,"body_markdown":"Alternatively, you can use some java-to-c translator (e.g., [JCGO][1]) and compile the generated C files to a native binary (.exe) file for the target platform.\r\n\r\n\r\n  [1]: http://www.ivmaisoft.com/jcgo/","title":"How can I convert my Java program to an .exe file?","body":"<p>Alternatively, you can use some java-to-c translator (e.g., <a href=\"http://www.ivmaisoft.com/jcgo/\" rel=\"noreferrer\">JCGO</a>) and compile the generated C files to a native binary (.exe) file for the target platform.</p>\n"},{"tags":[],"owner":{"account_id":1233203,"reputation":4084,"user_id":1197359,"accept_rate":99,"display_name":"Stanley Mungai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1342703784,"creation_date":1342703784,"answer_id":11561697,"question_id":147181,"body_markdown":" I can be forgiven for being against converting a java program to a .exe Application and I have My reasons. the Major one being that a java program can be compiled to a jar file from A lot of IDE&#39;s. When the program is in .jar format, it can run in Multiple Platforms as opposed to .exe which would run Only in very limited Environment. I am for the Idea that Java Programs shoudl not be converted to Exe unless it is very neccesary. One can always write .bat files that runs the Java program while it is a jar file.\r\n\r\nif it is really neccesary to convert it to exe, Jar2Exe converter silently does that and one can also attach Libraries that are compiled together with the Main Application.","title":"How can I convert my Java program to an .exe file?","body":"<p>I can be forgiven for being against converting a java program to a .exe Application and I have My reasons. the Major one being that a java program can be compiled to a jar file from A lot of IDE's. When the program is in .jar format, it can run in Multiple Platforms as opposed to .exe which would run Only in very limited Environment. I am for the Idea that Java Programs shoudl not be converted to Exe unless it is very neccesary. One can always write .bat files that runs the Java program while it is a jar file.</p>\n\n<p>if it is really neccesary to convert it to exe, Jar2Exe converter silently does that and one can also attach Libraries that are compiled together with the Main Application.</p>\n"},{"tags":[],"owner":{"account_id":1256060,"reputation":617,"user_id":1215488,"accept_rate":20,"display_name":"Pratanu Mandal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1346092848,"creation_date":1346092848,"answer_id":12147646,"question_id":147181,"body_markdown":"I would say launch4j is the best tool for converting a java source code(.java) to .exe file\r\nYou can even bundle a jre with it for distribution and the exe can even be iconified.\r\nAlthough the size of application increases, it makes sure that the application will work perfectly even if the user does not have a jre installed. It also makes sure that you are able to provide the specific jre required for your app without the user having to install it separately.\r\nBut unfortunately, java loses its importance. Its multi platform support is totally ignored and the final app is only supported for windows. But that is not a big deal, if you are catering only to windows users.","title":"How can I convert my Java program to an .exe file?","body":"<p>I would say launch4j is the best tool for converting a java source code(.java) to .exe file\nYou can even bundle a jre with it for distribution and the exe can even be iconified.\nAlthough the size of application increases, it makes sure that the application will work perfectly even if the user does not have a jre installed. It also makes sure that you are able to provide the specific jre required for your app without the user having to install it separately.\nBut unfortunately, java loses its importance. Its multi platform support is totally ignored and the final app is only supported for windows. But that is not a big deal, if you are catering only to windows users.</p>\n"},{"tags":[],"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461557992,"creation_date":1350408134,"answer_id":12920172,"question_id":147181,"body_markdown":"You can convert jar to exe using [jar2exe][1]. However you need to purchase the software. If you need a open source software i would suggest [JSmooth][2].\r\n\r\n\r\n  [1]: http://www.regexlab.com/en/jar2exe/\r\n  [2]: http://jsmooth.sourceforge.net/","title":"How can I convert my Java program to an .exe file?","body":"<p>You can convert jar to exe using <a href=\"http://www.regexlab.com/en/jar2exe/\" rel=\"nofollow\">jar2exe</a>. However you need to purchase the software. If you need a open source software i would suggest <a href=\"http://jsmooth.sourceforge.net/\" rel=\"nofollow\">JSmooth</a>.</p>\n"},{"tags":[],"owner":{"account_id":1718001,"reputation":195,"user_id":1574672,"display_name":"L. BIZE"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1370855634,"creation_date":1370855634,"answer_id":17020449,"question_id":147181,"body_markdown":"You can use [Janel][1]. This last works as an application launcher or service launcher (available from 4.x).\r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/janel/","title":"How can I convert my Java program to an .exe file?","body":"<p>You can use <a href=\"http://sourceforge.net/projects/janel/\" rel=\"noreferrer\">Janel</a>. This last works as an application launcher or service launcher (available from 4.x).</p>\n"},{"tags":[],"owner":{"display_name":"user2675678"},"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1543048630,"creation_date":1376754124,"answer_id":18290528,"question_id":147181,"body_markdown":"You could make a batch file with the following code:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    start javaw -jar JarFile.jar\r\n\r\nand convert the .bat to an .exe using any .bat to .exe converter.","title":"How can I convert my Java program to an .exe file?","body":"<p>You could make a batch file with the following code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>start javaw -jar JarFile.jar\n</code></pre>\n\n<p>and convert the .bat to an .exe using any .bat to .exe converter.</p>\n"},{"tags":[],"owner":{"account_id":17546559,"reputation":408,"user_id":12727767,"display_name":"mmonteirocl"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1592696177,"creation_date":1592660675,"answer_id":62486633,"question_id":147181,"body_markdown":"Java projects are exported as Jar executables. When you wanna do a .exe file of a java project, what you can do is &#39;convert&#39; the JAR to EXE   (i remark that i putted between quotes convert because isn&#39;t exactly this).\r\n\r\nFrom intelij you gonna be able to generate only the jar\r\n\r\nTry following the next example : https://www.genuinecoder.com/convert-java-jar-to-exe/\r\n","title":"How can I convert my Java program to an .exe file?","body":"<p>Java projects are exported as Jar executables. When you wanna do a .exe file of a java project, what you can do is 'convert' the JAR to EXE   (i remark that i putted between quotes convert because isn't exactly this).</p>\n<p>From intelij you gonna be able to generate only the jar</p>\n<p>Try following the next example : <a href=\"https://www.genuinecoder.com/convert-java-jar-to-exe/\" rel=\"nofollow noreferrer\">https://www.genuinecoder.com/convert-java-jar-to-exe/</a></p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1641470827,"creation_date":1622551860,"answer_id":67789213,"question_id":147181,"body_markdown":"As of JDK14, [jpackage][1] replaces `javapackager` mentioned in @Jay answer. The Windows version requires Wix 3.0 and it is fairly straightforward to take a java application and build an installer which provides EXE launcher. \r\n\r\nIt can also be used with [jlink][2] to build a cut-down Java runtime image which is bundled with the installer and only contains the set of modules needed to support your application. The `jlink` step will also be run implicitly by jpackage if no runtime is specified, but I prefer to make the JRE image separately as it will only change when you update JDK or add new module dependencies to your project.\r\n\r\nExample main for Java class:\r\n\r\n    package exe;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                System.out.println(&quot;args[&quot;+i+&quot;]=&quot;+args[i]);\r\n            }\r\n        }\r\n    }\r\n\r\nHere are example steps to build on Windows - obviously you&#39;d set up your local build environment (Maven / ant / etc) to re-produce this:\r\n\r\n    mkdir jpackage.input\\jars tmp\r\n    javac -d tmp src\\exe\\Main.java\r\n    pushd tmp &amp;&amp; jar cvf ..\\jpackage.input\\jars\\myapp.jar . &amp;&amp; popd\r\n\r\nCheck it runs:\r\n\r\n    java -cp jpackage.input\\jars\\myapp.jar exe.Main X Y Z\r\n\r\nCreate a runtime image with jlink for the set of modules use by your application:\r\n\r\n    set jlink.modules=java.base\r\n    jlink --add-modules %jlink.modules% --strip-debug --no-man-pages --no-header-files --compress=1 --output jpackage.jre\r\n\r\nIn case there are missing modules above, you should check the jlink JRE runtime image can run your app:\r\n\r\n    jpackage.jre\\bin\\java -cp jpackage.input\\jars\\myapp.jar exe.Main X Y Z\r\n\r\nUse jpackage to generate installer, with app [version][3] based on date+hour (this saves on need to un-install every re-install) and to print out all system properties - remove the parameter &quot;-XshowSettings:properties&quot; after testing:\r\n\r\n    set appver=%date:~6,2%.%date:~3,2%.%date:~0,2%%time:~0,2%\r\n    jpackage --win-console --input jpackage.input --runtime-image jpackage.jre --app-version %appver% --type exe --name &quot;MyApp&quot; --dest jpackage.dest --java-options &quot;-XshowSettings:properties&quot; --main-jar jars\\myapp.jar --main-class exe.Main\r\n\r\nRun the installer:\r\n\r\n    jpackage.dest\\MyApp-%appver%.exe\r\n\r\nTest the application:\r\n\r\n    &quot;C:\\Program Files\\MyApp\\MyApp.exe&quot; ONE 2 THREE\r\n\r\n    ... Prints system properties ...\r\n\r\n    args[0]=ONE\r\n    args[1]=2\r\n    args[2]=THREE\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/jpackage/packaging-overview.html\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/specs/man/jlink.html\r\n  [3]: https://stackoverflow.com/questions/62675323/cannot-rerun-java-jpackage-installer-if-already-installed-second-time-just-exit/62819060#62819060","title":"How can I convert my Java program to an .exe file?","body":"<p>As of JDK14, <a href=\"https://docs.oracle.com/en/java/javase/16/jpackage/packaging-overview.html\" rel=\"noreferrer\">jpackage</a> replaces <code>javapackager</code> mentioned in @Jay answer. The Windows version requires Wix 3.0 and it is fairly straightforward to take a java application and build an installer which provides EXE launcher.</p>\n<p>It can also be used with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/specs/man/jlink.html\" rel=\"noreferrer\">jlink</a> to build a cut-down Java runtime image which is bundled with the installer and only contains the set of modules needed to support your application. The <code>jlink</code> step will also be run implicitly by jpackage if no runtime is specified, but I prefer to make the JRE image separately as it will only change when you update JDK or add new module dependencies to your project.</p>\n<p>Example main for Java class:</p>\n<pre><code>package exe;\npublic class Main {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; args.length; i++) {\n            System.out.println(&quot;args[&quot;+i+&quot;]=&quot;+args[i]);\n        }\n    }\n}\n</code></pre>\n<p>Here are example steps to build on Windows - obviously you'd set up your local build environment (Maven / ant / etc) to re-produce this:</p>\n<pre><code>mkdir jpackage.input\\jars tmp\njavac -d tmp src\\exe\\Main.java\npushd tmp &amp;&amp; jar cvf ..\\jpackage.input\\jars\\myapp.jar . &amp;&amp; popd\n</code></pre>\n<p>Check it runs:</p>\n<pre><code>java -cp jpackage.input\\jars\\myapp.jar exe.Main X Y Z\n</code></pre>\n<p>Create a runtime image with jlink for the set of modules use by your application:</p>\n<pre><code>set jlink.modules=java.base\njlink --add-modules %jlink.modules% --strip-debug --no-man-pages --no-header-files --compress=1 --output jpackage.jre\n</code></pre>\n<p>In case there are missing modules above, you should check the jlink JRE runtime image can run your app:</p>\n<pre><code>jpackage.jre\\bin\\java -cp jpackage.input\\jars\\myapp.jar exe.Main X Y Z\n</code></pre>\n<p>Use jpackage to generate installer, with app <a href=\"https://stackoverflow.com/questions/62675323/cannot-rerun-java-jpackage-installer-if-already-installed-second-time-just-exit/62819060#62819060\">version</a> based on date+hour (this saves on need to un-install every re-install) and to print out all system properties - remove the parameter &quot;-XshowSettings:properties&quot; after testing:</p>\n<pre><code>set appver=%date:~6,2%.%date:~3,2%.%date:~0,2%%time:~0,2%\njpackage --win-console --input jpackage.input --runtime-image jpackage.jre --app-version %appver% --type exe --name &quot;MyApp&quot; --dest jpackage.dest --java-options &quot;-XshowSettings:properties&quot; --main-jar jars\\myapp.jar --main-class exe.Main\n</code></pre>\n<p>Run the installer:</p>\n<pre><code>jpackage.dest\\MyApp-%appver%.exe\n</code></pre>\n<p>Test the application:</p>\n<pre><code>&quot;C:\\Program Files\\MyApp\\MyApp.exe&quot; ONE 2 THREE\n\n... Prints system properties ...\n\nargs[0]=ONE\nargs[1]=2\nargs[2]=THREE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641288417,"creation_date":1641288417,"answer_id":70576590,"question_id":147181,"body_markdown":"*Cautionary note:* Much has changed with packaging and deployment since this question was first asked. Most of the answers given are not even current with JIGSAW (Java 9+).\r\n\r\nIf the goal is to create OS specific packages, information is provided in Oracle Docs Java 17 [Packaging Tool User Guide][1]. This guide includes documentation for the `jpackage` tool, which allows one to create platform-specific packages for Linux, macOS and Windows. I assume the Windows-specific instructions should include arriving at an .exe file, since that remains the most familiar way for Windows users to install and run applications.\r\n\r\nMy own personal experience creating an exe (for sale on itch.io) was with the *Java Platform, Standard Edition Deployment Guide*, which included making use of the tool *Inno Setup 5*. This documentation is older, is for Java 9. The section directly pertaining to .exe packaging is located [here][2] As a first step, I used `jlink` to make a self-contained package. At the time I was first wrangling with this, I was unable to figure out how to get `jpackage` to work with my modular program. But now that Jigsaw has been around for several years, `jpackage` is now likely much easier to use, and would be my first choice for the next Java app I might publish for Windows users.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/7/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\r\n  [2]: https://docs.oracle.com/javase/10/deploy/self-contained-application-packaging.htm#JSDPG600","title":"How can I convert my Java program to an .exe file?","body":"<p><em>Cautionary note:</em> Much has changed with packaging and deployment since this question was first asked. Most of the answers given are not even current with JIGSAW (Java 9+).</p>\n<p>If the goal is to create OS specific packages, information is provided in Oracle Docs Java 17 <a href=\"https://docs.oracle.com/en/java/javase/7/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">Packaging Tool User Guide</a>. This guide includes documentation for the <code>jpackage</code> tool, which allows one to create platform-specific packages for Linux, macOS and Windows. I assume the Windows-specific instructions should include arriving at an .exe file, since that remains the most familiar way for Windows users to install and run applications.</p>\n<p>My own personal experience creating an exe (for sale on itch.io) was with the <em>Java Platform, Standard Edition Deployment Guide</em>, which included making use of the tool <em>Inno Setup 5</em>. This documentation is older, is for Java 9. The section directly pertaining to .exe packaging is located <a href=\"https://docs.oracle.com/javase/10/deploy/self-contained-application-packaging.htm#JSDPG600\" rel=\"nofollow noreferrer\">here</a> As a first step, I used <code>jlink</code> to make a self-contained package. At the time I was first wrangling with this, I was unable to figure out how to get <code>jpackage</code> to work with my modular program. But now that Jigsaw has been around for several years, <code>jpackage</code> is now likely much easier to use, and would be my first choice for the next Java app I might publish for Windows users.</p>\n"}],"owner":{"account_id":11676,"reputation":11811,"user_id":22634,"accept_rate":73,"display_name":"Waseem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513599,"favorite_count":0,"down_vote_count":5,"up_vote_count":583,"accepted_answer_id":147233,"answer_count":15,"score":578,"last_activity_date":1682431919,"creation_date":1222651439,"question_id":147181,"body_markdown":"If I have a Java source file (\\*.java) or a class file (\\*.class), how can I convert it to a .exe file?\r\n\r\nI also need an installer for my program.","title":"How can I convert my Java program to an .exe file?","body":"<p>If I have a Java source file (*.java) or a class file (*.class), how can I convert it to a .exe file?</p>\n\n<p>I also need an installer for my program.</p>\n"},{"tags":["java","android","uinavigationbar","fullscreen"],"comments":[{"owner":{"account_id":1370737,"reputation":9894,"user_id":1306012,"accept_rate":97,"display_name":"Bruno Bieri"},"score":1,"creation_date":1596117902,"post_id":63174341,"comment_id":111713939,"body_markdown":"Do you follow this? https://developer.android.com/training/system-ui/immersive#EnableFullscreen ? If so I don&#39;t see a &#39;smoother&#39; way to achieve what you want.","body":"Do you follow this? <a href=\"https://developer.android.com/training/system-ui/immersive#EnableFullscreen\" rel=\"nofollow noreferrer\">developer.android.com/training/system-ui/&hellip;</a> ? If so I don&#39;t see a &#39;smoother&#39; way to achieve what you want."},{"owner":{"account_id":12484458,"reputation":2401,"user_id":9088126,"accept_rate":53,"display_name":"bellotas"},"score":0,"creation_date":1596118721,"post_id":63174341,"comment_id":111714402,"body_markdown":"Worked like charm buddy, just needed to write different values :) Thanks","body":"Worked like charm buddy, just needed to write different values :) Thanks"},{"owner":{"account_id":1370737,"reputation":9894,"user_id":1306012,"accept_rate":97,"display_name":"Bruno Bieri"},"score":1,"creation_date":1596119315,"post_id":63174341,"comment_id":111714710,"body_markdown":"Maybe answer your question yourself what exactly you changed in your code. This way others can learn as well.","body":"Maybe answer your question yourself what exactly you changed in your code. This way others can learn as well."}],"answers":[{"tags":[],"owner":{"account_id":12484458,"reputation":2401,"user_id":9088126,"accept_rate":53,"display_name":"bellotas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596182290,"creation_date":1596119508,"answer_id":63175393,"question_id":63174341,"body_markdown":"After following Bruno s comment I have updated my code and solve the error:\r\n\r\n     getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_IMMERSIVE\r\n                // Set the content to appear under the system bars so that the\r\n                // content doesn&#39;t resize when the system bars hide and show.\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                // Hide the nav bar and status bar\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n\r\nNote that I did not want to remove completely the `appbar`. Therefore I did not include the following line `| View.SYSTEM_UI_FLAG_FULLSCREEN);` at the end.\r\n\r\n   **Update**\r\n\r\nNote that if you want your layout to appear under the `appbar` and not under it, this line needs to be removed\r\n\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n","title":"Hide navigation bar without delay in Android","body":"<p>After following Bruno s comment I have updated my code and solve the error:</p>\n<pre><code> getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_IMMERSIVE\n            // Set the content to appear under the system bars so that the\n            // content doesn't resize when the system bars hide and show.\n            | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            // Hide the nav bar and status bar\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n</code></pre>\n<p>Note that I did not want to remove completely the <code>appbar</code>. Therefore I did not include the following line <code>| View.SYSTEM_UI_FLAG_FULLSCREEN);</code> at the end.</p>\n<p><strong>Update</strong></p>\n<p>Note that if you want your layout to appear under the <code>appbar</code> and not under it, this line needs to be removed</p>\n<pre><code>                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":131093,"reputation":870,"user_id":330844,"accept_rate":0,"display_name":"user330844"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682431726,"creation_date":1682431726,"answer_id":76102113,"question_id":63174341,"body_markdown":"This worked for me without fail for fragments to which I navigated, I put this code in MainActivity\r\n\r\n````\r\n        navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n\r\n        navController.addOnDestinationChangedListener(new NavController.OnDestinationChangedListener() {\r\n            @Override\r\n            public void onDestinationChanged(@NonNull NavController navController,\r\n                                             @NonNull NavDestination navDestination,\r\n                                             @Nullable Bundle bundle) {\r\n                BottomNavigationView navBar = findViewById(R.id.nav_view);\r\n                if(navDestination.getId() == R.id.navigation_librarySlideShowFragment ||\r\n                        navDestination.getId() == R.id.navigation_settings ||\r\n                        navDestination.getId() == R.id.wifiSettingsFragment ||\r\n                        navDestination.getId() == R.id.playbackFragment) {\r\n                    navBar.setVisibility(View.GONE);\r\n                } else {\r\n                    navBar.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n````","title":"Hide navigation bar without delay in Android","body":"<p>This worked for me without fail for fragments to which I navigated, I put this code in MainActivity</p>\n<pre><code>        navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n\n        navController.addOnDestinationChangedListener(new NavController.OnDestinationChangedListener() {\n            @Override\n            public void onDestinationChanged(@NonNull NavController navController,\n                                             @NonNull NavDestination navDestination,\n                                             @Nullable Bundle bundle) {\n                BottomNavigationView navBar = findViewById(R.id.nav_view);\n                if(navDestination.getId() == R.id.navigation_librarySlideShowFragment ||\n                        navDestination.getId() == R.id.navigation_settings ||\n                        navDestination.getId() == R.id.wifiSettingsFragment ||\n                        navDestination.getId() == R.id.playbackFragment) {\n                    navBar.setVisibility(View.GONE);\n                } else {\n                    navBar.setVisibility(View.VISIBLE);\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":12484458,"reputation":2401,"user_id":9088126,"accept_rate":53,"display_name":"bellotas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63175393,"answer_count":2,"score":1,"last_activity_date":1682431726,"creation_date":1596115986,"question_id":63174341,"body_markdown":"I have a simple application which loads in the background an `ImageView`.\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/splashimage&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        android:src=&quot;@drawable/logo&quot;\r\n        android:visibility=&quot;gone&quot;/&gt;\r\n\r\n I am trying to load the image in full screen mode, meaning no navigation bar and no app bar. I have been able to remove te `appbar` from the very first moment that I run the application by setting the following flag:\r\n\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\nNevertheless, when I try to do the same with the navigation bar at the bottom of the application, there is some delay before getting removed. Therefore, the behaviour is a bit weird. What it happens is that first the `navigation bar` is shown, next it is hidden and shows a white `background`, and only after a second the image fills the gap. I attach a photo to try to reproduce the situation as clear as possible.\r\n\r\nMy question is, how could I show the image covering that space from the beginning rather than following the 3 steps behaviour mentioned below?\r\n\r\nTo hide the navigation bar this code is used;\r\n\r\n            getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_FULLSCREEN |\r\n                View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\r\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AfBWt.png","title":"Hide navigation bar without delay in Android","body":"<p>I have a simple application which loads in the background an <code>ImageView</code>.</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/splashimage&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:scaleType=&quot;centerCrop&quot;\n    android:adjustViewBounds=&quot;true&quot;\n    android:src=&quot;@drawable/logo&quot;\n    android:visibility=&quot;gone&quot;/&gt;\n</code></pre>\n<p>I am trying to load the image in full screen mode, meaning no navigation bar and no app bar. I have been able to remove te <code>appbar</code> from the very first moment that I run the application by setting the following flag:</p>\n<pre><code>        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n</code></pre>\n<p>Nevertheless, when I try to do the same with the navigation bar at the bottom of the application, there is some delay before getting removed. Therefore, the behaviour is a bit weird. What it happens is that first the <code>navigation bar</code> is shown, next it is hidden and shows a white <code>background</code>, and only after a second the image fills the gap. I attach a photo to try to reproduce the situation as clear as possible.</p>\n<p>My question is, how could I show the image covering that space from the beginning rather than following the 3 steps behaviour mentioned below?</p>\n<p>To hide the navigation bar this code is used;</p>\n<pre><code>        getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_FULLSCREEN |\n            View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\n            View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AfBWt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AfBWt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1545387992,"post_id":53883034,"comment_id":94612658,"body_markdown":"Check your `PATH` so you know for sure which file is executed.","body":"Check your <code>PATH</code> so you know for sure which file is executed."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":1,"creation_date":1545388561,"post_id":53883034,"comment_id":94612922,"body_markdown":"additionally, `where java` will tell you the locations of all the programs named `java` on your path.","body":"additionally, <code>where java</code> will tell you the locations of all the programs named <code>java</code> on your path."},{"owner":{"account_id":2324956,"reputation":969,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1545389300,"post_id":53883034,"comment_id":94613333,"body_markdown":"check you have **java.bat** file in the path ,particularly E:\\. It can be simulated if you have java.bat","body":"check you have <b>java.bat</b> file in the path ,particularly E:\\. It can be simulated if you have java.bat"},{"owner":{"account_id":14987540,"reputation":21,"user_id":10819694,"display_name":"qqxyz"},"score":0,"creation_date":1545392898,"post_id":53883034,"comment_id":94614911,"body_markdown":"I rename all of the the java.exe. At last I rename `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe` to `c3.exe`，then I can&#39;t find java in path. After that `c3.exe` is working, rename `c3.exe` to `java.exe`, it failed again.","body":"I rename all of the the java.exe. At last I rename <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe</code> to <code>c3.exe</code>，then I can&#39;t find java in path. After that <code>c3.exe</code> is working, rename <code>c3.exe</code> to <code>java.exe</code>, it failed again."}],"answers":[{"tags":[],"owner":{"account_id":13348814,"reputation":850,"user_id":9634620,"display_name":"geekTechnique"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545388378,"creation_date":1545388378,"answer_id":53883197,"question_id":53883034,"body_markdown":"1. Open windows search and type in &quot;Edit the System Environment Variables&quot;, or just &quot;environment&quot;.\r\n\r\n2. Under the advanced tab, click on the &quot;Environment Variables&quot; button.\r\n\r\n3. In the top portion of the dialog, scroll down until you see &quot;Path&quot;, and click on edit.\r\n\r\n4. Look for whatever directory your java path is pointed to and click delete.\r\n\r\n5. Click &quot;new&quot;, then click browse, and locate the java.exe file. Make sure you don&#39;t change the original file name.\r\n\r\n6. If this doesn&#39;t work, uninstall java and get the latest version for your system from the oracle website, and add the install location to the system path as described in the previous steps.","title":"Windows cmd java output nothing","body":"<ol>\n<li><p>Open windows search and type in \"Edit the System Environment Variables\", or just \"environment\".</p></li>\n<li><p>Under the advanced tab, click on the \"Environment Variables\" button.</p></li>\n<li><p>In the top portion of the dialog, scroll down until you see \"Path\", and click on edit.</p></li>\n<li><p>Look for whatever directory your java path is pointed to and click delete.</p></li>\n<li><p>Click \"new\", then click browse, and locate the java.exe file. Make sure you don't change the original file name.</p></li>\n<li><p>If this doesn't work, uninstall java and get the latest version for your system from the oracle website, and add the install location to the system path as described in the previous steps.</p></li>\n</ol>\n"}],"owner":{"account_id":14987540,"reputation":21,"user_id":10819694,"display_name":"qqxyz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3097,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682431584,"creation_date":1545387840,"question_id":53883034,"body_markdown":"Today the program could not run in Windows Server 2008 r2. And when I run java.exe in windows cmd, I got nothing output, just like the img, java.exe not working, javac is workding, I rename java.exe to c2.exe , then c2.exe is working.\r\n\r\nIs there any suggestion?\r\n\r\n[No output][1]\r\n[Java in path][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/klhPU.png\r\n  [2]: https://i.stack.imgur.com/9PFjx.png","title":"Windows cmd java output nothing","body":"<p>Today the program could not run in Windows Server 2008 r2. And when I run java.exe in windows cmd, I got nothing output, just like the img, java.exe not working, javac is workding, I rename java.exe to c2.exe , then c2.exe is working.</p>\n\n<p>Is there any suggestion?</p>\n\n<p><a href=\"https://i.stack.imgur.com/klhPU.png\" rel=\"nofollow noreferrer\">No output</a>\n<a href=\"https://i.stack.imgur.com/9PFjx.png\" rel=\"nofollow noreferrer\">Java in path</a></p>\n"},{"tags":["java","ssl","encryption","jsse"],"comments":[{"owner":{"account_id":273136,"reputation":1626,"user_id":564553,"accept_rate":92,"display_name":"BPS"},"score":0,"creation_date":1458746111,"post_id":36181007,"comment_id":59999205,"body_markdown":"What risk are you trying to obviate?  If the problem is that you never want to have the plain-text password in memory, then it looks like the library you&#39;re using will not allow you to do that.","body":"What risk are you trying to obviate?  If the problem is that you never want to have the plain-text password in memory, then it looks like the library you&#39;re using will not allow you to do that."},{"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"score":0,"creation_date":1458753881,"post_id":36181007,"comment_id":60004890,"body_markdown":"How else we can do that if I dont want to have a plain text?","body":"How else we can do that if I dont want to have a plain text?"}],"answers":[{"tags":[],"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682431225,"creation_date":1458747010,"answer_id":36182339,"question_id":36181007,"body_markdown":"At some point, your private key/key store password must be visible to enable secure communications to take place. It needs to be stored securely within your web/app server. And your code base needs to be securely stored and only accessible to the people who need to see it. You could store it encrypted somewhere and decrypt it for use, but your encryption and decryption algorithm would still be visible and potentially emulated, so at some point, the means to access the clear text will be available and it&#39;s merely a matter of ensuring that it&#39;s only available to as few people as possible and kept from prying eyes via your network security.\r\n\r\nEncryption technique here, if you need it: https://stackoverflow.com/questions/1205135/how-to-encrypt-string-in-java","title":"Keystore password encrypting in java","body":"<p>At some point, your private key/key store password must be visible to enable secure communications to take place. It needs to be stored securely within your web/app server. And your code base needs to be securely stored and only accessible to the people who need to see it. You could store it encrypted somewhere and decrypt it for use, but your encryption and decryption algorithm would still be visible and potentially emulated, so at some point, the means to access the clear text will be available and it's merely a matter of ensuring that it's only available to as few people as possible and kept from prying eyes via your network security.</p>\n<p>Encryption technique here, if you need it: <a href=\"https://stackoverflow.com/questions/1205135/how-to-encrypt-string-in-java\">How to encrypt String in Java</a></p>\n"}],"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11842,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36182339,"answer_count":1,"score":2,"last_activity_date":1682431225,"creation_date":1458743491,"question_id":36181007,"body_markdown":"I need to set the following variables before invoking remote queue.\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;C:\\\\certs\\\\trustStore.jks&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;,&quot;C:\\\\keystore\\\\keyStore.jks&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;Demo1234&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;Demo1234&quot;);\r\n\r\nThe passwords are exposed here. What is the best way to encrypt the passwords?","title":"Keystore password encrypting in java","body":"<p>I need to set the following variables before invoking remote queue.</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\",\"C:\\\\certs\\\\trustStore.jks\");\nSystem.setProperty(\"javax.net.ssl.keyStore\",\"C:\\\\keystore\\\\keyStore.jks\");\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\",\"Demo1234\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\",\"Demo1234\");\n</code></pre>\n\n<p>The passwords are exposed here. What is the best way to encrypt the passwords?</p>\n"},{"tags":["java","kotlin","stanford-nlp"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1682367494,"post_id":76095656,"comment_id":134201199,"body_markdown":"I think you could append a space to the text and split it by &quot;. &quot;.","body":"I think you could append a space to the text and split it by &quot;. &quot;."},{"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"score":0,"creation_date":1682367908,"post_id":76095656,"comment_id":134201281,"body_markdown":"@ValerijDobler I suppose I could, wondering why stanford NLP would not pick something like this up.","body":"@ValerijDobler I suppose I could, wondering why stanford NLP would not pick something like this up."}],"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682430829,"creation_date":1682366420,"question_id":76095656,"body_markdown":"I am trying to split a complex sentence with location text that contains multiple periods in &quot;string numbers&quot;\r\n\r\nFor example: \r\n\r\n    val text = &quot;First sentence 24-18.07N. Next sentence.&quot;\r\n    val document = Document(text)\r\n    val sentences = document.sentences()\r\n\r\nIn this case I only get one sentence.  Any ideas?","title":"Split text into sentences with Stanford NLP containing periods in text","body":"<p>I am trying to split a complex sentence with location text that contains multiple periods in &quot;string numbers&quot;</p>\n<p>For example:</p>\n<pre><code>val text = &quot;First sentence 24-18.07N. Next sentence.&quot;\nval document = Document(text)\nval sentences = document.sentences()\n</code></pre>\n<p>In this case I only get one sentence.  Any ideas?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":1772094,"reputation":1481,"user_id":1616676,"accept_rate":0,"display_name":"harsh"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1611522043,"creation_date":1521199435,"answer_id":49319608,"question_id":49319468,"body_markdown":"Try changing `private String FirstName,LastName,Email;` to `private String firstName,lastName,email;`\r\n\r\nIt should work.\r\n\r\n`findByFirstName` in `SubscriberRepository ` tries to find a field `firstName` by convention which is not there.\r\n\r\nFurther reference on how properties inside the entities are traversed https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions","title":"Spring Data JPA Unable to locate Attribute with the given name","body":"<p>Try changing <code>private String FirstName,LastName,Email;</code> to <code>private String firstName,lastName,email;</code></p>\n<p>It should work.</p>\n<p><code>findByFirstName</code> in <code>SubscriberRepository </code> tries to find a field <code>firstName</code> by convention which is not there.</p>\n<p>Further reference on how properties inside the entities are traversed <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions</a></p>\n"},{"tags":[],"owner":{"account_id":2042066,"reputation":2730,"user_id":1822974,"accept_rate":55,"display_name":"JPS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1682430700,"creation_date":1521199667,"answer_id":49319681,"question_id":49319468,"body_markdown":"As per [the specification](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions), the property names should start with lower case. \r\n\r\n&gt;[...]The resolution algorithm starts with interpreting the entire part (`AddressZipCode`) as the property and checks the domain class for a property with that name (uncapitalized)[...].\r\n\r\nIt will try to find a property with uncapitalized name. So use `firstName` instead of `FirstName` and etc.. ","title":"Spring Data JPA Unable to locate Attribute with the given name","body":"<p>As per <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">the specification</a>, the property names should start with lower case.</p>\n<blockquote>\n<p>[...]The resolution algorithm starts with interpreting the entire part (<code>AddressZipCode</code>) as the property and checks the domain class for a property with that name (uncapitalized)[...].</p>\n</blockquote>\n<p>It will try to find a property with uncapitalized name. So use <code>firstName</code> instead of <code>FirstName</code> and etc..</p>\n"},{"tags":[],"owner":{"account_id":4770461,"reputation":1485,"user_id":3855359,"accept_rate":73,"display_name":"Osama Al-Banna"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1537703983,"creation_date":1537703983,"answer_id":52465884,"question_id":49319468,"body_markdown":"After I change my `entity class` variables from capital letter to small letter for instance `Username` to `username` the method `Users findByUsername(String username);` is working for me now . ","title":"Spring Data JPA Unable to locate Attribute with the given name","body":"<p>After I change my <code>entity class</code> variables from capital letter to small letter for instance <code>Username</code> to <code>username</code> the method <code>Users findByUsername(String username);</code> is working for me now . </p>\n"},{"tags":[],"owner":{"account_id":13265395,"reputation":1820,"user_id":9578419,"display_name":"S.Daineko"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1562153958,"creation_date":1562153958,"answer_id":56869281,"question_id":49319468,"body_markdown":"The same problem was when i had deal with Spring Data Specifications (https://www.baeldung.com/rest-api-search-language-spring-data-specifications)\r\n\r\nInitial piece of code was:\r\n\r\n    private Specification&lt;Project&gt; checkCriteriaByProjectNumberLike(projectNumber: String) {\r\n        (root, query, criteriaBuilder) -&gt; criteriaBuilder.like(root.get(&quot;project_number&quot;), &quot;%&quot; + projectNumber)\r\n    }\r\n\r\nThe problem was in root.get(&quot;project_number&quot;). Inside the method, I had to put the field name as in the model (projectNumber), but I sent the field name as in the database (project_number).\r\n\r\nThat is, the final correct decision was:\r\n\r\n    private Specification&lt;Project&gt; checkCriteriaByProjectNumberLike(projectNumber: String) {\r\n        (root, query, criteriaBuilder) -&gt; criteriaBuilder.like(root.get(&quot;projectNumber&quot;), &quot;%&quot; + projectNumber)\r\n    }","title":"Spring Data JPA Unable to locate Attribute with the given name","body":"<p>The same problem was when i had deal with Spring Data Specifications (<a href=\"https://www.baeldung.com/rest-api-search-language-spring-data-specifications\" rel=\"noreferrer\">https://www.baeldung.com/rest-api-search-language-spring-data-specifications</a>)</p>\n\n<p>Initial piece of code was:</p>\n\n<pre><code>private Specification&lt;Project&gt; checkCriteriaByProjectNumberLike(projectNumber: String) {\n    (root, query, criteriaBuilder) -&gt; criteriaBuilder.like(root.get(\"project_number\"), \"%\" + projectNumber)\n}\n</code></pre>\n\n<p>The problem was in root.get(\"project_number\"). Inside the method, I had to put the field name as in the model (projectNumber), but I sent the field name as in the database (project_number).</p>\n\n<p>That is, the final correct decision was:</p>\n\n<pre><code>private Specification&lt;Project&gt; checkCriteriaByProjectNumberLike(projectNumber: String) {\n    (root, query, criteriaBuilder) -&gt; criteriaBuilder.like(root.get(\"projectNumber\"), \"%\" + projectNumber)\n}\n</code></pre>\n"}],"owner":{"account_id":4162259,"reputation":673,"user_id":3412091,"accept_rate":50,"display_name":"smned"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110777,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":49319608,"answer_count":4,"score":45,"last_activity_date":1682430700,"creation_date":1521198996,"question_id":49319468,"body_markdown":"I was trying to use `Spring Data JPA` on `Spring Boot` and I  kept getting error, I can&#39;t figure out what the problem is:\r\n\r\n&gt; Unable to locate Attribute  with the the given name [firstName] on\r\n&gt; this ManagedType [com.example.h2demo.domain.Subscriber]\r\n\r\nFirstName is declared in my entity class. I have used a service class with DAO before with different project and worked perfectly.\r\n\r\nMy Entity class (getters and setters are also in the class) :\r\n\r\n            @Entity\r\n            public class Subscriber {\r\n        \r\n            @Id @GeneratedValue\r\n            private long id;\r\n            private String FirstName,LastName,Email;\r\n        \r\n            public Subscriber(long id, String firstName, String lastName, String email) {\r\n                this.id = id;\r\n                this.FirstName = firstName;\r\n                this.LastName = lastName;\r\n                this.Email = email;\r\n              }\r\n            }\r\n    ...\r\n\r\nMy Repository Class\r\n\r\n    @Component\r\n    public interface SubscriberRepository extends JpaRepository&lt;Subscriber,Long&gt; {\r\n        Subscriber findByFirstName(String FirstName);\r\n        Subscriber deleteAllByFirstName(String FirstName);\r\n    }\r\n\r\nMy Service Class\r\n\r\n    @Service\r\n    public class SubscriberService {\r\n    \r\n        @Autowired\r\n        private SubscriberRepository subscriberRepository;\r\n    \r\n        public Subscriber findByFirstName(String name){\r\n            return  subscriberRepository.findByFirstName(name);\r\n    \r\n        }\r\n    \r\n        public Subscriber deleteAllByFirstName(String name){\r\n            return  subscriberRepository.deleteAllByFirstName(name);\r\n    \r\n        }\r\n    \r\n        public void addSubscriber(Subscriber student) {\r\n            subscriberRepository.save(student);\r\n        }\r\n    }\r\n\r\nAnd My Controller class:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/subscribers&quot;)\r\n    public class SubscriberController {\r\n    \r\n        @Autowired\r\n        private SubscriberService subscriberService;\r\n    \r\n        @GetMapping(value = &quot;/{name}&quot;)\r\n        public Subscriber findByFirstName(@PathVariable(&quot;name&quot;) String fname){\r\n            return  subscriberService.findByFirstName(fname);\r\n        }\r\n    \r\n        @PostMapping( value = &quot;/add&quot;)\r\n        public String insertStudent(@RequestBody final Subscriber subscriber){\r\n            subscriberService.addSubscriber(subscriber);\r\n            return &quot;Done&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring Data JPA Unable to locate Attribute with the given name","body":"<p>I was trying to use <code>Spring Data JPA</code> on <code>Spring Boot</code> and I  kept getting error, I can't figure out what the problem is:</p>\n\n<blockquote>\n  <p>Unable to locate Attribute  with the the given name [firstName] on\n  this ManagedType [com.example.h2demo.domain.Subscriber]</p>\n</blockquote>\n\n<p>FirstName is declared in my entity class. I have used a service class with DAO before with different project and worked perfectly.</p>\n\n<p>My Entity class (getters and setters are also in the class) :</p>\n\n<pre><code>        @Entity\n        public class Subscriber {\n\n        @Id @GeneratedValue\n        private long id;\n        private String FirstName,LastName,Email;\n\n        public Subscriber(long id, String firstName, String lastName, String email) {\n            this.id = id;\n            this.FirstName = firstName;\n            this.LastName = lastName;\n            this.Email = email;\n          }\n        }\n...\n</code></pre>\n\n<p>My Repository Class</p>\n\n<pre><code>@Component\npublic interface SubscriberRepository extends JpaRepository&lt;Subscriber,Long&gt; {\n    Subscriber findByFirstName(String FirstName);\n    Subscriber deleteAllByFirstName(String FirstName);\n}\n</code></pre>\n\n<p>My Service Class</p>\n\n<pre><code>@Service\npublic class SubscriberService {\n\n    @Autowired\n    private SubscriberRepository subscriberRepository;\n\n    public Subscriber findByFirstName(String name){\n        return  subscriberRepository.findByFirstName(name);\n\n    }\n\n    public Subscriber deleteAllByFirstName(String name){\n        return  subscriberRepository.deleteAllByFirstName(name);\n\n    }\n\n    public void addSubscriber(Subscriber student) {\n        subscriberRepository.save(student);\n    }\n}\n</code></pre>\n\n<p>And My Controller class:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/subscribers\")\npublic class SubscriberController {\n\n    @Autowired\n    private SubscriberService subscriberService;\n\n    @GetMapping(value = \"/{name}\")\n    public Subscriber findByFirstName(@PathVariable(\"name\") String fname){\n        return  subscriberService.findByFirstName(fname);\n    }\n\n    @PostMapping( value = \"/add\")\n    public String insertStudent(@RequestBody final Subscriber subscriber){\n        subscriberService.addSubscriber(subscriber);\n        return \"Done\";\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564446166,"creation_date":1564413576,"answer_id":57256816,"question_id":57256737,"body_markdown":"It is a part of Kafka Clients, you have to add the following dependency in maven pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor more dependencies, you can refer the below link.\r\nhttps://mvnrepository.com/artifact/org.apache.kafka/kafka-clients","title":"Import Kafka MockAdminClient for unit testing my Kafka application using maven","body":"<p>It is a part of Kafka Clients, you have to add the following dependency in maven pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For more dependencies, you can refer the below link.\n<a href=\"https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients</a></p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682430546,"creation_date":1564446269,"answer_id":57262795,"question_id":57256737,"body_markdown":"You need to pull the test classifier, and then add the test scope to get it only available for your unit tests \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n       &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n       &lt;version&gt;${kafka.version}&lt;/version&gt;\r\n       &lt;classifier&gt;test&lt;/classifier&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Import Kafka MockAdminClient for unit testing my Kafka application using maven","body":"<p>You need to pull the test classifier, and then add the test scope to get it only available for your unit tests</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n   &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n   &lt;version&gt;${kafka.version}&lt;/version&gt;\n   &lt;classifier&gt;test&lt;/classifier&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4906361,"reputation":3077,"user_id":3952994,"accept_rate":76,"display_name":"Holm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57262795,"answer_count":2,"score":2,"last_activity_date":1682430546,"creation_date":1564413345,"question_id":57256737,"body_markdown":"I would like to use `MockAdminClient` for unit testing my Kafka application. How can I make `MockAdminClient` imported using `maven`?\r\n\r\nhttps://github.com/apache/kafka/blob/2.3.0/clients/src/test/java/org/apache/kafka/clients/admin/MockAdminClient.java\r\n\r\n**UPDATE:**\r\n\r\nMy kafka-client related pom.xml\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n   &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    &lt;version&gt;${kafka.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBy referring test by maven I found sth like this\r\nhttps://stackoverflow.com/questions/29653914/how-can-i-reference-unit-test-classes-of-a-maven-dependency-in-my-java-project\r\n","title":"Import Kafka MockAdminClient for unit testing my Kafka application using maven","body":"<p>I would like to use <code>MockAdminClient</code> for unit testing my Kafka application. How can I make <code>MockAdminClient</code> imported using <code>maven</code>?</p>\n\n<p><a href=\"https://github.com/apache/kafka/blob/2.3.0/clients/src/test/java/org/apache/kafka/clients/admin/MockAdminClient.java\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/2.3.0/clients/src/test/java/org/apache/kafka/clients/admin/MockAdminClient.java</a></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>My kafka-client related pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n   &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;${kafka.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>By referring test by maven I found sth like this\n<a href=\"https://stackoverflow.com/questions/29653914/how-can-i-reference-unit-test-classes-of-a-maven-dependency-in-my-java-project\">How can I reference unit test classes of a maven dependency in my java project?</a></p>\n"},{"tags":["java","json","spring-boot","out-of-memory","paging"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1682431182,"post_id":76101900,"comment_id":134212051,"body_markdown":"So for each EntityA, a separate file is to be created, right?  Try putting ```ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();``` in the loop.  I.e. create a new object for each EntityA object. I haven&#39;t used, and not 100% sure, but seems like, ```ow.writeValueAsBytes(entityA)``` keeps on appending to the existing value, and it keeps on growing.","body":"So for each EntityA, a separate file is to be created, right?  Try putting <code>ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();</code> in the loop.  I.e. create a new object for each EntityA object. I haven&#39;t used, and not 100% sure, but seems like, <code>ow.writeValueAsBytes(entityA)</code> keeps on appending to the existing value, and it keeps on growing."},{"owner":{"account_id":1692135,"reputation":273,"user_id":1554287,"accept_rate":61,"display_name":"chinh"},"score":0,"creation_date":1682432528,"post_id":76101900,"comment_id":134212486,"body_markdown":"Each entityA will be converted to a json file ( which contains all associated EntityB, EntityC)","body":"Each entityA will be converted to a json file ( which contains all associated EntityB, EntityC)"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1682432791,"post_id":76101900,"comment_id":134212574,"body_markdown":"So, either ObjectWriter keeps on appending all the EntityAs processed one by one and keeps growing in size and on page ~700, it grows so large that out of memory error is raised. OR, maybe some EntityA object on that page itself has too many EntityB and EntityCs that it itself cannot be converted and stored in memory.  Much more than your expected &quot;around ~500 entities B/C&quot;.  First try moving the ObjectWriter as an instance member to a local variable inside the loop. Create new for each. If that also does not work, then the 2nd problem could be there.","body":"So, either ObjectWriter keeps on appending all the EntityAs processed one by one and keeps growing in size and on page ~700, it grows so large that out of memory error is raised. OR, maybe some EntityA object on that page itself has too many EntityB and EntityCs that it itself cannot be converted and stored in memory.  Much more than your expected &quot;around ~500 entities B/C&quot;.  First try moving the ObjectWriter as an instance member to a local variable inside the loop. Create new for each. If that also does not work, then the 2nd problem could be there."},{"owner":{"account_id":1692135,"reputation":273,"user_id":1554287,"accept_rate":61,"display_name":"chinh"},"score":0,"creation_date":1682433436,"post_id":76101900,"comment_id":134212746,"body_markdown":"It doesn&#39;t work just like that. I mean any solution to address problem , the Out of memory error because JPA hold too much entities in memory cache.","body":"It doesn&#39;t work just like that. I mean any solution to address problem , the Out of memory error because JPA hold too much entities in memory cache."},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1682435211,"post_id":76101900,"comment_id":134213299,"body_markdown":"if `.clear()` doesn&#39;t work, then the problem is with your pagination. could you please share `Slice&lt;EntityA&gt; findAll(Pageable)` implementation? also have you tried to analyse heap dump?","body":"if <code>.clear()</code> doesn&#39;t work, then the problem is with your pagination. could you please share <code>Slice&lt;EntityA&gt; findAll(Pageable)</code> implementation? also have you tried to analyse heap dump?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682440180,"post_id":76101900,"comment_id":134214741,"body_markdown":"Does this answer your question? [java.lang.OutOfMemoryError: Java heap space with JSON conversion](https://stackoverflow.com/questions/34657372/java-lang-outofmemoryerror-java-heap-space-with-json-conversion)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34657372/java-lang-outofmemoryerror-java-heap-space-with-json-conversion\">java.lang.OutOfMemoryError: Java heap space with JSON conversion</a>"},{"owner":{"account_id":1692135,"reputation":273,"user_id":1554287,"accept_rate":61,"display_name":"chinh"},"score":0,"creation_date":1682570773,"post_id":76101900,"comment_id":134237526,"body_markdown":"@ursa, \t@Query(&quot;SELECT er from EntityA a where a.companyId is not null&quot;)\n\tSlice&lt;EntityA&gt; findAll(Pageable pageable);","body":"@ursa, \t@Query(&quot;SELECT er from EntityA a where a.companyId is not null&quot;) \tSlice&lt;EntityA&gt; findAll(Pageable pageable);"}],"owner":{"account_id":1692135,"reputation":273,"user_id":1554287,"accept_rate":61,"display_name":"chinh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682430422,"creation_date":1682430422,"question_id":76101900,"body_markdown":"Currently I&#39;m facing an issue when convert entities to JSON\r\n\r\n    @Entity\r\n    class EntityA {\r\n       @OneToMany(mappedBy = &quot;parent&quot;,cascade = CascadeType.ALL)\r\n       EntityB entityB;\r\n       @OneToMany(mappedBy = &quot;parent&quot;,cascade = CascadeType.ALL)\r\n       EntityC entityC;\r\n    }\r\n\r\nIn DB I have 100k Entities A and each entity A has around ~500 entities B/C\r\n\r\nI need to build a service to do following\r\n\r\n    a. Convert 100k entities A to json String ( which must include data Entity B and C)\r\n    b. Save json String to a file\r\n    c. Delete 100k entities A ( also B,C)\r\n\r\nI use JPA pagination to get 1000 entities A each time like this\r\n\r\n    interface EntityARepository extends JpaRepository&lt;EntityA, String&gt;, JpaSpecificationExecutor&lt;EntityA&gt; {\r\n       Slice&lt;EntityA&gt; findAll(Pageable pageable);\r\n    }\r\n\r\nAnd in Service I implement like this\r\n    \r\n    @Service\r\n    class EntityToJsonService {\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        @Autowired\r\n        EntityARepository entityARepository;\r\n        \r\n        @Transactional\r\n        public void convertAndProcess() throws Exception {\r\n            Slice&lt;EntityA&gt; slice = null;      \r\n            Pageable pageable = PageRequest.of(0,100);\r\n            List&lt;String&gt; deletedIds = new ArrayList&lt;&gt;();\r\n            while(true) {\r\n                slice = entityARepository.findAll(pageable);\r\n                log.info(&quot;slice ekyc info - page number {}, numberOfElements: {}, size: {}&quot;,\r\n                        slice.getNumber(), slice.getNumberOfElements(), slice.getSize());           \r\n                for (EntityA entityA : slice.getContent()) {\r\n                    //convert to json \r\n                    byte[] data = ow.writeValueAsBytes(entityA);\r\n                    Files.write(Paths.get(&quot;path&quot;), data);\r\n                    deletedIds.add(e.getId());\r\n                }\r\n                if (!slice.hasNext()) {\r\n                    break;\r\n                }\r\n                pageable = slice.nextPageable();\r\n                entityManager.flush();\r\n                entityManager.clear();\r\n            }\r\n    \r\n            //delete data after converted \r\n            deleteEntityAAndChildrenRecords(deletedIds);\r\n        }\r\n    }\r\n\r\nAlthough I do paging and load 100 entity A each time , I will get out of memory issue when running above service ( when process to page ~700).\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOfRange(Arrays.java:3664)\r\n    \tat java.lang.String.&lt;init&gt;(String.java:207)\r\n    \tat java.lang.StringBuilder.toString(StringBuilder.java:407)\r\n    \tat com.fasterxml.jackson.core.util.TextBuffer.contentsAsString(TextBuffer.java:426)\r\n    \tat com.fasterxml.jackson.core.io.SegmentedStringWriter.getAndClear(SegmentedStringWriter.java:83)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3410)\r\n    \tat com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.toString(ObjectMapperWrapper.java:58)\r\n\r\n\r\nDoes anyone got any idea to implement the service to handle this case\r\nThanks\r\n \r\n","title":"Out of memoty when convert entities to json - Process 100.000 records","body":"<p>Currently I'm facing an issue when convert entities to JSON</p>\n<pre><code>@Entity\nclass EntityA {\n   @OneToMany(mappedBy = &quot;parent&quot;,cascade = CascadeType.ALL)\n   EntityB entityB;\n   @OneToMany(mappedBy = &quot;parent&quot;,cascade = CascadeType.ALL)\n   EntityC entityC;\n}\n</code></pre>\n<p>In DB I have 100k Entities A and each entity A has around ~500 entities B/C</p>\n<p>I need to build a service to do following</p>\n<pre><code>a. Convert 100k entities A to json String ( which must include data Entity B and C)\nb. Save json String to a file\nc. Delete 100k entities A ( also B,C)\n</code></pre>\n<p>I use JPA pagination to get 1000 entities A each time like this</p>\n<pre><code>interface EntityARepository extends JpaRepository&lt;EntityA, String&gt;, JpaSpecificationExecutor&lt;EntityA&gt; {\n   Slice&lt;EntityA&gt; findAll(Pageable pageable);\n}\n</code></pre>\n<p>And in Service I implement like this</p>\n<pre><code>@Service\nclass EntityToJsonService {\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    @Autowired\n    EntityARepository entityARepository;\n    \n    @Transactional\n    public void convertAndProcess() throws Exception {\n        Slice&lt;EntityA&gt; slice = null;      \n        Pageable pageable = PageRequest.of(0,100);\n        List&lt;String&gt; deletedIds = new ArrayList&lt;&gt;();\n        while(true) {\n            slice = entityARepository.findAll(pageable);\n            log.info(&quot;slice ekyc info - page number {}, numberOfElements: {}, size: {}&quot;,\n                    slice.getNumber(), slice.getNumberOfElements(), slice.getSize());           \n            for (EntityA entityA : slice.getContent()) {\n                //convert to json \n                byte[] data = ow.writeValueAsBytes(entityA);\n                Files.write(Paths.get(&quot;path&quot;), data);\n                deletedIds.add(e.getId());\n            }\n            if (!slice.hasNext()) {\n                break;\n            }\n            pageable = slice.nextPageable();\n            entityManager.flush();\n            entityManager.clear();\n        }\n\n        //delete data after converted \n        deleteEntityAAndChildrenRecords(deletedIds);\n    }\n}\n</code></pre>\n<p>Although I do paging and load 100 entity A each time , I will get out of memory issue when running above service ( when process to page ~700).</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOfRange(Arrays.java:3664)\n    at java.lang.String.&lt;init&gt;(String.java:207)\n    at java.lang.StringBuilder.toString(StringBuilder.java:407)\n    at com.fasterxml.jackson.core.util.TextBuffer.contentsAsString(TextBuffer.java:426)\n    at com.fasterxml.jackson.core.io.SegmentedStringWriter.getAndClear(SegmentedStringWriter.java:83)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3410)\n    at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.toString(ObjectMapperWrapper.java:58)\n</code></pre>\n<p>Does anyone got any idea to implement the service to handle this case\nThanks</p>\n"},{"tags":["java","arrays","json","format","string.format"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1682227515,"post_id":76082805,"comment_id":134180429,"body_markdown":"Use a proper JSON library, e.g. jackson or gson.","body":"Use a proper JSON library, e.g. jackson or gson."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682256191,"post_id":76082805,"comment_id":134183194,"body_markdown":"What tgdavies said.  Use a JSON library for this.  In addition to this issue, you want to be prepared for the possibility that param1 or param2 contains `&quot;`.  JSON libraries will handle such things properly.","body":"What tgdavies said.  Use a JSON library for this.  In addition to this issue, you want to be prepared for the possibility that param1 or param2 contains <code>&quot;</code>.  JSON libraries will handle such things properly."},{"owner":{"account_id":14675233,"reputation":613,"user_id":10598551,"display_name":"lovprogramming"},"score":0,"creation_date":1682265031,"post_id":76082805,"comment_id":134184418,"body_markdown":"Thank you for your input. The object mapper I’m using is from Jackson, so I assume you are referring to the formatting part, is this correct? Could you please give me an example of it? Thank you!","body":"Thank you for your input. The object mapper I’m using is from Jackson, so I assume you are referring to the formatting part, is this correct? Could you please give me an example of it? Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682430166,"creation_date":1682430166,"answer_id":76101848,"question_id":76082805,"body_markdown":"Don’t use String.format.  It is not the right tool for this.  It will not cover the various needs of well-formed JSON syntax.  Using String.format will eventually result in invalid JSON.\r\n\r\nUse your ObjectMapper to convert data to JSON:\r\n\r\n    Map&lt;String, Object&gt; details = new HashMap&lt;&gt;();\r\n    details.put(&quot;param1&quot;, param1Value);\r\n    details.put(&quot;param2&quot;, param2Value);\r\n    details.put(&quot;extraParams&quot;, params.getExtraParams());\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;details&quot;, details);\r\n\r\n    Map&lt;String, Object&gt; responseBody = new HashMap&lt;&gt;();\r\n    responseBody.put(&quot;params&quot;, params);\r\n\r\n    String formattedResponse = mapper.writeValueAsString(responseBody);\r\n\r\nInstead of creating three Maps, a better design is to create bean classes:\r\n\r\n    public class Details {\r\n        public String getParam1() { ... }\r\n        public void setParam1(String value) { ... }\r\n\r\n        public String getParam2() { ... }\r\n        public void setParam2(String value) { ... }\r\n\r\n        public ExtraParams getExtraParams() { ... }\r\n        public void setExtraParams(ExtraParams p) { ... }\r\n    }\r\n\r\n    public class Params {\r\n        public Details getDetails() { ... }\r\n        public void setDetails(Details d) { ... }\r\n    }\r\n\r\n    public class MyResponse {\r\n        public Params getParams() { ... }\r\n        public void setParams(Params p) { ... }\r\n    }\r\n\r\n    /* ... */\r\n\r\n    Details details = new Details();\r\n    details.setParam1(param1Value);\r\n    details.setParam2(param2Value);\r\n    details.setExtraParams(params.getExtraParams());\r\n\r\n    Params params = new Params();\r\n    params.setDetails(details);\r\n\r\n    MyResponse response = new MyResponse();\r\n    response.setParams(params);\r\n\r\n    String formattedResponse = mapper.writeValueAsString(response);\r\n","title":"A way to String.format() an json array string with a single %s","body":"<p>Don’t use String.format.  It is not the right tool for this.  It will not cover the various needs of well-formed JSON syntax.  Using String.format will eventually result in invalid JSON.</p>\n<p>Use your ObjectMapper to convert data to JSON:</p>\n<pre><code>Map&lt;String, Object&gt; details = new HashMap&lt;&gt;();\ndetails.put(&quot;param1&quot;, param1Value);\ndetails.put(&quot;param2&quot;, param2Value);\ndetails.put(&quot;extraParams&quot;, params.getExtraParams());\n\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;details&quot;, details);\n\nMap&lt;String, Object&gt; responseBody = new HashMap&lt;&gt;();\nresponseBody.put(&quot;params&quot;, params);\n\nString formattedResponse = mapper.writeValueAsString(responseBody);\n</code></pre>\n<p>Instead of creating three Maps, a better design is to create bean classes:</p>\n<pre><code>public class Details {\n    public String getParam1() { ... }\n    public void setParam1(String value) { ... }\n\n    public String getParam2() { ... }\n    public void setParam2(String value) { ... }\n\n    public ExtraParams getExtraParams() { ... }\n    public void setExtraParams(ExtraParams p) { ... }\n}\n\npublic class Params {\n    public Details getDetails() { ... }\n    public void setDetails(Details d) { ... }\n}\n\npublic class MyResponse {\n    public Params getParams() { ... }\n    public void setParams(Params p) { ... }\n}\n\n/* ... */\n\nDetails details = new Details();\ndetails.setParam1(param1Value);\ndetails.setParam2(param2Value);\ndetails.setExtraParams(params.getExtraParams());\n\nParams params = new Params();\nparams.setDetails(details);\n\nMyResponse response = new MyResponse();\nresponse.setParams(params);\n\nString formattedResponse = mapper.writeValueAsString(response);\n</code></pre>\n"}],"owner":{"account_id":14675233,"reputation":613,"user_id":10598551,"display_name":"lovprogramming"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76101848,"answer_count":1,"score":0,"last_activity_date":1682430166,"creation_date":1682215847,"question_id":76082805,"body_markdown":"I&#39;m trying to see if there is a way to format a json array string with a single %s, without the backslashes. The API I&#39;m working on attaches this formatted string as a body parameter and sends it over to the server. When the server gets it, there are backslahes in the string. I would need this string to be without the escape characters.\r\n\r\nThe constant looks like this:\r\n\r\n    final String REQUEST_PARAMS = &quot;{\\&quot;params\\&quot;:{\\&quot;details\\&quot;:{\\&quot;param1\\&quot;:\\&quot;%s\\&quot;,\\&quot;param2\\&quot;:\\&quot;%s\\&quot;,\\&quot;extraParams\\&quot;:\\&quot;%s\\&quot;}}}&quot;; \r\n\r\nThis is the snippet for converting the json array to string:\r\n\r\n    ...\r\n    ObjectMapper mapper = new ObjectMapper(); \r\n    String extraParams = mapper.writeValueAsString(params.getExtraParams()); // this looks like: [{&quot;hostValue&quot;: &quot;id1&quot;, &quot;portNumber&quot;: &quot;name1&quot;}, {...}] for example.\r\n        \r\n    String formattedParams = String.format(REQUEST_PARAMS, &quot;param1&quot;, &quot;param2&quot;, extraParams); // {&quot;params&quot;:{&quot;details&quot;:{&quot;param1&quot;:&quot;param1&quot;,&quot;param2&quot;:&quot;param2&quot;,&quot;extraParams&quot;:&quot;[{&quot;hostValue&quot;: &quot;id1&quot;, &quot;portNumber&quot;: &quot;name1&quot;}]&quot;}}}\r\n    ...\r\n\r\nHowever, when this gets sent over to the backend API, it looks like:\r\n\r\n    {&quot;params&quot;:{&quot;details&quot;:{&quot;param1&quot;:&quot;param1&quot;,&quot;param2&quot;:&quot;param2&quot;,&quot;extraParams&quot;:[{\\&quot;hostValue\\&quot;: \\&quot;id1\\&quot;, \\&quot;portNumber\\&quot;: \\&quot;name1\\&quot;}]}}}.\r\n\r\nIf I format a string by specifying having %s for each field in the json array, it works without the backslashes (e.g hostValue: %s, portNumber: %s). However, this wont work since there is a possibility that there is an unknown parameter in the json array that is not predefined in the constant (e.g sqlPORTNumber).\r\n\r\nI want to make sure there is no escape characters being sent over to the server, is there a way to achieve this? Any insights would be greatly appreciated!","title":"A way to String.format() an json array string with a single %s","body":"<p>I'm trying to see if there is a way to format a json array string with a single %s, without the backslashes. The API I'm working on attaches this formatted string as a body parameter and sends it over to the server. When the server gets it, there are backslahes in the string. I would need this string to be without the escape characters.</p>\n<p>The constant looks like this:</p>\n<pre><code>final String REQUEST_PARAMS = &quot;{\\&quot;params\\&quot;:{\\&quot;details\\&quot;:{\\&quot;param1\\&quot;:\\&quot;%s\\&quot;,\\&quot;param2\\&quot;:\\&quot;%s\\&quot;,\\&quot;extraParams\\&quot;:\\&quot;%s\\&quot;}}}&quot;; \n</code></pre>\n<p>This is the snippet for converting the json array to string:</p>\n<pre><code>...\nObjectMapper mapper = new ObjectMapper(); \nString extraParams = mapper.writeValueAsString(params.getExtraParams()); // this looks like: [{&quot;hostValue&quot;: &quot;id1&quot;, &quot;portNumber&quot;: &quot;name1&quot;}, {...}] for example.\n    \nString formattedParams = String.format(REQUEST_PARAMS, &quot;param1&quot;, &quot;param2&quot;, extraParams); // {&quot;params&quot;:{&quot;details&quot;:{&quot;param1&quot;:&quot;param1&quot;,&quot;param2&quot;:&quot;param2&quot;,&quot;extraParams&quot;:&quot;[{&quot;hostValue&quot;: &quot;id1&quot;, &quot;portNumber&quot;: &quot;name1&quot;}]&quot;}}}\n...\n</code></pre>\n<p>However, when this gets sent over to the backend API, it looks like:</p>\n<pre><code>{&quot;params&quot;:{&quot;details&quot;:{&quot;param1&quot;:&quot;param1&quot;,&quot;param2&quot;:&quot;param2&quot;,&quot;extraParams&quot;:[{\\&quot;hostValue\\&quot;: \\&quot;id1\\&quot;, \\&quot;portNumber\\&quot;: \\&quot;name1\\&quot;}]}}}.\n</code></pre>\n<p>If I format a string by specifying having %s for each field in the json array, it works without the backslashes (e.g hostValue: %s, portNumber: %s). However, this wont work since there is a possibility that there is an unknown parameter in the json array that is not predefined in the constant (e.g sqlPORTNumber).</p>\n<p>I want to make sure there is no escape characters being sent over to the server, is there a way to achieve this? Any insights would be greatly appreciated!</p>\n"},{"tags":["java","reflection","java-16","java-record"],"comments":[{"owner":{"account_id":10300086,"reputation":352,"user_id":7599062,"display_name":"SyntaxNavigator"},"score":1,"creation_date":1682430341,"post_id":76101833,"comment_id":134211748,"body_markdown":"It&#39;s not possible to determine if a Java Record class has an implicit or explicit definition of `equals()` and/or `hashCode(Object)` via reflection because both implementations will be declared methods of the record class at runtime. To make this distinction, you could consider using annotations or naming conventions.","body":"It&#39;s not possible to determine if a Java Record class has an implicit or explicit definition of <code>equals()</code> and/or <code>hashCode(Object)</code> via reflection because both implementations will be declared methods of the record class at runtime. To make this distinction, you could consider using annotations or naming conventions."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1682492751,"post_id":76101833,"comment_id":134222760,"body_markdown":"When you look into the method’s bytecode and see an `invokedynamic` instruction, it’s a strong indicator that the method has been generated by the compiler. But why make this distinction anyway, if you provide your own `equals`/`hashCode` implementations for a `record`, they should obey the same contract.","body":"When you look into the method’s bytecode and see an <code>invokedynamic</code> instruction, it’s a strong indicator that the method has been generated by the compiler. But why make this distinction anyway, if you provide your own <code>equals</code>/<code>hashCode</code> implementations for a <code>record</code>, they should obey the same contract."},{"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"score":0,"creation_date":1685625616,"post_id":76101833,"comment_id":134688619,"body_markdown":"@Holger &quot;But why make this distinction anyway&quot; -&gt; We want to have validation on our codebase via reflection, verifying for example that either both or neither of `equals` and `hashCode` is overridden, for each of our classes (as otherwise, it&#39;s typically an unintended bug). So our goal is precisely to validate that such overrides don&#39;t violate the contract they&#39;re supposed to adhere to. However for `record`s it is apparently not possible to do this based on the bytecode, if the distinction of implicit vs. explicit cannot be made (as it can be done, for any other class).","body":"@Holger &quot;But why make this distinction anyway&quot; -&gt; We want to have validation on our codebase via reflection, verifying for example that either both or neither of <code>equals</code> and <code>hashCode</code> is overridden, for each of our classes (as otherwise, it&#39;s typically an unintended bug). So our goal is precisely to validate that such overrides don&#39;t violate the contract they&#39;re supposed to adhere to. However for <code>record</code>s it is apparently not possible to do this based on the bytecode, if the distinction of implicit vs. explicit cannot be made (as it can be done, for any other class)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685633037,"post_id":76101833,"comment_id":134690713,"body_markdown":"But, as said, in case of a `record`, a custom `equals` or `hashCode` method should obey the general contract of `record` equality. It follows from there that if an overriding method is well behaving, it is not necessary to override the other method, as the predefined method is adhering to the same contract. In other words, the rule that you should always override both methods is specifically for the case that you are changing the equality rules and have to adapt both methods to the new rules, which is precisely what you shouldn’t do with `record` types at all.","body":"But, as said, in case of a <code>record</code>, a custom <code>equals</code> or <code>hashCode</code> method should obey the general contract of <code>record</code> equality. It follows from there that if an overriding method is well behaving, it is not necessary to override the other method, as the predefined method is adhering to the same contract. In other words, the rule that you should always override both methods is specifically for the case that you are changing the equality rules and have to adapt both methods to the new rules, which is precisely what you shouldn’t do with <code>record</code> types at all."},{"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"score":0,"creation_date":1693551886,"post_id":76101833,"comment_id":135778733,"body_markdown":"@Holger Of course records *should* obey their contracts, I don&#39;t see how that relates to the question. The whole point here is precisely to detect where that&#39;s likely violated (i.e., detect developer mistakes). For example, if s.o. overwrites `equals()` in a record with an array member (to use `Arrays.equals()` as part of defining record-equality) but fails to also overwrite `hashCode()` along - that&#39;s quite a clear mistake / contract violation - and I would want to detect this like I can for any other class. But it&#39;s apparently not possible via standard reflection (for records specifically).","body":"@Holger Of course records <i>should</i> obey their contracts, I don&#39;t see how that relates to the question. The whole point here is precisely to detect where that&#39;s likely violated (i.e., detect developer mistakes). For example, if s.o. overwrites <code>equals()</code> in a record with an array member (to use <code>Arrays.equals()</code> as part of defining record-equality) but fails to also overwrite <code>hashCode()</code> along - that&#39;s quite a clear mistake / contract violation - and I would want to detect this like I can for any other class. But it&#39;s apparently not possible via standard reflection (for records specifically)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693553101,"post_id":76101833,"comment_id":135778951,"body_markdown":"See, your own example violates the contract for `record` types, but its (generated) `hashCode` method is not inconsistent with `equals`. This part of the contract is actually easy to test, create a copy of the instance via the accessor methods and canonical constructor and check whether `r1.equals(r2) &amp;&amp; r1.hashCode() == r2.hashCode()` is fulfilled. But well, if you assume a careless programmer anyway, you can also assume that they won’t add a `final` modifier, like in your example. So when the method is not `final`, it’s not compiler generated.","body":"See, your own example violates the contract for <code>record</code> types, but its (generated) <code>hashCode</code> method is not inconsistent with <code>equals</code>. This part of the contract is actually easy to test, create a copy of the instance via the accessor methods and canonical constructor and check whether <code>r1.equals(r2) &amp;&amp; r1.hashCode() == r2.hashCode()</code> is fulfilled. But well, if you assume a careless programmer anyway, you can also assume that they won’t add a <code>final</code> modifier, like in your example. So when the method is not <code>final</code>, it’s not compiler generated."},{"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"score":0,"creation_date":1693554795,"post_id":76101833,"comment_id":135779252,"body_markdown":"How does my example violate the specific requirements for `record` types in any way (I don&#39;t think it would)...? It does violate the general Object `hashCode` contract though, precisely because of the missing, matching `hashCode` override that needs to go along with the customized `equals` (-&gt; just what I&#39;d like to detect). Without that, I can build two record instances that are considered `equal` but have differing `hashCode`s. And then it follows that the (generated) `hashCode`, in this situation, *is* in fact inconsistent with the overridden record `equals`, is it not...?","body":"How does my example violate the specific requirements for <code>record</code> types in any way (I don&#39;t think it would)...? It does violate the general Object <code>hashCode</code> contract though, precisely because of the missing, matching <code>hashCode</code> override that needs to go along with the customized <code>equals</code> (-&gt; just what I&#39;d like to detect). Without that, I can build two record instances that are considered <code>equal</code> but have differing <code>hashCode</code>s. And then it follows that the (generated) <code>hashCode</code>, in this situation, <i>is</i> in fact inconsistent with the overridden record <code>equals</code>, is it not...?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693555438,"post_id":76101833,"comment_id":135779366,"body_markdown":"Your `record R2()` has no components. Therefore, the (generated) `hashCode()` method always returns the same value. A `hashCode()` method always returning the same value is formally consistent with every `equals` implementation. On the other hand, the contract of `record` requires that the equality is determined only by the values of the components, the object identity *must not* be relevant. In other words, all `R2` instances (having no values) must be equal to each other (that’s why the also have the same hash code). A reference comparison like `obj == this` is fundamentally wrong.","body":"Your <code>record R2()</code> has no components. Therefore, the (generated) <code>hashCode()</code> method always returns the same value. A <code>hashCode()</code> method always returning the same value is formally consistent with every <code>equals</code> implementation. On the other hand, the contract of <code>record</code> requires that the equality is determined only by the values of the components, the object identity <i>must not</i> be relevant. In other words, all <code>R2</code> instances (having no values) must be equal to each other (that’s why the also have the same hash code). A reference comparison like <code>obj == this</code> is fundamentally wrong."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693555506,"post_id":76101833,"comment_id":135779380,"body_markdown":"See [the specification](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Record.html#:~:text=For%20all%20record,equals(copy).)","body":"See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Record.html#:~:text=For%20all%20record,equals(copy).\" rel=\"nofollow noreferrer\">the specification</a>"},{"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"score":0,"creation_date":1693557982,"post_id":76101833,"comment_id":135779849,"body_markdown":"Alright, I see now that we&#39;ve been talking past each other. My bad - I was talking about the scenario I described in a comment earlier, about a record with overridden `equals` (for an array member) but without a matching `hashCode`. So that&#39;s on me, I should&#39;ve chosen my snippet in the initial question more carefully to begin with. It&#39;s still possible to have records with one method overridden (*not* in a broken manner like in my snippet) and the other one not (i.e. a case for my intended verification), but well I got my answer of that not being possible via reflection already (for records).","body":"Alright, I see now that we&#39;ve been talking past each other. My bad - I was talking about the scenario I described in a comment earlier, about a record with overridden <code>equals</code> (for an array member) but without a matching <code>hashCode</code>. So that&#39;s on me, I should&#39;ve chosen my snippet in the initial question more carefully to begin with. It&#39;s still possible to have records with one method overridden (<i>not</i> in a broken manner like in my snippet) and the other one not (i.e. a case for my intended verification), but well I got my answer of that not being possible via reflection already (for records)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693999498,"post_id":76101833,"comment_id":135832810,"body_markdown":"As said, the generated methods are always `final` whereas humans tend to omit it. So you can at least check for that. It doesn’t catch the case where a developer did think about adding `final` to the `equals` method but forgot to add a `hashCode` method, but better than nothing. It might also create false positives if both methods have been provided but only one declared `final` but that might be acceptable as it is at least a stylistic mistake which can be fixed. And you can verify the contract itself by creating a copy and check that `r1.equals(r2) &amp;&amp; r1.hashCode() == r2.hashCode()`.","body":"As said, the generated methods are always <code>final</code> whereas humans tend to omit it. So you can at least check for that. It doesn’t catch the case where a developer did think about adding <code>final</code> to the <code>equals</code> method but forgot to add a <code>hashCode</code> method, but better than nothing. It might also create false positives if both methods have been provided but only one declared <code>final</code> but that might be acceptable as it is at least a stylistic mistake which can be fixed. And you can verify the contract itself by creating a copy and check that <code>r1.equals(r2) &amp;&amp; r1.hashCode() == r2.hashCode()</code>."},{"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"score":0,"creation_date":1694003633,"post_id":76101833,"comment_id":135833675,"body_markdown":"True, checking for a `final` modifier is indeed fully sufficient for my purposes, as you suggest. It feels kind of weird that the generated method is even final, even though it is still possible to redefine it (I do realize that it&#39;s not really an override in that case, so no actual inconsistency in that regard - but I wouldn&#39;t have thought of checking on the final flag in the first place, obviously). Thanks for pointing this out again - if you care to put it into an answer on this question to accept, go right ahead.","body":"True, checking for a <code>final</code> modifier is indeed fully sufficient for my purposes, as you suggest. It feels kind of weird that the generated method is even final, even though it is still possible to redefine it (I do realize that it&#39;s not really an override in that case, so no actual inconsistency in that regard - but I wouldn&#39;t have thought of checking on the final flag in the first place, obviously). Thanks for pointing this out again - if you care to put it into an answer on this question to accept, go right ahead."}],"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682430082,"creation_date":1682430082,"question_id":76101833,"body_markdown":"Is it possible to determine (via Reflection) for a Java Record class, if it has an implicit or explicit definition of `equals()` and/or `hashCode(Object)`?\r\n\r\nFor some reflection-based meta-validation of all classes (and thus, also records) across the codebase, we&#39;d like to separate these cases.\r\n\r\nAs far as I can see, analyzing a record-class through reflection treats both the implicit and explicit as a &quot;declared&quot; method of the concrete type, so I don&#39;t see a way to make that distinction.\r\n\r\nSample code (showing there&#39;s a declared method in both cases):\r\n```java\r\npublic class Test {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    analyze(R1.class);\r\n    analyze(R2.class);\r\n  }\r\n\r\n  private static void analyze(Class&lt;?&gt; clazz) throws Exception {\r\n    List&lt;Method&gt; hcMethods = Arrays.stream(clazz.getDeclaredMethods())\r\n        .filter(m -&gt; m.getName().equals(&quot;hashCode&quot;) &amp;&amp; m.getParameterTypes().length == 0)\r\n        .toList();\r\n    System.out.format(&quot;Class %s has %s declared hashCode() method(s)\\n&quot;, clazz.getSimpleName(), hcMethods.size());\r\n  }\r\n\r\n  public record R1() { }\r\n\r\n  public record R2() {\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n      return obj == this;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIs there a way to still make this separation, in some other way?","title":"Separate implicit vs. explicit definition of equals/hashCode for Java Record, via reflection?","body":"<p>Is it possible to determine (via Reflection) for a Java Record class, if it has an implicit or explicit definition of <code>equals()</code> and/or <code>hashCode(Object)</code>?</p>\n<p>For some reflection-based meta-validation of all classes (and thus, also records) across the codebase, we'd like to separate these cases.</p>\n<p>As far as I can see, analyzing a record-class through reflection treats both the implicit and explicit as a &quot;declared&quot; method of the concrete type, so I don't see a way to make that distinction.</p>\n<p>Sample code (showing there's a declared method in both cases):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  public static void main(String[] args) throws Exception {\n    analyze(R1.class);\n    analyze(R2.class);\n  }\n\n  private static void analyze(Class&lt;?&gt; clazz) throws Exception {\n    List&lt;Method&gt; hcMethods = Arrays.stream(clazz.getDeclaredMethods())\n        .filter(m -&gt; m.getName().equals(&quot;hashCode&quot;) &amp;&amp; m.getParameterTypes().length == 0)\n        .toList();\n    System.out.format(&quot;Class %s has %s declared hashCode() method(s)\\n&quot;, clazz.getSimpleName(), hcMethods.size());\n  }\n\n  public record R1() { }\n\n  public record R2() {\n    @Override\n    public boolean equals(Object obj) {\n      return obj == this;\n    }\n  }\n}\n</code></pre>\n<p>Is there a way to still make this separation, in some other way?</p>\n"},{"tags":["java","spring","minecraft","guice","inject"],"owner":{"account_id":21386634,"reputation":107,"user_id":15751512,"display_name":"Junhyung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682429822,"creation_date":1635099919,"question_id":69699624,"body_markdown":"I am using Guice&#39;s dependency injection at Java 16.\r\nIt works fine at Java 11, but at Java 16, there has an error.\r\nGenerating modules with the Guice&#39;s AbstractModule, there has an exception at getting external jar&#39;s class.\r\n\r\nI already found the answer that&#39;s closest to the answer I want but I am using AbstractModule so I can&#39;t resolve it.\r\n\r\nhttps://stackoverflow.com/questions/48327898/unnamed-module-interaction-with-named-module-by-serviceloaderload\r\n\r\nI think naming modules will resolve this problem.\r\n\r\nHere is my code:\r\n```\r\npackage com.awooga.profiles;\r\n\r\nimport com.awooga.profiles.dao.PlayerProfilesDAO;\r\nimport com.awooga.profiles.dao.impl.PlayerProfilesDAOImpl;\r\nimport com.google.inject.*;\r\nimport lombok.SneakyThrows;\r\nimport org.bukkit.configuration.Configuration;\r\nimport org.bukkit.configuration.file.FileConfiguration;\r\nimport org.bukkit.plugin.Plugin;\r\n\r\nimport javax.inject.Named;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.util.Optional;\r\n\r\npublic class ProfilesPaperGuiModule extends AbstractModule {\r\n\r\n\tpublic static final String MYSQL_CONNECTION_STRING=&quot;MYSQL_CONNECTION_STRING&quot;;\r\n\r\n\tprivate final ProfilesPaperGuiPlugin plugin;\r\n\r\n\t// This is also dependency injection, but without any libraries/frameworks since we can&#39;t use those here yet.\r\n\tpublic ProfilesPaperGuiModule(ProfilesPaperGuiPlugin plugin) {\r\n\t\tthis.plugin = plugin;\r\n\t}\r\n\r\n\tpublic Injector createInjector() {\r\n\t\treturn Guice.createInjector(this);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure() {\r\n\t\t// Here we tell Guice to use our plugin instance everytime we need it\r\n\t\tbind(ProfilesPaperGuiPlugin.class).toInstance(this.plugin);\r\n\t\tbind(Plugin.class).toInstance(this.plugin);\r\n\r\n\t\tbind(PlayerProfilesDAO.class).to(PlayerProfilesDAOImpl.class).in(Singleton.class);\r\n\t\tbind(ProfilesPlaceholderExpansion.class).in(Singleton.class);\r\n\t\tbind(ConfigurationDelegator.class).in(Singleton.class);\r\n\t\tbind(Configuration.class).to(ConfigurationDelegator.class);\r\n\t}\r\n\r\n    //get instance at external jar\r\n\t@Provides\r\n\t@Singleton\r\n\tProfilesPaperCoreSDK providePaperCoreSdk() {\r\n\t\treturn ProfilesPaperCoreSDK.getInstance();\r\n\t}\r\n\r\n\t@Provides\r\n\t@Named(MYSQL_CONNECTION_STRING)\r\n\tString provideConnectionString() {\r\n\t\treturn this.plugin.getConfig().getString(&quot;mysql.connector&quot;);\r\n\t}\r\n\r\n\t@SneakyThrows\r\n\t@Provides\r\n\t@Singleton\r\n\tConnection provideConnection(@Named(MYSQL_CONNECTION_STRING) String connStr) {\r\n\t\treturn DriverManager.getConnection(connStr);\r\n\t}\r\n}\r\n```\r\n\r\nAnd here is the error:\r\n\r\n```\r\njava.lang.ClassCastException: class com.awooga.profiles.ProfilesPaperCorePlugin cannot be cast to class com.awooga.profiles.ProfilesPaperCorePlugin (com.awooga.profiles.ProfilesPaperCorePlugin is in unnamed module of loader &#39;profiles-paper-core-1.0-SNAPSHOT-all.jar&#39; @6b7ad2b3; com.awooga.profiles.ProfilesPaperCorePlugin is in unnamed module of loader &#39;myJar.jar&#39; @547132f7)\r\n       at myJar.jar//com.awooga.profiles.ProfilesPaperCoreSDK.getInstance(ProfilesPaperCoreSDK.java:29)\r\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule.providePaperCoreSdk(ProfilesPaperGuiModule.java:49)\r\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule$$FastClassByGuice$$2439651.GUICE$TRAMPOLINE(&lt;generated&gt;)\r\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule$$FastClassByGuice$$2439651.apply(&lt;generated&gt;)\r\n       at myJar.jar//com.google.inject.internal.ProviderMethod$FastClassProviderMethod.doProvision(ProviderMethod.java:260)\r\n       at myJar.jar//com.google.inject.internal.ProviderMethod.doProvision(ProviderMethod.java:171)\r\n       at myJar.jar//com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.provision(InternalProviderInstanceBindingImpl.java:185)\r\n       at myJar.jar//com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.get(InternalProviderInstanceBindingImpl.java:162)\r\n       at myJar.jar//com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\r\n       at myJar.jar//com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:169)\r\n       at myJar.jar//com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:45)\r\n       at myJar.jar//com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:50)\r\n       at myJar.jar//com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:146)\r\n       at myJar.jar//com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:124)\r\n       at myJar.jar//com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\r\n       at myJar.jar//com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:296)\r\n       at myJar.jar//com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:50)\r\n       at myJar.jar//com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:146)\r\n       at myJar.jar//com.google.inject.internal.MembersInjectorImpl.injectAndNotify(MembersInjectorImpl.java:101)\r\n       at myJar.jar//com.google.inject.internal.Initializer$InjectableReference.get(Initializer.java:245)\r\n       at myJar.jar//com.google.inject.internal.Initializer.injectAll(Initializer.java:140)\r\n       at myJar.jar//com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:180)\r\n       at myJar.jar//com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:113)\r\n       at myJar.jar//com.google.inject.Guice.createInjector(Guice.java:87)\r\n       at myJar.jar//com.google.inject.Guice.createInjector(Guice.java:69)\r\n       at myJar.jar//com.google.inject.Guice.createInjector(Guice.java:59)\r\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule.createInjector(ProfilesPaperGuiModule.java:29)\r\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiPlugin.onEnable(ProfilesPaperGuiPlugin.java:44)\r\n       at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\r\n       at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:370)\r\n       at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:500)\r\n       at org.bukkit.craftbukkit.v1_17_R1.CraftServer.enablePlugin(CraftServer.java:561)\r\n       at org.bukkit.craftbukkit.v1_17_R1.CraftServer.enablePlugins(CraftServer.java:475)\r\n       at net.minecraft.server.MinecraftServer.loadWorld(MinecraftServer.java:730)\r\n       at net.minecraft.server.dedicated.DedicatedServer.init(DedicatedServer.java:317)\r\n       at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1217)\r\n       at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:319)\r\n       at java.base/java.lang.Thread.run(Thread.java:831)\r\n```","title":"Guice Unnamed Module error: java.lang.ClassCastException ~ cannot be cast to class ~","body":"<p>I am using Guice's dependency injection at Java 16.\nIt works fine at Java 11, but at Java 16, there has an error.\nGenerating modules with the Guice's AbstractModule, there has an exception at getting external jar's class.</p>\n<p>I already found the answer that's closest to the answer I want but I am using AbstractModule so I can't resolve it.</p>\n<p><a href=\"https://stackoverflow.com/questions/48327898/unnamed-module-interaction-with-named-module-by-serviceloaderload\">Unnamed module interaction with named module by ServiceLoader::load</a></p>\n<p>I think naming modules will resolve this problem.</p>\n<p>Here is my code:</p>\n<pre><code>package com.awooga.profiles;\n\nimport com.awooga.profiles.dao.PlayerProfilesDAO;\nimport com.awooga.profiles.dao.impl.PlayerProfilesDAOImpl;\nimport com.google.inject.*;\nimport lombok.SneakyThrows;\nimport org.bukkit.configuration.Configuration;\nimport org.bukkit.configuration.file.FileConfiguration;\nimport org.bukkit.plugin.Plugin;\n\nimport javax.inject.Named;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.util.Optional;\n\npublic class ProfilesPaperGuiModule extends AbstractModule {\n\n    public static final String MYSQL_CONNECTION_STRING=&quot;MYSQL_CONNECTION_STRING&quot;;\n\n    private final ProfilesPaperGuiPlugin plugin;\n\n    // This is also dependency injection, but without any libraries/frameworks since we can't use those here yet.\n    public ProfilesPaperGuiModule(ProfilesPaperGuiPlugin plugin) {\n        this.plugin = plugin;\n    }\n\n    public Injector createInjector() {\n        return Guice.createInjector(this);\n    }\n\n    @Override\n    protected void configure() {\n        // Here we tell Guice to use our plugin instance everytime we need it\n        bind(ProfilesPaperGuiPlugin.class).toInstance(this.plugin);\n        bind(Plugin.class).toInstance(this.plugin);\n\n        bind(PlayerProfilesDAO.class).to(PlayerProfilesDAOImpl.class).in(Singleton.class);\n        bind(ProfilesPlaceholderExpansion.class).in(Singleton.class);\n        bind(ConfigurationDelegator.class).in(Singleton.class);\n        bind(Configuration.class).to(ConfigurationDelegator.class);\n    }\n\n    //get instance at external jar\n    @Provides\n    @Singleton\n    ProfilesPaperCoreSDK providePaperCoreSdk() {\n        return ProfilesPaperCoreSDK.getInstance();\n    }\n\n    @Provides\n    @Named(MYSQL_CONNECTION_STRING)\n    String provideConnectionString() {\n        return this.plugin.getConfig().getString(&quot;mysql.connector&quot;);\n    }\n\n    @SneakyThrows\n    @Provides\n    @Singleton\n    Connection provideConnection(@Named(MYSQL_CONNECTION_STRING) String connStr) {\n        return DriverManager.getConnection(connStr);\n    }\n}\n</code></pre>\n<p>And here is the error:</p>\n<pre><code>java.lang.ClassCastException: class com.awooga.profiles.ProfilesPaperCorePlugin cannot be cast to class com.awooga.profiles.ProfilesPaperCorePlugin (com.awooga.profiles.ProfilesPaperCorePlugin is in unnamed module of loader 'profiles-paper-core-1.0-SNAPSHOT-all.jar' @6b7ad2b3; com.awooga.profiles.ProfilesPaperCorePlugin is in unnamed module of loader 'myJar.jar' @547132f7)\n       at myJar.jar//com.awooga.profiles.ProfilesPaperCoreSDK.getInstance(ProfilesPaperCoreSDK.java:29)\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule.providePaperCoreSdk(ProfilesPaperGuiModule.java:49)\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule$$FastClassByGuice$$2439651.GUICE$TRAMPOLINE(&lt;generated&gt;)\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule$$FastClassByGuice$$2439651.apply(&lt;generated&gt;)\n       at myJar.jar//com.google.inject.internal.ProviderMethod$FastClassProviderMethod.doProvision(ProviderMethod.java:260)\n       at myJar.jar//com.google.inject.internal.ProviderMethod.doProvision(ProviderMethod.java:171)\n       at myJar.jar//com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.provision(InternalProviderInstanceBindingImpl.java:185)\n       at myJar.jar//com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.get(InternalProviderInstanceBindingImpl.java:162)\n       at myJar.jar//com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n       at myJar.jar//com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:169)\n       at myJar.jar//com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:45)\n       at myJar.jar//com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:50)\n       at myJar.jar//com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:146)\n       at myJar.jar//com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:124)\n       at myJar.jar//com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n       at myJar.jar//com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:296)\n       at myJar.jar//com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:50)\n       at myJar.jar//com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:146)\n       at myJar.jar//com.google.inject.internal.MembersInjectorImpl.injectAndNotify(MembersInjectorImpl.java:101)\n       at myJar.jar//com.google.inject.internal.Initializer$InjectableReference.get(Initializer.java:245)\n       at myJar.jar//com.google.inject.internal.Initializer.injectAll(Initializer.java:140)\n       at myJar.jar//com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:180)\n       at myJar.jar//com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:113)\n       at myJar.jar//com.google.inject.Guice.createInjector(Guice.java:87)\n       at myJar.jar//com.google.inject.Guice.createInjector(Guice.java:69)\n       at myJar.jar//com.google.inject.Guice.createInjector(Guice.java:59)\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiModule.createInjector(ProfilesPaperGuiModule.java:29)\n       at myJar.jar//com.awooga.profiles.ProfilesPaperGuiPlugin.onEnable(ProfilesPaperGuiPlugin.java:44)\n       at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\n       at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:370)\n       at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:500)\n       at org.bukkit.craftbukkit.v1_17_R1.CraftServer.enablePlugin(CraftServer.java:561)\n       at org.bukkit.craftbukkit.v1_17_R1.CraftServer.enablePlugins(CraftServer.java:475)\n       at net.minecraft.server.MinecraftServer.loadWorld(MinecraftServer.java:730)\n       at net.minecraft.server.dedicated.DedicatedServer.init(DedicatedServer.java:317)\n       at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1217)\n       at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:319)\n       at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n"},{"tags":["java","spring-boot","hadoop","webhdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682429693,"post_id":76101329,"comment_id":134211519,"body_markdown":"&quot;Spring Boot&quot; doesn&#39;t matter. It&#39;s just Java libraries you need to use","body":"&quot;Spring Boot&quot; doesn&#39;t matter. It&#39;s just Java libraries you need to use"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682429637,"creation_date":1682429637,"answer_id":76101757,"question_id":76101329,"body_markdown":"You shouldn&#39;t use WebHDFS. Add `hadoop-client` Java dependency and use the Filesystem class to interact directly with HDFS via Namenode RPC\r\n\r\nOtherwise, read the REST API documentation for WebHDFS and use WebClient class to construct HTTP requests ","title":"WebHDFS REST API and Spring Boot","body":"<p>You shouldn't use WebHDFS. Add <code>hadoop-client</code> Java dependency and use the Filesystem class to interact directly with HDFS via Namenode RPC</p>\n<p>Otherwise, read the REST API documentation for WebHDFS and use WebClient class to construct HTTP requests</p>\n"}],"owner":{"account_id":6384435,"reputation":145,"user_id":4952812,"display_name":"Kate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682429663,"creation_date":1682426768,"question_id":76101329,"body_markdown":"I have a Hadoop cluster and I want to manipulate data from a Spring Boot microservice: Create folders / Put Data/ Read Data/ Delete Data...\r\n\r\nThere is an API: https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/WebHDFS.html\r\n\r\nbut I don&#39;t know how I can use it in a spring boot project.\r\n\r\nI found this example, but with HBASE: https://stackoverflow.com/questions/47261564/spring-boot-rest-with-hadoop-hbase\r\n\r\nThank you in advance,","title":"WebHDFS REST API and Spring Boot","body":"<p>I have a Hadoop cluster and I want to manipulate data from a Spring Boot microservice: Create folders / Put Data/ Read Data/ Delete Data...</p>\n<p>There is an API: <a href=\"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/WebHDFS.html\" rel=\"nofollow noreferrer\">https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/WebHDFS.html</a></p>\n<p>but I don't know how I can use it in a spring boot project.</p>\n<p>I found this example, but with HBASE: <a href=\"https://stackoverflow.com/questions/47261564/spring-boot-rest-with-hadoop-hbase\">Spring Boot REST with Hadoop HBASE</a></p>\n<p>Thank you in advance,</p>\n"},{"tags":["java","eclipse","wsdl"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1395075713,"post_id":22460571,"comment_id":34162963,"body_markdown":"Hint: Search wsimport in Google :)","body":"Hint: Search wsimport in Google :)"}],"answers":[{"tags":[],"owner":{"account_id":203758,"reputation":14587,"user_id":451600,"accept_rate":91,"display_name":"Captain Giraffe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395076255,"creation_date":1395076255,"answer_id":22460832,"question_id":22460571,"body_markdown":"The Eclipse team with The Open University have prepared the following document, which includes creating proxy classes with tests.  It might be what you are looking for. \r\n\r\nhttp://www.eclipse.org/webtools/community/education/web/t320/Generating_a_client_from_WSDL.pdf\r\n\r\nEverything is included in the *Dynamic Web Project* template.  \r\n\r\nIn the project create a *Web Service Client*. This starts a wizard that has you point out a wsdl url and creates the client with tests for you. \r\n\r\nThe user guide (targeted at indigo though) for this task is found at http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jst.ws.cxf.doc.user%2Ftasks%2Fcreate_client.html.\r\n","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p>The Eclipse team with The Open University have prepared the following document, which includes creating proxy classes with tests.  It might be what you are looking for. </p>\n\n<p><a href=\"http://www.eclipse.org/webtools/community/education/web/t320/Generating_a_client_from_WSDL.pdf\" rel=\"nofollow\">http://www.eclipse.org/webtools/community/education/web/t320/Generating_a_client_from_WSDL.pdf</a></p>\n\n<p>Everything is included in the <em>Dynamic Web Project</em> template.  </p>\n\n<p>In the project create a <em>Web Service Client</em>. This starts a wizard that has you point out a wsdl url and creates the client with tests for you. </p>\n\n<p>The user guide (targeted at indigo though) for this task is found at <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jst.ws.cxf.doc.user%2Ftasks%2Fcreate_client.html\" rel=\"nofollow\">http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jst.ws.cxf.doc.user%2Ftasks%2Fcreate_client.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":3803680,"reputation":1169,"user_id":3156636,"display_name":"Ashok_Pradhan"},"down_vote_count":3,"up_vote_count":66,"is_accepted":true,"score":63,"last_activity_date":1395077005,"creation_date":1395077005,"answer_id":22461100,"question_id":22460571,"body_markdown":"In Eclipse Kepler it is very easy to generate Web Service Client classes,You can achieve this by following steps .\r\n\r\n**RightClick on any Project-&gt;Create New Other -&gt;Web Services-&gt;Web Service Client-&gt;Then paste the wsdl url(or location) in Service Definition-&gt;Next-&gt;Finish**\r\n\r\nYou will see the generated classes are inside your src folder.\r\n\r\nNOTE :Without eclipse also you can generate client classes from wsdl file by using wsimport command utility which ships with JDK.\r\n\r\nrefer this link [Create Web service client using wsdl ][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p>In Eclipse Kepler it is very easy to generate Web Service Client classes,You can achieve this by following steps .</p>\n\n<p><strong>RightClick on any Project->Create New Other ->Web Services->Web Service Client->Then paste the wsdl url(or location) in Service Definition->Next->Finish</strong></p>\n\n<p>You will see the generated classes are inside your src folder.</p>\n\n<p>NOTE :Without eclipse also you can generate client classes from wsdl file by using wsimport command utility which ships with JDK.</p>\n\n<p>refer this link <a href=\"http://www.mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\">Create Web service client using wsdl </a></p>\n"},{"tags":[],"owner":{"account_id":406823,"reputation":7048,"user_id":776546,"accept_rate":80,"display_name":"nyxz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1425546991,"creation_date":1425546991,"answer_id":28874025,"question_id":22460571,"body_markdown":"I wouldn&#39;t suggest using the Eclipse tool to generate the WS Client because I had bad experience with it:\r\n\r\nI am not really sure if this matters but I had to consume a WS written in .NET. When I used the Eclipse&#39;s &quot;New Web Service Client&quot; tool it generated the Java classes using [Axis (version 1.x)][1] which as you can check is old (last version from 2006). There is [a newer version][2] though that is has some major changes but Eclipse doesn&#39;t use it.\r\n\r\nWhy the old version of Axis matters you&#39;ll say? Because when using OpenJDK you can run into some problems like [missing cryptography algorithms][3] in OpenJDK that are presented in the Oracle&#39;s JDK and some libraries like this one depend on them. \r\n\r\nSo I just used the [wsimport][4] tool and ended my headaches.\r\n\r\n\r\n  [1]: https://axis.apache.org/axis/\r\n  [2]: https://axis.apache.org/axis2/java/core/\r\n  [3]: http://armoredbarista.blogspot.co.uk/2013/10/how-to-use-ecc-with-openjdk.html\r\n  [4]: http://www.mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p>I wouldn't suggest using the Eclipse tool to generate the WS Client because I had bad experience with it:</p>\n\n<p>I am not really sure if this matters but I had to consume a WS written in .NET. When I used the Eclipse's \"New Web Service Client\" tool it generated the Java classes using <a href=\"https://axis.apache.org/axis/\" rel=\"noreferrer\">Axis (version 1.x)</a> which as you can check is old (last version from 2006). There is <a href=\"https://axis.apache.org/axis2/java/core/\" rel=\"noreferrer\">a newer version</a> though that is has some major changes but Eclipse doesn't use it.</p>\n\n<p>Why the old version of Axis matters you'll say? Because when using OpenJDK you can run into some problems like <a href=\"http://armoredbarista.blogspot.co.uk/2013/10/how-to-use-ecc-with-openjdk.html\" rel=\"noreferrer\">missing cryptography algorithms</a> in OpenJDK that are presented in the Oracle's JDK and some libraries like this one depend on them. </p>\n\n<p>So I just used the <a href=\"http://www.mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\" rel=\"noreferrer\">wsimport</a> tool and ended my headaches.</p>\n"},{"tags":[],"owner":{"account_id":2800331,"reputation":1729,"user_id":2408683,"accept_rate":67,"display_name":"Shell Scott"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1682429505,"creation_date":1433200579,"answer_id":30584865,"question_id":22460571,"body_markdown":"Run this in your command line:\r\n\r\n```\r\nwsimport -keep -s (name of folder where you want to store generated code) urlToWsdl\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nwsimport -keep -s C:\\NewFolder https://www.blablabla.com\r\n```","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p>Run this in your command line:</p>\n<pre><code>wsimport -keep -s (name of folder where you want to store generated code) urlToWsdl\n</code></pre>\n<p>For example:</p>\n<pre><code>wsimport -keep -s C:\\NewFolder https://www.blablabla.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462742,"reputation":17025,"user_id":865220,"accept_rate":23,"display_name":"ishandutta2007"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495505671,"creation_date":1495505671,"answer_id":44124718,"question_id":22460571,"body_markdown":"Options are:\n\n - [Wsimport][1] from Oracle uses [JAXB][2]\n - [Axis][3] from Apache\n - [CXF][4] from Apache\n - [Axis2][5] from Apache offers choice between [ADB][6] (default),\n   Apache [XmlBeans][7], or [JiBX][8] for data-binding\n\nRead through the above links before taking a call\n\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/wsimport.html\n  [2]: http://www.oracle.com/technetwork/articles/javase/index-140168.html\n  [3]: https://axis.apache.org/axis/\n  [4]: https://en.wikipedia.org/wiki/Apache_CXF\n  [5]: http://axis.apache.org/axis2/java/core/\n  [6]: http://axis.apache.org/axis2/java/core/docs/adb/adb-howto.html\n  [7]: http://xmlbeans.apache.org/\n  [8]: http://jibx.sourceforge.net/","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p>Options are:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/wsimport.html\" rel=\"noreferrer\">Wsimport</a> from Oracle uses <a href=\"http://www.oracle.com/technetwork/articles/javase/index-140168.html\" rel=\"noreferrer\">JAXB</a></li>\n<li><a href=\"https://axis.apache.org/axis/\" rel=\"noreferrer\">Axis</a> from Apache</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Apache_CXF\" rel=\"noreferrer\">CXF</a> from Apache</li>\n<li><a href=\"http://axis.apache.org/axis2/java/core/\" rel=\"noreferrer\">Axis2</a> from Apache offers choice between <a href=\"http://axis.apache.org/axis2/java/core/docs/adb/adb-howto.html\" rel=\"noreferrer\">ADB</a> (default),\nApache <a href=\"http://xmlbeans.apache.org/\" rel=\"noreferrer\">XmlBeans</a>, or <a href=\"http://jibx.sourceforge.net/\" rel=\"noreferrer\">JiBX</a> for data-binding</li>\n</ul>\n<p>Read through the above links before taking a call</p>\n"},{"tags":[],"owner":{"account_id":1733872,"reputation":2893,"user_id":1586864,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553769798,"creation_date":1553769798,"answer_id":55395588,"question_id":22460571,"body_markdown":"**Using command prompt in windows you can use below command to get class files.**\r\n\r\n    wsimport &quot;complete file path of your .wsdl file&quot;\r\n    example : wsimport C:\\Users\\schemas\\com\\myprofile\\myprofile2019.wsdl\r\n\r\n**if you want to generate source code you should be using below commnad.**\r\n\r\n    wsimport -keep -s src &quot;complete file path of your .wsdl file&quot;\r\n    example : wsimport -keep -s src C:\\Users\\schemas\\com\\myprofile\\myprofile2019.wsdl\r\n\r\n&gt; **Note** : Here &quot;-s&quot; means source directory and &quot;src&quot; is name of folder that should be created before executing this command. Wsimport\r\n&gt; is a tool which is bundled along with JAVA SE, no seperate download is\r\n&gt; required.","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p><strong>Using command prompt in windows you can use below command to get class files.</strong></p>\n\n<pre><code>wsimport \"complete file path of your .wsdl file\"\nexample : wsimport C:\\Users\\schemas\\com\\myprofile\\myprofile2019.wsdl\n</code></pre>\n\n<p><strong>if you want to generate source code you should be using below commnad.</strong></p>\n\n<pre><code>wsimport -keep -s src \"complete file path of your .wsdl file\"\nexample : wsimport -keep -s src C:\\Users\\schemas\\com\\myprofile\\myprofile2019.wsdl\n</code></pre>\n\n<blockquote>\n  <p><strong>Note</strong> : Here \"-s\" means source directory and \"src\" is name of folder that should be created before executing this command. Wsimport\n  is a tool which is bundled along with JAVA SE, no seperate download is\n  required.</p>\n</blockquote>\n"}],"owner":{"account_id":1504099,"reputation":4829,"user_id":1407907,"accept_rate":45,"display_name":"khris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216269,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":22461100,"answer_count":6,"score":51,"last_activity_date":1682429505,"creation_date":1395075588,"question_id":22460571,"body_markdown":"I have a WSDL file (or, more precisely, its URL). I need to convert it to Java classes. I also need to provide tests for the web service it describes. \r\nI&#39;m new to web services, so could someone tell me how to convert WSDLs to Java?\r\n\r\nI use Eclipse JEE Kepler. Maybe there are some plugins to do this automatically?","title":"How do you convert WSDLs to Java classes using Eclipse?","body":"<p>I have a WSDL file (or, more precisely, its URL). I need to convert it to Java classes. I also need to provide tests for the web service it describes. \nI'm new to web services, so could someone tell me how to convert WSDLs to Java?</p>\n\n<p>I use Eclipse JEE Kepler. Maybe there are some plugins to do this automatically?</p>\n"},{"tags":["java","amazon-web-services","amazon-sns"],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682429263,"creation_date":1682429263,"question_id":76101701,"body_markdown":"I am trying to figure out how to use the EventStreamAws4Signer class from the SNS SDK for java to create signatures and validate them. I&#39;ve asked ChatGPT to give me a code example and it came up with the following code:\r\n\r\n    public void publishMessage(String topicArn, String message) {\r\n        SnsClient snsClient = SnsClient.builder()\r\n                .region(Region.US_WEST_2)\r\n                .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n                .build();\r\n\r\n        PublishRequest publishRequest = PublishRequest.builder()\r\n                .topicArn(topicArn)\r\n                .message(message)\r\n                .build();\r\n\r\n        EventStreamAws4Signer signer = EventStreamAws4Signer.builder()\r\n                .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n                .build();\r\n\r\n        SdkBytes payload = SdkBytes.fromByteArray(message.getBytes());\r\n\r\n        String signature = signer.sign(publishRequest, payload).get(&quot;signature&quot;);\r\n\r\n        snsClient.publish(builder -&gt; builder\r\n                .message(message)\r\n                .topicArn(topicArn)\r\n                .signature(signature)\r\n                .build());\r\n    }\r\n\r\nThe problem with this code is that in reality `EventStreamAws4Signer` doesn&#39;t have a `builder()` method. It only has a `create()` method. But this method doesn&#39;t let you configure the object. I need to be able to make a signature using the credentials of an IAM user or the temporary credentials of an instance profile role.\r\n\r\nI&#39;ve already checked the docs [here][1] and [here][2] to see if I could find any examples on how to do this. But I couldn&#39;t find what i was looking for.\r\n\r\nSo my question is: How do i create and validate signatures using the `EventStreamAws4Signer` from AWS SNS Sdk (v1) for java?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/java_sns_code_examples.html\r\n  [2]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/sns/src/main/java/com/example/sns","title":"How do I create and validate a signature using the EventStreamAws4Signer class from the SNS Java SDK?","body":"<p>I am trying to figure out how to use the EventStreamAws4Signer class from the SNS SDK for java to create signatures and validate them. I've asked ChatGPT to give me a code example and it came up with the following code:</p>\n<pre><code>public void publishMessage(String topicArn, String message) {\n    SnsClient snsClient = SnsClient.builder()\n            .region(Region.US_WEST_2)\n            .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n            .build();\n\n    PublishRequest publishRequest = PublishRequest.builder()\n            .topicArn(topicArn)\n            .message(message)\n            .build();\n\n    EventStreamAws4Signer signer = EventStreamAws4Signer.builder()\n            .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n            .build();\n\n    SdkBytes payload = SdkBytes.fromByteArray(message.getBytes());\n\n    String signature = signer.sign(publishRequest, payload).get(&quot;signature&quot;);\n\n    snsClient.publish(builder -&gt; builder\n            .message(message)\n            .topicArn(topicArn)\n            .signature(signature)\n            .build());\n}\n</code></pre>\n<p>The problem with this code is that in reality <code>EventStreamAws4Signer</code> doesn't have a <code>builder()</code> method. It only has a <code>create()</code> method. But this method doesn't let you configure the object. I need to be able to make a signature using the credentials of an IAM user or the temporary credentials of an instance profile role.</p>\n<p>I've already checked the docs <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/java_sns_code_examples.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/sns/src/main/java/com/example/sns\" rel=\"nofollow noreferrer\">here</a> to see if I could find any examples on how to do this. But I couldn't find what i was looking for.</p>\n<p>So my question is: How do i create and validate signatures using the <code>EventStreamAws4Signer</code> from AWS SNS Sdk (v1) for java?</p>\n"},{"tags":["java","android","android-studio","arcore"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595847542,"creation_date":1595847542,"answer_id":63113901,"question_id":63099467,"body_markdown":"The most common cause of this type of error seems to be running on devices which don&#39;t support OpenGL ES3.1 or later - see the discussion here: https://github.com/google-ar/sceneform-android-sdk/issues/4\r\n\r\nThis can be either on older or less capable devices or when running in the emulator on a platform that does not have this version or a later version.\r\n\r\nThere are also reports that having mismatched Sceneform libraries can cause the same problem (not sure if the error is 100% the same) - i.e. an example from the discussion above (with version bolded to highlight):\r\n\r\n&gt; implementation &quot;com.google.ar.sceneform.ux:sceneform-ux:**1.10.0**&quot;\r\n&gt;\r\n&gt; implementation &quot;com.google.ar.sceneform:animation:**1.8.0**&quot;","title":"Error inflating class com.google.ar.sceneform.ArSceneView","body":"<p>The most common cause of this type of error seems to be running on devices which don't support OpenGL ES3.1 or later - see the discussion here: <a href=\"https://github.com/google-ar/sceneform-android-sdk/issues/4\" rel=\"nofollow noreferrer\">https://github.com/google-ar/sceneform-android-sdk/issues/4</a></p>\n<p>This can be either on older or less capable devices or when running in the emulator on a platform that does not have this version or a later version.</p>\n<p>There are also reports that having mismatched Sceneform libraries can cause the same problem (not sure if the error is 100% the same) - i.e. an example from the discussion above (with version bolded to highlight):</p>\n<blockquote>\n<p>implementation &quot;com.google.ar.sceneform.ux:sceneform-ux:<strong>1.10.0</strong>&quot;</p>\n<p>implementation &quot;com.google.ar.sceneform:animation:<strong>1.8.0</strong>&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1903040,"reputation":176,"user_id":1718484,"accept_rate":50,"display_name":"AbdulSaleem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611423860,"creation_date":1611423540,"answer_id":65862355,"question_id":63099467,"body_markdown":"I was facing the same error with AVD for API 29. In SDK Manager, for your selected API level, download **&quot;Google APIs Intel x86 Atom System Image&quot;** or **&quot;Intel x86 Atom System Image&quot;** or all &quot;Google API intel....&quot; \r\n\r\nNote: Above downloads requires huge space and data \r\n\r\nThen faced another error &quot;Google Play services for ar keeps stopping&quot; \r\n\r\nfor this error below link helped \r\nhttps://developers.google.com/sceneform/develop/emulator \r\n\r\nSo here is the answer \r\n\r\nSceneform requires OpenGL ES 3.0 or higher.\r\nMake sure your emulator is configured to use the latest version of OpenGL ES:\r\nClick More in the running emulator&#39;s toolbar.\r\nSelect Settings &gt; Advanced &gt; OpenGL ES API level &gt; Renderer maximum (up to OpenGL ES 3.1).\r\nRestart the emulator. When prompted, do not save the current state.\r\n\r\nCheck more on link above","title":"Error inflating class com.google.ar.sceneform.ArSceneView","body":"<p>I was facing the same error with AVD for API 29. In SDK Manager, for your selected API level, download <strong>&quot;Google APIs Intel x86 Atom System Image&quot;</strong> or <strong>&quot;Intel x86 Atom System Image&quot;</strong> or all &quot;Google API intel....&quot;</p>\n<p>Note: Above downloads requires huge space and data</p>\n<p>Then faced another error &quot;Google Play services for ar keeps stopping&quot;</p>\n<p>for this error below link helped\n<a href=\"https://developers.google.com/sceneform/develop/emulator\" rel=\"noreferrer\">https://developers.google.com/sceneform/develop/emulator</a></p>\n<p>So here is the answer</p>\n<p>Sceneform requires OpenGL ES 3.0 or higher.\nMake sure your emulator is configured to use the latest version of OpenGL ES:\nClick More in the running emulator's toolbar.\nSelect Settings &gt; Advanced &gt; OpenGL ES API level &gt; Renderer maximum (up to OpenGL ES 3.1).\nRestart the emulator. When prompted, do not save the current state.</p>\n<p>Check more on link above</p>\n"},{"tags":[],"owner":{"account_id":20785303,"reputation":1,"user_id":15264666,"display_name":"HikFeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619397988,"creation_date":1619397988,"answer_id":67259588,"question_id":63099467,"body_markdown":"build.gradle Add the following configuration to the file.\r\n\r\n    android{\r\n    ....\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Error inflating class com.google.ar.sceneform.ArSceneView","body":"<p>build.gradle Add the following configuration to the file.</p>\n<pre><code>android{\n....\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15462313,"reputation":63,"user_id":11154695,"display_name":"mo sal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2776,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1682429259,"creation_date":1595762671,"question_id":63099467,"body_markdown":"I have an error this is my Logcat\r\n\r\n    2020-07-26 12:14:50.756 30507-30507/com.tuto.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.tuto.myapplication, PID: 30507\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.tuto.myapplication/com.tuto.myapplication.MainActivity}: android.view.InflateException: Binary XML file line #27 in com.tuto.myapplication:layout/activity_main: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\n     Caused by: android.view.InflateException: Binary XML file line #27 in com.tuto.myapplication:layout/activity_main: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\r\n     Caused by: android.view.InflateException: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\r\n     Caused by: android.view.InflateException: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)       android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1016)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:971)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1133)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1094)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:692)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:536)\r\n        at com.google.ar.sceneform.ux.BaseArFragment.onCreateView(BaseArFragment.java:162)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\r\n        at androidx.fragment.app.FragmentManagerImpl.ensureInflatedFragmentView(FragmentManagerImpl.java:1138)\r\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:851)\r\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1133)\r\n        at androidx.fragment.app.FragmentManagerImpl.addFragment(FragmentManagerImpl.java:1393)\r\n        at androidx.fragment.app.FragmentManagerImpl.onCreateView(FragmentManagerImpl.java:3205)\r\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:134)\r\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:357)\r\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:336)\r\n        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1079)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1007)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:971)\r\n    2020-07-26 12:14:50.758 30507-30507/com.tuto.myapplication E/AndroidRuntime:     at android.view.LayoutInflater.rInflate(LayoutInflater.java:1133)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:555)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\r\n        at com.tuto.myapplication.MainActivity.onCreate(MainActivity.java:77)\r\n        at android.app.Activity.performCreate(Activity.java:8086)\r\n        at android.app.Activity.performCreate(Activity.java:8074)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1313)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/filament/gltfio/Gltfio;\r\n        at com.google.ar.sceneform.rendering.EngineInstance.gltfioInit(EngineInstance.java:96)\r\n        at com.google.ar.sceneform.rendering.EngineInstance.createEngine(EngineInstance.java:110)\r\n        at com.google.ar.sceneform.rendering.EngineInstance.getEngine(EngineInstance.java:42)\r\n        at com.google.ar.sceneform.rendering.Renderer.initialize(Renderer.java:542)\r\n        at com.google.ar.sceneform.rendering.Renderer.&lt;init&gt;(Renderer.java:109)\r\n        at com.google.ar.sceneform.SceneView.initialize(SourceFile:37)\r\n\r\n       2020-07-26 12:14:50.759 30507-30507/com.tuto.myapplication E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.filament.gltfio.Gltfio&quot; on path: DexPathList[[zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/base.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_resources_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/lib/arm64, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/base.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_dependencies_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_resources_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_0_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_1_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_2_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_3_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_4_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_5_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_6_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_7_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_8_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_9_apk.apk!/lib/arm64-v8a, /system/lib64, /system/product/lib64, /hw_product/lib64, /system/product/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        \t... 53 more\r\n    \tSuppressed: java.io.IOException: No original dex files found for dex location /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_resources_apk.apk\r\n        at dalvik.system.DexFile.openDexFileNative(Native Method)\r\n        at dalvik.system.DexFile.openDexFile(DexFile.java:365)\r\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:107)\r\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:80)\r\n        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:444)\r\n        at dalvik.system.DexPathList.makeDexElements(DexPathList.java:403)\r\n        at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:164)\r\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:126)\r\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:101)\r\n        at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:74)\r\n        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:87)\r\n    2020-07-26 12:14:50.759 30507-30507/com.tuto.myapplication E/AndroidRuntime:     at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:116)\r\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:130)\r\n        at android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:75)\r\n        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:914)\r\n        at android.app.LoadedApk.getClassLoader(LoadedApk.java:1015)\r\n        at android.app.LoadedApk.getResources(LoadedApk.java:1264)\r\n        at android.app.ContextImpl.createAppContext(ContextImpl.java:2611)\r\n        at android.app.ContextImpl.createAppContext(ContextImpl.java:2599)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7075)\r\n        at android.app.ActivityThread.access$2200(ActivityThread.java:296)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2208)\r\n        \t\t... 6 more\r\n    \tSuppressed: java.io.IOException: No original dex files found for dex location /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_0_apk.apk\r\n        at dalvik.system.DexFile.openDexFileNative(Native Method)\r\n        at dalvik.system.DexFile.openDexFile(DexFile.java:365)\r\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:107)\r\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:80)\r\n        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:444)\r\n        at dalvik.system.DexPathList.makeDexElements(DexPathList.java:403)\r\n        at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:164)\r\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:126)\r\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:101)\r\n        at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:74)\r\n        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:87)\r\n        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:116)\r\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:130)\r\n        at android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:75)\r\n        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:914)\r\n        at android.app.LoadedApk.getClassLoader(LoadedApk.java:1015)\r\n        at android.app.LoadedApk.getResources(LoadedApk.java:1264)\r\n        at android.app.ContextImpl.createAppContext(ContextImpl.java:2611)\r\n        at android.app.ContextImpl.createAppContext(ContextImpl.java:2599)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7075)\r\n        at android.app.ActivityThread.access$2200(ActivityThread.java:296)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2208)\r\n        \t\t... 6 more\r\n\r\nthis is my code\r\nMainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity implements Scene.OnUpdateListener {\r\n\r\n    private customArFragment mCustomArFragment;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        try {\r\n            mCustomArFragment = (customArFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n            mCustomArFragment.getArSceneView().getScene().addOnUpdateListener(this);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void setUpDatabase(Config config, Session session){\r\n        Bitmap nature = BitmapFactory.decodeResource(getResources(),R.drawable.nature);\r\n        AugmentedImageDatabase aid = new AugmentedImageDatabase(session);\r\n        aid.addImage(&quot;nature&quot; , nature);\r\n        config.setAugmentedImageDatabase(aid);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onUpdate(FrameTime frameTime) {\r\n        Frame frame = mCustomArFragment.getArSceneView().getArFrame();\r\n        Collection&lt;AugmentedImage&gt; images = frame.getUpdatedTrackables(AugmentedImage.class);\r\n        for (AugmentedImage image : images){\r\n            if (image.getTrackingState() == TrackingState.TRACKING){\r\n                if (image.getName().equals(&quot;nature&quot;)){\r\n                    Anchor anchor = image.createAnchor(image.getCenterPose());\r\n                    createModel(anchor);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void createModel(Anchor anchor) {\r\n        ModelRenderable.builder()\r\n                .setSource(this , Uri.parse(&quot;untitled.sfb&quot;))\r\n                .build()\r\n                .thenAccept(modelRenderable -&gt; { placeModel(modelRenderable,anchor); });\r\n\r\n    }\r\n\r\n    private void placeModel(ModelRenderable modelRenderable, Anchor anchor) {\r\n        AnchorNode anchorNode = new AnchorNode(anchor);\r\n        anchorNode.setRenderable(modelRenderable);\r\n        mCustomArFragment.getArSceneView().getScene().addChild(anchorNode);\r\n    }\r\n}\r\n\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/fragment&quot;\r\n        android:name=&quot;com.tuto.myapplication.customArFragment&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\ncustomArFragment :\r\n\r\n    public class customArFragment extends ArFragment {\r\n    @Override\r\n    protected Config getSessionConfiguration(Session session) {\r\n        Config config = new Config(session);\r\n        config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\r\n        config.setFocusMode(Config.FocusMode.AUTO);\r\n        session.configure(config);\r\n        this.getArSceneView().setupSession(session);\r\n\r\n        ((MainActivity)getActivity()).setUpDatabase(config,session);\r\n\r\n        return config;\r\n    }\r\n}\r\n\r\n\r\n//EDIT1: Just edited the stacktrace in order to be exploitable.\r\n","title":"Error inflating class com.google.ar.sceneform.ArSceneView","body":"<p>I have an error this is my Logcat</p>\n<pre><code>2020-07-26 12:14:50.756 30507-30507/com.tuto.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.tuto.myapplication, PID: 30507\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tuto.myapplication/com.tuto.myapplication.MainActivity}: android.view.InflateException: Binary XML file line #27 in com.tuto.myapplication:layout/activity_main: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\n Caused by: android.view.InflateException: Binary XML file line #27 in com.tuto.myapplication:layout/activity_main: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\n Caused by: android.view.InflateException: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\n Caused by: android.view.InflateException: Binary XML file line #22 in com.tuto.myapplication:layout/sceneform_ux_fragment_layout: Error inflating class com.google.ar.sceneform.ArSceneView\n Caused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Constructor.newInstance0(Native Method)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:343)       android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1016)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:971)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1133)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1094)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:692)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:536)\n    at com.google.ar.sceneform.ux.BaseArFragment.onCreateView(BaseArFragment.java:162)\n    at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\n    at androidx.fragment.app.FragmentManagerImpl.ensureInflatedFragmentView(FragmentManagerImpl.java:1138)\n    at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:851)\n    at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1133)\n    at androidx.fragment.app.FragmentManagerImpl.addFragment(FragmentManagerImpl.java:1393)\n    at androidx.fragment.app.FragmentManagerImpl.onCreateView(FragmentManagerImpl.java:3205)\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:134)\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:357)\n    at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:336)\n    at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1079)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1007)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:971)\n2020-07-26 12:14:50.758 30507-30507/com.tuto.myapplication E/AndroidRuntime:     at android.view.LayoutInflater.rInflate(LayoutInflater.java:1133)\n    at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:555)\n    at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\n    at com.tuto.myapplication.MainActivity.onCreate(MainActivity.java:77)\n    at android.app.Activity.performCreate(Activity.java:8086)\n    at android.app.Activity.performCreate(Activity.java:8074)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1313)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\n Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/filament/gltfio/Gltfio;\n    at com.google.ar.sceneform.rendering.EngineInstance.gltfioInit(EngineInstance.java:96)\n    at com.google.ar.sceneform.rendering.EngineInstance.createEngine(EngineInstance.java:110)\n    at com.google.ar.sceneform.rendering.EngineInstance.getEngine(EngineInstance.java:42)\n    at com.google.ar.sceneform.rendering.Renderer.initialize(Renderer.java:542)\n    at com.google.ar.sceneform.rendering.Renderer.&lt;init&gt;(Renderer.java:109)\n    at com.google.ar.sceneform.SceneView.initialize(SourceFile:37)\n\n   2020-07-26 12:14:50.759 30507-30507/com.tuto.myapplication E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.android.filament.gltfio.Gltfio&quot; on path: DexPathList[[zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/base.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_resources_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/lib/arm64, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/base.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_dependencies_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_resources_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_0_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_1_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_2_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_3_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_4_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_5_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_6_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_7_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_8_apk.apk!/lib/arm64-v8a, /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_9_apk.apk!/lib/arm64-v8a, /system/lib64, /system/product/lib64, /hw_product/lib64, /system/product/lib64]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        ... 53 more\n    Suppressed: java.io.IOException: No original dex files found for dex location /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_resources_apk.apk\n    at dalvik.system.DexFile.openDexFileNative(Native Method)\n    at dalvik.system.DexFile.openDexFile(DexFile.java:365)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:107)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:80)\n    at dalvik.system.DexPathList.loadDexFile(DexPathList.java:444)\n    at dalvik.system.DexPathList.makeDexElements(DexPathList.java:403)\n    at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:164)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:126)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:101)\n    at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:74)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:87)\n2020-07-26 12:14:50.759 30507-30507/com.tuto.myapplication E/AndroidRuntime:     at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:116)\n    at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:130)\n    at android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:75)\n    at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:914)\n    at android.app.LoadedApk.getClassLoader(LoadedApk.java:1015)\n    at android.app.LoadedApk.getResources(LoadedApk.java:1264)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:2611)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:2599)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7075)\n    at android.app.ActivityThread.access$2200(ActivityThread.java:296)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2208)\n            ... 6 more\n    Suppressed: java.io.IOException: No original dex files found for dex location /data/app/com.tuto.myapplication-R6xbR4NAzgk5zRoAjKzIxA==/split_lib_slice_0_apk.apk\n    at dalvik.system.DexFile.openDexFileNative(Native Method)\n    at dalvik.system.DexFile.openDexFile(DexFile.java:365)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:107)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:80)\n    at dalvik.system.DexPathList.loadDexFile(DexPathList.java:444)\n    at dalvik.system.DexPathList.makeDexElements(DexPathList.java:403)\n    at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:164)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:126)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:101)\n    at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:74)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:87)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:116)\n    at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:130)\n    at android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:75)\n    at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:914)\n    at android.app.LoadedApk.getClassLoader(LoadedApk.java:1015)\n    at android.app.LoadedApk.getResources(LoadedApk.java:1264)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:2611)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:2599)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7075)\n    at android.app.ActivityThread.access$2200(ActivityThread.java:296)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2208)\n            ... 6 more\n</code></pre>\n<p>this is my code\nMainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements Scene.OnUpdateListener {\n\nprivate customArFragment mCustomArFragment;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    try {\n        mCustomArFragment = (customArFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\n        mCustomArFragment.getArSceneView().getScene().addOnUpdateListener(this);\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n\n}\n\npublic void setUpDatabase(Config config, Session session){\n    Bitmap nature = BitmapFactory.decodeResource(getResources(),R.drawable.nature);\n    AugmentedImageDatabase aid = new AugmentedImageDatabase(session);\n    aid.addImage(&quot;nature&quot; , nature);\n    config.setAugmentedImageDatabase(aid);\n}\n\n\n@Override\npublic void onUpdate(FrameTime frameTime) {\n    Frame frame = mCustomArFragment.getArSceneView().getArFrame();\n    Collection&lt;AugmentedImage&gt; images = frame.getUpdatedTrackables(AugmentedImage.class);\n    for (AugmentedImage image : images){\n        if (image.getTrackingState() == TrackingState.TRACKING){\n            if (image.getName().equals(&quot;nature&quot;)){\n                Anchor anchor = image.createAnchor(image.getCenterPose());\n                createModel(anchor);\n            }\n        }\n    }\n}\n\nprivate void createModel(Anchor anchor) {\n    ModelRenderable.builder()\n            .setSource(this , Uri.parse(&quot;untitled.sfb&quot;))\n            .build()\n            .thenAccept(modelRenderable -&gt; { placeModel(modelRenderable,anchor); });\n\n}\n\nprivate void placeModel(ModelRenderable modelRenderable, Anchor anchor) {\n    AnchorNode anchorNode = new AnchorNode(anchor);\n    anchorNode.setRenderable(modelRenderable);\n    mCustomArFragment.getArSceneView().getScene().addChild(anchorNode);\n}\n</code></pre>\n<p>}</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;fragment\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/fragment&quot;\n    android:name=&quot;com.tuto.myapplication.customArFragment&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>customArFragment :</p>\n<pre><code>public class customArFragment extends ArFragment {\n@Override\nprotected Config getSessionConfiguration(Session session) {\n    Config config = new Config(session);\n    config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\n    config.setFocusMode(Config.FocusMode.AUTO);\n    session.configure(config);\n    this.getArSceneView().setupSession(session);\n\n    ((MainActivity)getActivity()).setUpDatabase(config,session);\n\n    return config;\n}\n</code></pre>\n<p>}</p>\n<p>//EDIT1: Just edited the stacktrace in order to be exploitable.</p>\n"},{"tags":["java","encoding","utf-8"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1682341131,"post_id":76092081,"comment_id":134194894,"body_markdown":"For the JVM startup parameter are you actually providing the class / jar to be executed? See https://stackoverflow.com/a/362006/664577 for more information.","body":"For the JVM startup parameter are you actually providing the class / jar to be executed? See <a href=\"https://stackoverflow.com/a/362006/664577\">stackoverflow.com/a/362006/664577</a> for more information."},{"owner":{"account_id":26933196,"reputation":9,"user_id":20505240,"display_name":"404-No Social Skills Found"},"score":0,"creation_date":1682362231,"post_id":76092081,"comment_id":134200148,"body_markdown":"In doing this would it change the java default encoding char set for all classes that I run? the intention is to permanently change it so when I run a class or program I don&#39;t have to worry about encoding problems","body":"In doing this would it change the java default encoding char set for all classes that I run? the intention is to permanently change it so when I run a class or program I don&#39;t have to worry about encoding problems"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682376389,"post_id":76092081,"comment_id":134202632,"body_markdown":"If (and only if) you are on Windows and want to globally and permanently change the default charset for your machine to UTF-8, then update your _locale_ information as follows: **{Control Panel}** &gt; **Region** &gt; select the **Administrative** tab &gt; Click the **Change System Locale...** button &gt; Check the checkbox labeled _&quot;Beta: Use Unicode UTF-8...&quot;_, and restart your machine. Then you won&#39;t need to bother about setting `file.encoding`.","body":"If (and only if) you are on Windows and want to globally and permanently change the default charset for your machine to UTF-8, then update your <i>locale</i> information as follows: <b>{Control Panel}</b> &gt; <b>Region</b> &gt; select the <b>Administrative</b> tab &gt; Click the <b>Change System Locale...</b> button &gt; Check the checkbox labeled <i>&quot;Beta: Use Unicode UTF-8...&quot;</i>, and restart your machine. Then you won&#39;t need to bother about setting <code>file.encoding</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682401863,"post_id":76092081,"comment_id":134205021,"body_markdown":"The value returned by method  `Charset defaultCharset()` depends on the JDK being used. For JDK 17 it _&quot;[typically depends upon the locale and charset of the underlying operating system](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset())&quot;_, but for JDK18+ the _&quot;[default charset is UTF-8, unless changed in an implementation specific manner](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset())&quot;_. So update your question to state which JDK you are using - that&#39;s essential information.","body":"The value returned by method  <code>Charset defaultCharset()</code> depends on the JDK being used. For JDK 17 it <i>&quot;<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">typically depends upon the locale and charset of the underlying operating system</a>&quot;</i>, but for JDK18+ the <i>&quot;<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">default charset is UTF-8, unless changed in an implementation specific manner</a>&quot;</i>. So update your question to state which JDK you are using - that&#39;s essential information."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682420440,"creation_date":1682343971,"answer_id":76092584,"question_id":76092081,"body_markdown":"You will see a similar problem from Windows Powershell, either switch to CMD.EXE or try putting the parameter in quotes, and remember to add the rest of the command line (runnable jar or class to launch):\r\n\r\n    java &quot;-Dfile.encoding=UTF8&quot; ... rest of command line with classname\r\n\r\nWithout the quotes, Powershell is passing in the arguments as if you typed following which defines a System property &quot;file&quot; with no value and classname &quot;.encoding=UTF8&quot;:\r\n\r\n    java -Dfile .encoding=UTF8\r\n\r\nAnother way to switch over to default UTF-8 file encoding is by upgrading to JDK18 or above, it does not require any command line switch. See [JEP 400: UTF-8 by Default][1], but you ought to test your applications with `-Dfile.encoding=UTF8` beforehand.\r\n\r\n  [1]: https://openjdk.org/jeps/400","title":"Setting default java encoding to UTF-8 not working on windows","body":"<p>You will see a similar problem from Windows Powershell, either switch to CMD.EXE or try putting the parameter in quotes, and remember to add the rest of the command line (runnable jar or class to launch):</p>\n<pre><code>java &quot;-Dfile.encoding=UTF8&quot; ... rest of command line with classname\n</code></pre>\n<p>Without the quotes, Powershell is passing in the arguments as if you typed following which defines a System property &quot;file&quot; with no value and classname &quot;.encoding=UTF8&quot;:</p>\n<pre><code>java -Dfile .encoding=UTF8\n</code></pre>\n<p>Another way to switch over to default UTF-8 file encoding is by upgrading to JDK18 or above, it does not require any command line switch. See <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">JEP 400: UTF-8 by Default</a>, but you ought to test your applications with <code>-Dfile.encoding=UTF8</code> beforehand.</p>\n"}],"owner":{"account_id":26933196,"reputation":9,"user_id":20505240,"display_name":"404-No Social Skills Found"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682429185,"creation_date":1682340572,"question_id":76092081,"body_markdown":"I&#39;ve been trying to set the default java encoding character set from &quot;windows-1252&quot; to &quot;UTF8&quot; and its not working. \r\n\r\nI&#39;ve tried using `java -Dfile.encoding=UTF8` and I get \r\n```\r\nError: Could not find or load main class .encoding=UTF8\r\nCaused by: java.lang.ClassNotFoundException: /encoding=UTF8\r\n```\r\n in the VS code terminal and that doesn&#39;t work. I&#39;ve also tried `set JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8` and that doesn&#39;t work either I literally get nothing and the default encoding isn&#39;t changed. The curious thing is I can do this on the windows command prompt and when entering `java -version` I am told the encoding is set to UTF8. However using `Charset.defaultCharset()` at the beginning of the program is telling me my encoding is set to &quot;windows-1252&quot;.","title":"Setting default java encoding to UTF-8 not working on windows","body":"<p>I've been trying to set the default java encoding character set from &quot;windows-1252&quot; to &quot;UTF8&quot; and its not working.</p>\n<p>I've tried using <code>java -Dfile.encoding=UTF8</code> and I get</p>\n<pre><code>Error: Could not find or load main class .encoding=UTF8\nCaused by: java.lang.ClassNotFoundException: /encoding=UTF8\n</code></pre>\n<p>in the VS code terminal and that doesn't work. I've also tried <code>set JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8</code> and that doesn't work either I literally get nothing and the default encoding isn't changed. The curious thing is I can do this on the windows command prompt and when entering <code>java -version</code> I am told the encoding is set to UTF8. However using <code>Charset.defaultCharset()</code> at the beginning of the program is telling me my encoding is set to &quot;windows-1252&quot;.</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1682443757,"post_id":76101646,"comment_id":134215639,"body_markdown":"Perhaps look into using JNA to hide the task bar.","body":"Perhaps look into using JNA to hide the task bar."}],"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682428871,"creation_date":1682428871,"question_id":76101646,"body_markdown":"I am trying to make my window full-screen when a window is pressed (like the screen of a youtube video/movie). However, it won&#39;t happen, and I can still see my taskbar and the top bar which shows the maximize, minimize, etc. buttons.\r\n\r\nI&#39;ve tried it through this:\r\n\r\n    JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(this);\r\n    frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\r\n\r\n\r\nand this:\r\n\r\n    JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(this);\r\n    GraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    GraphicsDevice device = env.getDefaultScreenDevice();\r\n    device.setFullScreenWindow(frame);\r\n    frame.setSize(device.getDisplayMode().getWidth(),device.getDisplayMode().getHeight());\r\n\r\nHowever, the result I got was: \r\n[![second code img][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/s9UIe.png\r\n\r\n(I can see the left and right of the window)\r\nBtw I have my taskbar on the left of the window, but putting it down does not change anything.","title":"Having problems doing full screen in java","body":"<p>I am trying to make my window full-screen when a window is pressed (like the screen of a youtube video/movie). However, it won't happen, and I can still see my taskbar and the top bar which shows the maximize, minimize, etc. buttons.</p>\n<p>I've tried it through this:</p>\n<pre><code>JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(this);\nframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\n</code></pre>\n<p>and this:</p>\n<pre><code>JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(this);\nGraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\nGraphicsDevice device = env.getDefaultScreenDevice();\ndevice.setFullScreenWindow(frame);\nframe.setSize(device.getDisplayMode().getWidth(),device.getDisplayMode().getHeight());\n</code></pre>\n<p>However, the result I got was:\n<a href=\"https://i.stack.imgur.com/s9UIe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s9UIe.png\" alt=\"second code img\" /></a></p>\n<p>(I can see the left and right of the window)\nBtw I have my taskbar on the left of the window, but putting it down does not change anything.</p>\n"},{"tags":["java","json","spring"],"owner":{"account_id":27823869,"reputation":25,"user_id":21243669,"display_name":"정지은"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682428825,"answer_count":0,"score":0,"last_activity_date":1682428777,"creation_date":1682428777,"question_id":76101627,"body_markdown":"I am currently trying to get the values from external API that is written in json format.\r\nI succeeded on getting data from this api. but I still can&#39;t extract the specific value from it..\r\n\r\nthis is the nasa api that I want to extract some datas from \r\nhttps://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY\r\n\r\nand I tried this code\r\n\r\n\r\n String reqURL = &quot;https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=my key name&quot;;\r\n\t    \t\r\n\t    \tURL url = new URL(reqURL);\r\n\t    \t\r\n\t    \t\r\n\t    \tHttpURLConnection conn = (HttpURLConnection)url.openConnection();\r\n\t    \t\r\n\t   \r\n\t    \tconn.setRequestMethod(&quot;GET&quot;);\r\n\t    \tconn.setDoOutput(true);\r\n\t    \t\r\n\t    \tint res_Code = conn.getResponseCode();\r\n\t    \t\r\n\t    \t//System.out.println(res_Code);I got 200 .\r\n\t    \t\r\n\r\n/*\r\nI first tried to get value of key &quot;links&quot; , but I didnt get the values...\r\n*/\r\n\r\n\r\n\t    \tif(res_Code == 200) {\r\n\t    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n\t    \t\tStringBuffer result = new StringBuffer();\r\n\t    \t\t\r\n\t    \t\tString line = null;\r\n\t    \t\t\r\n\t    \t\twhile((line = br.readLine())!=null) {\r\n\t    \t\t\tresult.append(line);\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\tSystem.out.println(result);\r\n\t    \t\t//I got json data that is converted to string.\r\n\r\n                //converting string to json \r\n                 JSONParser pars = new JSONParser(result.toString());              \r\n                 Object obj = pars.parse();\r\n                 JSONObject json = (JSONObject)obj;\r\n\r\n                //get the value from key &#39;links&#39;\r\n                 String value = (String)json.get(&quot;links&quot;); \r\n                 System.out.println(value); // not showing..\r\n    \r\n                 br.close();\r\n\r\n\r\n\r\nI tried to do alot of times but I keep failing..\r\nIf my way of algorithm is wrong . please let me know !\r\nI would like to get the value from key called &#39;links&#39; or\r\n&#39;next&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would be so greateful if someone let me know ..\r\nthank you so much \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                \r\n\r\n\t    \t\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oK1nK.png","title":"How to extract values from JSON objects using java?","body":"<p>I am currently trying to get the values from external API that is written in json format.\nI succeeded on getting data from this api. but I still can't extract the specific value from it..</p>\n<p>this is the nasa api that I want to extract some datas from\n<a href=\"https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY\" rel=\"nofollow noreferrer\">https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY</a></p>\n<p>and I tried this code</p>\n<p>String reqURL = &quot;https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=my key name&quot;;</p>\n<pre><code>        URL url = new URL(reqURL);\n        \n        \n        HttpURLConnection conn = (HttpURLConnection)url.openConnection();\n        \n   \n        conn.setRequestMethod(&quot;GET&quot;);\n        conn.setDoOutput(true);\n        \n        int res_Code = conn.getResponseCode();\n        \n        //System.out.println(res_Code);I got 200 .\n        \n</code></pre>\n<p>/*\nI first tried to get value of key &quot;links&quot; , but I didnt get the values...\n*/</p>\n<pre><code>        if(res_Code == 200) {\n            BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n            StringBuffer result = new StringBuffer();\n            \n            String line = null;\n            \n            while((line = br.readLine())!=null) {\n                result.append(line);\n            }\n            \n            System.out.println(result);\n            //I got json data that is converted to string.\n\n            //converting string to json \n             JSONParser pars = new JSONParser(result.toString());              \n             Object obj = pars.parse();\n             JSONObject json = (JSONObject)obj;\n\n            //get the value from key 'links'\n             String value = (String)json.get(&quot;links&quot;); \n             System.out.println(value); // not showing..\n\n             br.close();\n</code></pre>\n<p>I tried to do alot of times but I keep failing..\nIf my way of algorithm is wrong . please let me know !\nI would like to get the value from key called 'links' or\n'next'</p>\n<p><a href=\"https://i.stack.imgur.com/oK1nK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oK1nK.png\" alt=\"enter image description here\" /></a></p>\n<p>I would be so greateful if someone let me know ..\nthank you so much</p>\n"},{"tags":["java","android","kotlin","android-viewpager"],"comments":[{"owner":{"account_id":5511926,"reputation":4211,"user_id":4377954,"display_name":"Deˣ"},"score":0,"creation_date":1560972956,"post_id":56674476,"comment_id":99916755,"body_markdown":"If you can give me java code of above RecentlyViewedItemAdapter by Decompiling, I can help you quiker.","body":"If you can give me java code of above RecentlyViewedItemAdapter by Decompiling, I can help you quiker."}],"answers":[{"tags":[],"owner":{"account_id":14512491,"reputation":416,"user_id":10482491,"display_name":"Vladimir Gladun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560977388,"creation_date":1560977388,"answer_id":56675640,"question_id":56674476,"body_markdown":"If you have relatively large number of items and need views to be recycled then the RecyclerView is the right option for you. It will be definitely easier than creating a custom view pager adapter with a fixed item count and a view holder pattern. \r\nThe default/generic PageAdapter is not recycling anything - it&#39;s added to make sure you have all your views initiated and ready to swipe through. However, you can use https://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html that will destroy/recreate the fragments when no longer used or reused.","title":"Converting RecyclerView to ViewPager / PagerAdapter","body":"<p>If you have relatively large number of items and need views to be recycled then the RecyclerView is the right option for you. It will be definitely easier than creating a custom view pager adapter with a fixed item count and a view holder pattern. \nThe default/generic PageAdapter is not recycling anything - it's added to make sure you have all your views initiated and ready to swipe through. However, you can use <a href=\"https://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html</a> that will destroy/recreate the fragments when no longer used or reused.</p>\n"},{"tags":[],"owner":{"account_id":6236736,"reputation":1560,"user_id":4851799,"accept_rate":23,"display_name":"David West"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562836266,"creation_date":1562836266,"answer_id":56985636,"question_id":56674476,"body_markdown":"Job done. I actually surprised myself by being able to modify the recycler view to mimmick the PageView&#39;s behaviour precisely (including padding, snap scrolling etc). Thanks to the simple subclass **SnapHelper**. Saved me a tonne of work, so no need to refactor the codebase.\r\n\r\n    SnapHelper snapHelper = new PagerSnapHelper();\r\n    snapHelper.attachToRecyclerView(recyclerView);\r\n","title":"Converting RecyclerView to ViewPager / PagerAdapter","body":"<p>Job done. I actually surprised myself by being able to modify the recycler view to mimmick the PageView's behaviour precisely (including padding, snap scrolling etc). Thanks to the simple subclass <strong>SnapHelper</strong>. Saved me a tonne of work, so no need to refactor the codebase.</p>\n\n<pre><code>SnapHelper snapHelper = new PagerSnapHelper();\nsnapHelper.attachToRecyclerView(recyclerView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18646447,"reputation":1,"user_id":13590977,"display_name":"Cagla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682428627,"creation_date":1651144021,"answer_id":72042602,"question_id":56674476,"body_markdown":"PagerSnapHelper solved my problem.\r\n        \r\n        val snapHelper: SnapHelper = PagerSnapHelper()\r\n        snapHelper.attachToRecyclerView(binding.rv)\r\n","title":"Converting RecyclerView to ViewPager / PagerAdapter","body":"<p>PagerSnapHelper solved my problem.</p>\n<pre><code>    val snapHelper: SnapHelper = PagerSnapHelper()\n    snapHelper.attachToRecyclerView(binding.rv)\n</code></pre>\n"}],"owner":{"account_id":6236736,"reputation":1560,"user_id":4851799,"accept_rate":23,"display_name":"David West"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682428627,"creation_date":1560971855,"question_id":56674476,"body_markdown":"**Background** - New to Android, but pretty nifty with moving layouts around, understanding Java, Kotlin and XML. However this task seems to be way above my head.\r\n\r\n**Problem** - I&#39;m looking to convert the following Java file (RecyclerView) into a Kotlin file (ViewPager) - since I already have a ViewPager hooked-up with the same scrolling behaviour as desired.  I get the impression it&#39;s a 10min job for a seasoned developer. If that&#39;s the case I wonder if I could call upon some assistance from the community? At least to work out where to start. I can&#39;t seem to find a guide on how to convert a RecyclerView into a PagerAdapter or ViewPager.\r\n\r\nEssentially the existing ViewPager I&#39;m using has static data (5 items) and this one could have tens of items, so needs to be dynamic with a separate datasource (items of CardItem).\r\n\r\n----------\r\n\r\n\r\n**RecyclerViewAdapter - Current (Java)**\r\n\r\n    package com.APPNAME.fragments.cards;\r\n    import android.databinding.DataBindingUtil;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import java.util.ArrayList;\r\n    import com.APPNAME.R;\r\n    import com.APPNAME.databinding.FragmentCardsRecentlyViewedBinding;\r\n    import com.APPNAME.model.cardItem.CardItem;\r\n\r\n\r\n\r\n    public class RecentlyViewedAdapter extends RecyclerView.Adapter&lt;RecentlyViewedAdapter.RecentlyViewedViewHolder&gt; {\r\n\r\n        public OnCardClicked listener;\r\n        private ArrayList&lt;CardItem&gt; items = new ArrayList&lt;&gt;();\r\n\r\n        public void addItems(ArrayList&lt;CardItem&gt; list) {\r\n            items = list;\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n        @Override\r\n        public RecentlyViewedViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            FragmentCardsRecentlyViewedBinding binding = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext()), R.layout.fragment_cards_recently_viewed, parent, false);\r\n            return new RecentlyViewedViewHolder(binding);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecentlyViewedViewHolder holder, int position) {\r\n            holder.binding.setViewModel(new RecentlyViewedViewModel(items.get(position)));\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return items.size();\r\n        }\r\n\r\n        interface OnCardClicked {\r\n            void onCardClicked(View view, CardItem cardItem);\r\n        }\r\n\r\n        class RecentlyViewedViewHolder extends RecyclerView.ViewHolder {\r\n            FragmentCardsRecentlyViewedBinding binding;\r\n\r\n            public RecentlyViewedViewHolder(FragmentCardsRecentlyViewedBinding itemView) {\r\n                super(itemView.getRoot());\r\n                binding = itemView;\r\n                binding.cardView.setOnClickListener(v -&gt; {\r\n                    if (listener != null) {\r\n                        listener.onCardClicked(v, items.get(getAdapterPosition()));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**ViewPagerAdapter - Future (Kotlin)**\r\n\r\n    package com.APPNAME.fragments.cards\r\n    import android.support.annotation.DrawableRes\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import java.util.*\r\n    import kotlinx.android.synthetic.main.fragment_cards_recently_viewed.view.*\r\n    import com.APPNAME.R\r\n    import com.APPNAME.activities.BaseActivity\r\n    import com.APPNAME.activities.cards.NewCardActivity\r\n    import com.APPNAME.model.cardItem.CardItem\r\n    import com.APPNAME.views.wrapContentViewPager.ObjectAtPositionPagerAdapter\r\n\r\n\r\n    class RecentlyViewedItemAdapter constructor(private val activity: BaseActivity) : ObjectAtPositionPagerAdapter() {\r\n\r\n        private var items = ArrayList&lt;CardItem&gt;()\r\n\r\n        override fun instantiateItemObject(container: ViewGroup, position: Int) : Any {\r\n        return getImageView(container, R.drawable.placeholder_card_image) { NewCardActivity.start(activity, it) }\r\n        }\r\n\r\n        private fun getImageView(container: ViewGroup, @DrawableRes imageResourceId: Int, onClick: (imageResourceId: Int) -&gt; Unit = {}): View {\r\n        val layoutInflater = LayoutInflater.from(container.context)\r\n            val layout = layoutInflater.inflate(R.layout.fragment_cards_recently_viewed, container, false)\r\n            val image = layout.recentlyViewedImage\r\n            image.setImageResource(imageResourceId)\r\n            image.setOnClickListener { onClick(imageResourceId) }\r\n            container.addView(layout)\r\n            return layout\r\n        }\r\n\r\n        override fun isViewFromObject(view: View, anObject: Any) = (view == anObject)\r\n        override fun getCount() = 5     //Placeholder\r\n\r\n        override fun destroyItemObject(container: ViewGroup, position: Int, view: Any) {\r\n        \tcontainer.removeView(view as View)\r\n        }\r\n    }","title":"Converting RecyclerView to ViewPager / PagerAdapter","body":"<p><strong>Background</strong> - New to Android, but pretty nifty with moving layouts around, understanding Java, Kotlin and XML. However this task seems to be way above my head.</p>\n\n<p><strong>Problem</strong> - I'm looking to convert the following Java file (RecyclerView) into a Kotlin file (ViewPager) - since I already have a ViewPager hooked-up with the same scrolling behaviour as desired.  I get the impression it's a 10min job for a seasoned developer. If that's the case I wonder if I could call upon some assistance from the community? At least to work out where to start. I can't seem to find a guide on how to convert a RecyclerView into a PagerAdapter or ViewPager.</p>\n\n<p>Essentially the existing ViewPager I'm using has static data (5 items) and this one could have tens of items, so needs to be dynamic with a separate datasource (items of CardItem).</p>\n\n<hr>\n\n<p><strong>RecyclerViewAdapter - Current (Java)</strong></p>\n\n<pre><code>package com.APPNAME.fragments.cards;\nimport android.databinding.DataBindingUtil;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport java.util.ArrayList;\nimport com.APPNAME.R;\nimport com.APPNAME.databinding.FragmentCardsRecentlyViewedBinding;\nimport com.APPNAME.model.cardItem.CardItem;\n\n\n\npublic class RecentlyViewedAdapter extends RecyclerView.Adapter&lt;RecentlyViewedAdapter.RecentlyViewedViewHolder&gt; {\n\n    public OnCardClicked listener;\n    private ArrayList&lt;CardItem&gt; items = new ArrayList&lt;&gt;();\n\n    public void addItems(ArrayList&lt;CardItem&gt; list) {\n        items = list;\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public RecentlyViewedViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        FragmentCardsRecentlyViewedBinding binding = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext()), R.layout.fragment_cards_recently_viewed, parent, false);\n        return new RecentlyViewedViewHolder(binding);\n    }\n\n    @Override\n    public void onBindViewHolder(RecentlyViewedViewHolder holder, int position) {\n        holder.binding.setViewModel(new RecentlyViewedViewModel(items.get(position)));\n    }\n\n    @Override\n    public int getItemCount() {\n        return items.size();\n    }\n\n    interface OnCardClicked {\n        void onCardClicked(View view, CardItem cardItem);\n    }\n\n    class RecentlyViewedViewHolder extends RecyclerView.ViewHolder {\n        FragmentCardsRecentlyViewedBinding binding;\n\n        public RecentlyViewedViewHolder(FragmentCardsRecentlyViewedBinding itemView) {\n            super(itemView.getRoot());\n            binding = itemView;\n            binding.cardView.setOnClickListener(v -&gt; {\n                if (listener != null) {\n                    listener.onCardClicked(v, items.get(getAdapterPosition()));\n                }\n            });\n        }\n    }\n}\n</code></pre>\n\n<p><strong>ViewPagerAdapter - Future (Kotlin)</strong></p>\n\n<pre><code>package com.APPNAME.fragments.cards\nimport android.support.annotation.DrawableRes\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport java.util.*\nimport kotlinx.android.synthetic.main.fragment_cards_recently_viewed.view.*\nimport com.APPNAME.R\nimport com.APPNAME.activities.BaseActivity\nimport com.APPNAME.activities.cards.NewCardActivity\nimport com.APPNAME.model.cardItem.CardItem\nimport com.APPNAME.views.wrapContentViewPager.ObjectAtPositionPagerAdapter\n\n\nclass RecentlyViewedItemAdapter constructor(private val activity: BaseActivity) : ObjectAtPositionPagerAdapter() {\n\n    private var items = ArrayList&lt;CardItem&gt;()\n\n    override fun instantiateItemObject(container: ViewGroup, position: Int) : Any {\n    return getImageView(container, R.drawable.placeholder_card_image) { NewCardActivity.start(activity, it) }\n    }\n\n    private fun getImageView(container: ViewGroup, @DrawableRes imageResourceId: Int, onClick: (imageResourceId: Int) -&gt; Unit = {}): View {\n    val layoutInflater = LayoutInflater.from(container.context)\n        val layout = layoutInflater.inflate(R.layout.fragment_cards_recently_viewed, container, false)\n        val image = layout.recentlyViewedImage\n        image.setImageResource(imageResourceId)\n        image.setOnClickListener { onClick(imageResourceId) }\n        container.addView(layout)\n        return layout\n    }\n\n    override fun isViewFromObject(view: View, anObject: Any) = (view == anObject)\n    override fun getCount() = 5     //Placeholder\n\n    override fun destroyItemObject(container: ViewGroup, position: Int, view: Any) {\n        container.removeView(view as View)\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","kotlin","date","datetime"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1682369868,"post_id":76095845,"comment_id":134201672,"body_markdown":"`select to_timestamp(1682369792); 04/24/2023 13:56:32 PDT`.","body":"<code>select to_timestamp(1682369792); 04&#47;24&#47;2023 13:56:32 PDT</code>."},{"owner":{"account_id":968984,"reputation":3860,"user_id":991903,"accept_rate":40,"display_name":"Meier"},"score":1,"creation_date":1682373504,"post_id":76095845,"comment_id":134202293,"body_markdown":"Maybe you can show us some code, for example how you use the &quot;criteria builder&quot; for the other parameters. That might help to get better answers.","body":"Maybe you can show us some code, for example how you use the &quot;criteria builder&quot; for the other parameters. That might help to get better answers."},{"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"score":0,"creation_date":1682425362,"post_id":76095845,"comment_id":134210150,"body_markdown":"@Meier added code snipper, showing what I am trying to do","body":"@Meier added code snipper, showing what I am trying to do"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682375579,"creation_date":1682375123,"answer_id":76096529,"question_id":76095845,"body_markdown":"# tl;dr\r\n\r\nYou are using the wrong data type for your column. Use `TIMESTAMP WITH TIME ZONE` rather than `TIMESTAMP WITHOUT TIME ZONE`. \r\n\r\n# `TIMESTAMP WITHOUT TIME ZONE`\r\n\r\n&gt; in postgres table date stored as TIMESTAMP, I receive query param in unix epoch time\r\n\r\nWell, you have a problem there.\r\n\r\nThe `TIMESTAMP` type in Postgres has a full name of `TIMESTAMP WITHOUT TIME ZONE` (see the [manual][1]). This means a value in that column has **merely a date and a time-of-day**, but lacks the context of a time zone or [offset-from-UTC][2]. So a value of this type **does *not* represent a moment**, is *not* a point on the timeline.\r\n\r\nFor example, if you record merely “noon on January 23, 2023”, we have no way to know if you meant noon in Tokyo Japan, noon in Toulouse France, or noon in Toledo Ohio US — three very different moments, each several hours apart. \r\n\r\nIn contrast a Unix epoch time represents a moment, a point on the timeline. Therefore, you are asking to compare [apples and oranges][3]. \r\n\r\n&gt;I need to convert one to another\r\n\r\n&#128073; Asking that makes no sense.\r\n\r\n# `TIMESTAMP WITH TIME ZONE`\r\n\r\nThe solution is to &#128073; use the correct data type. Use a column of a type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`. Postgres offers such a type, by the same name. \r\n\r\nFrom there you can easily make comparison using Java.\r\n\r\nIf by “unix epoch time” you meant a count of whole seconds or a count of milliseconds since an [epoch reference][4] of the first moment of 1970 as seen in [UTC][5], then use the `Instant` class to parse that count.\r\n\r\n    Instant instant = Instant.ofEpochSecond( x ) ;\r\n\r\n… or:\r\n\r\n    Instant instant = Instant.ofEpochMilli( x ) ;\r\n\r\nFor use in [JDBC][6], use the `OffsetDateTime` class.\r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n\r\nPass to a `PreparedStatement` or your database access framework.\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieve.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, Postgres uses any offset or time zone info included with an `INSERT` or `UPDATE` to adjust the date and time to UTC (an offset of zero hours-minutes-seconds) while saving the data to a column of type `TIMESTAMP WITH TIME ZONE`. The original zone/offset is then discarded. \r\n\r\nEvery value retrieved from a column of type `TIMESTAMP WITH TIME ZONE` is ***always* in UTC**, having an offset of zero. Always. Confusion on this point comes from some tools and middleware that insist on applying a default time zone to the retrieved value. I consider such well-intentioned behavior to be a lie, creating the illusion of a time zone having been stored when in fact all values in that column are in UTC (offset of zero). \r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/datatype-datetime.html\r\n  [2]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [3]: https://en.wikipedia.org/wiki/Apples_and_oranges\r\n  [4]: https://en.wikipedia.org/wiki/Epoch_(computing)\r\n  [5]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [6]: https://en.wikipedia.org/wiki/Java_Database_Connectivity","title":"kotlin: convert postgres TIMESTAMP to unix date using criteria builder","body":"<h1>tl;dr</h1>\n<p>You are using the wrong data type for your column. Use <code>TIMESTAMP WITH TIME ZONE</code> rather than <code>TIMESTAMP WITHOUT TIME ZONE</code>.</p>\n<h1><code>TIMESTAMP WITHOUT TIME ZONE</code></h1>\n<blockquote>\n<p>in postgres table date stored as TIMESTAMP, I receive query param in unix epoch time</p>\n</blockquote>\n<p>Well, you have a problem there.</p>\n<p>The <code>TIMESTAMP</code> type in Postgres has a full name of <code>TIMESTAMP WITHOUT TIME ZONE</code> (see the <a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\">manual</a>). This means a value in that column has <strong>merely a date and a time-of-day</strong>, but lacks the context of a time zone or <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a>. So a value of this type <strong>does <em>not</em> represent a moment</strong>, is <em>not</em> a point on the timeline.</p>\n<p>For example, if you record merely “noon on January 23, 2023”, we have no way to know if you meant noon in Tokyo Japan, noon in Toulouse France, or noon in Toledo Ohio US — three very different moments, each several hours apart.</p>\n<p>In contrast a Unix epoch time represents a moment, a point on the timeline. Therefore, you are asking to compare <a href=\"https://en.wikipedia.org/wiki/Apples_and_oranges\" rel=\"nofollow noreferrer\">apples and oranges</a>.</p>\n<blockquote>\n<p>I need to convert one to another</p>\n</blockquote>\n<p>👉 Asking that makes no sense.</p>\n<h1><code>TIMESTAMP WITH TIME ZONE</code></h1>\n<p>The solution is to 👉 use the correct data type. Use a column of a type akin to the SQL standard type of <code>TIMESTAMP WITH TIME ZONE</code>. Postgres offers such a type, by the same name.</p>\n<p>From there you can easily make comparison using Java.</p>\n<p>If by “unix epoch time” you meant a count of whole seconds or a count of milliseconds since an <a href=\"https://en.wikipedia.org/wiki/Epoch_(computing)\" rel=\"nofollow noreferrer\">epoch reference</a> of the first moment of 1970 as seen in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>, then use the <code>Instant</code> class to parse that count.</p>\n<pre><code>Instant instant = Instant.ofEpochSecond( x ) ;\n</code></pre>\n<p>… or:</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( x ) ;\n</code></pre>\n<p>For use in <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>, use the <code>OffsetDateTime</code> class.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Pass to a <code>PreparedStatement</code> or your database access framework.</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieve.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<hr />\n<p>By the way, Postgres uses any offset or time zone info included with an <code>INSERT</code> or <code>UPDATE</code> to adjust the date and time to UTC (an offset of zero hours-minutes-seconds) while saving the data to a column of type <code>TIMESTAMP WITH TIME ZONE</code>. The original zone/offset is then discarded.</p>\n<p>Every value retrieved from a column of type <code>TIMESTAMP WITH TIME ZONE</code> is <strong><em>always</em> in UTC</strong>, having an offset of zero. Always. Confusion on this point comes from some tools and middleware that insist on applying a default time zone to the retrieved value. I consider such well-intentioned behavior to be a lie, creating the illusion of a time zone having been stored when in fact all values in that column are in UTC (offset of zero).</p>\n"}],"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76096529,"answer_count":1,"score":0,"last_activity_date":1682426443,"creation_date":1682368077,"question_id":76095845,"body_markdown":"Currently need to construct query that selects rows based on date, in postgres table date stored as `TIMESTAMP`, I receive query param in unix epoch time which is `Int` field, is I need to convert one to another, would love to know how to do it using `criteria builder`, since the rest of the query also constructed using `criteria builder`\r\n\r\nany help appreciated!\r\n\r\ntrying to do something like this:\r\n\r\n    if (cmd.firstDate != null) {\r\n    criteria.and(Criteria.where(&quot;myDate&quot;).greaterThanOrEquals(cmd.firstDate))\r\n    }\r\n\r\nand then receive results like this:\r\n\r\n    val query = Query.query(criteria)\r\n\r\n    val content = template.select(MyClassName::class.java)\r\n                .matching(query).all().collectList()","title":"kotlin: convert postgres TIMESTAMP to unix date using criteria builder","body":"<p>Currently need to construct query that selects rows based on date, in postgres table date stored as <code>TIMESTAMP</code>, I receive query param in unix epoch time which is <code>Int</code> field, is I need to convert one to another, would love to know how to do it using <code>criteria builder</code>, since the rest of the query also constructed using <code>criteria builder</code></p>\n<p>any help appreciated!</p>\n<p>trying to do something like this:</p>\n<pre><code>if (cmd.firstDate != null) {\ncriteria.and(Criteria.where(&quot;myDate&quot;).greaterThanOrEquals(cmd.firstDate))\n}\n</code></pre>\n<p>and then receive results like this:</p>\n<pre><code>val query = Query.query(criteria)\n\nval content = template.select(MyClassName::class.java)\n            .matching(query).all().collectList()\n</code></pre>\n"},{"tags":["java","gradle","java-8","android-gradle-plugin","java-11"],"comments":[{"owner":{"account_id":8054049,"reputation":4480,"user_id":6071729,"display_name":"A Farmanbar"},"score":1,"creation_date":1633014416,"post_id":69180079,"comment_id":122654304,"body_markdown":"There is not enough information about the problem. we need comprehensive information about the project. you are using Docker and containers. However, you didn&#39;t put any information about that. run-time env is important, 32bit or 64bit system or software is important, JRE, JDK how you containerize is important. and so. please provide as much information as you can. thanks","body":"There is not enough information about the problem. we need comprehensive information about the project. you are using Docker and containers. However, you didn&#39;t put any information about that. run-time env is important, 32bit or 64bit system or software is important, JRE, JDK how you containerize is important. and so. please provide as much information as you can. thanks"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1682426211,"creation_date":1633012339,"answer_id":69394069,"question_id":69180079,"body_markdown":"&gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nYou get this message when the JRE is missing a certificate. I think you are going to have to install your company&#39;s certificate in the docker image&#39;s JRE\r\n\r\nYour Dockerfile will need to do something like:\r\n```\r\nFROM adoptopenjdk/openjdk11:jre-11.0.11_9-alpine\r\n\r\n// my-company.crt is your company&#39;s certificate\r\nCOPY my-company.crt my-company.crt\r\n\r\nRUN keytool -cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias my-alias -file my-company.crt\r\n```","title":"How to resolve gradle tls connection after upgrading from 5.4 to 6.8.3?","body":"<blockquote>\n<p>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n<p>You get this message when the JRE is missing a certificate. I think you are going to have to install your company's certificate in the docker image's JRE</p>\n<p>Your Dockerfile will need to do something like:</p>\n<pre><code>FROM adoptopenjdk/openjdk11:jre-11.0.11_9-alpine\n\n// my-company.crt is your company's certificate\nCOPY my-company.crt my-company.crt\n\nRUN keytool -cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias my-alias -file my-company.crt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12378425,"reputation":453,"user_id":9025180,"display_name":"mohammad reza sarsarabi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675253935,"creation_date":1675253935,"answer_id":75310088,"question_id":69180079,"body_markdown":"The following solution worked for me. I just disabled TLS\r\n\r\nIn Repositories section of your gradle:\r\n\r\nReplace `mavenCentral()` with \r\n\r\n    maven { \r\n        url = &quot;http://repo.maven.apache.org/maven2&quot;\r\n        allowInsecureProtocol = true\r\n    } \r\n\r\nand `jcenter()` with \r\n\r\n    maven { \r\n        url = &quot;http://jcenter.bintray.com&quot;\r\n        allowInsecureProtocol = true\r\n    } \r\n\r\nand for any other repositories just use the url with HTTP protocol instead of HTTPS and make sure to set `allowInsecureProtocol = true`","title":"How to resolve gradle tls connection after upgrading from 5.4 to 6.8.3?","body":"<p>The following solution worked for me. I just disabled TLS</p>\n<p>In Repositories section of your gradle:</p>\n<p>Replace <code>mavenCentral()</code> with</p>\n<pre><code>maven { \n    url = &quot;http://repo.maven.apache.org/maven2&quot;\n    allowInsecureProtocol = true\n} \n</code></pre>\n<p>and <code>jcenter()</code> with</p>\n<pre><code>maven { \n    url = &quot;http://jcenter.bintray.com&quot;\n    allowInsecureProtocol = true\n} \n</code></pre>\n<p>and for any other repositories just use the url with HTTP protocol instead of HTTPS and make sure to set <code>allowInsecureProtocol = true</code></p>\n"},{"tags":[],"owner":{"account_id":8535619,"reputation":1642,"user_id":7647323,"display_name":"AAber "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682341630,"creation_date":1682341630,"answer_id":76092243,"question_id":69180079,"body_markdown":"In my case, this error was a result of my internet service provider using a custom CA certificate to intercept and filter my SSL traffic.\r\n\r\nOnce I connected to the internet with a proper CA certificate chain the build completed without error.\r\n\r\nNotes: \r\n\r\n1. This error can be a result of any SSL certificate / CA issue on you internet connection.\r\n\r\n2. Once the build completes all is good until the build needs to download  a new gradle version. \r\n\r\n\r\n ","title":"How to resolve gradle tls connection after upgrading from 5.4 to 6.8.3?","body":"<p>In my case, this error was a result of my internet service provider using a custom CA certificate to intercept and filter my SSL traffic.</p>\n<p>Once I connected to the internet with a proper CA certificate chain the build completed without error.</p>\n<p>Notes:</p>\n<ol>\n<li><p>This error can be a result of any SSL certificate / CA issue on you internet connection.</p>\n</li>\n<li><p>Once the build completes all is good until the build needs to download  a new gradle version.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12197676,"reputation":304,"user_id":16808133,"display_name":"celcin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48254,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69394069,"answer_count":3,"score":10,"last_activity_date":1682426211,"creation_date":1631631250,"question_id":69180079,"body_markdown":"I upgrade the projects Gradle version from 5.4.1 to 6.8.3 and have changed the custom repository to https.\r\n\r\nI had a similar issue with maven but after mirroring has been solved. I can build the project without anyproblem with gradle 5.4.1 but when I upgrade the gradle to 6.8.3 then I got the following error:\r\n\r\n\r\n            The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2). You may need to configure the client to allow other protocols to be used.\r\n         See: https://docs.gradle.org/6.8.3/userguide/build_environment.html#gradle_system_properties\r\n                              &gt; sun.security.validator.ValidatorException: \r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n\r\n\r\n","title":"How to resolve gradle tls connection after upgrading from 5.4 to 6.8.3?","body":"<p>I upgrade the projects Gradle version from 5.4.1 to 6.8.3 and have changed the custom repository to https.</p>\n<p>I had a similar issue with maven but after mirroring has been solved. I can build the project without anyproblem with gradle 5.4.1 but when I upgrade the gradle to 6.8.3 then I got the following error:</p>\n<pre><code>        The server may not support the client's requested TLS protocol versions: (TLSv1.2). You may need to configure the client to allow other protocols to be used.\n     See: https://docs.gradle.org/6.8.3/userguide/build_environment.html#gradle_system_properties\n                          &gt; sun.security.validator.ValidatorException: \nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","android","unit-testing","android-studio","android-testing"],"comments":[{"owner":{"account_id":12806902,"reputation":948,"user_id":9266283,"display_name":"Dinesh"},"score":0,"creation_date":1571817297,"post_id":58517090,"comment_id":103362165,"body_markdown":"Does a clean build help?","body":"Does a clean build help?"},{"owner":{"account_id":16952199,"reputation":1,"user_id":12261452,"display_name":"Deepak Gupta"},"score":0,"creation_date":1571907255,"post_id":58517090,"comment_id":103397648,"body_markdown":"No,it did not work.","body":"No,it did not work."}],"answers":[{"tags":[],"owner":{"account_id":5471312,"reputation":41,"user_id":4350622,"display_name":"Asiri Piyajanaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682426169,"creation_date":1682426169,"answer_id":76101248,"question_id":58517090,"body_markdown":"I&#39;ve managed to fix this by adding\r\n\r\n    packagingOptions { \r\n    pickFirst &#39;**/*.xml&#39; //you don&#39;t need to know the plugin\r\n    }\r\n\r\nin android block in android/build.gradle file located in the plugin that causing the issue","title":"&quot;More than one file was found with OS independent path &#39;AndroidManifest.xml&#39;&quot;","body":"<p>I've managed to fix this by adding</p>\n<pre><code>packagingOptions { \npickFirst '**/*.xml' //you don't need to know the plugin\n}\n</code></pre>\n<p>in android block in android/build.gradle file located in the plugin that causing the issue</p>\n"}],"owner":{"account_id":16952199,"reputation":1,"user_id":12261452,"display_name":"Deepak Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682426169,"creation_date":1571813837,"question_id":58517090,"body_markdown":"Actually,I wrote unit test cases in `androidTest`. But, after that when I am trying to run the app, I am getting this error.\r\n\r\n    More than one file was found with OS independent path &#39;AndroidManifest.xml&#39;&quot;.\r\n\r\nSo,can anyone tell me the solution for this that how to fix this? ","title":"&quot;More than one file was found with OS independent path &#39;AndroidManifest.xml&#39;&quot;","body":"<p>Actually,I wrote unit test cases in <code>androidTest</code>. But, after that when I am trying to run the app, I am getting this error.</p>\n\n<pre><code>More than one file was found with OS independent path 'AndroidManifest.xml'\".\n</code></pre>\n\n<p>So,can anyone tell me the solution for this that how to fix this? </p>\n"},{"tags":["java","android","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"score":0,"creation_date":1681746092,"post_id":76036800,"comment_id":134102786,"body_markdown":"I also faced with such problems after update of Android Studio. The error is from your plugin version, which is 8.0.0. Maybe just a bug. Not sure. But what you can try is going to the `build.gradle` file for your project. In the dependencies find the line that specifies the version of the `com.android.tools.build:gradle` plugin. You may change it to another version like `classpath &#39;com.android.tools.build:gradle:7.0.4&#39;`. See if it works. If didn&#39;t work try to change the version of other dependencies.","body":"I also faced with such problems after update of Android Studio. The error is from your plugin version, which is 8.0.0. Maybe just a bug. Not sure. But what you can try is going to the <code>build.gradle</code> file for your project. In the dependencies find the line that specifies the version of the <code>com.android.tools.build:gradle</code> plugin. You may change it to another version like <code>classpath &#39;com.android.tools.build:gradle:7.0.4&#39;</code>. See if it works. If didn&#39;t work try to change the version of other dependencies."},{"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"score":0,"creation_date":1681795895,"post_id":76036800,"comment_id":134109941,"body_markdown":"No its still not working","body":"No its still not working"}],"answers":[{"tags":[],"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681747404,"creation_date":1681747404,"answer_id":76037103,"question_id":76036800,"body_markdown":"Since you are using Android API level 33, [Java 11 is available through desugaring][1].\r\n\r\nYou can now change the source and target compatibility to Java 11:\r\n```groovy\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_11\r\n    targetCompatibility JavaVersion.VERSION_11\r\n}\r\n\r\nkotlin {\r\n    jvmToolchain(11)\r\n}\r\n```\r\n\r\n[1]: https://developer.android.com/studio/write/java11-minimal-support-table","title":"Not able to create new compose project in Android studio flamingo","body":"<p>Since you are using Android API level 33, <a href=\"https://developer.android.com/studio/write/java11-minimal-support-table\" rel=\"nofollow noreferrer\">Java 11 is available through desugaring</a>.</p>\n<p>You can now change the source and target compatibility to Java 11:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n\nkotlin {\n    jvmToolchain(11)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28331271,"reputation":1,"user_id":21665513,"display_name":"Nino Antonio Bozzi &#193;lvarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681752027,"creation_date":1681750476,"answer_id":76037514,"question_id":76036800,"body_markdown":"If you don&#39;t want to change compatibility with version 11 and stay in 1.8, you could desugar it:\r\n\r\nfirst update Gradle to 8.0.0 (at least 4.0.0) modifying build.gradle.kts:\r\n```\r\nplugins {\r\n    id(&quot;com.android.application&quot;) version &quot;8.0.0&quot; apply false\r\n    id(&quot;com.android.library&quot;) version &quot;8.0.0&quot; apply false\r\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.5.31&quot; apply false\r\n}\r\n```\r\nor modifying build.gradle:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;8.0.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;8.0.0&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.5.31&#39; apply false\r\n}\r\n```\r\nas shown in https://developer.android.com/build/releases/gradle-plugin#updating-plugin\r\n\r\nThen, desugar it modifying your app&#39;s module build.gradle.kts file:\r\n```\r\nandroid {\r\n    defaultConfig {\r\n        // Required when setting minSdkVersion to 20 or lower\r\n        multiDexEnabled = true\r\n    }\r\n\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n\r\n        // For AGP 4.1+\r\n        isCoreLibraryDesugaringEnabled = true\r\n        // For AGP 4.0\r\n        // coreLibraryDesugaringEnabled = true\r\n\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    coreLibraryDesugaring(&quot;com.android.tools:desugar_jdk_libs:1.2.2&quot;)\r\n}\r\n```\r\nor your build.gradle Groovy file:\r\n```\r\nandroid {\r\n    defaultConfig {\r\n        // Required when setting minSdkVersion to 20 or lower\r\n        multiDexEnabled true\r\n    }\r\n\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n        coreLibraryDesugaringEnabled true\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.2.2&#39;\r\n}\r\n```\r\nas shown in https://developer.android.com/studio/write/java8-support#library-desugaring.\r\n\r\nRemember that you need to remove the *-XX:MaxPermSize=1024m* argument of jvmargs in gradle.properties file, to avoid an error.","title":"Not able to create new compose project in Android studio flamingo","body":"<p>If you don't want to change compatibility with version 11 and stay in 1.8, you could desugar it:</p>\n<p>first update Gradle to 8.0.0 (at least 4.0.0) modifying build.gradle.kts:</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;) version &quot;8.0.0&quot; apply false\n    id(&quot;com.android.library&quot;) version &quot;8.0.0&quot; apply false\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.5.31&quot; apply false\n}\n</code></pre>\n<p>or modifying build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.0' apply false\n    id 'com.android.library' version '8.0.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.5.31' apply false\n}\n</code></pre>\n<p>as shown in <a href=\"https://developer.android.com/build/releases/gradle-plugin#updating-plugin\" rel=\"nofollow noreferrer\">https://developer.android.com/build/releases/gradle-plugin#updating-plugin</a></p>\n<p>Then, desugar it modifying your app's module build.gradle.kts file:</p>\n<pre><code>android {\n    defaultConfig {\n        // Required when setting minSdkVersion to 20 or lower\n        multiDexEnabled = true\n    }\n\n    compileOptions {\n        // Flag to enable support for the new language APIs\n\n        // For AGP 4.1+\n        isCoreLibraryDesugaringEnabled = true\n        // For AGP 4.0\n        // coreLibraryDesugaringEnabled = true\n\n        // Sets Java compatibility to Java 8\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring(&quot;com.android.tools:desugar_jdk_libs:1.2.2&quot;)\n}\n</code></pre>\n<p>or your build.gradle Groovy file:</p>\n<pre><code>android {\n    defaultConfig {\n        // Required when setting minSdkVersion to 20 or lower\n        multiDexEnabled true\n    }\n\n    compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled true\n        // Sets Java compatibility to Java 8\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.2.2'\n}\n</code></pre>\n<p>as shown in <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support#library-desugaring</a>.</p>\n<p>Remember that you need to remove the <em>-XX:MaxPermSize=1024m</em> argument of jvmargs in gradle.properties file, to avoid an error.</p>\n"},{"tags":[],"owner":{"account_id":14330152,"reputation":1,"user_id":10351091,"display_name":"Dmytro H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682087882,"creation_date":1682087882,"answer_id":76074206,"question_id":76036800,"body_markdown":"I&#39;ve faced the similar problem\r\n\r\nI changed build.gradle(Project: MyProject) to\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.8.10&#39; apply false\r\n    }\r\n\r\nChange kotlinCompilerExtensionVersion in build.gradle(Module: app) to \r\n\r\n    composeOptions {\r\n                    kotlinCompilerExtensionVersion &#39;1.4.3&#39;\r\n                }\r\n\r\nAnd update Gradle JDK to openJDK-19(any ver 11 and above)\r\n[Settings screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u3NDe.png","title":"Not able to create new compose project in Android studio flamingo","body":"<p>I've faced the similar problem</p>\n<p>I changed build.gradle(Project: MyProject) to</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    id 'org.jetbrains.kotlin.jvm' version '1.8.10' apply false\n}\n</code></pre>\n<p>Change kotlinCompilerExtensionVersion in build.gradle(Module: app) to</p>\n<pre><code>composeOptions {\n                kotlinCompilerExtensionVersion '1.4.3'\n            }\n</code></pre>\n<p>And update Gradle JDK to openJDK-19(any ver 11 and above)\n<a href=\"https://i.stack.imgur.com/u3NDe.png\" rel=\"nofollow noreferrer\">Settings screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":12898814,"reputation":628,"user_id":9351811,"display_name":"Kuvonchbek Yakubov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682426093,"creation_date":1682424656,"answer_id":76101018,"question_id":76036800,"body_markdown":"For me changing only the java version in `build.gradle` file didn&#39;t work. So I changed it in Gradle Settings.\r\n\r\nGo to `File -&gt; Project Structure -&gt; SDK Location -&gt; Gradle Settings` change Gradle JDK to 17.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AxS49.png\r\n\r\nClick OK and change `compileOptions` and `kotlinOptions` to the same version in `build.gradle(Module:app)`:\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }\r\n\r\n\r\n","title":"Not able to create new compose project in Android studio flamingo","body":"<p>For me changing only the java version in <code>build.gradle</code> file didn't work. So I changed it in Gradle Settings.</p>\n<p>Go to <code>File -&gt; Project Structure -&gt; SDK Location -&gt; Gradle Settings</code> change Gradle JDK to 17.</p>\n<p><a href=\"https://i.stack.imgur.com/AxS49.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AxS49.png\" alt=\"enter image description here\" /></a></p>\n<p>Click OK and change <code>compileOptions</code> and <code>kotlinOptions</code> to the same version in <code>build.gradle(Module:app)</code>:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\n\nkotlinOptions {\n    jvmTarget = '17'\n}\n</code></pre>\n"}],"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1878,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76037103,"answer_count":4,"score":3,"last_activity_date":1682426093,"creation_date":1681745353,"question_id":76036800,"body_markdown":"I updated my android studio to latest version flamingo this morning after since I am not able to create a new compose project, getting this below error \r\n\r\n\r\n    No matching variant of com.android.tools.build:gradle:8.0.0 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39;\r\n\r\n\r\n\r\n&gt; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n\r\n\r\n\r\n**My App level gradle **\r\n\r\n\r\n            plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n        }\r\n        \r\n        android {\r\n            namespace &#39;com.abc.myflamingotestapp&#39;\r\n            \r\n        compileSdk 33\r\n        \r\n            defaultConfig {\r\n                applicationId &quot;com.abc.myflamingotestapp&quot;\r\n                minSdk 24\r\n                targetSdk 33\r\n                versionCode 1\r\n                versionName &quot;1.0&quot;\r\n        \r\n                testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n                vectorDrawables {\r\n                    useSupportLibrary true\r\n                }\r\n            }\r\n        \r\n            buildTypes {\r\n                release {\r\n                    minifyEnabled false\r\n                    proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                }\r\n            }\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_1_8\r\n                targetCompatibility JavaVersion.VERSION_1_8\r\n            }\r\n            kotlinOptions {\r\n                jvmTarget = &#39;1.8&#39;\r\n            }\r\n            buildFeatures {\r\n                compose true\r\n            }\r\n            composeOptions {\r\n                kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n            }\r\n            packagingOptions {\r\n                resources {\r\n                    excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n                }\r\n            }\r\n        }\r\n        \r\n        dependencies {\r\n        \r\n            implementation &#39;androidx.core:core-ktx:1.8.0&#39;\r\n            implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&#39;\r\n            implementation &#39;androidx.activity:activity-compose:1.5.1&#39;\r\n            implementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n            implementation &#39;androidx.compose.ui:ui&#39;\r\n            implementation &#39;androidx.compose.ui:ui-graphics&#39;\r\n            implementation &#39;androidx.compose.ui:ui-tooling-preview&#39;\r\n            implementation &#39;androidx.compose.material3:material3&#39;\r\n            testImplementation &#39;junit:junit:4.13.2&#39;\r\n            androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n            androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n            androidTestImplementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n            androidTestImplementation &#39;androidx.compose.ui:ui-test-junit4&#39;\r\n            debugImplementation &#39;androidx.compose.ui:ui-tooling&#39;\r\n            debugImplementation &#39;androidx.compose.ui:ui-test-manifest&#39;\r\n    }\r\n\r\n\r\n\r\n** Gradle wrapper **\r\n\r\n    #Mon Apr 17 20:26:41 IST 2023\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n** Top level Gradle **\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.5.31&#39; apply false\r\n    }\r\n\r\n\r\n\r\n\r\ngetting this issue while trying to build, if anyone else have faced the same issue please help or suggest something.\r\n","title":"Not able to create new compose project in Android studio flamingo","body":"<p>I updated my android studio to latest version flamingo this morning after since I am not able to create a new compose project, getting this below error</p>\n<pre><code>No matching variant of com.android.tools.build:gradle:8.0.0 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0'\n</code></pre>\n<blockquote>\n<p>but:\n- Variant 'apiElements' capability com.android.tools.build:gradle:8.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8</p>\n</blockquote>\n<p>**My App level gradle **</p>\n<pre><code>        plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n    }\n    \n    android {\n        namespace 'com.abc.myflamingotestapp'\n        \n    compileSdk 33\n    \n        defaultConfig {\n            applicationId &quot;com.abc.myflamingotestapp&quot;\n            minSdk 24\n            targetSdk 33\n            versionCode 1\n            versionName &quot;1.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n            vectorDrawables {\n                useSupportLibrary true\n            }\n        }\n    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n        kotlinOptions {\n            jvmTarget = '1.8'\n        }\n        buildFeatures {\n            compose true\n        }\n        composeOptions {\n            kotlinCompilerExtensionVersion '1.3.2'\n        }\n        packagingOptions {\n            resources {\n                excludes += '/META-INF/{AL2.0,LGPL2.1}'\n            }\n        }\n    }\n    \n    dependencies {\n    \n        implementation 'androidx.core:core-ktx:1.8.0'\n        implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\n        implementation 'androidx.activity:activity-compose:1.5.1'\n        implementation platform('androidx.compose:compose-bom:2022.10.00')\n        implementation 'androidx.compose.ui:ui'\n        implementation 'androidx.compose.ui:ui-graphics'\n        implementation 'androidx.compose.ui:ui-tooling-preview'\n        implementation 'androidx.compose.material3:material3'\n        testImplementation 'junit:junit:4.13.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n        androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')\n        androidTestImplementation 'androidx.compose.ui:ui-test-junit4'\n        debugImplementation 'androidx.compose.ui:ui-tooling'\n        debugImplementation 'androidx.compose.ui:ui-test-manifest'\n}\n</code></pre>\n<p>** Gradle wrapper **</p>\n<pre><code>#Mon Apr 17 20:26:41 IST 2023\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>** Top level Gradle **</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '8.0.0' apply false\n    id 'com.android.library' version '8.0.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.5.31' apply false\n}\n</code></pre>\n<p>getting this issue while trying to build, if anyone else have faced the same issue please help or suggest something.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1663562215,"post_id":73768478,"comment_id":130260608,"body_markdown":"what problem are you trying to solve?","body":"what problem are you trying to solve?"},{"owner":{"account_id":15401162,"reputation":395,"user_id":11110610,"display_name":"Himmels DJ"},"score":0,"creation_date":1664931088,"post_id":73768478,"comment_id":130580855,"body_markdown":"Have you found a solution to this ? I&#39;m running the same errors","body":"Have you found a solution to this ? I&#39;m running the same errors"}],"answers":[{"tags":[],"owner":{"account_id":1535484,"reputation":4254,"user_id":2365727,"accept_rate":88,"display_name":"michaldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682425997,"creation_date":1682425997,"answer_id":76101218,"question_id":73768478,"body_markdown":"If you use logback, you can rid it off if you have `logback.xml` file with with root level info or reactor.util.Loggers level info. For example\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;root level=&quot;info&quot;/&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nIt must be `logback.xml` not `logback-spring.xml`, because the latter is ignored  when reactor logs own state before Spring context has started","title":"How do I get rid of the reactor.util.Loggers - Using Slf4j logging framework","body":"<p>If you use logback, you can rid it off if you have <code>logback.xml</code> file with with root level info or reactor.util.Loggers level info. For example</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;root level=&quot;info&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>It must be <code>logback.xml</code> not <code>logback-spring.xml</code>, because the latter is ignored  when reactor logs own state before Spring context has started</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682425997,"creation_date":1663561315,"question_id":73768478,"body_markdown":"I get this message at the start of my spring-webflux application.  How do I get rid of it?\r\n\r\n```\r\nDEBUG reactor.util.Loggers - Using Slf4j logging framework\r\n```\r\n\r\nI am not sure what configuration I have to do.  I already pass in the environment variable and I don&#39;t have any overrides for `reactor`\r\n\r\n```\r\nLOGGING_LEVEL_ROOT=error\r\n```\r\n\r\nbut it still shows up.\r\n\r\nThe statement is called from `Loggers` static initializer.","title":"How do I get rid of the reactor.util.Loggers - Using Slf4j logging framework","body":"<p>I get this message at the start of my spring-webflux application.  How do I get rid of it?</p>\n<pre><code>DEBUG reactor.util.Loggers - Using Slf4j logging framework\n</code></pre>\n<p>I am not sure what configuration I have to do.  I already pass in the environment variable and I don't have any overrides for <code>reactor</code></p>\n<pre><code>LOGGING_LEVEL_ROOT=error\n</code></pre>\n<p>but it still shows up.</p>\n<p>The statement is called from <code>Loggers</code> static initializer.</p>\n"},{"tags":["java","xml","xml-parsing","jackson-databind","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1681916065,"post_id":76053707,"comment_id":134134705,"body_markdown":"Custom deserializer could [read xml as stream (look at Consuming XML)](https://stackify.com/java-xml-jackson/) and detect [COMMENT event types](https://docs.oracle.com/javase/7/docs/api/javax/xml/stream/XMLStreamReader.html)","body":"Custom deserializer could <a href=\"https://stackify.com/java-xml-jackson/\" rel=\"nofollow noreferrer\">read xml as stream (look at Consuming XML)</a> and detect <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/stream/XMLStreamReader.html\" rel=\"nofollow noreferrer\">COMMENT event types</a>"},{"owner":{"account_id":14675987,"reputation":1,"user_id":10599036,"display_name":"gunavata"},"score":1,"creation_date":1681916646,"post_id":76053707,"comment_id":134134869,"body_markdown":"Sounds like a good lead! I&#39;ll give this a try tomorrow and feedback. Thanks for the input!","body":"Sounds like a good lead! I&#39;ll give this a try tomorrow and feedback. Thanks for the input!"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1681923398,"post_id":76053707,"comment_id":134136512,"body_markdown":"The &quot;//&quot; entries are not comments as far as XML is concerned, they are ordinary application content, so of course they will be handled differently. (And sorry, I don&#39;t know if Jackson can handle XML comments. )","body":"The &quot;//&quot; entries are not comments as far as XML is concerned, they are ordinary application content, so of course they will be handled differently. (And sorry, I don&#39;t know if Jackson can handle XML comments. )"}],"answers":[{"tags":[],"owner":{"account_id":14675987,"reputation":1,"user_id":10599036,"display_name":"gunavata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682425745,"creation_date":1682425745,"answer_id":76101179,"question_id":76053707,"body_markdown":"Ultimately, no this cannot be done it seems. Adding a `@JsonDeserializer` on the root Object and then having a look at the `Jsonparser` that is being used revealed that by the time JacksonXML attempts to process the XML, all traces of the comments has been removed (Specifically again `&lt;!-- --&gt;` type comments!)\r\n\r\nThe alternative solution I did, which was suggested by [user LMC][1] was to read the xml as a stream and look for events that are `Comment` type. I would then take the comment and push it into a `List` which is eventually returned.\r\n\r\nReally not ideal as the XML is being read twice (Once for Jackson Mapping and once more to collect the comments) however for my scenario we&#39;ve decided to go that way as the performance reading it twice vs once is negligible and to read and manually populate my business object without Jackson would take a lot of time to implement.\r\n\r\n  [1]: https://stackoverflow.com/questions/76053707/jacksonxml-deserialize-xml-comments#comment134134705_76053707","title":"JacksonXML - Deserialize XML Comments &lt;!-- --&gt;","body":"<p>Ultimately, no this cannot be done it seems. Adding a <code>@JsonDeserializer</code> on the root Object and then having a look at the <code>Jsonparser</code> that is being used revealed that by the time JacksonXML attempts to process the XML, all traces of the comments has been removed (Specifically again <code>&lt;!-- --&gt;</code> type comments!)</p>\n<p>The alternative solution I did, which was suggested by <a href=\"https://stackoverflow.com/questions/76053707/jacksonxml-deserialize-xml-comments#comment134134705_76053707\">user LMC</a> was to read the xml as a stream and look for events that are <code>Comment</code> type. I would then take the comment and push it into a <code>List</code> which is eventually returned.</p>\n<p>Really not ideal as the XML is being read twice (Once for Jackson Mapping and once more to collect the comments) however for my scenario we've decided to go that way as the performance reading it twice vs once is negligible and to read and manually populate my business object without Jackson would take a lot of time to implement.</p>\n"}],"owner":{"account_id":14675987,"reputation":1,"user_id":10599036,"display_name":"gunavata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76101179,"answer_count":1,"score":0,"last_activity_date":1682425745,"creation_date":1681902026,"question_id":76053707,"body_markdown":"The closest question I can find currently is [this](https://stackoverflow.com/q/47334951/10599036) which has no conclusive answer: \r\n\r\nI am trying to parse XML comments and map it to certain fields in Java.\r\n\r\n\r\nBelow was a simple POC I did in attempt to get this to work.\r\n\r\nMy current XML model looks something like this:\r\n\r\n```\r\n&lt;Model&gt;\r\n    &lt;!--\r\n    ** some comment here\r\n    --&gt;\r\n    &lt;Value1&gt;foo&lt;/Value1&gt;\r\n    &lt;!--\r\n    ** another comment here\r\n    --&gt;\r\n    &lt;Value2&gt;bar&lt;/Value2&gt;\r\n&lt;/Model&gt;\r\n```\r\n\r\nI have defined my Java model like so: \r\n\r\n```\r\n@JacksonXmlRootElement(localName= &quot;Model&quot;)\r\n@JsonDeserialize(using = CustomDeserializer.class)\r\nfinal class ModelFile {\r\n\r\n    @JacksonXmlProperty(localName = &quot;value1&quot;)\r\n    private String value1;\r\n\r\n    @JacksonXmlProperty(localName = &quot;value2&quot;)\r\n    private String value2;\r\n\r\n    private List&lt;String&gt; comments;\r\n\r\n    // Getters and Setters\r\n}\r\n```\r\n\r\nAnd my `CustomDeserializer` like so (Else If statement will not work, this is the part im trying to get working):\r\n\r\n```\r\npublic class CustomDeserializerextends JsonDeserializer&lt;ModelFile&gt; {\r\n\r\n    @Override\r\n    public ModelFiledeserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        List&lt;String&gt; comments = new ArrayList&lt;&gt;();\r\n        ModelFile sample = new ModelFile();\r\n        while (p.nextToken() != JsonToken.END_OBJECT) {\r\n            if (p.getCurrentToken() == JsonToken.FIELD_NAME) {\r\n                String fieldName = p.getCurrentName();\r\n                p.nextToken();\r\n                if (fieldName.equals(&quot;value1&quot;)) {\r\n                    sample.setValue1(p.getText());\r\n                } else if (fieldName.equals(&quot;value2&quot;)){\r\n                    sample.setValue2(p.getText());\r\n                }\r\n            } else if (p.getText().equals(&quot;&lt;!--&quot;)) {\r\n                p.nextToken();\r\n                comments.add(p.getText());\r\n                p.nextToken();\r\n            }\r\n        }\r\n        sample.setComments(comments);\r\n        return sample;\r\n    }\r\n}\r\n```\r\n\r\nAnd finally a sample test to test it&#39;s functionality:\r\n\r\n```\r\n@Test\r\n    public void testDeserializeWithCommentsAsList() throws Exception {\r\n        String xml = \r\n                &quot;&lt;model&gt;\\n&quot; +\r\n                &quot;  &lt;!--\\n&quot; +\r\n                &quot;  this is a comment \\n&quot; +\r\n                &quot;  --&gt;\\n&quot; +\r\n                &quot;  &lt;value1&gt;foo&lt;/value1&gt;\\n&quot; +\r\n                &quot;  &lt;!--\\n&quot; +\r\n                &quot;  Another comment \\n&quot; +\r\n                &quot;  --&gt;\\n&quot; +\r\n                &quot;  &lt;value2&gt;bar&lt;/value2&gt;\\n&quot; +\r\n                &quot;&lt;/yourclass&gt;&quot;;\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n\r\n        YourClass yourClass = xmlMapper.readValue(xml, Model.class);\r\n        List&lt;String&gt; comments = yourClass.getComments();\r\n        assertNotNull(comments);\r\n        assertEquals(2, comments.size());\r\n        assertEquals(&quot;this is a comment&quot;, comments.get(0));\r\n        assertEquals(&quot;Another comment&quot;, comments.get(1));\r\n    }\r\n```\r\n\r\nThe problem as I understand it is the `CustomDeserializer` seems to recognize both `value1` and `value2` as valid fields allowing me to later map the fields directly. XML Comments however are not recognized at all.\r\n\r\nI say XML Comments specifically because if I change this to a more standard comment type such as this:\r\n```\r\n    &quot;&lt;model&gt;\\n&quot; +\r\n    &quot;  // this is a comment \\n&quot; +\r\n    &quot;  &lt;value1&gt;foo&lt;/value1&gt;\\n&quot; +\r\n    &quot;  // another comment \\n&quot; +\r\n    &quot;  &lt;value2&gt;bar&lt;/value2&gt;\\n&quot; +\r\n    &quot;&lt;/yourclass&gt;&quot;;\r\n```\r\nThen the `JsonParser` in the `CustomDeserializer` will pick up the comments. Looking further into `Jsonparser` I see Features that can be enabled namely `ALLOW_COMMENTS` which does recognize typical Java/C++ comments or `ALLOW_COMMENTS_YAML` which looks specifically for `#` type comments.\r\n\r\nhttps://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/JsonParser.Feature.html#ALLOW_COMMENTS\r\n\r\nMy guess is considering JacksonXML extends of JSON and typically comments are not supported in JSON, this is not really viable? Considering that it _could technically_ work for `//` type comments, I feel like im really close to getting this to work. \r\n\r\nThe question for this would be: How do I handle `&lt;!-- --&gt;` type comments in XMLs while using jackson-databind-xml to deserialize it into POJO?\r\n\r\nAny idea or suggestions are welcomed.","title":"JacksonXML - Deserialize XML Comments &lt;!-- --&gt;","body":"<p>The closest question I can find currently is <a href=\"https://stackoverflow.com/q/47334951/10599036\">this</a> which has no conclusive answer:</p>\n<p>I am trying to parse XML comments and map it to certain fields in Java.</p>\n<p>Below was a simple POC I did in attempt to get this to work.</p>\n<p>My current XML model looks something like this:</p>\n<pre><code>&lt;Model&gt;\n    &lt;!--\n    ** some comment here\n    --&gt;\n    &lt;Value1&gt;foo&lt;/Value1&gt;\n    &lt;!--\n    ** another comment here\n    --&gt;\n    &lt;Value2&gt;bar&lt;/Value2&gt;\n&lt;/Model&gt;\n</code></pre>\n<p>I have defined my Java model like so:</p>\n<pre><code>@JacksonXmlRootElement(localName= &quot;Model&quot;)\n@JsonDeserialize(using = CustomDeserializer.class)\nfinal class ModelFile {\n\n    @JacksonXmlProperty(localName = &quot;value1&quot;)\n    private String value1;\n\n    @JacksonXmlProperty(localName = &quot;value2&quot;)\n    private String value2;\n\n    private List&lt;String&gt; comments;\n\n    // Getters and Setters\n}\n</code></pre>\n<p>And my <code>CustomDeserializer</code> like so (Else If statement will not work, this is the part im trying to get working):</p>\n<pre><code>public class CustomDeserializerextends JsonDeserializer&lt;ModelFile&gt; {\n\n    @Override\n    public ModelFiledeserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        List&lt;String&gt; comments = new ArrayList&lt;&gt;();\n        ModelFile sample = new ModelFile();\n        while (p.nextToken() != JsonToken.END_OBJECT) {\n            if (p.getCurrentToken() == JsonToken.FIELD_NAME) {\n                String fieldName = p.getCurrentName();\n                p.nextToken();\n                if (fieldName.equals(&quot;value1&quot;)) {\n                    sample.setValue1(p.getText());\n                } else if (fieldName.equals(&quot;value2&quot;)){\n                    sample.setValue2(p.getText());\n                }\n            } else if (p.getText().equals(&quot;&lt;!--&quot;)) {\n                p.nextToken();\n                comments.add(p.getText());\n                p.nextToken();\n            }\n        }\n        sample.setComments(comments);\n        return sample;\n    }\n}\n</code></pre>\n<p>And finally a sample test to test it's functionality:</p>\n<pre><code>@Test\n    public void testDeserializeWithCommentsAsList() throws Exception {\n        String xml = \n                &quot;&lt;model&gt;\\n&quot; +\n                &quot;  &lt;!--\\n&quot; +\n                &quot;  this is a comment \\n&quot; +\n                &quot;  --&gt;\\n&quot; +\n                &quot;  &lt;value1&gt;foo&lt;/value1&gt;\\n&quot; +\n                &quot;  &lt;!--\\n&quot; +\n                &quot;  Another comment \\n&quot; +\n                &quot;  --&gt;\\n&quot; +\n                &quot;  &lt;value2&gt;bar&lt;/value2&gt;\\n&quot; +\n                &quot;&lt;/yourclass&gt;&quot;;\n        XmlMapper xmlMapper = new XmlMapper();\n\n        YourClass yourClass = xmlMapper.readValue(xml, Model.class);\n        List&lt;String&gt; comments = yourClass.getComments();\n        assertNotNull(comments);\n        assertEquals(2, comments.size());\n        assertEquals(&quot;this is a comment&quot;, comments.get(0));\n        assertEquals(&quot;Another comment&quot;, comments.get(1));\n    }\n</code></pre>\n<p>The problem as I understand it is the <code>CustomDeserializer</code> seems to recognize both <code>value1</code> and <code>value2</code> as valid fields allowing me to later map the fields directly. XML Comments however are not recognized at all.</p>\n<p>I say XML Comments specifically because if I change this to a more standard comment type such as this:</p>\n<pre><code>    &quot;&lt;model&gt;\\n&quot; +\n    &quot;  // this is a comment \\n&quot; +\n    &quot;  &lt;value1&gt;foo&lt;/value1&gt;\\n&quot; +\n    &quot;  // another comment \\n&quot; +\n    &quot;  &lt;value2&gt;bar&lt;/value2&gt;\\n&quot; +\n    &quot;&lt;/yourclass&gt;&quot;;\n</code></pre>\n<p>Then the <code>JsonParser</code> in the <code>CustomDeserializer</code> will pick up the comments. Looking further into <code>Jsonparser</code> I see Features that can be enabled namely <code>ALLOW_COMMENTS</code> which does recognize typical Java/C++ comments or <code>ALLOW_COMMENTS_YAML</code> which looks specifically for <code>#</code> type comments.</p>\n<p><a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/JsonParser.Feature.html#ALLOW_COMMENTS\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/JsonParser.Feature.html#ALLOW_COMMENTS</a></p>\n<p>My guess is considering JacksonXML extends of JSON and typically comments are not supported in JSON, this is not really viable? Considering that it <em>could technically</em> work for <code>//</code> type comments, I feel like im really close to getting this to work.</p>\n<p>The question for this would be: How do I handle <code>&lt;!-- --&gt;</code> type comments in XMLs while using jackson-databind-xml to deserialize it into POJO?</p>\n<p>Any idea or suggestions are welcomed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1682184104,"post_id":76080948,"comment_id":134176784,"body_markdown":"I suggest you first try getting rid of the stream part entirely. Just have `String text = &quot;Мосвка&quot;; System.out.println(text);`. I strongly suspect that will have the same problem... which means you can focus on whether it&#39;s the input (e.g. the compiler encoding) or the output (the console).","body":"I suggest you first try getting rid of the stream part entirely. Just have <code>String text = &quot;Мосвка&quot;; System.out.println(text);</code>. I strongly suspect that will have the same problem... which means you can focus on whether it&#39;s the input (e.g. the compiler encoding) or the output (the console)."},{"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"score":0,"creation_date":1682184353,"post_id":76080948,"comment_id":134176810,"body_markdown":"`String text = &quot;Hello World&quot;; System.out.println(text);` I did this, it seems to me, now it seems to me that the problem is not with the encoding, it seems to me that it redefines it to another data type","body":"<code>String text = &quot;Hello World&quot;; System.out.println(text);</code> I did this, it seems to me, now it seems to me that the problem is not with the encoding, it seems to me that it redefines it to another data type"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1682184816,"post_id":76080948,"comment_id":134176867,"body_markdown":"The problem is almost certainly with the configuration of the command line where you&#39;re running your program.  There is almost certainly nothing wrong with your program.","body":"The problem is almost certainly with the configuration of the command line where you&#39;re running your program.  There is almost certainly nothing wrong with your program."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1682185071,"post_id":76080948,"comment_id":134176892,"body_markdown":"@Maksim1251: I didn&#39;t suggest doing that though - I suggested `String text = &quot;Мосвка&quot;`. It&#39;s *very* rare for ASCII text like &quot;Hello World&quot; to have encoding problems. (I strongly suspect that if you only use ASCII text in your existing program, that will work fine too...)","body":"@Maksim1251: I didn&#39;t suggest doing that though - I suggested <code>String text = &quot;Мосвка&quot;</code>. It&#39;s <i>very</i> rare for ASCII text like &quot;Hello World&quot; to have encoding problems. (I strongly suspect that if you only use ASCII text in your existing program, that will work fine too...)"},{"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"score":0,"creation_date":1682186278,"post_id":76080948,"comment_id":134177064,"body_markdown":"I know this is not a solution to the problem, but I partially solved it, earlier I created a Gradle project and implemented this code in it, now I created a pure Java project without Gradle and the problem has disappeared, I found where to dig, today I’m unlikely to do it, but tomorrow I will definitely look for a solution and publish it here already in the Gradle project!","body":"I know this is not a solution to the problem, but I partially solved it, earlier I created a Gradle project and implemented this code in it, now I created a pure Java project without Gradle and the problem has disappeared, I found where to dig, today I’m unlikely to do it, but tomorrow I will definitely look for a solution and publish it here already in the Gradle project!"}],"answers":[{"tags":[],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682425321,"creation_date":1682425321,"answer_id":76101123,"question_id":76080948,"body_markdown":"I solved this problem, I don’t know if it’s a good way, go to Run Configurations, select the Cummon section in the project section, set Use system encoding windows-1251 in Encoding, if you put Other UTF-8, the result has not changed, this one is the best, thank you for your attention.\r\n[![1][1]][1]\r\n[![2][2]][2]\r\n[![3][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ropw4.png\r\n  [2]: https://i.stack.imgur.com/5jOd2.png\r\n  [3]: https://i.stack.imgur.com/SwFRc.png","title":"Encoding in Java Stream API","body":"<p>I solved this problem, I don’t know if it’s a good way, go to Run Configurations, select the Cummon section in the project section, set Use system encoding windows-1251 in Encoding, if you put Other UTF-8, the result has not changed, this one is the best, thank you for your attention.\n<a href=\"https://i.stack.imgur.com/Ropw4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ropw4.png\" alt=\"1\" /></a>\n<a href=\"https://i.stack.imgur.com/5jOd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5jOd2.png\" alt=\"2\" /></a>\n<a href=\"https://i.stack.imgur.com/SwFRc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwFRc.png\" alt=\"3\" /></a></p>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76101123,"answer_count":1,"score":0,"last_activity_date":1682425321,"creation_date":1682183756,"question_id":76080948,"body_markdown":"I started to master the Stream API, as I ran into a problem, java displays the text in Russian incorrectly, it seems to me that there is a problem with the encoding.\r\n\r\nError: ����\r\n\r\nCode:\r\n\r\n    package javalearn;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n\r\n    public class Library {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\tArrayList&lt;String&gt; cities = new ArrayList&lt;&gt;();\r\n\tCollections.addAll(cities, \r\n\t\t\t\t&quot;Мосвка&quot;, &quot;Лондон&quot;, &quot;Мадрид&quot;, &quot;Ереван&quot;,\r\n\t\t\t\t&quot;Баку&quot;);\r\n\tcities.stream()\r\n\t.filter(s -&gt; s.length() == 4)\r\n\t.forEach(s -&gt; System.out.println(s));\r\n\t}\r\n\t\r\n    }","title":"Encoding in Java Stream API","body":"<p>I started to master the Stream API, as I ran into a problem, java displays the text in Russian incorrectly, it seems to me that there is a problem with the encoding.</p>\n<p>Error: ����</p>\n<p>Code:</p>\n<pre><code>package javalearn;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Library {\n\npublic static void main(String[] args) {\n    \nArrayList&lt;String&gt; cities = new ArrayList&lt;&gt;();\nCollections.addAll(cities, \n            &quot;Мосвка&quot;, &quot;Лондон&quot;, &quot;Мадрид&quot;, &quot;Ереван&quot;,\n            &quot;Баку&quot;);\ncities.stream()\n.filter(s -&gt; s.length() == 4)\n.forEach(s -&gt; System.out.println(s));\n}\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1682425026,"post_id":76101059,"comment_id":134210053,"body_markdown":"If `maxElement` was an `Integer`, the `==` would be comparing for reference equality between two wrappers.","body":"If <code>maxElement</code> was an <code>Integer</code>, the <code>==</code> would be comparing for reference equality between two wrappers."},{"owner":{"account_id":5383905,"reputation":885,"user_id":4288430,"accept_rate":57,"display_name":"Ram"},"score":0,"creation_date":1682425156,"post_id":76101059,"comment_id":134210091,"body_markdown":"Ahhh.... This makes a ton of sense. Thank you. Happy to accept your comment as an answer if posted as one.","body":"Ahhh.... This makes a ton of sense. Thank you. Happy to accept your comment as an answer if posted as one."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1682431685,"post_id":76101059,"comment_id":134212213,"body_markdown":"There is no point in declaring the counter as `Integer`, just make that `int` too.","body":"There is no point in declaring the counter as <code>Integer</code>, just make that <code>int</code> too."}],"owner":{"account_id":5383905,"reputation":885,"user_id":4288430,"accept_rate":57,"display_name":"Ram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682425143,"answer_count":0,"score":0,"last_activity_date":1682425183,"creation_date":1682424855,"question_id":76101059,"body_markdown":"As far as I know, `Integer` is just a wrapper around `int`. So the maximum value that can be stored in both should be the same. Is this correct?\r\n\r\nBut while attempting to solve a HackerRank problem (details follow), the solution failed for some inputs while using `Integer` and succeeded for the same inputs while using `int`.\r\n\r\nThe HackerRank problem:\r\n&gt; You are in charge of the cake for a child&#39;s birthday. You have decided the cake will have one candle for each year of their total age. They will only be able to blow out the tallest of the candles. Count how many candles are tallest. Example: candles = [4, 4, 1, 3]. The maximum height candles are 4 units high. There are 2 of them, so return 2.\r\n\r\nMy Solution that works for all inputs:\r\n\r\n    public static int birthdayCakeCandles(List&lt;Integer&gt; candles) {\r\n        int maxElement = 0;\r\n        Integer maxElementCount = 0;\r\n        for(Integer element: candles) {\r\n            if (element &gt; maxElement) {\r\n                maxElement = element;\r\n                maxElementCount = 1;\r\n            } else if (element == maxElement) {\r\n                maxElementCount++;\r\n            }\r\n        }\r\n        return maxElementCount;  \r\n     }\r\n\r\nThe size of `candles` can be between 1 and 10&lt;sup&gt;5&lt;/sup&gt;. Values in `candles` can be between 1 and 10&lt;sup&gt;7&lt;/sup&gt;.\r\n\r\nWhen `maxElement` is changed to `Integer`, the solution starts failing for some inputs. Since the variable in question is the maximum value and since (as per the question) its value can go up to 10&lt;sup&gt;7&lt;/sup&gt;, I wonder if `int` has the same max. value as `Integer`?","title":"Max. value of Java int and Integer","body":"<p>As far as I know, <code>Integer</code> is just a wrapper around <code>int</code>. So the maximum value that can be stored in both should be the same. Is this correct?</p>\n<p>But while attempting to solve a HackerRank problem (details follow), the solution failed for some inputs while using <code>Integer</code> and succeeded for the same inputs while using <code>int</code>.</p>\n<p>The HackerRank problem:</p>\n<blockquote>\n<p>You are in charge of the cake for a child's birthday. You have decided the cake will have one candle for each year of their total age. They will only be able to blow out the tallest of the candles. Count how many candles are tallest. Example: candles = [4, 4, 1, 3]. The maximum height candles are 4 units high. There are 2 of them, so return 2.</p>\n</blockquote>\n<p>My Solution that works for all inputs:</p>\n<pre><code>public static int birthdayCakeCandles(List&lt;Integer&gt; candles) {\n    int maxElement = 0;\n    Integer maxElementCount = 0;\n    for(Integer element: candles) {\n        if (element &gt; maxElement) {\n            maxElement = element;\n            maxElementCount = 1;\n        } else if (element == maxElement) {\n            maxElementCount++;\n        }\n    }\n    return maxElementCount;  \n }\n</code></pre>\n<p>The size of <code>candles</code> can be between 1 and 10<sup>5</sup>. Values in <code>candles</code> can be between 1 and 10<sup>7</sup>.</p>\n<p>When <code>maxElement</code> is changed to <code>Integer</code>, the solution starts failing for some inputs. Since the variable in question is the maximum value and since (as per the question) its value can go up to 10<sup>7</sup>, I wonder if <code>int</code> has the same max. value as <code>Integer</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1658850448,"post_id":73126306,"comment_id":129152043,"body_markdown":"What input number were you searching for? What was your actual output, and expected output?","body":"What input number were you searching for? What was your actual output, and expected output?"}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658852655,"creation_date":1658850480,"answer_id":73126352,"question_id":73126306,"body_markdown":"You are not re-calculating, `mid` within loop:\r\n\r\n    static int binarySearch(int [] numArray, int target) {\r\n        int left = 0;\r\n        int right = numArray.length - 1;\r\n        int mid = (left + right) / 2;\r\n        while (left &lt;= right) {\r\n            mid= (left + right) / 2;\r\n            if (numArray[mid] == target) {\r\n                return mid;\r\n            } else if (target &lt; numArray[mid]) {\r\n                right = mid - 1;\r\n            } else {\r\n                left = mid + 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"Using binary search to find the index of the target number","body":"<p>You are not re-calculating, <code>mid</code> within loop:</p>\n<pre><code>static int binarySearch(int [] numArray, int target) {\n    int left = 0;\n    int right = numArray.length - 1;\n    int mid = (left + right) / 2;\n    while (left &lt;= right) {\n        mid= (left + right) / 2;\n        if (numArray[mid] == target) {\n            return mid;\n        } else if (target &lt; numArray[mid]) {\n            right = mid - 1;\n        } else {\n            left = mid + 1;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14688504,"reputation":833,"user_id":10607823,"display_name":"DEVSHK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682424823,"creation_date":1682424446,"answer_id":76100981,"question_id":73126306,"body_markdown":"Initial mid value after while condition \r\n\r\n    public class binarySearch {\r\n        public static void main(String[] args) {\r\n            Scanner keyboard=new Scanner(System.in);\r\n            int target,index;\r\n            int [] numArray={1,4,6,7,8,10,14,16,17,26,30,35,38,41};\r\n    \r\n            System.out.print(&quot;What do you want to find?&quot;);\r\n            target=keyboard.nextInt();\r\n            index=binarySearch(numArray, target);\r\n            System.out.println(&quot;The element is found at index:&quot;+index);\r\n        }\r\n    \r\n        static int binarySearch(int [] numArray, int target){\r\n            int left=0;\r\n            int right=numArray.length-1;\r\n            while(left&lt;=right){\r\n                int mid=left+(right-left)/2;\r\n                if(numArray[mid]==target){\r\n                    return mid;\r\n                }else if(target&lt;numArray[mid]){\r\n                    right=mid-1;\r\n                }else{\r\n                    left=mid+1;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n","title":"Using binary search to find the index of the target number","body":"<p>Initial mid value after while condition</p>\n<pre><code>public class binarySearch {\n    public static void main(String[] args) {\n        Scanner keyboard=new Scanner(System.in);\n        int target,index;\n        int [] numArray={1,4,6,7,8,10,14,16,17,26,30,35,38,41};\n\n        System.out.print(&quot;What do you want to find?&quot;);\n        target=keyboard.nextInt();\n        index=binarySearch(numArray, target);\n        System.out.println(&quot;The element is found at index:&quot;+index);\n    }\n\n    static int binarySearch(int [] numArray, int target){\n        int left=0;\n        int right=numArray.length-1;\n        while(left&lt;=right){\n            int mid=left+(right-left)/2;\n            if(numArray[mid]==target){\n                return mid;\n            }else if(target&lt;numArray[mid]){\n                right=mid-1;\n            }else{\n                left=mid+1;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19576524"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682424823,"creation_date":1658850239,"question_id":73126306,"body_markdown":"it is my first time to use this platform to ask questions. I wonder what is wrong with the following codes, which don&#39;t print out the index of the target number at the end of the main. What&#39;s wrong? Have a nice day for those who read this post.\r\n\r\n``` code import java.util.Scanner;\r\npublic class binarySearch {\r\n    public static void main(String[] args) {\r\n        Scanner keyboard=new Scanner(System.in);\r\n        int target,index;\r\n        int [] numArray={1,4,6,7,8,10,14,16,17,26,30,35,38,41};\r\n\r\n        System.out.print(&quot;What do you want to find?&quot;);\r\n        target=keyboard.nextInt();\r\n        index=binarySearch(numArray, target);\r\n        System.out.println(&quot;The element is found at index:&quot;+index);\r\n    }\r\n\r\n    static int binarySearch(int [] numArray, int target){\r\n        int left=0;\r\n        int right=numArray.length-1;\r\n        int mid=(left+right)/2;\r\n        while(left&lt;=right){\r\n            if(numArray[mid]==target){\r\n                return mid;\r\n            }else if(target&lt;numArray[mid]){\r\n                right=mid-1;\r\n            }else{\r\n                left=mid+1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\n\r\n\r\n","title":"Using binary search to find the index of the target number","body":"<p>it is my first time to use this platform to ask questions. I wonder what is wrong with the following codes, which don't print out the index of the target number at the end of the main. What's wrong? Have a nice day for those who read this post.</p>\n<pre><code>public class binarySearch {\n    public static void main(String[] args) {\n        Scanner keyboard=new Scanner(System.in);\n        int target,index;\n        int [] numArray={1,4,6,7,8,10,14,16,17,26,30,35,38,41};\n\n        System.out.print(&quot;What do you want to find?&quot;);\n        target=keyboard.nextInt();\n        index=binarySearch(numArray, target);\n        System.out.println(&quot;The element is found at index:&quot;+index);\n    }\n\n    static int binarySearch(int [] numArray, int target){\n        int left=0;\n        int right=numArray.length-1;\n        int mid=(left+right)/2;\n        while(left&lt;=right){\n            if(numArray[mid]==target){\n                return mid;\n            }else if(target&lt;numArray[mid]){\n                right=mid-1;\n            }else{\n                left=mid+1;\n            }\n        }\n        return -1;\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1682418612,"post_id":76100162,"comment_id":134208523,"body_markdown":"That C:\\ProgramData\\Oracle\\Java\\javapath smells bad. I think it&#39;s another JDK that gets read before yours.","body":"That C:\\ProgramData\\Oracle\\Java\\javapath smells bad. I think it&#39;s another JDK that gets read before yours."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1682418666,"post_id":76100162,"comment_id":134208532,"body_markdown":"Forget about `JAVA_HOME`. When you care about which Java gets executed when you run `java` on the command line then `PATH`  must be set up appropriately (to mention the path to the correct executable before any other).","body":"Forget about <code>JAVA_HOME</code>. When you care about which Java gets executed when you run <code>java</code> on the command line then <code>PATH</code>  must be set up appropriately (to mention the path to the correct executable before any other)."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1682418730,"post_id":76100162,"comment_id":134208538,"body_markdown":"@JoachimSauer that&#39;s supposedly what he did when setting %JAVA_HOME%/bin in his Path. However, I think the Path contain (before this entry) another entry where there is a java.exe that is called when trying to do java --version","body":"@JoachimSauer that&#39;s supposedly what he did when setting %JAVA_HOME%/bin in his Path. However, I think the Path contain (before this entry) another entry where there is a java.exe that is called when trying to do java --version"},{"owner":{"account_id":28409459,"reputation":1,"user_id":21733048,"display_name":"ws rog"},"score":0,"creation_date":1682418866,"post_id":76100162,"comment_id":134208565,"body_markdown":"thanks for responding. Any ideas on how to fix this?","body":"thanks for responding. Any ideas on how to fix this?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1682420188,"post_id":76100162,"comment_id":134208848,"body_markdown":"@wsrog if you type &quot;where java&quot; on a command line, what path does it point to? I&#39;m ready to guess is the one under Oracle/Java/javapath. If that&#39;s the case, you simply need to remove that variable from the Path (if you&#39;re not using it, of course) so that the other one can take over","body":"@wsrog if you type &quot;where java&quot; on a command line, what path does it point to? I&#39;m ready to guess is the one under Oracle/Java/javapath. If that&#39;s the case, you simply need to remove that variable from the Path (if you&#39;re not using it, of course) so that the other one can take over"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682421194,"post_id":76100162,"comment_id":134209095,"body_markdown":"*Click New and type %JAVA_HOME%\\bin in the available space.* Not what I do. *Edit* PATH and **Pre**pend `%JAVA_HOME%\\bin;` to the PATH","body":"<i>Click New and type %JAVA_HOME%\\bin in the available space.</i> Not what I do. <i>Edit</i> PATH and <b>Pre</b>pend <code>%JAVA_HOME%\\bin;</code> to the PATH"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682421391,"post_id":76100162,"comment_id":134209136,"body_markdown":"`JAVA_HOME` isn&#39;t used by Java. Only by other things like Tomcat. I haven&#39;t set `JAVA_HOME` as an environment variable for over 20 years.","body":"<code>JAVA_HOME</code> isn&#39;t used by Java. Only by other things like Tomcat. I haven&#39;t set <code>JAVA_HOME</code> as an environment variable for over 20 years."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682422251,"post_id":76100162,"comment_id":134209310,"body_markdown":"That&#39;s true. Perhaps the OP has a reason for setting it though","body":"That&#39;s true. Perhaps the OP has a reason for setting it though"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1682423191,"post_id":76100162,"comment_id":134209560,"body_markdown":"@user207421 what the OP is doing though is not bad at all. He&#39;s declaring his JAVA_HOME, then he&#39;s referencing it in the Path to point to the java executable. Doing that guarantees that Java used (either directly by java command or by other executables such as mvn or gradle) is uniform, because it reads from the JAVA_HOME, and when an update has to be made can be done directly and only at JAVA_HOME level. The only issue is having is that the java.exe is overriden by another variable of his own Path.","body":"@user207421 what the OP is doing though is not bad at all. He&#39;s declaring his JAVA_HOME, then he&#39;s referencing it in the Path to point to the java executable. Doing that guarantees that Java used (either directly by java command or by other executables such as mvn or gradle) is uniform, because it reads from the JAVA_HOME, and when an update has to be made can be done directly and only at JAVA_HOME level. The only issue is having is that the java.exe is overriden by another variable of his own Path."}],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682423264,"creation_date":1682423264,"answer_id":76100810,"question_id":76100162,"body_markdown":"on windows, execute &quot;where java&quot; on command terminal to find out how your os is finding the java binary, if it is using another path, (my guess is oracle/javaPath), you either delete the latter or place your preferred path before the other one in the PATH environment variable","title":"How to set up JAVA_HOME correctly?","body":"<p>on windows, execute &quot;where java&quot; on command terminal to find out how your os is finding the java binary, if it is using another path, (my guess is oracle/javaPath), you either delete the latter or place your preferred path before the other one in the PATH environment variable</p>\n"},{"tags":[],"owner":{"account_id":24478797,"reputation":23,"user_id":18397507,"display_name":"sciPher80s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682423802,"creation_date":1682423802,"answer_id":76100888,"question_id":76100162,"body_markdown":"Your problem is with the Java paths set by Oracle previously when you installed java.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O6YXg.png\r\n\r\neither swap shortcuts in the folders they are pointing to with ones from you desired version, or uninstall your previously installed jdk/jre, or just take those out of your PATH.\r\n\r\nFYI, they get called first when you run JAVA commands as they are ahead of other entries in your PATH. ","title":"How to set up JAVA_HOME correctly?","body":"<p>Your problem is with the Java paths set by Oracle previously when you installed java.\n<a href=\"https://i.stack.imgur.com/O6YXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6YXg.png\" alt=\"enter image description here\" /></a></p>\n<p>either swap shortcuts in the folders they are pointing to with ones from you desired version, or uninstall your previously installed jdk/jre, or just take those out of your PATH.</p>\n<p>FYI, they get called first when you run JAVA commands as they are ahead of other entries in your PATH.</p>\n"}],"owner":{"account_id":28409459,"reputation":1,"user_id":21733048,"display_name":"ws rog"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1682423802,"creation_date":1682418497,"question_id":76100162,"body_markdown":"Hello I&#39;m trying to set up a JDK 8\r\n\r\n\r\nI followed these instructions:\r\n\r\n- Browse to the C:\\Program Files\\Java\\jdk1.8.x_y folder on your system and copy the path to the folder.\r\n- Open Control Panel &gt; System&gt;Advanced System Settings.\r\n- On the Advanced tab click Environment Variables.\r\n- Locate the System variables section and click New.\r\n- Enter JAVA_HOME in the Variable name field and paste the folder path you copied into the Variable value field.\r\n- Click OK to close the dialog.\r\n- Click on Path variable in the **System variables ** section and click Edit. \r\n- Click **New **and type %JAVA_HOME%\\bin in the available space.\r\n- Close all dialog windows.\r\n\r\nThen it says to Open a new  Command Prompt window, and run the following command:\r\n\r\n`C:\\Users\\manthony&gt;javac -version`\r\n\r\nWhich should result in `javac 1.8.0_91`\r\n\r\nBut I get `javac 16.0.1`\r\n\r\nMy `JAVA_HOME` variable:\r\n[enter image description here](https://i.stack.imgur.com/Qhv9o.png)\r\n\r\nMy `PATH` variable:\r\n[enter image description here](https://i.stack.imgur.com/6X6UR.png)\r\n\r\n\r\nWhat did I do wrong?\r\n\r\n","title":"How to set up JAVA_HOME correctly?","body":"<p>Hello I'm trying to set up a JDK 8</p>\n<p>I followed these instructions:</p>\n<ul>\n<li>Browse to the C:\\Program Files\\Java\\jdk1.8.x_y folder on your system and copy the path to the folder.</li>\n<li>Open Control Panel &gt; System&gt;Advanced System Settings.</li>\n<li>On the Advanced tab click Environment Variables.</li>\n<li>Locate the System variables section and click New.</li>\n<li>Enter JAVA_HOME in the Variable name field and paste the folder path you copied into the Variable value field.</li>\n<li>Click OK to close the dialog.</li>\n<li>Click on Path variable in the **System variables ** section and click Edit.</li>\n<li>Click **New **and type %JAVA_HOME%\\bin in the available space.</li>\n<li>Close all dialog windows.</li>\n</ul>\n<p>Then it says to Open a new  Command Prompt window, and run the following command:</p>\n<p><code>C:\\Users\\manthony&gt;javac -version</code></p>\n<p>Which should result in <code>javac 1.8.0_91</code></p>\n<p>But I get <code>javac 16.0.1</code></p>\n<p>My <code>JAVA_HOME</code> variable:\n<a href=\"https://i.stack.imgur.com/Qhv9o.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My <code>PATH</code> variable:\n<a href=\"https://i.stack.imgur.com/6X6UR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What did I do wrong?</p>\n"},{"tags":["java","rest","maven","swagger"],"comments":[{"owner":{"account_id":14917984,"reputation":43,"user_id":10771214,"display_name":"theirman"},"score":0,"creation_date":1670405570,"post_id":74472818,"comment_id":131867034,"body_markdown":"hello, no one have an idea ?","body":"hello, no one have an idea ?"}],"answers":[{"tags":[],"owner":{"account_id":156196,"reputation":43,"user_id":373337,"display_name":"Lunam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682423748,"creation_date":1682423748,"answer_id":76100877,"question_id":74472818,"body_markdown":"Simply replace\r\n\r\n    &lt;goal&gt;generate&lt;/goal&gt;\r\n\r\nwith\r\n\r\n    &lt;goal&gt;resolve&lt;/goal&gt;","title":"How to solve &quot;Could not find goal generate&quot; in plugin Swagger?","body":"<p>Simply replace</p>\n<pre><code>&lt;goal&gt;generate&lt;/goal&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;goal&gt;resolve&lt;/goal&gt;\n</code></pre>\n"}],"owner":{"account_id":14917984,"reputation":43,"user_id":10771214,"display_name":"theirman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682423748,"creation_date":1668676435,"question_id":74472818,"body_markdown":"I have a problem with the automatic generation of my swagger interface. According to the [documentation][1], I have configured my swagger-maven-plugin-jakarta as :\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\r\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\r\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\r\n          &lt;resourcePackages&gt;        \t\r\n            &lt;package&gt;fr.inrae.sicpa.services&lt;/package&gt;\r\n          &lt;/resourcePackages&gt;\r\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\r\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;    \r\n\r\nEclipse shows me a Maven Configuration Problem that I can&#39;t solve : \r\n\r\n&gt; Could not find goal &#39;generate&#39; in plugin io.swagger.core.v3:swagger-maven-plugin-jakarta:2.2.6 among available goals resolve\r\n\r\nThis problem appears on the line :\r\n\r\n    &lt;phase&gt;compile&lt;/phase&gt;\r\n\r\n\r\nI don&#39;t know what to do about this problem anymore. I tried to pass it to the **package** phase but then I get an error on the **goal** item.\r\n\r\nAt the end of this topic is my complete anonymized pom.xml\r\n\r\nI thank you in advance for any help you can give me\r\n\r\nThierry\r\n\r\n\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;fr.company.team.rest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MyProjectRest&lt;/artifactId&gt;\r\n      &lt;name&gt;MyProjectRest&lt;/name&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n          &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n          &lt;version&gt;8.0.31&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n          &lt;version&gt;1.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n          &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;0.11.5&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n          &lt;version&gt;0.11.5&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;    \r\n        &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-jaxrs2 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n          &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-jaxrs2-servlet-initializer-v2 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n          &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin-jakarta --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n          &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;    \r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-common --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;${project.name}&lt;/finalName&gt;\r\n        &lt;directory&gt;${basedir}/target&lt;/directory&gt;\r\n        &lt;!-- main --&gt;\r\n        &lt;sourceDirectory&gt;${basedir}/src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;outputDirectory&gt;${basedir}/target/classes&lt;/outputDirectory&gt;\r\n        &lt;!-- test --&gt;\r\n        &lt;testSourceDirectory&gt;${basedir}/src/test/java&lt;/testSourceDirectory&gt;\r\n        &lt;testOutputDirectory&gt;${basedir}/target/test-classes&lt;/testOutputDirectory&gt;\r\n        &lt;extensions&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.wagon/wagon-ssh --&gt;\r\n          &lt;extension&gt;\r\n            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.2&lt;/version&gt;\r\n          &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.6&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\r\n              &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\r\n              &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\r\n              &lt;resourcePackages&gt;        \t\r\n                &lt;package&gt;fr.inrae.sicpa.services&lt;/package&gt;\r\n              &lt;/resourcePackages&gt;\r\n              &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\r\n              &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;    \r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n    \t  &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;enforce-profile-target&lt;/id&gt;\r\n                &lt;phase&gt;validate&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;enforce&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;rules&gt;\r\n                    &lt;requireActiveProfile&gt;\r\n                      &lt;profiles&gt;prod,rec,test&lt;/profiles&gt;\r\n                      &lt;all&gt;false&lt;/all&gt;\r\n                    &lt;/requireActiveProfile&gt;\r\n                  &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\r\n    \t  &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    \t    &lt;configuration&gt;\r\n              &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t      &lt;warSourceDirectory&gt;${basedir}/src/main/webapp/WebContent&lt;/warSourceDirectory&gt;\r\n    \t      &lt;webXml&gt;${basedir}/src/main/webapp/WebContent/WEB-INF/web.xml&lt;/webXml&gt;\r\n    \t    &lt;/configuration&gt;\r\n    \t  &lt;/plugin&gt;  \r\n          &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/wagon-maven-plugin --&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;*.json&lt;/include&gt;\r\n    \t\t  &lt;include&gt;*.properties&lt;/include&gt;\r\n              &lt;include&gt;*.wadl&lt;/include&gt;\r\n    \t\t  &lt;include&gt;*.xml&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n    \t\t&lt;excludes&gt;\r\n    \t\t  &lt;exclude&gt;*.java&lt;/exclude&gt;\r\n    \t\t&lt;/excludes&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;rec&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;env&lt;/name&gt;\r\n              &lt;value&gt;rec&lt;/value&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;finalName&gt;${project.name}-rec&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n              &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/wagon-maven-plugin --&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;master-rec&lt;/id&gt;\r\n                    &lt;phase&gt;deploy&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;upload-single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\r\n                      &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;slave-rec&lt;/id&gt;\r\n                    &lt;phase&gt;deploy&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;upload-single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\r\n                      &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n            &lt;resources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/main/resources/rec&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t  &lt;include&gt;*.json&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.properties&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.wadl&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.xml&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;excludes&gt;\r\n    \t\t\t  &lt;exclude&gt;*.java&lt;/exclude&gt;\r\n    \t\t\t&lt;/excludes&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;prod&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;env&lt;/name&gt;\r\n              &lt;value&gt;prod&lt;/value&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;finalName&gt;${project.name}-prod&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n              &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin --&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;enforce-prod-no-snapshot&lt;/id&gt;\r\n                    &lt;phase&gt;validate&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;enforce&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;rules&gt;\r\n                        &lt;requireReleaseVersion/&gt;\r\n                        &lt;requireReleaseDeps/&gt;\r\n                      &lt;/rules&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/wagon-maven-plugin --&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;master-prod&lt;/id&gt;\r\n                    &lt;phase&gt;deploy&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;upload-single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\r\n                      &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;slave-prod&lt;/id&gt;\r\n                    &lt;phase&gt;deploy&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;upload-single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\r\n                      &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n            &lt;resources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/main/resources/prod&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t  &lt;include&gt;*.json&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.properties&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.wadl&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.xml&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;excludes&gt;\r\n    \t\t\t  &lt;exclude&gt;*.java&lt;/exclude&gt;\r\n    \t\t\t&lt;/excludes&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;test&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;env&lt;/name&gt;\r\n              &lt;value&gt;test&lt;/value&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;finalName&gt;${project.name}&lt;/finalName&gt;\r\n            &lt;resources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t  &lt;include&gt;*.json&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.properties&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.wadl&lt;/include&gt;\r\n    \t\t\t  &lt;include&gt;*.xml&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;excludes&gt;\r\n    \t\t\t  &lt;exclude&gt;*.java&lt;/exclude&gt;\r\n    \t\t\t&lt;/excludes&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;warName&gt;${project.name}&lt;/warName&gt;\r\n                  &lt;outputDirectory&gt;C:\\Java\\wars\\autodeploy&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-maven-plugin/README.md","title":"How to solve &quot;Could not find goal generate&quot; in plugin Swagger?","body":"<p>I have a problem with the automatic generation of my swagger interface. According to the <a href=\"https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-maven-plugin/README.md\" rel=\"nofollow noreferrer\">documentation</a>, I have configured my swagger-maven-plugin-jakarta as :</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;2.2.6&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\n      &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\n      &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\n      &lt;resourcePackages&gt;            \n        &lt;package&gt;fr.inrae.sicpa.services&lt;/package&gt;\n      &lt;/resourcePackages&gt;\n      &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\n      &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;    \n</code></pre>\n<p>Eclipse shows me a Maven Configuration Problem that I can't solve :</p>\n<blockquote>\n<p>Could not find goal 'generate' in plugin io.swagger.core.v3:swagger-maven-plugin-jakarta:2.2.6 among available goals resolve</p>\n</blockquote>\n<p>This problem appears on the line :</p>\n<pre><code>&lt;phase&gt;compile&lt;/phase&gt;\n</code></pre>\n<p>I don't know what to do about this problem anymore. I tried to pass it to the <strong>package</strong> phase but then I get an error on the <strong>goal</strong> item.</p>\n<p>At the end of this topic is my complete anonymized pom.xml</p>\n<p>I thank you in advance for any help you can give me</p>\n<p>Thierry</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;fr.company.team.rest&lt;/groupId&gt;\n  &lt;artifactId&gt;MyProjectRest&lt;/artifactId&gt;\n  &lt;name&gt;MyProjectRest&lt;/name&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.31&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n      &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n      &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n      &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n      &lt;version&gt;0.11.5&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n      &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n      &lt;version&gt;0.11.5&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;    \n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-jaxrs2 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-jaxrs2-servlet-initializer-v2 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin-jakarta --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;    \n    &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-common --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;${project.name}&lt;/finalName&gt;\n    &lt;directory&gt;${basedir}/target&lt;/directory&gt;\n    &lt;!-- main --&gt;\n    &lt;sourceDirectory&gt;${basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;outputDirectory&gt;${basedir}/target/classes&lt;/outputDirectory&gt;\n    &lt;!-- test --&gt;\n    &lt;testSourceDirectory&gt;${basedir}/src/test/java&lt;/testSourceDirectory&gt;\n    &lt;testOutputDirectory&gt;${basedir}/target/test-classes&lt;/testOutputDirectory&gt;\n    &lt;extensions&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.wagon/wagon-ssh --&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n        &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;\n        &lt;version&gt;3.5.2&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\n          &lt;resourcePackages&gt;            \n            &lt;package&gt;fr.inrae.sicpa.services&lt;/package&gt;\n          &lt;/resourcePackages&gt;\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;    \n      &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce-profile-target&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;requireActiveProfile&gt;\n                  &lt;profiles&gt;prod,rec,test&lt;/profiles&gt;\n                  &lt;all&gt;false&lt;/all&gt;\n                &lt;/requireActiveProfile&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n          &lt;warSourceDirectory&gt;${basedir}/src/main/webapp/WebContent&lt;/warSourceDirectory&gt;\n          &lt;webXml&gt;${basedir}/src/main/webapp/WebContent/WEB-INF/web.xml&lt;/webXml&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;  \n      &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/wagon-maven-plugin --&gt;\n     &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n          &lt;include&gt;*.json&lt;/include&gt;\n          &lt;include&gt;*.properties&lt;/include&gt;\n          &lt;include&gt;*.wadl&lt;/include&gt;\n          &lt;include&gt;*.xml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;rec&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;env&lt;/name&gt;\n          &lt;value&gt;rec&lt;/value&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;finalName&gt;${project.name}-rec&lt;/finalName&gt;\n        &lt;plugins&gt;\n          &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/wagon-maven-plugin --&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;master-rec&lt;/id&gt;\n                &lt;phase&gt;deploy&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;upload-single&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\n                  &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n              &lt;execution&gt;\n                &lt;id&gt;slave-rec&lt;/id&gt;\n                &lt;phase&gt;deploy&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;upload-single&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\n                  &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n          &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/main/resources/rec&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n              &lt;include&gt;*.json&lt;/include&gt;\n              &lt;include&gt;*.properties&lt;/include&gt;\n              &lt;include&gt;*.wadl&lt;/include&gt;\n              &lt;include&gt;*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/resource&gt;\n        &lt;/resources&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;prod&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;env&lt;/name&gt;\n          &lt;value&gt;prod&lt;/value&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;finalName&gt;${project.name}-prod&lt;/finalName&gt;\n        &lt;plugins&gt;\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin --&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;enforce-prod-no-snapshot&lt;/id&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;enforce&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;rules&gt;\n                    &lt;requireReleaseVersion/&gt;\n                    &lt;requireReleaseDeps/&gt;\n                  &lt;/rules&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n          &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/wagon-maven-plugin --&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;master-prod&lt;/id&gt;\n                &lt;phase&gt;deploy&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;upload-single&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\n                  &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n              &lt;execution&gt;\n                &lt;id&gt;slave-prod&lt;/id&gt;\n                &lt;phase&gt;deploy&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;upload-single&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;fromFile&gt;${project.build.directory}/${project.name}.${project.packaging}&lt;/fromFile&gt;\n                  &lt;url&gt;scp://user@xx.xx.xx.xx:/data/wars/autodeploy&lt;/url&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n          &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/main/resources/prod&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n              &lt;include&gt;*.json&lt;/include&gt;\n              &lt;include&gt;*.properties&lt;/include&gt;\n              &lt;include&gt;*.wadl&lt;/include&gt;\n              &lt;include&gt;*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/resource&gt;\n        &lt;/resources&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;test&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;env&lt;/name&gt;\n          &lt;value&gt;test&lt;/value&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;finalName&gt;${project.name}&lt;/finalName&gt;\n        &lt;resources&gt;\n          &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n              &lt;include&gt;*.json&lt;/include&gt;\n              &lt;include&gt;*.properties&lt;/include&gt;\n              &lt;include&gt;*.wadl&lt;/include&gt;\n              &lt;include&gt;*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;warName&gt;${project.name}&lt;/warName&gt;\n              &lt;outputDirectory&gt;C:\\Java\\wars\\autodeploy&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","splash-screen","android-12"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1643293995,"post_id":70857274,"comment_id":125305347,"body_markdown":"Splashscreen is useful when the app takes too long to open, but shouldn&#39;t be used otherwise. It makes the user wait for no reason.","body":"Splashscreen is useful when the app takes too long to open, but shouldn&#39;t be used otherwise. It makes the user wait for no reason."},{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":0,"creation_date":1643334459,"post_id":70857274,"comment_id":125318555,"body_markdown":"True cmak, but as of Android 12, they are mandatory and cannot be turned off without ugly unofficial hacks. I would say no splash screen would be a better option in this case, but its not an option if I am to deploy apps for Android 12 that start in the way Google want. Note, I am aware of hacks to stop is showing, but this just makes the OS just look like its frozen for a moment which is worse.","body":"True cmak, but as of Android 12, they are mandatory and cannot be turned off without ugly unofficial hacks. I would say no splash screen would be a better option in this case, but its not an option if I am to deploy apps for Android 12 that start in the way Google want. Note, I am aware of hacks to stop is showing, but this just makes the OS just look like its frozen for a moment which is worse."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1643370085,"post_id":70857274,"comment_id":125327348,"body_markdown":"You&#39;re right, just realized it&#39;s mandatory. That&#39;s a bad decision by Google, hope they remove it.","body":"You&#39;re right, just realized it&#39;s mandatory. That&#39;s a bad decision by Google, hope they remove it."}],"answers":[{"tags":[],"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1682423538,"creation_date":1643155740,"answer_id":70857275,"question_id":70857274,"body_markdown":"As I was writing this question and almost ready to post it, I stumbled on the method setKeepOnScreenCondition (below) that belongs to the splashScreen that we must install on the onCreate of our main activity. I thought it seemed wasteful not to post this, given there are no other posts on this topic and no such similar answers to other related questions (as of Jan 2022).\r\n\r\n    SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\r\n    splashScreen.setKeepOnScreenCondition(....);\r\n\r\nUpon inspecting it I found this method receives an instance of the **splashScreen.KeepOnScreenCondition()** interface for which the implementation must supply the following method signature implementation:\r\n\r\n     public boolean shouldKeepOnScreen() \r\n\r\nIt seems this method will be called by the splash screen and retain the splash screen visibly until it returns false.  This is where the light bulb moment I so love about programming occurred.\r\n\r\nWhat if I use a boolean initialised as true, and set it to false after a delay? That hunch turned out to work. Here is my solution. It seems to work and I thought it would be useful to others. Presumably instead of using a Handler for a delay, one could  also use this to set the boolean after some process had completed.\r\n\r\n    package com.example.mystuff.myactivity;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.splashscreen.SplashScreen;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        \r\n        private boolean keep = true;\r\n        private final int DELAY = 1250;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // Handle the splash screen transition.\r\n            SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            //Keep returning false to Should Keep On Screen until ready to begin.\r\n            splashScreen.setKeepOnScreenCondition(new SplashScreen.KeepOnScreenCondition() {\r\n                @Override\r\n                public boolean shouldKeepOnScreen() {\r\n                    return keep;\r\n                }\r\n            });\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(runner, DELAY);\r\n        }\r\n    \r\n        /**Will cause a second process to run on the main thread**/\r\n        private final Runnable runner = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                keep = false;\r\n            }\r\n        };\r\n        \r\n    }\r\n\r\nIf you are into Java Lambdas an even nicer and more compact solution is as follows:\r\n\r\n    package com.example.mystuff.myactivity;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.splashscreen.SplashScreen;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        \r\n        private boolean keep = true;\r\n        private final int DELAY = 1250;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // Handle the splash screen transition.\r\n            SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            //Keep returning false to Should Keep On Screen until ready to begin.\r\n        splashScreen.setKeepOnScreenCondition(() -&gt; keep);\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(() -&gt; keep = false, DELAY);;\r\n        }\r\n    \r\n    \r\n        \r\n    }\r\n\r\n\r\n\r\nIf you have comments or feedback (besides telling me I should not increase the duration of the splash screen), or a better way please do comment or respond with additional answers.","title":"Android 12 Splash Screen API - Increasing SplashScreen Duration","body":"<p>As I was writing this question and almost ready to post it, I stumbled on the method setKeepOnScreenCondition (below) that belongs to the splashScreen that we must install on the onCreate of our main activity. I thought it seemed wasteful not to post this, given there are no other posts on this topic and no such similar answers to other related questions (as of Jan 2022).</p>\n<pre><code>SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\nsplashScreen.setKeepOnScreenCondition(....);\n</code></pre>\n<p>Upon inspecting it I found this method receives an instance of the <strong>splashScreen.KeepOnScreenCondition()</strong> interface for which the implementation must supply the following method signature implementation:</p>\n<pre><code> public boolean shouldKeepOnScreen() \n</code></pre>\n<p>It seems this method will be called by the splash screen and retain the splash screen visibly until it returns false.  This is where the light bulb moment I so love about programming occurred.</p>\n<p>What if I use a boolean initialised as true, and set it to false after a delay? That hunch turned out to work. Here is my solution. It seems to work and I thought it would be useful to others. Presumably instead of using a Handler for a delay, one could  also use this to set the boolean after some process had completed.</p>\n<pre><code>package com.example.mystuff.myactivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.splashscreen.SplashScreen;\nimport android.os.Bundle;\nimport android.os.Handler;\n\npublic class MainActivity extends AppCompatActivity {\n    \n    private boolean keep = true;\n    private final int DELAY = 1250;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Handle the splash screen transition.\n        SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\n        super.onCreate(savedInstanceState);\n\n        //Keep returning false to Should Keep On Screen until ready to begin.\n        splashScreen.setKeepOnScreenCondition(new SplashScreen.KeepOnScreenCondition() {\n            @Override\n            public boolean shouldKeepOnScreen() {\n                return keep;\n            }\n        });\n        Handler handler = new Handler();\n        handler.postDelayed(runner, DELAY);\n    }\n\n    /**Will cause a second process to run on the main thread**/\n    private final Runnable runner = new Runnable() {\n        @Override\n        public void run() {\n            keep = false;\n        }\n    };\n    \n}\n</code></pre>\n<p>If you are into Java Lambdas an even nicer and more compact solution is as follows:</p>\n<pre><code>package com.example.mystuff.myactivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.splashscreen.SplashScreen;\nimport android.os.Bundle;\nimport android.os.Handler;\n\npublic class MainActivity extends AppCompatActivity {\n    \n    private boolean keep = true;\n    private final int DELAY = 1250;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Handle the splash screen transition.\n        SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Keep returning false to Should Keep On Screen until ready to begin.\n    splashScreen.setKeepOnScreenCondition(() -&gt; keep);\n    Handler handler = new Handler();\n    handler.postDelayed(() -&gt; keep = false, DELAY);;\n    }\n\n\n    \n}\n</code></pre>\n<p>If you have comments or feedback (besides telling me I should not increase the duration of the splash screen), or a better way please do comment or respond with additional answers.</p>\n"},{"tags":[],"owner":{"account_id":12246716,"reputation":231,"user_id":8938205,"display_name":"iddqdpwn"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1650358144,"creation_date":1650358144,"answer_id":71922146,"question_id":70857274,"body_markdown":"in Kotlin:\r\n\r\n    var keepSplashOnScreen = true\r\n    val delay = 2000L\r\n\r\n    installSplashScreen().setKeepOnScreenCondition { keepSplashOnScreen }\r\n    Handler(Looper.getMainLooper()).postDelayed({ keepSplashOnScreen = false }, delay)\r\n\r\nyou can put this into onCreate fun before super.onCreate calling (in activity with LAUNCHER intent filter in Manifest)","title":"Android 12 Splash Screen API - Increasing SplashScreen Duration","body":"<p>in Kotlin:</p>\n<pre><code>var keepSplashOnScreen = true\nval delay = 2000L\n\ninstallSplashScreen().setKeepOnScreenCondition { keepSplashOnScreen }\nHandler(Looper.getMainLooper()).postDelayed({ keepSplashOnScreen = false }, delay)\n</code></pre>\n<p>you can put this into onCreate fun before super.onCreate calling (in activity with LAUNCHER intent filter in Manifest)</p>\n"},{"tags":[],"owner":{"account_id":2765815,"reputation":83,"user_id":2381569,"accept_rate":50,"display_name":"ibrahim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672214132,"creation_date":1672214132,"answer_id":74937644,"question_id":70857274,"body_markdown":"One proxy way could be to use \r\n`runBlocking {\r\n   delay(1200)\r\n }` in onCreate method, to keep on main thread for some specific time.","title":"Android 12 Splash Screen API - Increasing SplashScreen Duration","body":"<p>One proxy way could be to use\n<code>runBlocking { delay(1200) }</code> in onCreate method, to keep on main thread for some specific time.</p>\n"},{"tags":[],"owner":{"account_id":17593293,"reputation":21,"user_id":12764716,"display_name":"Vi Kalinka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682423447,"creation_date":1682414059,"answer_id":76099488,"question_id":70857274,"body_markdown":"Kotlin, Compose:\r\n\r\nTo use postDelayed() or runBlocking { } is not the best solution. I prefer calculate setKeepOnScreenCondition using asynchronous calls. I.e., imagine that you need to show splash icon while you&#39;re collecting value from DataStore (to show or not onboarding screens), or pull some data from API/network. In view model:\r\n\r\n    private val _isLoading = MutableStateFlow(true)\r\n    val isLoading get() = _isLoading.asStateFlow()\r\n\r\n    private val _startDestination = MutableStateFlow&lt;String?&gt;(null)\r\n    val startDestination get() = _startDestination.asStateFlow()\r\n    \r\n    init {\r\n        viewModelScope.launch {\r\n            delay(2000) // long operation\r\n\r\n            // use .collect if you&#39;re interested in collecting all emitted values\r\n            onboardingRepository.onboardingState().collect { isFinished -&gt;\r\n                _startDestination.value = if (isFinished) {\r\n                    _isLoading.value = false\r\n                    Screen.Authentication.route\r\n                } else {\r\n                    _isLoading.value = false\r\n                    Screen.Onboarding.route\r\n                }\r\n            }\r\n\r\n            // or use .first() terminal operator that returns the first element emitted by the flow and then cancels flow&#39;s collection\r\n            val isFinished = onboardingRepository.onboardingState().first()\r\n            _startDestination.value = if (isFinished) {\r\n                Screen.Authentication.route\r\n            } else {\r\n                Screen.Onboarding.route\r\n            }\r\n            _isLoading.value = false\r\n        }\r\n    }\r\n\r\nIn MainActivity create a function, collect flow values and use them for onScreenConditions:\r\n\r\n    private val splashViewModel by viewModels&lt;SplashViewModel&gt;()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        setupSplashScreen()\r\n\r\n        setContent {\r\n            DiaryAppTheme {\r\n                val navController = rememberNavController()\r\n                val startDestination by splashViewModel.startDestination.collectAsStateWithLifecycle()\r\n                startDestination?.let {\r\n                    SetupNavGraph(\r\n                        navController = navController,\r\n                        startDestination = it\r\n                    )\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun setupSplashScreen() {\r\n        var keepSplashScreenOn = true\r\n        lifecycleScope.launch {\r\n            lifecycle.repeatOnLifecycle(Lifecycle.State.STARTED) {\r\n                splashViewModel.isLoading.collect {\r\n                    keepSplashScreenOn = it\r\n                }\r\n            }\r\n        }\r\n\r\n        installSplashScreen().setKeepOnScreenCondition {\r\n            keepSplashScreenOn\r\n        }\r\n    }","title":"Android 12 Splash Screen API - Increasing SplashScreen Duration","body":"<p>Kotlin, Compose:</p>\n<p>To use postDelayed() or runBlocking { } is not the best solution. I prefer calculate setKeepOnScreenCondition using asynchronous calls. I.e., imagine that you need to show splash icon while you're collecting value from DataStore (to show or not onboarding screens), or pull some data from API/network. In view model:</p>\n<pre><code>private val _isLoading = MutableStateFlow(true)\nval isLoading get() = _isLoading.asStateFlow()\n\nprivate val _startDestination = MutableStateFlow&lt;String?&gt;(null)\nval startDestination get() = _startDestination.asStateFlow()\n\ninit {\n    viewModelScope.launch {\n        delay(2000) // long operation\n\n        // use .collect if you're interested in collecting all emitted values\n        onboardingRepository.onboardingState().collect { isFinished -&gt;\n            _startDestination.value = if (isFinished) {\n                _isLoading.value = false\n                Screen.Authentication.route\n            } else {\n                _isLoading.value = false\n                Screen.Onboarding.route\n            }\n        }\n\n        // or use .first() terminal operator that returns the first element emitted by the flow and then cancels flow's collection\n        val isFinished = onboardingRepository.onboardingState().first()\n        _startDestination.value = if (isFinished) {\n            Screen.Authentication.route\n        } else {\n            Screen.Onboarding.route\n        }\n        _isLoading.value = false\n    }\n}\n</code></pre>\n<p>In MainActivity create a function, collect flow values and use them for onScreenConditions:</p>\n<pre><code>private val splashViewModel by viewModels&lt;SplashViewModel&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setupSplashScreen()\n\n    setContent {\n        DiaryAppTheme {\n            val navController = rememberNavController()\n            val startDestination by splashViewModel.startDestination.collectAsStateWithLifecycle()\n            startDestination?.let {\n                SetupNavGraph(\n                    navController = navController,\n                    startDestination = it\n                )\n            }\n        }\n    }\n}\n\nprivate fun setupSplashScreen() {\n    var keepSplashScreenOn = true\n    lifecycleScope.launch {\n        lifecycle.repeatOnLifecycle(Lifecycle.State.STARTED) {\n            splashViewModel.isLoading.collect {\n                keepSplashScreenOn = it\n            }\n        }\n    }\n\n    installSplashScreen().setKeepOnScreenCondition {\n        keepSplashScreenOn\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11471,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":70857275,"answer_count":4,"score":12,"last_activity_date":1682423538,"creation_date":1643155740,"question_id":70857274,"body_markdown":"I am learning Android&#39;s new SplashScreen API introduced with Android 12. I have so far gotten it to work on my Emulator and Google Pixel 4A, but I want to increase its duration. In my Splash Screen I do not want a fancy animation, I just want a static drawable. \r\n\r\nI know, I know (sigh) some of you might be thinking, that I should not increase the duration and I know there are several good arguments in favor of not doing so. However, for me the duration of a splash screen with a non animated drawable is so brief (less than a second), I think it raises an accessibility concern, especially so since it cannot be disabled (ironically). Simply, the organization behind the product or its brand/product identity cannot be properly absorbed or recognized by a new user at that size and in that time, rendering  the new splash screen redundant.\r\n\r\nI see the property windowSplashScreenAnimationDuration in the theme for the splash screen (shown below), but this has no effect on the duration presumably because I am not animating.\r\n\r\n   \r\n     &lt;style name=&quot;Theme.App.starting&quot; parent=&quot;Theme.SplashScreen&quot;&gt;\r\n            &lt;!--Set the splash screen background, animated icon, and animation duration.--&gt;\r\n            &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/gold&lt;/item&gt;\r\n        \r\n            &lt;!-- Use windowSplashScreenAnimatedIcon to add either a drawable or an\r\n                 animated drawable. One of these is required--&gt;\r\n            &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/accessibility_today&lt;/item&gt;\r\n            &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;300&lt;/item&gt; &lt;!--# Required for--&gt;\r\n                                                                        &lt;!--# animated icons--&gt;\r\n            &lt;!--Set the theme of the activity that directly follows your splash screen--&gt;\r\n            &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.MyActivity&lt;/item&gt;\r\n        \r\n            &lt;item name=&quot;android:windowSplashScreenBrandingImage&quot;&gt;@drawable/wculogo&lt;/item&gt;\r\n        \r\n        &lt;/style&gt;\r\n\r\nIs there a straightforward way to extend the duration of a non animated splash screen?","title":"Android 12 Splash Screen API - Increasing SplashScreen Duration","body":"<p>I am learning Android's new SplashScreen API introduced with Android 12. I have so far gotten it to work on my Emulator and Google Pixel 4A, but I want to increase its duration. In my Splash Screen I do not want a fancy animation, I just want a static drawable.</p>\n<p>I know, I know (sigh) some of you might be thinking, that I should not increase the duration and I know there are several good arguments in favor of not doing so. However, for me the duration of a splash screen with a non animated drawable is so brief (less than a second), I think it raises an accessibility concern, especially so since it cannot be disabled (ironically). Simply, the organization behind the product or its brand/product identity cannot be properly absorbed or recognized by a new user at that size and in that time, rendering  the new splash screen redundant.</p>\n<p>I see the property windowSplashScreenAnimationDuration in the theme for the splash screen (shown below), but this has no effect on the duration presumably because I am not animating.</p>\n<pre><code> &lt;style name=&quot;Theme.App.starting&quot; parent=&quot;Theme.SplashScreen&quot;&gt;\n        &lt;!--Set the splash screen background, animated icon, and animation duration.--&gt;\n        &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/gold&lt;/item&gt;\n    \n        &lt;!-- Use windowSplashScreenAnimatedIcon to add either a drawable or an\n             animated drawable. One of these is required--&gt;\n        &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/accessibility_today&lt;/item&gt;\n        &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;300&lt;/item&gt; &lt;!--# Required for--&gt;\n                                                                    &lt;!--# animated icons--&gt;\n        &lt;!--Set the theme of the activity that directly follows your splash screen--&gt;\n        &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.MyActivity&lt;/item&gt;\n    \n        &lt;item name=&quot;android:windowSplashScreenBrandingImage&quot;&gt;@drawable/wculogo&lt;/item&gt;\n    \n    &lt;/style&gt;\n</code></pre>\n<p>Is there a straightforward way to extend the duration of a non animated splash screen?</p>\n"},{"tags":["java","spring-boot","grpc"],"comments":[{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1682422529,"post_id":76100692,"comment_id":134209366,"body_markdown":"Add some additional info, please.","body":"Add some additional info, please."}],"answers":[{"tags":[],"owner":{"account_id":19047941,"reputation":39,"user_id":13906745,"display_name":"Aniket Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682423239,"creation_date":1682423239,"answer_id":76100807,"question_id":76100692,"body_markdown":"To fix this I followed the steps mentioned below:\r\n\r\n 1. Delete the .idea folder &amp; invalidate the cache.\r\n 2. Removed maven-compiler-plugin from plugins\r\n 3. Added the following dependency in pom.xml\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.devh&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-server-spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Post adding grpc-server-spring-boot-starter dependency application is not starting","body":"<p>To fix this I followed the steps mentioned below:</p>\n<ol>\n<li><p>Delete the .idea folder &amp; invalidate the cache.</p>\n</li>\n<li><p>Removed maven-compiler-plugin from plugins</p>\n</li>\n<li><p>Added the following dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.devh&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-server-spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;2.12.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19047941,"reputation":39,"user_id":13906745,"display_name":"Aniket Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682423431,"creation_date":1682422387,"question_id":76100692,"body_markdown":"After I added the following grpc-server-spring-boot-starter dependency, my application threw the following error while starting the server.\r\n\r\n&gt; org.springframework.context.ApplicationContextException: Failed to\r\n&gt; start bean &#39;shadedNettyGrpcServerLifecycle&#39;; nested exception is\r\n&gt; java.lang.AbstractMethodError:\r\n&gt; io.grpc.internal.AbstractServerImplBuilder.delegate()Lio/grpc/ServerBuilder;\r\n&gt; \tat\r\n&gt; org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:185)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:893)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163)\r\n&gt; ~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)\r\n&gt; ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE] \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\r\n&gt; ~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n&gt; [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n&gt; [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n&gt; [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n&gt; [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n&gt; [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\r\nI just added the following dependency to my spring-boot project before it started throwing errors.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.devh&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;grpc-server-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.12.0.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"Post adding grpc-server-spring-boot-starter dependency application is not starting","body":"<p>After I added the following grpc-server-spring-boot-starter dependency, my application threw the following error while starting the server.</p>\n<blockquote>\n<p>org.springframework.context.ApplicationContextException: Failed to\nstart bean 'shadedNettyGrpcServerLifecycle'; nested exception is\njava.lang.AbstractMethodError:\nio.grpc.internal.AbstractServerImplBuilder.delegate()Lio/grpc/ServerBuilder;\nat\norg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:185)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:893)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163)\n~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]    at\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)\n~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]     at\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\n~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]    at\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]     at\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]     at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]     at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]     at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]</p>\n</blockquote>\n<p>I just added the following dependency to my spring-boot project before it started throwing errors.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.devh&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-server-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.12.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1350146938,"creation_date":1350144155,"answer_id":12874811,"question_id":12874791,"body_markdown":"while calling `next` you should check if scanner has one.\r\n\r\n     if(scan.hasNext())\r\n     scan.next();\r\n\r\nAccording to java doc of [Scanner#next](http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html#next%28%29)\r\n\r\n&gt;NoSuchElementException if no more tokens are available\r\n\r\nYou can change your method like below\r\n\r\n\tprivate static int posNum(Scanner scan) {\r\n\t\tint input = 0;\r\n\t\tboolean error = false;\r\n\t\tif (scan.hasNext()) {\r\n\t\t\tif (scan.hasNextInt()) {\r\n\t\t\t\tinput = scan.nextInt();\r\n\t\t\t\terror = input &lt;= 0;\r\n\t\t\t} else {\r\n\t\t\t\tscan.next();\r\n\t\t\t\terror = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile (error) {\r\n\t\t\tSystem.out.print(&quot;Invalid input. Please reenter: &quot;);\r\n\t\t\tif (scan.hasNextInt()) {\r\n\t\t\t\tinput = scan.nextInt();\r\n\t\t\t\terror = input &lt;= 0;\r\n\t\t\t} else {\r\n\t\t\t\tif (scan.hasNext())\r\n\t\t\t\t\tscan.next();\r\n\t\t\t\terror = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn input;\r\n\t}\r\n\r\nAnd then call it like below\r\n\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t\tint i = posNum(scan);\r\n\t\tSystem.out.println(i);\r\n\t\tint j = posNum(scan);\r\n\t\tSystem.out.println(j);","title":"at java.util.Scanner.throwFor(Unknown Source) error","body":"<p>while calling <code>next</code> you should check if scanner has one.</p>\n\n<pre><code> if(scan.hasNext())\n scan.next();\n</code></pre>\n\n<p>According to java doc of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html#next%28%29\" rel=\"nofollow\">Scanner#next</a></p>\n\n<blockquote>\n  <p>NoSuchElementException if no more tokens are available</p>\n</blockquote>\n\n<p>You can change your method like below</p>\n\n<pre><code>private static int posNum(Scanner scan) {\n    int input = 0;\n    boolean error = false;\n    if (scan.hasNext()) {\n        if (scan.hasNextInt()) {\n            input = scan.nextInt();\n            error = input &lt;= 0;\n        } else {\n            scan.next();\n            error = true;\n        }\n    }\n    while (error) {\n        System.out.print(\"Invalid input. Please reenter: \");\n        if (scan.hasNextInt()) {\n            input = scan.nextInt();\n            error = input &lt;= 0;\n        } else {\n            if (scan.hasNext())\n                scan.next();\n            error = true;\n        }\n    }\n    return input;\n}\n</code></pre>\n\n<p>And then call it like below</p>\n\n<pre><code>    Scanner scan = new Scanner(System.in);\n    int i = posNum(scan);\n    System.out.println(i);\n    int j = posNum(scan);\n    System.out.println(j);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2841840,"reputation":1680,"user_id":2441299,"accept_rate":100,"display_name":"ben_joseph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397056211,"creation_date":1397056211,"answer_id":22966782,"question_id":12874791,"body_markdown":"The fact that it runs once and gives you trouble means it is not able to read anything from the stream.\r\n\r\nFrom Java DOCs:\r\n\r\nWhen a Scanner is closed, it will close its input source if the source implements the Closeable interface.\r\n\r\nWhich means it closes the System.in \r\n\r\nSo leaving the scanner opened will prevent the error the second time.\r\n\r\nRemove `scan.close();` and your program should work fine!\r\n","title":"at java.util.Scanner.throwFor(Unknown Source) error","body":"<p>The fact that it runs once and gives you trouble means it is not able to read anything from the stream.</p>\n\n<p>From Java DOCs:</p>\n\n<p>When a Scanner is closed, it will close its input source if the source implements the Closeable interface.</p>\n\n<p>Which means it closes the System.in </p>\n\n<p>So leaving the scanner opened will prevent the error the second time.</p>\n\n<p>Remove <code>scan.close();</code> and your program should work fine!</p>\n"},{"tags":[],"owner":{"account_id":28410955,"reputation":1,"user_id":21734362,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682423288,"creation_date":1682423288,"answer_id":76100814,"question_id":12874791,"body_markdown":"    private double getDoubleValue(String messageText) {\r\n            System.out.print(messageText);\r\n    \r\n            while (true) {\r\n                if (scanner.hasNext() &amp;&amp; scanner.hasNextDouble()) {\r\n                    return scanner.nextDouble();\r\n                }\r\n    \r\n                System.out.print(INVALID_VALUE_DESCRIPTION);\r\n                scanner.next();\r\n            }\r\n        }","title":"at java.util.Scanner.throwFor(Unknown Source) error","body":"<pre><code>private double getDoubleValue(String messageText) {\n        System.out.print(messageText);\n\n        while (true) {\n            if (scanner.hasNext() &amp;&amp; scanner.hasNextDouble()) {\n                return scanner.nextDouble();\n            }\n\n            System.out.print(INVALID_VALUE_DESCRIPTION);\n            scanner.next();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1935195,"reputation":301,"user_id":1743622,"accept_rate":100,"display_name":"matic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12874811,"answer_count":3,"score":2,"last_activity_date":1682423288,"creation_date":1350144009,"question_id":12874791,"body_markdown":"   \r\n\r\n      private static int posNum() {\r\n                Scanner scan = new Scanner(System.in);\r\n                int input = 0;\r\n                boolean error;\r\n                \r\n                if (scan.hasNextInt()) {\r\n                    input = scan.nextInt();\r\n                    error = input &lt;= 0;\r\n                } else {\r\n        28          scan.next();\r\n                    error = true;\r\n                }\r\n                while (error) {\r\n                    System.out.print(&quot;Invalid input. Please reenter: &quot;);\r\n                    if (scan.hasNextInt()) {\r\n                        input = scan.nextInt();\r\n                        error = input &lt;= 0;\r\n                    } else {\r\n                        scan.next();\r\n                        error = true;\r\n                    }\r\n                }\r\n                scan.close();\r\n                return input;\r\n                \r\n            }\r\n\r\n\r\nSo the second time I call this method its returning the following error. \r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n    \tat java.util.Scanner.throwFor(Unknown Source)\r\n    \tat java.util.Scanner.next(Unknown Source)\r\n    \tat q2.CylinderStats.posNum(CylinderStats.java:28)\r\n    \tat q2.CylinderStats.main(CylinderStats.java:62)\r\n\r\nThe first call is `rad = posNum();` which runs fine and then secondis `height = posNum();` which doesn&#39;t allow a value to be entered before it goes to the error.\r\n\r\nThanks","title":"at java.util.Scanner.throwFor(Unknown Source) error","body":"<pre><code>  private static int posNum() {\n            Scanner scan = new Scanner(System.in);\n            int input = 0;\n            boolean error;\n\n            if (scan.hasNextInt()) {\n                input = scan.nextInt();\n                error = input &lt;= 0;\n            } else {\n    28          scan.next();\n                error = true;\n            }\n            while (error) {\n                System.out.print(\"Invalid input. Please reenter: \");\n                if (scan.hasNextInt()) {\n                    input = scan.nextInt();\n                    error = input &lt;= 0;\n                } else {\n                    scan.next();\n                    error = true;\n                }\n            }\n            scan.close();\n            return input;\n\n        }\n</code></pre>\n\n<p>So the second time I call this method its returning the following error. </p>\n\n<pre><code>Exception in thread \"main\" java.util.NoSuchElementException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at q2.CylinderStats.posNum(CylinderStats.java:28)\n    at q2.CylinderStats.main(CylinderStats.java:62)\n</code></pre>\n\n<p>The first call is <code>rad = posNum();</code> which runs fine and then secondis <code>height = posNum();</code> which doesn't allow a value to be entered before it goes to the error.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3318966,"reputation":225,"user_id":2790579,"display_name":"Stefan Halus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454618956,"creation_date":1454618956,"answer_id":35211344,"question_id":35209558,"body_markdown":"You can retrieve the system time format by using this code:\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat();\r\n    String pattern = dateFormat.toLocalizedPattern(); //if you want the string pattern\r\n\r\nThere is no way to listen for a time format change action, but giving that this action is always made outside your application, you can put the code in your Activity&#39;s / Fragment&#39;s `onResume()` method and change the UI accordingly. ","title":"Detect android system date/time format change and reflect in the app","body":"<p>You can retrieve the system time format by using this code:</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat();\nString pattern = dateFormat.toLocalizedPattern(); //if you want the string pattern\n</code></pre>\n\n<p>There is no way to listen for a time format change action, but giving that this action is always made outside your application, you can put the code in your Activity's / Fragment's <code>onResume()</code> method and change the UI accordingly. </p>\n"},{"tags":[],"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682422836,"creation_date":1682422836,"answer_id":76100749,"question_id":35209558,"body_markdown":"Use a `BroadcastReceiver` with intent filter &quot;*android.intent.action.TIME_SET*&quot; for detect 12/24 time format change. It may be delayed by 10-30 seconds.\r\n\r\n        &lt;receiver android:name=&quot;.BroadcastReceiverMy&quot; android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.TIME_SET&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;","title":"Detect android system date/time format change and reflect in the app","body":"<p>Use a <code>BroadcastReceiver</code> with intent filter &quot;<em>android.intent.action.TIME_SET</em>&quot; for detect 12/24 time format change. It may be delayed by 10-30 seconds.</p>\n<pre><code>    &lt;receiver android:name=&quot;.BroadcastReceiverMy&quot; android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.TIME_SET&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n"}],"owner":{"account_id":5850174,"reputation":756,"user_id":4609047,"display_name":"CodeDaily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682422836,"creation_date":1454613062,"question_id":35209558,"body_markdown":"I want the app to correspond to the system time format change. For Instance, if i change android system time format to 24hr format. I want my app to detect that change and reflect the change in the app. Hence if the system time format is 24hrs then the time displayed inside the app should be in 24hrs as well and vice versa if is 12hrs format.","title":"Detect android system date/time format change and reflect in the app","body":"<p>I want the app to correspond to the system time format change. For Instance, if i change android system time format to 24hr format. I want my app to detect that change and reflect the change in the app. Hence if the system time format is 24hrs then the time displayed inside the app should be in 24hrs as well and vice versa if is 12hrs format.</p>\n"},{"tags":["java","java-8","keycloak","infinispan"],"comments":[{"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"score":0,"creation_date":1682626546,"post_id":76100736,"comment_id":134249852,"body_markdown":"It looks like you may have different versions of Infinispan on the classpath. Can you verify please ?","body":"It looks like you may have different versions of Infinispan on the classpath. Can you verify please ?"}],"owner":{"account_id":22684491,"reputation":3,"user_id":16854381,"display_name":"Артём Смирнов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682422698,"creation_date":1682422698,"question_id":76100736,"body_markdown":"The thing is that I have this fragment of code in my KeyCloak SPI where the configuration is initialized:\r\n```\r\nGlobalConfigurationBuilder global = GlobalConfigurationBuilder.defaultClusteredBuilder();\r\nDefaultCacheManager cacheManager = new DefaultCacheManager(global.build());\r\nConfigurationBuilder builder = new ConfigurationBuilder();\r\nbuilder.clustering().cacheMode(CacheMode.DIST_SYNC);\r\nthis.userAndCaptchaMap = cacheManager.administration().withFlags(CacheContainerAdmin.AdminFlag.VOLATILE).getOrCreateCache(&quot;myCache&quot;, builder.build());\r\n```\r\nWhile I&#39;m trying to proceed this part of code the following exception is thrown:\r\n\r\n```\r\njava.lang.ClassCastException: org.infinispan.remoting.transport.jgroups.JGroupsTransport cannot be cast to org.infinispan.remoting.transport.Transport\r\n\tat org.infinispan.configuration.global.TransportConfigurationBuilder.defaultTransport(TransportConfigurationBuilder.java:216)\r\n\tat org.infinispan.configuration.global.GlobalConfigurationBuilder.defaultClusteredBuilder(GlobalConfigurationBuilder.java:295)\r\n\tat nexign.bsp.RecaptchaResetForm.create(RecaptchaResetForm.java:156)\r\n\tat nexign.bsp.RecaptchaResetForm.create(RecaptchaResetForm.java:26)\r\n\tat org.keycloak.authentication.DefaultAuthenticationFlow.createAuthenticator(DefaultAuthenticationFlow.java:72)\r\n\tat org.keycloak.authentication.DefaultAuthenticationFlow.isConditionalAuthenticator(DefaultAuthenticationFlow.java:334)\r\n\tat org.keycloak.authentication.DefaultAuthenticationFlow.fillListsOfExecutions(DefaultAuthenticationFlow.java:296)\r\n\tat org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:235)\r\n\tat org.keycloak.authentication.AuthenticationProcessor.authenticateOnly(AuthenticationProcessor.java:976)\r\n\r\n```\r\n\r\nIs it about a configuration or about versions of the Infinispan itself?","title":"Infinispan GlobalConfigurationBuilder issue","body":"<p>The thing is that I have this fragment of code in my KeyCloak SPI where the configuration is initialized:</p>\n<pre><code>GlobalConfigurationBuilder global = GlobalConfigurationBuilder.defaultClusteredBuilder();\nDefaultCacheManager cacheManager = new DefaultCacheManager(global.build());\nConfigurationBuilder builder = new ConfigurationBuilder();\nbuilder.clustering().cacheMode(CacheMode.DIST_SYNC);\nthis.userAndCaptchaMap = cacheManager.administration().withFlags(CacheContainerAdmin.AdminFlag.VOLATILE).getOrCreateCache(&quot;myCache&quot;, builder.build());\n</code></pre>\n<p>While I'm trying to proceed this part of code the following exception is thrown:</p>\n<pre><code>java.lang.ClassCastException: org.infinispan.remoting.transport.jgroups.JGroupsTransport cannot be cast to org.infinispan.remoting.transport.Transport\n    at org.infinispan.configuration.global.TransportConfigurationBuilder.defaultTransport(TransportConfigurationBuilder.java:216)\n    at org.infinispan.configuration.global.GlobalConfigurationBuilder.defaultClusteredBuilder(GlobalConfigurationBuilder.java:295)\n    at nexign.bsp.RecaptchaResetForm.create(RecaptchaResetForm.java:156)\n    at nexign.bsp.RecaptchaResetForm.create(RecaptchaResetForm.java:26)\n    at org.keycloak.authentication.DefaultAuthenticationFlow.createAuthenticator(DefaultAuthenticationFlow.java:72)\n    at org.keycloak.authentication.DefaultAuthenticationFlow.isConditionalAuthenticator(DefaultAuthenticationFlow.java:334)\n    at org.keycloak.authentication.DefaultAuthenticationFlow.fillListsOfExecutions(DefaultAuthenticationFlow.java:296)\n    at org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:235)\n    at org.keycloak.authentication.AuthenticationProcessor.authenticateOnly(AuthenticationProcessor.java:976)\n\n</code></pre>\n<p>Is it about a configuration or about versions of the Infinispan itself?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","mariadb"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682377430,"post_id":76095119,"comment_id":134202768,"body_markdown":"Are you trying to persist the timezone as well as the date? What is the type of the column in the database? I don&#39;t believe JPA supports persisting the timezone as it isn&#39;t standard in databases - you are going to be stuck storing, converting and combining a timestamp/long data value with a timezone preference separately - see https://stackoverflow.com/q/56647962/496099","body":"Are you trying to persist the timezone as well as the date? What is the type of the column in the database? I don&#39;t believe JPA supports persisting the timezone as it isn&#39;t standard in databases - you are going to be stuck storing, converting and combining a timestamp/long data value with a timezone preference separately - see <a href=\"https://stackoverflow.com/q/56647962/496099\">stackoverflow.com/q/56647962/496099</a>"},{"owner":{"account_id":448169,"reputation":5643,"user_id":842225,"accept_rate":49,"display_name":"user842225"},"score":0,"creation_date":1682400856,"post_id":76095119,"comment_id":134204892,"body_markdown":"@Chris, the type of the column for `exam` field is `json` as indicated in my post. The `startTime` is a property of `Exam` class. So, I am persisting `Exam` property of `Student` as a `json`.","body":"@Chris, the type of the column for <code>exam</code> field is <code>json</code> as indicated in my post. The <code>startTime</code> is a property of <code>Exam</code> class. So, I am persisting <code>Exam</code> property of <code>Student</code> as a <code>json</code>."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682433512,"post_id":76095119,"comment_id":134212777,"body_markdown":"This is not a JPA issue but a Hibernate JSON serialization issue - show the JSON formed and stored in your DB with the options you&#39;ve used to generate it and it might help show what is going wrong (serialization, deserialization or both). Also see https://stackoverflow.com/a/39086534/496099 as you might need to configure Jackson to support ZonedDateTime (and it is version specific)","body":"This is not a JPA issue but a Hibernate JSON serialization issue - show the JSON formed and stored in your DB with the options you&#39;ve used to generate it and it might help show what is going wrong (serialization, deserialization or both). Also see <a href=\"https://stackoverflow.com/a/39086534/496099\">stackoverflow.com/a/39086534/496099</a> as you might need to configure Jackson to support ZonedDateTime (and it is version specific)"},{"owner":{"account_id":6770704,"reputation":307,"user_id":5214137,"accept_rate":100,"display_name":"Akshansh Jain"},"score":0,"creation_date":1698416083,"post_id":76095119,"comment_id":136406800,"body_markdown":"Did you resolve this issue? I&#39;m facing it too.","body":"Did you resolve this issue? I&#39;m facing it too."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682422501,"creation_date":1682365366,"answer_id":76095523,"question_id":76095119,"body_markdown":"You are using the type ZonedDateTime in your Java code. It contains both time and the time zone.\r\n\r\nWith the call of ZonedDateTime.now() you will get default time zone of your application. Which is apparently Europe/Paris.\r\n\r\nAs you don&#39;t define any formatter for JSON serialization it will be serialized to number of milliseconds since January 1st, 1970. And it will be stored in the database as a number. In that moment the information about the time zone is lost. After reading back from the database this number will be deserialized to ZoneDateTime but using UTC.\r\n\r\nThat&#39;s why both times compares as not equal.\r\n\r\n**Solution**\r\n\r\nUse @JsonFormat annotation to provide time zone id in the string representation. (Please mind double V, not a W)\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSZ VV&quot;)\r\n    private ZonedDateTime startTime;\r\n\r\nIn the application.properties override Jackson defaults for adjusting the time zone to UTC.\r\n\r\n    spring.jackson.serialization.write-dates-with-zone-id=true\r\n    spring.jackson.serialization.write-dates-with-context-time-zone=false\r\n    spring.jackson.deserialization.adjust-dates-to-context-time-zone=false\r\n","title":"ZonedDateTime in json column of database table, when fetched, it changed to UTC","body":"<p>You are using the type ZonedDateTime in your Java code. It contains both time and the time zone.</p>\n<p>With the call of ZonedDateTime.now() you will get default time zone of your application. Which is apparently Europe/Paris.</p>\n<p>As you don't define any formatter for JSON serialization it will be serialized to number of milliseconds since January 1st, 1970. And it will be stored in the database as a number. In that moment the information about the time zone is lost. After reading back from the database this number will be deserialized to ZoneDateTime but using UTC.</p>\n<p>That's why both times compares as not equal.</p>\n<p><strong>Solution</strong></p>\n<p>Use @JsonFormat annotation to provide time zone id in the string representation. (Please mind double V, not a W)</p>\n<pre><code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSZ VV&quot;)\nprivate ZonedDateTime startTime;\n</code></pre>\n<p>In the application.properties override Jackson defaults for adjusting the time zone to UTC.</p>\n<pre><code>spring.jackson.serialization.write-dates-with-zone-id=true\nspring.jackson.serialization.write-dates-with-context-time-zone=false\nspring.jackson.deserialization.adjust-dates-to-context-time-zone=false\n</code></pre>\n"}],"owner":{"account_id":448169,"reputation":5643,"user_id":842225,"accept_rate":49,"display_name":"user842225"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682422501,"creation_date":1682361866,"question_id":76095119,"body_markdown":"I am developing a spring-boot project with MariaDB database.\r\n\r\nI have a `Student` entity, which has a `Exam` property. In database, I would like to store the `Exam` property as a `json` field/column in `student` table.\r\n\r\nThe SQL for creating `student` table is:\r\n```\r\nCREATE TABLE IF NOT EXISTS student (\r\n    id bigint not null,\r\n    exam json,\r\n    first_name varchar(255),\r\n    last_name varchar(255),\r\n    primary key (id)\r\n    ) engine=InnoDB;\r\n```\r\n\r\nThe `Student` entity class is:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@TypeDefs({\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n})\r\npublic class Student implements Serializable {\r\n   ...\r\n\r\n  @Column(columnDefinition = &quot;LONGTEXT&quot;)\r\n  @Type(type = &quot;json&quot;)\r\n  private Exam exam;\r\n}\r\n```\r\nThose annotations you see above are meant to store the `exam` property as a JSON field in `student` table.\r\n\r\nThe `Exam` class is not annotated as a JPA entity, but a normal class:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Exam implements Serializable {\r\n    private ZonedDateTime startTime;\r\n    private String code;\r\n}\r\n```\r\nAs you see, the `Exam` has a `ZonedDateTime` property. My question later is about it.\r\n\r\nI have also `JpaRepository` class:\r\n```\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, id&gt; {\r\n}\r\n```\r\n\r\nIn my unit test code, I have a function to create a `Student` object:\r\n```\r\npublic Student createStudentEntity() {\r\n  // create exam, assign ZonedDateTime.now() to its &quot;startTime&quot; property \r\n  Exam exam = new Exam(ZonedDateTime.now(), &quot;math01&quot;);\r\n\r\n  Student student = new Student();\r\n  student.setExam(exam);\r\n  ...\r\n  return student;\r\n}\r\n```\r\n\r\nThen, I call this function in my test to save the student to database:\r\n```\r\n\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\nclass StudentTest {\r\n\r\n    @Autowired\r\n    StudentRepository studentRepo;\r\n    \r\n    @Test\r\n    void test_save_student()  {\r\n        Student student = MyTestHelper.createStudentEntity();\r\n        studentRepo.saveStudent(student);\r\n\r\n        // The assertion fails due to the &quot;startTime&quot; of &quot;exam&quot; json object mismatch\r\n        Assertions.assertEquals(student, studentRepo.getStudentById(student.getId()));\r\n    }\r\n```\r\n\r\nThe above test fails with message:\r\n```\r\nAssertionFailedError: expected: &lt;Student(id=123,exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[Europe/Paris],...&gt; but was: &lt;Student(id=123,exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[UTC],...&gt;\r\n```\r\nSo, the error in short tells the mismatch in timezone:\r\n- `exam` json value in created student is `exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[Europe/Paris]`, \r\n- but when fetched from database, the fetched student contains `exam` json with value `exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[UTC]`.\r\n\r\nWhy the fetched student from database has `exam` field contains `startTime` that is in `[UTC]` while before persisting it to database the same field in `exam` json is treated as `[Europe/Paris]`?\r\n\r\n**==== UPDATE ===**\r\n\r\nI tried @Mar-Z&#39;s answer, updated my `Exam` class (which is not a JPA entity) to:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Exam implements Serializable {\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, timezone = &quot;Europe/Paris&quot;)\r\n    private ZonedDateTime startTime;\r\n    private String code;\r\n}\r\n```\r\nBut it doesn&#39;t help, I still have the same issue: The fetched `student` from database having json field `exam` which contains the `startTime` part having `[UTC]` timezone. ","title":"ZonedDateTime in json column of database table, when fetched, it changed to UTC","body":"<p>I am developing a spring-boot project with MariaDB database.</p>\n<p>I have a <code>Student</code> entity, which has a <code>Exam</code> property. In database, I would like to store the <code>Exam</code> property as a <code>json</code> field/column in <code>student</code> table.</p>\n<p>The SQL for creating <code>student</code> table is:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS student (\n    id bigint not null,\n    exam json,\n    first_name varchar(255),\n    last_name varchar(255),\n    primary key (id)\n    ) engine=InnoDB;\n</code></pre>\n<p>The <code>Student</code> entity class is:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@TypeDefs({\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\n})\npublic class Student implements Serializable {\n   ...\n\n  @Column(columnDefinition = &quot;LONGTEXT&quot;)\n  @Type(type = &quot;json&quot;)\n  private Exam exam;\n}\n</code></pre>\n<p>Those annotations you see above are meant to store the <code>exam</code> property as a JSON field in <code>student</code> table.</p>\n<p>The <code>Exam</code> class is not annotated as a JPA entity, but a normal class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Exam implements Serializable {\n    private ZonedDateTime startTime;\n    private String code;\n}\n</code></pre>\n<p>As you see, the <code>Exam</code> has a <code>ZonedDateTime</code> property. My question later is about it.</p>\n<p>I have also <code>JpaRepository</code> class:</p>\n<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, id&gt; {\n}\n</code></pre>\n<p>In my unit test code, I have a function to create a <code>Student</code> object:</p>\n<pre><code>public Student createStudentEntity() {\n  // create exam, assign ZonedDateTime.now() to its &quot;startTime&quot; property \n  Exam exam = new Exam(ZonedDateTime.now(), &quot;math01&quot;);\n\n  Student student = new Student();\n  student.setExam(exam);\n  ...\n  return student;\n}\n</code></pre>\n<p>Then, I call this function in my test to save the student to database:</p>\n<pre><code>\n@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\nclass StudentTest {\n\n    @Autowired\n    StudentRepository studentRepo;\n    \n    @Test\n    void test_save_student()  {\n        Student student = MyTestHelper.createStudentEntity();\n        studentRepo.saveStudent(student);\n\n        // The assertion fails due to the &quot;startTime&quot; of &quot;exam&quot; json object mismatch\n        Assertions.assertEquals(student, studentRepo.getStudentById(student.getId()));\n    }\n</code></pre>\n<p>The above test fails with message:</p>\n<pre><code>AssertionFailedError: expected: &lt;Student(id=123,exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[Europe/Paris],...&gt; but was: &lt;Student(id=123,exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[UTC],...&gt;\n</code></pre>\n<p>So, the error in short tells the mismatch in timezone:</p>\n<ul>\n<li><code>exam</code> json value in created student is <code>exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[Europe/Paris]</code>,</li>\n<li>but when fetched from database, the fetched student contains <code>exam</code> json with value <code>exam=Exam(startTime=2023-04-24T20:58:57.624489+03:00[UTC]</code>.</li>\n</ul>\n<p>Why the fetched student from database has <code>exam</code> field contains <code>startTime</code> that is in <code>[UTC]</code> while before persisting it to database the same field in <code>exam</code> json is treated as <code>[Europe/Paris]</code>?</p>\n<p><strong>==== UPDATE ===</strong></p>\n<p>I tried @Mar-Z's answer, updated my <code>Exam</code> class (which is not a JPA entity) to:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Exam implements Serializable {\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, timezone = &quot;Europe/Paris&quot;)\n    private ZonedDateTime startTime;\n    private String code;\n}\n</code></pre>\n<p>But it doesn't help, I still have the same issue: The fetched <code>student</code> from database having json field <code>exam</code> which contains the <code>startTime</code> part having <code>[UTC]</code> timezone.</p>\n"},{"tags":["java","file","java-io"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":8,"creation_date":1373550374,"post_id":17595091,"comment_id":25606159,"body_markdown":"So you just want bytes in memory?","body":"So you just want bytes in memory?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1373550410,"post_id":17595091,"comment_id":25606181,"body_markdown":"What are you trying to *do* with this `File`?","body":"What are you trying to <i>do</i> with this <code>File</code>?"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":5,"creation_date":1373550428,"post_id":17595091,"comment_id":25606196,"body_markdown":"A `File` by definition is on the hard drive.","body":"A <code>File</code> by definition is on the hard drive."},{"owner":{"account_id":1854334,"reputation":5145,"user_id":1680256,"accept_rate":88,"display_name":"Bhavik Shah"},"score":3,"creation_date":1373550444,"post_id":17595091,"comment_id":25606207,"body_markdown":"what&#39;s the point of creating a file if you don&#39;t want it on persistent memory?","body":"what&#39;s the point of creating a file if you don&#39;t want it on persistent memory?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":5,"creation_date":1373550497,"post_id":17595091,"comment_id":25606259,"body_markdown":"@UwePlonus no... `new File(&quot;/dev/null&quot;)`","body":"@UwePlonus no... <code>new File(&quot;&#47;dev&#47;null&quot;)</code>"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1373550548,"post_id":17595091,"comment_id":25606294,"body_markdown":"@fge `/dev/null` is on the hard drive (even if it is only a device ;)","body":"@fge <code>&#47;dev&#47;null</code> is on the hard drive (even if it is only a device ;)"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1373550561,"post_id":17595091,"comment_id":25606306,"body_markdown":"has nothing to do with java, but maybe you want a ramdisk? Though i can hardly believe what you are trying to do really needs that...","body":"has nothing to do with java, but maybe you want a ramdisk? Though i can hardly believe what you are trying to do really needs that..."},{"owner":{"account_id":439324,"reputation":32505,"user_id":828193,"accept_rate":85,"display_name":"user000001"},"score":0,"creation_date":1373550572,"post_id":17595091,"comment_id":25606314,"body_markdown":"@UwePlonus Unless you use a [`tmpfs`](http://en.wikipedia.org/wiki/Tmpfs) or a [`Ram Drive`](http://en.wikipedia.org/wiki/RAM_drive)","body":"@UwePlonus Unless you use a <a href=\"http://en.wikipedia.org/wiki/Tmpfs\" rel=\"nofollow noreferrer\"><code>tmpfs</code></a> or a <a href=\"http://en.wikipedia.org/wiki/RAM_drive\" rel=\"nofollow noreferrer\"><code>Ram Drive</code></a>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1373550661,"post_id":17595091,"comment_id":25606374,"body_markdown":"@UwePlonus erm, no... Not with modern Linux systems at least (this is a tmpfs)","body":"@UwePlonus erm, no... Not with modern Linux systems at least (this is a tmpfs)"},{"owner":{"display_name":"user1454686"},"score":2,"creation_date":1373550764,"post_id":17595091,"comment_id":25606432,"body_markdown":"I just want to save some stream in memory.","body":"I just want to save some stream in memory."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1373550862,"post_id":17595091,"comment_id":25606515,"body_markdown":"A stream of what? How large?","body":"A stream of what? How large?"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":3,"creation_date":1373551299,"post_id":17595091,"comment_id":25606793,"body_markdown":"Also, what do you mean by &quot;save&quot; that stream in memory?  If you have Java objects to work with, then the data is already in memory...","body":"Also, what do you mean by &quot;save&quot; that stream in memory?  If you have Java objects to work with, then the data is already in memory..."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1373841157,"post_id":17595091,"comment_id":25693710,"body_markdown":"@UwePlonus No, /dev/null isn&#39;t anywhere, let alone on the hard disk. It is just a perfect sink and a source of endless EOFs, implemented in software only.","body":"@UwePlonus No, /dev/null isn&#39;t anywhere, let alone on the hard disk. It is just a perfect sink and a source of endless EOFs, implemented in software only."},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":3,"creation_date":1466068813,"post_id":17595091,"comment_id":63168125,"body_markdown":"Similarly, it would be magical if there was a solution (although I know that there is not). I need to interact with an API that expects a File, but I&#39;m interacting from a Google Appengine app, and we all know what GAE thinks of creating Files (hint: it hates it and it&#39;s granny)","body":"Similarly, it would be magical if there was a solution (although I know that there is not). I need to interact with an API that expects a File, but I&#39;m interacting from a Google Appengine app, and we all know what GAE thinks of creating Files (hint: it hates it and it&#39;s granny)"},{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":65,"creation_date":1555534850,"post_id":17595091,"comment_id":98149940,"body_markdown":"Wow, the lack of imagination on StackOverflow is astounding. Someone might need an in-memory File simple because they are using an interface that requires a File. The interface should have been written for an InputStream, but it wasn&#39;t. A temp file just seems like overkill, so an in-memory java.io.File would be preferable.","body":"Wow, the lack of imagination on StackOverflow is astounding. Someone might need an in-memory File simple because they are using an interface that requires a File. The interface should have been written for an InputStream, but it wasn&#39;t. A temp file just seems like overkill, so an in-memory java.io.File would be preferable."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1630828439,"post_id":17595091,"comment_id":122057808,"body_markdown":"You are not &#39;faced with a bad API&#39; at all. It&#39;s just that this is the only one you&#39;ve found so far. Have a look at `java.util.jar.JarInputStream`. There is nothing about this problem that requires the contradiction in terms you have dreamed up.","body":"You are not &#39;faced with a bad API&#39; at all. It&#39;s just that this is the only one you&#39;ve found so far. Have a look at <code>java.util.jar.JarInputStream</code>. There is nothing about this problem that requires the contradiction in terms you have dreamed up."}],"answers":[{"tags":[],"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"down_vote_count":7,"up_vote_count":105,"is_accepted":false,"score":98,"last_activity_date":1373551555,"creation_date":1373550819,"answer_id":17595282,"question_id":17595091,"body_markdown":"&gt; How can I create new File (from java.io) in memory , not in the hard disk?\r\n\r\nMaybe you are confusing `File` and `Stream`:\r\n\r\n * A [`File`][1] is an abstract representation of file and directory **pathnames**. Using a `File` object, you can access the file metadata in a file system, and perform some operations on files on this filesystem, like delete or create the file. But the `File` class does not provide methods to read and write the file contents.\r\n * To read and write from a file, you are using a `Stream` object, like [`FileInputStream`][2] or [`FileOutputStream`][3]. These streams can be created from a `File` object and then be used to read from and write to the file.\r\n\r\nYou can create a **stream based on a byte buffer which resides in memory**, by using a [`ByteArrayInputStream`][5] and a [`ByteArrayOutputStream`][4] to read from and write to a **byte buffer** in a similar way you read and write from a file. The `byte` array contains the &quot;File&#39;s&quot; content. You do not need a `File` object then.\r\n\r\nBoth the `File...` and the `ByteArray...` streams inherit from `java.io.OutputStream` and `java.io.InputStream`, respectively, so that you can use the common superclass to hide whether you are reading from a file or from a byte array.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html","title":"How to create a new java.io.File in memory?","body":"<blockquote>\n  <p>How can I create new File (from java.io) in memory , not in the hard disk?</p>\n</blockquote>\n\n<p>Maybe you are confusing <code>File</code> and <code>Stream</code>:</p>\n\n<ul>\n<li>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\"><code>File</code></a> is an abstract representation of file and directory <strong>pathnames</strong>. Using a <code>File</code> object, you can access the file metadata in a file system, and perform some operations on files on this filesystem, like delete or create the file. But the <code>File</code> class does not provide methods to read and write the file contents.</li>\n<li>To read and write from a file, you are using a <code>Stream</code> object, like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html\"><code>FileInputStream</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\"><code>FileOutputStream</code></a>. These streams can be created from a <code>File</code> object and then be used to read from and write to the file.</li>\n</ul>\n\n<p>You can create a <strong>stream based on a byte buffer which resides in memory</strong>, by using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html\"><code>ByteArrayInputStream</code></a> and a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html\"><code>ByteArrayOutputStream</code></a> to read from and write to a <strong>byte buffer</strong> in a similar way you read and write from a file. The <code>byte</code> array contains the \"File's\" content. You do not need a <code>File</code> object then.</p>\n\n<p>Both the <code>File...</code> and the <code>ByteArray...</code> streams inherit from <code>java.io.OutputStream</code> and <code>java.io.InputStream</code>, respectively, so that you can use the common superclass to hide whether you are reading from a file or from a byte array.</p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":9,"up_vote_count":47,"is_accepted":true,"score":38,"last_activity_date":1682422473,"creation_date":1373550867,"answer_id":17595303,"question_id":17595091,"body_markdown":"It is not possible to create a `java.io.File` that holds its content in (Java heap) memory *. \r\n\r\nInstead, normally you would use a stream. To write to a stream, in memory, use:\r\n\r\n    OutputStream out = new ByteArrayOutputStream();\r\n    out.write(...);\r\n\r\nBut unfortunately, a stream can&#39;t be used as input for `java.util.jar.JarFile`, which as you mention can only use a `File` or a `String` containing the path to a valid JAR *file*. I believe using a temporary file like you currently do is the only option, unless you want to use a different API.\r\n\r\nIf you are okay using a different API, there is conveniently a class in the same package, named `JarInputStream` you can use. Simply wrap your `archiveContent` array in a `ByteArrayInputStream`, to read the contents of the JAR and extract the manifest:\r\n\r\n    byte[] content = getContent(); // from OP&#39;s code\r\n\r\n    try (JarInputStream stream = new JarInputStream(new ByteArrayInputStream(content))) {\r\n         Manifest manifest = stream.getManifest();\r\n    }\r\n\r\n---\r\n\r\n*) It&#39;s obviously possible to create a full file-system that resides in memory, like a RAM-disk, but that would still be &quot;on disk&quot; (and not in Java heap memory) as far as the Java process is concerned. ","title":"How to create a new java.io.File in memory?","body":"<p>It is not possible to create a <code>java.io.File</code> that holds its content in (Java heap) memory *.</p>\n<p>Instead, normally you would use a stream. To write to a stream, in memory, use:</p>\n<pre><code>OutputStream out = new ByteArrayOutputStream();\nout.write(...);\n</code></pre>\n<p>But unfortunately, a stream can't be used as input for <code>java.util.jar.JarFile</code>, which as you mention can only use a <code>File</code> or a <code>String</code> containing the path to a valid JAR <em>file</em>. I believe using a temporary file like you currently do is the only option, unless you want to use a different API.</p>\n<p>If you are okay using a different API, there is conveniently a class in the same package, named <code>JarInputStream</code> you can use. Simply wrap your <code>archiveContent</code> array in a <code>ByteArrayInputStream</code>, to read the contents of the JAR and extract the manifest:</p>\n<pre><code>byte[] content = getContent(); // from OP's code\n\ntry (JarInputStream stream = new JarInputStream(new ByteArrayInputStream(content))) {\n     Manifest manifest = stream.getManifest();\n}\n</code></pre>\n<hr />\n<p>*) It's obviously possible to create a full file-system that resides in memory, like a RAM-disk, but that would still be &quot;on disk&quot; (and not in Java heap memory) as far as the Java process is concerned.</p>\n"},{"tags":[],"owner":{"account_id":2592625,"reputation":303,"user_id":2246994,"display_name":"Tedward"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1590082388,"creation_date":1590082388,"answer_id":61940380,"question_id":17595091,"body_markdown":"You could use an in-memory filesystem, such as [Jimfs][1]\r\n\r\nHere&#39;s a usage example from their readme:\r\n\r\n    FileSystem fs = Jimfs.newFileSystem(Configuration.unix());\r\n    Path foo = fs.getPath(&quot;/foo&quot;);\r\n    Files.createDirectory(foo);\r\n    \r\n    Path hello = foo.resolve(&quot;hello.txt&quot;); // /foo/hello.txt\r\n    Files.write(hello, ImmutableList.of(&quot;hello world&quot;), StandardCharsets.UTF_8);\r\n\r\n\r\n  [1]: https://github.com/google/jimfs","title":"How to create a new java.io.File in memory?","body":"<p>You could use an in-memory filesystem, such as <a href=\"https://github.com/google/jimfs\" rel=\"noreferrer\">Jimfs</a></p>\n\n<p>Here's a usage example from their readme:</p>\n\n<pre><code>FileSystem fs = Jimfs.newFileSystem(Configuration.unix());\nPath foo = fs.getPath(\"/foo\");\nFiles.createDirectory(foo);\n\nPath hello = foo.resolve(\"hello.txt\"); // /foo/hello.txt\nFiles.write(hello, ImmutableList.of(\"hello world\"), StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1786316,"reputation":303,"user_id":1627719,"display_name":"mipasov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630821638,"creation_date":1630821638,"answer_id":69060909,"question_id":17595091,"body_markdown":"I think temporary file can be another solution for that. \r\n\r\n    File tempFile = File.createTempFile(prefix, suffix, null);\r\n    FileOutputStream fos = new FileOutputStream(tempFile);\r\n    fos.write(byteArray);\r\n\r\nThere is a an answer about that [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19006461/create-a-temporary-java-io-file-from-byte","title":"How to create a new java.io.File in memory?","body":"<p>I think temporary file can be another solution for that.</p>\n<pre><code>File tempFile = File.createTempFile(prefix, suffix, null);\nFileOutputStream fos = new FileOutputStream(tempFile);\nfos.write(byteArray);\n</code></pre>\n<p>There is a an answer about that <a href=\"https://stackoverflow.com/questions/19006461/create-a-temporary-java-io-file-from-byte\">here</a>.</p>\n"}],"owner":{"display_name":"user1454686"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150322,"favorite_count":0,"down_vote_count":4,"up_vote_count":141,"closed_date":1630828320,"accepted_answer_id":17595303,"answer_count":4,"score":137,"last_activity_date":1682422473,"creation_date":1373550343,"question_id":17595091,"body_markdown":"How can I create new `File` (from `java.io`) in memory, not on the hard disk? \r\n\r\nI am using the Java language. I don&#39;t want to save the file on the hard drive.\r\n\r\nI&#39;m faced with a bad API (`java.util.jar.JarFile`). It&#39;s expecting `File file` of `String filename`. I have no file (only `byte[]` content) and can create temporary file, but it&#39;s not beautiful solution. I need to validate the digest of a signed jar.\r\n\r\n    byte[] content = getContent();\r\n    File tempFile = File.createTempFile(&quot;tmp&quot;, &quot;.tmp&quot;);\r\n    FileOutputStream fos = new FileOutputStream(tempFile);\r\n    fos.write(archiveContent);\r\n    JarFile jarFile = new JarFile(tempFile);\r\n    Manifest manifest = jarFile.getManifest();\r\n\r\nAny examples of how to achieve getting manifest without creating a temporary file would be appreciated.","title":"How to create a new java.io.File in memory?","body":"<p>How can I create new <code>File</code> (from <code>java.io</code>) in memory, not on the hard disk? </p>\n\n<p>I am using the Java language. I don't want to save the file on the hard drive.</p>\n\n<p>I'm faced with a bad API (<code>java.util.jar.JarFile</code>). It's expecting <code>File file</code> of <code>String filename</code>. I have no file (only <code>byte[]</code> content) and can create temporary file, but it's not beautiful solution. I need to validate the digest of a signed jar.</p>\n\n<pre><code>byte[] content = getContent();\nFile tempFile = File.createTempFile(\"tmp\", \".tmp\");\nFileOutputStream fos = new FileOutputStream(tempFile);\nfos.write(archiveContent);\nJarFile jarFile = new JarFile(tempFile);\nManifest manifest = jarFile.getManifest();\n</code></pre>\n\n<p>Any examples of how to achieve getting manifest without creating a temporary file would be appreciated.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1615974458,"creation_date":1377523983,"answer_id":18445434,"question_id":18445385,"body_markdown":"This typically meant that you don&#39;t have the source code, and IntelliJ IDEA would just display `/* compiled code */` as a placeholder for the source code you don&#39;t have. I believe this has now changed, and IntelliJ comes bundled with a full Java decompiler plugin, and will display the decompiled source code as standard.\r\n\r\nTo better see what&#39;s going on, the best would be to receive the actual source code of the third party library. \r\n\r\n**You should of course also get the documentation, as reading the source code and guessing how to use a library usually isn&#39;t the best way to learn.**  \r\n\r\nThe second best option would be use the decompiler plugin in IntelliJ, that will automatically decompile the Java class file (note that the license for your third party library may disallow you to do just that). This will never be a 100% solution, but in most cases it&#39;s better than nothing.","title":"java class method stubs with /* compiled code */","body":"<p>This typically meant that you don't have the source code, and IntelliJ IDEA would just display <code>/* compiled code */</code> as a placeholder for the source code you don't have. I believe this has now changed, and IntelliJ comes bundled with a full Java decompiler plugin, and will display the decompiled source code as standard.</p>\n<p>To better see what's going on, the best would be to receive the actual source code of the third party library.</p>\n<p><strong>You should of course also get the documentation, as reading the source code and guessing how to use a library usually isn't the best way to learn.</strong></p>\n<p>The second best option would be use the decompiler plugin in IntelliJ, that will automatically decompile the Java class file (note that the license for your third party library may disallow you to do just that). This will never be a 100% solution, but in most cases it's better than nothing.</p>\n"},{"tags":[],"owner":{"account_id":1968651,"reputation":4351,"user_id":1768238,"accept_rate":92,"display_name":"tilpner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377524397,"creation_date":1377523998,"answer_id":18445445,"question_id":18445385,"body_markdown":"You should really search/ask for documentation. Javadoc usually is invaluable if the method does stuff you can&#39;t guess from its name. Otherwise use a decompiler such as [JD-GUI](http://java.decompiler.free.fr/?q=jdgui).\r\n\r\n*.java sourcecode* is compiled to *.class bytecode* by compilers such as javac. The compiler may optimise specific things, and a compilation-decompilation process if **highly** unlikely to yield the same source. Also, all comments should be deleted and if the code wasn&#39;t compiled in debug mode, even the variable names are lost. So: Decompilation is **not** a good alternative to handcrafted documentation.","title":"java class method stubs with /* compiled code */","body":"<p>You should really search/ask for documentation. Javadoc usually is invaluable if the method does stuff you can't guess from its name. Otherwise use a decompiler such as <a href=\"http://java.decompiler.free.fr/?q=jdgui\" rel=\"nofollow\">JD-GUI</a>.</p>\n\n<p><em>.java sourcecode</em> is compiled to <em>.class bytecode</em> by compilers such as javac. The compiler may optimise specific things, and a compilation-decompilation process if <strong>highly</strong> unlikely to yield the same source. Also, all comments should be deleted and if the code wasn't compiled in debug mode, even the variable names are lost. So: Decompilation is <strong>not</strong> a good alternative to handcrafted documentation.</p>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585210881,"creation_date":1585210881,"answer_id":60863267,"question_id":18445385,"body_markdown":"If your library is build with `sourceFiles`:\r\n```\r\n task androidSourcesJar(type: Jar) {\r\n        classifier = &#39;sources&#39;\r\n        from android.sourceSets.main.java.sourceFiles//look at this line\r\n    }\r\n```\r\nThen you will see classes with `/* compiled code */`\r\n\r\nIf your library is build with `srcDirs`:\r\n```\r\n task androidSourcesJar(type: Jar) {\r\n        classifier = &#39;sources&#39;\r\n        from from android.sourceSets.main.java.srcDirs//look at this line\r\n    }\r\n```\r\nThen you will see classes with full source without `/* compiled code */`\r\n","title":"java class method stubs with /* compiled code */","body":"<p>If your library is build with <code>sourceFiles</code>:</p>\n\n<pre><code> task androidSourcesJar(type: Jar) {\n        classifier = 'sources'\n        from android.sourceSets.main.java.sourceFiles//look at this line\n    }\n</code></pre>\n\n<p>Then you will see classes with <code>/* compiled code */</code></p>\n\n<p>If your library is build with <code>srcDirs</code>:</p>\n\n<pre><code> task androidSourcesJar(type: Jar) {\n        classifier = 'sources'\n        from from android.sourceSets.main.java.srcDirs//look at this line\n    }\n</code></pre>\n\n<p>Then you will see classes with full source without <code>/* compiled code */</code></p>\n"},{"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682421164,"creation_date":1682421164,"answer_id":76100535,"question_id":18445385,"body_markdown":"Refer - https://www.jetbrains.com/help/idea/decompiler.html\r\n\r\nEnable the Java Bytecode Decompiler plugin in settings.\r\n\r\nIf it&#39;s the first time that you&#39;re opening a compiled file, the IDE prompts you to agree to the specified terms and conditions in the JetBrains Decompiler dialog. If you click Accept, the dialog will not be displayed in the future and the appropriate code will be automatically decompiled.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter that the IDE will show you the human-readable Java code without actually converting .class files into .java files.\r\n\r\nThe yellow notification panel above the editor informs you that you’re reading a decompiled file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5RUZ3.png\r\n  [2]: https://i.stack.imgur.com/CHQTU.png","title":"java class method stubs with /* compiled code */","body":"<p>Refer - <a href=\"https://www.jetbrains.com/help/idea/decompiler.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/decompiler.html</a></p>\n<p>Enable the Java Bytecode Decompiler plugin in settings.</p>\n<p>If it's the first time that you're opening a compiled file, the IDE prompts you to agree to the specified terms and conditions in the JetBrains Decompiler dialog. If you click Accept, the dialog will not be displayed in the future and the appropriate code will be automatically decompiled.</p>\n<p><a href=\"https://i.stack.imgur.com/5RUZ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5RUZ3.png\" alt=\"enter image description here\" /></a></p>\n<p>After that the IDE will show you the human-readable Java code without actually converting .class files into .java files.</p>\n<p>The yellow notification panel above the editor informs you that you’re reading a decompiled file.</p>\n<p><a href=\"https://i.stack.imgur.com/CHQTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHQTU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":376650,"reputation":10428,"user_id":728241,"accept_rate":71,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10466,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":18445434,"answer_count":4,"score":8,"last_activity_date":1682421164,"creation_date":1377523834,"question_id":18445385,"body_markdown":"I just received a third party authentication library to use in my clients application. I didn&#39;t receive any documentation with it and am trying to dig through the source and see how it works. I&#39;m very to new Java when i click **Go To** -&gt; **Declaration** on methods in IntelliJ it sends me to a `.class` file and i see a bunch of stubbed methods with `/* compiled code */` in the methods. \r\n\r\nI&#39;m fairly sure this is common in Java i just don&#39;t know what to search for to learn about what exactly is going on. Any clarification would be great.","title":"java class method stubs with /* compiled code */","body":"<p>I just received a third party authentication library to use in my clients application. I didn't receive any documentation with it and am trying to dig through the source and see how it works. I'm very to new Java when i click <strong>Go To</strong> -> <strong>Declaration</strong> on methods in IntelliJ it sends me to a <code>.class</code> file and i see a bunch of stubbed methods with <code>/* compiled code */</code> in the methods. </p>\n\n<p>I'm fairly sure this is common in Java i just don't know what to search for to learn about what exactly is going on. Any clarification would be great.</p>\n"},{"tags":["java","mysql","spring-boot","mybatis"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682426167,"post_id":76100414,"comment_id":134210353,"body_markdown":"Perhaps [this](https://stackoverflow.com/questions/415905/how-to-set-a-maximum-execution-time-for-a-mysql-query) could be used","body":"Perhaps <a href=\"https://stackoverflow.com/questions/415905/how-to-set-a-maximum-execution-time-for-a-mysql-query\">this</a> could be used"},{"owner":{"account_id":28410440,"reputation":21,"user_id":21733922,"display_name":"Nghi Ho&#224;ng Đức"},"score":0,"creation_date":1682435800,"post_id":76100414,"comment_id":134213479,"body_markdown":"max_excution_query can only use for &quot;select&quot; query, is there any solution for other methods like delete, insert .. ?","body":"max_excution_query can only use for &quot;select&quot; query, is there any solution for other methods like delete, insert .. ?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1682436111,"post_id":76100414,"comment_id":134213581,"body_markdown":"@NghiHo&#224;ngĐức `&lt;select|insert|update|delete&gt;` has [`timeout`](https://mybatis.org/mybatis-3/sqlmap-xml.html) attribute which corresponds to [`java.sql.Statement#setQueryTimeout()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Statement.html#setQueryTimeout(int)). Another important setting is [`java.sql.Connection#setNetworkTimeout()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Connection.html#setNetworkTimeout(java.util.concurrent.Executor,int)) which can be set in JDBC connection URL or connection pool setting, usually.","body":"@NghiHo&#224;ngĐức <code>&lt;select|insert|update|delete&gt;</code> has <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html\" rel=\"nofollow noreferrer\"><code>timeout</code></a> attribute which corresponds to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Statement.html#setQueryTimeout(int)\" rel=\"nofollow noreferrer\"><code>java.sql.Statement#setQueryTimeout()</code></a>. Another important setting is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Connection.html#setNetworkTimeout(java.util.concurrent.Executor,int)\" rel=\"nofollow noreferrer\"><code>java.sql.Connection#setNetworkTimeout()</code></a> which can be set in JDBC connection URL or connection pool setting, usually."},{"owner":{"account_id":28410440,"reputation":21,"user_id":21733922,"display_name":"Nghi Ho&#224;ng Đức"},"score":0,"creation_date":1682476039,"post_id":76100414,"comment_id":134220645,"body_markdown":"@ave &quot;timeout&quot; attribute in MyBatis can only throw exception, I need to kill the process if it reaches time out, so which solution can kill the query process in MyBatis ?","body":"@ave &quot;timeout&quot; attribute in MyBatis can only throw exception, I need to kill the process if it reaches time out, so which solution can kill the query process in MyBatis ?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1682512883,"post_id":76100414,"comment_id":134227411,"body_markdown":"@NghiHo&#224;ngĐức The [doc](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-implementation-notes.html) says `setQueryTimeout` internally issues `KILL QUERY`. If that is not what you want, please edit the question and elaborate on your requirement.","body":"@NghiHo&#224;ngĐức The <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">doc</a> says <code>setQueryTimeout</code> internally issues <code>KILL QUERY</code>. If that is not what you want, please edit the question and elaborate on your requirement."}],"owner":{"account_id":28410440,"reputation":21,"user_id":21733922,"display_name":"Nghi Ho&#224;ng Đức"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682420305,"creation_date":1682420305,"question_id":76100414,"body_markdown":"i have a project using Springboot and MyBatis to write API like this\r\n\r\n```\r\n@Mapper\r\npublic interface ExportJobDetailRepository {\r\n  List&lt;RegularExportDetail&gt; getExportJobDetailById(@Param(&quot;id&quot;) String id);\r\n}\r\n```\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n&lt;mapper\r\n\tnamespace=&quot;com.toshiba.mwcloud.gs.dbaas.repository.ExportJobDetailRepository&quot;&gt;\r\n\r\n\t&lt;resultMap id=&quot;BaseResultMap&quot;\r\n\t\ttype=&quot;com.toshiba.mwcloud.gs.dbaas.griddbdto.RegularExportDetail&quot;&gt;\r\n\t\t&lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;\r\n\t\t&lt;result column=&quot;export_job_id&quot; property=&quot;regularExportId&quot; /&gt;\r\n\t\t&lt;result column=&quot;containers&quot; property=&quot;containers&quot; /&gt;\r\n\t\t&lt;result column=&quot;time_column&quot; property=&quot;timeColumn&quot; /&gt;\r\n\t\t&lt;result column=&quot;row_filter&quot; property=&quot;rowFilter&quot; /&gt;\r\n\t\t&lt;result column=&quot;export_method&quot; property=&quot;exportMethod&quot; /&gt;\r\n\t&lt;/resultMap&gt;\r\n\r\n\t&lt;select id=&quot;getExportJobDetailById&quot; resultMap=&quot;BaseResultMap&quot;&gt;\r\n\t\tSELECT * FROM\r\n\t\texport_job_detail\r\n\t\twhere export_job_id = #{id}\r\n\t\torder by containers desc\r\n\t&lt;/select&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\nI need to write a function that can set timeout for API, and Kill the query processing if reach timeout. What should i do for this problem ? Thanks a lot\r\n\r\n","title":"Kill the SQL query processing if reaching timeout in MyBatis","body":"<p>i have a project using Springboot and MyBatis to write API like this</p>\n<pre><code>@Mapper\npublic interface ExportJobDetailRepository {\n  List&lt;RegularExportDetail&gt; getExportJobDetailById(@Param(&quot;id&quot;) String id);\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\n&lt;mapper\n    namespace=&quot;com.toshiba.mwcloud.gs.dbaas.repository.ExportJobDetailRepository&quot;&gt;\n\n    &lt;resultMap id=&quot;BaseResultMap&quot;\n        type=&quot;com.toshiba.mwcloud.gs.dbaas.griddbdto.RegularExportDetail&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;\n        &lt;result column=&quot;export_job_id&quot; property=&quot;regularExportId&quot; /&gt;\n        &lt;result column=&quot;containers&quot; property=&quot;containers&quot; /&gt;\n        &lt;result column=&quot;time_column&quot; property=&quot;timeColumn&quot; /&gt;\n        &lt;result column=&quot;row_filter&quot; property=&quot;rowFilter&quot; /&gt;\n        &lt;result column=&quot;export_method&quot; property=&quot;exportMethod&quot; /&gt;\n    &lt;/resultMap&gt;\n\n    &lt;select id=&quot;getExportJobDetailById&quot; resultMap=&quot;BaseResultMap&quot;&gt;\n        SELECT * FROM\n        export_job_detail\n        where export_job_id = #{id}\n        order by containers desc\n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>I need to write a function that can set timeout for API, and Kill the query processing if reach timeout. What should i do for this problem ? Thanks a lot</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1495277482,"post_id":44083484,"comment_id":75192401,"body_markdown":"Since the answers apparently helped you, please click on the checkmark on the top left of the answers that was the most helpful and that solved the problem for you.","body":"Since the answers apparently helped you, please click on the checkmark on the top left of the answers that was the most helpful and that solved the problem for you."}],"answers":[{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1495268429,"creation_date":1495268046,"answer_id":44083513,"question_id":44083484,"body_markdown":"The problem is that your loop works *left to right*. By shifting to the right, and then shifting the next to the right, you will thus spread the first value accross the array.\r\n\r\nSay the list is `[1,4,2,5]`. Then the first iteration will result in:\r\n\r\n       [1,4,2,5]\r\n    -&gt; [1,1,2,5]\r\n\r\nNext `i = 1`, and thus:\r\n\r\n       [1,1,2,5]\r\n    -&gt; [1,1,1,5]\r\n\r\nand finally if `i = 2`, then:\r\n\r\n       [1,1,1,5]\r\n    -&gt; [1,1,1,1]\r\n\r\nYou can solve the issue by iterating **right to left**:\r\n\r\n&lt;pre&gt;&lt;code&gt;for (int i = &lt;b&gt;arr.length - 2&lt;/b&gt;; i &lt;b&gt;&amp;gt;= 0&lt;/b&gt;; i&lt;b&gt;--&lt;/b&gt;){ //array works right to left\r\n    arr[i+1] = arr[i];\r\n}   \r\narr[0] = newNum;&lt;/code&gt;&lt;/pre&gt;\r\n\r\nNow the shifting will happen as follows, for our example, `i` starts with `i = 2`, so after the first iteration:\r\n\r\n       [1,4,2,5]\r\n    -&gt; [1,4,2,2]\r\n\r\nNow we decrement `i` and copy `a[1]` to `a[2]`:\r\n\r\n       [1,4,2,2] \r\n    -&gt; [1,4,4,2]\r\n\r\nand finally `i = 0` and we thus copy `a[0]` to `a[1]`:\r\n\r\n       [1,4,4,2]\r\n    -&gt; [1,1,4,2]\r\n\r\nSo now the content is shifted to the right, and we can set `a[0]` to the new value.","title":"How do I shift all values in an array to the right and insert a new first value?","body":"<p>The problem is that your loop works <em>left to right</em>. By shifting to the right, and then shifting the next to the right, you will thus spread the first value accross the array.</p>\n\n<p>Say the list is <code>[1,4,2,5]</code>. Then the first iteration will result in:</p>\n\n<pre><code>   [1,4,2,5]\n-&gt; [1,1,2,5]\n</code></pre>\n\n<p>Next <code>i = 1</code>, and thus:</p>\n\n<pre><code>   [1,1,2,5]\n-&gt; [1,1,1,5]\n</code></pre>\n\n<p>and finally if <code>i = 2</code>, then:</p>\n\n<pre><code>   [1,1,1,5]\n-&gt; [1,1,1,1]\n</code></pre>\n\n<p>You can solve the issue by iterating <strong>right to left</strong>:</p>\n\n<pre><code>for (int i = <b>arr.length - 2</b>; i <b>&gt;= 0</b>; i<b>--</b>){ //array works right to left\n    arr[i+1] = arr[i];\n}   \narr[0] = newNum;</code></pre>\n\n<p>Now the shifting will happen as follows, for our example, <code>i</code> starts with <code>i = 2</code>, so after the first iteration:</p>\n\n<pre><code>   [1,4,2,5]\n-&gt; [1,4,2,2]\n</code></pre>\n\n<p>Now we decrement <code>i</code> and copy <code>a[1]</code> to <code>a[2]</code>:</p>\n\n<pre><code>   [1,4,2,2] \n-&gt; [1,4,4,2]\n</code></pre>\n\n<p>and finally <code>i = 0</code> and we thus copy <code>a[0]</code> to <code>a[1]</code>:</p>\n\n<pre><code>   [1,4,4,2]\n-&gt; [1,1,4,2]\n</code></pre>\n\n<p>So now the content is shifted to the right, and we can set <code>a[0]</code> to the new value.</p>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495268064,"creation_date":1495268064,"answer_id":44083516,"question_id":44083484,"body_markdown":"You have to start from the back and go to the beginning:\r\n\r\n    for (int i = arr.length - 1; i &gt;= 1; i--) {\r\n        arr[i] = arr[i - 1];\r\n    }\r\n\r\n    arr[0] = newNum;","title":"How do I shift all values in an array to the right and insert a new first value?","body":"<p>You have to start from the back and go to the beginning:</p>\n\n<pre><code>for (int i = arr.length - 1; i &gt;= 1; i--) {\n    arr[i] = arr[i - 1];\n}\n\narr[0] = newNum;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495268347,"creation_date":1495268347,"answer_id":44083562,"question_id":44083484,"body_markdown":"Don&#39;t reinvent the wheel.  Java comes with a static method for copying arrays, that will do nicely here.  It&#39;s `System.arraycopy` and for your case, you&#39;d do this.\r\n\r\n    System.arraycopy(arr, 0, arr, 1, arr.length - 1);\r\n    arr[0] = newValue;\r\n\r\nThe arguments to `System.arraycopy` are \r\n\r\n- the array you&#39;re copying from\r\n- the position of the first element you want to copy\r\n- the array you&#39;re copying to - and it&#39;s OK for this to be the same array as you&#39;re copying from\r\n- the destination position of the first element that you want to copy\r\n- the number of elements you want to copy.\r\n","title":"How do I shift all values in an array to the right and insert a new first value?","body":"<p>Don't reinvent the wheel.  Java comes with a static method for copying arrays, that will do nicely here.  It's <code>System.arraycopy</code> and for your case, you'd do this.</p>\n\n<pre><code>System.arraycopy(arr, 0, arr, 1, arr.length - 1);\narr[0] = newValue;\n</code></pre>\n\n<p>The arguments to <code>System.arraycopy</code> are </p>\n\n<ul>\n<li>the array you're copying from</li>\n<li>the position of the first element you want to copy</li>\n<li>the array you're copying to - and it's OK for this to be the same array as you're copying from</li>\n<li>the destination position of the first element that you want to copy</li>\n<li>the number of elements you want to copy.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28410354,"reputation":1,"user_id":21733848,"display_name":"Mr.Manticor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682420058,"creation_date":1682420058,"answer_id":76100389,"question_id":44083484,"body_markdown":"Yes, of course it&#39;s funny to answer after 5 years as the question was asked. But still))\r\nIf you do it through reading from left to right, then I did this:\r\n \r\n\r\n    public static int[] ArrayShift (int[] mass)\r\n        {   int previous= mass[0], next, last;\r\n            last = mass[mass.length-1];\r\n            for (int i=0; i &lt; mass.length-1; i++)\r\n            {\r\n                if (i==0)\r\n                {\r\n                    previous = mass[i+1];\r\n                    mass[i+1] = mass[i];\r\n                }\r\n                else\r\n                {\r\n                    next = mass[i+1];\r\n                    mass[i+1] = previous;\r\n                    previous = next;\r\n                }\r\n            }\r\n            mass[0] = last;\r\n            return mass;\r\n        }\r\nThe only thing is that I inserted the very last element of the array into the first element.","title":"How do I shift all values in an array to the right and insert a new first value?","body":"<p>Yes, of course it's funny to answer after 5 years as the question was asked. But still))\nIf you do it through reading from left to right, then I did this:</p>\n<pre><code>public static int[] ArrayShift (int[] mass)\n    {   int previous= mass[0], next, last;\n        last = mass[mass.length-1];\n        for (int i=0; i &lt; mass.length-1; i++)\n        {\n            if (i==0)\n            {\n                previous = mass[i+1];\n                mass[i+1] = mass[i];\n            }\n            else\n            {\n                next = mass[i+1];\n                mass[i+1] = previous;\n                previous = next;\n            }\n        }\n        mass[0] = last;\n        return mass;\n    }\n</code></pre>\n<p>The only thing is that I inserted the very last element of the array into the first element.</p>\n"}],"owner":{"account_id":5027917,"reputation":23,"user_id":8039955,"display_name":"Harley Whales"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2015,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44083513,"answer_count":4,"score":2,"last_activity_date":1682420058,"creation_date":1495267874,"question_id":44083484,"body_markdown":"Here is the code I have so far\r\n\r\n    for (int i = 0; i &lt; (arr.length - 1); i++) {\r\n        arr[i+1] = arr[i];\r\n    }\r\n        \r\n    arr[0] = newNum;\r\n\r\nThe issue I am having is that this code copies the initial first value, `arr[0]`, to every other slot in the array.\r\n\r\nFor example, `[2, 7, 5, 3]`, and inserting the new Number 6, would output `[6, 2, 2, 2]`.\r\n\r\nAny help would be greatly appreciated.","title":"How do I shift all values in an array to the right and insert a new first value?","body":"<p>Here is the code I have so far</p>\n\n<pre><code>for (int i = 0; i &lt; (arr.length - 1); i++) {\n    arr[i+1] = arr[i];\n}\n\narr[0] = newNum;\n</code></pre>\n\n<p>The issue I am having is that this code copies the initial first value, <code>arr[0]</code>, to every other slot in the array.</p>\n\n<p>For example, <code>[2, 7, 5, 3]</code>, and inserting the new Number 6, would output <code>[6, 2, 2, 2]</code>.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","exception","jakarta-mail"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682420907,"post_id":76100375,"comment_id":134209018,"body_markdown":"`&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;` doesn&#39;t look like &quot;Jakarta Mail&quot;... Try the [real thing](https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api/2.1.1)","body":"<code>&lt;groupId&gt;com.sun.mail&lt;&#47;groupId&gt;</code> doesn&#39;t look like &quot;Jakarta Mail&quot;... Try the <a href=\"https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api/2.1.1\" rel=\"nofollow noreferrer\">real thing</a>"}],"owner":{"account_id":15241530,"reputation":43,"user_id":10997664,"display_name":"codein1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682419913,"creation_date":1682419913,"question_id":76100375,"body_markdown":"When calling the getMessageID method I receive the following exception.\r\nDoes anyone know what leads to the error?\r\n\r\nCode\r\n```\r\nfor (Message message : messages) {\r\n    if (message instanceof POP3Message) {\r\n        String messageID = ((POP3Message) message).getMessageID();\r\n        ...\r\n    }\r\n}\r\n```\r\nException\r\n```\r\njavax.mail.FolderClosedException: java.io.EOFException: EOF on socket\r\n\tat com.sun.mail.pop3.POP3Message.loadHeaders(POP3Message.java:651) ~[javax.mail-1.5.5.jar:1.5.5]\r\n\tat com.sun.mail.pop3.POP3Message.getHeader(POP3Message.java:385) ~[javax.mail-1.5.5.jar:1.5.5]\r\n\tat javax.mail.internet.MimeMessage.getMessageID(MimeMessage.java:1257) ~[javax.mail-1.5.5.jar:1.5.5]\r\n\tat de.service.receive(Service.java:410) ~[nuboclient-e40ba7a.jar:e40ba7a]\r\n```\r\nVersion\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Javax mail EOFException when loading message headers","body":"<p>When calling the getMessageID method I receive the following exception.\nDoes anyone know what leads to the error?</p>\n<p>Code</p>\n<pre><code>for (Message message : messages) {\n    if (message instanceof POP3Message) {\n        String messageID = ((POP3Message) message).getMessageID();\n        ...\n    }\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>javax.mail.FolderClosedException: java.io.EOFException: EOF on socket\n    at com.sun.mail.pop3.POP3Message.loadHeaders(POP3Message.java:651) ~[javax.mail-1.5.5.jar:1.5.5]\n    at com.sun.mail.pop3.POP3Message.getHeader(POP3Message.java:385) ~[javax.mail-1.5.5.jar:1.5.5]\n    at javax.mail.internet.MimeMessage.getMessageID(MimeMessage.java:1257) ~[javax.mail-1.5.5.jar:1.5.5]\n    at de.service.receive(Service.java:410) ~[nuboclient-e40ba7a.jar:e40ba7a]\n</code></pre>\n<p>Version</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","escaping","ascii"],"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":1,"creation_date":1682417389,"post_id":76099894,"comment_id":134208275,"body_markdown":"`\\n` is the text representation of the new line character `X&#39;0A&#39;`. If the string you are reading represents new lines as &#39;\\n` (two characters), you need to replace those characters manually.","body":"<code>\\n</code> is the text representation of the new line character <code>X&#39;0A&#39;</code>. If the string you are reading represents new lines as &#39;\\n` (two characters), you need to replace those characters manually."}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682419449,"creation_date":1682417954,"answer_id":76100076,"question_id":76099894,"body_markdown":"If you&#39;re reading the text from an input where new line/tab characters are represented as text instead of their ASCII representation, you need to replace those characters in your String before processing them. One easy way to do that is by replacing all matching characters in the String like this (notice the double backslash):\r\n```\r\nstring = string.replace(&quot;\\\\n&quot;, &quot;\\n&quot;).replace(&quot;\\\\t&quot;, &quot;\\t&quot;);\r\n```\r\nAnother way to do so is by using an external library like [`StringEscapeUtils`][1] from Apache:\r\n```\r\nstring = StringEscapeUtils.unescapeJava(string);\r\n```\r\n\r\nIf you have a large text input coming from a streaming source, you can detect those characters on the fly while reading from the stream.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#unescapeJava(java.lang.String)","title":"I need to obtain any ASCII character from a String in Java, but I have issues with escaping","body":"<p>If you're reading the text from an input where new line/tab characters are represented as text instead of their ASCII representation, you need to replace those characters in your String before processing them. One easy way to do that is by replacing all matching characters in the String like this (notice the double backslash):</p>\n<pre><code>string = string.replace(&quot;\\\\n&quot;, &quot;\\n&quot;).replace(&quot;\\\\t&quot;, &quot;\\t&quot;);\n</code></pre>\n<p>Another way to do so is by using an external library like <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#unescapeJava(java.lang.String)\" rel=\"nofollow noreferrer\"><code>StringEscapeUtils</code></a> from Apache:</p>\n<pre><code>string = StringEscapeUtils.unescapeJava(string);\n</code></pre>\n<p>If you have a large text input coming from a streaming source, you can detect those characters on the fly while reading from the stream.</p>\n"},{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682419277,"creation_date":1682419277,"answer_id":76100275,"question_id":76099894,"body_markdown":"\\n and \\t are edge cases you will have to treat seperately. You could for example return the char value of a line break when you detect the string \\n\r\n\r\n    if(myString.equals(&quot;&#39;\\\\n&#39;&quot;)) return 0x0A\r\n\r\n0x0A is the encoding of a line break in a single character (represented as \\n in string litterals), however, if you try to print this character, you will get a line break nothing else","title":"I need to obtain any ASCII character from a String in Java, but I have issues with escaping","body":"<p>\\n and \\t are edge cases you will have to treat seperately. You could for example return the char value of a line break when you detect the string \\n</p>\n<pre><code>if(myString.equals(&quot;'\\\\n'&quot;)) return 0x0A\n</code></pre>\n<p>0x0A is the encoding of a line break in a single character (represented as \\n in string litterals), however, if you try to print this character, you will get a line break nothing else</p>\n"}],"owner":{"account_id":28409905,"reputation":1,"user_id":21733444,"display_name":"Pablo Garc&#237;a Marcos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682419449,"creation_date":1682416829,"question_id":76099894,"body_markdown":"In java, I get from an external resource a String which is a character wrapped in &#39;&#39;. For example.\r\n\r\n- &#39;A&#39;\r\n- &#39;B&#39;\r\n- &#39;\\\\\\n&#39;\r\n- &#39;\\\\\\t&#39;\r\n\r\nI would like to be able to obtain a character from this String, in the case of the examples.\r\n\r\n- A\r\n- B\r\n- \\n\r\n- \\t\r\n\r\n\r\n\r\nWith the first two examples it&#39;s rather easy. I can just use myString.charAt(1). The problem comes with the special characters. With &#39;\\\\\\n&#39; if I use myString.charAt(1) I get \\ while if I use myString.charAt(2) I get n.\r\n\r\nI have tested many solutions and all have failed, including trying to use replace to delete one \\\\, or using many external libraries.\r\n\r\n","title":"I need to obtain any ASCII character from a String in Java, but I have issues with escaping","body":"<p>In java, I get from an external resource a String which is a character wrapped in ''. For example.</p>\n<ul>\n<li>'A'</li>\n<li>'B'</li>\n<li>'\\\\n'</li>\n<li>'\\\\t'</li>\n</ul>\n<p>I would like to be able to obtain a character from this String, in the case of the examples.</p>\n<ul>\n<li>A</li>\n<li>B</li>\n<li>\\n</li>\n<li>\\t</li>\n</ul>\n<p>With the first two examples it's rather easy. I can just use myString.charAt(1). The problem comes with the special characters. With '\\\\n' if I use myString.charAt(1) I get \\ while if I use myString.charAt(2) I get n.</p>\n<p>I have tested many solutions and all have failed, including trying to use replace to delete one \\, or using many external libraries.</p>\n"},{"tags":["java","spring-data"],"comments":[{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1351014279,"post_id":13036159,"comment_id":17697943,"body_markdown":"What do you want to achieve? Maybe AOP is a better approach?","body":"What do you want to achieve? Maybe AOP is a better approach?"},{"owner":{"account_id":945291,"reputation":7350,"user_id":972647,"accept_rate":88,"display_name":"beginner_"},"score":1,"creation_date":1351014795,"post_id":13036159,"comment_id":17698131,"body_markdown":"Don&#39;t use id to determine whether the concerned entity is new or not. the entity is immutable meaning if a user changes it, the system should create a new one with the changed data (or use existing one that equals that data. Thats the only concern i have else spring data + querydsl looks very promising for my project.","body":"Don&#39;t use id to determine whether the concerned entity is new or not. the entity is immutable meaning if a user changes it, the system should create a new one with the changed data (or use existing one that equals that data. Thats the only concern i have else spring data + querydsl looks very promising for my project."},{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1351016268,"post_id":13036159,"comment_id":17698685,"body_markdown":"What about implementing [`Persistable`](http://static.springsource.org/spring-data/data-commons/docs/1.3.2.RELEASE/api/org/springframework/data/domain/Persistable.html)? Would this work for you? Also are you using Spring Data JPA or some other back-end database?","body":"What about implementing <a href=\"http://static.springsource.org/spring-data/data-commons/docs/1.3.2.RELEASE/api/org/springframework/data/domain/Persistable.html\" rel=\"nofollow noreferrer\"><code>Persistable</code></a>? Would this work for you? Also are you using Spring Data JPA or some other back-end database?"},{"owner":{"account_id":945291,"reputation":7350,"user_id":972647,"accept_rate":88,"display_name":"beginner_"},"score":0,"creation_date":1351020275,"post_id":13036159,"comment_id":17700487,"body_markdown":"Would be Spring data JPA. I have all my entites properly annotated. My only concern is the question. How to override save method of Crude or Jpa repository?","body":"Would be Spring data JPA. I have all my entites properly annotated. My only concern is the question. How to override save method of Crude or Jpa repository?"}],"answers":[{"tags":[],"owner":{"account_id":945291,"reputation":7350,"user_id":972647,"accept_rate":88,"display_name":"beginner_"},"down_vote_count":7,"up_vote_count":27,"is_accepted":true,"score":20,"last_activity_date":1355131604,"creation_date":1355131604,"answer_id":13798096,"question_id":13036159,"body_markdown":"Didn&#39;t get this to work nicely so I put my required logic into a service class and left the repositories save method untouched.","title":"Spring Data: Override save method","body":"<p>Didn't get this to work nicely so I put my required logic into a service class and left the repositories save method untouched.</p>\n"},{"tags":[],"owner":{"account_id":2312668,"reputation":381,"user_id":2030452,"display_name":"Balamaci Serban"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1360447661,"creation_date":1360447344,"answer_id":14792094,"question_id":13036159,"body_markdown":"I guess you extend SimpleJpaRepository :\r\n\r\n    public class **CustomSimpleJpaRepository** extends SimpleJpaRepository {\r\n\r\n\t@Transactional\r\n\tpublic &lt;S extends T&gt; S save(S entity) { //do what you want instead }\r\n    }\r\n\r\n\r\nThen make sure this is used instead of the default SimpleJpaRepository by extending:\r\n\r\n    public class CustomJpaRepositoryFactory extends JpaRepositoryFactory {\r\n\r\n        protected &lt;T, ID extends Serializable&gt; JpaRepository&lt;?, ?&gt; getTargetRepository(RepositoryMetadata metadata, EntityManager entityManager) {\r\n\r\n          Class&lt;?&gt; repositoryInterface = metadata.getRepositoryInterface();\r\n          JpaEntityInformation&lt;?, Serializable&gt; entityInformation = getEntityInformation(metadata.getDomainType());\r\n\r\n          SimpleJpaRepository&lt;?, ?&gt; repo = isQueryDslExecutor(repositoryInterface) ? new QueryDslJpaRepository(\r\n                entityInformation, entityManager) : new CustomSimpleJpaRepository(entityInformation, entityManager);\r\n        repo.setLockMetadataProvider(lockModePostProcessor.getLockMetadataProvider());\r\n\r\n          return repo;\r\n      }\r\n    }\r\n\r\nNot done yet, we also need to have your own factory bean to use it in the config xml:\r\n\r\n\r\n    public class CustomRepositoryFactoryBean &lt;T extends JpaRepository&lt;S, ID&gt;, S, ID extends Serializable&gt; extends JpaRepositoryFactoryBean&lt;T, S, ID&gt; {\r\n\r\n    protected RepositoryFactorySupport createRepositoryFactory(EntityManager entityManager) {\r\n        return new **CustomJpaRepositoryFactory**(entityManager);\r\n    }\r\n}\r\n\r\n\r\nthe config:\r\n\r\n    &lt;jpa:repositories base-package=&quot;bla.bla.dao&quot; factory-class=&quot;xxxx.**CustomRepositoryFactoryBean**&quot;/&gt;\r\n\r\nHope it helps.","title":"Spring Data: Override save method","body":"<p>I guess you extend SimpleJpaRepository :</p>\n\n<pre><code>public class **CustomSimpleJpaRepository** extends SimpleJpaRepository {\n\n@Transactional\npublic &lt;S extends T&gt; S save(S entity) { //do what you want instead }\n}\n</code></pre>\n\n<p>Then make sure this is used instead of the default SimpleJpaRepository by extending:</p>\n\n<pre><code>public class CustomJpaRepositoryFactory extends JpaRepositoryFactory {\n\n    protected &lt;T, ID extends Serializable&gt; JpaRepository&lt;?, ?&gt; getTargetRepository(RepositoryMetadata metadata, EntityManager entityManager) {\n\n      Class&lt;?&gt; repositoryInterface = metadata.getRepositoryInterface();\n      JpaEntityInformation&lt;?, Serializable&gt; entityInformation = getEntityInformation(metadata.getDomainType());\n\n      SimpleJpaRepository&lt;?, ?&gt; repo = isQueryDslExecutor(repositoryInterface) ? new QueryDslJpaRepository(\n            entityInformation, entityManager) : new CustomSimpleJpaRepository(entityInformation, entityManager);\n    repo.setLockMetadataProvider(lockModePostProcessor.getLockMetadataProvider());\n\n      return repo;\n  }\n}\n</code></pre>\n\n<p>Not done yet, we also need to have your own factory bean to use it in the config xml:</p>\n\n<pre><code>public class CustomRepositoryFactoryBean &lt;T extends JpaRepository&lt;S, ID&gt;, S, ID extends Serializable&gt; extends JpaRepositoryFactoryBean&lt;T, S, ID&gt; {\n\nprotected RepositoryFactorySupport createRepositoryFactory(EntityManager entityManager) {\n    return new **CustomJpaRepositoryFactory**(entityManager);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>the config:</p>\n\n<pre><code>&lt;jpa:repositories base-package=\"bla.bla.dao\" factory-class=\"xxxx.**CustomRepositoryFactoryBean**\"/&gt;\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2649756,"reputation":27,"user_id":2418225,"display_name":"bhantol2"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1373697388,"creation_date":1373697388,"answer_id":17627690,"question_id":13036159,"body_markdown":"Use JPA Event listeners like @PrePersist, @PreUpdate. This will work if the underlying JPA provider supports this features. This is JPA 2 feature so the latest Hibernate, EclipseLink etc should support it.","title":"Spring Data: Override save method","body":"<p>Use JPA Event listeners like @PrePersist, @PreUpdate. This will work if the underlying JPA provider supports this features. This is JPA 2 feature so the latest Hibernate, EclipseLink etc should support it.</p>\n"},{"tags":[],"owner":{"account_id":1580105,"reputation":1275,"user_id":1465635,"accept_rate":50,"display_name":"Mauro Molinari"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1615411583,"creation_date":1426154737,"answer_id":29006761,"question_id":13036159,"body_markdown":"Simply create your custom interface as usual and declare there the methods you want to ovverride with the same signature of the one exposed by `CrudRepository` (or `JpaRepository`, etc.). Suppose you have a `MyEntity` entity and a `MyEntityRepository` repository and you want to override the default auto-generated `save` method of `MyEntityRepository` which takes an only entity instance, then define:\r\n\r\n    public interface MyEntityRepositoryCustom {\r\n      &lt;S extends MyEntity&gt; S save(S entity);\r\n    }\r\n\r\nand implement this method as you like in your `MyEntityRepositoryImpl`, as usual:\r\n\r\n    @Transactional\r\n    public class MyEntityRepositoryImpl implements MyEntityRepositoryCustom {\r\n      public &lt;S extends MyEntity&gt; S save(S entity) {\r\n        // your implementation\r\n      }\r\n    }\r\n\r\nAnd then, as usual, let `MyEntityRepository` extend `MyEntityRepositoryCustom`.\r\n\r\nDoing this, Spring Data JPA will call the `save` method of your `MyEntityRepositoryImpl` instead of the default implementation.\r\nAt least this works for me with the `delete` method in Spring Data JPA 1.7.2.\r\n\r\n---\r\n## &quot;ambiguous reference&quot; error\r\n\r\nAs reported by some of the commenters, probably starting from a certain Spring Data JPA version or javac version (I can&#39;t say when it started to fail, but I know for sure that it worked before) the javac compiler began to give a compilation error on the overridden method: &quot;ambiguous reference&quot;.\r\nEclipse JDT does not return this error and code works at runtime, in fact I opened [Bug 463770][1] for this reason: either it&#39;s a javac bug or a JDT bug that does not conform to javac.\r\nThis said, Lucas has posted the workaround below, which at a first sight might seem to be identical to the one described above. Actually, the difference stands on the `MyEntityRepositoryCustom`, declaration which **must** include the generic type `&lt;S&gt;`, even if it&#39;s apparently useless. So, if you encounter this error change the custom interface declaration as:\r\n\r\n    public interface MyEntityRepositoryCustom&lt;S&gt; {\r\n      &lt;S extends MyEntity&gt; S save(S entity);\r\n    }\r\n\r\nand let the standard repository interface implement `MyEntityRepositoryCustom&lt;MyEntity&gt;` rather than just `MyEntityRepositoryCustom`.\r\n\r\nHowever, if you don&#39;t want to generify your custom interface, you can extract a separate fragment interface particulary for the `save` method [2]. Then the solution looks as follows:\r\n\r\n    public interface MyEntityRepositoryCustom {\r\n      // custom methods\r\n    }\r\n\r\n    public interface CustomizedSaveRepository&lt;T&gt; {\r\n      &lt;S extends T&gt; S save(S entity);\r\n    }\r\n\r\n    @Transactional\r\n    public class MyEntityRepositoryImpl implements MyEntityRepositoryCustom,\r\n     CustomizedSaveRepository&lt;MyEntity&gt; {\r\n      \r\n      @Override\r\n      public MyEntity save(MyEntity entity) {\r\n        // your implementation for CustomizedSaveRepository#save\r\n      }\r\n\r\n      // implementations of MyEntityRepositoryCustom\r\n    }\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=463770\r\n  [2]: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior","title":"Spring Data: Override save method","body":"<p>Simply create your custom interface as usual and declare there the methods you want to ovverride with the same signature of the one exposed by <code>CrudRepository</code> (or <code>JpaRepository</code>, etc.). Suppose you have a <code>MyEntity</code> entity and a <code>MyEntityRepository</code> repository and you want to override the default auto-generated <code>save</code> method of <code>MyEntityRepository</code> which takes an only entity instance, then define:</p>\n<pre><code>public interface MyEntityRepositoryCustom {\n  &lt;S extends MyEntity&gt; S save(S entity);\n}\n</code></pre>\n<p>and implement this method as you like in your <code>MyEntityRepositoryImpl</code>, as usual:</p>\n<pre><code>@Transactional\npublic class MyEntityRepositoryImpl implements MyEntityRepositoryCustom {\n  public &lt;S extends MyEntity&gt; S save(S entity) {\n    // your implementation\n  }\n}\n</code></pre>\n<p>And then, as usual, let <code>MyEntityRepository</code> extend <code>MyEntityRepositoryCustom</code>.</p>\n<p>Doing this, Spring Data JPA will call the <code>save</code> method of your <code>MyEntityRepositoryImpl</code> instead of the default implementation.\nAt least this works for me with the <code>delete</code> method in Spring Data JPA 1.7.2.</p>\n<hr />\n<h2>&quot;ambiguous reference&quot; error</h2>\n<p>As reported by some of the commenters, probably starting from a certain Spring Data JPA version or javac version (I can't say when it started to fail, but I know for sure that it worked before) the javac compiler began to give a compilation error on the overridden method: &quot;ambiguous reference&quot;.\nEclipse JDT does not return this error and code works at runtime, in fact I opened <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=463770\" rel=\"noreferrer\">Bug 463770</a> for this reason: either it's a javac bug or a JDT bug that does not conform to javac.\nThis said, Lucas has posted the workaround below, which at a first sight might seem to be identical to the one described above. Actually, the difference stands on the <code>MyEntityRepositoryCustom</code>, declaration which <strong>must</strong> include the generic type <code>&lt;S&gt;</code>, even if it's apparently useless. So, if you encounter this error change the custom interface declaration as:</p>\n<pre><code>public interface MyEntityRepositoryCustom&lt;S&gt; {\n  &lt;S extends MyEntity&gt; S save(S entity);\n}\n</code></pre>\n<p>and let the standard repository interface implement <code>MyEntityRepositoryCustom&lt;MyEntity&gt;</code> rather than just <code>MyEntityRepositoryCustom</code>.</p>\n<p>However, if you don't want to generify your custom interface, you can extract a separate fragment interface particulary for the <code>save</code> method <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">2</a>. Then the solution looks as follows:</p>\n<pre><code>public interface MyEntityRepositoryCustom {\n  // custom methods\n}\n\npublic interface CustomizedSaveRepository&lt;T&gt; {\n  &lt;S extends T&gt; S save(S entity);\n}\n\n@Transactional\npublic class MyEntityRepositoryImpl implements MyEntityRepositoryCustom,\n CustomizedSaveRepository&lt;MyEntity&gt; {\n  \n  @Override\n  public MyEntity save(MyEntity entity) {\n    // your implementation for CustomizedSaveRepository#save\n  }\n\n  // implementations of MyEntityRepositoryCustom\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6112597,"reputation":334,"user_id":4768561,"display_name":"Ignat Sachivko"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1452871264,"creation_date":1452871264,"answer_id":34814303,"question_id":13036159,"body_markdown":"To provide override of default generated save method you need to use aggregation of Spring Data repository implementation inside your own custom repository implementation.\r\n\r\nRepository interface:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, String&gt;{\r\n    \r\n    }\r\n\r\nYour repository implementation:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Repository(&quot;customUserRepository&quot;)\r\n    public class CustomUserRepository implements UserRepository {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;userRepository&quot;) // inject Spring implementation here\r\n        private UserRepository userRepository;\r\n    \r\n        public User save(User user) {\r\n            User user = userRepository.save(entity);\r\n            // Your custom code goes here\r\n            return user;\r\n        }\r\n    \r\n        // Delegate other methods here ...\r\n        \r\n        @Override\r\n        public User findOne(String s) {\r\n            return userRepository.findOne(s);\r\n        }\r\n    }\r\n\r\nThen use your custom implementation in your service:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;customUserRepository&quot;)\r\n    private UserRepository userRepository;\r\n","title":"Spring Data: Override save method","body":"<p>To provide override of default generated save method you need to use aggregation of Spring Data repository implementation inside your own custom repository implementation.</p>\n\n<p>Repository interface:\n</p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, String&gt;{\n\n}\n</code></pre>\n\n<p>Your repository implementation:\n</p>\n\n<pre><code>@Repository(\"customUserRepository\")\npublic class CustomUserRepository implements UserRepository {\n\n    @Autowired\n    @Qualifier(\"userRepository\") // inject Spring implementation here\n    private UserRepository userRepository;\n\n    public User save(User user) {\n        User user = userRepository.save(entity);\n        // Your custom code goes here\n        return user;\n    }\n\n    // Delegate other methods here ...\n\n    @Override\n    public User findOne(String s) {\n        return userRepository.findOne(s);\n    }\n}\n</code></pre>\n\n<p>Then use your custom implementation in your service:\n</p>\n\n<pre><code>@Autowired\n@Qualifier(\"customUserRepository\")\nprivate UserRepository userRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5774113,"reputation":3086,"user_id":4556720,"accept_rate":96,"display_name":"ytterrr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516447709,"creation_date":1516447709,"answer_id":48355583,"question_id":13036159,"body_markdown":"This could be helpful if you are going to reuse the original method. Just inject `EntityManager` in the implementing class.\r\n\r\n    public interface MyEntityRepositoryCustom {\r\n      &lt;S extends MyEntity&gt; S save(S entity);\r\n    }\r\n    \r\n    public class MyEntityRepositoryImpl implements MyEntityRepositoryCustom {\r\n    \r\n        // optionally specify unitName, if there are more than one\r\n        @PersistenceContext(unitName = PRIMARY_ENTITY_MANAGER_FACTORY)\r\n        private EntityManager entityManager;\r\n    \r\n        /**\r\n         * @see org.springframework.data.jpa.repository.support.SimpleJpaRepository\r\n         */\r\n        @Transactional\r\n        public &lt;S extends MyEntity&gt; S save(S entity) {\r\n            // do your logic here\r\n            JpaEntityInformation&lt;MyEntity, ?&gt; entityInformation = JpaEntityInformationSupport.getMetadata(MyEntity.class, entityManager);\r\n            if (entityInformation.isNew(entity)) {\r\n                entityManager.persist(entity);\r\n                return entity;\r\n            } else {\r\n                return entityManager.merge(entity);\r\n            }\r\n        }\r\n    }","title":"Spring Data: Override save method","body":"<p>This could be helpful if you are going to reuse the original method. Just inject <code>EntityManager</code> in the implementing class.</p>\n\n<pre><code>public interface MyEntityRepositoryCustom {\n  &lt;S extends MyEntity&gt; S save(S entity);\n}\n\npublic class MyEntityRepositoryImpl implements MyEntityRepositoryCustom {\n\n    // optionally specify unitName, if there are more than one\n    @PersistenceContext(unitName = PRIMARY_ENTITY_MANAGER_FACTORY)\n    private EntityManager entityManager;\n\n    /**\n     * @see org.springframework.data.jpa.repository.support.SimpleJpaRepository\n     */\n    @Transactional\n    public &lt;S extends MyEntity&gt; S save(S entity) {\n        // do your logic here\n        JpaEntityInformation&lt;MyEntity, ?&gt; entityInformation = JpaEntityInformationSupport.getMetadata(MyEntity.class, entityManager);\n        if (entityInformation.isNew(entity)) {\n            entityManager.persist(entity);\n            return entity;\n        } else {\n            return entityManager.merge(entity);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7049843,"reputation":167,"user_id":5399343,"display_name":"M.Paniccia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553069038,"creation_date":1553069038,"answer_id":55256038,"question_id":13036159,"body_markdown":"If you are using interfaces only you can use default methods to do simple overrides of the `CrudRepository` or `JpaRepository`:\r\n\r\n```\r\n\r\npublic interface MyCustomRepository extends CrudRepository&lt;T, ID&gt; {\r\n\r\n  @Override\r\n  default &lt;S extends T&gt; S save(S entity)\r\n  {\r\n    throw new UnsupportedOperationException(&quot;writes not allowed&quot;);\r\n  }\r\n}","title":"Spring Data: Override save method","body":"<p>If you are using interfaces only you can use default methods to do simple overrides of the <code>CrudRepository</code> or <code>JpaRepository</code>:</p>\n\n<pre><code>\npublic interface MyCustomRepository extends CrudRepository&lt;T, ID&gt; {\n\n  @Override\n  default &lt;S extends T&gt; S save(S entity)\n  {\n    throw new UnsupportedOperationException(\"writes not allowed\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133678,"reputation":5377,"user_id":335227,"accept_rate":88,"display_name":"Erin Drummond"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1557955789,"creation_date":1557955789,"answer_id":56157882,"question_id":13036159,"body_markdown":"I am using Spring Boot 2.1.4 on OpenJDK 11 and also keep getting the `ambiguous reference` error from the compiler (although the Eclipse JDT compiler that my IDE is using has no problem with it, so I didn&#39;t discover this issue until I tried to build it outside my IDE).\r\n\r\nI basically ended up defining a method with a different name in my extension interface, and then used a `default` override in my main repository interface to call it when the normal `save()` was called.\r\n\r\nHere is an example:\r\n\r\n**Define the interface for your custom logic as usual:**\r\n```java\r\npublic interface MyEntityRepositoryCustomSaveAction {\r\n    public MyEntity saveSafely(MyEntity entity);\r\n}\r\n```\r\n\r\n**Make your repository extend that interface:**\r\n```java\r\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, MyEntityId&gt;,\r\n  MyEntityRepositoryCustomSaveAction {\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    default MyEntity save(MyEntity entity)\r\n    {\r\n        return saveSafely(entity);\r\n    }\r\n}\r\n```\r\nNote that we have overridden save() from `JpaRepository` (well, really `CrudRepository` which `JpaRepository` extends) to call our custom method. The compiler warns about the unchecked conversion, so up to you if you want to silence it with `@SuppressWarnings` .\r\n\r\n**Follow the convention for the Impl class with your custom logic**\r\n```java\r\npublic class MyEntityRepositoryCustomSaveActionImpl implements \r\n  MyEntityRepositoryCustomSaveAction {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public MyEntity saveSafely(MyEntity entity) {\r\n       //whatever custom logic you need\r\n    }\r\n\r\n}\r\n```","title":"Spring Data: Override save method","body":"<p>I am using Spring Boot 2.1.4 on OpenJDK 11 and also keep getting the <code>ambiguous reference</code> error from the compiler (although the Eclipse JDT compiler that my IDE is using has no problem with it, so I didn't discover this issue until I tried to build it outside my IDE).</p>\n\n<p>I basically ended up defining a method with a different name in my extension interface, and then used a <code>default</code> override in my main repository interface to call it when the normal <code>save()</code> was called.</p>\n\n<p>Here is an example:</p>\n\n<p><strong>Define the interface for your custom logic as usual:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEntityRepositoryCustomSaveAction {\n    public MyEntity saveSafely(MyEntity entity);\n}\n</code></pre>\n\n<p><strong>Make your repository extend that interface:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, MyEntityId&gt;,\n  MyEntityRepositoryCustomSaveAction {\n\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    default MyEntity save(MyEntity entity)\n    {\n        return saveSafely(entity);\n    }\n}\n</code></pre>\n\n<p>Note that we have overridden save() from <code>JpaRepository</code> (well, really <code>CrudRepository</code> which <code>JpaRepository</code> extends) to call our custom method. The compiler warns about the unchecked conversion, so up to you if you want to silence it with <code>@SuppressWarnings</code> .</p>\n\n<p><strong>Follow the convention for the Impl class with your custom logic</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEntityRepositoryCustomSaveActionImpl implements \n  MyEntityRepositoryCustomSaveAction {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public MyEntity saveSafely(MyEntity entity) {\n       //whatever custom logic you need\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236329,"reputation":4384,"user_id":503743,"accept_rate":67,"display_name":"Mariano Ruiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562358093,"creation_date":1562358093,"answer_id":56908860,"question_id":13036159,"body_markdown":"The solution from @ytterrr works but for older Spring Data versions, for **Spring Data 2.1** at least, this is the way to not just override any repository method but also access to the underlying features (access to the entity manager to persist, delete, find...):\r\n\r\n```java\r\npublic interface MyEntityRepositoryCustom {\r\n  &lt;S extends MyEntity&gt; S save(S entity);\r\n}\r\n\r\npublic class MyEntityRepositoryImpl implements MyEntityRepositoryCustom {\r\n\r\n\tfinal JpaEntityInformation&lt;MyEntity, ?&gt; entityInformation;\r\n\tEntityManager em;\r\n\r\n\tpublic MyEntityRepositoryImpl(EntityManager entityManager) {\r\n\t\tthis.entityInformation = JpaEntityInformationSupport.getEntityInformation(MyEntity.class, entityManager);\r\n\t\tthis.em = entityManager;\r\n\t}\r\n\r\n    /**\r\n     * @see org.springframework.data.jpa.repository.support.SimpleJpaRepository\r\n     */\r\n    @Transactional\r\n    public &lt;S extends MyEntity&gt; S save(S entity) {\r\n\r\n        // do your logic here\r\n\r\n        if (entityInformation.isNew(entity)) {\r\n            em.persist(entity);\r\n            return entity;\r\n        } else {\r\n            return em.merge(entity);\r\n        }\r\n    }\r\n}\r\n```","title":"Spring Data: Override save method","body":"<p>The solution from @ytterrr works but for older Spring Data versions, for <strong>Spring Data 2.1</strong> at least, this is the way to not just override any repository method but also access to the underlying features (access to the entity manager to persist, delete, find...):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEntityRepositoryCustom {\n  &lt;S extends MyEntity&gt; S save(S entity);\n}\n\npublic class MyEntityRepositoryImpl implements MyEntityRepositoryCustom {\n\n    final JpaEntityInformation&lt;MyEntity, ?&gt; entityInformation;\n    EntityManager em;\n\n    public MyEntityRepositoryImpl(EntityManager entityManager) {\n        this.entityInformation = JpaEntityInformationSupport.getEntityInformation(MyEntity.class, entityManager);\n        this.em = entityManager;\n    }\n\n    /**\n     * @see org.springframework.data.jpa.repository.support.SimpleJpaRepository\n     */\n    @Transactional\n    public &lt;S extends MyEntity&gt; S save(S entity) {\n\n        // do your logic here\n\n        if (entityInformation.isNew(entity)) {\n            em.persist(entity);\n            return entity;\n        } else {\n            return em.merge(entity);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35897,"reputation":3089,"user_id":102017,"accept_rate":89,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1563811208,"creation_date":1563811208,"answer_id":57149762,"question_id":13036159,"body_markdown":"In order to properly override the save method, you have to create a interface with the proper signature of the original method declared on CrudRepository, including the generics\r\n\r\n    public interface MyCustomRepository&lt;T&gt; {\r\n        &lt;S extends T&gt; S save(S entity);\r\n    }\r\n\r\nThen, create your implementation ( the suffix Impl is important at the name of the class)\r\n\r\n    public class MyCustomRepositoryImpl implements MyCustomRepository&lt;MyBean&gt; {\r\n    \r\n        @Autowired\r\n        private EntityManager entityManager;\r\n            \r\n        \r\n        @Override\r\n    \tpublic &lt;S extends MyBean&gt; S save(S entity) {\r\n           /**\r\n             your custom implementation comes here ...\r\n             i think the default one is just        \r\n            return this.entityManager.persist(entity);\r\n           */\r\n    \t}\r\n        \r\n    }\r\n\r\nFinally, extend your repository with the previously created interface\r\n\r\n    @RepositoryRestResource\r\n    @Repository\r\n    public interface MyBeanRepository extends PagingAndSortingRepository&lt;MyBean, Long&gt;, MyCustomRepository&lt;MyBean&gt; {}\r\n\r\n","title":"Spring Data: Override save method","body":"<p>In order to properly override the save method, you have to create a interface with the proper signature of the original method declared on CrudRepository, including the generics</p>\n\n<pre><code>public interface MyCustomRepository&lt;T&gt; {\n    &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n\n<p>Then, create your implementation ( the suffix Impl is important at the name of the class)</p>\n\n<pre><code>public class MyCustomRepositoryImpl implements MyCustomRepository&lt;MyBean&gt; {\n\n    @Autowired\n    private EntityManager entityManager;\n\n\n    @Override\n    public &lt;S extends MyBean&gt; S save(S entity) {\n       /**\n         your custom implementation comes here ...\n         i think the default one is just        \n        return this.entityManager.persist(entity);\n       */\n    }\n\n}\n</code></pre>\n\n<p>Finally, extend your repository with the previously created interface</p>\n\n<pre><code>@RepositoryRestResource\n@Repository\npublic interface MyBeanRepository extends PagingAndSortingRepository&lt;MyBean, Long&gt;, MyCustomRepository&lt;MyBean&gt; {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601283073,"creation_date":1601281314,"answer_id":64098456,"question_id":13036159,"body_markdown":"What works for me (Spring boot 2.x Java 11), even if not perfectly clean.\r\nIt compiles with IDE and Maven and Gradle. The above solution by Lucas does not work for me for the JpaRepository.\r\n\r\n\r\n    public interface MyRepo extends JpaRepository&lt;MyType, Long&gt;, MyRepoCustom{\r\n\r\n       //Implemented in MyRepoCustom\r\n       public MyType save(MyType mytypeEntity);\r\n    }\r\n\r\nThe custom interface (repeats the declaration, which is not nice):\r\n\r\n    public interface MyRepoCustom{\r\n        public MyType save(MyType mytypeEntity);\r\n    }\r\n\r\nThe custom Impl:\r\n\r\n    @Repository\r\n    public class MyRepoImpl implements MyRepoCustom{\r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        @Transactional\r\n        public MyType save(MyType mytypeEntity) {\r\n           //type safe implementation\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Data: Override save method","body":"<p>What works for me (Spring boot 2.x Java 11), even if not perfectly clean.\nIt compiles with IDE and Maven and Gradle. The above solution by Lucas does not work for me for the JpaRepository.</p>\n<pre><code>public interface MyRepo extends JpaRepository&lt;MyType, Long&gt;, MyRepoCustom{\n\n   //Implemented in MyRepoCustom\n   public MyType save(MyType mytypeEntity);\n}\n</code></pre>\n<p>The custom interface (repeats the declaration, which is not nice):</p>\n<pre><code>public interface MyRepoCustom{\n    public MyType save(MyType mytypeEntity);\n}\n</code></pre>\n<p>The custom Impl:</p>\n<pre><code>@Repository\npublic class MyRepoImpl implements MyRepoCustom{\n    @PersistenceContext\n    private EntityManager em;\n\n    @Transactional\n    public MyType save(MyType mytypeEntity) {\n       //type safe implementation\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2531006,"reputation":101,"user_id":2199312,"display_name":"Johan Hendrik Ehlers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612030000,"creation_date":1612030000,"answer_id":65971456,"question_id":13036159,"body_markdown":"I am in the process of updating an application from Spring Boot 1.5 to Spring Boot 2.0, I found that suddenly some of the custom behavior we have in our save methods was not working anymore, turned out we had to update the signature of the save methods on our repositories to work. Note that I had to add the generic class parameter and the generic parameter on the function to make both the build inside Eclipse and via the CLI (gradle) to work.\r\n\r\nSo I changed my custom repository interface like this:\r\n\r\n```\r\ninterface ScoreRepositoryCustom {\r\n  Score save(Score score);\r\n}\r\n```\r\n\r\nto this (to match the signature in CrudRepository):\r\n\r\n```\r\ninterface ScoreRepositoryCustom&lt;T&gt; {\r\n  &lt;S extends T&gt; S save(S to);\r\n}\r\n```","title":"Spring Data: Override save method","body":"<p>I am in the process of updating an application from Spring Boot 1.5 to Spring Boot 2.0, I found that suddenly some of the custom behavior we have in our save methods was not working anymore, turned out we had to update the signature of the save methods on our repositories to work. Note that I had to add the generic class parameter and the generic parameter on the function to make both the build inside Eclipse and via the CLI (gradle) to work.</p>\n<p>So I changed my custom repository interface like this:</p>\n<pre><code>interface ScoreRepositoryCustom {\n  Score save(Score score);\n}\n</code></pre>\n<p>to this (to match the signature in CrudRepository):</p>\n<pre><code>interface ScoreRepositoryCustom&lt;T&gt; {\n  &lt;S extends T&gt; S save(S to);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2610521,"reputation":220,"user_id":2260704,"display_name":"jpep1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682419365,"creation_date":1682419365,"answer_id":76100285,"question_id":13036159,"body_markdown":"A solution to call the default super save method implementation to avoid call entityManager.persist(), and safely override all save / saveAndFlush / saveAll methods in one override.\r\n\r\nThe interface :\r\n\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, UUID&gt;, MyEntityRepositoryCustom&lt;MyEntity&gt; {\r\n\r\n    }\r\n\r\nThe custom interface :\r\n\r\n    public interface MyEntityRepositoryCustom&lt;T&gt; {\r\n        &lt;S extends T&gt; S save(S entity);\r\n    }\r\n\r\nThe custom implementation :\r\n\r\n    public class MyEntityRepositoryImpl extends SimpleJpaRepository&lt;MyEntity, UUID&gt;\r\n    implements MyEntityRepositoryCustom&lt;MyEntity&gt; {\r\n    \r\n        public MyEntityRepositoryImpl(EntityManager entityManager) {\r\n            super(MyEntity.class, entityManager);\r\n        }\r\n\r\n        @Override\r\n        public &lt;S extends MyEntity&gt; S save(S myEntity) {\r\n            // my custom implementation (business or technical) on save and call super default execution!\r\n            return super.save(myEntity);\r\n        }\r\n\r\n    }\r\n\r\nThe extra of this pattern, the saveAll and the saveAndFlush methods call the *overrided save* from the custom implementation ! That way, your specific behaviour is safely executed in all save alternative methods. Even if an other developer call indifferently one of save method without knowledge about overridden method and specific behaviour to safely preserve.\r\n\r\nExemple of use :\r\n\r\n    @Autowired\r\n    private MyEntityRepository myEntityRepository;\r\n\r\n    myEntityRepository.save(new MyEntity());\r\n\r\n    myEntityRepository.saveAndFlush(new MyEntity());\r\n\r\n    myEntityRepository.saveAll(List.of(new MyEntity()));","title":"Spring Data: Override save method","body":"<p>A solution to call the default super save method implementation to avoid call entityManager.persist(), and safely override all save / saveAndFlush / saveAll methods in one override.</p>\n<p>The interface :</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, UUID&gt;, MyEntityRepositoryCustom&lt;MyEntity&gt; {\n\n}\n</code></pre>\n<p>The custom interface :</p>\n<pre><code>public interface MyEntityRepositoryCustom&lt;T&gt; {\n    &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n<p>The custom implementation :</p>\n<pre><code>public class MyEntityRepositoryImpl extends SimpleJpaRepository&lt;MyEntity, UUID&gt;\nimplements MyEntityRepositoryCustom&lt;MyEntity&gt; {\n\n    public MyEntityRepositoryImpl(EntityManager entityManager) {\n        super(MyEntity.class, entityManager);\n    }\n\n    @Override\n    public &lt;S extends MyEntity&gt; S save(S myEntity) {\n        // my custom implementation (business or technical) on save and call super default execution!\n        return super.save(myEntity);\n    }\n\n}\n</code></pre>\n<p>The extra of this pattern, the saveAll and the saveAndFlush methods call the <em>overrided save</em> from the custom implementation ! That way, your specific behaviour is safely executed in all save alternative methods. Even if an other developer call indifferently one of save method without knowledge about overridden method and specific behaviour to safely preserve.</p>\n<p>Exemple of use :</p>\n<pre><code>@Autowired\nprivate MyEntityRepository myEntityRepository;\n\nmyEntityRepository.save(new MyEntity());\n\nmyEntityRepository.saveAndFlush(new MyEntity());\n\nmyEntityRepository.saveAll(List.of(new MyEntity()));\n</code></pre>\n"}],"owner":{"account_id":945291,"reputation":7350,"user_id":972647,"accept_rate":88,"display_name":"beginner_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104856,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":13798096,"answer_count":13,"score":58,"last_activity_date":1682419365,"creation_date":1351013996,"question_id":13036159,"body_markdown":"I&#39;m considering spring data for a project. Is it possible to override the per default generated save method? And if yes, how?","title":"Spring Data: Override save method","body":"<p>I'm considering spring data for a project. Is it possible to override the per default generated save method? And if yes, how?</p>\n"},{"tags":["java","java-module"],"answers":[{"tags":[],"owner":{"account_id":1596247,"reputation":388,"user_id":1478302,"display_name":"Seldon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682419148,"creation_date":1682419148,"answer_id":76100253,"question_id":74639041,"body_markdown":"Yes, only the whole module can be added with the `requires` clause. This is necessary to deliver the reliable configuration provided by the module system. If you were able to exclude some packages at will, you could get errors at runtime reporting missing classes because the packages were actually needed.\r\n\r\nIf you want to trim the size of your image further, you could look into ahead-of-time compilation offered by GraalVM, which has a &quot;tree-shaking&quot; aspect to it.","title":"Java Modules - Adding modules, but not everything from it?","body":"<p>Yes, only the whole module can be added with the <code>requires</code> clause. This is necessary to deliver the reliable configuration provided by the module system. If you were able to exclude some packages at will, you could get errors at runtime reporting missing classes because the packages were actually needed.</p>\n<p>If you want to trim the size of your image further, you could look into ahead-of-time compilation offered by GraalVM, which has a &quot;tree-shaking&quot; aspect to it.</p>\n"}],"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76100253,"answer_count":1,"score":0,"last_activity_date":1682419148,"creation_date":1669884039,"question_id":74639041,"body_markdown":"I have a simple Spring Boot application, described here \r\n\r\nhttps://stackoverflow.com/questions/74633025/java-modules-simple-spring-boot-application-create-custom-runtime \r\n\r\nwhich isn&#39;t a modularized application (no `module-info.java`).\r\n\r\nAs described in that post, when creating a custom runtime image, to make that simple application run, I have to add the `java.desktop` module.\r\n\r\n    jlink --module-path $JAVA_HOME/jmods --add-modules java.desktop --output mycustomrt\r\n\r\nWhen a module is added, must always the whole module be added, or can it be further reduced to just the needed/used packages (artifacts)?\r\n\r\nOf course in that given command there is no direct association to my simple application, so it would be logical that the whole `java.desktop` module is included, also it&#39;s transitive declared modules.\r\n\r\nBut looking into the documentation at \r\n\r\nhttps://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/module-summary.html\r\n\r\nI see, that `java.desktop` contains a lot of packages that my simple application doesn&#39;t need\r\n\r\n    exports java.applet\r\n    exports java.awt\r\n    exports java.awt.color\r\n    exports java.awt.desktop\r\n    exports java.awt.dnd\r\n    exports java.awt.event\r\n    exports java.awt.font\r\n    exports java.awt.geom\r\n    exports java.awt.im\r\n    exports java.awt.im.spi\r\n    exports java.awt.image\r\n    exports java.awt.image.renderable\r\n    exports java.awt.print\r\n    exports java.beans\r\n    exports java.beans.beancontext\r\n    exports javax.accessibility\r\n    exports javax.imageio\r\n    exports javax.imageio.event\r\n    exports javax.imageio.metadata\r\n    exports javax.imageio.plugins.bmp\r\n    exports javax.imageio.plugins.jpeg\r\n    exports javax.imageio.plugins.tiff\r\n    exports javax.imageio.spi\r\n    exports javax.imageio.stream\r\n    exports javax.print\r\n    exports javax.print.attribute\r\n    exports javax.print.attribute.standard\r\n    exports javax.print.event\r\n    exports javax.sound.midi\r\n    exports javax.sound.midi.spi\r\n    exports javax.sound.sampled\r\n    exports javax.sound.sampled.spi\r\n    exports javax.swing\r\n    exports javax.swing.border\r\n    exports javax.swing.colorchooser\r\n    exports javax.swing.event\r\n    exports javax.swing.filechooser\r\n    exports javax.swing.plaf\r\n    exports javax.swing.plaf.basic\r\n    exports javax.swing.plaf.metal\r\n    exports javax.swing.plaf.multi\r\n    exports javax.swing.plaf.nimbus\r\n    exports javax.swing.plaf.synth\r\n    exports javax.swing.table\r\n    exports javax.swing.text\r\n    exports javax.swing.text.html\r\n    exports javax.swing.text.html.parser\r\n    exports javax.swing.text.rtf\r\n    exports javax.swing.tree\r\n    exports javax.swing.undo\r\n\r\n`Applet`, `AWT`, `Swing`, also something regarding sound, which definitely isn&#39;t needed.","title":"Java Modules - Adding modules, but not everything from it?","body":"<p>I have a simple Spring Boot application, described here</p>\n<p><a href=\"https://stackoverflow.com/questions/74633025/java-modules-simple-spring-boot-application-create-custom-runtime\">Java Modules - Simple Spring Boot application, create custom runtime</a></p>\n<p>which isn't a modularized application (no <code>module-info.java</code>).</p>\n<p>As described in that post, when creating a custom runtime image, to make that simple application run, I have to add the <code>java.desktop</code> module.</p>\n<pre><code>jlink --module-path $JAVA_HOME/jmods --add-modules java.desktop --output mycustomrt\n</code></pre>\n<p>When a module is added, must always the whole module be added, or can it be further reduced to just the needed/used packages (artifacts)?</p>\n<p>Of course in that given command there is no direct association to my simple application, so it would be logical that the whole <code>java.desktop</code> module is included, also it's transitive declared modules.</p>\n<p>But looking into the documentation at</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/module-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/module-summary.html</a></p>\n<p>I see, that <code>java.desktop</code> contains a lot of packages that my simple application doesn't need</p>\n<pre><code>exports java.applet\nexports java.awt\nexports java.awt.color\nexports java.awt.desktop\nexports java.awt.dnd\nexports java.awt.event\nexports java.awt.font\nexports java.awt.geom\nexports java.awt.im\nexports java.awt.im.spi\nexports java.awt.image\nexports java.awt.image.renderable\nexports java.awt.print\nexports java.beans\nexports java.beans.beancontext\nexports javax.accessibility\nexports javax.imageio\nexports javax.imageio.event\nexports javax.imageio.metadata\nexports javax.imageio.plugins.bmp\nexports javax.imageio.plugins.jpeg\nexports javax.imageio.plugins.tiff\nexports javax.imageio.spi\nexports javax.imageio.stream\nexports javax.print\nexports javax.print.attribute\nexports javax.print.attribute.standard\nexports javax.print.event\nexports javax.sound.midi\nexports javax.sound.midi.spi\nexports javax.sound.sampled\nexports javax.sound.sampled.spi\nexports javax.swing\nexports javax.swing.border\nexports javax.swing.colorchooser\nexports javax.swing.event\nexports javax.swing.filechooser\nexports javax.swing.plaf\nexports javax.swing.plaf.basic\nexports javax.swing.plaf.metal\nexports javax.swing.plaf.multi\nexports javax.swing.plaf.nimbus\nexports javax.swing.plaf.synth\nexports javax.swing.table\nexports javax.swing.text\nexports javax.swing.text.html\nexports javax.swing.text.html.parser\nexports javax.swing.text.rtf\nexports javax.swing.tree\nexports javax.swing.undo\n</code></pre>\n<p><code>Applet</code>, <code>AWT</code>, <code>Swing</code>, also something regarding sound, which definitely isn't needed.</p>\n"},{"tags":["java","spring-boot","spring-micrometer"],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682418097,"creation_date":1682418097,"question_id":76100104,"body_markdown":"I&#39;ve got a `Spring Boot 3 WebFlux` application which has actuator on the classpath with enabled metrics. However, going to `/actuator/prometheus` I can&#39;t see the `http.metrics`. I realize that there were some changes, however those metrics should be out of the box from my understanding, espescially that I can see other kind of metrics such as `jvm`, `logging` etc.\r\n\r\nSince we use hexagonal architecture in the project our adapter for web has the following dependencies:\r\n\r\n\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    implementation(&quot;org.springdoc:springdoc-openapi-starter-webflux-ui&quot;)\r\n\r\n    implementation(&quot;io.micrometer:micrometer-registry-prometheus&quot;)\r\n\r\n\r\nAll of these are in version `3.0.4`","title":"Spring Boot 3 WebFlux lacks http metrics","body":"<p>I've got a <code>Spring Boot 3 WebFlux</code> application which has actuator on the classpath with enabled metrics. However, going to <code>/actuator/prometheus</code> I can't see the <code>http.metrics</code>. I realize that there were some changes, however those metrics should be out of the box from my understanding, espescially that I can see other kind of metrics such as <code>jvm</code>, <code>logging</code> etc.</p>\n<p>Since we use hexagonal architecture in the project our adapter for web has the following dependencies:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\nimplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-webflux-ui&quot;)\n\nimplementation(&quot;io.micrometer:micrometer-registry-prometheus&quot;)\n</code></pre>\n<p>All of these are in version <code>3.0.4</code></p>\n"},{"tags":["java","selenium","selenium-chromedriver","selenium-grid","selenium4"],"comments":[{"owner":{"account_id":2511254,"reputation":1670,"user_id":2183687,"accept_rate":70,"display_name":"Jadam"},"score":0,"creation_date":1678300607,"post_id":74124460,"comment_id":133507675,"body_markdown":"any luck ever getting this resolved?","body":"any luck ever getting this resolved?"},{"owner":{"account_id":14014033,"reputation":699,"user_id":10121996,"display_name":"Sobhit Sharma"},"score":1,"creation_date":1678771325,"post_id":74124460,"comment_id":133593560,"body_markdown":"no, its the same issue on my mac @Jadam","body":"no, its the same issue on my mac @Jadam"}],"answers":[{"tags":[],"owner":{"account_id":4601440,"reputation":12173,"user_id":3732075,"display_name":"delboy1978uk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682417912,"creation_date":1682417912,"answer_id":76100068,"question_id":74124460,"body_markdown":"Try using `seleniarm/hub` instead of `selenium/hub`, that&#39;s a community based version of the official images, built for multiple chipset architectures. https://github.com/seleniumhq-community/docker-seleniarm","title":"Selenium grid with chrome crashes with 4.5 nodes","body":"<p>Try using <code>seleniarm/hub</code> instead of <code>selenium/hub</code>, that's a community based version of the official images, built for multiple chipset architectures. <a href=\"https://github.com/seleniumhq-community/docker-seleniarm\" rel=\"nofollow noreferrer\">https://github.com/seleniumhq-community/docker-seleniarm</a></p>\n"}],"owner":{"account_id":14014033,"reputation":699,"user_id":10121996,"display_name":"Sobhit Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76100068,"answer_count":1,"score":1,"last_activity_date":1682417912,"creation_date":1666178461,"question_id":74124460,"body_markdown":"I have m1 chip laptop on which I am running docker with the below yml file to run the grid with nodes of different browsers which gets attached correct to the hub but while running the test on chrome it crashes and never kicks of the test where works fine in firefox.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    # To execute this docker-compose yml file use `docker-compose -f docker-compose-v3.yml up`\r\n    # Add the `-d` flag at the end for detached execution\r\n    # To stop the execution, hit Ctrl+C, and then `docker-compose -f docker-compose-v3.yml down`\r\n    version: &quot;3&quot;\r\n    services:\r\n      chrome:\r\n        image: selenium/node-chrome:4.5.0-20221017\r\n        shm_size: 2gb\r\n        depends_on:\r\n          - selenium-hub\r\n        environment:\r\n          - SE_EVENT_BUS_HOST=selenium-hub\r\n          - SE_EVENT_BUS_PUBLISH_PORT=4442\r\n          - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\r\n\r\n      edge:\r\n        image: selenium/node-edge:4.5.0-20221017\r\n        shm_size: 2gb\r\n        depends_on:\r\n          - selenium-hub\r\n        environment:\r\n          - SE_EVENT_BUS_HOST=selenium-hub\r\n          - SE_EVENT_BUS_PUBLISH_PORT=4442\r\n          - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\r\n\r\n      firefox:\r\n        image: selenium/node-firefox:4.5.0-20221017\r\n        shm_size: 2gb\r\n        depends_on:\r\n          - selenium-hub\r\n        environment:\r\n          - SE_EVENT_BUS_HOST=selenium-hub\r\n          - SE_EVENT_BUS_PUBLISH_PORT=4442\r\n          - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\r\n\r\n      selenium-hub:\r\n        image: selenium/hub:4.5.0-20221017\r\n        container_name: selenium-hub\r\n        ports:\r\n          - &quot;4442:4442&quot;\r\n          - &quot;4443:4443&quot;\r\n          - &quot;4444:4444&quot;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere is the docker compose file.\r\nThe test code I am using is\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setCapability(CapabilityType.UNHANDLED_PROMPT_BEHAVIOUR, UnexpectedAlertBehaviour.IGNORE);\r\n    driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;),chromeOptions);\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://stackoverflow.com/&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    selenium-hub | 11:19:50.008 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n    selenium-hub |   (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n    selenium-hub |   (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n    selenium-hub | Host info: host: &#39;6857544abb6a&#39;, ip: &#39;172.18.0.3&#39;\r\n    selenium-hub | Build info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\n    selenium-hub | System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\r\n    selenium-hub | Driver info: driver.version: unknown\r\n    selenium-hub | Build info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\n    selenium-hub | System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\r\n    selenium-hub | Driver info: driver.version: unknown\r\n    selenium-hub | Build info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\n    selenium-hub | System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\r\n    selenium-hub | Driver info: driver.version: unknown\r\n    selenium-hub |  at org.openqa.selenium.grid.node.remote.RemoteNode.newSession(RemoteNode.java:150)\r\n    selenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:639)\r\n    selenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:558)\r\n    selenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:812)\r\n    selenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:773)\r\n    selenium-hub |  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    selenium-hub |  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    selenium-hub |  at java.base/java.lang.Thread.run(Thread.java:829)\r\n    selenium-hub | \r\n    selenium-hub | 11:19:50.011 WARN [SeleniumSpanExporter$1.lambda$export$3] - {&quot;traceId&quot;: &quot;f043d429f257e3b7a5422356635be50f&quot;,&quot;eventTime&quot;: 1666178390003999793,&quot;eventName&quot;: &quot;exception&quot;,&quot;attributes&quot;: {&quot;exception.message&quot;: &quot;Unable to create session: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\\n  (The process started from chrome location \\u002fusr\\u002fbin\\u002fgoogle-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \\nHost info: host: &#39;6857544abb6a&#39;, ip: &#39;172.18.0.3&#39;\\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\\nDriver info: driver.version: unknown\\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\\nDriver info: driver.version: unknown\\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\\nDriver info: driver.version: unknown&quot;,&quot;exception.stacktrace&quot;: &quot;org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\\n  (The process started from chrome location \\u002fusr\\u002fbin\\u002fgoogle-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \\nHost info: host: &#39;6857544abb6a&#39;, ip: &#39;172.18.0.3&#39;\\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\\nDriver info: driver.version: unknown\\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\\nDriver info: driver.version: unknown\\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.16&#39;\\nDriver info: driver.version: unknown\\n\\tat org.openqa.selenium.grid.node.remote.RemoteNode.newSession(RemoteNode.java:150)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:639)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:558)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:812)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:773)\\n\\tat java.base\\u002fjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base\\u002fjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat java.base\\u002fjava.lang.Thread.run(Thread.java:829)\\n&quot;,&quot;exception.type&quot;: &quot;org.openqa.selenium.SessionNotCreatedException&quot;,&quot;logger&quot;: &quot;org.openqa.selenium.grid.distributor.local.LocalDistributor&quot;,&quot;request.payload&quot;: &quot;[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}, unhandledPromptBehavior: ignore}]&quot;}}\r\n    selenium-hub | \r\n    selenium-hub | 11:19:50.024 WARN [SeleniumSpanExporter$1.lambda$export$3] - {&quot;traceId&quot;: &quot;f043d429f257e3b7a5422356635be50f&quot;,&quot;eventTime&quot;: 1666178390028315173,&quot;eventName&quot;: &quot;HTTP request execution complete&quot;,&quot;attributes&quot;: {&quot;http.flavor&quot;: 1,&quot;http.handler_class&quot;: &quot;org.openqa.selenium.grid.sessionqueue.local.LocalNewSessionQueue&quot;,&quot;http.host&quot;: &quot;localhost:4444&quot;,&quot;http.method&quot;: &quot;POST&quot;,&quot;http.request_content_length&quot;: &quot;451&quot;,&quot;http.scheme&quot;: &quot;HTTP&quot;,&quot;http.status_code&quot;: 500,&quot;http.target&quot;: &quot;\\u002fsession&quot;,&quot;http.user_agent&quot;: &quot;selenium\\u002f4.5.0 (java mac)&quot;}}\r\n    selenium-hub | \r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Selenium grid with chrome crashes with 4.5 nodes","body":"<p>I have m1 chip laptop on which I am running docker with the below yml file to run the grid with nodes of different browsers which gets attached correct to the hub but while running the test on chrome it crashes and never kicks of the test where works fine in firefox.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># To execute this docker-compose yml file use `docker-compose -f docker-compose-v3.yml up`\n# Add the `-d` flag at the end for detached execution\n# To stop the execution, hit Ctrl+C, and then `docker-compose -f docker-compose-v3.yml down`\nversion: \"3\"\nservices:\n  chrome:\n    image: selenium/node-chrome:4.5.0-20221017\n    shm_size: 2gb\n    depends_on:\n      - selenium-hub\n    environment:\n      - SE_EVENT_BUS_HOST=selenium-hub\n      - SE_EVENT_BUS_PUBLISH_PORT=4442\n      - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n\n  edge:\n    image: selenium/node-edge:4.5.0-20221017\n    shm_size: 2gb\n    depends_on:\n      - selenium-hub\n    environment:\n      - SE_EVENT_BUS_HOST=selenium-hub\n      - SE_EVENT_BUS_PUBLISH_PORT=4442\n      - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n\n  firefox:\n    image: selenium/node-firefox:4.5.0-20221017\n    shm_size: 2gb\n    depends_on:\n      - selenium-hub\n    environment:\n      - SE_EVENT_BUS_HOST=selenium-hub\n      - SE_EVENT_BUS_PUBLISH_PORT=4442\n      - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n\n  selenium-hub:\n    image: selenium/hub:4.5.0-20221017\n    container_name: selenium-hub\n    ports:\n      - \"4442:4442\"\n      - \"4443:4443\"\n      - \"4444:4444\"</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here is the docker compose file.\nThe test code I am using is</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setCapability(CapabilityType.UNHANDLED_PROMPT_BEHAVIOUR, UnexpectedAlertBehaviour.IGNORE);\ndriver = new RemoteWebDriver(new URL(\"http://localhost:4444/\"),chromeOptions);\ndriver.manage().window().maximize();\ndriver.get(\"https://stackoverflow.com/\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>selenium-hub | 11:19:50.008 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\nselenium-hub |   (unknown error: DevToolsActivePort file doesn't exist)\nselenium-hub |   (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nselenium-hub | Host info: host: '6857544abb6a', ip: '172.18.0.3'\nselenium-hub | Build info: version: '4.5.0', revision: 'fe167b119a'\nselenium-hub | System info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\nselenium-hub | Driver info: driver.version: unknown\nselenium-hub | Build info: version: '4.5.0', revision: 'fe167b119a'\nselenium-hub | System info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\nselenium-hub | Driver info: driver.version: unknown\nselenium-hub | Build info: version: '4.5.0', revision: 'fe167b119a'\nselenium-hub | System info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\nselenium-hub | Driver info: driver.version: unknown\nselenium-hub |  at org.openqa.selenium.grid.node.remote.RemoteNode.newSession(RemoteNode.java:150)\nselenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:639)\nselenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:558)\nselenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:812)\nselenium-hub |  at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:773)\nselenium-hub |  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nselenium-hub |  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nselenium-hub |  at java.base/java.lang.Thread.run(Thread.java:829)\nselenium-hub | \nselenium-hub | 11:19:50.011 WARN [SeleniumSpanExporter$1.lambda$export$3] - {\"traceId\": \"f043d429f257e3b7a5422356635be50f\",\"eventTime\": 1666178390003999793,\"eventName\": \"exception\",\"attributes\": {\"exception.message\": \"Unable to create session: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\\n  (unknown error: DevToolsActivePort file doesn't exist)\\n  (The process started from chrome location \\u002fusr\\u002fbin\\u002fgoogle-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \\nHost info: host: '6857544abb6a', ip: '172.18.0.3'\\nBuild info: version: '4.5.0', revision: 'fe167b119a'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\\nDriver info: driver.version: unknown\\nBuild info: version: '4.5.0', revision: 'fe167b119a'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\\nDriver info: driver.version: unknown\\nBuild info: version: '4.5.0', revision: 'fe167b119a'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\\nDriver info: driver.version: unknown\",\"exception.stacktrace\": \"org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\\n  (unknown error: DevToolsActivePort file doesn't exist)\\n  (The process started from chrome location \\u002fusr\\u002fbin\\u002fgoogle-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \\nHost info: host: '6857544abb6a', ip: '172.18.0.3'\\nBuild info: version: '4.5.0', revision: 'fe167b119a'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\\nDriver info: driver.version: unknown\\nBuild info: version: '4.5.0', revision: 'fe167b119a'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\\nDriver info: driver.version: unknown\\nBuild info: version: '4.5.0', revision: 'fe167b119a'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.16'\\nDriver info: driver.version: unknown\\n\\tat org.openqa.selenium.grid.node.remote.RemoteNode.newSession(RemoteNode.java:150)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:639)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:558)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:812)\\n\\tat org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:773)\\n\\tat java.base\\u002fjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base\\u002fjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat java.base\\u002fjava.lang.Thread.run(Thread.java:829)\\n\",\"exception.type\": \"org.openqa.selenium.SessionNotCreatedException\",\"logger\": \"org.openqa.selenium.grid.distributor.local.LocalDistributor\",\"request.payload\": \"[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}, unhandledPromptBehavior: ignore}]\"}}\nselenium-hub | \nselenium-hub | 11:19:50.024 WARN [SeleniumSpanExporter$1.lambda$export$3] - {\"traceId\": \"f043d429f257e3b7a5422356635be50f\",\"eventTime\": 1666178390028315173,\"eventName\": \"HTTP request execution complete\",\"attributes\": {\"http.flavor\": 1,\"http.handler_class\": \"org.openqa.selenium.grid.sessionqueue.local.LocalNewSessionQueue\",\"http.host\": \"localhost:4444\",\"http.method\": \"POST\",\"http.request_content_length\": \"451\",\"http.scheme\": \"HTTP\",\"http.status_code\": 500,\"http.target\": \"\\u002fsession\",\"http.user_agent\": \"selenium\\u002f4.5.0 (java mac)\"}}\nselenium-hub | </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","java-19","structured-concurrency"],"answers":[{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682417713,"creation_date":1666267950,"answer_id":74139697,"question_id":74139510,"body_markdown":"I feel as though I&#39;ve stumbled on the meaning. A large task is completed in a structured way, by lots of parallel fibers, working concurrently.","title":"What is Structured Concurrency?","body":"<p>I feel as though I've stumbled on the meaning. A large task is completed in a structured way, by lots of parallel fibers, working concurrently.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74139697,"answer_count":1,"score":-1,"last_activity_date":1682417713,"creation_date":1666267098,"question_id":74139510,"body_markdown":"This is a sort-of terminology question. One of the features of Java 19 is &quot;Structured Concurrency&quot;. Why is that so-named? is it because the asynchronous code is not truly parallel? We are lead to believe that these fibers or virtual threads are like threads, in that they can be oblivious of other threads. Why, then, is it not structured Parallelism?","title":"What is Structured Concurrency?","body":"<p>This is a sort-of terminology question. One of the features of Java 19 is &quot;Structured Concurrency&quot;. Why is that so-named? is it because the asynchronous code is not truly parallel? We are lead to believe that these fibers or virtual threads are like threads, in that they can be oblivious of other threads. Why, then, is it not structured Parallelism?</p>\n"},{"tags":["java","android","math"],"comments":[{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1524291778,"post_id":49952965,"comment_id":86922456,"body_markdown":"you want scroll only left or Right or Left Both ?","body":"you want scroll only left or Right or Left Both ?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524291857,"post_id":49952965,"comment_id":86922479,"body_markdown":"only left because i&#39;ve made a card stack","body":"only left because i&#39;ve made a card stack"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524291891,"post_id":49952965,"comment_id":86922487,"body_markdown":"can you please help me with this","body":"can you please help me with this"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526639757,"post_id":49952965,"comment_id":87833958,"body_markdown":"from github this has a property of reverse have you tried it?","body":"from github this has a property of reverse have you tried it?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526639842,"post_id":49952965,"comment_id":87834008,"body_markdown":"yes i tried that but it isnt meant for changing scroll direction","body":"yes i tried that but it isnt meant for changing scroll direction"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526639945,"post_id":49952965,"comment_id":87834055,"body_markdown":"I have been trying to figure out this code an i think i have to change this code https://pastebin.com/pH47TE2i but still couldnt get a solution","body":"I have been trying to figure out this code an i think i have to change this code <a href=\"https://pastebin.com/pH47TE2i\" rel=\"nofollow noreferrer\">pastebin.com/pH47TE2i</a> but still couldnt get a solution"},{"owner":{"account_id":4898551,"reputation":1350,"user_id":3947321,"accept_rate":50,"display_name":"Rujul Gandhi"},"score":0,"creation_date":1526644600,"post_id":49952965,"comment_id":87836903,"body_markdown":"@Smith so you want by default scroll at last position. Right ?","body":"@Smith so you want by default scroll at last position. Right ?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644643,"post_id":49952965,"comment_id":87836941,"body_markdown":"no i&#39;m trying to have scrolling position on left","body":"no i&#39;m trying to have scrolling position on left"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644652,"post_id":49952965,"comment_id":87836947,"body_markdown":"https://github.com/thunderpunch/LadderLayoutManager","body":"<a href=\"https://github.com/thunderpunch/LadderLayoutManager\" rel=\"nofollow noreferrer\">github.com/thunderpunch/LadderLayoutManager</a>"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644690,"post_id":49952965,"comment_id":87836967,"body_markdown":"here on github scrolling is on right side but i&#39;m trying to have horizontal scrolling on left","body":"here on github scrolling is on right side but i&#39;m trying to have horizontal scrolling on left"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644726,"post_id":49952965,"comment_id":87836987,"body_markdown":"can you please help me out","body":"can you please help me out"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526652690,"post_id":49952965,"comment_id":87842030,"body_markdown":"when you run the app and click the reverse button does it work?","body":"when you run the app and click the reverse button does it work?"},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":0,"creation_date":1526705166,"post_id":49952965,"comment_id":87858667,"body_markdown":"Sorry, I don&#39;t catch `scrolling position to left`. Is there any sketch map described current and what you want?","body":"Sorry, I don&#39;t catch <code>scrolling position to left</code>. Is there any sketch map described current and what you want?"},{"owner":{"account_id":9280261,"reputation":6682,"user_id":6891637,"accept_rate":90,"display_name":"Ajil O."},"score":0,"creation_date":1526705564,"post_id":49952965,"comment_id":87858720,"body_markdown":"@Smith Have you tried `llm.setReverse(true)` in your `MainActivity()` when you set the `LayoutManager`?","body":"@Smith Have you tried <code>llm.setReverse(true)</code> in your <code>MainActivity()</code> when you set the <code>LayoutManager</code>?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526717682,"post_id":49952965,"comment_id":87861226,"body_markdown":"@Ajil O yes i tried but the probelm is that set reverse only sets the stack to its predefined position","body":"@Ajil O yes i tried but the probelm is that set reverse only sets the stack to its predefined position"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526717751,"post_id":49952965,"comment_id":87861249,"body_markdown":"@sakiM please see this post for reference https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer","body":"@sakiM please see this post for reference <a href=\"https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer\" title=\"viewpager page scaling issue with page transformer\">stackoverflow.com/questions/50390243/&hellip;</a>"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526717842,"post_id":49952965,"comment_id":87861275,"body_markdown":"@Eminem yes button works but it is not abou t button working please see this for reference https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer","body":"@Eminem yes button works but it is not abou t button working please see this for reference <a href=\"https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer\" title=\"viewpager page scaling issue with page transformer\">stackoverflow.com/questions/50390243/&hellip;</a>"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526719547,"post_id":49952965,"comment_id":87861669,"body_markdown":"so you solved the reverse problem, this is a new one","body":"so you solved the reverse problem, this is a new one"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526719644,"post_id":49952965,"comment_id":87861690,"body_markdown":"no i didnt solve the problem both are same just trying a different approach i&#39;m showing you the output i&#39;m trying to get","body":"no i didnt solve the problem both are same just trying a different approach i&#39;m showing you the output i&#39;m trying to get"}],"answers":[{"tags":[],"owner":{"display_name":"user4571931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524313186,"creation_date":1524291976,"answer_id":49953011,"question_id":49952965,"body_markdown":"Use the code below:\r\n\r\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));","title":"RecyclerView horizontal scrolling to left","body":"<p>Use the code below:</p>\n\n<pre><code>mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524292520,"creation_date":1524292253,"answer_id":49953048,"question_id":49952965,"body_markdown":"try below code :\r\n\r\n  \r\n\r\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\r\n    mRecyclerView.setReverseLayout(true);","title":"RecyclerView horizontal scrolling to left","body":"<p>try below code :</p>\n\n<pre><code>mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\nmRecyclerView.setReverseLayout(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621991441,"creation_date":1621991441,"answer_id":67697343,"question_id":49952965,"body_markdown":"in xml: \r\nright to left\r\n\r\n    android:layoutDirection=&quot;rtl&quot;\r\nleft to right \r\n\r\n    android:layoutDirection=&quot;ltr&quot;\r\n\r\n\r\n","title":"RecyclerView horizontal scrolling to left","body":"<p>in xml:\nright to left</p>\n<pre><code>android:layoutDirection=&quot;rtl&quot;\n</code></pre>\n<p>left to right</p>\n<pre><code>android:layoutDirection=&quot;ltr&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8016842,"reputation":327,"user_id":6046829,"display_name":"AmirMohamamd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682417678,"creation_date":1682417678,"answer_id":76100032,"question_id":49952965,"body_markdown":"Set RecyclerView layout layoutDirection LTR:\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layoutDirection=&quot;ltr&quot; /&gt;\r\n\r\nAnd set      \r\n\r\n    val layoutManager = LinearLayoutManager(this,LinearLayoutManager.HORIZONTAL, true)\r\n\r\n","title":"RecyclerView horizontal scrolling to left","body":"<p>Set RecyclerView layout layoutDirection LTR:</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layoutDirection=&quot;ltr&quot; /&gt;\n</code></pre>\n<p>And set</p>\n<pre><code>val layoutManager = LinearLayoutManager(this,LinearLayoutManager.HORIZONTAL, true)\n</code></pre>\n"}],"owner":{"display_name":"user9550968"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7825,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1682417678,"creation_date":1524291535,"question_id":49952965,"body_markdown":"I&#39;m making an app where I&#39;m using `RecyclerView` with `SnapHelper` class to make a scrollable horizontal card stack. I have implemented that successfully however my problem is that the cards swipe to right direction and I want to swipe the cards on left direction.\r\n\r\nI did some research on Stack Overflow and found [1][1] and [2][2]\r\n\r\nBut I still couldn&#39;t figure out how to set the scrolling position to left instead of right.\r\n\r\nI also found that `FindSnapView` method passes the scroll position and direction maybe I&#39;m wrong but below code might be the solution\r\n\r\n```java\r\n@Override\r\npublic View findSnapView(RecyclerView.LayoutManager layoutManager) {\r\n    if (layoutManager instanceof LadderLayoutManager) {\r\n        int pos = ((LadderLayoutManager) layoutManager)\r\n            .getFixedScrollPosition(mDirection, mDirection != 0 ? 0.8f : 0.5f);\r\n        mDirection = 0;\r\n        if (pos != RecyclerView.NO_POSITION) {\r\n            return layoutManager.findViewByPosition(pos);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nMy main class\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        LadderLayoutManager llm;\r\n        RecyclerView rcv;\r\n        HSAdapter adapter;\r\n        int scrollToPosition;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            llm = new LadderLayoutManager(1.5f, 0.85f, LadderLayoutManager.HORIZONTAL).\r\n                    setChildDecorateHelper(new LadderLayoutManager\r\n                            .DefaultChildDecorateHelper(getResources().getDimension(R.dimen.item_max_elevation)));\r\n            llm.setChildPeekSize((int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,\r\n                    30, getResources().getDisplayMetrics()));\r\n            llm.setMaxItemLayoutCount(5);\r\n    \r\n            rcv = (RecyclerView) findViewById(R.id.rcv);\r\n            rcv.setLayoutManager(llm);\r\n    \r\n            new LadderSimpleSnapHelper().attachToRecyclerView(rcv);\r\n            adapter = new HSAdapter();\r\n            rcv.setAdapter(adapter);\r\n    \r\n            final SeekBar sb = (SeekBar) findViewById(R.id.sb);\r\n        }\r\n\r\nMy code for custom LayoutManager\r\n\r\n    public class LadderLayoutManager extends RecyclerView.LayoutManager implements RecyclerView.SmoothScroller.ScrollVectorProvider {\r\n        private static final int INVALIDATE_SCROLL_OFFSET = Integer.MAX_VALUE;\r\n        private static final float DEFAULT_CHILD_LAYOUT_OFFSET = 0.2f;\r\n        public static final int UNLIMITED = 0;\r\n        public static final int VERTICAL = 1;\r\n        public static final int HORIZONTAL = 0;\r\n        private boolean mCheckedChildSize;\r\n        private int[] mChildSize;\r\n        private int mChildPeekSize;\r\n        private int mChildPeekSizeInput;\r\n        private boolean mReverse;\r\n        private int mScrollOffset = INVALIDATE_SCROLL_OFFSET;\r\n        private float mItemHeightWidthRatio;\r\n        private float mScale;\r\n        private int mChildCount;\r\n        private float mVanishOffset = 0;\r\n        private Interpolator mInterpolator;\r\n        private int mOrientation;\r\n        private ChildDecorateHelper mDecorateHelper;\r\n        private int mMaxItemLayoutCount;\r\n    \r\n        public LadderLayoutManager(float itemHeightWidthRatio) {\r\n            this(itemHeightWidthRatio, 0.9f, VERTICAL);\r\n        }\r\n    \r\n    \r\n        public LadderLayoutManager(float itemHeightWidthRatio, float scale, int orientation) {\r\n            this.mItemHeightWidthRatio = itemHeightWidthRatio;\r\n            this.mOrientation = orientation;\r\n            this.mScale = scale;\r\n            this.mChildSize = new int[2];\r\n            this.mInterpolator = new DecelerateInterpolator();\r\n        }\r\n    \r\n        @Override\r\n        public RecyclerView.LayoutParams generateDefaultLayoutParams() {\r\n            return new RecyclerView.LayoutParams(mChildSize[0], mChildSize[1]);\r\n        }\r\n    \r\n        public LadderLayoutManager setChildDecorateHelper(ChildDecorateHelper layoutHelper) {\r\n            mDecorateHelper = layoutHelper;\r\n            return this;\r\n        }\r\n    \r\n        public void setMaxItemLayoutCount(int count) {\r\n            mMaxItemLayoutCount = Math.max(2, count);\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setVanishOffset(float offset) {\r\n            mVanishOffset = offset;\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setChildPeekSize(int childPeekSize) {\r\n            mChildPeekSizeInput = childPeekSize;\r\n            mCheckedChildSize = false;\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setItemHeightWidthRatio(float itemHeightWidthRatio) {\r\n            mItemHeightWidthRatio = itemHeightWidthRatio;\r\n            mCheckedChildSize = false;\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setReverse(boolean reverse) {\r\n            if (mReverse != reverse) {\r\n                mReverse = reverse;\r\n                if (getChildCount() &gt; 0) {\r\n                    requestLayout();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public boolean isReverse() {\r\n            return mReverse;\r\n        }\r\n    \r\n    \r\n    \r\n        public int getFixedScrollPosition(int direction, float fixValue) {\r\n            if (mCheckedChildSize) {\r\n                if (mScrollOffset % mChildSize[mOrientation] == 0) {\r\n                    return RecyclerView.NO_POSITION;\r\n                }\r\n                float position = mScrollOffset * 1.0f / mChildSize[mOrientation];\r\n                return convert2AdapterPosition((int) (direction &gt; 0 ? position + fixValue : position + (1 - fixValue)) - 1);\r\n            }\r\n            return RecyclerView.NO_POSITION;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onMeasure(RecyclerView.Recycler recycler, RecyclerView.State state, int widthSpec, int heightSpec) {\r\n            super.onMeasure(recycler, state, widthSpec, heightSpec);\r\n            mCheckedChildSize = false;\r\n        }\r\n    \r\n        @Override\r\n        public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            if (state.getItemCount() == 0) {\r\n                removeAndRecycleAllViews(recycler);\r\n                return;\r\n            }\r\n            if (!mCheckedChildSize) {\r\n                if (mOrientation == VERTICAL) {\r\n                    mChildSize[0] = getHorizontalSpace();\r\n                    mChildSize[1] = (int) (mItemHeightWidthRatio * mChildSize[0]);\r\n                } else {\r\n                    mChildSize[1] = getVerticalSpace();\r\n                    mChildSize[0] = (int) (mChildSize[1] / mItemHeightWidthRatio);\r\n                }\r\n                mChildPeekSize = mChildPeekSizeInput == 0 ?\r\n                        (int) (mChildSize[mOrientation] * DEFAULT_CHILD_LAYOUT_OFFSET) : mChildPeekSizeInput;\r\n                mCheckedChildSize = true;\r\n            }\r\n            int itemCount = getItemCount();\r\n            if (mReverse) {\r\n                mScrollOffset += (itemCount - mChildCount) * mChildSize[mOrientation];\r\n            }\r\n            mChildCount = itemCount;\r\n            mScrollOffset = makeScrollOffsetWithinRange(mScrollOffset);\r\n            fill(recycler);\r\n        }\r\n    \r\n        public void fill(RecyclerView.Recycler recycler) {\r\n            int bottomItemPosition = (int) Math.floor(mScrollOffset / mChildSize[mOrientation]);//&gt;=1\r\n            int bottomItemVisibleSize = mScrollOffset % mChildSize[mOrientation];\r\n            final float offsetPercent = mInterpolator.getInterpolation(\r\n                    bottomItemVisibleSize * 1.0f / mChildSize[mOrientation]);//[0,1)\r\n            final int space = mOrientation == VERTICAL ? getVerticalSpace() : getHorizontalSpace();\r\n    \r\n            ArrayList&lt;ItemLayoutInfo&gt; layoutInfos = new ArrayList&lt;&gt;();\r\n            for (int i = bottomItemPosition - 1, j = 1, remainSpace = space - mChildSize[mOrientation];\r\n                 i &gt;= 0; i--, j++) {\r\n                double maxOffset = mChildPeekSize * Math.pow(mScale, j);\r\n                int start = (int) (remainSpace - offsetPercent * maxOffset);\r\n                ItemLayoutInfo info = new ItemLayoutInfo(start,\r\n                        (float) (Math.pow(mScale, j - 1) * (1 - offsetPercent * (1 - mScale))),\r\n                        offsetPercent,\r\n                        start * 1.0f / space\r\n                );\r\n                layoutInfos.add(0, info);\r\n    \r\n                if (mMaxItemLayoutCount != UNLIMITED &amp;&amp; j == mMaxItemLayoutCount - 1) {\r\n                    if (offsetPercent != 0) {\r\n                        info.start = remainSpace;\r\n                        info.positionOffsetPercent = 0;\r\n                        info.layoutPercent = remainSpace / space;\r\n                        info.scaleXY = (float) Math.pow(mScale, j - 1);\r\n                    }\r\n                    break;\r\n                }\r\n                remainSpace -= maxOffset;\r\n                if (remainSpace &lt;= 0) {\r\n                    info.start = (int) (remainSpace + maxOffset);\r\n                    info.positionOffsetPercent = 0;\r\n                    info.layoutPercent = info.start / space;\r\n                    info.scaleXY = (float) Math.pow(mScale, j - 1);\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            if (bottomItemPosition &lt; mChildCount) {\r\n                final int start = space - bottomItemVisibleSize;\r\n                layoutInfos.add(new ItemLayoutInfo(start, 1.0f,\r\n                        bottomItemVisibleSize * 1.0f / mChildSize[mOrientation], start * 1.0f / space).\r\n                        setIsBottom());\r\n            } else {\r\n                bottomItemPosition -= 1;\r\n            }\r\n    \r\n            int layoutCount = layoutInfos.size();\r\n    \r\n            final int startPos = bottomItemPosition - (layoutCount - 1);\r\n            final int endPos = bottomItemPosition;\r\n            final int childCount = getChildCount();\r\n            for (int i = childCount - 1; i &gt;= 0; i--) {\r\n                View childView = getChildAt(i);\r\n                int pos = convert2LayoutPosition(getPosition(childView));\r\n                if (pos &gt; endPos || pos &lt; startPos) {\r\n                    removeAndRecycleView(childView, recycler);\r\n                }\r\n            }\r\n            detachAndScrapAttachedViews(recycler);\r\n    \r\n            for (int i = 0; i &lt; layoutCount; i++) {\r\n                fillChild(recycler.getViewForPosition(convert2AdapterPosition(startPos + i)), layoutInfos.get(i));\r\n            }\r\n        }\r\n    \r\n        private void fillChild(View view, ItemLayoutInfo layoutInfo) {\r\n            addView(view);\r\n            measureChildWithExactlySize(view);\r\n            final int scaleFix = (int) (mChildSize[mOrientation] * (1 - layoutInfo.scaleXY) / 2);\r\n            final float gap = (mOrientation == VERTICAL ? getHorizontalSpace() : getVerticalSpace())\r\n                    - mChildSize[(mOrientation + 1) % 2] * layoutInfo.scaleXY;\r\n    \r\n            if (mOrientation == VERTICAL) {\r\n                int left = (int) (getPaddingLeft() + (gap * 0.5 * mVanishOffset));\r\n                layoutDecoratedWithMargins(view, left, layoutInfo.start - scaleFix\r\n                        , left + mChildSize[0], layoutInfo.start + mChildSize[1] - scaleFix);\r\n            } else {\r\n                int top = (int) (getPaddingTop() + (gap * 0.5 * mVanishOffset));\r\n                layoutDecoratedWithMargins(view, layoutInfo.start - scaleFix, top\r\n                        , layoutInfo.start + mChildSize[0] - scaleFix, top + mChildSize[1]);\r\n            }\r\n            ViewCompat.setScaleX(view, layoutInfo.scaleXY);\r\n            ViewCompat.setScaleY(view, layoutInfo.scaleXY);\r\n            if (mDecorateHelper != null) {\r\n                mDecorateHelper.decorateChild(view, layoutInfo.positionOffsetPercent, layoutInfo.layoutPercent, layoutInfo.isBottom);\r\n            }\r\n        }\r\n    \r\n        private void measureChildWithExactlySize(View child) {\r\n            RecyclerView.LayoutParams lp = (RecyclerView.LayoutParams) child.getLayoutParams();\r\n            final int widthSpec = View.MeasureSpec.makeMeasureSpec(\r\n                    mChildSize[0] - lp.leftMargin - lp.rightMargin, View.MeasureSpec.EXACTLY);\r\n            final int heightSpec = View.MeasureSpec.makeMeasureSpec(\r\n                    mChildSize[1] - lp.topMargin - lp.bottomMargin, View.MeasureSpec.EXACTLY);\r\n            child.measure(widthSpec, heightSpec);\r\n        }\r\n    \r\n        private int makeScrollOffsetWithinRange(int scrollOffset) {\r\n            return Math.min(Math.max(mChildSize[mOrientation], scrollOffset), mChildCount * mChildSize[mOrientation]);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int scrollVerticallyBy(int dy, RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            int pendingScrollOffset = mScrollOffset + dy;\r\n            mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\r\n            fill(recycler);\r\n            return mScrollOffset - pendingScrollOffset + dy;\r\n        }\r\n    \r\n        @Override\r\n        public int scrollHorizontallyBy(int dx, RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            int pendingScrollOffset = mScrollOffset + dx;\r\n            mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\r\n            fill(recycler);\r\n            return mScrollOffset - pendingScrollOffset + dx;\r\n        }\r\n    \r\n        @Override\r\n        public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State state, int position) {\r\n            final LinearSmoothScroller linearSmoothScroller = new LinearSmoothScroller(recyclerView.getContext()) {\r\n                @Override\r\n                public int calculateDyToMakeVisible(final View view, final int snapPreference) {\r\n                    if (mOrientation == VERTICAL) {\r\n                        return -calculateDistanceToPosition(getPosition(view));\r\n                    }\r\n                    return 0;\r\n                }\r\n    \r\n                @Override\r\n                public int calculateDxToMakeVisible(final View view, final int snapPreference) {\r\n                    if (mOrientation == HORIZONTAL) {\r\n                        return -calculateDistanceToPosition(getPosition(view));\r\n                    }\r\n                    return 0;\r\n                }\r\n            };\r\n            linearSmoothScroller.setTargetPosition(position);\r\n            startSmoothScroll(linearSmoothScroller);\r\n        }\r\n    \r\n    \r\n        public int calculateDistanceToPosition(int targetPos) {\r\n            int pendingScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(targetPos) + 1);\r\n            return pendingScrollOffset - mScrollOffset;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void scrollToPosition(int position) {\r\n            if (position &gt; 0 &amp;&amp; position &lt; mChildCount) {\r\n                mScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(position) + 1);\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean canScrollVertically() {\r\n            return mOrientation == VERTICAL;\r\n        }\r\n    \r\n        @Override\r\n        public boolean canScrollHorizontally() {\r\n            return mOrientation == HORIZONTAL;\r\n        }\r\n    \r\n        public int convert2AdapterPosition(int layoutPosition) {\r\n            return mReverse ? mChildCount - 1 - layoutPosition : layoutPosition;\r\n        }\r\n    \r\n        public int convert2LayoutPosition(int adapterPostion) {\r\n            return mReverse ? mChildCount - 1 - adapterPostion : adapterPostion;\r\n        }\r\n    \r\n        public int getVerticalSpace() {\r\n            return getHeight() - getPaddingTop() - getPaddingBottom();\r\n        }\r\n    \r\n        public int getHorizontalSpace() {\r\n            return getWidth() - getPaddingLeft() - getPaddingRight();\r\n        }\r\n    \r\n        @Override\r\n        public PointF computeScrollVectorForPosition(int targetPosition) {\r\n            int pos = convert2LayoutPosition(targetPosition);\r\n            int scrollOffset = (pos + 1) * mChildSize[mOrientation];\r\n            return mOrientation == VERTICAL ? new PointF(0, Math.signum(scrollOffset - mScrollOffset))\r\n                    : new PointF(Math.signum(scrollOffset - mScrollOffset), 0);\r\n        }\r\n    \r\n        private static class ItemLayoutInfo {\r\n            float scaleXY;\r\n            float layoutPercent;\r\n            float positionOffsetPercent;\r\n            int start;\r\n            boolean isBottom;\r\n    \r\n            ItemLayoutInfo(int top, float scale, float positonOffset, float percent) {\r\n                this.start = top;\r\n                this.scaleXY = scale;\r\n                this.positionOffsetPercent = positonOffset;\r\n                this.layoutPercent = percent;\r\n            }\r\n    \r\n            ItemLayoutInfo setIsBottom() {\r\n                isBottom = true;\r\n                return this;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Parcelable onSaveInstanceState() {\r\n            SavedState savedState = new SavedState();\r\n            savedState.scrollOffset = mScrollOffset;\r\n            savedState.reverse = mReverse;\r\n            savedState.vanishOffset = mVanishOffset;\r\n            savedState.scale = mScale;\r\n            savedState.childLayoutOffsetInput = mChildPeekSizeInput;\r\n            savedState.itemHeightWidthRatio = mItemHeightWidthRatio;\r\n            savedState.orientation = mOrientation;\r\n            return savedState;\r\n        }\r\n    \r\n        @Override\r\n        public void onRestoreInstanceState(Parcelable state) {\r\n            if (state instanceof SavedState) {\r\n                SavedState s = (SavedState) state;\r\n                mScrollOffset = s.scrollOffset;\r\n                mReverse = s.reverse;\r\n                mVanishOffset = s.vanishOffset;\r\n                mScale = s.scale;\r\n                mChildPeekSizeInput = s.childLayoutOffsetInput;\r\n                mItemHeightWidthRatio = s.itemHeightWidthRatio;\r\n                mOrientation = s.orientation;\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n        public static class SavedState implements Parcelable {\r\n    \r\n            int scrollOffset, childLayoutOffsetInput, orientation;\r\n            float itemHeightWidthRatio, scale, elevation, vanishOffset;\r\n            boolean reverse;\r\n    \r\n            public SavedState() {\r\n            }\r\n    \r\n            SavedState(LadderLayoutManager.SavedState other) {\r\n                scrollOffset = other.scrollOffset;\r\n                childLayoutOffsetInput = other.childLayoutOffsetInput;\r\n                orientation = other.orientation;\r\n                itemHeightWidthRatio = other.itemHeightWidthRatio;\r\n                scale = other.scale;\r\n                elevation = other.elevation;\r\n                vanishOffset = other.vanishOffset;\r\n                reverse = other.reverse;\r\n            }\r\n    \r\n            SavedState(Parcel in) {\r\n                scrollOffset = in.readInt();\r\n                childLayoutOffsetInput = in.readInt();\r\n                orientation = in.readInt();\r\n                itemHeightWidthRatio = in.readFloat();\r\n                scale = in.readFloat();\r\n                elevation = in.readFloat();\r\n                vanishOffset = in.readFloat();\r\n                reverse = in.readInt() == 1;\r\n            }\r\n    \r\n            @Override\r\n            public void writeToParcel(Parcel dest, int flags) {\r\n                dest.writeInt(scrollOffset);\r\n                dest.writeInt(childLayoutOffsetInput);\r\n                dest.writeInt(orientation);\r\n                dest.writeFloat(itemHeightWidthRatio);\r\n                dest.writeFloat(scale);\r\n                dest.writeFloat(elevation);\r\n                dest.writeFloat(vanishOffset);\r\n                dest.writeInt(reverse ? 1 : 0);\r\n            }\r\n    \r\n            @Override\r\n            public int describeContents() {\r\n                return 0;\r\n            }\r\n    \r\n            public static final Creator&lt;SavedState&gt; CREATOR\r\n                    = new Creator&lt;SavedState&gt;() {\r\n                @Override\r\n                public LadderLayoutManager.SavedState createFromParcel(Parcel in) {\r\n                    return new LadderLayoutManager.SavedState(in);\r\n                }\r\n    \r\n                @Override\r\n                public LadderLayoutManager.SavedState[] newArray(int size) {\r\n                    return new LadderLayoutManager.SavedState[size];\r\n                }\r\n            };\r\n        }\r\n    \r\n    \r\n        public interface ChildDecorateHelper {\r\n    \r\n            void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom);\r\n        }\r\n    \r\n        public static class DefaultChildDecorateHelper implements ChildDecorateHelper {\r\n            private float mElevation;\r\n    \r\n            public DefaultChildDecorateHelper(float maxElevation) {\r\n                mElevation = maxElevation;\r\n            }\r\n    \r\n            @Override\r\n            public void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom) {\r\n                ViewCompat.setElevation(child, (float) (layoutPercent * mElevation * 0.7 + mElevation * 0.3));\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my code for snaphelper\r\n\r\n    public class LadderSimpleSnapHelper extends SnapHelper {\r\n        private int mDirection;\r\n        //int position = layoutManager.getPosition(centerView);\r\n        @Override\r\n        public int[] calculateDistanceToFinalSnap(\r\n                @NonNull RecyclerView.LayoutManager layoutManager, @NonNull View targetView) {\r\n    \r\n            if (layoutManager instanceof LadderLayoutManager) {\r\n                int[] out = new int[2];\r\n                if (layoutManager.canScrollHorizontally()) {\r\n                    out[0] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\r\n                            layoutManager.getPosition(targetView));\r\n                    out[1] = 0;\r\n                } else {\r\n                    out[0] = 0;\r\n                    out[1] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\r\n                            layoutManager.getPosition(targetView));\r\n                }\r\n                return out;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public int findTargetSnapPosition(RecyclerView.LayoutManager layoutManager, int velocityX,\r\n                                          int velocityY) {\r\n            if (layoutManager.canScrollHorizontally()) {\r\n    \r\n                    mDirection = velocityX;\r\n                } else {\r\n                    mDirection = velocityY;\r\n                }\r\n            return RecyclerView.NO_POSITION;\r\n        }\r\n    \r\n        @Override\r\n        public View findSnapView(RecyclerView.LayoutManager layoutManager) {\r\n            if (layoutManager instanceof LadderLayoutManager) {\r\n                int pos = ((LadderLayoutManager) layoutManager).getFixedScrollPosition(\r\n                        mDirection, mDirection != 0 ? 0.8f : 0.5f);\r\n                mDirection = 0;\r\n                if (pos != RecyclerView.NO_POSITION) {\r\n                    return layoutManager.findViewByPosition(pos);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29134094/recyclerview-horizontal-scroll-snap-in-center\r\n  [2]: https://stackoverflow.com/questions/42878132/snaphelper-item-position","title":"RecyclerView horizontal scrolling to left","body":"<p>I'm making an app where I'm using <code>RecyclerView</code> with <code>SnapHelper</code> class to make a scrollable horizontal card stack. I have implemented that successfully however my problem is that the cards swipe to right direction and I want to swipe the cards on left direction.</p>\n<p>I did some research on Stack Overflow and found <a href=\"https://stackoverflow.com/questions/29134094/recyclerview-horizontal-scroll-snap-in-center\">1</a> and <a href=\"https://stackoverflow.com/questions/42878132/snaphelper-item-position\">2</a></p>\n<p>But I still couldn't figure out how to set the scrolling position to left instead of right.</p>\n<p>I also found that <code>FindSnapView</code> method passes the scroll position and direction maybe I'm wrong but below code might be the solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic View findSnapView(RecyclerView.LayoutManager layoutManager) {\n    if (layoutManager instanceof LadderLayoutManager) {\n        int pos = ((LadderLayoutManager) layoutManager)\n            .getFixedScrollPosition(mDirection, mDirection != 0 ? 0.8f : 0.5f);\n        mDirection = 0;\n        if (pos != RecyclerView.NO_POSITION) {\n            return layoutManager.findViewByPosition(pos);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>My main class</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    LadderLayoutManager llm;\n    RecyclerView rcv;\n    HSAdapter adapter;\n    int scrollToPosition;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        llm = new LadderLayoutManager(1.5f, 0.85f, LadderLayoutManager.HORIZONTAL).\n                setChildDecorateHelper(new LadderLayoutManager\n                        .DefaultChildDecorateHelper(getResources().getDimension(R.dimen.item_max_elevation)));\n        llm.setChildPeekSize((int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,\n                30, getResources().getDisplayMetrics()));\n        llm.setMaxItemLayoutCount(5);\n\n        rcv = (RecyclerView) findViewById(R.id.rcv);\n        rcv.setLayoutManager(llm);\n\n        new LadderSimpleSnapHelper().attachToRecyclerView(rcv);\n        adapter = new HSAdapter();\n        rcv.setAdapter(adapter);\n\n        final SeekBar sb = (SeekBar) findViewById(R.id.sb);\n    }\n</code></pre>\n<p>My code for custom LayoutManager</p>\n<pre><code>public class LadderLayoutManager extends RecyclerView.LayoutManager implements RecyclerView.SmoothScroller.ScrollVectorProvider {\n    private static final int INVALIDATE_SCROLL_OFFSET = Integer.MAX_VALUE;\n    private static final float DEFAULT_CHILD_LAYOUT_OFFSET = 0.2f;\n    public static final int UNLIMITED = 0;\n    public static final int VERTICAL = 1;\n    public static final int HORIZONTAL = 0;\n    private boolean mCheckedChildSize;\n    private int[] mChildSize;\n    private int mChildPeekSize;\n    private int mChildPeekSizeInput;\n    private boolean mReverse;\n    private int mScrollOffset = INVALIDATE_SCROLL_OFFSET;\n    private float mItemHeightWidthRatio;\n    private float mScale;\n    private int mChildCount;\n    private float mVanishOffset = 0;\n    private Interpolator mInterpolator;\n    private int mOrientation;\n    private ChildDecorateHelper mDecorateHelper;\n    private int mMaxItemLayoutCount;\n\n    public LadderLayoutManager(float itemHeightWidthRatio) {\n        this(itemHeightWidthRatio, 0.9f, VERTICAL);\n    }\n\n\n    public LadderLayoutManager(float itemHeightWidthRatio, float scale, int orientation) {\n        this.mItemHeightWidthRatio = itemHeightWidthRatio;\n        this.mOrientation = orientation;\n        this.mScale = scale;\n        this.mChildSize = new int[2];\n        this.mInterpolator = new DecelerateInterpolator();\n    }\n\n    @Override\n    public RecyclerView.LayoutParams generateDefaultLayoutParams() {\n        return new RecyclerView.LayoutParams(mChildSize[0], mChildSize[1]);\n    }\n\n    public LadderLayoutManager setChildDecorateHelper(ChildDecorateHelper layoutHelper) {\n        mDecorateHelper = layoutHelper;\n        return this;\n    }\n\n    public void setMaxItemLayoutCount(int count) {\n        mMaxItemLayoutCount = Math.max(2, count);\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setVanishOffset(float offset) {\n        mVanishOffset = offset;\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setChildPeekSize(int childPeekSize) {\n        mChildPeekSizeInput = childPeekSize;\n        mCheckedChildSize = false;\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setItemHeightWidthRatio(float itemHeightWidthRatio) {\n        mItemHeightWidthRatio = itemHeightWidthRatio;\n        mCheckedChildSize = false;\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setReverse(boolean reverse) {\n        if (mReverse != reverse) {\n            mReverse = reverse;\n            if (getChildCount() &gt; 0) {\n                requestLayout();\n            }\n        }\n    }\n\n    public boolean isReverse() {\n        return mReverse;\n    }\n\n\n\n    public int getFixedScrollPosition(int direction, float fixValue) {\n        if (mCheckedChildSize) {\n            if (mScrollOffset % mChildSize[mOrientation] == 0) {\n                return RecyclerView.NO_POSITION;\n            }\n            float position = mScrollOffset * 1.0f / mChildSize[mOrientation];\n            return convert2AdapterPosition((int) (direction &gt; 0 ? position + fixValue : position + (1 - fixValue)) - 1);\n        }\n        return RecyclerView.NO_POSITION;\n    }\n\n\n    @Override\n    public void onMeasure(RecyclerView.Recycler recycler, RecyclerView.State state, int widthSpec, int heightSpec) {\n        super.onMeasure(recycler, state, widthSpec, heightSpec);\n        mCheckedChildSize = false;\n    }\n\n    @Override\n    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\n        if (state.getItemCount() == 0) {\n            removeAndRecycleAllViews(recycler);\n            return;\n        }\n        if (!mCheckedChildSize) {\n            if (mOrientation == VERTICAL) {\n                mChildSize[0] = getHorizontalSpace();\n                mChildSize[1] = (int) (mItemHeightWidthRatio * mChildSize[0]);\n            } else {\n                mChildSize[1] = getVerticalSpace();\n                mChildSize[0] = (int) (mChildSize[1] / mItemHeightWidthRatio);\n            }\n            mChildPeekSize = mChildPeekSizeInput == 0 ?\n                    (int) (mChildSize[mOrientation] * DEFAULT_CHILD_LAYOUT_OFFSET) : mChildPeekSizeInput;\n            mCheckedChildSize = true;\n        }\n        int itemCount = getItemCount();\n        if (mReverse) {\n            mScrollOffset += (itemCount - mChildCount) * mChildSize[mOrientation];\n        }\n        mChildCount = itemCount;\n        mScrollOffset = makeScrollOffsetWithinRange(mScrollOffset);\n        fill(recycler);\n    }\n\n    public void fill(RecyclerView.Recycler recycler) {\n        int bottomItemPosition = (int) Math.floor(mScrollOffset / mChildSize[mOrientation]);//&gt;=1\n        int bottomItemVisibleSize = mScrollOffset % mChildSize[mOrientation];\n        final float offsetPercent = mInterpolator.getInterpolation(\n                bottomItemVisibleSize * 1.0f / mChildSize[mOrientation]);//[0,1)\n        final int space = mOrientation == VERTICAL ? getVerticalSpace() : getHorizontalSpace();\n\n        ArrayList&lt;ItemLayoutInfo&gt; layoutInfos = new ArrayList&lt;&gt;();\n        for (int i = bottomItemPosition - 1, j = 1, remainSpace = space - mChildSize[mOrientation];\n             i &gt;= 0; i--, j++) {\n            double maxOffset = mChildPeekSize * Math.pow(mScale, j);\n            int start = (int) (remainSpace - offsetPercent * maxOffset);\n            ItemLayoutInfo info = new ItemLayoutInfo(start,\n                    (float) (Math.pow(mScale, j - 1) * (1 - offsetPercent * (1 - mScale))),\n                    offsetPercent,\n                    start * 1.0f / space\n            );\n            layoutInfos.add(0, info);\n\n            if (mMaxItemLayoutCount != UNLIMITED &amp;&amp; j == mMaxItemLayoutCount - 1) {\n                if (offsetPercent != 0) {\n                    info.start = remainSpace;\n                    info.positionOffsetPercent = 0;\n                    info.layoutPercent = remainSpace / space;\n                    info.scaleXY = (float) Math.pow(mScale, j - 1);\n                }\n                break;\n            }\n            remainSpace -= maxOffset;\n            if (remainSpace &lt;= 0) {\n                info.start = (int) (remainSpace + maxOffset);\n                info.positionOffsetPercent = 0;\n                info.layoutPercent = info.start / space;\n                info.scaleXY = (float) Math.pow(mScale, j - 1);\n                break;\n            }\n        }\n\n        if (bottomItemPosition &lt; mChildCount) {\n            final int start = space - bottomItemVisibleSize;\n            layoutInfos.add(new ItemLayoutInfo(start, 1.0f,\n                    bottomItemVisibleSize * 1.0f / mChildSize[mOrientation], start * 1.0f / space).\n                    setIsBottom());\n        } else {\n            bottomItemPosition -= 1;\n        }\n\n        int layoutCount = layoutInfos.size();\n\n        final int startPos = bottomItemPosition - (layoutCount - 1);\n        final int endPos = bottomItemPosition;\n        final int childCount = getChildCount();\n        for (int i = childCount - 1; i &gt;= 0; i--) {\n            View childView = getChildAt(i);\n            int pos = convert2LayoutPosition(getPosition(childView));\n            if (pos &gt; endPos || pos &lt; startPos) {\n                removeAndRecycleView(childView, recycler);\n            }\n        }\n        detachAndScrapAttachedViews(recycler);\n\n        for (int i = 0; i &lt; layoutCount; i++) {\n            fillChild(recycler.getViewForPosition(convert2AdapterPosition(startPos + i)), layoutInfos.get(i));\n        }\n    }\n\n    private void fillChild(View view, ItemLayoutInfo layoutInfo) {\n        addView(view);\n        measureChildWithExactlySize(view);\n        final int scaleFix = (int) (mChildSize[mOrientation] * (1 - layoutInfo.scaleXY) / 2);\n        final float gap = (mOrientation == VERTICAL ? getHorizontalSpace() : getVerticalSpace())\n                - mChildSize[(mOrientation + 1) % 2] * layoutInfo.scaleXY;\n\n        if (mOrientation == VERTICAL) {\n            int left = (int) (getPaddingLeft() + (gap * 0.5 * mVanishOffset));\n            layoutDecoratedWithMargins(view, left, layoutInfo.start - scaleFix\n                    , left + mChildSize[0], layoutInfo.start + mChildSize[1] - scaleFix);\n        } else {\n            int top = (int) (getPaddingTop() + (gap * 0.5 * mVanishOffset));\n            layoutDecoratedWithMargins(view, layoutInfo.start - scaleFix, top\n                    , layoutInfo.start + mChildSize[0] - scaleFix, top + mChildSize[1]);\n        }\n        ViewCompat.setScaleX(view, layoutInfo.scaleXY);\n        ViewCompat.setScaleY(view, layoutInfo.scaleXY);\n        if (mDecorateHelper != null) {\n            mDecorateHelper.decorateChild(view, layoutInfo.positionOffsetPercent, layoutInfo.layoutPercent, layoutInfo.isBottom);\n        }\n    }\n\n    private void measureChildWithExactlySize(View child) {\n        RecyclerView.LayoutParams lp = (RecyclerView.LayoutParams) child.getLayoutParams();\n        final int widthSpec = View.MeasureSpec.makeMeasureSpec(\n                mChildSize[0] - lp.leftMargin - lp.rightMargin, View.MeasureSpec.EXACTLY);\n        final int heightSpec = View.MeasureSpec.makeMeasureSpec(\n                mChildSize[1] - lp.topMargin - lp.bottomMargin, View.MeasureSpec.EXACTLY);\n        child.measure(widthSpec, heightSpec);\n    }\n\n    private int makeScrollOffsetWithinRange(int scrollOffset) {\n        return Math.min(Math.max(mChildSize[mOrientation], scrollOffset), mChildCount * mChildSize[mOrientation]);\n    }\n\n\n    @Override\n    public int scrollVerticallyBy(int dy, RecyclerView.Recycler recycler, RecyclerView.State state) {\n        int pendingScrollOffset = mScrollOffset + dy;\n        mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\n        fill(recycler);\n        return mScrollOffset - pendingScrollOffset + dy;\n    }\n\n    @Override\n    public int scrollHorizontallyBy(int dx, RecyclerView.Recycler recycler, RecyclerView.State state) {\n        int pendingScrollOffset = mScrollOffset + dx;\n        mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\n        fill(recycler);\n        return mScrollOffset - pendingScrollOffset + dx;\n    }\n\n    @Override\n    public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State state, int position) {\n        final LinearSmoothScroller linearSmoothScroller = new LinearSmoothScroller(recyclerView.getContext()) {\n            @Override\n            public int calculateDyToMakeVisible(final View view, final int snapPreference) {\n                if (mOrientation == VERTICAL) {\n                    return -calculateDistanceToPosition(getPosition(view));\n                }\n                return 0;\n            }\n\n            @Override\n            public int calculateDxToMakeVisible(final View view, final int snapPreference) {\n                if (mOrientation == HORIZONTAL) {\n                    return -calculateDistanceToPosition(getPosition(view));\n                }\n                return 0;\n            }\n        };\n        linearSmoothScroller.setTargetPosition(position);\n        startSmoothScroll(linearSmoothScroller);\n    }\n\n\n    public int calculateDistanceToPosition(int targetPos) {\n        int pendingScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(targetPos) + 1);\n        return pendingScrollOffset - mScrollOffset;\n    }\n\n\n    @Override\n    public void scrollToPosition(int position) {\n        if (position &gt; 0 &amp;&amp; position &lt; mChildCount) {\n            mScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(position) + 1);\n            requestLayout();\n        }\n    }\n\n\n    @Override\n    public boolean canScrollVertically() {\n        return mOrientation == VERTICAL;\n    }\n\n    @Override\n    public boolean canScrollHorizontally() {\n        return mOrientation == HORIZONTAL;\n    }\n\n    public int convert2AdapterPosition(int layoutPosition) {\n        return mReverse ? mChildCount - 1 - layoutPosition : layoutPosition;\n    }\n\n    public int convert2LayoutPosition(int adapterPostion) {\n        return mReverse ? mChildCount - 1 - adapterPostion : adapterPostion;\n    }\n\n    public int getVerticalSpace() {\n        return getHeight() - getPaddingTop() - getPaddingBottom();\n    }\n\n    public int getHorizontalSpace() {\n        return getWidth() - getPaddingLeft() - getPaddingRight();\n    }\n\n    @Override\n    public PointF computeScrollVectorForPosition(int targetPosition) {\n        int pos = convert2LayoutPosition(targetPosition);\n        int scrollOffset = (pos + 1) * mChildSize[mOrientation];\n        return mOrientation == VERTICAL ? new PointF(0, Math.signum(scrollOffset - mScrollOffset))\n                : new PointF(Math.signum(scrollOffset - mScrollOffset), 0);\n    }\n\n    private static class ItemLayoutInfo {\n        float scaleXY;\n        float layoutPercent;\n        float positionOffsetPercent;\n        int start;\n        boolean isBottom;\n\n        ItemLayoutInfo(int top, float scale, float positonOffset, float percent) {\n            this.start = top;\n            this.scaleXY = scale;\n            this.positionOffsetPercent = positonOffset;\n            this.layoutPercent = percent;\n        }\n\n        ItemLayoutInfo setIsBottom() {\n            isBottom = true;\n            return this;\n        }\n\n    }\n\n\n    @Override\n    public Parcelable onSaveInstanceState() {\n        SavedState savedState = new SavedState();\n        savedState.scrollOffset = mScrollOffset;\n        savedState.reverse = mReverse;\n        savedState.vanishOffset = mVanishOffset;\n        savedState.scale = mScale;\n        savedState.childLayoutOffsetInput = mChildPeekSizeInput;\n        savedState.itemHeightWidthRatio = mItemHeightWidthRatio;\n        savedState.orientation = mOrientation;\n        return savedState;\n    }\n\n    @Override\n    public void onRestoreInstanceState(Parcelable state) {\n        if (state instanceof SavedState) {\n            SavedState s = (SavedState) state;\n            mScrollOffset = s.scrollOffset;\n            mReverse = s.reverse;\n            mVanishOffset = s.vanishOffset;\n            mScale = s.scale;\n            mChildPeekSizeInput = s.childLayoutOffsetInput;\n            mItemHeightWidthRatio = s.itemHeightWidthRatio;\n            mOrientation = s.orientation;\n            requestLayout();\n        }\n    }\n\n    public static class SavedState implements Parcelable {\n\n        int scrollOffset, childLayoutOffsetInput, orientation;\n        float itemHeightWidthRatio, scale, elevation, vanishOffset;\n        boolean reverse;\n\n        public SavedState() {\n        }\n\n        SavedState(LadderLayoutManager.SavedState other) {\n            scrollOffset = other.scrollOffset;\n            childLayoutOffsetInput = other.childLayoutOffsetInput;\n            orientation = other.orientation;\n            itemHeightWidthRatio = other.itemHeightWidthRatio;\n            scale = other.scale;\n            elevation = other.elevation;\n            vanishOffset = other.vanishOffset;\n            reverse = other.reverse;\n        }\n\n        SavedState(Parcel in) {\n            scrollOffset = in.readInt();\n            childLayoutOffsetInput = in.readInt();\n            orientation = in.readInt();\n            itemHeightWidthRatio = in.readFloat();\n            scale = in.readFloat();\n            elevation = in.readFloat();\n            vanishOffset = in.readFloat();\n            reverse = in.readInt() == 1;\n        }\n\n        @Override\n        public void writeToParcel(Parcel dest, int flags) {\n            dest.writeInt(scrollOffset);\n            dest.writeInt(childLayoutOffsetInput);\n            dest.writeInt(orientation);\n            dest.writeFloat(itemHeightWidthRatio);\n            dest.writeFloat(scale);\n            dest.writeFloat(elevation);\n            dest.writeFloat(vanishOffset);\n            dest.writeInt(reverse ? 1 : 0);\n        }\n\n        @Override\n        public int describeContents() {\n            return 0;\n        }\n\n        public static final Creator&lt;SavedState&gt; CREATOR\n                = new Creator&lt;SavedState&gt;() {\n            @Override\n            public LadderLayoutManager.SavedState createFromParcel(Parcel in) {\n                return new LadderLayoutManager.SavedState(in);\n            }\n\n            @Override\n            public LadderLayoutManager.SavedState[] newArray(int size) {\n                return new LadderLayoutManager.SavedState[size];\n            }\n        };\n    }\n\n\n    public interface ChildDecorateHelper {\n\n        void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom);\n    }\n\n    public static class DefaultChildDecorateHelper implements ChildDecorateHelper {\n        private float mElevation;\n\n        public DefaultChildDecorateHelper(float maxElevation) {\n            mElevation = maxElevation;\n        }\n\n        @Override\n        public void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom) {\n            ViewCompat.setElevation(child, (float) (layoutPercent * mElevation * 0.7 + mElevation * 0.3));\n        }\n    }\n}\n</code></pre>\n<p>Here is my code for snaphelper</p>\n<pre><code>public class LadderSimpleSnapHelper extends SnapHelper {\n    private int mDirection;\n    //int position = layoutManager.getPosition(centerView);\n    @Override\n    public int[] calculateDistanceToFinalSnap(\n            @NonNull RecyclerView.LayoutManager layoutManager, @NonNull View targetView) {\n\n        if (layoutManager instanceof LadderLayoutManager) {\n            int[] out = new int[2];\n            if (layoutManager.canScrollHorizontally()) {\n                out[0] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\n                        layoutManager.getPosition(targetView));\n                out[1] = 0;\n            } else {\n                out[0] = 0;\n                out[1] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\n                        layoutManager.getPosition(targetView));\n            }\n            return out;\n        }\n        return null;\n    }\n\n    @Override\n    public int findTargetSnapPosition(RecyclerView.LayoutManager layoutManager, int velocityX,\n                                      int velocityY) {\n        if (layoutManager.canScrollHorizontally()) {\n\n                mDirection = velocityX;\n            } else {\n                mDirection = velocityY;\n            }\n        return RecyclerView.NO_POSITION;\n    }\n\n    @Override\n    public View findSnapView(RecyclerView.LayoutManager layoutManager) {\n        if (layoutManager instanceof LadderLayoutManager) {\n            int pos = ((LadderLayoutManager) layoutManager).getFixedScrollPosition(\n                    mDirection, mDirection != 0 ? 0.8f : 0.5f);\n            mDirection = 0;\n            if (pos != RecyclerView.NO_POSITION) {\n                return layoutManager.findViewByPosition(pos);\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","java-19","project-loom"],"answers":[{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673794604,"creation_date":1667524200,"answer_id":74311121,"question_id":74311120,"body_markdown":"Consider this `build.gradle` file:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &quot;net.codetojoy.Runner&quot;\r\n\r\ncompileJava {\r\n    options.compilerArgs.addAll([&#39;--release&#39;, &#39;19&#39;]) \r\n    options.compilerArgs.addAll([&#39;--enable-preview&#39;])\r\n    options.compilerArgs.addAll([&#39;--add-modules&#39;, &#39;jdk.incubator.concurrent&#39;])\r\n}\r\n\r\napplication {\r\n    applicationDefaultJvmArgs = [&#39;--enable-preview&#39;, \r\n                                 &#39;--add-modules&#39;, &#39;jdk.incubator.concurrent&#39;]\r\n}\r\n```\r\n[Here](https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_JDK19_Preview) is a working example, which uses the Gradle wrapper for 7.6-rc-1, and illustrates structured concurrency.","title":"Java 19 preview, incubator features with Gradle","body":"<p>Consider this <code>build.gradle</code> file:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nmainClassName = &quot;net.codetojoy.Runner&quot;\n\ncompileJava {\n    options.compilerArgs.addAll(['--release', '19']) \n    options.compilerArgs.addAll(['--enable-preview'])\n    options.compilerArgs.addAll(['--add-modules', 'jdk.incubator.concurrent'])\n}\n\napplication {\n    applicationDefaultJvmArgs = ['--enable-preview', \n                                 '--add-modules', 'jdk.incubator.concurrent']\n}\n</code></pre>\n<p><a href=\"https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_JDK19_Preview\" rel=\"nofollow noreferrer\">Here</a> is a working example, which uses the Gradle wrapper for 7.6-rc-1, and illustrates structured concurrency.</p>\n"}],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1667527800,"answer_count":1,"score":2,"last_activity_date":1682417644,"creation_date":1667524200,"question_id":74311120,"body_markdown":"Java 19 has new features: virtual threads (as preview) and structured concurrency (as incubator). Gradle 7.6 will support Java 19. Given that 7.6-rc-1 is available, how can I try out these new features? I have working Bash scripts like the following:\r\n\r\ncompile:\r\n\r\n```bash\r\njavac --release 19 --enable-preview \\\r\n--add-modules jdk.incubator.concurrent \\\r\n-cp $CLASSPATH \\\r\n[snip]\r\n```\r\n\r\nrun:\r\n\r\n```bash\r\njava --enable-preview \\\r\n-cp $CLASSPATH \\\r\n--add-modules jdk.incubator.concurrent \\\r\nnet.codetojoy.Runner\r\n```\r\n\r\nHow are these flags translated into Gradle?","title":"Java 19 preview, incubator features with Gradle","body":"<p>Java 19 has new features: virtual threads (as preview) and structured concurrency (as incubator). Gradle 7.6 will support Java 19. Given that 7.6-rc-1 is available, how can I try out these new features? I have working Bash scripts like the following:</p>\n<p>compile:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac --release 19 --enable-preview \\\n--add-modules jdk.incubator.concurrent \\\n-cp $CLASSPATH \\\n[snip]\n</code></pre>\n<p>run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --enable-preview \\\n-cp $CLASSPATH \\\n--add-modules jdk.incubator.concurrent \\\nnet.codetojoy.Runner\n</code></pre>\n<p>How are these flags translated into Gradle?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651312648,"creation_date":1651312648,"answer_id":72067448,"question_id":72067303,"body_markdown":"I tried this and it worked as expected.\r\nIterate using a loop and create a terms query in each iteration and call should(termsQuery) in each iteration. ","title":"Terms query in java spring boot","body":"<p>I tried this and it worked as expected.\nIterate using a loop and create a terms query in each iteration and call should(termsQuery) in each iteration.</p>\n"},{"tags":[],"owner":{"account_id":6347349,"reputation":1,"user_id":4927455,"display_name":"Nirbhay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652188815,"creation_date":1652187491,"answer_id":72186769,"question_id":72067303,"body_markdown":"We can add multiple terms in single should clause by using below code \r\n      \r\n    BoolQueryBuilder query = boolQuery()\r\n                .should(termQuery(&quot;segment_status.nse_status&quot;, new int[]{2,3}).boost(1f))\r\n                .should(termQuery(&quot;segment_status.pml_status&quot;, new int[]{2,3}).boost(1f));\r\n","title":"Terms query in java spring boot","body":"<p>We can add multiple terms in single should clause by using below code</p>\n<pre><code>BoolQueryBuilder query = boolQuery()\n            .should(termQuery(&quot;segment_status.nse_status&quot;, new int[]{2,3}).boost(1f))\n            .should(termQuery(&quot;segment_status.pml_status&quot;, new int[]{2,3}).boost(1f));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23110141,"reputation":1,"user_id":17218198,"display_name":"Akshay Kamble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682417609,"creation_date":1682149952,"answer_id":76078574,"question_id":72067303,"body_markdown":"```java\r\nSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\nTermsQueryBuilder nseStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.nse_status&quot;, 2, 3);\r\nTermsQueryBuilder pmlStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.pml_status&quot;, 2, 3);\r\n\r\nsourceBuilder.query(QueryBuilders.boolQuery().should(nseStatusQueryBuilder).should(pmlStatusQueryBuilder));\r\nelasticsearchTemplate.search(new NativeSearchQueryBuilder().withSource(sourceBuilder).build(), YourDocument.class);\r\n```\r\nHere we created two terms query using `TermsQueryBuilder` and then using `boolQuery` and should method attached those query to should.\r\n\r\n\r\n\r\n \r\n \r\n ","title":"Terms query in java spring boot","body":"<pre class=\"lang-java prettyprint-override\"><code>SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\nTermsQueryBuilder nseStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.nse_status&quot;, 2, 3);\nTermsQueryBuilder pmlStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.pml_status&quot;, 2, 3);\n\nsourceBuilder.query(QueryBuilders.boolQuery().should(nseStatusQueryBuilder).should(pmlStatusQueryBuilder));\nelasticsearchTemplate.search(new NativeSearchQueryBuilder().withSource(sourceBuilder).build(), YourDocument.class);\n</code></pre>\n<p>Here we created two terms query using <code>TermsQueryBuilder</code> and then using <code>boolQuery</code> and should method attached those query to should.</p>\n"}],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682417609,"creation_date":1651311408,"question_id":72067303,"body_markdown":"I&#39;m trying to add terms in the should clause of ES query in java spring boot. I need it to look like this: \r\n```\r\n&quot;should&quot;: [\r\n    {\r\n      &quot;terms&quot;: {\r\n        &quot;segment_status.nse_status&quot;: [\r\n          2,\r\n          3\r\n        ],\r\n        &quot;boost&quot;: 1\r\n      }\r\n    },\r\n    {\r\n      &quot;terms&quot;: {\r\n        &quot;segment_status.pml_status&quot;: [\r\n          2,\r\n          3\r\n        ],\r\n        &quot;boost&quot;: 1\r\n      }\r\n    }\r\n  ]\r\n```\r\nI&#39;m able to add only one terms condition for each should clause, but I need to append multiple terms in the same should clause. My code currently: \r\n```\r\nTermsQueryBuilder termsQuery = termsQuery(SEGMENT_STATUS + DOT + &quot;bse_status&quot;, failedUserStatues);\r\nBoolQueryBuilder includeCriteria = boolQuery();\r\nincludeCriteria.should(termsQuery);\r\nNestedQueryBuilder nestedQueryForCriteria = nestedQuery(SEGMENT_STATUS, includeCriteria, ScoreMode.Avg);\r\nsearchQuery.must(nestedQueryForCriteria);\r\n```\r\n\r\nI&#39;m using spring boot and ES version 6.4","title":"Terms query in java spring boot","body":"<p>I'm trying to add terms in the should clause of ES query in java spring boot. I need it to look like this:</p>\n<pre><code>&quot;should&quot;: [\n    {\n      &quot;terms&quot;: {\n        &quot;segment_status.nse_status&quot;: [\n          2,\n          3\n        ],\n        &quot;boost&quot;: 1\n      }\n    },\n    {\n      &quot;terms&quot;: {\n        &quot;segment_status.pml_status&quot;: [\n          2,\n          3\n        ],\n        &quot;boost&quot;: 1\n      }\n    }\n  ]\n</code></pre>\n<p>I'm able to add only one terms condition for each should clause, but I need to append multiple terms in the same should clause. My code currently:</p>\n<pre><code>TermsQueryBuilder termsQuery = termsQuery(SEGMENT_STATUS + DOT + &quot;bse_status&quot;, failedUserStatues);\nBoolQueryBuilder includeCriteria = boolQuery();\nincludeCriteria.should(termsQuery);\nNestedQueryBuilder nestedQueryForCriteria = nestedQuery(SEGMENT_STATUS, includeCriteria, ScoreMode.Avg);\nsearchQuery.must(nestedQueryForCriteria);\n</code></pre>\n<p>I'm using spring boot and ES version 6.4</p>\n"},{"tags":["java","java-19","structured-concurrency"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668619709,"creation_date":1668619709,"answer_id":74464753,"question_id":74464598,"body_markdown":"SUGGESTION: Encapsulate the functionality you need in a subclass.  \r\n\r\nFrom the Incubator documentation:\r\n\r\n&gt; https://download.java.net/java/early_access/loom/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html\r\n&gt; \r\n&gt; **Extending StructuredTaskScope**\r\n&gt; \r\n&gt; StructuredTaskScope can be extended, and the handleComplete\r\n&gt; overridden, to implement policies other than those implemented by\r\n&gt; ShutdownOnSuccess and ShutdownOnFailure. The method may be overridden\r\n&gt; to, for example, collect the results of subtasks that complete with a\r\n&gt; result and ignore subtasks that fail. It may collect exceptions when\r\n&gt; subtasks fail. It may invoke the shutdown method to shut down and\r\n&gt; cause join to wakeup when some condition arises.\r\n&gt; \r\n&gt; A subclass will typically define methods to make available results,\r\n&gt; state, or other outcome to code that executes after the join method. A\r\n&gt; subclass that collects results and ignores subtasks that fail may\r\n&gt; define a method that returns a collection of results. A subclass that\r\n&gt; implements a policy to shut down when a subtask fails may define a\r\n&gt; method to retrieve the exception of the first subtask to fail.\r\n\r\n","title":"How can I know if a Java 19 Structured Concurrency StructuredTaskScope is shutdown ( canceled )?","body":"<p>SUGGESTION: Encapsulate the functionality you need in a subclass.</p>\n<p>From the Incubator documentation:</p>\n<blockquote>\n<p><a href=\"https://download.java.net/java/early_access/loom/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html\" rel=\"nofollow noreferrer\">https://download.java.net/java/early_access/loom/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html</a></p>\n<p><strong>Extending StructuredTaskScope</strong></p>\n<p>StructuredTaskScope can be extended, and the handleComplete\noverridden, to implement policies other than those implemented by\nShutdownOnSuccess and ShutdownOnFailure. The method may be overridden\nto, for example, collect the results of subtasks that complete with a\nresult and ignore subtasks that fail. It may collect exceptions when\nsubtasks fail. It may invoke the shutdown method to shut down and\ncause join to wakeup when some condition arises.</p>\n<p>A subclass will typically define methods to make available results,\nstate, or other outcome to code that executes after the join method. A\nsubclass that collects results and ignores subtasks that fail may\ndefine a method that returns a collection of results. A subclass that\nimplements a policy to shut down when a subtask fails may define a\nmethod to retrieve the exception of the first subtask to fail.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669210064,"creation_date":1669210064,"answer_id":74547554,"question_id":74464598,"body_markdown":"Working code (as an experiment) located [here](https://github.com/codetojoy/easter_eggs_for_java_loom/tree/main/egg_StackOverflow_74464598).\r\n\r\nGiven this:\r\n\r\n```\r\nvar result = &quot;error&quot;;\r\n\r\ntry (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\r\n     var numOrders = scope.fork(() -&gt; taskGetNumItemsFromRequest()); \r\n     var price = scope.fork(() -&gt; taskGetPriceFromDB());\r\n\r\n    if (doShutdown) {\r\n        scope.shutdown();\r\n    }\r\n            \r\n    scope.join();          \r\n    scope.throwIfFailed();\r\n\r\n    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\r\n} catch (Exception ex) {\r\n    if (ex != null) {\r\n        System.err.println(&quot;caught ex: &quot; + ex.getClass());\r\n        System.err.println(&quot;caught ex message: &quot; + ex.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nthen this line:\r\n\r\n```\r\n    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\r\n```\r\n\r\nwill throw an Exception if the scope is shutdown. [See the code](https://github.com/openjdk/jdk19/blob/master/src/java.base/share/classes/java/util/concurrent/Future.java) for `Future.resultNow()`.\r\n\r\nIt&#39;s unclear if you want to distinguish between other exception cases, such as *closing* the scope, or an exception thrown by a subtask? If you do want to distinguish, it would help to explain the reason in the question (i.e. the ultimate goal).\r\n\r\nIn general, there should be two paths: the happy-path for `result` and then a path of an exception being thrown (for whatever reason). \r\n","title":"How can I know if a Java 19 Structured Concurrency StructuredTaskScope is shutdown ( canceled )?","body":"<p>Working code (as an experiment) located <a href=\"https://github.com/codetojoy/easter_eggs_for_java_loom/tree/main/egg_StackOverflow_74464598\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Given this:</p>\n<pre><code>var result = &quot;error&quot;;\n\ntry (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\n     var numOrders = scope.fork(() -&gt; taskGetNumItemsFromRequest()); \n     var price = scope.fork(() -&gt; taskGetPriceFromDB());\n\n    if (doShutdown) {\n        scope.shutdown();\n    }\n            \n    scope.join();          \n    scope.throwIfFailed();\n\n    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\n} catch (Exception ex) {\n    if (ex != null) {\n        System.err.println(&quot;caught ex: &quot; + ex.getClass());\n        System.err.println(&quot;caught ex message: &quot; + ex.getMessage());\n    }\n}\n</code></pre>\n<p>then this line:</p>\n<pre><code>    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\n</code></pre>\n<p>will throw an Exception if the scope is shutdown. <a href=\"https://github.com/openjdk/jdk19/blob/master/src/java.base/share/classes/java/util/concurrent/Future.java\" rel=\"nofollow noreferrer\">See the code</a> for <code>Future.resultNow()</code>.</p>\n<p>It's unclear if you want to distinguish between other exception cases, such as <em>closing</em> the scope, or an exception thrown by a subtask? If you do want to distinguish, it would help to explain the reason in the question (i.e. the ultimate goal).</p>\n<p>In general, there should be two paths: the happy-path for <code>result</code> and then a path of an exception being thrown (for whatever reason).</p>\n"}],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682417608,"creation_date":1668618928,"question_id":74464598,"body_markdown":"A Java 19 ShutdownOnFailure scope also allows for explicit cancellation of all tasks using the shutdown method. How can I know if the scope has been shutdown? The API includes an isShutdown method, but it is private.\r\n\r\nHere is some (incomplete) code just to illustrate a possible use, where a scope is canceled some time after starting by the owner calling shutdown.\r\n\r\nI guess that after a join() I could issue another scope.fork() and check if if returns a future to a canceled task but that seems weird.  Is that the way to go?\r\n\r\n```java\r\nExecutorService executor = Executors.newCachedThreadPool();\r\ntry (StructuredTaskScope.ShutdownOnFailure scope = new StructuredTaskScope.ShutdownOnFailure()) {\r\n\tFuture&lt;Integer&gt; numOrders = scope.fork(Business::getNumItemsFromRequest);\r\n\tFuture&lt;Double&gt; price = scope.fork(Business::getPriceFromDB);\r\n\t\r\n\tBusiness.sleepFor(500);\r\n\tscope.shutdown(); // cancels all the scope tasks\r\n\t//numOrders.cancel(true); // cancel just one task\r\n\t\r\n\tscope.join(); // wait for all tasks\r\n\ttry {\r\n\t\tscope.throwIfFailed();\r\n\t\t// how would I know if scope was shutdown before all tasks completed?\r\n\t\tSystem.out.println(&quot;Scope Completed Without Errors ( But possibly canceled ) &quot;);\r\n\t\tdouble amount = numOrders.get() * price.get();\r\n```\r\n","title":"How can I know if a Java 19 Structured Concurrency StructuredTaskScope is shutdown ( canceled )?","body":"<p>A Java 19 ShutdownOnFailure scope also allows for explicit cancellation of all tasks using the shutdown method. How can I know if the scope has been shutdown? The API includes an isShutdown method, but it is private.</p>\n<p>Here is some (incomplete) code just to illustrate a possible use, where a scope is canceled some time after starting by the owner calling shutdown.</p>\n<p>I guess that after a join() I could issue another scope.fork() and check if if returns a future to a canceled task but that seems weird.  Is that the way to go?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor = Executors.newCachedThreadPool();\ntry (StructuredTaskScope.ShutdownOnFailure scope = new StructuredTaskScope.ShutdownOnFailure()) {\n    Future&lt;Integer&gt; numOrders = scope.fork(Business::getNumItemsFromRequest);\n    Future&lt;Double&gt; price = scope.fork(Business::getPriceFromDB);\n    \n    Business.sleepFor(500);\n    scope.shutdown(); // cancels all the scope tasks\n    //numOrders.cancel(true); // cancel just one task\n    \n    scope.join(); // wait for all tasks\n    try {\n        scope.throwIfFailed();\n        // how would I know if scope was shutdown before all tasks completed?\n        System.out.println(&quot;Scope Completed Without Errors ( But possibly canceled ) &quot;);\n        double amount = numOrders.get() * price.get();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1427658540,"post_id":29333960,"comment_id":46856802,"body_markdown":"This -&gt; `Foo newFoo = existing;` doesn&#39;t create a new instance of `Foo`. Just a new reference to the same instance.","body":"This -&gt; <code>Foo newFoo = existing;</code> doesn&#39;t create a new instance of <code>Foo</code>. Just a new reference to the same instance."},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1427658573,"post_id":29333960,"comment_id":46856810,"body_markdown":"If I was you I&#39;d be looking at the clone() method, seen as you don&#39;t want to manipulate the first object, rather a clone of it..","body":"If I was you I&#39;d be looking at the clone() method, seen as you don&#39;t want to manipulate the first object, rather a clone of it.."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1682417588,"creation_date":1427658498,"answer_id":29333984,"question_id":29333960,"body_markdown":"You can create a new instance at Runtime with:\r\n\r\n    Foo newFoo = existing.getClass().newInstance();\r\n\r\nNote that the newly created instance **will not be** a copy of the `existing` one.\r\n\r\nHowever, if you *do need* to a have a copy of the `existing` object, you can play a bit with the `Clonable` interface.\r\n\r\nFirst, you have to make the `Foo` class implement the `Cloneable` interface:\r\n\r\n    public class Foo implements Cloneable { ... }\r\n\r\nThen, you need to provide an implementation of the `clone()` method that will return a copy of you object:\r\n\r\n    public Foo clone() {\r\n        return new Foo(this.id, this.name); //for example\r\n    }\r\n\r\nAnd finally, you can invoke the newly introduced `clone()` method like this:\r\n\r\n    Foo newFoo = existing.clone();\r\n\r\nThis will give you a fresh `Foo` object, but with a copied properties from the `existing` one.","title":"create new instance from existing instance","body":"<p>You can create a new instance at Runtime with:</p>\n<pre><code>Foo newFoo = existing.getClass().newInstance();\n</code></pre>\n<p>Note that the newly created instance <strong>will not be</strong> a copy of the <code>existing</code> one.</p>\n<p>However, if you <em>do need</em> to a have a copy of the <code>existing</code> object, you can play a bit with the <code>Clonable</code> interface.</p>\n<p>First, you have to make the <code>Foo</code> class implement the <code>Cloneable</code> interface:</p>\n<pre><code>public class Foo implements Cloneable { ... }\n</code></pre>\n<p>Then, you need to provide an implementation of the <code>clone()</code> method that will return a copy of you object:</p>\n<pre><code>public Foo clone() {\n    return new Foo(this.id, this.name); //for example\n}\n</code></pre>\n<p>And finally, you can invoke the newly introduced <code>clone()</code> method like this:</p>\n<pre><code>Foo newFoo = existing.clone();\n</code></pre>\n<p>This will give you a fresh <code>Foo</code> object, but with a copied properties from the <code>existing</code> one.</p>\n"},{"tags":[],"owner":{"account_id":1911974,"reputation":8959,"user_id":1725558,"display_name":"Anderson Vieira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427659097,"creation_date":1427658611,"answer_id":29334008,"question_id":29333960,"body_markdown":"Note that when you do\r\n\r\n    Foo newFoo = existing;\r\n\r\nYou are not creating a new instance. Instead, you are simply pointing the `newFoo` variable to the same object `existing` points to.\r\n\r\nWhat you&#39;re doing is basically this:\r\n\r\n    Foo existing = new Foo(1, &quot;foo&quot;)       &lt;=&gt; existing -&gt; Foo(1, &quot;foo&quot;)\r\n    Foo newFoo = existing                  &lt;=&gt; existing -&gt; Foo(1, &quot;foo&quot;) &lt;- newFoo\r\n    newFoo.setName(&quot;bar&quot;)                  &lt;=&gt; existing -&gt; Foo(1, &quot;bar&quot;) &lt;- newFoo\r\n    System.out.println(existing.getName()) &lt;=&gt; System.out.println(Foo(1, &quot;bar&quot;).getName())\r\n\r\nIf you want to create a new instance you can do:\r\n\r\n    Foo newFoo = new Foo(existing.getId(), existing.getName());","title":"create new instance from existing instance","body":"<p>Note that when you do</p>\n\n<pre><code>Foo newFoo = existing;\n</code></pre>\n\n<p>You are not creating a new instance. Instead, you are simply pointing the <code>newFoo</code> variable to the same object <code>existing</code> points to.</p>\n\n<p>What you're doing is basically this:</p>\n\n<pre><code>Foo existing = new Foo(1, \"foo\")       &lt;=&gt; existing -&gt; Foo(1, \"foo\")\nFoo newFoo = existing                  &lt;=&gt; existing -&gt; Foo(1, \"foo\") &lt;- newFoo\nnewFoo.setName(\"bar\")                  &lt;=&gt; existing -&gt; Foo(1, \"bar\") &lt;- newFoo\nSystem.out.println(existing.getName()) &lt;=&gt; System.out.println(Foo(1, \"bar\").getName())\n</code></pre>\n\n<p>If you want to create a new instance you can do:</p>\n\n<pre><code>Foo newFoo = new Foo(existing.getId(), existing.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621730,"reputation":1346,"user_id":3746623,"accept_rate":100,"display_name":"Daniel K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427658667,"creation_date":1427658667,"answer_id":29334022,"question_id":29333960,"body_markdown":"You are creating a new reference, not a new instance. Try something like this...\n\n    Foo newFoo = oldFoo.clone()\n\nThis preserves the original objects&#39; values","title":"create new instance from existing instance","body":"<p>You are creating a new reference, not a new instance. Try something like this...</p>\n\n<pre><code>Foo newFoo = oldFoo.clone()\n</code></pre>\n\n<p>This preserves the original objects' values</p>\n"},{"tags":[],"owner":{"account_id":333028,"reputation":5096,"user_id":658663,"accept_rate":80,"display_name":"beresfordt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427658810,"creation_date":1427658810,"answer_id":29334056,"question_id":29333960,"body_markdown":"In the line\r\n\r\n    Foo newFoo = existing;\r\n\r\nYou are not creating a new instance of Foo; you are copying the reference of `existing` into the variable `newFoo` any actions taken on either `existing` or `newFoo` will affect the same underlying object\r\n\r\nThere is a very thorough discussion on how to copy an object in java here: https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\r\n\r\n","title":"create new instance from existing instance","body":"<p>In the line</p>\n\n<pre><code>Foo newFoo = existing;\n</code></pre>\n\n<p>You are not creating a new instance of Foo; you are copying the reference of <code>existing</code> into the variable <code>newFoo</code> any actions taken on either <code>existing</code> or <code>newFoo</code> will affect the same underlying object</p>\n\n<p>There is a very thorough discussion on how to copy an object in java here: <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\">How do I copy an object in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":5782474,"reputation":501,"user_id":4562676,"display_name":"tomse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427659167,"creation_date":1427659167,"answer_id":29334128,"question_id":29333960,"body_markdown":"To create a copy of your `Foo` instance you could inherit from `Cloneable` and implement a `clone()` method as follows:\r\n\r\n    class Foo implements Cloneable {\r\n      @Override\r\n      public Foo clone() {\r\n        try {\r\n          return (Foo)super.clone();\r\n        }\r\n        catch(CloneNotSupportedException e) {\r\n          throw new AssertionError(e);\r\n        }\r\n      }\r\n    }\r\n\r\n(see http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html as well)","title":"create new instance from existing instance","body":"<p>To create a copy of your <code>Foo</code> instance you could inherit from <code>Cloneable</code> and implement a <code>clone()</code> method as follows:</p>\n\n<pre><code>class Foo implements Cloneable {\n  @Override\n  public Foo clone() {\n    try {\n      return (Foo)super.clone();\n    }\n    catch(CloneNotSupportedException e) {\n      throw new AssertionError(e);\n    }\n  }\n}\n</code></pre>\n\n<p>(see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html</a> as well)</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427659305,"creation_date":1427659305,"answer_id":29334162,"question_id":29333960,"body_markdown":"Create a copy constructor:\n\n    public Foo (Foo another) {\n        this.propertyA = another.propertyA;\n        // etc.\n    }\n\nThen, inside the `for` loop:\n\n    Foo existing = new Foo(1, &quot;foo&quot;);\n\n    for (int i = 0; i &lt; 10; i++) {\n        Foo newFoo = new Foo(existing);\n        // system out etc\n    }\n\nThis is the best way to copy instances of a class.\n","title":"create new instance from existing instance","body":"<p>Create a copy constructor:</p>\n\n<pre><code>public Foo (Foo another) {\n    this.propertyA = another.propertyA;\n    // etc.\n}\n</code></pre>\n\n<p>Then, inside the <code>for</code> loop:</p>\n\n<pre><code>Foo existing = new Foo(1, \"foo\");\n\nfor (int i = 0; i &lt; 10; i++) {\n    Foo newFoo = new Foo(existing);\n    // system out etc\n}\n</code></pre>\n\n<p>This is the best way to copy instances of a class.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427660081,"creation_date":1427660081,"answer_id":29334297,"question_id":29333960,"body_markdown":"You are **not** creating a new instance, you are just creating a new variable which points to the same instance.You either have to create a copy constructor or create a new instance with values of the existing instance as shown below :\r\n\r\n    Foo instance = new Foo(existing.getPropertyA(), existing.getPropertyB());","title":"create new instance from existing instance","body":"<p>You are <strong>not</strong> creating a new instance, you are just creating a new variable which points to the same instance.You either have to create a copy constructor or create a new instance with values of the existing instance as shown below :</p>\n\n<pre><code>Foo instance = new Foo(existing.getPropertyA(), existing.getPropertyB());\n</code></pre>\n"}],"owner":{"account_id":6019780,"reputation":63,"user_id":4727300,"display_name":"Temp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17511,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29333984,"answer_count":7,"score":6,"last_activity_date":1682417588,"creation_date":1427658399,"question_id":29333960,"body_markdown":"For some reason when I create a new instance of an object from an existing instance and change values in the new instance, it also changes the values in the existing instance. I would prefer if it only changed the state of the values in the new instance though. I&#39;m not sure why this is happening.\r\n\r\n    Foo existing = new Foo(1, &quot;foo&quot;);\r\n    \r\n    for (int i = 0; i &lt; 10; i++) {\r\n       Foo newFoo = existing;\r\n       System.out.println(newFoo.getName()); //Prints &quot;foo&quot; as expected\r\n       newFoo.setName(&quot;bar&quot;);\r\n       System.out.println(existing.getName()); //This prints out &quot;bar&quot;?\r\n    }\r\n\r\nNeither of the objects are static.","title":"create new instance from existing instance","body":"<p>For some reason when I create a new instance of an object from an existing instance and change values in the new instance, it also changes the values in the existing instance. I would prefer if it only changed the state of the values in the new instance though. I'm not sure why this is happening.</p>\n\n<pre><code>Foo existing = new Foo(1, \"foo\");\n\nfor (int i = 0; i &lt; 10; i++) {\n   Foo newFoo = existing;\n   System.out.println(newFoo.getName()); //Prints \"foo\" as expected\n   newFoo.setName(\"bar\");\n   System.out.println(existing.getName()); //This prints out \"bar\"?\n}\n</code></pre>\n\n<p>Neither of the objects are static.</p>\n"},{"tags":["java","logging","java-19"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1669314901,"post_id":74564770,"comment_id":131621539,"body_markdown":"Logging is quite critical. It is non-functional but a huge performance loss when not done carefully. The same holds for System.out and progress bars. Flushing to file, and indeed physical write through to disk are very costly. For rare critical logging you could implement your own handlers, maybe based on level too. And it might help to do `logger.severe(e::getMessage);`.","body":"Logging is quite critical. It is non-functional but a huge performance loss when not done carefully. The same holds for System.out and progress bars. Flushing to file, and indeed physical write through to disk are very costly. For rare critical logging you could implement your own handlers, maybe based on level too. And it might help to do <code>logger.severe(e::getMessage);</code>."},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1672195991,"post_id":74564770,"comment_id":132239927,"body_markdown":"Which version of the jdk doesn&#39;t show this behavior?","body":"Which version of the jdk doesn&#39;t show this behavior?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672198991,"post_id":74564770,"comment_id":132240230,"body_markdown":"I can&#39;t reproduce this with Java 11 or Java 17.  (But ... how did you manage to get funky invisible characters into the source code?  Did you copy the code from a word-processed document or something?)","body":"I can&#39;t reproduce this with Java 11 or Java 17.  (But ... how did you manage to get funky invisible characters into the source code?  Did you copy the code from a word-processed document or something?)"}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672243078,"creation_date":1672196374,"answer_id":74935861,"question_id":74564770,"body_markdown":"&gt; Why is the logging only written to disk after the program has terminated?\r\n\r\nOn shutdown the FileHandler is closed by the LogManager which issues a [sync to disk][1]. Normal publish of the FileHandler will only issue a flush and not a sync.  I think in your test program you are not filling the native buffers to make it sync to disk.  I would assume you are going to have to exceed 8K of log data before data is written to disk.\r\n\r\nThe other possibility is that the contents are written to disk but the way you are observing the log file can&#39;t see them.  This can happen if you are view this file over a network share from another machine.\r\n\r\n  [1]: https://stackoverflow.com/questions/4072878/i-o-concept-flush-vs-sync","title":"java.util.logging (Java 19) - Why isn&#39;t the logging written to disk immediately?","body":"<blockquote>\n<p>Why is the logging only written to disk after the program has terminated?</p>\n</blockquote>\n<p>On shutdown the FileHandler is closed by the LogManager which issues a <a href=\"https://stackoverflow.com/questions/4072878/i-o-concept-flush-vs-sync\">sync to disk</a>. Normal publish of the FileHandler will only issue a flush and not a sync.  I think in your test program you are not filling the native buffers to make it sync to disk.  I would assume you are going to have to exceed 8K of log data before data is written to disk.</p>\n<p>The other possibility is that the contents are written to disk but the way you are observing the log file can't see them.  This can happen if you are view this file over a network share from another machine.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672198923,"creation_date":1672197688,"answer_id":74935962,"question_id":74564770,"body_markdown":"This is peculiar.\r\n\r\nI have a copy of the Java 19 source code in front of me, and the JUL code for a `FileHandler` calls `flush` after each log record.  And I think I can see where it calls flush on the handler&#39;s `Writer`.\r\n\r\nWhen I run your example, the log file seems to be written to each time an event is logged.  Immediately ... as far as I can tell.\r\n\r\n(I ran the code with Java 11 and Java 17.)\r\n","title":"java.util.logging (Java 19) - Why isn&#39;t the logging written to disk immediately?","body":"<p>This is peculiar.</p>\n<p>I have a copy of the Java 19 source code in front of me, and the JUL code for a <code>FileHandler</code> calls <code>flush</code> after each log record.  And I think I can see where it calls flush on the handler's <code>Writer</code>.</p>\n<p>When I run your example, the log file seems to be written to each time an event is logged.  Immediately ... as far as I can tell.</p>\n<p>(I ran the code with Java 11 and Java 17.)</p>\n"}],"owner":{"account_id":6262928,"reputation":1,"user_id":4869526,"display_name":"Marvin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682417501,"creation_date":1669313228,"question_id":74564770,"body_markdown":"I have a small java program that uses logging.\r\n\r\n&gt; ```\r\n&gt; import java.util.logging.*;  \r\n&gt; public class Main {     \r\n&gt;     static Logger  logger = Logger.getLogger(Main.class.getName());     \r\n&gt;     static   {         \r\n&gt;          try {             \r\n&gt;             System.setProperty( &quot;java.util.logging.SimpleFormatter.format&quot;, \r\n&gt;                                &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);             \r\n&gt;             FileHandler fileHandler = new FileHandler(&quot;java_%u.log&quot;);\r\n&gt;             fileHandler.setFormatter(new SimpleFormatter()); \r\n&gt;             logger.addHandler(fileHandler);  \r\n&gt;            } catch (Exception e) { \r\n&gt;              logger.severe(e.getMessage()); \r\n&gt;           }         \r\n&gt;           logger.info(&quot;Static done&quot;);     \r\n&gt;     }       \r\n&gt;     public static void main(String[] args) {         \r\n&gt;        logger.info(&quot;Main started&quot;);         \r\n&gt;        for(int i=0;i&lt;10;i++){ \r\n&gt;          logger.info(&quot;Sleeping &quot;+ i);             \r\n&gt;          try {                 \r\n&gt;             Thread.sleep(3000); \r\n&gt;          } catch (InterruptedException e) {                 \r\n&gt;             throw new RuntimeException(e);             \r\n&gt;          }        \r\n&gt;        }     \r\n&gt;     }\r\n&gt;  }\r\n&gt; ```\r\n\r\nIt doesn&#39;t matter whether you use it from a development environment (Intellij 2022.2.3)   \r\nor directly as a jar file from the command line.\r\n\r\n\r\nHow logging works is generally clear to me. It&#39;s the Java version (jdk 19) that&#39;s giving me problems? Why is the logging only written to disk after the program has terminated?","title":"java.util.logging (Java 19) - Why isn&#39;t the logging written to disk immediately?","body":"<p>I have a small java program that uses logging.</p>\n<blockquote>\n<pre><code>import java.util.logging.*;  \npublic class Main {     \n    static Logger  logger = Logger.getLogger(Main.class.getName());     \n    static   {         \n         try {             \n            System.setProperty( &quot;java.util.logging.SimpleFormatter.format&quot;, \n                               &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);             \n            FileHandler fileHandler = new FileHandler(&quot;java_%u.log&quot;);\n            fileHandler.setFormatter(new SimpleFormatter()); \n            logger.addHandler(fileHandler);  \n           } catch (Exception e) { \n             logger.severe(e.getMessage()); \n          }         \n          logger.info(&quot;Static done&quot;);     \n    }       \n    public static void main(String[] args) {         \n       logger.info(&quot;Main started&quot;);         \n       for(int i=0;i&lt;10;i++){ \n         logger.info(&quot;Sleeping &quot;+ i);             \n         try {                 \n            Thread.sleep(3000); \n         } catch (InterruptedException e) {                 \n            throw new RuntimeException(e);             \n         }        \n       }     \n    }\n }\n</code></pre>\n</blockquote>\n<p>It doesn't matter whether you use it from a development environment (Intellij 2022.2.3)<br />\nor directly as a jar file from the command line.</p>\n<p>How logging works is generally clear to me. It's the Java version (jdk 19) that's giving me problems? Why is the logging only written to disk after the program has terminated?</p>\n"},{"tags":["java","c#","casting","openoffice.org"],"answers":[{"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483220985,"creation_date":1483220666,"answer_id":41411910,"question_id":41383380,"body_markdown":"First I tried using C# and encountered the same error you described.\r\n\r\nThen I tried the example using Java and ended up with a null value for XStorable.  So I think your problem is not due to C#, but because for some reason the empty data source is not getting created properly.\r\n\r\nIn https://stackoverflow.com/questions/33522433/create-a-libreoffice-text-based-datasource-and-set-settings-with-java, the poster seems to have had success, so I&#39;m not sure what went wrong when I tried it.\r\n\r\nThis code to print data sources does work for me:  https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/Data_Sources_in_OpenOffice.org_API.","title":"cast exception while using OpenOffice SDK to create a DataSource","body":"<p>First I tried using C# and encountered the same error you described.</p>\n\n<p>Then I tried the example using Java and ended up with a null value for XStorable.  So I think your problem is not due to C#, but because for some reason the empty data source is not getting created properly.</p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/33522433/create-a-libreoffice-text-based-datasource-and-set-settings-with-java\">Create a libreoffice text-based datasource and set settings with java</a>, the poster seems to have had success, so I'm not sure what went wrong when I tried it.</p>\n\n<p>This code to print data sources does work for me:  <a href=\"https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/Data_Sources_in_OpenOffice.org_API\" rel=\"nofollow noreferrer\">https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/Data_Sources_in_OpenOffice.org_API</a>.</p>\n"}],"owner":{"account_id":6926016,"reputation":1072,"user_id":5317085,"accept_rate":59,"display_name":"A.D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682417466,"creation_date":1483028157,"question_id":41383380,"body_markdown":"I have a C# application that performs mail merges with MS Office (using Interop API).\r\nI am now trying to have it support Open office.\r\nI want to use OpenOffice SDK:\r\nhttp://www.openoffice.org/api/docs/common/ref/com/sun/star/text/MailMerge.html#Command\r\n\r\nDoes not look crystal clear to me right now....\r\n\r\nI somehow managed to get the mail merge code to work.\r\nThe thing is we need to create a &quot;DataSource&quot; before actually performing the MailMerge and I encounter difficulties to do it.\r\n\r\nI can get a sample in Java here:\r\nhttps://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/The_DataSource_Service\r\n\r\nI would need to convert this into C#.\r\n\r\nMy difficulty is that Java uses this object to perform its casts:\r\n\r\n    XStorable store = ( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\r\n\r\nThere is nothing equivalent in C#.\r\n\r\nI converted the code this way:\r\n\r\n      public static void CreateDataSource(string dataSourceProvidedFilePath, string dataSourceSavedFilePath)\r\n        {\r\n                    XComponentContext oStrap = uno.util.Bootstrap.bootstrap();\r\n            XMultiServiceFactory _rMSF = (XMultiServiceFactory)oStrap.getServiceManager();\r\n    \r\n             // the XSingleServiceFactory of the database context creates new generic \r\n          // com.sun.star.sdb.DataSources (!)\r\n          // retrieve the database context at the global service manager and get its \r\n          // XSingleServiceFactory interface\r\n          XSingleServiceFactory xFac = (XSingleServiceFactory) _rMSF.createInstance(&quot;com.sun.star.sdb.DatabaseContext&quot;);\r\n              //(XSingleServiceFactory)UnoRuntime.queryInterface(XSingleServiceFactory.class, _rMSF.createInstance(&quot;com.sun.star.sdb.DatabaseContext&quot;));\r\n     \r\n          // instantiate an empty data source at the XSingleServiceFactory \r\n          // interface of the DatabaseContext\r\n          Object xDs = xFac.createInstance();\r\n     \r\n          // register it with the database context\r\n          XNamingService xServ = (XNamingService)xFac;\r\n              //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\r\n    \r\n          XStorable store = ( XStorable) xDs;\r\n              //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\r\n    \r\n          XModel model =( XModel) xDs;\r\n              //( XModel)UnoRuntime.queryInterface(XModel.class, xDs);\r\n    \r\n            //on d&#233;termine le fichier ou sera sauvegard&#233;e la data source\r\n          string dataSourcePathURL = Path.Combine(Path.GetDirectoryName(dataSourceProvidedFilePath), dataSourceSavedFilePath + &quot;.odb&quot;).ConvertToOpenOfficeURL();\r\n          store.storeAsURL(/*&quot;file:///c:/test.odb&quot;*/dataSourcePathURL,model.getArgs());\r\n          xServ.registerObject(&quot;NewDataSourceName&quot;, xDs);\r\n     \r\n          // setting the necessary data source properties\r\n          XPropertySet xDsProps = (XPropertySet)xDs;\r\n              //(XPropertySet)UnoRuntime.queryInterface(XPropertySet.class, xDs);\r\n          // Adabas D URL\r\n          xDsProps.setPropertyValue(&quot;URL&quot;, new uno.Any(&quot;sdbc:adabas::MYDB1&quot;));\r\n     \r\n          // force password dialog\r\n          //xDsProps.setPropertyValue(&quot;IsPasswordRequired&quot;, new Boolean(true));\r\n     \r\n          // suggest dsadmin as user name\r\n          xDsProps.setPropertyValue(&quot;User&quot;, new uno.Any(&quot;dsadmin&quot;));\r\n          store.store();\r\n        }\r\n\r\nSome casts worked fine:\r\n\r\n    XNamingService xServ = (XNamingService)xFac;\r\n              //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\r\n\r\nBut some other casts throw an exception:\r\n\r\n  XStorable store = ( XStorable) xDs;\r\n      //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\r\n\r\n-&gt;\r\n\r\n    Unable to cast transparent proxy to type &#39;unoidl.com.sun.star.frame.XStorable&#39;.\r\n\r\nIs there a way to have this code correctly converted to C#?\r\n\r\nOtherwise, do you know any other resource showing how to create an Open Office DataSource in Java?\r\n\r\nThx\r\n\r\n\r\n\r\n\r\n","title":"cast exception while using OpenOffice SDK to create a DataSource","body":"<p>I have a C# application that performs mail merges with MS Office (using Interop API).\nI am now trying to have it support Open office.\nI want to use OpenOffice SDK:\n<a href=\"http://www.openoffice.org/api/docs/common/ref/com/sun/star/text/MailMerge.html#Command\" rel=\"nofollow noreferrer\">http://www.openoffice.org/api/docs/common/ref/com/sun/star/text/MailMerge.html#Command</a></p>\n\n<p>Does not look crystal clear to me right now....</p>\n\n<p>I somehow managed to get the mail merge code to work.\nThe thing is we need to create a \"DataSource\" before actually performing the MailMerge and I encounter difficulties to do it.</p>\n\n<p>I can get a sample in Java here:\n<a href=\"https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/The_DataSource_Service\" rel=\"nofollow noreferrer\">https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/The_DataSource_Service</a></p>\n\n<p>I would need to convert this into C#.</p>\n\n<p>My difficulty is that Java uses this object to perform its casts:</p>\n\n<pre><code>XStorable store = ( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\n</code></pre>\n\n<p>There is nothing equivalent in C#.</p>\n\n<p>I converted the code this way:</p>\n\n<pre><code>  public static void CreateDataSource(string dataSourceProvidedFilePath, string dataSourceSavedFilePath)\n    {\n                XComponentContext oStrap = uno.util.Bootstrap.bootstrap();\n        XMultiServiceFactory _rMSF = (XMultiServiceFactory)oStrap.getServiceManager();\n\n         // the XSingleServiceFactory of the database context creates new generic \n      // com.sun.star.sdb.DataSources (!)\n      // retrieve the database context at the global service manager and get its \n      // XSingleServiceFactory interface\n      XSingleServiceFactory xFac = (XSingleServiceFactory) _rMSF.createInstance(\"com.sun.star.sdb.DatabaseContext\");\n          //(XSingleServiceFactory)UnoRuntime.queryInterface(XSingleServiceFactory.class, _rMSF.createInstance(\"com.sun.star.sdb.DatabaseContext\"));\n\n      // instantiate an empty data source at the XSingleServiceFactory \n      // interface of the DatabaseContext\n      Object xDs = xFac.createInstance();\n\n      // register it with the database context\n      XNamingService xServ = (XNamingService)xFac;\n          //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\n\n      XStorable store = ( XStorable) xDs;\n          //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\n\n      XModel model =( XModel) xDs;\n          //( XModel)UnoRuntime.queryInterface(XModel.class, xDs);\n\n        //on détermine le fichier ou sera sauvegardée la data source\n      string dataSourcePathURL = Path.Combine(Path.GetDirectoryName(dataSourceProvidedFilePath), dataSourceSavedFilePath + \".odb\").ConvertToOpenOfficeURL();\n      store.storeAsURL(/*\"file:///c:/test.odb\"*/dataSourcePathURL,model.getArgs());\n      xServ.registerObject(\"NewDataSourceName\", xDs);\n\n      // setting the necessary data source properties\n      XPropertySet xDsProps = (XPropertySet)xDs;\n          //(XPropertySet)UnoRuntime.queryInterface(XPropertySet.class, xDs);\n      // Adabas D URL\n      xDsProps.setPropertyValue(\"URL\", new uno.Any(\"sdbc:adabas::MYDB1\"));\n\n      // force password dialog\n      //xDsProps.setPropertyValue(\"IsPasswordRequired\", new Boolean(true));\n\n      // suggest dsadmin as user name\n      xDsProps.setPropertyValue(\"User\", new uno.Any(\"dsadmin\"));\n      store.store();\n    }\n</code></pre>\n\n<p>Some casts worked fine:</p>\n\n<pre><code>XNamingService xServ = (XNamingService)xFac;\n          //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\n</code></pre>\n\n<p>But some other casts throw an exception:</p>\n\n<p>XStorable store = ( XStorable) xDs;\n      //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);</p>\n\n<p>-></p>\n\n<pre><code>Unable to cast transparent proxy to type 'unoidl.com.sun.star.frame.XStorable'.\n</code></pre>\n\n<p>Is there a way to have this code correctly converted to C#?</p>\n\n<p>Otherwise, do you know any other resource showing how to create an Open Office DataSource in Java?</p>\n\n<p>Thx</p>\n"},{"tags":["java","performance","garbage-collection","vectorization","java-19"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669859324,"post_id":74635065,"comment_id":131741195,"body_markdown":"Every time people write a Java benchmark manually, they end up measuring an [OSR compilation](https://stackoverflow.com/questions/9105505/differences-between-just-in-time-compilation-and-on-stack-replacement). This is misleading, see [1](https://stackoverflow.com/a/54410675/3448419), [2](https://stackoverflow.com/a/33858960/3448419), [3](https://stackoverflow.com/a/42590152/3448419), [4](https://stackoverflow.com/a/46637432/3448419). Just use [JMH](https://github.com/openjdk/jmh). You apparently looked at the assembly of a regular JIT compilation, but that was not what JVM actually ran.","body":"Every time people write a Java benchmark manually, they end up measuring an <a href=\"https://stackoverflow.com/questions/9105505/differences-between-just-in-time-compilation-and-on-stack-replacement\">OSR compilation</a>. This is misleading, see <a href=\"https://stackoverflow.com/a/54410675/3448419\">1</a>, <a href=\"https://stackoverflow.com/a/33858960/3448419\">2</a>, <a href=\"https://stackoverflow.com/a/42590152/3448419\">3</a>, <a href=\"https://stackoverflow.com/a/46637432/3448419\">4</a>. Just use <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a>. You apparently looked at the assembly of a regular JIT compilation, but that was not what JVM actually ran."},{"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"score":0,"creation_date":1669861018,"post_id":74635065,"comment_id":131741408,"body_markdown":"I will work on testing with JMH tomorrow. However, looking at the JIT output I analyzed, I was comparing the _second_ compilation of each of the memset loops, which means they are not compiled in OSR mode, according to your second link (they do not contain a % in the &quot;C2-compiled method&quot; header).","body":"I will work on testing with JMH tomorrow. However, looking at the JIT output I analyzed, I was comparing the <i>second</i> compilation of each of the memset loops, which means they are not compiled in OSR mode, according to your second link (they do not contain a % in the &quot;C2-compiled method&quot; header)."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669861963,"post_id":74635065,"comment_id":131741563,"body_markdown":"That&#39;s what I said. You looked at the output of a normal compilation, but measured OSR one.","body":"That&#39;s what I said. You looked at the output of a normal compilation, but measured OSR one."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669863623,"post_id":74635065,"comment_id":131741781,"body_markdown":"You emphasized that you compared the *second* compilation. But when do you think the *second* compilation is executed, if the method is called only *once*?","body":"You emphasized that you compared the <i>second</i> compilation. But when do you think the <i>second</i> compilation is executed, if the method is called only <i>once</i>?"},{"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"score":0,"creation_date":1669875148,"post_id":74635065,"comment_id":131743344,"body_markdown":"Ah, I see what you mean. I misunderstood the OSR stub description. If I run each of them twice before timing them, they both have identical and much lower runtimes, with the allocations correctly elided and all. Thank you!","body":"Ah, I see what you mean. I misunderstood the OSR stub description. If I run each of them twice before timing them, they both have identical and much lower runtimes, with the allocations correctly elided and all. Thank you!"}],"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682417450,"creation_date":1669848634,"question_id":74635065,"body_markdown":"I am testing manual vectorization in Java with the `jdk.incubator.vector` API (JDK 19), and have come across some unexpected behavior w.r.t. Garbage Collection, exemplified here with a toy `memset` implementation.\r\n\r\nIn the following code, the functions `memsetLoop1` and `memsetLoop2` are functionally identical, with the only difference being whether the `LongVector.broadcast` takes place in or outside of the inner loop. Because the broadcasted value is the same for every iteration of the inner loop, this is a correct &quot;optimization.&quot;\r\n\r\nHowever, my measurements (in the `main` function) indicate `memsetLoop2` takes about 50% longer to complete, on average.\r\n\r\n```java\r\n// Run with `--source=19 --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --enable-preview --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.vector`\r\npackage main;\r\n\r\nimport java.lang.foreign.*;\r\nimport java.nio.ByteOrder;\r\nimport jdk.incubator.vector.*;\r\n\r\npublic class VectorGCBugDemo {\r\n    // I am aware that the below line of code is generally a Very Bad Idea.\r\n    // It has no bearing on the issue at hand, AFAICT.\r\n    final static MemorySegment ADDRESS_SPACE = MemorySegment.ofAddress(MemoryAddress.NULL, Long.MAX_VALUE, MemorySession.global());\r\n    final static ByteOrder NATIVE_BYTE_ORDER = ByteOrder.nativeOrder();\r\n    final static long SPECIES256_VECTOR_SIZE = LongVector.SPECIES_256.vectorByteSize();\r\n\r\n    // Something that fits in L1 cache, for maximum speed.\r\n    static final long ALLOCATION_BYTES = 512L * SPECIES256_VECTOR_SIZE;\r\n    // Big number to make unexpected GC behavior visible.\r\n    static final long ITERATIONS = 50_000_000L;\r\n\r\n    static void memsetLoop1(final long address, final long bytes, final long iterations) {\r\n        final long start = address;\r\n        final long end = address + bytes;\r\n        for (long outer = 0; outer &lt; iterations; outer++) {\r\n\r\n            // vvvvvvvv INNER LOOP 1 vvvvvvvv\r\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\r\n                LongVector.broadcast(LongVector.SPECIES_256, outer).intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    static void memsetLoop2(final long address, final long bytes, final long iterations) {\r\n        final long start = address;\r\n        final long end = address + bytes;\r\n        for (long outer = 0; outer &lt; iterations; outer++) {\r\n\r\n            // vvvvvvvv INNER LOOP 2 vvvvvvvv\r\n            final LongVector broadcastedValue = LongVector.broadcast(LongVector.SPECIES_256, outer);\r\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\r\n                broadcastedValue.intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\r\n            }\r\n\r\n        }\r\n    }\r\n    \r\n    public static void main(String... args) {\r\n        // Allocate vector-aligned memory.\r\n        final MemorySegment allocation = MemorySegment.allocateNative(ALLOCATION_BYTES, SPECIES256_VECTOR_SIZE, MemorySession.global());\r\n        final long allocationAddress = allocation.address().toRawLongValue();\r\n\r\n        System.out.print(&quot;Running memsetLoop1... &quot;);\r\n        final long t1 = System.nanoTime();\r\n        memsetLoop1(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\r\n        final long t2 = System.nanoTime();\r\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t2 - t1) / ITERATIONS);\r\n        \r\n        System.out.print(&quot;Running memsetLoop2... &quot;);\r\n        final long t3 = System.nanoTime();\r\n        memsetLoop2(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\r\n        final long t4 = System.nanoTime();\r\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t4 - t3) / ITERATIONS);\r\n    }\r\n}\r\n```\r\n\r\nLooking at the x86 code generated by the JIT compiler for each function (via `-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly` and the `hsdis` library) doesn&#39;t seem to show any differences between them; the compiler is more than smart enough to move the `vpbroadcastq` instruction out of the loop in `memsetLoop1`, and they both end up looking pretty much the same to my (somewhat inexpert) eye.\r\n\r\nHowever, running it with `-verbose:gc` with default heap sizes reveals significant GC activity during the execution of `memsetLoop2`, while `memsetLoop1` does not have any:\r\n\r\n```\r\n[0.002s][info][gc] Using Serial\r\nWARNING: Using incubator modules: jdk.incubator.vector\r\nRunning memsetLoop1... memset loop took 271.30ns on average.\r\nRunning memsetLoop2... [15.305s][info][gc] GC(0) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 2.190ms\r\n[17.037s][info][gc] GC(1) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 1.836ms\r\n[18.808s][info][gc] GC(2) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.862ms\r\n[20.607s][info][gc] GC(3) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.856ms\r\n[22.369s][info][gc] GC(4) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.955ms\r\n[24.128s][info][gc] GC(5) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\r\n[25.887s][info][gc] GC(6) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.928ms\r\n[27.646s][info][gc] GC(7) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.755ms\r\n[29.405s][info][gc] GC(8) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\r\n[31.213s][info][gc] GC(9) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.858ms\r\n[32.972s][info][gc] GC(10) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.752ms\r\nmemset loop took 405.50ns on average.\r\n```\r\n\r\nUsing higher outer loop counts just results in even more GC activity for `memsetLoop2`.\r\n\r\nLowering the heap sizes to their minimum values shows that `memsetLoop1` does initially have some light GC activity, but the allocations generated by direct interpretation of the loop code seem to get optimized out by the JIT, while in `memsetLoop2` this is not the case for whatever reason.\r\n\r\nI am quite puzzled by these facts, as I would expect functions to be optimized essentially identically once the iteration-invariant code is lifted out of the loop. If anyone has any clues as to why this behavior might be occurring, an explanation would be very much appreciated. Thank you!","title":"Why does moving an iteration-invariant vector out of a loop induce unnecessary GC activity?","body":"<p>I am testing manual vectorization in Java with the <code>jdk.incubator.vector</code> API (JDK 19), and have come across some unexpected behavior w.r.t. Garbage Collection, exemplified here with a toy <code>memset</code> implementation.</p>\n<p>In the following code, the functions <code>memsetLoop1</code> and <code>memsetLoop2</code> are functionally identical, with the only difference being whether the <code>LongVector.broadcast</code> takes place in or outside of the inner loop. Because the broadcasted value is the same for every iteration of the inner loop, this is a correct &quot;optimization.&quot;</p>\n<p>However, my measurements (in the <code>main</code> function) indicate <code>memsetLoop2</code> takes about 50% longer to complete, on average.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Run with `--source=19 --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --enable-preview --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.vector`\npackage main;\n\nimport java.lang.foreign.*;\nimport java.nio.ByteOrder;\nimport jdk.incubator.vector.*;\n\npublic class VectorGCBugDemo {\n    // I am aware that the below line of code is generally a Very Bad Idea.\n    // It has no bearing on the issue at hand, AFAICT.\n    final static MemorySegment ADDRESS_SPACE = MemorySegment.ofAddress(MemoryAddress.NULL, Long.MAX_VALUE, MemorySession.global());\n    final static ByteOrder NATIVE_BYTE_ORDER = ByteOrder.nativeOrder();\n    final static long SPECIES256_VECTOR_SIZE = LongVector.SPECIES_256.vectorByteSize();\n\n    // Something that fits in L1 cache, for maximum speed.\n    static final long ALLOCATION_BYTES = 512L * SPECIES256_VECTOR_SIZE;\n    // Big number to make unexpected GC behavior visible.\n    static final long ITERATIONS = 50_000_000L;\n\n    static void memsetLoop1(final long address, final long bytes, final long iterations) {\n        final long start = address;\n        final long end = address + bytes;\n        for (long outer = 0; outer &lt; iterations; outer++) {\n\n            // vvvvvvvv INNER LOOP 1 vvvvvvvv\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\n                LongVector.broadcast(LongVector.SPECIES_256, outer).intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\n            }\n\n        }\n    }\n\n    static void memsetLoop2(final long address, final long bytes, final long iterations) {\n        final long start = address;\n        final long end = address + bytes;\n        for (long outer = 0; outer &lt; iterations; outer++) {\n\n            // vvvvvvvv INNER LOOP 2 vvvvvvvv\n            final LongVector broadcastedValue = LongVector.broadcast(LongVector.SPECIES_256, outer);\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\n                broadcastedValue.intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\n            }\n\n        }\n    }\n    \n    public static void main(String... args) {\n        // Allocate vector-aligned memory.\n        final MemorySegment allocation = MemorySegment.allocateNative(ALLOCATION_BYTES, SPECIES256_VECTOR_SIZE, MemorySession.global());\n        final long allocationAddress = allocation.address().toRawLongValue();\n\n        System.out.print(&quot;Running memsetLoop1... &quot;);\n        final long t1 = System.nanoTime();\n        memsetLoop1(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\n        final long t2 = System.nanoTime();\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t2 - t1) / ITERATIONS);\n        \n        System.out.print(&quot;Running memsetLoop2... &quot;);\n        final long t3 = System.nanoTime();\n        memsetLoop2(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\n        final long t4 = System.nanoTime();\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t4 - t3) / ITERATIONS);\n    }\n}\n</code></pre>\n<p>Looking at the x86 code generated by the JIT compiler for each function (via <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly</code> and the <code>hsdis</code> library) doesn't seem to show any differences between them; the compiler is more than smart enough to move the <code>vpbroadcastq</code> instruction out of the loop in <code>memsetLoop1</code>, and they both end up looking pretty much the same to my (somewhat inexpert) eye.</p>\n<p>However, running it with <code>-verbose:gc</code> with default heap sizes reveals significant GC activity during the execution of <code>memsetLoop2</code>, while <code>memsetLoop1</code> does not have any:</p>\n<pre><code>[0.002s][info][gc] Using Serial\nWARNING: Using incubator modules: jdk.incubator.vector\nRunning memsetLoop1... memset loop took 271.30ns on average.\nRunning memsetLoop2... [15.305s][info][gc] GC(0) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 2.190ms\n[17.037s][info][gc] GC(1) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 1.836ms\n[18.808s][info][gc] GC(2) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.862ms\n[20.607s][info][gc] GC(3) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.856ms\n[22.369s][info][gc] GC(4) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.955ms\n[24.128s][info][gc] GC(5) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\n[25.887s][info][gc] GC(6) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.928ms\n[27.646s][info][gc] GC(7) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.755ms\n[29.405s][info][gc] GC(8) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\n[31.213s][info][gc] GC(9) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.858ms\n[32.972s][info][gc] GC(10) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.752ms\nmemset loop took 405.50ns on average.\n</code></pre>\n<p>Using higher outer loop counts just results in even more GC activity for <code>memsetLoop2</code>.</p>\n<p>Lowering the heap sizes to their minimum values shows that <code>memsetLoop1</code> does initially have some light GC activity, but the allocations generated by direct interpretation of the loop code seem to get optimized out by the JIT, while in <code>memsetLoop2</code> this is not the case for whatever reason.</p>\n<p>I am quite puzzled by these facts, as I would expect functions to be optimized essentially identically once the iteration-invariant code is lifted out of the loop. If anyone has any clues as to why this behavior might be occurring, an explanation would be very much appreciated. Thank you!</p>\n"},{"tags":["java","intellij-idea","java-19"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1670957772,"post_id":74758372,"comment_id":131991961,"body_markdown":"Seems you have Code vision hints enabled in &quot;Settings/Preferences | Editor | Intentions&quot;. They show if there are any class/method usages in other files. There are no in your case.","body":"Seems you have Code vision hints enabled in &quot;Settings/Preferences | Editor | Intentions&quot;. They show if there are any class/method usages in other files. There are no in your case."}],"answers":[{"tags":[],"owner":{"account_id":27289519,"reputation":11,"user_id":20808165,"display_name":"ourrad-said-dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671369796,"creation_date":1671369796,"answer_id":74841684,"question_id":74758372,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CS63m.png\r\n\r\nUncheck usages hint.","title":"no usage found in project files","body":"<p><a href=\"https://i.stack.imgur.com/CS63m.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Uncheck usages hint.</p>\n"},{"tags":[],"owner":{"account_id":7976630,"reputation":11,"user_id":6019596,"display_name":"Emmanuel Eban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677183205,"creation_date":1677183182,"answer_id":75549865,"question_id":74758372,"body_markdown":"Right click on the no usage \r\nand you’ll see options saying hide click on that ","title":"no usage found in project files","body":"<p>Right click on the no usage\nand you’ll see options saying hide click on that</p>\n"}],"owner":{"display_name":"user20745795"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682417411,"creation_date":1670733160,"question_id":74758372,"body_markdown":"I am learning Java last some days in IntelliJ. Yesterday I updated JDK (Java 19.0.1, 2022-10-18) and deleted old IntelliJ and installed new IntelliJ. After I created a project and it shows no usage.\r\n\r\n```\r\nno usage\r\npublic class Main {\r\nno usage\r\n    public static void main(String... args){\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }[enter image description here](https://i.stack.imgur.com/yizz1.png)\r\n}\r\n```\r\nIf I click on &quot;no usage&quot; then no usage found in project file and after on it then FIND USAGE BOX popup.\r\n\r\nI am beginner. Please help me. What is it and how to resolve?","title":"no usage found in project files","body":"<p>I am learning Java last some days in IntelliJ. Yesterday I updated JDK (Java 19.0.1, 2022-10-18) and deleted old IntelliJ and installed new IntelliJ. After I created a project and it shows no usage.</p>\n<pre><code>no usage\npublic class Main {\nno usage\n    public static void main(String... args){\n        System.out.println(&quot;Hello world!&quot;);\n    }[enter image description here](https://i.stack.imgur.com/yizz1.png)\n}\n</code></pre>\n<p>If I click on &quot;no usage&quot; then no usage found in project file and after on it then FIND USAGE BOX popup.</p>\n<p>I am beginner. Please help me. What is it and how to resolve?</p>\n"},{"tags":["java","gremlin","tinkerpop","amazon-neptune","tinkerpop3"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1682176981,"post_id":76080134,"comment_id":134175855,"body_markdown":"Is the question mainly about how to perform a `repeat...until` type of query? If yes I can provide some examples using the Gremlin `repeat` step. Will the queries always need to explicitly traverse some number of hops like 1,2,3 etc. or will they sometimes need to keep going until they hit a leaf node? The key Gremlin steps for this type of query are `repeat`, `until`, `times` and `loops`.","body":"Is the question mainly about how to perform a <code>repeat...until</code> type of query? If yes I can provide some examples using the Gremlin <code>repeat</code> step. Will the queries always need to explicitly traverse some number of hops like 1,2,3 etc. or will they sometimes need to keep going until they hit a leaf node? The key Gremlin steps for this type of query are <code>repeat</code>, <code>until</code>, <code>times</code> and <code>loops</code>."},{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1682179532,"post_id":76080134,"comment_id":134176157,"body_markdown":"@KelvinLawrence Hi Kevin, thanks for your reply. The queries are for a given number of hops only, no need to go until the leaf is hit. \n\nAlso, the question is also about modelling queries.\nEg: For scenario 1 in the question, the query is between two entities. \nSince entities (edges) are connected via tags (vertices),  the logic in my mind is:\n- find the tags associated with each entities\n- then apply those tags to &#39;from&#39; and &#39;to&#39; properties of the edges accordingly \n- apply required hops\n- get the matching edges and calculate the score\n\nNot sure how to translate this into a query.","body":"@KelvinLawrence Hi Kevin, thanks for your reply. The queries are for a given number of hops only, no need to go until the leaf is hit.   Also, the question is also about modelling queries. Eg: For scenario 1 in the question, the query is between two entities.  Since entities (edges) are connected via tags (vertices),  the logic in my mind is: - find the tags associated with each entities - then apply those tags to &#39;from&#39; and &#39;to&#39; properties of the edges accordingly  - apply required hops - get the matching edges and calculate the score  Not sure how to translate this into a query."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1682192056,"post_id":76080134,"comment_id":134177727,"body_markdown":"It&#39;s interesting that your data model seems to be somewhat edge centric, with the main properties of interest being on the edges. Is it intended that the fourth edge has the same from and to node? Also is hash intended to be a property or could it instead not be used for the edge label?","body":"It&#39;s interesting that your data model seems to be somewhat edge centric, with the main properties of interest being on the edges. Is it intended that the fourth edge has the same from and to node? Also is hash intended to be a property or could it instead not be used for the edge label?"},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1682194818,"post_id":76080134,"comment_id":134178026,"body_markdown":"I added the steps to create the sample graph below as well as some sample queries. While doing this it feels like the data model you have may make the queries for questions you want to answer harder to write than they would be with some data model changes. For example computing the score between hashes, becomes a lot simpler if those values are stored on vertices. Most `repeat` `until` type queries start and end with a vertex and not an edge.","body":"I added the steps to create the sample graph below as well as some sample queries. While doing this it feels like the data model you have may make the queries for questions you want to answer harder to write than they would be with some data model changes. For example computing the score between hashes, becomes a lot simpler if those values are stored on vertices. Most <code>repeat</code> <code>until</code> type queries start and end with a vertex and not an edge."},{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1682334056,"post_id":76080134,"comment_id":134193299,"body_markdown":"Thanks @KelvinLawrence. Hash could be the edge label but this is the data model we have at the moment from the external party, so unfortunately we are unable to alter it. Same goes with switching hashes (entities) to vertices. Having said that, even if we switch the hashes to vertices, still we would have the same issue for other scenarios right? For example calculating the relationship between tags which would be edges after the switch.","body":"Thanks @KelvinLawrence. Hash could be the edge label but this is the data model we have at the moment from the external party, so unfortunately we are unable to alter it. Same goes with switching hashes (entities) to vertices. Having said that, even if we switch the hashes to vertices, still we would have the same issue for other scenarios right? For example calculating the relationship between tags which would be edges after the switch."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682250649,"creation_date":1682193127,"answer_id":76081660,"question_id":76080134,"body_markdown":"The following steps can be used to build a sample graph based on the data provided.\r\n\r\n```java\r\ng.addV(&#39;tag&#39;).property(id,123454).as(&#39;t1&#39;).\r\n  addV(&#39;tag&#39;).property(id,123478).as(&#39;t2&#39;).\r\n  addV(&#39;tag&#39;).property(id,345678).as(&#39;t3&#39;).\r\n  addV(&#39;tag&#39;).property(id,435677).as(&#39;t4&#39;).\r\n  addE(&#39;link&#39;).from(&#39;t1&#39;).to(&#39;t3&#39;).property(id,3455).property(&#39;hash&#39;,&#39;key1&#39;).property(&#39;score&#39;,2.4).\r\n  addE(&#39;link&#39;).from(&#39;t1&#39;).to(&#39;t2&#39;).property(id,3456).property(&#39;hash&#39;,&#39;key2&#39;).property(&#39;score&#39;,3.5).\r\n  addE(&#39;link&#39;).from(&#39;t3&#39;).to(&#39;t4&#39;).property(id,3457).property(&#39;hash&#39;,&#39;key2&#39;).property(&#39;score&#39;,3).\r\n  addE(&#39;link&#39;).from(&#39;t4&#39;).to(&#39;t4&#39;).property(id,3458).property(&#39;hash&#39;,&#39;key3&#39;).property(&#39;score&#39;,1)  \r\n```\r\nWe can confirm the graph looks OK by rendering it using a graph-notebook\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe query below can be used to show us the scores between nodes123454 and 435677. The `repeat` combines `until` with `loops` to check for a specific target, or reaching a given depth. The second `has` is necessary to make sure that we found the node we wanted and did not just hit the maximum depth.\r\n\r\n```java\r\ng.V(123454).\r\n  repeat(outE().inV().simplePath()).\r\n  until(hasId(435677).or().loops().is(2)).\r\n  hasId(435677).\r\n  path().\r\n    by(id).\r\n    by(&#39;score&#39;)\r\n```\r\n\r\nWhen run, using the Gremlin Console, we can see the results\r\n\r\n```java\r\ngremlin&gt; g.V(123454).\r\n......1&gt;   repeat(outE().inV().simplePath()).\r\n......2&gt;   until(hasId(435677).or().loops().is(2)).\r\n......3&gt;   hasId(435677).\r\n......4&gt;   path().\r\n......5&gt;     by(id).\r\n......6&gt;     by(&#39;score&#39;)\r\n\r\n==&gt;[123454,2.4,345678,3,435677]\r\n```\r\n\r\nAll that remains is to extend the query to compute the total score. The `sack` step is useful for this.\r\n\r\n```java\r\ngremlin&gt; g.withSack(0).\r\n......1&gt;   V(123454).\r\n......2&gt;   repeat(outE().sack(sum).by(&#39;score&#39;).inV().simplePath()).\r\n......3&gt;   until(hasId(435677).or().loops().is(2)).\r\n......4&gt;   hasId(435677).\r\n......5&gt;   sack()\r\n\r\n==&gt;5.4\r\n```\r\n\r\nWith these building blocks you should be able to create the queries to answer each of the scenarios.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PuSF.png","title":"Neptune gremlin java traversing with hops","body":"<p>The following steps can be used to build a sample graph based on the data provided.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.addV('tag').property(id,123454).as('t1').\n  addV('tag').property(id,123478).as('t2').\n  addV('tag').property(id,345678).as('t3').\n  addV('tag').property(id,435677).as('t4').\n  addE('link').from('t1').to('t3').property(id,3455).property('hash','key1').property('score',2.4).\n  addE('link').from('t1').to('t2').property(id,3456).property('hash','key2').property('score',3.5).\n  addE('link').from('t3').to('t4').property(id,3457).property('hash','key2').property('score',3).\n  addE('link').from('t4').to('t4').property(id,3458).property('hash','key3').property('score',1)  \n</code></pre>\n<p>We can confirm the graph looks OK by rendering it using a graph-notebook</p>\n<p><a href=\"https://i.stack.imgur.com/8PuSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PuSF.png\" alt=\"enter image description here\" /></a></p>\n<p>The query below can be used to show us the scores between nodes123454 and 435677. The <code>repeat</code> combines <code>until</code> with <code>loops</code> to check for a specific target, or reaching a given depth. The second <code>has</code> is necessary to make sure that we found the node we wanted and did not just hit the maximum depth.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.V(123454).\n  repeat(outE().inV().simplePath()).\n  until(hasId(435677).or().loops().is(2)).\n  hasId(435677).\n  path().\n    by(id).\n    by('score')\n</code></pre>\n<p>When run, using the Gremlin Console, we can see the results</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt; g.V(123454).\n......1&gt;   repeat(outE().inV().simplePath()).\n......2&gt;   until(hasId(435677).or().loops().is(2)).\n......3&gt;   hasId(435677).\n......4&gt;   path().\n......5&gt;     by(id).\n......6&gt;     by('score')\n\n==&gt;[123454,2.4,345678,3,435677]\n</code></pre>\n<p>All that remains is to extend the query to compute the total score. The <code>sack</code> step is useful for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt; g.withSack(0).\n......1&gt;   V(123454).\n......2&gt;   repeat(outE().sack(sum).by('score').inV().simplePath()).\n......3&gt;   until(hasId(435677).or().loops().is(2)).\n......4&gt;   hasId(435677).\n......5&gt;   sack()\n\n==&gt;5.4\n</code></pre>\n<p>With these building blocks you should be able to create the queries to answer each of the scenarios.</p>\n"}],"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76081660,"answer_count":1,"score":1,"last_activity_date":1682417398,"creation_date":1682173439,"question_id":76080134,"body_markdown":"We have a model in neptune db for tag and entity relationship as follows:\r\n\r\nVertices - tags. \r\n````\r\nid\r\n---\r\n123454\r\n123478\r\n345678\r\n435677\r\n890890\r\n727455\r\n345588\r\n....\r\n....\r\n````\r\n\r\n````Edges - entities\r\nid   | from   | to     | hash | score\r\n---------------------------------------------\r\n3455 | 123454 | 345678 | key1 | 2.4\r\n3456 | 123454 | 123478 | key2 | 3.5\r\n3457 | 345678 | 435677 | key2 | 3\r\n3458 | 435677 | 435677 | key3 | 1\r\n3459 | 123454 | 435677 | key4 | 4\r\n3460 | 345678 | 890890 | key5 | 3.25\r\n3461 | 890890 | 435677 | key6 | 1.5\r\n3462 | 123454 | 727455 | key7 | 0.5\r\n3463 | 123454 | 345588 | key8 | 0.75\r\n````\r\n\r\nFrom and to are in and out vertices (ids of tags).\r\nNote that in the edges, &#39;hash&#39; can have duplicate values.\r\n\r\nWe are programming in Java and using tinkerpop gremlin version 3.5 as the client.\r\n\r\nBasically I&#39;m trying to find the aggregated scores for between tags and entities using a max hop provided. \r\n\r\nexample request scenarios:\r\n1) entity-entity:\r\n   total score between entity hashes &#39;key1&#39; and &#39;key2&#39; with max hops 2 \r\n\r\n2) tag-tag:\r\n   total score between tag ids &#39;123454&#39; and &#39;435677&#39; with max hops 1 \r\n\r\n3) tag-entity:\r\n   total score between tag id &#39;123454&#39; and entity hash &#39;key1&#39; with max hops 0 (direct) \r\n\r\nI&#39;m new to neptune/gremline and don&#39;t have a proper idea on how to do this. Have been referring to tinkerpop documentations without much progress. \r\n\r\nan example of a query that I have done for scenario 3 is:\r\n````\r\nList&lt;Map&lt;Object, Object&gt;&gt; = graphTraversalSource.V(tagId).outE().has(&quot;hash&quot;, entityHash).valueMap().toList());\r\n````\r\nAnd then get the scores by iterating the list and sum them.\r\nIt works for direct, but not sure how to continue this for 1 hop or 2 hops.\r\n\r\nAlso, this is for tag-entity only. Haven&#39;t managed to do the tag-tag or entity-entity scoring.\r\n\r\nAny ideas on modelling these queries would be really helpful. \r\nMany thanks!","title":"Neptune gremlin java traversing with hops","body":"<p>We have a model in neptune db for tag and entity relationship as follows:</p>\n<p>Vertices - tags.</p>\n<pre><code>id\n---\n123454\n123478\n345678\n435677\n890890\n727455\n345588\n....\n....\n</code></pre>\n<pre><code>id   | from   | to     | hash | score\n---------------------------------------------\n3455 | 123454 | 345678 | key1 | 2.4\n3456 | 123454 | 123478 | key2 | 3.5\n3457 | 345678 | 435677 | key2 | 3\n3458 | 435677 | 435677 | key3 | 1\n3459 | 123454 | 435677 | key4 | 4\n3460 | 345678 | 890890 | key5 | 3.25\n3461 | 890890 | 435677 | key6 | 1.5\n3462 | 123454 | 727455 | key7 | 0.5\n3463 | 123454 | 345588 | key8 | 0.75\n</code></pre>\n<p>From and to are in and out vertices (ids of tags).\nNote that in the edges, 'hash' can have duplicate values.</p>\n<p>We are programming in Java and using tinkerpop gremlin version 3.5 as the client.</p>\n<p>Basically I'm trying to find the aggregated scores for between tags and entities using a max hop provided.</p>\n<p>example request scenarios:</p>\n<ol>\n<li><p>entity-entity:\ntotal score between entity hashes 'key1' and 'key2' with max hops 2</p>\n</li>\n<li><p>tag-tag:\ntotal score between tag ids '123454' and '435677' with max hops 1</p>\n</li>\n<li><p>tag-entity:\ntotal score between tag id '123454' and entity hash 'key1' with max hops 0 (direct)</p>\n</li>\n</ol>\n<p>I'm new to neptune/gremline and don't have a proper idea on how to do this. Have been referring to tinkerpop documentations without much progress.</p>\n<p>an example of a query that I have done for scenario 3 is:</p>\n<pre><code>List&lt;Map&lt;Object, Object&gt;&gt; = graphTraversalSource.V(tagId).outE().has(&quot;hash&quot;, entityHash).valueMap().toList());\n</code></pre>\n<p>And then get the scores by iterating the list and sum them.\nIt works for direct, but not sure how to continue this for 1 hop or 2 hops.</p>\n<p>Also, this is for tag-entity only. Haven't managed to do the tag-tag or entity-entity scoring.</p>\n<p>Any ideas on modelling these queries would be really helpful.\nMany thanks!</p>\n"},{"tags":["java","hibernate","java-19"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670939430,"post_id":74785424,"comment_id":131985314,"body_markdown":"I do believe every third Q last month(s) related to HBN/JPA was raised due to incompatibility between JPA2.x and JPA3. Remove everything containing &quot;eclipse&quot; and &quot;jpa&quot; from project dependencies, replace everywhere &quot;javax.persistence&quot; by &quot;jakarta.persistence&quot;","body":"I do believe every third Q last month(s) related to HBN/JPA was raised due to incompatibility between JPA2.x and JPA3. Remove everything containing &quot;eclipse&quot; and &quot;jpa&quot; from project dependencies, replace everywhere &quot;javax.persistence&quot; by &quot;jakarta.persistence&quot;"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1670949413,"post_id":74785424,"comment_id":131989098,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask].","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1670966673,"post_id":74785424,"comment_id":131994374,"body_markdown":"Thanks for the advice @Robert . Much more readable than before.","body":"Thanks for the advice @Robert . Much more readable than before."},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1670970555,"post_id":74785424,"comment_id":131995290,"body_markdown":"Thanks @AndreyB.Panfilov , I have tried as you say, but it doesn&#39;t work for me at the moment. \n\nI&#39;m starting to think that maybe the xml urls are failing. I will continue to investigate what you say about the incompatibility between JPA2.x and JPA3.","body":"Thanks @AndreyB.Panfilov , I have tried as you say, but it doesn&#39;t work for me at the moment.   I&#39;m starting to think that maybe the xml urls are failing. I will continue to investigate what you say about the incompatibility between JPA2.x and JPA3."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670977117,"post_id":74785424,"comment_id":131996573,"body_markdown":"in JPA3 eclipse foundation developers renamed package name from &quot;javax.persistence&quot; to &quot;jakarta.persistence&quot; which in turn caused a lot of incompatibilities between old and new libraries, for example yours `HolaMundoHibernate` uses `EntityManagerFactory` from `javax.persistence` while `org.hibernate.jpa.HibernatePersistenceProvider` inherits `jakarta.persistence.spi.PersistenceProvider`","body":"in JPA3 eclipse foundation developers renamed package name from &quot;javax.persistence&quot; to &quot;jakarta.persistence&quot; which in turn caused a lot of incompatibilities between old and new libraries, for example yours <code>HolaMundoHibernate</code> uses <code>EntityManagerFactory</code> from <code>javax.persistence</code> while <code>org.hibernate.jpa.HibernatePersistenceProvider</code> inherits <code>jakarta.persistence.spi.PersistenceProvider</code>"},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1671032847,"post_id":74785424,"comment_id":132010873,"body_markdown":"I was able to solve that problem. Thanks for your help. \nI needed to change this in the persistence.xml:\n`&lt;persistence version=&quot;3.0&quot; xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence\n            https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;`\nNow I have another error, the root cannot be resolved.\n`Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;persona&#39;`","body":"I was able to solve that problem. Thanks for your help.  I needed to change this in the persistence.xml: <code>&lt;persistence version=&quot;3.0&quot; xmlns=&quot;https:&#47;&#47;jakarta.ee&#47;xml&#47;ns&#47;persistence&quot; xmlns:xsi=&quot;http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance&quot; xsi:schemaLocation=&quot;https:&#47;&#47;jakarta.ee&#47;xml&#47;ns&#47;persistence             https:&#47;&#47;jakarta.ee&#47;xml&#47;ns&#47;persistence&#47;persistence_3_0.xsd&quot;&gt;</code> Now I have another error, the root cannot be resolved. <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;persona&#39;</code>"},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1671032975,"post_id":74785424,"comment_id":132010921,"body_markdown":"I am still learning. I will investigate until it is solved. ;)","body":"I am still learning. I will investigate until it is solved. ;)"}],"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682417359,"creation_date":1670937040,"question_id":74785424,"body_markdown":"I&#39;m a programming student and this is my first contact with Hibernate.\r\n\r\nWhen trying to make a program with netbeans 16 and JDK 19, using Hibernate to connect to a SQL database I get the following error.\r\n\r\n```\r\n\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named HibernateEjemplo1\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:61)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n    \tat test.HolaMundoHibernate.main(HolaMundoHibernate.java:12)\r\n    Command execution failed.\r\n\r\n```\r\n\r\nFollowing an internet tutorial I have done the following:\r\n1. I have created the database called **test** and the table called **persona** with SQL. \r\n\r\n2. I have created a java Maven project, called **HibernateExample1** with Netbeans 16 and JDK 19. \r\n\r\n3. I have modified the **pom.xml** file to add dependencies. I have only added the ones highlighted in blue, the rest have been added by themselves by doing **clean &amp; build** in the project.\r\n\r\n```xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;mx.com.gm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;HibernateEjemplo1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;HibernateEjemplo1&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.28&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.asm&lt;/artifactId&gt;\r\n                &lt;version&gt;9.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.antlr&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.jpa.jpql&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n```\r\n\r\n4. I have created the **persistence.xml** file\r\n\r\n    ```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence  http://xmlns.jcp.org/xml/ns/persistence_2_2.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;HibernateEjemplo1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;mx.com.gm.domain.Persona&lt;/class&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/mysql?zeroDateTimeBehavior=CONVERT_TO_NULL&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n    ```\r\n\r\n5. I have created the file **log4j2.xml**\r\n\r\n    ```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;INFO&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n    ```\r\n\r\n6. I have created the class **Persona.java** which has the same attributes as my SQL table.\r\n\r\n    ```java\r\n    package mx.com.gm.domain;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;persona&quot;)\r\n    public class Persona implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Column(name = &quot;id_persona&quot;)\r\n        @Id\r\n        private int idPersona;\r\n    \r\n        private String nombre;\r\n    \r\n        private String apellido;\r\n    \r\n        private String email;\r\n    \r\n        private String telefono;\r\n    \r\n        public Persona() {\r\n        }\r\n    \r\n        public int getIdPersona() {\r\n            return idPersona;\r\n        }\r\n    \r\n        public void setIdPersona(int idPersona) {\r\n            this.idPersona = idPersona;\r\n        }\r\n    \r\n        public String getNombre() {\r\n            return nombre;\r\n        }\r\n    \r\n        public void setNombre(String nombre) {\r\n            this.nombre = nombre;\r\n        }\r\n    \r\n        public String getApellido() {\r\n            return apellido;\r\n        }\r\n    \r\n        public void setApellido(String apellido) {\r\n            this.apellido = apellido;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getTelefono() {\r\n            return telefono;\r\n        }\r\n    \r\n        public void setTelefono(String telefono) {\r\n            this.telefono = telefono;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Empleados{&quot; + &quot;idPersona=&quot; + idPersona + &quot;, nombre=&quot; + nombre + &quot;, apellido=&quot; + apellido + \r\n                    &quot;, email=&quot; + email + &quot;, telefono=&quot; + telefono + &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n        ```\r\n\r\n7. And finally, I have created the class **HolaMundoHibernate.java** to run the program. \r\n\r\n    ```java\r\n    package test;\r\n    \r\n    import java.util.List;\r\n    import javax.persistence.*;\r\n    import mx.com.gm.domain.Persona;\r\n    \r\n    \r\n    public class HolaMundoHibernate {\r\n        public static void main(String[] args) {\r\n            String hql = &quot;SELECT p FROM Persona p&quot;;\r\n            EntityManagerFactory fabrica = Persistence.createEntityManagerFactory(&quot;HibernateEjemplo1&quot;);\r\n            EntityManager entityManager = fabrica.createEntityManager();\r\n    \r\n            Query query = entityManager.createQuery(hql);\r\n            List&lt;Persona&gt; personas = query.getResultList();\r\n            \r\n            for (Persona p : personas) {\r\n                System.out.println(&quot;Persona: &quot; + p);\r\n            } \r\n    \r\n        }\r\n    }\r\n    ```\r\n\r\nWhen I run the program I get the following error:\r\n**No Persistence provider for EntityManager named HibernateEjemplo1**\r\n\r\nThe structure of my project is as follows. \r\n\r\n[Project structure](https://i.stack.imgur.com/QMrWt.png)\r\n\r\nAny help is welcome. \r\nThank you in advance.","title":"Hibernate error: No Persistence provider for EntityManager named HibernateEjemplo1","body":"<p>I'm a programming student and this is my first contact with Hibernate.</p>\n<p>When trying to make a program with netbeans 16 and JDK 19, using Hibernate to connect to a SQL database I get the following error.</p>\n<pre><code>\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named HibernateEjemplo1\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:61)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n        at test.HolaMundoHibernate.main(HolaMundoHibernate.java:12)\n    Command execution failed.\n\n</code></pre>\n<p>Following an internet tutorial I have done the following:</p>\n<ol>\n<li><p>I have created the database called <strong>test</strong> and the table called <strong>persona</strong> with SQL.</p>\n</li>\n<li><p>I have created a java Maven project, called <strong>HibernateExample1</strong> with Netbeans 16 and JDK 19.</p>\n</li>\n<li><p>I have modified the <strong>pom.xml</strong> file to add dependencies. I have only added the ones highlighted in blue, the rest have been added by themselves by doing <strong>clean &amp; build</strong> in the project.</p>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;mx.com.gm&lt;/groupId&gt;\n        &lt;artifactId&gt;HibernateEjemplo1&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n            &lt;exec.mainClass&gt;HibernateEjemplo1&lt;/exec.mainClass&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;version&gt;6.1.6.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;8.0.28&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;2.13.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;version&gt;2.13.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\n                &lt;type&gt;jar&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.asm&lt;/artifactId&gt;\n                &lt;version&gt;9.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.antlr&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.jpa.jpql&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\n                &lt;version&gt;2.2.3&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/project&gt;\n\n</code></pre>\n<ol start=\"4\">\n<li><p>I have created the <strong>persistence.xml</strong> file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence  http://xmlns.jcp.org/xml/ns/persistence_2_2.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;HibernateEjemplo1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;mx.com.gm.domain.Persona&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/mysql?zeroDateTimeBehavior=CONVERT_TO_NULL&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n      &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n</li>\n<li><p>I have created the file <strong>log4j2.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n</li>\n<li><p>I have created the class <strong>Persona.java</strong> which has the same attributes as my SQL table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mx.com.gm.domain;\n\nimport java.io.Serializable;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;persona&quot;)\npublic class Persona implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;id_persona&quot;)\n    @Id\n    private int idPersona;\n\n    private String nombre;\n\n    private String apellido;\n\n    private String email;\n\n    private String telefono;\n\n    public Persona() {\n    }\n\n    public int getIdPersona() {\n        return idPersona;\n    }\n\n    public void setIdPersona(int idPersona) {\n        this.idPersona = idPersona;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public String getApellido() {\n        return apellido;\n    }\n\n    public void setApellido(String apellido) {\n        this.apellido = apellido;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getTelefono() {\n        return telefono;\n    }\n\n    public void setTelefono(String telefono) {\n        this.telefono = telefono;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Empleados{&quot; + &quot;idPersona=&quot; + idPersona + &quot;, nombre=&quot; + nombre + &quot;, apellido=&quot; + apellido + \n                &quot;, email=&quot; + email + &quot;, telefono=&quot; + telefono + '}';\n    }\n\n}\n    ```\n\n</code></pre>\n</li>\n<li><p>And finally, I have created the class <strong>HolaMundoHibernate.java</strong> to run the program.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.util.List;\nimport javax.persistence.*;\nimport mx.com.gm.domain.Persona;\n\n\npublic class HolaMundoHibernate {\n    public static void main(String[] args) {\n        String hql = &quot;SELECT p FROM Persona p&quot;;\n        EntityManagerFactory fabrica = Persistence.createEntityManagerFactory(&quot;HibernateEjemplo1&quot;);\n        EntityManager entityManager = fabrica.createEntityManager();\n\n        Query query = entityManager.createQuery(hql);\n        List&lt;Persona&gt; personas = query.getResultList();\n\n        for (Persona p : personas) {\n            System.out.println(&quot;Persona: &quot; + p);\n        } \n\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>When I run the program I get the following error:\n<strong>No Persistence provider for EntityManager named HibernateEjemplo1</strong></p>\n<p>The structure of my project is as follows.</p>\n<p><a href=\"https://i.stack.imgur.com/QMrWt.png\" rel=\"nofollow noreferrer\">Project structure</a></p>\n<p>Any help is welcome.\nThank you in advance.</p>\n"},{"tags":["java","email","selenium-webdriver","xpath","ui-automation"],"owner":{"account_id":27261804,"reputation":11,"user_id":20784529,"display_name":"Appas Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682417335,"creation_date":1682415871,"question_id":76099760,"body_markdown":"    &lt;a href=&quot;mailto:support@gmail.co&quot; title=&quot;Contact Support&quot; &gt;\r\n\r\n\r\nThere is an icon which hold the above elements , when clicked on that icon, it will open the email conversation like this \r\n\r\nhttps://mail.google.com/mail/u/0/?fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co\r\n\r\nWhen I do click action on that icon there is no response but click action performed , is there any restriction behind this when do automation , other icon after this icons are all working fine \r\n\r\nI tried below and nothing worked \r\n\r\n 1. normal `click()` \r\n 2. `click()` using keyboard\r\n 3. `click()` using Action class \r\n````     \r\npublic LoginPage clickContactSupportLnk()\r\n\t{\r\n\t\t\r\n       WebElement inputField = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;pcs\\&quot;]&quot;));\r\n       Actions actions = new Actions(driver);\r\n\t   actions.moveToElement(inputField).click().build().perform();\r\n\t   waitForGivenTime(5);\r\n\t   wait.until(ExpectedConditions.urlToBe(&quot;https://mail.google.com/mail/u/0/?           fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co&quot;));\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\r\npublic LoginPage clickContactSupportLnk()\r\n\t{\r\n\t\r\n      WebElement inputField = driver.findElement(By.xpath(&quot;//a[contains(text(),&#39;Sign Up&#39;)]&quot;));\r\n\t  inputField.sendKeys(Keys.TAB);\r\n\t  inputField.sendKeys(Keys.ENTER);\r\n\t  waitForGivenTime(5);\r\n\t  wait.until(ExpectedConditions.urlToBe(&quot;https:URL&quot;));\r\n\t  return this;\r\n\r\n\t}\r\n````\r\n     ","title":"Not able to perform click action with email chat support option","body":"<pre><code>&lt;a href=&quot;mailto:support@gmail.co&quot; title=&quot;Contact Support&quot; &gt;\n</code></pre>\n<p>There is an icon which hold the above elements , when clicked on that icon, it will open the email conversation like this</p>\n<p><a href=\"https://mail.google.com/mail/u/0/?fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co\" rel=\"nofollow noreferrer\">https://mail.google.com/mail/u/0/?fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co</a></p>\n<p>When I do click action on that icon there is no response but click action performed , is there any restriction behind this when do automation , other icon after this icons are all working fine</p>\n<p>I tried below and nothing worked</p>\n<ol>\n<li>normal <code>click()</code></li>\n<li><code>click()</code> using keyboard</li>\n<li><code>click()</code> using Action class</li>\n</ol>\n<pre><code>public LoginPage clickContactSupportLnk()\n    {\n        \n       WebElement inputField = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;pcs\\&quot;]&quot;));\n       Actions actions = new Actions(driver);\n       actions.moveToElement(inputField).click().build().perform();\n       waitForGivenTime(5);\n       wait.until(ExpectedConditions.urlToBe(&quot;https://mail.google.com/mail/u/0/?           fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co&quot;));\n        return this;\n\n    }\n\n\npublic LoginPage clickContactSupportLnk()\n    {\n    \n      WebElement inputField = driver.findElement(By.xpath(&quot;//a[contains(text(),'Sign Up')]&quot;));\n      inputField.sendKeys(Keys.TAB);\n      inputField.sendKeys(Keys.ENTER);\n      waitForGivenTime(5);\n      wait.until(ExpectedConditions.urlToBe(&quot;https:URL&quot;));\n      return this;\n\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9516,"page":476,"page_size":100}
