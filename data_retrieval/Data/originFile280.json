{"items":[{"tags":["java","kubernetes","memcached"],"owner":{"account_id":3361684,"reputation":855,"user_id":2823355,"accept_rate":46,"display_name":"786543214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690686000,"creation_date":1690686000,"question_id":76796183,"body_markdown":"Facing memcached issue while running a application in K8 and memcached is running in docker.\r\n[![enter image description here][1]][1]\r\n\r\nEarlier we were in docker both application and memcached. Now we have migrated only application from docker to K8 but memcached is still running in docker.\r\nAfter the application K8 migration we are not able to connect to memcached, we are getting time out exception. Tried doing telnet from K8 server, telnet is working fine.\r\nAny possible guess on the issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j7704.png","title":"Memcached: Timeout waiting for value: waited 10,000 ms. Node status: Connection Status ip:port active: true, authed: true, last read: 7,060,231ms ago","body":"<p>Facing memcached issue while running a application in K8 and memcached is running in docker.\n<a href=\"https://i.stack.imgur.com/j7704.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j7704.png\" alt=\"enter image description here\" /></a></p>\n<p>Earlier we were in docker both application and memcached. Now we have migrated only application from docker to K8 but memcached is still running in docker.\nAfter the application K8 migration we are not able to connect to memcached, we are getting time out exception. Tried doing telnet from K8 server, telnet is working fine.\nAny possible guess on the issue?</p>\n"},{"tags":["java","spring-boot","spring-security","userdetailsservice"],"comments":[{"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"score":0,"creation_date":1665075445,"post_id":73977204,"comment_id":130620206,"body_markdown":"encoded password look like this @luk2302 $2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K,i am using BCryptPasswordEncoder to store data","body":"encoded password look like this @luk2302 $2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&zwnj;&#8203;,i am using BCryptPasswordEncoder to store data"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1665075749,"post_id":73977204,"comment_id":130620294,"body_markdown":"https://en.m.wikipedia.org/wiki/Bcrypt#Description - that is how bcrypt output is supposed to look.","body":"<a href=\"https://en.m.wikipedia.org/wiki/Bcrypt#Description\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Bcrypt#Description</a> - that is how bcrypt output is supposed to look."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1665131501,"post_id":73977204,"comment_id":130632313,"body_markdown":"@TilmeezUrRehmanBhatti Add a breakpoint at this line: `return new User(employee.getUserName(),employee.getPassword(), mapRolesToAuthorities(employee.getRoles()));` and check the value of `employee.getPassword()`.","body":"@TilmeezUrRehmanBhatti Add a breakpoint at this line: <code>return new User(employee.getUserName(),employee.getPassword(), mapRolesToAuthorities(employee.getRoles()));</code> and check the value of <code>employee.getPassword()</code>."},{"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"score":0,"creation_date":1665223910,"post_id":73977204,"comment_id":130652866,"body_markdown":"@dur , `employee.getPassword()` i am getting $2a$10$egm4nKzQ87RXZho4KTz2hOA.n5o.cwy/WODNp7oGf3It4CvR13jCS but what i notice it matches plan text with bcrypt password from database and that i am not understanding why","body":"@dur , <code>employee.getPassword()</code> i am getting $2a$10$egm4nKzQ87RXZho4KTz2hOA.n5o.cwy/WODNp7oGf3It4CvR13jCS but what i notice it matches plan text with bcrypt password from database and that i am not understanding why"}],"answers":[{"comments":[{"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"score":1,"creation_date":1665080925,"post_id":73978140,"comment_id":130621965,"body_markdown":"Ok i understand but when i register using default Strength of 10 and still try to login i get error                                                                                                                             `$2a$10$sROG0nq1ucs/tmoREgukBulshg0FBMYeYnK/K35f0nfkOXjYMu4Ou                    \n2022-10-06 20:26:46.836  WARN 18888 --- [nio-8080-exec-3] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt `  or my by i do something wrong in code i have gone maytime with code but i cant find the resaon","body":"Ok i understand but when i register using default Strength of 10 and still try to login i get error                                                                                                                             <code>$2a$10$sROG0nq1ucs&#47;tmoREgukBulshg0FBMYeYnK&#47;K35f0nfkOXjYMu4Ou                     2022-10-06 20:26:46.836  WARN 18888 --- [nio-8080-exec-3] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt </code>  or my by i do something wrong in code i have gone maytime with code but i cant find the resaon"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1665081440,"post_id":73978140,"comment_id":130622136,"body_markdown":"The website you are using to generate Hash online may be the issue. Use different website","body":"The website you are using to generate Hash online may be the issue. Use different website"},{"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"score":0,"creation_date":1665239170,"post_id":73978140,"comment_id":130655545,"body_markdown":"I don&#39;t think it&#39;s because of the password its somewhere in the code where we are not handling incoming passwords from the user to BCrypt and then matching, while debugging I noticed it try to match with the plain password with is entered by me(user) with BCrypt password from Database. And i don&#39;t know how to handle this or convert the input password to BCrypt because normally it&#39;s handled by spring security (If I am not wrong)","body":"I don&#39;t think it&#39;s because of the password its somewhere in the code where we are not handling incoming passwords from the user to BCrypt and then matching, while debugging I noticed it try to match with the plain password with is entered by me(user) with BCrypt password from Database. And i don&#39;t know how to handle this or convert the input password to BCrypt because normally it&#39;s handled by spring security (If I am not wrong)"}],"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665078903,"creation_date":1665078903,"answer_id":73978140,"question_id":73977204,"body_markdown":"I am not sure why you got that impression. Bcrypt encoder uses Strenth parameter with value from 4 to 31 to encode the text. When it&#39;s 4, you will see hashed value something like $2a$04 and when it&#39;s 10 (default value) hash will be of pattern $2a$10 &lt;br&gt; now, the question is why three passwords in the database have same hash value. Was it generated and updated outside this program? \r\n","title":"Encoded password does not look like BCrypt when using Spring Security UserDetailsService","body":"<p>I am not sure why you got that impression. Bcrypt encoder uses Strenth parameter with value from 4 to 31 to encode the text. When it's 4, you will see hashed value something like $2a$04 and when it's 10 (default value) hash will be of pattern $2a$10 <br> now, the question is why three passwords in the database have same hash value. Was it generated and updated outside this program?</p>\n"},{"tags":[],"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690684714,"creation_date":1665310625,"answer_id":74003885,"question_id":73977204,"body_markdown":"This issue is related to column size. As I am using `PostgreSQL`, it might be of type issue.\r\n\r\n* [Spring Security : Encoded password does not look like BCrypt](https://mkyong.com/spring-security/spring-security-encoded-password-does-not-look-like-bcrypt/)\r\n\r\nAlter the password column type from `char` to `varchar`, it solves my problem","title":"Encoded password does not look like BCrypt when using Spring Security UserDetailsService","body":"<p>This issue is related to column size. As I am using <code>PostgreSQL</code>, it might be of type issue.</p>\n<ul>\n<li><a href=\"https://mkyong.com/spring-security/spring-security-encoded-password-does-not-look-like-bcrypt/\" rel=\"nofollow noreferrer\">Spring Security : Encoded password does not look like BCrypt</a></li>\n</ul>\n<p>Alter the password column type from <code>char</code> to <code>varchar</code>, it solves my problem</p>\n"}],"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74003885,"answer_count":2,"score":0,"last_activity_date":1690684714,"creation_date":1665073769,"question_id":73977204,"body_markdown":"When i am using Spring Security UserDetailsService i am encounter Encoded password does not look like BCrypt, whereas without it working fine \r\n\r\nOtherwise its working fine \r\n\r\ndatabase is here\r\n[enter image description here][1]\r\n\r\nFrom EmployeeServiceImpl\r\n```JAVA\r\n @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Employee employee = employeeRepository.findByUserName(username);\r\n        System.out.println(employee);\r\n        if (username == null) {\r\n            throw new UsernameNotFoundException(&quot;Invalid user name or password&quot;);\r\n        }\r\n         return new User(employee.getUserName(),employee.getPassword(),\r\n                mapRolesToAuthorities(employee.getRoles()));\r\n}\r\n   private Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\r\n        return roles.stream()\r\n                .map(\r\n                        role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nFor registration i am using BCryptPasswordEncoder\r\n```JAVA\r\n@Override\r\n    public void save(ErmUser ermUser) {\r\n\r\n        Employee employee = new Employee();\r\n\r\n        // assign user details to the user object\r\n        employee.setUserName(ermUser.getUserName());\r\n        employee.setPassword(passwordEncoder.encode(ermUser.getPassword()));\r\n        employee.setFirstName(ermUser.getFirstName());\r\n        employee.setLastName(ermUser.getLastName());\r\n        employee.setEmail(ermUser.getEmail());\r\n\r\n        // give user role of &quot;EMPLOYEE&quot;\r\n        employee.setRoles(Arrays.asList(roleRepository.findRoleByName(&quot;ROLE_EMPLOYEE&quot;)));\r\n\r\n        // save the user in database\r\n        employeeRepository.save(employee);\r\n    }\r\n```\r\nhttps://github.com/TilmeezUrRehmanBhatti/thymeleafdemo-employees-db/issues/2\r\n\r\n  [1]: https://i.stack.imgur.com/FZEo5.png\r\n\r\nI don&#39;t think it&#39;s because of the password its somewhere in the code where we are not handling incoming passwords from the user to BCrypt and then matching, while debugging I noticed it try to match with the plain password with is entered by me(user) with BCrypt password from Database. And i don&#39;t know how to handle this or convert the input password to BCrypt  because normally it&#39;s handled by spring security (If I am not wrong)","title":"Encoded password does not look like BCrypt when using Spring Security UserDetailsService","body":"<p>When i am using Spring Security UserDetailsService i am encounter Encoded password does not look like BCrypt, whereas without it working fine</p>\n<p>Otherwise its working fine</p>\n<p>database is here\n<a href=\"https://i.stack.imgur.com/FZEo5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>From EmployeeServiceImpl</p>\n<pre><code> @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Employee employee = employeeRepository.findByUserName(username);\n        System.out.println(employee);\n        if (username == null) {\n            throw new UsernameNotFoundException(&quot;Invalid user name or password&quot;);\n        }\n         return new User(employee.getUserName(),employee.getPassword(),\n                mapRolesToAuthorities(employee.getRoles()));\n}\n   private Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\n        return roles.stream()\n                .map(\n                        role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n    }\n</code></pre>\n<p>For registration i am using BCryptPasswordEncoder</p>\n<pre><code>@Override\n    public void save(ErmUser ermUser) {\n\n        Employee employee = new Employee();\n\n        // assign user details to the user object\n        employee.setUserName(ermUser.getUserName());\n        employee.setPassword(passwordEncoder.encode(ermUser.getPassword()));\n        employee.setFirstName(ermUser.getFirstName());\n        employee.setLastName(ermUser.getLastName());\n        employee.setEmail(ermUser.getEmail());\n\n        // give user role of &quot;EMPLOYEE&quot;\n        employee.setRoles(Arrays.asList(roleRepository.findRoleByName(&quot;ROLE_EMPLOYEE&quot;)));\n\n        // save the user in database\n        employeeRepository.save(employee);\n    }\n</code></pre>\n<p><a href=\"https://github.com/TilmeezUrRehmanBhatti/thymeleafdemo-employees-db/issues/2\" rel=\"nofollow noreferrer\">https://github.com/TilmeezUrRehmanBhatti/thymeleafdemo-employees-db/issues/2</a></p>\n<p>I don't think it's because of the password its somewhere in the code where we are not handling incoming passwords from the user to BCrypt and then matching, while debugging I noticed it try to match with the plain password with is entered by me(user) with BCrypt password from Database. And i don't know how to handle this or convert the input password to BCrypt  because normally it's handled by spring security (If I am not wrong)</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5167551,"reputation":733,"user_id":4137085,"accept_rate":56,"display_name":"Kunle Ajiboye"},"score":0,"creation_date":1522459122,"post_id":49582971,"comment_id":86174755,"body_markdown":"@Min Hyoung Hong.. The code ran well until I need to pass the authentication credentials. the only error it throws is: (Encoded password does not look like BCrypt)","body":"@Min Hyoung Hong.. The code ran well until I need to pass the authentication credentials. the only error it throws is: (Encoded password does not look like BCrypt)"}],"answers":[{"comments":[{"owner":{"account_id":3804068,"reputation":83,"user_id":3156936,"display_name":"misabelcarde"},"score":0,"creation_date":1522606321,"post_id":49594413,"comment_id":86209434,"body_markdown":"The `UserDetaulsService` and the `PasswordEncoder` are already defined at `protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder)`. Isn&#39;t that enough?","body":"The <code>UserDetaulsService</code> and the <code>PasswordEncoder</code> are already defined at <code>protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder)</code>. Isn&#39;t that enough?"}],"tags":[],"owner":{"account_id":7158865,"reputation":660,"user_id":5470241,"accept_rate":40,"display_name":"bitscanbyte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522552310,"creation_date":1522551990,"answer_id":49594413,"question_id":49582971,"body_markdown":"You are likely missing this bean in your Security configuration `SecurityConfig`\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider getAuthenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(customDetailsService);\r\n        authenticationProvider.setPasswordEncoder(encoder());\r\n        return authenticationProvider;\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>You are likely missing this bean in your Security configuration <code>SecurityConfig</code></p>\n\n<pre><code>@Bean\npublic DaoAuthenticationProvider getAuthenticationProvider() {\n    DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n    authenticationProvider.setUserDetailsService(customDetailsService);\n    authenticationProvider.setPasswordEncoder(encoder());\n    return authenticationProvider;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9254167,"reputation":359,"user_id":6873644,"display_name":"Ayush28"},"score":0,"creation_date":1601648407,"post_id":49683857,"comment_id":113479495,"body_markdown":"Man this worked for me! Can you please explain why we also need to encode client password?","body":"Man this worked for me! Can you please explain why we also need to encode client password?"}],"tags":[],"owner":{"account_id":13305057,"reputation":411,"user_id":9605164,"display_name":"Selvam Paramasivan"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1522977741,"creation_date":1522977741,"answer_id":49683857,"question_id":49582971,"body_markdown":"Can you double check your client secret is encoded?\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\r\n        configurer\r\n                .inMemory()\r\n                .withClient(clientId)\r\n                .secret(passwordEncoder.encode(clientSecret))\r\n                .authorizedGrantTypes(grantType)\r\n                .scopes(scopeRead, scopeWrite)\r\n                .resourceIds(resourceIds);\r\n    }\r\n","title":"Encoded password does not look like BCrypt","body":"<p>Can you double check your client secret is encoded?</p>\n\n<pre><code>@Override\npublic void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\n    configurer\n            .inMemory()\n            .withClient(clientId)\n            .secret(passwordEncoder.encode(clientSecret))\n            .authorizedGrantTypes(grantType)\n            .scopes(scopeRead, scopeWrite)\n            .resourceIds(resourceIds);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":3,"creation_date":1546356529,"post_id":50786384,"comment_id":94830539,"body_markdown":"You&#39;re right.. but this leads to another issue `java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;`","body":"You&#39;re right.. but this leads to another issue <code>java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;</code>"},{"owner":{"account_id":4380948,"reputation":152,"user_id":3572614,"display_name":"Amran Hossain"},"score":0,"creation_date":1548928377,"post_id":50786384,"comment_id":95723549,"body_markdown":"You can bCrypt client secret like {bcrypt}$2a...... Hope fully it&#39;s work!","body":"You can bCrypt client secret like {bcrypt}$2a...... Hope fully it&#39;s work!"},{"owner":{"account_id":6680455,"reputation":489,"user_id":5153843,"display_name":"Erycoking"},"score":0,"creation_date":1638164689,"post_id":50786384,"comment_id":124005840,"body_markdown":"@Pra_A how did you go around this ```java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;``` am getting the same error","body":"@Pra_A how did you go around this <code>java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;</code> am getting the same error"}],"tags":[],"owner":{"account_id":13634794,"reputation":161,"user_id":9836093,"display_name":"cyberplanete"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1556379206,"creation_date":1528652380,"answer_id":50786384,"question_id":49582971,"body_markdown":"The PasswordEncoder should be set like this:\r\n\r\n    @Bean\r\n  \tpublic PasswordEncoder passwordEncoder() {\r\n   \t    return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n   \t}\r\n\r\n","title":"Encoded password does not look like BCrypt","body":"<p>The PasswordEncoder should be set like this:</p>\n\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8072907,"reputation":1250,"user_id":6085034,"display_name":"Christian Altamirano Ayala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531063490,"creation_date":1531063490,"answer_id":51233457,"question_id":49582971,"body_markdown":"I had the same error and it was because of the datatype of the password column, \r\nthis column was length blank fixed (CHARACTER), so make sure You&#39;re using a VARCHAR datatype or else change the length to 60 for you password column.","title":"Encoded password does not look like BCrypt","body":"<p>I had the same error and it was because of the datatype of the password column, \nthis column was length blank fixed (CHARACTER), so make sure You're using a VARCHAR datatype or else change the length to 60 for you password column.</p>\n"},{"tags":[],"owner":{"account_id":7926191,"reputation":516,"user_id":5985566,"accept_rate":60,"display_name":"PKumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1556379269,"creation_date":1531183954,"answer_id":51255841,"question_id":49582971,"body_markdown":"When oauth2 dependecncies moved to cloud, I started facing this issue. Earlier it was part of security framework :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow it is part of cloud framework :\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nSo if you are using cloud dependency (Finchley.RELEASE) then you may need to encode the secret like below :\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients\r\n                .inMemory()\r\n                .withClient(&quot;clientapp&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;,&quot;refresh_token&quot;)\r\n                .authorities(&quot;USER&quot;)\r\n                .scopes(&quot;read&quot;, &quot;write&quot;)\r\n                .resourceIds(RESOURCE_ID)\r\n                .secret(passwordEncoder.encode(&quot;SECRET&quot;));\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>When oauth2 dependecncies moved to cloud, I started facing this issue. Earlier it was part of security framework :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now it is part of cloud framework :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>So if you are using cloud dependency (Finchley.RELEASE) then you may need to encode the secret like below :</p>\n\n<pre><code>@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients\n            .inMemory()\n            .withClient(\"clientapp\")\n            .authorizedGrantTypes(\"password\",\"refresh_token\")\n            .authorities(\"USER\")\n            .scopes(\"read\", \"write\")\n            .resourceIds(RESOURCE_ID)\n            .secret(passwordEncoder.encode(\"SECRET\"));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8469739,"reputation":445,"user_id":6352807,"display_name":"Lucas. D"},"score":8,"creation_date":1538934541,"post_id":52420168,"comment_id":92309401,"body_markdown":"Im running into this problem right now. I&#39;ve hashed passwords with online tools, and if hashed password starts with $2y or $2b i got &#39;Encoded password does not look like BCrypt&#39;. The only way i found to avoid this error is having hashed passwords that starts with $2a","body":"Im running into this problem right now. I&#39;ve hashed passwords with online tools, and if hashed password starts with $2y or $2b i got &#39;Encoded password does not look like BCrypt&#39;. The only way i found to avoid this error is having hashed passwords that starts with $2a"},{"owner":{"account_id":3985474,"reputation":237,"user_id":3286178,"display_name":"rwenz3l"},"score":5,"creation_date":1544518095,"post_id":52420168,"comment_id":94294083,"body_markdown":"FYI The Bug was tracked on GitHub: https://github.com/spring-projects/spring-security/issues/3320. It seems like a PR was merged in October 2018 (3 Years after Bug Report and 4 Years after BCrypt update). It will probably be released with a new Spring Security Version (5.2.0)","body":"FYI The Bug was tracked on GitHub: <a href=\"https://github.com/spring-projects/spring-security/issues/3320\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/3320</a>. It seems like a PR was merged in October 2018 (3 Years after Bug Report and 4 Years after BCrypt update). It will probably be released with a new Spring Security Version (5.2.0)"},{"owner":{"account_id":2991923,"reputation":919,"user_id":2539334,"display_name":"Do Tat Hoan"},"score":0,"creation_date":1562230554,"post_id":52420168,"comment_id":100315755,"body_markdown":"Spring-core-security version 5.0.11, class BCryptPasswordEncoder, method &quot;matches&quot; using &quot;private Pattern BCRYPT_PATTERN = Pattern\n\t\t\t.compile(&quot;\\\\A\\\\$2a?\\\\$\\\\d\\\\d\\\\$[./0-9A-Za-z]{53}&quot;);&quot; will be fall in block: if (!BCRYPT_PATTERN.matcher(encodedPassword).matches()) {\n\t\t\tlogger.warn(&quot;Encoded password does not look like BCrypt&quot;);\n\t\t\treturn false;\n\t\t}","body":"Spring-core-security version 5.0.11, class BCryptPasswordEncoder, method &quot;matches&quot; using &quot;private Pattern BCRYPT_PATTERN = Pattern \t\t\t.compile(&quot;\\\\A\\\\$2a?\\\\$\\\\d\\\\d\\\\$[./0-9A-Za-z]{53}&quot;);&quot; will be fall in block: if (!BCRYPT_PATTERN.matcher(encodedPassword).matches()) { \t\t\tlogger.warn(&quot;Encoded password does not look like BCrypt&quot;); \t\t\treturn false; \t\t}"},{"owner":{"account_id":1128460,"reputation":2054,"user_id":1115122,"accept_rate":56,"display_name":"anshulkatta"},"score":1,"creation_date":1634369154,"post_id":52420168,"comment_id":123009850,"body_markdown":"for me culprit was using char[] for storing password","body":"for me culprit was using char[] for storing password"},{"owner":{"account_id":7104898,"reputation":141,"user_id":5434880,"accept_rate":80,"display_name":"piepi"},"score":0,"creation_date":1640457638,"post_id":52420168,"comment_id":124590764,"body_markdown":"For people coming from any tutorial, the password field in DB should be longer in your table. Set it to varchar(100) and see if it works.","body":"For people coming from any tutorial, the password field in DB should be longer in your table. Set it to varchar(100) and see if it works."}],"tags":[],"owner":{"account_id":4644536,"reputation":1039,"user_id":3763312,"accept_rate":100,"display_name":"Nikhil"},"comment_count":5,"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1690684490,"creation_date":1537429830,"answer_id":52420168,"question_id":49582971,"body_markdown":"`BCryptPasswordEncoder` shows this warning when it fails to match a raw password with an encoded password. \r\n\r\nThe hashed password  might be `$2b` or `$2y` now. \r\n\r\nAnd there is a bug in `Spring Security` that has a regex always looking for `$2a`. Put a debug point at the `matches()` method in the `BCryptPasswordEncoder.class`.","title":"Encoded password does not look like BCrypt","body":"<p><code>BCryptPasswordEncoder</code> shows this warning when it fails to match a raw password with an encoded password.</p>\n<p>The hashed password  might be <code>$2b</code> or <code>$2y</code> now.</p>\n<p>And there is a bug in <code>Spring Security</code> that has a regex always looking for <code>$2a</code>. Put a debug point at the <code>matches()</code> method in the <code>BCryptPasswordEncoder.class</code>.</p>\n"},{"tags":[],"owner":{"account_id":5619118,"reputation":350,"user_id":4449538,"display_name":"sandeep pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538834292,"creation_date":1538834292,"answer_id":52679786,"question_id":49582971,"body_markdown":"Please check if your method `UserDetails loadUserByUsername(String username) ` returns valid `UserDetail` object. If Returned object is null / object with invalid values then also you will see this error.","title":"Encoded password does not look like BCrypt","body":"<p>Please check if your method <code>UserDetails loadUserByUsername(String username)</code> returns valid <code>UserDetail</code> object. If Returned object is null / object with invalid values then also you will see this error.</p>\n"},{"tags":[],"owner":{"account_id":1004018,"reputation":173,"user_id":1018219,"display_name":"Zagrebin Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543891717,"creation_date":1543891717,"answer_id":53604999,"question_id":49582971,"body_markdown":"BCryptPasswordEncoder does not strip the {bcrypt} id, but DelegatingPasswordEncoder do it. When I define explicitly BCryptPasswordEncoder as an encoder for DaoAuthenticationProvider it calls matches method on BCryptPasswordEncoder (without id strip), but not on DelegatingPasswordEncoder (with id strip).","title":"Encoded password does not look like BCrypt","body":"<p>BCryptPasswordEncoder does not strip the {bcrypt} id, but DelegatingPasswordEncoder do it. When I define explicitly BCryptPasswordEncoder as an encoder for DaoAuthenticationProvider it calls matches method on BCryptPasswordEncoder (without id strip), but not on DelegatingPasswordEncoder (with id strip).</p>\n"},{"comments":[{"owner":{"account_id":10608250,"reputation":173,"user_id":7812920,"display_name":"Lin Chen"},"score":1,"creation_date":1553310013,"post_id":55310109,"comment_id":97348025,"body_markdown":"For my error message &quot;Encoded password does not look like BCrypt&quot; . The length of encode password is 60 byte. But the column password in database is 100. So I have change the column password from char to varchar to fix this issue.","body":"For my error message &quot;Encoded password does not look like BCrypt&quot; . The length of encode password is 60 byte. But the column password in database is 100. So I have change the column password from char to varchar to fix this issue."},{"owner":{"account_id":10608250,"reputation":173,"user_id":7812920,"display_name":"Lin Chen"},"score":0,"creation_date":1553310324,"post_id":55310109,"comment_id":97348069,"body_markdown":"my database is db2 on iseries.","body":"my database is db2 on iseries."}],"tags":[],"owner":{"account_id":10608250,"reputation":173,"user_id":7812920,"display_name":"Lin Chen"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553308962,"creation_date":1553308962,"answer_id":55310109,"question_id":49582971,"body_markdown":"The best way to identify this problem &quot;**Encoded password does not look like BCrypt**&quot; is setup a break porint in class **org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder**. And then check the root cause for the warnning.\r\n\r\n\tif (!BCRYPT_PATTERN.matcher(encodedPassword).matches()) {\r\n\t\tlogger.warn(&quot;Encoded password does not look like BCrypt&quot;);\r\n\t\treturn false;\r\n\t}","title":"Encoded password does not look like BCrypt","body":"<p>The best way to identify this problem \"<strong>Encoded password does not look like BCrypt</strong>\" is setup a break porint in class <strong>org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder</strong>. And then check the root cause for the warnning.</p>\n\n<pre><code>if (!BCRYPT_PATTERN.matcher(encodedPassword).matches()) {\n    logger.warn(\"Encoded password does not look like BCrypt\");\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9111472,"reputation":145,"user_id":8868305,"display_name":"Faqtt0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556569385,"creation_date":1556569385,"answer_id":55910339,"question_id":49582971,"body_markdown":"use noop in secret for tests. \r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients.inMemory()\r\n                .withClient(&quot;angular&quot;)\r\n                .secret(&quot;{noop}@ngular0&quot;)\r\n                .scopes(&quot;read&quot;, &quot;write&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;)\r\n                .accessTokenValiditySeconds(1800);\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>use noop in secret for tests. </p>\n\n<pre><code>@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients.inMemory()\n            .withClient(\"angular\")\n            .secret(\"{noop}@ngular0\")\n            .scopes(\"read\", \"write\")\n            .authorizedGrantTypes(\"password\")\n            .accessTokenValiditySeconds(1800);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1568237678,"creation_date":1568237678,"answer_id":57897094,"question_id":49582971,"body_markdown":"As of today, with Spring Boot 2.1.7.RELEASE, I am still experiencing this issue. \r\nI was using some online tools which gave me hashes starting with $2b or $2y, \r\nwhich Spring&#39;s `BCryptPasswordEncoder` does not allow:\r\n\r\n    public class BCryptPasswordEncoder implements PasswordEncoder {\r\n    \tprivate Pattern BCRYPT_PATTERN = Pattern\r\n    \t\t\t.compile(&quot;\\\\A\\\\$2a?\\\\$\\\\d\\\\d\\\\$[./0-9A-Za-z]{53}&quot;);\r\n    ...\r\n\r\n*Solution*: use `BCryptPasswordEncoder` class to encode the password:\r\n\r\n    BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\r\n    System.out.println(encoder.encode(&quot;admin&quot;));\r\n\r\nAnd then:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth)\r\n            throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;admin&quot;)\r\n                .password(&quot;{bcrypt}$2a$10$6CW1agMzVzBhxDzK0PcxrO/cQcmN9h8ZriVEPy.6DJbVeyATG5mWe&quot;)\r\n                .roles(&quot;ADMIN&quot;);\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>As of today, with Spring Boot 2.1.7.RELEASE, I am still experiencing this issue. \nI was using some online tools which gave me hashes starting with $2b or $2y, \nwhich Spring's <code>BCryptPasswordEncoder</code> does not allow:</p>\n\n<pre><code>public class BCryptPasswordEncoder implements PasswordEncoder {\n    private Pattern BCRYPT_PATTERN = Pattern\n            .compile(\"\\\\A\\\\$2a?\\\\$\\\\d\\\\d\\\\$[./0-9A-Za-z]{53}\");\n...\n</code></pre>\n\n<p><em>Solution</em>: use <code>BCryptPasswordEncoder</code> class to encode the password:</p>\n\n<pre><code>BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\nSystem.out.println(encoder.encode(\"admin\"));\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth)\n        throws Exception {\n    auth.inMemoryAuthentication()\n            .withUser(\"admin\")\n            .password(\"{bcrypt}$2a$10$6CW1agMzVzBhxDzK0PcxrO/cQcmN9h8ZriVEPy.6DJbVeyATG5mWe\")\n            .roles(\"ADMIN\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576477966,"creation_date":1576477966,"answer_id":59351536,"question_id":49582971,"body_markdown":"In Spring Security 5, the default encoder is DelegatingPasswordEncoder, which required Password Storage Format.\r\n\r\nRead [this][1]\r\n\r\n\r\n```\r\n    private PasswordEncoder delegateEncoder =\r\n            PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception{\r\n            clients\r\n                    .jdbc(dataSource)\r\n                    .passwordEncoder(delegateEncoder);\r\n    }\r\n```\r\n\r\nGenerate the `password` or `secret` code using default encoder which is  `DelegatingPasswordEncoder`\r\n\r\n```\r\nSystem.out.println(delegateEncoder.encode(&quot;123123&quot;));\r\n// it generates the encoded code something like this: \r\n// {bcrypt}$2a$10$0aISzamI0jBCVTxONzJlHOk7O7QS.XPFIheLVhXultVa9Ju7SarZ6\r\n```\r\n\r\n\r\n  [1]: https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#password-storage-format","title":"Encoded password does not look like BCrypt","body":"<p>In Spring Security 5, the default encoder is DelegatingPasswordEncoder, which required Password Storage Format.</p>\n\n<p>Read <a href=\"https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#password-storage-format\" rel=\"nofollow noreferrer\">this</a></p>\n\n<pre><code>    private PasswordEncoder delegateEncoder =\n            PasswordEncoderFactories.createDelegatingPasswordEncoder();\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception{\n            clients\n                    .jdbc(dataSource)\n                    .passwordEncoder(delegateEncoder);\n    }\n</code></pre>\n\n<p>Generate the <code>password</code> or <code>secret</code> code using default encoder which is  <code>DelegatingPasswordEncoder</code></p>\n\n<pre><code>System.out.println(delegateEncoder.encode(\"123123\"));\n// it generates the encoded code something like this: \n// {bcrypt}$2a$10$0aISzamI0jBCVTxONzJlHOk7O7QS.XPFIheLVhXultVa9Ju7SarZ6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402310,"reputation":937,"user_id":769405,"accept_rate":82,"display_name":"mikelus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576838462,"creation_date":1576838462,"answer_id":59423880,"question_id":49582971,"body_markdown":"I got rid of this error message by using a long, 60 chars+ password e.g. CXPW3XT2vXwBZk9mYZ5eCrKPM8kXJC6bbwJQjtGq2NQRYQPzsvqTwYz8JvWhWD5KLrrUHHammBNV3tkkyA4U\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I got rid of this error message by using a long, 60 chars+ password e.g. CXPW3XT2vXwBZk9mYZ5eCrKPM8kXJC6bbwJQjtGq2NQRYQPzsvqTwYz8JvWhWD5KLrrUHHammBNV3tkkyA4U</p>\n"},{"tags":[],"owner":{"account_id":2125144,"reputation":333,"user_id":1887527,"display_name":"Makara Set"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587375849,"creation_date":1587375849,"answer_id":61319443,"question_id":49582971,"body_markdown":"Update field `client_secret` in table `oauth_client_details` with `BCryptPasswordEncoder` in case you migrate spring boot from 1x to 2x. To encode secret use: \r\n\r\n    \tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n\t\tString password = &quot;12345678&quot;;\r\n\t\tString encodedPassword = passwordEncoder.encode(password);\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Password is         : &quot; + password);\r\n\t\tSystem.out.println(&quot;Encoded Password is : &quot; + encodedPassword);\r\n\t\tSystem.out.println();\r\n\r\n\t\tboolean isPasswordMatch = passwordEncoder.matches(password, encodedPassword);\r\n\t\tSystem.out.println(&quot;Password : &quot; + password + &quot;   isPasswordMatch    : &quot; + isPasswordMatch);","title":"Encoded password does not look like BCrypt","body":"<p>Update field <code>client_secret</code> in table <code>oauth_client_details</code> with <code>BCryptPasswordEncoder</code> in case you migrate spring boot from 1x to 2x. To encode secret use: </p>\n\n<pre><code>    BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n    String password = \"12345678\";\n    String encodedPassword = passwordEncoder.encode(password);\n\n    System.out.println();\n    System.out.println(\"Password is         : \" + password);\n    System.out.println(\"Encoded Password is : \" + encodedPassword);\n    System.out.println();\n\n    boolean isPasswordMatch = passwordEncoder.matches(password, encodedPassword);\n    System.out.println(\"Password : \" + password + \"   isPasswordMatch    : \" + isPasswordMatch);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":230677,"reputation":6016,"user_id":494428,"accept_rate":80,"display_name":"hage"},"score":0,"creation_date":1643966077,"post_id":61353132,"comment_id":125484257,"body_markdown":"I also stumbled over this problem. I finally found out that my field in the DB was too long so that the PW returned from the DB bad trailing spaces, preventing a successful PW match.","body":"I also stumbled over this problem. I finally found out that my field in the DB was too long so that the PW returned from the DB bad trailing spaces, preventing a successful PW match."},{"owner":{"account_id":1016316,"reputation":143,"user_id":1027826,"display_name":"Kasper"},"score":0,"creation_date":1692676732,"post_id":61353132,"comment_id":135652785,"body_markdown":"I used the Spring CLI to generated a bcrypt password and stripping the {bcrypt} from thtat made the generated Spring login flow work.","body":"I used the Spring CLI to generated a bcrypt password and stripping the {bcrypt} from thtat made the generated Spring login flow work."}],"tags":[],"owner":{"account_id":13871456,"reputation":51,"user_id":10014442,"display_name":"Harin Mehta"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587623588,"creation_date":1587502705,"answer_id":61353132,"question_id":49582971,"body_markdown":" 1. In case you&#39;ve added &quot;{bcrypt}&quot; right before password, and not configured your app accordingly, you will get this error. Consider removing this.\r\n 2. If still not resolved, just set the column length of the user&#39;s password to 60( 68 if you&#39;ve added {bcryt} at the beginning) Worked for me!","title":"Encoded password does not look like BCrypt","body":"<ol>\n<li>In case you've added \"{bcrypt}\" right before password, and not configured your app accordingly, you will get this error. Consider removing this.</li>\n<li>If still not resolved, just set the column length of the user's password to 60( 68 if you've added {bcryt} at the beginning) Worked for me!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9972723,"reputation":3277,"user_id":7378293,"display_name":"Jehad Nasser"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597940577,"creation_date":1597940577,"answer_id":63509304,"question_id":49582971,"body_markdown":"For my own similar scenario I just encoded the password like this `passwordEncoder().encode(&quot;password&quot;)` instead of raw String `&quot;password&quot;`:\r\n\r\n```java\r\nauthenticationManagerBuilder\r\n  .inMemoryAuthentication()\r\n  .withUser(&quot;user&quot;)\r\n  // Just changed here\r\n  .password(passwordEncoder().encode(&quot;password&quot;))\r\n  .roles(&quot;USER&quot;);\r\n\r\n\r\n@Bean\r\npublic PasswordEncoder passwordEncoder() {\r\n  return new BCryptPasswordEncoder();\r\n}\r\n```","title":"Encoded password does not look like BCrypt","body":"<p>For my own similar scenario I just encoded the password like this <code>passwordEncoder().encode(&quot;password&quot;)</code> instead of raw String <code>&quot;password&quot;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>authenticationManagerBuilder\n  .inMemoryAuthentication()\n  .withUser(&quot;user&quot;)\n  // Just changed here\n  .password(passwordEncoder().encode(&quot;password&quot;))\n  .roles(&quot;USER&quot;);\n\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n  return new BCryptPasswordEncoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602071820,"creation_date":1602071820,"answer_id":64243526,"question_id":49582971,"body_markdown":"I struggled with this error while doing a Spring Security Course.\r\n\r\nMy problem was that even though in the AuthenticationManager  I was using the encoding, e.g:\r\n```\r\n    @Autowired\r\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n```\r\nThe Problem was that I was not Encoding the Password when I was saving the Users!!\r\nExample:\r\n```\r\nfinal Principal entity = new Principal(loginName, passwordEncoder.encode(pass), roles);\r\n```\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I struggled with this error while doing a Spring Security Course.</p>\n<p>My problem was that even though in the AuthenticationManager  I was using the encoding, e.g:</p>\n<pre><code>    @Autowired\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n</code></pre>\n<p>The Problem was that I was not Encoding the Password when I was saving the Users!!\nExample:</p>\n<pre><code>final Principal entity = new Principal(loginName, passwordEncoder.encode(pass), roles);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612052025,"creation_date":1612052025,"answer_id":65974508,"question_id":49582971,"body_markdown":"The UserDetails entity has to return the encoded password. This varies depending on the implementation.\r\n\r\n    class MyUserDetails: UserDetails {\r\n    \r\n        //...\r\n\r\n        override fun getPassword(): String {\r\n            return passwordEncoder().encode(&quot;aPassword&quot;)\r\n        }\r\n\r\n        private fun passwordEncoder(): PasswordEncoder {\r\n            return BCryptPasswordEncoder()\r\n        }\r\n    \r\n    }\r\n\r\nGL","title":"Encoded password does not look like BCrypt","body":"<p>The UserDetails entity has to return the encoded password. This varies depending on the implementation.</p>\n<pre><code>class MyUserDetails: UserDetails {\n\n    //...\n\n    override fun getPassword(): String {\n        return passwordEncoder().encode(&quot;aPassword&quot;)\n    }\n\n    private fun passwordEncoder(): PasswordEncoder {\n        return BCryptPasswordEncoder()\n    }\n\n}\n</code></pre>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":5905702,"reputation":47,"user_id":4647581,"display_name":"osman akbacı"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612477410,"creation_date":1612477410,"answer_id":66054732,"question_id":49582971,"body_markdown":"I had same issue and problem is that you should encode your inMemory password because when you click login form Spring Security take the extracted password from the HTTP Basic Auth header, **hash** it automatically and compare it with the hashed password from your UserDetails object. If both match, the user is successfully authenticated otherwise you will get this error. \r\n\r\nFor example , \r\n\r\nInMemory Password = &quot;123&quot;  \r\npasswordEncoder.encode(&quot;123&quot;)\r\n\r\nReference :  [link][1]\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-security#:~:text=The%20short%20answer%3A,standards%20like%20OAuth2%20or%20SAML.","title":"Encoded password does not look like BCrypt","body":"<p>I had same issue and problem is that you should encode your inMemory password because when you click login form Spring Security take the extracted password from the HTTP Basic Auth header, <strong>hash</strong> it automatically and compare it with the hashed password from your UserDetails object. If both match, the user is successfully authenticated otherwise you will get this error.</p>\n<p>For example ,</p>\n<p>InMemory Password = &quot;123&quot;<br />\npasswordEncoder.encode(&quot;123&quot;)</p>\n<p>Reference :  <a href=\"https://www.marcobehler.com/guides/spring-security#:%7E:text=The%20short%20answer%3A,standards%20like%20OAuth2%20or%20SAML.\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":3116918,"reputation":11,"user_id":2637480,"display_name":"Anil Jaglan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623929523,"creation_date":1623929523,"answer_id":68018483,"question_id":49582971,"body_markdown":"The problem is the empty spaces in password.\r\n\r\nTry to trim your password while returning from your custom UserDetailsService class.","title":"Encoded password does not look like BCrypt","body":"<p>The problem is the empty spaces in password.</p>\n<p>Try to trim your password while returning from your custom UserDetailsService class.</p>\n"},{"tags":[],"owner":{"account_id":10059050,"reputation":311,"user_id":7436372,"accept_rate":50,"display_name":"Hafiz Hamza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624563235,"creation_date":1624563235,"answer_id":68121806,"question_id":49582971,"body_markdown":"I changed my bcrypt hash which started from `$2y` to `$2a` i.e. `$2y$12$0Evlz//oO` to `$2a$12$0Evlz//oO`  and it worked for me.","title":"Encoded password does not look like BCrypt","body":"<p>I changed my bcrypt hash which started from <code>$2y</code> to <code>$2a</code> i.e. <code>$2y$12$0Evlz//oO</code> to <code>$2a$12$0Evlz//oO</code>  and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11383064,"reputation":494,"user_id":8345451,"display_name":"Divya Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626900583,"creation_date":1626900583,"answer_id":68476305,"question_id":49582971,"body_markdown":"I have tried all the solutions above, considering my usecase was different than this one in Spring Boot. In my case, I switched my DBMS from *MySQL to PostgreSQL*, and the app was working fine in case of MySQL, with login/logout feature working perfectly. But when I switched to *Postgres*, this error started showing in login functionality. I noticed in pgAdmin , that BCrypt passwords had extra spaces in the end, I even tried to manually remove those spaces, but that too rolled back the changes on its own every time.\r\n\r\nThen finally I read somewhere that, *BCrypt encrypted text length is fixed i.e. 60 chars*. But my password field in Postgres was of 80 chars. I **simply changed the field length from 80 to 60 chars**. You can either do it using GUI, or from CLI, using **ALTER TABLE** command, whatever suits you.\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I have tried all the solutions above, considering my usecase was different than this one in Spring Boot. In my case, I switched my DBMS from <em>MySQL to PostgreSQL</em>, and the app was working fine in case of MySQL, with login/logout feature working perfectly. But when I switched to <em>Postgres</em>, this error started showing in login functionality. I noticed in pgAdmin , that BCrypt passwords had extra spaces in the end, I even tried to manually remove those spaces, but that too rolled back the changes on its own every time.</p>\n<p>Then finally I read somewhere that, <em>BCrypt encrypted text length is fixed i.e. 60 chars</em>. But my password field in Postgres was of 80 chars. I <strong>simply changed the field length from 80 to 60 chars</strong>. You can either do it using GUI, or from CLI, using <strong>ALTER TABLE</strong> command, whatever suits you.</p>\n"},{"tags":[],"owner":{"account_id":13711837,"reputation":1,"user_id":9893992,"display_name":"Antonio Montoya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632370402,"creation_date":1632370402,"answer_id":69293935,"question_id":49582971,"body_markdown":"With the following code I get rid of this error\r\n\r\n     @Override\r\n        public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\r\n        \t\r\n        \tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n            String encodedPassword = passwordEncoder.encode(CLIENT_SECRET);\r\n    \r\n            configurer\r\n                    .inMemory()\r\n                    .withClient(CLIENT_ID)\r\n                    .secret(encodedPassword)\r\n                    .authorizedGrantTypes(GRANT_TYPE)\r\n                    .scopes(SCOPE_READ, SCOPE_WRITE)\r\n                    .accessTokenValiditySeconds(ACCESS_TOKEN_VALIDITY_SECONDS).\r\n                    refreshTokenValiditySeconds(REFRESH_TOKEN_VALIDITY_SECONDS);\r\n        }\r\nSo it is necessary to encode the secret","title":"Encoded password does not look like BCrypt","body":"<p>With the following code I get rid of this error</p>\n<pre><code> @Override\n    public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\n        \n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        String encodedPassword = passwordEncoder.encode(CLIENT_SECRET);\n\n        configurer\n                .inMemory()\n                .withClient(CLIENT_ID)\n                .secret(encodedPassword)\n                .authorizedGrantTypes(GRANT_TYPE)\n                .scopes(SCOPE_READ, SCOPE_WRITE)\n                .accessTokenValiditySeconds(ACCESS_TOKEN_VALIDITY_SECONDS).\n                refreshTokenValiditySeconds(REFRESH_TOKEN_VALIDITY_SECONDS);\n    }\n</code></pre>\n<p>So it is necessary to encode the secret</p>\n"},{"tags":[],"owner":{"account_id":6680455,"reputation":489,"user_id":5153843,"display_name":"Erycoking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638167949,"creation_date":1638167949,"answer_id":70150624,"question_id":49582971,"body_markdown":"For spring security 5 OAuth 2 Server, this is how I fixed it\r\n```\r\n    @Bean\r\n    public PasswordEncoder delegatingPasswordEncoder() {\r\n        Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n        encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\r\n        DelegatingPasswordEncoder passwordEncoder = new DelegatingPasswordEncoder(&quot;bcrypt&quot;, encoders);\r\n        passwordEncoder.setDefaultPasswordEncoderForMatches(new BCryptPasswordEncoder());\r\n        return passwordEncoder;\r\n    }\r\n```","title":"Encoded password does not look like BCrypt","body":"<p>For spring security 5 OAuth 2 Server, this is how I fixed it</p>\n<pre><code>    @Bean\n    public PasswordEncoder delegatingPasswordEncoder() {\n        Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n        encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\n        DelegatingPasswordEncoder passwordEncoder = new DelegatingPasswordEncoder(&quot;bcrypt&quot;, encoders);\n        passwordEncoder.setDefaultPasswordEncoderForMatches(new BCryptPasswordEncoder());\n        return passwordEncoder;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1118247,"reputation":11,"user_id":1107090,"display_name":"user1107090"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653193292,"creation_date":1653193292,"answer_id":72334783,"question_id":49582971,"body_markdown":"lol spring rrr me\r\ntry this \r\n\r\n \r\n\r\n\r\n     @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n        }\r\n\t\r\n\t\r\n\t @Bean\r\n     public PasswordEncoder passwordEncoder() {\r\n    \t return NoOpPasswordEncoder.getInstance();\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>lol spring rrr me\ntry this</p>\n<pre><code> @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n\n @Bean\n public PasswordEncoder passwordEncoder() {\n     return NoOpPasswordEncoder.getInstance();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11141312,"reputation":13,"user_id":8177768,"display_name":"Romit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655632763,"creation_date":1655632763,"answer_id":72675897,"question_id":49582971,"body_markdown":"I was also facing same issue:\r\n\r\nIn my case table&#39;s column length was 50 char only which was causing this issue later I modify column length to 100 as suggested in above and it worked for me.\r\n\r\n    ALTER TABLE `users`\r\n    \tCHANGE COLUMN `password` `password` VARCHAR(100) NOT NULL AFTER `enabled`;","title":"Encoded password does not look like BCrypt","body":"<p>I was also facing same issue:</p>\n<p>In my case table's column length was 50 char only which was causing this issue later I modify column length to 100 as suggested in above and it worked for me.</p>\n<pre><code>ALTER TABLE `users`\n    CHANGE COLUMN `password` `password` VARCHAR(100) NOT NULL AFTER `enabled`;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687876391,"post_id":76550622,"comment_id":134996382,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76550622/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28890248,"reputation":1,"user_id":22127570,"display_name":"Lakshman Chintala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687699379,"creation_date":1687699379,"answer_id":76550622,"question_id":49582971,"body_markdown":"My views \r\nbCryptEncoder.matches(&quot;rawString&quot;,encodedPwdFromDB);\r\nThis is the actual parameter need to check while passing the values","title":"Encoded password does not look like BCrypt","body":"<p>My views\nbCryptEncoder.matches(&quot;rawString&quot;,encodedPwdFromDB);\nThis is the actual parameter need to check while passing the values</p>\n"}],"owner":{"account_id":5167551,"reputation":733,"user_id":4137085,"accept_rate":56,"display_name":"Kunle Ajiboye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113676,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":52420168,"answer_count":27,"score":50,"last_activity_date":1690684490,"creation_date":1522455114,"question_id":49582971,"body_markdown":"I am using Spring Boot, Spring Security, OAuth2 and JWT to authenticate my application, but I keep getting this nasty error and I don&#39;t have any idea what is wrong. My `CustomDetailsService` class:\r\n\r\n    @Service\r\n    public class CustomDetailsService implements UserDetailsService {\r\n        \r\n        private static final Logger logger = LoggerFactory.getLogger(CustomDetailsService.class);\r\n        \r\n        @Autowired\r\n        private UserBO userBo;\r\n    \r\n        @Autowired\r\n        private RoleBO roleBo;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            AppUsers appUsers = null;\r\n            try {\r\n                appUsers = this.userBo.loadUserByUsername(username);\r\n                System.out.println(&quot;========|||=========== &quot;+appUsers.getUsername());\r\n            }catch(IndexOutOfBoundsException e){\r\n                throw new UsernameNotFoundException(&quot;Wrong username&quot;);\r\n            }catch(DataAccessException e){\r\n                e.printStackTrace();\r\n                throw new UsernameNotFoundException(&quot;Database Error&quot;);\r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n                throw new UsernameNotFoundException(&quot;Unknown Error&quot;);\r\n            }\r\n    \r\n            if(appUsers == null){\r\n                throw new UsernameNotFoundException(&quot;Bad credentials&quot;);\r\n            }\r\n            logger.info(&quot;Username: &quot;+appUsers.getUsername());\r\n            return buildUserFromUserEntity(appUsers);\r\n        }\r\n    \r\n        private User buildUserFromUserEntity(AppUsers authUsers) {\r\n            Set&lt;UserRole&gt; userRoles = authUsers.getUserRoles();\r\n    \r\n            boolean enabled = true;\r\n            boolean accountNotExpired = true;\r\n            boolean credentialsNotExpired = true;\r\n            boolean accountNotLocked = true;\r\n    \r\n            if (authUsers.getAccountIsActive()) {\r\n                try {\r\n                    if(authUsers.getAccountExpired()){\r\n                        accountNotExpired = true;\r\n                    } else if (authUsers.getAccountIsLocked()) {\r\n                        accountNotLocked = true;\r\n                    } else {\r\n                        if (containsRole((userRoles), roleBo.findRoleByName(&quot;FLEX_ADMIN&quot;))){\r\n                            accountNotLocked = false;\r\n                        }\r\n                    }\r\n                }catch(Exception e){\r\n                    enabled = false;\r\n                    e.printStackTrace();\r\n                }\r\n            }else {\r\n                accountNotExpired = false;\r\n            }\r\n            // convert model user to spring security user\r\n            String username = authUsers.getUsername();\r\n            String password = authUsers.getPassword();\r\n    \r\n            List&lt;GrantedAuthority&gt; authorities = buildUserAuthority(userRoles);\r\n    \r\n            User springUser = new User(username, password,enabled, accountNotExpired, credentialsNotExpired, accountNotLocked, authorities);\r\n            return springUser;\r\n        }\r\n    }\r\n\r\n`OAuth2Config`:\r\n\r\n    @Configuration\r\n    public class OAuth2Config extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Bean\r\n        public JwtAccessTokenConverter tokenConverter() {\r\n            JwtAccessTokenConverter tokenConverter = new JwtAccessTokenConverter();\r\n            tokenConverter.setSigningKey(PRIVATE_KEY);\r\n            tokenConverter.setVerifierKey(PUBLIC_KEY);\r\n            return tokenConverter;\r\n        }\r\n    \r\n        @Bean\r\n        public JwtTokenStore tokenStore() {\r\n            return new JwtTokenStore(tokenConverter());\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpointsConfigurer) throws Exception {\r\n            endpointsConfigurer.authenticationManager(authenticationManager)\r\n                    .tokenStore(tokenStore())\r\n                    .accessTokenConverter(tokenConverter());\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer securityConfigurer) throws Exception {\r\n            securityConfigurer.tokenKeyAccess(&quot;permitAll()&quot;).checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory()\r\n                    .withClient(CLIENT_ID)\r\n                    .secret(CLIENT_SECRET)\r\n                    .scopes(&quot;read&quot;,&quot;write&quot;)\r\n                    .authorizedGrantTypes(&quot;password&quot;,&quot;refresh_token&quot;)\r\n                    .accessTokenValiditySeconds(20000)\r\n                    .refreshTokenValiditySeconds(20000);\r\n        }\r\n    }\r\n\r\n`SecurityConfig`:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        CustomDetailsService customDetailsService;\r\n    \r\n        @Bean\r\n        public PasswordEncoder encoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        @Autowired\r\n        protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(customDetailsService).passwordEncoder(encoder());\r\n            System.out.println(&quot;Done...finito&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.authorizeRequests()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n        }\r\n    \r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    }\r\n\r\nNo error message except:\r\n\r\n    Hibernate: select appusers0_.id as id1_2_, appusers0_.account_expired as account_2_2_, appusers0_.account_is_active as account_3_2_, appusers0_.account_is_locked as account_4_2_, appusers0_.bank_acct as bank_acc5_2_, appusers0_.branch_id as branch_i6_2_, appusers0_.bvn as bvn7_2_, appusers0_.create_date as create_d8_2_, appusers0_.created_by as created_9_2_, appusers0_.email as email10_2_, appusers0_.email_verified_code as email_v11_2_, appusers0_.gender as gender12_2_, appusers0_.gravatar_url as gravata13_2_, appusers0_.is_deleted as is_dele14_2_, appusers0_.lastname as lastnam15_2_, appusers0_.middlename as middlen16_2_, appusers0_.modified_by as modifie17_2_, appusers0_.modified_date as modifie18_2_, appusers0_.orgnization_id as orgniza19_2_, appusers0_.password as passwor20_2_, appusers0_.phone_no as phone_n21_2_, appusers0_.surname as surname22_2_, appusers0_.token_expired as token_e23_2_, appusers0_.username as usernam24_2_ from users appusers0_ where appusers0_.username=?\r\n    Tinubu\r\n    2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2018-03-31 01:42:03.281  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 26 ms\r\n    2018-03-31 01:42:03.489  WARN 4088 --- [nio-8072-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt\r\n\r\nMy entity model classes are:\r\n\r\n    @Entity\r\n    @Table(name=&quot;USERS&quot;)\r\n    @DynamicUpdate\r\n    public class AppUsers {\r\n    \r\n        @Id\r\n        @Column(name=&quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @ApiModelProperty(notes = &quot;The user auto generated identity&quot;, required = true)\r\n        private Long id;\r\n    \r\n        @Column(name=&quot;username&quot;)\r\n        @ApiModelProperty(notes = &quot;The username parameter&quot;, required = true)\r\n        private String username;\r\n    \r\n        @Column(name=&quot;password&quot;)\r\n        @ApiModelProperty(notes = &quot;The password parameter&quot;, required = true)\r\n        private String password;\r\n    \r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy=&quot;appUsers&quot;)\r\n        private Set&lt;UserRole&gt; userRoles;\r\n    \r\n    &#39;&#39;&#39;&#39;&#39;&#39; setters and getters\r\n    }\r\n\r\n`Role` entity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;ROLE&quot;)\r\n    public class Role {\r\n    \r\n        @javax.persistence.Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;role_id&quot;, unique = true, nullable = false)\r\n        private Long Id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String roleName;\r\n    \r\n       @JsonManagedReference\r\n        @OneToMany(mappedBy=&quot;role&quot;)\r\n        private Set&lt;UserRole&gt; userRoles;\r\n    \r\n       //getters and setters\r\n    \r\n    }\r\n\r\n`UserRole` entity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;USER_ROLE&quot;)\r\n    @DynamicUpdate\r\n    public class UserRole   implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 6128016096756071383L;\r\n    \r\n        @Id\r\n        @Column(name=&quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @ApiModelProperty(notes = &quot;The userrole auto generated identity&quot;, required = true)\r\n        private long id;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne//(fetch=FetchType.LAZY)\r\n        private AppUsers appUsers;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne//(fetch=FetchType.LAZY)\r\n        private Role role;\r\n    \r\n       // getters and setters\r\n    }\r\n\r\nMy password in the database is properly encrypted Spring security BCrypt and it datatype is varchar(255) which is larger than 60.\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I am using Spring Boot, Spring Security, OAuth2 and JWT to authenticate my application, but I keep getting this nasty error and I don't have any idea what is wrong. My <code>CustomDetailsService</code> class:</p>\n\n<pre><code>@Service\npublic class CustomDetailsService implements UserDetailsService {\n\n    private static final Logger logger = LoggerFactory.getLogger(CustomDetailsService.class);\n\n    @Autowired\n    private UserBO userBo;\n\n    @Autowired\n    private RoleBO roleBo;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        AppUsers appUsers = null;\n        try {\n            appUsers = this.userBo.loadUserByUsername(username);\n            System.out.println(\"========|||=========== \"+appUsers.getUsername());\n        }catch(IndexOutOfBoundsException e){\n            throw new UsernameNotFoundException(\"Wrong username\");\n        }catch(DataAccessException e){\n            e.printStackTrace();\n            throw new UsernameNotFoundException(\"Database Error\");\n        }catch(Exception e){\n            e.printStackTrace();\n            throw new UsernameNotFoundException(\"Unknown Error\");\n        }\n\n        if(appUsers == null){\n            throw new UsernameNotFoundException(\"Bad credentials\");\n        }\n        logger.info(\"Username: \"+appUsers.getUsername());\n        return buildUserFromUserEntity(appUsers);\n    }\n\n    private User buildUserFromUserEntity(AppUsers authUsers) {\n        Set&lt;UserRole&gt; userRoles = authUsers.getUserRoles();\n\n        boolean enabled = true;\n        boolean accountNotExpired = true;\n        boolean credentialsNotExpired = true;\n        boolean accountNotLocked = true;\n\n        if (authUsers.getAccountIsActive()) {\n            try {\n                if(authUsers.getAccountExpired()){\n                    accountNotExpired = true;\n                } else if (authUsers.getAccountIsLocked()) {\n                    accountNotLocked = true;\n                } else {\n                    if (containsRole((userRoles), roleBo.findRoleByName(\"FLEX_ADMIN\"))){\n                        accountNotLocked = false;\n                    }\n                }\n            }catch(Exception e){\n                enabled = false;\n                e.printStackTrace();\n            }\n        }else {\n            accountNotExpired = false;\n        }\n        // convert model user to spring security user\n        String username = authUsers.getUsername();\n        String password = authUsers.getPassword();\n\n        List&lt;GrantedAuthority&gt; authorities = buildUserAuthority(userRoles);\n\n        User springUser = new User(username, password,enabled, accountNotExpired, credentialsNotExpired, accountNotLocked, authorities);\n        return springUser;\n    }\n}\n</code></pre>\n\n<p><code>OAuth2Config</code>:</p>\n\n<pre><code>@Configuration\npublic class OAuth2Config extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Bean\n    public JwtAccessTokenConverter tokenConverter() {\n        JwtAccessTokenConverter tokenConverter = new JwtAccessTokenConverter();\n        tokenConverter.setSigningKey(PRIVATE_KEY);\n        tokenConverter.setVerifierKey(PUBLIC_KEY);\n        return tokenConverter;\n    }\n\n    @Bean\n    public JwtTokenStore tokenStore() {\n        return new JwtTokenStore(tokenConverter());\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpointsConfigurer) throws Exception {\n        endpointsConfigurer.authenticationManager(authenticationManager)\n                .tokenStore(tokenStore())\n                .accessTokenConverter(tokenConverter());\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer securityConfigurer) throws Exception {\n        securityConfigurer.tokenKeyAccess(\"permitAll()\").checkTokenAccess(\"isAuthenticated()\");\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                .withClient(CLIENT_ID)\n                .secret(CLIENT_SECRET)\n                .scopes(\"read\",\"write\")\n                .authorizedGrantTypes(\"password\",\"refresh_token\")\n                .accessTokenValiditySeconds(20000)\n                .refreshTokenValiditySeconds(20000);\n    }\n}\n</code></pre>\n\n<p><code>SecurityConfig</code>:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    CustomDetailsService customDetailsService;\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    @Autowired\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(customDetailsService).passwordEncoder(encoder());\n        System.out.println(\"Done...finito\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n\n<p>No error message except:</p>\n\n<pre><code>Hibernate: select appusers0_.id as id1_2_, appusers0_.account_expired as account_2_2_, appusers0_.account_is_active as account_3_2_, appusers0_.account_is_locked as account_4_2_, appusers0_.bank_acct as bank_acc5_2_, appusers0_.branch_id as branch_i6_2_, appusers0_.bvn as bvn7_2_, appusers0_.create_date as create_d8_2_, appusers0_.created_by as created_9_2_, appusers0_.email as email10_2_, appusers0_.email_verified_code as email_v11_2_, appusers0_.gender as gender12_2_, appusers0_.gravatar_url as gravata13_2_, appusers0_.is_deleted as is_dele14_2_, appusers0_.lastname as lastnam15_2_, appusers0_.middlename as middlen16_2_, appusers0_.modified_by as modifie17_2_, appusers0_.modified_date as modifie18_2_, appusers0_.orgnization_id as orgniza19_2_, appusers0_.password as passwor20_2_, appusers0_.phone_no as phone_n21_2_, appusers0_.surname as surname22_2_, appusers0_.token_expired as token_e23_2_, appusers0_.username as usernam24_2_ from users appusers0_ where appusers0_.username=?\nTinubu\n2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2018-03-31 01:42:03.281  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms\n2018-03-31 01:42:03.489  WARN 4088 --- [nio-8072-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt\n</code></pre>\n\n<p>My entity model classes are:</p>\n\n<pre><code>@Entity\n@Table(name=\"USERS\")\n@DynamicUpdate\npublic class AppUsers {\n\n    @Id\n    @Column(name=\"ID\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @ApiModelProperty(notes = \"The user auto generated identity\", required = true)\n    private Long id;\n\n    @Column(name=\"username\")\n    @ApiModelProperty(notes = \"The username parameter\", required = true)\n    private String username;\n\n    @Column(name=\"password\")\n    @ApiModelProperty(notes = \"The password parameter\", required = true)\n    private String password;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy=\"appUsers\")\n    private Set&lt;UserRole&gt; userRoles;\n\n'''''' setters and getters\n}\n</code></pre>\n\n<p><code>Role</code> entity:</p>\n\n<pre><code>@Entity\n@Table(name=\"ROLE\")\npublic class Role {\n\n    @javax.persistence.Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"role_id\", unique = true, nullable = false)\n    private Long Id;\n\n    @Column(name = \"name\")\n    private String roleName;\n\n   @JsonManagedReference\n    @OneToMany(mappedBy=\"role\")\n    private Set&lt;UserRole&gt; userRoles;\n\n   //getters and setters\n\n}\n</code></pre>\n\n<p><code>UserRole</code> entity:</p>\n\n<pre><code>@Entity\n@Table(name=\"USER_ROLE\")\n@DynamicUpdate\npublic class UserRole   implements Serializable {\n\n    private static final long serialVersionUID = 6128016096756071383L;\n\n    @Id\n    @Column(name=\"ID\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @ApiModelProperty(notes = \"The userrole auto generated identity\", required = true)\n    private long id;\n\n    @JsonBackReference\n    @ManyToOne//(fetch=FetchType.LAZY)\n    private AppUsers appUsers;\n\n    @JsonBackReference\n    @ManyToOne//(fetch=FetchType.LAZY)\n    private Role role;\n\n   // getters and setters\n}\n</code></pre>\n\n<p>My password in the database is properly encrypted Spring security BCrypt and it datatype is varchar(255) which is larger than 60.</p>\n"},{"tags":["java","android","service","executorservice","background-service"],"answers":[{"tags":[],"owner":{"account_id":1741886,"reputation":1520,"user_id":1593056,"display_name":"Hexise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690682768,"creation_date":1690682768,"answer_id":76796101,"question_id":76356396,"body_markdown":"SemaphoreBKP goIn blocks the UI thread, move the related code to another thread, using such as AsyncTask.","title":"Executor block main thread - ANR triggered by main thread waiting for too long","body":"<p>SemaphoreBKP goIn blocks the UI thread, move the related code to another thread, using such as AsyncTask.</p>\n"}],"owner":{"account_id":3708936,"reputation":1077,"user_id":6653706,"accept_rate":92,"display_name":"Mattia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690682768,"creation_date":1685354614,"question_id":76356396,"body_markdown":"I was analyzing the firebase log (crashalytics) and I noticed a particular error related to the function posted below.\r\n\r\n\r\n&gt; jdk.internal.misc.Unsafe.park \r\n\r\n&gt; ANR triggered by main thread waiting for too long\r\n \r\n    \r\n     public class SendBackupData extends Service {\r\n        private ScheduledExecutorService executorService;\r\n        private static final WriteInLogFile wil = new WriteInLogFile();\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            executorService = Executors.newSingleThreadScheduledExecutor();\r\n        }\r\n    \r\n        \r\n        \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            executeOperation();\r\n            executorService.scheduleAtFixedRate(this::executeOperation, 0, 50, TimeUnit.MINUTES);\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            executorService.shutdown();\r\n        }\r\n    \r\n\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n\r\n        private void executeOperation() {\r\n            Context context = getApplicationContext();\r\n            try {\r\n                SemaphoreBKP.getInstance(context).goIn();\r\n                if (new Utilities(context).checkConnection()) {\r\n                    File dataDir = new File(new Constants(context).getArchiveFolder(false));\r\n                    File[] listOfFiles = dataDir.listFiles((dir, name) -&gt; name.startsWith(&quot;REPORT&quot;) &amp;&amp; name.endsWith(&quot;.zip&quot;));\r\n                    if (listOfFiles != null) {\r\n                        for (File listOfFile : listOfFiles) {\r\n                            new FilesUtilities().splitBackupFiles(context, listOfFile.getName(), &quot;arc&quot;);\r\n                        }\r\n                    }\r\n    \r\n                    File[] listOfFragments = dataDir.listFiles((dir, name) -&gt; {\r\n                        Pattern rexExp = Pattern.compile(&quot;(?:REPORT|\\\\G)(-[0-9]{2}-[0-9]{2}-[0-9]{4}-[a-zA-Z0-9]{8})(\\\\.zip)\\\\.[0-9]{3,6}\\\\.[0-9]{3,6}&quot;);\r\n                        return name.startsWith(&quot;REPORT&quot;) &amp;&amp; rexExp.matcher(name).matches();\r\n                    });\r\n    \r\n                    if (listOfFragments != null) {\r\n                        if (listOfFragments.length &gt; 0) {\r\n                            Arrays.sort(listOfFragments);\r\n                            for (File currentFragment : listOfFragments) {\r\n                                JSONObject jsonObject = new JSONObject();\r\n                                jsonObject.put(&quot;filename&quot;, currentFragment.getName());\r\n                                SendDataProcedure sendDataProcedure = new SendDataProcedure(&quot;1&quot;, &quot;transmitBackupDevice&quot;, jsonObject.toString(), context);\r\n                                boolean requestStatus = sendDataProcedure.postDataFromBackupPushDTS(currentFragment.getName().trim(), false);\r\n                                if (requestStatus) {\r\n                                    if(currentFragment.exists()) {\r\n                                        currentFragment.delete();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                wil.WriteFile(&quot;SendBackupData - Exception: &quot; + e.getMessage(), context);\r\n            } finally {\r\n                SemaphoreBKP.getInstance(context).goOut();\r\n            }\r\n        } }\r\n\r\nI suppose the problem is related to the fact that I perform very &quot;onerous&quot; operations in the main thread and for this reason the user&#39;s UI is blocked.\r\n\r\nHow can I solve this problem ?\r\n\r\nI need to run this piece of code in the background, every 50 min, this operation could be more or less long, there is no way to know in advance\r\n","title":"Executor block main thread - ANR triggered by main thread waiting for too long","body":"<p>I was analyzing the firebase log (crashalytics) and I noticed a particular error related to the function posted below.</p>\n<blockquote>\n<p>jdk.internal.misc.Unsafe.park</p>\n</blockquote>\n<blockquote>\n<p>ANR triggered by main thread waiting for too long</p>\n</blockquote>\n<pre><code> public class SendBackupData extends Service {\n    private ScheduledExecutorService executorService;\n    private static final WriteInLogFile wil = new WriteInLogFile();\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        executorService = Executors.newSingleThreadScheduledExecutor();\n    }\n\n    \n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        executeOperation();\n        executorService.scheduleAtFixedRate(this::executeOperation, 0, 50, TimeUnit.MINUTES);\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        executorService.shutdown();\n    }\n\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n\n    private void executeOperation() {\n        Context context = getApplicationContext();\n        try {\n            SemaphoreBKP.getInstance(context).goIn();\n            if (new Utilities(context).checkConnection()) {\n                File dataDir = new File(new Constants(context).getArchiveFolder(false));\n                File[] listOfFiles = dataDir.listFiles((dir, name) -&gt; name.startsWith(&quot;REPORT&quot;) &amp;&amp; name.endsWith(&quot;.zip&quot;));\n                if (listOfFiles != null) {\n                    for (File listOfFile : listOfFiles) {\n                        new FilesUtilities().splitBackupFiles(context, listOfFile.getName(), &quot;arc&quot;);\n                    }\n                }\n\n                File[] listOfFragments = dataDir.listFiles((dir, name) -&gt; {\n                    Pattern rexExp = Pattern.compile(&quot;(?:REPORT|\\\\G)(-[0-9]{2}-[0-9]{2}-[0-9]{4}-[a-zA-Z0-9]{8})(\\\\.zip)\\\\.[0-9]{3,6}\\\\.[0-9]{3,6}&quot;);\n                    return name.startsWith(&quot;REPORT&quot;) &amp;&amp; rexExp.matcher(name).matches();\n                });\n\n                if (listOfFragments != null) {\n                    if (listOfFragments.length &gt; 0) {\n                        Arrays.sort(listOfFragments);\n                        for (File currentFragment : listOfFragments) {\n                            JSONObject jsonObject = new JSONObject();\n                            jsonObject.put(&quot;filename&quot;, currentFragment.getName());\n                            SendDataProcedure sendDataProcedure = new SendDataProcedure(&quot;1&quot;, &quot;transmitBackupDevice&quot;, jsonObject.toString(), context);\n                            boolean requestStatus = sendDataProcedure.postDataFromBackupPushDTS(currentFragment.getName().trim(), false);\n                            if (requestStatus) {\n                                if(currentFragment.exists()) {\n                                    currentFragment.delete();\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (Exception e) {\n            wil.WriteFile(&quot;SendBackupData - Exception: &quot; + e.getMessage(), context);\n        } finally {\n            SemaphoreBKP.getInstance(context).goOut();\n        }\n    } }\n</code></pre>\n<p>I suppose the problem is related to the fact that I perform very &quot;onerous&quot; operations in the main thread and for this reason the user's UI is blocked.</p>\n<p>How can I solve this problem ?</p>\n<p>I need to run this piece of code in the background, every 50 min, this operation could be more or less long, there is no way to know in advance</p>\n"},{"tags":["java","arrays","for-loop","validation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690678847,"post_id":76795968,"comment_id":135386978,"body_markdown":"Think carefully about the condition in your while loop. Can it ever be false?","body":"Think carefully about the condition in your while loop. Can it ever be false?"}],"answers":[{"comments":[{"owner":{"account_id":29119832,"reputation":1,"user_id":22307572,"display_name":"Charlie"},"score":0,"creation_date":1690679561,"post_id":76795996,"comment_id":135387014,"body_markdown":"Thank you so much for this! Now that you explained the logic it makes so much sense haha.","body":"Thank you so much for this! Now that you explained the logic it makes so much sense haha."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690682230,"post_id":76795996,"comment_id":135387174,"body_markdown":"@Charlie consider accepting this answer if it solved your problem.","body":"@Charlie consider accepting this answer if it solved your problem."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690682695,"creation_date":1690679149,"answer_id":76795996,"question_id":76795968,"body_markdown":"Change your &quot;or&quot; logic to &quot;and&quot; logic.\r\n\r\nYour while condition is always true because the input can only be one of the characters, but would have to be *all* of the characters (ie impossible) for the total condition to be true.\r\n\r\nAlso, this expression\r\n\r\n    input.equals(&quot;A&quot;) == false\r\n\r\nCan (and should) be changed to\r\n\r\n    !input.equals(&quot;A&quot;)\r\n\r\nto cut down on code clutter, making it easier to read.\r\n\r\nSo then, try\r\n\r\n    while (!input.equals(&quot;A&quot;) &amp;&amp;\r\n      !input.equals(&quot;B&quot;) &amp;&amp;\r\n      !input.equals(&quot;C&quot;) &amp;&amp;\r\n      !input.equals(&quot;D&quot;)) {\r\n\r\n---\r\n\r\nbtw, a simpler way of coding this is:\r\n\r\n    while (!input.matches(&quot;[ABCD]&quot;) {","title":"Input validation inside for loop in Java","body":"<p>Change your &quot;or&quot; logic to &quot;and&quot; logic.</p>\n<p>Your while condition is always true because the input can only be one of the characters, but would have to be <em>all</em> of the characters (ie impossible) for the total condition to be true.</p>\n<p>Also, this expression</p>\n<pre><code>input.equals(&quot;A&quot;) == false\n</code></pre>\n<p>Can (and should) be changed to</p>\n<pre><code>!input.equals(&quot;A&quot;)\n</code></pre>\n<p>to cut down on code clutter, making it easier to read.</p>\n<p>So then, try</p>\n<pre><code>while (!input.equals(&quot;A&quot;) &amp;&amp;\n  !input.equals(&quot;B&quot;) &amp;&amp;\n  !input.equals(&quot;C&quot;) &amp;&amp;\n  !input.equals(&quot;D&quot;)) {\n</code></pre>\n<hr />\n<p>btw, a simpler way of coding this is:</p>\n<pre><code>while (!input.matches(&quot;[ABCD]&quot;) {\n</code></pre>\n"}],"owner":{"account_id":29119832,"reputation":1,"user_id":22307572,"display_name":"Charlie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690682636,"answer_count":1,"score":-2,"last_activity_date":1690682695,"creation_date":1690678301,"question_id":76795968,"body_markdown":"My program has an array called `answers` which holds 20 elements. I have a for loop that prompts the user to input either A, B, C, or D and then add that input to the array. I&#39;ve been trying to use a while loop nested inside the for loop to check if the input is valid. If the input is anything other than A, B, C, or D, I want to prompt the user to put in a new answer and then check it again and only continue to the next element once the input is valid. \r\n\r\n\r\n\r\n```\r\n      String[] answers = new String[20];     //empty array for the student&#39;s answers\r\n      String input;                          //keyboard input\r\n      \r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      //prompt user for input and check if it&#39;s valid\r\n      //if it is, add input to the array\r\n      for (int i = 0; i &lt; 20; i++)\r\n      {\r\n         System.out.print(&quot;Enter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\r\n         input = keyboard.nextLine();\r\n         \r\n         while (input.equals(&quot;A&quot;) == false || input.equals(&quot;B&quot;) == false || input.equals(&quot;C&quot;) ==   false || input.equals(&quot;D&quot;) == false)\r\n         {\r\n            System.out.println(&quot;You must enter either A, B, C, or D.&quot;);\r\n            System.out.print(&quot;Please reenter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\r\n            input = keyboard.nextLine();\r\n         }\r\n         answers[i] = input; \r\n      }\r\n\r\n```\r\nI decided to use string arrays because I don&#39;t know how to do it any other way, but I wonder if the issue comes misusing the .equals method in my while loop. \r\n\r\nEvery time I run the program it looks like this: \r\n```\r\nEnter your answer for problem #1: A\r\nYou must enter either A, B, C, or D.\r\nPlease reenter your answer for problem #1: \r\n```\r\nAs you can see it prompts the user to reenter the answer even when the input was valid. I&#39;ve been working at this for so long now and I still don&#39;t know how to fix it!\r\n","title":"Input validation inside for loop in Java","body":"<p>My program has an array called <code>answers</code> which holds 20 elements. I have a for loop that prompts the user to input either A, B, C, or D and then add that input to the array. I've been trying to use a while loop nested inside the for loop to check if the input is valid. If the input is anything other than A, B, C, or D, I want to prompt the user to put in a new answer and then check it again and only continue to the next element once the input is valid.</p>\n<pre><code>      String[] answers = new String[20];     //empty array for the student's answers\n      String input;                          //keyboard input\n      \n      Scanner keyboard = new Scanner(System.in);\n      \n      //prompt user for input and check if it's valid\n      //if it is, add input to the array\n      for (int i = 0; i &lt; 20; i++)\n      {\n         System.out.print(&quot;Enter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\n         input = keyboard.nextLine();\n         \n         while (input.equals(&quot;A&quot;) == false || input.equals(&quot;B&quot;) == false || input.equals(&quot;C&quot;) ==   false || input.equals(&quot;D&quot;) == false)\n         {\n            System.out.println(&quot;You must enter either A, B, C, or D.&quot;);\n            System.out.print(&quot;Please reenter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\n            input = keyboard.nextLine();\n         }\n         answers[i] = input; \n      }\n\n</code></pre>\n<p>I decided to use string arrays because I don't know how to do it any other way, but I wonder if the issue comes misusing the .equals method in my while loop.</p>\n<p>Every time I run the program it looks like this:</p>\n<pre><code>Enter your answer for problem #1: A\nYou must enter either A, B, C, or D.\nPlease reenter your answer for problem #1: \n</code></pre>\n<p>As you can see it prompts the user to reenter the answer even when the input was valid. I've been working at this for so long now and I still don't know how to fix it!</p>\n"},{"tags":["java","excel","ms-word","embed","preview"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690682026,"creation_date":1690652544,"answer_id":76794790,"question_id":76792482,"body_markdown":"Currently as they stand Edge will attempt to open an Office Online &quot;pre-view&quot; in MS Online Servers.  \r\n\r\nhttps://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;wdOrigin=BROWSELINK\r\n\r\n\r\nYou cannot preview &quot;Office Files&quot; in a client browser before download, unless like PDF the client has a means to send the Office files back into the Browser plug-in after download.\r\n\r\nHere I do not have a plug-in and MS Security says those files are tainted, but I trust you on this occasion. once the file is trusted it can be downloaded to client as a blob.\r\n\r\nThe blob will be saved as an Office File and anybody with a full Office Suite of applications can preview the contents before allow open for edit.\r\n\r\n[![enter image description here][1]][1]  \r\n\r\nThe following snippet will fail if file is inaccessible to MSOffice online\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;iframe src=&quot;https://view.officeapps.live.com/op/embed.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&quot; width=&quot;640px&quot; height=&quot;300px&quot; frameborder=&quot;0&quot;/&gt;This is embedded&lt;/iframe&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAn alternative is to use a trusted online pre-viewer :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe following snippet should work if file is accessible to Google online\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;iframe src=&quot;https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;embedded=true&quot; width=&quot;640px&quot; height=&quot;300px&quot; frameborder=&quot;0&quot;/&gt;This is embedded&lt;/iframe&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nor simpler click here\r\n---  \r\nhttps://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx \r\n\r\n  [1]: https://i.stack.imgur.com/fz8YM.png\r\n  [2]: https://i.stack.imgur.com/0aM6D.png\r\n  [3]: https://i.stack.imgur.com/A5cKu.png","title":"Preview (embed or on new tab) Word and Excel document on Chrome, Edge, .etc","body":"<p>Currently as they stand Edge will attempt to open an Office Online &quot;pre-view&quot; in MS Online Servers.</p>\n<p><a href=\"https://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;wdOrigin=BROWSELINK\" rel=\"nofollow noreferrer\">https://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;wdOrigin=BROWSELINK</a></p>\n<p>You cannot preview &quot;Office Files&quot; in a client browser before download, unless like PDF the client has a means to send the Office files back into the Browser plug-in after download.</p>\n<p>Here I do not have a plug-in and MS Security says those files are tainted, but I trust you on this occasion. once the file is trusted it can be downloaded to client as a blob.</p>\n<p>The blob will be saved as an Office File and anybody with a full Office Suite of applications can preview the contents before allow open for edit.</p>\n<p><a href=\"https://i.stack.imgur.com/fz8YM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fz8YM.png\" alt=\"enter image description here\" /></a></p>\n<p>The following snippet will fail if file is inaccessible to MSOffice online</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;iframe src=\"https://view.officeapps.live.com/op/embed.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\" width=\"640px\" height=\"300px\" frameborder=\"0\"/&gt;This is embedded&lt;/iframe&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>An alternative is to use a trusted online pre-viewer :-</p>\n<p><a href=\"https://i.stack.imgur.com/0aM6D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0aM6D.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/A5cKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A5cKu.png\" alt=\"enter image description here\" /></a></p>\n<p>The following snippet should work if file is accessible to Google online</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;iframe src=\"https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;embedded=true\" width=\"640px\" height=\"300px\" frameborder=\"0\"/&gt;This is embedded&lt;/iframe&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>or simpler click here</h2>\n<p><a href=\"https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\" rel=\"nofollow noreferrer\">https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx</a></p>\n"}],"owner":{"account_id":29115719,"reputation":1,"user_id":22304460,"display_name":"Devpro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690682026,"creation_date":1690615079,"question_id":76792482,"body_markdown":"Word: http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\r\nExcel: http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/351f8f49-49f9-4b76-8280-670386934285.xlsx\r\n\r\nThe path these files are returned from the server when I upload. And I save them in the database (mysql).\r\n\r\nI want to have the button on my website, when clicked, will review these documents across browsers (embed or on the new tab is also okey)\r\n\r\nI&#39;m using Java/JavaServer Faces.\r\nThanks!\r\n\r\nI have tried using byte[] reading, using Jasper report to chang to PDF, ect. But, all of them don&#39;t work.","title":"Preview (embed or on new tab) Word and Excel document on Chrome, Edge, .etc","body":"<p>Word: <a href=\"http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\" rel=\"nofollow noreferrer\">http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx</a>\nExcel: <a href=\"http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/351f8f49-49f9-4b76-8280-670386934285.xlsx\" rel=\"nofollow noreferrer\">http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/351f8f49-49f9-4b76-8280-670386934285.xlsx</a></p>\n<p>The path these files are returned from the server when I upload. And I save them in the database (mysql).</p>\n<p>I want to have the button on my website, when clicked, will review these documents across browsers (embed or on the new tab is also okey)</p>\n<p>I'm using Java/JavaServer Faces.\nThanks!</p>\n<p>I have tried using byte[] reading, using Jasper report to chang to PDF, ect. But, all of them don't work.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690413579,"post_id":76775586,"comment_id":135352029,"body_markdown":"What exactly are you performing in _FilterCarrier Method_?","body":"What exactly are you performing in <i>FilterCarrier Method</i>?"},{"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"score":0,"creation_date":1690414675,"post_id":76775586,"comment_id":135352167,"body_markdown":"@undetectedSelenium ebay has mobile carrier filters on the navigation side bar. The FilterCarrier method clicks on the filter options based on the carrFilter list.","body":"@undetectedSelenium ebay has mobile carrier filters on the navigation side bar. The FilterCarrier method clicks on the filter options based on the carrFilter list."}],"answers":[{"comments":[{"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"score":0,"creation_date":1690461802,"post_id":76776128,"comment_id":135359148,"body_markdown":"Thank you for your help. I have one question, In the code, the options don&#39;t get unclicked, so the filters add on top of each other, however the output prints only 1 label that carrNames contains. So, I want to know how I can add all the labels in the output? For example, the 2nd iteration should say &quot;713 Results Found for: 1&amp;1 &amp; Unlocked&quot; instead of &quot;713 Results Found for: 1&amp;1&quot;","body":"Thank you for your help. I have one question, In the code, the options don&#39;t get unclicked, so the filters add on top of each other, however the output prints only 1 label that carrNames contains. So, I want to know how I can add all the labels in the output? For example, the 2nd iteration should say &quot;713 Results Found for: 1&amp;1 &amp; Unlocked&quot; instead of &quot;713 Results Found for: 1&amp;1&quot;"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690488618,"post_id":76776128,"comment_id":135364900,"body_markdown":"this feels bad.. sort of messing with the iterator.. I&#39;d avoid that in case size of options changes.","body":"this feels bad.. sort of messing with the iterator.. I&#39;d avoid that in case size of options changes."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690489059,"post_id":76776128,"comment_id":135364980,"body_markdown":"@pcalkins But `options` size never changes, just the values.","body":"@pcalkins But <code>options</code> size never changes, just the values."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690490023,"post_id":76776128,"comment_id":135365136,"body_markdown":"yeah, I get that... but feels bad.   It&#39;d depend on the site... but better to functionize and re-call if stale element caught... just in case you get that options array before it is fully-populated or in case the size changes for some reason.  Clicking or using methods of an element that might change the DOM in the element array loop is always problematic, though.","body":"yeah, I get that... but feels bad.   It&#39;d depend on the site... but better to functionize and re-call if stale element caught... just in case you get that options array before it is fully-populated or in case the size changes for some reason.  Clicking or using methods of an element that might change the DOM in the element array loop is always problematic, though."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690502726,"post_id":76776128,"comment_id":135366696,"body_markdown":"@MehdeeAhmed So you want each output to show all labels instead of just the one just clicked?","body":"@MehdeeAhmed So you want each output to show all labels instead of just the one just clicked?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690502751,"post_id":76776128,"comment_id":135366699,"body_markdown":"@pcalkins yeah, you&#39;re right. I&#39;ll improve the code and edit my answer later!","body":"@pcalkins yeah, you&#39;re right. I&#39;ll improve the code and edit my answer later!"},{"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"score":0,"creation_date":1690576735,"post_id":76776128,"comment_id":135378208,"body_markdown":"@DiegoBorba yes, that&#39;s right.  How can I achieve that?","body":"@DiegoBorba yes, that&#39;s right.  How can I achieve that?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690577344,"post_id":76776128,"comment_id":135378289,"body_markdown":"I&#39;ll improve the code with that and @pcalkins&#39;s suggestion later, then I&#39;ll notify you two.","body":"I&#39;ll improve the code with that and @pcalkins&#39;s suggestion later, then I&#39;ll notify you two."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690681061,"post_id":76776128,"comment_id":135387104,"body_markdown":"I improved the answer! I hope it helps.","body":"I improved the answer! I hope it helps."},{"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"score":1,"creation_date":1690903882,"post_id":76776128,"comment_id":135416503,"body_markdown":"@DiegoBorba thanks a lot, your effort is extremely appreciated. Cheers!","body":"@DiegoBorba thanks a lot, your effort is extremely appreciated. Cheers!"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690996312,"post_id":76776128,"comment_id":135431960,"body_markdown":"very nice... gotta luv Stack Overflow&#39;s helpful users.  In some circumstances you might have a need to catch stale element or click intercepted exceptions (usually caused by DOM still loading).... I like this solution for those situations: https://stackoverflow.com/questions/66820416/random-errors-using-wait-for-element-clickable-method-in-selenium/66820707#66820707","body":"very nice... gotta luv Stack Overflow&#39;s helpful users.  In some circumstances you might have a need to catch stale element or click intercepted exceptions (usually caused by DOM still loading).... I like this solution for those situations: <a href=\"https://stackoverflow.com/questions/66820416/random-errors-using-wait-for-element-clickable-method-in-selenium/66820707#66820707\" title=\"random errors using wait for element clickable method in selenium\">stackoverflow.com/questions/66820416/&hellip;</a>"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690680930,"creation_date":1690424609,"answer_id":76776128,"question_id":76775586,"body_markdown":"In my opinion, using `stream()` in this case will just make your code more complex and slow without any reason.\r\n\r\nYou need to keep your `options` list constantly updating, otherwise, [`StaleElementReferenceException`][1] will be thrown in `option.getAttribute(&quot;aria-label&quot;)`, which **makes it incompatible** with the `stream()` method because you can&#39;t change the list in the middle of iteration.\r\n\r\nYou could also use a `forEach()` on `carrNames` and verify the label, but that **would not be performant**.\r\n\r\nBut, you can improve your code like this:\r\n\r\n```java\r\n// No reason to be public\r\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\r\n  // Use new method\r\n  List&lt;WebElement&gt; options = getOptions(driver);\r\n\r\n  // Instantiated out of loop\r\n  List&lt;String&gt; carrNames = Arrays.asList(carrFilter);\r\n\r\n  for (int i = 0; i &lt; options.size(); i++) {\r\n    WebElement option = options.get(i);\r\n    String label = option.getAttribute(&quot;aria-label&quot;);\r\n\r\n    if (carrNames.contains(label)) {\r\n      // Reuse the object\r\n      option.click();\r\n\r\n      System.out.println(ResultCount(driver) + &quot; for: &quot; + label);\r\n\r\n      // Use new method\r\n      options = getOptions(driver);\r\n    }\r\n  }\r\n}\r\n\r\n// Method to get options (Coding best practices)\r\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\r\n  return driver.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n}\r\n```\r\n\r\nI improved my answer based on @pcalkins and @MehdeeAhmed comments:\r\n\r\n```java\r\n// No reason to be public\r\nprivate static String ResultCount(WebDriver driver) {\r\n\tString[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\r\n\tString resultCount = t[0] + &quot; Results Found&quot;;\r\n\treturn resultCount;\r\n}\r\n\r\n// No reason to be public\r\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\r\n\tList&lt;String&gt; appliedFilters = new LinkedList&lt;&gt;();\r\n\r\n\t// Filters: { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; }\r\n\tArrays.asList(carrFilter).forEach((carrName) -&gt; {\r\n\t\tfor (WebElement option : getOptions(driver)) {\r\n\t\t\tString label = option.getAttribute(&quot;aria-label&quot;);\r\n\t\t\tif (carrName.equals(label)) {\r\n\t\t\t\toption.click();\r\n\t\t\t\tappliedFilters.add(label);\r\n\t\t\t\tSystem.out.println(ResultCount(driver) + &quot; for: &quot; + formatAppliedFilters(appliedFilters));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//Format all applied filters to display\r\nprivate static String formatAppliedFilters(List&lt;String&gt; appliedFilters) {\r\n\tStringBuilder formated = new StringBuilder();\r\n\r\n\tfor (int i = 0; i &lt; appliedFilters.size(); i++) {\r\n\t\tif (!formated.isEmpty()) {\r\n\t\t\tif (i == appliedFilters.size() - 1) {\r\n\t\t\t\tformated.append(&quot; &amp; &quot;);\r\n\t\t\t} else {\r\n\t\t\t\tformated.append(&quot;, &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tformated.append(appliedFilters.get(i));\r\n\t}\r\n\r\n\treturn formated.toString();\r\n}\r\n\r\n// Method to get options (Coding best practices)\r\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\r\n\treturn driver.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n}\r\n```\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/StaleElementReferenceException.html","title":"How can I optimize my code using Java streams?","body":"<p>In my opinion, using <code>stream()</code> in this case will just make your code more complex and slow without any reason.</p>\n<p>You need to keep your <code>options</code> list constantly updating, otherwise, <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/StaleElementReferenceException.html\" rel=\"nofollow noreferrer\"><code>StaleElementReferenceException</code></a> will be thrown in <code>option.getAttribute(&quot;aria-label&quot;)</code>, which <strong>makes it incompatible</strong> with the <code>stream()</code> method because you can't change the list in the middle of iteration.</p>\n<p>You could also use a <code>forEach()</code> on <code>carrNames</code> and verify the label, but that <strong>would not be performant</strong>.</p>\n<p>But, you can improve your code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No reason to be public\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\n  // Use new method\n  List&lt;WebElement&gt; options = getOptions(driver);\n\n  // Instantiated out of loop\n  List&lt;String&gt; carrNames = Arrays.asList(carrFilter);\n\n  for (int i = 0; i &lt; options.size(); i++) {\n    WebElement option = options.get(i);\n    String label = option.getAttribute(&quot;aria-label&quot;);\n\n    if (carrNames.contains(label)) {\n      // Reuse the object\n      option.click();\n\n      System.out.println(ResultCount(driver) + &quot; for: &quot; + label);\n\n      // Use new method\n      options = getOptions(driver);\n    }\n  }\n}\n\n// Method to get options (Coding best practices)\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\n  return driver.findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n}\n</code></pre>\n<p>I improved my answer based on @pcalkins and @MehdeeAhmed comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No reason to be public\nprivate static String ResultCount(WebDriver driver) {\n    String[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\n    String resultCount = t[0] + &quot; Results Found&quot;;\n    return resultCount;\n}\n\n// No reason to be public\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\n    List&lt;String&gt; appliedFilters = new LinkedList&lt;&gt;();\n\n    // Filters: { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; }\n    Arrays.asList(carrFilter).forEach((carrName) -&gt; {\n        for (WebElement option : getOptions(driver)) {\n            String label = option.getAttribute(&quot;aria-label&quot;);\n            if (carrName.equals(label)) {\n                option.click();\n                appliedFilters.add(label);\n                System.out.println(ResultCount(driver) + &quot; for: &quot; + formatAppliedFilters(appliedFilters));\n                break;\n            }\n        }\n    });\n}\n\n//Format all applied filters to display\nprivate static String formatAppliedFilters(List&lt;String&gt; appliedFilters) {\n    StringBuilder formated = new StringBuilder();\n\n    for (int i = 0; i &lt; appliedFilters.size(); i++) {\n        if (!formated.isEmpty()) {\n            if (i == appliedFilters.size() - 1) {\n                formated.append(&quot; &amp; &quot;);\n            } else {\n                formated.append(&quot;, &quot;);\n            }\n        }\n        formated.append(appliedFilters.get(i));\n    }\n\n    return formated.toString();\n}\n\n// Method to get options (Coding best practices)\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\n    return driver.findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690680930,"creation_date":1690413089,"question_id":76775586,"body_markdown":"Below is a working script for automating a little bit of Ebay&#39;s website. I&#39;m very new to coding so this is definitely a messy code job. Which is why I would like to know how this code can be optimized using Java streams? I would also like to know if there is a easier way to write the `FilterCarrier` method in my code? Basically are there better ways to iterate? Thanks a lot!\r\n\r\n```\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport javax.imageio.ImageIO;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.Point;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.io.FileHandler;\r\n\r\npublic class EbayTestCase {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n\t\t\t\t&quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\Eclipse projects\\\\Selenium\\\\ChromeDriver\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\t// WebDriverWait w = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n\t\tdriver.get(&quot;https://www.ebay.com/&quot;);\r\n\t\tString[] carrFilter = { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; };\r\n\t\tdriver.findElement(By.id(&quot;gh-ac&quot;)).sendKeys(&quot;iPhone 14&quot;);\r\n\t\tdriver.findElement(By.id(&quot;gh-btn&quot;)).click();\r\n\t\tSystem.out.println(ResultCount(driver) + &quot; For iPhone 14&quot;);\r\n\t\tThread.sleep(1500);\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[aria-label=&#39;Apple iPhone 14 Pro Max&#39;]&quot;)).click();\r\n\t\tSystem.out.println(ResultCount(driver) + &quot; For Apple iPhone 14 Pro Max&quot;);\r\n\r\n\t\tFilterCarrier(driver, carrFilter);\r\n\r\n\t\tElementScreenshot(driver);\r\n\t\tdriver.quit();\r\n\r\n\t}\r\n\r\n\tpublic static void ElementScreenshot(WebDriver driver) throws IOException {\r\n\t\tWebElement ele = driver.findElement(\r\n\t\t\t\tBy.xpath(&quot;//body/div[5]/div[4]/div[2]/div[1]/div[2]/ul[1]/li[2]/div[1]/div[1]/div[1]/a[1]/div[1]&quot;));\r\n\t\tFile SC = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n\t\tPoint location = ele.getLocation();\r\n\t\tint height = ele.getSize().getHeight();\r\n\t\tint width = ele.getSize().getWidth();\r\n\t\tBufferedImage img = ImageIO.read(SC);\r\n\t\tBufferedImage cropped = img.getSubimage(location.getX(), location.getY(), width, height);\r\n\t\tImageIO.write(cropped, &quot;png&quot;, SC);\r\n\t\tFile fis = new File(&quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\SeleniumScreenshots\\\\screenshot.png&quot;);\r\n\t\tFileHandler.copy(SC, fis);\r\n\t\tSystem.out.println(&quot;Screenshot has been successfully stored in C://Documents/SeleniumScreenshots directory&quot;);\r\n\t}\r\n\r\n\tpublic static String ResultCount(WebDriver driver) {\r\n\t\tString[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\r\n\t\tString resultCount = t[0] + &quot; Results Found&quot;;\r\n\t\treturn resultCount;\r\n\t}\r\n\r\n\tpublic static void FilterCarrier(WebDriver driver, String[] carrFilter) {\r\n\t\tList&lt;WebElement&gt; options = driver\r\n\t\t\t\t.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n\t\tint b = 0;\r\n\t\tfor (int i = 0; i &lt; options.size(); i++) {\r\n\r\n\t\t\tList&lt;String&gt; carrNames = Arrays.asList(carrFilter);\r\n\t\t\tWebElement option = options.get(i);\r\n\t\t\tString label = option.getAttribute(&quot;aria-label&quot;);\r\n\t\t\tif (carrNames.contains(label)) {\r\n\t\t\t\tb++;\r\n\t\t\t\toptions.get(i).click();\r\n\t\t\t\tSystem.out.println(ResultCount(driver) + &quot; for: &quot; + label);\r\n\t\t\t\toptions = driver.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n\t\t\t\tif (b == 4) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How can I optimize my code using Java streams?","body":"<p>Below is a working script for automating a little bit of Ebay's website. I'm very new to coding so this is definitely a messy code job. Which is why I would like to know how this code can be optimized using Java streams? I would also like to know if there is a easier way to write the <code>FilterCarrier</code> method in my code? Basically are there better ways to iterate? Thanks a lot!</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.imageio.ImageIO;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.Point;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.io.FileHandler;\n\npublic class EbayTestCase {\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\n                &quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\Eclipse projects\\\\Selenium\\\\ChromeDriver\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n        // WebDriverWait w = new WebDriverWait(driver, Duration.ofSeconds(30));\n        driver.get(&quot;https://www.ebay.com/&quot;);\n        String[] carrFilter = { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; };\n        driver.findElement(By.id(&quot;gh-ac&quot;)).sendKeys(&quot;iPhone 14&quot;);\n        driver.findElement(By.id(&quot;gh-btn&quot;)).click();\n        System.out.println(ResultCount(driver) + &quot; For iPhone 14&quot;);\n        Thread.sleep(1500);\n        driver.findElement(By.cssSelector(&quot;input[aria-label='Apple iPhone 14 Pro Max']&quot;)).click();\n        System.out.println(ResultCount(driver) + &quot; For Apple iPhone 14 Pro Max&quot;);\n\n        FilterCarrier(driver, carrFilter);\n\n        ElementScreenshot(driver);\n        driver.quit();\n\n    }\n\n    public static void ElementScreenshot(WebDriver driver) throws IOException {\n        WebElement ele = driver.findElement(\n                By.xpath(&quot;//body/div[5]/div[4]/div[2]/div[1]/div[2]/ul[1]/li[2]/div[1]/div[1]/div[1]/a[1]/div[1]&quot;));\n        File SC = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n        Point location = ele.getLocation();\n        int height = ele.getSize().getHeight();\n        int width = ele.getSize().getWidth();\n        BufferedImage img = ImageIO.read(SC);\n        BufferedImage cropped = img.getSubimage(location.getX(), location.getY(), width, height);\n        ImageIO.write(cropped, &quot;png&quot;, SC);\n        File fis = new File(&quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\SeleniumScreenshots\\\\screenshot.png&quot;);\n        FileHandler.copy(SC, fis);\n        System.out.println(&quot;Screenshot has been successfully stored in C://Documents/SeleniumScreenshots directory&quot;);\n    }\n\n    public static String ResultCount(WebDriver driver) {\n        String[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\n        String resultCount = t[0] + &quot; Results Found&quot;;\n        return resultCount;\n    }\n\n    public static void FilterCarrier(WebDriver driver, String[] carrFilter) {\n        List&lt;WebElement&gt; options = driver\n                .findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n        int b = 0;\n        for (int i = 0; i &lt; options.size(); i++) {\n\n            List&lt;String&gt; carrNames = Arrays.asList(carrFilter);\n            WebElement option = options.get(i);\n            String label = option.getAttribute(&quot;aria-label&quot;);\n            if (carrNames.contains(label)) {\n                b++;\n                options.get(i).click();\n                System.out.println(ResultCount(driver) + &quot; for: &quot; + label);\n                options = driver.findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n                if (b == 4) {\n                    break;\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1487459169,"post_id":42321681,"comment_id":71796623,"body_markdown":"&quot;why the second variable &#39;i&#39; is being put back in the formula from the first For Loop&quot; What do you mean? Which output did you expect?","body":"&quot;why the second variable &#39;i&#39; is being put back in the formula from the first For Loop&quot; What do you mean? Which output did you expect?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1487459187,"post_id":42321681,"comment_id":71796630,"body_markdown":"The first loop populates the array to contain `[-1, 2, 5, 8, 11]`. The second loop just prints it backwards.","body":"The first loop populates the array to contain <code>[-1, 2, 5, 8, 11]</code>. The second loop just prints it backwards."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1487459400,"post_id":42321681,"comment_id":71796693,"body_markdown":"The first loop obviously fills the array. The second loop displays the created array but it does it from the highest index (4) to the lowest index (0). The variable **i** merely holds the current index number of the array element to process.","body":"The first loop obviously fills the array. The second loop displays the created array but it does it from the highest index (4) to the lowest index (0). The variable <b>i</b> merely holds the current index number of the array element to process."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1487460314,"post_id":42321681,"comment_id":71796915,"body_markdown":"[What does your step debugger tell you?](http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"<a href=\"http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What does your step debugger tell you?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6854823,"reputation":6160,"user_id":5270744,"accept_rate":76,"display_name":"m_callens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1487459376,"creation_date":1487459376,"answer_id":42321733,"question_id":42321681,"body_markdown":"    for (int i = 0; i &lt; a.length; i++) {\r\n      a[i] = i*3-1;\r\n    }\r\n\r\nIn the first loop (above), `i` is the incrementer for the loop, which I assume you understand. Knowing that, we know that the values of `i` throughout the loop will be `0, 1, 2, 3, and 4`.\r\n\r\nFor the statement `a[i] = i * 3 - 1`, it serves two purposes.\r\n\r\n 1. An indexing value to give access to modify the values in the `a` array.\r\n 2. Uses the incrementing values of `i` to calculate a new integer.\r\n\r\nFor example, on the first iteration, `i` will be `0`. Therefore, the code inside of the loop will set the value at position `0` of the array to `0 * 3 - 1`, or `-1`. This goes on for the remainder of the loop, explaining the values printed by the second loop as it prints it in reverse.","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<pre><code>for (int i = 0; i &lt; a.length; i++) {\n  a[i] = i*3-1;\n}\n</code></pre>\n\n<p>In the first loop (above), <code>i</code> is the incrementer for the loop, which I assume you understand. Knowing that, we know that the values of <code>i</code> throughout the loop will be <code>0, 1, 2, 3, and 4</code>.</p>\n\n<p>For the statement <code>a[i] = i * 3 - 1</code>, it serves two purposes.</p>\n\n<ol>\n<li>An indexing value to give access to modify the values in the <code>a</code> array.</li>\n<li>Uses the incrementing values of <code>i</code> to calculate a new integer.</li>\n</ol>\n\n<p>For example, on the first iteration, <code>i</code> will be <code>0</code>. Therefore, the code inside of the loop will set the value at position <code>0</code> of the array to <code>0 * 3 - 1</code>, or <code>-1</code>. This goes on for the remainder of the loop, explaining the values printed by the second loop as it prints it in reverse.</p>\n"},{"comments":[{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1487460546,"post_id":42321827,"comment_id":71796988,"body_markdown":"The array may be populated in the first loop but it&#39;s not defined there.","body":"The array may be populated in the first loop but it&#39;s not defined there."},{"owner":{"account_id":3496566,"reputation":6523,"user_id":2924577,"accept_rate":92,"display_name":"Nikhil"},"score":0,"creation_date":1487460861,"post_id":42321827,"comment_id":71797068,"body_markdown":"By &#39;defining&#39; I meant populating the values, as opposed to &#39;declaring&#39;. Please check [this](https://stackoverflow.com/questions/11715485/what-is-the-difference-between-declaration-and-definition-in-java) SO question.","body":"By &#39;defining&#39; I meant populating the values, as opposed to &#39;declaring&#39;. Please check <a href=\"https://stackoverflow.com/questions/11715485/what-is-the-difference-between-declaration-and-definition-in-java\">this</a> SO question."},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1487461250,"post_id":42321827,"comment_id":71797156,"body_markdown":"I&#39;ve read it. It doesn&#39;t describe what you&#39;re talking about as &#39;definition&#39;. If anything `int new[5]` is arguably a &#39;definition&#39; although that&#39;s not the terminology the JLS uses. Either way, &#39;define&#39; is not a good word to use for &#39;stuff things into an array in a loop&#39;","body":"I&#39;ve read it. It doesn&#39;t describe what you&#39;re talking about as &#39;definition&#39;. If anything <code>int new[5]</code> is arguably a &#39;definition&#39; although that&#39;s not the terminology the JLS uses. Either way, &#39;define&#39; is not a good word to use for &#39;stuff things into an array in a loop&#39;"},{"owner":{"account_id":3496566,"reputation":6523,"user_id":2924577,"accept_rate":92,"display_name":"Nikhil"},"score":0,"creation_date":1487461505,"post_id":42321827,"comment_id":71797229,"body_markdown":"I understand. I just used it in a casual sense. Since &#39;definition&#39; isn&#39;t a formal term in Java, I&#39;ll remove it from my answer. Thanks!","body":"I understand. I just used it in a casual sense. Since &#39;definition&#39; isn&#39;t a formal term in Java, I&#39;ll remove it from my answer. Thanks!"}],"tags":[],"owner":{"account_id":3496566,"reputation":6523,"user_id":2924577,"accept_rate":92,"display_name":"Nikhil"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690680560,"creation_date":1487460215,"answer_id":42321827,"question_id":42321681,"body_markdown":"&gt; What I don&#39;t understand is why the second variable &#39;i&#39; is being put back in the formula from the first For Loop.\r\n\r\n`i` is just the name of the variable. The variable `i` isn&#39;t significant here in calculating the values, it only serves as the loop counter.  You can use `j` or any other name in any `for` loop and will still get the same output. \r\n\r\n&gt; How can I connect these two loops? The array is defined in\r\n&gt; the first loop, so why does it affect the second?\r\n\r\nThe array is populated with values in the first loop. But note that the array is declared initially at the beginning of the program.\r\n\r\n    int[] a = new int[5];\r\n\r\nThis means that the array&#39;s scope is not just limited to that first `for` loop. It can be accessed anywhere within its scope. \r\n\r\nSo, in the first `for` loop, we are populating the array with values. And in the second `for` loop, we are displaying it.\r\n","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<blockquote>\n<p>What I don't understand is why the second variable 'i' is being put back in the formula from the first For Loop.</p>\n</blockquote>\n<p><code>i</code> is just the name of the variable. The variable <code>i</code> isn't significant here in calculating the values, it only serves as the loop counter.  You can use <code>j</code> or any other name in any <code>for</code> loop and will still get the same output.</p>\n<blockquote>\n<p>How can I connect these two loops? The array is defined in\nthe first loop, so why does it affect the second?</p>\n</blockquote>\n<p>The array is populated with values in the first loop. But note that the array is declared initially at the beginning of the program.</p>\n<pre><code>int[] a = new int[5];\n</code></pre>\n<p>This means that the array's scope is not just limited to that first <code>for</code> loop. It can be accessed anywhere within its scope.</p>\n<p>So, in the first <code>for</code> loop, we are populating the array with values. And in the second <code>for</code> loop, we are displaying it.</p>\n"},{"tags":[],"owner":{"display_name":"user6004556"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487461642,"creation_date":1487461642,"answer_id":42321991,"question_id":42321681,"body_markdown":"The scope of &#39;i&#39; is within the loop, so once a loop ends the variable &#39;i&#39; no longer exists and can be re-instantiated. To understand look at this code: \r\n\r\n    public class Example{\r\n        public static void main(String args[]){\r\n            while(isTrue){\r\n               int x += 3; // Int x exists here\r\n            }\r\n            //x does not exist here it is outside of scope so we can make another\r\n            int x = 10;\r\n        }\r\n    }\r\n\r\n[![Var Scope][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7coRx.gif","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<p>The scope of 'i' is within the loop, so once a loop ends the variable 'i' no longer exists and can be re-instantiated. To understand look at this code: </p>\n\n<pre><code>public class Example{\n    public static void main(String args[]){\n        while(isTrue){\n           int x += 3; // Int x exists here\n        }\n        //x does not exist here it is outside of scope so we can make another\n        int x = 10;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7coRx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7coRx.gif\" alt=\"Var Scope\"></a></p>\n"}],"owner":{"account_id":10179312,"reputation":3,"user_id":7516764,"display_name":"j_b_kwik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":42321733,"answer_count":3,"score":-4,"last_activity_date":1690680560,"creation_date":1487458941,"question_id":42321681,"body_markdown":"I&#39;m having trouble tracing some code to get the output:\r\n\r\n    int[] a = new int[5];\r\n    for (int i = 0; i &lt; a.length; i++)\r\n\t{\r\n\t    a[i] = i*3-1;\r\n\t}\r\n\t\t\r\n\t\t\r\n\tfor (int i = a.length-1; i &gt;= 0; i--)\r\n\t{\r\n\t    System.out.print(a[i] + &quot; &quot; );\r\n\t}\r\n\t\t\r\nThis outputs:\r\n\r\n    11 8 5 2 -1\r\n\r\nWhat I don&#39;t understand is why the second variable &#39;i&#39; is being put back in the formula from the first For Loop.  How can I connect these two loops? The array is defined in the first loop, so why does it affect the second? I don&#39;t understand the relation, perhaps I&#39;m just missing it.  \r\n\r\n ","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<p>I'm having trouble tracing some code to get the output:</p>\n<pre><code>int[] a = new int[5];\nfor (int i = 0; i &lt; a.length; i++)\n{\n    a[i] = i*3-1;\n}\n    \n    \nfor (int i = a.length-1; i &gt;= 0; i--)\n{\n    System.out.print(a[i] + &quot; &quot; );\n}\n    \n</code></pre>\n<p>This outputs:</p>\n<pre><code>11 8 5 2 -1\n</code></pre>\n<p>What I don't understand is why the second variable 'i' is being put back in the formula from the first For Loop.  How can I connect these two loops? The array is defined in the first loop, so why does it affect the second? I don't understand the relation, perhaps I'm just missing it.</p>\n"},{"tags":["java","java-9","jmockit","javaagents","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1690654148,"post_id":76794482,"comment_id":135384894,"body_markdown":"Read the message as &quot;JDK 9 or higher&quot;.","body":"Read the message as &quot;JDK 9 or higher&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690678006,"creation_date":1690678006,"answer_id":76795959,"question_id":76794482,"body_markdown":"Your question is completely unrelated to IntelliJ IDEA. You just happen to be running your tests from there. Instead, you should have mentioned that you use JMockit in your tests, which is clearly the root cause for your problems, if you just fully read the error message instead of stopping at &quot;JDK 9&quot;, which, like Johannes said, means &quot;JDK &gt;= 9&quot;:\r\n\r\n```none\r\njava.lang.IllegalStateException:\r\n  Running on JDK 9 requires\r\n    -javaagent:&lt;proper path&gt;/jmockit-1.n.jar\r\n    or -Djdk.attach.allowAttachSelf\r\n```\r\n\r\nNot only do you read &quot;jmockit&quot; in the error message, but also two possible solutions. Have you tried any of them?\r\n\r\nBy the way, the error message mentions JDK 9, because that was the version which introduced JPMS (Java Platform Module System). [JEP 261: Module System](https://openjdk.org/jeps/261), which was part of JDK 9, reads:\r\n\r\n&gt; The `com.sun.tools.attach` API can no longer be used, by default, to attach an agent to the current process or an ancestor of the current process. Such attachment operations can be enabled by setting the system property `jdk.attach.allowAttachSelf` on the command line.\r\n\r\nThis changes the way how to dynamically attach a Java agent to a running JVM without `-javaagent` command line parameter, especially to self-attachment, i.e. the JVM initiating the attachment is also the target JVM. JMockit makes use of that technology, which is why you either need to set that system property for JDK 9+ or use the traditional approach of declaring the JMockit agent on the command line. Both options are easy enough to implement.","title":"Error message mentions Java 9 even though I am using Java 11","body":"<p>Your question is completely unrelated to IntelliJ IDEA. You just happen to be running your tests from there. Instead, you should have mentioned that you use JMockit in your tests, which is clearly the root cause for your problems, if you just fully read the error message instead of stopping at &quot;JDK 9&quot;, which, like Johannes said, means &quot;JDK &gt;= 9&quot;:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalStateException:\n  Running on JDK 9 requires\n    -javaagent:&lt;proper path&gt;/jmockit-1.n.jar\n    or -Djdk.attach.allowAttachSelf\n</code></pre>\n<p>Not only do you read &quot;jmockit&quot; in the error message, but also two possible solutions. Have you tried any of them?</p>\n<p>By the way, the error message mentions JDK 9, because that was the version which introduced JPMS (Java Platform Module System). <a href=\"https://openjdk.org/jeps/261\" rel=\"nofollow noreferrer\">JEP 261: Module System</a>, which was part of JDK 9, reads:</p>\n<blockquote>\n<p>The <code>com.sun.tools.attach</code> API can no longer be used, by default, to attach an agent to the current process or an ancestor of the current process. Such attachment operations can be enabled by setting the system property <code>jdk.attach.allowAttachSelf</code> on the command line.</p>\n</blockquote>\n<p>This changes the way how to dynamically attach a Java agent to a running JVM without <code>-javaagent</code> command line parameter, especially to self-attachment, i.e. the JVM initiating the attachment is also the target JVM. JMockit makes use of that technology, which is why you either need to set that system property for JDK 9+ or use the traditional approach of declaring the JMockit agent on the command line. Both options are easy enough to implement.</p>\n"}],"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690680249,"creation_date":1690648108,"question_id":76794482,"body_markdown":"I have a Java 11 Gradle project for work. I am using IntelliJ Idea. I have some test errors, so I&#39;m trying to debug. The error message I&#39;m asking about appears to be unrelated to the test errors, but I could be wrong and it still bothers me. Here is the message:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    java.lang.IllegalStateException: Running on JDK 9 requires -javaagent:&lt;proper path&gt;/jmockit-1.n.jar or -Djdk.attach.allowAttachSelf\r\n\t    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n\t    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n\t    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\r\n\t    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\r\n\t    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:97)\r\n\t    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\t    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\t    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\t    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\t    at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI have looked at Settings, Project Structure, and all of the Jars in the External Libraries. I see everything saying Java 11. I see nothing saying Java 9. Is this a message I would expect to get even in Java 11? Is it a message I don&#39;t need to worry about? Are there any places besides Settings, Project Structure and the JARs that I need to check?\r\n","title":"Error message mentions Java 9 even though I am using Java 11","body":"<p>I have a Java 11 Gradle project for work. I am using IntelliJ Idea. I have some test errors, so I'm trying to debug. The error message I'm asking about appears to be unrelated to the test errors, but I could be wrong and it still bothers me. Here is the message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalStateException: Running on JDK 9 requires -javaagent:&lt;proper path&gt;/jmockit-1.n.jar or -Djdk.attach.allowAttachSelf\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:97)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I have looked at Settings, Project Structure, and all of the Jars in the External Libraries. I see everything saying Java 11. I see nothing saying Java 9. Is this a message I would expect to get even in Java 11? Is it a message I don't need to worry about? Are there any places besides Settings, Project Structure and the JARs that I need to check?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10756655,"reputation":362,"user_id":7914401,"display_name":"Leroy"},"score":0,"creation_date":1599823908,"post_id":63841351,"comment_id":112901174,"body_markdown":"Have you tried doing &#39;mvn clean install&#39; your pom file looks ok, maybe the dependency is not yet downloaded. If you already downloaded yet this error still appear, try deleting the org/springframework/boot in your repository directory then do a &#39;mvn clean install&#39; again. Hope this helps","body":"Have you tried doing &#39;mvn clean install&#39; your pom file looks ok, maybe the dependency is not yet downloaded. If you already downloaded yet this error still appear, try deleting the org/springframework/boot in your repository directory then do a &#39;mvn clean install&#39; again. Hope this helps"},{"owner":{"account_id":6698947,"reputation":409,"user_id":5166129,"display_name":"Neer Patel"},"score":0,"creation_date":1602494675,"post_id":63841351,"comment_id":113728169,"body_markdown":"I am also facing the same problem, could you find the solution bro ?","body":"I am also facing the same problem, could you find the solution bro ?"}],"answers":[{"comments":[{"owner":{"account_id":6573937,"reputation":63,"user_id":5080808,"display_name":"Debabrata Mukherjee"},"score":2,"creation_date":1599907336,"post_id":63841589,"comment_id":112924557,"body_markdown":"This is resolved now. I deleted all the files within .m2/repositories folder and then did maven update. That solved the problem.","body":"This is resolved now. I deleted all the files within .m2/repositories folder and then did maven update. That solved the problem."},{"owner":{"account_id":18255299,"reputation":109,"user_id":13289385,"display_name":"Donagh"},"score":0,"creation_date":1635975363,"post_id":63841589,"comment_id":123438711,"body_markdown":"I&#39;m currently having this problem but can&#39;t find a folder called .m2 - where was it for you?","body":"I&#39;m currently having this problem but can&#39;t find a folder called .m2 - where was it for you?"},{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1636008009,"post_id":63841589,"comment_id":123444323,"body_markdown":"On Mac and Linux in your users home directory, on Windows in your user&#39;s documents folder.","body":"On Mac and Linux in your users home directory, on Windows in your user&#39;s documents folder."}],"tags":[],"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599804317,"creation_date":1599804317,"answer_id":63841589,"question_id":63841351,"body_markdown":"Maybe a problem with your IDE? I have no problem importing JpaRepository with your pom.xml.\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface Repo extends JpaRepository&lt;Long, Object&gt; {\r\n    }","title":"The import org.springframework.data.jpa.repository.JpaRepository can&#39;t be resolved","body":"<p>Maybe a problem with your IDE? I have no problem importing JpaRepository with your pom.xml.</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface Repo extends JpaRepository&lt;Long, Object&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":6573937,"reputation":63,"user_id":5080808,"display_name":"Debabrata Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12044,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690679301,"creation_date":1599802849,"question_id":63841351,"body_markdown":"I&#39;m using Spring tool suite version 4. I have created a new spring boot project. Pom.xml is given below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;StudentCRUD&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;StudentCRUD&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n            &lt;!-- &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt; --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt; \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have created an entity class. No issue in that. But when I tried to create an interface extending the interface JpaRepository then the following import is not resolved:\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nI have done maven update several times and have clean-built the project also but no change. It will be really helpful if somebody could guide where I have done mistake?","title":"The import org.springframework.data.jpa.repository.JpaRepository can&#39;t be resolved","body":"<p>I'm using Spring tool suite version 4. I have created a new spring boot project. Pom.xml is given below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;StudentCRUD&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;StudentCRUD&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt; --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have created an entity class. No issue in that. But when I tried to create an interface extending the interface JpaRepository then the following import is not resolved:</p>\n<p>import org.springframework.data.jpa.repository.JpaRepository;</p>\n<p>I have done maven update several times and have clean-built the project also but no change. It will be really helpful if somebody could guide where I have done mistake?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1641484356,"post_id":70609782,"comment_id":124820451,"body_markdown":"You can simply use one project and three modules: 1 library with the common code and 2 applications using the library.","body":"You can simply use one project and three modules: 1 library with the common code and 2 applications using the library."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690679278,"creation_date":1641487918,"answer_id":70610663,"question_id":70609782,"body_markdown":"# Multi-module project\r\n\r\nAs [commented](https://stackoverflow.com/questions/70609782/how-do-i-divide-my-code-into-two-applications/70610663#comment124820451_70609782), you need a multi-module project. The content for each module is compiled separately, producing separate JAR files. \r\n\r\n[IntelliJ supports multi-module](https://www.jetbrains.com/help/idea/creating-and-managing-modules.html) projects.\r\n\r\nI recommend using a Java build management tool to assist. \r\n\r\n - [*Apache Maven*](https://de.wikipedia.org/wiki/Apache_Maven) is one such tool that [supports multiple modules](https://maven.apache.org/guides/mini/guide-multiple-modules.html). \r\n - [*Apache Gradle*][1] may be even better for multi-module projects.\r\n\r\n------------\r\n\r\nThe word “module” used here in this context should not be confused for the [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System). You may or may not choose to use Java modules in your project modules’ code. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle","title":"How do I divide my code into two applications?","body":"<h1>Multi-module project</h1>\n<p>As <a href=\"https://stackoverflow.com/questions/70609782/how-do-i-divide-my-code-into-two-applications/70610663#comment124820451_70609782\">commented</a>, you need a multi-module project. The content for each module is compiled separately, producing separate JAR files.</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/creating-and-managing-modules.html\" rel=\"nofollow noreferrer\">IntelliJ supports multi-module</a> projects.</p>\n<p>I recommend using a Java build management tool to assist.</p>\n<ul>\n<li><a href=\"https://de.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\"><em>Apache Maven</em></a> is one such tool that <a href=\"https://maven.apache.org/guides/mini/guide-multiple-modules.html\" rel=\"nofollow noreferrer\">supports multiple modules</a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\"><em>Apache Gradle</em></a> may be even better for multi-module projects.</li>\n</ul>\n<hr />\n<p>The word “module” used here in this context should not be confused for the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><em>Java Platform Module System</em></a>. You may or may not choose to use Java modules in your project modules’ code.</p>\n"},{"tags":[],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641571054,"creation_date":1641571054,"answer_id":70623910,"question_id":70609782,"body_markdown":"I suggest rest web service interface to export the logic data..\r\n\r\nSpringBoot web application can consume the rest services  \r\nand the other a desktop application can consume the rest services  \r\n\r\n\r\n    ONE REST SERVICE LAYER\r\n    --------------------------------------\r\n     |                 |\r\n    Desktop app,     SpringBoot web application\r\n\r\n\r\nthis way to don&#39;t duplicate your code and bugs twice.","title":"How do I divide my code into two applications?","body":"<p>I suggest rest web service interface to export the logic data..</p>\n<p>SpringBoot web application can consume the rest services<br />\nand the other a desktop application can consume the rest services</p>\n<pre><code>ONE REST SERVICE LAYER\n--------------------------------------\n |                 |\nDesktop app,     SpringBoot web application\n</code></pre>\n<p>this way to don't duplicate your code and bugs twice.</p>\n"}],"owner":{"account_id":21987292,"reputation":26,"user_id":16261329,"display_name":"Ivanuil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70610663,"answer_count":2,"score":0,"last_activity_date":1690679278,"creation_date":1641484197,"question_id":70609782,"body_markdown":"I have a few java classes, holding my application&#39;s logic. Now I want to create two applications, one will be a SpringBoot web application and another one will be a desktop application. Both of them will use logic, that I already wrote.\r\nI see only one way to do it: compiling logic classes into a `.jar` file and then putting it as a library into two Idea projects. But if I update any of this code, I will have to recompile it into jar and then replace an old jar with a new one in both projects.\r\n\r\n 1. Is there another, more simple way two divide my code into two projects?\r\n 2. What should I do with Git/GitHub?\r\n\r\nP.S.\r\nMy project is in java, I use Intellij IDEA, GitHub.","title":"How do I divide my code into two applications?","body":"<p>I have a few java classes, holding my application's logic. Now I want to create two applications, one will be a SpringBoot web application and another one will be a desktop application. Both of them will use logic, that I already wrote.\nI see only one way to do it: compiling logic classes into a <code>.jar</code> file and then putting it as a library into two Idea projects. But if I update any of this code, I will have to recompile it into jar and then replace an old jar with a new one in both projects.</p>\n<ol>\n<li>Is there another, more simple way two divide my code into two projects?</li>\n<li>What should I do with Git/GitHub?</li>\n</ol>\n<p>P.S.\nMy project is in java, I use Intellij IDEA, GitHub.</p>\n"},{"tags":["java","spring-boot","aop","aspectj","spring-aop"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1690613274,"post_id":76792104,"comment_id":135380654,"body_markdown":"Hello and welcome. I guess this is the correct syntax: `@Before(&quot;validatePointCut()&quot;)`","body":"Hello and welcome. I guess this is the correct syntax: <code>@Before(&quot;validatePointCut()&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690678896,"creation_date":1690678896,"answer_id":76795981,"question_id":76792104,"body_markdown":"The reason is that [`@Before`](https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/Before.java#L28-L31) only knows the default parameter name `value`for the pointcut expression, while [`@AfterReturning`](https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/AfterReturning.java#L28-L36) defines an additional alias `pointcut` for it.\r\n\r\nI.e., for `@Before` you can write any of\r\n  * `@Before(&quot;validatePointCut()&quot;)`,\r\n  * `@Before(value = &quot;validatePointCut()&quot;)`,\r\n\r\nwhile for `@AfterReturning` you can write any of\r\n  * `@AfterReturning(&quot;validatePointCut()&quot;)`,\r\n  * `@AfterReturning(value = &quot;validatePointCut()&quot;)`,\r\n  * `@AfterReturning(pointcut = &quot;validatePointCut()&quot;)`.\r\n\r\nI recommend you to learn how to use the features of your IDE to be able find out about the APIs you use right from the code editor, while typing your program.","title":"@Before doesn&#39;t allow pointcut reference, why?","body":"<p>The reason is that <a href=\"https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/Before.java#L28-L31\" rel=\"nofollow noreferrer\"><code>@Before</code></a> only knows the default parameter name <code>value</code>for the pointcut expression, while <a href=\"https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/AfterReturning.java#L28-L36\" rel=\"nofollow noreferrer\"><code>@AfterReturning</code></a> defines an additional alias <code>pointcut</code> for it.</p>\n<p>I.e., for <code>@Before</code> you can write any of</p>\n<ul>\n<li><code>@Before(&quot;validatePointCut()&quot;)</code>,</li>\n<li><code>@Before(value = &quot;validatePointCut()&quot;)</code>,</li>\n</ul>\n<p>while for <code>@AfterReturning</code> you can write any of</p>\n<ul>\n<li><code>@AfterReturning(&quot;validatePointCut()&quot;)</code>,</li>\n<li><code>@AfterReturning(value = &quot;validatePointCut()&quot;)</code>,</li>\n<li><code>@AfterReturning(pointcut = &quot;validatePointCut()&quot;)</code>.</li>\n</ul>\n<p>I recommend you to learn how to use the features of your IDE to be able find out about the APIs you use right from the code editor, while typing your program.</p>\n"}],"owner":{"account_id":29115180,"reputation":13,"user_id":22304034,"display_name":"Kurian Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76795981,"answer_count":1,"score":0,"last_activity_date":1690678896,"creation_date":1690606646,"question_id":76792104,"body_markdown":"I can do \r\n\r\n```\r\n    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\r\n    public void validatePointCut() {\r\n    }\r\n\r\n    @AfterReturning(pointcut = &quot;validatePointCut()&quot;)\r\n    public void validate(JoinPoint joinPoint) {\r\n    // some code\r\n    }\r\n```\r\nbut i cannot do\r\n```\r\n    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\r\n    public void validatePointCut() {\r\n    }\r\n\r\n    @Before(pointcut = &quot;validatePointCut()&quot;)\r\n    public void validate(JoinPoint joinPoint) {\r\n    // some code\r\n    }\r\n```\r\ni have to do\r\n```\r\n    @Before(&quot;@annotation(com.learning.validation.Validate)&quot;)\r\n    public void validate(JoinPoint joinPoint) {\r\n    // some code\r\n    }\r\n```\r\n\r\n\r\ni was hopping to use @Before same as @AfterReturning,\r\ni am using Spring Boot 3.x and Spring AOP\r\nam i missing something or is this how it should work\r\n","title":"@Before doesn&#39;t allow pointcut reference, why?","body":"<p>I can do</p>\n<pre><code>    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\n    public void validatePointCut() {\n    }\n\n    @AfterReturning(pointcut = &quot;validatePointCut()&quot;)\n    public void validate(JoinPoint joinPoint) {\n    // some code\n    }\n</code></pre>\n<p>but i cannot do</p>\n<pre><code>    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\n    public void validatePointCut() {\n    }\n\n    @Before(pointcut = &quot;validatePointCut()&quot;)\n    public void validate(JoinPoint joinPoint) {\n    // some code\n    }\n</code></pre>\n<p>i have to do</p>\n<pre><code>    @Before(&quot;@annotation(com.learning.validation.Validate)&quot;)\n    public void validate(JoinPoint joinPoint) {\n    // some code\n    }\n</code></pre>\n<p>i was hopping to use @Before same as @AfterReturning,\ni am using Spring Boot 3.x and Spring AOP\nam i missing something or is this how it should work</p>\n"},{"tags":["java","spring","generics","type-erasure"],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1689805237,"post_id":76701585,"comment_id":135267324,"body_markdown":"Thank you! Can you expand on: *&quot;Additionally, bean definitions are often done via concrete classes or bean methods. Both of these cases retain their type information at compile time.&quot;*","body":"Thank you! Can you expand on: <i>&quot;Additionally, bean definitions are often done via concrete classes or bean methods. Both of these cases retain their type information at compile time.&quot;</i>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1689828806,"post_id":76701585,"comment_id":135269242,"body_markdown":"@JoreJoh I&#39;ve added concrete examples, which I hope suffice.","body":"@JoreJoh I&#39;ve added concrete examples, which I hope suffice."},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1689863768,"post_id":76701585,"comment_id":135276256,"body_markdown":"Concrete examples are always superior, good job","body":"Concrete examples are always superior, good job"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690018398,"post_id":76701585,"comment_id":135296539,"body_markdown":"Thanks. What does &quot;type erasure&quot; refer to then? Does it refer to the fact that a generic class itself never retains the information of its actual type at runtime, but every `java.lang.reflect` class around it (super `Class`, `Method`, `Field`) does keep it in its bytecode?","body":"Thanks. What does &quot;type erasure&quot; refer to then? Does it refer to the fact that a generic class itself never retains the information of its actual type at runtime, but every <code>java.lang.reflect</code> class around it (super <code>Class</code>, <code>Method</code>, <code>Field</code>) does keep it in its bytecode?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1690116905,"post_id":76701585,"comment_id":135305462,"body_markdown":"The primary way type erasure is visible is when using a generic class.  For instance, in a method: `List&lt;String&gt; list = new ArrayList&lt;&gt;(); list.add(&quot;ABC&quot;); String s = list.get(0);`.  Despite being known at compile time that `list` has `String` as its parametric type, that information is not retained in the class.  Looking at the bytecode, for instance, would show raw types, equivalent to: `List list = new ArrayList(); list.add(&quot;ABC&quot;); String s = (String) list.get(0);`.  There&#39;s no way, at runtime, to tell that `list` was compiled as a `List&lt;String&gt;`.","body":"The primary way type erasure is visible is when using a generic class.  For instance, in a method: <code>List&lt;String&gt; list = new ArrayList&lt;&gt;(); list.add(&quot;ABC&quot;); String s = list.get(0);</code>.  Despite being known at compile time that <code>list</code> has <code>String</code> as its parametric type, that information is not retained in the class.  Looking at the bytecode, for instance, would show raw types, equivalent to: <code>List list = new ArrayList(); list.add(&quot;ABC&quot;); String s = (String) list.get(0);</code>.  There&#39;s no way, at runtime, to tell that <code>list</code> was compiled as a <code>List&lt;String&gt;</code>."}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690677775,"creation_date":1689569777,"answer_id":76701585,"question_id":76701522,"body_markdown":"As discussed in [a answer](https://stackoverflow.com/a/65651991/1108305) to Stack Overflow question https://stackoverflow.com/q/65651242/1108305, generic type information of fields is reflectively available in Java.  This is also true of method/constructor parameters.  This explains how Spring can know that a particular generic type is required.\r\n\r\nAdditionally, bean definitions are often done via concrete classes or bean methods.  Both of these cases retain their type information at compile time.  This explains how Spring can know what the specific generic type of a bean is.\r\n\r\nPutting these two together explains how Spring is able to fail when no bean matching a specific generic signature exists.\r\n\r\n# Example\r\n\r\nTo make it concrete, I&#39;m going to give an example.  Let&#39;s say we have the following generic class:\r\n\r\n```lang-java\r\npublic class GenericBean&lt;T&gt; {\r\n}\r\n```\r\n\r\nHere are two bean definitions, one which is defined as a bean by using the `@Service` annotation on a subclass, and one by using `@Bean` within a `Configuration` class:\r\n\r\n```lang-java\r\n@Service\r\npublic class GenericBeanService extends GenericBean&lt;Integer&gt; {\r\n}\r\n```\r\n\r\n```lang-java\r\n@Configuration\r\npublic class GenericBeanConfig {\r\n    @Bean\r\n    public GenericBean&lt;String&gt; genericBean() {\r\n        return new GenericBean&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nIn both of these cases, the generic type information of these beans is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:\r\n\r\n```lang-java\r\n// GenericBean&lt;String&gt;\r\nGenericBeanConfig.class.getMethod(&quot;genericBean&quot;).getGenericReturnType();\r\n\r\n// GenericBean&lt;Integer&gt;\r\nGenericBeanService.class.getGenericSuperclass();\r\n```\r\n\r\nHere is an autowired class that uses the generic beans:\r\n\r\n```lang-java\r\n@Service\r\npublic class AutowiredClass {\r\n    @Autowired private GenericBean&lt;String&gt; stringBean;\r\n    @Autowired private GenericBean&lt;Integer&gt; integerBean;\r\n}\r\n```\r\n\r\nHere too, the generic type information of the autowired fields is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:\r\n\r\n```lang-java\r\n// GenericBean&lt;String&gt;\r\nAutowiredClass.class.getDeclaredField(&quot;stringBean&quot;).getGenericType()\r\n\r\n// GenericBean&lt;Integer&gt;\r\nAutowiredClass.class.getDeclaredField(&quot;integerBean&quot;).getGenericType()\r\n```\r\n\r\nSince Spring can determine via reflection the generic types of the beans, and the types of the autowired properties, it can therefore correctly assign beans based on their generics.","title":"How is Spring able to see type arguments at runtime? What about the whole type erasure thing?","body":"<p>As discussed in <a href=\"https://stackoverflow.com/a/65651991/1108305\">a answer</a> to Stack Overflow question <a href=\"https://stackoverflow.com/q/65651242/1108305\">Why is this generic type information for member field not erased in Java?</a>, generic type information of fields is reflectively available in Java.  This is also true of method/constructor parameters.  This explains how Spring can know that a particular generic type is required.</p>\n<p>Additionally, bean definitions are often done via concrete classes or bean methods.  Both of these cases retain their type information at compile time.  This explains how Spring can know what the specific generic type of a bean is.</p>\n<p>Putting these two together explains how Spring is able to fail when no bean matching a specific generic signature exists.</p>\n<h1>Example</h1>\n<p>To make it concrete, I'm going to give an example.  Let's say we have the following generic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericBean&lt;T&gt; {\n}\n</code></pre>\n<p>Here are two bean definitions, one which is defined as a bean by using the <code>@Service</code> annotation on a subclass, and one by using <code>@Bean</code> within a <code>Configuration</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class GenericBeanService extends GenericBean&lt;Integer&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class GenericBeanConfig {\n    @Bean\n    public GenericBean&lt;String&gt; genericBean() {\n        return new GenericBean&lt;&gt;();\n    }\n}\n</code></pre>\n<p>In both of these cases, the generic type information of these beans is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// GenericBean&lt;String&gt;\nGenericBeanConfig.class.getMethod(&quot;genericBean&quot;).getGenericReturnType();\n\n// GenericBean&lt;Integer&gt;\nGenericBeanService.class.getGenericSuperclass();\n</code></pre>\n<p>Here is an autowired class that uses the generic beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AutowiredClass {\n    @Autowired private GenericBean&lt;String&gt; stringBean;\n    @Autowired private GenericBean&lt;Integer&gt; integerBean;\n}\n</code></pre>\n<p>Here too, the generic type information of the autowired fields is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// GenericBean&lt;String&gt;\nAutowiredClass.class.getDeclaredField(&quot;stringBean&quot;).getGenericType()\n\n// GenericBean&lt;Integer&gt;\nAutowiredClass.class.getDeclaredField(&quot;integerBean&quot;).getGenericType()\n</code></pre>\n<p>Since Spring can determine via reflection the generic types of the beans, and the types of the autowired properties, it can therefore correctly assign beans based on their generics.</p>\n"},{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1689805441,"post_id":76701695,"comment_id":135267349,"body_markdown":"It&#39;s a bit confusing to me. In summary, `SomeGenericClass&lt;T&gt;` doesn&#39;t keep information about its actual type at runtime, but `Field` does. Is it correct?","body":"It&#39;s a bit confusing to me. In summary, <code>SomeGenericClass&lt;T&gt;</code> doesn&#39;t keep information about its actual type at runtime, but <code>Field</code> does. Is it correct?"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1689811253,"post_id":76701695,"comment_id":135267852,"body_markdown":"Both parts incorrect. It&#39;s easy to confuse type variable *declaration* and type parameter. As well as class instance and class itself, represented by instance of `Class` class. `SomeGenericClass&lt;T&gt;` *does* keep information about its type variable declaration - it&#39;s `T`, but its instance *does not* keep information about class that happens to be in place of `T`.  This is essentially what is called *type erasure*.","body":"Both parts incorrect. It&#39;s easy to confuse type variable <i>declaration</i> and type parameter. As well as class instance and class itself, represented by instance of <code>Class</code> class. <code>SomeGenericClass&lt;T&gt;</code> <i>does</i> keep information about its type variable declaration - it&#39;s <code>T</code>, but its instance <i>does not</i> keep information about class that happens to be in place of <code>T</code>.  This is essentially what is called <i>type erasure</i>."},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1689811340,"post_id":76701695,"comment_id":135267859,"body_markdown":"`Field` instances do not hold any information about themselves but about fields of some other class. And that information is just normal &quot;hard&quot; values, but indeed can describe generic nature of the represented field. See `Field.getGenericType()` and subclasses of `java.lang.reflect.Type` interface.","body":"<code>Field</code> instances do not hold any information about themselves but about fields of some other class. And that information is just normal &quot;hard&quot; values, but indeed can describe generic nature of the represented field. See <code>Field.getGenericType()</code> and subclasses of <code>java.lang.reflect.Type</code> interface."}],"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689571852,"creation_date":1689571852,"answer_id":76701695,"question_id":76701522,"body_markdown":"&gt; Aren&#39;t type arguments supposed to be erased by runtime?\r\n\r\nIt is correct for class instances, but not for classes themselves. Classes keep information about their type parameters as well as their fields and methods. For example, in this code\r\n```\r\n    void foo(){\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n      Class&lt;?&gt; listClass = list.getClass();\r\n    }\r\n```\r\n`list` instance is not aware at runtime of its actual type parameter value `String`, but its class `ArrayList` (and interface `List`) **is** aware of owning a type parameter, declared as `E` or `T` (though actually type parameter *name* might still be erased, only bounds matter). It&#39;s fact of &quot;projection&quot; of type parameter into actual type `String` is erased, not the fact of existence of type param itself.\r\n\r\nIn same manner, declared class fields and methods also keep their type parameters, either actual or type variables. Even better in this case, as actual parameter values are stored. So, when you write something like this\r\n```\r\n    // inside Spring component\r\n    @Autowired\r\n    private List&lt;String&gt; listOfStrings;\r\n```\r\nSpring is able to detect that there is a field named `listOfStrings` that needs to be autowired and it expects something compatible with `List&lt;String&gt;`. So, Spring is totally able to determine what is expected on the consuming end.\r\n\r\nOn the other end, you normally register beans with `@Bean` or `@Component` annotations (or derived). And again, these are attached to methods or classes that **do** keep their type information.\r\n\r\nAnd even when beans are added programmatically, there are still options to provide type information explicitly through [GenericApplicationContext.registerBean()][1], [BeanDefinition][2] and [ResolvableType][3].\r\n\r\nUltimately, on both ends there are ways to provide type information, and Spring does great job to connecting bean providers and consumers.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean(java.lang.Class,org.springframework.beans.factory.config.BeanDefinitionCustomizer...)\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html","title":"How is Spring able to see type arguments at runtime? What about the whole type erasure thing?","body":"<blockquote>\n<p>Aren't type arguments supposed to be erased by runtime?</p>\n</blockquote>\n<p>It is correct for class instances, but not for classes themselves. Classes keep information about their type parameters as well as their fields and methods. For example, in this code</p>\n<pre><code>    void foo(){\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n      Class&lt;?&gt; listClass = list.getClass();\n    }\n</code></pre>\n<p><code>list</code> instance is not aware at runtime of its actual type parameter value <code>String</code>, but its class <code>ArrayList</code> (and interface <code>List</code>) <strong>is</strong> aware of owning a type parameter, declared as <code>E</code> or <code>T</code> (though actually type parameter <em>name</em> might still be erased, only bounds matter). It's fact of &quot;projection&quot; of type parameter into actual type <code>String</code> is erased, not the fact of existence of type param itself.</p>\n<p>In same manner, declared class fields and methods also keep their type parameters, either actual or type variables. Even better in this case, as actual parameter values are stored. So, when you write something like this</p>\n<pre><code>    // inside Spring component\n    @Autowired\n    private List&lt;String&gt; listOfStrings;\n</code></pre>\n<p>Spring is able to detect that there is a field named <code>listOfStrings</code> that needs to be autowired and it expects something compatible with <code>List&lt;String&gt;</code>. So, Spring is totally able to determine what is expected on the consuming end.</p>\n<p>On the other end, you normally register beans with <code>@Bean</code> or <code>@Component</code> annotations (or derived). And again, these are attached to methods or classes that <strong>do</strong> keep their type information.</p>\n<p>And even when beans are added programmatically, there are still options to provide type information explicitly through <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean(java.lang.Class,org.springframework.beans.factory.config.BeanDefinitionCustomizer...)\" rel=\"nofollow noreferrer\">GenericApplicationContext.registerBean()</a>, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html\" rel=\"nofollow noreferrer\">BeanDefinition</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"nofollow noreferrer\">ResolvableType</a>.</p>\n<p>Ultimately, on both ends there are ways to provide type information, and Spring does great job to connecting bean providers and consumers.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1690677775,"creation_date":1689568759,"question_id":76701522,"body_markdown":"I don&#39;t understand how it is possible to see exception messages like this one\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.util.List&lt;java.lang.String&gt;&#39; available\r\n```\r\nAren&#39;t type arguments supposed to be erased by runtime? How can things like `&lt;java.lang.String&gt;` survive compilation (as we know, exceptions occur during runtime)? What kind of supernatural ability does Spring possess?\r\n\r\n[This question](https://stackoverflow.com/questions/45802927/java-generics-is-any-meta-information-about-the-generic-type-preserved-at-runt) is similar, but none of the two most-upvoted answers answer my question exactly\r\n* *GhostCat again on strike* says the fact that a class is generic (not what its actual type is) is preserved, can be retrieved\r\n* *yshavit* says you can obtain a *superclass&#39;s* generic type through reflexion","title":"How is Spring able to see type arguments at runtime? What about the whole type erasure thing?","body":"<p>I don't understand how it is possible to see exception messages like this one</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.util.List&lt;java.lang.String&gt;' available\n</code></pre>\n<p>Aren't type arguments supposed to be erased by runtime? How can things like <code>&lt;java.lang.String&gt;</code> survive compilation (as we know, exceptions occur during runtime)? What kind of supernatural ability does Spring possess?</p>\n<p><a href=\"https://stackoverflow.com/questions/45802927/java-generics-is-any-meta-information-about-the-generic-type-preserved-at-runt\">This question</a> is similar, but none of the two most-upvoted answers answer my question exactly</p>\n<ul>\n<li><em>GhostCat again on strike</em> says the fact that a class is generic (not what its actual type is) is preserved, can be retrieved</li>\n<li><em>yshavit</em> says you can obtain a <em>superclass's</em> generic type through reflexion</li>\n</ul>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1690641224,"post_id":76794027,"comment_id":135383480,"body_markdown":"Are you intentionally trying to set it with a different logger? Do those two loggers share a common interface?","body":"Are you intentionally trying to set it with a different logger? Do those two loggers share a common interface?"},{"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"score":0,"creation_date":1690644225,"post_id":76794027,"comment_id":135383831,"body_markdown":"You are right, they are not the same interface as I had thought.","body":"You are right, they are not the same interface as I had thought."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1690669212,"post_id":76794027,"comment_id":135386359,"body_markdown":"Did you mean to link to https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object- ?","body":"Did you mean to link to <a href=\"https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-&zwnj;&#8203;api/&hellip;</a> ?"},{"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"score":0,"creation_date":1690677668,"post_id":76794027,"comment_id":135386915,"body_markdown":"Yes, thanks for pointing it out, I have edited the question with right link","body":"Yes, thanks for pointing it out, I have edited the question with right link"}],"answers":[{"comments":[{"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"score":0,"creation_date":1690644022,"post_id":76794170,"comment_id":135383810,"body_markdown":"After making suggested change, there is no exception.","body":"After making suggested change, there is no exception."}],"tags":[],"owner":{"account_id":29117804,"reputation":46,"user_id":22306134,"display_name":"M127"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690643237,"creation_date":1690643237,"answer_id":76794170,"question_id":76794027,"body_markdown":"Since the IllegalArgumentException is thrown by `java.lang.reflect.Field.set` according to the stack trace, the [javadoc for Field.set][1] can be consulted as to the reason.\r\n\r\nIt states:\r\n&gt; IllegalArgumentException - if the specified object is not an instance of the class or interface declaring the underlying field (or a subclass or implementor thereof), or if an unwrapping conversion fails.\r\n\r\nComparing your provided App and AppTest classes reveals that AppTest imports `org.apache.logging.log4j.core.Logger` whereas App imports `org.slf4j.Logger`\r\n\r\nSince you are trying to inject a mock of the logger, change the first import in AppTest to `org.slf4j.logger`.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html?#set-java.lang.Object-java.lang.Object-","title":"Attempt to change static non final field throws IllegalArgument Exception","body":"<p>Since the IllegalArgumentException is thrown by <code>java.lang.reflect.Field.set</code> according to the stack trace, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html?#set-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\">javadoc for Field.set</a> can be consulted as to the reason.</p>\n<p>It states:</p>\n<blockquote>\n<p>IllegalArgumentException - if the specified object is not an instance of the class or interface declaring the underlying field (or a subclass or implementor thereof), or if an unwrapping conversion fails.</p>\n</blockquote>\n<p>Comparing your provided App and AppTest classes reveals that AppTest imports <code>org.apache.logging.log4j.core.Logger</code> whereas App imports <code>org.slf4j.Logger</code></p>\n<p>Since you are trying to inject a mock of the logger, change the first import in AppTest to <code>org.slf4j.logger</code>.</p>\n"}],"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76794170,"answer_count":1,"score":2,"last_activity_date":1690677629,"creation_date":1690641072,"question_id":76794027,"body_markdown":"\r\nClass that has private static non final field\r\n\r\n    package sample;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class App {\r\n       private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \r\n       public void doSomething() {\r\n          logger.error(&quot;Cannot do something&quot;);\r\n       }\r\n    }\r\n\r\n\r\nAttempt to set this field through reflection \r\n\r\n    package sample;\r\n    \r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    import static org.mockito.Mockito.mock;\r\n    \r\n    public class AppTest {\r\n    \r\n        @Test\r\n        public void doSomething() throws Exception {\r\n            App app = new App();\r\n    \r\n            Logger mockedLogger = mock(Logger.class);\r\n    \r\n            ReflectionTestUtils.setField(App.class, &quot;logger&quot;, mockedLogger);\r\n        }\r\n    }\r\n\r\nresults in IllegalArgumentException\r\n\r\n    Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\r\n    java.lang.IllegalArgumentException: Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\r\n    \tat sun.reflect.UnsafeStaticObjectFieldAccessorImpl.set(UnsafeStaticObjectFieldAccessorImpl.java:79)\r\n    \tat java.lang.reflect.Field.set(Field.java:764)\r\n    \tat org.springframework.util.ReflectionUtils.setField(ReflectionUtils.java:633)\r\n\r\nAccording to JavaDocs of invoked method\r\n\r\n&gt; https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-\r\n\r\n&gt; Set the static field with the given name on the provided targetClass\r\n&gt; to the supplied value.\r\n\r\nsetting static field is supported.","title":"Attempt to change static non final field throws IllegalArgument Exception","body":"<p>Class that has private static non final field</p>\n<pre><code>package sample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class App {\n   private static Logger logger = LoggerFactory.getLogger(App.class);\n\n   public void doSomething() {\n      logger.error(&quot;Cannot do something&quot;);\n   }\n}\n</code></pre>\n<p>Attempt to set this field through reflection</p>\n<pre><code>package sample;\n\nimport org.apache.logging.log4j.core.Logger;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.test.util.ReflectionTestUtils;\n\nimport static org.mockito.Mockito.mock;\n\npublic class AppTest {\n\n    @Test\n    public void doSomething() throws Exception {\n        App app = new App();\n\n        Logger mockedLogger = mock(Logger.class);\n\n        ReflectionTestUtils.setField(App.class, &quot;logger&quot;, mockedLogger);\n    }\n}\n</code></pre>\n<p>results in IllegalArgumentException</p>\n<pre><code>Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\njava.lang.IllegalArgumentException: Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\n    at sun.reflect.UnsafeStaticObjectFieldAccessorImpl.set(UnsafeStaticObjectFieldAccessorImpl.java:79)\n    at java.lang.reflect.Field.set(Field.java:764)\n    at org.springframework.util.ReflectionUtils.setField(ReflectionUtils.java:633)\n</code></pre>\n<p>According to JavaDocs of invoked method</p>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-</a></p>\n</blockquote>\n<blockquote>\n<p>Set the static field with the given name on the provided targetClass\nto the supplied value.</p>\n</blockquote>\n<p>setting static field is supported.</p>\n"},{"tags":["java","docker"],"answers":[{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1690676264,"post_id":76795900,"comment_id":135386830,"body_markdown":"I can execute command &quot;jstat&quot; alone, but if I add the -class vmid or any other, it doesnt let me, any idea? It says &quot;invalid arguments. try `jstat -h to see usage&quot; and when I execute jstat -h it only prints: usage: jstat [--count=&lt;count&gt;]\n\n        count : Amount of jstat lines to run","body":"I can execute command &quot;jstat&quot; alone, but if I add the -class vmid or any other, it doesnt let me, any idea? It says &quot;invalid arguments. try `jstat -h to see usage&quot; and when I execute jstat -h it only prints: usage: jstat [--count=&lt;count&gt;]          count : Amount of jstat lines to run"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690676713,"post_id":76795900,"comment_id":135386856,"body_markdown":"That sounds like a different `jstat` command","body":"That sounds like a different <code>jstat</code> command"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690676793,"post_id":76795900,"comment_id":135386863,"body_markdown":"What does `which jstat` print for you?","body":"What does <code>which jstat</code> print for you?"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1690683354,"post_id":76795900,"comment_id":135387216,"body_markdown":"It prints &quot;which: command not found&quot;, maybe this is a different jstat that is on the container, is there another way?","body":"It prints &quot;which: command not found&quot;, maybe this is a different jstat that is on the container, is there another way?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690685307,"post_id":76795900,"comment_id":135387286,"body_markdown":"You could pass the absolute path to the JDK `jstat` command if it’s installed on the container, or run `jstat` on a different machine and [connect remotely to the container running `jstatd`](https://stackoverflow.com/questions/44690253/unable-to-connect-to-a-remote-jvm-using-jstat), or connect remotely to `jstatd` using a different tool such as [VisualVM](https://docs.oracle.com/javase/8/docs/technotes/guides/visualvm/applications_remote.html).","body":"You could pass the absolute path to the JDK <code>jstat</code> command if it’s installed on the container, or run <code>jstat</code> on a different machine and <a href=\"https://stackoverflow.com/questions/44690253/unable-to-connect-to-a-remote-jvm-using-jstat\">connect remotely to the container running <code>jstatd</code></a>, or connect remotely to <code>jstatd</code> using a different tool such as <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/visualvm/applications_remote.html\" rel=\"nofollow noreferrer\">VisualVM</a>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690686091,"post_id":76795900,"comment_id":135387311,"body_markdown":"A common thing to do in environments that use containers is to run some kind of instrumentation agent with your application that exports metrics like this to a common monitoring service such as Prometheus","body":"A common thing to do in environments that use containers is to run some kind of instrumentation agent with your application that exports metrics like this to a common monitoring service such as Prometheus"}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690676027,"creation_date":1690676027,"answer_id":76795900,"question_id":76795840,"body_markdown":"You’re thinking of the [`jstat`](https://docs.oracle.com/en/java/javase/11/tools/jstat.html) command:\r\n\r\n    jstat -class vmid \r\n\r\n","title":"How to print the number of java classes loaded in the JVM of an instance?","body":"<p>You’re thinking of the <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jstat.html\" rel=\"nofollow noreferrer\"><code>jstat</code></a> command:</p>\n<pre><code>jstat -class vmid \n</code></pre>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690676027,"creation_date":1690674414,"question_id":76795840,"body_markdown":"I believe there is a command to check the number of java classes loaded on an instance.\r\n\r\nI have tried with top -H, jstack.\r\n\r\nBut they dont print the number of classes loaded, is there a way to check this by a console command?","title":"How to print the number of java classes loaded in the JVM of an instance?","body":"<p>I believe there is a command to check the number of java classes loaded on an instance.</p>\n<p>I have tried with top -H, jstack.</p>\n<p>But they dont print the number of classes loaded, is there a way to check this by a console command?</p>\n"},{"tags":["java","spring","spring-boot","hateoas"],"answers":[{"comments":[{"owner":{"account_id":1603367,"reputation":1627,"user_id":1483978,"accept_rate":100,"display_name":"Israelm"},"score":1,"creation_date":1570057979,"post_id":58210364,"comment_id":102798289,"body_markdown":"This solved my problem. Thanks for clarifying the fact that the login page comes with the spring security dependency and for pointing the way to set my own creds to avoid having new one every time i restart my project. Thanks a lot.","body":"This solved my problem. Thanks for clarifying the fact that the login page comes with the spring security dependency and for pointing the way to set my own creds to avoid having new one every time i restart my project. Thanks a lot."}],"tags":[],"owner":{"account_id":5195924,"reputation":180,"user_id":4157239,"display_name":"xdevx32"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1690674006,"creation_date":1570057296,"answer_id":58210364,"question_id":58210124,"body_markdown":"Take a look at the console output after running your application. If you have no run-time exceptions, then you should easily find the credentials. By default the username is `user` and the password is always different and therefore generated from the system.\r\n\r\nFor more clarity, the login page comes with this dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso, if you want to set some values for the credentials, then go to the `application.properties` file and add those two lines:\r\n\r\n    spring.security.user.name=&lt;your/username&gt;\r\n    spring.security.user.password=&lt;your/password&gt;\r\n\r\n","title":"What are Spring Security default credentials for Spring Boot?","body":"<p>Take a look at the console output after running your application. If you have no run-time exceptions, then you should easily find the credentials. By default the username is <code>user</code> and the password is always different and therefore generated from the system.</p>\n<p>For more clarity, the login page comes with this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, if you want to set some values for the credentials, then go to the <code>application.properties</code> file and add those two lines:</p>\n<pre><code>spring.security.user.name=&lt;your/username&gt;\nspring.security.user.password=&lt;your/password&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19239662,"reputation":91,"user_id":14059912,"display_name":"Sayf"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663673262,"creation_date":1663673262,"answer_id":73785954,"question_id":58210124,"body_markdown":"Default username is `user`\r\n\r\npassword can be found in the console when you run your application.\r\n\r\nexample:\r\n\r\n    Using generated security password: 18ea5687-bc63-4663-9377-e2817c9d2568\r\n\r\nIf you want to set them yourself you can do so by overriding the defaults in `application.properties`: \r\n\r\n    spring.security.user.name=stack\r\n    spring.security.user.password=overflow","title":"What are Spring Security default credentials for Spring Boot?","body":"<p>Default username is <code>user</code></p>\n<p>password can be found in the console when you run your application.</p>\n<p>example:</p>\n<pre><code>Using generated security password: 18ea5687-bc63-4663-9377-e2817c9d2568\n</code></pre>\n<p>If you want to set them yourself you can do so by overriding the defaults in <code>application.properties</code>:</p>\n<pre><code>spring.security.user.name=stack\nspring.security.user.password=overflow\n</code></pre>\n"}],"owner":{"account_id":1603367,"reputation":1627,"user_id":1483978,"accept_rate":100,"display_name":"Israelm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5624,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58210364,"answer_count":2,"score":2,"last_activity_date":1690674103,"creation_date":1570055372,"question_id":58210124,"body_markdown":"I am working with `Spring Boot` and I am using `spring-data-rest-hal-browser`, everything seems to be fine, except when i try to hit the URL: `http://localhost:8080` I get redirected to `http://localhost:8080/login` to use the HAL browser to navigate my endpoint, then I get a screen requesting for a user and a password that I don&#39;t have. \r\n\r\nWhat are the default credentials to login to spring security and how can I change them or disable the login option? \r\n\r\nThis is the dependency I am using: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd this is the login screen:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44CBf.jpg","title":"What are Spring Security default credentials for Spring Boot?","body":"<p>I am working with <code>Spring Boot</code> and I am using <code>spring-data-rest-hal-browser</code>, everything seems to be fine, except when i try to hit the URL: <code>http://localhost:8080</code> I get redirected to <code>http://localhost:8080/login</code> to use the HAL browser to navigate my endpoint, then I get a screen requesting for a user and a password that I don't have.</p>\n<p>What are the default credentials to login to spring security and how can I change them or disable the login option?</p>\n<p>This is the dependency I am using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And this is the login screen:</p>\n<p><a href=\"https://i.stack.imgur.com/44CBf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44CBf.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","performance","hibernate","batch-processing"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690483543,"post_id":76772060,"comment_id":135363980,"body_markdown":"Is `id` `AUTO_INCREMENT`?  If not, how do you set the value?","body":"Is <code>id</code> <code>AUTO_INCREMENT</code>?  If not, how do you set the value?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690558168,"post_id":76772060,"comment_id":135375264,"body_markdown":"@RickJames I use `@Id\n@GeneratedValue(strategy = GenerationType.TABLE)\n`. I am aware that the `IDENTITY` does not work with batch inserts.","body":"@RickJames I use <code>@Id @GeneratedValue(strategy = GenerationType.TABLE) </code>. I am aware that the <code>IDENTITY</code> does not work with batch inserts."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690570416,"post_id":76772060,"comment_id":135377345,"body_markdown":"MySQL is happy to use `AUTO_INCREMENT` on batches.  But it pre-allocates all the new ids before starting to do the inserts.  So, if any row fails to be inserted (or the whole batch fails), some id(s) are &quot;burned&quot;.  This is surprising to users, but &quot;not-a-bug&quot;.","body":"MySQL is happy to use <code>AUTO_INCREMENT</code> on batches.  But it pre-allocates all the new ids before starting to do the inserts.  So, if any row fails to be inserted (or the whole batch fails), some id(s) are &quot;burned&quot;.  This is surprising to users, but &quot;not-a-bug&quot;."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690626395,"post_id":76772060,"comment_id":135381827,"body_markdown":"@RickJames Ah ok, I see. The thing is that after the batch insert the database shows all the booking entries that should be inserted, which means that everything &quot;works correct&quot;. Its just that other inserts afterwards are really slow","body":"@RickJames Ah ok, I see. The thing is that after the batch insert the database shows all the booking entries that should be inserted, which means that everything &quot;works correct&quot;. Its just that other inserts afterwards are really slow"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690649702,"post_id":76772060,"comment_id":135384401,"body_markdown":"Explain &quot;other inserts are slow&quot; -- Inserts into the same table at the &quot;same&quot; time&quot;?  Into other tables?  With big, complex, Selects also going on in the background?  Deleting rows at the &quot;same time&quot;?  Other?","body":"Explain &quot;other inserts are slow&quot; -- Inserts into the same table at the &quot;same&quot; time&quot;?  Into other tables?  With big, complex, Selects also going on in the background?  Deleting rows at the &quot;same time&quot;?  Other?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690655385,"post_id":76772060,"comment_id":135385009,"body_markdown":"Simple inserts into any table (not using native queries but the entity manager) after the batch insert. The batch insert fully finishes. At least the entities are in the database and the queries appear in the log. Something from the batch insert seems to slow other inserts afterwards. Thats the only problem I have at all","body":"Simple inserts into any table (not using native queries but the entity manager) after the batch insert. The batch insert fully finishes. At least the entities are in the database and the queries appear in the log. Something from the batch insert seems to slow other inserts afterwards. Thats the only problem I have at all"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690698574,"post_id":76772060,"comment_id":135387953,"body_markdown":"&quot;update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?&quot; -- Is that bumping up by 1 or by 20?","body":"&quot;update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?&quot; -- Is that bumping up by 1 or by 20?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690729491,"post_id":76772060,"comment_id":135390858,"body_markdown":"There are 20 of those. One for each insert statement","body":"There are 20 of those. One for each insert statement"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690730784,"post_id":76772060,"comment_id":135391010,"body_markdown":"But it seems to _triple_ the number of statements relative to using `AUTO_INCREMENT`.  Also that 3-step operation should be inside a transaction.","body":"But it seems to <i>triple</i> the number of statements relative to using <code>AUTO_INCREMENT</code>.  Also that 3-step operation should be inside a transaction."}],"answers":[{"comments":[{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690456211,"post_id":76773498,"comment_id":135357881,"body_markdown":"I updated the question with the information you requested. \n\nRegarding multithreading: The reason I tried multithreading is, that the insert was so slow that it blocked the main thread and at some point timed out and the transaction rolled back. Is there some other way to avoid both?\n\nWhen you say batch, are you referring to the total amount of bookings to persist in one transaction? The insert batch size to the database is 20 and there are a few thousand bookings to persist. Although I tried calling my batchInsert method on 1000 bookings at a time and it behaved the same way as before.","body":"I updated the question with the information you requested.   Regarding multithreading: The reason I tried multithreading is, that the insert was so slow that it blocked the main thread and at some point timed out and the transaction rolled back. Is there some other way to avoid both?  When you say batch, are you referring to the total amount of bookings to persist in one transaction? The insert batch size to the database is 20 and there are a few thousand bookings to persist. Although I tried calling my batchInsert method on 1000 bookings at a time and it behaved the same way as before."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690483468,"post_id":76773498,"comment_id":135363966,"body_markdown":"&quot;batch&quot; -- Multiple rows in a single `INSERT` statement.","body":"&quot;batch&quot; -- Multiple rows in a single <code>INSERT</code> statement."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690484315,"post_id":76773498,"comment_id":135364120,"body_markdown":"@lasbr - and I added More.","body":"@lasbr - and I added More."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690558490,"post_id":76773498,"comment_id":135375332,"body_markdown":"So the  batch size  is set to 20. The data structure existed a long time. Only with the mass insert of bookings this problem arose. I can&#39;t change the data structure. Inserting a small amount of bookings at a time works fine. Before I did the mass insert in a new thread without batch inserting, but the reason I switched to batch inserting is the `org.hibernate.exception.LockAcquisitionException` which batch inserting apparently is a solution to. What do you mean by a sample `INSERT`? Actual values for the variables?","body":"So the  batch size  is set to 20. The data structure existed a long time. Only with the mass insert of bookings this problem arose. I can&#39;t change the data structure. Inserting a small amount of bookings at a time works fine. Before I did the mass insert in a new thread without batch inserting, but the reason I switched to batch inserting is the <code>org.hibernate.exception.LockAcquisitionException</code> which batch inserting apparently is a solution to. What do you mean by a sample <code>INSERT</code>? Actual values for the variables?"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690570273,"post_id":76773498,"comment_id":135377326,"body_markdown":"By &quot;simple&quot;, I mean 1 row at a time.  Roughly speaking, an `INSERT` has 10 units of time overhead.  Inserting a batch of 20 rows will take about 30 units of time (1.5 per row).","body":"By &quot;simple&quot;, I mean 1 row at a time.  Roughly speaking, an <code>INSERT</code> has 10 units of time overhead.  Inserting a batch of 20 rows will take about 30 units of time (1.5 per row)."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690635479,"post_id":76773498,"comment_id":135382854,"body_markdown":"I also added a single insert at the end of the question","body":"I also added a single insert at the end of the question"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690649597,"post_id":76773498,"comment_id":135384390,"body_markdown":"That looks like a singe row being inserted by one `INSERT`; no batching.  If you do 1000 of those from one client, it will take a few seconds and may or may not interfere with other clients also doing Inserts.","body":"That looks like a singe row being inserted by one <code>INSERT</code>; no batching.  If you do 1000 of those from one client, it will take a few seconds and may or may not interfere with other clients also doing Inserts."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690657954,"post_id":76773498,"comment_id":135385265,"body_markdown":"I thought you wanted to see a one line insert. I put a sample batch insert in the question, or is it something else you mean?","body":"I thought you wanted to see a one line insert. I put a sample batch insert in the question, or is it something else you mean?"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690658904,"post_id":76773498,"comment_id":135385369,"body_markdown":"I&#39;m hoping to see the generated SQL for a sample &quot;batch&quot;.  That may include `START TRANSACTION` and `COMMIT`; I am not fluent in &quot;hibernate&quot;.","body":"I&#39;m hoping to see the generated SQL for a sample &quot;batch&quot;.  That may include <code>START TRANSACTION</code> and <code>COMMIT</code>; I am not fluent in &quot;hibernate&quot;."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690672606,"post_id":76773498,"comment_id":135386595,"body_markdown":"I could not really get the queries but I added some more logs to the question. It gives a little more insight than the ones I added before.","body":"I could not really get the queries but I added some more logs to the question. It gives a little more insight than the ones I added before."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690674032,"post_id":76773498,"comment_id":135386695,"body_markdown":"I just found out that when I add an entity with a collection of a few thousand strings after the batch insert, it shows `o.h.e.i.AbstractFlushingEventListener Flushed: 1 insertions, 0 updates, 0 deletions to 3078 objects` in the logs after every element that is inserted into the element collection. The number of objects increases by 1 after every insert into the collection","body":"I just found out that when I add an entity with a collection of a few thousand strings after the batch insert, it shows <code>o.h.e.i.AbstractFlushingEventListener Flushed: 1 insertions, 0 updates, 0 deletions to 3078 objects</code> in the logs after every element that is inserted into the element collection. The number of objects increases by 1 after every insert into the collection"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690678178,"post_id":76773498,"comment_id":135386938,"body_markdown":"Although the increasing number of objects i talked about in my last comment seems to be the number of managed elements increasing with each item added to the collection. The speed at which it happens is although very slow","body":"Although the increasing number of objects i talked about in my last comment seems to be the number of managed elements increasing with each item added to the collection. The speed at which it happens is although very slow"}],"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690484298,"creation_date":1690390541,"answer_id":76773498,"question_id":76772060,"body_markdown":"Multi-threading is likely to be counter-productive because of needing multiple connections.  (&quot;Connection pooling&quot; addresses a different issue.)\r\n\r\nA batch should be between 100 and 1000 items.  More than that gets into &quot;diminishing returns&quot; and may encounter other things (big buffers, etc) that may slow it down.\r\n\r\nFor further discussion, please provide `SHOW CREATE TABLE` and a sample of the batched query.\r\n\r\n**More**\r\n\r\n47 columns is a lot.  Consider breaking out things like &quot;booking&quot; and its associated columns; discount/cost/credit/etc info; some of the &quot;attributes&quot;; clumps of things that are often NULL; etc.\r\n\r\n&quot;the budget of each booking is the same&quot; -- sounds like this is an excellent case for breaking the booking stuff into another table.\r\n\r\n12 columns are `BIGINT` (8 bytes each); probably none need to be any bigger than `INT` (4 bytes, max +/-2 billion).  This is only a small issue, but shrinking the data _may_ help avoid the conflicts.\r\n\r\nLet&#39;s see a sample `INSERT`.  (You can anonymize any sensitive data.)\r\n\r\n","title":"Hibernate Batch Insert slows down other inserts afterwards","body":"<p>Multi-threading is likely to be counter-productive because of needing multiple connections.  (&quot;Connection pooling&quot; addresses a different issue.)</p>\n<p>A batch should be between 100 and 1000 items.  More than that gets into &quot;diminishing returns&quot; and may encounter other things (big buffers, etc) that may slow it down.</p>\n<p>For further discussion, please provide <code>SHOW CREATE TABLE</code> and a sample of the batched query.</p>\n<p><strong>More</strong></p>\n<p>47 columns is a lot.  Consider breaking out things like &quot;booking&quot; and its associated columns; discount/cost/credit/etc info; some of the &quot;attributes&quot;; clumps of things that are often NULL; etc.</p>\n<p>&quot;the budget of each booking is the same&quot; -- sounds like this is an excellent case for breaking the booking stuff into another table.</p>\n<p>12 columns are <code>BIGINT</code> (8 bytes each); probably none need to be any bigger than <code>INT</code> (4 bytes, max +/-2 billion).  This is only a small issue, but shrinking the data <em>may</em> help avoid the conflicts.</p>\n<p>Let's see a sample <code>INSERT</code>.  (You can anonymize any sensitive data.)</p>\n"}],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690672552,"creation_date":1690379711,"question_id":76772060,"body_markdown":"I am using `Hibernate 5.2.5.Final` and the following code for a batch insert of a few thousand bookings where the budget of each booking is the same and already existed in the DB before the insert:\r\n\r\n\r\n    public List&lt;Long&gt; batchInsertBookings(List&lt;Booking&gt; bookings, String resource) {\r\n      List&lt;Long&gt; generatedIds = new ArrayList&lt;&gt;();\r\n      router.setDataSource(resource);\r\n    \r\n      try (StatelessSession statelessSession = em.unwrap(Session.class).getSessionFactory().openStatelessSession()) {\r\n        int batchSize = 20;\r\n        int numberOfEntities = bookings.size();\r\n        UserTransaction userTransaction = (UserTransaction) new InitialContext().lookup(&quot;java:comp/UserTransaction&quot;);\r\n        userTransaction.begin();\r\n    \r\n        for (int i = 0; i &lt; numberOfEntities; i += batchSize) {\r\n          int endIndex = Math.min(i + batchSize, numberOfEntities);\r\n          List&lt;Booking&gt; batch = bookings.subList(i, endIndex);\r\n    \r\n          // Save the batch data\r\n          for (Booking entity : batch) {\r\n            statelessSession.insert(entity);\r\n          }\r\n    \r\n          // Retrieve the generated IDs after flush\r\n          List&lt;Long&gt; batchIds = batch.stream()\r\n                  .map(IObject::getId)\r\n                  .collect(Collectors.toList());\r\n          generatedIds.addAll(batchIds);\r\n        }\r\n          userTransaction.commit();\r\n        } catch (Exception e) {\r\n          Log.debug(e.getMessage(), getClass().getName());\r\n        }\r\n        return generatedIds;\r\n      }\r\n\r\nThe insert-method is called in a new thread since the batch insert should happen in the background. The batch insert finishes after a reasonable amount of time and the bookings appear in the database. Other than that no further log entries regard the batch insert. After the batch insert one can still use the backend and the fetch operations for data are still comparably fast to before the insert. Although now, if I insert another entity (f.e. with an elementcollection or associations) the insert does not really finish. This regards the main thread as well as the new thread I created for the batch insert. An example for an insert I perform after the batch insert is the insert of a `ChangeLog`-entity with an element collection `diff` of strings, where there is a string for each of the thousands of bookings (which worked really fast before). Here the logs are as follows:\r\n\r\n    2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\r\n    2023-07-26 14:51:49 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\r\n    2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\r\n    2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\r\n    2023-07-26 14:51:50 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\r\n    2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\r\n    2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\r\n    2023-07-26 14:51:51 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\r\n    2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\r\n\r\nwhere we can see that for each string element in the element collection it takes 1 second to persist, which is definetly not normal, since if I dont do the batch insert and still persist such an entity it persists the full entity in a short time.\r\n\r\nIt is worth noticing that my Booking entity is associated to a lot of other enties (where for example `Account` has a good amount of other associations). The most nested are:\r\n\r\n    1 Account   (account)      &lt;-&gt;  (mainBudget) Budget 0..1\r\n    0..1 Budget (parentBudget) &lt;-&gt;  (subBudget) Budget *\r\n    1 Budget (budget) &lt;-&gt; (bookings) Booking *\r\n\r\nAn example for a `OneToMany`- and a `ManyToOne`-mapping for the associations looks like this:\r\n\r\nIn `Booking.java`:\r\n\r\n    @ManyToOne(fetch=FetchType.LAZY, optional= false)\r\n    @JoinColumn(name=&quot;budget_id&quot;)\r\n    @BatchSize(size = 50)\r\n    private Budget budget;\r\nIn `Budget.java`:\r\n\r\n    @OneToMany(targetEntity = Booking.class, mappedBy = &quot;budget&quot;)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    private List&lt;Booking&gt; booking; \r\n\r\nWhat I noticed is that if I batch insert an entity which has no associations the insert after the batch inserts seem to work. I don&#39;t understand why this problem occurs and neither in the performance nor in the query logs I can find why. The query log only shows the queries which are to expect - i.e. batch inserts for the bookings and then after that the ChangeLog inserting as shown above.\r\n\r\nWhat I tried so far:\r\n\r\n 1. I added the `@BatchSize`-annotations to all associations since it\r\n    should be a [solution for the N+1 queries problem][1] if it occurs\r\n    in my case.\r\n 2. I added connection pooling (as can be seen in my `persistence.xml` below)\r\n 3. I used different methods to batch insert. The one I posted here is using a stateless sessions. I also tried using mehtod with a normal session with a custom transaction and another one with `@Transactional` and the `EntityManager` doing all the session work and getting flushed and cleared, or just flushed, after each batch.\r\n 4. I rebuilt the booking entity without the nested associations above (with just a simple one), which is how I found out, that it works faster then.\r\n 5. I fully fetched the bookings before inserting them (in case lazy loading is the issue), although I did not unproxy the accounts, since they are always subclasses and there is some problem with unproxying them and then reassigning them to the entity. It is also notable that if I don&#39;t load the level 1 associations for the booking before the insert I get a `LazyInitializationException`.\r\n 6. I commented out the `ChangeLog` persisting and let the new thread finish, although later the same problem with inserting also occurs in the main thread of the application.\r\n 7. I did everything without the ConnectionPooling at first, neither way it worked.\r\n 8. I removed all `Cascading`, but it should and did not matter since the budget entity for the booking already existed in the database before the insert.\r\n\r\nMy `persistence.xml` for batch inserting and connection pooling looks like this:\r\n\r\n      &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?rewriteBatchedStatements=true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;admin&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;pass&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;20&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value=&quot;true&quot; /&gt;\r\n      &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.default_batch_fetch_size&quot; value=&quot;20&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;com.zaxxer.hikari.hibernate.HikariConnectionProvider&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot; value=&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSource.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSource.user&quot; value=&quot;admin&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSource.password&quot; value=&quot;pass&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot; value=&quot;10&quot;/&gt;\r\n\r\nand I log the following (if you have better ways of logging more relevant data please also let me know):\r\n\r\n      &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt;\r\n      &lt;logger name=&quot;org.hibernate.engine.jdbc.batch.internal.BatchingBatch&quot; level=&quot;DEBUG&quot; /&gt;\r\n      &lt;logger name=&quot;org.hibernate.engine.internal.StatisticalLoggingSessionEventListener&quot; level=&quot;info&quot;/&gt;\r\n\r\nWhy could this happen? \r\n\r\nInformation for answer from @Rick James:\r\n\r\nThose are the SQL Queries for one batch of bookings.\r\n\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    \r\n    ... 17*3 more of the same rows here (i.e. one batch of 20 selects, updates and inserts)\r\n    \r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-27 11:24:05 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\r\n\r\nThe `SHOW CREATE TABLE Booking` statement gives the following output. It is to note here, that there are different types of bookings (depending on the `DTYPE`) with different type of attributes. I renamed all the irrelevant attributes to `someAttributeX`. I.e. the entities that I am trying to persist which are referred to here as `PlainBooking` do not have these attributes.\r\n\r\n    &#39;Booking&#39;, &#39;CREATE TABLE `Booking` (\r\n    `DTYPE` varchar(31) NOT NULL,\r\n    `id` bigint NOT NULL,\r\n    `changeDate` datetime DEFAULT NULL,\r\n    `moneyValue` bigint NOT NULL,\r\n    `text` varchar(255) DEFAULT NULL,\r\n    `date` datetime DEFAULT NULL,\r\n    `isActive` bit(1) NOT NULL,\r\n    `debitor` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute1` bigint DEFAULT NULL,\r\n    `someOtherAttribute2` bigint DEFAULT NULL,\r\n    `someOtherAttribute3` bigint DEFAULT NULL,\r\n    `project` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute4` datetime DEFAULT NULL,\r\n    `someOtherAttribute5` varchar(255) DEFAULT NULL,\r\n    `status` int DEFAULT NULL,\r\n    `someOtherAttribute6` datetime DEFAULT NULL,\r\n    `dateOfCompensation` datetime DEFAULT NULL,\r\n    `type` varchar(255) DEFAULT NULL,\r\n    `receiptDate` datetime DEFAULT NULL,\r\n    `area` varchar(255) DEFAULT NULL,\r\n    `originalMoneyValue` bigint DEFAULT NULL,\r\n    `dateOfBooking` datetime DEFAULT NULL,\r\n    `manualChanges` bit(1) DEFAULT NULL,\r\n    `recorder` varchar(255) DEFAULT NULL,\r\n    `dateOfRecording` datetime DEFAULT NULL,\r\n    `yearOfBusiness` datetime DEFAULT NULL,\r\n    `targetDiscount` bigint DEFAULT NULL,\r\n    `costType` varchar(255) DEFAULT NULL,\r\n    `creditor` varchar(255) DEFAULT NULL,\r\n    `reference` varchar(255) DEFAULT NULL,\r\n    `discount` bigint DEFAULT NULL,\r\n    `tax` bigint DEFAULT NULL,\r\n    `stkz` varchar(255) DEFAULT NULL,\r\n    `cancelationNumber` varchar(255) DEFAULT NULL,\r\n    `paymentReason` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute7` datetime DEFAULT NULL,\r\n    `someOtherAttribute8` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute9` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute10` int DEFAULT NULL,\r\n    `someOtherAttribute11` bit(1) DEFAULT NULL,\r\n    `someOtherAttribute12` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute13` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute14` datetime DEFAULT NULL,\r\n    `budget_id` bigint NOT NULL,\r\n    `someOtherAssociation_id` bigint DEFAULT NULL,\r\n    `reason_id` bigint DEFAULT NULL,\r\n    PRIMARY KEY (`id`),\r\n    KEY `FK2acd5rbfcfpxoy64in0keam4q` (`budget_id`),\r\n    KEY `FKm5a1xte805xlbr4t36glj1mq2` (`someOtherAssociation_id`),\r\n    KEY `FKlj3hrmasc3m12pyt2k9sqie5j` (`reason_id`),\r\n    CONSTRAINT `FK2acd5rbfcfpxoy64in0keam4q` FOREIGN KEY (`budget_id`) REFERENCES `Budget` (`id`),\r\n    CONSTRAINT `FKlj3hrmasc3m12pyt2k9sqie5j` FOREIGN KEY (`reason_id`) REFERENCES `Reason` (`id`),\r\n    CONSTRAINT `FKm5a1xte805xlbr4t36glj1mq2` FOREIGN KEY (`someOtherAssociation_id`) REFERENCES `SomeOtherAssociation` (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci&#39;\r\n\r\nA single insert:\r\n\r\n    2023-07-29 14:48:44 [DEBUG] org.hibernate.SQL insert into Booking_REV (REVTYPE, REVEND, REVEND_TSTMP, changeDate, changeDate_MOD, moneyValue, moneyValue_MOD, text, text_MOD, date, date_MOD, isActive, isActive_MOD, budget_id, budget_MOD, labels_MOD, dateOfCompensation, dateOfCompensation_MOD, type, type_MOD, receiptDate, receiptDate_MOD, area, area_MOD, originalMoneyValue, originalMoneyValue_MOD, dateOfBooking, dateOfBooking_MOD, manualChanges, manualChanges_MOD, recorder, recorder_MOD, dateOfRecording, dateOfRecording_MOD, yearOfBusiness, yearOfBusiness_MOD, targetDiscount, targetDiscount_MOD, costType, costType_MOD, creditor, creditor_MOD, project, creditor_MOD, reference, reference_MOD, discount, discount_MOD, status, status_MOD, tax, tax_MOD, stkz, stkz_MOD, cancelationNumber, cancelationNumber_MOD, paymentReason, paymentReason_MOD, orderNumber_MOD, reason_id, reason_MOD, receiptNumbers_MOD, accountString_MOD, DTYPE, id, REV) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?, ?)\r\n    \r\nLogging `org.hibernate` on `DEBUG` level for batch insert:\r\n    \r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@243dfe80]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    ... 19*3 more of the same lines\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaTransactionCoordinatorImpl Hibernate RegisteredSynchronization successfully registered with JTA platform\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG]org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 6\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\r\n\r\n  [1]: https://hackernoon.com/3-ways-to-deal-with-hibernate-n1-problem\r\n","title":"Hibernate Batch Insert slows down other inserts afterwards","body":"<p>I am using <code>Hibernate 5.2.5.Final</code> and the following code for a batch insert of a few thousand bookings where the budget of each booking is the same and already existed in the DB before the insert:</p>\n<pre><code>public List&lt;Long&gt; batchInsertBookings(List&lt;Booking&gt; bookings, String resource) {\n  List&lt;Long&gt; generatedIds = new ArrayList&lt;&gt;();\n  router.setDataSource(resource);\n\n  try (StatelessSession statelessSession = em.unwrap(Session.class).getSessionFactory().openStatelessSession()) {\n    int batchSize = 20;\n    int numberOfEntities = bookings.size();\n    UserTransaction userTransaction = (UserTransaction) new InitialContext().lookup(&quot;java:comp/UserTransaction&quot;);\n    userTransaction.begin();\n\n    for (int i = 0; i &lt; numberOfEntities; i += batchSize) {\n      int endIndex = Math.min(i + batchSize, numberOfEntities);\n      List&lt;Booking&gt; batch = bookings.subList(i, endIndex);\n\n      // Save the batch data\n      for (Booking entity : batch) {\n        statelessSession.insert(entity);\n      }\n\n      // Retrieve the generated IDs after flush\n      List&lt;Long&gt; batchIds = batch.stream()\n              .map(IObject::getId)\n              .collect(Collectors.toList());\n      generatedIds.addAll(batchIds);\n    }\n      userTransaction.commit();\n    } catch (Exception e) {\n      Log.debug(e.getMessage(), getClass().getName());\n    }\n    return generatedIds;\n  }\n</code></pre>\n<p>The insert-method is called in a new thread since the batch insert should happen in the background. The batch insert finishes after a reasonable amount of time and the bookings appear in the database. Other than that no further log entries regard the batch insert. After the batch insert one can still use the backend and the fetch operations for data are still comparably fast to before the insert. Although now, if I insert another entity (f.e. with an elementcollection or associations) the insert does not really finish. This regards the main thread as well as the new thread I created for the batch insert. An example for an insert I perform after the batch insert is the insert of a <code>ChangeLog</code>-entity with an element collection <code>diff</code> of strings, where there is a string for each of the thousands of bookings (which worked really fast before). Here the logs are as follows:</p>\n<pre><code>2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\n2023-07-26 14:51:49 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\n2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\n2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\n2023-07-26 14:51:50 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\n2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\n2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\n2023-07-26 14:51:51 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\n2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\n</code></pre>\n<p>where we can see that for each string element in the element collection it takes 1 second to persist, which is definetly not normal, since if I dont do the batch insert and still persist such an entity it persists the full entity in a short time.</p>\n<p>It is worth noticing that my Booking entity is associated to a lot of other enties (where for example <code>Account</code> has a good amount of other associations). The most nested are:</p>\n<pre><code>1 Account   (account)      &lt;-&gt;  (mainBudget) Budget 0..1\n0..1 Budget (parentBudget) &lt;-&gt;  (subBudget) Budget *\n1 Budget (budget) &lt;-&gt; (bookings) Booking *\n</code></pre>\n<p>An example for a <code>OneToMany</code>- and a <code>ManyToOne</code>-mapping for the associations looks like this:</p>\n<p>In <code>Booking.java</code>:</p>\n<pre><code>@ManyToOne(fetch=FetchType.LAZY, optional= false)\n@JoinColumn(name=&quot;budget_id&quot;)\n@BatchSize(size = 50)\nprivate Budget budget;\n</code></pre>\n<p>In <code>Budget.java</code>:</p>\n<pre><code>@OneToMany(targetEntity = Booking.class, mappedBy = &quot;budget&quot;)\n@Fetch(value = FetchMode.SUBSELECT)\nprivate List&lt;Booking&gt; booking; \n</code></pre>\n<p>What I noticed is that if I batch insert an entity which has no associations the insert after the batch inserts seem to work. I don't understand why this problem occurs and neither in the performance nor in the query logs I can find why. The query log only shows the queries which are to expect - i.e. batch inserts for the bookings and then after that the ChangeLog inserting as shown above.</p>\n<p>What I tried so far:</p>\n<ol>\n<li>I added the <code>@BatchSize</code>-annotations to all associations since it\nshould be a <a href=\"https://hackernoon.com/3-ways-to-deal-with-hibernate-n1-problem\" rel=\"nofollow noreferrer\">solution for the N+1 queries problem</a> if it occurs\nin my case.</li>\n<li>I added connection pooling (as can be seen in my <code>persistence.xml</code> below)</li>\n<li>I used different methods to batch insert. The one I posted here is using a stateless sessions. I also tried using mehtod with a normal session with a custom transaction and another one with <code>@Transactional</code> and the <code>EntityManager</code> doing all the session work and getting flushed and cleared, or just flushed, after each batch.</li>\n<li>I rebuilt the booking entity without the nested associations above (with just a simple one), which is how I found out, that it works faster then.</li>\n<li>I fully fetched the bookings before inserting them (in case lazy loading is the issue), although I did not unproxy the accounts, since they are always subclasses and there is some problem with unproxying them and then reassigning them to the entity. It is also notable that if I don't load the level 1 associations for the booking before the insert I get a <code>LazyInitializationException</code>.</li>\n<li>I commented out the <code>ChangeLog</code> persisting and let the new thread finish, although later the same problem with inserting also occurs in the main thread of the application.</li>\n<li>I did everything without the ConnectionPooling at first, neither way it worked.</li>\n<li>I removed all <code>Cascading</code>, but it should and did not matter since the budget entity for the booking already existed in the database before the insert.</li>\n</ol>\n<p>My <code>persistence.xml</code> for batch inserting and connection pooling looks like this:</p>\n<pre><code>  &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?rewriteBatchedStatements=true&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;admin&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;pass&quot;/&gt;\n  &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;20&quot;/&gt;\n  &lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\n  &lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\n  &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value=&quot;true&quot; /&gt;\n  &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot;/&gt;\n  &lt;property name=&quot;hibernate.default_batch_fetch_size&quot; value=&quot;20&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;com.zaxxer.hikari.hibernate.HikariConnectionProvider&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot; value=&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSource.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSource.user&quot; value=&quot;admin&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSource.password&quot; value=&quot;pass&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot; value=&quot;10&quot;/&gt;\n</code></pre>\n<p>and I log the following (if you have better ways of logging more relevant data please also let me know):</p>\n<pre><code>  &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt;\n  &lt;logger name=&quot;org.hibernate.engine.jdbc.batch.internal.BatchingBatch&quot; level=&quot;DEBUG&quot; /&gt;\n  &lt;logger name=&quot;org.hibernate.engine.internal.StatisticalLoggingSessionEventListener&quot; level=&quot;info&quot;/&gt;\n</code></pre>\n<p>Why could this happen?</p>\n<p>Information for answer from @Rick James:</p>\n<p>Those are the SQL Queries for one batch of bookings.</p>\n<pre><code>2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n\n... 17*3 more of the same rows here (i.e. one batch of 20 selects, updates and inserts)\n\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-27 11:24:05 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\n</code></pre>\n<p>The <code>SHOW CREATE TABLE Booking</code> statement gives the following output. It is to note here, that there are different types of bookings (depending on the <code>DTYPE</code>) with different type of attributes. I renamed all the irrelevant attributes to <code>someAttributeX</code>. I.e. the entities that I am trying to persist which are referred to here as <code>PlainBooking</code> do not have these attributes.</p>\n<pre><code>'Booking', 'CREATE TABLE `Booking` (\n`DTYPE` varchar(31) NOT NULL,\n`id` bigint NOT NULL,\n`changeDate` datetime DEFAULT NULL,\n`moneyValue` bigint NOT NULL,\n`text` varchar(255) DEFAULT NULL,\n`date` datetime DEFAULT NULL,\n`isActive` bit(1) NOT NULL,\n`debitor` varchar(255) DEFAULT NULL,\n`someOtherAttribute1` bigint DEFAULT NULL,\n`someOtherAttribute2` bigint DEFAULT NULL,\n`someOtherAttribute3` bigint DEFAULT NULL,\n`project` varchar(255) DEFAULT NULL,\n`someOtherAttribute4` datetime DEFAULT NULL,\n`someOtherAttribute5` varchar(255) DEFAULT NULL,\n`status` int DEFAULT NULL,\n`someOtherAttribute6` datetime DEFAULT NULL,\n`dateOfCompensation` datetime DEFAULT NULL,\n`type` varchar(255) DEFAULT NULL,\n`receiptDate` datetime DEFAULT NULL,\n`area` varchar(255) DEFAULT NULL,\n`originalMoneyValue` bigint DEFAULT NULL,\n`dateOfBooking` datetime DEFAULT NULL,\n`manualChanges` bit(1) DEFAULT NULL,\n`recorder` varchar(255) DEFAULT NULL,\n`dateOfRecording` datetime DEFAULT NULL,\n`yearOfBusiness` datetime DEFAULT NULL,\n`targetDiscount` bigint DEFAULT NULL,\n`costType` varchar(255) DEFAULT NULL,\n`creditor` varchar(255) DEFAULT NULL,\n`reference` varchar(255) DEFAULT NULL,\n`discount` bigint DEFAULT NULL,\n`tax` bigint DEFAULT NULL,\n`stkz` varchar(255) DEFAULT NULL,\n`cancelationNumber` varchar(255) DEFAULT NULL,\n`paymentReason` varchar(255) DEFAULT NULL,\n`someOtherAttribute7` datetime DEFAULT NULL,\n`someOtherAttribute8` varchar(255) DEFAULT NULL,\n`someOtherAttribute9` varchar(255) DEFAULT NULL,\n`someOtherAttribute10` int DEFAULT NULL,\n`someOtherAttribute11` bit(1) DEFAULT NULL,\n`someOtherAttribute12` varchar(255) DEFAULT NULL,\n`someOtherAttribute13` varchar(255) DEFAULT NULL,\n`someOtherAttribute14` datetime DEFAULT NULL,\n`budget_id` bigint NOT NULL,\n`someOtherAssociation_id` bigint DEFAULT NULL,\n`reason_id` bigint DEFAULT NULL,\nPRIMARY KEY (`id`),\nKEY `FK2acd5rbfcfpxoy64in0keam4q` (`budget_id`),\nKEY `FKm5a1xte805xlbr4t36glj1mq2` (`someOtherAssociation_id`),\nKEY `FKlj3hrmasc3m12pyt2k9sqie5j` (`reason_id`),\nCONSTRAINT `FK2acd5rbfcfpxoy64in0keam4q` FOREIGN KEY (`budget_id`) REFERENCES `Budget` (`id`),\nCONSTRAINT `FKlj3hrmasc3m12pyt2k9sqie5j` FOREIGN KEY (`reason_id`) REFERENCES `Reason` (`id`),\nCONSTRAINT `FKm5a1xte805xlbr4t36glj1mq2` FOREIGN KEY (`someOtherAssociation_id`) REFERENCES `SomeOtherAssociation` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci'\n</code></pre>\n<p>A single insert:</p>\n<pre><code>2023-07-29 14:48:44 [DEBUG] org.hibernate.SQL insert into Booking_REV (REVTYPE, REVEND, REVEND_TSTMP, changeDate, changeDate_MOD, moneyValue, moneyValue_MOD, text, text_MOD, date, date_MOD, isActive, isActive_MOD, budget_id, budget_MOD, labels_MOD, dateOfCompensation, dateOfCompensation_MOD, type, type_MOD, receiptDate, receiptDate_MOD, area, area_MOD, originalMoneyValue, originalMoneyValue_MOD, dateOfBooking, dateOfBooking_MOD, manualChanges, manualChanges_MOD, recorder, recorder_MOD, dateOfRecording, dateOfRecording_MOD, yearOfBusiness, yearOfBusiness_MOD, targetDiscount, targetDiscount_MOD, costType, costType_MOD, creditor, creditor_MOD, project, creditor_MOD, reference, reference_MOD, discount, discount_MOD, status, status_MOD, tax, tax_MOD, stkz, stkz_MOD, cancelationNumber, cancelationNumber_MOD, paymentReason, paymentReason_MOD, orderNumber_MOD, reason_id, reason_MOD, receiptNumbers_MOD, accountString_MOD, DTYPE, id, REV) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?, ?)\n</code></pre>\n<p>Logging <code>org.hibernate</code> on <code>DEBUG</code> level for batch insert:</p>\n<pre><code>2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@243dfe80]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n... 19*3 more of the same lines\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\n2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaTransactionCoordinatorImpl Hibernate RegisteredSynchronization successfully registered with JTA platform\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG]org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 6\n2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\n</code></pre>\n"},{"tags":["java","spring","spring-boot","module","get-request"],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690671401,"creation_date":1690671401,"answer_id":76795732,"question_id":76795337,"body_markdown":"When you imported **backend-module** to **front-end module** - you just added all entire codebase from backend to frontend, which means that **frontend will have its own @RestController and will run copy of that routes**. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you want independency between FE and BE - you have to make it via REST API using [Feign][2] or other similar library. (FE will call HTTP call to BE)\r\n\r\n\r\n----------\r\n\r\n\r\nP.S\r\nYou can even create 3 module which will contain libraries and code for communication between services. \r\n\r\n\r\n----------\r\n\r\n\r\nP.P.S. If you use Vaadin - i would recommend to take a look at [Hilla.dev][3] by Vaadin. In by opinion its much more straightforward and native way of developing both FE and BE side. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JbvNm.png\r\n  [2]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\r\n  [3]: https://hilla.dev/","title":"Spring modules can use other module port","body":"<p>When you imported <strong>backend-module</strong> to <strong>front-end module</strong> - you just added all entire codebase from backend to frontend, which means that <strong>frontend will have its own @RestController and will run copy of that routes</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/JbvNm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbvNm.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want independency between FE and BE - you have to make it via REST API using <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\" rel=\"nofollow noreferrer\">Feign</a> or other similar library. (FE will call HTTP call to BE)</p>\n<hr />\n<p>P.S\nYou can even create 3 module which will contain libraries and code for communication between services.</p>\n<hr />\n<p>P.P.S. If you use Vaadin - i would recommend to take a look at <a href=\"https://hilla.dev/\" rel=\"nofollow noreferrer\">Hilla.dev</a> by Vaadin. In by opinion its much more straightforward and native way of developing both FE and BE side.</p>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690671401,"creation_date":1690662121,"question_id":76795337,"body_markdown":"In my project I created two modules, frontend-module and backend-module, where frontend is responsible for user interface and backend for API and other stuff.\r\n\r\n```\r\nfrontend-module/\r\n└── src/\r\n    └── main/\r\n        └── java/\r\n            └── com/\r\n                └── example/\r\n                    └── application/\r\n                        ├── pages/\r\n                        ├── components/\r\n                        └── scripts/\r\n\r\nbackend-module/\r\n└── src/\r\n    └── main/\r\n        └── java/\r\n            └── com/\r\n                └── example/\r\n                    └── application/\r\n                        ├── controllers/\r\n                        ├── services/\r\n                        ├── repositories/\r\n                        ├── entities/\r\n                        └── dtos/\r\n```\r\n\r\nSo I set up ports for each module, where:&lt;br&gt;\r\n\r\n**Frontend**\r\n```\r\nserver.port=${PORT:3008}\r\n```\r\n**Backend** \r\n```\r\nserver.port=${PORT:8008}\r\n```\r\n\r\n---\r\nWhen I start application, I do start both modules `frontend` and `backend`, and this is what I found. For some reason, I can access `backend`&#39;s module API from `frontend` port. Another interesting thing that I can successfully run just frontend module without backend, and everything will work properly. So my question is, why this is happening and how can I prevent this. \r\n\r\n**Backend port**\r\n\r\n[![8008 port][1]][1]\r\n\r\n**Frontend port**\r\n\r\n[![3008 port][2]][2]\r\n\r\n\r\n\r\n---\r\n**Additional information**\r\n- Frontend module is dependent on backend module.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;backend-module&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n- My perfect scenario is having independent API, and dependent front from backend. Where I can secure my API in a way and front on other way.\r\n- For this case, on accessing URL `localhost:3008/api/get` should give not found page\r\n- Template GitHub URL - https://github.com/Alexenon/SpringModules\r\n\r\n  [1]: https://i.stack.imgur.com/N7qeB.png\r\n  [2]: https://i.stack.imgur.com/ueLEH.png","title":"Spring modules can use other module port","body":"<p>In my project I created two modules, frontend-module and backend-module, where frontend is responsible for user interface and backend for API and other stuff.</p>\n<pre><code>frontend-module/\n└── src/\n    └── main/\n        └── java/\n            └── com/\n                └── example/\n                    └── application/\n                        ├── pages/\n                        ├── components/\n                        └── scripts/\n\nbackend-module/\n└── src/\n    └── main/\n        └── java/\n            └── com/\n                └── example/\n                    └── application/\n                        ├── controllers/\n                        ├── services/\n                        ├── repositories/\n                        ├── entities/\n                        └── dtos/\n</code></pre>\n<p>So I set up ports for each module, where:<br></p>\n<p><strong>Frontend</strong></p>\n<pre><code>server.port=${PORT:3008}\n</code></pre>\n<p><strong>Backend</strong></p>\n<pre><code>server.port=${PORT:8008}\n</code></pre>\n<hr />\n<p>When I start application, I do start both modules <code>frontend</code> and <code>backend</code>, and this is what I found. For some reason, I can access <code>backend</code>'s module API from <code>frontend</code> port. Another interesting thing that I can successfully run just frontend module without backend, and everything will work properly. So my question is, why this is happening and how can I prevent this.</p>\n<p><strong>Backend port</strong></p>\n<p><a href=\"https://i.stack.imgur.com/N7qeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N7qeB.png\" alt=\"8008 port\" /></a></p>\n<p><strong>Frontend port</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ueLEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ueLEH.png\" alt=\"3008 port\" /></a></p>\n<hr />\n<p><strong>Additional information</strong></p>\n<ul>\n<li>Frontend module is dependent on backend module.</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;backend-module&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>My perfect scenario is having independent API, and dependent front from backend. Where I can secure my API in a way and front on other way.</li>\n<li>For this case, on accessing URL <code>localhost:3008/api/get</code> should give not found page</li>\n<li>Template GitHub URL - <a href=\"https://github.com/Alexenon/SpringModules\" rel=\"nofollow noreferrer\">https://github.com/Alexenon/SpringModules</a></li>\n</ul>\n"},{"tags":["java","android","apiclient","android-api-31","fast-android-networking"],"owner":{"account_id":28419881,"reputation":1,"user_id":21742092,"display_name":"Prashant Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690671081,"creation_date":1686940990,"question_id":76492849,"body_markdown":"I have been working on a project and using the fast android networking api. I have added the below dependency - ( implementation &#39;com.amitshekhar.android:android-networking:1.0.2&#39;) in the gradle module file and also added the internet permission in Android Manifesto File. Still Android Studio is not able to fetch the &quot;AndroidNetworking&quot; Class and it&#39;s giving it as red underlined.\r\n```\r\nGradle module\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.apirequestusingfastandroidnetworking&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.apirequestusingfastandroidnetworking&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.amitshekhar.android:android-networking:1.0.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n\r\n```\r\npackage com.example.apirequestusingfastandroidnetworking;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        \r\n        String url= &quot;https://jsonplaceholder.typicode.com/users&quot;;  //using get api\r\n\r\n        AndroidNetworking.initialize(this);\r\n        AndroidNetworking.get(url);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCan somebody tell me that what could be issue bcoz of which android id not fetching the &quot;AndroidNetworking&quot;.","title":"Error in using Fast Android Networking API in project","body":"<p>I have been working on a project and using the fast android networking api. I have added the below dependency - ( implementation 'com.amitshekhar.android:android-networking:1.0.2') in the gradle module file and also added the internet permission in Android Manifesto File. Still Android Studio is not able to fetch the &quot;AndroidNetworking&quot; Class and it's giving it as red underlined.</p>\n<pre><code>Gradle module\nplugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.apirequestusingfastandroidnetworking'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.apirequestusingfastandroidnetworking&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.amitshekhar.android:android-networking:1.0.2'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<pre><code>package com.example.apirequestusingfastandroidnetworking;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        \n        String url= &quot;https://jsonplaceholder.typicode.com/users&quot;;  //using get api\n\n        AndroidNetworking.initialize(this);\n        AndroidNetworking.get(url);\n    }\n}\n</code></pre>\n<p>Can somebody tell me that what could be issue bcoz of which android id not fetching the &quot;AndroidNetworking&quot;.</p>\n"},{"tags":["java","kotlin","swing","desktop","jetbrains-compose"],"comments":[{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687094191,"post_id":76500655,"comment_id":134886092,"body_markdown":"I know how to set position, I don&#39;t know WHERE I should set it as there&#39;s no API (at least I cannot find) to locate system tray icon position (x &amp; y). I shown example in my question.","body":"I know how to set position, I don&#39;t know WHERE I should set it as there&#39;s no API (at least I cannot find) to locate system tray icon position (x &amp; y). I shown example in my question."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687094598,"post_id":76500655,"comment_id":134886140,"body_markdown":"You put the icon in the system tray and Windows calculates the position of the icon in the system tray.  Here&#39;s [my system tray](https://i.imgur.com/yDQNb0j.png) as an example.","body":"You put the icon in the system tray and Windows calculates the position of the icon in the system tray.  Here&#39;s <a href=\"https://i.imgur.com/yDQNb0j.png\" rel=\"nofollow noreferrer\">my system tray</a> as an example."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687094969,"post_id":76500655,"comment_id":134886180,"body_markdown":"yes and how does it solve my question? I still cannot put my window under / above (depending on the system) this tray icon. Because I need to somehow get the position of this icon.","body":"yes and how does it solve my question? I still cannot put my window under / above (depending on the system) this tray icon. Because I need to somehow get the position of this icon."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687095115,"post_id":76500655,"comment_id":134886192,"body_markdown":"my application is helper app that should appear only if user clicked on tray icon (and disappear in the same way). And this app should appear at this icon, not somewhere else.","body":"my application is helper app that should appear only if user clicked on tray icon (and disappear in the same way). And this app should appear at this icon, not somewhere else."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687095710,"post_id":76500655,"comment_id":134886252,"body_markdown":"I supplemented question with video where I showed how it looks right now. I want same behaviour (without problems I mention ofc), but using normal location of the icon.","body":"I supplemented question with video where I showed how it looks right now. I want same behaviour (without problems I mention ofc), but using normal location of the icon."},{"owner":{"account_id":13919843,"reputation":877,"user_id":10050576,"display_name":"Giuliopime"},"score":0,"creation_date":1688803207,"post_id":76500655,"comment_id":135125330,"body_markdown":"I&#39;m trying to figure this out too, I wish Jetbrains would make a demo on how they made their Toolbox app with compose. It would really help the community and the project docs.\nAlso, did you manage to hide the application icon in the dock? Did you do so from the info.plist or in another way?","body":"I&#39;m trying to figure this out too, I wish Jetbrains would make a demo on how they made their Toolbox app with compose. It would really help the community and the project docs. Also, did you manage to hide the application icon in the dock? Did you do so from the info.plist or in another way?"},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1689201855,"post_id":76500655,"comment_id":135181657,"body_markdown":"@Giuliopime, for now, I just hide it programically (just using visible property in compose window)","body":"@Giuliopime, for now, I just hide it programically (just using visible property in compose window)"},{"owner":{"account_id":13919843,"reputation":877,"user_id":10050576,"display_name":"Giuliopime"},"score":0,"creation_date":1689248250,"post_id":76500655,"comment_id":135188104,"body_markdown":"Btw you coudl simply save the first opened position and then open it always in that position, would work too well with multiple monitors tho","body":"Btw you coudl simply save the first opened position and then open it always in that position, would work too well with multiple monitors tho"},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":1,"creation_date":1689628647,"post_id":76500655,"comment_id":135238012,"body_markdown":"@Giuliopime if user will change his system bar position (for example, from top to bottom) we will have invalid behaviour. For now, I found solution for Windows, but still in search about Linux (it&#39;s the most hard part as there&#39;s a lot of system tray providers) and MacOS (can&#39;t even find system API for it).\n\nLeave it for those who needs that – https://github.com/timemates/app/blob/dev/foundation/system-tray/src/main/kotlin/io/timemates/desktop/systray/WindowsTrayIconPositionProvider.kt#L9 (I haven&#39;t tested as I work on MacOS, but seems to be working well).","body":"@Giuliopime if user will change his system bar position (for example, from top to bottom) we will have invalid behaviour. For now, I found solution for Windows, but still in search about Linux (it&#39;s the most hard part as there&#39;s a lot of system tray providers) and MacOS (can&#39;t even find system API for it).  Leave it for those who needs that – <a href=\"https://github.com/timemates/app/blob/dev/foundation/system-tray/src/main/kotlin/io/timemates/desktop/systray/WindowsTrayIconPositionProvider.kt#L9\" rel=\"nofollow noreferrer\">github.com/timemates/app/blob/dev/foundation/system-tray/src&zwnj;&#8203;/&hellip;</a> (I haven&#39;t tested as I work on MacOS, but seems to be working well)."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690529739,"post_id":76500655,"comment_id":135369413,"body_markdown":"Note that the toolbox app doesn&#39;t really work that well on Ubuntu. It uses a context menu on the icon to open the window, instead of opening on click like on Mac/Windows. And it&#39;s not undecorated but has the ugly default window bar.","body":"Note that the toolbox app doesn&#39;t really work that well on Ubuntu. It uses a context menu on the icon to open the window, instead of opening on click like on Mac/Windows. And it&#39;s not undecorated but has the ugly default window bar."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1690544140,"post_id":76500655,"comment_id":135372232,"body_markdown":"sure, I would like to know at least about how can I implement it on Windows / MacOS (this platforms have much more priority for me)","body":"sure, I would like to know at least about how can I implement it on Windows / MacOS (this platforms have much more priority for me)"}],"answers":[{"comments":[{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":1,"creation_date":1690732390,"post_id":76795704,"comment_id":135391203,"body_markdown":"what about other platforms? and is there any example on what I can take a look? really appreciate","body":"what about other platforms? and is there any example on what I can take a look? really appreciate"}],"tags":[],"owner":{"account_id":3696585,"reputation":11,"user_id":3077761,"display_name":"Jason091"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690670697,"creation_date":1690670697,"answer_id":76795704,"question_id":76500655,"body_markdown":"The system tray API in Java allows you to interact with a tray icon (add it, remove it, update its image or tooltip, etc.), but it does not provide a way to query its position on the screen. The mouse events associated with a tray icon provide coordinates relative to the icon itself, not the screen.\r\n\r\nOn Windows, you would need to interact with the Shell_TrayWnd and TrayNotifyWnd Windows controls that manage the system tray area and its icons. This would require calling Windows API functions and handling Windows messages, which cannot be done directly in Java, but would require using JNI or a third-party library like JNA (Java Native Access) or JNR (Java Native Runtime).","title":"Determinite position (x, y) of specific system tray icon","body":"<p>The system tray API in Java allows you to interact with a tray icon (add it, remove it, update its image or tooltip, etc.), but it does not provide a way to query its position on the screen. The mouse events associated with a tray icon provide coordinates relative to the icon itself, not the screen.</p>\n<p>On Windows, you would need to interact with the Shell_TrayWnd and TrayNotifyWnd Windows controls that manage the system tray area and its icons. This would require calling Windows API functions and handling Windows messages, which cannot be done directly in Java, but would require using JNI or a third-party library like JNA (Java Native Access) or JNR (Java Native Runtime).</p>\n"}],"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690670697,"creation_date":1687093049,"question_id":76500655,"body_markdown":"## Question\r\nI&#39;m working on a desktop application using Jetbrains Compose, but I&#39;m open to solutions using Swing (it&#39;s used under the hood) as well. I want to implement a feature where the application window is initially located at the system tray icon, similar to how JetBrains Toolbox behaves (I want to place an (undecorated) window close to the tray icon).\r\n\r\n### Examples\r\n| [![screenshot example][1]][1] | [![enter image description here][2]][2] |\r\n|-------------------------------|-----------------------------------------|\r\n\r\nI have tried using mouse events to detect clicks on the tray icon and position the window accordingly, but that approach doesn&#39;t achieve the desired behavior. It actually works, but window sometimes is jumping (depending on where I clicked and solution overall looks weird). \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n#### My previous solution\r\nI publish my solution for case someone need it:\r\n```kotlin\r\ninternal object XTray {\r\n\r\n    fun initialize(image: Image, onClick: (x: Int, y: Int) -&gt; Unit) {\r\n        createTrayIcon(image, onClick)\r\n    }\r\n\r\n    private fun createTrayIcon(\r\n        image: Image,\r\n        onClick: (x: Int, y: Int) -&gt; Unit,\r\n    ): TrayIcon {\r\n        val systemTray = SystemTray.getSystemTray()\r\n\r\n        val trayIcon = TrayIcon(image, &quot;Open X&quot;)\r\n\r\n        trayIcon.popupMenu = PopupMenu(&quot;X&quot;)\r\n\r\n        trayIcon.addMouseListener(createTrayMouseListener { x, y -&gt;\r\n            onClick(x, y)\r\n        })\r\n\r\n        systemTray.add(trayIcon)\r\n\r\n        return trayIcon\r\n    }\r\n\r\n    private fun createTrayMouseListener(\r\n        onClick: (x: Int, y: Int) -&gt; Unit,\r\n    ): MouseAdapter {\r\n        return object : MouseAdapter() {\r\n            override fun mouseClicked(e: MouseEvent?) {\r\n                e ?: return\r\n\r\n                if (SwingUtilities.isLeftMouseButton(e)) {\r\n                    println(&quot;${e.x} &amp; ${e.y}&quot;)\r\n                    onClick(calculateWindowX(e.x), calculateWindowY(e.y))\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun calculateWindowX(\r\n        trayCenterX: Int,\r\n        windowWidth: Int = 350,\r\n        screenWidth: Int = Toolkit.getDefaultToolkit().screenSize.width,\r\n    ): Int {\r\n        val halfWindowWidth = windowWidth / 2\r\n\r\n        return when {\r\n            trayCenterX - halfWindowWidth &lt; 0 -&gt; 0 // Tray icon is closer to the left edge\r\n            trayCenterX + halfWindowWidth &gt; screenWidth -&gt; screenWidth - windowWidth // Tray icon is closer to the right edge\r\n            else -&gt; trayCenterX - halfWindowWidth // Tray icon is in the middle of the screen\r\n        }\r\n    }\r\n\r\n    private fun calculateWindowY(\r\n        trayCenterY: Int,\r\n        windowHeight: Int = 650,\r\n        screenHeight: Int = Toolkit.getDefaultToolkit().screenSize.height,\r\n    ): Int {\r\n        val halfWindowHeight = windowHeight / 2\r\n\r\n        return when {\r\n            trayCenterY - halfWindowHeight &lt; 0 -&gt; 0 // Tray icon is closer to the top edge\r\n            trayCenterY + halfWindowHeight &gt; screenHeight -&gt; screenHeight - windowHeight // Tray icon is closer to the bottom edge\r\n            else -&gt; trayCenterY - halfWindowHeight // Tray icon is in the middle of the screen\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOther applications, like JetBrains Toolbox, show their window at startup, without any need to locate a icon by click on that icon. So, there&#39;s should be another solution.\r\n\r\nI suspect that I need to use system APIs to accomplish this, but I&#39;m wondering if there is a ready-made solution or library that provides this functionality. It seems like a common feature, and I don&#39;t want to reinvent the wheel.\r\n\r\nI&#39;d like to look at examples, but I can&#39;t find them.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jOOr3.png\r\n  [2]: https://i.stack.imgur.com/NzviU.png\r\n  [3]: https://i.stack.imgur.com/hMSDt.gif","title":"Determinite position (x, y) of specific system tray icon","body":"<h2>Question</h2>\n<p>I'm working on a desktop application using Jetbrains Compose, but I'm open to solutions using Swing (it's used under the hood) as well. I want to implement a feature where the application window is initially located at the system tray icon, similar to how JetBrains Toolbox behaves (I want to place an (undecorated) window close to the tray icon).</p>\n<h3>Examples</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th><a href=\"https://i.stack.imgur.com/jOOr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOOr3.png\" alt=\"screenshot example\" /></a></th>\n<th><a href=\"https://i.stack.imgur.com/NzviU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzviU.png\" alt=\"enter image description here\" /></a></th>\n</tr>\n</thead>\n</table>\n</div>\n<p>I have tried using mouse events to detect clicks on the tray icon and position the window accordingly, but that approach doesn't achieve the desired behavior. It actually works, but window sometimes is jumping (depending on where I clicked and solution overall looks weird).</p>\n<p><a href=\"https://i.stack.imgur.com/hMSDt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMSDt.gif\" alt=\"enter image description here\" /></a></p>\n<h4>My previous solution</h4>\n<p>I publish my solution for case someone need it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>internal object XTray {\n\n    fun initialize(image: Image, onClick: (x: Int, y: Int) -&gt; Unit) {\n        createTrayIcon(image, onClick)\n    }\n\n    private fun createTrayIcon(\n        image: Image,\n        onClick: (x: Int, y: Int) -&gt; Unit,\n    ): TrayIcon {\n        val systemTray = SystemTray.getSystemTray()\n\n        val trayIcon = TrayIcon(image, &quot;Open X&quot;)\n\n        trayIcon.popupMenu = PopupMenu(&quot;X&quot;)\n\n        trayIcon.addMouseListener(createTrayMouseListener { x, y -&gt;\n            onClick(x, y)\n        })\n\n        systemTray.add(trayIcon)\n\n        return trayIcon\n    }\n\n    private fun createTrayMouseListener(\n        onClick: (x: Int, y: Int) -&gt; Unit,\n    ): MouseAdapter {\n        return object : MouseAdapter() {\n            override fun mouseClicked(e: MouseEvent?) {\n                e ?: return\n\n                if (SwingUtilities.isLeftMouseButton(e)) {\n                    println(&quot;${e.x} &amp; ${e.y}&quot;)\n                    onClick(calculateWindowX(e.x), calculateWindowY(e.y))\n                }\n            }\n        }\n    }\n\n    private fun calculateWindowX(\n        trayCenterX: Int,\n        windowWidth: Int = 350,\n        screenWidth: Int = Toolkit.getDefaultToolkit().screenSize.width,\n    ): Int {\n        val halfWindowWidth = windowWidth / 2\n\n        return when {\n            trayCenterX - halfWindowWidth &lt; 0 -&gt; 0 // Tray icon is closer to the left edge\n            trayCenterX + halfWindowWidth &gt; screenWidth -&gt; screenWidth - windowWidth // Tray icon is closer to the right edge\n            else -&gt; trayCenterX - halfWindowWidth // Tray icon is in the middle of the screen\n        }\n    }\n\n    private fun calculateWindowY(\n        trayCenterY: Int,\n        windowHeight: Int = 650,\n        screenHeight: Int = Toolkit.getDefaultToolkit().screenSize.height,\n    ): Int {\n        val halfWindowHeight = windowHeight / 2\n\n        return when {\n            trayCenterY - halfWindowHeight &lt; 0 -&gt; 0 // Tray icon is closer to the top edge\n            trayCenterY + halfWindowHeight &gt; screenHeight -&gt; screenHeight - windowHeight // Tray icon is closer to the bottom edge\n            else -&gt; trayCenterY - halfWindowHeight // Tray icon is in the middle of the screen\n        }\n    }\n}\n</code></pre>\n<p>Other applications, like JetBrains Toolbox, show their window at startup, without any need to locate a icon by click on that icon. So, there's should be another solution.</p>\n<p>I suspect that I need to use system APIs to accomplish this, but I'm wondering if there is a ready-made solution or library that provides this functionality. It seems like a common feature, and I don't want to reinvent the wheel.</p>\n<p>I'd like to look at examples, but I can't find them.</p>\n"},{"tags":["java","performance","file","bufferedreader","bufferedinputstream"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1690671016,"post_id":76795698,"comment_id":135386475,"body_markdown":"You already have a buffer with the `BufferedReader`. Adding a second buffer is unlikely to change much, a 10% penalty for buffering your buffer sounds reasonable.","body":"You already have a buffer with the <code>BufferedReader</code>. Adding a second buffer is unlikely to change much, a 10% penalty for buffering your buffer sounds reasonable."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":1,"creation_date":1690795301,"post_id":76795698,"comment_id":135397665,"body_markdown":"You don&#39;t need to double buffer. But you can increase the performance by choosing the buffer capacity. Default value is `8192`. Depending on your system and the file you read, a higher value might be better.","body":"You don&#39;t need to double buffer. But you can increase the performance by choosing the buffer capacity. Default value is <code>8192</code>. Depending on your system and the file you read, a higher value might be better."},{"owner":{"account_id":1046766,"reputation":3474,"user_id":1051589,"accept_rate":56,"display_name":"joker"},"score":0,"creation_date":1690898409,"post_id":76795698,"comment_id":135415263,"body_markdown":"Thanks @Sascha. I tried manipulating the buffer but there was no considerable performance gain. In fact, sometimes performance was worse. I tired to make the inputstream buffer much higher than the bufferedreader, then tried the reverse. So, it seems, generally a bufferedreader on top of a normal fileinputstream without buffering on the bytes level is good enough.","body":"Thanks @Sascha. I tried manipulating the buffer but there was no considerable performance gain. In fact, sometimes performance was worse. I tired to make the inputstream buffer much higher than the bufferedreader, then tried the reverse. So, it seems, generally a bufferedreader on top of a normal fileinputstream without buffering on the bytes level is good enough."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690899154,"post_id":76795698,"comment_id":135415466,"body_markdown":"Might be worth checking if nio gives you any improvement: `try (BufferedReader in = Files.newBufferedReader(Path.of(&quot;x.txt&quot;), StandardCharsets.UTF_8)) {...}`","body":"Might be worth checking if nio gives you any improvement: <code>try (BufferedReader in = Files.newBufferedReader(Path.of(&quot;x.txt&quot;), StandardCharsets.UTF_8)) {...}</code>"}],"owner":{"account_id":1046766,"reputation":3474,"user_id":1051589,"accept_rate":56,"display_name":"joker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690670500,"creation_date":1690670500,"question_id":76795698,"body_markdown":"Is there any performance gain if we have:\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(new BufferedInputStream(new FileInputStream(&quot;SOME_FILE&quot;)), StandardCharsets.UTF_8))\r\n\r\nNotice that I added `BufferedInputStream`, which is unusual, to my experience.\r\n\r\nUsually, it goes with out the added intermediate buffered input stream:\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;&quot;), StandardCharsets.UTF_8))\r\n\r\nIf there&#39;s a performance difference or not, how can I measure it?\r\n\r\nWhat I tried is reading ~30 MB text file using both approaches, 3 times each.\r\n\r\nTo my surprise, without the buffered input stream was around 10% faster than its buffered correspondent.\r\n\r\nI don&#39;t know if there are cases where the buffered version shine over the other or it&#39;s just a redundant buffering causing more overhead than it&#39;s useful.","title":"BufferedReader on top of BufferedInputStream VS BufferedReader on top of FileInputStream","body":"<p>Is there any performance gain if we have:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(new BufferedInputStream(new FileInputStream(&quot;SOME_FILE&quot;)), StandardCharsets.UTF_8))\n</code></pre>\n<p>Notice that I added <code>BufferedInputStream</code>, which is unusual, to my experience.</p>\n<p>Usually, it goes with out the added intermediate buffered input stream:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;&quot;), StandardCharsets.UTF_8))\n</code></pre>\n<p>If there's a performance difference or not, how can I measure it?</p>\n<p>What I tried is reading ~30 MB text file using both approaches, 3 times each.</p>\n<p>To my surprise, without the buffered input stream was around 10% faster than its buffered correspondent.</p>\n<p>I don't know if there are cases where the buffered version shine over the other or it's just a redundant buffering causing more overhead than it's useful.</p>\n"},{"tags":["java","spring","spring-boot","native","flyway"],"answers":[{"tags":[],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690667877,"creation_date":1690667877,"answer_id":76795612,"question_id":76792652,"body_markdown":"This is a known issue, and currently not going to be fixed.\r\nhttps://github.com/spring-projects/spring-boot/issues/31999","title":"Unable to scan location: /db/migration (unsupported protocol: resource) in spring boot (only native mode)","body":"<p>This is a known issue, and currently not going to be fixed.\n<a href=\"https://github.com/spring-projects/spring-boot/issues/31999\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31999</a></p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690667877,"creation_date":1690617964,"question_id":76792652,"body_markdown":"I am using:\r\n**Spring boot 3.1.2** and **flyway-core:9.21.0** in native image mode\r\nWhen an application starts I am getting \r\n\r\n&gt; Unable to scan location: /db/migration (unsupported protocol:\r\n&gt; resource)\r\n\r\nfrom\r\n\r\n&gt; org.flywaydb.core.internal.scanner.classpath.ClassPathScanner\r\n\r\nStill, the migrations are scanned and applied successfully.\r\n\r\nCould you please help to understand is this message is just an &quot;artifact&quot; and i can disregard this, or does it really affects functionality? And in case it&#39;s not affecting, how can i get rid of it?\r\n\r\nTnx","title":"Unable to scan location: /db/migration (unsupported protocol: resource) in spring boot (only native mode)","body":"<p>I am using:\n<strong>Spring boot 3.1.2</strong> and <strong>flyway-core:9.21.0</strong> in native image mode\nWhen an application starts I am getting</p>\n<blockquote>\n<p>Unable to scan location: /db/migration (unsupported protocol:\nresource)</p>\n</blockquote>\n<p>from</p>\n<blockquote>\n<p>org.flywaydb.core.internal.scanner.classpath.ClassPathScanner</p>\n</blockquote>\n<p>Still, the migrations are scanned and applied successfully.</p>\n<p>Could you please help to understand is this message is just an &quot;artifact&quot; and i can disregard this, or does it really affects functionality? And in case it's not affecting, how can i get rid of it?</p>\n<p>Tnx</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"comments":[{"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"score":0,"creation_date":1312606305,"post_id":6770272,"comment_id":8305679,"body_markdown":"what exactly is the Extended data of a channel?","body":"what exactly is the Extended data of a channel?"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1312633574,"post_id":6770272,"comment_id":8308169,"body_markdown":"In practice, this contains the content which the command/shell outputs to the &quot;standard error&quot; output stream. In theory, also other types of extended data would be thinkable, but [RFC 4254](http://tools.ietf.org/html/rfc4254#section-5.2) defines only this type, and JSch does not allow distinguishing between different types.","body":"In practice, this contains the content which the command/shell outputs to the &quot;standard error&quot; output stream. In theory, also other types of extended data would be thinkable, but <a href=\"http://tools.ietf.org/html/rfc4254#section-5.2\" rel=\"nofollow noreferrer\">RFC 4254</a> defines only this type, and JSch does not allow distinguishing between different types."}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1459613835,"creation_date":1311210292,"answer_id":6770272,"question_id":6770206,"body_markdown":"An overview about the differences and similarities between these streams you can find at &#187;[Shell, Exec or Subsystem Channel][1]&#171; in the JSch wiki. Here some details for your use case.\r\n\r\n\r\nIn the [**`exec` channel**][2], the commands come from the command string you did give with `setCommand()`. The SSH server will pass them at once to the shell (using something like `bash -c &#39;&lt;command&gt;&#39;`).\r\n\r\nThey will all be executed, if the shell does not somehow exit before for some reason. (You could send a whole shell script here which implements some logic using `if` and similar, if this is wanted.)\r\n\r\nSo, to execute multiple commands, you could pass them to the exec channel by separating them with `;` or newline (`\\n`). As you can&#39;t wait for the results before giving all the commands, here you can only use multiple exec channels (but as each channel spawns a new shell, they don&#39;t conserve state between them, like working directory or shell variables).\r\n\r\n\r\nIn the [**`shell` channel**][3], the shell will read input from the stream, and interpret the first line as a command (or several ones).\r\n\r\nThen it will execute this command. The command itself might read more input from the stream, if it wants.\r\n\r\nThen the shell will read the next line, interpret it as a command, and execute.\r\n\r\n(In some cases the shell has to read more than one line, for example for long strings or composed commands like if or loops.)\r\n\r\nThis will go on until either the end of the stream (e.g. stream.close() at your side) or executing an explicit exit command.\r\n\r\n\r\nIf you don&#39;t send any input to the shell via the channels input/output stream, the shell will simply wait until you either send more or close the stream. Thus you can quietly read the output of one command, do some calculations on the client side and then decide which command to send next.\r\n\r\nJust make sure you don&#39;t mix input to one command with the text of the next command - preferably don&#39;t use any commands which will read from standard input.\r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/apps/mediawiki/jsch/index.php?title=Shell,_Exec_or_Subsystem_Channel\r\n  [2]: http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelExec.html\r\n  [3]: http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelShell.html","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>An overview about the differences and similarities between these streams you can find at »<a href=\"http://sourceforge.net/apps/mediawiki/jsch/index.php?title=Shell,_Exec_or_Subsystem_Channel\" rel=\"noreferrer\">Shell, Exec or Subsystem Channel</a>« in the JSch wiki. Here some details for your use case.</p>\n\n<p>In the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelExec.html\" rel=\"noreferrer\"><strong><code>exec</code> channel</strong></a>, the commands come from the command string you did give with <code>setCommand()</code>. The SSH server will pass them at once to the shell (using something like <code>bash -c '&lt;command&gt;'</code>).</p>\n\n<p>They will all be executed, if the shell does not somehow exit before for some reason. (You could send a whole shell script here which implements some logic using <code>if</code> and similar, if this is wanted.)</p>\n\n<p>So, to execute multiple commands, you could pass them to the exec channel by separating them with <code>;</code> or newline (<code>\\n</code>). As you can't wait for the results before giving all the commands, here you can only use multiple exec channels (but as each channel spawns a new shell, they don't conserve state between them, like working directory or shell variables).</p>\n\n<p>In the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelShell.html\" rel=\"noreferrer\"><strong><code>shell</code> channel</strong></a>, the shell will read input from the stream, and interpret the first line as a command (or several ones).</p>\n\n<p>Then it will execute this command. The command itself might read more input from the stream, if it wants.</p>\n\n<p>Then the shell will read the next line, interpret it as a command, and execute.</p>\n\n<p>(In some cases the shell has to read more than one line, for example for long strings or composed commands like if or loops.)</p>\n\n<p>This will go on until either the end of the stream (e.g. stream.close() at your side) or executing an explicit exit command.</p>\n\n<p>If you don't send any input to the shell via the channels input/output stream, the shell will simply wait until you either send more or close the stream. Thus you can quietly read the output of one command, do some calculations on the client side and then decide which command to send next.</p>\n\n<p>Just make sure you don't mix input to one command with the text of the next command - preferably don't use any commands which will read from standard input.</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1311458098,"post_id":6771417,"comment_id":8077713,"body_markdown":"Actually, you can pass multiple commands to an exec channel - or a composite command, so to say. Simply separate them by `;` or `\\n`.","body":"Actually, you can pass multiple commands to an exec channel - or a composite command, so to say. Simply separate them by <code>;</code> or <code>\\n</code>."},{"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"score":1,"creation_date":1311485101,"post_id":6771417,"comment_id":8080134,"body_markdown":"@Paŭlo I would tend to call it &quot;compound command&quot;. Also this is unix-specific notation -- in Windows it doesn&#39;t seem work (with cmd.exe, of course).","body":"@Paŭlo I would tend to call it &quot;compound command&quot;. Also this is unix-specific notation -- in Windows it doesn&#39;t seem work (with cmd.exe, of course)."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1311485383,"post_id":6771417,"comment_id":8080148,"body_markdown":"Right about the term - was to lazy to look it up. In general, this will depend on the shell (or interaction of the SSH server with the shell) - if cmd.exe does not accept multiple commands, bad for Windows users :-( (I have no Windows here to check this.)","body":"Right about the term - was to lazy to look it up. In general, this will depend on the shell (or interaction of the SSH server with the shell) - if cmd.exe does not accept multiple commands, bad for Windows users :-( (I have no Windows here to check this.)"},{"owner":{"account_id":482571,"reputation":3920,"user_id":897041,"accept_rate":87,"display_name":"Muhammad Gelbana"},"score":2,"creation_date":1348820035,"post_id":6771417,"comment_id":17040519,"body_markdown":"It can be done for windows using `&amp;` (i.e. The same effect of `;` on linux). Much more info can be found here (`&amp;&amp;`, `||`, `()`) https://www.google.com.eg/search?q=cmd+multiple+commands&amp;sugexp=chrome,mod=0&amp;sourceid=chrome&amp;ie=UTF-8","body":"It can be done for windows using <code>&amp;</code> (i.e. The same effect of <code>;</code> on linux). Much more info can be found here (<code>&amp;&amp;</code>, <code>||</code>, <code>()</code>) <a href=\"https://www.google.com.eg/search?q=cmd+multiple+commands&amp;sugexp=chrome,mod=0&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">google.com.eg/&hellip;</a>"},{"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"score":0,"creation_date":1350683196,"post_id":6771417,"comment_id":17608891,"body_markdown":"i have a problem with sourcing a script in the first ;=delimited token of a composite command, it sets and exports a var but the second part of the composite command does not see it.  e.g. &quot;. ./.profile; echo $SOME_VAR_FROM_PROFILE&quot; returns blank for the echo.  any idea?","body":"i have a problem with sourcing a script in the first ;=delimited token of a composite command, it sets and exports a var but the second part of the composite command does not see it.  e.g. &quot;. ./.profile; echo $SOME_VAR_FROM_PROFILE&quot; returns blank for the echo.  any idea?"}],"tags":[],"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690664965,"creation_date":1311224234,"answer_id":6771417,"question_id":6770206,"body_markdown":"With shell channel the shell (on Unix it&#39;s `sh` or `bash` or something like that, on Windows it&#39;s usually `cmd.exe`) is started and console is created (the same you see on the screen if you run them locally). You have a prompt which you can parse or use for detection of completion of command. \r\n\r\nWith command channel a shell instance is started for each command (actually the channel is opened for each command) and a command is passed as a parameter for the shell (on Windows it would look like &quot;`cmd.exe /c &lt;your command here&gt;`&quot;. \r\n\r\nIt&#39;s easier to use command channel cause you don&#39;t need to deal with command prompt. ","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>With shell channel the shell (on Unix it's <code>sh</code> or <code>bash</code> or something like that, on Windows it's usually <code>cmd.exe</code>) is started and console is created (the same you see on the screen if you run them locally). You have a prompt which you can parse or use for detection of completion of command.</p>\n<p>With command channel a shell instance is started for each command (actually the channel is opened for each command) and a command is passed as a parameter for the shell (on Windows it would look like &quot;<code>cmd.exe /c &lt;your command here&gt;</code>&quot;.</p>\n<p>It's easier to use command channel cause you don't need to deal with command prompt.</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1311295652,"post_id":6780058,"comment_id":8050389,"body_markdown":"You could try to switch off the terminal on the server side - maybe the shell then will not echo the commands. (Something like channel.setPty(false). Though I&#39;m not sure what would be the default here.)","body":"You could try to switch off the terminal on the server side - maybe the shell then will not echo the commands. (Something like channel.setPty(false). Though I&#39;m not sure what would be the default here.)"},{"owner":{"account_id":3286732,"reputation":1603,"user_id":2766041,"accept_rate":63,"display_name":"Ragesh Kr"},"score":0,"creation_date":1419569989,"post_id":6780058,"comment_id":43722911,"body_markdown":"I tried this code and is working fine. But after connecting there are lot of messages getting displayed.. How to have control over the output such that only the commanders output alone gets displayed ??","body":"I tried this code and is working fine. But after connecting there are lot of messages getting displayed.. How to have control over the output such that only the commanders output alone gets displayed ??"},{"owner":{"account_id":6289587,"reputation":2463,"user_id":4887726,"accept_rate":66,"display_name":"LoranceChen"},"score":0,"creation_date":1509937614,"post_id":6780058,"comment_id":81208312,"body_markdown":"@RageshKr, do you means get every command separately? Add split string to distinct command border, for example, `commander.println(&quot;echo &#39;COMMAND_BEGIN&#39;&quot;);`  `commander.println(&quot;ls -la&quot;);`  `commander.println(&quot;echo &#39;COMMAND_END&#39;&quot;);`","body":"@RageshKr, do you means get every command separately? Add split string to distinct command border, for example, <code>commander.println(&quot;echo &#39;COMMAND_BEGIN&#39;&quot;);</code>  <code>commander.println(&quot;ls -la&quot;);</code>  <code>commander.println(&quot;echo &#39;COMMAND_END&#39;&quot;);</code>"}],"tags":[],"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1690664892,"creation_date":1311268734,"answer_id":6780058,"question_id":6770206,"body_markdown":"well, I found out that this works and it&#39;s really convenient if you want to preserve state like a regular shell would:\r\n\r\n    Session session = jsch.getSession(user, host, 22);\r\n    \r\n    Channel channel = session.openChannel(&quot;shell&quot;);\r\n    \t\t\r\n    OutputStream inputstream_for_the_channel = channel.getOutputStream();\r\n    PrintStream commander = new PrintStream(inputstream_for_the_channel, true);\r\n    \t\t\r\n    channel.setOutputStream(System.out, true);\r\n    \t\t\r\n    channel.connect();\r\n    \r\n    commander.println(&quot;ls -la&quot;);\t\r\n    commander.println(&quot;cd folder&quot;);\r\n    commander.println(&quot;ls -la&quot;);\r\n    commander.println(&quot;exit&quot;);\r\n    commander.close();\r\n    \t\t\r\n    do {\r\n        Thread.sleep(1000);\r\n    } while(!channel.isEOF());\r\n    \t\t\r\n    session.disconnect();\r\n\r\nYou could change \r\n\r\n    channel.setOutputStream(System.out, true);\r\n\r\nto\r\n\r\n    InputStream outputstream_from_the_channel = channel.getInputStream();\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(outputstream_from_the_channel));\r\n    String line;\r\n    while ((line = br.readLine()) != null)\r\n        System.out.print(line+&quot;\\n&quot;);\r\n\r\nif you want more control over the output.\r\n\r\n=============================================================================\r\n\r\nEDITED: follow up\r\n\r\nwhy sometimes the commands I send through the PrintStream appear randomly in the output. i.e.\r\nthe following code: \r\n\r\n    shell[0].println(&quot;cd ..&quot;);\r\n    shell[0].println(&quot;cd ..&quot;);\r\n    shell[0].println(&quot;ls -la&quot;);\r\n    shell[0].println(&quot;exit&quot;);\r\n\r\nproduces this:\r\n(marked with {thing} are things that shouldnt be there!)\r\n\r\n&gt; Last login: Thu Jul 21 21:49:13 2011 from gateway\r\n&gt; \r\n&gt; Manifests: trunk-latest\r\n&gt;   \r\n&gt; [host ~]$ cd ..     \r\n&gt; {cd ..}[host home]$     \r\n&gt; [host home]$ cd ..    \r\n&gt; [host /]$    \r\n&gt; [host /]$ ls -la    \r\n&gt; {exit}   \r\n&gt;     \r\n&gt;      \r\n&gt; total 9999  \r\n&gt; ----------  27 root root  4096 Jan 26  2010 .          \r\n&gt; ----------  27 root root  4096 Jan 26  2010 ..  \r\n&gt; ----------   1 root root     0 Mar 14 19:16 .autojyk  \r\n&gt; ----------   1 root root     0 Feb  9  2009 .automan  \r\n&gt; ----------   1 root root  3550 May 14  2010 .bash_history  \r\n&gt; d---------   2 root root  4096 Apr 26 04:02 put    \r\n&gt; d---------   5 root root  4024 Apr 25 19:31 boot     \r\n&gt; [m[host /]$    \r\n&gt; [host /]$ exit   \r\n&gt; logout\r\n\r\n","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>well, I found out that this works and it's really convenient if you want to preserve state like a regular shell would:</p>\n<pre><code>Session session = jsch.getSession(user, host, 22);\n\nChannel channel = session.openChannel(&quot;shell&quot;);\n        \nOutputStream inputstream_for_the_channel = channel.getOutputStream();\nPrintStream commander = new PrintStream(inputstream_for_the_channel, true);\n        \nchannel.setOutputStream(System.out, true);\n        \nchannel.connect();\n\ncommander.println(&quot;ls -la&quot;);    \ncommander.println(&quot;cd folder&quot;);\ncommander.println(&quot;ls -la&quot;);\ncommander.println(&quot;exit&quot;);\ncommander.close();\n        \ndo {\n    Thread.sleep(1000);\n} while(!channel.isEOF());\n        \nsession.disconnect();\n</code></pre>\n<p>You could change</p>\n<pre><code>channel.setOutputStream(System.out, true);\n</code></pre>\n<p>to</p>\n<pre><code>InputStream outputstream_from_the_channel = channel.getInputStream();\nBufferedReader br = new BufferedReader(new InputStreamReader(outputstream_from_the_channel));\nString line;\nwhile ((line = br.readLine()) != null)\n    System.out.print(line+&quot;\\n&quot;);\n</code></pre>\n<p>if you want more control over the output.</p>\n<p>=============================================================================</p>\n<p>EDITED: follow up</p>\n<p>why sometimes the commands I send through the PrintStream appear randomly in the output. i.e.\nthe following code:</p>\n<pre><code>shell[0].println(&quot;cd ..&quot;);\nshell[0].println(&quot;cd ..&quot;);\nshell[0].println(&quot;ls -la&quot;);\nshell[0].println(&quot;exit&quot;);\n</code></pre>\n<p>produces this:\n(marked with {thing} are things that shouldnt be there!)</p>\n<blockquote>\n<p>Last login: Thu Jul 21 21:49:13 2011 from gateway</p>\n<p>Manifests: trunk-latest</p>\n<p>[host ~]$ cd ..<br />\n{cd ..}[host home]$<br />\n[host home]$ cd ..<br />\n[host /]$<br />\n[host /]$ ls -la<br />\n{exit}</p>\n<p>total 9999<br />\n----------  27 root root  4096 Jan 26  2010 .<br />\n----------  27 root root  4096 Jan 26  2010 ..<br />\n----------   1 root root     0 Mar 14 19:16 .autojyk<br />\n----------   1 root root     0 Feb  9  2009 .automan<br />\n----------   1 root root  3550 May 14  2010 .bash_history<br />\nd---------   2 root root  4096 Apr 26 04:02 put<br />\nd---------   5 root root  4024 Apr 25 19:31 boot<br />\n[m[host /]$<br />\n[host /]$ exit<br />\nlogout</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1601618943,"creation_date":1561188763,"answer_id":56713547,"question_id":6770206,"body_markdown":"It&#39;s not so much about JSch. It&#39;s about how the server implements the two channels.\r\n\r\n---\r\n\r\nIn common *nix OpenSSH server:\r\n\r\n- The `shell` channel executes a login shell (as if you login with SSH terminal client). The shell will then present a command prompt and wait for client/user to type the commands. The purpose of the `shell` channel is to implement an interactive shell session. That is something one will do very very rarely. If you do, you typically want to use terminal emulation.\r\n\r\n    The `shell` channel is obviously used by SSH terminal clients (like OpenSSH `ssh` or PuTTY), under normal circumstances.\r\n\r\n    The `shell` channel is a black box with an input and output. The input and output have no structure. If you for example execute a command by sending it to the input, you will never be able to tell when it ended. If you send two commands to input queue, you won&#39;t be able to distinguish what output comes from what command.\r\n\r\n- The `exec` command takes a command as an &quot;argument&quot; and executes it in an isolated environment &amp;ndash; still via user&#39;s default shell, but not as a &quot;login&quot; shell, what may cause significant differences in the command execution.  \r\n\r\n    The purpose of the `exec` channel is automating a command execution. So typically you do not want to use a terminal emulation, to avoid the command to do fancy stuff like pagination, coloring and mainly interactive confirmations.\r\n\r\n    `exec` channel is used by OpenSSH `ssh` or PuTTY `plink`, when you specify a command to execute on its command line:\r\n\r\n    ``` none\r\n    ssh user@host command\r\n    ```\r\n\r\n---\r\n\r\nWith less common SSH servers, the difference can be even more significant. Some servers may even not support one of the channels. It is also quite common that they seemingly support both, but one of them (typically the `exec`) is completely broken.\r\n\r\n---\r\n\r\nThere&#39;s a similar question for Python/Paramiko:   \r\nhttps://stackoverflow.com/q/55762006/850848","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>It's not so much about JSch. It's about how the server implements the two channels.</p>\n<hr />\n<p>In common *nix OpenSSH server:</p>\n<ul>\n<li><p>The <code>shell</code> channel executes a login shell (as if you login with SSH terminal client). The shell will then present a command prompt and wait for client/user to type the commands. The purpose of the <code>shell</code> channel is to implement an interactive shell session. That is something one will do very very rarely. If you do, you typically want to use terminal emulation.</p>\n<p>The <code>shell</code> channel is obviously used by SSH terminal clients (like OpenSSH <code>ssh</code> or PuTTY), under normal circumstances.</p>\n<p>The <code>shell</code> channel is a black box with an input and output. The input and output have no structure. If you for example execute a command by sending it to the input, you will never be able to tell when it ended. If you send two commands to input queue, you won't be able to distinguish what output comes from what command.</p>\n</li>\n<li><p>The <code>exec</code> command takes a command as an &quot;argument&quot; and executes it in an isolated environment – still via user's default shell, but not as a &quot;login&quot; shell, what may cause significant differences in the command execution.</p>\n<p>The purpose of the <code>exec</code> channel is automating a command execution. So typically you do not want to use a terminal emulation, to avoid the command to do fancy stuff like pagination, coloring and mainly interactive confirmations.</p>\n<p><code>exec</code> channel is used by OpenSSH <code>ssh</code> or PuTTY <code>plink</code>, when you specify a command to execute on its command line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh user@host command\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>With less common SSH servers, the difference can be even more significant. Some servers may even not support one of the channels. It is also quite common that they seemingly support both, but one of them (typically the <code>exec</code>) is completely broken.</p>\n<hr />\n<p>There's a similar question for Python/Paramiko:<br />\n<a href=\"https://stackoverflow.com/q/55762006/850848\">What is the difference between exec_command and send with invoke_shell() on Paramiko?</a></p>\n"}],"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43681,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6771417,"answer_count":4,"score":31,"last_activity_date":1690664965,"creation_date":1311209342,"question_id":6770206,"body_markdown":"I want to be able to send many consecutive command represented as strings within a Java application to a SSH server for execution. Should I use: \r\n\r\n    Channel channel = session.openChannel(&quot;shell&quot;);\r\n\r\n-or-\r\n\r\n    Channel channel = session.openChannel(&quot;exec&quot;);","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>I want to be able to send many consecutive command represented as strings within a Java application to a SSH server for execution. Should I use: </p>\n\n<pre><code>Channel channel = session.openChannel(\"shell\");\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>Channel channel = session.openChannel(\"exec\");\n</code></pre>\n"},{"tags":["java","multithreading","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1690669244,"post_id":76795410,"comment_id":135386361,"body_markdown":"See if something from the `Animation` API like `Timeline` or `AnimationTimer` can help","body":"See if something from the <code>Animation</code> API like <code>Timeline</code> or <code>AnimationTimer</code> can help"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690669491,"post_id":76795410,"comment_id":135386373,"body_markdown":"So, that code should fail to compile, as `parseInt` returns an `int`, and `setText` expects a `String`. But I&#39;ll assume that&#39;s a mistake only in your question and in your real code you actually use something like `Integer.toString(i)`. Now, a quick fix for your code would be to use `String text = Integer.toString(i); Platform.runLater(() -&gt; textArea.setText(text));`. However, using background threads for something like this is overkill and makes everything harder. You should do as SedJ601 suggests and use an animation.","body":"So, that code should fail to compile, as <code>parseInt</code> returns an <code>int</code>, and <code>setText</code> expects a <code>String</code>. But I&#39;ll assume that&#39;s a mistake only in your question and in your real code you actually use something like <code>Integer.toString(i)</code>. Now, a quick fix for your code would be to use <code>String text = Integer.toString(i); Platform.runLater(() -&gt; textArea.setText(text));</code>. However, using background threads for something like this is overkill and makes everything harder. You should do as SedJ601 suggests and use an animation."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690669633,"post_id":76795410,"comment_id":135386386,"body_markdown":"See https://stackoverflow.com/a/60685975/6395627 for some more information.","body":"See <a href=\"https://stackoverflow.com/a/60685975/6395627\">stackoverflow.com/a/60685975/6395627</a> for some more information."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690696993,"post_id":76795410,"comment_id":135387831,"body_markdown":"[JavaFX countdown using timeline and displaying as a label](https://stackoverflow.com/questions/67578178/javafx-countdown-using-timeline-and-displaying-as-a-label)","body":"<a href=\"https://stackoverflow.com/questions/67578178/javafx-countdown-using-timeline-and-displaying-as-a-label\">JavaFX countdown using timeline and displaying as a label</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690699689,"post_id":76795410,"comment_id":135388034,"body_markdown":"https://stackoverflow.com/questions/50626831/how-to-set-up-two-timelines-to-one-app/50627639#50627639","body":"<a href=\"https://stackoverflow.com/questions/50626831/how-to-set-up-two-timelines-to-one-app/50627639#50627639\" title=\"how to set up two timelines to one app\">stackoverflow.com/questions/50626831/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1690718303,"post_id":76795410,"comment_id":135389639,"body_markdown":"Understand that JavaFX is, by design, single threaded, **you must not**: *Modify JavaFX TextArea with a Thread other than &quot;JavaFX Application Thread&quot;*.  Techniques suggested in comments, don&#39;t actually modify the node from another thread at all.  All animation events and timeline events occur only on the JavaFX thread.   `runLater` calls schedule the thing to run later on the JavaFX application thread.  [Why?](https://web.archive.org/web/20120122082554/http://weblogs.java.net/blog/kgh/archive/2004/10/multithreaded_t.html)","body":"Understand that JavaFX is, by design, single threaded, <b>you must not</b>: <i>Modify JavaFX TextArea with a Thread other than &quot;JavaFX Application Thread&quot;</i>.  Techniques suggested in comments, don&#39;t actually modify the node from another thread at all.  All animation events and timeline events occur only on the JavaFX thread.   <code>runLater</code> calls schedule the thing to run later on the JavaFX application thread.  <a href=\"https://web.archive.org/web/20120122082554/http://weblogs.java.net/blog/kgh/archive/2004/10/multithreaded_t.html\" rel=\"nofollow noreferrer\">Why?</a>"}],"owner":{"account_id":27132096,"reputation":53,"user_id":20674162,"display_name":"nick16384"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690663556,"creation_date":1690663556,"question_id":76795410,"body_markdown":"My problem is that I have a JavaFX TextArea and want to update its contents in a separate thread to show new text instantly instead of a bunch after the method has finished.\r\nSay, for example, I wanted to build a timer. In the current case, the TextArea would show 10 at the beginning, then I would press the &quot;Start&quot; button, wait ten seconds and a zero shows up. If this works multithreaded, it would count down from ten to zero with all the numbers in between.\r\n\r\nHere&#39;s a sample code:\r\n```\r\nTextArea textArea = new TextArea();\r\nButton button = new Button(&quot;Start&quot;);\r\nGridPane root = new GridPane();\r\nroot.add(textArea);\r\nroot.add(button);\r\n\r\nbutton.setOnMouseClicked((event) -&gt; {\r\n   new Thread(() -&gt; {\r\n      for (int i = 10; i &gt;= 0; i--) {\r\n         textArea.setText(Integer.parseInt(i));\r\n         try { Thread.sleep(1000); }\r\n         catch (InterruptedException ie) { ie.printStackTrace(); }\r\n      }\r\n   }).start();\r\n});\r\n```\r\n\r\n\r\n\r\nThis code ends in an `IndexOutOfBoundsException` in the `FX Application Thread` for me, which only shows up when the `setOnMouseClicked` event is executed in another thread.\r\nIt works for both the &quot;FX Application Thread&quot; and the &quot;Main&quot; thread.\r\n","title":"Modify JavaFX TextArea with a Thread other than &quot;JavaFX Application Thread&quot; and &quot;Main&quot;","body":"<p>My problem is that I have a JavaFX TextArea and want to update its contents in a separate thread to show new text instantly instead of a bunch after the method has finished.\nSay, for example, I wanted to build a timer. In the current case, the TextArea would show 10 at the beginning, then I would press the &quot;Start&quot; button, wait ten seconds and a zero shows up. If this works multithreaded, it would count down from ten to zero with all the numbers in between.</p>\n<p>Here's a sample code:</p>\n<pre><code>TextArea textArea = new TextArea();\nButton button = new Button(&quot;Start&quot;);\nGridPane root = new GridPane();\nroot.add(textArea);\nroot.add(button);\n\nbutton.setOnMouseClicked((event) -&gt; {\n   new Thread(() -&gt; {\n      for (int i = 10; i &gt;= 0; i--) {\n         textArea.setText(Integer.parseInt(i));\n         try { Thread.sleep(1000); }\n         catch (InterruptedException ie) { ie.printStackTrace(); }\n      }\n   }).start();\n});\n</code></pre>\n<p>This code ends in an <code>IndexOutOfBoundsException</code> in the <code>FX Application Thread</code> for me, which only shows up when the <code>setOnMouseClicked</code> event is executed in another thread.\nIt works for both the &quot;FX Application Thread&quot; and the &quot;Main&quot; thread.</p>\n"},{"tags":["java","arrays","arraylist","collections"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1690661571,"post_id":76795151,"comment_id":135385649,"body_markdown":"This sounds like an actively bad idea.  Generally, you will have a specific use case in mind.","body":"This sounds like an actively bad idea.  Generally, you will have a specific use case in mind."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1690662254,"post_id":76795151,"comment_id":135385726,"body_markdown":"This sounds too general. PHP also has thing such as a list, a set or a stack. Each of them has different usages, no single data structure fits all purposes.","body":"This sounds too general. PHP also has thing such as a list, a set or a stack. Each of them has different usages, no single data structure fits all purposes."},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1690792954,"post_id":76795151,"comment_id":135397203,"body_markdown":"I code in bot PHP and Java - the approaches are too different. I would recommend looking at the Java way to do stuff, since you will defeinitely paint yourself into corners and tight spots if you try do do &quot;the same as in PHP&quot; in  java","body":"I code in bot PHP and Java - the approaches are too different. I would recommend looking at the Java way to do stuff, since you will defeinitely paint yourself into corners and tight spots if you try do do &quot;the same as in PHP&quot; in  java"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690663210,"creation_date":1690663210,"answer_id":76795393,"question_id":76795151,"body_markdown":"As a new user of Java you are likely being overwhelmed by the number of *implementations* of collections that are offered. You really don&#39;t need to worry about that too much to start with. Rather focus on the *interfaces* which describe how you plan to interact with the collection. There aren&#39;t too many of those. In fact there are really only three that you need to think about when you&#39;re starting to learn the language: `List`, `Set` and `Map`. Start by picking which of those makes sense for your application and then write all your code to that interface. Which implementation of the interface you use is in only one place - when the collection is constructed - and is very easy to change at a later time if you write for the interface.","title":"All-in-one Collection in Java","body":"<p>As a new user of Java you are likely being overwhelmed by the number of <em>implementations</em> of collections that are offered. You really don't need to worry about that too much to start with. Rather focus on the <em>interfaces</em> which describe how you plan to interact with the collection. There aren't too many of those. In fact there are really only three that you need to think about when you're starting to learn the language: <code>List</code>, <code>Set</code> and <code>Map</code>. Start by picking which of those makes sense for your application and then write all your code to that interface. Which implementation of the interface you use is in only one place - when the collection is constructed - and is very easy to change at a later time if you write for the interface.</p>\n"}],"owner":{"account_id":20473314,"reputation":31,"user_id":15023218,"display_name":"Nordeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76795393,"answer_count":1,"score":-1,"last_activity_date":1690663210,"creation_date":1690658855,"question_id":76795151,"body_markdown":"I am coming from PHP/laravel to JAVA/springboot.\r\n\r\nIn PHP we have only one type of collection which is called array that according to PHP community it&#39;s using hash table. \r\n\r\nJava it have a lot of collections and when read about their advantage over each other it&#39;s confusing to know which one to use.\r\n\r\nIs there any package or let&#39;s say a collection in java include all features for each type of collection it have and switch between those collection objects according to operation used as search, insert, update and delete.\r\n\r\nand if not, What advice did you give to me, solution for using them ? ","title":"All-in-one Collection in Java","body":"<p>I am coming from PHP/laravel to JAVA/springboot.</p>\n<p>In PHP we have only one type of collection which is called array that according to PHP community it's using hash table.</p>\n<p>Java it have a lot of collections and when read about their advantage over each other it's confusing to know which one to use.</p>\n<p>Is there any package or let's say a collection in java include all features for each type of collection it have and switch between those collection objects according to operation used as search, insert, update and delete.</p>\n<p>and if not, What advice did you give to me, solution for using them ?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1690661364,"post_id":76795044,"comment_id":135385623,"body_markdown":"You never initialize `fStore`. See the question I linked to learn how to troubleshoot this error going forward, and the documentation on [initializing Firestore in your Android app](https://firebase.google.com/docs/firestore/quickstart#kotlin+ktx_1) to learn how to initialize a reference to Firestore.","body":"You never initialize <code>fStore</code>. See the question I linked to learn how to troubleshoot this error going forward, and the documentation on <a href=\"https://firebase.google.com/docs/firestore/quickstart#kotlin+ktx_1\" rel=\"nofollow noreferrer\">initializing Firestore in your Android app</a> to learn how to initialize a reference to Firestore."}],"answers":[{"comments":[{"owner":{"account_id":13584166,"reputation":81,"user_id":9799333,"display_name":"Noor "},"score":0,"creation_date":1690657553,"post_id":76795072,"comment_id":135385217,"body_markdown":"it&#39;s there, code line 39 **FirebaseFirestore fStore;**","body":"it&#39;s there, code line 39 <b>FirebaseFirestore fStore;</b>"},{"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"score":0,"creation_date":1690657802,"post_id":76795072,"comment_id":135385251,"body_markdown":"That is where you declare it, but I do not see it&#39;s value being set anywhere.  In Java that means it will default to NULL.  I think you probably mean to set it to a reference to Firebase Firestore.  I don&#39;t recall the Java syntax for this, but in JavaScript you would make sure Firebase is initialized &quot;firebase.initializeApp(firebaseConfig);&quot; and then get a reference to Firestore &quot;firebase.firestore()&quot;.","body":"That is where you declare it, but I do not see it&#39;s value being set anywhere.  In Java that means it will default to NULL.  I think you probably mean to set it to a reference to Firebase Firestore.  I don&#39;t recall the Java syntax for this, but in JavaScript you would make sure Firebase is initialized &quot;firebase.initializeApp(firebaseConfig);&quot; and then get a reference to Firestore &quot;firebase.firestore()&quot;."},{"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"score":0,"creation_date":1690658182,"post_id":76795072,"comment_id":135385293,"body_markdown":"It looks like in Java you could use the &quot;com.google.firebase.cloud.FirestoreClient&quot; class and then use &quot;FirestoreClient.getFirestore()&quot; to get the Firestore instance associated with the default Firebase app.","body":"It looks like in Java you could use the &quot;com.google.firebase.cloud.FirestoreClient&quot; class and then use &quot;FirestoreClient.getFirestore()&quot; to get the Firestore instance associated with the default Firebase app."}],"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690657206,"creation_date":1690657206,"answer_id":76795072,"question_id":76795044,"body_markdown":"I do not see where &quot;`fStore`&quot; is set.  From the code you posted it looks like maybe you forgot to set it and then attempt to use it in the line `DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());`.","title":"How to solve Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference error","body":"<p>I do not see where &quot;<code>fStore</code>&quot; is set.  From the code you posted it looks like maybe you forgot to set it and then attempt to use it in the line <code>DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());</code>.</p>\n"}],"owner":{"account_id":13584166,"reputation":81,"user_id":9799333,"display_name":"Noor "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690661388,"answer_count":1,"score":0,"last_activity_date":1690661186,"creation_date":1690656773,"question_id":76795044,"body_markdown":"I&#39;m trying to achieve register a user in firestore and at the same time save the user&#39;s details into the firestore. I have successfully registered a user, but I&#39;m unable to save the user information as a collection in Firebase I&#39;m getting an error like the one below,\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d9X2W.png\r\n\r\n&gt; **FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.loginapp, PID: 4826\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)&#39; on a null object reference**\r\n\r\nRegister.java\r\n\r\n```\r\npackage com.example.loginapp;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Register extends AppCompatActivity {\r\n\r\n    TextInputEditText editTextEmail,editTextPassword;\r\n    EditText nameEditText;\r\n    Button buttonReg;\r\n    ProgressBar progressBar;\r\n    TextView textView;\r\n    FirebaseAuth mAuth;\r\n    FirebaseFirestore fStore;\r\n\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        editTextEmail = findViewById(R.id.email);\r\n        editTextPassword = findViewById(R.id.password);\r\n        nameEditText = findViewById(R.id.regi_name);\r\n        buttonReg = findViewById(R.id.btn_register);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        textView = findViewById(R.id.loginNow);\r\n\r\n        textView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), Login.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        buttonReg.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                String email, password;\r\n\r\n                email = String.valueOf(editTextEmail.getText());\r\n                password = String.valueOf(editTextPassword.getText());\r\n\r\n                if (TextUtils.isEmpty(email)){\r\n                    Toast.makeText(Register.this, &quot;Enter Email | NO Email&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                if (TextUtils.isEmpty(password)){\r\n                    Toast.makeText(Register.this, &quot;Enter Password&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                mAuth.createUserWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                progressBar.setVisibility(View.GONE);\r\n\r\n                                if (task.isSuccessful()) {\r\n                                    Toast.makeText(Register.this, &quot;Account successfully created&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                    // save the user details to DB\r\n                                    FirebaseUser user = mAuth.getCurrentUser();\r\n                                    FirebaseUser currentFirebaseUser = FirebaseAuth.getInstance().getCurrentUser() ;\r\n                                    DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());\r\n                                    Map&lt;String, Object&gt;userInfo = new HashMap&lt;&gt;();\r\n                                    userInfo.put(&quot;Name&quot;,nameEditText.getText().toString());\r\n                                    userInfo.put(&quot;UserEmail&quot;,editTextEmail.getText().toString());\r\n                                     // access level\r\n                                    userInfo.put(&quot;isAdmin&quot;, &quot;0&quot;);\r\n\r\n                                    df.set(userInfo);\r\n\r\n                                    Intent intent = new Intent(getApplicationContext(), Login.class);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n\r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());\r\n                                    Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n*activity_register.xml*\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;15dp&quot;\r\n    android:gravity=&quot;center&quot;\r\n    tools:context=&quot;.Register&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:text=&quot;@string/register&quot;\r\n        android:textSize=&quot;28sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/regi_name&quot;\r\n            android:hint=&quot;@string/name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/email&quot;\r\n            android:hint=&quot;@string/email&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/password&quot;\r\n            android:hint=&quot;@string/password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_register&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/btn_register&quot;\r\n        android:layout_margin=&quot;10dp&quot;/&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/loginNow&quot;\r\n        android:text=&quot;@string/click_to_login&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n```\r\n\r\nCan anyone help me with this?","title":"How to solve Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference error","body":"<p>I'm trying to achieve register a user in firestore and at the same time save the user's details into the firestore. I have successfully registered a user, but I'm unable to save the user information as a collection in Firebase I'm getting an error like the one below,</p>\n<p><a href=\"https://i.stack.imgur.com/d9X2W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d9X2W.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p><strong>FATAL EXCEPTION: main\nProcess: com.example.loginapp, PID: 4826\njava.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)' on a null object reference</strong></p>\n</blockquote>\n<p>Register.java</p>\n<pre><code>package com.example.loginapp;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Register extends AppCompatActivity {\n\n    TextInputEditText editTextEmail,editTextPassword;\n    EditText nameEditText;\n    Button buttonReg;\n    ProgressBar progressBar;\n    TextView textView;\n    FirebaseAuth mAuth;\n    FirebaseFirestore fStore;\n\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser != null){\n            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        editTextEmail = findViewById(R.id.email);\n        editTextPassword = findViewById(R.id.password);\n        nameEditText = findViewById(R.id.regi_name);\n        buttonReg = findViewById(R.id.btn_register);\n        progressBar = findViewById(R.id.progressBar);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        textView = findViewById(R.id.loginNow);\n\n        textView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getApplicationContext(), Login.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n\n        buttonReg.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                progressBar.setVisibility(View.VISIBLE);\n                String email, password;\n\n                email = String.valueOf(editTextEmail.getText());\n                password = String.valueOf(editTextPassword.getText());\n\n                if (TextUtils.isEmpty(email)){\n                    Toast.makeText(Register.this, &quot;Enter Email | NO Email&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                if (TextUtils.isEmpty(password)){\n                    Toast.makeText(Register.this, &quot;Enter Password&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                mAuth.createUserWithEmailAndPassword(email, password)\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                progressBar.setVisibility(View.GONE);\n\n                                if (task.isSuccessful()) {\n                                    Toast.makeText(Register.this, &quot;Account successfully created&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                    // save the user details to DB\n                                    FirebaseUser user = mAuth.getCurrentUser();\n                                    FirebaseUser currentFirebaseUser = FirebaseAuth.getInstance().getCurrentUser() ;\n                                    DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());\n                                    Map&lt;String, Object&gt;userInfo = new HashMap&lt;&gt;();\n                                    userInfo.put(&quot;Name&quot;,nameEditText.getText().toString());\n                                    userInfo.put(&quot;UserEmail&quot;,editTextEmail.getText().toString());\n                                     // access level\n                                    userInfo.put(&quot;isAdmin&quot;, &quot;0&quot;);\n\n                                    df.set(userInfo);\n\n                                    Intent intent = new Intent(getApplicationContext(), Login.class);\n                                    startActivity(intent);\n                                    finish();\n\n                                } else {\n                                    // If sign in fails, display a message to the user.\n                                    Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());\n                                    Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n\n            }\n        });\n    }\n}\n</code></pre>\n<p><em>activity_register.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;15dp&quot;\n    android:gravity=&quot;center&quot;\n    tools:context=&quot;.Register&quot;&gt;\n\n    &lt;TextView\n        android:text=&quot;@string/register&quot;\n        android:textSize=&quot;28sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_marginBottom=&quot;15dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/regi_name&quot;\n            android:hint=&quot;@string/name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/email&quot;\n            android:hint=&quot;@string/email&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/password&quot;\n            android:hint=&quot;@string/password&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_register&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/btn_register&quot;\n        android:layout_margin=&quot;10dp&quot;/&gt;\n    &lt;TextView\n        android:id=&quot;@+id/loginNow&quot;\n        android:text=&quot;@string/click_to_login&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n\n</code></pre>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":3056200,"reputation":108,"user_id":2589739,"display_name":"akfaisel"},"score":31,"creation_date":1482826265,"post_id":2983248,"comment_id":69885893,"body_markdown":"I was a stupid. MySQL server was not started :( It was successful after starting it.","body":"I was a stupid. MySQL server was not started :( It was successful after starting it."},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1629877665,"post_id":2983248,"comment_id":121799752,"body_markdown":"I changed my Springboot datasource from\nurl: jdbc:mysql://XXX208465:localhost:3306/orv21_kafka_schema to\nurl: jdbc:mysql://localhost:3306/orv21_kafka_schema. So the XXX208465 was not required which is my laptop&#39;s hostname. I installed mysql in local and am using it through mySQL CLI","body":"I changed my Springboot datasource from url: jdbc:mysql://XXX208465:localhost:3306/orv21_kafka_schema to url: jdbc:mysql://localhost:3306/orv21_kafka_schema. So the XXX208465 was not required which is my laptop&#39;s hostname. I installed mysql in local and am using it through mySQL CLI"},{"owner":{"account_id":5852063,"reputation":77,"user_id":4610476,"display_name":"Suresh Huse"},"score":0,"creation_date":1687849388,"post_id":2983248,"comment_id":134990209,"body_markdown":"I am facing the same issue. On running &quot;FLUSH HOSTS;&quot; command it again starts connecting the server. But I dont want FLUSH HOSTS; rather find the root cause. Any leads? What can be the problem?","body":"I am facing the same issue. On running &quot;FLUSH HOSTS;&quot; command it again starts connecting the server. But I dont want FLUSH HOSTS; rather find the root cause. Any leads? What can be the problem?"}],"answers":[{"comments":[{"owner":{"account_id":62488,"reputation":28510,"user_id":185657,"accept_rate":66,"display_name":"Josh K"},"score":0,"creation_date":1275807412,"post_id":2983374,"comment_id":3044983,"body_markdown":"Nope, gives me a storm of errors about not finding anything. Would it be possible to import this without the JAR file?","body":"Nope, gives me a storm of errors about not finding anything. Would it be possible to import this without the JAR file?"},{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1275808511,"post_id":2983374,"comment_id":3045015,"body_markdown":"@Josh this works, you really just need to setup your classpath properly. (Or copy the jar into your %JAVA_HOME%\\jre\\lib\\ext directory, but this is considered bad-practice)","body":"@Josh this works, you really just need to setup your classpath properly. (Or copy the jar into your %JAVA_HOME%\\jre\\lib\\ext directory, but this is considered bad-practice)"}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275807038,"creation_date":1275807038,"answer_id":2983374,"question_id":2983248,"body_markdown":"Download MySQL-JDBC-Type-4-Treiber (i.g. &#39;mysql-connector-java-5.1.11-bin.jar&#39; from  &#39;mysql-connector-java-5.1.11.zip&#39;) at [Mysql](http://www.mysql.com).\r\n\r\nYou need to inculde the driver jar during compile- and runtime in your classpath.\r\n\r\n    Class.forName( &quot;com.mysql.jdbc.Driver&quot; ); // do this in init\r\n    // edit the jdbc url \r\n    Connection conn = DriverManager.getConnection( &quot;jdbc:mysql://MyDbComputerNameOrIP:3306/myDatabaseName&quot;, username, password );\r\n    Statement st = conn.createStatement();\r\n    ResultSet rs = st.executeQuery( &quot;select * from table&quot; );\r\n\r\n\r\n \r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Download MySQL-JDBC-Type-4-Treiber (i.g. 'mysql-connector-java-5.1.11-bin.jar' from  'mysql-connector-java-5.1.11.zip') at <a href=\"http://www.mysql.com\" rel=\"nofollow noreferrer\">Mysql</a>.</p>\n\n<p>You need to inculde the driver jar during compile- and runtime in your classpath.</p>\n\n<pre><code>Class.forName( \"com.mysql.jdbc.Driver\" ); // do this in init\n// edit the jdbc url \nConnection conn = DriverManager.getConnection( \"jdbc:mysql://MyDbComputerNameOrIP:3306/myDatabaseName\", username, password );\nStatement st = conn.createStatement();\nResultSet rs = st.executeQuery( \"select * from table\" );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":62488,"reputation":28510,"user_id":185657,"accept_rate":66,"display_name":"Josh K"},"score":1,"creation_date":1275843769,"post_id":2983792,"comment_id":3046948,"body_markdown":"I&#39;m using MAMP to run my MySQL server. Would that be an issue?","body":"I&#39;m using MAMP to run my MySQL server. Would that be an issue?"},{"owner":{"account_id":62488,"reputation":28510,"user_id":185657,"accept_rate":66,"display_name":"Josh K"},"score":0,"creation_date":1275843830,"post_id":2983792,"comment_id":3046955,"body_markdown":"When I connect (via Sequal Pro) to my `localhost` I use the correct username / password and it works fine.","body":"When I connect (via Sequal Pro) to my <code>localhost</code> I use the correct username / password and it works fine."}],"tags":[],"owner":{"account_id":138860,"reputation":630,"user_id":344079,"accept_rate":43,"display_name":"Karl Walsh"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275818631,"creation_date":1275818631,"answer_id":2983792,"question_id":2983248,"body_markdown":"I might be barking up the wrong tree here, but your exception seems to indicate your MySQL server isn&#39;t available.\r\n\r\n&gt; Exception in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: \r\nCommunications link failureThe last packet sent successfully to the server was 0 \r\nmilliseconds ago. The driver has not received any packets from the server.  at...\r\n\r\nWhat happens if you try (from the terminal) \r\n\r\n    mysql -u username -p\r\n\r\nYou will be prompted for the password associated with the username. After you give the correct password does the mysql client connect?\r\n\r\nYou may have to start MySQL from the Preferences if not. You can also set it to run at startup.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I might be barking up the wrong tree here, but your exception seems to indicate your MySQL server isn't available.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: \n  Communications link failureThe last packet sent successfully to the server was 0 \n  milliseconds ago. The driver has not received any packets from the server.  at...</p>\n</blockquote>\n\n<p>What happens if you try (from the terminal) </p>\n\n<pre><code>mysql -u username -p\n</code></pre>\n\n<p>You will be prompted for the password associated with the username. After you give the correct password does the mysql client connect?</p>\n\n<p>You may have to start MySQL from the Preferences if not. You can also set it to run at startup.</p>\n"},{"comments":[{"owner":{"account_id":893543,"reputation":3254,"user_id":931358,"accept_rate":65,"display_name":"Jurik"},"score":4,"creation_date":1380116787,"post_id":2985169,"comment_id":28079988,"body_markdown":"MAMP/ MAMP Pro sets MAMP_skip-networking_MAMP by default. You&#39;ve to disable this line in your my.cfn","body":"MAMP/ MAMP Pro sets MAMP_skip-networking_MAMP by default. You&#39;ve to disable this line in your my.cfn"},{"owner":{"account_id":788920,"reputation":3452,"user_id":895429,"accept_rate":60,"display_name":"nikel"},"score":8,"creation_date":1450517040,"post_id":2985169,"comment_id":56480225,"body_markdown":"Not in this case, but a Communications Link Failure also happens when you are using a connection Pool and the connections are closed due to prolonged inactivity. Only in that case , it says &quot;Last packet was recieved some &quot;X&quot; seconds ago&quot;","body":"Not in this case, but a Communications Link Failure also happens when you are using a connection Pool and the connections are closed due to prolonged inactivity. Only in that case , it says &quot;Last packet was recieved some &quot;X&quot; seconds ago&quot;"},{"owner":{"account_id":5183586,"reputation":388,"user_id":4148533,"accept_rate":33,"display_name":"Farhad"},"score":0,"creation_date":1472805251,"post_id":2985169,"comment_id":65909588,"body_markdown":"@nikel Shouldn&#39;t the threads in the connection pool be kept active by firing the &quot;select 1&quot; validation query? Why would they get closed by prolonged inactivity when we have set the evictor to run at shorter time intervals than the mysql server timeout?","body":"@nikel Shouldn&#39;t the threads in the connection pool be kept active by firing the &quot;select 1&quot; validation query? Why would they get closed by prolonged inactivity when we have set the evictor to run at shorter time intervals than the mysql server timeout?"},{"owner":{"account_id":788920,"reputation":3452,"user_id":895429,"accept_rate":60,"display_name":"nikel"},"score":0,"creation_date":1472806613,"post_id":2985169,"comment_id":65910538,"body_markdown":"Yes, a validation query would fix this. My point was about the case when it is not set &amp; connections in the pool get timed out due to inactivity","body":"Yes, a validation query would fix this. My point was about the case when it is not set &amp; connections in the pool get timed out due to inactivity"},{"owner":{"account_id":2181997,"reputation":1082,"user_id":1931239,"accept_rate":67,"display_name":"Abdul Mannan"},"score":0,"creation_date":1498205035,"post_id":2985169,"comment_id":76414568,"body_markdown":"Sometimes port is missing from connection string &amp; driver will try to connect to default 3306 mysql port &amp; fail if mysql isn&#39;t running at this port. It was my issue so i though i should mention in case somebody else will find it useful.","body":"Sometimes port is missing from connection string &amp; driver will try to connect to default 3306 mysql port &amp; fail if mysql isn&#39;t running at this port. It was my issue so i though i should mention in case somebody else will find it useful."},{"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"score":0,"creation_date":1498223985,"post_id":2985169,"comment_id":76427132,"body_markdown":"One more reason, if u have ssl on mysql. I fixed it disable ssl or options in url connection.","body":"One more reason, if u have ssl on mysql. I fixed it disable ssl or options in url connection."},{"owner":{"account_id":16083019,"reputation":171,"user_id":11608456,"display_name":"GoodApple"},"score":0,"creation_date":1562603841,"post_id":2985169,"comment_id":100418627,"body_markdown":"I use MAMP on MAC OS. It turns out the listening port is 8889. Just check http://localhost:8888/phpMyAdmin/index.php. The port shows in this page. In my case is Server: localhost:8889. I changed the code dataSource.setPortNumber(8889); Then the problem solved.","body":"I use MAMP on MAC OS. It turns out the listening port is 8889. Just check <a href=\"http://localhost:8888/phpMyAdmin/index.php\" rel=\"nofollow noreferrer\">localhost:8888/phpMyAdmin/index.php</a>. The port shows in this page. In my case is Server: localhost:8889. I changed the code dataSource.setPortNumber(8889); Then the problem solved."},{"owner":{"account_id":15054416,"reputation":419,"user_id":10865170,"display_name":"Big Zed"},"score":1,"creation_date":1576016341,"post_id":2985169,"comment_id":104759302,"body_markdown":"i had the same proble, i resolved it by changing the jdbc driver version and it worked just fine","body":"i had the same proble, i resolved it by changing the jdbc driver version and it worked just fine"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":8,"down_vote_count":2,"up_vote_count":327,"is_accepted":true,"score":325,"last_activity_date":1469599302,"creation_date":1275846040,"answer_id":2985169,"question_id":2983248,"body_markdown":"So, you have a \r\n\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure  \r\n&gt; java.net.ConnectException: Connection refused\r\n\r\nI&#39;m quoting from [this answer][1] which also contains a step-by-step MySQL+JDBC tutorial:\r\n\r\n&gt;    If you get a `SQLException: Connection refused` or `Connection timed out` or a MySQL specific `CommunicationsException: \r\nCommunications link failure`, then it means that the DB isn&#39;t reachable at all. This can have one or more of the following causes:\r\n\r\n&gt;    1. IP address or hostname in JDBC URL is wrong.\r\n&gt;    2. Hostname in JDBC URL is not recognized by local DNS server.\r\n&gt;    3. Port number is missing or wrong in JDBC URL.\r\n&gt;    4. DB server is down.\r\n&gt;    5. DB server doesn&#39;t accept TCP/IP connections.\r\n&gt;    6. DB server has run out of connections.\r\n&gt;    7. Something in between Java and DB is blocking connections, e.g. a firewall or proxy.\r\n&gt;&lt;br&gt;&lt;br&gt;\r\n&gt;\r\n&gt; To solve the one or the other, follow the following advices:\r\n&gt;\r\n&gt;    1. Verify and test them with `ping`.\r\n&gt;    2. Refresh DNS or use IP address in JDBC URL instead.\r\n&gt;    3. Verify it based on `my.cnf` of MySQL DB.\r\n&gt;    4. Start the DB.\r\n&gt;    5. Verify if mysqld is started without the `--skip-networking option`.\r\n&gt;    6. Restart the DB and fix your code accordingly that it closes connections in `finally`.\r\n&gt;    7. Disable firewall and/or configure firewall/proxy to allow/forward the port.\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio\r\n- https://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-java-sql-connection-instance-in-a-multithreaded-syste\r\n\r\n  [1]: https://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>So, you have a </p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure<br>\n  java.net.ConnectException: Connection refused</p>\n</blockquote>\n\n<p>I'm quoting from <a href=\"https://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358\">this answer</a> which also contains a step-by-step MySQL+JDBC tutorial:</p>\n\n<blockquote>\n  <p>If you get a <code>SQLException: Connection refused</code> or <code>Connection timed out</code> or a MySQL specific <code>CommunicationsException: \n  Communications link failure</code>, then it means that the DB isn't reachable at all. This can have one or more of the following causes:</p>\n  \n  <ol>\n  <li>IP address or hostname in JDBC URL is wrong.</li>\n  <li>Hostname in JDBC URL is not recognized by local DNS server.</li>\n  <li>Port number is missing or wrong in JDBC URL.</li>\n  <li>DB server is down.</li>\n  <li>DB server doesn't accept TCP/IP connections.</li>\n  <li>DB server has run out of connections.</li>\n  <li>Something in between Java and DB is blocking connections, e.g. a firewall or proxy.\n  <br><br></li>\n  </ol>\n  \n  <p>To solve the one or the other, follow the following advices:</p>\n  \n  <ol>\n  <li>Verify and test them with <code>ping</code>.</li>\n  <li>Refresh DNS or use IP address in JDBC URL instead.</li>\n  <li>Verify it based on <code>my.cnf</code> of MySQL DB.</li>\n  <li>Start the DB.</li>\n  <li>Verify if mysqld is started without the <code>--skip-networking option</code>.</li>\n  <li>Restart the DB and fix your code accordingly that it closes connections in <code>finally</code>.</li>\n  <li>Disable firewall and/or configure firewall/proxy to allow/forward the port.\n  <br><br></li>\n  </ol>\n</blockquote>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio\">How should I connect to JDBC database / datasource in a servlet based application?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-java-sql-connection-instance-in-a-multithreaded-syste\">Is it safe to use a static java.sql.Connection instance in a multithreaded system?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1655674,"reputation":81,"user_id":1525313,"display_name":"rs2012"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365051235,"creation_date":1365051235,"answer_id":15802788,"question_id":2983248,"body_markdown":"I got the same error because I was trying to run my program without starting mysql server. \r\n\r\nAfter starting the mysql server, everything went right.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I got the same error because I was trying to run my program without starting mysql server. </p>\n\n<p>After starting the mysql server, everything went right.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1484946461,"post_id":16504970,"comment_id":70736138,"body_markdown":"The static block hasn&#39;t been necessary since 2007, and you can specify the login parameters either way.","body":"The static block hasn&#39;t been necessary since 2007, and you can specify the login parameters either way."}],"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1368341958,"creation_date":1368341958,"answer_id":16504970,"question_id":2983248,"body_markdown":"Just experienced this.\r\n\r\nGot to make it work by:\r\n(this can be placed in the static block intializer)\r\n\r\n    static{ // would have to be surrounded by try catch\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);   // this will load the class Driver\r\n    }\r\n\r\nAlso by obtaining the connection through:\r\n\r\n    conn = DriverManager.getConnection(DBURL,&lt;username&gt;,&lt;password&gt;);\r\n\r\ninstead of specifying the login parameters \r\n\r\n      Connection conn = DriverManager.getConnection( &quot;jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123&quot;);\r\n\r\nRegards.\r\n\r\n  ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Just experienced this.</p>\n\n<p>Got to make it work by:\n(this can be placed in the static block intializer)</p>\n\n<pre><code>static{ // would have to be surrounded by try catch\n    Class.forName(\"com.mysql.jdbc.Driver\");   // this will load the class Driver\n}\n</code></pre>\n\n<p>Also by obtaining the connection through:</p>\n\n<pre><code>conn = DriverManager.getConnection(DBURL,&lt;username&gt;,&lt;password&gt;);\n</code></pre>\n\n<p>instead of specifying the login parameters </p>\n\n<pre><code>  Connection conn = DriverManager.getConnection( \"jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123\");\n</code></pre>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":1872336,"reputation":131,"user_id":1694306,"display_name":"user1694306"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1368729637,"creation_date":1368728420,"answer_id":16594661,"question_id":2983248,"body_markdown":"I catch this exception when Java out of heap. If I try to put in RAM many data items - first I catch &quot;**Communications link failure**&quot; and next &quot;**OutOfMemoryError**&quot;. \r\n\r\nI logged it and  I decrease memory consumption (delete 1/2 data) and all ok.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I catch this exception when Java out of heap. If I try to put in RAM many data items - first I catch \"<strong>Communications link failure</strong>\" and next \"<strong>OutOfMemoryError</strong>\". </p>\n\n<p>I logged it and  I decrease memory consumption (delete 1/2 data) and all ok.</p>\n"},{"comments":[{"owner":{"account_id":9175797,"reputation":2531,"user_id":6821441,"accept_rate":83,"display_name":"Abhishek Ekaanth"},"score":0,"creation_date":1522944043,"post_id":22348666,"comment_id":86364676,"body_markdown":"On Latest Update 4/5/18 :\n\nCurrently, I&#39;m using MySQL Workbench 6.3. I came here to check the solution but I found it on my own, it&#39;s just that your MySQL server is not running or it is stopped. I restarted my server it worked like a charm.","body":"On Latest Update 4/5/18 :  Currently, I&#39;m using MySQL Workbench 6.3. I came here to check the solution but I found it on my own, it&#39;s just that your MySQL server is not running or it is stopped. I restarted my server it worked like a charm."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":9,"creation_date":1525903743,"post_id":22348666,"comment_id":87543530,"body_markdown":"This is the &#39;best solution&#39; why? What problem does it solve, and how?","body":"This is the &#39;best solution&#39; why? What problem does it solve, and how?"},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1569303511,"post_id":22348666,"comment_id":102542349,"body_markdown":"this solution cannot generate dataframes","body":"this solution cannot generate dataframes"}],"tags":[],"owner":{"account_id":4159848,"reputation":191,"user_id":3410186,"display_name":"sureshAngamuthu"},"comment_count":3,"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1578040666,"creation_date":1394620327,"answer_id":22348666,"question_id":2983248,"body_markdown":"In my case, I needed to do a replacement of Localhost to the actual database server IP address\r\n\r\n Instead of \r\n\r\n     Connection con = DriverManager.getConnection(\r\n     &quot;jdbc:mysql://localhost:3306/DBname&quot;, &quot;root&quot;, &quot;root&quot;);\r\n\r\nI needed \r\n    \r\n     Connection con = DriverManager.getConnection(\r\n     &quot;jdbc:mysql://192.100.0.000:3306/DBname&quot;, &quot;root&quot;, &quot;root&quot;);\r\n\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, I needed to do a replacement of Localhost to the actual database server IP address</p>\n\n<p>Instead of </p>\n\n<pre><code> Connection con = DriverManager.getConnection(\n \"jdbc:mysql://localhost:3306/DBname\", \"root\", \"root\");\n</code></pre>\n\n<p>I needed </p>\n\n<pre><code> Connection con = DriverManager.getConnection(\n \"jdbc:mysql://192.100.0.000:3306/DBname\", \"root\", \"root\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1525903870,"post_id":22447608,"comment_id":87543582,"body_markdown":"(1) certainly does not cause this problem.","body":"(1) certainly does not cause this problem."}],"tags":[],"owner":{"account_id":4183285,"reputation":9,"user_id":3427633,"display_name":"user3427633"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395035776,"creation_date":1395034489,"answer_id":22447608,"question_id":2983248,"body_markdown":"I had the same problem, and here&#39;s how it was fixed:\r\n\r\n 1. My .jsp was calling attributes that I had not yet defined in the\r\n    servlet.\r\n 2. I had two column names that I was passing into an object through `ResultSet (getString(&quot;columnName&quot;))` that didn&#39;t match the column names in my database.\r\n\r\nI&#39;m not exactly sure which one fixed the problem, but it worked. Also, be sure that you create a new `Statement` and `ResultSet` for each table query.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I had the same problem, and here's how it was fixed:</p>\n\n<ol>\n<li>My .jsp was calling attributes that I had not yet defined in the\nservlet.</li>\n<li>I had two column names that I was passing into an object through <code>ResultSet (getString(\"columnName\"))</code> that didn't match the column names in my database.</li>\n</ol>\n\n<p>I'm not exactly sure which one fixed the problem, but it worked. Also, be sure that you create a new <code>Statement</code> and <code>ResultSet</code> for each table query.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1578040813,"post_id":23034876,"comment_id":105317646,"body_markdown":"Edited to use valid bind address","body":"Edited to use valid bind address"}],"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1578040783,"creation_date":1397329678,"answer_id":23034876,"question_id":2983248,"body_markdown":"Please update your IP address in /etc/mysql/my.cnf file\r\n\r\n    bind-address  = 0.0.0.0\r\n\r\nRestart mysql deamon and mysql services.\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Please update your IP address in /etc/mysql/my.cnf file</p>\n\n<pre><code>bind-address  = 0.0.0.0\n</code></pre>\n\n<p>Restart mysql deamon and mysql services.</p>\n"},{"tags":[],"owner":{"account_id":3236880,"reputation":12685,"user_id":2730862,"display_name":"Haimei"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1580106048,"creation_date":1401735293,"answer_id":24001346,"question_id":2983248,"body_markdown":"My same problem is solved by the following steps:\r\n\r\n\r\n1. Go to `my.cnf`\r\n\r\n        vi /etc/mysql/my.cnf\r\n\r\n\r\n2. Modify its bind-address\r\n\r\n        &quot;bind-address = 0.0.0.0&quot;\r\n\r\n3. Restart MySQL\r\n\r\n        sudo /etc/init.d/mysql restart","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>My same problem is solved by the following steps:</p>\n\n<ol>\n<li><p>Go to <code>my.cnf</code></p>\n\n<pre><code>vi /etc/mysql/my.cnf\n</code></pre></li>\n<li><p>Modify its bind-address</p>\n\n<pre><code>\"bind-address = 0.0.0.0\"\n</code></pre></li>\n<li><p>Restart MySQL</p>\n\n<pre><code>sudo /etc/init.d/mysql restart\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":728049,"reputation":158,"user_id":668225,"accept_rate":25,"display_name":"Kiran Nunna"},"score":1,"creation_date":1431873822,"post_id":26728125,"comment_id":48673226,"body_markdown":"Yes there can be chance of jar mismatch.","body":"Yes there can be chance of jar mismatch."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1484946764,"post_id":26728125,"comment_id":70736264,"body_markdown":"All these driver versions are supposed to be compatible.","body":"All these driver versions are supposed to be compatible."}],"tags":[],"owner":{"account_id":5276240,"reputation":39,"user_id":4212915,"display_name":"Ankit Jain"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1415079727,"creation_date":1415077803,"answer_id":26728125,"question_id":2983248,"body_markdown":"It could be a simple jar problem. may be you are using a old `mysql-connector-java-XXX-bin.jar` which is not supported by your current mysql version. i used   `mysql-connector-java-5.1.18-bin.jar` as i am using `mysql 5.5` and this problem is resolved for me.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>It could be a simple jar problem. may be you are using a old <code>mysql-connector-java-XXX-bin.jar</code> which is not supported by your current mysql version. i used   <code>mysql-connector-java-5.1.18-bin.jar</code> as i am using <code>mysql 5.5</code> and this problem is resolved for me.</p>\n"},{"tags":[],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415078342,"creation_date":1415078342,"answer_id":26728218,"question_id":2983248,"body_markdown":"\r\nIf you are using `WAMP` or `XAMP` server to install mysql database.\r\nThen you have to explicitly start mysql sever other wise it will show \r\n`com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure` while connecting with database","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If you are using <code>WAMP</code> or <code>XAMP</code> server to install mysql database.\nThen you have to explicitly start mysql sever other wise it will show \n<code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</code> while connecting with database</p>\n"},{"tags":[],"owner":{"account_id":3191409,"reputation":77,"user_id":2695558,"accept_rate":100,"display_name":"Maheshkumar.V"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1454690537,"creation_date":1415873105,"answer_id":26906139,"question_id":2983248,"body_markdown":"If you changed your port, you get this kind of error &quot;com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&quot;\r\nPlease check your port number","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If you changed your port, you get this kind of error \"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\"\nPlease check your port number</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1525903778,"post_id":28738544,"comment_id":87543544,"body_markdown":"It also occurs for other reasons such as &#39;connection refused&#39;.","body":"It also occurs for other reasons such as &#39;connection refused&#39;."}],"tags":[],"owner":{"account_id":5807560,"reputation":777,"user_id":4579740,"display_name":"Yogesh Funde"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1424969213,"creation_date":1424942570,"answer_id":28738544,"question_id":2983248,"body_markdown":"This `com.mysql.jdbc.exceptions.jdbc4.CommunicationsException` exception occurs if your database connection is idle for long time. \r\n\r\nThis idle connection returns true on `connection.isClosed();` but if we try to execute statement then it will fire this exception so I will suggest to go with database pooling. ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This <code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException</code> exception occurs if your database connection is idle for long time. </p>\n\n<p>This idle connection returns true on <code>connection.isClosed();</code> but if we try to execute statement then it will fire this exception so I will suggest to go with database pooling. </p>\n"},{"tags":[],"owner":{"account_id":5960644,"reputation":21,"user_id":4685927,"display_name":"Dario Castro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429197606,"creation_date":1429197606,"answer_id":29679157,"question_id":2983248,"body_markdown":"i solved this problem  in a easy way, that worked for me. i had the seme problem &quot;com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&quot;. In my db.properties file  i had this :  url:jdbc:mysql://localhost:90/myDB,\r\nonly removed the port url , resulting in this manner url:jdbc:mysql://localhost/myDB  and that worked for me.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>i solved this problem  in a easy way, that worked for me. i had the seme problem \"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\". In my db.properties file  i had this :  url:jdbc:mysql://localhost:90/myDB,\nonly removed the port url , resulting in this manner url:jdbc:mysql://localhost/myDB  and that worked for me.</p>\n"},{"comments":[{"owner":{"account_id":10374650,"reputation":228,"user_id":7651204,"display_name":"DAVIS BENNY 15MIS0426"},"score":0,"creation_date":1532090155,"post_id":29957898,"comment_id":89855183,"body_markdown":"if you have mamp before install Mysql then try this method","body":"if you have mamp before install Mysql then try this method"}],"tags":[],"owner":{"account_id":6232587,"reputation":91,"user_id":4848823,"display_name":"Abdul Rahim Mohamad"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430360485,"creation_date":1430360181,"answer_id":29957898,"question_id":2983248,"body_markdown":"I&#39;ve been having the same problem for hours. I&#39;m using MAMP Server\r\n\r\nInstead of using localhost:[Apache Port], use your MySQL port.\r\n\r\nBelow is the default MySQL Port for MAMP server.\r\n\r\n\tString url = &quot;jdbc:mysql://localhost:8889/db_name&quot;;\r\n\r\n\tConnection conn = DriverManager.getConnection(url, dbUsername, dbPassword);","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I've been having the same problem for hours. I'm using MAMP Server</p>\n\n<p>Instead of using localhost:[Apache Port], use your MySQL port.</p>\n\n<p>Below is the default MySQL Port for MAMP server.</p>\n\n<pre><code>String url = \"jdbc:mysql://localhost:8889/db_name\";\n\nConnection conn = DriverManager.getConnection(url, dbUsername, dbPassword);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431684520,"creation_date":1431684520,"answer_id":30256776,"question_id":2983248,"body_markdown":"Thats happened to me when I changed the mysql port from 3306 to 3307 in my.ini and the php.ini files but after changing  the ports (3307-&gt;3306) back  it worked fine again. ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Thats happened to me when I changed the mysql port from 3306 to 3307 in my.ini and the php.ini files but after changing  the ports (3307->3306) back  it worked fine again. </p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1484946601,"post_id":31174882,"comment_id":70736198,"body_markdown":"Unlikely. All these driver versions are supposed to be backwards-compatible.","body":"Unlikely. All these driver versions are supposed to be backwards-compatible."},{"owner":{"account_id":73395,"reputation":10664,"user_id":211369,"display_name":"Nishi"},"score":1,"creation_date":1556988314,"post_id":31174882,"comment_id":98618590,"body_markdown":"This issue seems to be fixed in new mysql connectors, see https://stackoverflow.com/questions/14559794/mysql-with-java-error-the-last-packet-sent-successfully-to-the-server-was-0-mil#comment20314498_14560182","body":"This issue seems to be fixed in new mysql connectors, see <a href=\"https://stackoverflow.com/questions/14559794/mysql-with-java-error-the-last-packet-sent-successfully-to-the-server-was-0-mil#comment20314498_14560182\" title=\"mysql with java error the last packet sent successfully to the server was 0 mil%23comment20314498_14560182\">stackoverflow.com/questions/14559794/&hellip;</a>"},{"owner":{"account_id":9289221,"reputation":81,"user_id":6898112,"display_name":"edenPan"},"score":0,"creation_date":1588607197,"post_id":31174882,"comment_id":108956901,"body_markdown":"The same case for me. The driver&#39;s version is for MySQL 5 while the server&#39;s version is 8. So I updated the jar&#39;s version and the problem solved.","body":"The same case for me. The driver&#39;s version is for MySQL 5 while the server&#39;s version is 8. So I updated the jar&#39;s version and the problem solved."}],"tags":[],"owner":{"account_id":1490980,"reputation":4670,"user_id":1398065,"accept_rate":86,"display_name":"shellbye"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1556988175,"creation_date":1435805648,"answer_id":31174882,"question_id":2983248,"body_markdown":"In my case, turn out to be that the version of ```mysql-connector-java``` was too old.\r\n\r\nIn my demo, I somehow use ```mysql-connector-java``` like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut in the develop environment, I use this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.31&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd my MySQL version was 5.1.48(yes, it is old, just for mimic the product version). So I met the same error.\r\n\r\nSince the reason is found, the solution is found, too. Match the version!","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, turn out to be that the version of <code>mysql-connector-java</code> was too old.</p>\n\n<p>In my demo, I somehow use <code>mysql-connector-java</code> like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But in the develop environment, I use this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.31&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And my MySQL version was 5.1.48(yes, it is old, just for mimic the product version). So I met the same error.</p>\n\n<p>Since the reason is found, the solution is found, too. Match the version!</p>\n"},{"comments":[{"owner":{"account_id":3619947,"reputation":283,"user_id":3018961,"display_name":"gannu_lee"},"score":1,"creation_date":1557059426,"post_id":41281127,"comment_id":98631675,"body_markdown":"This pointer solved my issue,specifying &#39;localhost&#39; was working when I connect to VPN, but same was not working if I disconnect from VPN, however I fixed this by changing &#39;localhost&#39; to &#39;127.0.0.1&#39;","body":"This pointer solved my issue,specifying &#39;localhost&#39; was working when I connect to VPN, but same was not working if I disconnect from VPN, however I fixed this by changing &#39;localhost&#39; to &#39;127.0.0.1&#39;"}],"tags":[],"owner":{"account_id":3935287,"reputation":922,"user_id":3251882,"accept_rate":25,"display_name":"user3251882"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484946710,"creation_date":1482403000,"answer_id":41281127,"question_id":2983248,"body_markdown":"Earlier answers are appropriate . But , I would also like to point towards a more generic issue.\r\n\r\nI faced similar issue and the reason was a network restriction of my company.\r\n\r\nSame connection was getting successful when I was in any other network.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Earlier answers are appropriate . But , I would also like to point towards a more generic issue.</p>\n\n<p>I faced similar issue and the reason was a network restriction of my company.</p>\n\n<p>Same connection was getting successful when I was in any other network.</p>\n"},{"tags":[],"owner":{"account_id":1045249,"reputation":3627,"user_id":1050389,"accept_rate":56,"display_name":"aclowkay"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1482930694,"creation_date":1482930694,"answer_id":41362843,"question_id":2983248,"body_markdown":"If there are any readers who encountered this issue for accessing remote server: make sure the port is open","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If there are any readers who encountered this issue for accessing remote server: make sure the port is open</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1578040991,"post_id":44037137,"comment_id":105317715,"body_markdown":"That&#39;s actually a problem with your /etc/hosts file, not Mysql","body":"That&#39;s actually a problem with your /etc/hosts file, not Mysql"},{"owner":{"account_id":1848023,"reputation":3458,"user_id":1841143,"accept_rate":78,"display_name":"Haozhe Xie"},"score":0,"creation_date":1578128558,"post_id":44037137,"comment_id":105344347,"body_markdown":"@cricket_007 By default, localhost is resolved to ::1 instead of 127.0.0.1.","body":"@cricket_007 By default, localhost is resolved to ::1 instead of 127.0.0.1."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1578129426,"post_id":44037137,"comment_id":105344524,"body_markdown":"Sure, only if ipv6 is enabled and depending on the hosts file","body":"Sure, only if ipv6 is enabled and depending on the hosts file"}],"tags":[],"owner":{"account_id":1848023,"reputation":3458,"user_id":1841143,"accept_rate":78,"display_name":"Haozhe Xie"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495070691,"creation_date":1495070691,"answer_id":44037137,"question_id":2983248,"body_markdown":"Try to change `localhost` to `127.0.0.1`.\r\n\r\nThe localhost would be resolved to `::1`. And MySQL cannot be connected via IPv6 by default.\r\n\r\nAnd here is the output of `telnet localhost 3306`:\r\n\r\n    $ telnet localhost 3306\r\n    Trying ::1...\r\n\r\nAnd there is no response from MySQL server.\r\n\r\nOf course, please make sure your MySQL server is running.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Try to change <code>localhost</code> to <code>127.0.0.1</code>.</p>\n\n<p>The localhost would be resolved to <code>::1</code>. And MySQL cannot be connected via IPv6 by default.</p>\n\n<p>And here is the output of <code>telnet localhost 3306</code>:</p>\n\n<pre><code>$ telnet localhost 3306\nTrying ::1...\n</code></pre>\n\n<p>And there is no response from MySQL server.</p>\n\n<p>Of course, please make sure your MySQL server is running.</p>\n"},{"tags":[],"owner":{"account_id":6858896,"reputation":471,"user_id":5273627,"display_name":"shivam gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500825886,"creation_date":1500825886,"answer_id":45267148,"question_id":2983248,"body_markdown":"Maybe you did not start your Mysql and Apache Server. After I started Apache server and Mysql from XAMPP Control Panel, connection was successfully established.\r\n\r\nGood luck!","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Maybe you did not start your Mysql and Apache Server. After I started Apache server and Mysql from XAMPP Control Panel, connection was successfully established.</p>\n\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1578041061,"post_id":45708280,"comment_id":105317749,"body_markdown":"You&#39;ll need to repeat that for all remote users or add a wildcard instead of Localhost","body":"You&#39;ll need to repeat that for all remote users or add a wildcard instead of Localhost"}],"tags":[],"owner":{"account_id":5048178,"reputation":174,"user_id":4053513,"accept_rate":50,"display_name":"Abdul Khalid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502870803,"creation_date":1502870803,"answer_id":45708280,"question_id":2983248,"body_markdown":"What solved for me is doing 2 thing:\r\n 1. create new user other than root with some password using following connads:\r\n \r\n\r\n    CREATE USER &#39;newuser&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;newuser&#39;@&#39;localhost&#39;;\r\n    FLUSH PRIVILEGES;\r\n 2. comment IP address line on mysqld.conf\r\n\r\n\r\nthen connect with new username and password. it should work.\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>What solved for me is doing 2 thing:\n 1. create new user other than root with some password using following connads:</p>\n\n<pre><code>CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON *.* TO 'newuser'@'localhost';\nFLUSH PRIVILEGES;\n</code></pre>\n\n<p>2. comment IP address line on mysqld.conf</p>\n\n<p>then connect with new username and password. it should work.</p>\n"},{"tags":[],"owner":{"account_id":2394186,"reputation":3386,"user_id":2093371,"display_name":"hestellezg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518476833,"creation_date":1518476833,"answer_id":48757039,"question_id":2983248,"body_markdown":"It was trying to connect to an older version of MySQL (&#39;version&#39;, &#39;5.1.73&#39;\r\n); when you use a newer driver version you get an error that tells you to use the **&quot;com.mysql.cj.jdbc.Driver** or even that you don&#39;t have to especify which one you use:\r\n\r\n&gt; Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new\r\n&gt; driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is\r\n&gt; automatically registered via the SPI and manual loading of the driver\r\n&gt; class is generally unnecessary.\r\n\r\nI changed the declaration to use 5.1.38 version of the mysql-connector-java and, in the code, I kept the **com.mysql.jdbc.Driver**.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.38&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAll started when I saw the Ankit Jain&#39;s [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26728125/2093371","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>It was trying to connect to an older version of MySQL ('version', '5.1.73'\n); when you use a newer driver version you get an error that tells you to use the <strong>\"com.mysql.cj.jdbc.Driver</strong> or even that you don't have to especify which one you use:</p>\n\n<blockquote>\n  <p>Loading class <code>com.mysql.jdbc.Driver'. This is deprecated. The new\n  driver class is</code>com.mysql.cj.jdbc.Driver'. The driver is\n  automatically registered via the SPI and manual loading of the driver\n  class is generally unnecessary.</p>\n</blockquote>\n\n<p>I changed the declaration to use 5.1.38 version of the mysql-connector-java and, in the code, I kept the <strong>com.mysql.jdbc.Driver</strong>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.38&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>All started when I saw the Ankit Jain's <a href=\"https://stackoverflow.com/a/26728125/2093371\">answer</a></p>\n"},{"tags":[],"owner":{"account_id":4039095,"reputation":436,"user_id":3322464,"accept_rate":100,"display_name":"Michal Sipek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528352240,"creation_date":1528352240,"answer_id":50734132,"question_id":2983248,"body_markdown":"My firewall was blocking post 3307 which my MySQL listening on. So I changed port from 3307 to 3306.Then I can successfully connect to a database.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>My firewall was blocking post 3307 which my MySQL listening on. So I changed port from 3307 to 3306.Then I can successfully connect to a database.</p>\n"},{"tags":[],"owner":{"account_id":10919070,"reputation":343,"user_id":8025999,"display_name":"m Piroli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540394153,"creation_date":1540394153,"answer_id":52972548,"question_id":2983248,"body_markdown":"In my MacBook i have solvet this error only when reinstall the new version of eclipse EE and remove local servers like xamp mysql or mamp but use only one of them ...\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my MacBook i have solvet this error only when reinstall the new version of eclipse EE and remove local servers like xamp mysql or mamp but use only one of them ...</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1578041149,"post_id":53129149,"comment_id":105317783,"body_markdown":"localhost should resolve via DNS to 127.0.0.1 anyway","body":"localhost should resolve via DNS to 127.0.0.1 anyway"}],"tags":[],"owner":{"account_id":12971177,"reputation":153,"user_id":9376870,"display_name":"Prakhar Agrawal"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541228090,"creation_date":1541228090,"answer_id":53129149,"question_id":2983248,"body_markdown":"I was facing the same problem while i was starting my application, \r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\nThe issue was that in the mysql file **/etc/mysql/mysql.conf.d/mysqld.cnf**, the configuration was like that\r\n\r\n    [mysqld]\r\n    pid-file        = /var/run/mysqld/mysqld.pid\r\n    socket          = /var/run/mysqld/mysqld.sock\r\n    datadir         = /var/lib/mysql\r\n    log-error       = /var/log/mysql/error.log\r\n    # By default we only accept connections from localhost\r\n    bind-address    = 127.0.0.1\r\n    # Disabling symbolic-links is recommended to prevent assorted security risks\r\n    symbolic-links=0\r\n\r\nSo as we can see that bind address is pointing to the 127.0.0.1, so for starting your application, a simple solution is that we can use the **jdbc:mysql://127.0.0.1:3306/pizzeria** instead of **jdbc:mysql://localhost:3306/pizzeria** which will connect the mysql to the application or another solution is that you can check and change the mysql configurations to default.Both solution can work.\r\nI hope it will work for you guys too.\r\n \r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I was facing the same problem while i was starting my application, </p>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n\n<p>The issue was that in the mysql file <strong>/etc/mysql/mysql.conf.d/mysqld.cnf</strong>, the configuration was like that</p>\n\n<pre><code>[mysqld]\npid-file        = /var/run/mysqld/mysqld.pid\nsocket          = /var/run/mysqld/mysqld.sock\ndatadir         = /var/lib/mysql\nlog-error       = /var/log/mysql/error.log\n# By default we only accept connections from localhost\nbind-address    = 127.0.0.1\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\n</code></pre>\n\n<p>So as we can see that bind address is pointing to the 127.0.0.1, so for starting your application, a simple solution is that we can use the <strong>jdbc:mysql://127.0.0.1:3306/pizzeria</strong> instead of <strong>jdbc:mysql://localhost:3306/pizzeria</strong> which will connect the mysql to the application or another solution is that you can check and change the mysql configurations to default.Both solution can work.\nI hope it will work for you guys too.</p>\n"},{"tags":[],"owner":{"account_id":6072621,"reputation":898,"user_id":4740914,"display_name":"Yugerten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578041018,"creation_date":1541624779,"answer_id":53197814,"question_id":2983248,"body_markdown":"**For *Remote* Call to Mysql**  \r\n\r\n 1. Add *remote user* to *Mysql* from for exemple  IP=remoteIP :\r\n\r\n        mysql -u xxxx -p //local coonection to mysql\r\n        mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;theNewUser&#39;@&#39;remoteIP&#39; IDENTIFIED BY &#39;passWord&#39;;\r\n        //Query OK, 0 rows affected (xx sec)\r\n        mysql&gt; FLUSH PRIVILEGES;\r\n        //Query OK, 0 rows affected\r\n\r\n 2. Allow *remote access* to Mysql (by default all externall call is not allowed):\r\n\r\n        Edit \r\n        /etc/mysql/mysql.conf.d/mysqld.cnf    or    /etc/mysql/my.cnf\r\n        Change line:  bind-address = 127.0.0.1   to\r\n                      bind-address = 0.0.0.0\r\n        Restart Mysql: /etc/init.d/mysql restart\r\n 3. For The latest version of JDBC Driver, the JDBC :\r\n        \r\n        jdbc.url=&#39;jdbc:mysql://remoteIP:3306/yourDbInstance?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;useJDBCCompliantTimezoneShift=true&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC&#39;\r\n        jdbc.user=&#39;theNewUser&#39;","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p><strong>For <em>Remote</em> Call to Mysql</strong>  </p>\n\n<ol>\n<li><p>Add <em>remote user</em> to <em>Mysql</em> from for exemple  IP=remoteIP :</p>\n\n<pre><code>mysql -u xxxx -p //local coonection to mysql\nmysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'theNewUser'@'remoteIP' IDENTIFIED BY 'passWord';\n//Query OK, 0 rows affected (xx sec)\nmysql&gt; FLUSH PRIVILEGES;\n//Query OK, 0 rows affected\n</code></pre></li>\n<li><p>Allow <em>remote access</em> to Mysql (by default all externall call is not allowed):</p>\n\n<pre><code>Edit \n/etc/mysql/mysql.conf.d/mysqld.cnf    or    /etc/mysql/my.cnf\nChange line:  bind-address = 127.0.0.1   to\n              bind-address = 0.0.0.0\nRestart Mysql: /etc/init.d/mysql restart\n</code></pre></li>\n<li><p>For The latest version of JDBC Driver, the JDBC :</p>\n\n<pre><code>jdbc.url='jdbc:mysql://remoteIP:3306/yourDbInstance?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;useJDBCCompliantTimezoneShift=true&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC'\njdbc.user='theNewUser'\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1820446,"reputation":3830,"user_id":1654631,"accept_rate":0,"display_name":"Shiv Buyya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578041210,"creation_date":1542435516,"answer_id":53348776,"question_id":2983248,"body_markdown":"Open file /etc/mysql/my.cnf:\r\nchange below parameter from \r\n\r\n`bind-address = 127.0.0.1 \r\n\r\nto \r\n\r\nbind-address = 0.0.0.0 #this allows all systems to connect \r\n\r\nRun below command in mysql for specific IP Address-&gt;\r\n\r\n    grant all privileges on dbname.* to dbusername@&#39;192.168.0.3&#39; IDENTIFIED BY &#39;dbpassword&#39;;                      \r\n\r\nIf you want to give access to all IP Address, run below command:\r\n\r\n    grant all privileges on dbname.* to dbusername@&#39;%&#39; IDENTIFIED BY &#39;dbpassword&#39;; \r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Open file /etc/mysql/my.cnf:\nchange below parameter from </p>\n\n<p>`bind-address = 127.0.0.1 </p>\n\n<p>to </p>\n\n<p>bind-address = 0.0.0.0 #this allows all systems to connect </p>\n\n<p>Run below command in mysql for specific IP Address-></p>\n\n<pre><code>grant all privileges on dbname.* to dbusername@'192.168.0.3' IDENTIFIED BY 'dbpassword';                      \n</code></pre>\n\n<p>If you want to give access to all IP Address, run below command:</p>\n\n<pre><code>grant all privileges on dbname.* to dbusername@'%' IDENTIFIED BY 'dbpassword'; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010670,"reputation":1863,"user_id":4721232,"display_name":"FullStack Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545529455,"creation_date":1545529455,"answer_id":53900594,"question_id":2983248,"body_markdown":"In my case I had to establish an ssh tunnel to the remote database and all the settings were correct and testing the connection with PhpStorm were also successful. And also the schema was loaded, but not the data. Instead I got: \r\n\r\n    [08S01] Communications link failure. The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\nNo of the suggestions above worked. For any reason I tried to solve the problem by simply restarting PhpStorm and voila it worked!","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case I had to establish an ssh tunnel to the remote database and all the settings were correct and testing the connection with PhpStorm were also successful. And also the schema was loaded, but not the data. Instead I got: </p>\n\n<pre><code>[08S01] Communications link failure. The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n\n<p>No of the suggestions above worked. For any reason I tried to solve the problem by simply restarting PhpStorm and voila it worked!</p>\n"},{"tags":[],"owner":{"account_id":13420325,"reputation":96,"user_id":9683314,"display_name":"Chase Owens"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1548194921,"creation_date":1548194921,"answer_id":54317184,"question_id":2983248,"body_markdown":"Also your server might just be closed. On a Mac, navigate to mySQL preference panel through the spotlight. When there, check the box to start your server when your computer starts and start the server.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Also your server might just be closed. On a Mac, navigate to mySQL preference panel through the spotlight. When there, check the box to start your server when your computer starts and start the server.</p>\n"},{"tags":[],"owner":{"account_id":6087537,"reputation":2443,"user_id":4750980,"accept_rate":75,"display_name":"10110"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549813710,"creation_date":1549812637,"answer_id":54617959,"question_id":2983248,"body_markdown":"I was receiving multiple errors such as:\r\n\r\n - `CommunicationsException: Communications link failure` \r\n - `java.lang.NullPointerException: Attempt to invoke interface method &#39;java.sql.Statement java.sql.Connection.createStatement()&#39; on a null object reference at `.\r\n\r\nI had to add:\r\n\r\n- In AndroidManifest.xml include `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;` just after the opening manifest tag.\r\n\r\n- Add the JDBC driver into your Gradle (or Maven) dependencies.\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I was receiving multiple errors such as:</p>\n\n<ul>\n<li><code>CommunicationsException: Communications link failure</code> </li>\n<li><code>java.lang.NullPointerException: Attempt to invoke interface method 'java.sql.Statement java.sql.Connection.createStatement()' on a null object reference at</code>.</li>\n</ul>\n\n<p>I had to add:</p>\n\n<ul>\n<li><p>In AndroidManifest.xml include <code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;</code> just after the opening manifest tag.</p></li>\n<li><p>Add the JDBC driver into your Gradle (or Maven) dependencies.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1578041262,"post_id":55365072,"comment_id":105317821,"body_markdown":"You really should be using Maven or Gradle to manage your dependencies, not the IDE. Similarly to how you don&#39;t manually add packages to your Python path","body":"You really should be using Maven or Gradle to manage your dependencies, not the IDE. Similarly to how you don&#39;t manually add packages to your Python path"}],"tags":[],"owner":{"account_id":7764281,"reputation":811,"user_id":10336411,"display_name":"Peter Chen"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1578041236,"creation_date":1553629156,"answer_id":55365072,"question_id":2983248,"body_markdown":"I have the same connection error:\r\nThe problem I have is I used MySQL 8.0.15 but the Java Connector is 5.x.x.\r\n\r\nBelow is how I fixed it.\r\n1. download the 8.0.15. from Maven repository:\r\nhttps://search.maven.org/search?q=g:mysql%20AND%20a:mysql-connector-java\r\n\r\n2. In the Eclipse IDE, select the &quot;Referenced Libraries&quot; in Explorer\r\nRight Mouse Button &gt; Build Path &gt; Configure Build Path\r\na. remove the &quot;mysql-connector-5.x.jar&quot;\r\nb. Click &quot;Add External JARs...&quot; and select mysql-connector-java-8.0.15.jar.\r\n\r\nRe-run it, the problem went away.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I have the same connection error:\nThe problem I have is I used MySQL 8.0.15 but the Java Connector is 5.x.x.</p>\n\n<p>Below is how I fixed it.\n1. download the 8.0.15. from Maven repository:\n<a href=\"https://search.maven.org/search?q=g:mysql%20AND%20a:mysql-connector-java\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=g:mysql%20AND%20a:mysql-connector-java</a></p>\n\n<ol start=\"2\">\n<li>In the Eclipse IDE, select the \"Referenced Libraries\" in Explorer\nRight Mouse Button > Build Path > Configure Build Path\na. remove the \"mysql-connector-5.x.jar\"\nb. Click \"Add External JARs...\" and select mysql-connector-java-8.0.15.jar.</li>\n</ol>\n\n<p>Re-run it, the problem went away.</p>\n"},{"comments":[{"owner":{"account_id":3061143,"reputation":1338,"user_id":2593751,"display_name":"Mohannd"},"score":1,"creation_date":1577764161,"post_id":58003090,"comment_id":105248464,"body_markdown":"this is the right answer just add useSSL=false to the connection string when using MySQL driver 8 or higher.","body":"this is the right answer just add useSSL=false to the connection string when using MySQL driver 8 or higher."}],"tags":[],"owner":{"account_id":2259804,"reputation":1640,"user_id":1990173,"display_name":"Ravinath"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568861769,"creation_date":1568861769,"answer_id":58003090,"question_id":2983248,"body_markdown":"    dbhost=jdbc:mysql://172.18.23.100:3306/yourdatabase?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\r\n    user=root\r\n    password=Password#321\r\n    \r\n    con = DriverManager.getConnection(dbhost, user, password);\r\n\r\nif mysql version 8 or higher user updated connector \r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<pre><code>dbhost=jdbc:mysql://172.18.23.100:3306/yourdatabase?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\nuser=root\npassword=Password#321\n\ncon = DriverManager.getConnection(dbhost, user, password);\n</code></pre>\n\n<p>if mysql version 8 or higher user updated connector </p>\n"},{"comments":[{"owner":{"account_id":208719,"reputation":3386,"user_id":459391,"accept_rate":100,"display_name":"Sadeq Dousti"},"score":0,"creation_date":1573506925,"post_id":58808566,"comment_id":103896925,"body_markdown":"Relevant thread from [Payara Server GitHub](https://github.com/payara/Payara/issues/2747).","body":"Relevant thread from <a href=\"https://github.com/payara/Payara/issues/2747\" rel=\"nofollow noreferrer\">Payara Server GitHub</a>."},{"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"score":0,"creation_date":1694030137,"post_id":58808566,"comment_id":135839323,"body_markdown":"Similar to what happened to me. I had put in MySQL a self-signed SSL cert years back so I could connect remotely and securely with Workbench. MySQL, the web apps and everything were all on the same server and used &quot;localhost&quot; so the SSL cert wasn&#39;t needed for them. But the cert expired, then nothing worked. I did see one message in Tomcat logs - java.security.cert.CertificateExpiredException: NotAfter: Wed Sep 06 [time] 2023. Apparently the web apps also couldn&#39;t connect when the cert was expired. I fixed with a new cert. Probably disabling SSL in MySQL would have fixed it also.","body":"Similar to what happened to me. I had put in MySQL a self-signed SSL cert years back so I could connect remotely and securely with Workbench. MySQL, the web apps and everything were all on the same server and used &quot;localhost&quot; so the SSL cert wasn&#39;t needed for them. But the cert expired, then nothing worked. I did see one message in Tomcat logs - java.security.cert.CertificateExpiredException: NotAfter: Wed Sep 06 [time] 2023. Apparently the web apps also couldn&#39;t connect when the cert was expired. I fixed with a new cert. Probably disabling SSL in MySQL would have fixed it also."}],"tags":[],"owner":{"account_id":208719,"reputation":3386,"user_id":459391,"accept_rate":100,"display_name":"Sadeq Dousti"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1573506417,"creation_date":1573505646,"answer_id":58808566,"question_id":2983248,"body_markdown":"This error may also happen if Java tries to connect to MySQL over SSL, but something goes wrong. (In my case, I was configuring Payara Server 5.193.1 connection pools to MySQL.)\n\nSome people suggested setting `useSSL=false`. However, since Connector/J version `8.0.13`, that setting is deprecated. Here&#39;s an excerpt from [MySQL Connector/J 8.0 Configuration Properties](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html):\n\n&gt; ## sslMode\n&gt; By default, network connections are SSL encrypted; this property permits secure connections to be turned off, or a different levels of security to be chosen. The following values are allowed: `DISABLED` - Establish unencrypted connections; `PREFERRED` - (default) Establish encrypted connections if the server enabled them, otherwise fall back to unencrypted connections; `REQUIRED` - Establish secure connections if the server enabled them, fail otherwise; `VERIFY_CA` - Like `REQUIRED` but additionally verify the server TLS certificate against the configured Certificate Authority (CA) certificates; `VERIFY_IDENTITY` - Like `VERIFY_CA`, but additionally verify that the server certificate matches the host to which the connection is attempted.\n&gt;\n&gt; This property replaced the deprecated legacy properties `useSSL`, `requireSSL`, and `verifyServerCertificate`, which are still accepted but translated into a value for `sslMode` if `sslMode` is not explicitly set: `useSSL=false` is translated to `sslMode=DISABLED`; `{&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;, &quot;verifyServerCertificate=false&quot;}` is translated to `sslMode=PREFERRED`; `{&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;, &quot;verifyServerCertificate=false&quot;}` is translated to `sslMode=REQUIRED`; `{&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;}` is translated to `sslMode=VERIFY_CA`. There is no equivalent legacy settings for `sslMode=VERIFY_IDENTITY`. Note that, for ALL server versions, the default setting of `sslMode` is `PREFERRED`, and it is equivalent to the legacy settings of `useSSL=true`, `requireSSL=false`, and `verifyServerCertificate=false`, which are different from their default settings for Connector/J 8.0.12 and earlier in some situations. Applications that continue to use the legacy properties and rely on their old default settings should be reviewed.\n&gt;\n&gt; The legacy properties are ignored if `sslMode` is set explicitly. If none of `sslMode` or `useSSL` is set explicitly, the default setting of `sslMode=PREFERRED` applies.\n&gt;\n&gt; **Default**: `PREFERRED`\n&gt;\n&gt; **Since version**: 8.0.13\n\nSo, in my case, setting `sslMode=DISABLED` was all I needed to resolve the issue. \nThis was on a test machine. But for production, the secure solution would be properly configuring the Java client and MySQL server to use SSL.\n\n---------\n\nNotice that by disabling SSL, you might also have to set `allowPublicKeyRetrieval=true`. (Again, not a wise decision from security standpoint). Further information is provided in [MySQL ConnectionString Options](https://mysqlconnector.net/connection-options/):\n\n&gt; ## AllowPublicKeyRetrieval\n&gt;\n&gt; If the user account uses `sha256_password` authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available then RSA public key encryption will be used. To specify the server’s RSA public key, use the `ServerRSAPublicKeyFile` connection string setting, or set `AllowPublicKeyRetrieval=True` to allow the client to automatically request the public key from the server. Note that `AllowPublicKeyRetrieval=True` could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This error may also happen if Java tries to connect to MySQL over SSL, but something goes wrong. (In my case, I was configuring Payara Server 5.193.1 connection pools to MySQL.)</p>\n<p>Some people suggested setting <code>useSSL=false</code>. However, since Connector/J version <code>8.0.13</code>, that setting is deprecated. Here's an excerpt from <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"noreferrer\">MySQL Connector/J 8.0 Configuration Properties</a>:</p>\n<blockquote>\n<h2>sslMode</h2>\n<p>By default, network connections are SSL encrypted; this property permits secure connections to be turned off, or a different levels of security to be chosen. The following values are allowed: <code>DISABLED</code> - Establish unencrypted connections; <code>PREFERRED</code> - (default) Establish encrypted connections if the server enabled them, otherwise fall back to unencrypted connections; <code>REQUIRED</code> - Establish secure connections if the server enabled them, fail otherwise; <code>VERIFY_CA</code> - Like <code>REQUIRED</code> but additionally verify the server TLS certificate against the configured Certificate Authority (CA) certificates; <code>VERIFY_IDENTITY</code> - Like <code>VERIFY_CA</code>, but additionally verify that the server certificate matches the host to which the connection is attempted.</p>\n<p>This property replaced the deprecated legacy properties <code>useSSL</code>, <code>requireSSL</code>, and <code>verifyServerCertificate</code>, which are still accepted but translated into a value for <code>sslMode</code> if <code>sslMode</code> is not explicitly set: <code>useSSL=false</code> is translated to <code>sslMode=DISABLED</code>; <code>{&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;, &quot;verifyServerCertificate=false&quot;}</code> is translated to <code>sslMode=PREFERRED</code>; <code>{&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;, &quot;verifyServerCertificate=false&quot;}</code> is translated to <code>sslMode=REQUIRED</code>; <code>{&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;}</code> is translated to <code>sslMode=VERIFY_CA</code>. There is no equivalent legacy settings for <code>sslMode=VERIFY_IDENTITY</code>. Note that, for ALL server versions, the default setting of <code>sslMode</code> is <code>PREFERRED</code>, and it is equivalent to the legacy settings of <code>useSSL=true</code>, <code>requireSSL=false</code>, and <code>verifyServerCertificate=false</code>, which are different from their default settings for Connector/J 8.0.12 and earlier in some situations. Applications that continue to use the legacy properties and rely on their old default settings should be reviewed.</p>\n<p>The legacy properties are ignored if <code>sslMode</code> is set explicitly. If none of <code>sslMode</code> or <code>useSSL</code> is set explicitly, the default setting of <code>sslMode=PREFERRED</code> applies.</p>\n<p><strong>Default</strong>: <code>PREFERRED</code></p>\n<p><strong>Since version</strong>: 8.0.13</p>\n</blockquote>\n<p>So, in my case, setting <code>sslMode=DISABLED</code> was all I needed to resolve the issue.\nThis was on a test machine. But for production, the secure solution would be properly configuring the Java client and MySQL server to use SSL.</p>\n<hr />\n<p>Notice that by disabling SSL, you might also have to set <code>allowPublicKeyRetrieval=true</code>. (Again, not a wise decision from security standpoint). Further information is provided in <a href=\"https://mysqlconnector.net/connection-options/\" rel=\"noreferrer\">MySQL ConnectionString Options</a>:</p>\n<blockquote>\n<h2>AllowPublicKeyRetrieval</h2>\n<p>If the user account uses <code>sha256_password</code> authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available then RSA public key encryption will be used. To specify the server’s RSA public key, use the <code>ServerRSAPublicKeyFile</code> connection string setting, or set <code>AllowPublicKeyRetrieval=True</code> to allow the client to automatically request the public key from the server. Note that <code>AllowPublicKeyRetrieval=True</code> could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2259804,"reputation":1640,"user_id":1990173,"display_name":"Ravinath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577774532,"creation_date":1577774532,"answer_id":59540560,"question_id":2983248,"body_markdown":"&gt; Sample jdbc connection class file. simply call the getConnection method when you want to get a connection. include related mysql-connector.jar\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    \r\n    public class DBConnection {\r\n    \r\n        public Connection getConnection() {\r\n            Connection con = null;\r\n    \r\n            String dbhost;\r\n            String user;\r\n            String password;\r\n    // get properties\r\n    dbhost=&quot;jdbc:mysql://localhost:3306/cardmaildb&quot;;\r\n    user=&quot;root&quot;;\r\n    password=&quot;123&quot;;\r\n    \r\n     System.out.println(&quot;S=======db Connecting======&quot;);\r\n    \r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \r\n                con = DriverManager.getConnection(dbhost, user, password);\r\n    \t\t\t//if you are facing with SSl issue please try this \r\n                //con = DriverManager.getConnection(&quot;jdbc:mysql://192.168.23.100:3306/cardmaildb?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false&quot;,user, password);\r\n    \r\n            } catch (Exception e) {\r\n                System.err.println(&quot;error in connection&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;E=======db Connecting======&quot;);\r\n            return con;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            new DBConnection().getConnection();\r\n        }\r\n    }","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<blockquote>\n  <p>Sample jdbc connection class file. simply call the getConnection method when you want to get a connection. include related mysql-connector.jar</p>\n</blockquote>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\n\n\npublic class DBConnection {\n\n    public Connection getConnection() {\n        Connection con = null;\n\n        String dbhost;\n        String user;\n        String password;\n// get properties\ndbhost=\"jdbc:mysql://localhost:3306/cardmaildb\";\nuser=\"root\";\npassword=\"123\";\n\n System.out.println(\"S=======db Connecting======\");\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n\n            con = DriverManager.getConnection(dbhost, user, password);\n            //if you are facing with SSl issue please try this \n            //con = DriverManager.getConnection(\"jdbc:mysql://192.168.23.100:3306/cardmaildb?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\",user, password);\n\n        } catch (Exception e) {\n            System.err.println(\"error in connection\");\n            e.printStackTrace();\n        }\n        System.out.println(\"E=======db Connecting======\");\n        return con;\n    }\n\n    public static void main(String[] args) {\n        new DBConnection().getConnection();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5907691,"reputation":1742,"user_id":4648873,"accept_rate":59,"display_name":"A.R.K.S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588964658,"creation_date":1588963567,"answer_id":61685973,"question_id":2983248,"body_markdown":"In my case, I faced this error when trying to connect to mysql-server running inside a container on a Ubuntu host VM from the same host. \r\n\r\nExample: \r\nIf my VM name is `abc.company.com`,  the following jdbc URL **would not work**:\r\n\r\n`jdbc:mysql://abc.company.com:3306/dbname`\r\n\r\nAbove jdbc url would work fine from other machines like `xyz.company.com` but just not `abc.company.com`.\r\n\r\nwhere as the following jdbc URL **would work just fine** on `abc.company.com` machine:\r\n\r\n`jdbc:mysql://localhost:3306/dbname`\r\n\r\nwhich led me to check the `/etc/hosts` file. \r\n\r\nAdding the following line to `/etc/hosts` fixed this issue: \r\n\r\n`127.0.1.1    abc.company.com    abc`\r\n\r\nThis seems to be an OS bug that requires us to add these on some Ubuntu versions. \r\nReference: https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution\r\n\r\n\r\nBefore trying this, I had tried all other solutions like `GRANT ALL..`, changing the `bind-address` line in mysql.cnf.. None of them helped me in this case.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, I faced this error when trying to connect to mysql-server running inside a container on a Ubuntu host VM from the same host. </p>\n\n<p>Example: \nIf my VM name is <code>abc.company.com</code>,  the following jdbc URL <strong>would not work</strong>:</p>\n\n<p><code>jdbc:mysql://abc.company.com:3306/dbname</code></p>\n\n<p>Above jdbc url would work fine from other machines like <code>xyz.company.com</code> but just not <code>abc.company.com</code>.</p>\n\n<p>where as the following jdbc URL <strong>would work just fine</strong> on <code>abc.company.com</code> machine:</p>\n\n<p><code>jdbc:mysql://localhost:3306/dbname</code></p>\n\n<p>which led me to check the <code>/etc/hosts</code> file. </p>\n\n<p>Adding the following line to <code>/etc/hosts</code> fixed this issue: </p>\n\n<p><code>127.0.1.1    abc.company.com    abc</code></p>\n\n<p>This seems to be an OS bug that requires us to add these on some Ubuntu versions. \nReference: <a href=\"https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution\" rel=\"nofollow noreferrer\">https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution</a></p>\n\n<p>Before trying this, I had tried all other solutions like <code>GRANT ALL..</code>, changing the <code>bind-address</code> line in mysql.cnf.. None of them helped me in this case.</p>\n"},{"comments":[{"owner":{"account_id":11017423,"reputation":1864,"user_id":8092868,"display_name":"Joep Weijers"},"score":1,"creation_date":1598357305,"post_id":63576314,"comment_id":112426844,"body_markdown":"MariaDB is a fork of MySQL, but in effect they are two different databases. Your suggestion to use another JDBC driver is not a solution in this case, which was caused by the server not started up.","body":"MariaDB is a fork of MySQL, but in effect they are two different databases. Your suggestion to use another JDBC driver is not a solution in this case, which was caused by the server not started up."}],"tags":[],"owner":{"account_id":10895539,"reputation":64,"user_id":8009657,"display_name":"Adnan Asghar"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1598349224,"creation_date":1598349224,"answer_id":63576314,"question_id":2983248,"body_markdown":"In my case, turn out to be that the version of mysql-connector-java was different.\r\nI just changed mysql jdbc to maria jbdc\r\n---------------\r\nOld jdbc driver\r\n````\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.21&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n````\r\nNew Jdbc driver\r\n\r\n````\r\n&lt;!-- https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n````\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<h2>In my case, turn out to be that the version of mysql-connector-java was different.\nI just changed mysql jdbc to maria jbdc</h2>\n<p>Old jdbc driver</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.21&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n</code></pre>\n<p>New Jdbc driver</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n    &lt;version&gt;2.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12043124,"reputation":381,"user_id":8809295,"display_name":"Pedro Queiroga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604445165,"creation_date":1604445165,"answer_id":64672070,"question_id":2983248,"body_markdown":"This question has MANY answers, and I think mine would suit another question better, but the answers to that question are locked. It points to this thread.\r\n\r\nWhat solved it for me was appending `&amp;createDatabaseIfNotExist=true` to the `spring.datasource.url` string in `application.properties`.\r\n\r\nThis was very tricky because it manifested itself in a couple of different, weird, seemingly unrelated errors, and when I tried to fix what it complained about it simply would pop another error up, or the error was impossible to fix. It complained about not being able to load JDBC, saying it wasn&#39;t in the classpath, but I added it to the classpath in some 30 different ways and was already facedesking.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This question has MANY answers, and I think mine would suit another question better, but the answers to that question are locked. It points to this thread.</p>\n<p>What solved it for me was appending <code>&amp;createDatabaseIfNotExist=true</code> to the <code>spring.datasource.url</code> string in <code>application.properties</code>.</p>\n<p>This was very tricky because it manifested itself in a couple of different, weird, seemingly unrelated errors, and when I tried to fix what it complained about it simply would pop another error up, or the error was impossible to fix. It complained about not being able to load JDBC, saying it wasn't in the classpath, but I added it to the classpath in some 30 different ways and was already facedesking.</p>\n"},{"tags":[],"owner":{"account_id":3532567,"reputation":349,"user_id":2951657,"display_name":"Thuan Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619432011,"creation_date":1619432011,"answer_id":67264744,"question_id":2983248,"body_markdown":"I resolve this problem by downgrade jdk version.\r\nDowngrade from 11.0.11 to 11.0.10 or older java version","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I resolve this problem by downgrade jdk version.\nDowngrade from 11.0.11 to 11.0.10 or older java version</p>\n"},{"comments":[{"owner":{"account_id":5688604,"reputation":171,"user_id":6187318,"display_name":"Henry Parker"},"score":1,"creation_date":1637790786,"post_id":67401529,"comment_id":123923449,"body_markdown":"You just saved me a lot of debugging. I had the exact same situation and updating from &quot;8.0.16&quot; to &quot;8.0.25&quot; fixed it. Shame on mysql connector devs for breaking compatibility in a patch version.","body":"You just saved me a lot of debugging. I had the exact same situation and updating from &quot;8.0.16&quot; to &quot;8.0.25&quot; fixed it. Shame on mysql connector devs for breaking compatibility in a patch version."}],"tags":[],"owner":{"account_id":5515753,"reputation":86,"user_id":4380586,"display_name":"Neetesh Kumar Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620218825,"creation_date":1620218486,"answer_id":67401529,"question_id":2983248,"body_markdown":"I was facing this issue while running the automation tests on remote Jenkins server. However while running the tests on local no issue was occurring.\r\n\r\nFor me this issue was resolved after updating the mysql-connector version to the latest in the POM file as the MySQL version was changed on server side.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut debugging of the same turned out a bit difficult and took almost two days as I was not aware of the MySQL version change and it was working fine in local.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I was facing this issue while running the automation tests on remote Jenkins server. However while running the tests on local no issue was occurring.</p>\n<p>For me this issue was resolved after updating the mysql-connector version to the latest in the POM file as the MySQL version was changed on server side.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But debugging of the same turned out a bit difficult and took almost two days as I was not aware of the MySQL version change and it was working fine in local.</p>\n"},{"comments":[{"owner":{"account_id":102957,"reputation":720,"user_id":276036,"accept_rate":60,"display_name":"NickBeaugi&#233;"},"score":1,"creation_date":1626287904,"post_id":67969576,"comment_id":120855635,"body_markdown":"Thank you SO MUCH! I was tearing my hair out wondering what was wrong. I could connect using MySQL Workbench, but not via Java code and connection strings that had worked against what I thought was an identical RDS instance.","body":"Thank you SO MUCH! I was tearing my hair out wondering what was wrong. I could connect using MySQL Workbench, but not via Java code and connection strings that had worked against what I thought was an identical RDS instance."},{"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"score":0,"creation_date":1660894385,"post_id":67969576,"comment_id":129645799,"body_markdown":"Can anyone please explain why it started working by enabling tls protocol  :- )","body":"Can anyone please explain why it started working by enabling tls protocol  :- )"},{"owner":{"account_id":1807526,"reputation":3107,"user_id":1644320,"accept_rate":47,"display_name":"Pablo Pazos"},"score":1,"creation_date":1669862624,"post_id":67969576,"comment_id":131741650,"body_markdown":"This was the solution for me, I think the issue is my Linux is old and my database is new, so they manage different minimal required TLS protocol versions.","body":"This was the solution for me, I think the issue is my Linux is old and my database is new, so they manage different minimal required TLS protocol versions."}],"tags":[],"owner":{"account_id":2678673,"reputation":7710,"user_id":2314443,"accept_rate":40,"display_name":"Gerard de Visser"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1672133905,"creation_date":1623670774,"answer_id":67969576,"question_id":2983248,"body_markdown":"In my case, the solution was to add the expected TLS protocol to the connection string like this:\r\n\r\n    jdbc:mysql://localhost:3306/database_name?enabledTLSProtocols=TLSv1.2\r\n\r\nFor testing/development purposes (not recommended for production) you can also try:\r\n\r\n    jdbc:mysql://localhost:3306/database_name?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, the solution was to add the expected TLS protocol to the connection string like this:</p>\n<pre><code>jdbc:mysql://localhost:3306/database_name?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p>For testing/development purposes (not recommended for production) you can also try:</p>\n<pre><code>jdbc:mysql://localhost:3306/database_name?useSSL=false&amp;allowPublicKeyRetrieval=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12381571,"reputation":1354,"user_id":10227261,"display_name":"Musfiq Shanta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632891384,"creation_date":1632891384,"answer_id":69370606,"question_id":2983248,"body_markdown":"This problem is Create From xampp Port. First You should confirm your port number. Basically, everyone tries to use 3306 but sometimes it will be wrong. \r\nYou can try this jdbc:mysql://127.0.0.1:3307","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This problem is Create From xampp Port. First You should confirm your port number. Basically, everyone tries to use 3306 but sometimes it will be wrong.\nYou can try this jdbc:mysql://127.0.0.1:3307</p>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1642407240,"post_id":70697185,"comment_id":125053228,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/30809724)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/30809724\">From Review</a>"}],"tags":[],"owner":{"account_id":10811702,"reputation":81,"user_id":7952107,"display_name":"Jackson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642079464,"creation_date":1642079464,"answer_id":70697185,"question_id":2983248,"body_markdown":"Please use Platform Independent zip or tar, it works for me when encountering this error.\r\n\r\nhttps://dev.mysql.com/downloads/connector/j/?os=26","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Please use Platform Independent zip or tar, it works for me when encountering this error.</p>\n<p><a href=\"https://dev.mysql.com/downloads/connector/j/?os=26\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/?os=26</a></p>\n"},{"tags":[],"owner":{"account_id":10360796,"reputation":169,"user_id":7641341,"display_name":"user7641341"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1647070042,"creation_date":1647070042,"answer_id":71447760,"question_id":2983248,"body_markdown":"Add this \r\n useSSL=false&amp;allowPublicKeyRetrieval=true\r\n\r\njdbc:mysql://localhost:3306/cloudapp?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n\r\nhttps://youtu.be/ray3YvnIohM","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Add this\nuseSSL=false&amp;allowPublicKeyRetrieval=true</p>\n<p>jdbc:mysql://localhost:3306/cloudapp?useSSL=false&amp;allowPublicKeyRetrieval=true</p>\n<p><a href=\"https://youtu.be/ray3YvnIohM\" rel=\"noreferrer\">https://youtu.be/ray3YvnIohM</a></p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648946869,"creation_date":1648946869,"answer_id":71722182,"question_id":2983248,"body_markdown":"Generally this problem occur, when database, which you use executing turn off in your OS. if you use windows then go to the services and make sure that MySQL is Starting positon.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Generally this problem occur, when database, which you use executing turn off in your OS. if you use windows then go to the services and make sure that MySQL is Starting positon.</p>\n"},{"tags":[],"owner":{"account_id":2204705,"reputation":311,"user_id":1948214,"accept_rate":75,"display_name":"keesp"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650220468,"creation_date":1650220468,"answer_id":71904498,"question_id":2983248,"body_markdown":"There is a very special situation when this problem can happen, with MySQL Workbench, and especially when using the Eclipse JPA and persistence under localhost. The problem is that, as mentioned in some other answers, that the MySQL server can be very restrictive to using localhost, 0.0.0.0.1 or 127.0.0.1 when creating a connection. In order to overcome this, the hosts file in (for Windows):\r\n\r\nC:\\Windows\\System32\\drivers\\etc\r\n\r\nneeds to have the following entry added to it for the main connection (e.g.myserver):    \r\n\r\n#MY DATABASE SERVER&lt;br&gt; \r\n127.0.0.1\tmyserver\r\n\r\nIf this is not added to hosts, the connection will fail every time you try to connect with the database from 127.0.0.1","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>There is a very special situation when this problem can happen, with MySQL Workbench, and especially when using the Eclipse JPA and persistence under localhost. The problem is that, as mentioned in some other answers, that the MySQL server can be very restrictive to using localhost, 0.0.0.0.1 or 127.0.0.1 when creating a connection. In order to overcome this, the hosts file in (for Windows):</p>\n<p>C:\\Windows\\System32\\drivers\\etc</p>\n<p>needs to have the following entry added to it for the main connection (e.g.myserver):</p>\n<p>#MY DATABASE SERVER<br>\n127.0.0.1   myserver</p>\n<p>If this is not added to hosts, the connection will fail every time you try to connect with the database from 127.0.0.1</p>\n"},{"tags":[],"owner":{"account_id":15081497,"reputation":95,"user_id":11802176,"display_name":"akib"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655543337,"creation_date":1655543337,"answer_id":72668073,"question_id":2983248,"body_markdown":"In my case I was getting this error while running from intellij IDEA while running from terminal with `./gradlew bootRun` was working fine. Then I figured out Intellij was pointing to some `liberica java` I&#39;d downloaded. I changed it to OpenJdk one and it started working fine. ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case I was getting this error while running from intellij IDEA while running from terminal with <code>./gradlew bootRun</code> was working fine. Then I figured out Intellij was pointing to some <code>liberica java</code> I'd downloaded. I changed it to OpenJdk one and it started working fine.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659012949,"creation_date":1659012949,"answer_id":73153326,"question_id":2983248,"body_markdown":"In my case,\r\nAdding the query parameter in the connection String solved the issue.\r\n`&amp;useSSL=false` \r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\njdbc:mysql://${jdbc_url}:${jdbc_port}/${database_name}?serverTimezone=UTC&amp;autoReconnect=true&amp;useSSL=false&amp;failOverReadOnly=false&amp;maxReconnects=10\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZy2k.png","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case,\nAdding the query parameter in the connection String solved the issue.\n<code>&amp;useSSL=false</code></p>\n<p><a href=\"https://i.stack.imgur.com/MZy2k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZy2k.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>jdbc:mysql://${jdbc_url}:${jdbc_port}/${database_name}?serverTimezone=UTC&amp;autoReconnect=true&amp;useSSL=false&amp;failOverReadOnly=false&amp;maxReconnects=10\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663757315,"creation_date":1663757315,"answer_id":73799472,"question_id":2983248,"body_markdown":"This can also happen why MySQL is dying. In my case I had a query that triggered a bug in MySQL and so the server died and restarted whenever the query was executed. Look in your MySQL error log to see if that&#39;s happening.\r\nIn my case (Homebrew on MacOS) that was in `/usr/local/var/mysql/&lt;machinename&gt;.err`\r\n\r\nSince I was seeing this on a test system I ended up dropping and recreating my database which solved the problem but I dread to think what I would have done if it was on production.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This can also happen why MySQL is dying. In my case I had a query that triggered a bug in MySQL and so the server died and restarted whenever the query was executed. Look in your MySQL error log to see if that's happening.\nIn my case (Homebrew on MacOS) that was in <code>/usr/local/var/mysql/&lt;machinename&gt;.err</code></p>\n<p>Since I was seeing this on a test system I ended up dropping and recreating my database which solved the problem but I dread to think what I would have done if it was on production.</p>\n"},{"tags":[],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690660413,"creation_date":1690660413,"answer_id":76795231,"question_id":2983248,"body_markdown":"I just want to add another answer because it is not always a problem in your backend configuration or connections pool, etc.\r\n\r\nSometimes it is also the infrastructure of your database, the location of the server where it is at, so make sure that you have a good database infrastructure (cpu, ram, network, etc.) and also that it is on the same region of your application, this way you will improve alot the performance and stop getting this error messages that in some cases as I am trying to explain, is more about your database","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I just want to add another answer because it is not always a problem in your backend configuration or connections pool, etc.</p>\n<p>Sometimes it is also the infrastructure of your database, the location of the server where it is at, so make sure that you have a good database infrastructure (cpu, ram, network, etc.) and also that it is on the same region of your application, this way you will improve alot the performance and stop getting this error messages that in some cases as I am trying to explain, is more about your database</p>\n"}],"owner":{"account_id":62488,"reputation":28510,"user_id":185657,"accept_rate":66,"display_name":"Josh K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987155,"favorite_count":0,"down_vote_count":0,"up_vote_count":320,"accepted_answer_id":2985169,"answer_count":51,"score":320,"last_activity_date":1690660413,"creation_date":1275803350,"question_id":2983248,"body_markdown":"I&#39;m working on getting my database to talk to my Java programs.\r\n\r\nCan someone give me a quick and dirty sample program using the JDBC?\r\n\r\nI&#39;m getting a rather stupendous error:\r\n\r\n    Exception in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure \r\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\r\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\r\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\r\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:582)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:207)\r\n        at SqlTest.main(SqlTest.java:22)\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n        at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\r\n        ... 12 more\r\n    Caused by: java.net.ConnectException: Connection refused\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)\r\n        at java.net.Socket.connect(Socket.java:529)\r\n        at java.net.Socket.connect(Socket.java:478)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:375)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:218)\r\n        at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\r\n        at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\r\n        ... 13 more\r\n\r\nContents of the test file:\r\n\r\n    import com.mysql.jdbc.*;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n\r\n    public class SqlTest {\r\n\r\n    \tpublic static void main(String [] args) throws Exception {\r\n    \t\t// Class.forName( &quot;com.mysql.jdbc.Driver&quot; ); // do this in init\r\n    \t\t// // edit the jdbc url \r\n    \t\tConnection conn = DriverManager.getConnection( \r\n                &quot;jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123&quot;);\r\n    \t\t// Statement st = conn.createStatement();\r\n    \t\t// ResultSet rs = st.executeQuery( &quot;select * from table&quot; );\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Connected?&quot;);\r\n    \t}\r\n    }","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I'm working on getting my database to talk to my Java programs.</p>\n\n<p>Can someone give me a quick and dirty sample program using the JDBC?</p>\n\n<p>I'm getting a rather stupendous error:</p>\n\n<pre><code>Exception in thread \"main\" com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure \n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\n    at java.sql.DriverManager.getConnection(DriverManager.java:582)\n    at java.sql.DriverManager.getConnection(DriverManager.java:207)\n    at SqlTest.main(SqlTest.java:22)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\n    ... 12 more\nCaused by: java.net.ConnectException: Connection refused\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)\n    at java.net.Socket.connect(Socket.java:529)\n    at java.net.Socket.connect(Socket.java:478)\n    at java.net.Socket.&lt;init&gt;(Socket.java:375)\n    at java.net.Socket.&lt;init&gt;(Socket.java:218)\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\n    ... 13 more\n</code></pre>\n\n<p>Contents of the test file:</p>\n\n<pre><code>import com.mysql.jdbc.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class SqlTest {\n\n    public static void main(String [] args) throws Exception {\n        // Class.forName( \"com.mysql.jdbc.Driver\" ); // do this in init\n        // // edit the jdbc url \n        Connection conn = DriverManager.getConnection( \n            \"jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123\");\n        // Statement st = conn.createStatement();\n        // ResultSet rs = st.executeQuery( \"select * from table\" );\n\n        System.out.println(\"Connected?\");\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","calculator","operation"],"answers":[{"comments":[{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":1,"creation_date":1690640011,"post_id":76793370,"comment_id":135383355,"body_markdown":"Ohh.. Apologies for that. Basically thats not the problem.I planned it for val[i+1],as you said. I think its my typing mistake. I did edit it.","body":"Ohh.. Apologies for that. Basically thats not the problem.I planned it for val[i+1],as you said. I think its my typing mistake. I did edit it."}],"tags":[],"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690630430,"creation_date":1690630430,"answer_id":76793370,"question_id":76793330,"body_markdown":"You need to change one line in the code.\r\n\r\n    res = val[i] / val[i + 1];\r\n\r\nyou are using `+ 2` for index but the operand is in `op[]` and not in `val[]`","title":"Basic math operations using array concept [java]","body":"<p>You need to change one line in the code.</p>\n<pre><code>res = val[i] / val[i + 1];\n</code></pre>\n<p>you are using <code>+ 2</code> for index but the operand is in <code>op[]</code> and not in <code>val[]</code></p>\n"},{"comments":[{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1690647783,"post_id":76793371,"comment_id":135384192,"body_markdown":"Then that&#39;s not an effective approach.storing the result on val[i+1]  doesn&#39;t give accurate result all the time. For example:2+15/5 results 3 in this way. But the actual result is 5.That means a &#39;*&#39; or &#39;/&#39; come as last operator after a &#39;+&#39; or &#39;-&#39; gives inaccurate result","body":"Then that&#39;s not an effective approach.storing the result on val[i+1]  doesn&#39;t give accurate result all the time. For example:2+15/5 results 3 in this way. But the actual result is 5.That means a &#39;*&#39; or &#39;/&#39; come as last operator after a &#39;+&#39; or &#39;-&#39; gives inaccurate result"}],"tags":[],"owner":{"account_id":3145385,"reputation":881,"user_id":2659962,"display_name":"Akhilesh Pandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690630433,"creation_date":1690630433,"answer_id":76793371,"question_id":76793330,"body_markdown":"\r\nIn `res=val[i]/val[i+2]`, you are dividing the value at `i` by the value at `i+2`. This is not correct because it may result in an `ArrayIndexOutOfBoundsException` if `i+2` is beyond the length of the array.\r\n\r\nAlso,result of the division is not properly assigned back into the `val` array after the operation.\r\n\r\nYou are trying to perform operations and shrink the arrays in one pass. This is not an effective approach. It would be more easy to first apply all division and multiplication operations then proceed with addition and subtraction.\r\n\r\n\r\n```\r\npackage trial;\r\nimport java.util.Scanner;\r\npublic class trial {\r\n    public static void main(String[] args) {\r\n        float[] val = new float[10];\r\n        char[] op = new char[10];\r\n        int lim;\r\n        Scanner sc= new Scanner(System.in);\r\n        System.out.println(&quot;how many operands&quot;);\r\n        lim = sc.nextInt();\r\n        for(int i = 0; i &lt; lim; i++) {\r\n            System.out.println(&quot;enter a number&quot;);\r\n            val[i] = sc.nextFloat();\r\n            if(i != lim - 1) {\r\n                System.out.println(&quot;enter the operation(+,-,/,*)&quot;);\r\n                op[i] = sc.next().charAt(0);\r\n            }\r\n        }\r\n\r\n        // Perform the operations following BODMAS rules\r\n        for(int i = 0; i &lt; lim-1; i++) {\r\n            if(op[i] == &#39;/&#39;) {\r\n                val[i+1] = val[i] / val[i+1];\r\n                op[i] = &#39; &#39;;\r\n            }\r\n            else if(op[i] == &#39;*&#39;) {\r\n                val[i+1] = val[i] * val[i+1];\r\n                op[i] = &#39; &#39;;\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; lim-1; i++) {\r\n            if(op[i] == &#39;+&#39;) {\r\n                val[i+1] = val[i] + val[i+1];\r\n            }\r\n            else if(op[i] == &#39;-&#39;) {\r\n                val[i+1] = val[i] - val[i+1];\r\n            }\r\n        }\r\n        System.out.println(&quot;Result is &quot;+val[lim-1]);\r\n    }\r\n}\r\n```","title":"Basic math operations using array concept [java]","body":"<p>In <code>res=val[i]/val[i+2]</code>, you are dividing the value at <code>i</code> by the value at <code>i+2</code>. This is not correct because it may result in an <code>ArrayIndexOutOfBoundsException</code> if <code>i+2</code> is beyond the length of the array.</p>\n<p>Also,result of the division is not properly assigned back into the <code>val</code> array after the operation.</p>\n<p>You are trying to perform operations and shrink the arrays in one pass. This is not an effective approach. It would be more easy to first apply all division and multiplication operations then proceed with addition and subtraction.</p>\n<pre><code>package trial;\nimport java.util.Scanner;\npublic class trial {\n    public static void main(String[] args) {\n        float[] val = new float[10];\n        char[] op = new char[10];\n        int lim;\n        Scanner sc= new Scanner(System.in);\n        System.out.println(&quot;how many operands&quot;);\n        lim = sc.nextInt();\n        for(int i = 0; i &lt; lim; i++) {\n            System.out.println(&quot;enter a number&quot;);\n            val[i] = sc.nextFloat();\n            if(i != lim - 1) {\n                System.out.println(&quot;enter the operation(+,-,/,*)&quot;);\n                op[i] = sc.next().charAt(0);\n            }\n        }\n\n        // Perform the operations following BODMAS rules\n        for(int i = 0; i &lt; lim-1; i++) {\n            if(op[i] == '/') {\n                val[i+1] = val[i] / val[i+1];\n                op[i] = ' ';\n            }\n            else if(op[i] == '*') {\n                val[i+1] = val[i] * val[i+1];\n                op[i] = ' ';\n            }\n        }\n        for(int i = 0; i &lt; lim-1; i++) {\n            if(op[i] == '+') {\n                val[i+1] = val[i] + val[i+1];\n            }\n            else if(op[i] == '-') {\n                val[i+1] = val[i] - val[i+1];\n            }\n        }\n        System.out.println(&quot;Result is &quot;+val[lim-1]);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1691002531,"post_id":76795218,"comment_id":135433101,"body_markdown":"This will not give proper result.This isn&#39;t satisfying BODMAS rule.","body":"This will not give proper result.This isn&#39;t satisfying BODMAS rule."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690660184,"creation_date":1690660184,"answer_id":76795218,"question_id":76793330,"body_markdown":"```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;how many operands: &quot;);\r\n    int totalOperands = scan.nextInt();\r\n    float[] nums = new float[totalOperands];\r\n    char[] operations = new char[totalOperands - 1];\r\n\r\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\r\n        if (i &gt; 0) {\r\n            System.out.print(&quot;enter the operation (+,-,/,*): &quot;);\r\n            operations[j++] = scan.next().charAt(0);\r\n        }\r\n\r\n        System.out.print(&quot;enter a number: &quot;);\r\n        nums[i] = scan.nextFloat();\r\n    }\r\n\r\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\r\n        if (i &gt; 0)\r\n            System.out.print(&#39; &#39;);\r\n\r\n        System.out.print(nums[i]);\r\n\r\n        if (j &lt; operations.length)\r\n            System.out.print(&quot; &quot; + operations[j++]);\r\n    }\r\n\r\n    float res = 0;\r\n\r\n    for (int i = 0, j = 0; i &lt; totalOperands; ) {\r\n        if (i == 0)\r\n            res = nums[i++];\r\n        else {\r\n            if (operations[j] == &#39;+&#39;)\r\n                res += nums[i++];\r\n            else if (operations[j] == &#39;-&#39;)\r\n                res -= nums[i++];\r\n            else if (operations[j] == &#39;/&#39;)\r\n                res /= nums[i++];\r\n            else if (operations[j] == &#39;*&#39;)\r\n                res *= nums[i++];\r\n            else\r\n                throw new RuntimeException(&quot;unknown operation&quot;);\r\n\r\n            j++;\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot; = &quot; + res);\r\n}\r\n```","title":"Basic math operations using array concept [java]","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(&quot;how many operands: &quot;);\n    int totalOperands = scan.nextInt();\n    float[] nums = new float[totalOperands];\n    char[] operations = new char[totalOperands - 1];\n\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\n        if (i &gt; 0) {\n            System.out.print(&quot;enter the operation (+,-,/,*): &quot;);\n            operations[j++] = scan.next().charAt(0);\n        }\n\n        System.out.print(&quot;enter a number: &quot;);\n        nums[i] = scan.nextFloat();\n    }\n\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\n        if (i &gt; 0)\n            System.out.print(' ');\n\n        System.out.print(nums[i]);\n\n        if (j &lt; operations.length)\n            System.out.print(&quot; &quot; + operations[j++]);\n    }\n\n    float res = 0;\n\n    for (int i = 0, j = 0; i &lt; totalOperands; ) {\n        if (i == 0)\n            res = nums[i++];\n        else {\n            if (operations[j] == '+')\n                res += nums[i++];\n            else if (operations[j] == '-')\n                res -= nums[i++];\n            else if (operations[j] == '/')\n                res /= nums[i++];\n            else if (operations[j] == '*')\n                res *= nums[i++];\n            else\n                throw new RuntimeException(&quot;unknown operation&quot;);\n\n            j++;\n        }\n    }\n\n    System.out.println(&quot; = &quot; + res);\n}\n</code></pre>\n"}],"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690660184,"creation_date":1690629785,"question_id":76793330,"body_markdown":"I,am creating a java code for doing basic math operations like Addition,Subtraction,Division,Multiplication.I build it using array concept.I want to perform multiple operations within an execution.And must follow the BODMAS rule.My code did run with no error.But did not get the output successfully. \r\nHere is the [minimal reproducible example][1]  .With Division(/) operator:\r\n\r\n    package trial;\r\n    import java.util.Scanner;\r\n    public class trial {\r\n    \tpublic static void main(String[] args) {\r\n    \tfloat[] val=new float[10];\r\n    \tchar[] op=new char[10];\r\n    \tfloat res;\r\n    \tint lim;\r\n    \t\tScanner sc= new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;how many operands&quot;);\r\n    \t\tlim=sc.nextInt();\r\n    \t\tfor(int i=0;i&lt;lim;i++) {\r\n    \t\t\tif(i==lim-1) {\r\n    \t\t\t\tSystem.out.println(&quot;enter a number&quot;);\r\n    \t\t\t\tval[i]=sc.nextFloat();\r\n    \t\t\t}\r\n    \t\telse {\r\n    \t\tSystem.out.println(&quot;enter a number&quot;);\r\n    \t\tval[i]=sc.nextFloat();\r\n    \t\tSystem.out.println(&quot;enter the operation(+,-,/,*)&quot;);\r\n    \t\top[i]=sc.next().charAt(0);\r\n    \t\t}}\r\n    \t\tfor(int i=0;i&lt;lim;i++) {\r\n    \t\t\tSystem.out.print(val[i]+&quot; &quot;+op[i]+&quot; &quot;);\r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;lim-1;i++) {\r\n    \t\t\tif(op[i]==&#39;/&#39;) {\r\n    \t\t\t\tres=val[i]/val[i+1];\r\n    \t\t\t\tval=removeArrayF(val,i);\r\n    \t\t\t\tval[i]=res;\r\n    \t\t\t\top=removeArrayC(op,i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;res is&quot;+val[0]);\r\n    \t\t}\r\n    \tstatic float[] removeArrayF(float[] array,int index){\r\n    \t\tfloat[] r=new float[array.length-1];\r\n    \t\tSystem.arraycopy(array, 0, r, 0, index);\r\n    \t\tSystem.arraycopy(array, index+1, r, index,array.length-index-1);\r\n    \t\treturn r;\r\n    \t\t}\r\n    \tstatic char[] removeArrayC(char[] array,int index){\r\n    \t\tchar[] r=new char[array.length-1];\r\n    \t\tSystem.arraycopy(array, 0, r, 0, index);\r\n    \t\tSystem.arraycopy(array, index+1, r, index,array.length-index-1);\r\n    \t\treturn r;\r\n    \t\t}\r\n    } \r\nOutput example:\r\n\r\n    how many operands\r\n    2\r\n    enter a number\r\n    12\r\n    enter the operation(+,-,/,*)\r\n    /\r\n    enter a number\r\n    3\r\n    12.0 / 3.0 \r\nOutput stops Here .I didn&#39;t get the result of the operation.What is the mistake?What are the changes i need to do for the proper result!?\r\n\r\nWhen I adding an extra `System.out.println(&quot;&quot;);` statement anywhere on the program, It executes the `System.out.println(&quot;res is &quot;+val[0]);` statement.And didnt execute the extra added statement.There I get a problem, the second System.out.println() statement doesn&#39;t work. What is the reason for that?\r\n\r\n\r\n  [1]: https://minimal%20reproducible%20example","title":"Basic math operations using array concept [java]","body":"<p>I,am creating a java code for doing basic math operations like Addition,Subtraction,Division,Multiplication.I build it using array concept.I want to perform multiple operations within an execution.And must follow the BODMAS rule.My code did run with no error.But did not get the output successfully.\nHere is the <a href=\"https://minimal%20reproducible%20example\" rel=\"nofollow noreferrer\">minimal reproducible example</a>  .With Division(/) operator:</p>\n<pre><code>package trial;\nimport java.util.Scanner;\npublic class trial {\n    public static void main(String[] args) {\n    float[] val=new float[10];\n    char[] op=new char[10];\n    float res;\n    int lim;\n        Scanner sc= new Scanner(System.in);\n        System.out.println(&quot;how many operands&quot;);\n        lim=sc.nextInt();\n        for(int i=0;i&lt;lim;i++) {\n            if(i==lim-1) {\n                System.out.println(&quot;enter a number&quot;);\n                val[i]=sc.nextFloat();\n            }\n        else {\n        System.out.println(&quot;enter a number&quot;);\n        val[i]=sc.nextFloat();\n        System.out.println(&quot;enter the operation(+,-,/,*)&quot;);\n        op[i]=sc.next().charAt(0);\n        }}\n        for(int i=0;i&lt;lim;i++) {\n            System.out.print(val[i]+&quot; &quot;+op[i]+&quot; &quot;);\n        }\n        for(int i=0;i&lt;lim-1;i++) {\n            if(op[i]=='/') {\n                res=val[i]/val[i+1];\n                val=removeArrayF(val,i);\n                val[i]=res;\n                op=removeArrayC(op,i);\n            }\n        }\n        System.out.println(&quot;res is&quot;+val[0]);\n        }\n    static float[] removeArrayF(float[] array,int index){\n        float[] r=new float[array.length-1];\n        System.arraycopy(array, 0, r, 0, index);\n        System.arraycopy(array, index+1, r, index,array.length-index-1);\n        return r;\n        }\n    static char[] removeArrayC(char[] array,int index){\n        char[] r=new char[array.length-1];\n        System.arraycopy(array, 0, r, 0, index);\n        System.arraycopy(array, index+1, r, index,array.length-index-1);\n        return r;\n        }\n} \n</code></pre>\n<p>Output example:</p>\n<pre><code>how many operands\n2\nenter a number\n12\nenter the operation(+,-,/,*)\n/\nenter a number\n3\n12.0 / 3.0 \n</code></pre>\n<p>Output stops Here .I didn't get the result of the operation.What is the mistake?What are the changes i need to do for the proper result!?</p>\n<p>When I adding an extra <code>System.out.println(&quot;&quot;);</code> statement anywhere on the program, It executes the <code>System.out.println(&quot;res is &quot;+val[0]);</code> statement.And didnt execute the extra added statement.There I get a problem, the second System.out.println() statement doesn't work. What is the reason for that?</p>\n"},{"tags":["java","multithreading","mockito"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1508917916,"post_id":46926798,"comment_id":80800516,"body_markdown":"This makes no sense. A mock is some instance of an object and you can setup some behavior on **this** instance. So I don&#39;t understand what you mean by propagation","body":"This makes no sense. A mock is some instance of an object and you can setup some behavior on <b>this</b> instance. So I don&#39;t understand what you mean by propagation"},{"owner":{"account_id":5665200,"reputation":1451,"user_id":4481541,"accept_rate":100,"display_name":"LenglBoy"},"score":0,"creation_date":1508917934,"post_id":46926798,"comment_id":80800523,"body_markdown":"maybe add some example tests of both threads which doesn&#180;t work like you want.","body":"maybe add some example tests of both threads which doesn&#180;t work like you want."},{"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"score":0,"creation_date":1508918142,"post_id":46926798,"comment_id":80800637,"body_markdown":"see https://en.wikipedia.org/wiki/Java_memory_model","body":"see <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_memory_model</a>"},{"owner":{"account_id":1496941,"reputation":1791,"user_id":1402658,"accept_rate":65,"display_name":"Taras Velykyy"},"score":0,"creation_date":1508924105,"post_id":46926798,"comment_id":80804486,"body_markdown":"What&#39;s the behavior on the build server? null is returned instead of &quot;42&quot;?","body":"What&#39;s the behavior on the build server? null is returned instead of &quot;42&quot;?"},{"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"score":0,"creation_date":1508927575,"post_id":46926798,"comment_id":80806901,"body_markdown":"As wroten the simple testcase above behaves correct. But adapted to the my real testcase the exception is not thrown","body":"As wroten the simple testcase above behaves correct. But adapted to the my real testcase the exception is not thrown"}],"answers":[{"tags":[],"owner":{"account_id":5996781,"reputation":131,"user_id":4711212,"display_name":"Андрей Пушкин"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664539467,"creation_date":1664539467,"answer_id":73908490,"question_id":46926798,"body_markdown":"I&#39;ve had an issue when the mock behaves like it wasn&#39;t configured properly.\r\nSo the interceptors were not invoked when calling the mocked object&#39;s stubbed method in other thread. I&#39;ve understand that Mockito resets my stubs when accessing the mock inside of other thread. Try to use the following.\r\n\r\n    @MockBean(reset = MockReset.NONE)\r\n    MyService myService\r\n\r\nIt may lead to problems if you have many tests in a row, but I&#39;m not sure. And if you have 1 test it will &quot;propagate&quot; (do not reset) your mocks behaviour (stubs) to (in) another threads.\r\n","title":"Is mock configuration propagated to other threads in mockito?","body":"<p>I've had an issue when the mock behaves like it wasn't configured properly.\nSo the interceptors were not invoked when calling the mocked object's stubbed method in other thread. I've understand that Mockito resets my stubs when accessing the mock inside of other thread. Try to use the following.</p>\n<pre><code>@MockBean(reset = MockReset.NONE)\nMyService myService\n</code></pre>\n<p>It may lead to problems if you have many tests in a row, but I'm not sure. And if you have 1 test it will &quot;propagate&quot; (do not reset) your mocks behaviour (stubs) to (in) another threads.</p>\n"},{"tags":[],"owner":{"account_id":3793452,"reputation":76,"user_id":3149343,"display_name":"mickle_ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690659245,"creation_date":1690659245,"answer_id":76795172,"question_id":46926798,"body_markdown":"No, Mockito does not propagate configuration to other threads and can not do it by design, because Mockito stores configurations in LocalThread.\r\n\r\nI don&#39;t know any way to share configuration between threads.\r\n\r\nYou can try another mock-library, for example EasyMock - it has another design, and PROBABLY is &quot;thread-safe&quot;, in your sin","title":"Is mock configuration propagated to other threads in mockito?","body":"<p>No, Mockito does not propagate configuration to other threads and can not do it by design, because Mockito stores configurations in LocalThread.</p>\n<p>I don't know any way to share configuration between threads.</p>\n<p>You can try another mock-library, for example EasyMock - it has another design, and PROBABLY is &quot;thread-safe&quot;, in your sin</p>\n"}],"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690659245,"creation_date":1508917732,"question_id":46926798,"body_markdown":"I have a test consisting of a thread running test code and another thread running the system under test. The SuT contains some mocks being configured in test thread.\r\n\r\nThe behavior of my test is: It does on my local machine what it should. On our build server it doesn&#39;t. As far I have debugged, the problem is, that mock doesn&#39;t behave like configured.\r\n\r\nSo it seems to me like my configuration from test thread (in some circumstances) is not propagated to sut thread.\r\n\r\nCould this be the problem? Is Mockito not thread-safe in such use cases?\r\nHere&#39;s some example code, working on my machine and (unluckily) on our build server, too.\r\n\r\n    @Test\r\n    public void testConcurrency() throws Exception {\r\n        ExecutorService executor = Executors.newFixedThreadPool(1);\r\n\r\n        MyService serviceMock = mock(MyService.class);\r\n        MyApplication app = new MyApplication(serviceMock);\r\n        Future&lt;String&gt; future = executor.submit(app);\r\n        \r\n        when(serviceMock.call()).thenThrow(new RuntimeException(&quot;expected exception&quot;));\r\n        \r\n        String result = future.get(1, TimeUnit.SECONDS);\r\n        assertNotNull(result);\r\n    }\r\n\r\n    public class MyApplication implements Callable&lt;String&gt; {\r\n        private final MyService myService;\r\n\r\n        public MyApplication(MyService myService) {\r\n            super();\r\n            this.myService = myService;\r\n        }\r\n\r\n        @Override\r\n        public String call() throws Exception {\r\n            try {\r\n                while(true) {\r\n                    myService.call();\r\n                }\r\n            } catch (Exception e) {\r\n                return &quot;42&quot;;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static interface MyService {\r\n        String call();\r\n    }","title":"Is mock configuration propagated to other threads in mockito?","body":"<p>I have a test consisting of a thread running test code and another thread running the system under test. The SuT contains some mocks being configured in test thread.</p>\n\n<p>The behavior of my test is: It does on my local machine what it should. On our build server it doesn't. As far I have debugged, the problem is, that mock doesn't behave like configured.</p>\n\n<p>So it seems to me like my configuration from test thread (in some circumstances) is not propagated to sut thread.</p>\n\n<p>Could this be the problem? Is Mockito not thread-safe in such use cases?\nHere's some example code, working on my machine and (unluckily) on our build server, too.</p>\n\n<pre><code>@Test\npublic void testConcurrency() throws Exception {\n    ExecutorService executor = Executors.newFixedThreadPool(1);\n\n    MyService serviceMock = mock(MyService.class);\n    MyApplication app = new MyApplication(serviceMock);\n    Future&lt;String&gt; future = executor.submit(app);\n\n    when(serviceMock.call()).thenThrow(new RuntimeException(\"expected exception\"));\n\n    String result = future.get(1, TimeUnit.SECONDS);\n    assertNotNull(result);\n}\n\npublic class MyApplication implements Callable&lt;String&gt; {\n    private final MyService myService;\n\n    public MyApplication(MyService myService) {\n        super();\n        this.myService = myService;\n    }\n\n    @Override\n    public String call() throws Exception {\n        try {\n            while(true) {\n                myService.call();\n            }\n        } catch (Exception e) {\n            return \"42\";\n        }\n    }\n}\n\npublic static interface MyService {\n    String call();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670143268,"post_id":74668553,"comment_id":131801411,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."}],"answers":[{"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690657041,"creation_date":1690657041,"answer_id":76795062,"question_id":74668553,"body_markdown":" -keep class com.yourCompany.yourModel.** { *; }\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel","body":"<p>-keep class com.yourCompany.yourModel.** { *; }</p>\n"}],"owner":{"account_id":27133962,"reputation":1,"user_id":20675760,"display_name":"Nate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690657041,"creation_date":1670085229,"question_id":74668553,"body_markdown":"I&#39;m so new for android Kotlin programming. I try to do recyclerview in my android app using Kotlin, when it run ,it&#39;s shown like this.\r\n\r\n```\r\n2022-12-03 15:56:35.221 16931-16931/com.example.fitnessdiary E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.fitnessdiary, PID: 16931\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.example.fitnessdiary.activities.startgym.HistoryLegActivity$getUserData$1.onDataChange(HistoryLegActivity.kt:47)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nhere is my code as follows which contain MainActivity.kt, Adapter.kt and Models.kt \r\n\r\nHistoryLegsActivity\r\n\r\n```\r\npackage com.example.fitnessdiary.activities.startgym\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.fitnessdiary.Adapter.GymLegsAdapter\r\nimport com.example.fitnessdiary.R\r\nimport com.example.fitnessdiary.models.GymLegsModel\r\nimport com.google.firebase.database.*\r\nimport java.time.LocalDate\r\n\r\nclass HistoryLegActivity: AppCompatActivity() {\r\n\r\n    private lateinit var dbref : DatabaseReference\r\n    private lateinit var userRecyclerview : RecyclerView\r\n    private lateinit var userArrayList : ArrayList&lt;GymLegsModel&gt;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_gym_leg_history)\r\n\r\n        val uid : String = intent.getStringExtra(&quot;UID&quot;)?: &quot;No data&quot;\r\n        val date = LocalDate.now().toString()\r\n\r\n        // recyclerview\r\n        userRecyclerview = findViewById(R.id.userList)\r\n        userRecyclerview.layoutManager = LinearLayoutManager(this)\r\n        userRecyclerview.setHasFixedSize(true)\r\n        userArrayList = arrayListOf&lt;GymLegsModel&gt;()\r\n        getUserData(uid, date)\r\n    }\r\n\r\n    private fun getUserData(uid: String, date: String) {\r\n\r\n        dbref = FirebaseDatabase.getInstance().getReference(&quot;Legs&quot;)\r\n\r\n        dbref.child(uid).child(date).addValueEventListener(object : ValueEventListener {\r\n\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n\r\n                if (snapshot.exists()){\r\n\r\n                    for (userSnapshot in snapshot.children){\r\n\r\n\r\n                        val user = userSnapshot.getValue(GymLegsModel::class.java)\r\n                        userArrayList.add(user!!)\r\n\r\n                    }\r\n\r\n                    userRecyclerview.adapter = GymLegsAdapter(userArrayList)\r\n\r\n\r\n                }\r\n\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n                TODO(&quot;Not yet implemented&quot;)\r\n            }\r\n\r\n\r\n        })\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nGymLegsAdapter\r\n\r\n```\r\npackage com.example.fitnessdiary.Adapter\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.TextView\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.fitnessdiary.R\r\nimport com.example.fitnessdiary.models.GymLegsModel\r\nimport kotlin.collections.ArrayList\r\n\r\nclass GymLegsAdapter(private val userList : ArrayList&lt;GymLegsModel&gt;) : RecyclerView.Adapter&lt;GymLegsAdapter.MyViewHolder&gt;() {\r\n\r\n    inner class MyViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\r\n\r\n        val totalkgL : TextView = itemView.findViewById(R.id.totalkgL)\r\n        val datestmpL : TextView = itemView.findViewById(R.id.datestmpL)\r\n\r\n        val we1 : TextView = itemView.findViewById(R.id.we1)\r\n        val we2 : TextView = itemView.findViewById(R.id.we2)\r\n        val we3 : TextView = itemView.findViewById(R.id.we3)\r\n        val re1 : TextView = itemView.findViewById(R.id.re1)\r\n        val re2 : TextView = itemView.findViewById(R.id.re2)\r\n        val re3 : TextView = itemView.findViewById(R.id.re3)\r\n\r\n        val we21 : TextView = itemView.findViewById(R.id.we21)\r\n        val we22 : TextView = itemView.findViewById(R.id.we22)\r\n        val we23 : TextView = itemView.findViewById(R.id.we23)\r\n        val re21 : TextView = itemView.findViewById(R.id.re21)\r\n        val re22 : TextView = itemView.findViewById(R.id.re22)\r\n        val re23 : TextView = itemView.findViewById(R.id.re23)\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\r\n\r\n        val itemView = LayoutInflater.from(parent.context).inflate(\r\n            R.layout.legs_item,\r\n            parent,false)\r\n        return MyViewHolder(itemView)\r\n\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\r\n\r\n        val currentitem = userList[position]\r\n\r\n        holder.totalkgL.text = currentitem.tkg\r\n        holder.datestmpL.text = currentitem.date\r\n\r\n        holder.we1.text = currentitem.w1\r\n        holder.we2.text = currentitem.w2\r\n        holder.we3.text = currentitem.w3\r\n        holder.re1.text = currentitem.r1\r\n        holder.re2.text = currentitem.r2\r\n        holder.re3.text = currentitem.r3\r\n\r\n        holder.we21.text = currentitem.w21\r\n        holder.we22.text = currentitem.w22\r\n        holder.we23.text = currentitem.w23\r\n        holder.re21.text = currentitem.r21\r\n        holder.re22.text = currentitem.r22\r\n        holder.re23.text = currentitem.r23\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n\r\n        return userList.size\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nGymLegsModel\r\n\r\n```\r\npackage com.example.fitnessdiary.models\r\n\r\ndata class GymLegsModel(\r\n    var w1 : String ?= null,\r\n    var r1 : String ?= null,\r\n    var w2 : String ?= null,\r\n    var r2 : String ?= null,\r\n    var w3 : String ?= null,\r\n    var r3 : String ?= null,\r\n\r\n    var w21 : String ?= null,\r\n    var r21 : String ?= null,\r\n    var w22 : String ?= null,\r\n    var r22 : String ?= null,\r\n    var w23 : String ?= null,\r\n    var r23 : String ?= null,\r\n\r\n    var tkg : String ?= null,\r\n    var date : String ?= null,\r\n\r\n)\r\n```\r\n\r\nMost of answer I founded are for Java programming so I have no idea how to deal with this.","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel","body":"<p>I'm so new for android Kotlin programming. I try to do recyclerview in my android app using Kotlin, when it run ,it's shown like this.</p>\n<pre><code>2022-12-03 15:56:35.221 16931-16931/com.example.fitnessdiary E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.fitnessdiary, PID: 16931\n    com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.example.fitnessdiary.activities.startgym.HistoryLegActivity$getUserData$1.onDataChange(HistoryLegActivity.kt:47)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>here is my code as follows which contain MainActivity.kt, Adapter.kt and Models.kt</p>\n<p>HistoryLegsActivity</p>\n<pre><code>package com.example.fitnessdiary.activities.startgym\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.fitnessdiary.Adapter.GymLegsAdapter\nimport com.example.fitnessdiary.R\nimport com.example.fitnessdiary.models.GymLegsModel\nimport com.google.firebase.database.*\nimport java.time.LocalDate\n\nclass HistoryLegActivity: AppCompatActivity() {\n\n    private lateinit var dbref : DatabaseReference\n    private lateinit var userRecyclerview : RecyclerView\n    private lateinit var userArrayList : ArrayList&lt;GymLegsModel&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_gym_leg_history)\n\n        val uid : String = intent.getStringExtra(&quot;UID&quot;)?: &quot;No data&quot;\n        val date = LocalDate.now().toString()\n\n        // recyclerview\n        userRecyclerview = findViewById(R.id.userList)\n        userRecyclerview.layoutManager = LinearLayoutManager(this)\n        userRecyclerview.setHasFixedSize(true)\n        userArrayList = arrayListOf&lt;GymLegsModel&gt;()\n        getUserData(uid, date)\n    }\n\n    private fun getUserData(uid: String, date: String) {\n\n        dbref = FirebaseDatabase.getInstance().getReference(&quot;Legs&quot;)\n\n        dbref.child(uid).child(date).addValueEventListener(object : ValueEventListener {\n\n            override fun onDataChange(snapshot: DataSnapshot) {\n\n                if (snapshot.exists()){\n\n                    for (userSnapshot in snapshot.children){\n\n\n                        val user = userSnapshot.getValue(GymLegsModel::class.java)\n                        userArrayList.add(user!!)\n\n                    }\n\n                    userRecyclerview.adapter = GymLegsAdapter(userArrayList)\n\n\n                }\n\n            }\n\n            override fun onCancelled(error: DatabaseError) {\n                TODO(&quot;Not yet implemented&quot;)\n            }\n\n\n        })\n\n    }\n\n}\n</code></pre>\n<p>GymLegsAdapter</p>\n<pre><code>package com.example.fitnessdiary.Adapter\n\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.fitnessdiary.R\nimport com.example.fitnessdiary.models.GymLegsModel\nimport kotlin.collections.ArrayList\n\nclass GymLegsAdapter(private val userList : ArrayList&lt;GymLegsModel&gt;) : RecyclerView.Adapter&lt;GymLegsAdapter.MyViewHolder&gt;() {\n\n    inner class MyViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\n\n        val totalkgL : TextView = itemView.findViewById(R.id.totalkgL)\n        val datestmpL : TextView = itemView.findViewById(R.id.datestmpL)\n\n        val we1 : TextView = itemView.findViewById(R.id.we1)\n        val we2 : TextView = itemView.findViewById(R.id.we2)\n        val we3 : TextView = itemView.findViewById(R.id.we3)\n        val re1 : TextView = itemView.findViewById(R.id.re1)\n        val re2 : TextView = itemView.findViewById(R.id.re2)\n        val re3 : TextView = itemView.findViewById(R.id.re3)\n\n        val we21 : TextView = itemView.findViewById(R.id.we21)\n        val we22 : TextView = itemView.findViewById(R.id.we22)\n        val we23 : TextView = itemView.findViewById(R.id.we23)\n        val re21 : TextView = itemView.findViewById(R.id.re21)\n        val re22 : TextView = itemView.findViewById(R.id.re22)\n        val re23 : TextView = itemView.findViewById(R.id.re23)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n\n        val itemView = LayoutInflater.from(parent.context).inflate(\n            R.layout.legs_item,\n            parent,false)\n        return MyViewHolder(itemView)\n\n    }\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n        val currentitem = userList[position]\n\n        holder.totalkgL.text = currentitem.tkg\n        holder.datestmpL.text = currentitem.date\n\n        holder.we1.text = currentitem.w1\n        holder.we2.text = currentitem.w2\n        holder.we3.text = currentitem.w3\n        holder.re1.text = currentitem.r1\n        holder.re2.text = currentitem.r2\n        holder.re3.text = currentitem.r3\n\n        holder.we21.text = currentitem.w21\n        holder.we22.text = currentitem.w22\n        holder.we23.text = currentitem.w23\n        holder.re21.text = currentitem.r21\n        holder.re22.text = currentitem.r22\n        holder.re23.text = currentitem.r23\n\n    }\n\n    override fun getItemCount(): Int {\n\n        return userList.size\n\n    }\n\n}\n</code></pre>\n<p>GymLegsModel</p>\n<pre><code>package com.example.fitnessdiary.models\n\ndata class GymLegsModel(\n    var w1 : String ?= null,\n    var r1 : String ?= null,\n    var w2 : String ?= null,\n    var r2 : String ?= null,\n    var w3 : String ?= null,\n    var r3 : String ?= null,\n\n    var w21 : String ?= null,\n    var r21 : String ?= null,\n    var w22 : String ?= null,\n    var r22 : String ?= null,\n    var w23 : String ?= null,\n    var r23 : String ?= null,\n\n    var tkg : String ?= null,\n    var date : String ?= null,\n\n)\n</code></pre>\n<p>Most of answer I founded are for Java programming so I have no idea how to deal with this.</p>\n"},{"tags":["java","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1630621434,"post_id":69028068,"comment_id":122014432,"body_markdown":"Can you clarify how you&#39;re testing, what you&#39;re expecting to happen, and what&#39;s actually happening instead?","body":"Can you clarify how you&#39;re testing, what you&#39;re expecting to happen, and what&#39;s actually happening instead?"},{"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"score":0,"creation_date":1630651886,"post_id":69028068,"comment_id":122019476,"body_markdown":"@TimMoore updated the question with details you asked for","body":"@TimMoore updated the question with details you asked for"}],"answers":[{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1654238047,"post_id":69073805,"comment_id":128047707,"body_markdown":"What you wrote is correct, and it is documented [here](https://resilience4j.readme.io/docs/getting-started-3#fallback-methods): If a fallback method is configured, **every exception** is forwarded to a fallback method executor.","body":"What you wrote is correct, and it is documented <a href=\"https://resilience4j.readme.io/docs/getting-started-3#fallback-methods\" rel=\"nofollow noreferrer\">here</a>: If a fallback method is configured, <b>every exception</b> is forwarded to a fallback method executor."}],"tags":[],"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630927719,"creation_date":1630927719,"answer_id":69073805,"question_id":69028068,"body_markdown":"After some research, I came to know that fallback on intermittent failures is an expected behaviour, though I could not find it documented anywhere. So even if the circuit is CLOSED, fallback will be invoked if the method throws a matching exception.\r\n\r\nNote:\r\nIf you are not happy with the immediate fallback, wrap it with a RETRY config.","title":"CircuitBreaker immediate fallback","body":"<p>After some research, I came to know that fallback on intermittent failures is an expected behaviour, though I could not find it documented anywhere. So even if the circuit is CLOSED, fallback will be invoked if the method throws a matching exception.</p>\n<p>Note:\nIf you are not happy with the immediate fallback, wrap it with a RETRY config.</p>\n"},{"tags":[],"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642351663,"creation_date":1642351663,"answer_id":70732123,"question_id":69028068,"body_markdown":"`@CircuitBreaker`- you should expect the result that if it&#39;s status is **open** that you will immediately receive a fallback and it no longer calls your desired service.\r\n\r\nIf you expect the result that when you turn off your called backend service and you want 5 call until you get fallback you need use `@Retry`, if the call fails, then it will try to call your service again.\r\n\r\nIf you use multiple notations, you can read more about the order [here][1]\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/getting-started-3#aspect-order","title":"CircuitBreaker immediate fallback","body":"<p><code>@CircuitBreaker</code>- you should expect the result that if it's status is <strong>open</strong> that you will immediately receive a fallback and it no longer calls your desired service.</p>\n<p>If you expect the result that when you turn off your called backend service and you want 5 call until you get fallback you need use <code>@Retry</code>, if the call fails, then it will try to call your service again.</p>\n<p>If you use multiple notations, you can read more about the order <a href=\"https://resilience4j.readme.io/docs/getting-started-3#aspect-order\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690655925,"creation_date":1690655925,"answer_id":76795000,"question_id":69028068,"body_markdown":"I had the same error, the service was working correctly but it shows the error, for this issue, I used the @Retry like below : (put it on top of your @GetMapping)\r\n\r\n    @Retry(name = &quot;mycircuit&quot;, fallbackMethod = &quot;connectionFail&quot;)\r\n\r\nand then define the fallback function like example below : (  Throwable should be there and also the name method should be the same name in fallback, mean &quot;connectionFail&quot;) \r\n\r\n    public Posts connectionFail(Throwable throwable){\r\n        return new Posts(); // or any other fallback implementation that returns a valid Posts object\r\n    }\r\n\r\nalso you should define this configuration in your application.properties file : \r\n\r\n&gt;resilience4j.circuitbreaker.instances.mycircuit.maxRetryAttempts=3\r\n&gt; resilience4j.retry.instances.mycircuit.waitDuration=1s\r\n&gt;resilience4j.retry.instances.mycircuit.enableExponentialBackoff=true\r\n\r\nI hope it helpfull.","title":"CircuitBreaker immediate fallback","body":"<p>I had the same error, the service was working correctly but it shows the error, for this issue, I used the @Retry like below : (put it on top of your @GetMapping)</p>\n<pre><code>@Retry(name = &quot;mycircuit&quot;, fallbackMethod = &quot;connectionFail&quot;)\n</code></pre>\n<p>and then define the fallback function like example below : (  Throwable should be there and also the name method should be the same name in fallback, mean &quot;connectionFail&quot;)</p>\n<pre><code>public Posts connectionFail(Throwable throwable){\n    return new Posts(); // or any other fallback implementation that returns a valid Posts object\n}\n</code></pre>\n<p>also you should define this configuration in your application.properties file :</p>\n<blockquote>\n<p>resilience4j.circuitbreaker.instances.mycircuit.maxRetryAttempts=3\nresilience4j.retry.instances.mycircuit.waitDuration=1s\nresilience4j.retry.instances.mycircuit.enableExponentialBackoff=true</p>\n</blockquote>\n<p>I hope it helpfull.</p>\n"}],"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1917,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690655925,"creation_date":1630576757,"question_id":69028068,"body_markdown":"I followed https://resilience4j.readme.io/docs/getting-started-3 for Resilience4J documentation.\r\n\r\nI have a problem, my circuitbreaker is immediately connecting to the fallback( on the first invoke) when the primary-backend is not available. \r\n\r\n    @Bean\r\n    public CircuitBreakerConfig circuitBreakerConfig() {\r\n        return CircuitBreakerConfig.custom()\r\n                .slidingWindowType(CircuitBreakerConfig.SlidingWindowType.COUNT_BASED)\r\n                .slidingWindowSize(5)\r\n                .minimumNumberOfCalls(5)\r\n                .failureRateThreshold(4)\r\n                .build();\r\n    }\r\n\r\nI also tried moving the config to application.yml, but still the same behavior.\r\n    \r\n    import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\r\n\r\n    @CircuitBreaker(name = &quot;backendA&quot;, fallbackMethod = &quot;fallbackA&quot;)\r\n    public String backendA() {\r\n      return restTemplate.getForObject(&quot;http://localhost:9999/backendA&quot;, String.class);\r\n    }\r\n\r\n    public String fallbackA(Exception e) {\r\n        return restTemplate.getForObject(&quot;http://localhost:8080/partner&quot;, String.class);\r\n    }\r\n\r\nCan someone help?\r\n\r\n//UPDATE\r\n\r\nMore details below.\r\nAs shown in the code above, my app is making a call to /backendA, behind a circuit breaker. It is expected that as per config, if backendA is not available, the should fail 5 times and 6th call onwards fallback to /partner API. Or in other words, circuit should open after 5 calls.\r\n\r\nThis is how I tested. \r\n\r\nI started the application. Both backendA and fallbackA are available. After a few calls, I killed backendA. the next call to backendA is falling back to /partner while I expect the next 5 calls to backendA fails without a fallback. Is my expectation correct?\r\n","title":"CircuitBreaker immediate fallback","body":"<p>I followed <a href=\"https://resilience4j.readme.io/docs/getting-started-3\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/getting-started-3</a> for Resilience4J documentation.</p>\n<p>I have a problem, my circuitbreaker is immediately connecting to the fallback( on the first invoke) when the primary-backend is not available.</p>\n<pre><code>@Bean\npublic CircuitBreakerConfig circuitBreakerConfig() {\n    return CircuitBreakerConfig.custom()\n            .slidingWindowType(CircuitBreakerConfig.SlidingWindowType.COUNT_BASED)\n            .slidingWindowSize(5)\n            .minimumNumberOfCalls(5)\n            .failureRateThreshold(4)\n            .build();\n}\n</code></pre>\n<p>I also tried moving the config to application.yml, but still the same behavior.</p>\n<pre><code>import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\n\n@CircuitBreaker(name = &quot;backendA&quot;, fallbackMethod = &quot;fallbackA&quot;)\npublic String backendA() {\n  return restTemplate.getForObject(&quot;http://localhost:9999/backendA&quot;, String.class);\n}\n\npublic String fallbackA(Exception e) {\n    return restTemplate.getForObject(&quot;http://localhost:8080/partner&quot;, String.class);\n}\n</code></pre>\n<p>Can someone help?</p>\n<p>//UPDATE</p>\n<p>More details below.\nAs shown in the code above, my app is making a call to /backendA, behind a circuit breaker. It is expected that as per config, if backendA is not available, the should fail 5 times and 6th call onwards fallback to /partner API. Or in other words, circuit should open after 5 calls.</p>\n<p>This is how I tested.</p>\n<p>I started the application. Both backendA and fallbackA are available. After a few calls, I killed backendA. the next call to backendA is falling back to /partner while I expect the next 5 calls to backendA fails without a fallback. Is my expectation correct?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690464140,"post_id":76780103,"comment_id":135359794,"body_markdown":"Please indent your code correctly -- your IDE will do this for you.","body":"Please indent your code correctly -- your IDE will do this for you."},{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":0,"creation_date":1690464524,"post_id":76780103,"comment_id":135359890,"body_markdown":"Sorry, I&#39;m aware I have a problem with readable code. I&#39;ll keep this in mind for the future!","body":"Sorry, I&#39;m aware I have a problem with readable code. I&#39;ll keep this in mind for the future!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690465129,"post_id":76780103,"comment_id":135360069,"body_markdown":"And your question doesn&#39;t explain what your program needs to do -- what is `k`?","body":"And your question doesn&#39;t explain what your program needs to do -- what is <code>k</code>?"},{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":0,"creation_date":1690466054,"post_id":76780103,"comment_id":135360274,"body_markdown":"I provided the prompt for that reason but basically, I have to find the length of the array after removing the minimum values, repeat till the array is empty and add up said lengths to find k. Do you need more clarification or is that good?","body":"I provided the prompt for that reason but basically, I have to find the length of the array after removing the minimum values, repeat till the array is empty and add up said lengths to find k. Do you need more clarification or is that good?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690484409,"post_id":76780103,"comment_id":135364130,"body_markdown":"Way off-topic: Jess and Jerry evaluated only the time needed to scan the shrinking array. They didn&#39;t account for the time needed to find and move the targeted pandas at each pass","body":"Way off-topic: Jess and Jerry evaluated only the time needed to scan the shrinking array. They didn&#39;t account for the time needed to find and move the targeted pandas at each pass"}],"answers":[{"comments":[{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":0,"creation_date":1690464958,"post_id":76780196,"comment_id":135360022,"body_markdown":"Thank you so much for helping me with the code, but I&#39;m still facing issues. Now my value outputted when I put in the first test case is 0. Is it possible that maybe while the array was looping, was equal to the minimum count? Just a thought.","body":"Thank you so much for helping me with the code, but I&#39;m still facing issues. Now my value outputted when I put in the first test case is 0. Is it possible that maybe while the array was looping, was equal to the minimum count? Just a thought."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":2,"creation_date":1690606544,"post_id":76780196,"comment_id":135380246,"body_markdown":"This answer is most likely ChatGPT","body":"This answer is most likely ChatGPT"}],"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690464134,"creation_date":1690464134,"answer_id":76780196,"question_id":76780103,"body_markdown":"The main problem with your current approach is that you are modifying the original array **memory** while trying to count the occurrences and remove elements. This leads to unexpected behavior and incorrect results.\r\n\r\nInstead of modifying the original array, you can use a separate data structure to keep track of the occurrences of each element and remove the minimum element without altering the array. \r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    \r\n    public class Sort {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int x = sc.nextInt();\r\n            int memory[] = new int[x];\r\n    \r\n            for (int i = 0; i &lt; x; i++) {\r\n                memory[i] = sc.nextInt();\r\n            }\r\n    \r\n            int min = Arrays.stream(memory).min().getAsInt();\r\n            int minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\r\n            int k = x - minCount;\r\n    \r\n            while (minCount &gt; 0) {\r\n                memory = removeElements(memory, min);\r\n                minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\r\n                k -= minCount;\r\n            }\r\n    \r\n            System.out.println(k);\r\n            sc.close();\r\n        }\r\n    \r\n        public static int[] removeElements(int[] arr, int key) {\r\n            return Arrays.stream(arr).filter(num -&gt; num != key).toArray();\r\n        }\r\n    }\r\n\r\nHere&#39;s what we did:\r\n\r\n1.Instead of using an additional array **mem2**, we directly use the original array **memory**.\r\n\r\n2.We find the minimum element in the array and count its occurrences.\r\n\r\n3.We remove the minimum element from the array in a loop until there are no more occurrences of the minimum element. In each iteration, we update the count of **k** and recalculate the count of the minimum element to be removed.\r\n\r\nBy doing this, you can avoid modifying the original array and calculate the correct value of **k** without resetting any values.","title":"How can I remove all instances of minimum values from array?","body":"<p>The main problem with your current approach is that you are modifying the original array <strong>memory</strong> while trying to count the occurrences and remove elements. This leads to unexpected behavior and incorrect results.</p>\n<p>Instead of modifying the original array, you can use a separate data structure to keep track of the occurrences of each element and remove the minimum element without altering the array.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class Sort {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int x = sc.nextInt();\n        int memory[] = new int[x];\n\n        for (int i = 0; i &lt; x; i++) {\n            memory[i] = sc.nextInt();\n        }\n\n        int min = Arrays.stream(memory).min().getAsInt();\n        int minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\n        int k = x - minCount;\n\n        while (minCount &gt; 0) {\n            memory = removeElements(memory, min);\n            minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\n            k -= minCount;\n        }\n\n        System.out.println(k);\n        sc.close();\n    }\n\n    public static int[] removeElements(int[] arr, int key) {\n        return Arrays.stream(arr).filter(num -&gt; num != key).toArray();\n    }\n}\n</code></pre>\n<p>Here's what we did:</p>\n<p>1.Instead of using an additional array <strong>mem2</strong>, we directly use the original array <strong>memory</strong>.</p>\n<p>2.We find the minimum element in the array and count its occurrences.</p>\n<p>3.We remove the minimum element from the array in a loop until there are no more occurrences of the minimum element. In each iteration, we update the count of <strong>k</strong> and recalculate the count of the minimum element to be removed.</p>\n<p>By doing this, you can avoid modifying the original array and calculate the correct value of <strong>k</strong> without resetting any values.</p>\n"},{"comments":[{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":1,"creation_date":1690470337,"post_id":76780617,"comment_id":135361356,"body_markdown":"OMG thank you so much! Your explanation is really clear and made me understand the prompt so much more :) Now it&#39;s just a matter of making the code run faster, but I feel like I can combat that by just changing this from scanner to buffered reader. Thanks again!","body":"OMG thank you so much! Your explanation is really clear and made me understand the prompt so much more :) Now it&#39;s just a matter of making the code run faster, but I feel like I can combat that by just changing this from scanner to buffered reader. Thanks again!"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690474449,"post_id":76780617,"comment_id":135362240,"body_markdown":"Sorry I ended up not paying attention to the time limit. Maybe you should consider going back to using primitive arrays and handling the method processes (`peek()`, `size()`, `offer()`) manually.","body":"Sorry I ended up not paying attention to the time limit. Maybe you should consider going back to using primitive arrays and handling the method processes (<code>peek()</code>, <code>size()</code>, <code>offer()</code>) manually."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690655836,"creation_date":1690467195,"answer_id":76780617,"question_id":76780103,"body_markdown":"The approach used in the code **does not follow the problem description correctly**, and the logic for sorting and counting the operations is not correct.\r\n\r\nSome problems are:\r\n\r\n - The `countFreq()` method is not used correctly. It&#39;s meant to count the frequency of elements in an array, but it&#39;s **not utilized in the sorting** process.\r\n - The `removeElements()` method is used to remove occurrences of the minimum element from the memory array, but this approach does **not simulate the described *teleportation* process correctly**.\r\n - The implemented loop does **not match the question**.\r\n - You can use `Java Collections` instead of primitive arrays.\r\n\r\nI was based on [the prompt][1] you passed, and I did it this way:\r\n\r\n`Main` - Just inputs\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    int n = scanner.nextInt();\r\n    int[] redPandas = new int[n];\r\n    for (int i = 0; i &lt; n; i++) {\r\n        redPandas[i] = scanner.nextInt();\r\n    }\r\n    scanner.close();\r\n\r\n    int seconds = sortingOperationSeconds(redPandas);\r\n    System.out.println(seconds);\r\n}\r\n```\r\n\r\n`sortingOperationSeconds` - Implementation itself\r\n\r\n```java\r\npublic static int sortingOperationSeconds(int[] redPandas) {\r\n    Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\r\n    Queue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\r\n\r\n    for (int panda : redPandas) {\r\n        firstLine.offer(panda);\r\n    }\r\n\r\n    int seconds = 0;\r\n    while (!firstLine.isEmpty()) {\r\n        int flSize = firstLine.size();\r\n        int flSmallestId = firstLine.peek();\r\n        seconds += flSize;\r\n        for (int i = 0; i &lt; flSize; i++) {\r\n            int currentPanda = firstLine.poll();\r\n            if (currentPanda == flSmallestId) {\r\n                secondLine.offer(currentPanda);\r\n            } else {\r\n                firstLine.offer(currentPanda);\r\n            }\r\n        }\r\n    }\r\n\r\n    return seconds;\r\n}\r\n```\r\n\r\nLet’s step by step:\r\n\r\n1. **Red Panda Queues:**\r\n\r\n    ```java\r\n    Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\r\n    Queue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\r\n    ```\r\n\r\n    Two [`Queues`][2] are created to represent the two lines of red pandas, the `firstLine` is a [`PriorityQueue`][3], where the smallest ID always stays at the front of the queue and the `secondLine` is a [`LinkedList`][4], where red pandas are moved after being removed from `firstLine`.\r\n\r\n2. **Adding Red Pandas to firstLine:**\r\n\r\n    ```java\r\n    for (int panda : redPandas) {\r\n        firstLine.offer(panda);\r\n    }\r\n    ```\r\n\r\n    [`Offers`][5] all red pandas from the `redPandas` array to the `firstLine` queue.\r\n\r\n3. **Sorting Operation:**\r\n\r\n    ```java\r\n    int seconds = 0;\r\n    while (!firstLine.isEmpty()) {\r\n        int flSize = firstLine.size();\r\n        int flSmallestId = firstLine.peek();\r\n        seconds += flSize;\r\n        for (int i = 0; i &lt; flSize; i++) {\r\n            int currentPanda = firstLine.poll();\r\n            if (currentPanda == flSmallestId) {\r\n                secondLine.offer(currentPanda);\r\n            } else {\r\n                firstLine.offer(currentPanda);\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\n    While `firstLine` is not empty, the loop runs. It calculates the **number of red pandas** in `firstLine` (`flSize`) and the [*smallest ID*][6] in `firstLine` (`flSmallestId`). Then, it adds `flSize` *seconds* to the `seconds` counter.\r\n\r\n    The inner loop **removes red pandas** from `firstLine` one by one. If the ID of the current red panda is **equal to the smallest ID** (`flSmallestId`), that red panda is moved to `secondLine`. Otherwise, it is returned to `firstLine`.\r\n\r\n    This process **continues until all red pandas have been moved** to `secondLine`.\r\n\r\n  [1]: https://codeforces.com/gym/103886/problem/A\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#offer-E-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#peek--\r\n","title":"How can I remove all instances of minimum values from array?","body":"<p>The approach used in the code <strong>does not follow the problem description correctly</strong>, and the logic for sorting and counting the operations is not correct.</p>\n<p>Some problems are:</p>\n<ul>\n<li>The <code>countFreq()</code> method is not used correctly. It's meant to count the frequency of elements in an array, but it's <strong>not utilized in the sorting</strong> process.</li>\n<li>The <code>removeElements()</code> method is used to remove occurrences of the minimum element from the memory array, but this approach does <strong>not simulate the described <em>teleportation</em> process correctly</strong>.</li>\n<li>The implemented loop does <strong>not match the question</strong>.</li>\n<li>You can use <code>Java Collections</code> instead of primitive arrays.</li>\n</ul>\n<p>I was based on <a href=\"https://codeforces.com/gym/103886/problem/A\" rel=\"nofollow noreferrer\">the prompt</a> you passed, and I did it this way:</p>\n<p><code>Main</code> - Just inputs</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int n = scanner.nextInt();\n    int[] redPandas = new int[n];\n    for (int i = 0; i &lt; n; i++) {\n        redPandas[i] = scanner.nextInt();\n    }\n    scanner.close();\n\n    int seconds = sortingOperationSeconds(redPandas);\n    System.out.println(seconds);\n}\n</code></pre>\n<p><code>sortingOperationSeconds</code> - Implementation itself</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int sortingOperationSeconds(int[] redPandas) {\n    Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\n    Queue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\n\n    for (int panda : redPandas) {\n        firstLine.offer(panda);\n    }\n\n    int seconds = 0;\n    while (!firstLine.isEmpty()) {\n        int flSize = firstLine.size();\n        int flSmallestId = firstLine.peek();\n        seconds += flSize;\n        for (int i = 0; i &lt; flSize; i++) {\n            int currentPanda = firstLine.poll();\n            if (currentPanda == flSmallestId) {\n                secondLine.offer(currentPanda);\n            } else {\n                firstLine.offer(currentPanda);\n            }\n        }\n    }\n\n    return seconds;\n}\n</code></pre>\n<p>Let’s step by step:</p>\n<ol>\n<li><p><strong>Red Panda Queues:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\nQueue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\n</code></pre>\n<p>Two <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\" rel=\"nofollow noreferrer\"><code>Queues</code></a> are created to represent the two lines of red pandas, the <code>firstLine</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a>, where the smallest ID always stays at the front of the queue and the <code>secondLine</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a>, where red pandas are moved after being removed from <code>firstLine</code>.</p>\n</li>\n<li><p><strong>Adding Red Pandas to firstLine:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int panda : redPandas) {\n    firstLine.offer(panda);\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#offer-E-\" rel=\"nofollow noreferrer\"><code>Offers</code></a> all red pandas from the <code>redPandas</code> array to the <code>firstLine</code> queue.</p>\n</li>\n<li><p><strong>Sorting Operation:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>int seconds = 0;\nwhile (!firstLine.isEmpty()) {\n    int flSize = firstLine.size();\n    int flSmallestId = firstLine.peek();\n    seconds += flSize;\n    for (int i = 0; i &lt; flSize; i++) {\n        int currentPanda = firstLine.poll();\n        if (currentPanda == flSmallestId) {\n            secondLine.offer(currentPanda);\n        } else {\n            firstLine.offer(currentPanda);\n        }\n    }\n}\n</code></pre>\n<p>While <code>firstLine</code> is not empty, the loop runs. It calculates the <strong>number of red pandas</strong> in <code>firstLine</code> (<code>flSize</code>) and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#peek--\" rel=\"nofollow noreferrer\"><em>smallest ID</em></a> in <code>firstLine</code> (<code>flSmallestId</code>). Then, it adds <code>flSize</code> <em>seconds</em> to the <code>seconds</code> counter.</p>\n<p>The inner loop <strong>removes red pandas</strong> from <code>firstLine</code> one by one. If the ID of the current red panda is <strong>equal to the smallest ID</strong> (<code>flSmallestId</code>), that red panda is moved to <code>secondLine</code>. Otherwise, it is returned to <code>firstLine</code>.</p>\n<p>This process <strong>continues until all red pandas have been moved</strong> to <code>secondLine</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76780617,"answer_count":2,"score":1,"last_activity_date":1690655836,"creation_date":1690463489,"question_id":76780103,"body_markdown":"I&#39;m trying to prepare for [USACO][1] Bronze by doing some practice problems on [Codeforces][2], and I&#39;ve been struggling on this one for a good two weeks.\r\n\r\n[Here&#39;s][3] the prompt.\r\n\r\nAt first, I was iterating through the array, removing the minimum element, storing the length in a variable, and repeating until there weren&#39;t any values left.\r\n\r\nHowever, that was very inefficient and was not working well, so I decided to instead count the number of instances of each element, subtract those from.\r\n\r\nThe value I expected was 8. However, the value I received was one, leading me to think the variable value keeps getting reset and it only print out the number of times the last/greatest instance occurs.\r\n\r\nHow do I modify my code so that I&#39;m able to successfully remove the number of instances of the minimum element from the array length, store the new length in a variable and repeat this without any of my values getting reset in the process?\r\n\r\nPlease excuse me if this is a really dumb question since I&#39;m just starting USACO, and I&#39;m not used to competitive programming yet.\r\n\r\n```java\r\npublic class sort {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        // System.out.println(&quot;PLEASE INSERT AN ELEMENT&quot;);\r\n        int x = sc.nextInt();\r\n        int memory[];\r\n        memory = new int[x];\r\n        for (int i = 0; i &lt; x; i++) {\r\n            memory[i] = sc.nextInt();\r\n        }\r\n\r\n        Arrays.sort(memory);\r\n        int k = memory.length;\r\n        int mem2[] = new int[x];\r\n        int min = memory[0];\r\n        int array[];\r\n        for (int i = 0; i &lt; k; i++) {\r\n            countFreq(memory, k);\r\n            array = removeElements(memory, min);\r\n            k = k + array.length;\r\n            System.out.println(k);\r\n        }\r\n        System.out.println(k);\r\n        sc.close();\r\n    }\r\n\r\n    public static void countFreq(int arr[], int n) {\r\n        boolean visited[] = new boolean[n];\r\n\r\n        Arrays.fill(visited, false);\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (visited[i] == true)\r\n                continue;\r\n            int count = 1;\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                if (arr[i] == arr[j]) {\r\n                    visited[j] = true;\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static int[] removeElements(int[] arr, int key) {\r\n        int index = 0;\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            if (arr[i] != key)\r\n                arr[index++] = arr[i];\r\n        return Arrays.copyOf(arr, index);\r\n    }\r\n\r\n    public static int[] addX(int n, int arr[], int x) {\r\n        int j;\r\n        int newarr[] = new int[n + 1];\r\n        for (j = 0; j &lt; n; j++)\r\n            newarr[j] = arr[j];\r\n\r\n        newarr[n] = x;\r\n\r\n        return newarr;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/United_States_of_America_Computing_Olympiad\r\n  [2]: https://en.wikipedia.org/wiki/Codeforces\r\n  [3]: https://codeforces.com/gym/103886/problem/A\r\n\r\n","title":"How can I remove all instances of minimum values from array?","body":"<p>I'm trying to prepare for <a href=\"https://en.wikipedia.org/wiki/United_States_of_America_Computing_Olympiad\" rel=\"nofollow noreferrer\">USACO</a> Bronze by doing some practice problems on <a href=\"https://en.wikipedia.org/wiki/Codeforces\" rel=\"nofollow noreferrer\">Codeforces</a>, and I've been struggling on this one for a good two weeks.</p>\n<p><a href=\"https://codeforces.com/gym/103886/problem/A\" rel=\"nofollow noreferrer\">Here's</a> the prompt.</p>\n<p>At first, I was iterating through the array, removing the minimum element, storing the length in a variable, and repeating until there weren't any values left.</p>\n<p>However, that was very inefficient and was not working well, so I decided to instead count the number of instances of each element, subtract those from.</p>\n<p>The value I expected was 8. However, the value I received was one, leading me to think the variable value keeps getting reset and it only print out the number of times the last/greatest instance occurs.</p>\n<p>How do I modify my code so that I'm able to successfully remove the number of instances of the minimum element from the array length, store the new length in a variable and repeat this without any of my values getting reset in the process?</p>\n<p>Please excuse me if this is a really dumb question since I'm just starting USACO, and I'm not used to competitive programming yet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class sort {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        // System.out.println(&quot;PLEASE INSERT AN ELEMENT&quot;);\n        int x = sc.nextInt();\n        int memory[];\n        memory = new int[x];\n        for (int i = 0; i &lt; x; i++) {\n            memory[i] = sc.nextInt();\n        }\n\n        Arrays.sort(memory);\n        int k = memory.length;\n        int mem2[] = new int[x];\n        int min = memory[0];\n        int array[];\n        for (int i = 0; i &lt; k; i++) {\n            countFreq(memory, k);\n            array = removeElements(memory, min);\n            k = k + array.length;\n            System.out.println(k);\n        }\n        System.out.println(k);\n        sc.close();\n    }\n\n    public static void countFreq(int arr[], int n) {\n        boolean visited[] = new boolean[n];\n\n        Arrays.fill(visited, false);\n        for (int i = 0; i &lt; n; i++) {\n            if (visited[i] == true)\n                continue;\n            int count = 1;\n            for (int j = i + 1; j &lt; n; j++) {\n                if (arr[i] == arr[j]) {\n                    visited[j] = true;\n                    count++;\n                }\n            }\n        }\n    }\n\n    public static int[] removeElements(int[] arr, int key) {\n        int index = 0;\n        for (int i = 0; i &lt; arr.length; i++)\n            if (arr[i] != key)\n                arr[index++] = arr[i];\n        return Arrays.copyOf(arr, index);\n    }\n\n    public static int[] addX(int n, int arr[], int x) {\n        int j;\n        int newarr[] = new int[n + 1];\n        for (j = 0; j &lt; n; j++)\n            newarr[j] = arr[j];\n\n        newarr[n] = x;\n\n        return newarr;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","nio","apache-mina"],"comments":[{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1353496783,"post_id":13491876,"comment_id":18462658,"body_markdown":"Can you please send the crucial part of the server side code? For this question the client side code is of no help.","body":"Can you please send the crucial part of the server side code? For this question the client side code is of no help."}],"answers":[{"comments":[{"owner":{"account_id":443904,"reputation":3383,"user_id":835415,"accept_rate":69,"display_name":"shahalpk"},"score":0,"creation_date":1353498062,"post_id":13492429,"comment_id":18463239,"body_markdown":"but in my case the buffer contains the contents of more than one message. e.g : Msg1: Hai Tom, Msg2: Hai Peter.. when both are send in the same socket, in the buffer i get BufferMsg:&quot;Hai TomHai Peter&quot;. How do i do it in the filters? From what i&#39;ve read about filters that isn&#39;t possible. any help?","body":"but in my case the buffer contains the contents of more than one message. e.g : Msg1: Hai Tom, Msg2: Hai Peter.. when both are send in the same socket, in the buffer i get BufferMsg:&quot;Hai TomHai Peter&quot;. How do i do it in the filters? From what i&#39;ve read about filters that isn&#39;t possible. any help?"},{"owner":{"account_id":1561156,"reputation":3620,"user_id":1450993,"display_name":"onon15"},"score":0,"creation_date":1353498915,"post_id":13492429,"comment_id":18463604,"body_markdown":"Perhaps you should re-consider your protocol design. Remember that TCP socket is a pipe: on the receiving side, you&#39;re getting a stream of bytes without knowing what their intended fragmentation is. Consider using, in your channel, a protocol that will signal the message boundaries. Common ways to do that are to use a separator symbol, such as character &#39;\\0&#39; between messages, or a message structure in which you send message length (as byte, short or integer) and then that number of bytes of the message body.","body":"Perhaps you should re-consider your protocol design. Remember that TCP socket is a pipe: on the receiving side, you&#39;re getting a stream of bytes without knowing what their intended fragmentation is. Consider using, in your channel, a protocol that will signal the message boundaries. Common ways to do that are to use a separator symbol, such as character &#39;\\0&#39; between messages, or a message structure in which you send message length (as byte, short or integer) and then that number of bytes of the message body."},{"owner":{"account_id":443904,"reputation":3383,"user_id":835415,"accept_rate":69,"display_name":"shahalpk"},"score":0,"creation_date":1353502005,"post_id":13492429,"comment_id":18464927,"body_markdown":"doesn&#39;t out.flush() do what u said?","body":"doesn&#39;t out.flush() do what u said?"},{"owner":{"account_id":1561156,"reputation":3620,"user_id":1450993,"display_name":"onon15"},"score":0,"creation_date":1353502869,"post_id":13492429,"comment_id":18465318,"body_markdown":"Short answer is, sometimes. You can&#39;t trust it to do so, because routers (or even the local tcp stack) could merge several messages into one or fragment a long message into several. Bottom line is, a TCP connection is a bidirectional pipe; you can&#39;t use anything you see beyond the sequence of bytes you can read.","body":"Short answer is, sometimes. You can&#39;t trust it to do so, because routers (or even the local tcp stack) could merge several messages into one or fragment a long message into several. Bottom line is, a TCP connection is a bidirectional pipe; you can&#39;t use anything you see beyond the sequence of bytes you can read."},{"owner":{"account_id":1561156,"reputation":3620,"user_id":1450993,"display_name":"onon15"},"score":0,"creation_date":1353502920,"post_id":13492429,"comment_id":18465345,"body_markdown":"(You might want to consider UDP, where a message *is* a message. But then you have to handle packet loss, reordering, etc).","body":"(You might want to consider UDP, where a message <i>is</i> a message. But then you have to handle packet loss, reordering, etc)."}],"tags":[],"owner":{"account_id":1561156,"reputation":3620,"user_id":1450993,"display_name":"onon15"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353497784,"creation_date":1353497784,"answer_id":13492429,"question_id":13491876,"body_markdown":"MINA is actually a very elaborate framework to solve your problem in an elegant way. Its basic concept is a filter chain, in which a series of filters are applied on an incoming message. \r\n\r\nYou should implement a protocol decoder (implementing `MessageDecoder`) and register it in your MINA filter chain. That decoder should parse byte buffers to the object representation of your choice.\r\n\r\nThen, you can register a message handler that handles complete messages.","title":"Traditional I/O on the client side and NIO in Server. How do I get specific message if the client sends multiple message in the same socket?","body":"<p>MINA is actually a very elaborate framework to solve your problem in an elegant way. Its basic concept is a filter chain, in which a series of filters are applied on an incoming message. </p>\n\n<p>You should implement a protocol decoder (implementing <code>MessageDecoder</code>) and register it in your MINA filter chain. That decoder should parse byte buffers to the object representation of your choice.</p>\n\n<p>Then, you can register a message handler that handles complete messages.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353538335,"creation_date":1353538335,"answer_id":13503379,"question_id":13491876,"body_markdown":"&gt; How do i get individual messages\r\n\r\nYou don&#39;t. There is no such thing as a message in TCP. It is a byte-stream protocol. There are no message boundaries and there is no guarantee that one read equals one write at the other end.\r\n\r\n&gt; (given i&#39;m not able to change anything in client, AND the length of individual messages are not known)\r\n\r\nYour are going to have to parse the messages to find where they stop according to the definition of the application protocol. If that isn&#39;t possible because, say, the protocol is ambiguous, the client will have to be junked. However it seems that as you can&#39;t change the client, it must already work with an existing system, so the guy before you had the same problem and solved it somehow.\r\n","title":"Traditional I/O on the client side and NIO in Server. How do I get specific message if the client sends multiple message in the same socket?","body":"<blockquote>\n  <p>How do i get individual messages</p>\n</blockquote>\n\n<p>You don't. There is no such thing as a message in TCP. It is a byte-stream protocol. There are no message boundaries and there is no guarantee that one read equals one write at the other end.</p>\n\n<blockquote>\n  <p>(given i'm not able to change anything in client, AND the length of individual messages are not known)</p>\n</blockquote>\n\n<p>Your are going to have to parse the messages to find where they stop according to the definition of the application protocol. If that isn't possible because, say, the protocol is ambiguous, the client will have to be junked. However it seems that as you can't change the client, it must already work with an existing system, so the guy before you had the same problem and solved it somehow.</p>\n"}],"owner":{"account_id":443904,"reputation":3383,"user_id":835415,"accept_rate":69,"display_name":"shahalpk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13503379,"answer_count":2,"score":1,"last_activity_date":1690654479,"creation_date":1353495862,"question_id":13491876,"body_markdown":"I am using Apache Mina in the *server* side. I&#39;ve a client which is written in traditional I/O. Here&#39;s the *client* side code that sends data to the server.\r\n\r\n    class SomeClass extends Thread\r\n    {\r\n        Socket socket;\r\n\r\n        // Constructor\r\n        SomeClass()\r\n        {\r\n            Socket socket = ...\r\n        }\r\n\r\n        public void run()\r\n        {\r\n            while (j++ &lt; 10)\r\n            {\r\n                System.out.println(&quot;CLIENT[&quot; + clientNo + &quot;] Send Message =&gt;&quot; + requests[clientNo][j]);\r\n                OutputStream oStrm = socket.getOutputStream();\r\n                byte[] byteSendBuffer = (requests[clientNo][j]).getBytes();\r\n                oStrm.write(byteSendBuffer);\r\n                oStrm.flush();\r\n            }\r\n        }\r\n    }\r\n\r\nThe above thread is run for say 20 times. So 20 sockets are created. And in one socket, many messages are send. With a server written using I/O socket classes I&#39;m able to retrieve data perfectly.\r\n\r\nThe problem comes in the Apache Mina based server which uses BUFFER! I am not able to get individual messages.\r\n\r\nHow do I get individual messages (given I’m not able to change anything in the client, *and* the length of individual messages are not known).\r\n\r\n&lt;strong&gt;Server-side code&lt;/strong&gt;&lt;br /&gt;\r\n\r\n&lt;em&gt;Socket Creation&lt;/em&gt;&lt;br /&gt;\r\n\r\n&lt;pre&gt;\r\npublic static void main(String[] args) throws IOException, SQLException {\r\n    System.out.println(Charset.defaultCharset().name());\r\n    IoAcceptor acceptor = new NioSocketAcceptor();\r\n    ProtocolCodecFilter(charset.newEncoder(), charset.newDecoder()));\r\n    acceptor.setHandler(new TimeServerHandler());\r\n    acceptor.getSessionConfig().setReadBufferSize(64);\r\n    acceptor.getSessionConfig().setIdleTime(IdleStatus.BOTH_IDLE, 10);\r\n    acceptor.bind(new InetSocketAddress(PORT));\r\n}\r\n&lt;/pre&gt;\r\n\r\n&lt;em&gt;Handler Code&lt;/em&gt;&lt;br /&gt;\r\n\r\n&lt;pre&gt;\r\npublic void messageReceived(IoSession session, Object message) throws Exception {\r\n\r\n    AbstractIoBuffer bf = (AbstractIoBuffer)message;\r\n    Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n    CharsetDecoder decoder = charset.newDecoder();\r\n    String outString = bf.getString(decoder);\r\n}\r\n&lt;/pre&gt;\r\n\r\n\r\n","title":"Traditional I/O on the client side and NIO in Server. How do I get specific message if the client sends multiple message in the same socket?","body":"<p>I am using Apache Mina in the <em>server</em> side. I've a client which is written in traditional I/O. Here's the <em>client</em> side code that sends data to the server.</p>\n<pre><code>class SomeClass extends Thread\n{\n    Socket socket;\n\n    // Constructor\n    SomeClass()\n    {\n        Socket socket = ...\n    }\n\n    public void run()\n    {\n        while (j++ &lt; 10)\n        {\n            System.out.println(&quot;CLIENT[&quot; + clientNo + &quot;] Send Message =&gt;&quot; + requests[clientNo][j]);\n            OutputStream oStrm = socket.getOutputStream();\n            byte[] byteSendBuffer = (requests[clientNo][j]).getBytes();\n            oStrm.write(byteSendBuffer);\n            oStrm.flush();\n        }\n    }\n}\n</code></pre>\n<p>The above thread is run for say 20 times. So 20 sockets are created. And in one socket, many messages are send. With a server written using I/O socket classes I'm able to retrieve data perfectly.</p>\n<p>The problem comes in the Apache Mina based server which uses BUFFER! I am not able to get individual messages.</p>\n<p>How do I get individual messages (given I’m not able to change anything in the client, <em>and</em> the length of individual messages are not known).</p>\n<p><strong>Server-side code</strong><br /></p>\n<p><em>Socket Creation</em><br /></p>\n<pre>\npublic static void main(String[] args) throws IOException, SQLException {\n    System.out.println(Charset.defaultCharset().name());\n    IoAcceptor acceptor = new NioSocketAcceptor();\n    ProtocolCodecFilter(charset.newEncoder(), charset.newDecoder()));\n    acceptor.setHandler(new TimeServerHandler());\n    acceptor.getSessionConfig().setReadBufferSize(64);\n    acceptor.getSessionConfig().setIdleTime(IdleStatus.BOTH_IDLE, 10);\n    acceptor.bind(new InetSocketAddress(PORT));\n}\n</pre>\n<p><em>Handler Code</em><br /></p>\n<pre>\npublic void messageReceived(IoSession session, Object message) throws Exception {\n\n    AbstractIoBuffer bf = (AbstractIoBuffer)message;\n    Charset charset = Charset.forName(\"UTF-8\");\n    CharsetDecoder decoder = charset.newDecoder();\n    String outString = bf.getString(decoder);\n}\n</pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690387434,"post_id":76772191,"comment_id":135347316,"body_markdown":"why not just read the JWT-chapter in the docs? https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-sansboot","body":"why not just read the JWT-chapter in the docs? <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-sansboot\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"},{"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"score":0,"creation_date":1690393162,"post_id":76772191,"comment_id":135348667,"body_markdown":"I did, and it keeps saying to use JWT decoder....which does not exist anymore.","body":"I did, and it keeps saying to use JWT decoder....which does not exist anymore."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690409884,"post_id":76772191,"comment_id":135351563,"body_markdown":"i have no idea what you are talking about, you are VERY unclear. the function does not take in a `class` it takes in something that implements the interface `JwtDecoder`. You have not posted anything about your code, all your question is basically saying is that &quot;something&quot; isnt working. Insert what your code looks like before, what it is you want it to do. What you are trying to get working because right now you are explaining nothing.","body":"i have no idea what you are talking about, you are VERY unclear. the function does not take in a <code>class</code> it takes in something that implements the interface <code>JwtDecoder</code>. You have not posted anything about your code, all your question is basically saying is that &quot;something&quot; isnt working. Insert what your code looks like before, what it is you want it to do. What you are trying to get working because right now you are explaining nothing."},{"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"score":0,"creation_date":1690464972,"post_id":76772191,"comment_id":135360026,"body_markdown":"read it multiple times over, for days before i asked this question, and it does not help at all.\nonly difference between old code and my change is this one file that only has the security filter chain in it.  we switched to spring security core 6 from spring security oauth and the chain stopped working, i put an update above to show what it was before","body":"read it multiple times over, for days before i asked this question, and it does not help at all. only difference between old code and my change is this one file that only has the security filter chain in it.  we switched to spring security core 6 from spring security oauth and the chain stopped working, i put an update above to show what it was before"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690469708,"post_id":76772191,"comment_id":135361206,"body_markdown":"it says right here how to expose a decoder, right here https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-decoder-bean its right there, in the link i posted the documentation explains exactly everything you need to do, and if something is unclear about the documentation, you ask about the docs and we will explain them. Stack overflow is not a forum, its a Q&amp;A site, meaning you ask one well researched question and get one answer. And i have reported your comment","body":"it says right here how to expose a decoder, right here <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-decoder-bean\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> its right there, in the link i posted the documentation explains exactly everything you need to do, and if something is unclear about the documentation, you ask about the docs and we will explain them. Stack overflow is not a forum, its a Q&amp;A site, meaning you ask one well researched question and get one answer. And i have reported your comment"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690471481,"post_id":76772191,"comment_id":135361616,"body_markdown":"your comments have been reported, i have linked you exactly how to solve the problem, what you do with that information is up to you. I had no obligation to try to help you but still i did. So good luck with your problem, you are now on your own.","body":"your comments have been reported, i have linked you exactly how to solve the problem, what you do with that information is up to you. I had no obligation to try to help you but still i did. So good luck with your problem, you are now on your own."}],"answers":[{"comments":[{"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"score":0,"creation_date":1690811825,"post_id":76794373,"comment_id":135401066,"body_markdown":"yeah for some reason it took a while for my intellij to register that the dependency was there.  Kept putting this one in the pom file but it took a day or two to allow me to use its methods.  So I assumed it got removed lol.  All good now","body":"yeah for some reason it took a while for my intellij to register that the dependency was there.  Kept putting this one in the pom file but it took a day or two to allow me to use its methods.  So I assumed it got removed lol.  All good now"}],"tags":[],"owner":{"account_id":17054653,"reputation":605,"user_id":12339564,"display_name":"ABC"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690646390,"creation_date":1690646390,"answer_id":76794373,"question_id":76772191,"body_markdown":"```JwtDecoder``` is still supported and you can find it here: https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose\r\n\r\nIf you are using Maven, you can add it to your project:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nFor Gradle:\r\n```\r\n        implementation &#39;org.springframework.security:spring-security-oauth2-jose:6.1.0&#39;\r\n```","title":"JwtDecoder no longer exists in springsecurity6","body":"<p><code>JwtDecoder</code> is still supported and you can find it here: <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose</a></p>\n<p>If you are using Maven, you can add it to your project:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>For Gradle:</p>\n<pre><code>        implementation 'org.springframework.security:spring-security-oauth2-jose:6.1.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690654223,"creation_date":1690654223,"answer_id":76794909,"question_id":76772191,"body_markdown":"This should be enough in basic cases\r\n```java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n\t@Bean\r\n\tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt((jwt) -&gt; {}));\r\n\r\n\t\t// State-less session (state in access-token only)\r\n\t\thttp.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n\t\t// Disable CSRF because of state-less session-management\r\n\t\thttp.csrf(csrf -&gt; csrf.disable());\r\n\r\n\t\t// Return 401 (unauthorized) instead of 302 (redirect to login) when\r\n\t\t// authorization is missing or invalid\r\n\t\thttp.exceptionHandling(eh -&gt; eh.authenticationEntryPoint((request, response, authException) -&gt; {\r\n\t\t\tresponse.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\r\n\t\t\tresponse.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n\t\t}));\r\n\r\n        http.authorizeHttpRequests(requests -&gt; requests\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/public/**&quot;)).permitAll()\r\n            .anyRequest().authenticated());\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\nFor more details, start [there][1].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials","title":"JwtDecoder no longer exists in springsecurity6","body":"<p>This should be enough in basic cases</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\npublic class WebSecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt((jwt) -&gt; {}));\n\n        // State-less session (state in access-token only)\n        http.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        // Disable CSRF because of state-less session-management\n        http.csrf(csrf -&gt; csrf.disable());\n\n        // Return 401 (unauthorized) instead of 302 (redirect to login) when\n        // authorization is missing or invalid\n        http.exceptionHandling(eh -&gt; eh.authenticationEntryPoint((request, response, authException) -&gt; {\n            response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\n            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n        }));\n\n        http.authorizeHttpRequests(requests -&gt; requests\n            .requestMatchers(new AntPathRequestMatcher(&quot;/public/**&quot;)).permitAll()\n            .anyRequest().authenticated());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>For more details, start <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}],"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690654223,"creation_date":1690380679,"question_id":76772191,"body_markdown":"I have run into trouble with upgrading to spring security core 6.1 and my filter chain is lacking a decoder for jwt.  The problem is the only class the jwt.decoder() function takes in, JwtDecoder, is no longer a supported class.\r\n\r\nRight now I have changed it to look like the following:\r\n```\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf(AbstractHttpConfigurer::disable).authorizeHttpRequests(auth -&gt; auth.anyRequest().permitAll())\r\n            .oauth2ResourceServer(oauth-&gt;oauth.jwt(jwt-&gt;jwt.decoder()));\r\n    return http.build();\r\n  }\r\n```\r\nand it used to look like the below block before the switch from spring security oauth2 to spring security 6\r\n```\r\n@Configuration\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable().authorizeRequests().anyRequest().permitAll();\r\n  }\r\n```\r\nI don&#39;t believe i should need the resource server at all but without it, I receive a &quot;principalName cannot be empty error&quot;\r\n\r\nNeed help getting the new one to work just as the old one did.  I want to accept all requests.\r\n","title":"JwtDecoder no longer exists in springsecurity6","body":"<p>I have run into trouble with upgrading to spring security core 6.1 and my filter chain is lacking a decoder for jwt.  The problem is the only class the jwt.decoder() function takes in, JwtDecoder, is no longer a supported class.</p>\n<p>Right now I have changed it to look like the following:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable).authorizeHttpRequests(auth -&gt; auth.anyRequest().permitAll())\n            .oauth2ResourceServer(oauth-&gt;oauth.jwt(jwt-&gt;jwt.decoder()));\n    return http.build();\n  }\n</code></pre>\n<p>and it used to look like the below block before the switch from spring security oauth2 to spring security 6</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeRequests().anyRequest().permitAll();\n  }\n</code></pre>\n<p>I don't believe i should need the resource server at all but without it, I receive a &quot;principalName cannot be empty error&quot;</p>\n<p>Need help getting the new one to work just as the old one did.  I want to accept all requests.</p>\n"},{"tags":["java","oop","static","static-classes"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690650801,"post_id":76794660,"comment_id":135384552,"body_markdown":"Why are you hard coding all of these classes? This is a design smell and is something that you really don&#39;t want to do. Instead, it would be much more straightforward to create a Npc class, and then create instances of them, each instance with different properties. Otherwise, if you&#39;re hard coding this stuff, you&#39;re really painting yourself into a bad corner.","body":"Why are you hard coding all of these classes? This is a design smell and is something that you really don&#39;t want to do. Instead, it would be much more straightforward to create a Npc class, and then create instances of them, each instance with different properties. Otherwise, if you&#39;re hard coding this stuff, you&#39;re really painting yourself into a bad corner."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690650851,"post_id":76794660,"comment_id":135384557,"body_markdown":"And I think that your main question would be solved if you changed your program design as I suggested.","body":"And I think that your main question would be solved if you changed your program design as I suggested."},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1690650950,"post_id":76794660,"comment_id":135384569,"body_markdown":"There is logic that is unique to every npc that cannot be handed in when the instance is constructed, for behaviour and dialogue and etc, so those methods are defined in the NPC class and then overwritten in the child classes","body":"There is logic that is unique to every npc that cannot be handed in when the instance is constructed, for behaviour and dialogue and etc, so those methods are defined in the NPC class and then overwritten in the child classes"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690651123,"post_id":76794660,"comment_id":135384594,"body_markdown":"That isn&#39;t a hindrance and probably could be better handled with a few base Npc classes and use of an appropriate design pattern, such as perhaps the [Command Pattern](https://en.wikipedia.org/wiki/Command_pattern).","body":"That isn&#39;t a hindrance and probably could be better handled with a few base Npc classes and use of an appropriate design pattern, such as perhaps the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">Command Pattern</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690651625,"post_id":76794660,"comment_id":135384656,"body_markdown":"&quot;*My main concern at the moment is if these inner static classes would do anything funny with serialization, as static fields are all transient.*&quot; -- static nested classes are not the same as static fields and so you may be confusing different concepts here. Also, what happens when you try to serialize and deserialize?","body":"&quot;<i>My main concern at the moment is if these inner static classes would do anything funny with serialization, as static fields are all transient.</i>&quot; -- static nested classes are not the same as static fields and so you may be confusing different concepts here. Also, what happens when you try to serialize and deserialize?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1690654744,"post_id":76794660,"comment_id":135384954,"body_markdown":"BTW there is no *inner class* in posted code! From the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3-100): &quot;An inner class is a nested class that is not explicitly or implicitly `static`.&quot; (an inner class would need an instance of the enclosing class)","body":"BTW there is no <i>inner class</i> in posted code! From the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3-100\" rel=\"nofollow noreferrer\">Java Language Specification</a>: &quot;An inner class is a nested class that is not explicitly or implicitly <code>static</code>.&quot; (an inner class would need an instance of the enclosing class)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690666929,"post_id":76794660,"comment_id":135386189,"body_markdown":"@user16320674 &#39;static inner class&#39; is _very_ common slang. In the end, words are tools used to convey ideas. If I say &#39;irregardless&#39; and you know precisely what I mean, the word was a good tool. Even though irregardless &quot;is not a word&quot;. Now, normally if a term is explicitly used by the core controlling spec (The JLS), then that gives a ton of credibility to it, but in the end, the only relevant question is __what does the majority of the community understand when you use that word__. And given how incredibly common e.g. &quot;static inner class&quot; is, that definition __is not The Final Word__.","body":"@user16320674 &#39;static inner class&#39; is <i>very</i> common slang. In the end, words are tools used to convey ideas. If I say &#39;irregardless&#39; and you know precisely what I mean, the word was a good tool. Even though irregardless &quot;is not a word&quot;. Now, normally if a term is explicitly used by the core controlling spec (The JLS), then that gives a ton of credibility to it, but in the end, the only relevant question is <b>what does the majority of the community understand when you use that word</b>. And given how incredibly common e.g. &quot;static inner class&quot; is, that definition <b>is not The Final Word</b>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690667058,"post_id":76794660,"comment_id":135386206,"body_markdown":"The point is: Calling The `X` in `public class Foo { public static class X {}}` &quot;an inner class&quot; is mostly fine, if somewhat confusing. More to the point, calling the `X` in `public class Foo {public class X{}}` an &#39;inner class&#39; and then assuming that the person you said that too will of course be clued in to know that this means it isn&#39;t static, that&#39;s you failing your job as communicator, because that&#39;s a really bad assumption to make. __Eventhough__ the JLS uses that term specifically to mean &#39;non static nested class&#39;. What can I say? Communities trump specs.","body":"The point is: Calling The <code>X</code> in <code>public class Foo { public static class X {}}</code> &quot;an inner class&quot; is mostly fine, if somewhat confusing. More to the point, calling the <code>X</code> in <code>public class Foo {public class X{}}</code> an &#39;inner class&#39; and then assuming that the person you said that too will of course be clued in to know that this means it isn&#39;t static, that&#39;s you failing your job as communicator, because that&#39;s a really bad assumption to make. <b>Eventhough</b> the JLS uses that term specifically to mean &#39;non static nested class&#39;. What can I say? Communities trump specs."}],"answers":[{"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690654718,"post_id":76794895,"comment_id":135384952,"body_markdown":"Of course, I agree with this, but any thoughts on the OP&#39;s code structure?","body":"Of course, I agree with this, but any thoughts on the OP&#39;s code structure?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690666682,"post_id":76794895,"comment_id":135386166,"body_markdown":"I can imagine each NPC has custom routines. There&#39;s the bartender in the village that has an `idling()` method where he takes out a rag and wipes down the counter. In fact, that specific behaviour is for a (as per the writing for the game, not the coding for it) specific barman, and in the script, that barman is called &#39;Michael&#39;. There can in code be many michaels (anytime the main character walks close to the village it &#39;renders&#39; and a michael object is made, when the main char walks away, the entire village despawns). Perhaps 2 different villages both have a &#39;Michael&#39;.","body":"I can imagine each NPC has custom routines. There&#39;s the bartender in the village that has an <code>idling()</code> method where he takes out a rag and wipes down the counter. In fact, that specific behaviour is for a (as per the writing for the game, not the coding for it) specific barman, and in the script, that barman is called &#39;Michael&#39;. There can in code be many michaels (anytime the main character walks close to the village it &#39;renders&#39; and a michael object is made, when the main char walks away, the entire village despawns). Perhaps 2 different villages both have a &#39;Michael&#39;."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690666785,"post_id":76794895,"comment_id":135386174,"body_markdown":"@HovercraftFullOfEels I&#39;m not sure it&#39;s the _best_ choice, but representing that barman script as its own class is sensible. Sticking that class as a static inner class in NPC is sensible (but the reason stated by OP, &#39;to reduce java files&#39;, really isn&#39;t). Calling that class `Michael` is.. probably also acceptable, really. I can see a world where this question makes sense, and it is not a preposterous series of events to get there. I think in the spirit of SO you should at that point give the question the benefit of the doubt. Note that this answer has an footnote in case this isn&#39;t accurate.","body":"@HovercraftFullOfEels I&#39;m not sure it&#39;s the <i>best</i> choice, but representing that barman script as its own class is sensible. Sticking that class as a static inner class in NPC is sensible (but the reason stated by OP, &#39;to reduce java files&#39;, really isn&#39;t). Calling that class <code>Michael</code> is.. probably also acceptable, really. I can see a world where this question makes sense, and it is not a preposterous series of events to get there. I think in the spirit of SO you should at that point give the question the benefit of the doubt. Note that this answer has an footnote in case this isn&#39;t accurate."},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1690667570,"post_id":76794895,"comment_id":135386240,"body_markdown":"Thanks, you basically got it spot on with your barman example. It&#39;s that exact sort of behaviour that I needed to handle that made me think of doing it this way. I asked some others about this and they gave alternative clever solutions using lambda expressions or a &#39;prototype pattern&#39;, but I thought this way was the most concise and readable way of doing it.\n\n\n\nalso, maybe it still isn&#39;t sensible, but with the point about reducing java files, again that was moreso about readability/workflow. I didn&#39;t want to have to jump between differen&#39;t files when writing the behaviour for all the npcs.","body":"Thanks, you basically got it spot on with your barman example. It&#39;s that exact sort of behaviour that I needed to handle that made me think of doing it this way. I asked some others about this and they gave alternative clever solutions using lambda expressions or a &#39;prototype pattern&#39;, but I thought this way was the most concise and readable way of doing it.    also, maybe it still isn&#39;t sensible, but with the point about reducing java files, again that was moreso about readability/workflow. I didn&#39;t want to have to jump between differen&#39;t files when writing the behaviour for all the npcs."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690669389,"post_id":76794895,"comment_id":135386366,"body_markdown":"Having relevant things close together is useful. 2 snippets of code that aren&#39;t in the same source file can&#39;t really be considered &#39;close together&#39;. However, your solution, @user21749640 , also doesn&#39;t work: Now you have ginormous source file and stuff in there cannot be close together either. Hence why &#39;I want to reduce the number of java files&#39; is a silly goal, and this would be a bad reason to do it.","body":"Having relevant things close together is useful. 2 snippets of code that aren&#39;t in the same source file can&#39;t really be considered &#39;close together&#39;. However, your solution, @user21749640 , also doesn&#39;t work: Now you have ginormous source file and stuff in there cannot be close together either. Hence why &#39;I want to reduce the number of java files&#39; is a silly goal, and this would be a bad reason to do it."},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1690669839,"post_id":76794895,"comment_id":135386400,"body_markdown":"I&#39;m not sure I follow? If having relevant things close together is useful, then what is wrong with grouping the NPC classes together so I can have all of their behaviour nearby? Sorry, I&#39;ve just read your comment a few times and I don&#39;t think I understand the wording.","body":"I&#39;m not sure I follow? If having relevant things close together is useful, then what is wrong with grouping the NPC classes together so I can have all of their behaviour nearby? Sorry, I&#39;ve just read your comment a few times and I don&#39;t think I understand the wording."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690671759,"post_id":76794895,"comment_id":135386526,"body_markdown":"Your `Npc.java` file will be very very large. This causes more problems than you end up solving.","body":"Your <code>Npc.java</code> file will be very very large. This causes more problems than you end up solving."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690654095,"creation_date":1690654095,"answer_id":76794895,"question_id":76794660,"body_markdown":"static inner classes are identical to top-level classes in every way other than how they are named. Whether they serialize or not is utterly independent of the class they are inside of. There is no difference, whatsoever, between:\r\n\r\n```\r\n--- Michael.java:\r\n\r\npublic class Michael extends Npc { ... }\r\n\r\n--- Npc.java\r\n\r\npublic class Npc implements Serializable { .... }\r\n```\r\n\r\nand\r\n\r\n```\r\n---- Npc.java\r\n\r\npublic class Npc implements Serializable {\r\n  public static class Michael extends Npc { .... }\r\n}\r\n```\r\n\r\nif `Michael` is not going to contain any custom code (just inherits from `Npc` but otherwise doesn&#39;t define anything different or new), Michael should not be its own class.\r\n","title":"Serializing static inner classes java","body":"<p>static inner classes are identical to top-level classes in every way other than how they are named. Whether they serialize or not is utterly independent of the class they are inside of. There is no difference, whatsoever, between:</p>\n<pre><code>--- Michael.java:\n\npublic class Michael extends Npc { ... }\n\n--- Npc.java\n\npublic class Npc implements Serializable { .... }\n</code></pre>\n<p>and</p>\n<pre><code>---- Npc.java\n\npublic class Npc implements Serializable {\n  public static class Michael extends Npc { .... }\n}\n</code></pre>\n<p>if <code>Michael</code> is not going to contain any custom code (just inherits from <code>Npc</code> but otherwise doesn't define anything different or new), Michael should not be its own class.</p>\n"}],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794895,"answer_count":1,"score":0,"last_activity_date":1690654095,"creation_date":1690650611,"question_id":76794660,"body_markdown":"I&#39;m making a game in Java at the moment and how I am planning on handling NPCs at the moment is having each NPC be an instance of their own unique class, all of which inherit from an abstract NPC class.\r\n\r\nFor example, if I have a character named &#39;Michael&#39;, Michael will be an instance of the Michael class, which will inherit from NPC.\r\n\r\nWhile I was setting this up, it occured to me that perhaps I could have all the NPC classes defined as static classes within the body of the NPC class, mainly just because I will then only have the NPC.java file, and not a bunch of Michael.java, John.java, etc.\r\n\r\nso this would look like \r\n`````````````````\r\npublic abstract class NPC implements Seralizable {\r\n\r\n   //stuff\r\n\r\n   public static class Michael extends NPC {\r\n\r\n      //more stuff\r\n\r\n   } \r\n\r\n}\r\n````````````````````````\r\nand when I need to create an instance of Michael in the game, it would look like \r\n\r\n`````````````````\r\nNPC npc1 = NPC.Michael();\r\n`````````````````\r\n\r\nAs you can see above, NPC implements Seralizable, and this is so I can save the gamestate to a file. My main concern at the moment is if these inner static classes would do anything funny with serialization, as static *fields* are all transient.\r\n\r\nI would also appreciate feedback on this style of organizing the code, and if people would normally just prefer having the classes in their own files","title":"Serializing static inner classes java","body":"<p>I'm making a game in Java at the moment and how I am planning on handling NPCs at the moment is having each NPC be an instance of their own unique class, all of which inherit from an abstract NPC class.</p>\n<p>For example, if I have a character named 'Michael', Michael will be an instance of the Michael class, which will inherit from NPC.</p>\n<p>While I was setting this up, it occured to me that perhaps I could have all the NPC classes defined as static classes within the body of the NPC class, mainly just because I will then only have the NPC.java file, and not a bunch of Michael.java, John.java, etc.</p>\n<p>so this would look like</p>\n<pre><code>public abstract class NPC implements Seralizable {\n\n   //stuff\n\n   public static class Michael extends NPC {\n\n      //more stuff\n\n   } \n\n}\n</code></pre>\n<p>and when I need to create an instance of Michael in the game, it would look like</p>\n<pre><code>NPC npc1 = NPC.Michael();\n</code></pre>\n<p>As you can see above, NPC implements Seralizable, and this is so I can save the gamestate to a file. My main concern at the moment is if these inner static classes would do anything funny with serialization, as static <em>fields</em> are all transient.</p>\n<p>I would also appreciate feedback on this style of organizing the code, and if people would normally just prefer having the classes in their own files</p>\n"},{"tags":["java","windows","path"],"comments":[{"owner":{"account_id":321109,"reputation":1036,"user_id":639739,"accept_rate":90,"display_name":"Grault"},"score":1,"creation_date":1558294715,"post_id":50055291,"comment_id":99043910,"body_markdown":"Relevant investigation: https://stackoverflow.com/questions/49540325/which-jre-does-c-programdata-oracle-java-javapath-java-exe-use/49543305","body":"Relevant investigation: <a href=\"https://stackoverflow.com/questions/49540325/which-jre-does-c-programdata-oracle-java-javapath-java-exe-use/49543305\" title=\"which jre does c programdata oracle java javapath java exe use\">stackoverflow.com/questions/49540325/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":488522,"reputation":331,"user_id":1340223,"display_name":"fredless"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525108864,"creation_date":1525108864,"answer_id":50105299,"question_id":50055291,"body_markdown":"On my machine, the files in C:\\ProgramData\\Oracle\\Java\\javapath used to symlink to files elsewhere.  But noticed this has changed in or before 8u112.  Worth noting that on my current release (8u171) both javapath folders symlink to &quot;target&quot; folders in the same directory.\r\n\r\nIf I undo the things in c:\\programdata I notice that my Eclipse environment stops working well.\r\n\r\nBut I don&#39;t have much more insight on the history or why behind all of this though. ","title":"How to best set the path to java in windows","body":"<p>On my machine, the files in C:\\ProgramData\\Oracle\\Java\\javapath used to symlink to files elsewhere.  But noticed this has changed in or before 8u112.  Worth noting that on my current release (8u171) both javapath folders symlink to \"target\" folders in the same directory.</p>\n\n<p>If I undo the things in c:\\programdata I notice that my Eclipse environment stops working well.</p>\n\n<p>But I don't have much more insight on the history or why behind all of this though. </p>\n"},{"comments":[{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":2,"creation_date":1617049582,"post_id":63408155,"comment_id":118188615,"body_markdown":"`C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` is being added to env variables as first entry. I&#39;ll disable auto updates. I have no idea how it&#39;s updated","body":"<code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> is being added to env variables as first entry. I&#39;ll disable auto updates. I have no idea how it&#39;s updated"},{"owner":{"account_id":21135,"reputation":2266,"user_id":51151,"accept_rate":67,"display_name":"Mehmet"},"score":0,"creation_date":1669291811,"post_id":63408155,"comment_id":131614253,"body_markdown":"Adding %JAVA_HOME%\\bin to the PATH environment variable definitely worked fır me.","body":"Adding %JAVA_HOME%\\bin to the PATH environment variable definitely worked fır me."},{"owner":{"account_id":10052931,"reputation":303,"user_id":7432128,"display_name":"stefan123t"},"score":0,"creation_date":1684829047,"post_id":63408155,"comment_id":134570241,"body_markdown":"I have not been able to find the javapath configured in my System Env Variables for the Admin account. I had to set the PATH manually as you described until `where java` returned the right JDK only. Afterwards I searched my Control Panel and found the Java Control Panel which has the references to `javaw.exe`. Dunno if this is related.","body":"I have not been able to find the javapath configured in my System Env Variables for the Admin account. I had to set the PATH manually as you described until <code>where java</code> returned the right JDK only. Afterwards I searched my Control Panel and found the Java Control Panel which has the references to <code>javaw.exe</code>. Dunno if this is related."},{"owner":{"account_id":3204449,"reputation":588,"user_id":2752308,"display_name":"Marcelo Scofano Diniz"},"score":0,"creation_date":1696331879,"post_id":63408155,"comment_id":136136400,"body_markdown":"It is imperative to remove `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` and other java paths from path environment variables, leaving only the **%JAVA_HOME%\\bin**","body":"It is imperative to remove <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> and other java paths from path environment variables, leaving only the <b>%JAVA_HOME%\\bin</b>"}],"tags":[],"owner":{"account_id":16849,"reputation":2520,"user_id":37144,"accept_rate":20,"display_name":"Rakesh N"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1598166803,"creation_date":1597389090,"answer_id":63408155,"question_id":50055291,"body_markdown":"When a new version of JRE is installed, this path `C:\\Program Files (x86)\\Common Files\\Oracle\\Java` appears to be updated with executables corresponding to the new JRE version. The problem is this would be **JRE** and not **JDK**. So, programs that depend on JDK (IDE for example) will fail to launch.\r\n\r\n**Here is how I get it to work consistently**\r\n\r\n 1. I always have an environment variable in *User Variables* (System Environment Variables by going to Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  User Variables) -- `JAVA_HOME` pointing to the **JDK** Home. And add `%JAVA_HOME%\\bin` to the `PATH` environment variable. \r\n 2. Interestingly, I remove the entry `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` from the `Path` environment variable in *System Environment Variables* (Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  System Variables).\r\n\r\nThis works as of Aug 2020 for Windows 10 (1903), Java 8u251. :)\r\n","title":"How to best set the path to java in windows","body":"<p>When a new version of JRE is installed, this path <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java</code> appears to be updated with executables corresponding to the new JRE version. The problem is this would be <strong>JRE</strong> and not <strong>JDK</strong>. So, programs that depend on JDK (IDE for example) will fail to launch.</p>\n<p><strong>Here is how I get it to work consistently</strong></p>\n<ol>\n<li>I always have an environment variable in <em>User Variables</em> (System Environment Variables by going to Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  User Variables) -- <code>JAVA_HOME</code> pointing to the <strong>JDK</strong> Home. And add <code>%JAVA_HOME%\\bin</code> to the <code>PATH</code> environment variable.</li>\n<li>Interestingly, I remove the entry <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> from the <code>Path</code> environment variable in <em>System Environment Variables</em> (Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  System Variables).</li>\n</ol>\n<p>This works as of Aug 2020 for Windows 10 (1903), Java 8u251. :)</p>\n"},{"tags":[],"owner":{"account_id":15648100,"reputation":3,"user_id":11289937,"display_name":"NJT145"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690653494,"creation_date":1690653494,"answer_id":76794862,"question_id":50055291,"body_markdown":"I just moved `%JAVA_HOME%\\bin` to before the `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` and it works without any problem. I suggest you to check your environment variables and your Path variable regularly, especially after you install something on your machine.","title":"How to best set the path to java in windows","body":"<p>I just moved <code>%JAVA_HOME%\\bin</code> to before the <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> and it works without any problem. I suggest you to check your environment variables and your Path variable regularly, especially after you install something on your machine.</p>\n"}],"owner":{"account_id":1755695,"reputation":402,"user_id":1603810,"accept_rate":28,"display_name":"gerardo flores"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18492,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1690653494,"creation_date":1524803481,"question_id":50055291,"body_markdown":"I&#39;m curious about the difference that exists between the paths that I see in the windows environment to java. \r\nIf I do a command `where java` I can see \r\n\r\n    C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\n    C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\r\n    C:\\Program Files\\Java\\jdk1.6.0_21\\bin\\java.exe\r\n\r\nAnd I have seen that the first one, the javapath, gets updated with the latest java sdk I have installed. However, most of what you google tells you should set the environment variable PATH to the latest, the one with the jdk in the path. \r\nSo what is the best, how do they work. For example, what&#39;s best for Xamarin or Android development?\r\n\r\nHopefully someone has some insight, I&#39;d appreciate comments on this.\r\nNow I know, (everyone does) that to change the path to java you have to set the JAVA_HOME variable. I did this after posting this, it&#39;s hard to recall everything you read at any given moment! \r\nStill what&#39;s the purpose of the other paths, and why does updating java jre automatically sets the java version while downloading an sdk requires a manual update?","title":"How to best set the path to java in windows","body":"<p>I'm curious about the difference that exists between the paths that I see in the windows environment to java. \nIf I do a command <code>where java</code> I can see </p>\n\n<pre><code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\nC:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\nC:\\Program Files\\Java\\jdk1.6.0_21\\bin\\java.exe\n</code></pre>\n\n<p>And I have seen that the first one, the javapath, gets updated with the latest java sdk I have installed. However, most of what you google tells you should set the environment variable PATH to the latest, the one with the jdk in the path. \nSo what is the best, how do they work. For example, what's best for Xamarin or Android development?</p>\n\n<p>Hopefully someone has some insight, I'd appreciate comments on this.\nNow I know, (everyone does) that to change the path to java you have to set the JAVA_HOME variable. I did this after posting this, it's hard to recall everything you read at any given moment! \nStill what's the purpose of the other paths, and why does updating java jre automatically sets the java version while downloading an sdk requires a manual update?</p>\n"},{"tags":["java","docker","selenium-webdriver","automation-testing"],"answers":[{"comments":[{"owner":{"account_id":20891017,"reputation":13,"user_id":15346379,"display_name":"pankaj yadav"},"score":0,"creation_date":1690656240,"post_id":76794613,"comment_id":135385080,"body_markdown":"The error message changed if I use http://localhost:4444. New error message &quot;Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.&quot;","body":"The error message changed if I use <a href=\"http://localhost:4444\" rel=\"nofollow noreferrer\">localhost:4444</a>. New error message &quot;Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.&quot;"}],"tags":[],"owner":{"account_id":20852723,"reputation":1,"user_id":15316874,"display_name":"Glauber Faria"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690649938,"creation_date":1690649938,"answer_id":76794613,"question_id":76794279,"body_markdown":"From what I understand you loading the selenium engine through a container, running the java application locally in an IDE (Eclipse, Intelij or Vscode)?\r\n\r\nTry changing 172.17.0.2 to localhost\r\n\r\nTry using the instruction:\r\ndocker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest\r\n\r\nTry accessing the selenium container through port 4444 or 7900\r\n\r\nIn your browser try accessing http://localhost:4444 or http://localhost:7900/?autoconnect=1&amp;resize=scale&amp;password=secret to check if the selenium container is working correctly.","title":"Unable to launch browser using selenium on Docker. Getting org.openqa.selenium.SessionNotCreatedException","body":"<p>From what I understand you loading the selenium engine through a container, running the java application locally in an IDE (Eclipse, Intelij or Vscode)?</p>\n<p>Try changing 172.17.0.2 to localhost</p>\n<p>Try using the instruction:\ndocker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest</p>\n<p>Try accessing the selenium container through port 4444 or 7900</p>\n<p>In your browser try accessing http://localhost:4444 or http://localhost:7900/?autoconnect=1&amp;resize=scale&amp;password=secret to check if the selenium container is working correctly.</p>\n"},{"comments":[{"owner":{"account_id":20891017,"reputation":13,"user_id":15346379,"display_name":"pankaj yadav"},"score":0,"creation_date":1690656052,"post_id":76794858,"comment_id":135385066,"body_markdown":"I tried with the above dependency but no breakthrough","body":"I tried with the above dependency but no breakthrough"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690656463,"post_id":76794858,"comment_id":135385101,"body_markdown":"@pankajyadav Restrat the Docker/system and retest.","body":"@pankajyadav Restrat the Docker/system and retest."},{"owner":{"account_id":20891017,"reputation":13,"user_id":15346379,"display_name":"pankaj yadav"},"score":0,"creation_date":1690657275,"post_id":76794858,"comment_id":135385184,"body_markdown":"Still it did not work.","body":"Still it did not work."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690653445,"creation_date":1690653445,"answer_id":76794858,"question_id":76794279,"body_markdown":"As you are using `RemoteWebDriver` instead of using [`selenium-java`](https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.10.0) dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.10.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nYou can use the [`selenium-remote-driver`](https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver/4.10.0) dependency as follows:\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.10.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Unable to launch browser using selenium on Docker. Getting org.openqa.selenium.SessionNotCreatedException","body":"<p>As you are using <code>RemoteWebDriver</code> instead of using <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.10.0\" rel=\"nofollow noreferrer\"><code>selenium-java</code></a> dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can use the <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver/4.10.0\" rel=\"nofollow noreferrer\"><code>selenium-remote-driver</code></a> dependency as follows:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20891017,"reputation":13,"user_id":15346379,"display_name":"pankaj yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690653445,"creation_date":1690644846,"question_id":76794279,"body_markdown":"I am trying to fetch title of the website &quot;https://www.google.com/&quot; in chrome browser using selenium on Docker. However whenever I execute I get the following exception \r\n\r\n```\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n```\r\n\r\n\r\n\r\nActual Code\r\n\r\n\r\n```\r\n`package remoteTesting.DockerValidation;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\npublic class ChromeStandAloneTest {\r\n\tpublic static void main(String[] args) throws MalformedURLException {\r\n\t\t\r\n\t\tURL url = new URL(&quot;http://172.17.0.2:4444/wd/hub&quot;);\r\n\t\tDesiredCapabilities cap\t\t=new DesiredCapabilities();\r\n\t\tcap.setCapability(&quot;browserName&quot;,&quot;chrome&quot;);\r\n\t\tWebDriver remoteWebDriver = new RemoteWebDriver(url,cap);\r\n\t\tremoteWebDriver.get(&quot;https://www.google.com/&quot;);\r\n\t\tSystem.out.print(remoteWebDriver.getTitle());\r\n\t}\r\n\r\n}`\r\n\r\n```\r\n\r\nMaven dependency for selenium\r\n\r\n\r\n```\r\n`&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;`\r\n\r\n```\r\nDocker Logs\r\n\r\n\r\n```\r\n`[node]\r\nsession-timeout = &quot;300&quot;\r\noverride-max-sessions = false\r\ndetect-drivers = false\r\ndrain-after-session-count = 0\r\nmax-sessions = 1\r\n\r\n[[node.driver-configuration]]\r\ndisplay-name = &quot;chrome&quot;\r\nstereotype = &#39;{&quot;browserName&quot;: &quot;chrome&quot;, &quot;browserVersion&quot;: &quot;114.0&quot;, &quot;platformName&quot;: &quot;Linux&quot;}&#39;\r\nmax-sessions = 1\r\n\r\nStarting Selenium Grid Standalone...\r\nTracing is disabled\r\n14:28:51.150 INFO [LoggingOptions.configureLogEncoding] - Using the system default encoding\r\n14:28:51.212 INFO [OpenTelemetryTracer.createTracer] - Using OpenTelemetry for tracing\r\n14:28:58.003 INFO [NodeOptions.getSessionFactories] - Detected 4 available processors\r\n14:28:58.489 INFO [NodeOptions.report] - Adding chrome for {&quot;browserName&quot;: &quot;chrome&quot;,&quot;browserVersion&quot;: &quot;114.0&quot;,&quot;platformName&quot;: &quot;linux&quot;,&quot;se:noVncPort&quot;: 7900,&quot;se:vncEnabled&quot;: true} 1 times (Host)\r\n14:28:58.631 INFO [Node.&lt;init&gt;] - Binding additional locator mechanisms: relative\r\n14:28:58.805 INFO [GridModel.setAvailability] - Switching Node 2b995240-198b-47f2-99c3-301922c9a38b (uri: http://172.17.0.2:4444) from DOWN to UP\r\n14:28:58.808 INFO [LocalDistributor.add] - Added node 2b995240-198b-47f2-99c3-301922c9a38b at http://172.17.0.2:4444. Health check every 120s\r\n14:28:59.873 INFO [Standalone.execute] - Started Selenium Standalone 4.10.0 (revision c14d967899): http://172.17.0.2:4444`\r\n\r\n```\r\n\r\nError stack trace\r\n\r\n\r\n```\r\n`Jul 29, 2023 8:18:25 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;Pankajs-MacBook-Air.local&#39;, ip: &#39;fe80:0:0:0:838:973c:93b8:49da%en0&#39;\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.4.1&#39;, java.version: &#39;18.0.1.1&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome}]}]\r\nCapabilities {browserName: chrome}\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:134)\r\n\tat remoteTesting.DockerValidation.ChromeStandAloneTest.main(ChromeStandAloneTest.java:16)\r\nCaused by: java.io.UncheckedIOException: java.net.ConnectException: connection timed out: /172.17.0.2:4444\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:73)\r\n\tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n\tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:48)\r\n\tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n\tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:97)\r\n\tat org.openqa.selenium.remote.tracing.TracedHttpClient.execute(TracedHttpClient.java:54)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:115)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:96)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:163)\r\n\tat org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\r\n\t... 4 more\r\nCaused by: java.net.ConnectException: connection timed out: /172.17.0.2:4444\r\n\tat org.asynchttpclient.netty.channel.NettyConnectListener.onFailure(NettyConnectListener.java:179)\r\n\tat org.asynchttpclient.netty.channel.NettyChannelConnector$1.onFailure(NettyChannelConnector.java:108)\r\n\tat org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:28)\r\n\tat org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:20)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:262)\r\n\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n\tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: io.netty.channel.ConnectTimeoutException: connection timed out: /172.17.0.2:4444\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)\r\n\t... 10 more`\r\n\r\n```\r\n\r\nDocker command used to download image : `docker pull selenium/standalone-chrome:latest`\r\n\r\nDocker command used to run : `docker run -d -p 4444:4444 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest` \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have actually tried restarting the Docker, rechecking the selenium version but it did not help me .`","title":"Unable to launch browser using selenium on Docker. Getting org.openqa.selenium.SessionNotCreatedException","body":"<p>I am trying to fetch title of the website &quot;https://www.google.com/&quot; in chrome browser using selenium on Docker. However whenever I execute I get the following exception</p>\n<pre><code>\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \n</code></pre>\n<p>Actual Code</p>\n<pre><code>`package remoteTesting.DockerValidation;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class ChromeStandAloneTest {\n    public static void main(String[] args) throws MalformedURLException {\n        \n        URL url = new URL(&quot;http://172.17.0.2:4444/wd/hub&quot;);\n        DesiredCapabilities cap     =new DesiredCapabilities();\n        cap.setCapability(&quot;browserName&quot;,&quot;chrome&quot;);\n        WebDriver remoteWebDriver = new RemoteWebDriver(url,cap);\n        remoteWebDriver.get(&quot;https://www.google.com/&quot;);\n        System.out.print(remoteWebDriver.getTitle());\n    }\n\n}`\n\n</code></pre>\n<p>Maven dependency for selenium</p>\n<pre><code>`&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;`\n\n</code></pre>\n<p>Docker Logs</p>\n<pre><code>`[node]\nsession-timeout = &quot;300&quot;\noverride-max-sessions = false\ndetect-drivers = false\ndrain-after-session-count = 0\nmax-sessions = 1\n\n[[node.driver-configuration]]\ndisplay-name = &quot;chrome&quot;\nstereotype = '{&quot;browserName&quot;: &quot;chrome&quot;, &quot;browserVersion&quot;: &quot;114.0&quot;, &quot;platformName&quot;: &quot;Linux&quot;}'\nmax-sessions = 1\n\nStarting Selenium Grid Standalone...\nTracing is disabled\n14:28:51.150 INFO [LoggingOptions.configureLogEncoding] - Using the system default encoding\n14:28:51.212 INFO [OpenTelemetryTracer.createTracer] - Using OpenTelemetry for tracing\n14:28:58.003 INFO [NodeOptions.getSessionFactories] - Detected 4 available processors\n14:28:58.489 INFO [NodeOptions.report] - Adding chrome for {&quot;browserName&quot;: &quot;chrome&quot;,&quot;browserVersion&quot;: &quot;114.0&quot;,&quot;platformName&quot;: &quot;linux&quot;,&quot;se:noVncPort&quot;: 7900,&quot;se:vncEnabled&quot;: true} 1 times (Host)\n14:28:58.631 INFO [Node.&lt;init&gt;] - Binding additional locator mechanisms: relative\n14:28:58.805 INFO [GridModel.setAvailability] - Switching Node 2b995240-198b-47f2-99c3-301922c9a38b (uri: http://172.17.0.2:4444) from DOWN to UP\n14:28:58.808 INFO [LocalDistributor.add] - Added node 2b995240-198b-47f2-99c3-301922c9a38b at http://172.17.0.2:4444. Health check every 120s\n14:28:59.873 INFO [Standalone.execute] - Started Selenium Standalone 4.10.0 (revision c14d967899): http://172.17.0.2:4444`\n\n</code></pre>\n<p>Error stack trace</p>\n<pre><code>`Jul 29, 2023 8:18:25 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'Pankajs-MacBook-Air.local', ip: 'fe80:0:0:0:838:973c:93b8:49da%en0'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.4.1', java.version: '18.0.1.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome}]}]\nCapabilities {browserName: chrome}\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:134)\n    at remoteTesting.DockerValidation.ChromeStandAloneTest.main(ChromeStandAloneTest.java:16)\nCaused by: java.io.UncheckedIOException: java.net.ConnectException: connection timed out: /172.17.0.2:4444\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:73)\n    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:48)\n    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\n    at org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:97)\n    at org.openqa.selenium.remote.tracing.TracedHttpClient.execute(TracedHttpClient.java:54)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:115)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:96)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:163)\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\n    ... 4 more\nCaused by: java.net.ConnectException: connection timed out: /172.17.0.2:4444\n    at org.asynchttpclient.netty.channel.NettyConnectListener.onFailure(NettyConnectListener.java:179)\n    at org.asynchttpclient.netty.channel.NettyChannelConnector$1.onFailure(NettyChannelConnector.java:108)\n    at org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:28)\n    at org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:20)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:262)\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n    at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: io.netty.channel.ConnectTimeoutException: connection timed out: /172.17.0.2:4444\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)\n    ... 10 more`\n\n</code></pre>\n<p>Docker command used to download image : <code>docker pull selenium/standalone-chrome:latest</code></p>\n<p>Docker command used to run : <code>docker run -d -p 4444:4444 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest</code></p>\n<p>I have actually tried restarting the Docker, rechecking the selenium version but it did not help me .`</p>\n"},{"tags":["java","android","regex"],"answers":[{"comments":[{"owner":{"account_id":4570339,"reputation":2452,"user_id":3710195,"accept_rate":90,"display_name":"EstevaoLuis"},"score":0,"creation_date":1690824049,"post_id":76794838,"comment_id":135403648,"body_markdown":"Thank you very much! This is exactly what I was trying to do. I tested on API 28, 30 and 32 and is working perfectly!","body":"Thank you very much! This is exactly what I was trying to do. I tested on API 28, 30 and 32 and is working perfectly!"}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690653160,"creation_date":1690653160,"answer_id":76794838,"question_id":76793707,"body_markdown":"I suspect the syntax you are using for your regex pattern is not supported in all versions of Android. The [`\\p{}` Unicode property escapes](https://developer.android.com/reference/java/util/regex/Pattern#unicode-support) are a part of Java&#39;s regex engine, but they were not fully implemented in Android until API level 29.\r\n\r\nThat means that on any API level lower than 29, the pattern `&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;` will throw a `PatternSyntaxException`, and on API level 29 or 30, the pattern is interpreted incorrectly.\r\n\r\nTo solve your problem, you can use the [`Normalizer` class in Java](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/Normalizer.html), which can remove diacritical marks from a string, as described in &quot;[**Remove Accents and Diacritics From a String in Java**](https://www.baeldung.com/java-remove-accents-from-text)&quot; by [Eugen Baeldung](https://www.baeldung.com/about/).  \r\nHowever, the behavior of Normalizer also varies depending on the Android API level. The following solution should work for all Android versions:\r\n\r\n```java\r\npublic static String removeDiacritics(String str) {\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\r\n        str = Normalizer.normalize(str, Normalizer.Form.NFKD);\r\n        str = str.replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\r\n    } else {\r\n        final Pattern DIACRITICS = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\r\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\r\n        str = DIACRITICS.matcher(str).replaceAll(&quot;&quot;);\r\n    }\r\n    return str;\r\n}\r\n```\r\n\r\nHere, for API 19 (KITKAT) and above, [`Normalizer.Form.NFKD`](https://developer.android.com/reference/java/text/Normalizer.Form) is used to decompose the string into separate characters and combining marks, and then all Unicode marks (`\\\\p{M}`) are removed.  \r\nFor versions below API 19, only the Combining Diacritical Marks Unicode block is removed (`\\\\p{InCombiningDiacriticalMarks}`), as this is the only Unicode property escape that is supported. \r\n\r\nThat will not remove characters categorized as &quot;Letter, modifier&quot; (`\\\\p{IsLm}`) or &quot;Symbol, modifier&quot; (`\\\\p{IsSk}`) (see for illustration &quot;[Remove diacritical marks from Unicode chars](https://stackoverflow.com/a/1453284/6309)&quot;), but it is unclear whether you wanted these removed in the first place, as your original code would have left these in on Android API levels below 29.\r\n\r\nKeep also in mind this depends on the language: for languages like German, you might want to convert &#39;&#252;&#39; to &#39;u&#39;, but it is important to be aware that for other languages this might be wrong. Technically, the code above is about removal of diacritics, but linguistically... this is a complex issue.","title":"PatternSyntaxException on old Android API","body":"<p>I suspect the syntax you are using for your regex pattern is not supported in all versions of Android. The <a href=\"https://developer.android.com/reference/java/util/regex/Pattern#unicode-support\" rel=\"nofollow noreferrer\"><code>\\p{}</code> Unicode property escapes</a> are a part of Java's regex engine, but they were not fully implemented in Android until API level 29.</p>\n<p>That means that on any API level lower than 29, the pattern <code>&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;</code> will throw a <code>PatternSyntaxException</code>, and on API level 29 or 30, the pattern is interpreted incorrectly.</p>\n<p>To solve your problem, you can use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\"><code>Normalizer</code> class in Java</a>, which can remove diacritical marks from a string, as described in &quot;<a href=\"https://www.baeldung.com/java-remove-accents-from-text\" rel=\"nofollow noreferrer\"><strong>Remove Accents and Diacritics From a String in Java</strong></a>&quot; by <a href=\"https://www.baeldung.com/about/\" rel=\"nofollow noreferrer\">Eugen Baeldung</a>.<br />\nHowever, the behavior of Normalizer also varies depending on the Android API level. The following solution should work for all Android versions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String removeDiacritics(String str) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\n        str = Normalizer.normalize(str, Normalizer.Form.NFKD);\n        str = str.replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\n    } else {\n        final Pattern DIACRITICS = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\n        str = DIACRITICS.matcher(str).replaceAll(&quot;&quot;);\n    }\n    return str;\n}\n</code></pre>\n<p>Here, for API 19 (KITKAT) and above, <a href=\"https://developer.android.com/reference/java/text/Normalizer.Form\" rel=\"nofollow noreferrer\"><code>Normalizer.Form.NFKD</code></a> is used to decompose the string into separate characters and combining marks, and then all Unicode marks (<code>\\\\p{M}</code>) are removed.<br />\nFor versions below API 19, only the Combining Diacritical Marks Unicode block is removed (<code>\\\\p{InCombiningDiacriticalMarks}</code>), as this is the only Unicode property escape that is supported.</p>\n<p>That will not remove characters categorized as &quot;Letter, modifier&quot; (<code>\\\\p{IsLm}</code>) or &quot;Symbol, modifier&quot; (<code>\\\\p{IsSk}</code>) (see for illustration &quot;<a href=\"https://stackoverflow.com/a/1453284/6309\">Remove diacritical marks from Unicode chars</a>&quot;), but it is unclear whether you wanted these removed in the first place, as your original code would have left these in on Android API levels below 29.</p>\n<p>Keep also in mind this depends on the language: for languages like German, you might want to convert 'ü' to 'u', but it is important to be aware that for other languages this might be wrong. Technically, the code above is about removal of diacritics, but linguistically... this is a complex issue.</p>\n"}],"owner":{"account_id":4570339,"reputation":2452,"user_id":3710195,"accept_rate":90,"display_name":"EstevaoLuis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76794838,"answer_count":1,"score":4,"last_activity_date":1690653160,"creation_date":1690635738,"question_id":76793707,"body_markdown":"I am developing an Android application with Android Studio and I have a class with a static property like this:\r\n\r\n    public static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;);\r\n\r\nEverything is working fine when I debug the app on my physical device - API32.\r\n\r\nBut when I try to debug on an emulator API28, I get an exception whenever I try to reference any static property of the &#39;static&#39; class.\r\n\r\n    \r\n\r\n    FATAL EXCEPTION: main Process: com.example.myapp, PID: 10635\r\n    java.lang.ExceptionInInitializerError \r\n    at com.example.myapp.MainActivity.onCreate(MainActivity.java:40)\r\n    at android.app.Activity.performCreate(Activity.java:7136) \r\n    ... \r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) \r\n    Caused by: java.util.regex.PatternSyntaxException: U_ILLEGAL_ARGUMENT_ERROR\r\n    [\\p{InCombiningDiacriticalMarks}\\p{IsLm}\\p{IsSk}]+\r\n    at java.util.regex.Pattern.compileImpl(Native Method)\r\n    at java.util.regex.Pattern.compile(Pattern.java:1344)\r\n    at java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1328)\r\n    at java.util.regex.Pattern.compile(Pattern.java:950)\r\n    at com.example.myapp.MyStaticClass.&lt;clinit&gt;(MyStaticClass.java:21)\r\n    ... 16 more\r\n\r\nHow can I fix this?\r\n\r\n**EDIT:** with an emulator API30 it does not throw an exception, but this line is not working as expected anymore (it is not removing diactricts, but everything):\r\n\r\n    str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;)","title":"PatternSyntaxException on old Android API","body":"<p>I am developing an Android application with Android Studio and I have a class with a static property like this:</p>\n<pre><code>public static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;);\n</code></pre>\n<p>Everything is working fine when I debug the app on my physical device - API32.</p>\n<p>But when I try to debug on an emulator API28, I get an exception whenever I try to reference any static property of the 'static' class.</p>\n<pre><code>FATAL EXCEPTION: main Process: com.example.myapp, PID: 10635\njava.lang.ExceptionInInitializerError \nat com.example.myapp.MainActivity.onCreate(MainActivity.java:40)\nat android.app.Activity.performCreate(Activity.java:7136) \n... \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) \nCaused by: java.util.regex.PatternSyntaxException: U_ILLEGAL_ARGUMENT_ERROR\n[\\p{InCombiningDiacriticalMarks}\\p{IsLm}\\p{IsSk}]+\nat java.util.regex.Pattern.compileImpl(Native Method)\nat java.util.regex.Pattern.compile(Pattern.java:1344)\nat java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1328)\nat java.util.regex.Pattern.compile(Pattern.java:950)\nat com.example.myapp.MyStaticClass.&lt;clinit&gt;(MyStaticClass.java:21)\n... 16 more\n</code></pre>\n<p>How can I fix this?</p>\n<p><strong>EDIT:</strong> with an emulator API30 it does not throw an exception, but this line is not working as expected anymore (it is not removing diactricts, but everything):</p>\n<pre><code>str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":29117498,"reputation":1,"user_id":22305895,"display_name":"Jackson Xailer"},"score":0,"creation_date":1690681959,"post_id":76794709,"comment_id":135387158,"body_markdown":"which class in the MainActicity.class should I put this code? I put it in onResume() class but It doesn&#39;t work.","body":"which class in the MainActicity.class should I put this code? I put it in onResume() class but It doesn&#39;t work."}],"tags":[],"owner":{"account_id":27185696,"reputation":1,"user_id":20720177,"display_name":"Learner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690651295,"creation_date":1690651295,"answer_id":76794709,"question_id":76793891,"body_markdown":"You can change the text of a TextView in Android by using the setText() method. Here’s an example of how to change the text of a TextView in the main UI into a string that you got from another Activity:\r\n\r\n    // In your main Activity\r\n    TextView textView = findViewById(R.id.textView);\r\n    Intent intent = getIntent();\r\n    String text = intent.getStringExtra(&quot;text&quot;);\r\n    textView.setText(text);\r\n\r\nHere, textView is the TextView that you want to change the text of. getIntent() retrieves the Intent that started this Activity, and getStringExtra() retrieves the String that was passed to this Activity with the key &quot;text&quot;. Finally, setText() sets the text of textView to text.","title":"How can I apply change on textView of main UI after getting text value from another activity?","body":"<p>You can change the text of a TextView in Android by using the setText() method. Here’s an example of how to change the text of a TextView in the main UI into a string that you got from another Activity:</p>\n<pre><code>// In your main Activity\nTextView textView = findViewById(R.id.textView);\nIntent intent = getIntent();\nString text = intent.getStringExtra(&quot;text&quot;);\ntextView.setText(text);\n</code></pre>\n<p>Here, textView is the TextView that you want to change the text of. getIntent() retrieves the Intent that started this Activity, and getStringExtra() retrieves the String that was passed to this Activity with the key &quot;text&quot;. Finally, setText() sets the text of textView to text.</p>\n"}],"owner":{"account_id":29117498,"reputation":1,"user_id":22305895,"display_name":"Jackson Xailer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690651295,"creation_date":1690638923,"question_id":76793891,"body_markdown":"I want to change text of textView on main UI into String that I got from another Activity.\r\n\r\nThrough editText on `activity_targetpopup.xml`, I want to change text value of `targetButton` on `activity_main.xml`.\r\n\r\n\r\n\r\n\r\n\r\nhere&#39;s my code:\r\n\r\n# MainActivity.class\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public static Context context_Main;\r\n   public TextView target; \r\n\r\n   @Override\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.activity_main);\r\n\r\n       context_Main = this;\r\n\r\n       target = (TextView)findViewById(R.id.targetButton);\r\n\r\n   }\r\n\r\n\r\n   public void targetButtonClicked(View v){\r\n        Toast.makeText(MainActivity.this, &quot;목표 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\r\n       Intent intent = new Intent(this, TargetPopupActivity.class);\r\n       intent.putExtra(&quot;data&quot;, target.getText());\r\n       startActivity(intent);\r\n       target.setText(&quot;변경중 ...&quot;); \r\n       finish();\r\n   }\r\n\r\n\r\n   protected void targetChange(String result){\r\n        target.setText(result);\r\n       String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\r\n   }\r\n```\r\n\r\n\r\n# activity_main.xml\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n   android:layout_width=&quot;match_parent&quot;\r\n   android:layout_height=&quot;match_parent&quot;\r\n   android:background=&quot;#FFFFFF&quot;&gt;\r\n\r\n\r\n   &lt;!--    왼쪽 가이드라인--&gt;\r\n   &lt;androidx.constraintlayout.widget.Guideline\r\n       android:id=&quot;@+id/guidelineLeft&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:orientation=&quot;vertical&quot;\r\n       app:layout_constraintGuide_begin=&quot;16dp&quot; /&gt;\r\n\r\n   &lt;!--    오른쪽 가이드라인--&gt;\r\n   &lt;androidx.constraintlayout.widget.Guideline\r\n       android:id=&quot;@+id/guidelineRight&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:orientation=&quot;vertical&quot;\r\n       app:layout_constraintGuide_end=&quot;16dp&quot; /&gt;\r\n\r\n&lt;!--    목표 버튼--&gt;\r\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n       android:id=&quot;@+id/topBar&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;150dp&quot;\r\n       android:background=&quot;#FFFFFF&quot;\r\n       android:elevation=&quot;10dp&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n       &gt;\r\n\r\n     &lt;TextView\r\n           android:id=&quot;@+id/targetButton&quot;\r\n           android:layout_width=&quot;378dp&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:layout_marginStart=&quot;16dp&quot;\r\n           android:layout_marginBottom=&quot;10dp&quot;\r\n           android:background=&quot;@drawable/green_button&quot;\r\n           android:backgroundTint=&quot;#EDEECD&quot;\r\n           android:drawableLeft=&quot;@drawable/exclamation_mark_red&quot;\r\n           android:drawablePadding=&quot;5dp&quot;\r\n           android:gravity=&quot;left|center&quot;\r\n           android:padding=&quot;10dip&quot;\r\n           android:text=&quot;목표가 정해지지 않았어요!&quot;\r\n           android:textSize=&quot;20dp&quot;\r\n           android:textColor=&quot;@color/black&quot;\r\n           android:onClick=&quot;targetButtonClicked&quot;\r\n           app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n           app:layout_constraintVertical_bias=&quot;0.771&quot; /&gt;\r\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n[activity_main.xml image](https://i.stack.imgur.com/bIfy5.png)\r\n\r\n\r\n\r\n\r\n# TargetPopupActivity.class\r\n\r\n```\r\n public class TargetPopupActivity extends AppCompatActivity {\r\n\r\n    public static Context context_TargetPopup;\r\n\r\n   public EditText editText;\r\n\r\n   private Button saveButton;\r\n\r\n   @Override\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.activity_targetpopup);\r\n\r\n//        기존에 설정된 목표 값을 팝업창 힌트로 불러오기\r\n       editText = findViewById((R.id.targetBox));\r\n\r\n       Intent intent = getIntent();\r\n       String data = intent.getStringExtra(&quot;data&quot;);\r\n       editText.setText(data);\r\n\r\n       saveButton = findViewById(R.id.saveButton);\r\n       saveButton.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n           public void onClick(View v){\r\n                //        Toast.makeText(TargetPopupActivity.this, &quot;저장 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\r\n               Intent intent = new Intent(TargetPopupActivity.this, MainActivity.class);\r\n               editText = findViewById((R.id.targetBox));\r\n\r\n               if (editText.getText().length() == 0) { // 목표설정란이 비어있는지 확인하기.\r\n                   Toast.makeText(TargetPopupActivity.this, &quot;목표가 설정되지 않았어요!&quot;, Toast.LENGTH_SHORT).show();\r\n               }\r\n                else {\r\n                    if( ((MainActivity)MainActivity.context_Main).target.getText().toString() != editText.getText().toString()){ // 기존의 목표와 값이 다르다면 값을 변경함.\r\n                       String result = editText.getText().toString();\r\n                       ((MainActivity)MainActivity.context_Main).targetChange(result);\r\n//                        ((MainActivity)MainActivity.context_Main).target.setText(result);\r\n//                        String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\r\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\r\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\r\n\r\n                       finish();\r\n                   }\r\n\r\n                    else {\r\n                        startActivity(intent);\r\n                       finish();\r\n                   }\r\n\r\n                    startActivity(intent);\r\n                   finish();\r\n               }\r\n            }\r\n        });\r\n\r\n\r\n   }\r\n\r\n\r\n\r\n\r\n    public void cancelButtonClicked(View v){\r\n        Toast.makeText(TargetPopupActivity.this, &quot;취소 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\r\n       finish();\r\n   }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n# activity_targetpopup.xml\r\n\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n   android:layout_width=&quot;350dp&quot;\r\n   android:layout_height=&quot;350dp&quot;\r\n   android:background=&quot;#eeeeee&quot;\r\n   android:orientation=&quot;vertical&quot;\r\n   android:layout_gravity=&quot;center&quot;&gt;\r\n\r\n &lt;TextView\r\n       android:id=&quot;@+id/myTarget&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_margin=&quot;20dp&quot;\r\n       android:text=&quot;나의 목표&quot;\r\n       android:textColor=&quot;@color/black&quot;\r\n       android:textSize=&quot;30dp&quot;\r\n       android:textStyle=&quot;bold&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n       app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_marginStart=&quot;24dp&quot;\r\n       android:layout_marginTop=&quot;36dp&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n       app:layout_constraintTop_toBottomOf=&quot;@+id/myTarget&quot;&gt;\r\n\r\n       &lt;!--목표 작성하는 텍스트 박스--&gt;\r\n       &lt;EditText\r\n           android:id=&quot;@+id/targetBox&quot;\r\n           android:layout_width=&quot;300dp&quot;\r\n           android:layout_height=&quot;48dp&quot;\r\n           android:drawableLeft=&quot;@drawable/baseline_check_24&quot;\r\n           android:drawablePadding=&quot;8dp&quot;\r\n           android:hint=&quot;용돈사용 목표를 적어주세요&quot;\r\n           android:textColorHint=&quot;#5F5F5F&quot;\r\n           android:textColor=&quot;@color/black&quot;\r\n           android:textStyle=&quot;normal&quot;\r\n           android:padding=&quot;8dp&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n     &lt;TextView\r\n           android:id=&quot;@+id/info1&quot;\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:layout_marginTop=&quot;20dp&quot;\r\n           android:text=&quot;* 용돈 관리 목표를 적어보아요!&quot;\r\n           android:textColor=&quot;#5F5F5F&quot;\r\n           android:textSize=&quot;16dp&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toBottomOf=&quot;@+id/targetBox&quot; /&gt;\r\n     &lt;TextView\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:text=&quot;* 목표는 용돈기입장 페이지 위에 표시돼요&quot;\r\n           android:textSize=&quot;16dp&quot;\r\n           android:textColor=&quot;#5F5F5F&quot;\r\n           android:layout_marginTop=&quot;8dp&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toBottomOf=&quot;@+id/info1&quot;/&gt;\r\n&quot;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n &lt;Button\r\n       android:id=&quot;@+id/saveButton&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_marginStart=&quot;68dp&quot;\r\n       android:layout_marginBottom=&quot;20dp&quot;\r\n       android:background=&quot;@drawable/round_button&quot;\r\n       android:backgroundTint=&quot;#88BDA5&quot;\r\n       android:text=&quot;저장&quot;\r\n       android:textSize=&quot;20dp&quot;\r\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n &lt;Button\r\n       android:id=&quot;@+id/cancelButton&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n\r\n       android:layout_marginBottom=&quot;20dp&quot;\r\n       android:background=&quot;@drawable/round_button&quot;\r\n       android:backgroundTint=&quot;#CDCDCD&quot;\r\n       android:onClick=&quot;cancelButtonClicked&quot;\r\n       android:text=&quot;취소&quot;\r\n       android:textSize=&quot;20dp&quot;\r\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n       app:layout_constraintHorizontal_bias=&quot;0.485&quot;\r\n       app:layout_constraintStart_toEndOf=&quot;@+id/saveButton&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/DPctx.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI found that to apply change, I need to refresh `mainActivity.class` after apply it on `TargetPopupActivity.class`, but I couldn&#39;t understand what should I do.\r\n\r\nUsing `setText()` on `MainActivity.class` was well functioned while doing it pn `TargetActivity.class` doesn&#39;t. at least, I understood how to use `setText()`","title":"How can I apply change on textView of main UI after getting text value from another activity?","body":"<p>I want to change text of textView on main UI into String that I got from another Activity.</p>\n<p>Through editText on <code>activity_targetpopup.xml</code>, I want to change text value of <code>targetButton</code> on <code>activity_main.xml</code>.</p>\n<p>here's my code:</p>\n<h1>MainActivity.class</h1>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static Context context_Main;\n   public TextView target; \n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n\n       context_Main = this;\n\n       target = (TextView)findViewById(R.id.targetButton);\n\n   }\n\n\n   public void targetButtonClicked(View v){\n        Toast.makeText(MainActivity.this, &quot;목표 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\n       Intent intent = new Intent(this, TargetPopupActivity.class);\n       intent.putExtra(&quot;data&quot;, target.getText());\n       startActivity(intent);\n       target.setText(&quot;변경중 ...&quot;); \n       finish();\n   }\n\n\n   protected void targetChange(String result){\n        target.setText(result);\n       String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\n   }\n</code></pre>\n<h1>activity_main.xml</h1>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;match_parent&quot;\n   android:background=&quot;#FFFFFF&quot;&gt;\n\n\n   &lt;!--    왼쪽 가이드라인--&gt;\n   &lt;androidx.constraintlayout.widget.Guideline\n       android:id=&quot;@+id/guidelineLeft&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:orientation=&quot;vertical&quot;\n       app:layout_constraintGuide_begin=&quot;16dp&quot; /&gt;\n\n   &lt;!--    오른쪽 가이드라인--&gt;\n   &lt;androidx.constraintlayout.widget.Guideline\n       android:id=&quot;@+id/guidelineRight&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:orientation=&quot;vertical&quot;\n       app:layout_constraintGuide_end=&quot;16dp&quot; /&gt;\n\n&lt;!--    목표 버튼--&gt;\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\n       android:id=&quot;@+id/topBar&quot;\n       android:layout_width=&quot;match_parent&quot;\n       android:layout_height=&quot;150dp&quot;\n       android:background=&quot;#FFFFFF&quot;\n       android:elevation=&quot;10dp&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\n       &gt;\n\n     &lt;TextView\n           android:id=&quot;@+id/targetButton&quot;\n           android:layout_width=&quot;378dp&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:layout_marginStart=&quot;16dp&quot;\n           android:layout_marginBottom=&quot;10dp&quot;\n           android:background=&quot;@drawable/green_button&quot;\n           android:backgroundTint=&quot;#EDEECD&quot;\n           android:drawableLeft=&quot;@drawable/exclamation_mark_red&quot;\n           android:drawablePadding=&quot;5dp&quot;\n           android:gravity=&quot;left|center&quot;\n           android:padding=&quot;10dip&quot;\n           android:text=&quot;목표가 정해지지 않았어요!&quot;\n           android:textSize=&quot;20dp&quot;\n           android:textColor=&quot;@color/black&quot;\n           android:onClick=&quot;targetButtonClicked&quot;\n           app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toTopOf=&quot;parent&quot;\n           app:layout_constraintVertical_bias=&quot;0.771&quot; /&gt;\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bIfy5.png\" rel=\"nofollow noreferrer\">activity_main.xml image</a></p>\n<h1>TargetPopupActivity.class</h1>\n<pre><code> public class TargetPopupActivity extends AppCompatActivity {\n\n    public static Context context_TargetPopup;\n\n   public EditText editText;\n\n   private Button saveButton;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_targetpopup);\n\n//        기존에 설정된 목표 값을 팝업창 힌트로 불러오기\n       editText = findViewById((R.id.targetBox));\n\n       Intent intent = getIntent();\n       String data = intent.getStringExtra(&quot;data&quot;);\n       editText.setText(data);\n\n       saveButton = findViewById(R.id.saveButton);\n       saveButton.setOnClickListener(new View.OnClickListener(){\n            @Override\n           public void onClick(View v){\n                //        Toast.makeText(TargetPopupActivity.this, &quot;저장 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\n               Intent intent = new Intent(TargetPopupActivity.this, MainActivity.class);\n               editText = findViewById((R.id.targetBox));\n\n               if (editText.getText().length() == 0) { // 목표설정란이 비어있는지 확인하기.\n                   Toast.makeText(TargetPopupActivity.this, &quot;목표가 설정되지 않았어요!&quot;, Toast.LENGTH_SHORT).show();\n               }\n                else {\n                    if( ((MainActivity)MainActivity.context_Main).target.getText().toString() != editText.getText().toString()){ // 기존의 목표와 값이 다르다면 값을 변경함.\n                       String result = editText.getText().toString();\n                       ((MainActivity)MainActivity.context_Main).targetChange(result);\n//                        ((MainActivity)MainActivity.context_Main).target.setText(result);\n//                        String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\n\n                       finish();\n                   }\n\n                    else {\n                        startActivity(intent);\n                       finish();\n                   }\n\n                    startActivity(intent);\n                   finish();\n               }\n            }\n        });\n\n\n   }\n\n\n\n\n    public void cancelButtonClicked(View v){\n        Toast.makeText(TargetPopupActivity.this, &quot;취소 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\n       finish();\n   }\n}\n\n\n</code></pre>\n<h1>activity_targetpopup.xml</h1>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   android:layout_width=&quot;350dp&quot;\n   android:layout_height=&quot;350dp&quot;\n   android:background=&quot;#eeeeee&quot;\n   android:orientation=&quot;vertical&quot;\n   android:layout_gravity=&quot;center&quot;&gt;\n\n &lt;TextView\n       android:id=&quot;@+id/myTarget&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:layout_margin=&quot;20dp&quot;\n       android:text=&quot;나의 목표&quot;\n       android:textColor=&quot;@color/black&quot;\n       android:textSize=&quot;30dp&quot;\n       android:textStyle=&quot;bold&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n &lt;androidx.constraintlayout.widget.ConstraintLayout\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:layout_marginStart=&quot;24dp&quot;\n       android:layout_marginTop=&quot;36dp&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toBottomOf=&quot;@+id/myTarget&quot;&gt;\n\n       &lt;!--목표 작성하는 텍스트 박스--&gt;\n       &lt;EditText\n           android:id=&quot;@+id/targetBox&quot;\n           android:layout_width=&quot;300dp&quot;\n           android:layout_height=&quot;48dp&quot;\n           android:drawableLeft=&quot;@drawable/baseline_check_24&quot;\n           android:drawablePadding=&quot;8dp&quot;\n           android:hint=&quot;용돈사용 목표를 적어주세요&quot;\n           android:textColorHint=&quot;#5F5F5F&quot;\n           android:textColor=&quot;@color/black&quot;\n           android:textStyle=&quot;normal&quot;\n           android:padding=&quot;8dp&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n     &lt;TextView\n           android:id=&quot;@+id/info1&quot;\n           android:layout_width=&quot;wrap_content&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:layout_marginTop=&quot;20dp&quot;\n           android:text=&quot;* 용돈 관리 목표를 적어보아요!&quot;\n           android:textColor=&quot;#5F5F5F&quot;\n           android:textSize=&quot;16dp&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toBottomOf=&quot;@+id/targetBox&quot; /&gt;\n     &lt;TextView\n           android:layout_width=&quot;wrap_content&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:text=&quot;* 목표는 용돈기입장 페이지 위에 표시돼요&quot;\n           android:textSize=&quot;16dp&quot;\n           android:textColor=&quot;#5F5F5F&quot;\n           android:layout_marginTop=&quot;8dp&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toBottomOf=&quot;@+id/info1&quot;/&gt;\n&quot;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n &lt;Button\n       android:id=&quot;@+id/saveButton&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:layout_marginStart=&quot;68dp&quot;\n       android:layout_marginBottom=&quot;20dp&quot;\n       android:background=&quot;@drawable/round_button&quot;\n       android:backgroundTint=&quot;#88BDA5&quot;\n       android:text=&quot;저장&quot;\n       android:textSize=&quot;20dp&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n &lt;Button\n       android:id=&quot;@+id/cancelButton&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n\n       android:layout_marginBottom=&quot;20dp&quot;\n       android:background=&quot;@drawable/round_button&quot;\n       android:backgroundTint=&quot;#CDCDCD&quot;\n       android:onClick=&quot;cancelButtonClicked&quot;\n       android:text=&quot;취소&quot;\n       android:textSize=&quot;20dp&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n       app:layout_constraintHorizontal_bias=&quot;0.485&quot;\n       app:layout_constraintStart_toEndOf=&quot;@+id/saveButton&quot; /&gt;\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DPctx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I found that to apply change, I need to refresh <code>mainActivity.class</code> after apply it on <code>TargetPopupActivity.class</code>, but I couldn't understand what should I do.</p>\n<p>Using <code>setText()</code> on <code>MainActivity.class</code> was well functioned while doing it pn <code>TargetActivity.class</code> doesn't. at least, I understood how to use <code>setText()</code></p>\n"},{"tags":["java","jcombobox","ignore-case"],"answers":[{"comments":[{"owner":{"account_id":26873388,"reputation":51,"user_id":20454998,"display_name":"D_D"},"score":0,"creation_date":1690652915,"post_id":76794650,"comment_id":135384779,"body_markdown":"How would I go about doing the conversion when the user chooses the type of conversion they want to make?  I&#39;m only using the ComboBox","body":"How would I go about doing the conversion when the user chooses the type of conversion they want to make?  I&#39;m only using the ComboBox"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1690654001,"post_id":76794650,"comment_id":135384880,"body_markdown":"Instead of a `String[]`, make an `enum` type and *enumerate* the conversions. Perform the calculation as a method in the custom type.","body":"Instead of a <code>String[]</code>, make an <code>enum</code> type and <i>enumerate</i> the conversions. Perform the calculation as a method in the custom type."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690650473,"creation_date":1690650473,"answer_id":76794650,"question_id":76794619,"body_markdown":"*I created an array of strings for the choices* Yes. Use that array. Assuming it&#39;s called `possibleChoices`, that might look like\r\n\r\n\tprivate static String[] possibleChoices = {\r\n\t\t\t&quot;Dollars to Pesos&quot;,\r\n\t\t\t&quot;Pesos to Dollars&quot;,\r\n\t\t\t&quot;Dollars to GB Pounds&quot;,\r\n\t\t\t&quot;GB Pounds to Dollars&quot;,\r\n\t\t\t&quot;Dollars to Yen&quot;,\r\n\t\t\t&quot;Yen to Dollars&quot;\r\n\t};\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString text = textField.getText();\r\n\t\tdouble c = Double.parseDouble(text);\r\n\t\tif (e.getSource() == comboBox) {\r\n\t\t\tString choice = comboBox.getSelectedItem().toString();\r\n\t\t\tif (Arrays.stream(possibleChoices).anyMatch(choice::equalsIgnoreCase)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Is there a more efficient way to set different cases of ActionEvent than using if else statements?","body":"<p><em>I created an array of strings for the choices</em> Yes. Use that array. Assuming it's called <code>possibleChoices</code>, that might look like</p>\n<pre><code>private static String[] possibleChoices = {\n        &quot;Dollars to Pesos&quot;,\n        &quot;Pesos to Dollars&quot;,\n        &quot;Dollars to GB Pounds&quot;,\n        &quot;GB Pounds to Dollars&quot;,\n        &quot;Dollars to Yen&quot;,\n        &quot;Yen to Dollars&quot;\n};\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String text = textField.getText();\n    double c = Double.parseDouble(text);\n    if (e.getSource() == comboBox) {\n        String choice = comboBox.getSelectedItem().toString();\n        if (Arrays.stream(possibleChoices).anyMatch(choice::equalsIgnoreCase)) {\n            System.out.println(choice);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3145385,"reputation":881,"user_id":2659962,"display_name":"Akhilesh Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690650944,"creation_date":1690650944,"answer_id":76794687,"question_id":76794619,"body_markdown":"Java 8 or above you can use a Map of functional interfaces to create a more flexible solution as below , \r\n\r\n```\r\nMap&lt;String, Runnable&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;dollars to pesos&quot;, () -&gt; System.out.println(&quot;Dollars to Pesos&quot;));\r\nmap.put(&quot;pesos to dollars&quot;, () -&gt; System.out.println(&quot;Pesos to Dollars&quot;));\r\nmap.put(&quot;dollars to gb pounds&quot;, () -&gt; System.out.println(&quot;Dollars to GB Pounds&quot;));\r\nmap.put(&quot;gb pounds to dollars&quot;, () -&gt; System.out.println(&quot;GB Pounds to Dollars&quot;));\r\nmap.put(&quot;dollars to yen&quot;, () -&gt; System.out.println(&quot;Dollars to Yen&quot;));\r\nmap.put(&quot;yen to dollars&quot;, () -&gt; System.out.println(&quot;Yen to Dollars&quot;));\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n    if(e.getSource()==comboBox) {\r\n        String choice = comboBox.getSelectedItem().toString().toLowerCase();\r\n        Runnable runnable = map.get(choice);\r\n        if (runnable != null) {\r\n            runnable.run();\r\n        }\r\n    }\r\n}\r\n```\r\nThis approach has the added benefit of making it easy to add or remove currency conversions simply by adding or removing entries in the map, without having to touch the logic in `actionPerformed` method. It is more scalable if you anticipate the list of conversions growing in the future.","title":"Is there a more efficient way to set different cases of ActionEvent than using if else statements?","body":"<p>Java 8 or above you can use a Map of functional interfaces to create a more flexible solution as below ,</p>\n<pre><code>Map&lt;String, Runnable&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;dollars to pesos&quot;, () -&gt; System.out.println(&quot;Dollars to Pesos&quot;));\nmap.put(&quot;pesos to dollars&quot;, () -&gt; System.out.println(&quot;Pesos to Dollars&quot;));\nmap.put(&quot;dollars to gb pounds&quot;, () -&gt; System.out.println(&quot;Dollars to GB Pounds&quot;));\nmap.put(&quot;gb pounds to dollars&quot;, () -&gt; System.out.println(&quot;GB Pounds to Dollars&quot;));\nmap.put(&quot;dollars to yen&quot;, () -&gt; System.out.println(&quot;Dollars to Yen&quot;));\nmap.put(&quot;yen to dollars&quot;, () -&gt; System.out.println(&quot;Yen to Dollars&quot;));\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if(e.getSource()==comboBox) {\n        String choice = comboBox.getSelectedItem().toString().toLowerCase();\n        Runnable runnable = map.get(choice);\n        if (runnable != null) {\n            runnable.run();\n        }\n    }\n}\n</code></pre>\n<p>This approach has the added benefit of making it easy to add or remove currency conversions simply by adding or removing entries in the map, without having to touch the logic in <code>actionPerformed</code> method. It is more scalable if you anticipate the list of conversions growing in the future.</p>\n"}],"owner":{"account_id":26873388,"reputation":51,"user_id":20454998,"display_name":"D_D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690650944,"creation_date":1690650019,"question_id":76794619,"body_markdown":"I&#39;m trying make a currency exchange program and I&#39;m using a ComboBox to list the type of conversions the user wants to make and when the user selects a choice, it will make the conversion.  Is there a better way to use the equals.IgnoreCase than using a bunch of if else statements?  I created an array of strings for the choices, then declared the JComboBox with the array as the parameter.\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString text = textField.getText();\r\n\t\tdouble c = Double.parseDouble(text);\r\n\t\tif(e.getSource()==comboBox) {\r\n\t\t\tString choice = comboBox.getSelectedItem().toString();\r\n\t\t\tif(choice.equalsIgnoreCase(&quot;Dollars to Pesos&quot;)) { // placeholder text\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice.equalsIgnoreCase(&quot;Dollars to Pesos&quot;)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice.equalsIgnoreCase(&quot;Pesos to Dollars&quot;)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice.equalsIgnoreCase(&quot;Dollars to GB Pounds&quot;)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice.equalsIgnoreCase(&quot;GB Pounds to Dollars&quot;)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice.equalsIgnoreCase(&quot;Dollars to Yen&quot;)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice.equalsIgnoreCase(&quot;Yen to Dollars&quot;)) {\r\n\t\t\t\tSystem.out.println(choice);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}","title":"Is there a more efficient way to set different cases of ActionEvent than using if else statements?","body":"<p>I'm trying make a currency exchange program and I'm using a ComboBox to list the type of conversions the user wants to make and when the user selects a choice, it will make the conversion.  Is there a better way to use the equals.IgnoreCase than using a bunch of if else statements?  I created an array of strings for the choices, then declared the JComboBox with the array as the parameter.</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    String text = textField.getText();\n    double c = Double.parseDouble(text);\n    if(e.getSource()==comboBox) {\n        String choice = comboBox.getSelectedItem().toString();\n        if(choice.equalsIgnoreCase(&quot;Dollars to Pesos&quot;)) { // placeholder text\n            System.out.println(choice);\n            \n        }\n        else if(choice.equalsIgnoreCase(&quot;Dollars to Pesos&quot;)) {\n            System.out.println(choice);\n            \n        }\n        else if(choice.equalsIgnoreCase(&quot;Pesos to Dollars&quot;)) {\n            System.out.println(choice);\n            \n        }\n        else if(choice.equalsIgnoreCase(&quot;Dollars to GB Pounds&quot;)) {\n            System.out.println(choice);\n            \n        }\n        else if(choice.equalsIgnoreCase(&quot;GB Pounds to Dollars&quot;)) {\n            System.out.println(choice);\n            \n        }\n        else if(choice.equalsIgnoreCase(&quot;Dollars to Yen&quot;)) {\n            System.out.println(choice);\n            \n        }\n        else if(choice.equalsIgnoreCase(&quot;Yen to Dollars&quot;)) {\n            System.out.println(choice);\n            \n        }\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","google-signin","credentials"],"owner":{"account_id":29118379,"reputation":1,"user_id":22306573,"display_name":"Jol360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690649632,"creation_date":1690649632,"question_id":76794594,"body_markdown":"I am developing a app for my university in which I want the control over the sign in method.\r\nThe user with the institutional mail can log in.\r\n\r\nCurrently I am using this method\r\n```\r\nToast.makeText(LoginActivity.this, &quot;Logged In&quot;, Toast.LENGTH_SHORT).show();\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n                    Log.wtf(&quot;User&quot;, user.getDisplayName());\r\n                    if (user.getEmail().endsWith(&quot;xx.ac&quot;)) {\r\n                        finish();\r\n                        Intent intent = new Intent(LoginActivity.this, HomeActivity.class);\r\n                        startActivity(intent);\r\n                    } else {\r\n                        mAuth.signOut();\r\n                        Toast.makeText(LoginActivity.this, &quot;Login With Institutional Mail&quot;, Toast.LENGTH_SHORT).show();\r\n```\r\n                    }","title":"How can I implement google sign in method only with institutional mail (xx.ac.in) in android with java?","body":"<p>I am developing a app for my university in which I want the control over the sign in method.\nThe user with the institutional mail can log in.</p>\n<p>Currently I am using this method</p>\n<pre><code>Toast.makeText(LoginActivity.this, &quot;Logged In&quot;, Toast.LENGTH_SHORT).show();\n                    FirebaseUser user = mAuth.getCurrentUser();\n                    Log.wtf(&quot;User&quot;, user.getDisplayName());\n                    if (user.getEmail().endsWith(&quot;xx.ac&quot;)) {\n                        finish();\n                        Intent intent = new Intent(LoginActivity.this, HomeActivity.class);\n                        startActivity(intent);\n                    } else {\n                        mAuth.signOut();\n                        Toast.makeText(LoginActivity.this, &quot;Login With Institutional Mail&quot;, Toast.LENGTH_SHORT).show();\n</code></pre>\n<pre><code>                }\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1426446764,"post_id":29064908,"comment_id":46365680,"body_markdown":"You should also have some code that refers to a checkbox if your question concerns checkboxes. Also, before posting, you can often answer your own question with a quick internet search, which would unearth nuggets like [this](http://www.codejava.net/java-se/swing/jcheckbox-basic-tutorial-and-examples).","body":"You should also have some code that refers to a checkbox if your question concerns checkboxes. Also, before posting, you can often answer your own question with a quick internet search, which would unearth nuggets like <a href=\"http://www.codejava.net/java-se/swing/jcheckbox-basic-tutorial-and-examples\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":5549230,"reputation":101,"user_id":4402944,"accept_rate":0,"display_name":"PedramCarter"},"score":0,"creation_date":1426447441,"post_id":29064908,"comment_id":46365922,"body_markdown":"I tried to google it, it made no sense to me I found this, and also I added my code in a wrap check, I found this my code is different to this  Checkbox c = new Checkbox(&quot;Pepperoni&quot;));\n  add(c);\nadd(new Checkbox(&quot;Pepperoni&quot;));\n\nadd(new Checkbox(&quot;Pepperoni&quot;, null, true));\n\n\n  private void handleCheckbox(Checkbox c) {\n  \n    if (c.getState()) price += 0.50;\n    else price -= 0.50;","body":"I tried to google it, it made no sense to me I found this, and also I added my code in a wrap check, I found this my code is different to this  Checkbox c = new Checkbox(&quot;Pepperoni&quot;));   add(c); add(new Checkbox(&quot;Pepperoni&quot;));  add(new Checkbox(&quot;Pepperoni&quot;, null, true));     private void handleCheckbox(Checkbox c) {        if (c.getState()) price += 0.50;     else price -= 0.50;"}],"answers":[{"comments":[{"owner":{"account_id":5549230,"reputation":101,"user_id":4402944,"accept_rate":0,"display_name":"PedramCarter"},"score":0,"creation_date":1426449015,"post_id":29065226,"comment_id":46366462,"body_markdown":"I&#39;m so sorry to bother you I&#39;m lost I used GUI builder in eclipse so all my code structure looks different which confuses me when I look at yours, I do have buttons, I have 1 that updates total price I also have another to proceed to next page for checkout. What do you think of this, I just made this &quot;private void handleCheckbox(Checkbox Strawberrychk) {\n\t\t  \n\t\t    if (Strawberrychk.getState()) TotalPrice += 1.50;\n\t\t    else TotalPrice -= 1.50;\n\t\t  \n\t\t  }\n}\n&quot;","body":"I&#39;m so sorry to bother you I&#39;m lost I used GUI builder in eclipse so all my code structure looks different which confuses me when I look at yours, I do have buttons, I have 1 that updates total price I also have another to proceed to next page for checkout. What do you think of this, I just made this &quot;private void handleCheckbox(Checkbox Strawberrychk) { \t\t   \t\t    if (Strawberrychk.getState()) TotalPrice += 1.50; \t\t    else TotalPrice -= 1.50; \t\t   \t\t  } } &quot;"}],"tags":[],"owner":{"account_id":5768280,"reputation":38,"user_id":4552502,"accept_rate":12,"display_name":"Thorx99"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426447980,"creation_date":1426447980,"answer_id":29065226,"question_id":29064908,"body_markdown":"First you will need a buttonhandler for your JCheckbox and then you add your new JButton to the button handler then you will add a actionListener, ill give you an example i have for a GUI that has a JButton, essential the same thing. then in your ButtonHandler make it change all the values you want code with an example for this will also be below\r\n\r\n\r\n    public class GameBoard extends JFrame{\r\n\r\n\tprivate static final Color red = new Color(200,55,55);\r\n\tprivate static final Color blue = new Color(55,55,200);\r\n\tprivate static final Color green = new Color(55,220,55);\r\n\tprivate static final int SIZE = 10;\r\n\tstatic JButton[][] tiles;\r\n\tprivate static boolean cpTurn = false;\r\n\r\n\t\r\n\r\n\tpublic static void main(String[] args){\r\n\t\r\n\t\ttiles = new JButton[SIZE][SIZE];\r\n\t\tJLabel label = new JLabel();\r\n\t\t\r\n\t\t\r\n\t\tGameBoard gb = new GameBoard();\r\n\t\tJButton refreashButton = new JButton(&quot;Refreash&quot;);\r\n\t\tButtonHandler listener = new ButtonHandler();\r\n\t\trefreashButton.addActionListener(listener);\r\n\t\trefreashButton.setName(&quot;refreash&quot;);\r\n\t\t\r\n\t\tJPanel mineField = new JPanel();\r\n\t\tmineField.setLayout(new GridLayout(10,10));\r\n\t\tmineField.setSize(500,500);\r\n\t\t\t\t\r\n\t\tfor(int i = 0; i &lt; SIZE; i++){\r\n\t\t\tfor(int j = 0; j &lt; SIZE; j++){\r\n\t\t\t\ttiles[i][j] = new JButton();\r\n\t\t\t\ttiles[i][j].setSize(50,50);\r\n\t\t\t\ttiles[i][j].setVisible(true);\r\n\t\t\t\ttiles[i][j].setBorderPainted(false);\r\n\t\t\t\ttiles[i][j].setContentAreaFilled(false);\r\n\t\t\t\ttiles[i][j].setOpaque(true);\r\n\t\t\t\ttiles[i][j].setBackground(green);//green\r\n\t\t\t\ttiles[i][j].addActionListener(listener);\r\n\t\t\t\ttiles[i][j].setName(i+&quot;&quot;+j);\r\n\t\t\t\tmineField.add(tiles[i][j]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tJPanel board = new JPanel();\r\n\t\tboard.setLayout(new GridLayout(2,1));\r\n\t\tboard.add(mineField);\r\n\t\tboard.add(refreashButton);\r\n\t\tboard.setBackground(green);*/\r\n\t\t\r\n\t\t\r\n\t\tJPanel board = new JPanel();\r\n\t\tboard.setLayout(new BoxLayout(board, BoxLayout.Y_AXIS));\r\n\t\tboard.add(mineField);\r\n\t\tboard.add(refreashButton);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tJFrame window = new JFrame(&quot;BoardGame&quot;);\r\n\t\twindow.setContentPane(board);\r\n\t\twindow.setSize(600,700);\r\n\t\twindow.setVisible(true);\r\n\t\twindow.setResizable(false);\r\n\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic class ButtonHandler implements ActionListener{\r\n\t\tpublic void actionPerformed(ActionEvent e){\r\n\t\t\tJButton btn = (JButton)e.getSource();\r\n\t\t\t\r\n\t\t\tif(cpTurn == false){\r\n\t\t\t\tif(btn.getName().equals(&quot;refreash&quot;)){\r\n\t\t\t\t\tcpTurn = false;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tcpTurn = true;\r\n\t\t\t\t\t}\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\tcpTurn = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(btn.getName().equals(&quot;refreash&quot;)){\r\n\t\t\t\tfor(int i = 0; i &lt; SIZE; i ++){\r\n\t\t\t\t\tfor(int j = 0; j &lt; SIZE; j++){\r\n\t\t\t\t\ttiles[i][j].setBackground(green);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if(btn.getBackground().equals(green)){\r\n\t\t\t\tbtn.setBackground(red);\r\n\t\t\t}\r\n\t\t\telse if(btn.getBackground().equals(red)){\r\n\t\t\t\tbtn.setBackground(blue);\r\n\t\t\t\tString name = btn.getName();\r\n\t\t\t\tint x = Integer.parseInt(name.substring(0,1));\r\n\t\t\t\tint y = Integer.parseInt(name.substring(1));\r\n\t\t\t\t\r\n\t\t\t\tif(x - 1 &gt;= 0 &amp;&amp; tiles[x-1][y].getBackground().equals(red) ){\r\n\t\t\t\t\ttiles[x-1][y].setBackground(blue);\r\n\t\t\t\t}\r\n\t\t\t\tif(x + 1 &lt;= 9 &amp;&amp; tiles[x+1][y].getBackground().equals(red) ){\r\n\t\t\t\t\ttiles[x+1][y].setBackground(blue);\r\n\t\t\t\t}\r\n\t\t\t\tif(y + 1 &lt;= 9 &amp;&amp; tiles[x][y+1].getBackground().equals(red)){\r\n\t\t\t\t\ttiles[x][y+1].setBackground(blue);\r\n\t\t\t\t}\r\n\t\t\t\tif(y - 1 &gt;= 0 &amp;&amp; tiles[x][y-1].getBackground().equals(red)){\r\n\t\t\t\t\ttiles[x][y-1].setBackground(blue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(btn.getBackground().equals(blue)){\r\n\t\t\t\tbtn.setBackground(green);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(cpTurn){\r\n\t\t\tint randx = (int)(Math.random() *(10));\r\n\t\t\tint randy = (int)(Math.random() *(10));\r\n\t\t\ttiles[randx][randy].doClick();\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n","title":"How do I give a value to my checkbox in java so for example, &quot;when checkbox is selected = add + &#163;20 total&quot;?","body":"<p>First you will need a buttonhandler for your JCheckbox and then you add your new JButton to the button handler then you will add a actionListener, ill give you an example i have for a GUI that has a JButton, essential the same thing. then in your ButtonHandler make it change all the values you want code with an example for this will also be below</p>\n\n<pre><code>public class GameBoard extends JFrame{\n\nprivate static final Color red = new Color(200,55,55);\nprivate static final Color blue = new Color(55,55,200);\nprivate static final Color green = new Color(55,220,55);\nprivate static final int SIZE = 10;\nstatic JButton[][] tiles;\nprivate static boolean cpTurn = false;\n\n\n\npublic static void main(String[] args){\n\n    tiles = new JButton[SIZE][SIZE];\n    JLabel label = new JLabel();\n\n\n    GameBoard gb = new GameBoard();\n    JButton refreashButton = new JButton(\"Refreash\");\n    ButtonHandler listener = new ButtonHandler();\n    refreashButton.addActionListener(listener);\n    refreashButton.setName(\"refreash\");\n\n    JPanel mineField = new JPanel();\n    mineField.setLayout(new GridLayout(10,10));\n    mineField.setSize(500,500);\n\n    for(int i = 0; i &lt; SIZE; i++){\n        for(int j = 0; j &lt; SIZE; j++){\n            tiles[i][j] = new JButton();\n            tiles[i][j].setSize(50,50);\n            tiles[i][j].setVisible(true);\n            tiles[i][j].setBorderPainted(false);\n            tiles[i][j].setContentAreaFilled(false);\n            tiles[i][j].setOpaque(true);\n            tiles[i][j].setBackground(green);//green\n            tiles[i][j].addActionListener(listener);\n            tiles[i][j].setName(i+\"\"+j);\n            mineField.add(tiles[i][j]);\n        }\n    }\n    JPanel board = new JPanel();\n    board.setLayout(new GridLayout(2,1));\n    board.add(mineField);\n    board.add(refreashButton);\n    board.setBackground(green);*/\n\n\n    JPanel board = new JPanel();\n    board.setLayout(new BoxLayout(board, BoxLayout.Y_AXIS));\n    board.add(mineField);\n    board.add(refreashButton);\n\n\n\n    JFrame window = new JFrame(\"BoardGame\");\n    window.setContentPane(board);\n    window.setSize(600,700);\n    window.setVisible(true);\n    window.setResizable(false);\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n}\n\nstatic class ButtonHandler implements ActionListener{\n    public void actionPerformed(ActionEvent e){\n        JButton btn = (JButton)e.getSource();\n\n        if(cpTurn == false){\n            if(btn.getName().equals(\"refreash\")){\n                cpTurn = false;\n            }\n            else{\n                cpTurn = true;\n                }\n        } \n        else {\n            cpTurn = false;\n        }\n\n        if(btn.getName().equals(\"refreash\")){\n            for(int i = 0; i &lt; SIZE; i ++){\n                for(int j = 0; j &lt; SIZE; j++){\n                tiles[i][j].setBackground(green);\n                }\n            }\n        }\n\n        else if(btn.getBackground().equals(green)){\n            btn.setBackground(red);\n        }\n        else if(btn.getBackground().equals(red)){\n            btn.setBackground(blue);\n            String name = btn.getName();\n            int x = Integer.parseInt(name.substring(0,1));\n            int y = Integer.parseInt(name.substring(1));\n\n            if(x - 1 &gt;= 0 &amp;&amp; tiles[x-1][y].getBackground().equals(red) ){\n                tiles[x-1][y].setBackground(blue);\n            }\n            if(x + 1 &lt;= 9 &amp;&amp; tiles[x+1][y].getBackground().equals(red) ){\n                tiles[x+1][y].setBackground(blue);\n            }\n            if(y + 1 &lt;= 9 &amp;&amp; tiles[x][y+1].getBackground().equals(red)){\n                tiles[x][y+1].setBackground(blue);\n            }\n            if(y - 1 &gt;= 0 &amp;&amp; tiles[x][y-1].getBackground().equals(red)){\n                tiles[x][y-1].setBackground(blue);\n            }\n        }\n        else if(btn.getBackground().equals(blue)){\n            btn.setBackground(green);\n        }\n\n\n        if(cpTurn){\n        int randx = (int)(Math.random() *(10));\n        int randy = (int)(Math.random() *(10));\n        tiles[randx][randy].doClick();\n\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1238275,"reputation":720,"user_id":1201415,"accept_rate":86,"display_name":"alnasfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426448265,"creation_date":1426448265,"answer_id":29065283,"question_id":29064908,"body_markdown":"Look at this https://stackoverflow.com/questions/9882845/jcheckbox-actionlistener-and-itemlistener \r\nYou have to define action listener for your checkbox and put your actions inside listener code.","title":"How do I give a value to my checkbox in java so for example, &quot;when checkbox is selected = add + &#163;20 total&quot;?","body":"<p>Look at this <a href=\"https://stackoverflow.com/questions/9882845/jcheckbox-actionlistener-and-itemlistener\">JCheckbox - ActionListener and ItemListener?</a> \nYou have to define action listener for your checkbox and put your actions inside listener code.</p>\n"}],"owner":{"account_id":5549230,"reputation":101,"user_id":4402944,"accept_rate":0,"display_name":"PedramCarter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690649371,"creation_date":1426446371,"question_id":29064908,"body_markdown":"    Fruitslbl = new JLabel();\r\n    getContentPane().add(Fruitslbl, new GridBagConstraints(0, 0, 1, 1, 0.0, 0.0, GridBagConstraints.CENTER, GridBagConstraints.NONE, new Insets(0, 0, 0, 0), 0, 0));\r\n    Fruitslbl.setText(&quot;Fruits&quot;);\r\n\r\nI&#39;m totally new to Java. I&#39;m using GUI builder and using Eclipse.\r\n","title":"How do I give a value to my checkbox in java so for example, &quot;when checkbox is selected = add + &#163;20 total&quot;?","body":"<pre><code>Fruitslbl = new JLabel();\ngetContentPane().add(Fruitslbl, new GridBagConstraints(0, 0, 1, 1, 0.0, 0.0, GridBagConstraints.CENTER, GridBagConstraints.NONE, new Insets(0, 0, 0, 0), 0, 0));\nFruitslbl.setText(&quot;Fruits&quot;);\n</code></pre>\n<p>I'm totally new to Java. I'm using GUI builder and using Eclipse.</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":10815596,"reputation":45,"user_id":7954645,"display_name":"James Hill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690648780,"creation_date":1690648780,"answer_id":76794532,"question_id":76792833,"body_markdown":"You haven&#39;t provided enough information to give a clear answer. Regardless, I think you may be missing some major SQL and JPA/Hibernate knowledge. Using a column of an array list doesn&#39;t create a relationship to another table. This defeats the power of relational databases.\r\n\r\nPostgres&#39; use of storing array list data types is not to create relationships between tables, but allow you to save and fetch array objects, in your case Java, easier. I&#39;m not the biggest fan as this type of database data type can be messy, but it has its place.\r\n\r\nBased on what you&#39;ve described, you actually have a many-to-many relationship. One `MainTable` entity can have many regions and it sounds like one `Region` entity can associate with many `MainTable` entities.\r\nFor a many-to-many relationship you&#39;re best off using a bridge table between the two. So you&#39;d have your `MainTable` entities in one table and your `Region` entities in another. You&#39;d then have a bridge table of two columns. One column represents the unique id of the `MainTable` row and the other column would be the unique id of the `Region` table. This type of setup allows you to not be repeating unnecessary data. This also allows you to lean heavily on JPA/Hibernate&#39;s ability to understand `@ManyToMany` relationships and setup entities to easily populate. \r\n\r\nTable names are also important to consider. They should have a meaningful name. Also semantically, you should call it `Region` not `Regions`. I know it seems small, but the concept of a table is to have multiple rows. So its assumed that the table name should be singular and represent many entities.\r\n\r\nI would recommend getting some knowledge on relational databases so you understand the concept of how relationships are established between tables (mentioned above bridge table, but one-to-many and many-to-one use the concept of primary key and foreign key to create the relationship). Also do some specific learning on JPA/Hibernate once you have a better understanding of SQL design.","title":"How do I properly map Postgres Array to Java @Entity?","body":"<p>You haven't provided enough information to give a clear answer. Regardless, I think you may be missing some major SQL and JPA/Hibernate knowledge. Using a column of an array list doesn't create a relationship to another table. This defeats the power of relational databases.</p>\n<p>Postgres' use of storing array list data types is not to create relationships between tables, but allow you to save and fetch array objects, in your case Java, easier. I'm not the biggest fan as this type of database data type can be messy, but it has its place.</p>\n<p>Based on what you've described, you actually have a many-to-many relationship. One <code>MainTable</code> entity can have many regions and it sounds like one <code>Region</code> entity can associate with many <code>MainTable</code> entities.\nFor a many-to-many relationship you're best off using a bridge table between the two. So you'd have your <code>MainTable</code> entities in one table and your <code>Region</code> entities in another. You'd then have a bridge table of two columns. One column represents the unique id of the <code>MainTable</code> row and the other column would be the unique id of the <code>Region</code> table. This type of setup allows you to not be repeating unnecessary data. This also allows you to lean heavily on JPA/Hibernate's ability to understand <code>@ManyToMany</code> relationships and setup entities to easily populate.</p>\n<p>Table names are also important to consider. They should have a meaningful name. Also semantically, you should call it <code>Region</code> not <code>Regions</code>. I know it seems small, but the concept of a table is to have multiple rows. So its assumed that the table name should be singular and represent many entities.</p>\n<p>I would recommend getting some knowledge on relational databases so you understand the concept of how relationships are established between tables (mentioned above bridge table, but one-to-many and many-to-one use the concept of primary key and foreign key to create the relationship). Also do some specific learning on JPA/Hibernate once you have a better understanding of SQL design.</p>\n"}],"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690648780,"creation_date":1690621036,"question_id":76792833,"body_markdown":"In my Postgres Table **Main table**I have a column that is ArrayList, **region_id_list**, that looks like this:\r\n{1, 2}. This column refferes to another table, which is called **Regions**. \r\nIn my Java code, I have this Region class specified as @Entity and @Table, and I need to map it to another @Entity class, So when I get my MainTable Entity, I could include **Regions** list in it.\r\n\r\nI&#39;ve tried using: \r\n\r\n - @ManyToOne\r\n - @ElementCollection\r\n - @CollectionTable\r\nBut everytime I run it - I get **bad value long : {1, 2}**.\r\n\r\nI have a similar output, but in this case orgDistrictsId reffers to the single-value column, not a ArrayList.\r\n\r\n```    &quot;orgName&quot;: &quot;Someone A&quot;,\r\n          &quot;orgDistrictsId&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;code&quot;: &quot;123&quot;\r\n        \r\n          }\r\n```\r\n","title":"How do I properly map Postgres Array to Java @Entity?","body":"<p>In my Postgres Table <strong>Main table</strong>I have a column that is ArrayList, <strong>region_id_list</strong>, that looks like this:\n{1, 2}. This column refferes to another table, which is called <strong>Regions</strong>.\nIn my Java code, I have this Region class specified as @Entity and @Table, and I need to map it to another @Entity class, So when I get my MainTable Entity, I could include <strong>Regions</strong> list in it.</p>\n<p>I've tried using:</p>\n<ul>\n<li>@ManyToOne</li>\n<li>@ElementCollection</li>\n<li>@CollectionTable\nBut everytime I run it - I get <strong>bad value long : {1, 2}</strong>.</li>\n</ul>\n<p>I have a similar output, but in this case orgDistrictsId reffers to the single-value column, not a ArrayList.</p>\n<pre><code>          &quot;orgDistrictsId&quot;: {\n            &quot;id&quot;: 1,\n            &quot;code&quot;: &quot;123&quot;\n        \n          }\n</code></pre>\n"},{"tags":["java","javafx","jpackage"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677559109,"post_id":75578985,"comment_id":133357271,"body_markdown":"open CMD.exe, change to your app install  dir, run your app exe. Find any error message output ?","body":"open CMD.exe, change to your app install  dir, run your app exe. Find any error message output ?"},{"owner":{"display_name":"user21296068"},"score":0,"creation_date":1677597344,"post_id":75578985,"comment_id":133367130,"body_markdown":"No, it just launches the app and I get the same error message.","body":"No, it just launches the app and I get the same error message."}],"answers":[{"tags":[],"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677495388,"creation_date":1677495388,"answer_id":75579554,"question_id":75578985,"body_markdown":"You can manually perform the jlink step before running jpackage; otherwise, jpackage automatically invokes jlink during the process. Jlink generates the executable.exe, but jpackage creates the installer for the executable, e.g. msi\r\n\r\nI hope this link is useful:\r\nhttps://www.devdungeon.com/content/use-jpackage-create-native-java-app-installers#:~:text=jlink%20vs%20jpackage,-jlink%20was%20introduced&amp;text=You%20can%20manually%20perform%20the,dmg%20%2C%20.","title":"Failed to launch JVM after using jpackage to create exe","body":"<p>You can manually perform the jlink step before running jpackage; otherwise, jpackage automatically invokes jlink during the process. Jlink generates the executable.exe, but jpackage creates the installer for the executable, e.g. msi</p>\n<p>I hope this link is useful:\n<a href=\"https://www.devdungeon.com/content/use-jpackage-create-native-java-app-installers#:%7E:text=jlink%20vs%20jpackage,-jlink%20was%20introduced&amp;text=You%20can%20manually%20perform%20the,dmg%20%2C%20\" rel=\"nofollow noreferrer\">https://www.devdungeon.com/content/use-jpackage-create-native-java-app-installers#:~:text=jlink%20vs%20jpackage,-jlink%20was%20introduced&amp;text=You%20can%20manually%20perform%20the,dmg%20%2C%20</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user21296068"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690648397,"creation_date":1690648397,"answer_id":76794506,"question_id":75578985,"body_markdown":"I&#39;m now using [Eclipse Adoptium][1] for both **JDK** as well as **JRE**. Also I downloaded the jmods from [JavaFX Gluon website][2]. Right now I&#39;m using version 17 which has the longest LTS for now.\r\n\r\nThese are the steps that I did to make it work:\r\n* Download Eclipse Adoptium JDK, JRE and install them (I choose .msi versions);\r\n* Go to JavaFX Gluon and download the jmods for your version (I choose to place them together with the other jmods from the JDK (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods);\r\n* After installing them go to **System variables** and add/change **JAVA_HOME** to the **JDK** folder (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot);\r\n* Go to **System variables / Path** and add a variable to the folder: JDK\\bin\\server (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\bin\\server);\r\n* When running the **jpackage** command follow this example:\r\n```\r\njpackage -t exe\r\n--name &quot;Application Name&quot;\r\n--vendor &quot;Your company name&quot;\r\n--app-version 1.0\r\n--input &quot;C:\\Programs\\Test program&quot;\r\n--dest &quot;C:\\Programs\\Test program&quot;\r\n--main-jar &quot;Application Name.jar&quot;\r\n--icon &quot;C:\\Programs\\Test program\\Application Name.ico&quot;\r\n--module-path &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods&quot;\r\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.localedata\r\n--win-shortcut --win-menu\r\n```\r\n\r\nHope this will help someone who had the same problem as my, and after running **jpackage** they were getting **Failed to launch JVM** error.\r\n\r\n  [1]: https://adoptium.net/temurin/releases/\r\n  [2]: https://download2.gluonhq.com/openjfx/17.0.7/openjfx-17.0.7_windows-x64_bin-jmods.zip","title":"Failed to launch JVM after using jpackage to create exe","body":"<p>I'm now using <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Eclipse Adoptium</a> for both <strong>JDK</strong> as well as <strong>JRE</strong>. Also I downloaded the jmods from <a href=\"https://download2.gluonhq.com/openjfx/17.0.7/openjfx-17.0.7_windows-x64_bin-jmods.zip\" rel=\"nofollow noreferrer\">JavaFX Gluon website</a>. Right now I'm using version 17 which has the longest LTS for now.</p>\n<p>These are the steps that I did to make it work:</p>\n<ul>\n<li>Download Eclipse Adoptium JDK, JRE and install them (I choose .msi versions);</li>\n<li>Go to JavaFX Gluon and download the jmods for your version (I choose to place them together with the other jmods from the JDK (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods);</li>\n<li>After installing them go to <strong>System variables</strong> and add/change <strong>JAVA_HOME</strong> to the <strong>JDK</strong> folder (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot);</li>\n<li>Go to <strong>System variables / Path</strong> and add a variable to the folder: JDK\\bin\\server (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\bin\\server);</li>\n<li>When running the <strong>jpackage</strong> command follow this example:</li>\n</ul>\n<pre><code>jpackage -t exe\n--name &quot;Application Name&quot;\n--vendor &quot;Your company name&quot;\n--app-version 1.0\n--input &quot;C:\\Programs\\Test program&quot;\n--dest &quot;C:\\Programs\\Test program&quot;\n--main-jar &quot;Application Name.jar&quot;\n--icon &quot;C:\\Programs\\Test program\\Application Name.ico&quot;\n--module-path &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods&quot;\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.localedata\n--win-shortcut --win-menu\n</code></pre>\n<p>Hope this will help someone who had the same problem as my, and after running <strong>jpackage</strong> they were getting <strong>Failed to launch JVM</strong> error.</p>\n"}],"owner":{"display_name":"user21296068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794506,"answer_count":2,"score":0,"last_activity_date":1690648432,"creation_date":1677491901,"question_id":75578985,"body_markdown":"After creating the `.exe` file using the command `jpackage`, I&#39;m getting the error `Failed to launch JVM` when running the file. What is more weird is that I tried the same command (I keep a file with all the commands for easier use in future) for an older project that I know it was working because a few days ago I made it, and I&#39;m now getting the same error.\r\n\r\nThe only change that I can think of is that I switched from Windows 10 to Windows 11, but Eclipse is running fine, as well as all my developing tools, and all the other programs that I made in the past (which they should, as all the required files are local to the their folder, the way `jpackage` works).\r\n\r\nWhen running the command I&#39;m not getting any errors, the `.exe` file is created and the installation doesn&#39;t have any problems.\r\n\r\nWhat can be the cause of it and what should I do? I&#39;ve seen a different thread and someone suggested to that person to use `--win-console` and to tell what he sees if anything, but if I use that instead of `--win-menu`, a terminal window is opened and closes without any output inside it.\r\n\r\n```\r\njpackage -t exe --name &quot;Exe Name&quot;\r\n--vendor &quot;Vendor Name&quot;\r\n--app-version 1.0\r\n--input &quot;Location of the jar file&quot;\r\n--dest &quot;Where the exe for installation to be placed, I normally use same as jar for organization reason&quot;\r\n--main-jar &quot;Jar Name.jar&quot;\r\n--icon &quot;Location of the icon file.ico&quot;\r\n--module-path &quot;Where the jmods are located, downloaded from https://openjfx.io&quot;\r\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web --win-shortcut --win-menu\r\n```","title":"Failed to launch JVM after using jpackage to create exe","body":"<p>After creating the <code>.exe</code> file using the command <code>jpackage</code>, I'm getting the error <code>Failed to launch JVM</code> when running the file. What is more weird is that I tried the same command (I keep a file with all the commands for easier use in future) for an older project that I know it was working because a few days ago I made it, and I'm now getting the same error.</p>\n<p>The only change that I can think of is that I switched from Windows 10 to Windows 11, but Eclipse is running fine, as well as all my developing tools, and all the other programs that I made in the past (which they should, as all the required files are local to the their folder, the way <code>jpackage</code> works).</p>\n<p>When running the command I'm not getting any errors, the <code>.exe</code> file is created and the installation doesn't have any problems.</p>\n<p>What can be the cause of it and what should I do? I've seen a different thread and someone suggested to that person to use <code>--win-console</code> and to tell what he sees if anything, but if I use that instead of <code>--win-menu</code>, a terminal window is opened and closes without any output inside it.</p>\n<pre><code>jpackage -t exe --name &quot;Exe Name&quot;\n--vendor &quot;Vendor Name&quot;\n--app-version 1.0\n--input &quot;Location of the jar file&quot;\n--dest &quot;Where the exe for installation to be placed, I normally use same as jar for organization reason&quot;\n--main-jar &quot;Jar Name.jar&quot;\n--icon &quot;Location of the icon file.ico&quot;\n--module-path &quot;Where the jmods are located, downloaded from https://openjfx.io&quot;\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web --win-shortcut --win-menu\n</code></pre>\n"},{"tags":["java","if-statement","variables","switch-statement"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1690647198,"post_id":76794401,"comment_id":135384134,"body_markdown":"In the `switch` code you don&#39;t use `totalBill`.  Try including the last line from the `if` code: `System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);`","body":"In the <code>switch</code> code you don&#39;t use <code>totalBill</code>.  Try including the last line from the <code>if</code> code: <code>System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);</code>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690647604,"post_id":76794401,"comment_id":135384175,"body_markdown":"It wouldn&#39;t make a difference - the &#39;default&#39; returns. So any path that gets you past the switch statement has executed an assignment to totalBill.","body":"It wouldn&#39;t make a difference - the &#39;default&#39; returns. So any path that gets you past the switch statement has executed an assignment to totalBill."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1690647937,"post_id":76794401,"comment_id":135384206,"body_markdown":"Add a `return;` to your last `else` (where you have `System.out.print(&quot;Invalid input.&quot;);` -- notice your `default` in the `switch` version does not `break`. It `return`s) and then your two methods would be equivalent and you can just do `double totalBill;`","body":"Add a <code>return;</code> to your last <code>else</code> (where you have <code>System.out.print(&quot;Invalid input.&quot;);</code> -- notice your <code>default</code> in the <code>switch</code> version does not <code>break</code>. It <code>return</code>s) and then your two methods would be equivalent and you can just do <code>double totalBill;</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690647324,"creation_date":1690647324,"answer_id":76794428,"question_id":76794401,"body_markdown":"The last `printf` possible encountered an ininitialized variable. If instead of the `return` you do a `break` in the default, you would encountered the same problem.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>The last <code>printf</code> possible encountered an ininitialized variable. If instead of the <code>return</code> you do a <code>break</code> in the default, you would encountered the same problem.</p>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690647707,"creation_date":1690647365,"answer_id":76794433,"question_id":76794401,"body_markdown":"There is a path through your &#39;if-else&#39; code where you attempt to print out the value of &#39;totalBill&#39;, which was never assigned to. That&#39;s the path when you execute the final &#39;else&#39; clause.\r\n\r\nThere is no such path in the &#39;switch&#39; code. Either you assign a value, or else you return from the &#39;default&#39; case before any (not shown) printing of the total.\r\n\r\nThus, the two implementations are not equivalent. Only you know which one has the intended behaviour.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>There is a path through your 'if-else' code where you attempt to print out the value of 'totalBill', which was never assigned to. That's the path when you execute the final 'else' clause.</p>\n<p>There is no such path in the 'switch' code. Either you assign a value, or else you return from the 'default' case before any (not shown) printing of the total.</p>\n<p>Thus, the two implementations are not equivalent. Only you know which one has the intended behaviour.</p>\n"},{"tags":[],"owner":{"account_id":20852723,"reputation":1,"user_id":15316874,"display_name":"Glauber Faria"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690647665,"creation_date":1690647665,"answer_id":76794449,"question_id":76794401,"body_markdown":"\r\nHere you have an error accused by the compiler, where the problem itself is in the instruction &quot;System.out.printf(&quot;Your bill is $%.2f%n&quot;,totalBill);&quot; which the second program does not have, when trying to add this to the second program you will get the same error.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>Here you have an error accused by the compiler, where the problem itself is in the instruction &quot;System.out.printf(&quot;Your bill is $%.2f%n&quot;,totalBill);&quot; which the second program does not have, when trying to add this to the second program you will get the same error.</p>\n"}],"owner":{"account_id":29118159,"reputation":1,"user_id":22306398,"display_name":"hi hi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1690656643,"answer_count":3,"score":-3,"last_activity_date":1690647707,"creation_date":1690646787,"question_id":76794401,"body_markdown":"So I wrote two programs that do the same thing. One of them uses if-else, while the other uses switch-case.\r\n\r\n```\r\npublic static void calcBill(String userChoice, int userMinute){\r\n        double PackageArate = 39.99;\r\n        double PackageBrate = 59.99;\r\n        double PackageCrate = 69.99;\r\n\r\n        int PackageAmins = 450;\r\n        int PackageBmins = 900;\r\n\r\n        double totalBill = 0.0;\r\n\r\n        if(userChoice.equals(&quot;A&quot;)){\r\n            if(userMinute &gt; PackageAmins){\r\n                int extraMins = userMinute - PackageAmins;\r\n                totalBill = PackageArate + (extraMins * 0.45);\r\n            } else {\r\n                totalBill = PackageArate;\r\n            }\r\n        } else if (userChoice.equals(&quot;B&quot;)){\r\n            if(userMinute &gt; PackageBmins){\r\n                int extraMins = userMinute - PackageBmins;\r\n                totalBill = PackageBrate + (extraMins * 0.40);\r\n            } else{\r\n                totalBill = PackageBrate;\r\n            }\r\n        } else if(userChoice.equals(&quot;C&quot;)){\r\n            totalBill = PackageCrate;\r\n        } else{\r\n            System.out.print(&quot;Invalid input.&quot;);\r\n        }\r\n        System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n    public static void calcBill(String packageChoice, int minutes){\r\n        double packageArate = 39.99;\r\n        double packageBrate = 59.99;\r\n        double packageCrate = 69.99;\r\n        \r\n        int packageAmins = 450;\r\n        int packageBmins = 900;\r\n        \r\n        double totalBill;\r\n        \r\n        switch(packageChoice){\r\n            case &quot;A&quot;:\r\n                if(minutes &gt; packageAmins){\r\n                    int extraMinutes = minutes - packageAmins;\r\n                    totalBill = packageArate + (extraMinutes * 0.45);\r\n                } \r\n                else{\r\n                    totalBill = packageArate;\r\n                }\r\n                break;\r\n            case &quot;B&quot;:\r\n                if(minutes &gt; packageBmins){\r\n                    int extraMinutes = minutes - packageBmins;\r\n                    totalBill = packageArate + (extraMinutes * 0.40);\r\n                } \r\n                else{\r\n                    totalBill = packageBrate;\r\n                }\r\n                break;\r\n            case &quot;C&quot;:\r\n                totalBill = packageCrate;\r\n                break;\r\n            default:\r\n                System.out.print(&quot;Invalid choice.&quot;);\r\n                return;\r\n            \r\n        }\r\n```\r\n\r\nWhy do I need to initialize a value for totalBill when using if-else but not switch-case.\r\n\r\n\r\nWhen I tried to not initialize a value for totalBill in the if-else, I got an error saying that the variable was not initialized.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>So I wrote two programs that do the same thing. One of them uses if-else, while the other uses switch-case.</p>\n<pre><code>public static void calcBill(String userChoice, int userMinute){\n        double PackageArate = 39.99;\n        double PackageBrate = 59.99;\n        double PackageCrate = 69.99;\n\n        int PackageAmins = 450;\n        int PackageBmins = 900;\n\n        double totalBill = 0.0;\n\n        if(userChoice.equals(&quot;A&quot;)){\n            if(userMinute &gt; PackageAmins){\n                int extraMins = userMinute - PackageAmins;\n                totalBill = PackageArate + (extraMins * 0.45);\n            } else {\n                totalBill = PackageArate;\n            }\n        } else if (userChoice.equals(&quot;B&quot;)){\n            if(userMinute &gt; PackageBmins){\n                int extraMins = userMinute - PackageBmins;\n                totalBill = PackageBrate + (extraMins * 0.40);\n            } else{\n                totalBill = PackageBrate;\n            }\n        } else if(userChoice.equals(&quot;C&quot;)){\n            totalBill = PackageCrate;\n        } else{\n            System.out.print(&quot;Invalid input.&quot;);\n        }\n        System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);\n    }\n</code></pre>\n<pre><code>    public static void calcBill(String packageChoice, int minutes){\n        double packageArate = 39.99;\n        double packageBrate = 59.99;\n        double packageCrate = 69.99;\n        \n        int packageAmins = 450;\n        int packageBmins = 900;\n        \n        double totalBill;\n        \n        switch(packageChoice){\n            case &quot;A&quot;:\n                if(minutes &gt; packageAmins){\n                    int extraMinutes = minutes - packageAmins;\n                    totalBill = packageArate + (extraMinutes * 0.45);\n                } \n                else{\n                    totalBill = packageArate;\n                }\n                break;\n            case &quot;B&quot;:\n                if(minutes &gt; packageBmins){\n                    int extraMinutes = minutes - packageBmins;\n                    totalBill = packageArate + (extraMinutes * 0.40);\n                } \n                else{\n                    totalBill = packageBrate;\n                }\n                break;\n            case &quot;C&quot;:\n                totalBill = packageCrate;\n                break;\n            default:\n                System.out.print(&quot;Invalid choice.&quot;);\n                return;\n            \n        }\n</code></pre>\n<p>Why do I need to initialize a value for totalBill when using if-else but not switch-case.</p>\n<p>When I tried to not initialize a value for totalBill in the if-else, I got an error saying that the variable was not initialized.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-devtools"],"comments":[{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1536050393,"post_id":52162041,"comment_id":91273818,"body_markdown":"Make sure you **didn&#39;t** override the defaults somewhere in your conf using the property: `spring.devtools.restart.exclude`","body":"Make sure you <b>didn&#39;t</b> override the defaults somewhere in your conf using the property: <code>spring.devtools.restart.exclude</code>"},{"owner":{"account_id":11148437,"reputation":913,"user_id":8182452,"accept_rate":64,"display_name":"karen"},"score":2,"creation_date":1536050533,"post_id":52162041,"comment_id":91273908,"body_markdown":"Are you using Maven or Gradle?  If so, can you provide the pom.xml or build.gradle files for these?","body":"Are you using Maven or Gradle?  If so, can you provide the pom.xml or build.gradle files for these?"},{"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"score":0,"creation_date":1536057588,"post_id":52162041,"comment_id":91278149,"body_markdown":"@karen Sure thing. Added pom.xml and application.properties.","body":"@karen Sure thing. Added pom.xml and application.properties."}],"answers":[{"comments":[{"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"score":0,"creation_date":1536061671,"post_id":52162759,"comment_id":91280702,"body_markdown":"I can&#39;t use a livereload server as I&#39;m using jsp for the view. Therefor I can&#39;t use jar packaging, which I believe is required for livereload.\n\nHowever, as far as I know, livereload is only needed to update the browser in real time whenever the application is reloaded. What I need is to avoid the restart, not to trigger the refresh.","body":"I can&#39;t use a livereload server as I&#39;m using jsp for the view. Therefor I can&#39;t use jar packaging, which I believe is required for livereload.  However, as far as I know, livereload is only needed to update the browser in real time whenever the application is reloaded. What I need is to avoid the restart, not to trigger the refresh."},{"owner":{"account_id":4369724,"reputation":1687,"user_id":3564455,"display_name":"the hand of NOD"},"score":0,"creation_date":1536065647,"post_id":52162759,"comment_id":91283285,"body_markdown":"Hmmm. not sure if I understand correctly but you could try to set the livereload flag to false and see if your server itself supports hot code replacement. `spring.devtools.livereload.enabled=false` in your `application.properties` should do that.","body":"Hmmm. not sure if I understand correctly but you could try to set the livereload flag to false and see if your server itself supports hot code replacement. <code>spring.devtools.livereload.enabled=false</code> in your <code>application.properties</code> should do that."}],"tags":[],"owner":{"account_id":4369724,"reputation":1687,"user_id":3564455,"display_name":"the hand of NOD"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536052173,"creation_date":1536052173,"answer_id":52162759,"question_id":52162041,"body_markdown":"Did you also read the chapter for the &quot;LiveReload&quot;?\r\nYou&#39;ll need to make sure that your LiveReload Server is started from the SpringBoot-Devtools. You can also use the browser plugin from [LiveReload.com][1].\r\nOr you could use the Plugin from the [Chrome Web Store][2].\r\nSee Chapter [LiveReload][3] for more details.\r\n\r\n\r\n  [1]: http://livereload.com/\r\n  [2]: https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-livereload","title":"Spring Boot triggers full restart instead of reload on changes over static files","body":"<p>Did you also read the chapter for the \"LiveReload\"?\nYou'll need to make sure that your LiveReload Server is started from the SpringBoot-Devtools. You can also use the browser plugin from <a href=\"http://livereload.com/\" rel=\"nofollow noreferrer\">LiveReload.com</a>.\nOr you could use the Plugin from the <a href=\"https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei\" rel=\"nofollow noreferrer\">Chrome Web Store</a>.\nSee Chapter <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-livereload\" rel=\"nofollow noreferrer\">LiveReload</a> for more details.</p>\n"},{"comments":[{"owner":{"account_id":8342762,"reputation":950,"user_id":6267583,"accept_rate":100,"display_name":"morecore"},"score":1,"creation_date":1540922715,"post_id":52167092,"comment_id":93039087,"body_markdown":"I had a similar [problem](https://stackoverflow.com/q/52587818/6267583). Thanks for the remark with the source folder, it helped me to find a solution for my problem.","body":"I had a similar <a href=\"https://stackoverflow.com/q/52587818/6267583\">problem</a>. Thanks for the remark with the source folder, it helped me to find a solution for my problem."}],"tags":[],"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1536066478,"creation_date":1536066478,"answer_id":52167092,"question_id":52162041,"body_markdown":"Finally found the solution. It was much simpler than I thought.\r\n\r\nSince I&#39;m using war packaging I can use webapp&#39;s default behaviour. Everything under source folders trigger a restart, but resources under webapp are fetched at runtime, so there is no need to reload anything.\r\n\r\nI just placed my static content under /webapp/static and then added the resource handler:\r\n\r\n    @Configuration\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n\t    @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;/static/&quot;); \r\n        }\r\n    }\r\n\r\nJust don&#39;t use the default Spring Boot placement for statics (basically anything under resources) and you&#39;ll be fine.","title":"Spring Boot triggers full restart instead of reload on changes over static files","body":"<p>Finally found the solution. It was much simpler than I thought.</p>\n\n<p>Since I'm using war packaging I can use webapp's default behaviour. Everything under source folders trigger a restart, but resources under webapp are fetched at runtime, so there is no need to reload anything.</p>\n\n<p>I just placed my static content under /webapp/static and then added the resource handler:</p>\n\n<pre><code>@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/static/**\").addResourceLocations(\"/static/\"); \n    }\n}\n</code></pre>\n\n<p>Just don't use the default Spring Boot placement for statics (basically anything under resources) and you'll be fine.</p>\n"}],"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52167092,"answer_count":2,"score":2,"last_activity_date":1690645784,"creation_date":1536049843,"question_id":52162041,"body_markdown":"In my `Spring Boot` project I have the following structure:\r\n\r\n    - src\r\n      - main\r\n        - java\r\n        - resources\r\n          - static\r\n            - css\r\n            - js\r\n            - img\r\n        - webapp\r\n          - WEB-INF\r\n              - views\r\n\r\nAccording with the documentation at [Excluding Resources](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.restart.excluding-resources), resources inside `static/` should trigger a _reload_, but instead whenever I save a file inside `css/` or `js/` a full restart is triggered.\r\n\r\nI&#39;m using `Spring Boot` **2.0.4** including `spring-boot-devtools` (default configuration) and `spring-boot-starter-security` with Eclipse Oxygen and Tomcat 8.5\r\n\r\nPackaging type is **war** since I have to deploy to a shared container and views are created using **jsp**.\r\n\r\nAny help will be greatly appreciated.\r\n\r\nRelevant files:\r\n\r\npom.xml:\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1-b03&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\napplication.properties:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/views/\r\n    spring.mvc.view.suffix=.jsp\r\n\r\n    #spring.jpa.show-sql=true\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2008Dialect\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n    spring.jpa.open-in-view=false\r\n","title":"Spring Boot triggers full restart instead of reload on changes over static files","body":"<p>In my <code>Spring Boot</code> project I have the following structure:</p>\n<pre><code>- src\n  - main\n    - java\n    - resources\n      - static\n        - css\n        - js\n        - img\n    - webapp\n      - WEB-INF\n          - views\n</code></pre>\n<p>According with the documentation at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.restart.excluding-resources\" rel=\"nofollow noreferrer\">Excluding Resources</a>, resources inside <code>static/</code> should trigger a <em>reload</em>, but instead whenever I save a file inside <code>css/</code> or <code>js/</code> a full restart is triggered.</p>\n<p>I'm using <code>Spring Boot</code> <strong>2.0.4</strong> including <code>spring-boot-devtools</code> (default configuration) and <code>spring-boot-starter-security</code> with Eclipse Oxygen and Tomcat 8.5</p>\n<p>Packaging type is <strong>war</strong> since I have to deploy to a shared container and views are created using <strong>jsp</strong>.</p>\n<p>Any help will be greatly appreciated.</p>\n<p>Relevant files:</p>\n<p>pom.xml:</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1-b03&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\n\n#spring.jpa.show-sql=true\n\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2008Dialect\n\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.jpa.open-in-view=false\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":7,"creation_date":1425191866,"post_id":28790784,"comment_id":45856870,"body_markdown":"@Sliver2009 No it&#39;s not.","body":"@Sliver2009 No it&#39;s not."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1425191903,"post_id":28790784,"comment_id":45856879,"body_markdown":"@Florian You&#39;ve to use `AtomicInteger` here.","body":"@Florian You&#39;ve to use <code>AtomicInteger</code> here."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1425287311,"post_id":28791769,"comment_id":45885037,"body_markdown":"It should be noted that `peek` stops working, once `count` implementations start using shortcuts for `SIZED` streams. That may never be an issue with `filter`ed stream but can create great surprises if someone changes the code at a later time…","body":"It should be noted that <code>peek</code> stops working, once <code>count</code> implementations start using shortcuts for <code>SIZED</code> streams. That may never be an issue with <code>filter</code>ed stream but can create great surprises if someone changes the code at a later time…"},{"owner":{"account_id":132233,"reputation":3702,"user_id":332788,"accept_rate":71,"display_name":"aliopi"},"score":26,"creation_date":1444312145,"post_id":28791769,"comment_id":53858381,"body_markdown":"Declare `final AtomicInteger i = new AtomicInteger(1);` and somewhere in your lambda use `i.getAndAdd(1)`. Stop and remember how nice `int i=1; ... i++` used to be.","body":"Declare <code>final AtomicInteger i = new AtomicInteger(1);</code> and somewhere in your lambda use <code>i.getAndAdd(1)</code>. Stop and remember how nice <code>int i=1; ... i++</code> used to be."},{"owner":{"account_id":12040719,"reputation":2536,"user_id":8807741,"display_name":"SeverityOne"},"score":4,"creation_date":1524484942,"post_id":28791769,"comment_id":86977214,"body_markdown":"If Java would implement interfaces such as `Incrementable` on numeric classes, including `AtomicInteger`, and declare operators such as `++` to be fancy-looking functions, we wouldn&#39;t need operator overloading and still have very readable code.","body":"If Java would implement interfaces such as <code>Incrementable</code> on numeric classes, including <code>AtomicInteger</code>, and declare operators such as <code>++</code> to be fancy-looking functions, we wouldn&#39;t need operator overloading and still have very readable code."}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":3,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1484916079,"creation_date":1425200562,"answer_id":28791769,"question_id":28790784,"body_markdown":"Let me reformat your example a bit for the sake of discussion:\r\n\r\n    long runCount = 0L;\r\n    myStream.stream()\r\n        .filter(...)\r\n        .forEach(item -&gt; { \r\n            foo();\r\n            bar();\r\n            runCount++; // doesn&#39;t work\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot; times&quot;);\r\n\r\nIf you *really* need to increment a counter from within a lambda, the typical way to do so is to make the counter an `AtomicInteger` or `AtomicLong` and then call one of the increment methods on it.\r\n\r\nYou could use a single-element `int` or `long` array, but that would have race conditions if the stream is run in parallel.\r\n\r\nBut notice that the stream ends in `forEach`, which means that there is no return value. You could change the `forEach` to a `peek`, which passes the items through, and then count them:\r\n\r\n    long runCount = myStream.stream()\r\n        .filter(...)\r\n        .peek(item -&gt; { \r\n            foo();\r\n            bar();\r\n        })\r\n        .count();\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot; times&quot;);\r\n\r\nThis is somewhat better, but still a bit odd. The reason is that `forEach` and `peek` can only do their work via side effects. The emerging functional style of Java 8 is to avoid side effects. We did a little of that by extracting the increment of the counter into a `count` operation on the stream. Other typical side effects are adding items to collections. Usually these can be replaced via use of collectors. But without knowing what actual work you&#39;re trying to do, I can&#39;t suggest anything more specific.\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>Let me reformat your example a bit for the sake of discussion:</p>\n\n<pre><code>long runCount = 0L;\nmyStream.stream()\n    .filter(...)\n    .forEach(item -&gt; { \n        foo();\n        bar();\n        runCount++; // doesn't work\n    });\nSystem.out.println(\"The lambda ran \" + runCount + \" times\");\n</code></pre>\n\n<p>If you <em>really</em> need to increment a counter from within a lambda, the typical way to do so is to make the counter an <code>AtomicInteger</code> or <code>AtomicLong</code> and then call one of the increment methods on it.</p>\n\n<p>You could use a single-element <code>int</code> or <code>long</code> array, but that would have race conditions if the stream is run in parallel.</p>\n\n<p>But notice that the stream ends in <code>forEach</code>, which means that there is no return value. You could change the <code>forEach</code> to a <code>peek</code>, which passes the items through, and then count them:</p>\n\n<pre><code>long runCount = myStream.stream()\n    .filter(...)\n    .peek(item -&gt; { \n        foo();\n        bar();\n    })\n    .count();\nSystem.out.println(\"The lambda ran \" + runCount + \" times\");\n</code></pre>\n\n<p>This is somewhat better, but still a bit odd. The reason is that <code>forEach</code> and <code>peek</code> can only do their work via side effects. The emerging functional style of Java 8 is to avoid side effects. We did a little of that by extracting the increment of the counter into a <code>count</code> operation on the stream. Other typical side effects are adding items to collections. Usually these can be replaced via use of collectors. But without knowing what actual work you're trying to do, I can't suggest anything more specific.</p>\n"},{"comments":[{"owner":{"account_id":1851431,"reputation":44947,"user_id":1677912,"accept_rate":82,"display_name":"Mogsdad"},"score":19,"creation_date":1458579001,"post_id":36136863,"comment_id":59912285,"body_markdown":"Please [edit] with more information. Code-only and &quot;try this&quot; answers are [discouraged](//meta.stackexchange.com/questions/196187), because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;. We make an effort here to be a resource for knowledge.","body":"Please <a href=\"https://stackoverflow.com/posts/36136863/edit\">edit</a> with more information. Code-only and &quot;try this&quot; answers are <a href=\"//meta.stackexchange.com/questions/196187\">discouraged</a>, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;. We make an effort here to be a resource for knowledge."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":7,"creation_date":1484914982,"post_id":36136863,"comment_id":70718583,"body_markdown":"Your answer confuses me. You got two variables both named `runCount`. I suspect you intended to have only one of them, but which one?","body":"Your answer confuses me. You got two variables both named <code>runCount</code>. I suspect you intended to have only one of them, but which one?"},{"owner":{"account_id":215378,"reputation":377,"user_id":470006,"display_name":"kospol"},"score":1,"creation_date":1494879882,"post_id":36136863,"comment_id":75005567,"body_markdown":"I found the runCount.getAndIncrement() to be more suitable. Great answer!","body":"I found the runCount.getAndIncrement() to be more suitable. Great answer!"},{"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"score":5,"creation_date":1558511387,"post_id":36136863,"comment_id":99121042,"body_markdown":"The `AtomicInteger`helped me out but i would init it with `new AtomicInteger(0)`","body":"The <code>AtomicInteger</code>helped me out but i would init it with <code>new AtomicInteger(0)</code>"},{"owner":{"account_id":1275502,"reputation":334,"user_id":1230870,"display_name":"C&#233;dric"},"score":3,"creation_date":1602840649,"post_id":36136863,"comment_id":113853306,"body_markdown":"1) This code won&#39;t compile : the stream has no terminal operation that returns a long\n\n2) Even if it would, &#39;runCount&#39; value would  always be &#39;1&#39; : \n\n    - the stream has no terminal operation so peek() lambda argument will never be called\n\n    - System.out line increments the run count before displaying it","body":"1) This code won&#39;t compile : the stream has no terminal operation that returns a long  2) Even if it would, &#39;runCount&#39; value would  always be &#39;1&#39; :       - the stream has no terminal operation so peek() lambda argument will never be called      - System.out line increments the run count before displaying it"}],"tags":[],"owner":{"account_id":8087657,"reputation":265,"user_id":6094696,"display_name":"Leandruz"},"comment_count":5,"down_vote_count":13,"up_vote_count":29,"is_accepted":false,"score":16,"last_activity_date":1538461296,"creation_date":1458578490,"answer_id":36136863,"question_id":28790784,"body_markdown":"    AtomicInteger runCount = 0L;\r\n    long runCount = myStream.stream()\r\n        .filter(...)\r\n        .peek(item -&gt; { \r\n            foo();\r\n            bar();\r\n            runCount.incrementAndGet();\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + runCount.incrementAndGet() + &quot;times&quot;);","title":"Java 8: preferred way to count iterations of a lambda?","body":"<pre><code>AtomicInteger runCount = 0L;\nlong runCount = myStream.stream()\n    .filter(...)\n    .peek(item -&gt; { \n        foo();\n        bar();\n        runCount.incrementAndGet();\n    });\nSystem.out.println(\"The lambda ran \" + runCount.incrementAndGet() + \"times\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":386902,"reputation":486,"user_id":744925,"accept_rate":100,"display_name":"themathmagician"},"score":0,"creation_date":1503596101,"post_id":39203373,"comment_id":78694249,"body_markdown":"If you want to make sure that the reference does not get another array assigned, you can declare iarr as a final variable. But as @pisaruk points out, this won&#39;t work in parallel.","body":"If you want to make sure that the reference does not get another array assigned, you can declare iarr as a final variable. But as @pisaruk points out, this won&#39;t work in parallel."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":3,"creation_date":1518608635,"post_id":39203373,"comment_id":84574083,"body_markdown":"I think, for simple `foreach` directly on collection ( without streams ) , this is a good enough approach. thanks !!","body":"I think, for simple <code>foreach</code> directly on collection ( without streams ) , this is a good enough approach. thanks !!"},{"owner":{"account_id":1282139,"reputation":2420,"user_id":1236018,"accept_rate":84,"display_name":"David DeMar"},"score":1,"creation_date":1525099586,"post_id":39203373,"comment_id":87222734,"body_markdown":"This is the simplest solution, as long as you&#39;re not running things in parallel.","body":"This is the simplest solution, as long as you&#39;re not running things in parallel."}],"tags":[],"owner":{"account_id":5352990,"reputation":599,"user_id":4266596,"display_name":"Duke Spray"},"comment_count":3,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1472464534,"creation_date":1472464534,"answer_id":39203373,"question_id":28790784,"body_markdown":"As an alternative to sync hassling AtomicInteger one could use an **integer array** instead. As long as the **reference to the array does not get another array assigned** (and that&#39;s the point) it can be used as a **final** variable while the **values** of the fields **can change** arbitrarily.\r\n\r\n\t\tint[] iarr = {0}; // final not neccessary here if no other array is assigned\r\n\t\tstringList.forEach(item -&gt; {\r\n\t\t\t\tiarr[0]++;\r\n                // iarr = {1}; Error if iarr gets other array assigned\r\n\t\t});","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>As an alternative to sync hassling AtomicInteger one could use an <strong>integer array</strong> instead. As long as the <strong>reference to the array does not get another array assigned</strong> (and that's the point) it can be used as a <strong>final</strong> variable while the <strong>values</strong> of the fields <strong>can change</strong> arbitrarily.</p>\n\n<pre><code>    int[] iarr = {0}; // final not neccessary here if no other array is assigned\n    stringList.forEach(item -&gt; {\n            iarr[0]++;\n            // iarr = {1}; Error if iarr gets other array assigned\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1610999567,"post_id":48778625,"comment_id":116305179,"body_markdown":"There&#39;s a &#39;`}`&#39;  missing for the `else` and the `if...else` can be shortened to `return bar() ? 1 : 0;`","body":"There&#39;s a &#39;<code>}</code>&#39;  missing for the <code>else</code> and the <code>if...else</code> can be shortened to <code>return bar() ? 1 : 0;</code>"}],"tags":[],"owner":{"account_id":8081374,"reputation":104,"user_id":6090461,"display_name":"A. D."},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1518574188,"creation_date":1518574188,"answer_id":48778625,"question_id":28790784,"body_markdown":"Another way of doing this (useful if you&#39;d like your count to only be incremented in some cases, like if an operation was successful) is something like this, using `mapToInt()` and `sum()`: \r\n\r\n    int count = myStream.stream()\r\n        .filter(...)\r\n        .mapToInt(item -&gt; { \r\n            foo();\r\n            if (bar()){\r\n               return 1;\r\n            } else {\r\n               return 0;\r\n        })\r\n        .sum();\r\n    System.out.println(&quot;The lambda ran &quot; + count + &quot;times&quot;);\r\nAs Stuart Marks noted, this is still somewhat odd, because it&#39;s not completely avoiding side effects (depending on what `foo()` and `bar()` are doing).\r\n\r\nAnd another way of incrementing a variable in a lambda that&#39;s accessible outside of it is to use a class variable:\r\n\r\n    public class MyClass {\r\n        private int myCount;\r\n        \r\n        // Constructor, other methods here\r\n\r\n        void myMethod(){\r\n            // does something to get myStream\r\n            myCount = 0;\r\n            myStream.stream()\r\n                .filter(...)\r\n                .forEach(item-&gt;{\r\n                   foo(); \r\n                   myCount++;\r\n            });\r\n        }\r\n    }\r\nIn this example, using a class variable for a counter in one method probably doesn&#39;t make sense, so I&#39;d caution against it unless there&#39;s a good reason to. Keeping class variables `final` if possible can be helpful in terms of thread safety, etc (see http://www.javapractices.com/topic/TopicAction.do?Id=23 for a discussion on using `final`). \r\n\r\nTo get a better idea of why lambdas work the way they do, https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood has a detailed look.","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>Another way of doing this (useful if you'd like your count to only be incremented in some cases, like if an operation was successful) is something like this, using <code>mapToInt()</code> and <code>sum()</code>: </p>\n\n<pre><code>int count = myStream.stream()\n    .filter(...)\n    .mapToInt(item -&gt; { \n        foo();\n        if (bar()){\n           return 1;\n        } else {\n           return 0;\n    })\n    .sum();\nSystem.out.println(\"The lambda ran \" + count + \"times\");\n</code></pre>\n\n<p>As Stuart Marks noted, this is still somewhat odd, because it's not completely avoiding side effects (depending on what <code>foo()</code> and <code>bar()</code> are doing).</p>\n\n<p>And another way of incrementing a variable in a lambda that's accessible outside of it is to use a class variable:</p>\n\n<pre><code>public class MyClass {\n    private int myCount;\n\n    // Constructor, other methods here\n\n    void myMethod(){\n        // does something to get myStream\n        myCount = 0;\n        myStream.stream()\n            .filter(...)\n            .forEach(item-&gt;{\n               foo(); \n               myCount++;\n        });\n    }\n}\n</code></pre>\n\n<p>In this example, using a class variable for a counter in one method probably doesn't make sense, so I'd caution against it unless there's a good reason to. Keeping class variables <code>final</code> if possible can be helpful in terms of thread safety, etc (see <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=23\" rel=\"nofollow noreferrer\">http://www.javapractices.com/topic/TopicAction.do?Id=23</a> for a discussion on using <code>final</code>). </p>\n\n<p>To get a better idea of why lambdas work the way they do, <a href=\"https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood\" rel=\"nofollow noreferrer\">https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood</a> has a detailed look.</p>\n"},{"comments":[{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":2,"creation_date":1548665662,"post_id":48778719,"comment_id":95607505,"body_markdown":"what on earth is going on here, in need of a little more explanation thx","body":"what on earth is going on here, in need of a little more explanation thx"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1565036437,"post_id":48778719,"comment_id":101217434,"body_markdown":"Basically, it&#39;s incrementing and retrieving a field on an anonymous class. If you tell me what you&#39;re specifically confused by, I can try to clarify.","body":"Basically, it&#39;s incrementing and retrieving a field on an anonymous class. If you tell me what you&#39;re specifically confused by, I can try to clarify."},{"owner":{"display_name":"user11810894"},"score":0,"creation_date":1565042211,"post_id":48778719,"comment_id":101219235,"body_markdown":"is the code block {...} overriding or chaining the constructor of Object?","body":"is the code block {...} overriding or chaining the constructor of Object?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1565043031,"post_id":48778719,"comment_id":101219435,"body_markdown":"@MrCholo It&#39;s an [initializer block](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html). It runs before the constructor.","body":"@MrCholo It&#39;s an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">initializer block</a>. It runs before the constructor."},{"owner":{"display_name":"user11810894"},"score":0,"creation_date":1565049772,"post_id":48778719,"comment_id":101220619,"body_markdown":"that&#39;s interesting, I see, it&#39;s a static initializer, not an instance initalizer right","body":"that&#39;s interesting, I see, it&#39;s a static initializer, not an instance initalizer right"},{"owner":{"display_name":"user11810894"},"score":0,"creation_date":1565049826,"post_id":48778719,"comment_id":101220624,"body_markdown":"so doesn&#39;t it need the `static` keyword in front of it or no?","body":"so doesn&#39;t it need the <code>static</code> keyword in front of it or no?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1565050039,"post_id":48778719,"comment_id":101220652,"body_markdown":"@MrCholo No, it&#39;s an instance initializer.","body":"@MrCholo No, it&#39;s an instance initializer."},{"owner":{"display_name":"user11810894"},"score":0,"creation_date":1565050371,"post_id":48778719,"comment_id":101220706,"body_markdown":"i didn&#39;t know that was possible, I thought initializers had to be static, that&#39;s cool","body":"i didn&#39;t know that was possible, I thought initializers had to be static, that&#39;s cool"},{"owner":{"display_name":"user11810894"},"score":0,"creation_date":1565050439,"post_id":48778719,"comment_id":101220721,"body_markdown":"why not just use a constructor and just call super(), is this just less verbose?","body":"why not just use a constructor and just call super(), is this just less verbose?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1565050674,"post_id":48778719,"comment_id":101220756,"body_markdown":"@MrCholo An anonymous class cannot have an explicitly declared constructor.","body":"@MrCholo An anonymous class cannot have an explicitly declared constructor."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1611139849,"post_id":48778719,"comment_id":116352491,"body_markdown":"While this solution is clever, it&#39;s horrible because it requires creating and instantiating objects for the mere goal of avoiding scopes. I&#39;d refuse this in any code review based on the fact that it&#39;s confusing and overkill, performance-wise.","body":"While this solution is clever, it&#39;s horrible because it requires creating and instantiating objects for the mere goal of avoiding scopes. I&#39;d refuse this in any code review based on the fact that it&#39;s confusing and overkill, performance-wise."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1611157171,"post_id":48778719,"comment_id":116361606,"body_markdown":"@OlivierGr&#233;goire I&#39;ll grant that it&#39;s confusing at first glance, but I&#39;m not sure why you think there&#39;s a performance concern. Most of the solutions here involve object creation.","body":"@OlivierGr&#233;goire I&#39;ll grant that it&#39;s confusing at first glance, but I&#39;m not sure why you think there&#39;s a performance concern. Most of the solutions here involve object creation."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":12,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1518575052,"creation_date":1518575052,"answer_id":48778719,"question_id":28790784,"body_markdown":"If you don&#39;t want to create a field because you only need it locally, you can store it in an anonymous class:\r\n\r\n    int runCount = new Object() {\r\n        int runCount = 0;\r\n        {\r\n            myStream.stream()\r\n                    .filter(...)\r\n                    .peek(x -&gt; runCount++)\r\n                    .forEach(...);\r\n        }\r\n    }.runCount;\r\n\r\nWeird, I know. But it does keep the temporary variable out of even local scope.","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>If you don't want to create a field because you only need it locally, you can store it in an anonymous class:</p>\n\n<pre><code>int runCount = new Object() {\n    int runCount = 0;\n    {\n        myStream.stream()\n                .filter(...)\n                .peek(x -&gt; runCount++)\n                .forEach(...);\n    }\n}.runCount;\n</code></pre>\n\n<p>Weird, I know. But it does keep the temporary variable out of even local scope.</p>\n"},{"comments":[{"owner":{"account_id":2871578,"reputation":1037,"user_id":2464815,"display_name":"Sasha Bond"},"score":0,"creation_date":1646246490,"post_id":56998364,"comment_id":126078126,"body_markdown":"i have        \n```\n AtomicInteger rowCount = new AtomicInteger(0);\n items.stream()\n\t.map(x -&gt; (String.format(&quot;%3s. %-45s - count: %s&quot;, rowCount.getAndIncrement(), x.getName(), x.getSize())))\n\t.forEach(System.out::println);\n```","body":"i have         ```  AtomicInteger rowCount = new AtomicInteger(0);  items.stream() \t.map(x -&gt; (String.format(&quot;%3s. %-45s - count: %s&quot;, rowCount.getAndIncrement(), x.getName(), x.getSize()))) \t.forEach(System.out::println); ```"}],"tags":[],"owner":{"account_id":15367022,"reputation":514,"user_id":11086231,"display_name":"Jos&#233; Ripoll"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1609796308,"creation_date":1562886586,"answer_id":56998364,"question_id":28790784,"body_markdown":"For me, this did the trick, hopefully someone finds it useful:\r\n\r\n    AtomicInteger runCount = new AtomicInteger(0);\r\n    myStream.stream().filter(...).forEach(item -&gt; runCount.getAndIncrement());\r\n    System.out.println(&quot;The lambda ran &quot; + runCount.get() + &quot;times&quot;);\r\n\r\n`getAndIncrement()` Java documentation states :\r\n\r\n&gt; Atomically increments the current value, with memory effects as\r\n&gt; specified by VarHandle.getAndAdd. Equivalent to getAndAdd(1).","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>For me, this did the trick, hopefully someone finds it useful:</p>\n<pre><code>AtomicInteger runCount = new AtomicInteger(0);\nmyStream.stream().filter(...).forEach(item -&gt; runCount.getAndIncrement());\nSystem.out.println(&quot;The lambda ran &quot; + runCount.get() + &quot;times&quot;);\n</code></pre>\n<p><code>getAndIncrement()</code> Java documentation states :</p>\n<blockquote>\n<p>Atomically increments the current value, with memory effects as\nspecified by VarHandle.getAndAdd. Equivalent to getAndAdd(1).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14832450,"reputation":51,"user_id":10711572,"display_name":"yao.qingdong"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564653738,"creation_date":1564653738,"answer_id":57306533,"question_id":28790784,"body_markdown":"reduce also works,you can use it like this\r\n```\r\nmyStream.stream().filter(...).reduce((item, sum) -&gt; sum += item);\r\n```","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>reduce also works,you can use it like this</p>\n\n<pre><code>myStream.stream().filter(...).reduce((item, sum) -&gt; sum += item);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50932,"reputation":6550,"user_id":152061,"accept_rate":80,"display_name":"Brad Cupit"},"score":1,"creation_date":1581008535,"post_id":57395001,"comment_id":106295093,"body_markdown":"There&#39;s a few Holder classes in the JDK. This one seems to be `javax.xml.ws.Holder`.","body":"There&#39;s a few Holder classes in the JDK. This one seems to be <code>javax.xml.ws.Holder</code>."},{"owner":{"account_id":127041,"reputation":4746,"user_id":323941,"accept_rate":94,"display_name":"lkahtz"},"score":3,"creation_date":1595401325,"post_id":57395001,"comment_id":111457606,"body_markdown":"Really? And why?","body":"Really? And why?"},{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":2,"creation_date":1602979572,"post_id":57395001,"comment_id":113891295,"body_markdown":"I agree - if I know I&#39;m not doing any concurrent operations in the lamda/stream why would I want to use AtomicInteger that is designed to cater for concurrency - that might introduce locking etc., i.e. the reason why, many years ago, the JDK introduced the new set of collections and their iterators that did not perform any locking - why burden something with a performance reducing capability e.g. locking when locking is not required for many scenarios.","body":"I agree - if I know I&#39;m not doing any concurrent operations in the lamda/stream why would I want to use AtomicInteger that is designed to cater for concurrency - that might introduce locking etc., i.e. the reason why, many years ago, the JDK introduced the new set of collections and their iterators that did not perform any locking - why burden something with a performance reducing capability e.g. locking when locking is not required for many scenarios."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1611000022,"post_id":57395001,"comment_id":116305339,"body_markdown":"Linkservice: [`javax.xml.ws.Holder&lt;T&gt;`](https://docs.oracle.com/javaee/7/api/javax/xml/ws/Holder.html).","body":"Linkservice: <a href=\"https://docs.oracle.com/javaee/7/api/javax/xml/ws/Holder.html\" rel=\"nofollow noreferrer\"><code>javax.xml.ws.Holder&lt;T&gt;</code></a>."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":2,"creation_date":1611138099,"post_id":57395001,"comment_id":116351688,"body_markdown":"`Stream.forEach` is explicitly nondeterministic so using `Holder` might or might not work depending on the underlying stream.","body":"<code>Stream.forEach</code> is explicitly nondeterministic so using <code>Holder</code> might or might not work depending on the underlying stream."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1611146564,"post_id":57395001,"comment_id":116355783,"body_markdown":"@michid [`Stream.forEach`](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)) is nondeterministic regarding _the order_ of its items but _not_ regarding the count of iterations: „_Performs an action for each element of this stream._ [...] _For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream_“.","body":"@michid <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Stream.forEach</code></a> is nondeterministic regarding <i>the order</i> of its items but <i>not</i> regarding the count of iterations: „<i>Performs an action for each element of this stream.</i> [...] <i>For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream</i>“."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":2,"creation_date":1611148894,"post_id":57395001,"comment_id":116357072,"body_markdown":"@GeroldBroser it is also non deterministic regarding the calling thread: &quot;For any given element, the action may be performed at whatever time and in whatever thread the library chooses&quot;. This can result in race conditions rendering the result invalid.","body":"@GeroldBroser it is also non deterministic regarding the calling thread: &quot;For any given element, the action may be performed at whatever time and in whatever thread the library chooses&quot;. This can result in race conditions rendering the result invalid."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1611153268,"post_id":57395001,"comment_id":116359351,"body_markdown":"@michid I see.That means I have to use `synchronized int inc()` in [my `enum` solution](https://stackoverflow.com/a/65780941/1744774),right?","body":"@michid I see.That means I have to use <code>synchronized int inc()</code> in <a href=\"https://stackoverflow.com/a/65780941/1744774\">my <code>enum</code> solution</a>,right?"},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1611416447,"post_id":57395001,"comment_id":116446708,"body_markdown":"@GeroldBroser, yes synchronized should work. However, in general I try to stay away from relying on side effects when dealing with streams and lambdas. In cases like this I prefer good old loops.","body":"@GeroldBroser, yes synchronized should work. However, in general I try to stay away from relying on side effects when dealing with streams and lambdas. In cases like this I prefer good old loops."}],"tags":[],"owner":{"account_id":13028763,"reputation":346,"user_id":9415841,"display_name":"Ahmet Orhan"},"comment_count":9,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1565182899,"creation_date":1565182506,"answer_id":57395001,"question_id":28790784,"body_markdown":"You **shouldn&#39;t** use AtomicInteger, you shouldn&#39;t use things unless you have a really good reason to use. And the reason for using AtomicInteger might be only allowing concurrent accesses or such as.  \r\n\r\n\r\n**When it comes to your problem;** \r\n\r\nHolder&lt;T&gt; can be use for holding and incrementing it inside a lambda. And after you can get it by calling runCount.value\r\n  \r\n    Holder&lt;Integer&gt; runCount = new Holder&lt;&gt;(0);\r\n\r\n    myStream.stream()\r\n        .filter(...)\r\n        .forEach(item -&gt; { \r\n            foo();\r\n            bar();\r\n            runCount.value++; // now it&#39;s work fine!\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot; times&quot;);\r\n\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>You <strong>shouldn't</strong> use AtomicInteger, you shouldn't use things unless you have a really good reason to use. And the reason for using AtomicInteger might be only allowing concurrent accesses or such as.  </p>\n\n<p><strong>When it comes to your problem;</strong> </p>\n\n<p>Holder can be use for holding and incrementing it inside a lambda. And after you can get it by calling runCount.value</p>\n\n<pre><code>Holder&lt;Integer&gt; runCount = new Holder&lt;&gt;(0);\n\nmyStream.stream()\n    .filter(...)\n    .forEach(item -&gt; { \n        foo();\n        bar();\n        runCount.value++; // now it's work fine!\n    });\nSystem.out.println(\"The lambda ran \" + runCount + \" times\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769570,"reputation":1588,"user_id":1614680,"display_name":"tsunllly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568049912,"creation_date":1568049912,"answer_id":57858603,"question_id":28790784,"body_markdown":"    AtomicInteger runCount = new AtomicInteger(0);\r\n\r\n    elements.stream()\r\n      //...\r\n      .peek(runCount.incrementAndGet())\r\n      .collect(Collectors.toList());\r\n\r\n    // runCount.get() should have the num of times lambda code was executed","title":"Java 8: preferred way to count iterations of a lambda?","body":"<pre><code>AtomicInteger runCount = new AtomicInteger(0);\n\nelements.stream()\n  //...\n  .peek(runCount.incrementAndGet())\n  .collect(Collectors.toList());\n\n// runCount.get() should have the num of times lambda code was executed\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1611000655,"post_id":61915567,"comment_id":116305529,"body_markdown":"Linkservice: [`org.apache.commons.lang.mutable.MutableInt`](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/mutable/MutableInt.html)","body":"Linkservice: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/mutable/MutableInt.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.lang.mutable.MutableInt</code></a>"}],"tags":[],"owner":{"account_id":12938628,"reputation":111,"user_id":9355169,"display_name":"Vojtěch Fried"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589984655,"creation_date":1589984655,"answer_id":61915567,"question_id":28790784,"body_markdown":"Another alternative is to use apache commons MutableInt.\r\n\r\n    MutableInt cnt = new MutableInt(0);\r\n    myStream.stream()\r\n        .filter(...)\r\n        .forEach(item -&gt; { \r\n            foo();\r\n            bar();\r\n            cnt.increment();\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + cnt.getValue() + &quot; times&quot;);","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>Another alternative is to use apache commons MutableInt.</p>\n\n<pre><code>MutableInt cnt = new MutableInt(0);\nmyStream.stream()\n    .filter(...)\n    .forEach(item -&gt; { \n        foo();\n        bar();\n        cnt.increment();\n    });\nSystem.out.println(\"The lambda ran \" + cnt.getValue() + \" times\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611189304,"creation_date":1610998307,"answer_id":65780941,"question_id":28790784,"body_markdown":"An `enum` can be used, too. Especially if you have more than one counter in an iteration:\r\n````lang-java\r\nimport java.util.Arrays;\r\n\r\nclass LambdaCounter {\r\n\r\n\tenum CountOf {\r\n\r\n\t\tNO,\r\n\t\tOK,\r\n\t\tERROR;\r\n\r\n\t\tprivate int count;\r\n\r\n\t\t// can be named inc(), instead of the Greek capital Delta,\r\n\t\t// which stands for the math increment operator &#39;∆&#39; &lt;https://en.wikipedia.org/wiki/%E2%88%86&gt;\r\n\t\tsynchronized int Δ( final int... times ) {\r\n\r\n\t\t\tif ( times.length &lt;= 0 )\r\n\t\t\t\treturn ++count; // increase by 1\r\n\r\n\t\t\treturn count += Arrays.stream( times ).sum(); // increase by arguments\r\n\t\t}\r\n\r\n\t\t// can be named val[ue](), instead of the Greek capital Xi,\r\n\t\t// which stands for the math identity operator &#39;≡&#39; &lt;https://en.wikipedia.org/wiki/Triple_bar&gt;\r\n\t\tint Ξ() {\r\n\t\t\treturn count;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main( final String[] args ) {\r\n\r\n\t\tArrays.stream( new int[] { 1, 2, 3, 4, 5, 6, 7 } )\r\n\t\t    .forEach( i -&gt; {\r\n\t\t\t    CountOf.NO.Δ();\r\n\t\t\t    @SuppressWarnings( &quot;unused&quot; )\r\n\t\t\t    final int LHS_DUMMY =\r\n\t\t\t        i % 2 == 0\r\n\t\t\t            ? CountOf.OK.Δ()\r\n\t\t\t            : CountOf.ERROR.Δ();\r\n\t\t    } );\r\n\t\tSystem.out.printf( &quot;No: %d, OK: %d, Error: %d, Error.inc(38): %d, Error.inc(4, 4): %d%n&quot;,\r\n\t\t    CountOf.NO.Ξ(), CountOf.OK.Ξ(), CountOf.ERROR.Ξ(), CountOf.ERROR.Δ( 38 ), CountOf.ERROR.Δ( 4, 4 ) );\r\n\r\n\t\t// Output:\r\n\t\t// No: 7, OK: 3, Error: 4, Error.inc(38): 42, Error.inc(4, 4): 50\r\n\t}\r\n}","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>An <code>enum</code> can be used, too. Especially if you have more than one counter in an iteration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass LambdaCounter {\n\n    enum CountOf {\n\n        NO,\n        OK,\n        ERROR;\n\n        private int count;\n\n        // can be named inc(), instead of the Greek capital Delta,\n        // which stands for the math increment operator '∆' &lt;https://en.wikipedia.org/wiki/%E2%88%86&gt;\n        synchronized int Δ( final int... times ) {\n\n            if ( times.length &lt;= 0 )\n                return ++count; // increase by 1\n\n            return count += Arrays.stream( times ).sum(); // increase by arguments\n        }\n\n        // can be named val[ue](), instead of the Greek capital Xi,\n        // which stands for the math identity operator '≡' &lt;https://en.wikipedia.org/wiki/Triple_bar&gt;\n        int Ξ() {\n            return count;\n        }\n    }\n\n    public static void main( final String[] args ) {\n\n        Arrays.stream( new int[] { 1, 2, 3, 4, 5, 6, 7 } )\n            .forEach( i -&gt; {\n                CountOf.NO.Δ();\n                @SuppressWarnings( &quot;unused&quot; )\n                final int LHS_DUMMY =\n                    i % 2 == 0\n                        ? CountOf.OK.Δ()\n                        : CountOf.ERROR.Δ();\n            } );\n        System.out.printf( &quot;No: %d, OK: %d, Error: %d, Error.inc(38): %d, Error.inc(4, 4): %d%n&quot;,\n            CountOf.NO.Ξ(), CountOf.OK.Ξ(), CountOf.ERROR.Ξ(), CountOf.ERROR.Δ( 38 ), CountOf.ERROR.Δ( 4, 4 ) );\n\n        // Output:\n        // No: 7, OK: 3, Error: 4, Error.inc(38): 42, Error.inc(4, 4): 50\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"score":0,"creation_date":1690704882,"post_id":66813006,"comment_id":135388476,"body_markdown":"I like the &quot;style&quot; of this solution as it&#39;s purely functional and doesn&#39;t rely on shared mutable state. Note however, that comments and the resolution of the OpenJDK ticket make it clear that the observed behaviour is not a bug but rather a performance enhancement.  This is because the `count()` terminal operation can determine its result without even invoking the `peek()` portion of the pipeline; since `peek()` cannot alter the actual count.","body":"I like the &quot;style&quot; of this solution as it&#39;s purely functional and doesn&#39;t rely on shared mutable state. Note however, that comments and the resolution of the OpenJDK ticket make it clear that the observed behaviour is not a bug but rather a performance enhancement.  This is because the <code>count()</code> terminal operation can determine its result without even invoking the <code>peek()</code> portion of the pipeline; since <code>peek()</code> cannot alter the actual count."}],"tags":[],"owner":{"account_id":13532828,"reputation":51,"user_id":9762778,"display_name":"xhaggi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690645485,"creation_date":1616745624,"answer_id":66813006,"question_id":28790784,"body_markdown":"For me, this is the most elegant way.\r\n\r\n    long count = list.stream()\r\n      .peek(/* do your stuff here */)\r\n      .count();\r\n\r\nThere is a bug in JDK 9,10 that prevents the above solution from working, but you can work around it as follows.\r\nhttps://bugs.openjdk.java.net/browse/JDK-8198356\r\n\r\n    long count = list.stream()\r\n      .peek(/* do your stuff here */)\r\n      .collect(Collectors.counting());\r\n\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>For me, this is the most elegant way.</p>\n<pre><code>long count = list.stream()\n  .peek(/* do your stuff here */)\n  .count();\n</code></pre>\n<p>There is a bug in JDK 9,10 that prevents the above solution from working, but you can work around it as follows.\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8198356\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8198356</a></p>\n<pre><code>long count = list.stream()\n  .peek(/* do your stuff here */)\n  .collect(Collectors.counting());\n</code></pre>\n"}],"owner":{"display_name":"user4159962"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117806,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"answer_count":12,"score":113,"last_activity_date":1690645485,"creation_date":1425191082,"question_id":28790784,"body_markdown":"I face the same problem often. I need to count the runs of a *lambda* for use outside the *lambda*.\r\n\r\nE.g.:\r\n\r\n    myStream.stream().filter(...).forEach(item -&gt; { ... ; runCount++});\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot;times&quot;);\r\n\r\nThe issue is that *runCount* needs to be `final`, so it cannot be an `int`. It cannot be an `Integer` because that&#39;s *immutable*. I could make it class level variable (i.e. a field) but I&#39;ll only need it in this block of code.\r\n\r\nI know there are various ways, I&#39;m just curious what is your preferred solution for this?  \r\nDo you use an `AtomicInteger` or an array reference or some other way?  \r\n\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>I face the same problem often. I need to count the runs of a <em>lambda</em> for use outside the <em>lambda</em>.</p>\n<p>E.g.:</p>\n<pre><code>myStream.stream().filter(...).forEach(item -&gt; { ... ; runCount++});\nSystem.out.println(&quot;The lambda ran &quot; + runCount + &quot;times&quot;);\n</code></pre>\n<p>The issue is that <em>runCount</em> needs to be <code>final</code>, so it cannot be an <code>int</code>. It cannot be an <code>Integer</code> because that's <em>immutable</em>. I could make it class level variable (i.e. a field) but I'll only need it in this block of code.</p>\n<p>I know there are various ways, I'm just curious what is your preferred solution for this?<br />\nDo you use an <code>AtomicInteger</code> or an array reference or some other way?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":8112068,"reputation":594,"user_id":6111835,"display_name":"Cortex"},"score":3,"creation_date":1645492748,"post_id":67893986,"comment_id":125880731,"body_markdown":"+1 up for including the source, I upgraded to Spring Boot 2.5.9 from 2.4.12 and my /info stopped. I knew it became disabled but couldn&#39;t find the source.","body":"+1 up for including the source, I upgraded to Spring Boot 2.5.9 from 2.4.12 and my /info stopped. I knew it became disabled but couldn&#39;t find the source."}],"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1690644550,"creation_date":1623183072,"answer_id":67893986,"question_id":67893857,"body_markdown":"The correct property for exposing actuator urls over http is `management.endpoints.web.​exposure.include` (`web` instead of `jmx`).\r\n\r\nIn your case, `info` was exposed earlier not because you had the property you&#39;ve provided but because it was exposed by default (along with `health`). But in **2.5.0** _it becomes hidden_, it according with [Spring Boot 2.5 Release Notes - Secure Info Endpoint][1]. So now you need to expose it manually.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#secure-info-endpoint","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>The correct property for exposing actuator urls over http is <code>management.endpoints.web.​exposure.include</code> (<code>web</code> instead of <code>jmx</code>).</p>\n<p>In your case, <code>info</code> was exposed earlier not because you had the property you've provided but because it was exposed by default (along with <code>health</code>). But in <strong>2.5.0</strong> <em>it becomes hidden</em>, it according with <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#secure-info-endpoint\" rel=\"nofollow noreferrer\">Spring Boot 2.5 Release Notes - Secure Info Endpoint</a>. So now you need to expose it manually.</p>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1630929124,"creation_date":1630929124,"answer_id":69074091,"question_id":67893857,"body_markdown":"In my case, which was a silly mistake, I had the following dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nInstead of:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nSo I kept on getting Whitelabel Error Page 404 Not found on all /actuator calls\r\n\r\nIn application.properties\r\n\r\n    #Actuator\r\n    management.endpoints.jmx.exposure.include=health,info,env,beans\r\n    management.endpoints.web.exposure.include=health,info,env,beans\r\n\r\n","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>In my case, which was a silly mistake, I had the following dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Instead of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So I kept on getting Whitelabel Error Page 404 Not found on all /actuator calls</p>\n<p>In application.properties</p>\n<pre><code>#Actuator\nmanagement.endpoints.jmx.exposure.include=health,info,env,beans\nmanagement.endpoints.web.exposure.include=health,info,env,beans\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7927101,"reputation":141,"user_id":5986239,"display_name":"tomikmar"},"score":0,"creation_date":1647620514,"post_id":70121811,"comment_id":126424471,"body_markdown":"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#actuator-env-infocontributor-disabled-by-default","body":"<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#actuator-env-infocontributor-disabled-by-default\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1647712872,"creation_date":1637917143,"answer_id":70121811,"question_id":67893857,"body_markdown":"Add this to application properties to expose the /info endpoint.\r\n\r\n    management.info.env.enabled = true","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>Add this to application properties to expose the /info endpoint.</p>\n<pre><code>management.info.env.enabled = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647289256,"creation_date":1647289256,"answer_id":71473792,"question_id":67893857,"body_markdown":"Here is a basic gradle build (kotlin dsl) to have three default available endpoints for actuator:\r\n\r\ngradle.build.kts\r\n\r\n    build.gradle.kts\r\n        //Global variables\r\n        val junitVersion = &quot;5.8.2&quot;\r\n        val springVersion = &quot;2.6.4&quot;\r\n        val springWebVersion = &quot;5.3.16&quot;\r\n        \r\n        plugins {\r\n            java\r\n            id(&quot;org.springframework.boot&quot;) version &quot;2.6.4&quot;\r\n        \r\n        }\r\n        \r\n        group = &quot;org.example&quot;\r\n        version = &quot;1.0-SNAPSHOT&quot;\r\n        \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        \r\n        dependencies {\r\n            testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\r\n            testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\r\n        \r\n            //spring boot\r\n            implementation(&quot;org.springframework:spring-web:$springWebVersion&quot;)\r\n            implementation(&quot;org.springframework.boot:spring-boot-starter-web:$springVersion&quot;)\r\n            implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:$springVersion&quot;)\r\n            testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:$springVersion&quot;)\r\n        \r\n        }\r\n        \r\n        tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n            useJUnitPlatform()\r\n        }\r\n\r\n\r\napplication.yml\r\n\r\n    #tomcat\r\n    server:\r\n      port: 7999\r\n    \r\n    #actuator\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: health,info,env,beans\r\n\r\n\r\ngradlew bootRun:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/16akg.png\r\n\r\n\r\nActuator endpoint, e.g.:\r\n\r\n    http://localhost:7999/actuator/health\r\n\r\n\r\n","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>Here is a basic gradle build (kotlin dsl) to have three default available endpoints for actuator:</p>\n<p>gradle.build.kts</p>\n<pre><code>build.gradle.kts\n    //Global variables\n    val junitVersion = &quot;5.8.2&quot;\n    val springVersion = &quot;2.6.4&quot;\n    val springWebVersion = &quot;5.3.16&quot;\n    \n    plugins {\n        java\n        id(&quot;org.springframework.boot&quot;) version &quot;2.6.4&quot;\n    \n    }\n    \n    group = &quot;org.example&quot;\n    version = &quot;1.0-SNAPSHOT&quot;\n    \n    repositories {\n        mavenCentral()\n    }\n    \n    dependencies {\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\n    \n        //spring boot\n        implementation(&quot;org.springframework:spring-web:$springWebVersion&quot;)\n        implementation(&quot;org.springframework.boot:spring-boot-starter-web:$springVersion&quot;)\n        implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:$springVersion&quot;)\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:$springVersion&quot;)\n    \n    }\n    \n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n        useJUnitPlatform()\n    }\n</code></pre>\n<p>application.yml</p>\n<pre><code>#tomcat\nserver:\n  port: 7999\n\n#actuator\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,env,beans\n</code></pre>\n<p>gradlew bootRun:</p>\n<p><a href=\"https://i.stack.imgur.com/16akg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/16akg.png\" alt=\"enter image description here\" /></a></p>\n<p>Actuator endpoint, e.g.:</p>\n<pre><code>http://localhost:7999/actuator/health\n</code></pre>\n"},{"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1667903595,"post_id":73189480,"comment_id":131273439,"body_markdown":"thx , I hv indented &#39;info&#39; inside &#39;management&#39; and wondered why it was not showing up.","body":"thx , I hv indented &#39;info&#39; inside &#39;management&#39; and wondered why it was not showing up."}],"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661021043,"creation_date":1659334549,"answer_id":73189480,"question_id":67893857,"body_markdown":"You have to enable ```management.info.env.enabled``` ```true``` and you can add any kind of details that you want inside of the property file. like below. and make sure to enable ```info``` for web.exposure. all the configurations are like below. \r\n\r\n\r\n----------\r\n## .properties ##\r\n\r\n```.properties\r\n#enable /actuator/info\r\nmanagement.info.env.enabled=true\r\nmanagement.endpoints.web.exposure.include=info\r\n\r\n#custom properties\r\ninfo.app.name=order-service\r\ninfo.app.version=1.0.0\r\ninfo.app.description=you can insert any kind of data in the property file like this\r\ninfo.author=mafei\r\n```\r\n\r\n## .ymal ##\r\n\r\n```.ymal\r\n#enable /actuator/info\r\nmanagement:\r\n  info:\r\n    env:\r\n      enabled: true\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: info\r\n\r\n#custom properties\r\ninfo:\r\n  app:\r\n    name: order-service\r\n    version: 1.0.0\r\n    description: you can insert any kind of data in the property file like this\r\n  author: mafei\r\n```\r\nYou can see the result here.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nySNc.png","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>You have to enable <code>management.info.env.enabled</code> <code>true</code> and you can add any kind of details that you want inside of the property file. like below. and make sure to enable <code>info</code> for web.exposure. all the configurations are like below.</p>\n<hr />\n<h2>.properties</h2>\n<pre><code>#enable /actuator/info\nmanagement.info.env.enabled=true\nmanagement.endpoints.web.exposure.include=info\n\n#custom properties\ninfo.app.name=order-service\ninfo.app.version=1.0.0\ninfo.app.description=you can insert any kind of data in the property file like this\ninfo.author=mafei\n</code></pre>\n<h2>.ymal</h2>\n<pre><code>#enable /actuator/info\nmanagement:\n  info:\n    env:\n      enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: info\n\n#custom properties\ninfo:\n  app:\n    name: order-service\n    version: 1.0.0\n    description: you can insert any kind of data in the property file like this\n  author: mafei\n</code></pre>\n<p>You can see the result here.</p>\n<p><a href=\"https://i.stack.imgur.com/nySNc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nySNc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672775316,"creation_date":1672775316,"answer_id":74998021,"question_id":67893857,"body_markdown":"you need to check many things to be sure to endpoint URL like info, health, and beans...etc by Actuator \r\n\r\n - The First point you must check if the actuator exists on your\r\n   project or not if doesn&#39;t exist, you need to add the following\r\n   dependency.\r\n\r\n            &lt;!--to enable actuator help to trace project--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n - You need to add the following scripts to your application.yml to\r\n   enable the actuator and Prometheus by actuator.\r\n\r\n\r\n\r\n.\r\n\r\n     management:\r\n      security:\r\n        enabled: false\r\n      server:\r\n        port: 9000\r\n      endpoint:\r\n        metrics:\r\n          enabled: true\r\n        prometheus:\r\n          enabled: true\r\n        health:\r\n          show-details: always\r\n          show-components: always\r\n          probes:\r\n            enabled: true\r\n        shutdown:\r\n          enabled: true\r\n        info:\r\n          env:\r\n            enabled: true\r\n          enabled: true\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: prometheus, metrics, info, health, shutdown, beans\r\n\r\nusing the above script the actuator will run on **port 9000** and you can send a request to the following URL to access the actuator.\r\n\r\nhttp://localhost:9000/actuator\r\n\r\n**and the following URL to access info path**\r\n\r\nhttp://localhost:9000/actuator/info\r\n\r\n**Note**: you must check where you are writing your script because I was confused between **endpoint** and **endpoints**\r\n\r\n - The **endpoint** to set the actuator config.\r\n - The **endpoints** to set the actuator **URLs endpoint**\r\n\r\n**Note:** you can delete the port from ``` application.yml``` and the actuator will run by current application port\r\n\r\n**best luck**\r\n\r\n","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>you need to check many things to be sure to endpoint URL like info, health, and beans...etc by Actuator</p>\n<ul>\n<li><p>The First point you must check if the actuator exists on your\nproject or not if doesn't exist, you need to add the following\ndependency.</p>\n<pre><code>     &lt;!--to enable actuator help to trace project--&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>You need to add the following scripts to your application.yml to\nenable the actuator and Prometheus by actuator.</p>\n</li>\n</ul>\n<p>.</p>\n<pre><code> management:\n  security:\n    enabled: false\n  server:\n    port: 9000\n  endpoint:\n    metrics:\n      enabled: true\n    prometheus:\n      enabled: true\n    health:\n      show-details: always\n      show-components: always\n      probes:\n        enabled: true\n    shutdown:\n      enabled: true\n    info:\n      env:\n        enabled: true\n      enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: prometheus, metrics, info, health, shutdown, beans\n</code></pre>\n<p>using the above script the actuator will run on <strong>port 9000</strong> and you can send a request to the following URL to access the actuator.</p>\n<p>http://localhost:9000/actuator</p>\n<p><strong>and the following URL to access info path</strong></p>\n<p>http://localhost:9000/actuator/info</p>\n<p><strong>Note</strong>: you must check where you are writing your script because I was confused between <strong>endpoint</strong> and <strong>endpoints</strong></p>\n<ul>\n<li>The <strong>endpoint</strong> to set the actuator config.</li>\n<li>The <strong>endpoints</strong> to set the actuator <strong>URLs endpoint</strong></li>\n</ul>\n<p><strong>Note:</strong> you can delete the port from <code> application.yml</code> and the actuator will run by current application port</p>\n<p><strong>best luck</strong></p>\n"}],"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30065,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":67893986,"answer_count":6,"score":23,"last_activity_date":1690644550,"creation_date":1623182425,"question_id":67893857,"body_markdown":"I upgraded spring boot version in my app from 2.4.4 to 2.5.0 and it stopped exposing /actuator/info endpoint. Here is the pom.xml and application.yml\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ms&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-boot-test&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;layers&gt;\r\n\t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;/layers&gt;\r\n                &lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**application.yml**\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    jmx:\r\n      exposure:\r\n        include: &quot;health,info&quot;\r\n```\r\n\r\nWith spring boot parent version 2.4.4, the application is able to expose info endpoint but not with 2.5.0. ","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>I upgraded spring boot version in my app from 2.4.4 to 2.5.0 and it stopped exposing /actuator/info endpoint. Here is the pom.xml and application.yml</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ms&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;layers&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/layers&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>management:\n  endpoints:\n    jmx:\n      exposure:\n        include: &quot;health,info&quot;\n</code></pre>\n<p>With spring boot parent version 2.4.4, the application is able to expose info endpoint but not with 2.5.0.</p>\n"},{"tags":["java","docker","dockerfile","selenium-chromedriver","alpine-linux"],"comments":[{"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"score":0,"creation_date":1690644229,"post_id":76790344,"comment_id":135383834,"body_markdown":"i was able to solve the problem. packages: at-spi2-atk and atk, should be replaced with package: at-spi2-core ;)","body":"i was able to solve the problem. packages: at-spi2-atk and atk, should be replaced with package: at-spi2-core ;)"}],"answers":[{"tags":[],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690644393,"creation_date":1690644393,"answer_id":76794252,"question_id":76790344,"body_markdown":"i was able to solve the problem. \r\npackages: at-spi2-atk and atk, should be replaced with package: at-spi2-core.\r\nnow it is working","title":"Dockerfile (FROM azul/zulu-openjdk-alpine:17-jre) chromedriver java","body":"<p>i was able to solve the problem.\npackages: at-spi2-atk and atk, should be replaced with package: at-spi2-core.\nnow it is working</p>\n"}],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794252,"answer_count":1,"score":0,"last_activity_date":1690644393,"creation_date":1690569813,"question_id":76790344,"body_markdown":"I have Dockerfile code, that works correct 3 months ago and now don&#39;t work :/\r\nDo you know what is the problem ?\r\n\r\nmy code:\r\n\r\n    FROM azul/zulu-openjdk-alpine:17-jre\r\n    \r\n    RUN addgroup -S spring &amp;&amp; adduser -D -S spring -G spring\r\n    \r\n    RUN mkdir -p data/log/zocdocbot\r\n    RUN find data/log/zocdocbot/ -type d -exec chmod 0777 {} \\;\r\n    RUN find data/log/zocdocbot/ -type f -exec chmod 777 {} \\;\r\n    \r\n    RUN mkdir -p data/screenshot\r\n    RUN find data/screenshot/ -type d -exec chmod 0777 {} \\;\r\n    RUN find data/screenshot/ -type f -exec chmod 777 {} \\;\r\n    \r\n    RUN mkdir -p config/driver/chromedriver-linux\r\n    RUN find config/ -type d -exec chmod 0777 {} \\;\r\n    RUN find config/ -type f -exec chmod 777 {} \\;\r\n    RUN find config/driver/chromedriver-linux/ -type d -exec chmod 0777 {} \\;\r\n    RUN find config/driver/chromedriver-linux/ -type f -exec chmod 777 {} \\;\r\n    \r\n    ADD config/ /config/\r\n    RUN chmod 0777 /config/zocdocbot.properties\r\n    RUN chmod 0777 /config/driver/chromedriver-linux/chromedriver\r\n    \r\n    RUN apk update &amp;&amp; apk add --no-cache bash \\\r\n        alsa-lib \\\r\n        at-spi2-atk \\\r\n        atk \\\r\n        cairo \\\r\n        cups-libs \\\r\n        dbus-libs \\\r\n        eudev-libs \\\r\n        expat \\\r\n        flac \\\r\n        gdk-pixbuf \\\r\n        glib \\\r\n        libgcc \\\r\n        libjpeg-turbo \\\r\n        libpng \\\r\n        libwebp \\\r\n        libx11 \\\r\n        libxcomposite \\\r\n        libxdamage \\\r\n        libxext \\\r\n        libxfixes \\\r\n        tzdata \\\r\n        libexif \\\r\n        udev \\\r\n        xvfb \\\r\n        zlib-dev \\\r\n        chromium \\\r\n        chromium-chromedriver \\\r\n        &amp;&amp; rm -rf /var/cache/apk/* \\\r\n        /usr/share/man \\\r\n        /tmp/*\r\n    \r\n    RUN chown -R spring:spring /data\r\n    USER spring:spring\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} bot-app.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Xmx248M&quot;,&quot;-Xss512K&quot;,&quot;-XX:+UseContainerSupport&quot;,&quot;-Xlog:gc&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\r\n    \r\n    EXPOSE 8080\r\n    EXPOSE 4444\r\n    EXPOSE 9222\r\n    EXPOSE 9223\r\n    \r\n    ENV PATH=&quot;/usr/bin/chromedriver:${PATH}&quot;\r\n    \r\n    ENV JAVA_OPTS=&quot;-Xmx250M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\r\n    ENV JVM_OPTS=&quot;-Xmx246M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\r\n\r\n\r\nand after run i have error:\r\n\r\n    Jul 28 07:53:34 PM  #23 0.396 OK: 17824 distinct packages available\r\n    Jul 28 07:53:34 PM  #23 0.433 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\r\n    Jul 28 07:53:34 PM  #23 0.564 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\r\n    Jul 28 07:53:35 PM  #23 0.783 ERROR: unable to select packages:\r\n    Jul 28 07:53:35 PM  #23 0.814   at-spi2-atk (no such package):\r\n    Jul 28 07:53:35 PM  #23 0.814     required by: world[at-spi2-atk]\r\n    Jul 28 07:53:35 PM  #23 0.814   atk (no such package):\r\n    Jul 28 07:53:35 PM  #23 0.814     required by: world[atk]\r\n    Jul 28 07:53:35 PM  #23 ERROR: process &quot;/bin/sh -c apk update &amp;&amp; apk add --no-cache bash     alsa-lib     at-spi2-atk     atk     cairo     cups-libs     dbus-libs     eudev-libs     expat     flac     gdk-pixbuf     glib     libgcc     libjpeg-turbo     libpng     libwebp     libx11     libxcomposite     libxdamage     libxext     libxfixes     tzdata     libexif     udev     xvfb     zlib-dev     chromium     chromium-chromedriver     &amp;&amp; rm -rf /var/cache/apk/*     /usr/share/man     /tmp/*&quot; did not complete successfully: exit code: 2\r\n\r\n\r\ni look for in google but i cant find any solution :/ Is this problem with some arguments or with the image ?\r\ncan i replace this image with another one that will be similar to chromedriver and take up little space?\r\n\r\nregards\r\n\r\n\r\n","title":"Dockerfile (FROM azul/zulu-openjdk-alpine:17-jre) chromedriver java","body":"<p>I have Dockerfile code, that works correct 3 months ago and now don't work :/\nDo you know what is the problem ?</p>\n<p>my code:</p>\n<pre><code>FROM azul/zulu-openjdk-alpine:17-jre\n\nRUN addgroup -S spring &amp;&amp; adduser -D -S spring -G spring\n\nRUN mkdir -p data/log/zocdocbot\nRUN find data/log/zocdocbot/ -type d -exec chmod 0777 {} \\;\nRUN find data/log/zocdocbot/ -type f -exec chmod 777 {} \\;\n\nRUN mkdir -p data/screenshot\nRUN find data/screenshot/ -type d -exec chmod 0777 {} \\;\nRUN find data/screenshot/ -type f -exec chmod 777 {} \\;\n\nRUN mkdir -p config/driver/chromedriver-linux\nRUN find config/ -type d -exec chmod 0777 {} \\;\nRUN find config/ -type f -exec chmod 777 {} \\;\nRUN find config/driver/chromedriver-linux/ -type d -exec chmod 0777 {} \\;\nRUN find config/driver/chromedriver-linux/ -type f -exec chmod 777 {} \\;\n\nADD config/ /config/\nRUN chmod 0777 /config/zocdocbot.properties\nRUN chmod 0777 /config/driver/chromedriver-linux/chromedriver\n\nRUN apk update &amp;&amp; apk add --no-cache bash \\\n    alsa-lib \\\n    at-spi2-atk \\\n    atk \\\n    cairo \\\n    cups-libs \\\n    dbus-libs \\\n    eudev-libs \\\n    expat \\\n    flac \\\n    gdk-pixbuf \\\n    glib \\\n    libgcc \\\n    libjpeg-turbo \\\n    libpng \\\n    libwebp \\\n    libx11 \\\n    libxcomposite \\\n    libxdamage \\\n    libxext \\\n    libxfixes \\\n    tzdata \\\n    libexif \\\n    udev \\\n    xvfb \\\n    zlib-dev \\\n    chromium \\\n    chromium-chromedriver \\\n    &amp;&amp; rm -rf /var/cache/apk/* \\\n    /usr/share/man \\\n    /tmp/*\n\nRUN chown -R spring:spring /data\nUSER spring:spring\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} bot-app.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx248M&quot;,&quot;-Xss512K&quot;,&quot;-XX:+UseContainerSupport&quot;,&quot;-Xlog:gc&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\n\nEXPOSE 8080\nEXPOSE 4444\nEXPOSE 9222\nEXPOSE 9223\n\nENV PATH=&quot;/usr/bin/chromedriver:${PATH}&quot;\n\nENV JAVA_OPTS=&quot;-Xmx250M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\nENV JVM_OPTS=&quot;-Xmx246M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\n</code></pre>\n<p>and after run i have error:</p>\n<pre><code>Jul 28 07:53:34 PM  #23 0.396 OK: 17824 distinct packages available\nJul 28 07:53:34 PM  #23 0.433 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nJul 28 07:53:34 PM  #23 0.564 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nJul 28 07:53:35 PM  #23 0.783 ERROR: unable to select packages:\nJul 28 07:53:35 PM  #23 0.814   at-spi2-atk (no such package):\nJul 28 07:53:35 PM  #23 0.814     required by: world[at-spi2-atk]\nJul 28 07:53:35 PM  #23 0.814   atk (no such package):\nJul 28 07:53:35 PM  #23 0.814     required by: world[atk]\nJul 28 07:53:35 PM  #23 ERROR: process &quot;/bin/sh -c apk update &amp;&amp; apk add --no-cache bash     alsa-lib     at-spi2-atk     atk     cairo     cups-libs     dbus-libs     eudev-libs     expat     flac     gdk-pixbuf     glib     libgcc     libjpeg-turbo     libpng     libwebp     libx11     libxcomposite     libxdamage     libxext     libxfixes     tzdata     libexif     udev     xvfb     zlib-dev     chromium     chromium-chromedriver     &amp;&amp; rm -rf /var/cache/apk/*     /usr/share/man     /tmp/*&quot; did not complete successfully: exit code: 2\n</code></pre>\n<p>i look for in google but i cant find any solution :/ Is this problem with some arguments or with the image ?\ncan i replace this image with another one that will be similar to chromedriver and take up little space?</p>\n<p>regards</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":25462971,"reputation":206,"user_id":19262449,"display_name":"Corentin Briand"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1690496238,"creation_date":1655286478,"answer_id":72629202,"question_id":72625911,"body_markdown":"From [Spring Boot 2.6 Release Notes - Actuator Env InfoContributor Disabled by Default](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#actuator-env-infocontributor-disabled-by-default)\r\n\r\nYou need to enable the _info env_ property:\r\n\r\n    management.info.env.enabled=true","title":"Spring Actuator /info returns an empty body","body":"<p>From <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#actuator-env-infocontributor-disabled-by-default\" rel=\"nofollow noreferrer\">Spring Boot 2.6 Release Notes - Actuator Env InfoContributor Disabled by Default</a></p>\n<p>You need to enable the <em>info env</em> property:</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19239662,"reputation":91,"user_id":14059912,"display_name":"Sayf"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663666083,"creation_date":1663666083,"answer_id":73784453,"question_id":72625911,"body_markdown":"Latest spring boot requires two things to be set up: \r\n\r\n1- exposing the endpoint in `application.properties` file:\r\n\r\n    management.endpoints.web.exposure.include=info, health\r\n\r\nYou can use a wildcard and expose all endpoints if you want\r\n\r\n    management.endpoints.web.exposure.include=*\r\n\r\n2- enabling info.env in `application.properties`: \r\n\r\n    management.info.env.enabled=true\r\n\r\n","title":"Spring Actuator /info returns an empty body","body":"<p>Latest spring boot requires two things to be set up:</p>\n<p>1- exposing the endpoint in <code>application.properties</code> file:</p>\n<pre><code>management.endpoints.web.exposure.include=info, health\n</code></pre>\n<p>You can use a wildcard and expose all endpoints if you want</p>\n<pre><code>management.endpoints.web.exposure.include=*\n</code></pre>\n<p>2- enabling info.env in <code>application.properties</code>:</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27913911,"reputation":11,"user_id":21315469,"display_name":"Enrique Delgado"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679990527,"creation_date":1679983916,"answer_id":75862853,"question_id":72625911,"body_markdown":"Our project includes the git-commit-id-plugin, which puts in the response body of the actuator some data regarding the last commit.\r\n\r\nI was running a new Maven project which didn&#39;t still have the. git/ folder, therefore the plugin couldn&#39;t do its job, and the whole endpoint&#39;s response was an empty body. So, include in your checklist the fact that all the contributors to /admin/info/ are correctly configured.","title":"Spring Actuator /info returns an empty body","body":"<p>Our project includes the git-commit-id-plugin, which puts in the response body of the actuator some data regarding the last commit.</p>\n<p>I was running a new Maven project which didn't still have the. git/ folder, therefore the plugin couldn't do its job, and the whole endpoint's response was an empty body. So, include in your checklist the fact that all the contributors to /admin/info/ are correctly configured.</p>\n"}],"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7522,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72629202,"answer_count":3,"score":7,"last_activity_date":1690644240,"creation_date":1655267093,"question_id":72625911,"body_markdown":"How to add custom metrics to `/info` endpoint in `Spring Boot` **2.7.0** _Actuator_?\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCurrently have the following related to actuator. \r\n\r\n**application.properties**\r\n\r\n```\r\ninfo.app.version=@project.version@\r\n\r\nmanagement.endpoint.info.enabled=true\r\nmanagement.endpoints.web.exposure.include=info,health\r\n```\r\n\r\nI have verified that the `info.app.version` property can be retrieved using `@Value`. But despite this I am only getting an empty response on `/info`.\r\n\r\nResponse header:\r\n```\r\n&lt; HTTP/1.1 200 \r\n&lt; X-Content-Type-Options: nosniff\r\n&lt; X-XSS-Protection: 1; mode=block\r\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n&lt; Pragma: no-cache\r\n&lt; Expires: 0\r\n&lt; X-Frame-Options: DENY\r\n&lt; Content-Type: application/vnd.spring-boot.actuator.v3+json\r\n&lt; Transfer-Encoding: chunked\r\n&lt; Date: Wed, 15 Jun 2022 04:12:47 GMT\r\n\r\n\r\n* Received 7 B chunk\r\n* Received 5 B chunk\r\n* Connection #26 to host localhost left intact\r\n```\r\n\r\nResponse body :\r\n```\r\n{}\r\n```\r\n---\r\n\r\nMy understanding is any property under `info` is included in `/info` endpoint. Or does this not work on actuator v2+ ?\r\n[Source](https://www.baeldung.com/spring-boot-actuators#4-info-endpoint)","title":"Spring Actuator /info returns an empty body","body":"<p>How to add custom metrics to <code>/info</code> endpoint in <code>Spring Boot</code> <strong>2.7.0</strong> <em>Actuator</em>?</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Currently have the following related to actuator.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>info.app.version=@project.version@\n\nmanagement.endpoint.info.enabled=true\nmanagement.endpoints.web.exposure.include=info,health\n</code></pre>\n<p>I have verified that the <code>info.app.version</code> property can be retrieved using <code>@Value</code>. But despite this I am only getting an empty response on <code>/info</code>.</p>\n<p>Response header:</p>\n<pre><code>&lt; HTTP/1.1 200 \n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Frame-Options: DENY\n&lt; Content-Type: application/vnd.spring-boot.actuator.v3+json\n&lt; Transfer-Encoding: chunked\n&lt; Date: Wed, 15 Jun 2022 04:12:47 GMT\n\n\n* Received 7 B chunk\n* Received 5 B chunk\n* Connection #26 to host localhost left intact\n</code></pre>\n<p>Response body :</p>\n<pre><code>{}\n</code></pre>\n<hr />\n<p>My understanding is any property under <code>info</code> is included in <code>/info</code> endpoint. Or does this not work on actuator v2+ ?\n<a href=\"https://www.baeldung.com/spring-boot-actuators#4-info-endpoint\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690707916,"post_id":76794180,"comment_id":135388699,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":17892454,"reputation":21,"user_id":12998646,"display_name":"Rajesh D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690643424,"creation_date":1690643424,"question_id":76794180,"body_markdown":" I never faced this issue before . After 4 years I tried to begin the selenium with latest java version, Eclispe and Selenium webdriver but now I am facing very cheap issue to start the webdriver import. I tried properly by watching the youtube tutorial but I couldn&#39;t resolve this and It sucks my entire day to resolve this. Please someone help me. [![enter image description here](https://i.stack.imgur.com/pd4gU.png)](https://i.stack.imgur.com/pd4gU.png)\r\n\r\nTried to import webdriver to launch the browser but I couldn&#39;t see the import webdriver. ","title":"Unable to see the import webdriver option after adding the selenium 4.10 jars into Project folder buildpath","body":"<p>I never faced this issue before . After 4 years I tried to begin the selenium with latest java version, Eclispe and Selenium webdriver but now I am facing very cheap issue to start the webdriver import. I tried properly by watching the youtube tutorial but I couldn't resolve this and It sucks my entire day to resolve this. Please someone help me. <a href=\"https://i.stack.imgur.com/pd4gU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pd4gU.png\" alt=\"enter image description here\" /></a></p>\n<p>Tried to import webdriver to launch the browser but I couldn't see the import webdriver.</p>\n"},{"tags":["java","eclipse","maven","junit"],"comments":[{"owner":{"account_id":5672017,"reputation":594,"user_id":4486385,"accept_rate":57,"display_name":"Abdullah Asendar"},"score":1,"creation_date":1500025392,"post_id":45099653,"comment_id":77170875,"body_markdown":"right click on you project &gt; maven &gt; update project &gt; check force update snapshots/ releases &gt; press ok","body":"right click on you project &gt; maven &gt; update project &gt; check force update snapshots/ releases &gt; press ok"},{"owner":{"account_id":5672017,"reputation":594,"user_id":4486385,"accept_rate":57,"display_name":"Abdullah Asendar"},"score":0,"creation_date":1500025422,"post_id":45099653,"comment_id":77170903,"body_markdown":"if that did not work delete the contents of C:\\Users\\{your user}\\.m2\\repository ,,, then repeat above","body":"if that did not work delete the contents of C:\\Users\\{your user}\\.m2\\repository ,,, then repeat above"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500025949,"post_id":45099653,"comment_id":77171215,"body_markdown":"I tried it, but this not solved the problem :(","body":"I tried it, but this not solved the problem :("},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1500026535,"post_id":45099653,"comment_id":77171607,"body_markdown":"Please build the artifact (with package or install) and report the results of the build (including the error).","body":"Please build the artifact (with package or install) and report the results of the build (including the error)."},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500028169,"post_id":45099653,"comment_id":77172602,"body_markdown":"I have 3 errors:\nTest cannot be resolved to a type\nThe import org.junit.Assert cannot be resolved\nThe method Fail(String) is undifined for the type AppTest","body":"I have 3 errors: Test cannot be resolved to a type The import org.junit.Assert cannot be resolved The method Fail(String) is undifined for the type AppTest"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1500028259,"post_id":45099653,"comment_id":77172650,"body_markdown":"Just to be sure: did you place your file under `src/test/java` (instead of `src/main/java`)?","body":"Just to be sure: did you place your file under <code>src&#47;test&#47;java</code> (instead of <code>src&#47;main&#47;java</code>)?"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500028454,"post_id":45099653,"comment_id":77172772,"body_markdown":"@RobertScholte yes, i double checked and its there","body":"@RobertScholte yes, i double checked and its there"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500028815,"post_id":45099653,"comment_id":77172978,"body_markdown":"I got some tips: the maven dont accept the projectlibs and i should try this settings set in eclipse style. Maybe this helps you to help me?","body":"I got some tips: the maven dont accept the projectlibs and i should try this settings set in eclipse style. Maybe this helps you to help me?"},{"owner":{"account_id":1014342,"reputation":2352,"user_id":3300205,"display_name":"avojak"},"score":0,"creation_date":1500039477,"post_id":45099653,"comment_id":77179886,"body_markdown":"What do you mean by &quot;the maven don&#39;t accept the projectlibs&quot;?","body":"What do you mean by &quot;the maven don&#39;t accept the projectlibs&quot;?"},{"owner":{"account_id":11029928,"reputation":3250,"user_id":8101556,"accept_rate":80,"display_name":"Rishikesh Darandale"},"score":1,"creation_date":1500041359,"post_id":45099653,"comment_id":77181194,"body_markdown":"Can you post the complete pom file?","body":"Can you post the complete pom file?"},{"owner":{"account_id":4742078,"reputation":6224,"user_id":3834478,"display_name":"sisyphus"},"score":0,"creation_date":1500161595,"post_id":45099653,"comment_id":77218053,"body_markdown":"When/where do you see the error? Is it when you run &#39;mvn test&#39; from a command line or is it in Eclipse/Intellij/&lt;other IDE&gt;?","body":"When/where do you see the error? Is it when you run &#39;mvn test&#39; from a command line or is it in Eclipse/Intellij/&lt;other IDE&gt;?"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500275787,"post_id":45099653,"comment_id":77245311,"body_markdown":"After saving the project, i cant run anything cuz the errors","body":"After saving the project, i cant run anything cuz the errors"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1500276368,"post_id":45099653,"comment_id":77245610,"body_markdown":"Have you run `mvn clean install` first?","body":"Have you run <code>mvn clean install</code> first?"},{"owner":{"account_id":7320546,"reputation":1178,"user_id":5576721,"accept_rate":50,"display_name":"Anupama Boorlagadda"},"score":0,"creation_date":1500277050,"post_id":45099653,"comment_id":77245989,"body_markdown":"Can you post snapshot of your project structure?","body":"Can you post snapshot of your project structure?"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500279112,"post_id":45099653,"comment_id":77247058,"body_markdown":"@AnupamaBoorlagadda i cant, i only registered on Friday","body":"@AnupamaBoorlagadda i cant, i only registered on Friday"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500279493,"post_id":45099653,"comment_id":77247277,"body_markdown":"@soorapadman i run the clean install, but i got error **No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?** how can i change that?","body":"@soorapadman i run the clean install, but i got error <b>No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</b> how can i change that?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1500280922,"post_id":45099653,"comment_id":77248054,"body_markdown":"Then you must check this link to resolve :https://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra","body":"Then you must check this link to resolve :<a href=\"https://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra\" title=\"no compiler is provided in this environment perhaps you are running on a jre ra\">stackoverflow.com/questions/19655184/&hellip;</a>"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500282988,"post_id":45099653,"comment_id":77249334,"body_markdown":"after i did the changes i got this error when i did clean install: **error reading C:\\Users\\User\\.m2\\repository\\junit\\junit\\4.12\\junit-4.12.jar; invalid LOC header (bad signature)**","body":"after i did the changes i got this error when i did clean install: <b>error reading C:\\Users\\User\\.m2\\repository\\junit\\junit\\4.12\\junit-4.12.jar&zwnj;&#8203;; invalid LOC header (bad signature)</b>"}],"answers":[{"tags":[],"owner":{"account_id":11319371,"reputation":1,"user_id":8300106,"display_name":"saiswarup sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500284193,"creation_date":1500284193,"answer_id":45140675,"question_id":45099653,"body_markdown":"First clean the project and again install the Maven.","title":"Maven dependency with JUnit not working with failure to resolve","body":"<p>First clean the project and again install the Maven.</p>\n"}],"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690643270,"creation_date":1500025198,"question_id":45099653,"body_markdown":"First of all, I&#39;m a real beginner in Maven. I have problems with my first project. Here is my pom file (full):\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;hu.fornax&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter saving, maven downloaded the junit-4.12.jar and created a Maven dependencies folders, which is added to build path. After these the testfile have errors, says: **The import org.junit.Test cannot be resolved** and want to add Junit 4 to build path. I&#39;m bit confused what is the problem, but my program not working.\r\n\r\nI hope you can help me.\r\n \r\nEDIT:::::::  \r\nI got some tips: the maven doesn&#39;t accept the projectlibs and I should try this settings set in eclipse style. Maybe this helps you to help me?\r\n\r\nSOLVED:::::::  \r\nThanks all of your help. I found this page: http://skillshared.blogspot.hu/2012/10/aaa.html and it worked for me. Thanks","title":"Maven dependency with JUnit not working with failure to resolve","body":"<p>First of all, I'm a real beginner in Maven. I have problems with my first project. Here is my pom file (full):</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;hu.fornax&lt;/groupId&gt;\n    &lt;artifactId&gt;maven&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>After saving, maven downloaded the junit-4.12.jar and created a Maven dependencies folders, which is added to build path. After these the testfile have errors, says: <strong>The import org.junit.Test cannot be resolved</strong> and want to add Junit 4 to build path. I'm bit confused what is the problem, but my program not working.</p>\n<p>I hope you can help me.</p>\n<p>EDIT:::::::<br />\nI got some tips: the maven doesn't accept the projectlibs and I should try this settings set in eclipse style. Maybe this helps you to help me?</p>\n<p>SOLVED:::::::<br />\nThanks all of your help. I found this page: <a href=\"http://skillshared.blogspot.hu/2012/10/aaa.html\" rel=\"nofollow noreferrer\">http://skillshared.blogspot.hu/2012/10/aaa.html</a> and it worked for me. Thanks</p>\n"},{"tags":["java","spring-boot","maven","gson","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690455033,"post_id":76778605,"comment_id":135357627,"body_markdown":"Why using gson instead fast jackson?","body":"Why using gson instead fast jackson?"},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690455368,"post_id":76778605,"comment_id":135357689,"body_markdown":"gson was already part of the project and if we change it now we need to change the code as well. Hence wanted to go ahead with gson.","body":"gson was already part of the project and if we change it now we need to change the code as well. Hence wanted to go ahead with gson."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690456680,"post_id":76778605,"comment_id":135357979,"body_markdown":"It was already the wrong way in SB 2.X so it is as well in SB 3.X ... I would migrate the project ... it&#39;s easier... And So how many code could it be? Using a good ide etc. shouldn&#39;t be that a big issue... ? Furthermore why using dockerfile-maven-plugin instead the jib parts of SB 3.X https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#container-images Apart from that it looks like that gson seemed to be not JDK 17 ready... also a full pom file would be helpful here... ?","body":"It was already the wrong way in SB 2.X so it is as well in SB 3.X ... I would migrate the project ... it&#39;s easier... And So how many code could it be? Using a good ide etc. shouldn&#39;t be that a big issue... ? Furthermore why using dockerfile-maven-plugin instead the jib parts of SB 3.X <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#container-images\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a> Apart from that it looks like that gson seemed to be not JDK 17 ready... also a full pom file would be helpful here... ?"},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690459155,"post_id":76778605,"comment_id":135358500,"body_markdown":"Added the pom file.","body":"Added the pom file."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690459518,"post_id":76778605,"comment_id":135358583,"body_markdown":"Also updated with the full exception stack trace. It is coming while executing: mvn clean install","body":"Also updated with the full exception stack trace. It is coming while executing: mvn clean install"},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690460488,"post_id":76778605,"comment_id":135358820,"body_markdown":"One important part of it: when I make &#39;skip.it&#39; as true, then I do not face the issue as it skips that step.","body":"One important part of it: when I make &#39;skip.it&#39; as true, then I do not face the issue as it skips that step."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690477343,"post_id":76778605,"comment_id":135362814,"body_markdown":"Why using different version of jackson instead of using the one which is given via SB? ... And furthermore mixing different jackson versions ... Why defining jakarta verisons separate instead of using the one which coming via SB (which is the same version!!) also jakarta-servlet-api same thing.. (SB!!)... ? Also use the one spring-web wich is given via SB ... Using an older version of hibernate-validator instead of the one which is given by SB... defining commons-lang3 same versions as already given by SB... so no version needed...jboss-logging older version defined than getting via SB ...","body":"Why using different version of jackson instead of using the one which is given via SB? ... And furthermore mixing different jackson versions ... Why defining jakarta verisons separate instead of using the one which coming via SB (which is the same version!!) also jakarta-servlet-api same thing.. (SB!!)... ? Also use the one spring-web wich is given via SB ... Using an older version of hibernate-validator instead of the one which is given by SB... defining commons-lang3 same versions as already given by SB... so no version needed...jboss-logging older version defined than getting via SB ..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690477365,"post_id":76778605,"comment_id":135362816,"body_markdown":"Mockito verison defined much older than the version given via SB(5.3.1)...why using byte-buddy? Why using maven-dependency-plugin ?? What should be unpacked??? layers for docker image? Use the one which is comming via SB3... check the docs...Why defining spring-web using the same version as SB already defines? So remove the version if you really use that directly...","body":"Mockito verison defined much older than the version given via SB(5.3.1)...why using byte-buddy? Why using maven-dependency-plugin ?? What should be unpacked??? layers for docker image? Use the one which is comming via SB3... check the docs...Why defining spring-web using the same version as SB already defines? So remove the version if you really use that directly..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690477755,"post_id":76778605,"comment_id":135362901,"body_markdown":"The dockerfile-maven-plugin is abandoned... Use the one which is provided by SB...","body":"The dockerfile-maven-plugin is abandoned... Use the one which is provided by SB..."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690599526,"post_id":76778605,"comment_id":135379900,"body_markdown":"As suggested by you, changed the same, but still getting the same exception.","body":"As suggested by you, changed the same, but still getting the same exception."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690599844,"post_id":76778605,"comment_id":135379919,"body_markdown":"Updated the pom.xml in the original message.","body":"Updated the pom.xml in the original message."}],"answers":[{"comments":[{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690861820,"post_id":76794120,"comment_id":135408455,"body_markdown":"As an workaround solution, I&#39;ve added &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; in the configuration argLine. With this Compile and Build are pass. While I am deploying this to server, getting same error. Need your help please.","body":"As an workaround solution, I&#39;ve added &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; in the configuration argLine. With this Compile and Build are pass. While I am deploying this to server, getting same error. Need your help please."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1690922312,"post_id":76794120,"comment_id":135419800,"body_markdown":"Do you mean even with the solution shown in my answer you are getting this exception? In that case check if this is also for `Throwable` or for a different JDK class for which you might also have to write a custom `TypeAdapter`. The `--add-opens` workaround only hides the actual problem, which is that you are are (accidentally) serializing JDK internals; and you would need to provide `--add-opens` both during test execution and for your normal deployment.","body":"Do you mean even with the solution shown in my answer you are getting this exception? In that case check if this is also for <code>Throwable</code> or for a different JDK class for which you might also have to write a custom <code>TypeAdapter</code>. The <code>--add-opens</code> workaround only hides the actual problem, which is that you are are (accidentally) serializing JDK internals; and you would need to provide <code>--add-opens</code> both during test execution and for your normal deployment."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1699964630,"post_id":76794120,"comment_id":136594216,"body_markdown":"It works with the custom TypeAdapter. Thanks.","body":"It works with the custom TypeAdapter. Thanks."}],"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690642465,"creation_date":1690642465,"answer_id":76794120,"question_id":76778605,"body_markdown":"The problem is that your method `com.myproject.logger.MyLog4jLayout.toSerializable` indirectly tries to use Gson to serialize a `Throwable` to JSON. Gson does not have a built-in adapter for `Throwable` so it falls back to using reflection, accessing internal fields which represent implementation details.  \r\nIn JDK 17 access to internal JDK implementation details was further restricted ([JEP 403](https://openjdk.org/jeps/403)), which is why you are experiencing this exception.\r\n\r\nIf you still want to serialize `Throwable` instances with Gson, you will have to write a custom `TypeAdapter` which performs the serialization. See [this comment](https://github.com/google/gson/issues/2352#issuecomment-1481864208) on a related GitHub issue for more information and also sample code for such a `TypeAdapter`.\r\n\r\nAlso in general be careful that you don&#39;t accidentally use Gson&#39;s reflection-based adapter for implementation details of other third-party libraries, because they could change at any point and also might not necessarily produce useful JSON data. You can use Gson&#39;s [`ReflectionAccessFilter` feature](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addReflectionAccessFilter(com.google.gson.ReflectionAccessFilter)) to restrict on which classes Gson may use reflection to perform serialization.","title":"InaccessibleObjectException while working in gson 2.10.1 with Java 17 and Spring Boot 3.1.2","body":"<p>The problem is that your method <code>com.myproject.logger.MyLog4jLayout.toSerializable</code> indirectly tries to use Gson to serialize a <code>Throwable</code> to JSON. Gson does not have a built-in adapter for <code>Throwable</code> so it falls back to using reflection, accessing internal fields which represent implementation details.<br />\nIn JDK 17 access to internal JDK implementation details was further restricted (<a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">JEP 403</a>), which is why you are experiencing this exception.</p>\n<p>If you still want to serialize <code>Throwable</code> instances with Gson, you will have to write a custom <code>TypeAdapter</code> which performs the serialization. See <a href=\"https://github.com/google/gson/issues/2352#issuecomment-1481864208\" rel=\"nofollow noreferrer\">this comment</a> on a related GitHub issue for more information and also sample code for such a <code>TypeAdapter</code>.</p>\n<p>Also in general be careful that you don't accidentally use Gson's reflection-based adapter for implementation details of other third-party libraries, because they could change at any point and also might not necessarily produce useful JSON data. You can use Gson's <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addReflectionAccessFilter(com.google.gson.ReflectionAccessFilter)\" rel=\"nofollow noreferrer\"><code>ReflectionAccessFilter</code> feature</a> to restrict on which classes Gson may use reflection to perform serialization.</p>\n"}],"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76794120,"answer_count":1,"score":1,"last_activity_date":1690642465,"creation_date":1690452106,"question_id":76778605,"body_markdown":"Currently, I am using **Java 11 with Spring Boot 2.7.9 and gson version 2.9.0**\r\n\r\nNow trying to upgrade to **Java 17, Spring Boot 3.1.2 and gson 2.10.1** \r\n\r\nWhile the project is checking with pre-integration-test in spring-boot-maven-plugin(3.1.2), getting the following exception. Using dockerfile-maven-plugin version 1.4.13 in pom.xml.\r\n\r\nNot sure, what am I missing with the version or due to any version conflict. Need your help here.\r\n\r\nAdvance thanks.\r\n\r\n\r\n        Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\r\n    Caused by: org.apache.logging.log4j.core.appender.AppenderLoggingException: An exception occurred processing Appender rollingFile\r\n            at org.apache.logging.log4j.core.appender.DefaultErrorHandler.error(DefaultErrorHandler.java:96)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.handleAppenderError(AppenderControl.java:165)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:158)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:129)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:120)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:630)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:590)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.logParent(LoggerConfig.java:621)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:592)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:507)\r\n            at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:81)\r\n            at org.apache.logging.log4j.core.Logger.log(Logger.java:148)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2038)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:1992)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:1975)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1834)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1692)\r\n            at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\r\n            at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\r\n            at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\r\n            at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\r\n            at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:391)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n            at com.myproject.ApiApplication.main(ApiApplication.java:12)\r\n            ... 5 more\r\n    Caused by: com.google.gson.JsonIOException: Failed making field &#39;java.lang.StackTraceElement#classLoaderName&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n            at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n            at com.google.gson.Gson.getAdapter(Gson.java:556)\r\n            at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\r\n            at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\r\n            at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\r\n            at com.google.gson.Gson.toJson(Gson.java:842)\r\n            at com.google.gson.Gson.toJson(Gson.java:812)\r\n            at com.google.gson.Gson.toJson(Gson.java:759)\r\n            at com.google.gson.Gson.toJson(Gson.java:736)\r\n            at com.myproject.logger.MyLog4jLayout.toSerializable(MyLog4jLayout.java:55)\r\n            at org.apache.logging.log4j.core.layout.AbstractStringLayout.toByteArray(AbstractStringLayout.java:283)\r\n            at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:193)\r\n            at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:34)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:179)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:172)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:163)\r\n            at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:304)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)\r\n            ... 31 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3b07a0d6\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n            at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n            at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n            at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\r\n            ... 50 more\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  01:44 min\r\n    [INFO] Finished at: 2023-07-27T16:28:38+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.2:start (pre-integration-test) on project myproject: Failed to connect to MBean server at port 9001: Could not invoke shutdown operation: Connection refused to host: 127.0.0.1; nested exception is: \r\n    [ERROR]         java.net.ConnectException: Connection refused\r\n\r\n\r\nAdding pom.xml as well:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;myproject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;name&gt;myproject&lt;/name&gt;\r\n      \r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;xxxx&lt;/id&gt;\r\n          &lt;name&gt;xxxx&lt;/name&gt;\r\n         &lt;url&gt;xxxx&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;The Repo&lt;/name&gt;\r\n          &lt;url&gt;xxxx&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/distributionManagement&gt;\r\n    \r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;xxxx&lt;/id&gt;\r\n          &lt;url&gt;xxxx&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-security.version&gt;6.1.2&lt;/spring-security.version&gt;\r\n        &lt;docker.image.prefix&gt;xxxx&lt;/docker.image.prefix&gt;\r\n        &lt;jdbc.version&gt;19.3.0.0&lt;/jdbc.version&gt;\r\n        &lt;server.port&gt;9095&lt;/server.port&gt;\r\n        &lt;flyway.version&gt;9.17.0&lt;/flyway.version&gt;\r\n        &lt;log4j2.version&gt;2.20.0&lt;/log4j2.version&gt;\r\n        &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\r\n        &lt;commons-codec.version&gt;1.16.0&lt;/commons-codec.version&gt;\r\n        &lt;gson.version&gt;2.10.1&lt;/gson.version&gt;\r\n        &lt;skip.it&gt;false&lt;/skip.it&gt;\r\n        &lt;skip.mdp&gt;true&lt;/skip.mdp&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n              &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n          &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n          &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;accessors-smart&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n          &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n          &lt;version&gt;32.1.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n          &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n          &lt;version&gt;3.29.2-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n           &lt;version&gt;${flyway.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n          &lt;version&gt;0.2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.10&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;integration-coverage-report&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;report-integration&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;dataFile&gt;${project.basedir}/jacoco-report/jacoco-it.exec&lt;/dataFile&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;append&gt;true&lt;/append&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;9.21.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jvmArguments&gt;-Xdebug\r\n                -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5006\r\n              &lt;/jvmArguments&gt;\r\n              &lt;maxAttempts&gt;360&lt;/maxAttempts&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;\r\n                  &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                &lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;start&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;skip&gt;${skip.it}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;stop&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;skip&gt;${skip.it}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;apiDocsUrl&gt;http://localhost:${server.port}/public-openapi.yaml&lt;/apiDocsUrl&gt;\r\n              &lt;outputFileName&gt;public-openapi.yaml&lt;/outputFileName&gt;\r\n              &lt;outputDir&gt;${project.basedir}&lt;/outputDir&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;executable&gt;bash&lt;/executable&gt;\r\n              &lt;workingDirectory&gt;xxxx&lt;/workingDirectory&gt;\r\n              &lt;arguments&gt;\r\n                &lt;argument&gt;build.sh&lt;/argument&gt;\r\n              &lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;skip&gt;${skip.mdp}&lt;/skip&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;unpack&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;unpack&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactItems&gt;\r\n                    &lt;artifactItem&gt;\r\n                      &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                      &lt;version&gt;${project.version}&lt;/version&gt;\r\n                    &lt;/artifactItem&gt;\r\n                  &lt;/artifactItems&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings\r\n              only. It has no influence on the Maven build itself. --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n              &lt;version&gt;1.0.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;lifecycleMappingMetadata&gt;\r\n                  &lt;pluginExecutions&gt;\r\n                    &lt;pluginExecution&gt;\r\n                      &lt;pluginExecutionFilter&gt;\r\n                        &lt;groupId&gt;\r\n                          org.codehaus.mojo\r\n                        &lt;/groupId&gt;\r\n                        &lt;artifactId&gt;\r\n                          exec-maven-plugin\r\n                        &lt;/artifactId&gt;\r\n                        &lt;versionRange&gt;\r\n                          [1.6.0,)\r\n                        &lt;/versionRange&gt;\r\n                        &lt;goals&gt;\r\n                          &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                      &lt;/pluginExecutionFilter&gt;\r\n                      &lt;action&gt;\r\n                        &lt;ignore&gt;&lt;/ignore&gt;\r\n                      &lt;/action&gt;\r\n                    &lt;/pluginExecution&gt;\r\n                  &lt;/pluginExecutions&gt;\r\n                &lt;/lifecycleMappingMetadata&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n    \r\n        &lt;/pluginManagement&gt;\r\n    \r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n","title":"InaccessibleObjectException while working in gson 2.10.1 with Java 17 and Spring Boot 3.1.2","body":"<p>Currently, I am using <strong>Java 11 with Spring Boot 2.7.9 and gson version 2.9.0</strong></p>\n<p>Now trying to upgrade to <strong>Java 17, Spring Boot 3.1.2 and gson 2.10.1</strong></p>\n<p>While the project is checking with pre-integration-test in spring-boot-maven-plugin(3.1.2), getting the following exception. Using dockerfile-maven-plugin version 1.4.13 in pom.xml.</p>\n<p>Not sure, what am I missing with the version or due to any version conflict. Need your help here.</p>\n<p>Advance thanks.</p>\n<pre><code>    Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\nCaused by: org.apache.logging.log4j.core.appender.AppenderLoggingException: An exception occurred processing Appender rollingFile\n        at org.apache.logging.log4j.core.appender.DefaultErrorHandler.error(DefaultErrorHandler.java:96)\n        at org.apache.logging.log4j.core.config.AppenderControl.handleAppenderError(AppenderControl.java:165)\n        at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:158)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:129)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:120)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\n        at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:630)\n        at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:590)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\n        at org.apache.logging.log4j.core.config.LoggerConfig.logParent(LoggerConfig.java:621)\n        at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:592)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:507)\n        at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:81)\n        at org.apache.logging.log4j.core.Logger.log(Logger.java:148)\n        at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2038)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:1992)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:1975)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1834)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1692)\n        at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\n        at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\n        at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\n        at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:391)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.myproject.ApiApplication.main(ApiApplication.java:12)\n        ... 5 more\nCaused by: com.google.gson.JsonIOException: Failed making field 'java.lang.StackTraceElement#classLoaderName' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n        at com.google.gson.Gson.getAdapter(Gson.java:556)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\n        at com.google.gson.Gson.toJson(Gson.java:842)\n        at com.google.gson.Gson.toJson(Gson.java:812)\n        at com.google.gson.Gson.toJson(Gson.java:759)\n        at com.google.gson.Gson.toJson(Gson.java:736)\n        at com.myproject.logger.MyLog4jLayout.toSerializable(MyLog4jLayout.java:55)\n        at org.apache.logging.log4j.core.layout.AbstractStringLayout.toByteArray(AbstractStringLayout.java:283)\n        at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:193)\n        at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:34)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:179)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:172)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:163)\n        at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:304)\n        at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)\n        ... 31 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3b07a0d6\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\n        ... 50 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:44 min\n[INFO] Finished at: 2023-07-27T16:28:38+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.2:start (pre-integration-test) on project myproject: Failed to connect to MBean server at port 9001: Could not invoke shutdown operation: Connection refused to host: 127.0.0.1; nested exception is: \n[ERROR]         java.net.ConnectException: Connection refused\n</code></pre>\n<p>Adding pom.xml as well:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;myproject&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;name&gt;myproject&lt;/name&gt;\n  \n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;xxxx&lt;/id&gt;\n      &lt;name&gt;xxxx&lt;/name&gt;\n     &lt;url&gt;xxxx&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;The Repo&lt;/name&gt;\n      &lt;url&gt;xxxx&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;xxxx&lt;/id&gt;\n      &lt;url&gt;xxxx&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-security.version&gt;6.1.2&lt;/spring-security.version&gt;\n    &lt;docker.image.prefix&gt;xxxx&lt;/docker.image.prefix&gt;\n    &lt;jdbc.version&gt;19.3.0.0&lt;/jdbc.version&gt;\n    &lt;server.port&gt;9095&lt;/server.port&gt;\n    &lt;flyway.version&gt;9.17.0&lt;/flyway.version&gt;\n    &lt;log4j2.version&gt;2.20.0&lt;/log4j2.version&gt;\n    &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\n    &lt;commons-codec.version&gt;1.16.0&lt;/commons-codec.version&gt;\n    &lt;gson.version&gt;2.10.1&lt;/gson.version&gt;\n    &lt;skip.it&gt;false&lt;/skip.it&gt;\n    &lt;skip.mdp&gt;true&lt;/skip.mdp&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n          &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n      &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n          &lt;exclusion&gt;\n              &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n              &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n              &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n             &lt;artifactId&gt;accessors-smart&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n      &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;32.1.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n      &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n      &lt;version&gt;1.16.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n      &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n      &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n      &lt;version&gt;3.29.2-GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n      &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n      &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n       &lt;version&gt;${flyway.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n      &lt;version&gt;0.2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n      &lt;version&gt;5.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.28&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.10&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;integration-coverage-report&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report-integration&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;dataFile&gt;${project.basedir}/jacoco-report/jacoco-it.exec&lt;/dataFile&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;append&gt;true&lt;/append&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;9.21.0&lt;/version&gt;\n        &lt;configuration&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jvmArguments&gt;-Xdebug\n            -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5006\n          &lt;/jvmArguments&gt;\n          &lt;maxAttempts&gt;360&lt;/maxAttempts&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n              &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;skip&gt;${skip.it}&lt;/skip&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;post-integration-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;stop&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;skip&gt;${skip.it}&lt;/skip&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;apiDocsUrl&gt;http://localhost:${server.port}/public-openapi.yaml&lt;/apiDocsUrl&gt;\n          &lt;outputFileName&gt;public-openapi.yaml&lt;/outputFileName&gt;\n          &lt;outputDir&gt;${project.basedir}&lt;/outputDir&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;executable&gt;bash&lt;/executable&gt;\n          &lt;workingDirectory&gt;xxxx&lt;/workingDirectory&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;build.sh&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;skip&gt;${skip.mdp}&lt;/skip&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;unpack&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                  &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                  &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;!--This plugin's configuration is used to store Eclipse m2e settings\n          only. It has no influence on the Maven build itself. --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n          &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;lifecycleMappingMetadata&gt;\n              &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                  &lt;pluginExecutionFilter&gt;\n                    &lt;groupId&gt;\n                      org.codehaus.mojo\n                    &lt;/groupId&gt;\n                    &lt;artifactId&gt;\n                      exec-maven-plugin\n                    &lt;/artifactId&gt;\n                    &lt;versionRange&gt;\n                      [1.6.0,)\n                    &lt;/versionRange&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/pluginExecutionFilter&gt;\n                  &lt;action&gt;\n                    &lt;ignore&gt;&lt;/ignore&gt;\n                  &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n              &lt;/pluginExecutions&gt;\n            &lt;/lifecycleMappingMetadata&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n\n    &lt;/pluginManagement&gt;\n\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","telegram","telegram-bot"],"answers":[{"comments":[{"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"score":0,"creation_date":1690234073,"post_id":76749312,"comment_id":135322209,"body_markdown":"ok, I try with WebClient - in start post. I have the next error:\n\nError uploading file 2023-07-24 23:33:55,572 ERROR [http-nio-8088-exec-5] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null] with root cause java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null","body":"ok, I try with WebClient - in start post. I have the next error:  Error uploading file 2023-07-24 23:33:55,572 ERROR [http-nio-8088-exec-5] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText(&zwnj;&#8203;)&quot; because &quot;message&quot; is null] with root cause java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText(&zwnj;&#8203;)&quot; because &quot;message&quot; is null"}],"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690130274,"creation_date":1690130274,"answer_id":76749312,"question_id":76749146,"body_markdown":"Don&#39;t use `ResetTemplate` with `spring boot 3.x`. `WebClient`\r\n is the recommended for spring boot 3.","title":"Telegram-bot api sendDocument error when i use RestTemplate in Spring boot","body":"<p>Don't use <code>ResetTemplate</code> with <code>spring boot 3.x</code>. <code>WebClient</code>\nis the recommended for spring boot 3.</p>\n"},{"comments":[{"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"score":0,"creation_date":1690288141,"post_id":76761070,"comment_id":135329705,"body_markdown":"i used this code, I get an error: Error uploading file. The file is still not being sent to the telegram API. In status code from server i get 404 NOT_FOUND","body":"i used this code, I get an error: Error uploading file. The file is still not being sent to the telegram API. In status code from server i get 404 NOT_FOUND"},{"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"score":0,"creation_date":1690288903,"post_id":76761070,"comment_id":135329896,"body_markdown":"fix: In status code from server i get 400 BAD_REQUEST","body":"fix: In status code from server i get 400 BAD_REQUEST"},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1690294058,"post_id":76761070,"comment_id":135331265,"body_markdown":"please check your request with postman 1st after that inspect the webclient by enabling debug `logging.level.org.springframework.web.reactive.function.client=DEBUG`. then you can have a basic idea about the error. check  how the data has been blinded with the request from the log. if you cannot find the error please provide a screenshot that you took from the postman after testing the API by the postman.","body":"please check your request with postman 1st after that inspect the webclient by enabling debug <code>logging.level.org.springframework.web.reactive.function.clie&zwnj;&#8203;nt=DEBUG</code>. then you can have a basic idea about the error. check  how the data has been blinded with the request from the log. if you cannot find the error please provide a screenshot that you took from the postman after testing the API by the postman."},{"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"score":0,"creation_date":1690296405,"post_id":76761070,"comment_id":135331847,"body_markdown":"add screen (1st post) from rest client Insomnia and enabled debug: 2023-07-25 17:40:09,990 DEBUG [http-nio-8088-exec-1] o.s.c.l.LogFormatUtils: [69e390b] HTTP POST https://api.telegram.org/bot&lt;mytoken&gt;/sendDocument\n2023-07-25 17:40:10,367 DEBUG [reactor-http-nio-2] o.s.c.l.LogFormatUtils: [69e390b] [a0a136af-1] Response 400 BAD_REQUEST\n2023-07-25 17:40:10,372 ERROR [http-nio-8088-exec-1] r.e.t.s.OnBoardingBot: Error uploading file","body":"add screen (1st post) from rest client Insomnia and enabled debug: 2023-07-25 17:40:09,990 DEBUG [http-nio-8088-exec-1] o.s.c.l.LogFormatUtils: [69e390b] HTTP POST <a href=\"https://api.telegram.org/bot&lt;mytoken&gt;/sendDocument\" rel=\"nofollow noreferrer\">api.telegram.org/bot&lt;mytoken&gt;/sendDocument</a> 2023-07-25 17:40:10,367 DEBUG [reactor-http-nio-2] o.s.c.l.LogFormatUtils: [69e390b] [a0a136af-1] Response 400 BAD_REQUEST 2023-07-25 17:40:10,372 ERROR [http-nio-8088-exec-1] r.e.t.s.OnBoardingBot: Error uploading file"},{"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"score":0,"creation_date":1690297244,"post_id":76761070,"comment_id":135332026,"body_markdown":"add new log in 1st post with debug","body":"add new log in 1st post with debug"},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1690299618,"post_id":76761070,"comment_id":135332572,"body_markdown":"I think your code is correct but the headers are not set as they want. when you send by using the Postamn or any tool it normally add the headers regarding the file type.  but when we use webclient we have to add those headers manually. can you put the `Request headers&#39; screenshot`. check this https://core.telegram.org/bots/api#sending-files API","body":"I think your code is correct but the headers are not set as they want. when you send by using the Postamn or any tool it normally add the headers regarding the file type.  but when we use webclient we have to add those headers manually. can you put the <code>Request headers&#39; screenshot</code>. check this <a href=\"https://core.telegram.org/bots/api#sending-files\" rel=\"nofollow noreferrer\">core.telegram.org/bots/api#sending-files</a> API"},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1690300130,"post_id":76761070,"comment_id":135332693,"body_markdown":"I have updated the answer with new headers for PDF . please check it","body":"I have updated the answer with new headers for PDF . please check it"},{"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"score":0,"creation_date":1690304257,"post_id":76761070,"comment_id":135333572,"body_markdown":"I checked code with headers for PDF - The error has not changed. In 1st post added screen with headers from rest client","body":"I checked code with headers for PDF - The error has not changed. In 1st post added screen with headers from rest client"}],"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690300055,"creation_date":1690275510,"answer_id":76761070,"question_id":76749146,"body_markdown":"try with `LinkedMultiValueMap` like this.\r\n```java\r\npublic void sendNewPdfReportWebClient(Long chatId) {\r\n    WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\r\n\r\n    //** Create a MultiValueMap to hold the parts of the multipart form data\r\n    MultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\r\n    // Set the &quot;Content-Type&quot; header to &quot;application/pdf&quot;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_PDF);\r\n    parts.add(&quot;chat_id&quot;, chatId);\r\n    try {\r\n        parts.add(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\r\n    } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    webClient.post()\r\n            .uri(String.join(&quot;/sendDocument&quot;))\r\n            .headers(httpHeaders -&gt; httpHeaders.addAll(headers)) // Set the headers\r\n            .contentType(MediaType.MULTIPART_FORM_DATA)\r\n            .body(BodyInserters.fromMultipartData(parts))\r\n            .exchangeToMono(response -&gt; {\r\n                if (response.statusCode().equals(HttpStatus.OK)) {\r\n                    return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\r\n                } else {\r\n                    throw new ServiceException(&quot;Error uploading file&quot;);\r\n                }\r\n            })\r\n            .block();\r\n}\r\n\r\n\r\n\r\n```","title":"Telegram-bot api sendDocument error when i use RestTemplate in Spring boot","body":"<p>try with <code>LinkedMultiValueMap</code> like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendNewPdfReportWebClient(Long chatId) {\n    WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\n\n    //** Create a MultiValueMap to hold the parts of the multipart form data\n    MultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\n    // Set the &quot;Content-Type&quot; header to &quot;application/pdf&quot;\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_PDF);\n    parts.add(&quot;chat_id&quot;, chatId);\n    try {\n        parts.add(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n\n    webClient.post()\n            .uri(String.join(&quot;/sendDocument&quot;))\n            .headers(httpHeaders -&gt; httpHeaders.addAll(headers)) // Set the headers\n            .contentType(MediaType.MULTIPART_FORM_DATA)\n            .body(BodyInserters.fromMultipartData(parts))\n            .exchangeToMono(response -&gt; {\n                if (response.statusCode().equals(HttpStatus.OK)) {\n                    return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\n                } else {\n                    throw new ServiceException(&quot;Error uploading file&quot;);\n                }\n            })\n            .block();\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690642352,"creation_date":1690127786,"question_id":76749146,"body_markdown":"I use Spring Boot 3.1, Telegram Bots Spring Boot Starter 6.7.0 and WebHook bot\r\n\r\nI need to use class RestTemplate for call method /sendDocument in telegram API. I have read documentation telegram https://core.telegram.org/bots/api#senddocument and https://core.telegram.org/bots/api#sending-files, in my situation i need to send new binary pdf file.\r\n\r\nI use next code:\r\n\r\n```\r\npublic void sendNewPdfReport(Long chatId) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n    File file = null;\r\n    try {\r\n        file = ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;);\r\n    } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    InputFile inputFile = new InputFile(file);\r\n\r\n    body.add(&quot;chat_id&quot;, chatId);\r\n    body.add(&quot;document&quot;, inputFile);\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n    restTemplate.postForEntity(&quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;, requestEntity, String.class);\r\n}\r\n```\r\n\r\nWhen i call this code i get an error:\r\n\r\nAPI Telegram: 400 Bad Request: &quot;{&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;}&quot;\r\n\r\n2023-07-23 18:22:58,936 ERROR \\[http-nio-8088-exec-1\\] o.a.j.l.DirectJDKLog: Servlet.service() for servlet \\[dispatcherServlet\\] in context with path \\[\\] threw exception \\[Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getChatId()&quot; because the return value of &quot;org.telegram.telegrambots.meta.api.objects.Update.getMessage()&quot; is null\\] with root cause \r\n\r\nI don&#39;t understand what the problem is. I fill in the fields as indicated in the documentation.\r\n\r\nI rewrote the code without using RestTemplate:\r\n\r\n```\r\npublic void sendNewPdfReport2Work(Long chatId) {\r\n    String uri = &quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;;\r\n    HttpPost httppost = new HttpPost(uri);\r\n    InputFile inputFile = new InputFile(new File(&quot;report.pdf&quot;));\r\n\r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n    builder.addTextBody(&quot;chat_id&quot;, chatId.toString());\r\n    builder.addBinaryBody(inputFile.getMediaName(), inputFile.getNewMediaFile(),\r\n    ContentType.APPLICATION_OCTET_STREAM, inputFile.getMediaName());\r\n    builder.addTextBody(&quot;document&quot;, inputFile.getAttachName());\r\n    org.apache.http.HttpEntity multipart = builder.build();\r\n\r\n    httppost.setEntity(multipart);\r\n    CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    try {\r\n        httpClient.execute(httppost);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nAND IT IS WORK! BUT ... I need the code to work when using RestTemplate. I conclude that the problem is in the use of RestTemplate.\r\n\r\nHelp plz, How do I correctly use and configure RestTemplate to send binary files in /sendDocument telegram API\r\n\r\nok, I try with WebClient:\r\n\r\n    public void sendNewPdfReportWebClient(Long chatId) {\r\n        WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\r\n\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;chat_id&quot;, chatId);\r\n        try {\r\n            builder.part(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        webClient.post()\r\n                .uri(String.join(&quot;/sendDocument&quot;))\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                .body(BodyInserters.fromMultipartData(builder.build()))\r\n                .exchangeToMono(response -&gt; {\r\n                    if (response.statusCode().equals(HttpStatus.OK)) {\r\n                        return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\r\n                    } else {\r\n                        throw new ServiceException(&quot;Error uploading file&quot;);\r\n                    }\r\n                })\r\n                .block();\r\n    }\r\n\r\n\r\nI have the next error:\r\n\r\nError uploading file\r\n2023-07-24 23:33:55,572 ERROR [http-nio-8088-exec-5] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null] with root cause\r\njava.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null\r\n\r\n[Telegram API /sendDocument from Insomnia][1]\r\n\r\n\r\nLog with debug:\r\n\r\n    New debugLog: 2023-07-25 17:57:11,141 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | onSubscribe([Fuseable] MonoFlatMap.FlatMapMain)\r\n    2023-07-25 17:57:11,142 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | request(unbounded)\r\n    2023-07-25 17:57:11,155 DEBUG [http-nio-8088-exec-1] o.s.c.l.LogFormatUtils: [1eebab11] HTTP POST https://api.telegram.org/bot&lt;myToken&gt;/sendDocument\r\n    2023-07-25 17:57:11,542 DEBUG [reactor-http-nio-2] o.s.c.l.LogFormatUtils: [1eebab11] [63f404bc-1] Response 400 BAD_REQUEST\r\n    2023-07-25 17:57:11,550 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onNext({&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;})\r\n    2023-07-25 17:57:11,551 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onComplete()\r\n\r\n[Headers in rest client Insomnia][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2cgWe.png\r\n  [2]: https://i.stack.imgur.com/Isyh0.png\r\n\r\nIn result r&amp;d working code:\r\n\r\n    public void sendNewFileReport(Long chatId, String firstName, String reportPath) {\r\n            WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\r\n            File file = null;\r\n            try {\r\n                file = ResourceUtils.getFile(reportPath);\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n            body.add(&quot;chat_id&quot;, chatId);\r\n            body.add(&quot;document&quot;, new FileSystemResource(file));\r\n    \r\n            webClient.post()\r\n                    .uri(&quot;/sendDocument&quot;)\r\n                    .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                    .body(BodyInserters.fromMultipartData(body))\r\n                    .retrieve()\r\n                    .bodyToMono(Void.class)\r\n                    .subscribe(\r\n                            data -&gt; log.info(&quot;Data: {}&quot;, data),\r\n                            error -&gt; log.error(&quot;Error: &quot;, error),\r\n                            () -&gt; log.info(&quot;{},  has been sent successfully&quot;, firstName)\r\n                    );\r\n        }","title":"Telegram-bot api sendDocument error when i use RestTemplate in Spring boot","body":"<p>I use Spring Boot 3.1, Telegram Bots Spring Boot Starter 6.7.0 and WebHook bot</p>\n<p>I need to use class RestTemplate for call method /sendDocument in telegram API. I have read documentation telegram <a href=\"https://core.telegram.org/bots/api#senddocument\" rel=\"nofollow noreferrer\">https://core.telegram.org/bots/api#senddocument</a> and <a href=\"https://core.telegram.org/bots/api#sending-files\" rel=\"nofollow noreferrer\">https://core.telegram.org/bots/api#sending-files</a>, in my situation i need to send new binary pdf file.</p>\n<p>I use next code:</p>\n<pre><code>public void sendNewPdfReport(Long chatId) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n\n    File file = null;\n    try {\n        file = ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;);\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n    InputFile inputFile = new InputFile(file);\n\n    body.add(&quot;chat_id&quot;, chatId);\n    body.add(&quot;document&quot;, inputFile);\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n    restTemplate.postForEntity(&quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;, requestEntity, String.class);\n}\n</code></pre>\n<p>When i call this code i get an error:</p>\n<p>API Telegram: 400 Bad Request: &quot;{&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;}&quot;</p>\n<p>2023-07-23 18:22:58,936 ERROR [http-nio-8088-exec-1] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getChatId()&quot; because the return value of &quot;org.telegram.telegrambots.meta.api.objects.Update.getMessage()&quot; is null] with root cause</p>\n<p>I don't understand what the problem is. I fill in the fields as indicated in the documentation.</p>\n<p>I rewrote the code without using RestTemplate:</p>\n<pre><code>public void sendNewPdfReport2Work(Long chatId) {\n    String uri = &quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;;\n    HttpPost httppost = new HttpPost(uri);\n    InputFile inputFile = new InputFile(new File(&quot;report.pdf&quot;));\n\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n    builder.addTextBody(&quot;chat_id&quot;, chatId.toString());\n    builder.addBinaryBody(inputFile.getMediaName(), inputFile.getNewMediaFile(),\n    ContentType.APPLICATION_OCTET_STREAM, inputFile.getMediaName());\n    builder.addTextBody(&quot;document&quot;, inputFile.getAttachName());\n    org.apache.http.HttpEntity multipart = builder.build();\n\n    httppost.setEntity(multipart);\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n    try {\n        httpClient.execute(httppost);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>AND IT IS WORK! BUT ... I need the code to work when using RestTemplate. I conclude that the problem is in the use of RestTemplate.</p>\n<p>Help plz, How do I correctly use and configure RestTemplate to send binary files in /sendDocument telegram API</p>\n<p>ok, I try with WebClient:</p>\n<pre><code>public void sendNewPdfReportWebClient(Long chatId) {\n    WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\n\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;chat_id&quot;, chatId);\n    try {\n        builder.part(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n\n    webClient.post()\n            .uri(String.join(&quot;/sendDocument&quot;))\n            .contentType(MediaType.MULTIPART_FORM_DATA)\n            .body(BodyInserters.fromMultipartData(builder.build()))\n            .exchangeToMono(response -&gt; {\n                if (response.statusCode().equals(HttpStatus.OK)) {\n                    return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\n                } else {\n                    throw new ServiceException(&quot;Error uploading file&quot;);\n                }\n            })\n            .block();\n}\n</code></pre>\n<p>I have the next error:</p>\n<p>Error uploading file\n2023-07-24 23:33:55,572 ERROR [http-nio-8088-exec-5] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null] with root cause\njava.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null</p>\n<p><a href=\"https://i.stack.imgur.com/2cgWe.png\" rel=\"nofollow noreferrer\">Telegram API /sendDocument from Insomnia</a></p>\n<p>Log with debug:</p>\n<pre><code>New debugLog: 2023-07-25 17:57:11,141 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | onSubscribe([Fuseable] MonoFlatMap.FlatMapMain)\n2023-07-25 17:57:11,142 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | request(unbounded)\n2023-07-25 17:57:11,155 DEBUG [http-nio-8088-exec-1] o.s.c.l.LogFormatUtils: [1eebab11] HTTP POST https://api.telegram.org/bot&lt;myToken&gt;/sendDocument\n2023-07-25 17:57:11,542 DEBUG [reactor-http-nio-2] o.s.c.l.LogFormatUtils: [1eebab11] [63f404bc-1] Response 400 BAD_REQUEST\n2023-07-25 17:57:11,550 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onNext({&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;})\n2023-07-25 17:57:11,551 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onComplete()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Isyh0.png\" rel=\"nofollow noreferrer\">Headers in rest client Insomnia</a></p>\n<p>In result r&amp;d working code:</p>\n<pre><code>public void sendNewFileReport(Long chatId, String firstName, String reportPath) {\n        WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\n        File file = null;\n        try {\n            file = ResourceUtils.getFile(reportPath);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(&quot;chat_id&quot;, chatId);\n        body.add(&quot;document&quot;, new FileSystemResource(file));\n\n        webClient.post()\n                .uri(&quot;/sendDocument&quot;)\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(BodyInserters.fromMultipartData(body))\n                .retrieve()\n                .bodyToMono(Void.class)\n                .subscribe(\n                        data -&gt; log.info(&quot;Data: {}&quot;, data),\n                        error -&gt; log.error(&quot;Error: &quot;, error),\n                        () -&gt; log.info(&quot;{},  has been sent successfully&quot;, firstName)\n                );\n    }\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690641061,"creation_date":1690641061,"answer_id":76794025,"question_id":76792745,"body_markdown":"Working with SceneBuilder will definitely simplify the work :), but you need to be very careful with all the attributes it generates. Particularly in FXML file, don&#39;t include any attribute unless it is really required. \r\n\r\nI can observe the same in your FXML code. There are lot of unnecessary attributes which you can eliminate. In fact that will fix your issue.\r\n\r\nFew points you can consider:\r\n * Understand the impact of using min/max width/height with Infinity/-Infinity\r\n * Remove unnecessary constraints if it is not required.\r\n * Understand how each layout behaves. Choosing the correct layout will really simplify the work. \r\n * If you want your application to be resizable, try minimizing the usage of prefWidth/height and let the layout take care of it.\r\n\r\nI tried to do some rework on the fxmls you provided. You can check the below code for reference and see what can be done to your exact requirement.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMainContainer:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\r\n        &lt;top&gt;\r\n            &lt;MenuBar &gt;\r\n                &lt;menus&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                &lt;/menus&gt;\r\n            &lt;/MenuBar&gt;\r\n        &lt;/top&gt;\r\n        &lt;center&gt;\r\n            &lt;BorderPane fx:id=&quot;borderPane&quot; &gt;\r\n                &lt;left&gt;\r\n                    &lt;VBox prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                        &lt;children&gt;\r\n                            &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;/&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\r\n                        &lt;/children&gt;\r\n                        &lt;padding&gt;\r\n                            &lt;Insets topRightBottomLeft=&quot;5&quot;/&gt;\r\n                        &lt;/padding&gt;\r\n                    &lt;/VBox&gt;\r\n                &lt;/left&gt;\r\n                &lt;center&gt;\r\n    \r\n                &lt;/center&gt;\r\n            &lt;/BorderPane&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nChild Container:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;GridPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; fillWidth=&quot;true&quot;/&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n            &lt;RowConstraints vgrow=&quot;ALWAYS&quot; fillHeight=&quot;true&quot;/&gt;\r\n        &lt;/rowConstraints&gt;\r\n        &lt;children&gt;\r\n            &lt;TableView&gt;\r\n                &lt;columns&gt;\r\n                    &lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\r\n                        &lt;columns&gt;\r\n                            &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot;/&gt;\r\n                            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot;/&gt;\r\n                        &lt;/columns&gt;\r\n                    &lt;/TableColumn&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot;/&gt;\r\n                &lt;/columns&gt;\r\n                &lt;columnResizePolicy&gt;\r\n                    &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n                &lt;/columnResizePolicy&gt;\r\n            &lt;/TableView&gt;\r\n        &lt;/children&gt;\r\n    &lt;/GridPane&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/slUOX.gif","title":"Resizable child pane","body":"<p>Working with SceneBuilder will definitely simplify the work :), but you need to be very careful with all the attributes it generates. Particularly in FXML file, don't include any attribute unless it is really required.</p>\n<p>I can observe the same in your FXML code. There are lot of unnecessary attributes which you can eliminate. In fact that will fix your issue.</p>\n<p>Few points you can consider:</p>\n<ul>\n<li>Understand the impact of using min/max width/height with Infinity/-Infinity</li>\n<li>Remove unnecessary constraints if it is not required.</li>\n<li>Understand how each layout behaves. Choosing the correct layout will really simplify the work.</li>\n<li>If you want your application to be resizable, try minimizing the usage of prefWidth/height and let the layout take care of it.</li>\n</ul>\n<p>I tried to do some rework on the fxmls you provided. You can check the below code for reference and see what can be done to your exact requirement.</p>\n<p><a href=\"https://i.stack.imgur.com/slUOX.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/slUOX.gif\" alt=\"enter image description here\" /></a></p>\n<p>MainContainer:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\n    &lt;top&gt;\n        &lt;MenuBar &gt;\n            &lt;menus&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n            &lt;/menus&gt;\n        &lt;/MenuBar&gt;\n    &lt;/top&gt;\n    &lt;center&gt;\n        &lt;BorderPane fx:id=&quot;borderPane&quot; &gt;\n            &lt;left&gt;\n                &lt;VBox prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n                    &lt;children&gt;\n                        &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;/&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\n                    &lt;/children&gt;\n                    &lt;padding&gt;\n                        &lt;Insets topRightBottomLeft=&quot;5&quot;/&gt;\n                    &lt;/padding&gt;\n                &lt;/VBox&gt;\n            &lt;/left&gt;\n            &lt;center&gt;\n\n            &lt;/center&gt;\n        &lt;/BorderPane&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Child Container:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;GridPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;columnConstraints&gt;\n        &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; fillWidth=&quot;true&quot;/&gt;\n    &lt;/columnConstraints&gt;\n    &lt;rowConstraints&gt;\n        &lt;RowConstraints vgrow=&quot;ALWAYS&quot; fillHeight=&quot;true&quot;/&gt;\n    &lt;/rowConstraints&gt;\n    &lt;children&gt;\n        &lt;TableView&gt;\n            &lt;columns&gt;\n                &lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\n                    &lt;columns&gt;\n                        &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot;/&gt;\n                        &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot;/&gt;\n                    &lt;/columns&gt;\n                &lt;/TableColumn&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot;/&gt;\n            &lt;/columns&gt;\n            &lt;columnResizePolicy&gt;\n                &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n            &lt;/columnResizePolicy&gt;\n        &lt;/TableView&gt;\n    &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n"}],"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690641061,"creation_date":1690619572,"question_id":76792745,"body_markdown":"I have created main container FXML file, and separate home FXML file. I am trying to add home file to main container. main container has one border pane and I am adding home FXML to center of border pane, but when I an maximizing pane take only preferred space, but not space available\r\n\r\nmaincontainer\r\n```\r\n &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;553.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\r\n   &lt;children&gt;\r\n\t  &lt;MenuBar layoutY=&quot;3.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n\t\t&lt;menus&gt;\r\n\t\t  &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\r\n\t\t\t&lt;items&gt;\r\n\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\r\n\t\t\t&lt;/items&gt;\r\n\t\t  &lt;/Menu&gt;\r\n\t\t  &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\r\n\t\t\t&lt;items&gt;\r\n\t\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\r\n\t\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\r\n\t\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\r\n\t\t\t&lt;/items&gt;\r\n\t\t  &lt;/Menu&gt;\r\n\t\t  &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\r\n\t\t\t&lt;items&gt;\r\n\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\r\n\t\t\t&lt;/items&gt;\r\n\t\t  &lt;/Menu&gt;\r\n\t\t&lt;/menus&gt;\r\n\t  &lt;/MenuBar&gt;\r\n\t  &lt;BorderPane fx:id=&quot;borderPane&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;378.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;22.0&quot;&gt;\r\n\t\t &lt;bottom&gt;\r\n\t\t\t&lt;AnchorPane prefHeight=&quot;22.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n\t\t &lt;/bottom&gt;\r\n\t\t &lt;left&gt;\r\n\t\t\t&lt;VBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;509.0&quot; prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n\t\t\t   &lt;children&gt;\r\n\t\t\t\t  &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;&gt;\r\n\t\t\t\t\t &lt;VBox.margin&gt;\r\n\t\t\t\t\t\t&lt;Insets top=&quot;200.0&quot; /&gt;\r\n\t\t\t\t\t &lt;/VBox.margin&gt;\r\n\t\t\t\t  &lt;/Button&gt;\r\n\t\t\t\t  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\r\n\t\t\t\t  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\r\n\t\t\t\t  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\r\n\t\t\t   &lt;/children&gt;\r\n\t\t\t   &lt;BorderPane.margin&gt;\r\n\t\t\t\t  &lt;Insets /&gt;\r\n\t\t\t   &lt;/BorderPane.margin&gt;\r\n\t\t\t&lt;/VBox&gt;\r\n\t\t &lt;/left&gt;\r\n\t\t &lt;center&gt;\r\n\t\t\t&lt;FlowPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-background-color: #FF0000;&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n\t\t &lt;/center&gt;\r\n\t  &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nchild container\r\n```\r\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;500&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n  &lt;columnConstraints&gt;\r\n\t&lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n  &lt;/columnConstraints&gt;\r\n  &lt;rowConstraints&gt;\r\n\t&lt;RowConstraints maxHeight=&quot;264.00000915527346&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.20000610351562&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n\t&lt;RowConstraints maxHeight=&quot;225.00000610351563&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;36.79998779296875&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n\t&lt;RowConstraints maxHeight=&quot;183.60001525878909&quot; minHeight=&quot;22.39996337890625&quot; prefHeight=&quot;136.00001220703123&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n\t  &lt;RowConstraints maxHeight=&quot;124.00002441406252&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n  &lt;/rowConstraints&gt;\r\n   &lt;children&gt;\r\n\t  &lt;TableView prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n\t\t&lt;columns&gt;\r\n\t\t\t&lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot; /&gt;\r\n\t\t  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot; /&gt;\r\n\t\t  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\r\n\t\t\t   &lt;columns&gt;\r\n\t\t\t\t  &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot; /&gt;\r\n\t\t\t\t  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot; /&gt;\r\n\t\t\t   &lt;/columns&gt;\r\n\t\t\t&lt;/TableColumn&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot; /&gt;\r\n\t\t&lt;/columns&gt;\r\n\t\t &lt;columnResizePolicy&gt;\r\n\t\t\t&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\r\n\t\t &lt;/columnResizePolicy&gt;\r\n\t  &lt;/TableView&gt;\r\n   &lt;/children&gt;\r\n&lt;/GridPane&gt;\r\n```\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pRocv.jpg","title":"Resizable child pane","body":"<p>I have created main container FXML file, and separate home FXML file. I am trying to add home file to main container. main container has one border pane and I am adding home FXML to center of border pane, but when I an maximizing pane take only preferred space, but not space available</p>\n<p>maincontainer</p>\n<pre><code> &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;553.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;MenuBar layoutY=&quot;3.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n        &lt;menus&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\n            &lt;items&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n        &lt;/menus&gt;\n      &lt;/MenuBar&gt;\n      &lt;BorderPane fx:id=&quot;borderPane&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;378.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;22.0&quot;&gt;\n         &lt;bottom&gt;\n            &lt;AnchorPane prefHeight=&quot;22.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/bottom&gt;\n         &lt;left&gt;\n            &lt;VBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;509.0&quot; prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;&gt;\n                     &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;200.0&quot; /&gt;\n                     &lt;/VBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\n               &lt;/children&gt;\n               &lt;BorderPane.margin&gt;\n                  &lt;Insets /&gt;\n               &lt;/BorderPane.margin&gt;\n            &lt;/VBox&gt;\n         &lt;/left&gt;\n         &lt;center&gt;\n            &lt;FlowPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-background-color: #FF0000;&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/center&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>child container</p>\n<pre><code>&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;500&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n  &lt;columnConstraints&gt;\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n  &lt;/columnConstraints&gt;\n  &lt;rowConstraints&gt;\n    &lt;RowConstraints maxHeight=&quot;264.00000915527346&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.20000610351562&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;RowConstraints maxHeight=&quot;225.00000610351563&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;36.79998779296875&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;RowConstraints maxHeight=&quot;183.60001525878909&quot; minHeight=&quot;22.39996337890625&quot; prefHeight=&quot;136.00001220703123&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n      &lt;RowConstraints maxHeight=&quot;124.00002441406252&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n  &lt;/rowConstraints&gt;\n   &lt;children&gt;\n      &lt;TableView prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n        &lt;columns&gt;\n            &lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\n               &lt;columns&gt;\n                  &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot; /&gt;\n                  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot; /&gt;\n               &lt;/columns&gt;\n            &lt;/TableColumn&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot; /&gt;\n        &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\n         &lt;/columnResizePolicy&gt;\n      &lt;/TableView&gt;\n   &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/pRocv.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","multithreading","disruptor-pattern"],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690640884,"creation_date":1690612061,"answer_id":76792330,"question_id":76452048,"body_markdown":"Assuming `createThreadFactory(&quot;consumer-thread&quot;)` is a custom method which creates threads.You should be able to give uniquename to each thread and task could log threadname when loglevel=DEBUG\r\n\r\n```\r\nclass CustomThreadFactory1 implements ThreadFactory{\r\n\r\n    @Override\r\n    public Thread newThread(Runnable r) {\r\n        Thread thread = new Thread(r);\r\n        thread.setName(RandomStringUtils.random(100));//any random value\r\n        return thread;\r\n    }\r\n}\r\n```","title":"Determining if threads are actually doing any work in Java","body":"<p>Assuming <code>createThreadFactory(&quot;consumer-thread&quot;)</code> is a custom method which creates threads.You should be able to give uniquename to each thread and task could log threadname when loglevel=DEBUG</p>\n<pre><code>class CustomThreadFactory1 implements ThreadFactory{\n\n    @Override\n    public Thread newThread(Runnable r) {\n        Thread thread = new Thread(r);\n        thread.setName(RandomStringUtils.random(100));//any random value\n        return thread;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690622071,"creation_date":1690622071,"answer_id":76792892,"question_id":76452048,"body_markdown":"Here&#39;s one way of monitoring and reporting how much CPU each thread is using.\r\n```\r\npackage org.example;\r\n\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.ThreadInfo;\r\nimport java.lang.management.ThreadMXBean;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class ThreadMonitor {\r\n    public static void main(String[] args) {\r\n        final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n        if (!threadMXBean.isThreadCpuTimeSupported()) {\r\n            throw new RuntimeException(&quot;CPU time not supported&quot;);\r\n        }\r\n        threadMXBean.setThreadCpuTimeEnabled(true);\r\n        final Map&lt;Long,Long&gt; cpuTimeByThread = new HashMap&lt;&gt;();\r\n        ScheduledExecutorService monitor = Executors.newScheduledThreadPool(1);\r\n        monitor.scheduleAtFixedRate(() -&gt; {\r\n            for (long id : threadMXBean.getAllThreadIds()) {\r\n                long cpuTime = threadMXBean.getThreadCpuTime(id);\r\n                Long prevCpuTime = cpuTimeByThread.put(id, cpuTime);\r\n                if (prevCpuTime != null &amp;&amp; cpuTime - prevCpuTime &gt; 0) {\r\n                    ThreadInfo info = threadMXBean.getThreadInfo(id);\r\n                    System.out.printf(&quot;Thread %s ran %f ms%n&quot;, info.getThreadName(), (cpuTime - prevCpuTime)/1_000_000.0);\r\n                }\r\n            }\r\n        }, 0, 10, TimeUnit.SECONDS);\r\n        Executor executor = Executors.newFixedThreadPool(5);\r\n        for (int i = 0; i &lt;= 4; i++) {\r\n            final int sleepTime = i * 25;\r\n            executor.execute(() -&gt; {\r\n                Random r = new Random();\r\n                long l = 0;\r\n                while (true) {\r\n                    try {\r\n                        if (sleepTime &gt; 0) {\r\n                            Thread.sleep(sleepTime);\r\n                        }\r\n                        long now = System.currentTimeMillis();\r\n                        while (System.currentTimeMillis() - now &lt; 100) {\r\n                            l += r.nextLong();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nI don&#39;t actually get the result I expect -- I expect the first thread in the pool to use a CPU for 100% of the time, but it reports less than 50% utilisation. Still, this does tell you which threads are working.","title":"Determining if threads are actually doing any work in Java","body":"<p>Here's one way of monitoring and reporting how much CPU each thread is using.</p>\n<pre><code>package org.example;\n\nimport java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadInfo;\nimport java.lang.management.ThreadMXBean;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Random;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class ThreadMonitor {\n    public static void main(String[] args) {\n        final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n        if (!threadMXBean.isThreadCpuTimeSupported()) {\n            throw new RuntimeException(&quot;CPU time not supported&quot;);\n        }\n        threadMXBean.setThreadCpuTimeEnabled(true);\n        final Map&lt;Long,Long&gt; cpuTimeByThread = new HashMap&lt;&gt;();\n        ScheduledExecutorService monitor = Executors.newScheduledThreadPool(1);\n        monitor.scheduleAtFixedRate(() -&gt; {\n            for (long id : threadMXBean.getAllThreadIds()) {\n                long cpuTime = threadMXBean.getThreadCpuTime(id);\n                Long prevCpuTime = cpuTimeByThread.put(id, cpuTime);\n                if (prevCpuTime != null &amp;&amp; cpuTime - prevCpuTime &gt; 0) {\n                    ThreadInfo info = threadMXBean.getThreadInfo(id);\n                    System.out.printf(&quot;Thread %s ran %f ms%n&quot;, info.getThreadName(), (cpuTime - prevCpuTime)/1_000_000.0);\n                }\n            }\n        }, 0, 10, TimeUnit.SECONDS);\n        Executor executor = Executors.newFixedThreadPool(5);\n        for (int i = 0; i &lt;= 4; i++) {\n            final int sleepTime = i * 25;\n            executor.execute(() -&gt; {\n                Random r = new Random();\n                long l = 0;\n                while (true) {\n                    try {\n                        if (sleepTime &gt; 0) {\n                            Thread.sleep(sleepTime);\n                        }\n                        long now = System.currentTimeMillis();\n                        while (System.currentTimeMillis() - now &lt; 100) {\n                            l += r.nextLong();\n                        }\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>I don't actually get the result I expect -- I expect the first thread in the pool to use a CPU for 100% of the time, but it reports less than 50% utilisation. Still, this does tell you which threads are working.</p>\n"}],"owner":{"account_id":1954753,"reputation":2098,"user_id":1758023,"accept_rate":94,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690640884,"creation_date":1686509751,"question_id":76452048,"body_markdown":"We have an application which uses Lmax Disruptor. We originally configured the Disruptor by \r\n\r\n```\r\n        this.disruptor = new Disruptor&lt;&gt;(\r\n                GenericEvent::new,\r\n                BUFFER_SIZE,\r\n                createThreadFactory(&quot;consumer-thread&quot;),\r\n                ProducerType.SINGLE,\r\n                new BlockingWaitStrategy());\r\n\r\n        this.ringBuffer = disruptor.getRingBuffer();\r\n\r\n        ConsumerPool consumers = eventHandlerFactory.createPool(POOL_SIZE);\r\n        this.disruptor.handleEventsWithWorkerPool(consumers);\r\n```\r\n\r\nBut from what I understand, the pool sent to `handleEventsWithWorkerPool` does not distribute the work to all the consumers in the pool. We saw (through JFR), that only the last thread was doing all the work.\r\n\r\n\r\nMy question is, what sort of metric could I have used to see that only one thread was doing all the work? Something that doesn&#39;t require running JFR after the application has gotten too slow?\r\n\r\nI know if my threads are in a ThreadPool Executor, I can get lots of metrics on usage, etc.\r\n\r\nThanks","title":"Determining if threads are actually doing any work in Java","body":"<p>We have an application which uses Lmax Disruptor. We originally configured the Disruptor by</p>\n<pre><code>        this.disruptor = new Disruptor&lt;&gt;(\n                GenericEvent::new,\n                BUFFER_SIZE,\n                createThreadFactory(&quot;consumer-thread&quot;),\n                ProducerType.SINGLE,\n                new BlockingWaitStrategy());\n\n        this.ringBuffer = disruptor.getRingBuffer();\n\n        ConsumerPool consumers = eventHandlerFactory.createPool(POOL_SIZE);\n        this.disruptor.handleEventsWithWorkerPool(consumers);\n</code></pre>\n<p>But from what I understand, the pool sent to <code>handleEventsWithWorkerPool</code> does not distribute the work to all the consumers in the pool. We saw (through JFR), that only the last thread was doing all the work.</p>\n<p>My question is, what sort of metric could I have used to see that only one thread was doing all the work? Something that doesn't require running JFR after the application has gotten too slow?</p>\n<p>I know if my threads are in a ThreadPool Executor, I can get lots of metrics on usage, etc.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1690602958,"post_id":76791927,"comment_id":135380061,"body_markdown":"At first glance, none of the code you shared uses the Firebase Realtime Database API. If you haven&#39;t used this API yet, I recommend getting started with https://firebase.google.com/docs/database/android/start, https://firebase.google.com/docs/database/android/read-and-write and https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events","body":"At first glance, none of the code you shared uses the Firebase Realtime Database API. If you haven&#39;t used this API yet, I recommend getting started with <a href=\"https://firebase.google.com/docs/database/android/start\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/start</a>, <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a> and <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690630310,"post_id":76791927,"comment_id":135382251,"body_markdown":"Please edit your question and add the code that you&#39;re using to get data from the Realtime Database.","body":"Please edit your question and add the code that you&#39;re using to get data from the Realtime Database."}],"owner":{"account_id":27741738,"reputation":21,"user_id":21178076,"display_name":"Dhananjay Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690640585,"creation_date":1690600776,"question_id":76791927,"body_markdown":"I want to retrieve data from realtime database in a manner that I can display data like this [enter image description here](https://i.stack.imgur.com/5yxPV.png)\r\n\r\nData is stored in this way: \r\n\r\n![enter image description here](https://i.stack.imgur.com/Qkmla.png)\r\n\r\ndata should appear like subject then all the tests given under that subject \r\n, then in next cardview another subject and all the tests given under that subject\r\n\r\nFile where I am trying to fetch data from Firebase\r\n```\r\npackage com.gov.thecoachinginstitute;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.WindowManager;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class ShowStudentData extends AppCompatActivity {\r\n    private String id;\r\n    private ListView showSubjectListView,showMarksListView;\r\n    private HashMap&lt;String,String&gt; marksHashMap;\r\n    TextView st_id,st_name,st_schoolName;\r\n    private DatabaseReference databaseReference;\r\n    final ArrayList&lt;showDataCustomLayout&gt; subjects = new ArrayList&lt;showDataCustomLayout&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_show_student_data);\r\n\r\n\r\n        // Finding Id&#39;s\r\n        st_id = findViewById(R.id.st_id);\r\n        st_name = findViewById(R.id.st_name);\r\n        st_schoolName = findViewById(R.id.st_schoolName);\r\n        showSubjectListView = findViewById(R.id.showSubjectListView);\r\n//        showMarksListView = findViewById(R.id.marksListView);\r\n\r\n        final ArrayList&lt;showDataCustomLayout&gt; subjectArrayList = new ArrayList&lt;showDataCustomLayout&gt;();\r\n\r\n\r\n\r\n\r\n\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;StudentReportLogin&quot;,MODE_PRIVATE);\r\n\r\n        id = sharedPreferences.getString(&quot;ID&quot;,null);\r\n        st_id.setText(id);\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n\r\n\r\n\r\n        settingHeaderValues(id);\r\n\r\n        showingMarks(id);\r\n\r\n    }\r\n\r\n    private void showingMarks(String id) {\r\n//        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this,R.layout.student_marks_data_layout,subjects);\r\n        final MarksArrayAdapter adapter = new MarksArrayAdapter(this,subjects);\r\n        databaseReference.child(&quot;Student Marks/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    for(DataSnapshot ds : snapshot.getChildren()){\r\n                        String subject = ds.getKey();\r\n                        showDataCustomLayout sub = new showDataCustomLayout(subject,subject,subject);\r\n                        subjects.add(sub);\r\n//                        marksHashMap = new HashMap&lt;String,String&gt;();\r\n//                        for (DataSnapshot ds1 : ds.getChildren()){\r\n//                            marksHashMap.put(ds1.getKey(),ds1.getValue(String.class));\r\n//                        }\r\n//                        adapter.notifyDataSetChanged();\r\n//                        Log.e(&quot;sub&quot;,subject);\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n//        showSubjectListView.setAdapter(adapter);\r\n        showSubjectListView.setAdapter(adapter);\r\n    }\r\n\r\n    private void settingHeaderValues(String id) {\r\n        databaseReference.child(&quot;StudentInfo/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    st_name.setText(snapshot.child(&quot;student_Name&quot;).getValue(String.class));\r\n                    st_schoolName.setText(snapshot.child(&quot;student_School&quot;).getValue(String.class));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nCustom Adapter \r\n```\r\npackage com.gov.thecoachinginstitute;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MarksArrayAdapter extends ArrayAdapter&lt;showDataCustomLayout&gt; {\r\n    public MarksArrayAdapter(@NonNull Context context, ArrayList&lt;showDataCustomLayout&gt; arrayList) {\r\n        super(context, 0,arrayList);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        View currentItemView = convertView;\r\n\r\n        if (currentItemView == null){\r\n            currentItemView = LayoutInflater.from(getContext()).inflate(R.layout.student_marks_data_show_layout,parent,false);\r\n        }\r\n\r\n        showDataCustomLayout currentmarks = getItem(position);\r\n\r\n        TextView textView = currentItemView.findViewById(R.id.subjectName);\r\n        textView.setText(currentmarks.getSubject());\r\n\r\n        TextView textView1 = currentItemView.findViewById(R.id.test_number);\r\n        textView1.setText(currentmarks.getTest());\r\n\r\n        TextView textView2 = currentItemView.findViewById(R.id.test_marks);\r\n        textView2.setText(currentmarks.getNumber());\r\n\r\n        return currentItemView;\r\n    }\r\n}\r\n\r\n```\r\n\r\nModel class\r\n\r\n```\r\npackage com.gov.thecoachinginstitute;\r\n\r\npublic class showDataCustomLayout {\r\n    private String subject,test,number;\r\n\r\n    public showDataCustomLayout(String subject, String test,String number) {\r\n        this.subject = subject;\r\n        this.test = test;\r\n        this.number = number;\r\n    }\r\n\r\n    public String getSubject() {\r\n        return subject;\r\n    }\r\n\r\n    public String getTest() {\r\n        return test;\r\n    }\r\n\r\n    public String getNumber() {\r\n        return number;\r\n    }\r\n}\r\n\r\n```\r\n\r\nLayout File for subject name which includes test marks layout file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        app:cardCornerRadius=&quot;10sp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;@color/white&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/subjectName&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Subject&quot;\r\n                android:textColor=&quot;#707BFE&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:padding=&quot;5sp&quot;/&gt;\r\n\r\n            &lt;include\r\n                layout=&quot;@layout/student_marks_data_show_layout&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/test_number&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;Present&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/test_marks&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;Present&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\nNot getting the expected result ","title":"Retrieving Nested Data from Firebase Realtime Database","body":"<p>I want to retrieve data from realtime database in a manner that I can display data like this <a href=\"https://i.stack.imgur.com/5yxPV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Data is stored in this way:</p>\n<p><img src=\"https://i.stack.imgur.com/Qkmla.png\" alt=\"enter image description here\" /></p>\n<p>data should appear like subject then all the tests given under that subject\n, then in next cardview another subject and all the tests given under that subject</p>\n<p>File where I am trying to fetch data from Firebase</p>\n<pre><code>package com.gov.thecoachinginstitute;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.WindowManager;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class ShowStudentData extends AppCompatActivity {\n    private String id;\n    private ListView showSubjectListView,showMarksListView;\n    private HashMap&lt;String,String&gt; marksHashMap;\n    TextView st_id,st_name,st_schoolName;\n    private DatabaseReference databaseReference;\n    final ArrayList&lt;showDataCustomLayout&gt; subjects = new ArrayList&lt;showDataCustomLayout&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_show_student_data);\n\n\n        // Finding Id's\n        st_id = findViewById(R.id.st_id);\n        st_name = findViewById(R.id.st_name);\n        st_schoolName = findViewById(R.id.st_schoolName);\n        showSubjectListView = findViewById(R.id.showSubjectListView);\n//        showMarksListView = findViewById(R.id.marksListView);\n\n        final ArrayList&lt;showDataCustomLayout&gt; subjectArrayList = new ArrayList&lt;showDataCustomLayout&gt;();\n\n\n\n\n\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;StudentReportLogin&quot;,MODE_PRIVATE);\n\n        id = sharedPreferences.getString(&quot;ID&quot;,null);\n        st_id.setText(id);\n\n        databaseReference = FirebaseDatabase.getInstance().getReference();\n\n\n\n        settingHeaderValues(id);\n\n        showingMarks(id);\n\n    }\n\n    private void showingMarks(String id) {\n//        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this,R.layout.student_marks_data_layout,subjects);\n        final MarksArrayAdapter adapter = new MarksArrayAdapter(this,subjects);\n        databaseReference.child(&quot;Student Marks/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    for(DataSnapshot ds : snapshot.getChildren()){\n                        String subject = ds.getKey();\n                        showDataCustomLayout sub = new showDataCustomLayout(subject,subject,subject);\n                        subjects.add(sub);\n//                        marksHashMap = new HashMap&lt;String,String&gt;();\n//                        for (DataSnapshot ds1 : ds.getChildren()){\n//                            marksHashMap.put(ds1.getKey(),ds1.getValue(String.class));\n//                        }\n//                        adapter.notifyDataSetChanged();\n//                        Log.e(&quot;sub&quot;,subject);\n                    }\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n//        showSubjectListView.setAdapter(adapter);\n        showSubjectListView.setAdapter(adapter);\n    }\n\n    private void settingHeaderValues(String id) {\n        databaseReference.child(&quot;StudentInfo/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    st_name.setText(snapshot.child(&quot;student_Name&quot;).getValue(String.class));\n                    st_schoolName.setText(snapshot.child(&quot;student_School&quot;).getValue(String.class));\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>Custom Adapter</p>\n<pre><code>package com.gov.thecoachinginstitute;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\n\npublic class MarksArrayAdapter extends ArrayAdapter&lt;showDataCustomLayout&gt; {\n    public MarksArrayAdapter(@NonNull Context context, ArrayList&lt;showDataCustomLayout&gt; arrayList) {\n        super(context, 0,arrayList);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        View currentItemView = convertView;\n\n        if (currentItemView == null){\n            currentItemView = LayoutInflater.from(getContext()).inflate(R.layout.student_marks_data_show_layout,parent,false);\n        }\n\n        showDataCustomLayout currentmarks = getItem(position);\n\n        TextView textView = currentItemView.findViewById(R.id.subjectName);\n        textView.setText(currentmarks.getSubject());\n\n        TextView textView1 = currentItemView.findViewById(R.id.test_number);\n        textView1.setText(currentmarks.getTest());\n\n        TextView textView2 = currentItemView.findViewById(R.id.test_marks);\n        textView2.setText(currentmarks.getNumber());\n\n        return currentItemView;\n    }\n}\n\n</code></pre>\n<p>Model class</p>\n<pre><code>package com.gov.thecoachinginstitute;\n\npublic class showDataCustomLayout {\n    private String subject,test,number;\n\n    public showDataCustomLayout(String subject, String test,String number) {\n        this.subject = subject;\n        this.test = test;\n        this.number = number;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public String getTest() {\n        return test;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n}\n\n</code></pre>\n<p>Layout File for subject name which includes test marks layout file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        app:cardCornerRadius=&quot;10sp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:background=&quot;@color/white&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/subjectName&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Subject&quot;\n                android:textColor=&quot;#707BFE&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;20sp&quot;\n                android:padding=&quot;5sp&quot;/&gt;\n\n            &lt;include\n                layout=&quot;@layout/student_marks_data_show_layout&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/test_number&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Present&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/test_marks&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Present&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Not getting the expected result</p>\n"},{"tags":["java","spring","asynchronous","async-await"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690587966,"post_id":76791346,"comment_id":135379253,"body_markdown":"Did you look at CompletableFuture? That&#39;ll cover most basic use cases. If you need more fine-tuning, you can use a custom Executor or maybe a ForkJoinPool (if tasks are recursive).","body":"Did you look at CompletableFuture? That&#39;ll cover most basic use cases. If you need more fine-tuning, you can use a custom Executor or maybe a ForkJoinPool (if tasks are recursive)."},{"owner":{"account_id":1534638,"reputation":132,"user_id":3108655,"display_name":"verpfeilt"},"score":0,"creation_date":1691001106,"post_id":76791346,"comment_id":135432822,"body_markdown":"I saw it, but the documentation does not answer my questions. It is the most modern way to do it in java?","body":"I saw it, but the documentation does not answer my questions. It is the most modern way to do it in java?"}],"answers":[{"comments":[{"owner":{"account_id":1534638,"reputation":132,"user_id":3108655,"display_name":"verpfeilt"},"score":0,"creation_date":1691001485,"post_id":76793253,"comment_id":135432878,"body_markdown":"Hi, I think if your answer would be really useful, but I am currently on mobile and not able to fix the broken formatting to fully understand it.  I am confused about the &quot;Futures are blocking by default&quot; part, but I assume you mean that they are object that can be polled by executors, similar to Futures in Rust? That would mean that CompletableFutures somehow are magic sugar that eases things, I guess?","body":"Hi, I think if your answer would be really useful, but I am currently on mobile and not able to fix the broken formatting to fully understand it.  I am confused about the &quot;Futures are blocking by default&quot; part, but I assume you mean that they are object that can be polled by executors, similar to Futures in Rust? That would mean that CompletableFutures somehow are magic sugar that eases things, I guess?"},{"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"score":1,"creation_date":1691010885,"post_id":76793253,"comment_id":135434660,"body_markdown":"Yes both Future and Completable Future can submit tasks to the executor that will perform an operation and return a result. The result obtained by calling get() on the Future, will block until the task is complete and the result is available.\nWhereas the Completable Future uses the .join() method which is similar to .get() but it doesn&#39;t block the calling thread. \nCompletableFuture is more flexible version of Future with additional methods and features.","body":"Yes both Future and Completable Future can submit tasks to the executor that will perform an operation and return a result. The result obtained by calling get() on the Future, will block until the task is complete and the result is available. Whereas the Completable Future uses the .join() method which is similar to .get() but it doesn&#39;t block the calling thread.  CompletableFuture is more flexible version of Future with additional methods and features."}],"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690640290,"creation_date":1690628563,"answer_id":76793253,"question_id":76791346,"body_markdown":"           You can use completable future to call the \r\n           service and collects its response / returned data asynchronously\r\n\r\n           Map &lt; String, List&lt;Object&gt;&gt; map //map with populated             values\r\n\r\n           Map &lt; String, List&lt;Object&gt;&gt; responseMap =     map.entrySet().stream()\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        entry -&gt; {\r\n            List&lt;Object&gt; objects = entry.getValue();\r\n            List &lt; CompletableFuture&lt;Object&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n            for (Object object: objects) {\r\n                futures.add(service.asyncMethod(object));\r\n            }\r\n\r\n            return futures.stream()\r\n                .map(CompletableFuture::join)\r\n                .collect(Collectors.toList());\r\n        }\r\n    ));\r\n\r\n       // asyncMethod in any service \r\n\r\n       @Async\r\n     public CompletableFuture&lt;Object&gt; asyncMethod(Object object) {\r\n    // do some asynchronous processing\r\n    return CompletableFuture.completedFuture(response);\r\n       }\r\n    //custom thread pool\r\n       @Aynsc in spring uses a default thread pool with single\r\n    thread if we don’t specify the thread pool. To execute it  on multiple threads custom thread pool should be created and  add it in @Async annotation.\r\n\r\n        1. Create a configuration class that implements AsyncConfigurer with @EnableAsync and @Configuration.\r\n        2. Override getAsyncExecutor()\r\n        3.define ThreadPoolTaskExecutor with core size, max size of threads and queue capacity and set any name to thread “myThread” and initialize() it.\r\n\r\n        @Aynsc(“myThread”) to be used in annotation if custom thread pool is used\r\n\r\n      The asynchronous processing in Java is similar to other languages. \r\n    1. In other language Async tasks, it’s executed in non blocking way. The main thread is not blocked till the execution completes. \r\n    Java Futures are blocking by default , but non blocking way can be achieved by using Completable Future. \r\n\r\n\r\n\r\n   ","title":"How do Java Futures work compared to other languages async features?","body":"<pre><code>       You can use completable future to call the \n       service and collects its response / returned data asynchronously\n\n       Map &lt; String, List&lt;Object&gt;&gt; map //map with populated             values\n\n       Map &lt; String, List&lt;Object&gt;&gt; responseMap =     map.entrySet().stream()\n.collect(Collectors.toMap(\n    Map.Entry::getKey,\n    entry -&gt; {\n        List&lt;Object&gt; objects = entry.getValue();\n        List &lt; CompletableFuture&lt;Object&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        for (Object object: objects) {\n            futures.add(service.asyncMethod(object));\n        }\n\n        return futures.stream()\n            .map(CompletableFuture::join)\n            .collect(Collectors.toList());\n    }\n));\n\n   // asyncMethod in any service \n\n   @Async\n public CompletableFuture&lt;Object&gt; asyncMethod(Object object) {\n// do some asynchronous processing\nreturn CompletableFuture.completedFuture(response);\n   }\n//custom thread pool\n   @Aynsc in spring uses a default thread pool with single\nthread if we don’t specify the thread pool. To execute it  on multiple threads custom thread pool should be created and  add it in @Async annotation.\n\n    1. Create a configuration class that implements AsyncConfigurer with @EnableAsync and @Configuration.\n    2. Override getAsyncExecutor()\n    3.define ThreadPoolTaskExecutor with core size, max size of threads and queue capacity and set any name to thread “myThread” and initialize() it.\n\n    @Aynsc(“myThread”) to be used in annotation if custom thread pool is used\n\n  The asynchronous processing in Java is similar to other languages. \n1. In other language Async tasks, it’s executed in non blocking way. The main thread is not blocked till the execution completes. \nJava Futures are blocking by default , but non blocking way can be achieved by using Completable Future. \n</code></pre>\n"}],"owner":{"account_id":1534638,"reputation":132,"user_id":3108655,"display_name":"verpfeilt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690640290,"creation_date":1690583566,"question_id":76791346,"body_markdown":"**Some background:**\r\n\r\nI have a task that consists of independent pieces, basically a for-each loop over key-value pairs that get processed. Usually between 10 and 30 of them. If the cache is empty, there will be a bunch of requests to another service *per piece*, resulting in a large amount of requests. With the cache being empty, it takes ~20 seconds. With a full cache, it is done in under a second (feels immediately, didn&#39;t measure).\r\n\r\nI want to use asynchronous code to speed things up also for the empty cache cases, so I looked into Java Futures and am a bit overwhelmed. I see a lot of examples, but I am missing the important understanding how things work, even though I know Futures from other languages. The examples are typically a simple, blocking function call.\r\n\r\nWe currently use Java 17 and Spring Boot (currently v2, migration to v3 is ongoing), but I am happy with newer language features as long as they compile down to something that runs on a Java 17 runtime.\r\n\r\n**The question:**\r\n\r\nWhen it comes to real tasks, I had in other projects/languages often the case of having async function calls within other async function calls. How would I do this in Java? Do I need an async HTTP client in order to gain some performance, or does Java do its magic with blocking code? Do I have to submit internal Futures to an Executor? Can it be the same of the parent future? What is the most modern way with the least boilerplate code? How does this relate to async-await syntax in other languages?\r\n\r\nAsync works a bit different depending on the language, and for some reason I did not find any detailed information about this. Also, it is hard for me to distinguish outdated from up-to-date information in the Java world. I feel the question is pretty stupid, but I did not manage to find much useful information in the large amounts of blog posts out there.","title":"How do Java Futures work compared to other languages async features?","body":"<p><strong>Some background:</strong></p>\n<p>I have a task that consists of independent pieces, basically a for-each loop over key-value pairs that get processed. Usually between 10 and 30 of them. If the cache is empty, there will be a bunch of requests to another service <em>per piece</em>, resulting in a large amount of requests. With the cache being empty, it takes ~20 seconds. With a full cache, it is done in under a second (feels immediately, didn't measure).</p>\n<p>I want to use asynchronous code to speed things up also for the empty cache cases, so I looked into Java Futures and am a bit overwhelmed. I see a lot of examples, but I am missing the important understanding how things work, even though I know Futures from other languages. The examples are typically a simple, blocking function call.</p>\n<p>We currently use Java 17 and Spring Boot (currently v2, migration to v3 is ongoing), but I am happy with newer language features as long as they compile down to something that runs on a Java 17 runtime.</p>\n<p><strong>The question:</strong></p>\n<p>When it comes to real tasks, I had in other projects/languages often the case of having async function calls within other async function calls. How would I do this in Java? Do I need an async HTTP client in order to gain some performance, or does Java do its magic with blocking code? Do I have to submit internal Futures to an Executor? Can it be the same of the parent future? What is the most modern way with the least boilerplate code? How does this relate to async-await syntax in other languages?</p>\n<p>Async works a bit different depending on the language, and for some reason I did not find any detailed information about this. Also, it is hard for me to distinguish outdated from up-to-date information in the Java world. I feel the question is pretty stupid, but I did not manage to find much useful information in the large amounts of blog posts out there.</p>\n"},{"tags":["java","performance","jvm","tostring","stringbuilder"],"comments":[{"owner":{"account_id":333792,"reputation":601,"user_id":659841,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1495602129,"post_id":44149299,"comment_id":75315759,"body_markdown":"possible duplicate: https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator","body":"possible duplicate: <a href=\"https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator\" title=\"string concatenation concat vs operator\">stackoverflow.com/questions/47605/&hellip;</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495602283,"post_id":44149299,"comment_id":75315811,"body_markdown":"@Eric I am afraid this is not related to above mentioned question. Because in this question he clearly stated that **the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects)**. However, I am talking about conversion happening into **StringBuilder**. Please fill me in If something is missing.","body":"@Eric I am afraid this is not related to above mentioned question. Because in this question he clearly stated that <b>the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects)</b>. However, I am talking about conversion happening into <b>StringBuilder</b>. Please fill me in If something is missing."},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":2,"creation_date":1495602371,"post_id":44149299,"comment_id":75315839,"body_markdown":"@MehrajMalik did you even look at the accepted answer? That&#180;s pretty much a spot on dupe","body":"@MehrajMalik did you even look at the accepted answer? That&#180;s pretty much a spot on dupe"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":3,"creation_date":1495602611,"post_id":44149299,"comment_id":75315914,"body_markdown":"@SomeJavaGuy Yes, I did. He mentioned that StringBuilder conversion is happening behind **+** operator. However, my question is that does this happen all the time or it needs some specific condition. As stated in blog(In most cases it happens). So what are the cases in which it does not convert into StringBuilder?","body":"@SomeJavaGuy Yes, I did. He mentioned that StringBuilder conversion is happening behind <b>+</b> operator. However, my question is that does this happen all the time or it needs some specific condition. As stated in blog(In most cases it happens). So what are the cases in which it does not convert into StringBuilder?"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495605746,"post_id":44149299,"comment_id":75317298,"body_markdown":"DOWNVOTERS, could you please care to tell what is wrong with this question?","body":"DOWNVOTERS, could you please care to tell what is wrong with this question?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1495609148,"post_id":44149299,"comment_id":75319141,"body_markdown":"Possible duplicate of [String concatenation: concat() vs &quot;+&quot; operator](https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator\">String concatenation: concat() vs &quot;+&quot; operator</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495610201,"post_id":44149299,"comment_id":75319812,"body_markdown":"@OleV.V. NO, CRYSTAL CLEAR, it&#39;s not duplicate.","body":"@OleV.V. NO, CRYSTAL CLEAR, it&#39;s not duplicate."},{"owner":{"account_id":10728156,"reputation":127,"user_id":7895066,"accept_rate":50,"display_name":"Kangkan"},"score":1,"creation_date":1495697562,"post_id":44149299,"comment_id":75364508,"body_markdown":"You may like to see this. [http://www.pellegrino.link/2015/08/22/string-concatenation-with-java-8.html]  . Adding string with &quot;+&quot; will give you O(n^2) complexity while StringBuilder&#39;s append(String) method will give you O(n) complexity","body":"You may like to see this. [<a href=\"http://www.pellegrino.link/2015/08/22/string-concatenation-with-java-8.html]\" rel=\"nofollow noreferrer\">pellegrino.link/2015/08/22/&hellip;</a>  . Adding string with &quot;+&quot; will give you O(n^2) complexity while StringBuilder&#39;s append(String) method will give you O(n) complexity"}],"answers":[{"comments":[{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":1,"creation_date":1495603621,"post_id":44149600,"comment_id":75316328,"body_markdown":"&quot;*because the compilation is not done by the JVM*&quot;, haha, nice catch. However, [JLS 15.18.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1) says that &quot;*a Java compiler may use the StringBuffer class*&quot;. However, it fails to say what is that case when it doesn&#39;t use a it.","body":"&quot;<i>because the compilation is not done by the JVM</i>&quot;, haha, nice catch. However, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">JLS 15.18.1</a> says that &quot;<i>a Java compiler may use the StringBuffer class</i>&quot;. However, it fails to say what is that case when it doesn&#39;t use a it."},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495603836,"post_id":44149600,"comment_id":75316418,"body_markdown":"@ChandlerBing and Thomas(**Impressive catch about JVM compilation**), Yes, exactly. No one has mentioned what is/are the condition it does not use a StringBuilder for concatenation.","body":"@ChandlerBing and Thomas(<b>Impressive catch about JVM compilation</b>), Yes, exactly. No one has mentioned what is/are the condition it does not use a StringBuilder for concatenation."},{"owner":{"account_id":333792,"reputation":601,"user_id":659841,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1495604390,"post_id":44149600,"comment_id":75316633,"body_markdown":"According to https://docs.oracle.com/javase/8/docs/api/java/lang/String.html &quot;The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the StringBuilder(or StringBuffer) class and its append method. String conversions are implemented through the method toString, defined by Object and inherited by all classes in Java. For additional information on string concatenation and conversion, see Gosling, Joy, and Steele, The Java Language Specification.&quot;","body":"According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/String.html</a> &quot;The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the StringBuilder(or StringBuffer) class and its append method. String conversions are implemented through the method toString, defined by Object and inherited by all classes in Java. For additional information on string concatenation and conversion, see Gosling, Joy, and Steele, The Java Language Specification.&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1495604677,"post_id":44149600,"comment_id":75316782,"body_markdown":"@MehrajMalik I currently know only of to cases for string concatenation: either both operands are constant strings (and then the compiler replaces it with a string literal) or it at least one operand is not a constant string (and then the compiler uses StringBuilder). But i will try and look into the java compiler for other cases.","body":"@MehrajMalik I currently know only of to cases for string concatenation: either both operands are constant strings (and then the compiler replaces it with a string literal) or it at least one operand is not a constant string (and then the compiler uses StringBuilder). But i will try and look into the java compiler for other cases."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1495626986,"post_id":44149600,"comment_id":75331638,"body_markdown":"Since the concatenation code for non-constant values this is up to the specific compiler, it is impossible to say that all compilers are doing this, as that would imply that we claim to know all compilers. We might say, that all *relevant* compilers, i.e. `javac` and ecj, always used the optimization strategy, though. By the way, Java&#160;9’s `javac` will not use `StringBuilder`, however, that’s because the new strategy is considered to be even better…","body":"Since the concatenation code for non-constant values this is up to the specific compiler, it is impossible to say that all compilers are doing this, as that would imply that we claim to know all compilers. We might say, that all <i>relevant</i> compilers, i.e. <code>javac</code> and ecj, always used the optimization strategy, though. By the way, Java 9’s <code>javac</code> will not use <code>StringBuilder</code>, however, that’s because the new strategy is considered to be even better…"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1495661567,"post_id":44149600,"comment_id":75353622,"body_markdown":"@MehrajMalik I&#39;ve updated my answer with the information that I&#39;ve found in the source code of the Java compiler","body":"@MehrajMalik I&#39;ve updated my answer with the information that I&#39;ve found in the source code of the Java compiler"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":6,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1690639959,"creation_date":1495603373,"answer_id":44149600,"question_id":44149299,"body_markdown":"The rule\r\n\r\n&gt; “do not concatenate Strings with + !!!“\r\n\r\nis wrong, because it is incomplete and therefore misleading.\r\n\r\nThe rule is\r\n\r\n&gt; do not concatenate Strings with + **in a loop**\r\n\r\nand that rule still holds. The original rule was never meant to be applied outside of loops!\r\n\r\nA simple loop\r\n\r\n    String s = &quot;&quot;;\r\n    for (int i = 0; i &lt; 10000; i++) { s += i; }\r\n    System.out.println(s);\r\n\r\nis still much still much slower than\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; 10000; i++) { sb.append(i); }\r\n    System.out.println(sb.toString());\r\n\r\nbecause the Java compiler has to translate the first loop into\r\n\r\n    String s = &quot;&quot;;\r\n    for (int i = 0; i &lt; 1000; i++) { s = new StringBuilder(s).append(i).toString(); }\r\n    System.out.println(s);\r\n\r\nAlso the claim \r\n\r\n&gt; Today the JVM compiles the + symbol into a string builder (in most cases).\r\n\r\nis misleading at least, because this translation was already done with Java 1.0 (ok, not with StringBuilder but with StringBuffer, because StringBuilder was only added with Java5).\r\n\r\n----\r\n\r\nOne could also argue that the claim\r\n\r\n&gt; Today the JVM compiles the + symbol into a string builder (in most cases).\r\n\r\nis simply wrong, because the compilation is not done by the JVM. It is done by the Java Compiler.\r\n\r\n----\r\n\r\nFor the question: when does the Java compiler use `StringBuilder.append()` and when does it use some other mechanism?\r\n\r\nThe source code of the Java compiler (version 1.8) contains two places where String concatenation through the `+` operator is handled.\r\n\r\n - the first place is String constant folding (http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/comp/ConstFold.java?av=f#314). In this case the compiler can calculate the resulting string and works with the resulting string.\r\n - the second place is where the compiler creates the code for assignment operations (http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/jvm/Gen.java?av=f#2056). In this case the compiler always emits code to create a `StringBuilder`\r\n\r\nThe conclusion is that for the Java compiler from the OpenJDK (which means the compiler distributed by Oracle) the phrase *in most cases* means **always**. (Though this could change with Java 9, or it could be that another Java compiler like the one that is included within Eclipse uses some other mechanism).","title":"String concatenation with the + symbol","body":"<p>The rule</p>\n<blockquote>\n<p>“do not concatenate Strings with + !!!“</p>\n</blockquote>\n<p>is wrong, because it is incomplete and therefore misleading.</p>\n<p>The rule is</p>\n<blockquote>\n<p>do not concatenate Strings with + <strong>in a loop</strong></p>\n</blockquote>\n<p>and that rule still holds. The original rule was never meant to be applied outside of loops!</p>\n<p>A simple loop</p>\n<pre><code>String s = &quot;&quot;;\nfor (int i = 0; i &lt; 10000; i++) { s += i; }\nSystem.out.println(s);\n</code></pre>\n<p>is still much still much slower than</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; 10000; i++) { sb.append(i); }\nSystem.out.println(sb.toString());\n</code></pre>\n<p>because the Java compiler has to translate the first loop into</p>\n<pre><code>String s = &quot;&quot;;\nfor (int i = 0; i &lt; 1000; i++) { s = new StringBuilder(s).append(i).toString(); }\nSystem.out.println(s);\n</code></pre>\n<p>Also the claim</p>\n<blockquote>\n<p>Today the JVM compiles the + symbol into a string builder (in most cases).</p>\n</blockquote>\n<p>is misleading at least, because this translation was already done with Java 1.0 (ok, not with StringBuilder but with StringBuffer, because StringBuilder was only added with Java5).</p>\n<hr />\n<p>One could also argue that the claim</p>\n<blockquote>\n<p>Today the JVM compiles the + symbol into a string builder (in most cases).</p>\n</blockquote>\n<p>is simply wrong, because the compilation is not done by the JVM. It is done by the Java Compiler.</p>\n<hr />\n<p>For the question: when does the Java compiler use <code>StringBuilder.append()</code> and when does it use some other mechanism?</p>\n<p>The source code of the Java compiler (version 1.8) contains two places where String concatenation through the <code>+</code> operator is handled.</p>\n<ul>\n<li>the first place is String constant folding (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/comp/ConstFold.java?av=f#314\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/comp/ConstFold.java?av=f#314</a>). In this case the compiler can calculate the resulting string and works with the resulting string.</li>\n<li>the second place is where the compiler creates the code for assignment operations (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/jvm/Gen.java?av=f#2056\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/jvm/Gen.java?av=f#2056</a>). In this case the compiler always emits code to create a <code>StringBuilder</code></li>\n</ul>\n<p>The conclusion is that for the Java compiler from the OpenJDK (which means the compiler distributed by Oracle) the phrase <em>in most cases</em> means <strong>always</strong>. (Though this could change with Java 9, or it could be that another Java compiler like the one that is included within Eclipse uses some other mechanism).</p>\n"},{"comments":[{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":3,"creation_date":1495604492,"post_id":44149838,"comment_id":75316684,"body_markdown":"this doesn&#39;t answer the question. The OP asks when does the compiler **does not** translate `+` into a `append`","body":"this doesn&#39;t answer the question. The OP asks when does the compiler <b>does not</b> translate <code>+</code> into a <code>append</code>"}],"tags":[],"owner":{"account_id":7989302,"reputation":9998,"user_id":6027638,"accept_rate":89,"display_name":"PEHLAJ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495612348,"creation_date":1495604398,"answer_id":44149838,"question_id":44149299,"body_markdown":"When you concatenate strings using + operator, compiler translates concatenation code to use `StringBuffer` for better performance. In order to improve performance `StringBuffer` is the better choice.\r\n\r\nThe quickest way of concatenate two string using + operator.\r\n\r\n    String str = &quot;Java&quot;;\r\n    str = str + &quot;Tutorial&quot;;\r\n\r\nThe compiler translates this code as:\r\n\r\n    String s1 = &quot;Java&quot;;\r\n    StringBuffer sb = new StringBuffer(s1);\r\n    sb.append(&quot;Tutorial&quot;);\r\n    s1 = sb.toString();\r\n\r\nSo it is better to use `StringBuffer` OR `String.format` for concatenation\r\n\r\nUsing `String.format`   \r\n\r\n    String s = String.format(&quot;%s %s&quot;, &quot;Java&quot;, &quot;Tutorial&quot;);\r\n","title":"String concatenation with the + symbol","body":"<p>When you concatenate strings using + operator, compiler translates concatenation code to use <code>StringBuffer</code> for better performance. In order to improve performance <code>StringBuffer</code> is the better choice.</p>\n\n<p>The quickest way of concatenate two string using + operator.</p>\n\n<pre><code>String str = \"Java\";\nstr = str + \"Tutorial\";\n</code></pre>\n\n<p>The compiler translates this code as:</p>\n\n<pre><code>String s1 = \"Java\";\nStringBuffer sb = new StringBuffer(s1);\nsb.append(\"Tutorial\");\ns1 = sb.toString();\n</code></pre>\n\n<p>So it is better to use <code>StringBuffer</code> OR <code>String.format</code> for concatenation</p>\n\n<p>Using <code>String.format</code>   </p>\n\n<pre><code>String s = String.format(\"%s %s\", \"Java\", \"Tutorial\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495626662,"creation_date":1495626662,"answer_id":44157608,"question_id":44149299,"body_markdown":"The statement, in this exact form, is just wrong, and it fits into the picture that the linked blog continues to write nonsense, like that you had to wrap references with `Objects.toString(…)` to handle `null`, e.g. `&quot;att1=&#39;&quot; + Objects.toString(att1) + &#39;\\&#39;&#39;` instead of just `&quot;att1=&#39;&quot; + att1 + &#39;\\&#39;&#39;`. There is no need to do that and apparently, the author did never re-check these claims.\r\n\r\nThe JVM is not responsible for compiling the `+` operator, as this operator is merely a source code artifact. It’s the compiler, e.g. `javac` which is responsible, and while there is no guaranty about the compiled form, compilers are encouraged to use a builder by the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1):\r\n\r\n&gt; *An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.*\r\n\r\nNote that even if a compiler does not perform this optimization, there still is no such thing as a `+` operator on the byte code level, so the compiler has to pick an operation, a JVM understands, e.g. using `String.concat`, which might be even faster than using a `StringBuilder` in the case you’re just concatenating exactly two strings.\r\n\r\nEven assuming the worst compilation strategy for string concatenation (still being within the specification), it would be wrong to say to never concatenate strings with `+`, as when you are defining compile time constants, using `+` is the only choice, and, of course, a compile-time constant is usually more efficient than using a `StringBuilder` at runtime.\r\n\r\nIn practice, the `+` operator applied to non constant strings was compiled to a `StringBuffer` usage before Java&#160;5 and to a `StringBuilder` usage in Java&#160;5 to Java&#160;8. When the compiled code is identical to the manual usage of `StringBuffer` resp. `StringBuilder`, there can’t be a performance difference.\r\n\r\nThe transition to Java&#160;5, more than a decade ago, was the first time, where string concatenation via `+` had a clear win over manual `StringBuffer` use, as simply recompiling the concatenation code made it use the potentially faster `StringBuilder` internally, while the code manually dealing with `StringBuffer` needed to be rewritten to use `StringBuilder`, which had been introduced in that version.\r\n\r\nLikewise, Java&#160;9 is going to compile the string concatenation using an `invokedynamic` instruction allowing the JRE to bind it to actual code doing the operation, including optimizations not possible in ordinary Java code. So only recompiling the string concatenation code is needed to get this feature, while there is no equivalent manual usage for it.\r\n\r\nThat said, while the premise is wrong, i.e. string concatenation never was considered evil, the advice is correct, do not hesitate to use it.\r\n\r\nThere are only a few cases where you really might improve performance by dealing with a buffer manually, i.e. when you need a large initial capacity or concatenate a lot within loops *and that code has been identified as an actual performance bottleneck by a profiling tool*…","title":"String concatenation with the + symbol","body":"<p>The statement, in this exact form, is just wrong, and it fits into the picture that the linked blog continues to write nonsense, like that you had to wrap references with <code>Objects.toString(…)</code> to handle <code>null</code>, e.g. <code>\"att1='\" + Objects.toString(att1) + '\\''</code> instead of just <code>\"att1='\" + att1 + '\\''</code>. There is no need to do that and apparently, the author did never re-check these claims.</p>\n\n<p>The JVM is not responsible for compiling the <code>+</code> operator, as this operator is merely a source code artifact. It’s the compiler, e.g. <code>javac</code> which is responsible, and while there is no guaranty about the compiled form, compilers are encouraged to use a builder by the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">Java Language Specification</a>:</p>\n\n<blockquote>\n  <p><em>An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.</em></p>\n</blockquote>\n\n<p>Note that even if a compiler does not perform this optimization, there still is no such thing as a <code>+</code> operator on the byte code level, so the compiler has to pick an operation, a JVM understands, e.g. using <code>String.concat</code>, which might be even faster than using a <code>StringBuilder</code> in the case you’re just concatenating exactly two strings.</p>\n\n<p>Even assuming the worst compilation strategy for string concatenation (still being within the specification), it would be wrong to say to never concatenate strings with <code>+</code>, as when you are defining compile time constants, using <code>+</code> is the only choice, and, of course, a compile-time constant is usually more efficient than using a <code>StringBuilder</code> at runtime.</p>\n\n<p>In practice, the <code>+</code> operator applied to non constant strings was compiled to a <code>StringBuffer</code> usage before Java 5 and to a <code>StringBuilder</code> usage in Java 5 to Java 8. When the compiled code is identical to the manual usage of <code>StringBuffer</code> resp. <code>StringBuilder</code>, there can’t be a performance difference.</p>\n\n<p>The transition to Java 5, more than a decade ago, was the first time, where string concatenation via <code>+</code> had a clear win over manual <code>StringBuffer</code> use, as simply recompiling the concatenation code made it use the potentially faster <code>StringBuilder</code> internally, while the code manually dealing with <code>StringBuffer</code> needed to be rewritten to use <code>StringBuilder</code>, which had been introduced in that version.</p>\n\n<p>Likewise, Java 9 is going to compile the string concatenation using an <code>invokedynamic</code> instruction allowing the JRE to bind it to actual code doing the operation, including optimizations not possible in ordinary Java code. So only recompiling the string concatenation code is needed to get this feature, while there is no equivalent manual usage for it.</p>\n\n<p>That said, while the premise is wrong, i.e. string concatenation never was considered evil, the advice is correct, do not hesitate to use it.</p>\n\n<p>There are only a few cases where you really might improve performance by dealing with a buffer manually, i.e. when you need a large initial capacity or concatenate a lot within loops <em>and that code has been identified as an actual performance bottleneck by a profiling tool</em>…</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495694461,"creation_date":1495694461,"answer_id":44173941,"question_id":44149299,"body_markdown":"Holger is right in his comment that in java-9 `+` for String concatenation is going to change from a `StringBuilder` to *a strategy chosen by the JRE* via `invokedynamic`. There are 6 strategies that are possible for `String concatenation` in jdk-9:\r\n\r\n      private enum Strategy {\r\n        /**\r\n         * Bytecode generator, calling into {@link java.lang.StringBuilder}.\r\n         */\r\n        BC_SB,\r\n\r\n        /**\r\n         * Bytecode generator, calling into {@link java.lang.StringBuilder};\r\n         * but trying to estimate the required storage.\r\n         */\r\n        BC_SB_SIZED,\r\n\r\n        /**\r\n         * Bytecode generator, calling into {@link java.lang.StringBuilder};\r\n         * but computing the required storage exactly.\r\n         */\r\n        BC_SB_SIZED_EXACT,\r\n\r\n        /**\r\n         * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\r\n         * This strategy also tries to estimate the required storage.\r\n         */\r\n        MH_SB_SIZED,\r\n\r\n        /**\r\n         * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\r\n         * This strategy also estimate the required storage exactly.\r\n         */\r\n        MH_SB_SIZED_EXACT,\r\n\r\n        /**\r\n         * MethodHandle-based generator, that constructs its own byte[] array from\r\n         * the arguments. It computes the required storage exactly.\r\n         */\r\n        MH_INLINE_SIZED_EXACT\r\n    }\r\n\r\nAnd the default one *is not* using a StringBuilder, it is `MH_INLINE_SIZED_EXACT`. It is actually pretty crazy how the implementation works, and it is trying to be highly optimized.  \r\n\r\nSo, no the advice there as far as I can tell is bad. That by the way is the main effort that was put into by jdk by Aleksey Shipilev. He also added a big change into String internals in jdk-9 as they are now backed by a `byte[]` instead of `char[]`. This needed because `ISO_LATIN_1` Strings can be encoded in a single byte (one character - one byte) so a lot of less space. ","title":"String concatenation with the + symbol","body":"<p>Holger is right in his comment that in java-9 <code>+</code> for String concatenation is going to change from a <code>StringBuilder</code> to <em>a strategy chosen by the JRE</em> via <code>invokedynamic</code>. There are 6 strategies that are possible for <code>String concatenation</code> in jdk-9:</p>\n\n<pre><code>  private enum Strategy {\n    /**\n     * Bytecode generator, calling into {@link java.lang.StringBuilder}.\n     */\n    BC_SB,\n\n    /**\n     * Bytecode generator, calling into {@link java.lang.StringBuilder};\n     * but trying to estimate the required storage.\n     */\n    BC_SB_SIZED,\n\n    /**\n     * Bytecode generator, calling into {@link java.lang.StringBuilder};\n     * but computing the required storage exactly.\n     */\n    BC_SB_SIZED_EXACT,\n\n    /**\n     * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\n     * This strategy also tries to estimate the required storage.\n     */\n    MH_SB_SIZED,\n\n    /**\n     * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\n     * This strategy also estimate the required storage exactly.\n     */\n    MH_SB_SIZED_EXACT,\n\n    /**\n     * MethodHandle-based generator, that constructs its own byte[] array from\n     * the arguments. It computes the required storage exactly.\n     */\n    MH_INLINE_SIZED_EXACT\n}\n</code></pre>\n\n<p>And the default one <em>is not</em> using a StringBuilder, it is <code>MH_INLINE_SIZED_EXACT</code>. It is actually pretty crazy how the implementation works, and it is trying to be highly optimized.  </p>\n\n<p>So, no the advice there as far as I can tell is bad. That by the way is the main effort that was put into by jdk by Aleksey Shipilev. He also added a big change into String internals in jdk-9 as they are now backed by a <code>byte[]</code> instead of <code>char[]</code>. This needed because <code>ISO_LATIN_1</code> Strings can be encoded in a single byte (one character - one byte) so a lot of less space. </p>\n"}],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5790,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":44149600,"answer_count":4,"score":3,"last_activity_date":1690639959,"creation_date":1495601894,"question_id":44149299,"body_markdown":"Today I was reading [Antonio&#39;s Blog about toString() performance][1] and there is a paragraph: \r\n\r\n&gt;  What used to be considered evil yesterday (“do not concatenate Strings with + !!!“), has become cool and efficient! **Today the JVM compiles the + symbol into a string builder (in most cases)**. So, do not hesitate, use it. \r\n\r\nNow I am confused, because he is saying **Today the JVM compiles the + symbol into a string builder (in most cases)**, but I have never heard or seen(code) anything like this before. \r\n\r\nCould someone please give example **where JVM does this and in what conditions it happens**?\r\n\r\n\r\n\r\n\r\n  [1]: https://antoniogoncalves.org/2015/06/30/who-cares-about-tostring-performance/","title":"String concatenation with the + symbol","body":"<p>Today I was reading <a href=\"https://antoniogoncalves.org/2015/06/30/who-cares-about-tostring-performance/\" rel=\"nofollow noreferrer\">Antonio's Blog about toString() performance</a> and there is a paragraph: </p>\n\n<blockquote>\n  <p>What used to be considered evil yesterday (“do not concatenate Strings with + !!!“), has become cool and efficient! <strong>Today the JVM compiles the + symbol into a string builder (in most cases)</strong>. So, do not hesitate, use it. </p>\n</blockquote>\n\n<p>Now I am confused, because he is saying <strong>Today the JVM compiles the + symbol into a string builder (in most cases)</strong>, but I have never heard or seen(code) anything like this before. </p>\n\n<p>Could someone please give example <strong>where JVM does this and in what conditions it happens</strong>?</p>\n"},{"tags":["java","sql"],"owner":{"account_id":19030072,"reputation":93,"user_id":13892371,"display_name":"kalumbo Nyamabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690639956,"creation_date":1690639956,"question_id":76793944,"body_markdown":"I&#39;m sure my problem is simple, but since I&#39;m a java beginner, I&#39;m having a hard time solving it. I&#39;ve created a program that simulates soccer matches.\r\n\r\nHere are my 3 Classes: Championship, Match and Players.\r\n\r\nA Championship consists of a maximum of 10 encounters, played by a maximum of 23 players.\r\n\r\n```\r\npublic class Joueur  implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;jid&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long jid ;\r\n    @NotNull\r\n    @Column(columnDefinition = &quot;ENUM(&#39;AC&#39;,&#39;SA&#39;,&#39;AID&#39;, &#39;AIG&#39;, &#39;MO&#39;, &#39;MLD&#39;, &#39;MLG&#39;, &#39;MR&#39;,&#39;MD&#39;,&#39;MG&#39;,&#39;MDF&#39;,&#39;DD&#39;, &#39;DG&#39;, &#39;DC&#39;,&#39;GB&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Poste poste;\r\n    private float minJoue;\r\n    private int but;\r\n    private int passe;\r\n    private int point ;\r\n    private double cote;\r\n    @NotNull\r\n    @Column(name = &quot;NOM&quot;)\r\n    private String nom;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;joueurs&quot;)\r\n    @JsonIgnore\r\n    private List&lt;Rencontre&gt; rencontres;\r\n\r\n  \r\n\r\n public class Rencontre{\r\n    @Id\r\n    @Column(name = &quot;rid&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long rid;\r\n    private String nomEquipe;\r\n    private String nomAdversaire;\r\n    private int butEquipe;\r\n    private int butAdversaire;\r\n    @Column(columnDefinition = &quot;ENUM(&#39;DIV1&#39;, &#39;DIV2&#39;, &#39;DIV3&#39;, &#39;DIV4&#39;, &#39;DIV5&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Division divAdversaire;\r\n    private int pointRencontre;\r\n    private Long idChamp;\r\n    private String hommeDuMatch;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;rencontre_joueur&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;rid&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;jid&quot;) })\r\n    private List&lt;Joueur&gt; joueurs;\r\n\r\n\r\n    public void addJoueur(Joueur joueur) {\r\n        this.joueurs.add(joueur);\r\n        joueur.getRencontres().add(this);\r\n    }\r\n\r\n    public void removeJoueur(long jid) {\r\n        Joueur joueur = this.joueurs.stream().filter(t -&gt; t.getJid() == jid).findFirst().orElse(null);\r\n        if (joueur != null) {\r\n            this.joueurs.remove(joueur);\r\n            joueur.getRencontres().remove(this);\r\n        }\r\n    }\r\n\r\n@Entity\r\n@Data\r\n@Table (name=&quot;Championnat&quot;)\r\npublic class Championnat implements Serializable {\r\n\r\n\r\n    //ATTRIBUTS\r\n    @Id\r\n    @Column(name = &quot;idChamp&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idChamp;\r\n    @Column(columnDefinition = &quot;ENUM(&#39;DIV1&#39;, &#39;DIV2&#39;, &#39;DIV3&#39;, &#39;DIV4&#39;, &#39;DIV5&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Division division;\r\n    @Column(columnDefinition = &quot;ENUM(&#39;ENCOURS&#39;, &#39;RELEGATION&#39;, &#39;MAINTIEN&#39;, &#39;PROMOTION&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Statut statut;\r\n    private int pointActuelle ;\r\n    private int promotion;\r\n    private int maintien;\r\n    @Column(name = &quot;MATCH_JOUE&quot;)\r\n    private int nbrDeMatchJoue;\r\n    @OneToMany(cascade = {CascadeType.ALL})\r\n    @JoinColumn(name = &quot;idChamp&quot; , referencedColumnName= &quot;idChamp&quot;)\r\n    private List&lt;Rencontre&gt; rencontres = new ArrayList&lt;&gt;(10);\r\n\r\n}\r\n```\r\n\r\nI entered the player list manually into the database. http://localhost:8080/Joueur/all\r\n\r\n```\r\n[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0},{&quot;jid&quot;:3,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LUKAKU&quot;,&quot;minJoue&quot;:2.0,&quot;but&quot;:2,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:4,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LAUTORO&quot;,&quot;minJoue&quot;:1.0,&quot;but&quot;:1,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:5,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;MBAPPE&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:6,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;RONALDO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:7,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HULK&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:8,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;DAVID&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:9,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LEWANDOWSKI&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:10,&quot;poste&quot;:&quot;SA&quot;,&quot;nom&quot;:&quot;DELPIERO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},\r\n```\r\n\r\nWhat&#39;s my PROBLEM???\r\n\r\nWhen these players play a match and I ask to see the stats of each player DURING THAT MATCH (for example: http://localhost:8080/Rencontre/find/1 ), which returns the details of match 1, I receive the OVERALL STATISTICS of the players and not the stats of the match.\r\n\r\n```\r\n{&quot;rid&quot;:1,&quot;nomEquipe&quot;:&quot;Joga Bonito FC&quot;,&quot;nomAdversaire&quot;:&quot;RENCONTRE1&quot;,&quot;butEquipe&quot;:3,&quot;butAdversaire&quot;:1,&quot;divAdversaire&quot;:&quot;DIV1&quot;,&quot;pointRencontre&quot;:3,&quot;idChamp&quot;:1,&quot;hommeDuMatch&quot;:&quot;HAALAND&quot;,&quot;joueurs&quot;:[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0}]}\r\n```\r\n\r\nI think this error comes from the fact that I don&#39;t create a new player to play a match, but I select my instance already created in my database to play the various matches.\r\n\r\nI did a console.log() of my match BEFORE SAVING, and I noticed that the player&#39;s stats during the match were displayed.\r\n\r\n```\r\n*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom=&#39;HAALAND&#39;}]\r\n*****************UPDATE*********************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom=&#39;HAALAND&#39;}]\r\n```\r\n\r\nBut after calling the UPDATE method of my rencontreService, if I ask to see the encounter, the global values of my attributes in the database will be displayed.\r\n\r\nrencontreService(part)\r\n\r\n```\r\n @Override\r\n    public Rencontre updateRencontre(Rencontre r) {\r\n        score(r);\r\n        System.out.println(&quot;*****************UPDATE*********************&quot; + r.getJoueurs());\r\n        return rencontreRepository.save(r);\r\n    }\r\n\r\n\r\n\r\n // MODIFICATION DES POINTS ET DES MATCHS JOUEES\r\n    public void score(Rencontre rencontre){\r\n\r\n        Championnat champ = championnatServiceImpl.getChampionnat(rencontre.getIdChamp());\r\n        int  NBR_DE_MATCH_MAX = 10;\r\n\r\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********AVANT*************&quot; + rencontre.getJoueurs());\r\n        rencontre.setButEquipe(joueurServiceImpl.totalButEquipe(rencontre.getJoueurs()));\r\n\r\n        //VERIFICATION DU SCORE  + CHANG POINT RENCONTRE + CHANG POINT CHAMPIONNAT\r\n        if (rencontre.getButAdversaire() &lt; rencontre.getButEquipe()) {\r\n            rencontre.setPointRencontre(PointMatch.WIN.getValue());\r\n            int pointChamp = champ.getPointActuelle();\r\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\r\n        }else if (rencontre.getButAdversaire() &gt; rencontre.getButEquipe()){\r\n            rencontre.setPointRencontre(PointMatch.LOST.getValue());\r\n            int pointChamp = champ.getPointActuelle();\r\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\r\n        }else {\r\n            rencontre.setPointRencontre(PointMatch.EGALITY.getValue());\r\n            int pointChamp = champ.getPointActuelle();\r\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\r\n        }\r\n        //INCREMENTATION DU NOMBRE DE MATCH JOUEES CHAMPIONNAT\r\n        int nbrMatch = champ.getNbrDeMatchJoue();\r\n        nbrMatch++;\r\n        champ.setNbrDeMatchJoue(nbrMatch);\r\n\r\n        //VERIFICATION DU STATUT ET FIN DE CHAMPIONNAT\r\n        if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp;  champ.getPointActuelle() &gt;= champ.getPromotion()) {\r\n            champ.setStatut(Statut.PROMOTION);\r\n        } else if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getPromotion() &amp;&amp; champ.getPointActuelle() &gt;= champ.getMaintien()) {\r\n            champ.setStatut(Statut.MAINTIEN);\r\n        } else if (champ.getNbrDeMatchJoue() &gt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getMaintien()) {\r\n            champ.setStatut(Statut.RELEGATION);\r\n        } else {\r\n            champ.setStatut(Statut.ENCOURS);\r\n        }\r\n        this.championnatServiceImpl.updateChampionnat(champ);\r\n\r\n        joueurServiceImpl.totalButJoueur(rencontre.getJoueurs());\r\n        joueurServiceImpl.totalPasseJoueur(rencontre.getJoueurs());\r\n        joueurServiceImpl.totalMinuteJoueur(rencontre.getJoueurs());\r\n        joueurServiceImpl.totalCoteJoueur(rencontre.getJoueurs());\r\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************&quot; + rencontre.getJoueurs());\r\n    }\r\n```\r\n\r\njoueurService(part)\r\n\r\n```\r\n\r\n    public void totalButJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            int jouBut = jou.getBut();\r\n            for (Joueur j : joueurs) {\r\n                int jBut = j.getBut();\r\n\r\n                if (jou.getJid() == j.getJid()) {\r\n                    jou.setBut(jouBut + jBut);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void totalPasseJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            int jouPasse = jou.getPasse();\r\n            for (Joueur j : joueurs) {\r\n                int jPasse = j.getPasse();\r\n\r\n                if (jou.getJid() == j.getJid()) {\r\n                    jou.setPasse(jouPasse + jPasse);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void totalMinuteJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            float jouMin = jou.getMinJoue();\r\n            for (Joueur j : joueurs) {\r\n                float jMin = j.getMinJoue();\r\n\r\n                if (jou.getJid() == j.getJid()) {\r\n                    jou.setMinJoue(jouMin + jMin);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void totalCoteJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            double jouCote = jou.getCote();\r\n            for (Joueur j : joueurs) {\r\n                double jCote = j.getCote();\r\n                if (jou.getJid() == j.getJid()) {\r\n                    if (jou.getCote() == 0) {\r\n                        jou.setCote(jCote);\r\n                    } else {\r\n                        double moyenneCote = (jouCote + jCote) / 2;\r\n                        jou.setCote(moyenneCote);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nWHAT I WANT?\r\n\r\nI&#39;d like to be able to keep the stats of each player during matches, so that I can make statistical calculations for each championship, such as having a table of the top scorer, passer, playing time, etc. for EACH CHAMPIONSHIP.\r\n\r\nIn short, I think that since I never instantiate my players, it&#39;s the direct attributes of the players that I manipulate, and so when I call my different encounters, it&#39;s normal that I see the data present in the database.\r\n\r\nthank you for your help","title":"I can&#39;t view the different values of my Player instance during a match","body":"<p>I'm sure my problem is simple, but since I'm a java beginner, I'm having a hard time solving it. I've created a program that simulates soccer matches.</p>\n<p>Here are my 3 Classes: Championship, Match and Players.</p>\n<p>A Championship consists of a maximum of 10 encounters, played by a maximum of 23 players.</p>\n<pre><code>public class Joueur  implements Serializable {\n\n    @Id\n    @Column(name = &quot;jid&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long jid ;\n    @NotNull\n    @Column(columnDefinition = &quot;ENUM('AC','SA','AID', 'AIG', 'MO', 'MLD', 'MLG', 'MR','MD','MG','MDF','DD', 'DG', 'DC','GB')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Poste poste;\n    private float minJoue;\n    private int but;\n    private int passe;\n    private int point ;\n    private double cote;\n    @NotNull\n    @Column(name = &quot;NOM&quot;)\n    private String nom;\n\n\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;joueurs&quot;)\n    @JsonIgnore\n    private List&lt;Rencontre&gt; rencontres;\n\n  \n\n public class Rencontre{\n    @Id\n    @Column(name = &quot;rid&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long rid;\n    private String nomEquipe;\n    private String nomAdversaire;\n    private int butEquipe;\n    private int butAdversaire;\n    @Column(columnDefinition = &quot;ENUM('DIV1', 'DIV2', 'DIV3', 'DIV4', 'DIV5')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Division divAdversaire;\n    private int pointRencontre;\n    private Long idChamp;\n    private String hommeDuMatch;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;rencontre_joueur&quot;,\n            joinColumns = { @JoinColumn(name = &quot;rid&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;jid&quot;) })\n    private List&lt;Joueur&gt; joueurs;\n\n\n    public void addJoueur(Joueur joueur) {\n        this.joueurs.add(joueur);\n        joueur.getRencontres().add(this);\n    }\n\n    public void removeJoueur(long jid) {\n        Joueur joueur = this.joueurs.stream().filter(t -&gt; t.getJid() == jid).findFirst().orElse(null);\n        if (joueur != null) {\n            this.joueurs.remove(joueur);\n            joueur.getRencontres().remove(this);\n        }\n    }\n\n@Entity\n@Data\n@Table (name=&quot;Championnat&quot;)\npublic class Championnat implements Serializable {\n\n\n    //ATTRIBUTS\n    @Id\n    @Column(name = &quot;idChamp&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idChamp;\n    @Column(columnDefinition = &quot;ENUM('DIV1', 'DIV2', 'DIV3', 'DIV4', 'DIV5')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Division division;\n    @Column(columnDefinition = &quot;ENUM('ENCOURS', 'RELEGATION', 'MAINTIEN', 'PROMOTION')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Statut statut;\n    private int pointActuelle ;\n    private int promotion;\n    private int maintien;\n    @Column(name = &quot;MATCH_JOUE&quot;)\n    private int nbrDeMatchJoue;\n    @OneToMany(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;idChamp&quot; , referencedColumnName= &quot;idChamp&quot;)\n    private List&lt;Rencontre&gt; rencontres = new ArrayList&lt;&gt;(10);\n\n}\n</code></pre>\n<p>I entered the player list manually into the database. http://localhost:8080/Joueur/all</p>\n<pre><code>[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0},{&quot;jid&quot;:3,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LUKAKU&quot;,&quot;minJoue&quot;:2.0,&quot;but&quot;:2,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:4,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LAUTORO&quot;,&quot;minJoue&quot;:1.0,&quot;but&quot;:1,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:5,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;MBAPPE&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:6,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;RONALDO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:7,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HULK&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:8,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;DAVID&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:9,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LEWANDOWSKI&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:10,&quot;poste&quot;:&quot;SA&quot;,&quot;nom&quot;:&quot;DELPIERO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},\n</code></pre>\n<p>What's my PROBLEM???</p>\n<p>When these players play a match and I ask to see the stats of each player DURING THAT MATCH (for example: http://localhost:8080/Rencontre/find/1 ), which returns the details of match 1, I receive the OVERALL STATISTICS of the players and not the stats of the match.</p>\n<pre><code>{&quot;rid&quot;:1,&quot;nomEquipe&quot;:&quot;Joga Bonito FC&quot;,&quot;nomAdversaire&quot;:&quot;RENCONTRE1&quot;,&quot;butEquipe&quot;:3,&quot;butAdversaire&quot;:1,&quot;divAdversaire&quot;:&quot;DIV1&quot;,&quot;pointRencontre&quot;:3,&quot;idChamp&quot;:1,&quot;hommeDuMatch&quot;:&quot;HAALAND&quot;,&quot;joueurs&quot;:[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0}]}\n</code></pre>\n<p>I think this error comes from the fact that I don't create a new player to play a match, but I select my instance already created in my database to play the various matches.</p>\n<p>I did a console.log() of my match BEFORE SAVING, and I noticed that the player's stats during the match were displayed.</p>\n<pre><code>*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom='HAALAND'}]\n*****************UPDATE*********************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom='HAALAND'}]\n</code></pre>\n<p>But after calling the UPDATE method of my rencontreService, if I ask to see the encounter, the global values of my attributes in the database will be displayed.</p>\n<p>rencontreService(part)</p>\n<pre><code> @Override\n    public Rencontre updateRencontre(Rencontre r) {\n        score(r);\n        System.out.println(&quot;*****************UPDATE*********************&quot; + r.getJoueurs());\n        return rencontreRepository.save(r);\n    }\n\n\n\n // MODIFICATION DES POINTS ET DES MATCHS JOUEES\n    public void score(Rencontre rencontre){\n\n        Championnat champ = championnatServiceImpl.getChampionnat(rencontre.getIdChamp());\n        int  NBR_DE_MATCH_MAX = 10;\n\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********AVANT*************&quot; + rencontre.getJoueurs());\n        rencontre.setButEquipe(joueurServiceImpl.totalButEquipe(rencontre.getJoueurs()));\n\n        //VERIFICATION DU SCORE  + CHANG POINT RENCONTRE + CHANG POINT CHAMPIONNAT\n        if (rencontre.getButAdversaire() &lt; rencontre.getButEquipe()) {\n            rencontre.setPointRencontre(PointMatch.WIN.getValue());\n            int pointChamp = champ.getPointActuelle();\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\n        }else if (rencontre.getButAdversaire() &gt; rencontre.getButEquipe()){\n            rencontre.setPointRencontre(PointMatch.LOST.getValue());\n            int pointChamp = champ.getPointActuelle();\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\n        }else {\n            rencontre.setPointRencontre(PointMatch.EGALITY.getValue());\n            int pointChamp = champ.getPointActuelle();\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\n        }\n        //INCREMENTATION DU NOMBRE DE MATCH JOUEES CHAMPIONNAT\n        int nbrMatch = champ.getNbrDeMatchJoue();\n        nbrMatch++;\n        champ.setNbrDeMatchJoue(nbrMatch);\n\n        //VERIFICATION DU STATUT ET FIN DE CHAMPIONNAT\n        if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp;  champ.getPointActuelle() &gt;= champ.getPromotion()) {\n            champ.setStatut(Statut.PROMOTION);\n        } else if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getPromotion() &amp;&amp; champ.getPointActuelle() &gt;= champ.getMaintien()) {\n            champ.setStatut(Statut.MAINTIEN);\n        } else if (champ.getNbrDeMatchJoue() &gt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getMaintien()) {\n            champ.setStatut(Statut.RELEGATION);\n        } else {\n            champ.setStatut(Statut.ENCOURS);\n        }\n        this.championnatServiceImpl.updateChampionnat(champ);\n\n        joueurServiceImpl.totalButJoueur(rencontre.getJoueurs());\n        joueurServiceImpl.totalPasseJoueur(rencontre.getJoueurs());\n        joueurServiceImpl.totalMinuteJoueur(rencontre.getJoueurs());\n        joueurServiceImpl.totalCoteJoueur(rencontre.getJoueurs());\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************&quot; + rencontre.getJoueurs());\n    }\n</code></pre>\n<p>joueurService(part)</p>\n<pre><code>\n    public void totalButJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n        for (Joueur jou : listJoueur) {\n            int jouBut = jou.getBut();\n            for (Joueur j : joueurs) {\n                int jBut = j.getBut();\n\n                if (jou.getJid() == j.getJid()) {\n                    jou.setBut(jouBut + jBut);\n\n                }\n            }\n        }\n    }\n\n    public void totalPasseJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n        for (Joueur jou : listJoueur) {\n            int jouPasse = jou.getPasse();\n            for (Joueur j : joueurs) {\n                int jPasse = j.getPasse();\n\n                if (jou.getJid() == j.getJid()) {\n                    jou.setPasse(jouPasse + jPasse);\n                }\n            }\n        }\n    }\n\n    public void totalMinuteJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n        for (Joueur jou : listJoueur) {\n            float jouMin = jou.getMinJoue();\n            for (Joueur j : joueurs) {\n                float jMin = j.getMinJoue();\n\n                if (jou.getJid() == j.getJid()) {\n                    jou.setMinJoue(jouMin + jMin);\n                }\n            }\n        }\n    }\n\n    public void totalCoteJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n\n        for (Joueur jou : listJoueur) {\n            double jouCote = jou.getCote();\n            for (Joueur j : joueurs) {\n                double jCote = j.getCote();\n                if (jou.getJid() == j.getJid()) {\n                    if (jou.getCote() == 0) {\n                        jou.setCote(jCote);\n                    } else {\n                        double moyenneCote = (jouCote + jCote) / 2;\n                        jou.setCote(moyenneCote);\n                    }\n                }\n\n            }\n        }\n\n    }\n</code></pre>\n<p>WHAT I WANT?</p>\n<p>I'd like to be able to keep the stats of each player during matches, so that I can make statistical calculations for each championship, such as having a table of the top scorer, passer, playing time, etc. for EACH CHAMPIONSHIP.</p>\n<p>In short, I think that since I never instantiate my players, it's the direct attributes of the players that I manipulate, and so when I call my different encounters, it's normal that I see the data present in the database.</p>\n<p>thank you for your help</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1690649615,"post_id":76793904,"comment_id":135384393,"body_markdown":"Does this help? https://stackoverflow.com/questions/4275678/how-to-make-a-phone-call-using-intent-in-android","body":"Does this help? <a href=\"https://stackoverflow.com/questions/4275678/how-to-make-a-phone-call-using-intent-in-android\" title=\"how to make a phone call using intent in android\">stackoverflow.com/questions/4275678/&hellip;</a>"}],"owner":{"account_id":29117512,"reputation":1,"user_id":22305907,"display_name":"shek fake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690639193,"creation_date":1690639193,"question_id":76793904,"body_markdown":"this is a part of the app im creating which detects the drowsiness state of a person i.e., if a person&#39;s eyes are closed for more than 4 seconds then an alarm sound plays on the phone and a call will be initiated to the picked contact . But the call is not going. tested using logcat to see if the contact name and number is fetched correctly and the output is correct .\r\n```\r\n    // Method to open the contacts list\r\n    public void pickContact() {\r\n        Intent pickContactIntent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\r\n        mActivity.startActivityForResult(pickContactIntent, PICK_CONTACT_REQUEST);\r\n    }\r\n\r\n    // Constants for handling contact selection result\r\n    private static final int PICK_CONTACT_REQUEST = 1;\r\n\r\n    // Method to process the selected contact information\r\n    public void processContactSelection(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == PICK_CONTACT_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            Uri contactUri = data.getData();\r\n\r\n            Cursor cursor = null;\r\n            try {\r\n                cursor = mActivity.getContentResolver().query(contactUri, null, null, null, null);\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    int nameColumnIndex = cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME);\r\n                    String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n\r\n                    // Get the phone number from the ContactsContract.CommonDataKinds.Phone table\r\n                    Cursor phoneCursor = mActivity.getContentResolver().query(\r\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                            null,\r\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n                            new String[]{id},\r\n                            null\r\n                    );\r\n\r\n                    if (phoneCursor != null &amp;&amp; phoneCursor.moveToFirst()) {\r\n                        int numberColumnIndex = phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\r\n\r\n                        mContactName = cursor.getString(nameColumnIndex);\r\n                        mContactNumber = phoneCursor.getString(numberColumnIndex);\r\n\r\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Name: &quot; + mContactName);\r\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Number: &quot; + mContactNumber);\r\n                    }\r\n\r\n                    if (phoneCursor != null) {\r\n                        phoneCursor.close();\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (cursor != null) {\r\n                    cursor.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Method to call the emergency contact\r\n    public void callEmergencyContact() {\r\n        String number = &quot;tel:&quot; + mContactNumber;\r\n        Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(number));\r\n        mActivity.startActivity(callIntent);\r\n    }\r\n\r\n\r\n\r\n    // You can add getters and setters for the contact details if needed.\r\n}```\r\n\r\n\r\n","title":"how to initiate call in android ? currently im able to select a contact from contacts but the call is not going","body":"<p>this is a part of the app im creating which detects the drowsiness state of a person i.e., if a person's eyes are closed for more than 4 seconds then an alarm sound plays on the phone and a call will be initiated to the picked contact . But the call is not going. tested using logcat to see if the contact name and number is fetched correctly and the output is correct .</p>\n<pre><code>    // Method to open the contacts list\n    public void pickContact() {\n        Intent pickContactIntent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\n        mActivity.startActivityForResult(pickContactIntent, PICK_CONTACT_REQUEST);\n    }\n\n    // Constants for handling contact selection result\n    private static final int PICK_CONTACT_REQUEST = 1;\n\n    // Method to process the selected contact information\n    public void processContactSelection(int requestCode, int resultCode, Intent data) {\n        if (requestCode == PICK_CONTACT_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Uri contactUri = data.getData();\n\n            Cursor cursor = null;\n            try {\n                cursor = mActivity.getContentResolver().query(contactUri, null, null, null, null);\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                    int nameColumnIndex = cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME);\n                    String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n\n                    // Get the phone number from the ContactsContract.CommonDataKinds.Phone table\n                    Cursor phoneCursor = mActivity.getContentResolver().query(\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                            null,\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n                            new String[]{id},\n                            null\n                    );\n\n                    if (phoneCursor != null &amp;&amp; phoneCursor.moveToFirst()) {\n                        int numberColumnIndex = phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\n\n                        mContactName = cursor.getString(nameColumnIndex);\n                        mContactNumber = phoneCursor.getString(numberColumnIndex);\n\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Name: &quot; + mContactName);\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Number: &quot; + mContactNumber);\n                    }\n\n                    if (phoneCursor != null) {\n                        phoneCursor.close();\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (cursor != null) {\n                    cursor.close();\n                }\n            }\n        }\n    }\n\n\n\n    // Method to call the emergency contact\n    public void callEmergencyContact() {\n        String number = &quot;tel:&quot; + mContactNumber;\n        Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(number));\n        mActivity.startActivity(callIntent);\n    }\n\n\n\n    // You can add getters and setters for the contact details if needed.\n}```\n\n\n</code></pre>\n"},{"tags":["java","intellij-idea","bytecode","javassist","linkageerror"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1598848360,"post_id":63663452,"comment_id":112579659,"body_markdown":"What are you going to do with the `Class` object you are trying to get by `toClass()` and why do you need it at all? Instead of just explaining **how** you are trying to do something you should better explain **what** you are trying to achieve? Otherwise your question might just be another example of the [XY problem](https://meta.stackexchange.com/a/66378/309898).","body":"What are you going to do with the <code>Class</code> object you are trying to get by <code>toClass()</code> and why do you need it at all? Instead of just explaining <b>how</b> you are trying to do something you should better explain <b>what</b> you are trying to achieve? Otherwise your question might just be another example of the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1598859044,"post_id":63663452,"comment_id":112582847,"body_markdown":"You have to apply the changes *before* the class has been loaded. Otherwise, you have to specify, which mechanism you intend to use for modifying already loaded code.","body":"You have to apply the changes <i>before</i> the class has been loaded. Otherwise, you have to specify, which mechanism you intend to use for modifying already loaded code."},{"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"score":0,"creation_date":1598875912,"post_id":63663452,"comment_id":112590335,"body_markdown":"@kriegaex I have updated my question and example to better illustrate what im trying to achieve.","body":"@kriegaex I have updated my question and example to better illustrate what im trying to achieve."},{"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"score":0,"creation_date":1598876081,"post_id":63663452,"comment_id":112590406,"body_markdown":"@Holger my code is loaded before the application is shown. So I have to modify already loaded code. Any tips or simple examples on how to achieve this? My best guess would be to retransform the class?","body":"@Holger my code is loaded before the application is shown. So I have to modify already loaded code. Any tips or simple examples on how to achieve this? My best guess would be to retransform the class?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1598923731,"post_id":63663452,"comment_id":112607384,"body_markdown":"Your update still does not explain why you call `cc.toClass()` and how you trigger the retransformation. Do you use `-javaagent` option for the JVM? Are you trying to attach your transformer during runtime? If so, how? I think an [MCVE](https://stackoverflow.com/help/mcve) on GitHub would be helpful.","body":"Your update still does not explain why you call <code>cc.toClass()</code> and how you trigger the retransformation. Do you use <code>-javaagent</code> option for the JVM? Are you trying to attach your transformer during runtime? If so, how? I think an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub would be helpful."},{"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"score":0,"creation_date":1598963843,"post_id":63663452,"comment_id":112621259,"body_markdown":"@kriegaex my apologies for not providing a proper explanation. I have updated the question with a minimal example on github.","body":"@kriegaex my apologies for not providing a proper explanation. I have updated the question with a minimal example on github."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1599023590,"post_id":63663452,"comment_id":112640902,"body_markdown":"I can clone, but not check out your project due to lots of errors like `...KotlinTypeAliasByExpansionShortNameIndex.storage: Filename too long`.","body":"I can clone, but not check out your project due to lots of errors like <code>...KotlinTypeAliasByExpansionShortNameIndex.storage: Filename too long</code>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1599025945,"post_id":63663452,"comment_id":112641584,"body_markdown":"You also checked in a lot of Gradle and IDEA stuff instead of just source code and build configuration.","body":"You also checked in a lot of Gradle and IDEA stuff instead of just source code and build configuration."}],"answers":[{"tags":[],"owner":{"account_id":3445265,"reputation":2465,"user_id":2886234,"accept_rate":80,"display_name":"kkflf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690639010,"creation_date":1690638566,"answer_id":76793871,"question_id":63663452,"body_markdown":"I know that this is a old question, but it is the top result on google when you search &quot;duplicate class definition javassist&quot; so I might as well share the possible solution.\r\n\r\nThat problem that you are experiencing is because the class is already loaded into the class pool. You will have to modify/redefine the class before the class is loaded into the class pool.\r\n\r\nIn your particular problem, you are trying to redefine `com.intellij.ui.components.labels.LinkLabel`. This [class][1] has a static field called `ourVisitedLinks`. This static field will force the `LinkLabel` class to be loaded on the first mentioning of `LinkLabel` class.\r\n\r\nWhen you call `cc.toClass()` then you are essentially making a reference the to `LinkLabel` class and thereby loading the class into the class pool because the static field `ourVisitedLinks` is initialized. The `LinkLabel` class is thereby implicit loaded into the class pool just before you load the modified version of the class.\r\n\r\nI admittedly do not understand everything that is going on inside javassist. I just know that `cc.toClass()` will load the class into the class pool preemptively due to the static field being initialized.\r\n\r\nYou will have to instead call `cc.toClass(SomeNeighbor.class)`. The `SomeNeighbor.class` is a fictive class that I made up for the example. It just have to be a class that is within the same package as the class that you are trying to redefine.\r\n\r\nThe `LinkLabel` class has the following [neighbors][2] that share the same package `com.intellij.ui.components.labels`: \r\n\r\n - ActionLink\r\n - BoldLabel\r\n - DropDownLink\r\n - LinkListener\r\n - SwingActionLink\r\n\r\nYou can pick any of those 5 classes as a neighbor as long as the class does not have any direct nor transitive static dependency of `LinkLabel`.\r\n\r\n\r\nThis is the corrected code of the example in the question. The github link that was shared in the question is unfortunately not longer accessible, so I can not provide a perfect executable example.\r\n```\r\nprivate static void test() {\r\n   try {\r\n        ClassPool cp = ClassPool.getDefault();\r\n        CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\r\n        CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\r\n        cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\r\n\r\n        cc.toClass(BoldLabel.class); // &lt;--- the correction\r\n    } catch (final Throwable e) {\r\n            e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/JetBrains/intellij-community/blob/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java#L42\r\n  [2]: https://github.com/JetBrains/intellij-community/tree/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels","title":"Javassist: how to solve a duplicate class exception?","body":"<p>I know that this is a old question, but it is the top result on google when you search &quot;duplicate class definition javassist&quot; so I might as well share the possible solution.</p>\n<p>That problem that you are experiencing is because the class is already loaded into the class pool. You will have to modify/redefine the class before the class is loaded into the class pool.</p>\n<p>In your particular problem, you are trying to redefine <code>com.intellij.ui.components.labels.LinkLabel</code>. This <a href=\"https://github.com/JetBrains/intellij-community/blob/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java#L42\" rel=\"nofollow noreferrer\">class</a> has a static field called <code>ourVisitedLinks</code>. This static field will force the <code>LinkLabel</code> class to be loaded on the first mentioning of <code>LinkLabel</code> class.</p>\n<p>When you call <code>cc.toClass()</code> then you are essentially making a reference the to <code>LinkLabel</code> class and thereby loading the class into the class pool because the static field <code>ourVisitedLinks</code> is initialized. The <code>LinkLabel</code> class is thereby implicit loaded into the class pool just before you load the modified version of the class.</p>\n<p>I admittedly do not understand everything that is going on inside javassist. I just know that <code>cc.toClass()</code> will load the class into the class pool preemptively due to the static field being initialized.</p>\n<p>You will have to instead call <code>cc.toClass(SomeNeighbor.class)</code>. The <code>SomeNeighbor.class</code> is a fictive class that I made up for the example. It just have to be a class that is within the same package as the class that you are trying to redefine.</p>\n<p>The <code>LinkLabel</code> class has the following <a href=\"https://github.com/JetBrains/intellij-community/tree/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels\" rel=\"nofollow noreferrer\">neighbors</a> that share the same package <code>com.intellij.ui.components.labels</code>:</p>\n<ul>\n<li>ActionLink</li>\n<li>BoldLabel</li>\n<li>DropDownLink</li>\n<li>LinkListener</li>\n<li>SwingActionLink</li>\n</ul>\n<p>You can pick any of those 5 classes as a neighbor as long as the class does not have any direct nor transitive static dependency of <code>LinkLabel</code>.</p>\n<p>This is the corrected code of the example in the question. The github link that was shared in the question is unfortunately not longer accessible, so I can not provide a perfect executable example.</p>\n<pre><code>private static void test() {\n   try {\n        ClassPool cp = ClassPool.getDefault();\n        CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\n        CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\n        cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\n\n        cc.toClass(BoldLabel.class); // &lt;--- the correction\n    } catch (final Throwable e) {\n            e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690639010,"creation_date":1598834594,"question_id":63663452,"body_markdown":"Using `Javassist` I&#39;m trying to insert a line of code into a method&#39;s body. It&#39;s a simple modification for a label&#39;s text color inside the `intellij-IDE`. I get the following error when trying to do so:\r\n\r\n&gt;*Caused by: java.lang.LinkageError: loader com.intellij.util.lang.UrlClassLoader @d2cc05a attempted duplicate class definition for com.intellij.ui.components.labels.LinkLabel.\r\n(com.intellij.ui.components.labels.LinkLabel is in unnamed module of loader com.intellij.util.lang.UrlClassLoader @d2cc05a, parent loader &#39;platform&#39;)*\r\n\r\n\r\nWhich implies that the class I am trying to modify is already loaded by the Java class loader (at least I like to think so..).\r\nAn example of the code is given below:\r\n\r\n```\r\nprivate static void test() {\r\n        try {\r\n            ClassPool cp = ClassPool.getDefault();\r\n            CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\r\n            CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\r\n            cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\r\n\r\n            cc.toClass(); // &lt;--- the problem\r\n        } catch (final Throwable e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nAnd for reference, here&#39;s the accessed class: [intellij link](https://github.com/JetBrains/intellij-community/blob/d2b4f4abbc5af066875402db4250e988aadfcd76/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java)\r\n\r\n---\r\n\r\n[Rafael Winterhalter](https://stackoverflow.com/users/1237575/rafael-winterhalter) commented on a similar issue a couple of years ago ([link](https://stackoverflow.com/questions/23336172/adding-an-annotation-to-a-runtime-generated-class-using-javassist/23359661#23359661)). Unfortunately my knowledge with `Javassist` is limiting me in finding a proper solution.\r\n\r\nAny ideas on how to resolve this issue?\r\n\r\n---\r\n\r\n**UPDATE:** A minimal, repoducible example can be found here: [github link](https://github.com/decod3d/example) ","title":"Javassist: how to solve a duplicate class exception?","body":"<p>Using <code>Javassist</code> I'm trying to insert a line of code into a method's body. It's a simple modification for a label's text color inside the <code>intellij-IDE</code>. I get the following error when trying to do so:</p>\n<blockquote>\n<p><em>Caused by: java.lang.LinkageError: loader com.intellij.util.lang.UrlClassLoader @d2cc05a attempted duplicate class definition for com.intellij.ui.components.labels.LinkLabel.\n(com.intellij.ui.components.labels.LinkLabel is in unnamed module of loader com.intellij.util.lang.UrlClassLoader @d2cc05a, parent loader 'platform')</em></p>\n</blockquote>\n<p>Which implies that the class I am trying to modify is already loaded by the Java class loader (at least I like to think so..).\nAn example of the code is given below:</p>\n<pre><code>private static void test() {\n        try {\n            ClassPool cp = ClassPool.getDefault();\n            CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\n            CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\n            cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\n\n            cc.toClass(); // &lt;--- the problem\n        } catch (final Throwable e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>And for reference, here's the accessed class: <a href=\"https://github.com/JetBrains/intellij-community/blob/d2b4f4abbc5af066875402db4250e988aadfcd76/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java\" rel=\"nofollow noreferrer\">intellij link</a></p>\n<hr />\n<p><a href=\"https://stackoverflow.com/users/1237575/rafael-winterhalter\">Rafael Winterhalter</a> commented on a similar issue a couple of years ago (<a href=\"https://stackoverflow.com/questions/23336172/adding-an-annotation-to-a-runtime-generated-class-using-javassist/23359661#23359661\">link</a>). Unfortunately my knowledge with <code>Javassist</code> is limiting me in finding a proper solution.</p>\n<p>Any ideas on how to resolve this issue?</p>\n<hr />\n<p><strong>UPDATE:</strong> A minimal, repoducible example can be found here: <a href=\"https://github.com/decod3d/example\" rel=\"nofollow noreferrer\">github link</a></p>\n"},{"tags":["java","spring","postman"],"answers":[{"comments":[{"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"score":0,"creation_date":1661865424,"post_id":73543091,"comment_id":129869277,"body_markdown":"i tried your solution and it works fine thank you,but know i want to five it a value , it would be so helpful if you tell me how to pass a value for role attribute","body":"i tried your solution and it works fine thank you,but know i want to five it a value , it would be so helpful if you tell me how to pass a value for role attribute"},{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1661865531,"post_id":73543091,"comment_id":129869325,"body_markdown":"You want to pass &quot;role&quot; as variable in postman?","body":"You want to pass &quot;role&quot; as variable in postman?"},{"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"score":0,"creation_date":1661865842,"post_id":73543091,"comment_id":129869451,"body_markdown":"i tried this as you said : [&quot;admin&quot;, &quot;mod&quot;] and it didn&#39;t work ``` &quot;timestamp&quot;: &quot;2022-08-30T13:23:29.602+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/auth/signup&quot;\n}","body":"i tried this as you said : [&quot;admin&quot;, &quot;mod&quot;] and it didn&#39;t work ``` &quot;timestamp&quot;: &quot;2022-08-30T13:23:29.602+00:00&quot;,     &quot;status&quot;: 500,     &quot;error&quot;: &quot;Internal Server Error&quot;,     &quot;path&quot;: &quot;/api/auth/signup&quot; }"},{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1661865906,"post_id":73543091,"comment_id":129869479,"body_markdown":"Do you have roles variable in your globals?","body":"Do you have roles variable in your globals?"},{"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"score":0,"creation_date":1661866112,"post_id":73543091,"comment_id":129869578,"body_markdown":"yes i have roles var in globals","body":"yes i have roles var in globals"},{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1661866343,"post_id":73543091,"comment_id":129869685,"body_markdown":"This error has nothing to do with postman. It is thrown by your code","body":"This error has nothing to do with postman. It is thrown by your code"},{"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"score":0,"creation_date":1661871687,"post_id":73543091,"comment_id":129872036,"body_markdown":"yes i know but i think that&#39;s because i didn&#39;t pass the right value in postman","body":"yes i know but i think that&#39;s because i didn&#39;t pass the right value in postman"},{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1661880859,"post_id":73543091,"comment_id":129875633,"body_markdown":"roleRepository.findByName(ERole.ROLE_ADMIN) you are fetching it from repo, if there is nothing there exception will be thrown","body":"roleRepository.findByName(ERole.ROLE_ADMIN) you are fetching it from repo, if there is nothing there exception will be thrown"}],"tags":[],"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661865855,"creation_date":1661865280,"answer_id":73543091,"question_id":73543014,"body_markdown":"    {\r\n      &quot;id&quot;: 1,\r\n      &quot;username&quot;: &quot;jacksonBez&quot;,\r\n      &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\r\n      &quot;role&quot;: {{roles}},\r\n      &quot;password&quot;: &quot;123bezko&quot;\r\n    }\r\n\r\nYou are missing brackets [].\r\n&quot;role&quot;: &quot;&quot; means single value\r\n&quot;role&quot;: [] means array/list/set of values \r\nFor postman to resole {{role}} you need to set it as global/collection or environment value for example [&quot;admin&quot;, &quot;mod&quot;]\r\n\r\nMore about postman variables here\r\nhttps://learning.postman.com/docs/sending-requests/variables/","title":"how to pass attribute of type Set using postman?","body":"<pre><code>{\n  &quot;id&quot;: 1,\n  &quot;username&quot;: &quot;jacksonBez&quot;,\n  &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\n  &quot;role&quot;: {{roles}},\n  &quot;password&quot;: &quot;123bezko&quot;\n}\n</code></pre>\n<p>You are missing brackets [].\n&quot;role&quot;: &quot;&quot; means single value\n&quot;role&quot;: [] means array/list/set of values\nFor postman to resole {{role}} you need to set it as global/collection or environment value for example [&quot;admin&quot;, &quot;mod&quot;]</p>\n<p>More about postman variables here\n<a href=\"https://learning.postman.com/docs/sending-requests/variables/\" rel=\"nofollow noreferrer\">https://learning.postman.com/docs/sending-requests/variables/</a></p>\n"},{"tags":[],"owner":{"account_id":15151954,"reputation":21,"user_id":10934041,"display_name":"Ravinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690637731,"creation_date":1690637731,"answer_id":76793818,"question_id":73543014,"body_markdown":"First we should have the data in the DB for the roles\r\n[![enter image description here][1]][1]\r\n\r\nThen you can use this sample data to test your transaction\r\n\r\n    {\r\n        &quot;username&quot;: &quot;test@testemail.com&quot;,\r\n        &quot;email&quot;: &quot;test@testemail.com&quot;,\r\n        &quot;role&quot;: [\r\n            &quot;user&quot;\r\n        ],\r\n        &quot;password&quot;: &quot;testPassword&quot;\r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2JFt.png\r\n  [2]: https://i.stack.imgur.com/Zzwqt.png","title":"how to pass attribute of type Set using postman?","body":"<p>First we should have the data in the DB for the roles\n<a href=\"https://i.stack.imgur.com/k2JFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2JFt.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you can use this sample data to test your transaction</p>\n<pre><code>{\n    &quot;username&quot;: &quot;test@testemail.com&quot;,\n    &quot;email&quot;: &quot;test@testemail.com&quot;,\n    &quot;role&quot;: [\n        &quot;user&quot;\n    ],\n    &quot;password&quot;: &quot;testPassword&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Zzwqt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zzwqt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690637731,"creation_date":1661864950,"question_id":73543014,"body_markdown":"so i&#39;ve been trying to implement a jwt authentication/authorization example , i am trying to register a new user using **postman** but the post procedure couldn&#39;t be completed because of attribute &quot;role&quot; that is declared as a &quot;Set&quot; , i tried putting the attribute role as null like this: \r\n\r\n\r\n    {\r\n       &quot;id&quot;: 1,\r\n        &quot;username&quot;: &quot;jacksonBez&quot;,\r\n        &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\r\n        &quot;role&quot;:&quot;&quot;,\r\n        &quot;password&quot;: &quot;123bezko&quot;\r\n    }\r\n\r\nand this warning has occured :\r\n\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; JSON parse error: Cannot coerce empty String (&quot;&quot;) to element of\r\n&gt; `java.util.HashSet&lt;java.lang.String&gt;` (but could if coercion was\r\n&gt; enabled using `CoercionConfig`); nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\r\n&gt; coerce empty String (&quot;&quot;) to element of\r\n&gt; `java.util.HashSet&lt;java.lang.String&gt;` (but could if coercion was\r\n&gt; enabled using `CoercionConfig`)&lt;EOL&gt; at [Source:\r\n&gt; (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5,\r\n&gt; column: 13] (through reference chain:\r\n&gt; com.test.jwt.payload.request.SignUpRequest[&quot;role&quot;])]\r\n\r\ni want to know how to use postman with a variable declared a list or a Set\r\n\r\nhere my controller&#39;s code :\r\n\r\n\r\n    package com.test.jwt.controller;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.test.jwt.model.ERole;\r\n    import com.test.jwt.model.Role;\r\n    import com.test.jwt.model.User;\r\n    import com.test.jwt.payload.request.LoginRequest;\r\n    import com.test.jwt.payload.request.SignUpRequest;\r\n    import com.test.jwt.payload.response.JwtResponse;\r\n    import com.test.jwt.payload.response.MessageResponse;\r\n    import com.test.jwt.repository.RoleRepository;\r\n    import com.test.jwt.repository.UserRepository;\r\n    import com.test.jwt.security.jwt.JwtUtils;\r\n    import com.test.jwt.security.services.UserDetailsImpl;\r\n    \r\n    @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/auth&quot;)\r\n    public class AuthController {\r\n    \t@Autowired\r\n    \tAuthenticationManager authenticationManager;\r\n    \r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \r\n    \t@Autowired\r\n    \tRoleRepository roleRepository;\r\n    \r\n    \t@Autowired\r\n    \tPasswordEncoder encoder;\r\n    \r\n    \t@Autowired\r\n    \tJwtUtils jwtUtils;\r\n    \r\n    \t@PostMapping(&quot;/signin&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n    \r\n    \t\tAuthentication authentication = authenticationManager.authenticate(\r\n    \t\t\t\tnew UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n    \r\n    \t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n    \t\tString jwt = jwtUtils.generateJwtToken(authentication);\r\n    \t\t\r\n    \t\tUserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\t\t\r\n    \t\tList&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n    \t\t\t\t.map(item -&gt; item.getAuthority())\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\treturn ResponseEntity.ok(new JwtResponse(jwt, \r\n    \t\t\t\t\t\t\t\t\t\t\t\t userDetails.getId(), \r\n    \t\t\t\t\t\t\t\t\t\t\t\t userDetails.getUsername(), \r\n    \t\t\t\t\t\t\t\t\t\t\t\t userDetails.getEmail(), \r\n    \t\t\t\t\t\t\t\t\t\t\t\t roles));\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/signup&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\r\n    \t\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n    \t\t\treturn ResponseEntity\r\n    \t\t\t\t\t.badRequest()\r\n    \t\t\t\t\t.body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n    \t\t}\r\n    \r\n    \t\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n    \t\t\treturn ResponseEntity\r\n    \t\t\t\t\t.badRequest()\r\n    \t\t\t\t\t.body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n    \t\t}\r\n    \r\n    \t\t// Create new user&#39;s account\r\n    \t\tUser user = new User(signUpRequest.getUsername(), \r\n    \t\t\t\t\t\t\t signUpRequest.getEmail(),\r\n    \t\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));\r\n    \r\n    \t\tSet&lt;String&gt; strRoles = signUpRequest.getRole();\r\n    \t\tSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    \t\tif (strRoles == null) {\r\n    \t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n    \t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\troles.add(userRole);\r\n    \t\t} else {\r\n    \t\t\tstrRoles.forEach(role -&gt; {\r\n    \t\t\t\tswitch (role) {\r\n    \t\t\t\tcase &quot;admin&quot;:\r\n    \t\t\t\t\tRole adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n    \t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\t\troles.add(adminRole);\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;mod&quot;:\r\n    \t\t\t\t\tRole modRole = roleRepository.findByName(ERole.ROLE_AGENT)\r\n    \t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\t\troles.add(modRole);\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n    \t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\t\troles.add(userRole);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\tuser.setRoles(roles);\r\n    \t\tuserRepository.save(user);\r\n    \r\n    \t\treturn ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n    \t}\r\n    }\r\n\r\nyou can also find full project here : https://github.com/bezkoder/angular-10-spring-boot-jwt-authentication\r\n\r\nthank you.\r\n\r\n","title":"how to pass attribute of type Set using postman?","body":"<p>so i've been trying to implement a jwt authentication/authorization example , i am trying to register a new user using <strong>postman</strong> but the post procedure couldn't be completed because of attribute &quot;role&quot; that is declared as a &quot;Set&quot; , i tried putting the attribute role as null like this:</p>\n<pre><code>{\n   &quot;id&quot;: 1,\n    &quot;username&quot;: &quot;jacksonBez&quot;,\n    &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\n    &quot;role&quot;:&quot;&quot;,\n    &quot;password&quot;: &quot;123bezko&quot;\n}\n</code></pre>\n<p>and this warning has occured :</p>\n<blockquote>\n<p>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.http.converter.HttpMessageNotReadableException:\nJSON parse error: Cannot coerce empty String (&quot;&quot;) to element of\n<code>java.util.HashSet&lt;java.lang.String&gt;</code> (but could if coercion was\nenabled using <code>CoercionConfig</code>); nested exception is\ncom.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\ncoerce empty String (&quot;&quot;) to element of\n<code>java.util.HashSet&lt;java.lang.String&gt;</code> (but could if coercion was\nenabled using <code>CoercionConfig</code>) at [Source:\n(org.springframework.util.StreamUtils$NonClosingInputStream); line: 5,\ncolumn: 13] (through reference chain:\ncom.test.jwt.payload.request.SignUpRequest[&quot;role&quot;])]</p>\n</blockquote>\n<p>i want to know how to use postman with a variable declared a list or a Set</p>\n<p>here my controller's code :</p>\n<pre><code>package com.test.jwt.controller;\n\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.test.jwt.model.ERole;\nimport com.test.jwt.model.Role;\nimport com.test.jwt.model.User;\nimport com.test.jwt.payload.request.LoginRequest;\nimport com.test.jwt.payload.request.SignUpRequest;\nimport com.test.jwt.payload.response.JwtResponse;\nimport com.test.jwt.payload.response.MessageResponse;\nimport com.test.jwt.repository.RoleRepository;\nimport com.test.jwt.repository.UserRepository;\nimport com.test.jwt.security.jwt.JwtUtils;\nimport com.test.jwt.security.services.UserDetailsImpl;\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Autowired\n    RoleRepository roleRepository;\n\n    @Autowired\n    PasswordEncoder encoder;\n\n    @Autowired\n    JwtUtils jwtUtils;\n\n    @PostMapping(&quot;/signin&quot;)\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String jwt = jwtUtils.generateJwtToken(authentication);\n        \n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();      \n        List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n                .map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        return ResponseEntity.ok(new JwtResponse(jwt, \n                                                 userDetails.getId(), \n                                                 userDetails.getUsername(), \n                                                 userDetails.getEmail(), \n                                                 roles));\n    }\n\n    @PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\n        if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n            return ResponseEntity\n                    .badRequest()\n                    .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n        }\n\n        if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n            return ResponseEntity\n                    .badRequest()\n                    .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n        }\n\n        // Create new user's account\n        User user = new User(signUpRequest.getUsername(), \n                             signUpRequest.getEmail(),\n                             encoder.encode(signUpRequest.getPassword()));\n\n        Set&lt;String&gt; strRoles = signUpRequest.getRole();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n        if (strRoles == null) {\n            Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n            roles.add(userRole);\n        } else {\n            strRoles.forEach(role -&gt; {\n                switch (role) {\n                case &quot;admin&quot;:\n                    Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                            .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                    roles.add(adminRole);\n\n                    break;\n                case &quot;mod&quot;:\n                    Role modRole = roleRepository.findByName(ERole.ROLE_AGENT)\n                            .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                    roles.add(modRole);\n\n                    break;\n                default:\n                    Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                            .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                    roles.add(userRole);\n                }\n            });\n        }\n\n        user.setRoles(roles);\n        userRepository.save(user);\n\n        return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n    }\n}\n</code></pre>\n<p>you can also find full project here : <a href=\"https://github.com/bezkoder/angular-10-spring-boot-jwt-authentication\" rel=\"nofollow noreferrer\">https://github.com/bezkoder/angular-10-spring-boot-jwt-authentication</a></p>\n<p>thank you.</p>\n"},{"tags":["java","database","mongodb","rest"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690632338,"post_id":76793448,"comment_id":135382481,"body_markdown":"Can you comment the line RequestMapping(&quot;/&quot;) and try again","body":"Can you comment the line RequestMapping(&quot;/&quot;) and try again"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690632771,"post_id":76793448,"comment_id":135382531,"body_markdown":"Tried it again with &quot;https://eu-central-1.aws.data.mongodb-api.com/app/data-kvswz/endpoint/data/v1/te&quot; but nothing changed","body":"Tried it again with &quot;<a href=\"https://eu-central-1.aws.data.mongodb-api.com/app/data-kvswz/endpoint/data/v1/te\" rel=\"nofollow noreferrer\">eu-central-1.aws.data.mongodb-api.com/app/data-kvswz/endpoi&zwnj;&#8203;nt/&hellip;</a>&quot; but nothing changed"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690632908,"post_id":76793448,"comment_id":135382548,"body_markdown":"Not able to open the link.","body":"Not able to open the link."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690633617,"post_id":76793448,"comment_id":135382644,"body_markdown":"Being able to open the link is not important because you would just get a 404 Not Found Exception for your request. I just took the URL given by MongoDB Atlas and added &quot;/te&quot; for the request. It didnt work out.","body":"Being able to open the link is not important because you would just get a 404 Not Found Exception for your request. I just took the URL given by MongoDB Atlas and added &quot;/te&quot; for the request. It didnt work out."},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690634057,"post_id":76793448,"comment_id":135382702,"body_markdown":"It has nothing to do with mongo. Your Rest endpoint is not working. Share your properties file too.","body":"It has nothing to do with mongo. Your Rest endpoint is not working. Share your properties file too."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690635517,"post_id":76793448,"comment_id":135382858,"body_markdown":"I didnt know that I had to write something in my properties. My application.propertie is empty","body":"I didnt know that I had to write something in my properties. My application.propertie is empty"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690635637,"post_id":76793448,"comment_id":135382871,"body_markdown":"What is the url your using? localhost:8080/te?","body":"What is the url your using? localhost:8080/te?"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690636299,"post_id":76793448,"comment_id":135382948,"body_markdown":"String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;; Thats the connection String I use. Since I do erverything over MongosAtlas with AWS","body":"String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.ne&zwnj;&#8203;t/?retryWrites=true&amp;&zwnj;&#8203;w=majority&quot;; Thats the connection String I use. Since I do erverything over MongosAtlas with AWS"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1690637589,"post_id":76793448,"comment_id":135383085,"body_markdown":"I doubt this is causing the 404 as mentioned earlier in the comments - but separately this certainly looks suspicious/wrong if it is your intent to connect to a cloud service as opposed to a local database: `clusterSettings={hosts=[127.0.0.1:27017]`","body":"I doubt this is causing the 404 as mentioned earlier in the comments - but separately this certainly looks suspicious/wrong if it is your intent to connect to a cloud service as opposed to a local database: <code>clusterSettings={hosts=[127.0.0.1:27017]</code>"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690642301,"post_id":76793448,"comment_id":135383603,"body_markdown":"i also thought that this looked wrong but I connected with the code Atlas produced by atlas for their connection.","body":"i also thought that this looked wrong but I connected with the code Atlas produced by atlas for their connection."}],"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690637218,"creation_date":1690631625,"question_id":76793448,"body_markdown":"Ive tried to create a REST Service with MongoAtlas but get a 404 not Found Exception.\r\n\r\nI have the following folder structure\r\n\r\n\r\n```\r\ncom.example.demo3\r\n                 Demo3Application.java\r\n                 CRUDEMongo.java\r\n                |_test\r\n                      CrudeController.java\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo3;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.ServerApi;\r\nimport com.mongodb.ServerApiVersion;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.example.demo3&quot;, &quot;com.example.demo3.test&quot;})\r\npublic class Demo3Application{\r\n\t@Autowired\r\n\tTest test;\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo3Application.class, args);\r\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\r\n\t\tServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\r\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t\ttry(MongoClient client = MongoClients.create(settings)){\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo3;\r\n\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\nimport org.springframework.data.repository.CrudRepository;\r\n@EnableMongoRepositories\r\npublic interface CRUDEMongo extends CrudRepository&lt;Test, Test&gt;{\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo3.test;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class CrudeController {\r\n  @RequestMapping(value=&quot;/te&quot;, method= RequestMethod.GET)\r\n  public String requestMethodName() {\r\n    return &quot;Hello&quot;;\r\n  }\r\n}\r\n\r\n```\r\n\r\nEverytime I try to connect with URL/te on Postman I get a 404 not found Exception. Spring doesn&#39;t seem to found my RestController. I tried everthing. Change folders, ComponentScan but it doesn&#39;t seem to find it.\r\n\r\n\r\n\r\nTried to set up a REST Service with Spring but get a 404 not found Exception via Postman. Im definitly connected with the database because I get the following back:\r\n\r\n    MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.15.0-78-generic&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.7+7&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;torben&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5cff6b74, com.mongodb.Jep395RecordCodecProvider@627ff1b8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.orswsxw.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName=&#39;atlas-12upi3-shard-0&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=ServerApi{version=V1, deprecationErrors=null, strict=null}, autoEncryptionSettings=null, contextProvider=null}","title":"REST Service with MongoDB Atlas","body":"<p>Ive tried to create a REST Service with MongoAtlas but get a 404 not Found Exception.</p>\n<p>I have the following folder structure</p>\n<pre><code>com.example.demo3\n                 Demo3Application.java\n                 CRUDEMongo.java\n                |_test\n                      CrudeController.java\n</code></pre>\n<pre><code>package com.example.demo3;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.ServerApi;\nimport com.mongodb.ServerApiVersion;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.example.demo3&quot;, &quot;com.example.demo3.test&quot;})\npublic class Demo3Application{\n    @Autowired\n    Test test;\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\n        ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\n        System.out.println(&quot;Hello&quot;);\n        try(MongoClient client = MongoClients.create(settings)){\n        }\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.example.demo3;\n\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport org.springframework.data.repository.CrudRepository;\n@EnableMongoRepositories\npublic interface CRUDEMongo extends CrudRepository&lt;Test, Test&gt;{\n\n}\n</code></pre>\n<pre><code>package com.example.demo3.test;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@RestController\n@RequestMapping(&quot;/&quot;)\npublic class CrudeController {\n  @RequestMapping(value=&quot;/te&quot;, method= RequestMethod.GET)\n  public String requestMethodName() {\n    return &quot;Hello&quot;;\n  }\n}\n\n</code></pre>\n<p>Everytime I try to connect with URL/te on Postman I get a 404 not found Exception. Spring doesn't seem to found my RestController. I tried everthing. Change folders, ComponentScan but it doesn't seem to find it.</p>\n<p>Tried to set up a REST Service with Spring but get a 404 not found Exception via Postman. Im definitly connected with the database because I get the following back:</p>\n<pre><code>MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.15.0-78-generic&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.7+7&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='torben', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5cff6b74, com.mongodb.Jep395RecordCodecProvider@627ff1b8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.orswsxw.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-12upi3-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=ServerApi{version=V1, deprecationErrors=null, strict=null}, autoEncryptionSettings=null, contextProvider=null}\n</code></pre>\n"},{"tags":["java","httpserver"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690634841,"post_id":76793638,"comment_id":135382776,"body_markdown":"Not sure I understand the issue. What did you expect `stop(10);`; to do if not wait 10 seconds? Does the Javadoc say it waits for requests to finish? What requests are actually being made? You&#39;ve one sent and finished one request here","body":"Not sure I understand the issue. What did you expect <code>stop(10);</code>; to do if not wait 10 seconds? Does the Javadoc say it waits for requests to finish? What requests are actually being made? You&#39;ve one sent and finished one request here"},{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":0,"creation_date":1690635861,"post_id":76793638,"comment_id":135382899,"body_markdown":"@OneCricketeer I added javadoc citation to the question. I don&#39;t make any other requests, only this single request that I specified in code is being made.","body":"@OneCricketeer I added javadoc citation to the question. I don&#39;t make any other requests, only this single request that I specified in code is being made."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690637295,"post_id":76793638,"comment_id":135383059,"body_markdown":"I suppose you can argue that &quot;until all current exchange handlers have completed&quot; doesn&#39;t happen if there are zero current exchange handlers, and so there is no bug, but that seems against the spirit of the method.","body":"I suppose you can argue that &quot;until all current exchange handlers have completed&quot; doesn&#39;t happen if there are zero current exchange handlers, and so there is no bug, but that seems against the spirit of the method."}],"answers":[{"comments":[{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":0,"creation_date":1690719547,"post_id":76793754,"comment_id":135389748,"body_markdown":"Thanks, it seems to be this bug: https://bugs.openjdk.org/browse/JDK-8304065","body":"Thanks, it seems to be this bug: <a href=\"https://bugs.openjdk.org/browse/JDK-8304065\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8304065</a>"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690636979,"creation_date":1690636524,"answer_id":76793754,"question_id":76793638,"body_markdown":"The Javadoc for `stop` says:\r\n\r\n&gt; The method will then block until all current exchange handlers have completed or else when approximately delay seconds have elapsed **(whichever happens sooner)**.\r\n\r\nThis looks like a bug to me, as `ServerImpl.stop()` does:\r\n```\r\n        terminating = true;\r\n        try { schan.close(); } catch (IOException e) {}\r\n        selector.wakeup();\r\n        long latest = System.currentTimeMillis() + delay * 1000;\r\n        while (System.currentTimeMillis() &lt; latest) {\r\n            delay();\r\n            if (finished) {\r\n                break;\r\n            }\r\n        }\r\n```\r\n\r\nSo it will only return early if `finished` is `true`.\r\n\r\nThe `finished` field can only be set to true in `ServerImpl.Dispatcher.handleEvent`:\r\n\r\n```\r\n                if (r instanceof WriteFinishedEvent) {\r\n\r\n                    logger.log(Level.TRACE, &quot;Write Finished&quot;);\r\n                    int exchanges = endExchange();\r\n                    if (terminating &amp;&amp; exchanges == 0) {\r\n                        finished = true;\r\n                    }\r\n```\r\nBut `terminating` will be false, unless a `WriteFinishedEvent` occurs after a call to `stop`.\r\n\r\nWe can change the program slightly to get the expected behaviour by ensuring that the request is issued before we call `stop()` but completes after we call `stop()`:\r\n```\r\nimport com.sun.net.httpserver.HttpServer;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.time.LocalDateTime;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        var httpServer = HttpServer.create();\r\n        httpServer.createContext(&quot;/&quot;, exchange -&gt; {\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            exchange.sendResponseHeaders(200, -1);\r\n            System.out.println(&quot;Did request&quot;);\r\n            exchange.close();\r\n        });\r\n        httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\r\n        httpServer.start();\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            var httpClient = HttpClient.newHttpClient();\r\n\r\n            var host = httpServer.getAddress().getAddress().getHostAddress();\r\n            var port = httpServer.getAddress().getPort();\r\n\r\n            var httpRequest = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\r\n                    .GET()\r\n                    .build();\r\n            HttpResponse&lt;byte[]&gt; httpResponse = null;\r\n            try {\r\n                httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(httpResponse.statusCode());\r\n        });\r\n        Thread.sleep(500);\r\n        System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\r\n        httpServer.stop(10);\r\n        System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Java http server does not stop immediately","body":"<p>The Javadoc for <code>stop</code> says:</p>\n<blockquote>\n<p>The method will then block until all current exchange handlers have completed or else when approximately delay seconds have elapsed <strong>(whichever happens sooner)</strong>.</p>\n</blockquote>\n<p>This looks like a bug to me, as <code>ServerImpl.stop()</code> does:</p>\n<pre><code>        terminating = true;\n        try { schan.close(); } catch (IOException e) {}\n        selector.wakeup();\n        long latest = System.currentTimeMillis() + delay * 1000;\n        while (System.currentTimeMillis() &lt; latest) {\n            delay();\n            if (finished) {\n                break;\n            }\n        }\n</code></pre>\n<p>So it will only return early if <code>finished</code> is <code>true</code>.</p>\n<p>The <code>finished</code> field can only be set to true in <code>ServerImpl.Dispatcher.handleEvent</code>:</p>\n<pre><code>                if (r instanceof WriteFinishedEvent) {\n\n                    logger.log(Level.TRACE, &quot;Write Finished&quot;);\n                    int exchanges = endExchange();\n                    if (terminating &amp;&amp; exchanges == 0) {\n                        finished = true;\n                    }\n</code></pre>\n<p>But <code>terminating</code> will be false, unless a <code>WriteFinishedEvent</code> occurs after a call to <code>stop</code>.</p>\n<p>We can change the program slightly to get the expected behaviour by ensuring that the request is issued before we call <code>stop()</code> but completes after we call <code>stop()</code>:</p>\n<pre><code>import com.sun.net.httpserver.HttpServer;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.LocalDateTime;\nimport java.util.concurrent.Executors;\n\npublic class Test {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        var httpServer = HttpServer.create();\n        httpServer.createContext(&quot;/&quot;, exchange -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            exchange.sendResponseHeaders(200, -1);\n            System.out.println(&quot;Did request&quot;);\n            exchange.close();\n        });\n        httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\n        httpServer.start();\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\n            var httpClient = HttpClient.newHttpClient();\n\n            var host = httpServer.getAddress().getAddress().getHostAddress();\n            var port = httpServer.getAddress().getPort();\n\n            var httpRequest = HttpRequest.newBuilder()\n                    .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\n                    .GET()\n                    .build();\n            HttpResponse&lt;byte[]&gt; httpResponse = null;\n            try {\n                httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(httpResponse.statusCode());\n        });\n        Thread.sleep(500);\n        System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\n        httpServer.stop(10);\n        System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76793754,"answer_count":1,"score":2,"last_activity_date":1690636979,"creation_date":1690634589,"question_id":76793638,"body_markdown":"I have the following example code which starts built-in Java http server, issues a request to it using built-in Java http client and then tries to stop a server.\r\n\r\nThe issue is: `stop(delay)` method blocks for exactly `delay` seconds, no matter what delay.\r\n\r\nI expected for this method to process all incoming requests and shut down the server. So in this case I expected for this method to shut down immediately, as there are no incoming requests.\r\n\r\nI can use `stop(0)`, however it does not seem ideal for production server, as it won&#39;t give a chance for current requests to complete.\r\n\r\n```java\r\npackage test;\r\n\r\nimport com.sun.net.httpserver.HttpServer;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.time.LocalDateTime;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) throws IOException, InterruptedException {\r\n    var httpServer = HttpServer.create();\r\n    httpServer.createContext(&quot;/&quot;, exchange -&gt; {\r\n      exchange.sendResponseHeaders(200, -1);\r\n      exchange.close();\r\n    });\r\n    httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\r\n    httpServer.start();\r\n\r\n    var httpClient = HttpClient.newHttpClient();\r\n\r\n    var host = httpServer.getAddress().getAddress().getHostAddress();\r\n    var port = httpServer.getAddress().getPort();\r\n\r\n    var httpRequest = HttpRequest.newBuilder()\r\n        .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\r\n        .GET()\r\n        .build();\r\n\r\n    var httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\r\n\r\n    System.out.println(httpResponse.statusCode());\r\n\r\n    System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\r\n    httpServer.stop(10);\r\n    System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```text\r\n200\r\n2023-07-29T18:37:25.492361 Stopping server\r\n2023-07-29T18:37:35.668797 Server stopped\r\n```\r\n\r\nHere&#39;s javadoc for stop method:\r\n\r\n```\r\n    /**\r\n     * Stops this server by closing the listening socket and disallowing\r\n     * any new exchanges from being processed. The method will then block\r\n     * until all current exchange handlers have completed or else when\r\n     * approximately &lt;i&gt;delay&lt;/i&gt; seconds have elapsed (whichever happens\r\n     * sooner). Then, all open TCP connections are closed, the background\r\n     * thread created by {@link #start()} exits, and the method returns.\r\n     * Once stopped, a {@code HttpServer} cannot be re-used.\r\n     *\r\n     * @param delay the maximum time in seconds to wait until exchanges have finished\r\n     * @throws IllegalArgumentException if delay is less than zero\r\n     */\r\n```\r\n\r\nIt is my understanding that `stop(10)` method is not supposed to wait 10 seconds if there&#39;re no requests currently executing. This timeout is to give currently executing requests time to finish before closing the sockets.","title":"Java http server does not stop immediately","body":"<p>I have the following example code which starts built-in Java http server, issues a request to it using built-in Java http client and then tries to stop a server.</p>\n<p>The issue is: <code>stop(delay)</code> method blocks for exactly <code>delay</code> seconds, no matter what delay.</p>\n<p>I expected for this method to process all incoming requests and shut down the server. So in this case I expected for this method to shut down immediately, as there are no incoming requests.</p>\n<p>I can use <code>stop(0)</code>, however it does not seem ideal for production server, as it won't give a chance for current requests to complete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport com.sun.net.httpserver.HttpServer;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.LocalDateTime;\n\npublic class Test {\n  public static void main(String[] args) throws IOException, InterruptedException {\n    var httpServer = HttpServer.create();\n    httpServer.createContext(&quot;/&quot;, exchange -&gt; {\n      exchange.sendResponseHeaders(200, -1);\n      exchange.close();\n    });\n    httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\n    httpServer.start();\n\n    var httpClient = HttpClient.newHttpClient();\n\n    var host = httpServer.getAddress().getAddress().getHostAddress();\n    var port = httpServer.getAddress().getPort();\n\n    var httpRequest = HttpRequest.newBuilder()\n        .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\n        .GET()\n        .build();\n\n    var httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\n\n    System.out.println(httpResponse.statusCode());\n\n    System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\n    httpServer.stop(10);\n    System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\n  }\n}\n</code></pre>\n<pre><code>200\n2023-07-29T18:37:25.492361 Stopping server\n2023-07-29T18:37:35.668797 Server stopped\n</code></pre>\n<p>Here's javadoc for stop method:</p>\n<pre><code>    /**\n     * Stops this server by closing the listening socket and disallowing\n     * any new exchanges from being processed. The method will then block\n     * until all current exchange handlers have completed or else when\n     * approximately &lt;i&gt;delay&lt;/i&gt; seconds have elapsed (whichever happens\n     * sooner). Then, all open TCP connections are closed, the background\n     * thread created by {@link #start()} exits, and the method returns.\n     * Once stopped, a {@code HttpServer} cannot be re-used.\n     *\n     * @param delay the maximum time in seconds to wait until exchanges have finished\n     * @throws IllegalArgumentException if delay is less than zero\n     */\n</code></pre>\n<p>It is my understanding that <code>stop(10)</code> method is not supposed to wait 10 seconds if there're no requests currently executing. This timeout is to give currently executing requests time to finish before closing the sockets.</p>\n"},{"tags":["java","gradle","gradlew"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":5,"creation_date":1548382956,"post_id":54358107,"comment_id":95530930,"body_markdown":"according to [this bug report](https://github.com/gradle/gradle/issues/5764) , is it possible your gradle wrapper is older?","body":"according to <a href=\"https://github.com/gradle/gradle/issues/5764\" rel=\"nofollow noreferrer\">this bug report</a> , is it possible your gradle wrapper is older?"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":2,"creation_date":1548385796,"post_id":54358107,"comment_id":95531447,"body_markdown":"You run the command ./gradlew which initiate the gradle version associated with this specific project. There is no guarantee that the project&#39;s version is the same as the one you have installed (5.1.1)","body":"You run the command ./gradlew which initiate the gradle version associated with this specific project. There is no guarantee that the project&#39;s version is the same as the one you have installed (5.1.1)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1548389919,"post_id":54358107,"comment_id":95532239,"body_markdown":"Is that version info the result of `gradle --version` or `./gradlew --version`? Gradle based projects often use a [wrapper](https://docs.gradle.org/current/userguide/gradle_wrapper.html) to make it easier for different developers to use the same Gradle version to build the project; this also makes builds more stable.","body":"Is that version info the result of <code>gradle --version</code> or <code>.&#47;gradlew --version</code>? Gradle based projects often use a <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"nofollow noreferrer\">wrapper</a> to make it easier for different developers to use the same Gradle version to build the project; this also makes builds more stable."},{"owner":{"account_id":4435391,"reputation":2568,"user_id":3611375,"accept_rate":62,"display_name":"lesley2958"},"score":0,"creation_date":1548393870,"post_id":54358107,"comment_id":95533175,"body_markdown":"that&#39;s the version of `gradle --version`","body":"that&#39;s the version of <code>gradle --version</code>"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":0,"creation_date":1548613299,"post_id":54358107,"comment_id":95594594,"body_markdown":"Could you also go to your project folder and open the file: .../gradle/wrapper/gradle-wrapper.properties ? Open it with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper&#39;s version is.","body":"Could you also go to your project folder and open the file: .../gradle/wrapper/gradle-wrapper.properties ? Open it with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper&#39;s version is."},{"owner":{"account_id":4435391,"reputation":2568,"user_id":3611375,"accept_rate":62,"display_name":"lesley2958"},"score":0,"creation_date":1548649921,"post_id":54358107,"comment_id":95602452,"body_markdown":"Updated my answer with the contents! Seems like the wrapper is on 4.1, so that&#39;s my issue?","body":"Updated my answer with the contents! Seems like the wrapper is on 4.1, so that&#39;s my issue?"}],"answers":[{"comments":[{"owner":{"account_id":9606711,"reputation":1091,"user_id":7525018,"display_name":"Avid Programmer"},"score":2,"creation_date":1550762783,"post_id":54359875,"comment_id":96397954,"body_markdown":"@tryman thanks! for me it was the your update 2 that helped me. As a general rule of thumb I think I&#39;d check the gradle version going forth.","body":"@tryman thanks! for me it was the your update 2 that helped me. As a general rule of thumb I think I&#39;d check the gradle version going forth."},{"owner":{"account_id":1291169,"reputation":14817,"user_id":1243247,"accept_rate":62,"display_name":"Jo&#227;o Pimentel Ferreira"},"score":1,"creation_date":1560169058,"post_id":54359875,"comment_id":99636081,"body_markdown":"you don&#39;t state exactly what is the CAUSE of the error. Different versions?","body":"you don&#39;t state exactly what is the CAUSE of the error. Different versions?"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":1,"creation_date":1560170040,"post_id":54359875,"comment_id":99636600,"body_markdown":"What? I thought Update 2 was pretty clear. She was trying to run the Gradle wrapper of version 4.1RC1 with JDK11. Gradle added support for JDK11 at version 5.0. So what&#39;s your confusion @Jo&#227;oPimentelFerreira? That was the cause, the rest is the solution on how to update the project&#39;s wrapper to a later version that does support JDK11.","body":"What? I thought Update 2 was pretty clear. She was trying to run the Gradle wrapper of version 4.1RC1 with JDK11. Gradle added support for JDK11 at version 5.0. So what&#39;s your confusion @Jo&#227;oPimentelFerreira? That was the cause, the rest is the solution on how to update the project&#39;s wrapper to a later version that does support JDK11."},{"owner":{"account_id":1291169,"reputation":14817,"user_id":1243247,"accept_rate":62,"display_name":"Jo&#227;o Pimentel Ferreira"},"score":0,"creation_date":1560170282,"post_id":54359875,"comment_id":99636715,"body_markdown":"@tryman I have an apache project and understand nothing, zero, about gradle and I&#39;m for two hours around this issue. Sorry, it is not clear what is the cause nor how to solve this issue.","body":"@tryman I have an apache project and understand nothing, zero, about gradle and I&#39;m for two hours around this issue. Sorry, it is not clear what is the cause nor how to solve this issue."},{"owner":{"account_id":1291169,"reputation":14817,"user_id":1243247,"accept_rate":62,"display_name":"Jo&#227;o Pimentel Ferreira"},"score":0,"creation_date":1560170386,"post_id":54359875,"comment_id":99636771,"body_markdown":"@tryman so the solution is to update the gradle wrapper version to be exactly the same as the system-wide version? That&#39;s my confusion","body":"@tryman so the solution is to update the gradle wrapper version to be exactly the same as the system-wide version? That&#39;s my confusion"},{"owner":{"account_id":1291169,"reputation":14817,"user_id":1243247,"accept_rate":62,"display_name":"Jo&#227;o Pimentel Ferreira"},"score":0,"creation_date":1560170788,"post_id":54359875,"comment_id":99636949,"body_markdown":"My `(project&#39;s root folder)/gradle/wrapper/gradle-wrapper.properties` has `distributionUrl=https\\://services.gradle.org/distributions/gradle-3.3-all.zip` but my system-wide gradle version is 5.0. Can you kindly help please? Thank you","body":"My <code>(project&#39;s root folder)&#47;gradle&#47;wrapper&#47;gradle-wrapper.properties</code> has <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-3.3-all.zip</code> but my system-wide gradle version is 5.0. Can you kindly help please? Thank you"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":1,"creation_date":1560171520,"post_id":54359875,"comment_id":99637293,"body_markdown":"Now it&#39;s my turn to be confused. If you indeed have both the gradle wrapper in your project folder and a system-wide Gradle installation in place, the above step by step solution should work for you. Did you try upgrading your wrapper by executing inside your project folder the update command `gradle wrapper --gradle-version=5.0`? Replace 5.0 with your desired version, I think now the latest is 5.4","body":"Now it&#39;s my turn to be confused. If you indeed have both the gradle wrapper in your project folder and a system-wide Gradle installation in place, the above step by step solution should work for you. Did you try upgrading your wrapper by executing inside your project folder the update command <code>gradle wrapper --gradle-version=5.0</code>? Replace 5.0 with your desired version, I think now the latest is 5.4"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":1,"creation_date":1560171764,"post_id":54359875,"comment_id":99637421,"body_markdown":"However a word of caution:Between version 3.3 of your wrapper an any version 5.x there are bound to be some breaking changes that you may or may not encounter. That&#39;s why in my answer I point you to first build your project with your systemwide Gradle to verify that everything runs smoothly with the version of 5.x you want to upgrade to before updating your project&#39;s wrapper. If in a hurry (I sense urgency in your tone) you can always use the system gradle directly or downgrade to an older JDK and catch up on upgrading your wrapper later.","body":"However a word of caution:Between version 3.3 of your wrapper an any version 5.x there are bound to be some breaking changes that you may or may not encounter. That&#39;s why in my answer I point you to first build your project with your systemwide Gradle to verify that everything runs smoothly with the version of 5.x you want to upgrade to before updating your project&#39;s wrapper. If in a hurry (I sense urgency in your tone) you can always use the system gradle directly or downgrade to an older JDK and catch up on upgrading your wrapper later."},{"owner":{"account_id":465801,"reputation":1649,"user_id":870135,"accept_rate":81,"display_name":"CCJ"},"score":0,"creation_date":1565811712,"post_id":54359875,"comment_id":101471424,"body_markdown":"Landed here from the same issue in Android Studio; I wonder why ./gradlew is not hitting Android Studio&#39;s bundled jdk 8?  Clearly it does when I hit the &#39;play&#39; button to build...  This is a fairly serious problem for projects that can&#39;t/won&#39;t upgrade gradle version, given the Oracle Java 8 apocalypse.","body":"Landed here from the same issue in Android Studio; I wonder why ./gradlew is not hitting Android Studio&#39;s bundled jdk 8?  Clearly it does when I hit the &#39;play&#39; button to build...  This is a fairly serious problem for projects that can&#39;t/won&#39;t upgrade gradle version, given the Oracle Java 8 apocalypse."},{"owner":{"account_id":6090918,"reputation":1398,"user_id":4753198,"accept_rate":67,"display_name":"sonichy"},"score":0,"creation_date":1622355455,"post_id":54359875,"comment_id":119765827,"body_markdown":"Java 11 need Gradle 5.0","body":"Java 11 need Gradle 5.0"},{"owner":{"account_id":16702812,"reputation":196,"user_id":12072013,"display_name":"Akhilesh"},"score":0,"creation_date":1625223667,"post_id":54359875,"comment_id":120576719,"body_markdown":"Updating Gradle version in the following file fixed the issue: \n(project&#39;s root folder)/gradle/wrapper/gradle-wrapper.properties","body":"Updating Gradle version in the following file fixed the issue:  (project&#39;s root folder)/gradle/wrapper/gradle-wrapper.properties"}],"tags":[],"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"comment_count":11,"down_vote_count":0,"up_vote_count":201,"is_accepted":true,"score":201,"last_activity_date":1633012328,"creation_date":1548396972,"answer_id":54359875,"question_id":54358107,"body_markdown":"There are two different Gradle applications in your system.  \r\n\r\n1. the **system-wide Gradle**  \r\nThis application is invoked by `gradle (arguments)`.  \r\n\r\n2. the **gradle-wrapper**  \r\nThe gradle-wrapper is specific to every project and can only be invoked inside the project&#39;s directory, using the command `./gradlew (arguments)`.  \r\n  \r\nYour system-wide gradle version is **5.1.1** (as the OP explained in the comments,  running the command `gradle --version` returned version 5.1.1).  \r\n\r\nHowever, the failure is the result of a call to the gradle-wrapper (`./gradlew`). Could you check your project&#39;s gradle wrapper version? To do that, execute `./gradlew --version` inside your project&#39;s folder, in the directory where the gradlew and gradlew.bat files are.  \r\n  \r\n  \r\n**Update 1:**  \r\nAs running `./gradlew --version` failed, you can manually check your wrapper&#39;s version by opening the file:\r\n\r\n&gt; (project&#39;s root folder)/gradle/wrapper/gradle-wrapper.properties\r\n\r\n with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper&#39;s version is.  \r\n  \r\n  \r\n**Update 2:**\r\nAs per the OP&#39;s updated question, the gradle-wrapper&#39;s version is **4.1RC1**.  \r\nGradle [added support for JDK 11 in Gradle 5.0][1]. Hence since 4.1RC does not support running on JDK 11 this is definitely a problem.  \r\n\r\nThe obvious way, would be to update your project&#39;s gradle-wrapper to version 5.0.  \r\nHowever, before updating, try running `gradle app:installDebug`. This will use your system-wide installed Gradle whose version is 5.1.1 and supports running on Java 11. If this works, then your buildscript (file build.gradle) is not affected by any breaking changes between v.4.1RC1 and v.5.1.1 and you can then update your wrapper by executing from the command line inside your project&#39;s folder: `gradle wrapper --gradle-version=5.1.1` [*].  \r\n\r\nIf `gradle app:installDebug` fails to execute correctly, then maybe you need to upgrade your Gradle buildscript. For updating from v.4.1RC1 to 5.1.1, the Gradle project provides a guide ([1][2], [2][3]) with breaking changes and deprecated features between minor releases, so that you can update gradually to the latest version.  \r\n\r\nAlternatively, if for some reason you can&#39;t or don&#39;t want to upgrade your Gradle buildscript, you can always choose to downgrade your Java version to one that Gradle 4.1RC1 supports running on.\r\n\r\n[*] As [correctly pointed out in the answer by @lupchiazoem][4], use `gradle wrapper --gradle-version=5.1.1` (and not `./gradlew` as I had originally posted there by mistake). The reason is Gradle runs on Java. You can update your gradle-wrapper using any working Gradle distribution, either your system-wide installed Gradle or the gradle-wrapper itself. However, in this case your wrapper is not compatible with your installed Java version, so you do have to use the system-wide Gradle (aka `gradle` and not `./gradlew`).\r\n\r\n\r\n  [1]: https://docs.gradle.org/5.0/release-notes.html#java-11-runtime-support\r\n  [2]: https://docs.gradle.org/current/userguide/upgrading_version_4.html\r\n  [3]: https://docs.gradle.org/current/userguide/upgrading_version_5.html\r\n  [4]: https://stackoverflow.com/a/54493187/4575793","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>There are two different Gradle applications in your system.</p>\n<ol>\n<li><p>the <strong>system-wide Gradle</strong><br />\nThis application is invoked by <code>gradle (arguments)</code>.</p>\n</li>\n<li><p>the <strong>gradle-wrapper</strong><br />\nThe gradle-wrapper is specific to every project and can only be invoked inside the project's directory, using the command <code>./gradlew (arguments)</code>.</p>\n</li>\n</ol>\n<p>Your system-wide gradle version is <strong>5.1.1</strong> (as the OP explained in the comments,  running the command <code>gradle --version</code> returned version 5.1.1).</p>\n<p>However, the failure is the result of a call to the gradle-wrapper (<code>./gradlew</code>). Could you check your project's gradle wrapper version? To do that, execute <code>./gradlew --version</code> inside your project's folder, in the directory where the gradlew and gradlew.bat files are.</p>\n<p><strong>Update 1:</strong><br />\nAs running <code>./gradlew --version</code> failed, you can manually check your wrapper's version by opening the file:</p>\n<blockquote>\n<p>(project's root folder)/gradle/wrapper/gradle-wrapper.properties</p>\n</blockquote>\n<p>with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper's version is.</p>\n<p><strong>Update 2:</strong>\nAs per the OP's updated question, the gradle-wrapper's version is <strong>4.1RC1</strong>.<br />\nGradle <a href=\"https://docs.gradle.org/5.0/release-notes.html#java-11-runtime-support\" rel=\"noreferrer\">added support for JDK 11 in Gradle 5.0</a>. Hence since 4.1RC does not support running on JDK 11 this is definitely a problem.</p>\n<p>The obvious way, would be to update your project's gradle-wrapper to version 5.0.<br />\nHowever, before updating, try running <code>gradle app:installDebug</code>. This will use your system-wide installed Gradle whose version is 5.1.1 and supports running on Java 11. If this works, then your buildscript (file build.gradle) is not affected by any breaking changes between v.4.1RC1 and v.5.1.1 and you can then update your wrapper by executing from the command line inside your project's folder: <code>gradle wrapper --gradle-version=5.1.1</code> [*].</p>\n<p>If <code>gradle app:installDebug</code> fails to execute correctly, then maybe you need to upgrade your Gradle buildscript. For updating from v.4.1RC1 to 5.1.1, the Gradle project provides a guide (<a href=\"https://docs.gradle.org/current/userguide/upgrading_version_4.html\" rel=\"noreferrer\">1</a>, <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_5.html\" rel=\"noreferrer\">2</a>) with breaking changes and deprecated features between minor releases, so that you can update gradually to the latest version.</p>\n<p>Alternatively, if for some reason you can't or don't want to upgrade your Gradle buildscript, you can always choose to downgrade your Java version to one that Gradle 4.1RC1 supports running on.</p>\n<p>[*] As <a href=\"https://stackoverflow.com/a/54493187/4575793\">correctly pointed out in the answer by @lupchiazoem</a>, use <code>gradle wrapper --gradle-version=5.1.1</code> (and not <code>./gradlew</code> as I had originally posted there by mistake). The reason is Gradle runs on Java. You can update your gradle-wrapper using any working Gradle distribution, either your system-wide installed Gradle or the gradle-wrapper itself. However, in this case your wrapper is not compatible with your installed Java version, so you do have to use the system-wide Gradle (aka <code>gradle</code> and not <code>./gradlew</code>).</p>\n"},{"comments":[{"owner":{"account_id":8488598,"reputation":2394,"user_id":7313872,"accept_rate":0,"display_name":"Liam Kernighan"},"score":7,"creation_date":1576320119,"post_id":54493187,"comment_id":104866822,"body_markdown":"Or just replace the version in `gradle/wrapper/gradle-wrapper.properties`\n\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-all.zip`\n\nVersion 6 with JDK12 doesn&#39;t seem to work. 5.1.1 works fine, thank you.","body":"Or just replace the version in <code>gradle&#47;wrapper&#47;gradle-wrapper.properties</code>  <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-5.1.1-all.zip</code>  Version 6 with JDK12 doesn&#39;t seem to work. 5.1.1 works fine, thank you."}],"tags":[],"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"comment_count":1,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1549111327,"creation_date":1549111327,"answer_id":54493187,"question_id":54358107,"body_markdown":"As `distributionUrl` is still pointing to older version, upgrade wrapper using:\r\n\r\n`gradle wrapper --gradle-version 5.1.1`\r\n\r\nNote: Use `gradle` and not `gradlew`","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>As <code>distributionUrl</code> is still pointing to older version, upgrade wrapper using:</p>\n\n<p><code>gradle wrapper --gradle-version 5.1.1</code></p>\n\n<p>Note: Use <code>gradle</code> and not <code>gradlew</code></p>\n"},{"comments":[{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":1,"creation_date":1553064716,"post_id":55044758,"comment_id":97241872,"body_markdown":"This solved my problem too. jenv might have started my problems initially.","body":"This solved my problem too. jenv might have started my problems initially."},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1560210865,"post_id":55044758,"comment_id":99652534,"body_markdown":"for me `GRADLE_HOME` was updated(to 5.4.1``) but not gradle version(still pointing to older version `4.3`) which is weird but restarting terminal worked fine. something weird with `source ~/.bash_profile`","body":"for me <code>GRADLE_HOME</code> was updated(to 5.4.1``) but not gradle version(still pointing to older version <code>4.3</code>) which is weird but restarting terminal worked fine. something weird with <code>source ~&#47;.bash_profile</code>"}],"tags":[],"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1551964620,"creation_date":1551964620,"answer_id":55044758,"question_id":54358107,"body_markdown":"In my case the `JAVA_HOME` variable was set to `/usr/lib/jvm/jdk-11.0.2/`. It was sufficient to unset the variable like this:\r\n\r\n&lt;code&gt;$ export JAVA_HOME=&lt;/code&gt;","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>In my case the <code>JAVA_HOME</code> variable was set to <code>/usr/lib/jvm/jdk-11.0.2/</code>. It was sufficient to unset the variable like this:</p>\n\n<p><code>$ export JAVA_HOME=</code></p>\n"},{"tags":[],"owner":{"account_id":7427714,"reputation":2719,"user_id":5670249,"display_name":"juancho85"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1633041154,"creation_date":1552223918,"answer_id":55088082,"question_id":54358107,"body_markdown":"I&#39;ve had the same issue. Upgrading to gradle 5.0 did the trick for me.\r\n\r\n[This link][1] provides detailed steps on how install gradle 5.0\r\n\r\n\r\n  [1]: https://linuxize.com/post/how-to-install-gradle-on-ubuntu-18-04/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I've had the same issue. Upgrading to gradle 5.0 did the trick for me.</p>\n<p><a href=\"https://linuxize.com/post/how-to-install-gradle-on-ubuntu-18-04/\" rel=\"nofollow noreferrer\">This link</a> provides detailed steps on how install gradle 5.0</p>\n"},{"tags":[],"owner":{"account_id":8669829,"reputation":105,"user_id":6489113,"display_name":"KHAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559308497,"creation_date":1559308497,"answer_id":56395823,"question_id":54358107,"body_markdown":"I ran into a similar issue. I deleted these: \r\n\r\n- libraries and caches from the .idea folder ( YourApp &gt; .idea &gt; .. ) AND \r\n- contents of the build folder. \r\n\r\n\r\n then rebuild.\r\n\r\n*** DON&#39;T FORGET TO BACKUP YOUR PROJECT FIRST ***","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I ran into a similar issue. I deleted these: </p>\n\n<ul>\n<li>libraries and caches from the .idea folder ( YourApp > .idea > .. ) AND </li>\n<li><p>contents of the build folder. </p>\n\n<p>then rebuild.</p></li>\n</ul>\n\n<p><strong>* DON'T FORGET TO BACKUP YOUR PROJECT FIRST *</strong></p>\n"},{"comments":[{"owner":{"account_id":3885812,"reputation":2563,"user_id":3217203,"accept_rate":85,"display_name":"Mauricio Sartori"},"score":3,"creation_date":1566417765,"post_id":56768106,"comment_id":101654172,"body_markdown":"Just a heads up DO NOT try this solution on Android Studio. I will break it.","body":"Just a heads up DO NOT try this solution on Android Studio. I will break it."}],"tags":[],"owner":{"account_id":1337090,"reputation":3013,"user_id":1279573,"display_name":"SuperAndrew"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1633015554,"creation_date":1561536474,"answer_id":56768106,"question_id":54358107,"body_markdown":"Because your wrapper version does not support 11+ you can [make simple trick to cheat newer version of InteliJ forever][1].\r\n\r\n      press3x Shift -&gt; type &quot;Switch Boot JDK&quot; -&gt; and change for java 8. \r\n\r\nOr If you want to work with java 11+ you simply have to update wrapper version to 4.8+ \r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Because your wrapper version does not support 11+ you can <a href=\"https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/\" rel=\"nofollow noreferrer\">make simple trick to cheat newer version of InteliJ forever</a>.</p>\n<pre><code>  press3x Shift -&gt; type &quot;Switch Boot JDK&quot; -&gt; and change for java 8. \n</code></pre>\n<p>Or If you want to work with java 11+ you simply have to update wrapper version to 4.8+</p>\n"},{"tags":[],"owner":{"account_id":2832523,"reputation":1,"user_id":2700628,"display_name":"MgFrobozz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633041142,"creation_date":1566235793,"answer_id":57561450,"question_id":54358107,"body_markdown":"I ran into the same issue in Ubuntu 18.04.3 LTS. In my case, apt installed gradle version 4.4.1. The already-install java version was 11.0.4\r\n\r\nThe build message I got was\r\n\r\n    Could not determine java version from &#39;11.0.4&#39;.\r\n\r\nAt the time, most of the online docs referenced gradle version 5.6, so I did the following:\r\n\r\n    sudo add-apt-repository ppa:cwchien/gradle\r\n    sudo apt update\r\n    sudo apt upgrade gradle\r\n\r\nThen I repeated the project initialiation (using `gradle init` with the defaults). After that, `./gradlew build` worked correctly.\r\n\r\nI later read a comment regarding a change in format of the output from `java --version` that caused gradle to break, which was fixed in a later version of gradle.\r\n\r\n\r\n\r\n","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I ran into the same issue in Ubuntu 18.04.3 LTS. In my case, apt installed gradle version 4.4.1. The already-install java version was 11.0.4</p>\n<p>The build message I got was</p>\n<pre><code>Could not determine java version from '11.0.4'.\n</code></pre>\n<p>At the time, most of the online docs referenced gradle version 5.6, so I did the following:</p>\n<pre><code>sudo add-apt-repository ppa:cwchien/gradle\nsudo apt update\nsudo apt upgrade gradle\n</code></pre>\n<p>Then I repeated the project initialiation (using <code>gradle init</code> with the defaults). After that, <code>./gradlew build</code> worked correctly.</p>\n<p>I later read a comment regarding a change in format of the output from <code>java --version</code> that caused gradle to break, which was fixed in a later version of gradle.</p>\n"},{"tags":[],"owner":{"account_id":2647347,"reputation":1521,"user_id":2289765,"accept_rate":72,"display_name":"Rocky Inde"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566484653,"creation_date":1566484653,"answer_id":57611834,"question_id":54358107,"body_markdown":"To put long answer short, upgrade your `gradlew` using the system `gradle` tool. Note that the below upgrade works even if your system `gradle` version is `&lt; 5`.\r\n\r\n    gradle wrapper --gradle-version=5.1.1","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>To put long answer short, upgrade your <code>gradlew</code> using the system <code>gradle</code> tool. Note that the below upgrade works even if your system <code>gradle</code> version is <code>&lt; 5</code>.</p>\n\n<pre><code>gradle wrapper --gradle-version=5.1.1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1618602237,"post_id":57692259,"comment_id":118661022,"body_markdown":"I was using and older version of Gradle (4.1) on my system and trying to use Java 11. I guess that Java version was not supported by Gradle 4.1. So I just updated Gradle with `brew upgrade gradle` and it installed the latest (7.0) version of Gradle. Life is good again.","body":"I was using and older version of Gradle (4.1) on my system and trying to use Java 11. I guess that Java version was not supported by Gradle 4.1. So I just updated Gradle with <code>brew upgrade gradle</code> and it installed the latest (7.0) version of Gradle. Life is good again."}],"tags":[],"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633015012,"creation_date":1566994691,"answer_id":57692259,"question_id":54358107,"body_markdown":"In my case, I was trying to build and get APK for an old Unity 3D project (so that I can play the game in my Android phone). I was using the most recent Android Studio version, and all the SDK packages I could download via SDK Manager in Android Studio. SDK Packages was located in \r\n\r\n    C:/Users/Onat/AppData/Local/Android/Sdk \r\n\r\nAnd the error message I got was the same except the JDK (Java Development Kit) version &quot;jdk-12.0.2&quot; . JDK was located in \r\n\r\n    C:\\Program Files\\Java\\jdk-12.0.2\r\n\r\nAnd Environment Variable in Windows was `JAVA_HOME` : `C:\\Program Files\\Java\\jdk-12.0.2`\r\n\r\nAfter 3 hours of research, I found out that Unity does not support JDK 10, [as told here][1]. My suggestion is:\r\n\r\n0. [Uninstall unwanted JDK][2] if you have one installed already.\r\n1. [Head here][3]\r\n2. Login to/Open a Oracle account if not already logged in.\r\n3. Download the older but functional JDK 8 for your computer set-up(32 bit/64 bit, Windows/Linux etc.)\r\n4. [Install the JDK][4]. Remember the installation path.\r\n5. If you are using Windows, Open Environment Variables and change Java Path via Right click My `Computer/This PC&gt;Properties&gt;Advanced System Settings&gt;Environment Variables&gt;New&gt;Variable Name: JAVA_HOME&gt;Variable Value: [YOUR JDK Path, Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;]`\r\n6. In Unity 3D, press `Edit &gt; Preferences &gt; External Tools and fill in the JDK path (Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;)`.\r\n7. Also, in the same pop-up, edit SDK Path. (Get it from `Android Studio &gt; SDK Manager &gt; Android SDK &gt; Android SDK Location`.)\r\n8. If needed, restart your computer for changes to take effect.\r\n\r\n\r\n  [1]: https://forum.unity.com/threads/gradle-build-failed-error-could-not-determine-java-version-from-10-0-1.532169/\r\n  [2]: https://www.java.com/tr/download/help/uninstall_java.xml\r\n  [3]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [4]: https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>In my case, I was trying to build and get APK for an old Unity 3D project (so that I can play the game in my Android phone). I was using the most recent Android Studio version, and all the SDK packages I could download via SDK Manager in Android Studio. SDK Packages was located in</p>\n<pre><code>C:/Users/Onat/AppData/Local/Android/Sdk \n</code></pre>\n<p>And the error message I got was the same except the JDK (Java Development Kit) version &quot;jdk-12.0.2&quot; . JDK was located in</p>\n<pre><code>C:\\Program Files\\Java\\jdk-12.0.2\n</code></pre>\n<p>And Environment Variable in Windows was <code>JAVA_HOME</code> : <code>C:\\Program Files\\Java\\jdk-12.0.2</code></p>\n<p>After 3 hours of research, I found out that Unity does not support JDK 10, <a href=\"https://forum.unity.com/threads/gradle-build-failed-error-could-not-determine-java-version-from-10-0-1.532169/\" rel=\"nofollow noreferrer\">as told here</a>. My suggestion is:</p>\n<ol start=\"0\">\n<li><a href=\"https://www.java.com/tr/download/help/uninstall_java.xml\" rel=\"nofollow noreferrer\">Uninstall unwanted JDK</a> if you have one installed already.</li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Head here</a></li>\n<li>Login to/Open a Oracle account if not already logged in.</li>\n<li>Download the older but functional JDK 8 for your computer set-up(32 bit/64 bit, Windows/Linux etc.)</li>\n<li><a href=\"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/\" rel=\"nofollow noreferrer\">Install the JDK</a>. Remember the installation path.</li>\n<li>If you are using Windows, Open Environment Variables and change Java Path via Right click My <code>Computer/This PC&gt;Properties&gt;Advanced System Settings&gt;Environment Variables&gt;New&gt;Variable Name: JAVA_HOME&gt;Variable Value: [YOUR JDK Path, Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;]</code></li>\n<li>In Unity 3D, press <code>Edit &gt; Preferences &gt; External Tools and fill in the JDK path (Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;)</code>.</li>\n<li>Also, in the same pop-up, edit SDK Path. (Get it from <code>Android Studio &gt; SDK Manager &gt; Android SDK &gt; Android SDK Location</code>.)</li>\n<li>If needed, restart your computer for changes to take effect.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567767656,"creation_date":1567767656,"answer_id":57820740,"question_id":54358107,"body_markdown":"I had a similar problem: my default `gradle wrapper` was version 4.x, while the support for higher versions of Java has been added in Gradle 5.\r\n\r\nI&#39;ve updated my `gradlew` as described here: https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper\r\n\r\nTLTD: \r\n\r\n    ./gradlew wrapper --gradle-version 5.6.2","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I had a similar problem: my default <code>gradle wrapper</code> was version 4.x, while the support for higher versions of Java has been added in Gradle 5.</p>\n\n<p>I've updated my <code>gradlew</code> as described here: <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper</a></p>\n\n<p>TLTD: </p>\n\n<pre><code>./gradlew wrapper --gradle-version 5.6.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3044708,"reputation":11,"user_id":2580705,"display_name":"Derrick Lamptey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569277047,"creation_date":1569277047,"answer_id":58070829,"question_id":54358107,"body_markdown":"I solved this by clicking on File -&gt; Project Structure then changed the JDK Location to Use Embedded JDK (Recommended)","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I solved this by clicking on File -> Project Structure then changed the JDK Location to Use Embedded JDK (Recommended)</p>\n"},{"tags":[],"owner":{"account_id":11885624,"reputation":111,"user_id":8698107,"display_name":"atreyHazelHispanic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633041150,"creation_date":1569446186,"answer_id":58106628,"question_id":54358107,"body_markdown":"got to project file..\r\n`gradle/wrapper/gradlewrapper.properties`\r\n\r\nthere you can change the value of `distributionurl` to what ever the lastest version is. (Found on [docs.gradle.org][1])\r\n\r\n\r\n  [1]: http://docs.gradle.org","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>got to project file..\n<code>gradle/wrapper/gradlewrapper.properties</code></p>\n<p>there you can change the value of <code>distributionurl</code> to what ever the lastest version is. (Found on <a href=\"http://docs.gradle.org\" rel=\"nofollow noreferrer\">docs.gradle.org</a>)</p>\n"},{"tags":[],"owner":{"account_id":1104656,"reputation":1228,"user_id":1096326,"display_name":"Maciel Escudero Bombonato"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1570036070,"creation_date":1570036070,"answer_id":58206150,"question_id":54358107,"body_markdown":"I had the same problem here. \r\nIn my case I need to use an old version of JDK and I&#39;m using [**sdkmanager**](https://sdkman.io/) to manage the versions of JDK, so, I changed the version of the virtual machine to 1.8.\r\n\r\n    sdk use java 8.0.222.j9-adpt\r\n\r\nAfter that, the app runs as expected here.\r\n","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I had the same problem here. \nIn my case I need to use an old version of JDK and I'm using <a href=\"https://sdkman.io/\" rel=\"noreferrer\"><strong>sdkmanager</strong></a> to manage the versions of JDK, so, I changed the version of the virtual machine to 1.8.</p>\n\n<pre><code>sdk use java 8.0.222.j9-adpt\n</code></pre>\n\n<p>After that, the app runs as expected here.</p>\n"},{"tags":[],"owner":{"account_id":439526,"reputation":1456,"user_id":1295595,"accept_rate":55,"display_name":"craq"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1576313984,"creation_date":1576313984,"answer_id":59333687,"question_id":54358107,"body_markdown":"**tl;dr**: downgrade java by running `update-alternatives`\r\n_____\r\n\r\nMy system gradle version was 4.4.1, and the gradle wrapper version was 4.0. After running the command given by several other answers:\r\n\r\n    gradle wrapper --gradle-version 4.4.1\r\n\r\nI still had the same error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine java version from &#39;11.0.4&#39;.\r\n\r\nIt turns out java 11 wasn&#39;t supported until gradle 4.8, and my software repositories only had 4.4.1. (Also, upgrading to newer gradle version might have been incompatible with the package I was trying to compile.)\r\n\r\nThe answer was to downgrade java. My system actually had java8 already installed, and it was easy to switch between java versions by running this command and following the instructions:\r\n\r\n    sudo update-alternatives --config java","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p><strong>tl;dr</strong>: downgrade java by running <code>update-alternatives</code></p>\n\n<hr>\n\n<p>My system gradle version was 4.4.1, and the gradle wrapper version was 4.0. After running the command given by several other answers:</p>\n\n<pre><code>gradle wrapper --gradle-version 4.4.1\n</code></pre>\n\n<p>I still had the same error:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.4'.\n</code></pre>\n\n<p>It turns out java 11 wasn't supported until gradle 4.8, and my software repositories only had 4.4.1. (Also, upgrading to newer gradle version might have been incompatible with the package I was trying to compile.)</p>\n\n<p>The answer was to downgrade java. My system actually had java8 already installed, and it was easy to switch between java versions by running this command and following the instructions:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1578480637,"creation_date":1578480637,"answer_id":59644248,"question_id":54358107,"body_markdown":"Updating `gradle/wrapper/gradle-wrapper.properties` with the following version fixed it for me:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Updating <code>gradle/wrapper/gradle-wrapper.properties</code> with the following version fixed it for me:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3989434,"reputation":55901,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595471384,"creation_date":1595471384,"answer_id":63045952,"question_id":54358107,"body_markdown":"I was facing the same issue in Docker setup, while I was trying to install `Gradle-2.4` with `JDL 11.0.7`. I have to install a [later version][1] to fix the issue.\r\n\r\nHere is the Working Dockerfile\r\n\r\n```\r\nFROM openjdk:11.0.7-jdk\r\nRUN apt-get update &amp;&amp; apt-get install -y unzip\r\nWORKDIR /gradle\r\nRUN curl -L https://services.gradle.org/distributions/gradle-6.5.1-bin.zip -o gradle-6.5.1-bin.zip\r\nRUN unzip gradle-6.5.1-bin.zip\r\nENV GRADLE_HOME=/gradle/gradle-6.5.1\r\nENV PATH=$PATH:$GRADLE_HOME/bin\r\nRUN gradle --version\r\n\r\n```\r\n\r\n  [1]: https://services.gradle.org/distributions/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I was facing the same issue in Docker setup, while I was trying to install <code>Gradle-2.4</code> with <code>JDL 11.0.7</code>. I have to install a <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">later version</a> to fix the issue.</p>\n<p>Here is the Working Dockerfile</p>\n<pre><code>FROM openjdk:11.0.7-jdk\nRUN apt-get update &amp;&amp; apt-get install -y unzip\nWORKDIR /gradle\nRUN curl -L https://services.gradle.org/distributions/gradle-6.5.1-bin.zip -o gradle-6.5.1-bin.zip\nRUN unzip gradle-6.5.1-bin.zip\nENV GRADLE_HOME=/gradle/gradle-6.5.1\nENV PATH=$PATH:$GRADLE_HOME/bin\nRUN gradle --version\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7738070,"reputation":588,"user_id":5858974,"display_name":"Michelle Norris"},"score":0,"creation_date":1660666783,"post_id":64532075,"comment_id":129584024,"body_markdown":"`cordova requirements` is also a way to display the installed gradle version","body":"<code>cordova requirements</code> is also a way to display the installed gradle version"}],"tags":[],"owner":{"account_id":1351186,"reputation":12038,"user_id":1290746,"accept_rate":69,"display_name":"kris"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603691305,"creation_date":1603691305,"answer_id":64532075,"question_id":54358107,"body_markdown":"### Getting this error when doing a `cordova build android --release`\r\n\r\nI was able to resolve this, after trying so so many different things, by simply doing :\r\n\r\n```bash\r\nnpm install cordova -g   # to upgrade to version 10.0.0\r\n\r\ncordova platform rm android\r\ncordova platform add android    # to upgrade to android version 9.0.0\r\n```","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<h3>Getting this error when doing a <code>cordova build android --release</code></h3>\n<p>I was able to resolve this, after trying so so many different things, by simply doing :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install cordova -g   # to upgrade to version 10.0.0\n\ncordova platform rm android\ncordova platform add android    # to upgrade to android version 9.0.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64443,"reputation":2523,"user_id":190223,"accept_rate":83,"display_name":"juancn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615835799,"creation_date":1615835799,"answer_id":66644311,"question_id":54358107,"body_markdown":"The simplest for a quick and dirty test is to just use an override, for example:\r\n\r\n    &gt; JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/ ./gradlew build\r\n\r\nsince the wrapper checks for `JAVA_HOME` you can just pick any you want on each run. ","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>The simplest for a quick and dirty test is to just use an override, for example:</p>\n<pre><code>&gt; JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/ ./gradlew build\n</code></pre>\n<p>since the wrapper checks for <code>JAVA_HOME</code> you can just pick any you want on each run.</p>\n"},{"tags":[],"owner":{"account_id":21442481,"reputation":21,"user_id":15796740,"display_name":"Rajesh Boddepalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619774159,"creation_date":1619730971,"answer_id":67325155,"question_id":54358107,"body_markdown":"I have the similar issue in Windows with redhat java-11 version, edited the gradle-wrapper.properties and updated the distributionUrl as below with gradle-6.5.1-bin.zip\r\nand its working for me.\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.5.1-bin.zip\r\n```","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I have the similar issue in Windows with redhat java-11 version, edited the gradle-wrapper.properties and updated the distributionUrl as below with gradle-6.5.1-bin.zip\nand its working for me.</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5.1-bin.zip\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5801852,"reputation":1520,"user_id":4575793,"display_name":"Cadoiz"},"score":0,"creation_date":1632987490,"post_id":68183741,"comment_id":122642699,"body_markdown":"This was the only solution that worked fine for me on current Windows 10. Sdkman [as proposed here](https://stackoverflow.com/a/58206150/4575793) should do the trick too, but is a bit tricky under Windows.","body":"This was the only solution that worked fine for me on current Windows 10. Sdkman <a href=\"https://stackoverflow.com/a/58206150/4575793\">as proposed here</a> should do the trick too, but is a bit tricky under Windows."}],"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624990389,"creation_date":1624990389,"answer_id":68183741,"question_id":54358107,"body_markdown":"I had the same issue in Windows. My gradle configuration was to set use JDK1.8, but JAVA_HOME was configured to use another JDK. \r\n\r\n**Solution :** \r\n\r\nSet JAVA_HOME properly based on your configured JDK in gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9m8WM.png","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I had the same issue in Windows. My gradle configuration was to set use JDK1.8, but JAVA_HOME was configured to use another JDK.</p>\n<p><strong>Solution :</strong></p>\n<p>Set JAVA_HOME properly based on your configured JDK in gradle</p>\n<p><a href=\"https://i.stack.imgur.com/9m8WM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9m8WM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5487946,"reputation":5492,"user_id":4362167,"display_name":"ali ozkara"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633041099,"creation_date":1626103482,"answer_id":68349966,"question_id":54358107,"body_markdown":"If you&#39;ve android studio version 4.2.2 its starts as default Java 11.0.8\r\n\r\nCheck your version `Android Studio -&gt; About Android Studio`\r\n\r\nChange 11.0.8 to JDK 8\r\n\r\n1- Install the [JDK8][1]\r\n\r\n2- Install the [Choose Runtime plugin][2]\r\n\r\n3- Open action tab:  Command + Shift + A `⇧⌘A`\r\n\r\n[![actiontab][3]][3]\r\n\r\n4- Choose runtime and select jdk 8 on list \r\n\r\n[![selectjdk][4]][4]\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n  [2]: https://plugins.jetbrains.com/plugin/12836-choose-runtime\r\n  [3]: https://i.stack.imgur.com/CDzNm.png\r\n  [4]: https://i.stack.imgur.com/4Lkuh.png","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>If you've android studio version 4.2.2 its starts as default Java 11.0.8</p>\n<p>Check your version <code>Android Studio -&gt; About Android Studio</code></p>\n<p>Change 11.0.8 to JDK 8</p>\n<p>1- Install the <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">JDK8</a></p>\n<p>2- Install the <a href=\"https://plugins.jetbrains.com/plugin/12836-choose-runtime\" rel=\"nofollow noreferrer\">Choose Runtime plugin</a></p>\n<p>3- Open action tab:  Command + Shift + A <code>⇧⌘A</code></p>\n<p><a href=\"https://i.stack.imgur.com/CDzNm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CDzNm.png\" alt=\"actiontab\" /></a></p>\n<p>4- Choose runtime and select jdk 8 on list</p>\n<p><a href=\"https://i.stack.imgur.com/4Lkuh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Lkuh.png\" alt=\"selectjdk\" /></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631541443,"post_id":69162292,"comment_id":122242806,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-ask).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69162292/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-ask\">in the help center</a>."}],"tags":[],"owner":{"account_id":19660597,"reputation":1,"user_id":14392109,"display_name":"user14392109"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631534417,"creation_date":1631534417,"answer_id":69162292,"question_id":54358107,"body_markdown":"You might missed to install maven please install the maven then please checked. it will work after ....","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>You might missed to install maven please install the maven then please checked. it will work after ....</p>\n"},{"tags":[],"owner":{"account_id":171579,"reputation":14763,"user_id":399105,"display_name":"bmaupin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632492752,"creation_date":1632492752,"answer_id":69316458,"question_id":54358107,"body_markdown":"As others have mentioned, Java 11 support was added in Gradle 5. The solution is to upgrade your Gradle wrapper:\r\n\r\n1. Go here to figure out the latest version of Gradle: https://gradle.org/releases/\r\n\r\n1. Upgrade the Gradle wrapper\r\n\r\n   - If you have Gradle installed on your machine:\r\n\r\n     ```\r\n     gradle wrapper --gradle-version 7.2\r\n     ```\r\n\r\n   - If you don&#39;t have Gradle installed:\r\n\r\n     1. Modify gradle/wrapper/gradle-wrapper.properties\r\n\r\n        Update `distributionUrl` with the latest version of Gradle, e.g.\r\n\r\n        ```\r\n        distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n        ```\r\n\r\n     1. Upgrade the remaining wrapper files (gradle-wrapper.jar, gradlew, gradlew.bat)\r\n\r\n        ```\r\n        ./gradlew wrapper --gradle-version 7.2\r\n        ```\r\n\r\nSince you&#39;re upgrading from an old version of Gradle, you&#39;ll probably get errors like these:\r\n\r\n```\r\nCould not find method compile() for arguments ...\r\nCould not find method testCompile() for arguments ...\r\n```\r\n\r\nTo fix these, edit build.gradle and replace every instance of `compile` with `implementation` and replace `testCompile` with `testImplementation`.","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>As others have mentioned, Java 11 support was added in Gradle 5. The solution is to upgrade your Gradle wrapper:</p>\n<ol>\n<li><p>Go here to figure out the latest version of Gradle: <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a></p>\n</li>\n<li><p>Upgrade the Gradle wrapper</p>\n<ul>\n<li><p>If you have Gradle installed on your machine:</p>\n<pre><code>gradle wrapper --gradle-version 7.2\n</code></pre>\n</li>\n<li><p>If you don't have Gradle installed:</p>\n<ol>\n<li><p>Modify gradle/wrapper/gradle-wrapper.properties</p>\n<p>Update <code>distributionUrl</code> with the latest version of Gradle, e.g.</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\n</code></pre>\n</li>\n<li><p>Upgrade the remaining wrapper files (gradle-wrapper.jar, gradlew, gradlew.bat)</p>\n<pre><code>./gradlew wrapper --gradle-version 7.2\n</code></pre>\n</li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n<p>Since you're upgrading from an old version of Gradle, you'll probably get errors like these:</p>\n<pre><code>Could not find method compile() for arguments ...\nCould not find method testCompile() for arguments ...\n</code></pre>\n<p>To fix these, edit build.gradle and replace every instance of <code>compile</code> with <code>implementation</code> and replace <code>testCompile</code> with <code>testImplementation</code>.</p>\n"},{"tags":[],"owner":{"account_id":23360415,"reputation":793,"user_id":17432749,"display_name":"dev.bojack"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642725944,"creation_date":1642725944,"answer_id":70795117,"question_id":54358107,"body_markdown":"Head over to`android/gradle/wrapper/gradle-wrapper.properties` and update the `distributionUrl` with the latest gradle version. \r\n\r\nGo to https://gradle.org/releases/ to get the latest version, then edit it here.\r\n\r\n&gt; `https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip`\r\n\r\n`7.3.3` being the latest version release.\r\n\r\n&gt; `https\\://services.gradle.org/distributions/gradle-#latest_gradle-version#-all.zip`","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Head over to<code>android/gradle/wrapper/gradle-wrapper.properties</code> and update the <code>distributionUrl</code> with the latest gradle version.</p>\n<p>Go to <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a> to get the latest version, then edit it here.</p>\n<blockquote>\n<p><code>https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip</code></p>\n</blockquote>\n<p><code>7.3.3</code> being the latest version release.</p>\n<blockquote>\n<p><code>https\\://services.gradle.org/distributions/gradle-#latest_gradle-version#-all.zip</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16879336,"reputation":321,"user_id":13601462,"display_name":"Denver Shenal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644807298,"creation_date":1644807298,"answer_id":71106688,"question_id":54358107,"body_markdown":"Navigate to `Project/gradle/wrapper/gradle-wrapper.properties` and manually changed the distributionUrl to `distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-bin.zip` and it worked Hope this helps someone.","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Navigate to <code>Project/gradle/wrapper/gradle-wrapper.properties</code> and manually changed the distributionUrl to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-bin.zip</code> and it worked Hope this helps someone.</p>\n"},{"comments":[{"owner":{"account_id":19306883,"reputation":579,"user_id":14113504,"display_name":"Tirterra"},"score":0,"creation_date":1654759311,"post_id":71647511,"comment_id":128169490,"body_markdown":"It almost worked for me, I modified the version in the default link from what it was to latest like this. https\\://services.gradle.org/distributions/gradle-2.7-bin.zip \n--&gt;\nhttps\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip","body":"It almost worked for me, I modified the version in the default link from what it was to latest like this. https\\://services.gradle.org/distributions/gradle-2.7-bin.zi&zwnj;&#8203;p  --&gt; https\\://services.gradle.org/distributions/gradle-7.4.2-bin.&zwnj;&#8203;zip"}],"tags":[],"owner":{"account_id":9449848,"reputation":522,"user_id":7027154,"display_name":"Ankit Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648470635,"creation_date":1648470635,"answer_id":71647511,"question_id":54358107,"body_markdown":"Just goto your &quot;project folder/gradle/gradle-wrapper.properties&quot; and in distibutionUrl where your gradle version is metioned, check the new updated gradle version from [here][1] and change it in &quot;distributionUrl&quot; and done!\r\n\r\n\r\n  [1]: https://gradle.org/releases/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Just goto your &quot;project folder/gradle/gradle-wrapper.properties&quot; and in distibutionUrl where your gradle version is metioned, check the new updated gradle version from <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">here</a> and change it in &quot;distributionUrl&quot; and done!</p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659672502,"creation_date":1659672502,"answer_id":73244555,"question_id":54358107,"body_markdown":"I am running Gradle on Windows.\r\n\r\nIn my case, I already had the older Gradle version present in my system and set it into the &quot;Environment Variable&quot;.\r\n\r\n\r\nThat is the reason the error occurred. \r\n\r\nSo I removed the old version, set the new one in &quot;Environment Variable&quot; - path variable and its starts working.","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I am running Gradle on Windows.</p>\n<p>In my case, I already had the older Gradle version present in my system and set it into the &quot;Environment Variable&quot;.</p>\n<p>That is the reason the error occurred.</p>\n<p>So I removed the old version, set the new one in &quot;Environment Variable&quot; - path variable and its starts working.</p>\n"},{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661429403,"creation_date":1661429403,"answer_id":73487262,"question_id":54358107,"body_markdown":"if you&#39;re working on a legacy project; Up the gradle version to 6.9 and the Gradle plugin version to 4.2.2. This is the Gradle version to which you can safely turn up without anything breaking. ","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>if you're working on a legacy project; Up the gradle version to 6.9 and the Gradle plugin version to 4.2.2. This is the Gradle version to which you can safely turn up without anything breaking.</p>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677262007,"creation_date":1677262007,"answer_id":75559986,"question_id":54358107,"body_markdown":"Similar to https://stackoverflow.com/a/68183741/3957754 but for linux or devops environments\r\n\r\nIf you have the same error log `Could not determine java version from &#39;11&#39;.`, check this [table](https://docs.gradle.org/current/userguide/compatibility.html#java) to get the required versions between java &amp; gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### Example\r\n\r\nIn my case I tried with **gradle-4.5** and only with **java 1.8** I was able to solve the same error log: `Could not determine java version from &#39;11&#39;.`\r\n\r\nSo if you are on linux and you need to automate some gradle steps lke build, test, etc you only need to download gradle and export these variables:\r\n\r\n```\r\nexport JAVA_HOME=/foo/bar/Apps/openjdk-8uxyz\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n\r\nexport GRADDLE_HOME=/foo/bar/Apps/gradle-4.5\r\nexport PATH=$PATH:$GRADDLE_HOME/bin\r\n```\r\n\r\nYou could download gradle (gradle-x.y.z-all.zip) from \r\n\r\n- https://jrichardsz.github.io/android/how-to-build-an-android-apk-using-only-linux-for-devops-automations\r\n- https://services.gradle.org/distributions  \r\n\r\nYou could download or install java from:\r\n\r\n- https://stackoverflow.com/a/62157040/3957754\r\n\r\n  [1]: https://i.stack.imgur.com/jzLOp.png","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Similar to <a href=\"https://stackoverflow.com/a/68183741/3957754\">https://stackoverflow.com/a/68183741/3957754</a> but for linux or devops environments</p>\n<p>If you have the same error log <code>Could not determine java version from '11'.</code>, check this <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">table</a> to get the required versions between java &amp; gradle</p>\n<p><a href=\"https://i.stack.imgur.com/jzLOp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jzLOp.png\" alt=\"enter image description here\" /></a></p>\n<h3>Example</h3>\n<p>In my case I tried with <strong>gradle-4.5</strong> and only with <strong>java 1.8</strong> I was able to solve the same error log: <code>Could not determine java version from '11'.</code></p>\n<p>So if you are on linux and you need to automate some gradle steps lke build, test, etc you only need to download gradle and export these variables:</p>\n<pre><code>export JAVA_HOME=/foo/bar/Apps/openjdk-8uxyz\nexport PATH=$PATH:$JAVA_HOME/bin\n\nexport GRADDLE_HOME=/foo/bar/Apps/gradle-4.5\nexport PATH=$PATH:$GRADDLE_HOME/bin\n</code></pre>\n<p>You could download gradle (gradle-x.y.z-all.zip) from</p>\n<ul>\n<li><a href=\"https://jrichardsz.github.io/android/how-to-build-an-android-apk-using-only-linux-for-devops-automations\" rel=\"nofollow noreferrer\">https://jrichardsz.github.io/android/how-to-build-an-android-apk-using-only-linux-for-devops-automations</a></li>\n<li><a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a></li>\n</ul>\n<p>You could download or install java from:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/62157040/3957754\">https://stackoverflow.com/a/62157040/3957754</a></li>\n</ul>\n"}],"owner":{"account_id":4435391,"reputation":2568,"user_id":3611375,"accept_rate":62,"display_name":"lesley2958"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367585,"favorite_count":0,"down_vote_count":0,"up_vote_count":229,"accepted_answer_id":54359875,"answer_count":29,"score":229,"last_activity_date":1690636864,"creation_date":1548382638,"question_id":54358107,"body_markdown":"I ran the following comment: \r\n\r\n```\r\n./gradlew app:installDebug\r\n```\r\n\r\nonly to be met with the log:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine java version from &#39;11.0.2&#39;.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\nWhen I ran `./gradlew --version`, I got the following: \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine java version from &#39;11.0.2&#39;.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\nMy `.../gradle/wrapper/gradle-wrapper.properties` contains the following including `distributionUrl=.../gradle-4.1-rc-1-all.zip`:\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-rc-1-all.zip\r\n```","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I ran the following comment:</p>\n<pre><code>./gradlew app:installDebug\n</code></pre>\n<p>only to be met with the log:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.2'.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>When I ran <code>./gradlew --version</code>, I got the following:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.2'.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>My <code>.../gradle/wrapper/gradle-wrapper.properties</code> contains the following including <code>distributionUrl=.../gradle-4.1-rc-1-all.zip</code>:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-rc-1-all.zip\n</code></pre>\n"},{"tags":["java","discord"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1671408526,"post_id":74842902,"comment_id":132087213,"body_markdown":"Maybe reading the [official wiki](https://jda.wiki/using-jda/interactions/#component-interactions) might help","body":"Maybe reading the <a href=\"https://jda.wiki/using-jda/interactions/#component-interactions\" rel=\"nofollow noreferrer\">official wiki</a> might help"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691210781,"post_id":76793688,"comment_id":135464527,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76793688/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14570424,"reputation":9,"user_id":10523888,"display_name":"vallfeur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690635422,"creation_date":1690635422,"answer_id":76793688,"question_id":74842902,"body_markdown":"So if i&#39;ve understood correctly, it should look like this:\r\n\r\n\r\n    @Override\r\n    public void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\r\n        if (ereignis.getComponentId() == &quot;login&quot;){\r\n            // login method\r\n            \r\n        }\r\n\r\n        if (ereignis.getComponentId() == &quot;logout&quot;) {\r\n            // logout method\r\n\r\n        }\r\n\r\n    }\r\n\r\n(don&#39;t forget to register your class listener on jda start)","title":"Discord JDA - embed Button reaction","body":"<p>So if i've understood correctly, it should look like this:</p>\n<pre><code>@Override\npublic void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\n    if (ereignis.getComponentId() == &quot;login&quot;){\n        // login method\n        \n    }\n\n    if (ereignis.getComponentId() == &quot;logout&quot;) {\n        // logout method\n\n    }\n\n}\n</code></pre>\n<p>(don't forget to register your class listener on jda start)</p>\n"}],"owner":{"account_id":27290820,"reputation":11,"user_id":20809266,"display_name":"Pinhg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690635422,"creation_date":1671380960,"question_id":74842902,"body_markdown":"i want to put a embed in a specific channel. When you click on &quot;login&quot;, a log from that should be send into a channel like &quot;login-log&quot;. So when you click on login, a administrator can see in a channel: the user abdscasd logged in at 6:oo or something like that.\r\n(sorry for bad english)\r\n\r\nI already craeted a embed and two buttons. But i dont know how to create the button interact event\r\n\r\nHow can i tell him to do that? I&#39;m new to this.\r\n\r\nThank you!\r\n\r\n```\r\npackage main;\r\n\r\nimport net.dv8tion.jda.api.EmbedBuilder;\r\nimport net.dv8tion.jda.api.Permission;\r\nimport net.dv8tion.jda.api.events.interaction.component.ButtonInteractionEvent;\r\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\nimport net.dv8tion.jda.api.interactions.components.buttons.Button;\r\n\r\npublic class stempelsystem extends ListenerAdapter {\r\n\r\n    public void onMessageReceived(MessageReceivedEvent ereignis) {\r\n\r\n        if (ereignis.getMessage().getContentStripped().equals(&quot;!hochfahren&quot;)) {\r\n            if (ereignis.getMember().getPermissions().contains(Permission.ADMINISTRATOR)) {\r\n                EmbedBuilder embed = new EmbedBuilder();\r\n                embed.setTitle(&quot;Timestamp&quot;);\r\n                embed.setThumbnail(&quot;https://cdn.discordapp.com/attachments/1053705072682471525/1054037899429036123/Download.png&quot;);\r\n                embed.setColor(0x42b580);\r\n                embed.setDescription(&quot;&quot;);\r\n                embed.addField(&quot;:question: Warum muss ich mich ein- bzw. ausstempeln?&quot;, &quot;Dies dient zur Zeiterfassung um die Aktivit&#228;t zu &#252;berpr&#252;fen, auch f&#252;r m&#246;gliche Bef&#246;rderungen.&quot;, true);\r\n                embed.addField(&quot;:question: Was passiert wenn ich mich vergesse einzuloggen?&quot;,&quot;Unter umst&#228;nden kann dies eine Bef&#246;rderung beeintr&#228;chtigen oder zu einer K&#252;ndigung f&#252;hren.&quot;,true);\r\n\r\n                Button button = Button.success(&quot;login&quot;, &quot;Login&quot;);\r\n                Button button2 = Button.danger(&quot;logout&quot;, &quot;Melde dich hier ab!&quot;);\r\n\r\n                ereignis.getChannel().sendMessageEmbeds(embed.build()).setActionRow(button, button2).queue();\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n//???????????????????????? i dont know\r\n    public void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\r\n        if (ereignis.getButton().getId().equals(&quot;login&quot;)){\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Discord JDA - embed Button reaction","body":"<p>i want to put a embed in a specific channel. When you click on &quot;login&quot;, a log from that should be send into a channel like &quot;login-log&quot;. So when you click on login, a administrator can see in a channel: the user abdscasd logged in at 6:oo or something like that.\n(sorry for bad english)</p>\n<p>I already craeted a embed and two buttons. But i dont know how to create the button interact event</p>\n<p>How can i tell him to do that? I'm new to this.</p>\n<p>Thank you!</p>\n<pre><code>package main;\n\nimport net.dv8tion.jda.api.EmbedBuilder;\nimport net.dv8tion.jda.api.Permission;\nimport net.dv8tion.jda.api.events.interaction.component.ButtonInteractionEvent;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\nimport net.dv8tion.jda.api.interactions.components.buttons.Button;\n\npublic class stempelsystem extends ListenerAdapter {\n\n    public void onMessageReceived(MessageReceivedEvent ereignis) {\n\n        if (ereignis.getMessage().getContentStripped().equals(&quot;!hochfahren&quot;)) {\n            if (ereignis.getMember().getPermissions().contains(Permission.ADMINISTRATOR)) {\n                EmbedBuilder embed = new EmbedBuilder();\n                embed.setTitle(&quot;Timestamp&quot;);\n                embed.setThumbnail(&quot;https://cdn.discordapp.com/attachments/1053705072682471525/1054037899429036123/Download.png&quot;);\n                embed.setColor(0x42b580);\n                embed.setDescription(&quot;&quot;);\n                embed.addField(&quot;:question: Warum muss ich mich ein- bzw. ausstempeln?&quot;, &quot;Dies dient zur Zeiterfassung um die Aktivität zu überprüfen, auch für mögliche Beförderungen.&quot;, true);\n                embed.addField(&quot;:question: Was passiert wenn ich mich vergesse einzuloggen?&quot;,&quot;Unter umständen kann dies eine Beförderung beeinträchtigen oder zu einer Kündigung führen.&quot;,true);\n\n                Button button = Button.success(&quot;login&quot;, &quot;Login&quot;);\n                Button button2 = Button.danger(&quot;logout&quot;, &quot;Melde dich hier ab!&quot;);\n\n                ereignis.getChannel().sendMessageEmbeds(embed.build()).setActionRow(button, button2).queue();\n\n\n            }\n\n\n\n        }\n    }\n//???????????????????????? i dont know\n    public void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\n        if (ereignis.getButton().getId().equals(&quot;login&quot;)){\n\n\n\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","xslt","xslt-2.0","saxon","xslt-3.0"],"comments":[{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690456596,"post_id":76778939,"comment_id":135357960,"body_markdown":"Hi we have removed dependencies from xalan and also we are using XSLT 2.0","body":"Hi we have removed dependencies from xalan and also we are using XSLT 2.0"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1690458362,"post_id":76778939,"comment_id":135358323,"body_markdown":"Which XSLT 2.0 processor do you use? In the Java world Saxon is usually the replacement for Xalan or the JRE&#39;s built-in Transformer implementation. On the other hand, IBM and Oracle are said to have their own XSLT 2 implementations. As for the XSLT, can you show that as code and with minimal but complete samples, together with the input?","body":"Which XSLT 2.0 processor do you use? In the Java world Saxon is usually the replacement for Xalan or the JRE&#39;s built-in Transformer implementation. On the other hand, IBM and Oracle are said to have their own XSLT 2 implementations. As for the XSLT, can you show that as code and with minimal but complete samples, together with the input?"},{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690461169,"post_id":76778939,"comment_id":135358994,"body_markdown":"@MartinHonnen We are using Saxon Processor and i have updated xsl:result-document XSLT code.","body":"@MartinHonnen We are using Saxon Processor and i have updated xsl:result-document XSLT code."},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1690465923,"post_id":76778939,"comment_id":135360242,"body_markdown":"xsl looks dramatic. Just put more time in asking a question.","body":"xsl looks dramatic. Just put more time in asking a question."},{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690535420,"post_id":76778939,"comment_id":135370545,"body_markdown":"@SiebeJongebloed I have updated XSLT and also XML input File","body":"@SiebeJongebloed I have updated XSLT and also XML input File"}],"answers":[{"comments":[{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690539618,"post_id":76786586,"comment_id":135371425,"body_markdown":"I am getting this error &quot;End tag has attributes&quot;\nwith this change :\n\n&lt;xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\n&lt;/xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\n\nand this error &quot; java.lang.RuntimeException: Unsupported XSL element &#39;http://www.w3.org/1999/XSL/Transform:result-document&#39;&quot; \n\nwith this chnage : \n&lt;xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\n\n&lt;/xsl:result-document&gt;","body":"I am getting this error &quot;End tag has attributes&quot; with this change :  &lt;xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt; &lt;/xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;  and this error &quot; java.lang.RuntimeException: Unsupported XSL element &#39;<a href=\"http://www.w3.org/1999/XSL/Transform:result-document\" rel=\"nofollow noreferrer\">w3.org/1999/XSL/Transform:result-document</a>&#39;&quot;   with this chnage :  &lt;xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;  &lt;/xsl:result-document&gt;"},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1690542823,"post_id":76786586,"comment_id":135371985,"body_markdown":"Be sure to use Saxon","body":"Be sure to use Saxon"},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1690550684,"post_id":76786586,"comment_id":135373513,"body_markdown":"Sorry, my mistake, just a silly copy-failure","body":"Sorry, my mistake, just a silly copy-failure"}],"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690550666,"creation_date":1690537072,"answer_id":76786586,"question_id":76778939,"body_markdown":"    &lt;result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\r\n    \r\n    &lt;/result-document&gt;\r\n\r\n \r\n\r\nshould be\r\n\r\n    &lt;xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\r\n    \r\n    &lt;/xsl:result-document&gt;\r\n\r\n","title":"XML to HTML Conversion using XSL result-document tag in XSL not giving required result","body":"<pre><code>&lt;result-document href=&quot;concat($procid,'.html')&quot;&gt;\n\n&lt;/result-document&gt;\n</code></pre>\n<p>should be</p>\n<pre><code>&lt;xsl:result-document href=&quot;concat($procid,'.html')&quot;&gt;\n\n&lt;/xsl:result-document&gt;\n</code></pre>\n"}],"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76786586,"answer_count":1,"score":0,"last_activity_date":1690634820,"creation_date":1690454508,"question_id":76778939,"body_markdown":"We have replaced redirect:write(From XSLT -1.0 with Xalan) with result-document (XSLT-2.0 Saxon processor).\r\n\r\nEarlier using redirect:write were used to get 3 output HTMLs, from one HTML we can navigate to another HTML by clicking links available on them.\r\nNow with result-document, we only get single HTML and in single HTML only has all the data of all 3 HTMLs. Also on click of links it says can&#39;t reach because remaining HTMLs are not generated.\r\n\r\nBelow is the Code for XSL File\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    xmlns:plm=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\r\n    xmlns:lxslt=&quot;http://www.apache.org/xslt&quot;\r\n    xmlns:setfile =&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;&gt;\r\n    \r\n    &lt;xsl:key name=&quot;Occurrence&quot; match=&quot;plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;Operation&quot; match=&quot;plm:Operation&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;OperationRevision&quot; match=&quot;plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;Process&quot; match=&quot;plm:Process | plm:Operation&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcessOccurrence&quot; match=&quot;plm:ProcessOccurrence | plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcessRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcessView&quot; match=&quot;plm:ProcessView&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcOpRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\r\n    \r\n    &lt;lxslt:component prefix=&quot;setfile&quot; elements=&quot;copy&quot; functions=&quot;setFile setTcFile getCurrentDir\r\n            getCurrentImanFileName getCurrentImanFileNamePrefix getNiceName&quot;&gt;\r\n      &lt;lxslt:script lang=&quot;javaclass&quot; src=&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;/&gt;\r\n    &lt;/lxslt:component&gt;\r\n    \r\n    &lt;xsl:output method=&quot;html&quot; indent=&quot;yes&quot;/&gt;\r\n    &lt;xsl:param name=&quot;outDir&quot; select=&quot;setfile:getCurrentDir(setfile:new())&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;roid&quot; select=&quot;/plm:PLMXML/plm:ProcessView/@rootRefs&quot;/&gt;&lt;!-- rootRef instead of prima.. --&gt;\r\n    &lt;!-- Assuming that the primaryOccurrenceRef(&amp; NO MULTIPLE ENTRY POINTS) is always a ProcessOccurrence --&gt;\r\n    &lt;xsl:variable name=&quot;rpoe&quot; select=&quot;key(&#39;ProcessOccurrence&#39;,$roid)&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;rprid&quot; select=&quot;substring-after($rpoe/@instancedRef,&#39;#&#39;)&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;root&quot; select=&quot;key(&#39;ProcessRevision&#39;,$rprid)&quot;/&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:call-template name=&quot;genData&quot;&gt;\r\n            &lt;xsl:with-param name=&quot;curProc&quot; select=&quot;$root&quot;/&gt;\r\n            &lt;xsl:with-param name=&quot;occStr&quot; select=&quot;$rpoe/@occurrenceRefs&quot;/&gt;\r\n        &lt;/xsl:call-template&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;genData&quot;&gt;\r\n    &lt;xsl:param name=&quot;curProc&quot;/&gt;\r\n    &lt;xsl:param name=&quot;occStr&quot;/&gt;\r\n        &lt;html&gt;\r\n            &lt;head&gt;\r\n                &lt;title&gt;Process: &lt;xsl:value-of select=&quot;$curProc/@name&quot;/&gt;&lt;/title&gt;\r\n            &lt;/head&gt;\r\n            &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\r\n                &lt;br/&gt;\r\n                            &lt;!-- Support for Foxfire browser requires specific class=&quot;sample&quot; on all table elements --&gt;\r\n                &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\r\n                    &lt;xsl:call-template name=&quot;heading&quot;&gt;\r\n                        &lt;xsl:with-param name=&quot;title&quot; select=&quot;&#39;Process Report&#39;&quot;/&gt;\r\n                    &lt;/xsl:call-template&gt;\r\n                                    &lt;tr&gt;\r\n                                            &lt;td&gt;\r\n                                                    &lt;xsl:variable name=&quot;procid&quot;&gt;\r\n                                                            &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\r\n                                                                    &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curProc/@masterRef&quot;/&gt;\r\n                                                            &lt;/xsl:call-template&gt;\r\n                                                    &lt;/xsl:variable&gt;\r\n                                                    &lt;xsl:variable name=&quot;proc&quot; select=&quot;key(&#39;Process&#39;,$procid)&quot;/&gt;\r\n                                                    &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,&#39;/&#39;,$curProc/@revision,&#39; - &#39;,$curProc/@name)&quot;/&gt;\r\n                                            &lt;/td&gt;\r\n                                    &lt;/tr&gt;\r\n    \r\n                    &lt;tr&gt;&lt;!-- main table:row6::sub level --&gt;\r\n                        &lt;td&gt;\r\n                            &lt;hr color=&quot;#000000&quot;/&gt;\r\n                            &lt;table class=&quot;sample&quot;&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;Name&lt;/th&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;xsl:call-template name=&quot;createCL&quot;&gt;\r\n                                &lt;xsl:with-param name=&quot;chStr&quot; select=&quot;$occStr&quot;/&gt;\r\n                            &lt;/xsl:call-template&gt;\r\n                            &lt;/table&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/table&gt;\r\n            &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;createCL&quot;&gt;\r\n    &lt;xsl:param name=&quot;chStr&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;genele&quot; select=&quot;key(&#39;ProcessOccurrence&#39;,$chStr)&quot;/&gt;\r\n                    &lt;xsl:if test=&quot;name($genele)=&#39;ProcessOccurrence&#39;&quot;&gt;\r\n                        &lt;xsl:call-template name=&quot;creCLext&quot;&gt;\r\n                            &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genele&quot;/&gt;\r\n                        &lt;/xsl:call-template&gt;\r\n                    &lt;/xsl:if&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;creCLext&quot;&gt;\r\n    &lt;xsl:param name=&quot;genel&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;procid&quot; select=&quot;substring-after($genel/@instancedRef,&#39;#&#39;)&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;procele&quot; select=&quot;key(&#39;ProcOpRevision&#39;,$procid)&quot;/&gt;&lt;!-- ProcessRevision or OperationRevision --&gt;\r\n        &lt;xsl:variable name=&quot;pre1&quot; select=&quot;substring-after($genel/@predecessorRefs,&#39;#&#39;)&quot;/&gt;&lt;!--assuming only one id to be present --&gt;\r\n        &lt;xsl:variable name=&quot;pre2&quot; select=&quot;key(&#39;ProcessOccurrence&#39;,$pre1)&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;preid&quot; select=&quot;substring-after($pre2/@instancedRef,&#39;#&#39;)&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;prele&quot; select=&quot;/plm:PLMXML/*[@id=$preid]&quot;/&gt;\r\n        &lt;tr&gt;\r\n        &lt;td align=&quot;center&quot;&gt;&lt;a&gt;\r\n            &lt;xsl:attribute name=&quot;href&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;concat($procid,&#39;.html&#39;)&quot;/&gt;\r\n            &lt;/xsl:attribute&gt;\r\n            &lt;xsl:value-of select=&quot;$procele/@name&quot;/&gt;\r\n        &lt;/a&gt;&lt;/td&gt;\r\n         \r\n        &lt;/tr&gt;\r\n        &lt;result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\r\n        &lt;xsl:call-template name=&quot;genopr&quot;&gt;\r\n                    &lt;xsl:with-param name=&quot;curOpr&quot; select=&quot;$procele&quot;/&gt;\r\n                    &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genel&quot;/&gt;\r\n                &lt;/xsl:call-template&gt;\r\n        &lt;/result-document&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;genopr&quot;&gt;\r\n    &lt;xsl:param name=&quot;curOpr&quot;/&gt;\r\n    &lt;xsl:param name=&quot;genel&quot;/&gt;\r\n        &lt;html&gt;\r\n            &lt;head&gt;\r\n                &lt;title&gt;Operation: &lt;xsl:value-of select=&quot;$curOpr/@name&quot;/&gt;&lt;/title&gt;\r\n            &lt;/head&gt;\r\n            &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\r\n                &lt;br/&gt;\r\n                &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\r\n                    &lt;xsl:call-template name=&quot;heading&quot;&gt;\r\n                        &lt;xsl:with-param name=&quot;title&quot; select=&quot;&#39;Operation Report&#39;&quot;/&gt;\r\n                    &lt;/xsl:call-template&gt;\r\n                                    &lt;tr&gt;\r\n                                            &lt;td&gt;\r\n                                                    &lt;xsl:variable name=&quot;procid&quot;&gt;\r\n                                                            &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\r\n                                                                    &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curOpr/@masterRef&quot;/&gt;\r\n                                                            &lt;/xsl:call-template&gt;\r\n                                                    &lt;/xsl:variable&gt;\r\n                                                    &lt;xsl:variable name=&quot;proc&quot; select=&quot;key(&#39;Process&#39;,$procid)&quot;/&gt;\r\n                                                    &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,&#39;/&#39;,$curOpr/@revision,&#39; - &#39;,$curOpr/@name)&quot;/&gt;\r\n                                            &lt;/td&gt;\r\n                                    &lt;/tr&gt;\r\n                    \r\n                &lt;/table&gt;\r\n            &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    \r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;heading&quot;&gt;\r\n    &lt;xsl:param name=&quot;title&quot;/&gt;\r\n                    &lt;tr&gt;&lt;!-- main table:row1::heading--&gt;\r\n                        &lt;th&gt;\r\n                            &lt;div align=&quot;left&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div align=&quot;center&quot;&gt;&lt;b&gt;&lt;font size=&quot;+2&quot;&gt;&lt;xsl:value-of select=&quot;$title&quot;/&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;br/&gt;\r\n                        &lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n    &lt;/xsl:template&gt;\r\n    &lt;xsl:template name=&quot;cleanId&quot;&gt;\r\n        &lt;xsl:param name=&quot;id&quot;/&gt;\r\n    \r\n        &lt;xsl:choose&gt;\r\n            &lt;xsl:when test=&quot;contains($id, &#39;#&#39;)&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;substring-after($id,&#39;#&#39;)&quot;/&gt;\r\n            &lt;/xsl:when&gt;\r\n            &lt;xsl:otherwise&gt;\r\n                &lt;xsl:value-of select=&quot;$id&quot;/&gt;\r\n            &lt;/xsl:otherwise&gt;\r\n        &lt;/xsl:choose&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nBelow is the the code where we are calling the transformer for conversion from XML to HTML.\r\n\r\n    {\r\n             \r\n\r\n            // 1. Instantiate a TransformerFactory.\r\n            javax.xml.transform.TransformerFactory tFactory =(SAXTransformerFactory) SAXTransformerFactory.newInstance();\r\n\r\n            XslImportResolver myResolve = new XslImportResolver();\r\n            tFactory.setURIResolver( myResolve );\r\n\r\n            // 2. Use the TransformerFactory to process the stylesheet Source and\r\n            //                generate a Transformer.\r\n            javax.xml.transform.Transformer transformer = tFactory.newTransformer\r\n                            (new javax.xml.transform.stream.StreamSource(xslLocation));\r\n\r\n            // Add debugging output if it is definded in the Registry.\r\n            Registry registry = Registry.getRegistry( this );\r\n\r\n            // 3. Use the Transformer to perform the transformation and send the\r\n            //          the output to a Result object.\r\n            transformer.transform( new StreamSource( xmlLocation ),\r\n                    new StreamResult( new FileOutputStream( htmlLocation ) ) );\r\n        }\r\n\r\n\r\nHere is the XML (Partial) input for the Conversion\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;PLMXML xmlns=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\r\n     language=&quot;en-us&quot; time=&quot;13:52:21&quot; schemaVersion=&quot;6&quot;&gt;\r\n    &lt;Header id=&quot;id1&quot; traverseRootRefs=&quot;#id6&quot; transferContext=&quot;tcm_export&quot;&gt;&lt;/Header&gt;\r\n    &lt;Process id=&quot;id20&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002927&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfiRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\r\n    &lt;Operation id=&quot;id41&quot; name=&quot;OP&quot; subType=&quot;MEOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002929&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wvtRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Operation&gt;\r\n    &lt;Process id=&quot;id45&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatn&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002928&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gTqRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\r\n    &lt;ProcessRevision id=&quot;id18&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id20&quot; revision=&quot;A&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfpRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;/ProcessRevision&gt;\r\n    &lt;OperationRevision id=&quot;id39&quot; name=&quot;OP&quot; subType=&quot;MEOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id41&quot; revision=&quot;A&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wzjRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;/OperationRevision&gt;\r\n    &lt;ProcessRevision id=&quot;id43&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatnRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id45&quot; revision=&quot;A&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gXgRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;/ProcessRevision&gt;\r\n    &lt;ProcessView id=&quot;id4&quot; ruleRefs=&quot;#id2&quot; rootRefs=&quot;id6&quot; primaryOccurrenceRef=&quot;id8&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/QkqRjxIVJ_LsEB/AAAAAAAAAAAAAA/BOM/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;ProcessOccurrence id=&quot;id6&quot; instancedRef=&quot;#id43&quot; associatedAttachmentRefs=&quot;#id23 #id26&quot; occurrenceRefs=&quot;id28&quot; parentRef=&quot;#id8&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;Transform id=&quot;id5&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\r\n    &lt;AttributeContext id=&quot;id21&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\r\n    &lt;ProcessOccurrence id=&quot;id8&quot; instancedRef=&quot;#id18&quot; associatedAttachmentRefs=&quot;#id11 #id17&quot; occurrenceRefs=&quot;id6&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;Transform id=&quot;id7&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\r\n    &lt;AttributeContext id=&quot;id9&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\r\n    &lt;ProcessOccurrence id=&quot;id28&quot; instancedRef=&quot;#id39&quot; associatedAttachmentRefs=&quot;#id31 #id34 #id42&quot; parentRef=&quot;#id6&quot; configuredActivityRootRef=&quot;#id37&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/BAqRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;Transform id=&quot;id27&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\r\n    &lt;AttributeContext id=&quot;id29&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;&lt;/ProcessView&gt;\r\n    &lt;/PLMXML&gt;\r\n\r\nwe want output file in such a way that user will be able to navigate in it.\r\nIn shorter replacement for redirect-write. ","title":"XML to HTML Conversion using XSL result-document tag in XSL not giving required result","body":"<p>We have replaced redirect:write(From XSLT -1.0 with Xalan) with result-document (XSLT-2.0 Saxon processor).</p>\n<p>Earlier using redirect:write were used to get 3 output HTMLs, from one HTML we can navigate to another HTML by clicking links available on them.\nNow with result-document, we only get single HTML and in single HTML only has all the data of all 3 HTMLs. Also on click of links it says can't reach because remaining HTMLs are not generated.</p>\n<p>Below is the Code for XSL File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\nxmlns:plm=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\nxmlns:lxslt=&quot;http://www.apache.org/xslt&quot;\nxmlns:setfile =&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;&gt;\n\n&lt;xsl:key name=&quot;Occurrence&quot; match=&quot;plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;Operation&quot; match=&quot;plm:Operation&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;OperationRevision&quot; match=&quot;plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;Process&quot; match=&quot;plm:Process | plm:Operation&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcessOccurrence&quot; match=&quot;plm:ProcessOccurrence | plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcessRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcessView&quot; match=&quot;plm:ProcessView&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcOpRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\n\n&lt;lxslt:component prefix=&quot;setfile&quot; elements=&quot;copy&quot; functions=&quot;setFile setTcFile getCurrentDir\n        getCurrentImanFileName getCurrentImanFileNamePrefix getNiceName&quot;&gt;\n  &lt;lxslt:script lang=&quot;javaclass&quot; src=&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;/&gt;\n&lt;/lxslt:component&gt;\n\n&lt;xsl:output method=&quot;html&quot; indent=&quot;yes&quot;/&gt;\n&lt;xsl:param name=&quot;outDir&quot; select=&quot;setfile:getCurrentDir(setfile:new())&quot;/&gt;\n&lt;xsl:variable name=&quot;roid&quot; select=&quot;/plm:PLMXML/plm:ProcessView/@rootRefs&quot;/&gt;&lt;!-- rootRef instead of prima.. --&gt;\n&lt;!-- Assuming that the primaryOccurrenceRef(&amp; NO MULTIPLE ENTRY POINTS) is always a ProcessOccurrence --&gt;\n&lt;xsl:variable name=&quot;rpoe&quot; select=&quot;key('ProcessOccurrence',$roid)&quot;/&gt;\n&lt;xsl:variable name=&quot;rprid&quot; select=&quot;substring-after($rpoe/@instancedRef,'#')&quot;/&gt;\n&lt;xsl:variable name=&quot;root&quot; select=&quot;key('ProcessRevision',$rprid)&quot;/&gt;\n\n&lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:call-template name=&quot;genData&quot;&gt;\n        &lt;xsl:with-param name=&quot;curProc&quot; select=&quot;$root&quot;/&gt;\n        &lt;xsl:with-param name=&quot;occStr&quot; select=&quot;$rpoe/@occurrenceRefs&quot;/&gt;\n    &lt;/xsl:call-template&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;genData&quot;&gt;\n&lt;xsl:param name=&quot;curProc&quot;/&gt;\n&lt;xsl:param name=&quot;occStr&quot;/&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Process: &lt;xsl:value-of select=&quot;$curProc/@name&quot;/&gt;&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\n            &lt;br/&gt;\n                        &lt;!-- Support for Foxfire browser requires specific class=&quot;sample&quot; on all table elements --&gt;\n            &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\n                &lt;xsl:call-template name=&quot;heading&quot;&gt;\n                    &lt;xsl:with-param name=&quot;title&quot; select=&quot;'Process Report'&quot;/&gt;\n                &lt;/xsl:call-template&gt;\n                                &lt;tr&gt;\n                                        &lt;td&gt;\n                                                &lt;xsl:variable name=&quot;procid&quot;&gt;\n                                                        &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\n                                                                &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curProc/@masterRef&quot;/&gt;\n                                                        &lt;/xsl:call-template&gt;\n                                                &lt;/xsl:variable&gt;\n                                                &lt;xsl:variable name=&quot;proc&quot; select=&quot;key('Process',$procid)&quot;/&gt;\n                                                &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,'/',$curProc/@revision,' - ',$curProc/@name)&quot;/&gt;\n                                        &lt;/td&gt;\n                                &lt;/tr&gt;\n\n                &lt;tr&gt;&lt;!-- main table:row6::sub level --&gt;\n                    &lt;td&gt;\n                        &lt;hr color=&quot;#000000&quot;/&gt;\n                        &lt;table class=&quot;sample&quot;&gt;\n                        &lt;tr&gt;\n                            &lt;th&gt;Name&lt;/th&gt;\n                        &lt;/tr&gt;\n                        &lt;xsl:call-template name=&quot;createCL&quot;&gt;\n                            &lt;xsl:with-param name=&quot;chStr&quot; select=&quot;$occStr&quot;/&gt;\n                        &lt;/xsl:call-template&gt;\n                        &lt;/table&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;createCL&quot;&gt;\n&lt;xsl:param name=&quot;chStr&quot;/&gt;\n    &lt;xsl:variable name=&quot;genele&quot; select=&quot;key('ProcessOccurrence',$chStr)&quot;/&gt;\n                &lt;xsl:if test=&quot;name($genele)='ProcessOccurrence'&quot;&gt;\n                    &lt;xsl:call-template name=&quot;creCLext&quot;&gt;\n                        &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genele&quot;/&gt;\n                    &lt;/xsl:call-template&gt;\n                &lt;/xsl:if&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;creCLext&quot;&gt;\n&lt;xsl:param name=&quot;genel&quot;/&gt;\n    &lt;xsl:variable name=&quot;procid&quot; select=&quot;substring-after($genel/@instancedRef,'#')&quot;/&gt;\n    &lt;xsl:variable name=&quot;procele&quot; select=&quot;key('ProcOpRevision',$procid)&quot;/&gt;&lt;!-- ProcessRevision or OperationRevision --&gt;\n    &lt;xsl:variable name=&quot;pre1&quot; select=&quot;substring-after($genel/@predecessorRefs,'#')&quot;/&gt;&lt;!--assuming only one id to be present --&gt;\n    &lt;xsl:variable name=&quot;pre2&quot; select=&quot;key('ProcessOccurrence',$pre1)&quot;/&gt;\n    &lt;xsl:variable name=&quot;preid&quot; select=&quot;substring-after($pre2/@instancedRef,'#')&quot;/&gt;\n    &lt;xsl:variable name=&quot;prele&quot; select=&quot;/plm:PLMXML/*[@id=$preid]&quot;/&gt;\n    &lt;tr&gt;\n    &lt;td align=&quot;center&quot;&gt;&lt;a&gt;\n        &lt;xsl:attribute name=&quot;href&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat($procid,'.html')&quot;/&gt;\n        &lt;/xsl:attribute&gt;\n        &lt;xsl:value-of select=&quot;$procele/@name&quot;/&gt;\n    &lt;/a&gt;&lt;/td&gt;\n     \n    &lt;/tr&gt;\n    &lt;result-document href=&quot;concat($procid,'.html')&quot;&gt;\n    &lt;xsl:call-template name=&quot;genopr&quot;&gt;\n                &lt;xsl:with-param name=&quot;curOpr&quot; select=&quot;$procele&quot;/&gt;\n                &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genel&quot;/&gt;\n            &lt;/xsl:call-template&gt;\n    &lt;/result-document&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;genopr&quot;&gt;\n&lt;xsl:param name=&quot;curOpr&quot;/&gt;\n&lt;xsl:param name=&quot;genel&quot;/&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Operation: &lt;xsl:value-of select=&quot;$curOpr/@name&quot;/&gt;&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\n            &lt;br/&gt;\n            &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\n                &lt;xsl:call-template name=&quot;heading&quot;&gt;\n                    &lt;xsl:with-param name=&quot;title&quot; select=&quot;'Operation Report'&quot;/&gt;\n                &lt;/xsl:call-template&gt;\n                                &lt;tr&gt;\n                                        &lt;td&gt;\n                                                &lt;xsl:variable name=&quot;procid&quot;&gt;\n                                                        &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\n                                                                &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curOpr/@masterRef&quot;/&gt;\n                                                        &lt;/xsl:call-template&gt;\n                                                &lt;/xsl:variable&gt;\n                                                &lt;xsl:variable name=&quot;proc&quot; select=&quot;key('Process',$procid)&quot;/&gt;\n                                                &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,'/',$curOpr/@revision,' - ',$curOpr/@name)&quot;/&gt;\n                                        &lt;/td&gt;\n                                &lt;/tr&gt;\n                \n            &lt;/table&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;heading&quot;&gt;\n&lt;xsl:param name=&quot;title&quot;/&gt;\n                &lt;tr&gt;&lt;!-- main table:row1::heading--&gt;\n                    &lt;th&gt;\n                        &lt;div align=&quot;left&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div align=&quot;center&quot;&gt;&lt;b&gt;&lt;font size=&quot;+2&quot;&gt;&lt;xsl:value-of select=&quot;$title&quot;/&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;br/&gt;\n                    &lt;/th&gt;\n                &lt;/tr&gt;\n&lt;/xsl:template&gt;\n&lt;xsl:template name=&quot;cleanId&quot;&gt;\n    &lt;xsl:param name=&quot;id&quot;/&gt;\n\n    &lt;xsl:choose&gt;\n        &lt;xsl:when test=&quot;contains($id, '#')&quot;&gt;\n            &lt;xsl:value-of select=&quot;substring-after($id,'#')&quot;/&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:otherwise&gt;\n            &lt;xsl:value-of select=&quot;$id&quot;/&gt;\n        &lt;/xsl:otherwise&gt;\n    &lt;/xsl:choose&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Below is the the code where we are calling the transformer for conversion from XML to HTML.</p>\n<pre><code>{\n         \n\n        // 1. Instantiate a TransformerFactory.\n        javax.xml.transform.TransformerFactory tFactory =(SAXTransformerFactory) SAXTransformerFactory.newInstance();\n\n        XslImportResolver myResolve = new XslImportResolver();\n        tFactory.setURIResolver( myResolve );\n\n        // 2. Use the TransformerFactory to process the stylesheet Source and\n        //                generate a Transformer.\n        javax.xml.transform.Transformer transformer = tFactory.newTransformer\n                        (new javax.xml.transform.stream.StreamSource(xslLocation));\n\n        // Add debugging output if it is definded in the Registry.\n        Registry registry = Registry.getRegistry( this );\n\n        // 3. Use the Transformer to perform the transformation and send the\n        //          the output to a Result object.\n        transformer.transform( new StreamSource( xmlLocation ),\n                new StreamResult( new FileOutputStream( htmlLocation ) ) );\n    }\n</code></pre>\n<p>Here is the XML (Partial) input for the Conversion</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PLMXML xmlns=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\n language=&quot;en-us&quot; time=&quot;13:52:21&quot; schemaVersion=&quot;6&quot;&gt;\n&lt;Header id=&quot;id1&quot; traverseRootRefs=&quot;#id6&quot; transferContext=&quot;tcm_export&quot;&gt;&lt;/Header&gt;\n&lt;Process id=&quot;id20&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002927&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfiRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\n&lt;Operation id=&quot;id41&quot; name=&quot;OP&quot; subType=&quot;MEOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002929&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wvtRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Operation&gt;\n&lt;Process id=&quot;id45&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatn&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002928&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gTqRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\n&lt;ProcessRevision id=&quot;id18&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id20&quot; revision=&quot;A&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfpRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;/ProcessRevision&gt;\n&lt;OperationRevision id=&quot;id39&quot; name=&quot;OP&quot; subType=&quot;MEOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id41&quot; revision=&quot;A&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wzjRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;/OperationRevision&gt;\n&lt;ProcessRevision id=&quot;id43&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatnRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id45&quot; revision=&quot;A&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gXgRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;/ProcessRevision&gt;\n&lt;ProcessView id=&quot;id4&quot; ruleRefs=&quot;#id2&quot; rootRefs=&quot;id6&quot; primaryOccurrenceRef=&quot;id8&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/QkqRjxIVJ_LsEB/AAAAAAAAAAAAAA/BOM/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;ProcessOccurrence id=&quot;id6&quot; instancedRef=&quot;#id43&quot; associatedAttachmentRefs=&quot;#id23 #id26&quot; occurrenceRefs=&quot;id28&quot; parentRef=&quot;#id8&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;Transform id=&quot;id5&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\n&lt;AttributeContext id=&quot;id21&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\n&lt;ProcessOccurrence id=&quot;id8&quot; instancedRef=&quot;#id18&quot; associatedAttachmentRefs=&quot;#id11 #id17&quot; occurrenceRefs=&quot;id6&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;Transform id=&quot;id7&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\n&lt;AttributeContext id=&quot;id9&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\n&lt;ProcessOccurrence id=&quot;id28&quot; instancedRef=&quot;#id39&quot; associatedAttachmentRefs=&quot;#id31 #id34 #id42&quot; parentRef=&quot;#id6&quot; configuredActivityRootRef=&quot;#id37&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/BAqRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;Transform id=&quot;id27&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\n&lt;AttributeContext id=&quot;id29&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;&lt;/ProcessView&gt;\n&lt;/PLMXML&gt;\n</code></pre>\n<p>we want output file in such a way that user will be able to navigate in it.\nIn shorter replacement for redirect-write.</p>\n"},{"tags":["java","spring-data","openapi","openapi-generator"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690635063,"post_id":76793615,"comment_id":135382802,"body_markdown":"I didn&#39;t think JPA had any association with the REST API endpoints. How would a generator know what your code looks like before it was written?","body":"I didn&#39;t think JPA had any association with the REST API endpoints. How would a generator know what your code looks like before it was written?"},{"owner":{"account_id":11490284,"reputation":401,"user_id":8421492,"display_name":"Jayser"},"score":0,"creation_date":1690635268,"post_id":76793615,"comment_id":135382828,"body_markdown":"@OneCricketeer I don&#39;t understand your comment. I think the problem is openapi generator and the spring boot data rest repositories. Everything is generated fine but the method names.","body":"@OneCricketeer I don&#39;t understand your comment. I think the problem is openapi generator and the spring boot data rest repositories. Everything is generated fine but the method names."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690635466,"post_id":76793615,"comment_id":135382851,"body_markdown":"And it appears the generator requires annotations to have the correct output. It won&#39;t otherwise parse the interface function names","body":"And it appears the generator requires annotations to have the correct output. It won&#39;t otherwise parse the interface function names"}],"owner":{"account_id":11490284,"reputation":401,"user_id":8421492,"display_name":"Jayser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690634650,"creation_date":1690634327,"question_id":76793615,"body_markdown":"I generate open API specification from my spring boot data rest endpoints. That&#39;s working but the generated method names in the openapi.yaml are unequal to the method names in the repository interface.\r\n\r\npom.xml\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;integration-test&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;apiDocsUrl&gt;http://dev-container:8081/v3/api-docs.yaml&lt;/apiDocsUrl&gt;\r\n    \t\t&lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\r\n    \t\t&lt;outputDir&gt;${project.basedir}/target/generated-sources&lt;/outputDir&gt;\r\n    \t\t&lt;skip&gt;false&lt;/skip&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nUserRepository.java =&gt; Spring JpaRepository\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n        public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\r\n    }\r\n\r\nThe Result in my openapi.yaml is:\r\n\r\n      /users/search/findByTestname:\r\n        get:\r\n          tags:\r\n          - user-search-controller\r\n          operationId: executeSearch-user-get\r\n          parameters:\r\n          - name: &quot;n&quot;\r\n            in: query\r\n            schema:\r\n              type: string\r\n          responses:\r\n            &quot;200&quot;:\r\n              description: OK\r\n              content:\r\n                application/hal+json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/CollectionModelEntityModelUser&#39;\r\n            &quot;404&quot;:\r\n              description: Not Found\r\n\r\nIf I add the @Operation annotation to the method then the name will be generated correct.\r\n\r\nUserRepository.java with annotation:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n        @Operation(operationId = &quot;findByTestname&quot;)\r\n        public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\r\n    }\r\n\r\nAnd the result looks correct.\r\n\r\n      /users/search/findByTestname:\r\n        get:\r\n          tags:\r\n          - user-search-controller\r\n          operationId: findByTestname\r\n          parameters:\r\n\r\n**Question:** It is possible to configure the generator to use the correct method name without annotating it? I just want to configure it and not override or implement something.","title":"Generate openapi specification for spring boot data rest with correct method names","body":"<p>I generate open API specification from my spring boot data rest endpoints. That's working but the generated method names in the openapi.yaml are unequal to the method names in the repository interface.</p>\n<p>pom.xml</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;apiDocsUrl&gt;http://dev-container:8081/v3/api-docs.yaml&lt;/apiDocsUrl&gt;\n        &lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\n        &lt;outputDir&gt;${project.basedir}/target/generated-sources&lt;/outputDir&gt;\n        &lt;skip&gt;false&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>UserRepository.java =&gt; Spring JpaRepository</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n    public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\n}\n</code></pre>\n<p>The Result in my openapi.yaml is:</p>\n<pre><code>  /users/search/findByTestname:\n    get:\n      tags:\n      - user-search-controller\n      operationId: executeSearch-user-get\n      parameters:\n      - name: &quot;n&quot;\n        in: query\n        schema:\n          type: string\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            application/hal+json:\n              schema:\n                $ref: '#/components/schemas/CollectionModelEntityModelUser'\n        &quot;404&quot;:\n          description: Not Found\n</code></pre>\n<p>If I add the @Operation annotation to the method then the name will be generated correct.</p>\n<p>UserRepository.java with annotation:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n    @Operation(operationId = &quot;findByTestname&quot;)\n    public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\n}\n</code></pre>\n<p>And the result looks correct.</p>\n<pre><code>  /users/search/findByTestname:\n    get:\n      tags:\n      - user-search-controller\n      operationId: findByTestname\n      parameters:\n</code></pre>\n<p><strong>Question:</strong> It is possible to configure the generator to use the correct method name without annotating it? I just want to configure it and not override or implement something.</p>\n"},{"tags":["java","intellij-idea","refactoring"],"comments":[{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1482238939,"post_id":41227270,"comment_id":69685377,"body_markdown":"I&#39;ve removed the word &quot;undo&quot; from the question, because it moves attention from refactoring features to undo functionality. I solved my problem long time ago (using git revert, incidentally), now I am only interested in refactoring.","body":"I&#39;ve removed the word &quot;undo&quot; from the question, because it moves attention from refactoring features to undo functionality. I solved my problem long time ago (using git revert, incidentally), now I am only interested in refactoring."}],"answers":[{"comments":[{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1482238810,"post_id":41238271,"comment_id":69685283,"body_markdown":"Reasonable solution. I have the original version in git, so as another alternative, I could restore from there. Or I could also manually perform the refactoring backwards.","body":"Reasonable solution. I have the original version in git, so as another alternative, I could restore from there. Or I could also manually perform the refactoring backwards."},{"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"score":1,"creation_date":1482239688,"post_id":41238271,"comment_id":69685880,"body_markdown":"Local history is typically a lot finer grained than git commits, because it versions as you work.","body":"Local history is typically a lot finer grained than git commits, because it versions as you work."}],"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482224312,"creation_date":1482224312,"answer_id":41238271,"question_id":41227270,"body_markdown":"I don&#39;t think a direct undo is possible, but check the local history (right click -&gt; Local History -&gt; Show History) to view previous versions of the original class.    These versions will have been created automatically by IntelliJ when various events have occurred, including saving after changes.  You can then selectively restore the state you want","title":"IntelliJ refactoring to inline usage of a helper class?","body":"<p>I don't think a direct undo is possible, but check the local history (right click -> Local History -> Show History) to view previous versions of the original class.    These versions will have been created automatically by IntelliJ when various events have occurred, including saving after changes.  You can then selectively restore the state you want</p>\n"}],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690632790,"creation_date":1482165834,"question_id":41227270,"body_markdown":"I had a function which became too big, so I refactored variables into fields on a (new) class and parts of the method to methods on the class. My function now looks like this\r\n\r\n    void doSomething() {\r\n        Resource resource = ....\r\n        new HelperClass(resource)\r\n              .doFirstThing()\r\n              .doSecondThing()\r\n              .closeResource();\r\n\r\nNow I wish to do the inverse transformation (because the doSomething function is actually a testcase and I need to produce a nice linear testcase that I can post to Issue Tracker).\r\n\r\nHow do I do this using automatic refactoring tools in IntelliJ Idea Community?","title":"IntelliJ refactoring to inline usage of a helper class?","body":"<p>I had a function which became too big, so I refactored variables into fields on a (new) class and parts of the method to methods on the class. My function now looks like this</p>\n\n<pre><code>void doSomething() {\n    Resource resource = ....\n    new HelperClass(resource)\n          .doFirstThing()\n          .doSecondThing()\n          .closeResource();\n</code></pre>\n\n<p>Now I wish to do the inverse transformation (because the doSomething function is actually a testcase and I need to produce a nice linear testcase that I can post to Issue Tracker).</p>\n\n<p>How do I do this using automatic refactoring tools in IntelliJ Idea Community?</p>\n"},{"tags":["java","maven","annotation-processing","maven-compiler-plugin"],"answers":[{"comments":[{"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"score":0,"creation_date":1689730653,"post_id":76716691,"comment_id":135253666,"body_markdown":"This maven project where I am writing my custom annotation processor is itself packaged as a jar and I am supposed to use this project as a dependency in another project. I do have a META-INF/services/javax.annotation.processing.Processor file in the project yet the same error persists. I cannot use any 3rd party dependency like AutoService.","body":"This maven project where I am writing my custom annotation processor is itself packaged as a jar and I am supposed to use this project as a dependency in another project. I do have a META-INF/services/javax.annotation.processing.Processor file in the project yet the same error persists. I cannot use any 3rd party dependency like AutoService."}],"tags":[],"owner":{"account_id":28997573,"reputation":34,"user_id":22211872,"display_name":"Yana Dziadkouskaya"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689716343,"creation_date":1689716343,"answer_id":76716691,"question_id":76716463,"body_markdown":"I&#39;ve faced with annotation processor problems, but with gradle. What has helped me:\r\n1. make clean before build during the building the project;\r\n2. if there is a problems with some annotation processors, update their order.\r\n\r\nAlso  baeldung [baeldung][1] says, that your own class should already be compiled, for instance, imported from another jar in the build dependencies. You can 1) set annotation processor in the copmiler settings or 2) add a specially structured jar with the processor class to the classpath of the compiler (you have to specify it in the META-INF/services/javax.annotation.processing.Processor file as a fully qualified class name of the processor).\r\n\r\nOne more variant - to generate the registration file automatically, you can use the @AutoService annotation from the Google&#39;s auto-service library with your own annotation processor. \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-annotation-processing-builder","title":"Maven compiler plugin: Annotation processor not found","body":"<p>I've faced with annotation processor problems, but with gradle. What has helped me:</p>\n<ol>\n<li>make clean before build during the building the project;</li>\n<li>if there is a problems with some annotation processors, update their order.</li>\n</ol>\n<p>Also  baeldung <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung</a> says, that your own class should already be compiled, for instance, imported from another jar in the build dependencies. You can 1) set annotation processor in the copmiler settings or 2) add a specially structured jar with the processor class to the classpath of the compiler (you have to specify it in the META-INF/services/javax.annotation.processing.Processor file as a fully qualified class name of the processor).</p>\n<p>One more variant - to generate the registration file automatically, you can use the @AutoService annotation from the Google's auto-service library with your own annotation processor.</p>\n"},{"comments":[{"owner":{"account_id":1299656,"reputation":167,"user_id":8363796,"display_name":"Ahmet Koylu"},"score":0,"creation_date":1690348622,"post_id":76765087,"comment_id":135339032,"body_markdown":"This solved my issue. Thanks a lot.","body":"This solved my issue. Thanks a lot."}],"tags":[],"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690631937,"creation_date":1690305255,"answer_id":76765087,"question_id":76716463,"body_markdown":"You need to specify the Maven artifact containing the annotation processor using `&lt;annotationProcessorPaths&gt;`, e.g.:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n            &lt;annotationProcessorPath&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;com.example.annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/annotationProcessorPath&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n        &lt;annotationProcessors&gt;\r\n            &lt;annotationProcessor&gt;com.example.annotations.MyProcessor&lt;/annotationProcessor&gt;\r\n        &lt;/annotationProcessors&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nSource: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths","title":"Maven compiler plugin: Annotation processor not found","body":"<p>You need to specify the Maven artifact containing the annotation processor using <code>&lt;annotationProcessorPaths&gt;</code>, e.g.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;com.example.annotations&lt;/artifactId&gt;\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;/annotationProcessorPath&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;annotationProcessors&gt;\n            &lt;annotationProcessor&gt;com.example.annotations.MyProcessor&lt;/annotationProcessor&gt;\n        &lt;/annotationProcessors&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Source: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths</a></p>\n"}],"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690631937,"creation_date":1689713433,"question_id":76716463,"body_markdown":"I have a Maven java project which includes a custom annotation processor:\r\n\r\n    @SupportedAnnotationTypes(&quot;com.example.Processor&quot;)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_17)\r\n    public class MyProcessor extends AbstractProcessor {\r\n      /*\r\n      code\r\n      */\r\n    }\r\n\r\n\r\n\r\nHowever, when I compile the project I get the error \r\n\r\n&gt; &quot;Annotation Processor com.example.MyProcessor not Found&quot;\r\n\r\nHere is my maven-compiler-plugin below:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;annotationProcessors&gt;\r\n                &lt;annotationProcessor&gt;\r\n                    com.example.MyProcessor\r\n                &lt;/annotationProcessor&gt;\r\n            &lt;/annotationProcessors&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI have a file under `META-INF/services` called `javax.annotation.processing.Processor` which contains the custom annotation processor&#39;s name.\r\n\r\nI looked over similar questions on this topic which suggest to disable annotation processing as the solution (i.e set proc:none under executions tag). However I don&#39;t want to disable annotation processing because I also want to use `@Slf4j` logging in the same project. \r\n\r\nAny suggestions on how to get this to work?","title":"Maven compiler plugin: Annotation processor not found","body":"<p>I have a Maven java project which includes a custom annotation processor:</p>\n<pre><code>@SupportedAnnotationTypes(&quot;com.example.Processor&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\npublic class MyProcessor extends AbstractProcessor {\n  /*\n  code\n  */\n}\n</code></pre>\n<p>However, when I compile the project I get the error</p>\n<blockquote>\n<p>&quot;Annotation Processor com.example.MyProcessor not Found&quot;</p>\n</blockquote>\n<p>Here is my maven-compiler-plugin below:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessors&gt;\n            &lt;annotationProcessor&gt;\n                com.example.MyProcessor\n            &lt;/annotationProcessor&gt;\n        &lt;/annotationProcessors&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have a file under <code>META-INF/services</code> called <code>javax.annotation.processing.Processor</code> which contains the custom annotation processor's name.</p>\n<p>I looked over similar questions on this topic which suggest to disable annotation processing as the solution (i.e set proc:none under executions tag). However I don't want to disable annotation processing because I also want to use <code>@Slf4j</code> logging in the same project.</p>\n<p>Any suggestions on how to get this to work?</p>\n"},{"tags":["java","spring","validation","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690390613,"post_id":76772989,"comment_id":135348084,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690631232,"creation_date":1690631232,"answer_id":76793415,"question_id":76772989,"body_markdown":"    Add annotation @GroupSequence to validate using Jakarta annotations first, before custom validator.\r\n\r\n    @GroupSequence({OrderDiscountRequest.class, DiscountValidator.class})\r\n    public class OrderDiscountRequest {\r\n     ","title":"Define Order between Jakarta Validations and Custom Validations","body":"<pre><code>Add annotation @GroupSequence to validate using Jakarta annotations first, before custom validator.\n\n@GroupSequence({OrderDiscountRequest.class, DiscountValidator.class})\npublic class OrderDiscountRequest {\n \n</code></pre>\n"}],"owner":{"account_id":21768446,"reputation":3,"user_id":16071937,"display_name":"fanis798"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76793415,"answer_count":1,"score":-1,"last_activity_date":1690631232,"creation_date":1690386237,"question_id":76772989,"body_markdown":"When calling /orders/{order_id}/discounts/{discount_id} : \r\n- Request is authenticated through a filter chain I configured\r\n- DiscountValidator method isValid() is executed, \r\n- @Valid annotation is applied, validating all annotations like @NotNull, @Digits, etc.. \r\n- @PreAuthorize is executed.\r\n\r\nThe thing is I want Jakarta annotations to validate my fields first, and then to run custom validator (DiscountValidator) assuming discountValue for example, is not null.\r\n\r\n\r\n - Controller Method Signature\r\n\r\n```   \r\n\r\n    @PreAuthorize(&quot;hasRealmRoles(&#39;INTERNAL_USER&#39;,&#39;ROBOTIC_USER&#39;) or orderBelongsToAccount(#orderIdAsString)&quot;)\r\n    @PutMapping(path = &quot;orders/{order_id}/discounts/{discount_id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;OrderDiscountDto&gt; updateOrderDiscount(@Valid @RequestBody OrderDiscountRequest orderDiscountRequest,\r\n                                                                @UUIDConstraint @PathVariable(&quot;order_id&quot;) String orderIdAsString,\r\n                                                                @UUIDConstraint @PathVariable(&quot;discount_id&quot;) String discountIdAsString);\r\n\r\n```\r\n\r\n- OrderDiscountRequest pojo\r\n```\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @ValidDiscount\r\n    public class OrderDiscountRequest {\r\n        @Schema(description = &quot;The decimal amount, deducted from order&#39;s total value&quot;, name = &quot;discount_value&quot;,\r\n                example = &quot;31.00&quot;, type = &quot;string&quot;, format = &quot;string&quot;)\r\n        @JsonProperty(&quot;discount_value&quot;)\r\n        @DecimalMin(&quot;0.0&quot;)\r\n        @Digits(integer = 10, fraction = 2)\r\n        @NotNull(message = &quot;Discount value cannot be null. Provide field value.&quot;)\r\n        private BigDecimal discountValue;\r\n    \r\n        @Schema(description = &quot;Object containing info regarding discount policy&quot;, name = &quot;policy&quot;,\r\n                implementation = DiscountPolicy.class, enumAsRef = true)\r\n        @JsonProperty(&quot;policy&quot;)\r\n        @NotNull(message = &quot;Discount Policy cannot be null. Provide field value.&quot;)\r\n        private DiscountPolicy policy;\r\n    }\r\n```\r\n\r\n- ValidDiscount annotation\r\n```\r\n\r\n    @Constraint(validatedBy = DiscountValidator.class)\r\n    @Target({ElementType.PARAMETER, ElementType.TYPE, ANNOTATION_TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidDiscount {\r\n        String message() default &quot;Invalid discount request information&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n```\r\n\r\n- DiscountValidator class\r\n```\r\n\r\n    @Slf4j\r\n    public class DiscountValidator implements ConstraintValidator&lt;ValidDiscount, OrderDiscountRequest&gt; {\r\n    \r\n        @Override\r\n        public boolean isValid(OrderDiscountRequest discountRequest, ConstraintValidatorContext context) {\r\n    \r\n            validatePercentagePolicy(discountRequest);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        private void validatePercentagePolicy(OrderDiscountRequest discountRequest) {\r\n            if (DiscountPolicy.PERCENTAGE.equals(discountRequest.getPolicy()) &amp;&amp;\r\n                    discountRequest.getDiscountValue().compareTo(MAX_PERCENTAGE) == 1) {\r\n                log.warn(&quot;Discount percentage value greater than 100.00&quot;);\r\n                throw new ConstraintViolationException(ValidationMessages.ORDER_DISCOUNT_PERCENTAGE_VALUE_EXCEEDED, new HashSet&lt;&gt;());\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n- Configuration class, to push validations before authorization process (because authorization needs a present order resource for requested order_id)\r\n```\r\n@Configuration\r\npublic class ValidationConfiguration {\r\n    @Bean\r\n    public MethodValidationPostProcessor methodValidationPostProcessor() {\r\n        MethodValidationPostProcessor processor = new MethodValidationPostProcessor();\r\n        processor.setBeforeExistingAdvisors(true);\r\n        return processor;\r\n    }\r\n}\r\n```","title":"Define Order between Jakarta Validations and Custom Validations","body":"<p>When calling /orders/{order_id}/discounts/{discount_id} :</p>\n<ul>\n<li>Request is authenticated through a filter chain I configured</li>\n<li>DiscountValidator method isValid() is executed,</li>\n<li>@Valid annotation is applied, validating all annotations like @NotNull, @Digits, etc..</li>\n<li>@PreAuthorize is executed.</li>\n</ul>\n<p>The thing is I want Jakarta annotations to validate my fields first, and then to run custom validator (DiscountValidator) assuming discountValue for example, is not null.</p>\n<ul>\n<li>Controller Method Signature</li>\n</ul>\n<pre><code>\n    @PreAuthorize(&quot;hasRealmRoles('INTERNAL_USER','ROBOTIC_USER') or orderBelongsToAccount(#orderIdAsString)&quot;)\n    @PutMapping(path = &quot;orders/{order_id}/discounts/{discount_id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;OrderDiscountDto&gt; updateOrderDiscount(@Valid @RequestBody OrderDiscountRequest orderDiscountRequest,\n                                                                @UUIDConstraint @PathVariable(&quot;order_id&quot;) String orderIdAsString,\n                                                                @UUIDConstraint @PathVariable(&quot;discount_id&quot;) String discountIdAsString);\n\n</code></pre>\n<ul>\n<li>OrderDiscountRequest pojo</li>\n</ul>\n<pre><code>    @AllArgsConstructor\n    @NoArgsConstructor\n    @Data\n    @Builder\n    @ValidDiscount\n    public class OrderDiscountRequest {\n        @Schema(description = &quot;The decimal amount, deducted from order's total value&quot;, name = &quot;discount_value&quot;,\n                example = &quot;31.00&quot;, type = &quot;string&quot;, format = &quot;string&quot;)\n        @JsonProperty(&quot;discount_value&quot;)\n        @DecimalMin(&quot;0.0&quot;)\n        @Digits(integer = 10, fraction = 2)\n        @NotNull(message = &quot;Discount value cannot be null. Provide field value.&quot;)\n        private BigDecimal discountValue;\n    \n        @Schema(description = &quot;Object containing info regarding discount policy&quot;, name = &quot;policy&quot;,\n                implementation = DiscountPolicy.class, enumAsRef = true)\n        @JsonProperty(&quot;policy&quot;)\n        @NotNull(message = &quot;Discount Policy cannot be null. Provide field value.&quot;)\n        private DiscountPolicy policy;\n    }\n</code></pre>\n<ul>\n<li>ValidDiscount annotation</li>\n</ul>\n<pre><code>\n    @Constraint(validatedBy = DiscountValidator.class)\n    @Target({ElementType.PARAMETER, ElementType.TYPE, ANNOTATION_TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface ValidDiscount {\n        String message() default &quot;Invalid discount request information&quot;;\n    \n        Class&lt;?&gt;[] groups() default {};\n    \n        Class&lt;? extends Payload&gt;[] payload() default {};\n    }\n\n</code></pre>\n<ul>\n<li>DiscountValidator class</li>\n</ul>\n<pre><code>\n    @Slf4j\n    public class DiscountValidator implements ConstraintValidator&lt;ValidDiscount, OrderDiscountRequest&gt; {\n    \n        @Override\n        public boolean isValid(OrderDiscountRequest discountRequest, ConstraintValidatorContext context) {\n    \n            validatePercentagePolicy(discountRequest);\n    \n            return true;\n        }\n    \n        private void validatePercentagePolicy(OrderDiscountRequest discountRequest) {\n            if (DiscountPolicy.PERCENTAGE.equals(discountRequest.getPolicy()) &amp;&amp;\n                    discountRequest.getDiscountValue().compareTo(MAX_PERCENTAGE) == 1) {\n                log.warn(&quot;Discount percentage value greater than 100.00&quot;);\n                throw new ConstraintViolationException(ValidationMessages.ORDER_DISCOUNT_PERCENTAGE_VALUE_EXCEEDED, new HashSet&lt;&gt;());\n            }\n        }\n    }\n\n</code></pre>\n<ul>\n<li>Configuration class, to push validations before authorization process (because authorization needs a present order resource for requested order_id)</li>\n</ul>\n<pre><code>@Configuration\npublic class ValidationConfiguration {\n    @Bean\n    public MethodValidationPostProcessor methodValidationPostProcessor() {\n        MethodValidationPostProcessor processor = new MethodValidationPostProcessor();\n        processor.setBeforeExistingAdvisors(true);\n        return processor;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","servlets","jar"],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343227828,"creation_date":1343227828,"answer_id":11652475,"question_id":11652431,"body_markdown":"Compile time &amp; runtime are two different things. What ever you added right now is just for compile time &amp; build purpose only. Runtime server tries to load the class. Add same jar to project lib folder also (Which will be packaged with WAR and available for the server at runtime).","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>Compile time &amp; runtime are two different things. What ever you added right now is just for compile time &amp; build purpose only. Runtime server tries to load the class. Add same jar to project lib folder also (Which will be packaged with WAR and available for the server at runtime).</p>\n"},{"comments":[{"owner":{"account_id":334159,"reputation":2281,"user_id":660408,"accept_rate":68,"display_name":"gkiko"},"score":2,"creation_date":1387673888,"post_id":11652541,"comment_id":31049710,"body_markdown":"Thank you very much. You saved us on Hackathon","body":"Thank you very much. You saved us on Hackathon"},{"owner":{"account_id":1937706,"reputation":1634,"user_id":1744745,"accept_rate":0,"display_name":"Praveen Kumar"},"score":0,"creation_date":1405771187,"post_id":11652541,"comment_id":38567900,"body_markdown":"That works ,I was also facing the same problem ,  is there some issue with build path of dynamic web project ?","body":"That works ,I was also facing the same problem ,  is there some issue with build path of dynamic web project ?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1405773528,"post_id":11652541,"comment_id":38568549,"body_markdown":"No issue. The build path is used to build your project, but it can contain libraries that must not be in the runtime classpath (like testing libraries, for example). The runtime libraries must be placed in WEB-INF/lib.","body":"No issue. The build path is used to build your project, but it can contain libraries that must not be in the runtime classpath (like testing libraries, for example). The runtime libraries must be placed in WEB-INF/lib."},{"owner":{"account_id":5147334,"reputation":2978,"user_id":4122928,"accept_rate":57,"display_name":"giliev"},"score":0,"creation_date":1432304318,"post_id":11652541,"comment_id":48885881,"body_markdown":"I have the JDBC connector into the Web App Libraries, but I still receive the same exception **No suitable driver found**","body":"I have the JDBC connector into the Web App Libraries, but I still receive the same exception <b>No suitable driver found</b>"},{"owner":{"account_id":1216201,"reputation":1689,"user_id":1183754,"accept_rate":25,"display_name":"Błażej Kocik"},"score":0,"creation_date":1481356589,"post_id":11652541,"comment_id":69353401,"body_markdown":"please read answer of @Nasruddin down there - it&#39;s more accurate IMHO","body":"please read answer of @Nasruddin down there - it&#39;s more accurate IMHO"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":5,"down_vote_count":2,"up_vote_count":41,"is_accepted":true,"score":39,"last_activity_date":1343227981,"creation_date":1343227981,"answer_id":11652541,"question_id":11652431,"body_markdown":"As your screenshot shows, the mysql jar doesn&#39;t appear under the *Web App Libraries* node. Paste the jar in `WebContent/WEB-INF/lib`, and it will be automatically added to the build path `and` to the runtime classpath of the webapp (and it will appear under *Web App Libraries*).","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>As your screenshot shows, the mysql jar doesn't appear under the <em>Web App Libraries</em> node. Paste the jar in <code>WebContent/WEB-INF/lib</code>, and it will be automatically added to the build path <code>and</code> to the runtime classpath of the webapp (and it will appear under <em>Web App Libraries</em>).</p>\n"},{"tags":[],"owner":{"account_id":1806349,"reputation":21,"user_id":1643388,"display_name":"Kaditx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346666465,"creation_date":1346665916,"answer_id":12245535,"question_id":11652431,"body_markdown":"Try doing this:\r\n\r\nMake a directory named lib in the root directory of the proyect and put the .jar in it.\r\n\r\nIn the WEB-INF directory, make a link to lib.\r\n\r\nNow, the jar would appear under WebbApp Libraries.","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>Try doing this:</p>\n\n<p>Make a directory named lib in the root directory of the proyect and put the .jar in it.</p>\n\n<p>In the WEB-INF directory, make a link to lib.</p>\n\n<p>Now, the jar would appear under WebbApp Libraries.</p>\n"},{"comments":[{"owner":{"account_id":1271867,"reputation":5803,"user_id":1227940,"accept_rate":56,"display_name":"Ankur Verma"},"score":4,"creation_date":1368108122,"post_id":15173716,"comment_id":23619311,"body_markdown":"this is perfect, rather than copying all the lib jars in to the lib folder of the project...Awesome","body":"this is perfect, rather than copying all the lib jars in to the lib folder of the project...Awesome"}],"tags":[],"owner":{"account_id":1816431,"reputation":1650,"user_id":1651428,"display_name":"Nasruddin"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1392728243,"creation_date":1362222269,"answer_id":15173716,"question_id":11652431,"body_markdown":"Just now I troubleshoot this issue. \r\n\r\n - Just go to `properties` of your project. \r\n - Select `Deployment Assembly` -&gt; `add` -&gt; `Java Build Path Entries`.\r\n\r\nAnd you are done !","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>Just now I troubleshoot this issue. </p>\n\n<ul>\n<li>Just go to <code>properties</code> of your project. </li>\n<li>Select <code>Deployment Assembly</code> -> <code>add</code> -> <code>Java Build Path Entries</code>.</li>\n</ul>\n\n<p>And you are done !</p>\n"},{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1392811985,"post_id":21873185,"comment_id":33129044,"body_markdown":"It seems that in newer version of Eclipse `J2EE Module Dependencies` was replaced with `Deployment Assembly`.","body":"It seems that in newer version of Eclipse <code>J2EE Module Dependencies</code> was replaced with <code>Deployment Assembly</code>."},{"owner":{"account_id":3920722,"reputation":5994,"user_id":3242978,"accept_rate":100,"display_name":"jmail"},"score":0,"creation_date":1392812972,"post_id":21873185,"comment_id":33129637,"body_markdown":"@Pshemo, yes buddy. Your right, that was in newer version. But, this one as also answer buddy.","body":"@Pshemo, yes buddy. Your right, that was in newer version. But, this one as also answer buddy."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1392816690,"post_id":21873185,"comment_id":33132356,"body_markdown":"I wasn&#39;t saying that this is not an answer because it can be usefull for many peoples. My comment was meant only as little improvement for those with newer versions of Eclipse. Also probably not many peoples here are your buddies so try to avoid this word.","body":"I wasn&#39;t saying that this is not an answer because it can be usefull for many peoples. My comment was meant only as little improvement for those with newer versions of Eclipse. Also probably not many peoples here are your buddies so try to avoid this word."}],"tags":[],"owner":{"account_id":3920722,"reputation":5994,"user_id":3242978,"accept_rate":100,"display_name":"jmail"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392792754,"creation_date":1392792754,"answer_id":21873185,"question_id":11652431,"body_markdown":"The solution is quite straightforward:\r\n\r\n     1. Right click on the your web project and choose PROPERTIES\r\n    \r\n     2. Choose the J2EE Module Dependencies\r\n    \r\n     3. Click on the Add External JARs… and then point on your library file (ZIP or JAR)\r\n    \r\n     4. Click on Apply then OK.\r\n    \r\n     5. Restart your Apache Tomcat\r\n\r\nThe added library should be seen under: ProjectName &gt; Java Resources: src &gt; Libraries &gt; WebApp Libraries.\r\n\r\n","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>The solution is quite straightforward:</p>\n\n<pre><code> 1. Right click on the your web project and choose PROPERTIES\n\n 2. Choose the J2EE Module Dependencies\n\n 3. Click on the Add External JARs… and then point on your library file (ZIP or JAR)\n\n 4. Click on Apply then OK.\n\n 5. Restart your Apache Tomcat\n</code></pre>\n\n<p>The added library should be seen under: ProjectName > Java Resources: src > Libraries > WebApp Libraries.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1690636437,"post_id":76793382,"comment_id":135382959,"body_markdown":"Why are you repeating an already given answer?","body":"Why are you repeating an already given answer?"}],"tags":[],"owner":{"account_id":25922838,"reputation":1,"user_id":19645128,"display_name":"Yash Chouhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690630643,"creation_date":1690630643,"answer_id":76793382,"question_id":11652431,"body_markdown":"if you already added mysql-connector.jar file, \r\nthen you also need to add it into project&#39;s **web deployment assembly**. For this - \r\n1) In eclipse - go to project properties by right clicking on it.\r\n2) You will see web deployment assembly option.\r\n3) Add your jar file here, using **Add** button.","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>if you already added mysql-connector.jar file,\nthen you also need to add it into project's <strong>web deployment assembly</strong>. For this -</p>\n<ol>\n<li>In eclipse - go to project properties by right clicking on it.</li>\n<li>You will see web deployment assembly option.</li>\n<li>Add your jar file here, using <strong>Add</strong> button.</li>\n</ol>\n"}],"owner":{"account_id":555930,"reputation":10727,"user_id":831294,"accept_rate":80,"display_name":"URL87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49692,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1690636719,"accepted_answer_id":11652541,"answer_count":6,"score":25,"last_activity_date":1690630643,"creation_date":1343227696,"question_id":11652431,"body_markdown":"When I use the follow code in eclipse `Dynamic Web Project` inside `servlet` , like this :\r\n\r\n\r\n    \r\n    @WebServlet(&quot;/CreateCustomerServlet&quot;)\r\n    public class CreateCustomerServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate void test() throws SQLException, ClassNotFoundException {\r\n    \t\t// use the JAR ...\r\n    \t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);//here the exception\r\n    \t}\r\n    }\r\n\t\r\n\r\nit throw the exception: \r\n\r\n`java.lang.ClassNotFoundException: com.mysql.jdbc.Driver` \r\n\r\nin the line:\r\n\r\n `Class.forName(&quot;com.mysql.jdbc.Driver&quot;);`\r\n\r\nIn the Build path of the dynamic web project I added the jar:\r\n\r\n `mysql-connector-java-5.1.21-bin.jar` \r\n\r\nI add snapshot of the folder , you can see where it is the required jar -\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bR1Ub.png","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>When I use the follow code in eclipse <code>Dynamic Web Project</code> inside <code>servlet</code> , like this :</p>\n\n<pre><code>@WebServlet(\"/CreateCustomerServlet\")\npublic class CreateCustomerServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    private void test() throws SQLException, ClassNotFoundException {\n        // use the JAR ...\n        Class.forName(\"com.mysql.jdbc.Driver\");//here the exception\n    }\n}\n</code></pre>\n\n<p>it throw the exception: </p>\n\n<p><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</code> </p>\n\n<p>in the line:</p>\n\n<p><code>Class.forName(\"com.mysql.jdbc.Driver\");</code></p>\n\n<p>In the Build path of the dynamic web project I added the jar:</p>\n\n<p><code>mysql-connector-java-5.1.21-bin.jar</code> </p>\n\n<p>I add snapshot of the folder , you can see where it is the required jar -</p>\n\n<p><img src=\"https://i.stack.imgur.com/bR1Ub.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690877231,"post_id":76793361,"comment_id":135410636,"body_markdown":"i think this might help you. Check the answers. https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl","body":"i think this might help you. Check the answers. <a href=\"https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl\" title=\"hibernate throws multiplebagfetchexception cannot simultaneously fetch multipl\">stackoverflow.com/questions/4334970/&hellip;</a>"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690630324,"creation_date":1690630324,"question_id":76793361,"body_markdown":"I want to retrieve Screening with Seat and with Booking by booking id. Screening has a one-to-many relationship with Seat and Seat has a one-to-many relationship with Booking (a seat can have multiple bookings, but only one can be active, the rest must be canceled).\r\nI wrote such a method, but it gets MultipleBagException:\r\n\r\n    @Query(&quot;select s from booking_screening s join fetch s.seats se join fetch se.bookings b where b.id = :bookingId&quot;)\r\n    Optional&lt;Screening&gt; readByBookingId(@Param(&quot;bookingId&quot;) Long booking);","title":"Nested one-to-many - MultipleBagFetchException","body":"<p>I want to retrieve Screening with Seat and with Booking by booking id. Screening has a one-to-many relationship with Seat and Seat has a one-to-many relationship with Booking (a seat can have multiple bookings, but only one can be active, the rest must be canceled).\nI wrote such a method, but it gets MultipleBagException:</p>\n<pre><code>@Query(&quot;select s from booking_screening s join fetch s.seats se join fetch se.bookings b where b.id = :bookingId&quot;)\nOptional&lt;Screening&gt; readByBookingId(@Param(&quot;bookingId&quot;) Long booking);\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa","join"],"comments":[{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1494797281,"post_id":43968785,"comment_id":74967881,"body_markdown":"Please, add to the question: Why do you need a left join?","body":"Please, add to the question: Why do you need a left join?"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1494828750,"post_id":43968785,"comment_id":74974927,"body_markdown":"&quot;it doesn&#39;t work&quot; ? What is that supposed to mean? You get an exception? It runs some SQL (that you don&#39;t post) but you get a different result to what you expect? Nothing happens at all?","body":"&quot;it doesn&#39;t work&quot; ? What is that supposed to mean? You get an exception? It runs some SQL (that you don&#39;t post) but you get a different result to what you expect? Nothing happens at all?"},{"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"score":0,"creation_date":1494872950,"post_id":43968785,"comment_id":75002118,"body_markdown":"I posted and error which I have with this query and which query I wouldlike to achieve.","body":"I posted and error which I have with this query and which query I wouldlike to achieve."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1494925998,"post_id":43968785,"comment_id":75022657,"body_markdown":"@bartekms274 Better to add the part of stack trace with an error description. `Errors in named queries: Car.findAll` doesn&#39;t tell a lot. Also I have updated my answer with that error.","body":"@bartekms274 Better to add the part of stack trace with an error description. <code>Errors in named queries: Car.findAll</code> doesn&#39;t tell a lot. Also I have updated my answer with that error."}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494925899,"creation_date":1494845161,"answer_id":43977502,"question_id":43968785,"body_markdown":"    SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer &quot;\r\n            + &quot;AND c.type=:type AND c.dailyPrice=:dailyPrice\r\n\r\nThere is an error in this query `c.reservation` need to be changed to `c.reservations`.\r\n\r\n&gt;  I would like to show Cars which have NULL reservations.\r\n\r\nYou can&#39;t do it this way. Try to begin from this query:\r\n\r\n    select c from Car c where not exists (\r\n        select r.id from Reservation r where r.car.id = c.id\r\n    )","title":"How to create JPA NamedQuery with LEFT JOIN","body":"<pre><code>SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer \"\n        + \"AND c.type=:type AND c.dailyPrice=:dailyPrice\n</code></pre>\n\n<p>There is an error in this query <code>c.reservation</code> need to be changed to <code>c.reservations</code>.</p>\n\n<blockquote>\n  <p>I would like to show Cars which have NULL reservations.</p>\n</blockquote>\n\n<p>You can't do it this way. Try to begin from this query:</p>\n\n<pre><code>select c from Car c where not exists (\n    select r.id from Reservation r where r.car.id = c.id\n)\n</code></pre>\n"}],"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13907,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1690628575,"creation_date":1494795958,"question_id":43968785,"body_markdown":"I have two entities: Car and Reservation. I would like to create named query with LEFT JOIN. I was trying to do this like it is described here [How to create JPA query with LEFT OUTER JOIN][1] but it doesn&#39;t work. Do you have any idea what is wrong in my query? I would like to show Cars which have NULL reservations. Anyway even with JOIN it does not work. After starting application I have an error:\r\n\r\n    Caused by: org.hibernate.HibernateException: Errors in named queries: Car.findAll\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:495) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \t... 22 common frames omitted\r\n\r\nIn principle I would like to achieve this query which in MySQL works\r\n\r\n    SELECT distinct * FROM car c LEFT JOIN reservation r ON c.id = r.car_id WHERE c.producer=&#39;producer&#39; AND c.model=&#39;model&#39; AND c.type=&#39;type&#39; \r\n    AND (r.date_of_rent &lt; &#39;date1&#39; AND r.date_of_return &lt; &#39;date1&#39;) OR (r.date_of_rent &gt; &#39;date2&#39;) OR r.date_of_rent IS NULL;\r\n\r\nCar Entity\r\n\r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    @Entity\r\n    @NamedQuery(name = &quot;Car.findAll&quot;, query = &quot;SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer &quot;\r\n    \t\t+ &quot;AND c.type=:type AND c.dailyPrice=:dailyPrice&quot;)\r\n    public class Car implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String producer;\r\n    \tprivate String model;\r\n    \tprivate int seatsNumber;\r\n    \tprivate String type;\r\n    \tprivate String registrationNumber;\r\n    \tprivate double dailyPrice;\r\n    \tprivate String description;\r\n    \t@OneToMany(mappedBy = &quot;car&quot;)\r\n    \tprivate List&lt;Reservation&gt; reservations;\r\n\r\nReservation Entity\r\n\r\n    import java.io.Serializable;\r\n    import java.sql.Date;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    \r\n    @Entity\r\n    public class Reservation implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t@ManyToOne\r\n    \tprivate User user;\r\n    \t@ManyToOne\r\n    \tprivate Car car;\r\n    \tprivate Date dateOfRent;\r\n    \tprivate Date dateOfReturn;\r\n\r\nMany thanks for help.\r\n\r\n**UPDATE**\r\n\r\nProblem solved. Query should look like this one\r\n\r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    @Entity\r\n    @NamedQuery(name = &quot;Car.findAll&quot;, query = &quot;SELECT DISTINCT c FROM Car c LEFT JOIN c.reservations r WHERE &quot;\r\n    \t\t+ &quot;c.type=:type AND c.dailyPrice&lt;=:dailyPrice AND ((r.dateOfRent &lt; :dateOfRent AND r.dateOfReturn &lt; :dateOfRent) OR &quot;\r\n    \t\t+ &quot;(r.dateOfRent &gt; :dateOfReturn) OR (r.dateOfRent IS NULL))&quot;)\r\n    public class Car implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String producer;\r\n    \tprivate String model;\r\n    \tprivate Integer seatsNumber;\r\n    \tprivate String type;\r\n    \tprivate String registrationNumber;\r\n    \tprivate Double dailyPrice;\r\n    \tprivate String description;\r\n    \t@OneToMany(mappedBy = &quot;car&quot;)\r\n    \tprivate List&lt;Reservation&gt; reservations;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10202456/how-to-create-a-jpa-query-with-left-outer-join\r\n\r\n\r\n","title":"How to create JPA NamedQuery with LEFT JOIN","body":"<p>I have two entities: Car and Reservation. I would like to create named query with LEFT JOIN. I was trying to do this like it is described here <a href=\"https://stackoverflow.com/questions/10202456/how-to-create-a-jpa-query-with-left-outer-join\">How to create JPA query with LEFT OUTER JOIN</a> but it doesn't work. Do you have any idea what is wrong in my query? I would like to show Cars which have NULL reservations. Anyway even with JOIN it does not work. After starting application I have an error:</p>\n\n<pre><code>Caused by: org.hibernate.HibernateException: Errors in named queries: Car.findAll\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:495) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    ... 22 common frames omitted\n</code></pre>\n\n<p>In principle I would like to achieve this query which in MySQL works</p>\n\n<pre><code>SELECT distinct * FROM car c LEFT JOIN reservation r ON c.id = r.car_id WHERE c.producer='producer' AND c.model='model' AND c.type='type' \nAND (r.date_of_rent &lt; 'date1' AND r.date_of_return &lt; 'date1') OR (r.date_of_rent &gt; 'date2') OR r.date_of_rent IS NULL;\n</code></pre>\n\n<p>Car Entity</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\n\n@Entity\n@NamedQuery(name = \"Car.findAll\", query = \"SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer \"\n        + \"AND c.type=:type AND c.dailyPrice=:dailyPrice\")\npublic class Car implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String producer;\n    private String model;\n    private int seatsNumber;\n    private String type;\n    private String registrationNumber;\n    private double dailyPrice;\n    private String description;\n    @OneToMany(mappedBy = \"car\")\n    private List&lt;Reservation&gt; reservations;\n</code></pre>\n\n<p>Reservation Entity</p>\n\n<pre><code>import java.io.Serializable;\nimport java.sql.Date;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\n\n@Entity\npublic class Reservation implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToOne\n    private User user;\n    @ManyToOne\n    private Car car;\n    private Date dateOfRent;\n    private Date dateOfReturn;\n</code></pre>\n\n<p>Many thanks for help.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Problem solved. Query should look like this one</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\n\n@Entity\n@NamedQuery(name = \"Car.findAll\", query = \"SELECT DISTINCT c FROM Car c LEFT JOIN c.reservations r WHERE \"\n        + \"c.type=:type AND c.dailyPrice&lt;=:dailyPrice AND ((r.dateOfRent &lt; :dateOfRent AND r.dateOfReturn &lt; :dateOfRent) OR \"\n        + \"(r.dateOfRent &gt; :dateOfReturn) OR (r.dateOfRent IS NULL))\")\npublic class Car implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String producer;\n    private String model;\n    private Integer seatsNumber;\n    private String type;\n    private String registrationNumber;\n    private Double dailyPrice;\n    private String description;\n    @OneToMany(mappedBy = \"car\")\n    private List&lt;Reservation&gt; reservations;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8339661,"reputation":357,"user_id":6265353,"accept_rate":86,"display_name":"Rathiga Jesika"},"score":0,"creation_date":1493293198,"post_id":43656673,"comment_id":74360601,"body_markdown":"https://developer.android.com/guide/topics/manifest/application-element.html","body":"<a href=\"https://developer.android.com/guide/topics/manifest/application-element.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/manifest/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1493293179,"creation_date":1493293179,"answer_id":43656713,"question_id":43656673,"body_markdown":"Read official guide line about **[android:persistent][1]**\r\n\r\n&gt; Whether or not the application should remain running at all times —\r\n&gt; &quot;true&quot; if it should, and &quot;false&quot; if not. The default value is &quot;false&quot;.\r\n&gt; Applications should not normally set this flag; persistence mode is\r\n&gt; intended only for certain system applications.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/application-element.html#persistent","title":"Android What is use of persistent?","body":"<p>Read official guide line about <strong><a href=\"https://developer.android.com/guide/topics/manifest/application-element.html#persistent\" rel=\"noreferrer\">android:persistent</a></strong></p>\n\n<blockquote>\n  <p>Whether or not the application should remain running at all times —\n  \"true\" if it should, and \"false\" if not. The default value is \"false\".\n  Applications should not normally set this flag; persistence mode is\n  intended only for certain system applications.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4336292,"reputation":306,"user_id":3540699,"display_name":"amonthedeamon"},"score":0,"creation_date":1574952546,"post_id":58612987,"comment_id":104417232,"body_markdown":"this is the more effective and right answer. Persistent property is ignored unless you&#39;re building a system application (usually you can&#39;t do this unless working on your own AOSP build or, maybe, on a rooted android device)","body":"this is the more effective and right answer. Persistent property is ignored unless you&#39;re building a system application (usually you can&#39;t do this unless working on your own AOSP build or, maybe, on a rooted android device)"},{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1578577454,"post_id":58612987,"comment_id":105489449,"body_markdown":"Hello @Brent.K I am doing system apps but where exactly do I need to change it to make it persistant to work in framework side?","body":"Hello @Brent.K I am doing system apps but where exactly do I need to change it to make it persistant to work in framework side?"},{"owner":{"account_id":13408827,"reputation":937,"user_id":9676015,"display_name":"Brent K."},"score":1,"creation_date":1578666175,"post_id":58612987,"comment_id":105523914,"body_markdown":"Hi @Shadow This is a property of your AndroidManifest.xml. It goes in the application tag:   &lt;application android:persistent=&quot;true&quot;. Your app must be a system app as described here: https://stackoverflow.com/questions/17222535/create-system-application","body":"Hi @Shadow This is a property of your AndroidManifest.xml. It goes in the application tag:   &lt;application android:persistent=&quot;true&quot;. Your app must be a system app as described here: <a href=\"https://stackoverflow.com/questions/17222535/create-system-application\" title=\"create system application\">stackoverflow.com/questions/17222535/create-system-applicati&zwnj;&#8203;on</a>"},{"owner":{"account_id":99379,"reputation":751,"user_id":268473,"display_name":"jaga"},"score":0,"creation_date":1692783411,"post_id":58612987,"comment_id":135670211,"body_markdown":"Say I am making a system application and I am making it persistent by setting this flag to true. Can this application be updated like any other system app? or can it be updated only through system update?","body":"Say I am making a system application and I am making it persistent by setting this flag to true. Can this application be updated like any other system app? or can it be updated only through system update?"}],"tags":[],"owner":{"account_id":13408827,"reputation":937,"user_id":9676015,"display_name":"Brent K."},"comment_count":4,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1572371662,"creation_date":1572371662,"answer_id":58612987,"question_id":43656673,"body_markdown":"Unfortunately, for most developers there is no use.  The official guide for [android:persistent][1] has a weakly worded comment that it is &quot;intended&quot; for system apps. To be clear, this property is *ignored* unless you are a system app.\r\n\r\nYou can see in the [commit ][2] where flag checking was added to PackageManager, this requires both the persistent flag and the system app flag. If your app only has one of these, it will not be treated as persistent. \r\n\r\nSo this property is only useful for platform developers and hardware vendors. Sorry.\r\n\r\nBut what does it do?  This property allows you to start a background service on Oreo and prevents it from being automatically killed.\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/application-element.html#persistent\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/b1e7776%5E%21/","title":"Android What is use of persistent?","body":"<p>Unfortunately, for most developers there is no use.  The official guide for <a href=\"https://developer.android.com/guide/topics/manifest/application-element.html#persistent\" rel=\"noreferrer\">android:persistent</a> has a weakly worded comment that it is \"intended\" for system apps. To be clear, this property is <em>ignored</em> unless you are a system app.</p>\n\n<p>You can see in the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/b1e7776%5E%21/\" rel=\"noreferrer\">commit </a> where flag checking was added to PackageManager, this requires both the persistent flag and the system app flag. If your app only has one of these, it will not be treated as persistent. </p>\n\n<p>So this property is only useful for platform developers and hardware vendors. Sorry.</p>\n\n<p>But what does it do?  This property allows you to start a background service on Oreo and prevents it from being automatically killed.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691107990,"post_id":76793246,"comment_id":135450882,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76793246/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29116804,"reputation":1,"user_id":22305349,"display_name":"Matthew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690628422,"creation_date":1690628422,"answer_id":76793246,"question_id":43656673,"body_markdown":"There is a big danger with this, and very poorly documented. If you tag your system app as persistent, it can not be removed/updated/replaced or anything. It is locked in for good on the device and stays running. From a developer perspective, I am having great dificulty updating it to a newer version. Once installed in your device image, that is it.","title":"Android What is use of persistent?","body":"<p>There is a big danger with this, and very poorly documented. If you tag your system app as persistent, it can not be removed/updated/replaced or anything. It is locked in for good on the device and stays running. From a developer perspective, I am having great dificulty updating it to a newer version. Once installed in your device image, that is it.</p>\n"}],"owner":{"account_id":8727061,"reputation":193,"user_id":6528412,"display_name":"Alis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18478,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":43656713,"answer_count":3,"score":15,"last_activity_date":1690628422,"creation_date":1493293074,"question_id":43656673,"body_markdown":"What is use of **android:persistent=&quot;true&quot;** properties?\r\n\r\n    &lt;application\r\n        android:fullBackupContent=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:persistent=&quot;true&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme1&quot;&gt;\r\n    &lt;/application&gt;","title":"Android What is use of persistent?","body":"<p>What is use of <strong>android:persistent=\"true\"</strong> properties?</p>\n\n<pre><code>&lt;application\n    android:fullBackupContent=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:persistent=\"true\"\n    android:largeHeap=\"true\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme1\"&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","jmeter","jmeter-5.0"],"comments":[{"owner":{"account_id":13944218,"reputation":156,"user_id":10069332,"display_name":"Ricardo Sueiras"},"score":0,"creation_date":1690558496,"post_id":76788771,"comment_id":135375334,"body_markdown":"Have you asked this question in the JMeter community on GitHub? https://github.com/apache/jmeter","body":"Have you asked this question in the JMeter community on GitHub? <a href=\"https://github.com/apache/jmeter\" rel=\"nofollow noreferrer\">github.com/apache/jmeter</a>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690628183,"creation_date":1690628183,"answer_id":76793234,"question_id":76788771,"body_markdown":"What do you want from us exactly? Your [soak test][1] fails and now you need to find the reason for the failure. \r\n\r\nGiven you follow [JMeter Best Practices][2] and recommendations from [9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure][3] article JMeter should be stable enough and suitable for the soak testing without degradation of the performance over the time. \r\n\r\nIf you believe that JMeter causes requests slowing down you can use a profiler tool like [YourKit][4] or [JProfiler][5] to check what causes the slowing down. Alternatively instead of your endpoint you can try using a different one like http://example.com or https://blazedemo.com and see if the problem is reproducible. If yes - [raise an issue in JMeter project][6]\r\n\r\nHowever I believe JMeter is quite mature and free of obvious [memory leaks][7] so my expectation is it&#39;s a bug in the application you&#39;re trying to test so consider applying the same exercise with [profiling tools][8]. \r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Software_performance_testing#Soak_testing\r\n  [2]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [3]: https://www.blazemeter.com/blog/jmeter-memory-profiling\r\n  [4]: https://www.yourkit.com/java/profiler/features/\r\n  [5]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [6]: https://jmeter.apache.org/issues.html\r\n  [7]: https://en.wikipedia.org/wiki/Memory_leak\r\n  [8]: https://en.wikipedia.org/wiki/List_of_performance_analysis_tools","title":"Jmeter # of request starts to drop after few hours","body":"<p>What do you want from us exactly? Your <a href=\"https://en.wikipedia.org/wiki/Software_performance_testing#Soak_testing\" rel=\"nofollow noreferrer\">soak test</a> fails and now you need to find the reason for the failure.</p>\n<p>Given you follow <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> and recommendations from <a href=\"https://www.blazemeter.com/blog/jmeter-memory-profiling\" rel=\"nofollow noreferrer\">9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure</a> article JMeter should be stable enough and suitable for the soak testing without degradation of the performance over the time.</p>\n<p>If you believe that JMeter causes requests slowing down you can use a profiler tool like <a href=\"https://www.yourkit.com/java/profiler/features/\" rel=\"nofollow noreferrer\">YourKit</a> or <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> to check what causes the slowing down. Alternatively instead of your endpoint you can try using a different one like <a href=\"http://example.com\" rel=\"nofollow noreferrer\">http://example.com</a> or <a href=\"https://blazedemo.com\" rel=\"nofollow noreferrer\">https://blazedemo.com</a> and see if the problem is reproducible. If yes - <a href=\"https://jmeter.apache.org/issues.html\" rel=\"nofollow noreferrer\">raise an issue in JMeter project</a></p>\n<p>However I believe JMeter is quite mature and free of obvious <a href=\"https://en.wikipedia.org/wiki/Memory_leak\" rel=\"nofollow noreferrer\">memory leaks</a> so my expectation is it's a bug in the application you're trying to test so consider applying the same exercise with <a href=\"https://en.wikipedia.org/wiki/List_of_performance_analysis_tools\" rel=\"nofollow noreferrer\">profiling tools</a>.</p>\n"}],"owner":{"account_id":26449163,"reputation":125,"user_id":20092606,"display_name":"Harris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76793234,"answer_count":1,"score":0,"last_activity_date":1690628183,"creation_date":1690554863,"question_id":76788771,"body_markdown":"Can someone help me identify what&#39;s wrong with my Jmeter, Currently I&#39;m running 200 users and will generate 6000 request per minute. on First few hours the request is consistent at 6000 but after few hours it starts to drop. \r\n\r\nMachine &amp; Server is hosted on AWS\r\nFYI: I&#39;m currently running this on Ubuntu CLI \r\n\r\nCommand used: `./jmeter -n -t ES_Scenario1_Endurancetest.jmx -l /data/apache-jmeter-5.6.2/bin/result/loadtest/ES_EnduranceTest_aggregateResult_100.csv &amp;`\r\n\r\n\r\nUpon invocation of single API it returns more than 6000 lines of code\r\n\r\nJmeter Configuration\r\n\r\n[![Jmeter Thread Configuration][1]][1]\r\n\r\n\r\n\r\n[![Cache Manager][2]][2] \r\n\r\n\r\n[![Jmeter Configuration][3]][3]\r\n\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vXJ7c.png\r\n  [2]: https://i.stack.imgur.com/bLPP0.png\r\n  [3]: https://i.stack.imgur.com/hQe9K.png\r\n  [4]: https://i.stack.imgur.com/GLnoj.png\r\n  [5]: https://i.stack.imgur.com/EbAQK.png","title":"Jmeter # of request starts to drop after few hours","body":"<p>Can someone help me identify what's wrong with my Jmeter, Currently I'm running 200 users and will generate 6000 request per minute. on First few hours the request is consistent at 6000 but after few hours it starts to drop.</p>\n<p>Machine &amp; Server is hosted on AWS\nFYI: I'm currently running this on Ubuntu CLI</p>\n<p>Command used: <code>./jmeter -n -t ES_Scenario1_Endurancetest.jmx -l /data/apache-jmeter-5.6.2/bin/result/loadtest/ES_EnduranceTest_aggregateResult_100.csv &amp;</code></p>\n<p>Upon invocation of single API it returns more than 6000 lines of code</p>\n<p>Jmeter Configuration</p>\n<p><a href=\"https://i.stack.imgur.com/vXJ7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vXJ7c.png\" alt=\"Jmeter Thread Configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bLPP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bLPP0.png\" alt=\"Cache Manager\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hQe9K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQe9K.png\" alt=\"Jmeter Configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GLnoj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLnoj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EbAQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbAQK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690627637,"creation_date":1690627205,"answer_id":76793172,"question_id":76792995,"body_markdown":"As i may know - there is no spring way of doing this. If im not mistaken - **JPA entities are not Spring beans**, and you can`t do anything about it. \r\n\r\nAlso if im not mistaken annotation arguments should be compile-time constants. \r\n\r\nIm pretty sure that probably there is a way of hacking it, but not sure that will be a straightforward way to understand and support later. \r\n\r\nAlso maybe think about moving that way of configuration your documents and indexes from code to a migration tool like \r\nhttps://mongock.io/ or analogs. \r\n[![enter image description here][1]][1]\r\n\r\nProbably it would be much more simple to understand later, that your index configurations are described in *migration* tool \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/llwdf.png","title":"How to use @Value inside @Indexed annotation in spring boot Java","body":"<p>As i may know - there is no spring way of doing this. If im not mistaken - <strong>JPA entities are not Spring beans</strong>, and you can`t do anything about it.</p>\n<p>Also if im not mistaken annotation arguments should be compile-time constants.</p>\n<p>Im pretty sure that probably there is a way of hacking it, but not sure that will be a straightforward way to understand and support later.</p>\n<p>Also maybe think about moving that way of configuration your documents and indexes from code to a migration tool like\n<a href=\"https://mongock.io/\" rel=\"nofollow noreferrer\">https://mongock.io/</a> or analogs.\n<a href=\"https://i.stack.imgur.com/llwdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llwdf.png\" alt=\"enter image description here\" /></a></p>\n<p>Probably it would be much more simple to understand later, that your index configurations are described in <em>migration</em> tool</p>\n"}],"owner":{"account_id":18241043,"reputation":259,"user_id":13278063,"display_name":"Susmitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690627637,"creation_date":1690624081,"question_id":76792995,"body_markdown":"I am configuring the mongo TTL for my entity class. This is my code\r\n```\r\n@Document(collection = &quot;Test&quot;)\r\npublic class Test{\r\n\r\n\t@Id\r\n\tprivate String id;\r\n\r\n\t@Indexed(name = &quot;expire_at&quot;, expireAfter = &quot;#{${mongo.data.expire.days}}&quot;)\r\n\tprivate Instant expireAt;\r\n}\r\n```\r\nIn my properties file, I have given the days\r\n```\r\nmongo:\r\n    data:\r\n        expire:\r\n            days: 10d\r\n```\r\nI have tried giving ``` &quot;#{${mongo.data.expire.days}}&quot; ```, ``` &quot;#{@Value(mongo.data.expire.days)}&quot; ```, ``` &quot;${mongo.data.expire.days}&quot; ```\r\nBut nothing is working. \r\n\r\nPlease someone help me in this.","title":"How to use @Value inside @Indexed annotation in spring boot Java","body":"<p>I am configuring the mongo TTL for my entity class. This is my code</p>\n<pre><code>@Document(collection = &quot;Test&quot;)\npublic class Test{\n\n    @Id\n    private String id;\n\n    @Indexed(name = &quot;expire_at&quot;, expireAfter = &quot;#{${mongo.data.expire.days}}&quot;)\n    private Instant expireAt;\n}\n</code></pre>\n<p>In my properties file, I have given the days</p>\n<pre><code>mongo:\n    data:\n        expire:\n            days: 10d\n</code></pre>\n<p>I have tried giving <code>&quot;#{${mongo.data.expire.days}}&quot;</code>, <code>&quot;#{@Value(mongo.data.expire.days)}&quot;</code>, <code>&quot;${mongo.data.expire.days}&quot;</code>\nBut nothing is working.</p>\n<p>Please someone help me in this.</p>\n"},{"tags":["java","spring-boot","kotlin","junit5","spring-test"],"comments":[{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1690628307,"post_id":76790137,"comment_id":135382012,"body_markdown":"As of now it looks like my only options are using `@SpringBootTest` or create my own implementation copy that does the same thing as JwtServiceImpl.java and autowire/use that in my test class.","body":"As of now it looks like my only options are using <code>@SpringBootTest</code> or create my own implementation copy that does the same thing as JwtServiceImpl.java and autowire/use that in my test class."},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":1,"creation_date":1690629037,"post_id":76790137,"comment_id":135382093,"body_markdown":"https://github.com/thoqbk/spring-testing/blob/main/README.md","body":"<a href=\"https://github.com/thoqbk/spring-testing/blob/main/README.md\" rel=\"nofollow noreferrer\">github.com/thoqbk/spring-testing/blob/main/README.md</a>"}],"answers":[{"comments":[{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1690627696,"post_id":76791530,"comment_id":135381949,"body_markdown":"I cannot do this because JwtServiceImpl is package-private and is part of library. SpringBoot is able to call the JwtServiceImpl at runtime correctly(if I autowire JwtService interface) but I cannot manually create the bean because JwtServiceImpl is not public. only JwtService interface is public.","body":"I cannot do this because JwtServiceImpl is package-private and is part of library. SpringBoot is able to call the JwtServiceImpl at runtime correctly(if I autowire JwtService interface) but I cannot manually create the bean because JwtServiceImpl is not public. only JwtService interface is public."}],"tags":[],"owner":{"account_id":9839695,"reputation":21,"user_id":7288990,"display_name":"sohail dua"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690588499,"creation_date":1690588062,"answer_id":76791530,"question_id":76790137,"body_markdown":"You can make a custom configuration class and declare a bean for JwtService. Then you can autowired it anywhere as you like.\r\n\r\n    @Configuration\r\n    public class JwtConfiguration(){\r\n      @Bean\r\n      public JwtService jwtService(){\r\n            return new JwtServiceImpl();\r\n       }\r\n    }\r\nNow import this config anywhere you want and then JwtService is autowired!!","title":"How to Autowire a package private class in integration test without using @SpringBootTest","body":"<p>You can make a custom configuration class and declare a bean for JwtService. Then you can autowired it anywhere as you like.</p>\n<pre><code>@Configuration\npublic class JwtConfiguration(){\n  @Bean\n  public JwtService jwtService(){\n        return new JwtServiceImpl();\n   }\n}\n</code></pre>\n<p>Now import this config anywhere you want and then JwtService is autowired!!</p>\n"}],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690627499,"creation_date":1690567637,"question_id":76790137,"body_markdown":"I have a dependency/library in my application. The source code of classes from library is as below.\r\n\r\nJwtService.java interface:\r\n\r\n    package com.jwt.accesstoken;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    public interface JwtService {\r\n        CompletableFuture&lt;String&gt; jwtToken(String var1);\r\n    }\r\n\r\nJwtServiceImpl.java:\r\n\r\n    package com.jwt.accesstoken;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    class JwtServiceImpl implements JwtService {\r\n          public CompletableFuture&lt;String&gt; jwtToken(String serviceName) {\r\n              //implementation\r\n          }\r\n          ....\r\n\r\nIntegration test (JwtServiceGeneratorTest.kt):\r\n\r\n    @SpringJUnitConfig(JwtService::class)\r\n    //@SpringBootTest - this solves compilation error but takes too much time to run test\r\n    @ActiveProfiles(&quot;it-test&quot;)\r\n    class JwtServiceGeneratorTest {\r\n    \r\n        @Autowired\r\n        private lateinit var jetService: JwtService //compilation error when using @SpringJUnitConfig\r\n        ....\r\n\r\nI want to autowire `JwtService.java` in my integration test using `@SpringJUnitConfig`. And `JwtServiceImpl.java` is not public in the dependency. \r\n\r\nHow can I autowire JwtService.java (which should call `JwtServiceImpl.java` during runtime) in the integration test without using `@SpringBootTest`?\r\n\r\nIf I do `@SpringJUnitConfig(JwtService::class)` then the integration test complains that there are no beans of type JwtService.java that it can autowire. \r\nI am not able to do `@SpringJUnitConfig(JwtService::class, JwtServiceImpl::class)` because JwtServiceImpl is package-private.\r\n\r\nNote: If I use `@SpringBootTest` then the code works but it loads whole application context which is not required for this test and it takes too much time.","title":"How to Autowire a package private class in integration test without using @SpringBootTest","body":"<p>I have a dependency/library in my application. The source code of classes from library is as below.</p>\n<p>JwtService.java interface:</p>\n<pre><code>package com.jwt.accesstoken;\n\nimport java.util.concurrent.CompletableFuture;\n\npublic interface JwtService {\n    CompletableFuture&lt;String&gt; jwtToken(String var1);\n}\n</code></pre>\n<p>JwtServiceImpl.java:</p>\n<pre><code>package com.jwt.accesstoken;\n\nimport java.util.concurrent.CompletableFuture;\nimport org.springframework.stereotype.Component;\n\n@Component\nclass JwtServiceImpl implements JwtService {\n      public CompletableFuture&lt;String&gt; jwtToken(String serviceName) {\n          //implementation\n      }\n      ....\n</code></pre>\n<p>Integration test (JwtServiceGeneratorTest.kt):</p>\n<pre><code>@SpringJUnitConfig(JwtService::class)\n//@SpringBootTest - this solves compilation error but takes too much time to run test\n@ActiveProfiles(&quot;it-test&quot;)\nclass JwtServiceGeneratorTest {\n\n    @Autowired\n    private lateinit var jetService: JwtService //compilation error when using @SpringJUnitConfig\n    ....\n</code></pre>\n<p>I want to autowire <code>JwtService.java</code> in my integration test using <code>@SpringJUnitConfig</code>. And <code>JwtServiceImpl.java</code> is not public in the dependency.</p>\n<p>How can I autowire JwtService.java (which should call <code>JwtServiceImpl.java</code> during runtime) in the integration test without using <code>@SpringBootTest</code>?</p>\n<p>If I do <code>@SpringJUnitConfig(JwtService::class)</code> then the integration test complains that there are no beans of type JwtService.java that it can autowire.\nI am not able to do <code>@SpringJUnitConfig(JwtService::class, JwtServiceImpl::class)</code> because JwtServiceImpl is package-private.</p>\n<p>Note: If I use <code>@SpringBootTest</code> then the code works but it loads whole application context which is not required for this test and it takes too much time.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1655910,"reputation":11659,"user_id":1525495,"accept_rate":96,"display_name":"Jorge Fuentes Gonz&#225;lez"},"score":2,"creation_date":1690619043,"post_id":76792709,"comment_id":135381159,"body_markdown":"Just think, what happens if `l` value is `1`? Newbie tip: Try to debug your code adding breakpoints and going step by step.","body":"Just think, what happens if <code>l</code> value is <code>1</code>? Newbie tip: Try to debug your code adding breakpoints and going step by step."},{"owner":{"account_id":29115888,"reputation":13,"user_id":22304605,"display_name":"Amarnath"},"score":1,"creation_date":1690622544,"post_id":76792709,"comment_id":135381470,"body_markdown":"Thanks a lot @JorgeFuentesGonz&#225;lez  Debugged and got expected O/P","body":"Thanks a lot @JorgeFuentesGonz&#225;lez  Debugged and got expected O/P"},{"owner":{"account_id":1655910,"reputation":11659,"user_id":1525495,"accept_rate":96,"display_name":"Jorge Fuentes Gonz&#225;lez"},"score":0,"creation_date":1690636692,"post_id":76792709,"comment_id":135382986,"body_markdown":"glad you sorted it out by debugging. Is a must skill when programming ^^","body":"glad you sorted it out by debugging. Is a must skill when programming ^^"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1690636827,"post_id":76792709,"comment_id":135383011,"body_markdown":"By the way: even your comments on the problem statement are wrong: When you remove the 54, you remove the 56 as well, so the remaining list is empty not [56].","body":"By the way: even your comments on the problem statement are wrong: When you remove the 54, you remove the 56 as well, so the remaining list is empty not [56]."}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690619677,"creation_date":1690619677,"answer_id":76792753,"question_id":76792709,"body_markdown":"yes because you are not updating the value of `l` inside the while loop, which leads to an infinite loop, so you need to update the value of `l` inside each condition block where you remove elements from the `ques` list!\r\n\r\ncheck this out:\r\n\r\n    List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\r\n    int l = ques.size();\r\n    int sum = 0;\r\n    int min, index;\r\n    \r\n    while (l &gt;= 1) {\r\n      min = Collections.min(ques);\r\n      sum += min;\r\n      index = ques.indexOf(min);\r\n    \r\n      if (index == 0 &amp;&amp; l &gt; 2) {\r\n        ques.remove(index);\r\n        ques.remove(index + 1);\r\n        l -= 2;\r\n      } else if (index == 0 &amp;&amp; l == 2) {\r\n        ques.remove(index);\r\n        l--;\r\n      } else if (index != 0 &amp;&amp; l &gt; 2) {\r\n        ques.remove(index - 1);\r\n        ques.remove(index);\r\n        ques.remove(index + 1);\r\n        l -= 3;\r\n      }\r\n    }\r\n    System.out.println(sum);","title":"Optimized way to solve this ArrayList problem","body":"<p>yes because you are not updating the value of <code>l</code> inside the while loop, which leads to an infinite loop, so you need to update the value of <code>l</code> inside each condition block where you remove elements from the <code>ques</code> list!</p>\n<p>check this out:</p>\n<pre><code>List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\nint l = ques.size();\nint sum = 0;\nint min, index;\n\nwhile (l &gt;= 1) {\n  min = Collections.min(ques);\n  sum += min;\n  index = ques.indexOf(min);\n\n  if (index == 0 &amp;&amp; l &gt; 2) {\n    ques.remove(index);\n    ques.remove(index + 1);\n    l -= 2;\n  } else if (index == 0 &amp;&amp; l == 2) {\n    ques.remove(index);\n    l--;\n  } else if (index != 0 &amp;&amp; l &gt; 2) {\n    ques.remove(index - 1);\n    ques.remove(index);\n    ques.remove(index + 1);\n    l -= 3;\n  }\n}\nSystem.out.println(sum);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1690635548,"post_id":76792769,"comment_id":135382861,"body_markdown":"This is verty inefficient solution. You remove a random element from the `ArrayList`; it takes `O(n)` on each `remove()`.","body":"This is verty inefficient solution. You remove a random element from the <code>ArrayList</code>; it takes <code>O(n)</code> on each <code>remove()</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690691561,"post_id":76792769,"comment_id":135387529,"body_markdown":"You wrote in your answer: _it never changes the value of l inside the loop_ Actually it does. In each `if` condition the value of `l` is updated, namely `l-=2;` and `l--;` and `l-=3;` Did you miss those lines of code in the question?","body":"You wrote in your answer: <i>it never changes the value of l inside the loop</i> Actually it does. In each <code>if</code> condition the value of <code>l</code> is updated, namely <code>l-=2;</code> and <code>l--;</code> and <code>l-=3;</code> Did you miss those lines of code in the question?"}],"tags":[],"owner":{"account_id":21731885,"reputation":165,"user_id":16040518,"display_name":"SWARNAVA DUTTA"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690619965,"creation_date":1690619965,"answer_id":76792769,"question_id":76792709,"body_markdown":"The issue with the code is that the while loop condition is not being updated properly. It currently checks whether l is greater than or equal to 1, but it never changes the value of l inside the loop. Therefore, the loop runs indefinitely and never prints anything.\r\n\r\nTo fix the code, you can update l inside the loop based on the number of elements that are removed in each iteration. You can also simplify the if-else statements by using a single remove() call with the appropriate index.\r\n\r\nHere&#39;s the corrected code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\r\n            int sum = 0;\r\n            while (ques.size() &gt; 1) {\r\n                int min = Collections.min(ques);\r\n                sum += min;\r\n                int index = ques.indexOf(min);\r\n                if (index == 0) {\r\n                    ques.remove(index);\r\n                    ques.remove(index);\r\n                } else if (index == ques.size() - 1) {\r\n                    ques.remove(index);\r\n                    ques.remove(index - 1);\r\n                } else {\r\n                    ques.remove(index - 1);\r\n                    ques.remove(index - 1);\r\n                    ques.remove(index - 1);\r\n                }\r\n            }\r\n            if (ques.size() == 1) {\r\n                sum += ques.get(0);\r\n            }\r\n            System.out.println(sum);\r\n        }\r\n    }\r\n\r\n**OUTPUT**\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4CRwc.png","title":"Optimized way to solve this ArrayList problem","body":"<p>The issue with the code is that the while loop condition is not being updated properly. It currently checks whether l is greater than or equal to 1, but it never changes the value of l inside the loop. Therefore, the loop runs indefinitely and never prints anything.</p>\n<p>To fix the code, you can update l inside the loop based on the number of elements that are removed in each iteration. You can also simplify the if-else statements by using a single remove() call with the appropriate index.</p>\n<p>Here's the corrected code:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\n        int sum = 0;\n        while (ques.size() &gt; 1) {\n            int min = Collections.min(ques);\n            sum += min;\n            int index = ques.indexOf(min);\n            if (index == 0) {\n                ques.remove(index);\n                ques.remove(index);\n            } else if (index == ques.size() - 1) {\n                ques.remove(index);\n                ques.remove(index - 1);\n            } else {\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n            }\n        }\n        if (ques.size() == 1) {\n            sum += ques.get(0);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4CRwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CRwc.png\" alt=\"Output\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690622876,"creation_date":1690620965,"answer_id":76792830,"question_id":76792709,"body_markdown":"You have four errors in your code. (Actually you have three distinct errors since you made the same error twice.)\r\n1. After removing an element from a `List`, the list has one fewer elements and the index of each of the remaining elements is one less than what it was before the removal. Hence when you do: `ques.remove(index);`, the element that was at `index + 1` before the removal is now at `index`. You make this mistake twice.\r\n2. When the `List` has only two elements, it doesn&#39;t matter whether the minimum element (i.e. `min`) is at index 0 (zero) or at index 1 (one). You need to remove it. (Try running the code when the `List` contains only 8 and 4.)\r\n3. The `while` condition will **always** be true &amp;ndash; since the `List` will never have all its elements removed. That is why _code keep running_ &amp;ndash; it is in an infinite loop. Hence the condition should be `l &gt; 1`.\r\n\r\nIf you step through your code with a debugger and look at the contents of `ques` after each `remove` operation, you will see the first mistake in action.\r\n\r\nHere is the corrected code:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Exercise {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\r\n        int l = ques.size();\r\n        int sum = 0, min, index;\r\n        while (l &gt; 1) {\r\n            min = Collections.min(ques);\r\n            sum += min;\r\n            index = ques.indexOf(min);\r\n            if (index == 0 &amp;&amp; l &gt; 2) {\r\n                ques.remove(index);\r\n                ques.remove(index);\r\n                l -= 2;\r\n            }\r\n            else if (l == 2) {\r\n                ques.remove(index);\r\n                l--;\r\n            }\r\n            else if (index != 0 &amp;&amp; l &gt; 2) {\r\n                ques.remove(index - 1);\r\n                ques.remove(index - 1);\r\n                ques.remove(index - 1);\r\n                l -= 3;\r\n            }\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\n","title":"Optimized way to solve this ArrayList problem","body":"<p>You have four errors in your code. (Actually you have three distinct errors since you made the same error twice.)</p>\n<ol>\n<li>After removing an element from a <code>List</code>, the list has one fewer elements and the index of each of the remaining elements is one less than what it was before the removal. Hence when you do: <code>ques.remove(index);</code>, the element that was at <code>index + 1</code> before the removal is now at <code>index</code>. You make this mistake twice.</li>\n<li>When the <code>List</code> has only two elements, it doesn't matter whether the minimum element (i.e. <code>min</code>) is at index 0 (zero) or at index 1 (one). You need to remove it. (Try running the code when the <code>List</code> contains only 8 and 4.)</li>\n<li>The <code>while</code> condition will <strong>always</strong> be true – since the <code>List</code> will never have all its elements removed. That is why <em>code keep running</em> – it is in an infinite loop. Hence the condition should be <code>l &gt; 1</code>.</li>\n</ol>\n<p>If you step through your code with a debugger and look at the contents of <code>ques</code> after each <code>remove</code> operation, you will see the first mistake in action.</p>\n<p>Here is the corrected code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Exercise {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\n        int l = ques.size();\n        int sum = 0, min, index;\n        while (l &gt; 1) {\n            min = Collections.min(ques);\n            sum += min;\n            index = ques.indexOf(min);\n            if (index == 0 &amp;&amp; l &gt; 2) {\n                ques.remove(index);\n                ques.remove(index);\n                l -= 2;\n            }\n            else if (l == 2) {\n                ques.remove(index);\n                l--;\n            }\n            else if (index != 0 &amp;&amp; l &gt; 2) {\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n                l -= 3;\n            }\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690626556,"creation_date":1690626021,"answer_id":76793106,"question_id":76792709,"body_markdown":"In case you care about an optimization, do remember, that removing element from the `ArrayList` is ver inneficient. You should think about more suitable data structure like `Map`:\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    int[] arr = { 8, 4, 9, 10, 34, 54, 56 };\r\n    System.out.println(calcSum(arr));\r\n}\r\n\r\npublic static int calcSum(int[] arr) {\r\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = createMap(arr);\r\n    int sum = 0;\r\n\r\n    while (!map.isEmpty()) {\r\n        Map.Entry&lt;Integer, Set&lt;Integer&gt;&gt; min = map.entrySet().iterator().next();\r\n        sum += min.getKey();\r\n        int pos = min.getValue().iterator().next();\r\n\r\n        removeElement(pos, arr[pos], map);\r\n\r\n        if (pos &gt; 0) removeElement(pos - 1, arr[pos - 1], map);\r\n        if (pos &lt; arr.length - 1) removeElement(pos + 1, arr[pos + 1], map);\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nprivate static Map&lt;Integer, Set&lt;Integer&gt;&gt; createMap(int[] arr) {\r\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        map.computeIfAbsent(arr[i], key -&gt; new TreeSet&lt;&gt;()).add(i);\r\n    }\r\n\r\n    return map;\r\n}\r\n\r\nprivate static void removeElement(int pos,\r\n                                  int num,\r\n                                  Map&lt;Integer, Set&lt;Integer&gt;&gt; map) {\r\n    Set&lt;Integer&gt; value = map.getOrDefault(num, Set.of());\r\n\r\n    if (value.size() == 1)\r\n        map.remove(num);\r\n    else if (value.size() &gt; 1)\r\n        value.remove(pos);\r\n}\r\n```","title":"Optimized way to solve this ArrayList problem","body":"<p>In case you care about an optimization, do remember, that removing element from the <code>ArrayList</code> is ver inneficient. You should think about more suitable data structure like <code>Map</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    int[] arr = { 8, 4, 9, 10, 34, 54, 56 };\n    System.out.println(calcSum(arr));\n}\n\npublic static int calcSum(int[] arr) {\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = createMap(arr);\n    int sum = 0;\n\n    while (!map.isEmpty()) {\n        Map.Entry&lt;Integer, Set&lt;Integer&gt;&gt; min = map.entrySet().iterator().next();\n        sum += min.getKey();\n        int pos = min.getValue().iterator().next();\n\n        removeElement(pos, arr[pos], map);\n\n        if (pos &gt; 0) removeElement(pos - 1, arr[pos - 1], map);\n        if (pos &lt; arr.length - 1) removeElement(pos + 1, arr[pos + 1], map);\n    }\n\n    return sum;\n}\n\nprivate static Map&lt;Integer, Set&lt;Integer&gt;&gt; createMap(int[] arr) {\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        map.computeIfAbsent(arr[i], key -&gt; new TreeSet&lt;&gt;()).add(i);\n    }\n\n    return map;\n}\n\nprivate static void removeElement(int pos,\n                                  int num,\n                                  Map&lt;Integer, Set&lt;Integer&gt;&gt; map) {\n    Set&lt;Integer&gt; value = map.getOrDefault(num, Set.of());\n\n    if (value.size() == 1)\n        map.remove(num);\n    else if (value.size() &gt; 1)\n        value.remove(pos);\n}\n</code></pre>\n"}],"owner":{"account_id":29115888,"reputation":13,"user_id":22304605,"display_name":"Amarnath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76792769,"answer_count":4,"score":1,"last_activity_date":1690626556,"creation_date":1690618930,"question_id":76792709,"body_markdown":"list=[8,4,9,10,34,54,56]; \r\n1. Find min of list // `4`. \r\n2. remove min and its adjacent elements from list // `[8,4,9]`. \r\n3. Add min to integer variable sum. Repeat the steps again with remaining elements // `[10,34,54,56]`. \r\n4. The output is single integer sum=68 (4 + 10 + 54). // `remaining element in list is [56]`\r\n\r\nI tried in this way and this code keep running (does not print anything)\r\n**Expected output: 68**\r\n\r\n```\r\n List&lt;Integer&gt; ques=new ArrayList&lt;&gt;(Arrays.asList(8,4,9,10,34,54,56));\r\n    int l=ques.size();\r\n    int sum=0,min,index;\r\n    while(l&gt;=1){\r\n      min=Collections.min(ques);\r\n      sum+=min;\r\n      index=ques.indexOf(min);\r\n      \r\n      if(index==0 &amp;&amp; l&gt;2){\r\n        ques.remove(index);\r\n        ques.remove(index+1);\r\n        l-=2;\r\n      }\r\n      else if(index==0 &amp;&amp; l==2){\r\n        ques.remove(index);\r\n        l--;\r\n      }\r\n      else if(index!=0 &amp;&amp; l&gt;2){\r\n        ques.remove(index-1);\r\n        ques.remove(index);\r\n        ques.remove(index+1);\r\n        l-=3;\r\n      }\r\n    }\r\n    System.out.println(sum);\r\n```\r\n","title":"Optimized way to solve this ArrayList problem","body":"<p>list=[8,4,9,10,34,54,56];</p>\n<ol>\n<li>Find min of list // <code>4</code>.</li>\n<li>remove min and its adjacent elements from list // <code>[8,4,9]</code>.</li>\n<li>Add min to integer variable sum. Repeat the steps again with remaining elements // <code>[10,34,54,56]</code>.</li>\n<li>The output is single integer sum=68 (4 + 10 + 54). // <code>remaining element in list is [56]</code></li>\n</ol>\n<p>I tried in this way and this code keep running (does not print anything)\n<strong>Expected output: 68</strong></p>\n<pre><code> List&lt;Integer&gt; ques=new ArrayList&lt;&gt;(Arrays.asList(8,4,9,10,34,54,56));\n    int l=ques.size();\n    int sum=0,min,index;\n    while(l&gt;=1){\n      min=Collections.min(ques);\n      sum+=min;\n      index=ques.indexOf(min);\n      \n      if(index==0 &amp;&amp; l&gt;2){\n        ques.remove(index);\n        ques.remove(index+1);\n        l-=2;\n      }\n      else if(index==0 &amp;&amp; l==2){\n        ques.remove(index);\n        l--;\n      }\n      else if(index!=0 &amp;&amp; l&gt;2){\n        ques.remove(index-1);\n        ques.remove(index);\n        ques.remove(index+1);\n        l-=3;\n      }\n    }\n    System.out.println(sum);\n</code></pre>\n"},{"tags":["java","soap","java-8","digital-signature"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691154071,"post_id":76793125,"comment_id":135457093,"body_markdown":"You can edit your question. Don&#39;t post question details as an answer to the question.","body":"You can edit your question. Don&#39;t post question details as an answer to the question."}],"tags":[],"owner":{"account_id":5043710,"reputation":29,"user_id":4050364,"display_name":"Senses"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690626408,"creation_date":1690626408,"answer_id":76793125,"question_id":76793109,"body_markdown":"Sorry, just realized I got the NamespaceURI wrong, seems to be a bad copy-paste.\r\n\r\nThe correct Reference is:\r\n&lt;code&gt;signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://www.w3.org/2005/08/addressing&quot;, &quot;Id&quot;);&lt;/code&gt;","title":"Sign Addressing Elements on SOAP Message","body":"<p>Sorry, just realized I got the NamespaceURI wrong, seems to be a bad copy-paste.</p>\n<p>The correct Reference is:\n<code>signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://www.w3.org/2005/08/addressing&quot;, &quot;Id&quot;);</code></p>\n"}],"owner":{"account_id":5043710,"reputation":29,"user_id":4050364,"display_name":"Senses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690626408,"creation_date":1690626087,"question_id":76793109,"body_markdown":"I need to sign a SOAPMessage signing the body and the header elements (BinarySecurityToken, Timestamp, To, Action, ReplyTo, FaultTo and MessageID). The header elements are created just before the sign. I&#39;m using jdk8.\r\n\r\nThe problem I&#39;m facing is that the Addressing elements are not working as I expected.\r\nI create the SOAPElemnents this way\r\n\r\n&lt;code&gt;SOAPElement to = securityElement.addChildElement(&quot;To&quot;, &quot;wsa&quot;);\r\nto.addAttribute(soapEnvelope.createName(&quot;Id&quot;, &quot;wsa&quot;, &quot;http://www.w3.org/2005/08/addressing&quot;), &quot;To&quot;);\r\n    \tto.addTextNode(&quot;URL...&quot;);&lt;/code&gt;\r\n\r\nNext is creating the Reference\r\n\r\n&lt;code&gt;Reference refTo = xmlSignatureFactory.newReference(&quot;#To&quot;, digestMethod, transformList, null, null);\r\n&lt;/code&gt;\r\n\r\nBut when I try to make the DOMSignContext I can&#39;t set the IdAttributeNS\r\n&lt;code&gt;signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);&lt;/code&gt;\r\n\r\nThe error I&#39;m getting is:\r\n&lt;code&gt;\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Id is not an attribute\r\n\tat javax.xml.crypto.dom.DOMCryptoContext.setIdAttributeNS(DOMCryptoContext.java:204)\r\n&lt;/code&gt;\r\n\r\nAny help is welcome.\r\nThx.","title":"Sign Addressing Elements on SOAP Message","body":"<p>I need to sign a SOAPMessage signing the body and the header elements (BinarySecurityToken, Timestamp, To, Action, ReplyTo, FaultTo and MessageID). The header elements are created just before the sign. I'm using jdk8.</p>\n<p>The problem I'm facing is that the Addressing elements are not working as I expected.\nI create the SOAPElemnents this way</p>\n<p><code>SOAPElement to = securityElement.addChildElement(&quot;To&quot;, &quot;wsa&quot;);\nto.addAttribute(soapEnvelope.createName(&quot;Id&quot;, &quot;wsa&quot;, &quot;http://www.w3.org/2005/08/addressing&quot;), &quot;To&quot;);\nto.addTextNode(&quot;URL...&quot;);</code></p>\n<p>Next is creating the Reference</p>\n<p><code>Reference refTo = xmlSignatureFactory.newReference(&quot;#To&quot;, digestMethod, transformList, null, null);\n</code></p>\n<p>But when I try to make the DOMSignContext I can't set the IdAttributeNS\n<code>signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);</code></p>\n<p>The error I'm getting is:\n<code>\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Id is not an attribute\nat javax.xml.crypto.dom.DOMCryptoContext.setIdAttributeNS(DOMCryptoContext.java:204)\n</code></p>\n<p>Any help is welcome.\nThx.</p>\n"},{"tags":["java","eclipse","visualization","simulator"],"owner":{"account_id":13030498,"reputation":11,"user_id":9416991,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690625383,"creation_date":1690457251,"question_id":76779277,"body_markdown":"I am utilizing the XYChart library in Java to receive real-time data via a socket connection, dynamically visualizing three point curves on the chart. However, I have a specific requirement to modify the second point curve and display it as a connected line while keeping the other two curves unchanged. Despite the XYChart library automatically handling the positioning of the points to create three curves, I am seeking a way to customize the visualization of the second curve by converting it into a connected line.\r\n\r\nI am unable to identify the mid curve because XYChart visualize shape dynamically. Is it better way to apply k-means algorithm to separate all near-by points and then identify mid curve to update it?? \r\n\r\n\r\n```/**\r\n * \r\n */\r\n/**\r\n * \r\n */\r\npackage flta.plotting;\r\n\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingConstants;\r\n\r\nimport org.knowm.xchart.BitmapEncoder;\r\nimport org.knowm.xchart.BitmapEncoder.BitmapFormat;\r\nimport org.knowm.xchart.QuickChart;\r\nimport org.knowm.xchart.SwingWrapper;\r\nimport org.knowm.xchart.XChartPanel;\r\nimport org.knowm.xchart.XYChart;\r\nimport org.knowm.xchart.XYChartBuilder;\r\nimport org.knowm.xchart.XYSeries;\r\nimport org.knowm.xchart.XYSeries.XYSeriesRenderStyle;\r\nimport org.knowm.xchart.style.Styler.LegendPosition;\r\nimport org.knowm.xchart.style.markers.SeriesMarkers;\r\n\r\n/**\r\n * @author Mo\r\n *\r\n */\r\npublic class Main {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tpublic Main() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t * @throws InterruptedException \r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\t////////////////////////////////////////\r\n\t\t//Declare socket variables and establish the connection\r\n\t\tServerSocket serverSocket = null; \r\n\t\tSocket clientSocket = null;\r\n\t\t \r\n\t\ttry {\r\n\t\t\tserverSocket = new ServerSocket(5001); // 4447 is port number\r\n\t\t\tclientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \r\n\t\t\tSystem.out.println(&quot;Connection Accepted&quot;);\r\n\t\t}catch (Exception e) {\r\n\t    \tSystem.out.println(&quot;IOException&quot;);\r\n\t    }\r\n\t\t\r\n\t\t\r\n//\t\t//Write to the socket: \r\n//\t\tBufferedWriter wr = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream())); \r\n//\t\twr.write(&quot;My Messages!&quot;);\r\n//\t\twr.flush(); // flushes the stream\r\n\t\t\r\n\t\tdouble[] xData;\r\n\t    double[] yData;\r\n\t    xData = new double[] { 0.0, 9000.0 };\r\n\t\tyData = new double[] { 0.0 ,0.0};\r\n\t\tdouble[][] initdata = {xData, yData};\r\n    \t// Create Chart\r\n//\t    final XYChart chart =\r\n//\t        QuickChart.getChart(\r\n//\t            &quot;Predicted Path&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;y(x)&quot;, initdata[0], initdata[1]);\r\n\t\tXYChart chart = new XYChartBuilder().width(800).height(800).title(&quot;Horizontal View&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\r\n\t\tXYChart chart2 = new XYChartBuilder().width(800).height(800).title(&quot;Vertical Clearance&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\r\n\t    chart.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\r\n\t    chart.getStyler().setChartTitleVisible(false);\r\n\t    chart.getStyler().setMarkerSize(6);\r\n\t    chart.getStyler().setXAxisMax(2000.0);\r\n\t    chart.getStyler().setYAxisMax(2000.0);\r\n\t    chart.getStyler().setXAxisMin(-2000.0);\r\n\t    chart.getStyler().setYAxisMin(-2000.0);\r\n\t    \r\n\t    //chart2.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\r\n\t    chart2.getStyler().setChartTitleVisible(false);\r\n\t    chart2.getStyler().setMarkerSize(6);\r\n\t    chart2.getStyler().setXAxisMax(1500.0);\r\n\t    chart2.getStyler().setYAxisMax(1000.0);\r\n\t    chart.getStyler().setXAxisMin(-3000.0);\r\n\t    chart.getStyler().setYAxisMin(-1000.0);\r\n\t    chart2.getStyler().setAxisTicksLineVisible(true);\r\n\t    \r\n\t    XYSeries series = chart.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\r\n\t    series.setMarker(SeriesMarkers.CIRCLE);\r\n\t    \r\n\t    XYSeries series2 = chart2.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\r\n\t    series2.setMarker(SeriesMarkers.CIRCLE);\r\n\t    \r\n\t    XYSeries series3 = chart2.addSeries(&quot;ground&quot;, initdata[0], initdata[1]);\r\n\t    series3.setMarker(SeriesMarkers.DIAMOND);\r\n\t    series3.setLineColor(Color.red);\r\n\t    series3.setXYSeriesRenderStyle(XYSeriesRenderStyle.Step);\r\n\r\n\t    \r\n\t    // Show it\r\n\t    final SwingWrapper&lt;XYChart&gt; sw = new SwingWrapper&lt;XYChart&gt;(chart);\r\n\t    final SwingWrapper&lt;XYChart&gt; sw2 = new SwingWrapper&lt;XYChart&gt;(chart2);\r\n\t    sw.displayChart();\r\n\t    sw2.displayChart();\r\n\t\t//Read from the socket\r\n\t\tString inputLine; \r\n\t\tSystem.out.println(&quot;Reading&quot;);\r\n\t\tdouble PlanePosX=0;\r\n\t\tdouble PlanePosY=0;\r\n\t\tint j=1;\r\n\t\tString[] points;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); \r\n\t\t\t\twhile((inputLine = in.readLine()) != null){\r\n\t\t\t\t    System.out.println(inputLine);\r\n\t\t\t\t\tif (inputLine.equals(&quot;env&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinputLine = in.readLine();\r\n\t\t\t\t\t\tpoints=inputLine.split(&quot;,&quot;);\r\n\t\t\t\t\t\txData=new double[points.length];\r\n\t\t\t\t\t    yData=new double[points.length];\r\n\t\t\t\t\t    for(int i=0; i&lt;points.length; i++)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t    \tString[] PointsSplit=points[i].split(&quot; &quot;);\r\n\t\t\t\t\t    \txData[i]=Double.parseDouble(PointsSplit[0]);\r\n\t\t\t\t\t    \tyData[i]=Double.parseDouble(PointsSplit[1]);\r\n\t\t\t\t\t    \tSystem.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t\tchart2.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw2.repaintChart();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tpoints=inputLine.split(&quot;,&quot;);\r\n\t\t\t\t\t    xData=new double[points.length];\r\n\t\t\t\t\t    yData=new double[points.length];\r\n\t\t\t\t\t    double[] zData=new double[points.length];\r\n\t\t\t\t\t    double[] distanceData=new double[points.length];\r\n\t\t\t\t\t    for(int i=0; i&lt;points.length; i++)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \tString[] PointsSplit=points[i].split(&quot; &quot;);\r\n\t\t\t\t\t    \tif (i==0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tPlanePosX=Double.parseDouble(PointsSplit[0]);\r\n\t\t\t\t\t\t\t\tPlanePosY=Double.parseDouble(PointsSplit[1]);\r\n\t\t\t\t\t\t\t\t//System.out.println(&quot;Center &quot;+PlanePosX+&quot; , &quot;+PlanePosY+&quot;;&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t    \txData[i]=Double.parseDouble(PointsSplit[0])-PlanePosX;\r\n\t\t\t\t\t    \tyData[i]=Double.parseDouble(PointsSplit[1])-PlanePosY;\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \tzData[i]=Double.parseDouble(PointsSplit[2]);\r\n\t\t\t\t\t    \tdistanceData[i]=Double.parseDouble(PointsSplit[3]);\r\n\t\t\t\t\t    \t//System.out.println(&quot;result of: &quot;+PointsSplit[0]+&quot; , &quot;+PlanePosX+&quot;;&quot;);\r\n\t\t\t\t\t    \tSystem.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    chart.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw.repaintChart();\r\n\t\t\t\t\t    //plot the elevation\r\n\t\t\t\t\t    chart2.updateXYSeries(&quot;ground&quot;, distanceData, zData, null); sw2.repaintChart();\r\n\t\t\t\t\t}\r\n\t\t\t\t    \r\n\t\t\t\t\r\n\t\t\t\t\tif (clientSocket.isInputShutdown())\r\n\t\t\t\t\t\tSystem.out.println(&quot;Exception&quot;);\r\n\t\t\t\t\t//isReachable(null,0,200);\r\n\t\t\t\t}\r\n\t\t\t}catch (SocketException ei) {\r\n\t\t    \tSystem.out.println(&quot;Connection Lost&quot;);\r\n\t\t    \ttry {\r\n\t\t    \t\tserverSocket.close();\r\n\t\t    \t\tclientSocket.close();\r\n\t\t\t\t\tserverSocket = new ServerSocket(5001); // 4447 is port number\r\n\t\t\t\t\tclientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \r\n\t\t\t\t\tSystem.out.println(&quot;Connection Accepted&quot;);\r\n\t\t\t\t}catch (Exception e) {\r\n\t\t\t    \tSystem.out.println(&quot;IOException&quot;);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\tcatch (Exception e) {\r\n\t\t    \tSystem.out.println(&quot;Other Things&quot;);\r\n\t\t    \te.printStackTrace();\r\n\t\t    \tcontinue;\r\n\t\t    }\r\n\t\t}\r\n\t\t///////////////////////////////////////\r\n\t\t\r\n\t    \r\n\t}\r\n\r\n\t private static double[][] getSineData(double phase) {\r\n\r\n\t\t    double[] xData = new double[100];\r\n\t\t    double[] yData = new double[100];\r\n\t\t    for (int i = 0; i &lt; xData.length; i++) {\r\n\t\t      double radians = phase + (2 * Math.PI / xData.length * i);\r\n\t\t      xData[i] = radians;\r\n\t\t      yData[i] = Math.sin(radians);\r\n\t\t    }\r\n\t\t    return new double[][] {xData, yData};\r\n\t\t  }\r\n}\r\n\r\n```","title":"Real-time Data Visualization with XYChart Library","body":"<p>I am utilizing the XYChart library in Java to receive real-time data via a socket connection, dynamically visualizing three point curves on the chart. However, I have a specific requirement to modify the second point curve and display it as a connected line while keeping the other two curves unchanged. Despite the XYChart library automatically handling the positioning of the points to create three curves, I am seeking a way to customize the visualization of the second curve by converting it into a connected line.</p>\n<p>I am unable to identify the mid curve because XYChart visualize shape dynamically. Is it better way to apply k-means algorithm to separate all near-by points and then identify mid curve to update it??</p>\n<pre><code> * \n */\n/**\n * \n */\npackage flta.plotting;\n\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.concurrent.TimeUnit;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingConstants;\n\nimport org.knowm.xchart.BitmapEncoder;\nimport org.knowm.xchart.BitmapEncoder.BitmapFormat;\nimport org.knowm.xchart.QuickChart;\nimport org.knowm.xchart.SwingWrapper;\nimport org.knowm.xchart.XChartPanel;\nimport org.knowm.xchart.XYChart;\nimport org.knowm.xchart.XYChartBuilder;\nimport org.knowm.xchart.XYSeries;\nimport org.knowm.xchart.XYSeries.XYSeriesRenderStyle;\nimport org.knowm.xchart.style.Styler.LegendPosition;\nimport org.knowm.xchart.style.markers.SeriesMarkers;\n\n/**\n * @author Mo\n *\n */\npublic class Main {\n\n    /**\n     * \n     */\n    public Main() {\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @param args\n     * @throws IOException \n     * @throws InterruptedException \n     */\n    public static void main(String[] args) {\n    \n        ////////////////////////////////////////\n        //Declare socket variables and establish the connection\n        ServerSocket serverSocket = null; \n        Socket clientSocket = null;\n         \n        try {\n            serverSocket = new ServerSocket(5001); // 4447 is port number\n            clientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \n            System.out.println(&quot;Connection Accepted&quot;);\n        }catch (Exception e) {\n            System.out.println(&quot;IOException&quot;);\n        }\n        \n        \n//      //Write to the socket: \n//      BufferedWriter wr = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream())); \n//      wr.write(&quot;My Messages!&quot;);\n//      wr.flush(); // flushes the stream\n        \n        double[] xData;\n        double[] yData;\n        xData = new double[] { 0.0, 9000.0 };\n        yData = new double[] { 0.0 ,0.0};\n        double[][] initdata = {xData, yData};\n        // Create Chart\n//      final XYChart chart =\n//          QuickChart.getChart(\n//              &quot;Predicted Path&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;y(x)&quot;, initdata[0], initdata[1]);\n        XYChart chart = new XYChartBuilder().width(800).height(800).title(&quot;Horizontal View&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\n        XYChart chart2 = new XYChartBuilder().width(800).height(800).title(&quot;Vertical Clearance&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\n        chart.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\n        chart.getStyler().setChartTitleVisible(false);\n        chart.getStyler().setMarkerSize(6);\n        chart.getStyler().setXAxisMax(2000.0);\n        chart.getStyler().setYAxisMax(2000.0);\n        chart.getStyler().setXAxisMin(-2000.0);\n        chart.getStyler().setYAxisMin(-2000.0);\n        \n        //chart2.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\n        chart2.getStyler().setChartTitleVisible(false);\n        chart2.getStyler().setMarkerSize(6);\n        chart2.getStyler().setXAxisMax(1500.0);\n        chart2.getStyler().setYAxisMax(1000.0);\n        chart.getStyler().setXAxisMin(-3000.0);\n        chart.getStyler().setYAxisMin(-1000.0);\n        chart2.getStyler().setAxisTicksLineVisible(true);\n        \n        XYSeries series = chart.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\n        series.setMarker(SeriesMarkers.CIRCLE);\n        \n        XYSeries series2 = chart2.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\n        series2.setMarker(SeriesMarkers.CIRCLE);\n        \n        XYSeries series3 = chart2.addSeries(&quot;ground&quot;, initdata[0], initdata[1]);\n        series3.setMarker(SeriesMarkers.DIAMOND);\n        series3.setLineColor(Color.red);\n        series3.setXYSeriesRenderStyle(XYSeriesRenderStyle.Step);\n\n        \n        // Show it\n        final SwingWrapper&lt;XYChart&gt; sw = new SwingWrapper&lt;XYChart&gt;(chart);\n        final SwingWrapper&lt;XYChart&gt; sw2 = new SwingWrapper&lt;XYChart&gt;(chart2);\n        sw.displayChart();\n        sw2.displayChart();\n        //Read from the socket\n        String inputLine; \n        System.out.println(&quot;Reading&quot;);\n        double PlanePosX=0;\n        double PlanePosY=0;\n        int j=1;\n        String[] points;\n        while (true)\n        {\n            try {\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); \n                while((inputLine = in.readLine()) != null){\n                    System.out.println(inputLine);\n                    if (inputLine.equals(&quot;env&quot;))\n                    {\n                        inputLine = in.readLine();\n                        points=inputLine.split(&quot;,&quot;);\n                        xData=new double[points.length];\n                        yData=new double[points.length];\n                        for(int i=0; i&lt;points.length; i++)\n                        {\n                            String[] PointsSplit=points[i].split(&quot; &quot;);\n                            xData[i]=Double.parseDouble(PointsSplit[0]);\n                            yData[i]=Double.parseDouble(PointsSplit[1]);\n                            System.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\n                        }\n                        chart2.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw2.repaintChart();\n                    }else {\n                        points=inputLine.split(&quot;,&quot;);\n                        xData=new double[points.length];\n                        yData=new double[points.length];\n                        double[] zData=new double[points.length];\n                        double[] distanceData=new double[points.length];\n                        for(int i=0; i&lt;points.length; i++)\n                        {\n                            \n                            String[] PointsSplit=points[i].split(&quot; &quot;);\n                            if (i==0)\n                            {\n                                PlanePosX=Double.parseDouble(PointsSplit[0]);\n                                PlanePosY=Double.parseDouble(PointsSplit[1]);\n                                //System.out.println(&quot;Center &quot;+PlanePosX+&quot; , &quot;+PlanePosY+&quot;;&quot;);\n                            }\n                            xData[i]=Double.parseDouble(PointsSplit[0])-PlanePosX;\n                            yData[i]=Double.parseDouble(PointsSplit[1])-PlanePosY;\n                            \n                            zData[i]=Double.parseDouble(PointsSplit[2]);\n                            distanceData[i]=Double.parseDouble(PointsSplit[3]);\n                            //System.out.println(&quot;result of: &quot;+PointsSplit[0]+&quot; , &quot;+PlanePosX+&quot;;&quot;);\n                            System.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\n                        }\n                        chart.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw.repaintChart();\n                        //plot the elevation\n                        chart2.updateXYSeries(&quot;ground&quot;, distanceData, zData, null); sw2.repaintChart();\n                    }\n                    \n                \n                    if (clientSocket.isInputShutdown())\n                        System.out.println(&quot;Exception&quot;);\n                    //isReachable(null,0,200);\n                }\n            }catch (SocketException ei) {\n                System.out.println(&quot;Connection Lost&quot;);\n                try {\n                    serverSocket.close();\n                    clientSocket.close();\n                    serverSocket = new ServerSocket(5001); // 4447 is port number\n                    clientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \n                    System.out.println(&quot;Connection Accepted&quot;);\n                }catch (Exception e) {\n                    System.out.println(&quot;IOException&quot;);\n                }\n            }\n            catch (Exception e) {\n                System.out.println(&quot;Other Things&quot;);\n                e.printStackTrace();\n                continue;\n            }\n        }\n        ///////////////////////////////////////\n        \n        \n    }\n\n     private static double[][] getSineData(double phase) {\n\n            double[] xData = new double[100];\n            double[] yData = new double[100];\n            for (int i = 0; i &lt; xData.length; i++) {\n              double radians = phase + (2 * Math.PI / xData.length * i);\n              xData[i] = radians;\n              yData[i] = Math.sin(radians);\n            }\n            return new double[][] {xData, yData};\n          }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1571744123,"post_id":58503345,"comment_id":103335138,"body_markdown":"Hint: what does your method do for the string &quot;this isn&#39;t a number&quot; and what do you think it should do?","body":"Hint: what does your method do for the string &quot;this isn&#39;t a number&quot; and what do you think it should do?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1571744131,"post_id":58503345,"comment_id":103335142,"body_markdown":"how does your getNumber method react if I pass &quot;123456785554548884545412212558454545&quot; ? or if I pass &quot;aa&quot; ?","body":"how does your getNumber method react if I pass &quot;123456785554548884545412212558454545&quot; ? or if I pass &quot;aa&quot; ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1571744554,"post_id":58503345,"comment_id":103335387,"body_markdown":"Do you have any evidence that Integer.parseInt is affecting the overall performance of your program?  Due to Java’s runtime optimization, a benchmark is not as simple as just printing out the time before and after execution.","body":"Do you have any evidence that Integer.parseInt is affecting the overall performance of your program?  Due to Java’s runtime optimization, a benchmark is not as simple as just printing out the time before and after execution."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1571744641,"post_id":58503345,"comment_id":103335435,"body_markdown":"@JonSkeet in my case It will always receive numeric value for my method, but yeah I check that it will compute hex associated for that char if, any of those value pass to getNumber method, But if we pass only numeric value then which method will best to use ?","body":"@JonSkeet in my case It will always receive numeric value for my method, but yeah I check that it will compute hex associated for that char if, any of those value pass to getNumber method, But if we pass only numeric value then which method will best to use ?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1571744689,"post_id":58503345,"comment_id":103335467,"body_markdown":"@Simmant does it really matter? There are way slower parts in your code than parsing a `String` to an `int`. You&#39;re micro-optimizing something that is irrelevant to the speed of your program. As you&#39;re a beginner, you should concentrate on correctness instead of speed.","body":"@Simmant does it really matter? There are way slower parts in your code than parsing a <code>String</code> to an <code>int</code>. You&#39;re micro-optimizing something that is irrelevant to the speed of your program. As you&#39;re a beginner, you should concentrate on correctness instead of speed."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1571744706,"post_id":58503345,"comment_id":103335476,"body_markdown":"@VGR please check test result which I posted in my method.","body":"@VGR please check test result which I posted in my method."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1571744891,"post_id":58503345,"comment_id":103335568,"body_markdown":"@Simmant: So you&#39;ve written your own code which will silently give invalid results rather than throw an exception on error... you&#39;ve got more code to maintain, and it&#39;s more error-prone. Sometimes that *might* be appropriate - but only when you&#39;ve proven that integer parsing is actually a bottleneck in your application. Have you proven that yet?","body":"@Simmant: So you&#39;ve written your own code which will silently give invalid results rather than throw an exception on error... you&#39;ve got more code to maintain, and it&#39;s more error-prone. Sometimes that <i>might</i> be appropriate - but only when you&#39;ve proven that integer parsing is actually a bottleneck in your application. Have you proven that yet?"},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":1,"creation_date":1571744979,"post_id":58503345,"comment_id":103335620,"body_markdown":"@Kayaman, I agree for one case but what if we have more then 1000 places where we are using same method, because application where I m working on I seen more then 1000 calls for this method. And that&#39;s reason I m looking for it&#39;s optimizing.","body":"@Kayaman, I agree for one case but what if we have more then 1000 places where we are using same method, because application where I m working on I seen more then 1000 calls for this method. And that&#39;s reason I m looking for it&#39;s optimizing."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1571745585,"post_id":58503345,"comment_id":103335965,"body_markdown":"@Simmant just because you&#39;ve seen 1000 calls, doesn&#39;t make it a performance hotspot. You would need to use a profiler to see what parts can be improved, instead of guessing. If you have 1000 calls that take 22000 nanoseconds, it&#39;s nothing compared to 10 calls that take 10 seconds. It&#39;s the overall performance that matters.","body":"@Simmant just because you&#39;ve seen 1000 calls, doesn&#39;t make it a performance hotspot. You would need to use a profiler to see what parts can be improved, instead of guessing. If you have 1000 calls that take 22000 nanoseconds, it&#39;s nothing compared to 10 calls that take 10 seconds. It&#39;s the overall performance that matters."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1574143073,"post_id":58503345,"comment_id":104115606,"body_markdown":"@JonSkeet sorry for delay in response, I tried gathering possible details for application with sampler and profiler option available with JDK in built tool Jvisualvm. But when I hit profiler it won&#39;t working due my system configuration, so I try with sampler option and that gave meruntime details about classes, memory consumption, cpu utilization etc but method information is not available with sampler option.","body":"@JonSkeet sorry for delay in response, I tried gathering possible details for application with sampler and profiler option available with JDK in built tool Jvisualvm. But when I hit profiler it won&#39;t working due my system configuration, so I try with sampler option and that gave meruntime details about classes, memory consumption, cpu utilization etc but method information is not available with sampler option."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1574143236,"post_id":58503345,"comment_id":104115670,"body_markdown":"And I found Integer in top classes list when I run my testbed for application, but I m not able get information for respective method.","body":"And I found Integer in top classes list when I run my testbed for application, but I m not able get information for respective method."}],"answers":[{"comments":[{"owner":{"account_id":2781542,"reputation":7492,"user_id":2393994,"display_name":"John Moore"},"score":0,"creation_date":1700403256,"post_id":58503497,"comment_id":136647514,"body_markdown":"As an aside, sometimes `Integer.parseUnsignedInt()` can be preferable.  For example, if you want to set every bit to `1`, then `Integer.parseInt(&quot;FFFFFFFF&quot;, 16)` will throw a `NumberFormatException`, but `Integer.parseUnsignedInt(&quot;FFFFFFFF&quot;, 16)` will return the desired value of `-1`.","body":"As an aside, sometimes <code>Integer.parseUnsignedInt()</code> can be preferable.  For example, if you want to set every bit to <code>1</code>, then <code>Integer.parseInt(&quot;FFFFFFFF&quot;, 16)</code> will throw a <code>NumberFormatException</code>, but <code>Integer.parseUnsignedInt(&quot;FFFFFFFF&quot;, 16)</code> will return the desired value of <code>-1</code>."}],"tags":[],"owner":{"account_id":3343357,"reputation":1927,"user_id":2809078,"display_name":"ggovan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571744515,"creation_date":1571744515,"answer_id":58503497,"question_id":58503345,"body_markdown":"[`parseInt`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int)) is the way to go. The [Integer documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(java.lang.String)) says\r\n\r\n&gt; Use parseInt(String) to convert a string to a int primitive, or use valueOf(String) to convert a string to an Integer object.\r\n\r\n`parseInt` is likely to cover a lot of edge cases that you haven&#39;t considered with your own code. It has been well tested in production by a lot of users.","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>parseInt</code></a> is the way to go. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">Integer documentation</a> says</p>\n\n<blockquote>\n  <p>Use parseInt(String) to convert a string to a int primitive, or use valueOf(String) to convert a string to an Integer object.</p>\n</blockquote>\n\n<p><code>parseInt</code> is likely to cover a lot of edge cases that you haven't considered with your own code. It has been well tested in production by a lot of users.</p>\n"},{"tags":[],"owner":{"account_id":1826979,"reputation":1512,"user_id":1659409,"display_name":"Bert Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571744523,"creation_date":1571744523,"answer_id":58503501,"question_id":58503345,"body_markdown":"I invite you [to look at the source code of the parseInt function](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Integer.java#l532). Your na&#239;ve function is faster, but it also does way less. Edge cases, such as the number being to large to fit into an `int` or not even being a number at all, will produce undetectable bogus results with your simple function.\r\n\r\nIt is better to just trust that the language designers have done their job and have produced a reasonably fast implementation of parsing integers. Real optimization is probably elsewhere.","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>I invite you <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Integer.java#l532\" rel=\"nofollow noreferrer\">to look at the source code of the parseInt function</a>. Your naïve function is faster, but it also does way less. Edge cases, such as the number being to large to fit into an <code>int</code> or not even being a number at all, will produce undetectable bogus results with your simple function.</p>\n\n<p>It is better to just trust that the language designers have done their job and have produced a reasonably fast implementation of parsing integers. Real optimization is probably elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":25200787,"reputation":1,"user_id":19039678,"display_name":"Asen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651766928,"creation_date":1651766928,"answer_id":72130374,"question_id":58503345,"body_markdown":"I thinks you should follow the language designers said, as we know that, if use the getNumber method, it can&#39;t detect error when the string don&#39;t contain a number character.\r\nalso can see [convert-string-to-int][1]\r\n\r\n\r\n  [1]: https://www.asenview.com/convert-string-to-int-in-java/","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>I thinks you should follow the language designers said, as we know that, if use the getNumber method, it can't detect error when the string don't contain a number character.\nalso can see <a href=\"https://www.asenview.com/convert-string-to-int-in-java/\" rel=\"nofollow noreferrer\">convert-string-to-int</a></p>\n"},{"tags":[],"owner":{"account_id":6123562,"reputation":1,"user_id":4776301,"display_name":"Umesh Kumar Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690623132,"creation_date":1690623132,"answer_id":76792940,"question_id":58503345,"body_markdown":"We can use below java 8 code to convert a string to integer\r\n\r\n    String str33 =&quot;1234&quot;;\r\n    int xxuu = Stream.of(str33).map(Integer::valueOf).findAny().get();\r\n    int xxuu = Stream.of(str33).map(Integer::parseInt).findAny().get();\r\n\r\n\r\n","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>We can use below java 8 code to convert a string to integer</p>\n<pre><code>String str33 =&quot;1234&quot;;\nint xxuu = Stream.of(str33).map(Integer::valueOf).findAny().get();\nint xxuu = Stream.of(str33).map(Integer::parseInt).findAny().get();\n</code></pre>\n"}],"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6989,"favorite_count":0,"down_vote_count":11,"up_vote_count":1,"answer_count":4,"score":-10,"last_activity_date":1690623132,"creation_date":1571744034,"question_id":58503345,"body_markdown":"We normally use Integer.parseInt method for `String` to `Integer` conversion in `JAVA`, but when I check the implementation of parseInt method it goes way deep that I think initially. Below I m sharing how deep parseInt goes:\r\n\r\n    Integer.parseInt(String s) -&gt;  Integer.parseInt(String s, int radix) -&gt;  Character.digit(char ch, int radix) -&gt; Character.digit(int codePoint, int radix) -&gt; (Based on instance call will go to digit(int ch, int radix))\r\nNote: There are total 7 different Instance define for CharacterData, and one of them will peak for digit.\r\n\r\nAs per above details it&#39;s look like ParseInt is not that easy what it look initially, so will it be not best to convert String to Integer?\r\n\r\nHowever, I followed one discussion (link I lost at moment) and found below method which is pretty fast in terms of performance.\r\n\r\n     static int getNumber(String number){\r\n    \t \r\n    \t int result = 0;\r\n    \t int startIndex = 0;\r\n    \t\r\n    \t \r\n    \t for(int i=startIndex;i&lt;number.length();i++){\r\n    \t\t result = result*10+number.charAt(i)-&#39;0&#39;;\r\n    \t }\r\n    \t \r\n    \t \r\n    \t \r\n\t\treturn result;\r\n\t}\r\n\r\nand below is the performance test result which I found for both methods.\r\n\r\n     Value :123456789 , Integer-&gt;parseInt Converted in 22000 nanosec.\r\n     Value :123456789 , getNumber Converted in 5000 nanosec.\r\n\r\n\r\nSo what will be the best way to convert String to Integer, Integer.parseInt or &lt;custom&gt;getNumber method ?","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>We normally use Integer.parseInt method for <code>String</code> to <code>Integer</code> conversion in <code>JAVA</code>, but when I check the implementation of parseInt method it goes way deep that I think initially. Below I m sharing how deep parseInt goes:</p>\n\n<pre><code>Integer.parseInt(String s) -&gt;  Integer.parseInt(String s, int radix) -&gt;  Character.digit(char ch, int radix) -&gt; Character.digit(int codePoint, int radix) -&gt; (Based on instance call will go to digit(int ch, int radix))\n</code></pre>\n\n<p>Note: There are total 7 different Instance define for CharacterData, and one of them will peak for digit.</p>\n\n<p>As per above details it's look like ParseInt is not that easy what it look initially, so will it be not best to convert String to Integer?</p>\n\n<p>However, I followed one discussion (link I lost at moment) and found below method which is pretty fast in terms of performance.</p>\n\n<pre><code> static int getNumber(String number){\n\n     int result = 0;\n     int startIndex = 0;\n\n\n     for(int i=startIndex;i&lt;number.length();i++){\n         result = result*10+number.charAt(i)-'0';\n     }\n\n\n\n    return result;\n}\n</code></pre>\n\n<p>and below is the performance test result which I found for both methods.</p>\n\n<pre><code> Value :123456789 , Integer-&gt;parseInt Converted in 22000 nanosec.\n Value :123456789 , getNumber Converted in 5000 nanosec.\n</code></pre>\n\n<p>So what will be the best way to convert String to Integer, Integer.parseInt or getNumber method ?</p>\n"},{"tags":["java","spring-boot","spring-mvc","parallel-processing","fork-join"],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690623116,"creation_date":1690623116,"answer_id":76792939,"question_id":73059171,"body_markdown":"We want to process the query result as soon as it is available so `thenApply`.Here the thread querying database might immediately work on data transformation unlike in approaches mentioned, and finally the partailResult of the query could be merged in one reduce operation.\r\n```\r\n    public static void service() {\r\n        //myRequest.getMyFilterList()\r\n        List&lt;Integer&gt; inputList = Arrays.asList(1, 2, 3);\r\n\r\n        List&lt;CompletableFuture&lt;PartialResultTransformed&gt;&gt; partialProcessedResult = inputList.stream()\r\n                .map(input -&gt; CompletableFuture.supplyAsync(() -&gt; repository.query(input)))\r\n                .map(future -&gt; future.thenApply(queryResult -&gt; datatransformer.transform(queryResult)))\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;PartialResultTransformed&gt; allPartialResult = partialProcessedResult.stream()\r\n                .map(CompletableFuture::join) //todo:handle exception scenario\r\n                .collect(Collectors.toList());\r\n\r\n        // final transformation of partial results\r\n        //mergePartailResults;\r\n       /* allPartialResult.stream()\r\n                        .reduce();*/\r\n    }\r\n```","title":"Sequential processing of multi-threaded results","body":"<p>We want to process the query result as soon as it is available so <code>thenApply</code>.Here the thread querying database might immediately work on data transformation unlike in approaches mentioned, and finally the partailResult of the query could be merged in one reduce operation.</p>\n<pre><code>    public static void service() {\n        //myRequest.getMyFilterList()\n        List&lt;Integer&gt; inputList = Arrays.asList(1, 2, 3);\n\n        List&lt;CompletableFuture&lt;PartialResultTransformed&gt;&gt; partialProcessedResult = inputList.stream()\n                .map(input -&gt; CompletableFuture.supplyAsync(() -&gt; repository.query(input)))\n                .map(future -&gt; future.thenApply(queryResult -&gt; datatransformer.transform(queryResult)))\n                .collect(Collectors.toList());\n\n        List&lt;PartialResultTransformed&gt; allPartialResult = partialProcessedResult.stream()\n                .map(CompletableFuture::join) //todo:handle exception scenario\n                .collect(Collectors.toList());\n\n        // final transformation of partial results\n        //mergePartailResults;\n       /* allPartialResult.stream()\n                        .reduce();*/\n    }\n</code></pre>\n"}],"owner":{"account_id":12953071,"reputation":97,"user_id":10379137,"display_name":"t.ry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690623116,"creation_date":1658360088,"question_id":73059171,"body_markdown":"I am setting up a Spring Boot application (*DAO* pattern with `@Repositories`) where I am attempting to write a `@Service` to asynchronously pull data from a database in multiple threads and merge-process the incoming payloads sequentially, preferably on arrival.\r\n\r\nThe goal is to utilize parallel database access for requests where multiple non-overlapping sets of filter conditions need to be queried individually, but post-processed (transformed, e.g. aggregated) into a combined result.\r\n\r\nBeing rather new to Java, and coming from Golang and its comparably trivial syntax for multi-threading and task-communication, I struggle to identify a preferable API in Java and Spring Boot - or determine if this approach is even favorable to begin with.\r\n\r\n___\r\n&lt;h3&gt;Question:&lt;/h3&gt;\r\n\r\nGiven\r\n- a **Controller**:\r\n\r\n  ```\r\n  @RestController\r\n  @RequestMapping(&quot;/api&quot;)\r\n  public class MyController {\r\n\r\n    private final MyService myService;\r\n\r\n    @Autowired\r\n    public MyController(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n\r\n    @PostMapping(&quot;/processing&quot;)\r\n    public DeferredResult&lt;MyResult&gt; myHandler(@RequestBody MyRequest myRequest) {\r\n        DeferredResult&lt;MyResult&gt; myDeferredResult = new DeferredResult&lt;&gt;();\r\n        myService.myProcessing(myRequest, myDeferredResult);\r\n\r\n        return myDeferredResult;\r\n  }\r\n  ```\r\n- a **Service**:\r\n\r\n  ```\r\n  import com.acme.parallel.util.MyDataTransformer\r\n\r\n  @Service\r\n  public class MyServiceImpl implementing MyService {\r\n\r\n    private final MyRepository myRepository;\r\n\r\n    @Autowired\r\n    public MyService(MyRepository myRepository) {\r\n        this.myRepository = myRepository;\r\n    }\r\n\r\n    public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n      MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n\r\n      /* PLACEHOLDER CODE\r\n      for (MyFilter myFilter : myRequest.getMyFilterList()) {\r\n        // MyPartialResult myPartialResult = myRepository.myAsyncQuery(myFilter);\r\n\r\n        // myDataTransformer.transformMyPartialResult(myPartialResult);\r\n      }\r\n      */\r\n      \r\n      myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n    }\r\n  }\r\n  ```\r\n- a **Repository**:\r\n  ```\r\n  @Repository\r\n  public class MyRepository {\r\n  \r\n    public MyPartialResult myAsyncQuery(MyFilter myFilter) {\r\n      // for the sake of an example\r\n      return new MyPartialResult(myFilter, TakesSomeAmountOfTimeToQUery.TRUE);\r\n    }\r\n  }\r\n  ```\r\n- as well as a **MyDataTransformer** helper class:\r\n  ```\r\n  public class MyDataTransformer {\r\n   \r\n    private final MyResult myResult = new MyResult();  // e.g. a Map\r\n\r\n    public void transformMyPartialResult(MyPartialResult myPartialResult) {\r\n      /* PLACEHOLDER CODE\r\n      this.myResult.transformAndMergeIntoMe(myPartialResult);\r\n      */\r\n    }\r\n  }\r\n  ```\r\n\r\nhow can I implement\r\n- the `MyService.myProcessing` method asynchronously and multi-threaded, and\r\n- the `MyDataTransformer.transformMyPartialResult` method sequential/thread-safe\r\n\r\n- (or redesign the above)\r\n\r\nmost performantly, to merge incoming `MyPartialResult` into one single `MyResult`?\r\n\r\n___\r\n\r\n&lt;h3&gt;Attempts:&lt;/h3&gt;\r\n\r\nThe easiest solution _seems_ to be to skip the *&quot;on arrival&quot;* part, and a commonly preferred implementation might e.g. be:\r\n```\r\npublic void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n  \r\n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\r\n\r\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {     // Stream is the way they say, but I like for\r\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter));\r\n  }\r\n\r\n  myPartialResultFutures.stream()\r\n    .map(CompletableFuture::join)\r\n    .map(myDataTransformer::transformMyPartialResult);\r\n      \r\n  myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n}\r\n```\r\nHowever, if feasible I&#39;d like to benefit from sequentially processing incoming payloads *when they arrive*, so I am currently experimenting with something like this:\r\n```\r\npublic void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n  \r\n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\r\n\r\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\r\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\r\n  }\r\n\r\n  myPartialResultFutures.forEach(CompletableFuture::join);\r\n      \r\n  myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n}\r\n```\r\nbut I don&#39;t understand if I need to implement any thread-safety protocols when calling `myDataTransformer.transformMyPartialResult`, and how - or if this even makes sense, performance-wise.\r\n\r\n___\r\n**Update:**\r\n\r\nBased on the assumption that\r\n- `myRepository.myAsyncQuery` takes slightly varying amounts of time, and\r\n- `myDataTransformer.transformMyPartialResult` taking an ever increasing amount of time each call\r\n\r\nimplementing a ***thread-safe/atomic type/Object***, e.g. a `ConcurrentHashMap`:\r\n```\r\npublic class MyDataTransformer {\r\n\r\n  private final ConcurrentMap&lt;K, V&gt; myResult = new ConcurrentHashMap&lt;K, V&gt;();\r\n\r\n  public void transformMyPartialResult(MyPartialResult myPartialResult) {\r\n    myPartialResult.myRows.stream()\r\n      .map((row) -&gt; this.myResult.merge(row[0], row[1], Integer::sum)));\r\n  }\r\n}\r\n```\r\ninto the ***latter** Attempt* (processing *&quot;on arrival&quot;*):\r\n```\r\npublic void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n  \r\n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\r\n\r\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\r\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\r\n  }\r\n\r\n  myPartialResultFutures.forEach(CompletableFuture::join);\r\n      \r\n  myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n}\r\n```\r\n***is up to one order of magnitude faster*** than waiting on all threads first, even with atomicity protocol overhead.\r\n___\r\nNow, this *may* have been obvious (not ultimately, though, as async/multi-threaded processing is by far not always the better choice), and I am glad this approach is a valid choice.\r\n\r\nWhat remains is what looks to me like a hacky, flexibility lacking solution - or at least an ugly one. **Is there a better approach?**","title":"Sequential processing of multi-threaded results","body":"<p>I am setting up a Spring Boot application (<em>DAO</em> pattern with <code>@Repositories</code>) where I am attempting to write a <code>@Service</code> to asynchronously pull data from a database in multiple threads and merge-process the incoming payloads sequentially, preferably on arrival.</p>\n<p>The goal is to utilize parallel database access for requests where multiple non-overlapping sets of filter conditions need to be queried individually, but post-processed (transformed, e.g. aggregated) into a combined result.</p>\n<p>Being rather new to Java, and coming from Golang and its comparably trivial syntax for multi-threading and task-communication, I struggle to identify a preferable API in Java and Spring Boot - or determine if this approach is even favorable to begin with.</p>\n<hr />\n<h3>Question:</h3>\n<p>Given</p>\n<ul>\n<li><p>a <strong>Controller</strong>:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n\n  private final MyService myService;\n\n  @Autowired\n  public MyController(MyService myService) {\n      this.myService = myService;\n  }\n\n  @PostMapping(&quot;/processing&quot;)\n  public DeferredResult&lt;MyResult&gt; myHandler(@RequestBody MyRequest myRequest) {\n      DeferredResult&lt;MyResult&gt; myDeferredResult = new DeferredResult&lt;&gt;();\n      myService.myProcessing(myRequest, myDeferredResult);\n\n      return myDeferredResult;\n}\n</code></pre>\n</li>\n<li><p>a <strong>Service</strong>:</p>\n<pre><code>import com.acme.parallel.util.MyDataTransformer\n\n@Service\npublic class MyServiceImpl implementing MyService {\n\n  private final MyRepository myRepository;\n\n  @Autowired\n  public MyService(MyRepository myRepository) {\n      this.myRepository = myRepository;\n  }\n\n  public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n    MyDataTransformer myDataTransformer = new MyDataTransformer();\n\n    /* PLACEHOLDER CODE\n    for (MyFilter myFilter : myRequest.getMyFilterList()) {\n      // MyPartialResult myPartialResult = myRepository.myAsyncQuery(myFilter);\n\n      // myDataTransformer.transformMyPartialResult(myPartialResult);\n    }\n    */\n\n    myDeferredResult.setResult(myDataTransformer.getMyResult());\n  }\n}\n</code></pre>\n</li>\n<li><p>a <strong>Repository</strong>:</p>\n<pre><code>@Repository\npublic class MyRepository {\n\n  public MyPartialResult myAsyncQuery(MyFilter myFilter) {\n    // for the sake of an example\n    return new MyPartialResult(myFilter, TakesSomeAmountOfTimeToQUery.TRUE);\n  }\n}\n</code></pre>\n</li>\n<li><p>as well as a <strong>MyDataTransformer</strong> helper class:</p>\n<pre><code>public class MyDataTransformer {\n\n  private final MyResult myResult = new MyResult();  // e.g. a Map\n\n  public void transformMyPartialResult(MyPartialResult myPartialResult) {\n    /* PLACEHOLDER CODE\n    this.myResult.transformAndMergeIntoMe(myPartialResult);\n    */\n  }\n}\n</code></pre>\n</li>\n</ul>\n<p>how can I implement</p>\n<ul>\n<li><p>the <code>MyService.myProcessing</code> method asynchronously and multi-threaded, and</p>\n</li>\n<li><p>the <code>MyDataTransformer.transformMyPartialResult</code> method sequential/thread-safe</p>\n</li>\n<li><p>(or redesign the above)</p>\n</li>\n</ul>\n<p>most performantly, to merge incoming <code>MyPartialResult</code> into one single <code>MyResult</code>?</p>\n<hr />\n<h3>Attempts:</h3>\n<p>The easiest solution <em>seems</em> to be to skip the <em>&quot;on arrival&quot;</em> part, and a commonly preferred implementation might e.g. be:</p>\n<pre><code>public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\n  \n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\n\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {     // Stream is the way they say, but I like for\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter));\n  }\n\n  myPartialResultFutures.stream()\n    .map(CompletableFuture::join)\n    .map(myDataTransformer::transformMyPartialResult);\n      \n  myDeferredResult.setResult(myDataTransformer.getMyResult());\n}\n</code></pre>\n<p>However, if feasible I'd like to benefit from sequentially processing incoming payloads <em>when they arrive</em>, so I am currently experimenting with something like this:</p>\n<pre><code>public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\n  \n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\n\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\n  }\n\n  myPartialResultFutures.forEach(CompletableFuture::join);\n      \n  myDeferredResult.setResult(myDataTransformer.getMyResult());\n}\n</code></pre>\n<p>but I don't understand if I need to implement any thread-safety protocols when calling <code>myDataTransformer.transformMyPartialResult</code>, and how - or if this even makes sense, performance-wise.</p>\n<hr />\n<p><strong>Update:</strong></p>\n<p>Based on the assumption that</p>\n<ul>\n<li><code>myRepository.myAsyncQuery</code> takes slightly varying amounts of time, and</li>\n<li><code>myDataTransformer.transformMyPartialResult</code> taking an ever increasing amount of time each call</li>\n</ul>\n<p>implementing a <em><strong>thread-safe/atomic type/Object</strong></em>, e.g. a <code>ConcurrentHashMap</code>:</p>\n<pre><code>public class MyDataTransformer {\n\n  private final ConcurrentMap&lt;K, V&gt; myResult = new ConcurrentHashMap&lt;K, V&gt;();\n\n  public void transformMyPartialResult(MyPartialResult myPartialResult) {\n    myPartialResult.myRows.stream()\n      .map((row) -&gt; this.myResult.merge(row[0], row[1], Integer::sum)));\n  }\n}\n</code></pre>\n<p>into the <em><strong>latter</strong> Attempt</em> (processing <em>&quot;on arrival&quot;</em>):</p>\n<pre><code>public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\n  \n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\n\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\n  }\n\n  myPartialResultFutures.forEach(CompletableFuture::join);\n      \n  myDeferredResult.setResult(myDataTransformer.getMyResult());\n}\n</code></pre>\n<p><em><strong>is up to one order of magnitude faster</strong></em> than waiting on all threads first, even with atomicity protocol overhead.</p>\n<hr />\n<p>Now, this <em>may</em> have been obvious (not ultimately, though, as async/multi-threaded processing is by far not always the better choice), and I am glad this approach is a valid choice.</p>\n<p>What remains is what looks to me like a hacky, flexibility lacking solution - or at least an ugly one. <strong>Is there a better approach?</strong></p>\n"},{"tags":["java","spring-boot","kotlin","gradle","dependencies"],"answers":[{"comments":[{"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"score":0,"creation_date":1690561660,"post_id":76789290,"comment_id":135375924,"body_markdown":"I created a gradle project called Restaurant in the directory that entitymodel and onboarding are, imported both inside Restaurant settings.gradle.kts: \n`rootProject.name = &quot;restaurant&quot;\ninclude(&quot;entitymodel&quot;)\ninclude(&quot;onboarding&quot;)`\nand left the Restaurant build.gradle.kts blank, because in this case, I want one subproject to be a dependency of the other.  when I tried to build my onboarding build.gradle.kt I received the same error.","body":"I created a gradle project called Restaurant in the directory that entitymodel and onboarding are, imported both inside Restaurant settings.gradle.kts:  <code>rootProject.name = &quot;restaurant&quot; include(&quot;entitymodel&quot;) include(&quot;onboarding&quot;)</code> and left the Restaurant build.gradle.kts blank, because in this case, I want one subproject to be a dependency of the other.  when I tried to build my onboarding build.gradle.kt I received the same error."},{"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"score":0,"creation_date":1690562909,"post_id":76789290,"comment_id":135376106,"body_markdown":"So what u need to do is to remove the settings.gradle.kts inside onboarding.","body":"So what u need to do is to remove the settings.gradle.kts inside onboarding."},{"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"score":0,"creation_date":1690563838,"post_id":76789290,"comment_id":135376263,"body_markdown":"Ok! when I removed both settings of the subprojects it worked! thanks @chehsunliu","body":"Ok! when I removed both settings of the subprojects it worked! thanks @chehsunliu"}],"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690559082,"creation_date":1690559082,"answer_id":76789290,"question_id":76788909,"body_markdown":"Based on your `settings.gradle.kts`, it looks like you are trying to make a root project depend on its subproject. Instead, put `onboarding` as a subproject too. The `settings.gradle.kts` should be:\r\n\r\n```lang-gradle\r\nrootProject.name = &quot;anything-else&quot;\r\n\r\ninclude(&quot;entitymodel&quot;)\r\ninclude(&quot;onboarding&quot;)\r\n```\r\n\r\nand its folder structure:\r\n\r\n```\r\n.\r\n├── entitymodel\r\n│&#160;&#160; └── build.gradle.kts\r\n├── onboarding\r\n│&#160;&#160; └── build.gradle.kts\r\n└── settings.gradle.kts\r\n```\r\n\r\nTo generate a working example quickly, you can run command `gradle init` in any empty folder, and enter `yes` when it asks you whether to generate multiple subprojects.\r\n\r\n### References\r\n\r\n- https://docs.gradle.org/8.2.1/userguide/multi_project_builds.html","title":"&quot;No matching configuration of project :entitymodel was found&quot; when Declaring Dependencies between projects with Gradle Kotlin Springboot","body":"<p>Based on your <code>settings.gradle.kts</code>, it looks like you are trying to make a root project depend on its subproject. Instead, put <code>onboarding</code> as a subproject too. The <code>settings.gradle.kts</code> should be:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>rootProject.name = &quot;anything-else&quot;\n\ninclude(&quot;entitymodel&quot;)\ninclude(&quot;onboarding&quot;)\n</code></pre>\n<p>and its folder structure:</p>\n<pre><code>.\n├── entitymodel\n│   └── build.gradle.kts\n├── onboarding\n│   └── build.gradle.kts\n└── settings.gradle.kts\n</code></pre>\n<p>To generate a working example quickly, you can run command <code>gradle init</code> in any empty folder, and enter <code>yes</code> when it asks you whether to generate multiple subprojects.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.gradle.org/8.2.1/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.2.1/userguide/multi_project_builds.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29096320,"reputation":11,"user_id":22289145,"display_name":"Yevhen Yermolenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690623012,"creation_date":1690623012,"answer_id":76792932,"question_id":76788909,"body_markdown":"Did you try `implementation project(&#39;:entitymodel&#39;)` instead of `implementation(project(&quot;:entitymodel&quot;))` and `include(&quot;entitymodel&quot;)` instead of `include(&quot;:entitymodel&quot;)`?","title":"&quot;No matching configuration of project :entitymodel was found&quot; when Declaring Dependencies between projects with Gradle Kotlin Springboot","body":"<p>Did you try <code>implementation project(':entitymodel')</code> instead of <code>implementation(project(&quot;:entitymodel&quot;))</code> and <code>include(&quot;entitymodel&quot;)</code> instead of <code>include(&quot;:entitymodel&quot;)</code>?</p>\n"}],"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789290,"answer_count":2,"score":0,"last_activity_date":1690623012,"creation_date":1690555964,"question_id":76788909,"body_markdown":"I have 2 springboot projects, entitymodel and onboarding. I want the project onboarding to use what was coded in entitymodel project. So my entitymodel build.gradle.kts is like this:\r\n\r\n\r\n```\r\nimport org.gradle.api.publish.PublishingExtension\r\n\r\nplugins {\r\n\t`java-library`\r\n\t`maven-publish`\r\n\t//signing\r\n\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n}\r\n\r\n\r\ngroup = &quot;com.restaurant&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation(&quot;org.projectlombok:lombok&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n\r\nconfigure&lt;PublishingExtension&gt; {\r\n\tpublications.create&lt;MavenPublication&gt;(&quot;entitymodel&quot;) {\r\n\t\tgroupId = &quot;com.restaurant&quot;\r\n\t\tartifactId = &quot;entitymodel&quot;\r\n\t\tversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\t\tpom.packaging = &quot;jar&quot;\r\n\t\tartifact(&quot;$buildDir/libs/entitymodel-0.0.1-SNAPSHOT-plain.jar&quot;)\r\n\r\n\t}\r\n\trepositories {\r\n\t\tmaven {\r\n\t\t\tname = &quot;archiva&quot;\r\n\t\t\turl = uri(&quot;http://localhost:8082/repository/internal/&quot;)\r\n\t\t\tisAllowInsecureProtocol = true\r\n\t\t\tcredentials {\r\n\t\t\t\tusername = &quot;aaaaaaaaaaaaaa&quot;\r\n\t\t\t\tpassword = &quot;aaaaaaaaaaaaaa&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nand my onboarding build.gradle.kts and settings.gradle.kts are like this:\r\n\r\n\r\n```\r\nplugins {\r\n\tjava\r\n\twar\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.2&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.2&quot;\r\n}\r\n\r\ngroup = &quot;com.restaurant&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven {\r\n\t\tname = &quot;archiva&quot;\r\n\t\turl = uri(&quot;http://localhost:8082/repository/internal/&quot;)\r\n\t\tisAllowInsecureProtocol = true\r\n\t\tcredentials {\r\n\t\t\tusername = &quot;aaaaaaaaaaaaa&quot;\r\n\t\t\tpassword = &quot;aaaaaaaaaaaaa&quot;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nconfigurations.all {\r\n\tresolutionStrategy.cacheDynamicVersionsFor(1, &quot;minutes&quot;)\r\n\tresolutionStrategy.cacheChangingModulesFor(1, &quot;minutes&quot;)\r\n}\r\n\r\n\r\n\r\n\r\ndependencies {\r\n\timplementation(&quot;org.projectlombok:lombok&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\t//implementation(&quot;com.restaurant:entitymodel:0.0.1-SNAPSHOT&quot;)\r\n\timplementation(project(&quot;:entitymodel&quot;))\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n\tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\r\n\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nrootProject.name = &quot;onboarding&quot;\r\ninclude(&quot;:entitymodel&quot;)\r\n```\r\n\r\nbut when I run ./gradlew clean build on the onboarding project, I receive this: \r\n\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:bootWar&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:runtimeClasspath&#39;.\r\n   &gt; Could not resolve project :entitymodel.\r\n     Required by:\r\n         project :\r\n      &gt; No matching configuration of project :entitymodel was found. The consumer was configured to find a library for use during runtime, compatible with Java 17, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\r\n          - None of the consumable configurations have attributes.\r\n\r\n\r\n```\r\n   \r\n\r\nwhat am I missing? \r\n\r\n\r\nI coded looking at these two Gradle documentations:\r\n[Dependencies between projects](https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:project_dependencies)\r\n[Declaring Dependencies between Subprojects](https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html)\r\n\r\nand searched into some forums to solve this issue but couldn&#39;t find out the problem yet.  ","title":"&quot;No matching configuration of project :entitymodel was found&quot; when Declaring Dependencies between projects with Gradle Kotlin Springboot","body":"<p>I have 2 springboot projects, entitymodel and onboarding. I want the project onboarding to use what was coded in entitymodel project. So my entitymodel build.gradle.kts is like this:</p>\n<pre><code>import org.gradle.api.publish.PublishingExtension\n\nplugins {\n    `java-library`\n    `maven-publish`\n    //signing\n\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n}\n\n\ngroup = &quot;com.restaurant&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.projectlombok:lombok&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\n\nconfigure&lt;PublishingExtension&gt; {\n    publications.create&lt;MavenPublication&gt;(&quot;entitymodel&quot;) {\n        groupId = &quot;com.restaurant&quot;\n        artifactId = &quot;entitymodel&quot;\n        version = &quot;0.0.1-SNAPSHOT&quot;\n        pom.packaging = &quot;jar&quot;\n        artifact(&quot;$buildDir/libs/entitymodel-0.0.1-SNAPSHOT-plain.jar&quot;)\n\n    }\n    repositories {\n        maven {\n            name = &quot;archiva&quot;\n            url = uri(&quot;http://localhost:8082/repository/internal/&quot;)\n            isAllowInsecureProtocol = true\n            credentials {\n                username = &quot;aaaaaaaaaaaaaa&quot;\n                password = &quot;aaaaaaaaaaaaaa&quot;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>and my onboarding build.gradle.kts and settings.gradle.kts are like this:</p>\n<pre><code>plugins {\n    java\n    war\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.2&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.2&quot;\n}\n\ngroup = &quot;com.restaurant&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        name = &quot;archiva&quot;\n        url = uri(&quot;http://localhost:8082/repository/internal/&quot;)\n        isAllowInsecureProtocol = true\n        credentials {\n            username = &quot;aaaaaaaaaaaaa&quot;\n            password = &quot;aaaaaaaaaaaaa&quot;\n        }\n    }\n\n}\n\nconfigurations.all {\n    resolutionStrategy.cacheDynamicVersionsFor(1, &quot;minutes&quot;)\n    resolutionStrategy.cacheChangingModulesFor(1, &quot;minutes&quot;)\n}\n\n\n\n\ndependencies {\n    implementation(&quot;org.projectlombok:lombok&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n    //implementation(&quot;com.restaurant:entitymodel:0.0.1-SNAPSHOT&quot;)\n    implementation(project(&quot;:entitymodel&quot;))\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<pre><code>rootProject.name = &quot;onboarding&quot;\ninclude(&quot;:entitymodel&quot;)\n</code></pre>\n<p>but when I run ./gradlew clean build on the onboarding project, I receive this:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':bootWar'.\n&gt; Could not resolve all task dependencies for configuration ':runtimeClasspath'.\n   &gt; Could not resolve project :entitymodel.\n     Required by:\n         project :\n      &gt; No matching configuration of project :entitymodel was found. The consumer was configured to find a library for use during runtime, compatible with Java 17, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\n          - None of the consumable configurations have attributes.\n\n\n</code></pre>\n<p>what am I missing?</p>\n<p>I coded looking at these two Gradle documentations:\n<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:project_dependencies\" rel=\"nofollow noreferrer\">Dependencies between projects</a>\n<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">Declaring Dependencies between Subprojects</a></p>\n<p>and searched into some forums to solve this issue but couldn't find out the problem yet.</p>\n"},{"tags":["java","android","firebase-authentication","verification"],"answers":[{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690628657,"post_id":76792930,"comment_id":135382053,"body_markdown":"Do I need to pay 25 dollars for adding AppCheck to my app? Since it&#39;s connected to Google Console? It&#39;s actually a class project that I&#39;m working on.","body":"Do I need to pay 25 dollars for adding AppCheck to my app? Since it&#39;s connected to Google Console? It&#39;s actually a class project that I&#39;m working on."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690630825,"post_id":76792930,"comment_id":135382315,"body_markdown":"Yes. But, If you don&#39;t want to pay $25 to Google Play Console, then you can try adding testing phone numbers like for Indian Users- +91 9999999999 and OTP as 123456.","body":"Yes. But, If you don&#39;t want to pay $25 to Google Play Console, then you can try adding testing phone numbers like for Indian Users- +91 9999999999 and OTP as 123456."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690630907,"post_id":76792930,"comment_id":135382325,"body_markdown":"If you are a student, then adding test phone number would be great choice.","body":"If you are a student, then adding test phone number would be great choice."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690630968,"post_id":76792930,"comment_id":135382333,"body_markdown":"You can also add AppCheck using your debug App fingerprints (SHA-1 &amp; SHA-256). Go to AppCheck tab and select your app and click register.","body":"You can also add AppCheck using your debug App fingerprints (SHA-1 &amp; SHA-256). Go to AppCheck tab and select your app and click register."},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690631421,"post_id":76792930,"comment_id":135382379,"body_markdown":"Where is this AppCheck tab? I did add fingerprints tab but I couldn’t find AppCheck tab in my project setting in Firebase.","body":"Where is this AppCheck tab? I did add fingerprints tab but I couldn’t find AppCheck tab in my project setting in Firebase."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690631695,"post_id":76792930,"comment_id":135382411,"body_markdown":"Go the Build section on the left hand side. Find the AppCheck under the Build section.","body":"Go the Build section on the left hand side. Find the AppCheck under the Build section."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690631722,"post_id":76792930,"comment_id":135382415,"body_markdown":"On the AppCheck Page, Click on the Apps tab.","body":"On the AppCheck Page, Click on the Apps tab."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690631750,"post_id":76792930,"comment_id":135382420,"body_markdown":"You will able to see your app there.","body":"You will able to see your app there."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690631782,"post_id":76792930,"comment_id":135382425,"body_markdown":"You will also need to add the firebase app check dependancy in your build.gradle file. \n    implementation &#39;com.google.firebase:firebase-appcheck-playintegrity&#39;","body":"You will also need to add the firebase app check dependancy in your build.gradle file.      implementation &#39;com.google.firebase:firebase-appcheck-playintegrity&#39;"},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690631836,"post_id":76792930,"comment_id":135382435,"body_markdown":"Add these three lines of code\nFirebaseApp.initializeApp(this);\nFirebaseAppCheck firebaseAppCheck = FirebaseAppCheck.getInstance();\nfirebaseAppCheck.installAppCheckProviderFactory(PlayIntegrityAppCheckProviderFactory.getInstance());","body":"Add these three lines of code FirebaseApp.initializeApp(this); FirebaseAppCheck firebaseAppCheck = FirebaseAppCheck.getInstance(); firebaseAppCheck.installAppCheckProviderFactory(PlayIntegrit&zwnj;&#8203;yAppCheckProviderFac&zwnj;&#8203;tory.getInstance());"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690638681,"post_id":76792930,"comment_id":135383207,"body_markdown":"Thank you. Do I need to add the Google Play Integrity API too since the safety net is showing decapitated in the App Check option.","body":"Thank you. Do I need to add the Google Play Integrity API too since the safety net is showing decapitated in the App Check option."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690794415,"post_id":76792930,"comment_id":135397482,"body_markdown":"You&#39;re Welcome. Yes SafetyNet is deprecated. You can register your App in AppCheck Google Play Integrity API using your debug finger prints. Simply register by Google Play Integrity API.","body":"You&#39;re Welcome. Yes SafetyNet is deprecated. You can register your App in AppCheck Google Play Integrity API using your debug finger prints. Simply register by Google Play Integrity API."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690794486,"post_id":76792930,"comment_id":135397494,"body_markdown":"You can use any one Play Integrity or Safety Net. I suggest you use the latest Play Integrity API.","body":"You can use any one Play Integrity or Safety Net. I suggest you use the latest Play Integrity API."},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690804769,"post_id":76792930,"comment_id":135399418,"body_markdown":"I tired to add these three line - FirebaseApp.initializeApp(this); FirebaseAppCheck firebaseAppCheck = FirebaseAppCheck.getInstance(); firebaseAppCheck.installAppCheckProviderFactory(PlayIntegrityAppCheckProviderFactory.getInstance()); but the last line which is firebaseAppCheck.installAppCheckProviderFactory(PlayIntegrityAppCheckProviderFactory.getInstance()); shows error.","body":"I tired to add these three line - FirebaseApp.initializeApp(this); FirebaseAppCheck firebaseAppCheck = FirebaseAppCheck.getInstance(); firebaseAppCheck.installAppCheckProviderFactory(PlayIntegrit&zwnj;&#8203;yAppCheckProviderFac&zwnj;&#8203;tory.getInstance()); but the last line which is firebaseAppCheck.installAppCheckProviderFactory(PlayIntegrit&zwnj;&#8203;yAppCheckProviderFac&zwnj;&#8203;tory.getInstance()); shows error."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690890481,"post_id":76792930,"comment_id":135413429,"body_markdown":"Add the dependency for Play Integrity API in your app&#39;s module build.gradle file.","body":"Add the dependency for Play Integrity API in your app&#39;s module build.gradle file."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690890522,"post_id":76792930,"comment_id":135413443,"body_markdown":"implementation platform(&#39;com.google.firebase:firebase-bom:32.2.0&#39;)\n    implementation &#39;com.google.firebase:firebase-appcheck-playintegrity&#39;","body":"implementation platform(&#39;com.google.firebase:firebase-bom:32.2.0&#39;)     implementation &#39;com.google.firebase:firebase-appcheck-playintegrity&#39;"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690892525,"post_id":76792930,"comment_id":135413844,"body_markdown":"I did already, seems like PlayIntegrityAppCheckProviderFactory is some sorta of class that I need to create inside the code.","body":"I did already, seems like PlayIntegrityAppCheckProviderFactory is some sorta of class that I need to create inside the code."},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690955544,"post_id":76792930,"comment_id":135423048,"body_markdown":"Try adding import com.google.firebase.appcheck.playintegrity.PlayIntegrityAppCheckProviderFactory;","body":"Try adding import com.google.firebase.appcheck.playintegrity.PlayIntegrityAppC&zwnj;&#8203;heckProviderFactory;"},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1690955624,"post_id":76792930,"comment_id":135423061,"body_markdown":"No, it isn&#39;t any extra class, it is actually the class inside the com.google.firebase.appcheck.playintegrity package.","body":"No, it isn&#39;t any extra class, it is actually the class inside the com.google.firebase.appcheck.playintegrity package."}],"tags":[],"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"comment_count":19,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690622984,"creation_date":1690622984,"answer_id":76792930,"question_id":76792282,"body_markdown":"Thanks for asking! Looks like you are new to Firebase Authentication. I will clear your doubts about Firebase Phone Authentication.\r\n\r\n**Q. How to hide ReCaptcha Web Page during Firebase Phone Authentication?**\r\n&lt;br&gt;\r\n**A.** This ReCaptcha page is the default security page in the Firebase Phone Authentication. Firebase provides &quot;App Check&quot;, which helps your app from abuse by preventing unauthorised clients from accessing your backend resources ([AppCheck docs][1]). The App Check identifies your genuine app instance, (The one that is downloaded from official Google Play Store). To add the Firebase AppCheck in your Android app, follow the steps given on official [Firebase Documentation][2]. Once, you have added the AppCheck, this ReCaptcha WebPage will be gone automatically.\r\n\r\n**Q. Cannot login after many attempts?**\r\n&lt;br&gt;\r\n**A.** This is the feature built in to the Firebase Phone Authentication to protect your resources. There can be something 3 to 4 authentications within 1 hour. If user exceeds this limit, the Firebase blocks all the requests from the client. The workaround for this is to use the testing phone numbers which do not have this protection. To add the testing phone number follow the documentation given [here][3].\r\n\r\nFor any issue, follow the documentation for Firebase Phone Authentication which is given [here][4].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/app-check\r\n  [2]: https://firebase.google.com/docs/app-check/android/play-integrity-provider\r\n  [3]: https://firebase.google.com/docs/auth/android/phone-auth#test-with-fictional-phone-numbers\r\n  [4]: https://firebase.google.com/docs/auth/android/phone-auth","title":"How to disable reCaptcha web page in Firebase Phone Auth Android","body":"<p>Thanks for asking! Looks like you are new to Firebase Authentication. I will clear your doubts about Firebase Phone Authentication.</p>\n<p><strong>Q. How to hide ReCaptcha Web Page during Firebase Phone Authentication?</strong>\n<br>\n<strong>A.</strong> This ReCaptcha page is the default security page in the Firebase Phone Authentication. Firebase provides &quot;App Check&quot;, which helps your app from abuse by preventing unauthorised clients from accessing your backend resources (<a href=\"https://firebase.google.com/docs/app-check\" rel=\"nofollow noreferrer\">AppCheck docs</a>). The App Check identifies your genuine app instance, (The one that is downloaded from official Google Play Store). To add the Firebase AppCheck in your Android app, follow the steps given on official <a href=\"https://firebase.google.com/docs/app-check/android/play-integrity-provider\" rel=\"nofollow noreferrer\">Firebase Documentation</a>. Once, you have added the AppCheck, this ReCaptcha WebPage will be gone automatically.</p>\n<p><strong>Q. Cannot login after many attempts?</strong>\n<br>\n<strong>A.</strong> This is the feature built in to the Firebase Phone Authentication to protect your resources. There can be something 3 to 4 authentications within 1 hour. If user exceeds this limit, the Firebase blocks all the requests from the client. The workaround for this is to use the testing phone numbers which do not have this protection. To add the testing phone number follow the documentation given <a href=\"https://firebase.google.com/docs/auth/android/phone-auth#test-with-fictional-phone-numbers\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For any issue, follow the documentation for Firebase Phone Authentication which is given <a href=\"https://firebase.google.com/docs/auth/android/phone-auth\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690622984,"creation_date":1690611099,"question_id":76792282,"body_markdown":"I am trying to add Phone Authentication of Firebase in my android application, it works fine with all the otp and stuff but there are two problems I am having.\r\n\r\nThe first problem: **OTP verification webpage**\r\nThe following picture will clear the problem-\r\n[![otp webpage][1]][1]\r\n\r\n\r\nBefore getting an OTP, this webpage shows up which is not really user friendly. The user won&#39;t like this **redirecting webpage** scenario every time he is getting an OTP. How to disable or hide this webpage? I don&#39;t want it to go the browser first and then return back to the app, this may destroy the activity which is an issue for low-ram phones. I researched about it and I found some questions here too. But they are all old questions, the answers are different and those answers don&#39;t work now.\r\nFor example, in this question [how-to-disable-recaptcha-in-firebase-phone-auth-otp-android][2], they said that using **Android Device Verification** api will disable the verification webpage. But that api is decapitated now, also the **Google Play Integrity API** doesn&#39;t work as well. I added SHA-1 and SHA-256 in my project, the problem still there. I tried to find the App Check with the SafetyNet option but I can&#39;t find it in my project setting, seems like that has been decapitated too. I desperately need updated solution and I hope that I will find some here because I&#39;m out of ideas at this point.\r\n\r\n\r\n\r\nThe second problem: **Unusual Activity**\r\n\r\nMy application is a chat app, people need to sign up and sign in all the time. I added the phone auth option to sign in to the app, but if I sign in using the same phone number (which is normal, user will have only one or two phone number) for two or three times I get this message-\r\n[![unusual activity][3]][3]\r\n\r\nHow to solve this unusual activity problem? I am using a **real phone with a real phone number** still it says unusual activity, if user can&#39;t sign in to his profile after two or three times or need to wait for some time to sign in then how is that user friendly? Help me solve this problem please.\r\n\r\n\r\nThese are the two problems I am having, I hope I will get some right answers. Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3DIJ.jpg\r\n  [2]: https://stackoverflow.com/questions/64999106/how-to-disable-recaptcha-in-firebase-phone-auth-otp-android\r\n  [3]: https://i.stack.imgur.com/VomR5.jpg","title":"How to disable reCaptcha web page in Firebase Phone Auth Android","body":"<p>I am trying to add Phone Authentication of Firebase in my android application, it works fine with all the otp and stuff but there are two problems I am having.</p>\n<p>The first problem: <strong>OTP verification webpage</strong>\nThe following picture will clear the problem-\n<a href=\"https://i.stack.imgur.com/r3DIJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3DIJ.jpg\" alt=\"otp webpage\" /></a></p>\n<p>Before getting an OTP, this webpage shows up which is not really user friendly. The user won't like this <strong>redirecting webpage</strong> scenario every time he is getting an OTP. How to disable or hide this webpage? I don't want it to go the browser first and then return back to the app, this may destroy the activity which is an issue for low-ram phones. I researched about it and I found some questions here too. But they are all old questions, the answers are different and those answers don't work now.\nFor example, in this question <a href=\"https://stackoverflow.com/questions/64999106/how-to-disable-recaptcha-in-firebase-phone-auth-otp-android\">how-to-disable-recaptcha-in-firebase-phone-auth-otp-android</a>, they said that using <strong>Android Device Verification</strong> api will disable the verification webpage. But that api is decapitated now, also the <strong>Google Play Integrity API</strong> doesn't work as well. I added SHA-1 and SHA-256 in my project, the problem still there. I tried to find the App Check with the SafetyNet option but I can't find it in my project setting, seems like that has been decapitated too. I desperately need updated solution and I hope that I will find some here because I'm out of ideas at this point.</p>\n<p>The second problem: <strong>Unusual Activity</strong></p>\n<p>My application is a chat app, people need to sign up and sign in all the time. I added the phone auth option to sign in to the app, but if I sign in using the same phone number (which is normal, user will have only one or two phone number) for two or three times I get this message-\n<a href=\"https://i.stack.imgur.com/VomR5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VomR5.jpg\" alt=\"unusual activity\" /></a></p>\n<p>How to solve this unusual activity problem? I am using a <strong>real phone with a real phone number</strong> still it says unusual activity, if user can't sign in to his profile after two or three times or need to wait for some time to sign in then how is that user friendly? Help me solve this problem please.</p>\n<p>These are the two problems I am having, I hope I will get some right answers. Thank you.</p>\n"},{"tags":["java","android","kotlin","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690603159,"post_id":76789251,"comment_id":135380070,"body_markdown":"Please create a complete, minimal example which illustrates the problem. You haven&#39;t shown how you create mock or how you call it.","body":"Please create a complete, minimal example which illustrates the problem. You haven&#39;t shown how you create mock or how you call it."}],"answers":[{"tags":[],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690622798,"creation_date":1690622798,"answer_id":76792922,"question_id":76789251,"body_markdown":"I&#39;ve found out, that mockito seems to be incompatible with Android buildTarget API 34, I changed it to 33 and it worked!","title":"Mockito can&#39;t mock any class","body":"<p>I've found out, that mockito seems to be incompatible with Android buildTarget API 34, I changed it to 33 and it worked!</p>\n"}],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76792922,"answer_count":1,"score":0,"last_activity_date":1690622798,"creation_date":1690558739,"question_id":76789251,"body_markdown":"I want to mock a class that gets some data from a server for Android testing purposes when I detected that mockito doesn&#39;t mock my class:\r\n```\r\norg.mockito.exceptions.base.MockitoException:\r\nMockito cannot mock this class: class com.test.test.Data\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\n```\r\n\r\nThis was a Kotlin class like this:\r\n```Kotlin\r\nclass Data {}\r\n```\r\n\r\nBy default, Kotlin classes are final, so I added the open modifier but still got the same error.\r\n\r\nI thought, that it was maybe because some of Data&#39;s properties are final classes, so I created this Kotlin class and tried to mock it:\r\n```Kotlin\r\nopen class Test {\r\n\r\n    fun say() = &quot;Not mocked&quot;\r\n}\r\n```\r\n\r\nWhen I got the same error again I created a Java class which is by default not final:\r\n```Java\r\npublic class Test2 {\r\n\r\n    public String say() { return &quot;Not mocked (Java)&quot;; }\r\n}\r\n\r\n```\r\n\r\nThese are the dependencies I use for mockito:\r\n```\r\ntestImplementation &#39;org.mockito:mockito-inline:2.8.47&#39;\r\ntestImplementation &#39;org.mockito:mockito-core:5.4.0&#39;\r\nandroidTestImplementation &#39;org.mockito:mockito-android:5.4.0&#39;\r\n```\r\n\r\nAt this point, I don&#39;t understand its problems anymore.\r\n\r\nAny help is highly appreciated!","title":"Mockito can&#39;t mock any class","body":"<p>I want to mock a class that gets some data from a server for Android testing purposes when I detected that mockito doesn't mock my class:</p>\n<pre><code>org.mockito.exceptions.base.MockitoException:\nMockito cannot mock this class: class com.test.test.Data\n\nMockito can only mock non-private &amp; non-final classes.\n</code></pre>\n<p>This was a Kotlin class like this:</p>\n<pre><code>class Data {}\n</code></pre>\n<p>By default, Kotlin classes are final, so I added the open modifier but still got the same error.</p>\n<p>I thought, that it was maybe because some of Data's properties are final classes, so I created this Kotlin class and tried to mock it:</p>\n<pre><code>open class Test {\n\n    fun say() = &quot;Not mocked&quot;\n}\n</code></pre>\n<p>When I got the same error again I created a Java class which is by default not final:</p>\n<pre><code>public class Test2 {\n\n    public String say() { return &quot;Not mocked (Java)&quot;; }\n}\n\n</code></pre>\n<p>These are the dependencies I use for mockito:</p>\n<pre><code>testImplementation 'org.mockito:mockito-inline:2.8.47'\ntestImplementation 'org.mockito:mockito-core:5.4.0'\nandroidTestImplementation 'org.mockito:mockito-android:5.4.0'\n</code></pre>\n<p>At this point, I don't understand its problems anymore.</p>\n<p>Any help is highly appreciated!</p>\n"},{"tags":["java","android","google-api"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1690637591,"post_id":76792817,"comment_id":135383086,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29116115,"reputation":1,"user_id":22304793,"display_name":"Muhammad Faheem Mughal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690620713,"creation_date":1690620713,"question_id":76792817,"body_markdown":"I Getting some problem how to read sms programmatically when sms received.. i try all the method and they are working on below android 8.\r\nI Used On Recieved Method on Broadcast Reciever .. And every this fine and working but in android 7 and below version but not in Android 8 and above api...\r\n","title":"How to Read Sms when recieved in android api 33+ or in Andoird 8 and above","body":"<p>I Getting some problem how to read sms programmatically when sms received.. i try all the method and they are working on below android 8.\nI Used On Recieved Method on Broadcast Reciever .. And every this fine and working but in android 7 and below version but not in Android 8 and above api...</p>\n"},{"tags":["java","regex","split","delimiter","backslash"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1690352223,"post_id":76768407,"comment_id":135339471,"body_markdown":"For input - `&quot;one,two\\\\,three&quot;`, if we split by `,` shouldn&#39;t the output be `[&quot;one&quot;, &quot;two\\\\,three&quot;]`?","body":"For input - <code>&quot;one,two\\\\,three&quot;</code>, if we split by <code>,</code> shouldn&#39;t the output be <code>[&quot;one&quot;, &quot;two\\\\,three&quot;]</code>?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1690352285,"post_id":76768407,"comment_id":135339482,"body_markdown":"By having &quot;regex&quot; as a tag it seems you want to split on characters matching a regex, but that cannot be the case as you want `&quot;one,two&quot;` to become `&quot;onetwo&quot;`; i.e., you want to remove the first comma but not split on it.","body":"By having &quot;regex&quot; as a tag it seems you want to split on characters matching a regex, but that cannot be the case as you want <code>&quot;one,two&quot;</code> to become <code>&quot;onetwo&quot;</code>; i.e., you want to remove the first comma but not split on it."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1690359896,"post_id":76768407,"comment_id":135340947,"body_markdown":"Perhaps split on `(?&lt;!\\\\),[,\\s]*+(?=[^,\\s]|$)` [demo](https://regex101.com/r/sciKaM/1) or get all the matches instead `[^,\\\\]+(?:\\\\.[^,\\\\]*)*` [demo](https://regex101.com/r/XN9QSZ/1) Note to double escape the backslash in Java","body":"Perhaps split on <code>(?&lt;!\\\\),[,\\s]*+(?=[^,\\s]|$)</code> <a href=\"https://regex101.com/r/sciKaM/1\" rel=\"nofollow noreferrer\">demo</a> or get all the matches instead <code>[^,\\\\]+(?:\\\\.[^,\\\\]*)*</code> <a href=\"https://regex101.com/r/XN9QSZ/1\" rel=\"nofollow noreferrer\">demo</a> Note to double escape the backslash in Java"},{"owner":{"account_id":27543456,"reputation":11,"user_id":21019826,"display_name":"Narasimha asuri"},"score":0,"creation_date":1690620400,"post_id":76768407,"comment_id":135381297,"body_markdown":"1.Sorry for the confusion I want to split on , and not \\\\, and I have edited it accordingly and thanks for the help","body":"1.Sorry for the confusion I want to split on , and not \\\\, and I have edited it accordingly and thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690612639,"creation_date":1690352451,"answer_id":76768507,"question_id":76768407,"body_markdown":"You likely want a [negative look behind](https://www.regular-expressions.info/lookaround.html) which will look for a comma _not_ preceded by a backslash. Many backslashes are necessary as we need to not only escape the backslashes in a string, but also in the resulting regex. \r\n\r\n```java\r\n&quot;(?&lt;!\\\\\\\\),&quot;\r\n```\r\n\r\nWith Java 12 and later, raw string literals are supported, and can save us from some of this escaping.\r\n\r\n```java\r\n`(?&lt;!\\\\\\\\),`\r\n```\r\n\r\nNow, if we want to split only on commas preceded by a backslash, we&#39;d use a _positive_ look behind.\r\n\r\n```java\r\n`(?&lt;=\\\\),`\r\n```\r\n\r\nA demonstration in Python because its interactive interpreter presents the information in an easy to understand manner. Python has its own raw string syntax and the _regular expressions_ themselves are the same.\r\n\r\n```python\r\n&gt;&gt;&gt; import re\r\n&gt;&gt;&gt; re.split(r&quot;(?&lt;!\\\\),&quot;, r&quot;1,2\\,3&quot;)\r\n[&#39;1&#39;, &#39;2\\\\,3&#39;]\r\n&gt;&gt;&gt; re.split(r&quot;(?&lt;=\\\\),&quot;, r&quot;1,2\\,3&quot;)\r\n[&#39;1,2\\\\&#39;, &#39;3&#39;]\r\n```","title":"Regex to include comma in java split function","body":"<p>You likely want a <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">negative look behind</a> which will look for a comma <em>not</em> preceded by a backslash. Many backslashes are necessary as we need to not only escape the backslashes in a string, but also in the resulting regex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;(?&lt;!\\\\\\\\),&quot;\n</code></pre>\n<p>With Java 12 and later, raw string literals are supported, and can save us from some of this escaping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>`(?&lt;!\\\\\\\\),`\n</code></pre>\n<p>Now, if we want to split only on commas preceded by a backslash, we'd use a <em>positive</em> look behind.</p>\n<pre class=\"lang-java prettyprint-override\"><code>`(?&lt;=\\\\),`\n</code></pre>\n<p>A demonstration in Python because its interactive interpreter presents the information in an easy to understand manner. Python has its own raw string syntax and the <em>regular expressions</em> themselves are the same.</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; re.split(r&quot;(?&lt;!\\\\),&quot;, r&quot;1,2\\,3&quot;)\n['1', '2\\\\,3']\n&gt;&gt;&gt; re.split(r&quot;(?&lt;=\\\\),&quot;, r&quot;1,2\\,3&quot;)\n['1,2\\\\', '3']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690383114,"creation_date":1690383114,"answer_id":76772554,"question_id":76768407,"body_markdown":"You should use [Negative Look Behind][1]. You can check this out in [regexp10.com][2].\r\n\r\n```java\r\npublic static String[] split(String str) {\r\n    final String regexp = &quot;(?&lt;!\\\\\\\\),&quot;;\r\n    return str.split(regexp);\r\n}\r\n```\r\n\r\nThen the client&#39;s code will look like this:\r\n```java\r\nSystem.out.println(Arrays.toString(split(&quot;one,two,three&quot;)));    // [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;] \r\nSystem.out.println(Arrays.toString(split(&quot;one,two\\\\,three&quot;)));  // [&quot;one&quot;,&quot;two\\,three&quot;]\r\n```\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/lookaround.html\r\n  [2]: https://regex101.com/r/6P0Ap0/1","title":"Regex to include comma in java split function","body":"<p>You should use <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">Negative Look Behind</a>. You can check this out in <a href=\"https://regex101.com/r/6P0Ap0/1\" rel=\"nofollow noreferrer\">regexp10.com</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] split(String str) {\n    final String regexp = &quot;(?&lt;!\\\\\\\\),&quot;;\n    return str.split(regexp);\n}\n</code></pre>\n<p>Then the client's code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Arrays.toString(split(&quot;one,two,three&quot;)));    // [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;] \nSystem.out.println(Arrays.toString(split(&quot;one,two\\\\,three&quot;)));  // [&quot;one&quot;,&quot;two\\,three&quot;]\n</code></pre>\n"}],"owner":{"account_id":27543456,"reputation":11,"user_id":21019826,"display_name":"Narasimha asuri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690620589,"creation_date":1690351236,"question_id":76768407,"body_markdown":"I want to have a split function that splits String based on delimiter &quot;,&quot; but that should not be taken as delimiter in some cases.\r\n\r\nlets say:\r\n```\r\nString= &quot;one,two,three&quot;\r\nArray=String.split(&quot;,&quot;);\r\nArrayoutput=[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;];\r\n```\r\n\r\nthen if \r\n```\r\nString=&quot;one,two\\\\,three&quot;;\r\nArray=String.split(&quot;???&quot;);\r\n```\r\nso the output =[&quot;one&quot;,&quot;two,three&quot;];\r\n\r\n\r\nSo how to write a regular expression in place of &quot;???&quot; so that it includes &quot;,&quot; but does not include &quot;\\\\\\\\,&quot;. Something like  &quot;(\\[,\\]&amp;\\[^\\\\\\\\,\\])&quot; .\r\n\r\nAlso the when to read comma as String instead of delimiter is configurable, I took \\\\ for now but can be anything.\r\n\r\nP.S: I can solve it with the following pseudo code:\r\n\r\n```java\r\nfor(int i=0;i&lt;s.length();i++){\r\nif(s.charAt(i)==&quot;\\\\,&quot;){}\r\nelse if(s.charAt(i)==&#39;,&#39;){then split it;}\r\n}\r\n```\r\n\r\nbut I am looking for the most efficient and fastest solution, any other Ideas on how to deal with this?","title":"Regex to include comma in java split function","body":"<p>I want to have a split function that splits String based on delimiter &quot;,&quot; but that should not be taken as delimiter in some cases.</p>\n<p>lets say:</p>\n<pre><code>String= &quot;one,two,three&quot;\nArray=String.split(&quot;,&quot;);\nArrayoutput=[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;];\n</code></pre>\n<p>then if</p>\n<pre><code>String=&quot;one,two\\\\,three&quot;;\nArray=String.split(&quot;???&quot;);\n</code></pre>\n<p>so the output =[&quot;one&quot;,&quot;two,three&quot;];</p>\n<p>So how to write a regular expression in place of &quot;???&quot; so that it includes &quot;,&quot; but does not include &quot;\\\\,&quot;. Something like  &quot;([,]&amp;[^\\\\,])&quot; .</p>\n<p>Also the when to read comma as String instead of delimiter is configurable, I took \\ for now but can be anything.</p>\n<p>P.S: I can solve it with the following pseudo code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0;i&lt;s.length();i++){\nif(s.charAt(i)==&quot;\\\\,&quot;){}\nelse if(s.charAt(i)==','){then split it;}\n}\n</code></pre>\n<p>but I am looking for the most efficient and fastest solution, any other Ideas on how to deal with this?</p>\n"},{"tags":["java","kotlin","syntax","new-operator"],"comments":[{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1690631483,"post_id":76790574,"comment_id":135382386,"body_markdown":"As a minor frame challenge, in Kotlin lists are much more common than arrays. Lists are collections and so have access to all the extensions and other places where collections can be used; they have multiple implementations; they work better with generics; and they they usually have better toString() and comparison and other method implementations. Arrays are needed for interoperability, for varargs, and for low-level implementation of other structures, but for everything else lists are preferable.","body":"As a minor frame challenge, in Kotlin lists are much more common than arrays. Lists are collections and so have access to all the extensions and other places where collections can be used; they have multiple implementations; they work better with generics; and they they usually have better toString() and comparison and other method implementations. Arrays are needed for interoperability, for varargs, and for low-level implementation of other structures, but for everything else lists are preferable."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690574801,"creation_date":1690573589,"answer_id":76790639,"question_id":76790574,"body_markdown":"That specific syntax with curly brackets I think will never happen because it&#39;s too close to the Kotlin syntax for lambdas. For example, it would break existing code like:\r\n\r\n    val x = { 1 } // type of x is inferred to be () -&gt; Int\r\n\r\nHowever, they are at least considering it with square brackets. That can be followed [here in the official YouTrack issues list][1]. This issue was opened by the lead Kotlin designer, so it&#39;s not just wishful thinking from a random user. Unfortunately, there is no planned implementation date yet.\r\n\r\nA couple of possibilities for shortening it:\r\n\r\nThe `&lt;Int&gt;` in your code is redundant and can be dropped, because the type can be inferred by the compiler when the array is not empty.\r\n\r\nYou can use a function alias like\r\n\r\n    import kotlin.arrayOf as a\r\n\r\nso you could write code like\r\n\r\n    val x = a(1, 2, 3, 4)\r\n\r\nin files where you create a lot of literal arrays.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/KT-43871","title":"Kotlin array literal syntax like java","body":"<p>That specific syntax with curly brackets I think will never happen because it's too close to the Kotlin syntax for lambdas. For example, it would break existing code like:</p>\n<pre><code>val x = { 1 } // type of x is inferred to be () -&gt; Int\n</code></pre>\n<p>However, they are at least considering it with square brackets. That can be followed <a href=\"https://youtrack.jetbrains.com/issue/KT-43871\" rel=\"nofollow noreferrer\">here in the official YouTrack issues list</a>. This issue was opened by the lead Kotlin designer, so it's not just wishful thinking from a random user. Unfortunately, there is no planned implementation date yet.</p>\n<p>A couple of possibilities for shortening it:</p>\n<p>The <code>&lt;Int&gt;</code> in your code is redundant and can be dropped, because the type can be inferred by the compiler when the array is not empty.</p>\n<p>You can use a function alias like</p>\n<pre><code>import kotlin.arrayOf as a\n</code></pre>\n<p>so you could write code like</p>\n<pre><code>val x = a(1, 2, 3, 4)\n</code></pre>\n<p>in files where you create a lot of literal arrays.</p>\n"},{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690634542,"post_id":76792619,"comment_id":135382746,"body_markdown":"The OP is aware the syntax does not now exist; he is asking &#39;when&#39; it will exist.","body":"The OP is aware the syntax does not now exist; he is asking &#39;when&#39; it will exist."}],"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690617416,"creation_date":1690617416,"answer_id":76792619,"question_id":76790574,"body_markdown":"Kotlin does not have an array syntax (varray = {1,2,3,4,5}). To create an array in Kotlin, you must use a function such as arrayOf or intArrayOf.\r\n\r\n    val array = intArrayOf(1, 2, 3, 4, 5)\r\n\r\n","title":"Kotlin array literal syntax like java","body":"<p>Kotlin does not have an array syntax (varray = {1,2,3,4,5}). To create an array in Kotlin, you must use a function such as arrayOf or intArrayOf.</p>\n<pre><code>val array = intArrayOf(1, 2, 3, 4, 5)\n</code></pre>\n"}],"owner":{"account_id":19464053,"reputation":3,"user_id":14237707,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76790639,"answer_count":2,"score":-2,"last_activity_date":1690617416,"creation_date":1690572549,"question_id":76790574,"body_markdown":"Just a simple question\r\n\r\nwhen we will get array literal syntax in kotlin like java\r\n\r\n```\r\nvar array = arrayOf&lt;Int&gt;(1,2,3,4,5) // current syntax\r\n```\r\n\r\n```\r\nvar array = {1,2,3,4,5} // new syntax\r\n```\r\n\r\nIf any of you have information on the current status of this feature or if it has already been implemented in a newer version that I might have missed, I would greatly appreciate your insights. Additionally, any tips or workarounds for achieving a more compact syntax while working with arrays in Kotlin would be welcome.","title":"Kotlin array literal syntax like java","body":"<p>Just a simple question</p>\n<p>when we will get array literal syntax in kotlin like java</p>\n<pre><code>var array = arrayOf&lt;Int&gt;(1,2,3,4,5) // current syntax\n</code></pre>\n<pre><code>var array = {1,2,3,4,5} // new syntax\n</code></pre>\n<p>If any of you have information on the current status of this feature or if it has already been implemented in a newer version that I might have missed, I would greatly appreciate your insights. Additionally, any tips or workarounds for achieving a more compact syntax while working with arrays in Kotlin would be welcome.</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688130160,"post_id":76589106,"comment_id":135036432,"body_markdown":"I don&#39;t think plain Mockito can mock constructors. You&#39;ll need PowerMock.","body":"I don&#39;t think plain Mockito can mock constructors. You&#39;ll need PowerMock."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1688130469,"post_id":76589106,"comment_id":135036516,"body_markdown":"Are you able to make changes to ClassToBeTested ? If not then you can not to mock AnotherClass","body":"Are you able to make changes to ClassToBeTested ? If not then you can not to mock AnotherClass"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1688131107,"post_id":76589106,"comment_id":135036669,"body_markdown":"I am not supposed to make changes to ClassToBeTested unfortunately","body":"I am not supposed to make changes to ClassToBeTested unfortunately"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688173913,"post_id":76589106,"comment_id":135042959,"body_markdown":"Explain to whoever told you that you can&#39;t modify `ClassToBeTested` that it has not been written in a testable manner, and that you need to change it.","body":"Explain to whoever told you that you can&#39;t modify <code>ClassToBeTested</code> that it has not been written in a testable manner, and that you need to change it."},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1688181576,"post_id":76589106,"comment_id":135043340,"body_markdown":"Sure sir,will try to convey this.","body":"Sure sir,will try to convey this."}],"answers":[{"comments":[{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1688736607,"post_id":76589497,"comment_id":135117828,"body_markdown":"Hi @Alien, did manage to cover with tests your class? How?","body":"Hi @Alien, did manage to cover with tests your class? How?"}],"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688132764,"creation_date":1688132764,"answer_id":76589497,"question_id":76589106,"body_markdown":"Since you are not supposed to change the source code of ClassToBeTested and can not use PowerMockito I would stick to a single possible approach, if acceptable: \r\n\r\n    public class ClassToBeTestedTest {\r\n        @Mock\r\n        DependencyOne dep1Mock;\r\n        @Mock\r\n        DependencyTwo dep2Mock;\r\n        @Mock\r\n        AnotherClass anotherClassMock;\r\n    \r\n        ClassToBeTested testInstance = new ClassToBeTestedTestSpecificImpl();\r\n    \r\n        private class ClassToBeTestedTestSpecificImpl extends ClassToBeTested {\r\n            @Override\r\n            method() {\r\n                anotherClassMock.someAction();\r\n            }\r\n        }\r\n        //test methods go here\r\n    }\r\n\r\n\r\nOtherwise we can confidently state: ClassToBeTested is not testable in the given circumstances. ","title":"Alternative of whenNew in mockito for this usecase","body":"<p>Since you are not supposed to change the source code of ClassToBeTested and can not use PowerMockito I would stick to a single possible approach, if acceptable:</p>\n<pre><code>public class ClassToBeTestedTest {\n    @Mock\n    DependencyOne dep1Mock;\n    @Mock\n    DependencyTwo dep2Mock;\n    @Mock\n    AnotherClass anotherClassMock;\n\n    ClassToBeTested testInstance = new ClassToBeTestedTestSpecificImpl();\n\n    private class ClassToBeTestedTestSpecificImpl extends ClassToBeTested {\n        @Override\n        method() {\n            anotherClassMock.someAction();\n        }\n    }\n    //test methods go here\n}\n</code></pre>\n<p>Otherwise we can confidently state: ClassToBeTested is not testable in the given circumstances.</p>\n"},{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690617392,"creation_date":1690617392,"answer_id":76792614,"question_id":76589106,"body_markdown":"I was able to handle this scenario by letting the call go to Another Class and then mocking the code present in some `action()` method with when then statements.","title":"Alternative of whenNew in mockito for this usecase","body":"<p>I was able to handle this scenario by letting the call go to Another Class and then mocking the code present in some <code>action()</code> method with when then statements.</p>\n"}],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76792614,"answer_count":2,"score":-1,"last_activity_date":1690617392,"creation_date":1688129590,"question_id":76589106,"body_markdown":"Can some help me to mock AnotherClass object.\r\n\r\nThings I have tried so far.\r\n\r\n1. MockConstruction\r\n2. useConstructor with settings\r\n3. When then statement \r\n\r\nPowermockito we can not use for some reason.\r\n\r\n\r\n\r\n    ClassToBeTested {\r\n      @Autowired\r\n      DependencyOne dep1;\r\n      @Autowired\r\n      DependencyTwo dep2;\r\n    \r\n      method(){\r\n        AnotherClass anotherClass = new AnotherClass(dep1,dep2);\r\n    anotherClass.someAction();\r\n      }\r\n    }","title":"Alternative of whenNew in mockito for this usecase","body":"<p>Can some help me to mock AnotherClass object.</p>\n<p>Things I have tried so far.</p>\n<ol>\n<li>MockConstruction</li>\n<li>useConstructor with settings</li>\n<li>When then statement</li>\n</ol>\n<p>Powermockito we can not use for some reason.</p>\n<pre><code>ClassToBeTested {\n  @Autowired\n  DependencyOne dep1;\n  @Autowired\n  DependencyTwo dep2;\n\n  method(){\n    AnotherClass anotherClass = new AnotherClass(dep1,dep2);\nanotherClass.someAction();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","jpastreamer"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689248648,"post_id":76678940,"comment_id":135188190,"body_markdown":"Mock objects are just stubs with no internal logic/fields. My guess would be the `stream()` function that is called before the `filter` call.","body":"Mock objects are just stubs with no internal logic/fields. My guess would be the <code>stream()</code> function that is called before the <code>filter</code> call."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689249708,"post_id":76678940,"comment_id":135188413,"body_markdown":"`personStreamMock` and `filteredStreamMock ` aren&#39;t a mock. So trying to register behavior won&#39;t do anything. Also what do you think you are testing here? You are mainly testing mockito here there is no real business code involved.","body":"<code>personStreamMock</code> and <code>filteredStreamMock </code> aren&#39;t a mock. So trying to register behavior won&#39;t do anything. Also what do you think you are testing here? You are mainly testing mockito here there is no real business code involved."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689249894,"post_id":76678940,"comment_id":135188452,"body_markdown":"@M.Deinum How can I mock personStreamMock and filteredStreamMock?","body":"@M.Deinum How can I mock personStreamMock and filteredStreamMock?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689249988,"post_id":76678940,"comment_id":135188464,"body_markdown":"I think you should step back and see what you are testing, as you are n&#39;t really testing anything. You are better of writing a small integration test for this which does actually something.","body":"I think you should step back and see what you are testing, as you are n&#39;t really testing anything. You are better of writing a small integration test for this which does actually something."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689250105,"post_id":76678940,"comment_id":135188485,"body_markdown":"@M.Deinum I already wrote its integration test before.","body":"@M.Deinum I already wrote its integration test before."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689250367,"post_id":76678940,"comment_id":135188520,"body_markdown":"@LenglBoy Which line throws an issue according to you?","body":"@LenglBoy Which line throws an issue according to you?"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690616905,"creation_date":1690616905,"answer_id":76792582,"question_id":76678940,"body_markdown":"After defining jpastreamer configuration in the project, the issue disappeared.\r\n\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class JPAStreamerConfig {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        @Bean\r\n        public JPAStreamer jpaStreamer() {\r\n            return JPAStreamer.of(entityManagerFactory);\r\n        }\r\n    \r\n    }","title":"Spring Boot Jpastreamer - java.lang.NullPointerException in JUnit Test","body":"<p>After defining jpastreamer configuration in the project, the issue disappeared.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class JPAStreamerConfig {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    @Bean\n    public JPAStreamer jpaStreamer() {\n        return JPAStreamer.of(entityManagerFactory);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76792582,"answer_count":1,"score":0,"last_activity_date":1690616905,"creation_date":1689248185,"question_id":76678940,"body_markdown":"I have a problem to write JUnit test for Jpastreamer in MY Spring Boot app.\r\n\r\nHere is the service shown below\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class PersonService {\r\n    \r\n        private final JPAStreamer jpaStreamer;\r\n    \r\n        public List&lt;Person&gt; findByAgeForJpaStreamer(Integer age) {\r\n            return jpaStreamer.stream(Person.class).\r\n                    filter(Person$.age.equal(age)).\r\n                    collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n\r\nHere is the BaseServiceTest shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;test&quot;)\r\n    public abstract class BaseServiceTest {\r\n    }\r\n\r\nHere is PersonServiceTest shown below\r\n\r\n    class PersonServiceTest extends BaseServiceTest {\r\n    \r\n        @InjectMocks\r\n        private PersonService personService;\r\n    \r\n        @Mock\r\n        private JPAStreamer jpaStreamer;\r\n    \r\n        private List&lt;Person&gt; personList;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            personList = Arrays.asList(\r\n                    Person.builder().id(1L).firstName(&quot;John&quot;).lastName(&quot;Doe&quot;).age(33).birthday(LocalDate.of(1990, 5, 15)).build(),\r\n                    Person.builder().id(2L).firstName(&quot;Jane&quot;).lastName(&quot;Smith&quot;).age(27).birthday(LocalDate.of(1996, 9, 20)).build(),\r\n                    Person.builder().id(3L).firstName(&quot;David&quot;).lastName(&quot;Johnson&quot;).age(32).birthday(LocalDate.of(1991, 9, 20)).build()\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        public void testJpaStreamerFindByAge() {\r\n    \r\n            // given\r\n            Stream&lt;Person&gt; personStreamMock = personList.stream();\r\n            Stream&lt;Person&gt; filteredStreamMock = personStreamMock\r\n                    .filter(person -&gt; person.getAge() == 32);\r\n            List&lt;Person&gt; collectedListMock = filteredStreamMock.collect(Collectors.toList());\r\n    \r\n            // whwn\r\n            Mockito.when(jpaStreamer.stream(Person.class)).thenReturn(personStreamMock);\r\n            Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\r\n            Mockito.when(filteredStreamMock.collect(Collectors.toList())).thenReturn(collectedListMock);\r\n    \r\n            // then\r\n            List&lt;Person&gt; actualPersons = personService.findByAgeForJpaStreamer(32);\r\n    \r\n            // Assert the result\r\n            assertEquals(collectedListMock, actualPersons);\r\n            assertEquals(collectedListMock.size(), actualPersons.size());\r\n    \r\n            // Assert each person&#39;s properties\r\n            for (int i = 0; i &lt; collectedListMock.size(); i++) {\r\n                assertEquals(collectedListMock.get(i).getId(), actualPersons.get(i).getId());\r\n                assertEquals(collectedListMock.get(i).getFirstName(), actualPersons.get(i).getFirstName());\r\n                assertEquals(collectedListMock.get(i).getLastName(), actualPersons.get(i).getLastName());\r\n                assertEquals(collectedListMock.get(i).getAge(), actualPersons.get(i).getAge());\r\n                assertEquals(collectedListMock.get(i).getBirthday(), actualPersons.get(i).getBirthday());\r\n            }\r\n    \r\n            // Verify the JPAStreamer method calls\r\n            Mockito.verify(jpaStreamer, Mockito.times(1)).stream(Person.class);\r\n            Mockito.verify(personStreamMock, Mockito.times(1)).filter(Mockito.any());\r\n            Mockito.verify(filteredStreamMock, Mockito.times(1)).collect(Collectors.toList());\r\n        }\r\n\r\nI have a problem in that line \r\n\r\n    Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\r\n    \r\nIt throws null pointer exception.\r\n\r\nHow can I fix it?","title":"Spring Boot Jpastreamer - java.lang.NullPointerException in JUnit Test","body":"<p>I have a problem to write JUnit test for Jpastreamer in MY Spring Boot app.</p>\n<p>Here is the service shown below</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final JPAStreamer jpaStreamer;\n\n    public List&lt;Person&gt; findByAgeForJpaStreamer(Integer age) {\n        return jpaStreamer.stream(Person.class).\n                filter(Person$.age.equal(age)).\n                collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>Here is the BaseServiceTest shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;test&quot;)\npublic abstract class BaseServiceTest {\n}\n</code></pre>\n<p>Here is PersonServiceTest shown below</p>\n<pre><code>class PersonServiceTest extends BaseServiceTest {\n\n    @InjectMocks\n    private PersonService personService;\n\n    @Mock\n    private JPAStreamer jpaStreamer;\n\n    private List&lt;Person&gt; personList;\n\n    @BeforeEach\n    public void setup() {\n        personList = Arrays.asList(\n                Person.builder().id(1L).firstName(&quot;John&quot;).lastName(&quot;Doe&quot;).age(33).birthday(LocalDate.of(1990, 5, 15)).build(),\n                Person.builder().id(2L).firstName(&quot;Jane&quot;).lastName(&quot;Smith&quot;).age(27).birthday(LocalDate.of(1996, 9, 20)).build(),\n                Person.builder().id(3L).firstName(&quot;David&quot;).lastName(&quot;Johnson&quot;).age(32).birthday(LocalDate.of(1991, 9, 20)).build()\n        );\n    }\n\n    @Test\n    public void testJpaStreamerFindByAge() {\n\n        // given\n        Stream&lt;Person&gt; personStreamMock = personList.stream();\n        Stream&lt;Person&gt; filteredStreamMock = personStreamMock\n                .filter(person -&gt; person.getAge() == 32);\n        List&lt;Person&gt; collectedListMock = filteredStreamMock.collect(Collectors.toList());\n\n        // whwn\n        Mockito.when(jpaStreamer.stream(Person.class)).thenReturn(personStreamMock);\n        Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\n        Mockito.when(filteredStreamMock.collect(Collectors.toList())).thenReturn(collectedListMock);\n\n        // then\n        List&lt;Person&gt; actualPersons = personService.findByAgeForJpaStreamer(32);\n\n        // Assert the result\n        assertEquals(collectedListMock, actualPersons);\n        assertEquals(collectedListMock.size(), actualPersons.size());\n\n        // Assert each person's properties\n        for (int i = 0; i &lt; collectedListMock.size(); i++) {\n            assertEquals(collectedListMock.get(i).getId(), actualPersons.get(i).getId());\n            assertEquals(collectedListMock.get(i).getFirstName(), actualPersons.get(i).getFirstName());\n            assertEquals(collectedListMock.get(i).getLastName(), actualPersons.get(i).getLastName());\n            assertEquals(collectedListMock.get(i).getAge(), actualPersons.get(i).getAge());\n            assertEquals(collectedListMock.get(i).getBirthday(), actualPersons.get(i).getBirthday());\n        }\n\n        // Verify the JPAStreamer method calls\n        Mockito.verify(jpaStreamer, Mockito.times(1)).stream(Person.class);\n        Mockito.verify(personStreamMock, Mockito.times(1)).filter(Mockito.any());\n        Mockito.verify(filteredStreamMock, Mockito.times(1)).collect(Collectors.toList());\n    }\n</code></pre>\n<p>I have a problem in that line</p>\n<pre><code>Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\n</code></pre>\n<p>It throws null pointer exception.</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","android","xml","components","bottomnavigationview"],"owner":{"account_id":28242847,"reputation":11,"user_id":21590375,"display_name":"prog "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690616731,"creation_date":1690616731,"question_id":76792573,"body_markdown":"hello i do this navigtion in xml project but i dont know how i can do it again in compose project i will put all bellow and what i tried for do that \r\n\r\n[this is in xml what i ned to do it again in compose with the same look maybe and i will put the codes for it in xml and java][1]\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#1D53AF&quot;\r\n        tools:context=&quot;.testMain&quot;&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/container&quot;\r\n            android:layout_width=&quot;417dp&quot;\r\n            android:layout_height=&quot;602dp&quot;\r\n            android:layout_above=&quot;@+id/navigation&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;-6dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:layout_marginBottom=&quot;0dp&quot;\r\n            android:background=&quot;@color/home_20&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/navigation&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;androidx.viewpager.widget.ViewPager\r\n            android:id=&quot;@+id/viewPager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n    \r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/navigation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@drawable/nevc&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:itemIconTint=&quot;@drawable/icon_selector&quot;\r\n            app:itemTextColor=&quot;@color/bottom_navigation_colors&quot;\r\n            app:menu=&quot;@menu/nav_item&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n    java`  bottomNavigationView = findViewById(R.id.navigation);\r\n            viewPager = findViewById(R.id.viewPager);\r\n    \r\n            // تعيين adapter لـ ViewPager\r\n            ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\r\n            viewPager.setAdapter(adapter);\r\n            viewPager.setOffscreenPageLimit(4);\r\n    \r\n            // تعيين listener لـ BottomNavigationView\r\n            bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    switch (item.getItemId()) {\r\n                        case R.id.home:\r\n                            viewPager.setCurrentItem(0);\r\n                            break;\r\n                        case R.id.cart:\r\n                            viewPager.setCurrentItem(1);\r\n                            break;\r\n                        case R.id.massage:\r\n                            viewPager.setCurrentItem(2);\r\n                            break;\r\n                        case R.id.profile:\r\n                            viewPager.setCurrentItem(3);\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            // إنشاء BadgeDrawable وتعيينه للأيقونة المراد إظهار الرقم فوقها\r\n            BadgeDrawable chatBadge = bottomNavigationView.getOrCreateBadge(R.id.massage);\r\n            // تعيين القيمة الصحيحة لـ BadgeDrawable\r\n            chatBadge.setNumber(1);\r\n    \r\n    \r\n    // تعيين النص المخصص لـ BadgeDrawable عند تجاوز القيمة 999\r\n            if (chatBadge.getNumber() &gt; 999) {\r\n                chatBadge.setNumber(999);\r\n                chatBadge.setVisible(true);\r\n                chatBadge.setNumber(999);\r\n                chatBadge.setMaxCharacterCount(3);\r\n            } else {\r\n                chatBadge.setVisible(chatBadge.getNumber() &gt; 0);\r\n            }\r\n    \r\n    \r\n            // تعيين الألوان المختلفة لـ BadgeDrawable\r\n            chatBadge.setBackgroundColor(ContextCompat.getColor(this, R.color.red));\r\n            chatBadge.setBadgeTextColor(ContextCompat.getColor(this, R.color.white));\r\n            chatBadge.setTextAppearance(R.style.BadgeTextStyle);\r\n    \r\n    \r\n    \r\n            // تعيين listener لـ ViewPager لتحديث حالة BottomNavigationView\r\n            viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n                @Override\r\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                }\r\n    \r\n                @Override\r\n                public void onPageSelected(int position) {\r\n                    bottomNavigationView.getMenu().getItem(position).setChecked(true);\r\n                }\r\n    \r\n                @Override\r\n                public void onPageScrollStateChanged(int state) {\r\n                }\r\n            });\r\n    \r\n    \r\n            // تعيين عنوان الصفحة الرئيسية\r\n    \r\n    \r\n    \r\n    \r\n            BottomNavigationView bottomNavigationView = findViewById(R.id.navigation);\r\n            Menu menu = bottomNavigationView.getMenu();\r\n    \r\n            MenuItem homeMenuItem = menu.findItem(R.id.home);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                homeMenuItem.setTitle(R.string.home_text);\r\n            } else {\r\n                homeMenuItem.setTitle(&quot;Home&quot;);\r\n            }\r\n    // تعيين عنوان العنصر الثاني في القائمة\r\n            MenuItem cartMenuItem = menu.findItem(R.id.cart);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                cartMenuItem.setTitle(R.string.cart_text);\r\n            } else {\r\n                cartMenuItem.setTitle(&quot;Cart&quot;);\r\n            }\r\n    \r\n    // تعيين عنوان العنصر الثالث في القائمة\r\n            MenuItem messageMenuItem = menu.findItem(R.id.massage);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                messageMenuItem.setTitle(R.string.message_text);\r\n            } else {\r\n                messageMenuItem.setTitle(&quot;Message&quot;);\r\n            }\r\n    \r\n    // تعيين عنوان العنصر الرابع في القائمة\r\n            MenuItem profileMenuItem = menu.findItem(R.id.profile);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                profileMenuItem.setTitle(R.string.profile_text);\r\n            } else {\r\n                profileMenuItem.setTitle(&quot;Profile&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        // adapter لـ ViewPager\r\n        private static class ViewPagerAdapter extends FragmentStatePagerAdapter {\r\n    \r\n            public ViewPagerAdapter(FragmentManager fm) {\r\n                super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Fragment getItem(int position) {\r\n                switch (position) {\r\n                    case 0:\r\n                        return new homeFragment();\r\n                    case 1:\r\n                        return new RewardsFragment();\r\n                    case 2:\r\n                        return new chatFragment();\r\n                    case 3:\r\n                        return new ProfileFragment();\r\n                    default:\r\n                        return null;\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public int getCount() {\r\n                return 4;\r\n            }\r\n    \r\n    \r\n        }\r\n    `\r\n\r\nthats for badges and for control with viewbager\r\n\r\nand what i make in compose \r\n\r\n[here is tthe nav in compose what i need in it is add shap or corner or any thing to make it like the xml nav i tried shap but got this error Unresolved reference: shap\r\ni dont know i should make it in m3 or not for make that so i need help to know i will put the codes now(also i tried badge But I didn&#39;t see anything about it when I ran the app][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jXOgE.png\r\n  [2]: https://i.stack.imgur.com/iRPmc.png\r\n\r\ncompose nav code \r\n\r\n    package com.example.esca\r\n    \r\n    import androidx.annotation.DrawableRes\r\n    import androidx.compose.material.BottomNavigation\r\n    import androidx.compose.material.BottomNavigationItem\r\n    import androidx.compose.material.Icon\r\n    import androidx.compose.material.Text\r\n    import androidx.compose.runtime.Composable\r\n    import androidx.compose.runtime.getValue\r\n    import androidx.compose.ui.graphics.Color.Companion.Blue\r\n    import androidx.compose.ui.res.painterResource\r\n    import androidx.navigation.NavController\r\n    import androidx.navigation.NavGraph.Companion.findStartDestination\r\n    import androidx.navigation.NavHostController\r\n    import androidx.navigation.compose.NavHost\r\n    import androidx.navigation.compose.composable\r\n    import androidx.navigation.compose.currentBackStackEntryAsState\r\n    import com.example.esca.screens.HomeScreen\r\n    \r\n    sealed class ScreensNav(val title: String, val route: String, @DrawableRes val icons: Int ) {\r\n    \r\n        object Home : ScreensNav(\r\n            title = &quot;home&quot;,\r\n            route = &quot;home_route&quot;,\r\n            icons = R.drawable.home_24\r\n        )\r\n    \r\n        object chat : ScreensNav(\r\n            title = &quot;massge&quot;,\r\n            route = &quot;chat_route&quot;,\r\n            icons = R.drawable.message\r\n        )\r\n    \r\n        object profile : ScreensNav(\r\n            title = &quot;profile&quot;,\r\n            route = &quot;profile_route&quot;,\r\n            icons = R.drawable.profile\r\n        )\r\n    }\r\n    \r\n    @Composable\r\n    fun BottomNavHost(navHostController: NavHostController){\r\n    \r\n            NavHost(\r\n                navController = navHostController,\r\n                startDestination = ScreensNav.Home.route\r\n            ){\r\n                composable(route = ScreensNav.Home.route){\r\n                    HomeScreen()\r\n                }\r\n                composable(route = ScreensNav.chat.route){\r\n    \r\n                    chatScreen()\r\n    \r\n                }\r\n                composable(route = ScreensNav.profile.route){\r\n    \r\n                    SearchScreen()\r\n    \r\n                }\r\n            }\r\n    }\r\n    \r\n    \r\n    \r\n    @Composable\r\n    fun BottomNavScreens(navController: NavController, item: List&lt;ScreensNav&gt;){\r\n    \r\n        val navBackStackEntry by navController.currentBackStackEntryAsState()\r\n        val currentDestination = navBackStackEntry?.destination\r\n        BottomNavigation(\r\n            modifier = androidx.compose.ui.Modifier,\r\n            backgroundColor = Blue,\r\n    \r\n        ) {\r\n    \r\n            item.forEach{ screens -&gt;\r\n    \r\n    \r\n                BottomNavigationItem(\r\n                    selected =currentDestination?.route == screens.route,\r\n                    onClick = {\r\n    \r\n                              navController.navigate(screens.route){\r\n                                  launchSingleTop = true\r\n    \r\n                                  popUpTo(navController.graph.findStartDestination().id){\r\n    \r\n                                      saveState = true\r\n                                  }\r\n                                  restoreState = true\r\n                              }\r\n                              },\r\n                    icon ={\r\n                        Icon(painter = painterResource(id = screens.icons), contentDescription = null )\r\n    \r\n                          },\r\n                    label = {Text(screens.title)}\r\n                )\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand the activty for nav \r\n\r\n    @file:OptIn(ExperimentalMaterial3Api::class)\r\n    \r\n    package com.example.esca\r\n    \r\n    import android.annotation.SuppressLint\r\n    import android.os.Bundle\r\n    import androidx.activity.ComponentActivity\r\n    import androidx.activity.compose.setContent\r\n    import androidx.compose.foundation.layout.fillMaxSize\r\n    import androidx.compose.material3.*\r\n    import androidx.compose.runtime.Composable\r\n    import androidx.compose.ui.Modifier\r\n    import androidx.compose.ui.tooling.preview.Preview\r\n    import androidx.navigation.compose.rememberNavController\r\n    import com.example.esca.screens.ui.theme.EscaTheme\r\n    \r\n    class ty2 : ComponentActivity() {\r\n        @SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\r\n        @OptIn(ExperimentalMaterial3Api::class)\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContent {\r\n    \r\n                val listItem = listOf(\r\n    \r\n                    ScreensNav.Home,\r\n                    ScreensNav.chat,\r\n                    ScreensNav.profile,\r\n    \r\n    \r\n    \r\n                    )\r\n                // remember navController so it does not\r\n                // get recreated on recomposition\r\n                val navController = rememberNavController()\r\n                EscaTheme {\r\n    \r\n    \r\n                    Surface(\r\n    \r\n                        modifier = Modifier\r\n                            .fillMaxSize(),\r\n                        color = MaterialTheme.colorScheme.background\r\n                    ) {\r\n                        // Scaffold Component\r\n                        Scaffold(\r\n                            // Bottom navigation\r\n                            bottomBar = {\r\n                                BottomNavScreens(navController = navController,  item = listItem)\r\n                            }){\r\n    \r\n                            BottomNavHost(navHostController = navController)\r\n                        }\r\n    \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    @Composable\r\n    fun SearchScreen() {\r\n        Text(text = &quot;Search Screen&quot;)\r\n    }\r\n    \r\n    @Composable\r\n    fun ProfileScreen() {\r\n        Text(text = &quot;Profile Screen&quot;)\r\n    }\r\n    \r\n    \r\n    \r\n    @SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\r\n    @Preview(showBackground = true)\r\n    @Composable\r\n    fun EscaPreview() {\r\n        val listItem = listOf(\r\n            ScreensNav.Home,\r\n            ScreensNav.chat,\r\n            ScreensNav.profile\r\n        )\r\n        val navController = rememberNavController()\r\n        EscaTheme {\r\n            Scaffold(\r\n                bottomBar = { BottomNavScreens(navController = navController, item = listItem) }\r\n            ) {\r\n                BottomNavHost(navHostController = navController)\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"how to make bottomnavigtion in compose like xml and java","body":"<p>hello i do this navigtion in xml project but i dont know how i can do it again in compose project i will put all bellow and what i tried for do that</p>\n<p><a href=\"https://i.stack.imgur.com/jXOgE.png\" rel=\"nofollow noreferrer\">this is in xml what i ned to do it again in compose with the same look maybe and i will put the codes for it in xml and java</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#1D53AF&quot;\n    tools:context=&quot;.testMain&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;417dp&quot;\n        android:layout_height=&quot;602dp&quot;\n        android:layout_above=&quot;@+id/navigation&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;-6dp&quot;\n        android:layout_marginTop=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;0dp&quot;\n        android:background=&quot;@color/home_20&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/navigation&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;androidx.viewpager.widget.ViewPager\n        android:id=&quot;@+id/viewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/navigation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:background=&quot;@drawable/nevc&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:itemIconTint=&quot;@drawable/icon_selector&quot;\n        app:itemTextColor=&quot;@color/bottom_navigation_colors&quot;\n        app:menu=&quot;@menu/nav_item&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n\n\njava`  bottomNavigationView = findViewById(R.id.navigation);\n        viewPager = findViewById(R.id.viewPager);\n\n        // تعيين adapter لـ ViewPager\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n        viewPager.setAdapter(adapter);\n        viewPager.setOffscreenPageLimit(4);\n\n        // تعيين listener لـ BottomNavigationView\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()) {\n                    case R.id.home:\n                        viewPager.setCurrentItem(0);\n                        break;\n                    case R.id.cart:\n                        viewPager.setCurrentItem(1);\n                        break;\n                    case R.id.massage:\n                        viewPager.setCurrentItem(2);\n                        break;\n                    case R.id.profile:\n                        viewPager.setCurrentItem(3);\n                        break;\n                }\n                return true;\n            }\n        });\n\n\n\n        // إنشاء BadgeDrawable وتعيينه للأيقونة المراد إظهار الرقم فوقها\n        BadgeDrawable chatBadge = bottomNavigationView.getOrCreateBadge(R.id.massage);\n        // تعيين القيمة الصحيحة لـ BadgeDrawable\n        chatBadge.setNumber(1);\n\n\n// تعيين النص المخصص لـ BadgeDrawable عند تجاوز القيمة 999\n        if (chatBadge.getNumber() &gt; 999) {\n            chatBadge.setNumber(999);\n            chatBadge.setVisible(true);\n            chatBadge.setNumber(999);\n            chatBadge.setMaxCharacterCount(3);\n        } else {\n            chatBadge.setVisible(chatBadge.getNumber() &gt; 0);\n        }\n\n\n        // تعيين الألوان المختلفة لـ BadgeDrawable\n        chatBadge.setBackgroundColor(ContextCompat.getColor(this, R.color.red));\n        chatBadge.setBadgeTextColor(ContextCompat.getColor(this, R.color.white));\n        chatBadge.setTextAppearance(R.style.BadgeTextStyle);\n\n\n\n        // تعيين listener لـ ViewPager لتحديث حالة BottomNavigationView\n        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                bottomNavigationView.getMenu().getItem(position).setChecked(true);\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n            }\n        });\n\n\n        // تعيين عنوان الصفحة الرئيسية\n\n\n\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.navigation);\n        Menu menu = bottomNavigationView.getMenu();\n\n        MenuItem homeMenuItem = menu.findItem(R.id.home);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            homeMenuItem.setTitle(R.string.home_text);\n        } else {\n            homeMenuItem.setTitle(&quot;Home&quot;);\n        }\n// تعيين عنوان العنصر الثاني في القائمة\n        MenuItem cartMenuItem = menu.findItem(R.id.cart);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            cartMenuItem.setTitle(R.string.cart_text);\n        } else {\n            cartMenuItem.setTitle(&quot;Cart&quot;);\n        }\n\n// تعيين عنوان العنصر الثالث في القائمة\n        MenuItem messageMenuItem = menu.findItem(R.id.massage);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            messageMenuItem.setTitle(R.string.message_text);\n        } else {\n            messageMenuItem.setTitle(&quot;Message&quot;);\n        }\n\n// تعيين عنوان العنصر الرابع في القائمة\n        MenuItem profileMenuItem = menu.findItem(R.id.profile);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            profileMenuItem.setTitle(R.string.profile_text);\n        } else {\n            profileMenuItem.setTitle(&quot;Profile&quot;);\n        }\n\n    }\n\n    // adapter لـ ViewPager\n    private static class ViewPagerAdapter extends FragmentStatePagerAdapter {\n\n        public ViewPagerAdapter(FragmentManager fm) {\n            super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n        }\n\n        @NonNull\n        @Override\n        public Fragment getItem(int position) {\n            switch (position) {\n                case 0:\n                    return new homeFragment();\n                case 1:\n                    return new RewardsFragment();\n                case 2:\n                    return new chatFragment();\n                case 3:\n                    return new ProfileFragment();\n                default:\n                    return null;\n            }\n        }\n\n        @Override\n        public int getCount() {\n            return 4;\n        }\n\n\n    }\n`\n</code></pre>\n<p>thats for badges and for control with viewbager</p>\n<p>and what i make in compose</p>\n<p><a href=\"https://i.stack.imgur.com/iRPmc.png\" rel=\"nofollow noreferrer\">here is tthe nav in compose what i need in it is add shap or corner or any thing to make it like the xml nav i tried shap but got this error Unresolved reference: shap\ni dont know i should make it in m3 or not for make that so i need help to know i will put the codes now(also i tried badge But I didn't see anything about it when I ran the app</a></p>\n<p>compose nav code</p>\n<pre><code>package com.example.esca\n\nimport androidx.annotation.DrawableRes\nimport androidx.compose.material.BottomNavigation\nimport androidx.compose.material.BottomNavigationItem\nimport androidx.compose.material.Icon\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.getValue\nimport androidx.compose.ui.graphics.Color.Companion.Blue\nimport androidx.compose.ui.res.painterResource\nimport androidx.navigation.NavController\nimport androidx.navigation.NavGraph.Companion.findStartDestination\nimport androidx.navigation.NavHostController\nimport androidx.navigation.compose.NavHost\nimport androidx.navigation.compose.composable\nimport androidx.navigation.compose.currentBackStackEntryAsState\nimport com.example.esca.screens.HomeScreen\n\nsealed class ScreensNav(val title: String, val route: String, @DrawableRes val icons: Int ) {\n\n    object Home : ScreensNav(\n        title = &quot;home&quot;,\n        route = &quot;home_route&quot;,\n        icons = R.drawable.home_24\n    )\n\n    object chat : ScreensNav(\n        title = &quot;massge&quot;,\n        route = &quot;chat_route&quot;,\n        icons = R.drawable.message\n    )\n\n    object profile : ScreensNav(\n        title = &quot;profile&quot;,\n        route = &quot;profile_route&quot;,\n        icons = R.drawable.profile\n    )\n}\n\n@Composable\nfun BottomNavHost(navHostController: NavHostController){\n\n        NavHost(\n            navController = navHostController,\n            startDestination = ScreensNav.Home.route\n        ){\n            composable(route = ScreensNav.Home.route){\n                HomeScreen()\n            }\n            composable(route = ScreensNav.chat.route){\n\n                chatScreen()\n\n            }\n            composable(route = ScreensNav.profile.route){\n\n                SearchScreen()\n\n            }\n        }\n}\n\n\n\n@Composable\nfun BottomNavScreens(navController: NavController, item: List&lt;ScreensNav&gt;){\n\n    val navBackStackEntry by navController.currentBackStackEntryAsState()\n    val currentDestination = navBackStackEntry?.destination\n    BottomNavigation(\n        modifier = androidx.compose.ui.Modifier,\n        backgroundColor = Blue,\n\n    ) {\n\n        item.forEach{ screens -&gt;\n\n\n            BottomNavigationItem(\n                selected =currentDestination?.route == screens.route,\n                onClick = {\n\n                          navController.navigate(screens.route){\n                              launchSingleTop = true\n\n                              popUpTo(navController.graph.findStartDestination().id){\n\n                                  saveState = true\n                              }\n                              restoreState = true\n                          }\n                          },\n                icon ={\n                    Icon(painter = painterResource(id = screens.icons), contentDescription = null )\n\n                      },\n                label = {Text(screens.title)}\n            )\n\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>and the activty for nav</p>\n<pre><code>@file:OptIn(ExperimentalMaterial3Api::class)\n\npackage com.example.esca\n\nimport android.annotation.SuppressLint\nimport android.os.Bundle\nimport androidx.activity.ComponentActivity\nimport androidx.activity.compose.setContent\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material3.*\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.navigation.compose.rememberNavController\nimport com.example.esca.screens.ui.theme.EscaTheme\n\nclass ty2 : ComponentActivity() {\n    @SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\n    @OptIn(ExperimentalMaterial3Api::class)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n\n            val listItem = listOf(\n\n                ScreensNav.Home,\n                ScreensNav.chat,\n                ScreensNav.profile,\n\n\n\n                )\n            // remember navController so it does not\n            // get recreated on recomposition\n            val navController = rememberNavController()\n            EscaTheme {\n\n\n                Surface(\n\n                    modifier = Modifier\n                        .fillMaxSize(),\n                    color = MaterialTheme.colorScheme.background\n                ) {\n                    // Scaffold Component\n                    Scaffold(\n                        // Bottom navigation\n                        bottomBar = {\n                            BottomNavScreens(navController = navController,  item = listItem)\n                        }){\n\n                        BottomNavHost(navHostController = navController)\n                    }\n\n                }\n            }\n        }\n    }\n}\n\n\n\n\n\n@Composable\nfun SearchScreen() {\n    Text(text = &quot;Search Screen&quot;)\n}\n\n@Composable\nfun ProfileScreen() {\n    Text(text = &quot;Profile Screen&quot;)\n}\n\n\n\n@SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\n@Preview(showBackground = true)\n@Composable\nfun EscaPreview() {\n    val listItem = listOf(\n        ScreensNav.Home,\n        ScreensNav.chat,\n        ScreensNav.profile\n    )\n    val navController = rememberNavController()\n    EscaTheme {\n        Scaffold(\n            bottomBar = { BottomNavScreens(navController = navController, item = listItem) }\n        ) {\n            BottomNavHost(navHostController = navController)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1690568214,"post_id":76790149,"comment_id":135377017,"body_markdown":"Myguess is you are using `static` fields (i.e.`static ListNode head;`. They are global forthe class itself.","body":"Myguess is you are using <code>static</code> fields (i.e.<code>static ListNode head;</code>. They are global forthe class itself."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690568310,"post_id":76790149,"comment_id":135377028,"body_markdown":"Can you please elaborate? I did not get your point.","body":"Can you please elaborate? I did not get your point."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1690568563,"post_id":76790149,"comment_id":135377065,"body_markdown":"`head` should be a normal `MergeSinglyLinkedList` field. If you make it `static` you have a single global variable shared by all lists. Which would explain it.","body":"<code>head</code> should be a normal <code>MergeSinglyLinkedList</code> field. If you make it <code>static</code> you have a single global variable shared by all lists. Which would explain it."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690569036,"post_id":76790149,"comment_id":135377146,"body_markdown":"Please provide the code that is needed to run this and reproduce the issue.","body":"Please provide the code that is needed to run this and reproduce the issue."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690569206,"post_id":76790149,"comment_id":135377185,"body_markdown":"All the code snippet is mentioned above, please check.\n&#39;    private static ListNode head;\n\n    private static class ListNode {\n        private int data;\n        private ListNode next;\n\n        public ListNode(int data) {\n            this.data = data;\n            this.next = null;\n        }\n    }&#39;\n\n@trincot","body":"All the code snippet is mentioned above, please check. &#39;    private static ListNode head;      private static class ListNode {         private int data;         private ListNode next;          public ListNode(int data) {             this.data = data;             this.next = null;         }     }&#39;  @trincot"},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690569252,"post_id":76790149,"comment_id":135377188,"body_markdown":"@JoopEggen please mention the code snippet that can be used to resolve the issue?","body":"@JoopEggen please mention the code snippet that can be used to resolve the issue?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690569298,"post_id":76790149,"comment_id":135377192,"body_markdown":"@RishabSud, the definition of the `ListNode` class should be in your question, not in a comment. But now that you have shared `static ListNode head` ... it is clear that the first comment above is right on target. That&#39;s your problem. It means there is only one `head` even if you have multiple instances of `ListNode`. And obviously you need two heads here, not one.","body":"@RishabSud, the definition of the <code>ListNode</code> class should be in your question, not in a comment. But now that you have shared <code>static ListNode head</code> ... it is clear that the first comment above is right on target. That&#39;s your problem. It means there is only one <code>head</code> even if you have multiple instances of <code>ListNode</code>. And obviously you need two heads here, not one."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690570596,"post_id":76790149,"comment_id":135377375,"body_markdown":"oh okay, sorry I missed that part @trincot. Thanks for the solution. I will try and update accordingly.","body":"oh okay, sorry I missed that part @trincot. Thanks for the solution. I will try and update accordingly."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690615554,"post_id":76790149,"comment_id":135380850,"body_markdown":"@trincot I tried the below solution and it works for me. I have answered the question.","body":"@trincot I tried the below solution and it works for me. I have answered the question."}],"answers":[{"tags":[],"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690615498,"creation_date":1690615498,"answer_id":76792502,"question_id":76790149,"body_markdown":"&gt;    private ListNode head;\r\n&gt; \r\n&gt;     private static class ListNode {\r\n&gt;         private int data;\r\n&gt;         private ListNode next;\r\n&gt; \r\n&gt;         public ListNode(int data) {\r\n&gt;             this.data = data;\r\n&gt;             this.next = null;\r\n&gt;         }\r\n&gt;     }\r\n\r\nThere is only one head even if I have multiple instances of ListNode because in definition of head, `static` keyword is used. Hence if we make another `ListNode head` or remove the `static` from the existing defintion, the output will be as follows:\r\n\r\n&gt; 1--&gt;5--&gt;9--&gt;11--&gt;null\r\n&gt; 2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null","title":"Two Linked Lists are not being printed separately while being displayed","body":"<blockquote>\n<p>private ListNode head;</p>\n<pre><code>private static class ListNode {\n    private int data;\n    private ListNode next;\n\n    public ListNode(int data) {\n        this.data = data;\n        this.next = null;\n    }\n}\n</code></pre>\n</blockquote>\n<p>There is only one head even if I have multiple instances of ListNode because in definition of head, <code>static</code> keyword is used. Hence if we make another <code>ListNode head</code> or remove the <code>static</code> from the existing defintion, the output will be as follows:</p>\n<blockquote>\n<p>1--&gt;5--&gt;9--&gt;11--&gt;null\n2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null</p>\n</blockquote>\n"}],"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690615498,"creation_date":1690567723,"question_id":76790149,"body_markdown":"    public class MergeSinglyLinkedList {\r\n\r\n    private static ListNode head;\r\n\r\n    private static class ListNode {\r\n        private int data;\r\n        private ListNode next;\r\n\r\n        public ListNode(int data) {\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n&gt; ```\r\n&gt;    public static void main(String[] args) {\r\n&gt;         MergeSinglyLinkedList sll1 = new MergeSinglyLinkedList();\r\n&gt;         sll1.insertAtLast(1);\r\n&gt;         sll1.insertAtLast(5);\r\n&gt;         sll1.insertAtLast(9);\r\n&gt;         sll1.insertAtLast(11);\r\n&gt; \r\n&gt;         MergeSinglyLinkedList sll2 = new MergeSinglyLinkedList();\r\n&gt;         sll2.insertAtLast(2);\r\n&gt;         sll2.insertAtLast(3);\r\n&gt;         sll2.insertAtLast(7);\r\n&gt;         sll2.insertAtLast(10);\r\n&gt;         sll2.insertAtLast(11);\r\n&gt;         sll2.insertAtLast(13);\r\n&gt;         sll2.insertAtLast(19);\r\n&gt;         sll2.insertAtLast(20);\r\n&gt;         \r\n&gt;         sll1.display();\r\n&gt;         sll2.display();\r\n&gt; }\r\n\r\n    public void insertAtLast(int value){\r\n        ListNode newNode = new ListNode(value);\r\n        if(head==null){\r\n            head=newNode;\r\n            return;\r\n        }\r\n        ListNode current = head;\r\n        while (null!=current.next){\r\n            current= current.next;\r\n        }\r\n        current.next=newNode;\r\n    }\r\n\r\n    &gt;     public void display(){\r\n            ListNode current=head;\r\n            int count=0;\r\n            while (current!=null){\r\n                System.out.print(current.data+&quot;--&gt;&quot;);\r\n                count++;\r\n                current=current.next;\r\n            }\r\n            System.out.println(&quot;null&quot;);\r\n        }\r\n\r\nThis is my piece of code I am trying to execute in intelliJ. The output I expect is:\r\n\r\n```\r\n1--&gt;5--&gt;9--&gt;11--&gt;null\r\n2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\r\n```\r\n\r\nBut instead, the output I am getting is\r\n\r\n&gt; 1--\\&gt;5--\\&gt;9--\\&gt;11--\\&gt;2--\\&gt;3--\\&gt;7--\\&gt;10--\\&gt;11--\\&gt;13--\\&gt;19--\\&gt;20--\\&gt;null\r\n\r\nI tried making a separate **display1()** function and then calling to print the Linked Lists as follwing:\r\n\r\n```\r\npublic void display(){\r\n        ListNode current=head;\r\n        int count=0;\r\n        while (current!=null){\r\n            System.out.print(current.data+&quot;--&gt;&quot;);\r\n            count++;\r\n            current=current.next;\r\n        }\r\n        System.out.println(&quot;null&quot;);\r\n    }\r\n\r\n    public void display1(){\r\n        ListNode current=head;\r\n        int count=0;\r\n        while (current!=null){\r\n            System.out.print(current.data+&quot;--&gt;&quot;);\r\n            count++;\r\n            current=current.next;\r\n        }\r\n        System.out.println(&quot;null&quot;);\r\n    }\r\n```\r\n\r\nAnd then calling both the functions separately as:\r\n\r\n```\r\nsll1.display();\r\nsll2.display1();\r\n```\r\n\r\nbut still, the output is:\r\n\r\n```\r\n1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\r\n1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\r\n```\r\n\r\nI am not sure what I am doing wrong, can somebody help me please?","title":"Two Linked Lists are not being printed separately while being displayed","body":"<pre><code>public class MergeSinglyLinkedList {\n\nprivate static ListNode head;\n\nprivate static class ListNode {\n    private int data;\n    private ListNode next;\n\n    public ListNode(int data) {\n        this.data = data;\n        this.next = null;\n    }\n}\n</code></pre>\n<blockquote>\n<pre><code>   public static void main(String[] args) {\n        MergeSinglyLinkedList sll1 = new MergeSinglyLinkedList();\n        sll1.insertAtLast(1);\n        sll1.insertAtLast(5);\n        sll1.insertAtLast(9);\n        sll1.insertAtLast(11);\n\n        MergeSinglyLinkedList sll2 = new MergeSinglyLinkedList();\n        sll2.insertAtLast(2);\n        sll2.insertAtLast(3);\n        sll2.insertAtLast(7);\n        sll2.insertAtLast(10);\n        sll2.insertAtLast(11);\n        sll2.insertAtLast(13);\n        sll2.insertAtLast(19);\n        sll2.insertAtLast(20);\n        \n        sll1.display();\n        sll2.display();\n}\n</code></pre>\n</blockquote>\n<pre><code>public void insertAtLast(int value){\n    ListNode newNode = new ListNode(value);\n    if(head==null){\n        head=newNode;\n        return;\n    }\n    ListNode current = head;\n    while (null!=current.next){\n        current= current.next;\n    }\n    current.next=newNode;\n}\n\n&gt;     public void display(){\n        ListNode current=head;\n        int count=0;\n        while (current!=null){\n            System.out.print(current.data+&quot;--&gt;&quot;);\n            count++;\n            current=current.next;\n        }\n        System.out.println(&quot;null&quot;);\n    }\n</code></pre>\n<p>This is my piece of code I am trying to execute in intelliJ. The output I expect is:</p>\n<pre><code>1--&gt;5--&gt;9--&gt;11--&gt;null\n2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\n</code></pre>\n<p>But instead, the output I am getting is</p>\n<blockquote>\n<p>1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null</p>\n</blockquote>\n<p>I tried making a separate <strong>display1()</strong> function and then calling to print the Linked Lists as follwing:</p>\n<pre><code>public void display(){\n        ListNode current=head;\n        int count=0;\n        while (current!=null){\n            System.out.print(current.data+&quot;--&gt;&quot;);\n            count++;\n            current=current.next;\n        }\n        System.out.println(&quot;null&quot;);\n    }\n\n    public void display1(){\n        ListNode current=head;\n        int count=0;\n        while (current!=null){\n            System.out.print(current.data+&quot;--&gt;&quot;);\n            count++;\n            current=current.next;\n        }\n        System.out.println(&quot;null&quot;);\n    }\n</code></pre>\n<p>And then calling both the functions separately as:</p>\n<pre><code>sll1.display();\nsll2.display1();\n</code></pre>\n<p>but still, the output is:</p>\n<pre><code>1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\n1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\n</code></pre>\n<p>I am not sure what I am doing wrong, can somebody help me please?</p>\n"},{"tags":["java","steganography","dct"],"comments":[{"owner":{"account_id":2587836,"reputation":9666,"user_id":2243104,"display_name":"Reti43"},"score":0,"creation_date":1394248711,"post_id":22262872,"comment_id":33818830,"body_markdown":"It&#39;s not clear what&#39;s troubling you about that step. The extraction process is the inverse of the embedding process and this knowledge is assumed. For example, if you had arranged it so that you embed in the 3rd and 5th coefficients, that&#39;s where you&#39;ll look to extract your message.","body":"It&#39;s not clear what&#39;s troubling you about that step. The extraction process is the inverse of the embedding process and this knowledge is assumed. For example, if you had arranged it so that you embed in the 3rd and 5th coefficients, that&#39;s where you&#39;ll look to extract your message."},{"owner":{"account_id":2532463,"reputation":599,"user_id":2200464,"accept_rate":79,"display_name":"Douglas Grealis"},"score":0,"creation_date":1394249418,"post_id":22262872,"comment_id":33818931,"body_markdown":"That could be done. I simply have it to alter every coefficient (not 1s, 0s or DC), for every block until the end of the message (no more bits to embed). So when I try to extract the LSBs of each coeeficient,  it tries to convert all bits together back into ASCII (which does not seem to be correct). Plus your idea, what if the 3rd or 5th coeffs were a 1 or a 0? And how could I tell it not to extract it, due to being a 1 or 0? Thats my problem","body":"That could be done. I simply have it to alter every coefficient (not 1s, 0s or DC), for every block until the end of the message (no more bits to embed). So when I try to extract the LSBs of each coeeficient,  it tries to convert all bits together back into ASCII (which does not seem to be correct). Plus your idea, what if the 3rd or 5th coeffs were a 1 or a 0? And how could I tell it not to extract it, due to being a 1 or 0? Thats my problem"},{"owner":{"account_id":2587836,"reputation":9666,"user_id":2243104,"display_name":"Reti43"},"score":0,"creation_date":1394250221,"post_id":22262872,"comment_id":33819056,"body_markdown":"Surely you can check the coefficient with an if statement before reading any LSBs of it. If it&#39;s 1 or 0, simply ignore it and move on. Naturally, this goes for both the embedding and extraction procedures.","body":"Surely you can check the coefficient with an if statement before reading any LSBs of it. If it&#39;s 1 or 0, simply ignore it and move on. Naturally, this goes for both the embedding and extraction procedures."}],"answers":[{"tags":[],"owner":{"account_id":26604059,"reputation":297,"user_id":20225232,"display_name":"Martin Benes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690614854,"creation_date":1690611768,"answer_id":76792309,"question_id":22262872,"body_markdown":"You choose a random path and follow it when going through the cover -  you randomly permute the indices of the array (using a key as a seed).\r\n\r\nThe problem with 1s and 0s when embedding in DCT domain is a well-studied topic. The final solution seems to be nsF5 steganographic embedding which uses wet-paper codes (WPC).\r\n\r\nAuthors&#39; [nsF5 implementation in Matlab](https://dde.binghamton.edu/download/nsf5simulator/) won&#39;t help you because it is simulation only and does not contain WPC. But it helped me understand how nsF5 works.\r\n\r\nWPC allows spreading message bits in a block of cover elements such that some of the cover elements are &quot;wet&quot; (costly to be changed).\r\nThere exist WPC implementations, such as Daniel Lerch&#39;s [stegolab in Python](https://github.com/daniellerch/stegolab/blob/master/codes/wet_paper_codes.py). If you want to deeply understand WPC down to the level of being able to implement it, you will have to read related research papers.\r\n\r\nLiterature\r\n\r\n- Westfeld: [F5 — A Steganographic Algorithm](https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=149b41d7560d7bd628da502bd3d8122a8317d472). 2001.\r\n- Fridrich, Pevn&#253;, Kodovsk&#253;: [Statistically Undetectable JPEG Steganography: Dead Ends, Challenges, and Opportunities](http://www.ws.binghamton.edu/fridrich/Research/fraction03.pdf). 2007.\r\n","title":"Steganography in JPEG","body":"<p>You choose a random path and follow it when going through the cover -  you randomly permute the indices of the array (using a key as a seed).</p>\n<p>The problem with 1s and 0s when embedding in DCT domain is a well-studied topic. The final solution seems to be nsF5 steganographic embedding which uses wet-paper codes (WPC).</p>\n<p>Authors' <a href=\"https://dde.binghamton.edu/download/nsf5simulator/\" rel=\"nofollow noreferrer\">nsF5 implementation in Matlab</a> won't help you because it is simulation only and does not contain WPC. But it helped me understand how nsF5 works.</p>\n<p>WPC allows spreading message bits in a block of cover elements such that some of the cover elements are &quot;wet&quot; (costly to be changed).\nThere exist WPC implementations, such as Daniel Lerch's <a href=\"https://github.com/daniellerch/stegolab/blob/master/codes/wet_paper_codes.py\" rel=\"nofollow noreferrer\">stegolab in Python</a>. If you want to deeply understand WPC down to the level of being able to implement it, you will have to read related research papers.</p>\n<p>Literature</p>\n<ul>\n<li>Westfeld: <a href=\"https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=149b41d7560d7bd628da502bd3d8122a8317d472\" rel=\"nofollow noreferrer\">F5 — A Steganographic Algorithm</a>. 2001.</li>\n<li>Fridrich, Pevný, Kodovský: <a href=\"http://www.ws.binghamton.edu/fridrich/Research/fraction03.pdf\" rel=\"nofollow noreferrer\">Statistically Undetectable JPEG Steganography: Dead Ends, Challenges, and Opportunities</a>. 2007.</li>\n</ul>\n"}],"owner":{"account_id":2532463,"reputation":599,"user_id":2200464,"accept_rate":79,"display_name":"Douglas Grealis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690614854,"creation_date":1394235864,"question_id":22262872,"body_markdown":"I am working on a Java Steganography project to hide a .txt message in a JPEG image. Broadly speaking, there are 4 steps:\r\n\r\n1. Transform each pixel block into 8x8 DCT coefficients.\r\n2. Quantitize each block with some complex calculations.\r\n3. Embed/replace each bit of the message into the LSB of the coefficients of each block.\r\n4. After embedding, perform the inverse DCT to re-create the JPEG image with the embedded message.\r\n\r\nI am stuck on the 3rd step, because I am not sure how I can record what coefficients I have altered with the message, in order to extract it back out?\r\n\r\nCan anyone recommend what ways I can embed each coefficient, and to record each embedding, in order to extract it back out?\r\n\r\nThis would be much appreciated. \r\n\r\n(Also I know that 1s and 0s, and the DC value should be left alone).","title":"Steganography in JPEG","body":"<p>I am working on a Java Steganography project to hide a .txt message in a JPEG image. Broadly speaking, there are 4 steps:</p>\n\n<ol>\n<li>Transform each pixel block into 8x8 DCT coefficients.</li>\n<li>Quantitize each block with some complex calculations.</li>\n<li>Embed/replace each bit of the message into the LSB of the coefficients of each block.</li>\n<li>After embedding, perform the inverse DCT to re-create the JPEG image with the embedded message.</li>\n</ol>\n\n<p>I am stuck on the 3rd step, because I am not sure how I can record what coefficients I have altered with the message, in order to extract it back out?</p>\n\n<p>Can anyone recommend what ways I can embed each coefficient, and to record each embedding, in order to extract it back out?</p>\n\n<p>This would be much appreciated. </p>\n\n<p>(Also I know that 1s and 0s, and the DC value should be left alone).</p>\n"},{"tags":["java","mysql","spring-boot","datetime-format","java-time"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690595474,"post_id":76791366,"comment_id":135379740,"body_markdown":"You really should be making use of time zones and ISO standardised formats - the “format” of the date in the database should otherwise be irrelevant","body":"You really should be making use of time zones and ISO standardised formats - the “format” of the date in the database should otherwise be irrelevant"}],"answers":[{"tags":[],"owner":{"account_id":11074556,"reputation":886,"user_id":8131699,"display_name":"Melih Sevim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690584960,"creation_date":1690584334,"answer_id":76791388,"question_id":76791366,"body_markdown":"Mysql column and data need to be in string, not date type if you want to store in d/m/Y format. BUT keep in mind that you won&#39;t be able to perform date/time-related queries efficiently. If you need to perform queries based on the date/time values, it&#39;s better to keep the standard datetime format in the database and format the values as needed when fetching them for display in the frontend or API response.\r\n\r\nOR\r\n\r\nYou can use this query,\r\n\r\n    SELECT *, DATE_FORMAT(created_date_time,&#39;%d/%m/%Y %H:%i:%s.%f&#39;) AS created_date_time_formatted\r\n    from card;","title":"LocalDateTime format ok in JSON, not ok in database","body":"<p>Mysql column and data need to be in string, not date type if you want to store in d/m/Y format. BUT keep in mind that you won't be able to perform date/time-related queries efficiently. If you need to perform queries based on the date/time values, it's better to keep the standard datetime format in the database and format the values as needed when fetching them for display in the frontend or API response.</p>\n<p>OR</p>\n<p>You can use this query,</p>\n<pre><code>SELECT *, DATE_FORMAT(created_date_time,'%d/%m/%Y %H:%i:%s.%f') AS created_date_time_formatted\nfrom card;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958698,"reputation":60,"user_id":6007143,"display_name":"Angshuman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690613471,"creation_date":1690613471,"answer_id":76792398,"question_id":76791366,"body_markdown":"Please understand that `@CreatedDate`,`@DateTimeFormat` or `@JsonFormat` is not responsible for formatting dates in the database. \r\n\r\n`@JsonFormat` used for formatting dates during JSON serialization/deserialization, so it&#39;s responsible for formatting dates in the API responses, not in the DB.\r\n\r\n`@CreatedDate` used for automatically populating the `createdDateTime` field with the current date &amp; time when a new entity is persisted &amp; again has nothing to do with format in the DB.\r\n\r\nWhen a `LocalDateTime` obj is persisted to the DB, it gets converted to the corresponding date &amp; time data type supported by the DB (like `DATETIME` or `TIMESTAMP`) &amp; they are stored in their own internal representation.  MySql by default retrieves &amp; displays `DATETIME` columns in &#39;YYYY-MM-DD HH:MM:SS&#39; format.\r\n\r\nAs other answer had pointed out, you can simply change the format in which you retrieve the `DATETIME` column (like by using `DATE_FORMAT()` func) or you could store it as `VARCHAR` in your `dd/MM/yyyy HH:mm:ss.SSS` format. But storing as a `VARCHAR` is **not recommended**. ","title":"LocalDateTime format ok in JSON, not ok in database","body":"<p>Please understand that <code>@CreatedDate</code>,<code>@DateTimeFormat</code> or <code>@JsonFormat</code> is not responsible for formatting dates in the database.</p>\n<p><code>@JsonFormat</code> used for formatting dates during JSON serialization/deserialization, so it's responsible for formatting dates in the API responses, not in the DB.</p>\n<p><code>@CreatedDate</code> used for automatically populating the <code>createdDateTime</code> field with the current date &amp; time when a new entity is persisted &amp; again has nothing to do with format in the DB.</p>\n<p>When a <code>LocalDateTime</code> obj is persisted to the DB, it gets converted to the corresponding date &amp; time data type supported by the DB (like <code>DATETIME</code> or <code>TIMESTAMP</code>) &amp; they are stored in their own internal representation.  MySql by default retrieves &amp; displays <code>DATETIME</code> columns in 'YYYY-MM-DD HH:MM:SS' format.</p>\n<p>As other answer had pointed out, you can simply change the format in which you retrieve the <code>DATETIME</code> column (like by using <code>DATE_FORMAT()</code> func) or you could store it as <code>VARCHAR</code> in your <code>dd/MM/yyyy HH:mm:ss.SSS</code> format. But storing as a <code>VARCHAR</code> is <strong>not recommended</strong>.</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690613471,"creation_date":1690583964,"question_id":76791366,"body_markdown":"I want to format date-times in a SpringBoot REST API I&#39;m building in the format `&quot;dd/MM/yyyy HH:mm:ss.SSS&quot;`. So I&#39;ve put it in a global constant:\r\n\r\n```java\r\npublic static final String GLOBAL_DATE_TIME_PATTERN = &quot;dd/MM/yyyy HH:mm:ss.SSS&quot;;\r\n```\r\n\r\nand I&#39;ve annotated my DTO&#39;s `LocalDateTime` field:\r\n\r\n```java\r\n@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\nprivate LocalDateTime createdDateTime;\r\n```\r\n\r\nas well as my entity&#39;s field:\r\n\r\n```java\r\n@Column(name = &quot;created_date_time&quot;, updatable = false)\r\n@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\n@CreatedDate\r\nprotected LocalDateTime createdDateTime;\r\n```\r\n\r\nI&#39;ve `POST`-ed a few payloads (they&#39;re supposed to represent tasks in the form of cards), and I&#39;m getting the `createdDateTime` field formatted exactly as I want it in response or after a `GET` by ID:\r\n\r\n```json\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;JC2&quot;,\r\n    .\r\n    .\r\n    .\r\n    &quot;createdDateTime&quot;: &quot;29/07/2023 01:07:49.096&quot;,\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\n\r\nUnfortunately, in my database (MySQL) the date is formatted differently:\r\n\r\n```sql\r\nmysql&gt; select id, created_date_time from card;\r\n+----+----------------------------+\r\n| id | created_date_time          |\r\n+----+----------------------------+\r\n|  1 | 2023-07-29 00:57:51.083969 |\r\n|  2 | 2023-07-29 01:07:49.096333 |\r\n+----+----------------------------+\r\n2 rows in set (0.00 sec)\r\n```\r\n\r\nI would like to have the database date/times formatted as `GLOBAL_DATE_TIME_PATTERN` dictates. I&#39;m wondering whether the `@CreatedDate` annotation is in any way interfering. Grateful for any help.","title":"LocalDateTime format ok in JSON, not ok in database","body":"<p>I want to format date-times in a SpringBoot REST API I'm building in the format <code>&quot;dd/MM/yyyy HH:mm:ss.SSS&quot;</code>. So I've put it in a global constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String GLOBAL_DATE_TIME_PATTERN = &quot;dd/MM/yyyy HH:mm:ss.SSS&quot;;\n</code></pre>\n<p>and I've annotated my DTO's <code>LocalDateTime</code> field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\nprivate LocalDateTime createdDateTime;\n</code></pre>\n<p>as well as my entity's field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;created_date_time&quot;, updatable = false)\n@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\n@CreatedDate\nprotected LocalDateTime createdDateTime;\n</code></pre>\n<p>I've <code>POST</code>-ed a few payloads (they're supposed to represent tasks in the form of cards), and I'm getting the <code>createdDateTime</code> field formatted exactly as I want it in response or after a <code>GET</code> by ID:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;JC2&quot;,\n    .\n    .\n    .\n    &quot;createdDateTime&quot;: &quot;29/07/2023 01:07:49.096&quot;,\n    .\n    .\n    .\n}\n</code></pre>\n<p>Unfortunately, in my database (MySQL) the date is formatted differently:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>mysql&gt; select id, created_date_time from card;\n+----+----------------------------+\n| id | created_date_time          |\n+----+----------------------------+\n|  1 | 2023-07-29 00:57:51.083969 |\n|  2 | 2023-07-29 01:07:49.096333 |\n+----+----------------------------+\n2 rows in set (0.00 sec)\n</code></pre>\n<p>I would like to have the database date/times formatted as <code>GLOBAL_DATE_TIME_PATTERN</code> dictates. I'm wondering whether the <code>@CreatedDate</code> annotation is in any way interfering. Grateful for any help.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1690625537,"post_id":76792318,"comment_id":135381756,"body_markdown":"Does this answer your question? [RecyclerView with StaggeredGridLayoutManager : variable number of columns and vertically scrollable](https://stackoverflow.com/questions/59998188/recyclerview-with-staggeredgridlayoutmanager-variable-number-of-columns-and-ve)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59998188/recyclerview-with-staggeredgridlayoutmanager-variable-number-of-columns-and-ve\">RecyclerView with StaggeredGridLayoutManager : variable number of columns and vertically scrollable</a>"}],"owner":{"account_id":12559944,"reputation":37,"user_id":14286534,"display_name":"C. Augustus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690611924,"creation_date":1690611924,"question_id":76792318,"body_markdown":"Take GridLayoutManager as an example. The span sizes of every item are all 1 and the grid has 8 columns. In this case, a fully filled row should have 8 items within.\r\n\r\nHowever, for some rows, I want to leave some trailing blank space and the subsequent item should be placed in the next row. Since all spans are having a size of 1, it is not appropriate to stretch the item to occupy the whole row to make the next item be placed on the new row.\r\n\r\nI have been looking for answers in many places but still haven&#39;t found a workaround. Is it possible for GridLayout to do so? Or is it I have to use a custom layout extending LayoutManager?\r\n\r\nThanks for any suggestions.","title":"How to force a new row in Android&#39;s RecyclerView?","body":"<p>Take GridLayoutManager as an example. The span sizes of every item are all 1 and the grid has 8 columns. In this case, a fully filled row should have 8 items within.</p>\n<p>However, for some rows, I want to leave some trailing blank space and the subsequent item should be placed in the next row. Since all spans are having a size of 1, it is not appropriate to stretch the item to occupy the whole row to make the next item be placed on the new row.</p>\n<p>I have been looking for answers in many places but still haven't found a workaround. Is it possible for GridLayout to do so? Or is it I have to use a custom layout extending LayoutManager?</p>\n<p>Thanks for any suggestions.</p>\n"},{"tags":["java","string","collections","hashmap"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1552417841,"post_id":55129028,"comment_id":96999662,"body_markdown":"For ANSI characters, you can just have an array of size 256 and compute it.","body":"For ANSI characters, you can just have an array of size 256 and compute it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1552419553,"post_id":55129028,"comment_id":97000500,"body_markdown":"@vivek_23 Which [ANSI character set](https://en.wikipedia.org/wiki/ANSI_character_set) would that be? Or did you mean ASCII and 128?","body":"@vivek_23 Which <a href=\"https://en.wikipedia.org/wiki/ANSI_character_set\" rel=\"nofollow noreferrer\">ANSI character set</a> would that be? Or did you mean ASCII and 128?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1591448396,"post_id":55129028,"comment_id":110062510,"body_markdown":"@vivek_23 that is the windows code page 1252, not ANSI. The Unicode standard matches the iso-latin-1 character set for the first 256 codepoints. Referring to the windows code page 1252 is an unnecessary complication, as that code page does not match in the 128-159 range.","body":"@vivek_23 that is the windows code page 1252, not ANSI. The Unicode standard matches the iso-latin-1 character set for the first 256 codepoints. Referring to the windows code page 1252 is an unnecessary complication, as that code page does not match in the 128-159 range."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1591454477,"post_id":55129028,"comment_id":110064615,"body_markdown":"@Holger Ahh! Thanks for the correction. Deleted my previous comment to avoid confusion.","body":"@Holger Ahh! Thanks for the correction. Deleted my previous comment to avoid confusion."}],"answers":[{"comments":[{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1552419054,"post_id":55129227,"comment_id":97000281,"body_markdown":"Am sorry, is there a simple way for Java 8?","body":"Am sorry, is there a simple way for Java 8?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1590569197,"post_id":55129227,"comment_id":109725512,"body_markdown":"Speaking of “full Unicode support” and Emojis, it’s worth pointing out that even using codepoints is not necessarily providing the intended semantics. E.g. `&quot;ā̧&#128105;‍&#127470;&#127465;&quot;` has 10 chars, 7 codepoints, but only three characters; the first one demonstrates that this is not only an Emoji issue. The only solution, I currently know of, is to process *grapheme clusters*, e.g. with Java&#160;9+: `Pattern.compile(&quot;\\\\X&quot;).matcher(example).results() .collect(Collectors.groupingBy(MatchResult::group, Collectors.counting()))`.","body":"Speaking of “full Unicode support” and Emojis, it’s worth pointing out that even using codepoints is not necessarily providing the intended semantics. E.g. <code>&quot;ā̧👩‍🇮🇩&quot;</code> has 10 chars, 7 codepoints, but only three characters; the first one demonstrates that this is not only an Emoji issue. The only solution, I currently know of, is to process <i>grapheme clusters</i>, e.g. with Java 9+: <code>Pattern.compile(&quot;\\\\X&quot;).matcher(example).results() .collect(Collectors.groupingBy(MatchResult::group, Collectors.counting()))</code>."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1552579429,"creation_date":1552418485,"answer_id":55129227,"question_id":55129028,"body_markdown":"Simplest way to count occurrence of each character in a string, with full Unicode support (Java 11+)&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n\tString word = &quot;AAABBB&quot;;\r\n\tMap&lt;String, Long&gt; charCount = word.codePoints().mapToObj(Character::toString)\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\tSystem.out.println(charCount);\r\n\r\n&lt;sup&gt;1) Java 8 version with full Unicode support is at the end of the answer.&lt;/sup&gt;\r\n\r\n*Output*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\t{A=3, B=3}\r\n\r\n---\r\n\r\n*UPDATE:* For Java 8+ (doesn&#39;t support characters from supplemental planes, e.g. emoji):\r\n\r\n\tMap&lt;String, Long&gt; charCount = IntStream.range(0, word.length())\r\n\t\t\t.mapToObj(i -&gt; word.substring(i, i + 1))\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n---\r\n\r\n*UPDATE 2:* Also for Java 8+.\r\n\r\nI was mistaken, thinking that [`codePoints()`][1] wasn&#39;t added until Java 9. It was added in Java 8 to the [`CharSequence`][2] interface, so it doesn&#39;t show in javadoc for [`String`][3] in Java 8, and shows as [added in Java 9][4] for later versions of the javadoc.\r\n\r\nHowever, the [`Character.toString​(int codePoint)`][5] method wasn&#39;t added until Java 11, so to use the [`Character.toString​(char c)`][6] method, we can use [`chars()`][7] in Java 8:\r\n\r\n\tMap&lt;String, Long&gt; charCount = word.chars().mapToObj(c -&gt; Character.toString((char) c))\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\nOr for full Unicode support, incl. supplemental planes, we can use [`codePoints()`][1] and the [`String(int[] codePoints, int offset, int count)`][8] constructor, in Java 8:\r\n\r\n\tMap&lt;String, Long&gt; charCount = word.codePoints()\r\n\t\t\t.mapToObj(cp -&gt; new String(new int[] { cp }, 0, 1))\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#method.summary\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-int:A-int-int-","title":"Java8: Create HashMap with character count of a String","body":"<p>Simplest way to count occurrence of each character in a string, with full Unicode support (Java 11+)<sup>1</sup>:</p>\n\n<pre><code>String word = \"AAABBB\";\nMap&lt;String, Long&gt; charCount = word.codePoints().mapToObj(Character::toString)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\nSystem.out.println(charCount);\n</code></pre>\n\n<p><sup>1) Java 8 version with full Unicode support is at the end of the answer.</sup></p>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{A=3, B=3}\n</code></pre>\n\n<hr>\n\n<p><em>UPDATE:</em> For Java 8+ (doesn't support characters from supplemental planes, e.g. emoji):</p>\n\n<pre><code>Map&lt;String, Long&gt; charCount = IntStream.range(0, word.length())\n        .mapToObj(i -&gt; word.substring(i, i + 1))\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n\n<hr>\n\n<p><em>UPDATE 2:</em> Also for Java 8+.</p>\n\n<p>I was mistaken, thinking that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\" rel=\"noreferrer\"><code>codePoints()</code></a> wasn't added until Java 9. It was added in Java 8 to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"noreferrer\"><code>CharSequence</code></a> interface, so it doesn't show in javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#method.summary\" rel=\"noreferrer\"><code>String</code></a> in Java 8, and shows as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\" rel=\"noreferrer\">added in Java 9</a> for later versions of the javadoc.</p>\n\n<p>However, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"noreferrer\"><code>Character.toString​(int codePoint)</code></a> method wasn't added until Java 11, so to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\" rel=\"noreferrer\"><code>Character.toString​(char c)</code></a> method, we can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\" rel=\"noreferrer\"><code>chars()</code></a> in Java 8:</p>\n\n<pre><code>Map&lt;String, Long&gt; charCount = word.chars().mapToObj(c -&gt; Character.toString((char) c))\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n\n<p>Or for full Unicode support, incl. supplemental planes, we can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\" rel=\"noreferrer\"><code>codePoints()</code></a> and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-int:A-int-int-\" rel=\"noreferrer\"><code>String(int[] codePoints, int offset, int count)</code></a> constructor, in Java 8:</p>\n\n<pre><code>Map&lt;String, Long&gt; charCount = word.codePoints()\n        .mapToObj(cp -&gt; new String(new int[] { cp }, 0, 1))\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1552419338,"post_id":55129408,"comment_id":97000406,"body_markdown":"`chars()` requires Java 9, and better solution using `codePoints()` instead of `chars()` already posted 13 minutes earlier.","body":"<code>chars()</code> requires Java 9, and better solution using <code>codePoints()</code> instead of <code>chars()</code> already posted 13 minutes earlier."},{"owner":{"account_id":14232467,"reputation":84,"user_id":10281292,"display_name":"mm6"},"score":1,"creation_date":1552461251,"post_id":55129408,"comment_id":97012973,"body_markdown":"@Andreas agree with`codePoints()`solution, but`chars()`introduce in java 8 [String.chars()](http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--)","body":"@Andreas agree with<code>codePoints()</code>solution, but<code>chars()</code>introduce in java 8 <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\" rel=\"nofollow noreferrer\">String.chars()</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1552579584,"post_id":55129408,"comment_id":97073621,"body_markdown":"That would be `CharSequence.chars()`, not `String.chars()`, but I accept your correction. [Javadoc for Java 11](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#chars()) show method as added to `String` in Java 9, which is what lead me astray.","body":"That would be <code>CharSequence.chars()</code>, not <code>String.chars()</code>, but I accept your correction. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">Javadoc for Java 11</a> show method as added to <code>String</code> in Java 9, which is what lead me astray."}],"tags":[],"owner":{"account_id":14232467,"reputation":84,"user_id":10281292,"display_name":"mm6"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552461768,"creation_date":1552419226,"answer_id":55129408,"question_id":55129028,"body_markdown":"Hope this help : Java 8 Stream &amp; Collector:\r\n\r\n        String word = &quot;AAABBB&quot;;\r\n        Map&lt;Character, Integer&gt; charCount = word.chars().boxed().collect(Collectors.toMap(\r\n                        k -&gt; Character.valueOf((char) k.intValue()),\r\n                        v -&gt; 1,\r\n                        Integer::sum));\r\n        System.out.println(charCount);\r\n\r\n    Output:\r\n        {A=3, B=3}","title":"Java8: Create HashMap with character count of a String","body":"<p>Hope this help : Java 8 Stream &amp; Collector:</p>\n\n<pre><code>    String word = \"AAABBB\";\n    Map&lt;Character, Integer&gt; charCount = word.chars().boxed().collect(Collectors.toMap(\n                    k -&gt; Character.valueOf((char) k.intValue()),\n                    v -&gt; 1,\n                    Integer::sum));\n    System.out.println(charCount);\n\nOutput:\n    {A=3, B=3}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1590566235,"post_id":55165206,"comment_id":109723845,"body_markdown":"`charCount.put(charr,charCount.getOrDefault(charr,0)+1);` can be simplified to `charCount.merge(charr, 1, Integer::sum);` By the way, you should use `new HashMap&lt;&gt;()`…","body":"<code>charCount.put(charr,charCount.getOrDefault(charr,0)+1);</code> can be simplified to <code>charCount.merge(charr, 1, Integer::sum);</code> By the way, you should use <code>new HashMap&lt;&gt;()</code>…"}],"tags":[],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552574077,"creation_date":1552574077,"answer_id":55165206,"question_id":55129028,"body_markdown":"Figured out, below is another simple way.\r\n \r\n    Map&lt;String, Integer&gt; charCount = new HashMap();\r\n        for(String charr: s.split(&quot;&quot;)){\r\n            charCount.put(charr,charCount.getOrDefault(charr,0)+1);\r\n    }","title":"Java8: Create HashMap with character count of a String","body":"<p>Figured out, below is another simple way.</p>\n\n<pre><code>Map&lt;String, Integer&gt; charCount = new HashMap();\n    for(String charr: s.split(\"\")){\n        charCount.put(charr,charCount.getOrDefault(charr,0)+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580118908,"creation_date":1580118908,"answer_id":59928698,"question_id":55129028,"body_markdown":"         String str = &quot;Hello Manash&quot;;\r\n\t\tMap&lt;Character,Long&gt; hm = str.chars().mapToObj(c-&gt; \r\n        (char)c).collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\r\n\t\tSystem.out.println(hm);","title":"Java8: Create HashMap with character count of a String","body":"<pre><code>     String str = \"Hello Manash\";\n    Map&lt;Character,Long&gt; hm = str.chars().mapToObj(c-&gt; \n    (char)c).collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\n    System.out.println(hm);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3053788,"reputation":3379,"user_id":2587867,"accept_rate":58,"display_name":"ASR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616491572,"creation_date":1616491572,"answer_id":66760407,"question_id":55129028,"body_markdown":"Try this one :\r\n\r\n        List&lt;Character&gt; chars=Arrays.asList(&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;,&#39;w&#39;,&#39;o&#39;,&#39;r&#39;,&#39;l&#39;,&#39;d&#39;);\r\n        Map&lt;Character,Long&gt; map=chars.stream().map(c-&gt;c).\r\n        collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\r\n        System.out.println(map);\r\noutput:\r\n\r\n    {r=1, d=1, e=1, w=1, h=1, l=3, o=2}\r\n\r\n","title":"Java8: Create HashMap with character count of a String","body":"<p>Try this one :</p>\n<pre><code>    List&lt;Character&gt; chars=Arrays.asList('h','e','l','l','o','w','o','r','l','d');\n    Map&lt;Character,Long&gt; map=chars.stream().map(c-&gt;c).\n    collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\n    System.out.println(map);\n</code></pre>\n<p>output:</p>\n<pre><code>{r=1, d=1, e=1, w=1, h=1, l=3, o=2}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3465761,"reputation":629,"user_id":2901351,"display_name":"user2901351"},"score":0,"creation_date":1636455741,"post_id":69896810,"comment_id":123556006,"body_markdown":"MIght you format your code snippet as coded, to allow for greater readability? Thanks.","body":"MIght you format your code snippet as coded, to allow for greater readability? Thanks."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636455757,"post_id":69896810,"comment_id":123556021,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/69896810/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":1849092,"reputation":37,"user_id":1676045,"display_name":"Paul Martin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636457626,"creation_date":1636455025,"answer_id":69896810,"question_id":55129028,"body_markdown":"    word.chars().mapToObj(c-&gt; (char)c).collect(Collectors.groupingBy(Function.identity(),LinkedHashMap::new, Collectors.counting()));\r\n\r\n\r\nThis will give you character count in order of appearance of the character.","title":"Java8: Create HashMap with character count of a String","body":"<pre><code>word.chars().mapToObj(c-&gt; (char)c).collect(Collectors.groupingBy(Function.identity(),LinkedHashMap::new, Collectors.counting()));\n</code></pre>\n<p>This will give you character count in order of appearance of the character.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637837953,"post_id":70109318,"comment_id":123934972,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70109318/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10900254,"reputation":21,"user_id":8012706,"display_name":"Piyali Bandyopadhyay"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637836478,"creation_date":1637835417,"answer_id":70109318,"question_id":55129028,"body_markdown":"Try the below approaches:\r\n\r\nApproach 1:  \r\n\r\n        String str = &quot;abcaadcbcb&quot;;\r\n        \r\n        Map&lt;Character, Integer&gt; charCount = str.chars()\r\n                .boxed()\r\n                .collect(toMap(\r\n                        k -&gt; (char) k.intValue(),\r\n                        v -&gt; 1,         // 1 occurence\r\n                        Integer::sum));\r\n        System.out.println(&quot;Char Counts:\\n&quot; + charCount);\r\n\r\n\r\nApproach 2:\r\n\r\n        String str = &quot;abcaadcbcb&quot;;\r\n        Map&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\r\n        for (char c : str.toCharArray()) {\r\n            charCount.merge(c,          // key = char\r\n                    1,                  // value to merge\r\n                    Integer::sum);      // counting\r\n        }\r\n        System.out.println(&quot;Char Counts:\\n&quot; + charCount);\r\n\r\nOutput:\r\n\r\n        Char Counts:\r\n        {a=3, b=3, c=3, d=1}","title":"Java8: Create HashMap with character count of a String","body":"<p>Try the below approaches:</p>\n<p>Approach 1:</p>\n<pre><code>    String str = &quot;abcaadcbcb&quot;;\n    \n    Map&lt;Character, Integer&gt; charCount = str.chars()\n            .boxed()\n            .collect(toMap(\n                    k -&gt; (char) k.intValue(),\n                    v -&gt; 1,         // 1 occurence\n                    Integer::sum));\n    System.out.println(&quot;Char Counts:\\n&quot; + charCount);\n</code></pre>\n<p>Approach 2:</p>\n<pre><code>    String str = &quot;abcaadcbcb&quot;;\n    Map&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\n    for (char c : str.toCharArray()) {\n        charCount.merge(c,          // key = char\n                1,                  // value to merge\n                Integer::sum);      // counting\n    }\n    System.out.println(&quot;Char Counts:\\n&quot; + charCount);\n</code></pre>\n<p>Output:</p>\n<pre><code>    Char Counts:\n    {a=3, b=3, c=3, d=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3668752,"reputation":6568,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647010961,"creation_date":1647010961,"answer_id":71440506,"question_id":55129028,"body_markdown":" \r\n\r\n    String str = &quot;abcaadcbcb&quot;;\r\n    \r\n    Map&lt;String, Long&gt; charCount  = \r\n    Arrays.asList(str.split(&quot;&quot;)).stream().collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\r\n    \t\r\n\r\n\t","title":"Java8: Create HashMap with character count of a String","body":"<pre><code>String str = &quot;abcaadcbcb&quot;;\n\nMap&lt;String, Long&gt; charCount  = \nArrays.asList(str.split(&quot;&quot;)).stream().collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\n    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":482363,"reputation":1742,"user_id":896718,"accept_rate":77,"display_name":"Sathish Kumar k k"},"score":0,"creation_date":1671520899,"post_id":71499377,"comment_id":132111305,"body_markdown":"I get compilation error as &quot;Cannot infer type argument(s) for &lt;U&gt; mapToObj(IntFunction&lt;? extends U&gt;)&quot;","body":"I get compilation error as &quot;Cannot infer type argument(s) for &lt;U&gt; mapToObj(IntFunction&lt;? extends U&gt;)&quot;"}],"tags":[],"owner":{"account_id":7741868,"reputation":1,"user_id":5861372,"display_name":"user5861372"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647507837,"creation_date":1647442833,"answer_id":71499377,"question_id":55129028,"body_markdown":"```java\r\nString str = &quot;edcba&quot;\r\n\r\nMap&lt;String, Long&gt; couterMap1 = str.codePoints()\r\n                                  .mapToObj(Character::toString)\r\n\t\t\t\t                  .collect(Collectors.groupingBy(e -&gt; e, Collectors.counting()));\r\n```","title":"Java8: Create HashMap with character count of a String","body":"<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;edcba&quot;\n\nMap&lt;String, Long&gt; couterMap1 = str.codePoints()\n                                  .mapToObj(Character::toString)\n                                  .collect(Collectors.groupingBy(e -&gt; e, Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5749694,"reputation":397,"user_id":4539789,"display_name":"Mayur Gite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689269674,"creation_date":1689269674,"answer_id":76681972,"question_id":55129028,"body_markdown":"Simple Java 8 solution I can think is:\r\n\r\n    Map&lt;String, Long&gt; map= Arrays.stream(word.trim().toLowerCase().split(&quot;&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));","title":"Java8: Create HashMap with character count of a String","body":"<p>Simple Java 8 solution I can think is:</p>\n<pre><code>Map&lt;String, Long&gt; map= Arrays.stream(word.trim().toLowerCase().split(&quot;&quot;))\n            .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689353086,"creation_date":1689315007,"answer_id":76685092,"question_id":55129028,"body_markdown":"If you&#39;re open to using a third-party library that works with Java 8 or above, [Eclipse Collections][1] (EC) can solve this problem using a primitive  `Bag` to count characters. Use a `CharBag` if `char` values are required, or an `IntBag` if codePoints (`int` values) are required. A `Bag` is a simpler data structure for counting things and may be backed by a primitive `HashMap` so as not to box the counts as `Integer` or `Long` objects. A `Bag` doesn&#39;t suffer from the missing keys return `null` values problem that a `HashMap` does in Java.\r\n\r\n    @Test\r\n    public void characterCountJava8()\r\n    {\r\n        String word = &quot;AAABBB&quot;;\r\n        CharAdapter chars = Strings.asChars(word);\r\n        CharBag charCounts = chars.toBag();\r\n    \r\n        Assertions.assertEquals(3, charCounts.occurrencesOf(&#39;A&#39;));\r\n        Assertions.assertEquals(3, charCounts.occurrencesOf(&#39;B&#39;));\r\n        Assertions.assertEquals(0, charCounts.occurrencesOf(&#39;C&#39;));\r\n\r\n        System.out.println(charCounts.toStringOfItemToCount());\r\n    }\r\n\r\nOutputs: \r\n\r\n    {A=3, B=3}\r\n\r\n`CharAdapter` and `CharBag` are primitive collection types available in EC. A `CharBag` is useful if you want to count `char` values. Notice that the `charCounts.occurrencesOf(&#39;C&#39;)` returns `0` instead of `null` as it would if this was a `HashMap`.\r\n\r\nThe following example shows using codePoints that are visually appealing using emojis. The code itself will work with Java 8, but I believe the Emoji literal support wasn&#39;t added until Java 11.\r\n\r\n    @Test\r\n    public void codePointCountJava11()\r\n    {\r\n        String emojis = &quot;&#127822;&#127822;&#127822;&#127820;&#127820;&quot;;\r\n        CodePointAdapter codePoints = Strings.asCodePoints(emojis);\r\n        IntBag emojiCounts = codePoints.toBag();\r\n    \r\n        int appleInt = &quot;&#127822;&quot;.codePointAt(0);\r\n        int bananaInt = &quot;&#127820;&quot;.codePointAt(0);\r\n        int pearInt = &quot;&#127824;&quot;.codePointAt(0);\r\n        Assertions.assertEquals(3, emojiCounts.occurrencesOf(appleInt));\r\n        Assertions.assertEquals(2, emojiCounts.occurrencesOf(bananaInt));\r\n        Assertions.assertEquals(0, emojiCounts.occurrencesOf(pearInt));\r\n    \r\n        System.out.println(emojiCounts.toStringOfItemToCount());\r\n    \r\n        Bag&lt;String&gt; emojiStringCounts = emojiCounts.collect(Character::toString);\r\n    \r\n        System.out.println(emojiStringCounts.toStringOfItemToCount());\r\n    }\r\n\r\nOutputs: \r\n\r\n    {127820=2, 127822=3}  // IntBag.toStringOfItemToCount()\r\n    {&#127820;=2, &#127822;=3}          // Bag&lt;String&gt;.toStringOfItemToCount()\r\n\r\n`CodePointAdapter` and `IntBag` are primitive collection types available in EC. An `IntBag` is useful if you want to count `int` values. Notice that the `emojiCounts.occurrencesOf(pearInt)` returns `0` instead of `null` as it would if this was a `HashMap`.\r\n\r\nI converted the `IntBag` to a `Bag&lt;String&gt;` to show the differences when printing `int` vs. `char`. You need to convert `int` codePoints back to `String` if you want to print anything.\r\n\r\nThe comment Holger left on the accepted answer about grapheme clusters was insightful and helpful. Thank you! The codepoint solution here suffers from the same issue as all of the other codepoint solutions. \r\n\r\nEclipse Collections 11.1 was compiled and released with Java 8. I wouldn&#39;t recommend staying on Java 8 any more, but wanted to point out this is still possible.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n\r\n\r\n","title":"Java8: Create HashMap with character count of a String","body":"<p>If you're open to using a third-party library that works with Java 8 or above, <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> (EC) can solve this problem using a primitive  <code>Bag</code> to count characters. Use a <code>CharBag</code> if <code>char</code> values are required, or an <code>IntBag</code> if codePoints (<code>int</code> values) are required. A <code>Bag</code> is a simpler data structure for counting things and may be backed by a primitive <code>HashMap</code> so as not to box the counts as <code>Integer</code> or <code>Long</code> objects. A <code>Bag</code> doesn't suffer from the missing keys return <code>null</code> values problem that a <code>HashMap</code> does in Java.</p>\n<pre><code>@Test\npublic void characterCountJava8()\n{\n    String word = &quot;AAABBB&quot;;\n    CharAdapter chars = Strings.asChars(word);\n    CharBag charCounts = chars.toBag();\n\n    Assertions.assertEquals(3, charCounts.occurrencesOf('A'));\n    Assertions.assertEquals(3, charCounts.occurrencesOf('B'));\n    Assertions.assertEquals(0, charCounts.occurrencesOf('C'));\n\n    System.out.println(charCounts.toStringOfItemToCount());\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>{A=3, B=3}\n</code></pre>\n<p><code>CharAdapter</code> and <code>CharBag</code> are primitive collection types available in EC. A <code>CharBag</code> is useful if you want to count <code>char</code> values. Notice that the <code>charCounts.occurrencesOf('C')</code> returns <code>0</code> instead of <code>null</code> as it would if this was a <code>HashMap</code>.</p>\n<p>The following example shows using codePoints that are visually appealing using emojis. The code itself will work with Java 8, but I believe the Emoji literal support wasn't added until Java 11.</p>\n<pre><code>@Test\npublic void codePointCountJava11()\n{\n    String emojis = &quot;🍎🍎🍎🍌🍌&quot;;\n    CodePointAdapter codePoints = Strings.asCodePoints(emojis);\n    IntBag emojiCounts = codePoints.toBag();\n\n    int appleInt = &quot;🍎&quot;.codePointAt(0);\n    int bananaInt = &quot;🍌&quot;.codePointAt(0);\n    int pearInt = &quot;🍐&quot;.codePointAt(0);\n    Assertions.assertEquals(3, emojiCounts.occurrencesOf(appleInt));\n    Assertions.assertEquals(2, emojiCounts.occurrencesOf(bananaInt));\n    Assertions.assertEquals(0, emojiCounts.occurrencesOf(pearInt));\n\n    System.out.println(emojiCounts.toStringOfItemToCount());\n\n    Bag&lt;String&gt; emojiStringCounts = emojiCounts.collect(Character::toString);\n\n    System.out.println(emojiStringCounts.toStringOfItemToCount());\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>{127820=2, 127822=3}  // IntBag.toStringOfItemToCount()\n{🍌=2, 🍎=3}          // Bag&lt;String&gt;.toStringOfItemToCount()\n</code></pre>\n<p><code>CodePointAdapter</code> and <code>IntBag</code> are primitive collection types available in EC. An <code>IntBag</code> is useful if you want to count <code>int</code> values. Notice that the <code>emojiCounts.occurrencesOf(pearInt)</code> returns <code>0</code> instead of <code>null</code> as it would if this was a <code>HashMap</code>.</p>\n<p>I converted the <code>IntBag</code> to a <code>Bag&lt;String&gt;</code> to show the differences when printing <code>int</code> vs. <code>char</code>. You need to convert <code>int</code> codePoints back to <code>String</code> if you want to print anything.</p>\n<p>The comment Holger left on the accepted answer about grapheme clusters was insightful and helpful. Thank you! The codepoint solution here suffers from the same issue as all of the other codepoint solutions.</p>\n<p>Eclipse Collections 11.1 was compiled and released with Java 8. I wouldn't recommend staying on Java 8 any more, but wanted to point out this is still possible.</p>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":8634316,"reputation":23,"user_id":6465039,"display_name":"Achint Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690611127,"creation_date":1690611127,"answer_id":76792284,"question_id":55129028,"body_markdown":"Java stream solution for this, I hope the code is self-explanatory.\r\n\r\n```\r\nString s = &quot;ccacbbaac&quot;\r\nMap&lt;Character, Long&gt; collect = s.chars().mapToObj(y -&gt; (char) y).collect(Collectors.groupingBy(x -&gt; (char) x, Collectors.counting()));\r\n```\r\n\r\n","title":"Java8: Create HashMap with character count of a String","body":"<p>Java stream solution for this, I hope the code is self-explanatory.</p>\n<pre><code>String s = &quot;ccacbbaac&quot;\nMap&lt;Character, Long&gt; collect = s.chars().mapToObj(y -&gt; (char) y).collect(Collectors.groupingBy(x -&gt; (char) x, Collectors.counting()));\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25491,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55129227,"answer_count":12,"score":5,"last_activity_date":1690611127,"creation_date":1552417660,"question_id":55129028,"body_markdown":"Wondering is there more simple way than computing the character count of a given string as below?\r\n \r\n    String word = &quot;AAABBB&quot;;\r\n        Map&lt;String, Integer&gt; charCount = new HashMap();\r\n        for(String charr: word.split(&quot;&quot;)){\r\n            Integer added = charCount.putIfAbsent(charr, 1);\r\n            if(added != null)\r\n                charCount.computeIfPresent(charr,(k,v) -&gt; v+1);\r\n        }\r\n\r\n        System.out.println(charCount);","title":"Java8: Create HashMap with character count of a String","body":"<p>Wondering is there more simple way than computing the character count of a given string as below?</p>\n\n<pre><code>String word = \"AAABBB\";\n    Map&lt;String, Integer&gt; charCount = new HashMap();\n    for(String charr: word.split(\"\")){\n        Integer added = charCount.putIfAbsent(charr, 1);\n        if(added != null)\n            charCount.computeIfPresent(charr,(k,v) -&gt; v+1);\n    }\n\n    System.out.println(charCount);\n</code></pre>\n"},{"tags":["java","ip","cidr"],"comments":[{"owner":{"account_id":7009786,"reputation":3596,"user_id":5373104,"display_name":"Jared Dykstra"},"score":0,"creation_date":1446235055,"post_id":33443914,"comment_id":54676087,"body_markdown":"I think you&#39;ll find the info you&#39;re looking for in this post: http://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation","body":"I think you&#39;ll find the info you&#39;re looking for in this post: <a href=\"http://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation\" title=\"the slash after an ip address cidr notation\">networkengineering.stackexchange.com/questions/3697/&hellip;</a>"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1446235124,"post_id":33443914,"comment_id":54676118,"body_markdown":"The real way to do it is `address AND mask` to get the subnet address, and `subnet + NOT mask` to get the broadcast address. Both an IP address and a mask are 32-bit unsigned integers, and you need to use those to do IP address manipulation..","body":"The real way to do it is <code>address AND mask</code> to get the subnet address, and <code>subnet + NOT mask</code> to get the broadcast address. Both an IP address and a mask are 32-bit unsigned integers, and you need to use those to do IP address manipulation.."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1446236607,"post_id":33443914,"comment_id":54676817,"body_markdown":"If you are always sure that you&#39;ll have the first (0) address and the last (broadcast address), then you can get an unambiguous answer for this. But if you just give it an arbitrary range, you will more than one answer.","body":"If you are always sure that you&#39;ll have the first (0) address and the last (broadcast address), then you can get an unambiguous answer for this. But if you just give it an arbitrary range, you will more than one answer."},{"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"score":0,"creation_date":1446237036,"post_id":33443914,"comment_id":54677027,"body_markdown":"Just to clarify - The list I have (https://github.com/client9/ipcat/blob/master/datacenters.csv) is the datacenter start and end ranges. So, I&#39;ll not always have the first (0) address and the last(broadcast address)","body":"Just to clarify - The list I have (<a href=\"https://github.com/client9/ipcat/blob/master/datacenters.csv\" rel=\"nofollow noreferrer\">github.com/client9/ipcat/blob/master/datacenters.csv</a>) is the datacenter start and end ranges. So, I&#39;ll not always have the first (0) address and the last(broadcast address)"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1446251304,"post_id":33443914,"comment_id":54681666,"body_markdown":"Doing it properly by `AND`ing an address and mask will _always_ give you the correct subnet,, and adding the subnet to the inverse of the mask will _always_ give you the broadcast address for IPv4 (IPv6 doesn&#39;t have broadcast and can use every address in the subnet, including the subnet and last address). This method works despite which power of two the subnet starts on. This is how IP addresses work, and it works for IPv6, too, except that you need 128-bit unsigned integers for the IPv6 address and mask instead of the 32-bit unsigned integers for IPv4.","body":"Doing it properly by <code>AND</code>ing an address and mask will <i>always</i> give you the correct subnet,, and adding the subnet to the inverse of the mask will <i>always</i> give you the broadcast address for IPv4 (IPv6 doesn&#39;t have broadcast and can use every address in the subnet, including the subnet and last address). This method works despite which power of two the subnet starts on. This is how IP addresses work, and it works for IPv6, too, except that you need 128-bit unsigned integers for the IPv6 address and mask instead of the 32-bit unsigned integers for IPv4."},{"owner":{"account_id":5343182,"reputation":442,"user_id":4259486,"display_name":"bartgras"},"score":0,"creation_date":1500624146,"post_id":33443914,"comment_id":77430043,"body_markdown":"I was doing exactly the same (parsing IPCAT CSV file) and found this simple command best solution: ```ipcalc -rn 108.179.42.64-108.179.42.255``` It correctly calculates the ranges and is available on most linux/mac systems","body":"I was doing exactly the same (parsing IPCAT CSV file) and found this simple command best solution: <code>ipcalc -rn 108.179.42.64-108.179.42.255</code> It correctly calculates the ranges and is available on most linux/mac systems"}],"answers":[{"comments":[{"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"score":0,"creation_date":1446585656,"post_id":33449839,"comment_id":54802104,"body_markdown":"This is quite insightful. Thanks for the detailed writeup!","body":"This is quite insightful. Thanks for the detailed writeup!"},{"owner":{"account_id":7169594,"reputation":1777,"user_id":5477536,"display_name":"GreatAndPowerfulOz"},"score":0,"creation_date":1485810348,"post_id":33449839,"comment_id":71070994,"body_markdown":"This handles the canonical cases. But doesn&#39;t explain how to handle a range such as 5.10.64.1 to 5.10.127.255 which results in 14 CIDRs: \n    5.10.64.1/32\n    5.10.64.2/31\n    5.10.64.4/30\n    5.10.64.8/29\n    5.10.64.16/28\n    5.10.64.32/27\n    5.10.64.64/26\n    5.10.64.128/25\n    5.10.65.0/24\n    5.10.66.0/23\n    5.10.68.0/22\n    5.10.72.0/21\n    5.10.80.0/20\n    5.10.96.0/19","body":"This handles the canonical cases. But doesn&#39;t explain how to handle a range such as 5.10.64.1 to 5.10.127.255 which results in 14 CIDRs:      5.10.64.1/32     5.10.64.2/31     5.10.64.4/30     5.10.64.8/29     5.10.64.16/28     5.10.64.32/27     5.10.64.64/26     5.10.64.128/25     5.10.65.0/24     5.10.66.0/23     5.10.68.0/22     5.10.72.0/21     5.10.80.0/20     5.10.96.0/19"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1485812088,"post_id":33449839,"comment_id":71071815,"body_markdown":"Your example doesn&#39;t relate to the original question, which is what I was answering.","body":"Your example doesn&#39;t relate to the original question, which is what I was answering."},{"owner":{"account_id":8004868,"reputation":179,"user_id":6038447,"display_name":"David Lannan"},"score":1,"creation_date":1595507395,"post_id":33449839,"comment_id":111502724,"body_markdown":"@RonMaupin - OP says: &quot;I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?&quot;\nCIDRs are not single entries - they are blocks. So the comment from GreatAndPowerfulOz is very relevant in this case. And its often over-looked.","body":"@RonMaupin - OP says: &quot;I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?&quot; CIDRs are not single entries - they are blocks. So the comment from GreatAndPowerfulOz is very relevant in this case. And its often over-looked."}],"tags":[],"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446282149,"creation_date":1446282149,"answer_id":33449839,"question_id":33443914,"body_markdown":"In case you haven&#39;t figured it out from my comments:\r\n\r\nIP math must be done in binary. IP addresses and masks are unsigned integers (32 bits for IPv4, 128 bits for IPv6). All you need to know is an address and mask, and you can figure out everything else.\r\n\r\nThis is algorithm for what you want to accomplish, and it applies to both IPv4 and IPv6.\r\n\r\nBased on your question, you are given the subnet (Input 1) and last address (Input 2).\r\n\r\n 1. Subtract the unsigned integer of Input 1 from the unsigned integer\r\n    of Input 2. The result is the inverse subnet mask. The inverse\r\n    subnet mask must be `0`, or the inverse subnet mask plus `1` must be a\r\n    power of `2`, else you have an error in one of the inputs (**STOP,\r\n    INPUT ERROR**).\r\n 2. The `NOT` of the inverse mask (result of Step 1) is the subnet mask.\r\n 3. If Input 1 `AND` the subnet mask does not equal Input 1, you have an\r\n    error in one of the inputs (**STOP, INPUT ERROR**).\r\n 4. The mask length (CIDR number) is the number of `1` bits in the\r\n    subnet mask. There are several ways to calculate the number of `1`\r\n    bits in a binary number, but if the subnet mask is the maximum\r\n    integer (or the inverse mask is `0`), then the mask length is `32`\r\n    (IPv4) or `128` (IPv6). You can loop, counting the number of loops\r\n    and shifting the subnet mask to the left until it equals `0`, loop\r\n    counting the number of loops and shifting the inverse mask to the\r\n    right until it equals `0` then adding `1` to the total and\r\n    subtracting the total from `32` (IPv4) or `128` (IPv6), or subtract\r\n    the exponent of the power of `2` of the total inverse mask\r\n    plus `1` from `32` (IPv4) or `128` (IPv6).\r\n 5. At this point, you have the verified Input 1 (subnet), Input 2 (last\r\n    address), and calculated the mask length (CIDR number).\r\n 6. The final result will be `&lt;Input 1&gt;/&lt;Mask Length&gt;`.\r\n\r\n**Your example:**\r\n\r\nStep 1 (`5.10.127.255 - 5.10.64.0 = 0.0.64.127`):\r\n\r\n    101000010100111111111111111 - 01000010100100000000000000 = 11111111111111\r\n\r\nStep 2 (`NOT 0.0.64.255 = 255.255.192.0` is a power of two):\r\n\r\n    NOT 00000000000000000011111111111111 = 11111111111111111100000000000000\r\n\r\nStep 3 (`5.10.64.0 AND 255.255.192.0 = 5.10.64.0`):\r\n\r\n    01000010100100000000000000 AND 11111111111111111100000000000000 = 01000010100100000000000000\r\n\r\nStep 4 (`0.0.64.255 + 1 = 0.0.65.0 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18`):\r\n\r\n    00000000000000000011111111111111 + 1 = 00000000000000000100000000000000 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18\r\n\r\nStep 5 (Input 1 = `5.10.64.0`, Input 2 = `5.10.127.255`, Mask Length = `18`)\r\n\r\nStep 6 (Final Result = `5.10.64.0/18`)\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<p>In case you haven't figured it out from my comments:</p>\n\n<p>IP math must be done in binary. IP addresses and masks are unsigned integers (32 bits for IPv4, 128 bits for IPv6). All you need to know is an address and mask, and you can figure out everything else.</p>\n\n<p>This is algorithm for what you want to accomplish, and it applies to both IPv4 and IPv6.</p>\n\n<p>Based on your question, you are given the subnet (Input 1) and last address (Input 2).</p>\n\n<ol>\n<li>Subtract the unsigned integer of Input 1 from the unsigned integer\nof Input 2. The result is the inverse subnet mask. The inverse\nsubnet mask must be <code>0</code>, or the inverse subnet mask plus <code>1</code> must be a\npower of <code>2</code>, else you have an error in one of the inputs (<strong>STOP,\nINPUT ERROR</strong>).</li>\n<li>The <code>NOT</code> of the inverse mask (result of Step 1) is the subnet mask.</li>\n<li>If Input 1 <code>AND</code> the subnet mask does not equal Input 1, you have an\nerror in one of the inputs (<strong>STOP, INPUT ERROR</strong>).</li>\n<li>The mask length (CIDR number) is the number of <code>1</code> bits in the\nsubnet mask. There are several ways to calculate the number of <code>1</code>\nbits in a binary number, but if the subnet mask is the maximum\ninteger (or the inverse mask is <code>0</code>), then the mask length is <code>32</code>\n(IPv4) or <code>128</code> (IPv6). You can loop, counting the number of loops\nand shifting the subnet mask to the left until it equals <code>0</code>, loop\ncounting the number of loops and shifting the inverse mask to the\nright until it equals <code>0</code> then adding <code>1</code> to the total and\nsubtracting the total from <code>32</code> (IPv4) or <code>128</code> (IPv6), or subtract\nthe exponent of the power of <code>2</code> of the total inverse mask\nplus <code>1</code> from <code>32</code> (IPv4) or <code>128</code> (IPv6).</li>\n<li>At this point, you have the verified Input 1 (subnet), Input 2 (last\naddress), and calculated the mask length (CIDR number).</li>\n<li>The final result will be <code>&lt;Input 1&gt;/&lt;Mask Length&gt;</code>.</li>\n</ol>\n\n<p><strong>Your example:</strong></p>\n\n<p>Step 1 (<code>5.10.127.255 - 5.10.64.0 = 0.0.64.127</code>):</p>\n\n<pre><code>101000010100111111111111111 - 01000010100100000000000000 = 11111111111111\n</code></pre>\n\n<p>Step 2 (<code>NOT 0.0.64.255 = 255.255.192.0</code> is a power of two):</p>\n\n<pre><code>NOT 00000000000000000011111111111111 = 11111111111111111100000000000000\n</code></pre>\n\n<p>Step 3 (<code>5.10.64.0 AND 255.255.192.0 = 5.10.64.0</code>):</p>\n\n<pre><code>01000010100100000000000000 AND 11111111111111111100000000000000 = 01000010100100000000000000\n</code></pre>\n\n<p>Step 4 (<code>0.0.64.255 + 1 = 0.0.65.0 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18</code>):</p>\n\n<pre><code>00000000000000000011111111111111 + 1 = 00000000000000000100000000000000 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18\n</code></pre>\n\n<p>Step 5 (Input 1 = <code>5.10.64.0</code>, Input 2 = <code>5.10.127.255</code>, Mask Length = <code>18</code>)</p>\n\n<p>Step 6 (Final Result = <code>5.10.64.0/18</code>)</p>\n"},{"tags":[],"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446670554,"creation_date":1446659203,"answer_id":33528623,"question_id":33443914,"body_markdown":"So, I was able to find the Java code here: https://stackoverflow.com/questions/5020317/in-java-given-an-ip-address-range-return-the-minimum-list-of-cidr-blocks-that\r\n\r\n    public class IP2CIDR {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(range2cidrlist(&quot;5.104.109.160&quot;, &quot;5.104.109.191&quot;));\r\n    \t}\r\n    \t\r\n        public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {         \r\n            long start = ipToLong(startIp);         \r\n            long end = ipToLong(endIp);           \r\n    \r\n            ArrayList&lt;String&gt; pairs = new ArrayList&lt;String&gt;();         \r\n            while ( end &gt;= start ) {             \r\n                byte maxsize = 32;             \r\n                while ( maxsize &gt; 0) {                 \r\n                    long mask = CIDR2MASK[ maxsize -1 ];                 \r\n                    long maskedBase = start &amp; mask;                 \r\n    \r\n                    if ( maskedBase != start ) {                     \r\n                        break;                 \r\n                    }                 \r\n    \r\n                    maxsize--;             \r\n                }               \r\n                double x = Math.log( end - start + 1) / Math.log( 2 );             \r\n                byte maxdiff = (byte)( 32 - Math.floor( x ) );             \r\n                if ( maxsize &lt; maxdiff) {                 \r\n                    maxsize = maxdiff;             \r\n                }             \r\n                String ip = longToIP(start);             \r\n                pairs.add( ip + &quot;/&quot; + maxsize);             \r\n                start += Math.pow( 2, (32 - maxsize) );         \r\n            }         \r\n            return pairs;     \r\n        }       \r\n    \r\n        public static final int[] CIDR2MASK = new int[] { 0x00000000, 0x80000000,             \r\n            0xC0000000, 0xE0000000, 0xF0000000, 0xF8000000, 0xFC000000,             \r\n            0xFE000000, 0xFF000000, 0xFF800000, 0xFFC00000, 0xFFE00000,             \r\n            0xFFF00000, 0xFFF80000, 0xFFFC0000, 0xFFFE0000, 0xFFFF0000,             \r\n            0xFFFF8000, 0xFFFFC000, 0xFFFFE000, 0xFFFFF000, 0xFFFFF800,             \r\n            0xFFFFFC00, 0xFFFFFE00, 0xFFFFFF00, 0xFFFFFF80, 0xFFFFFFC0,             \r\n            0xFFFFFFE0, 0xFFFFFFF0, 0xFFFFFFF8, 0xFFFFFFFC, 0xFFFFFFFE,             \r\n            0xFFFFFFFF };       \r\n    \r\n        private static long ipToLong(String strIP) {         \r\n            long[] ip = new long[4];         \r\n            String[] ipSec = strIP.split(&quot;\\\\.&quot;);         \r\n            for (int k = 0; k &lt; 4; k++) {             \r\n                ip[k] = Long.valueOf(ipSec[k]);         \r\n            }         \r\n    \r\n            return (ip[0] &lt;&lt; 24) + (ip[1] &lt;&lt; 16) + (ip[2] &lt;&lt; 8) + ip[3];     \r\n        }       \r\n    \r\n        private static String longToIP(long longIP) {         \r\n            StringBuffer sb = new StringBuffer(&quot;&quot;);         \r\n            sb.append(String.valueOf(longIP &gt;&gt;&gt; 24));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf(longIP &amp; 0x000000FF));   \r\n    \r\n            return sb.toString();     \r\n        }\r\n    }\r\n\r\n  \r\n\r\nThanks everyone for your insights and help!","title":"How to convert IP address range to CIDR in Java?","body":"<p>So, I was able to find the Java code here: <a href=\"https://stackoverflow.com/questions/5020317/in-java-given-an-ip-address-range-return-the-minimum-list-of-cidr-blocks-that\">In Java, given an IP Address range, return the minimum list of CIDR blocks that covers the range</a></p>\n\n<pre><code>public class IP2CIDR {\n\n    public static void main(String[] args) {\n        System.out.println(range2cidrlist(\"5.104.109.160\", \"5.104.109.191\"));\n    }\n\n    public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {         \n        long start = ipToLong(startIp);         \n        long end = ipToLong(endIp);           \n\n        ArrayList&lt;String&gt; pairs = new ArrayList&lt;String&gt;();         \n        while ( end &gt;= start ) {             \n            byte maxsize = 32;             \n            while ( maxsize &gt; 0) {                 \n                long mask = CIDR2MASK[ maxsize -1 ];                 \n                long maskedBase = start &amp; mask;                 \n\n                if ( maskedBase != start ) {                     \n                    break;                 \n                }                 \n\n                maxsize--;             \n            }               \n            double x = Math.log( end - start + 1) / Math.log( 2 );             \n            byte maxdiff = (byte)( 32 - Math.floor( x ) );             \n            if ( maxsize &lt; maxdiff) {                 \n                maxsize = maxdiff;             \n            }             \n            String ip = longToIP(start);             \n            pairs.add( ip + \"/\" + maxsize);             \n            start += Math.pow( 2, (32 - maxsize) );         \n        }         \n        return pairs;     \n    }       \n\n    public static final int[] CIDR2MASK = new int[] { 0x00000000, 0x80000000,             \n        0xC0000000, 0xE0000000, 0xF0000000, 0xF8000000, 0xFC000000,             \n        0xFE000000, 0xFF000000, 0xFF800000, 0xFFC00000, 0xFFE00000,             \n        0xFFF00000, 0xFFF80000, 0xFFFC0000, 0xFFFE0000, 0xFFFF0000,             \n        0xFFFF8000, 0xFFFFC000, 0xFFFFE000, 0xFFFFF000, 0xFFFFF800,             \n        0xFFFFFC00, 0xFFFFFE00, 0xFFFFFF00, 0xFFFFFF80, 0xFFFFFFC0,             \n        0xFFFFFFE0, 0xFFFFFFF0, 0xFFFFFFF8, 0xFFFFFFFC, 0xFFFFFFFE,             \n        0xFFFFFFFF };       \n\n    private static long ipToLong(String strIP) {         \n        long[] ip = new long[4];         \n        String[] ipSec = strIP.split(\"\\\\.\");         \n        for (int k = 0; k &lt; 4; k++) {             \n            ip[k] = Long.valueOf(ipSec[k]);         \n        }         \n\n        return (ip[0] &lt;&lt; 24) + (ip[1] &lt;&lt; 16) + (ip[2] &lt;&lt; 8) + ip[3];     \n    }       \n\n    private static String longToIP(long longIP) {         \n        StringBuffer sb = new StringBuffer(\"\");         \n        sb.append(String.valueOf(longIP &gt;&gt;&gt; 24));         \n        sb.append(\".\");         \n        sb.append(String.valueOf((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16));         \n        sb.append(\".\");         \n        sb.append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8));         \n        sb.append(\".\");         \n        sb.append(String.valueOf(longIP &amp; 0x000000FF));   \n\n        return sb.toString();     \n    }\n}\n</code></pre>\n\n<p>Thanks everyone for your insights and help!</p>\n"},{"comments":[{"owner":{"account_id":8506713,"reputation":91,"user_id":6378031,"display_name":"叶泰航"},"score":0,"creation_date":1474997120,"post_id":39730813,"comment_id":66759113,"body_markdown":"I just replace the long static int array with start &amp; - start, which is shortcur to find the first one.","body":"I just replace the long static int array with start &amp; - start, which is shortcur to find the first one."},{"owner":{"account_id":3710817,"reputation":648,"user_id":3088205,"display_name":"elgholm"},"score":0,"creation_date":1620395763,"post_id":39730813,"comment_id":119195883,"body_markdown":"Had some problems with this code for the range 0.0.0.0 to 0.255.255.255 =&gt; 0.0.0.0/8, start is 0, and the natural logarithm of zero isn&#39;t that nice. Could be a corner case, but the range is a bogon. Just mentioned it if someone else has the same problem. Too bad though, since I liked the bit-and shourtcut! &lt;3","body":"Had some problems with this code for the range 0.0.0.0 to 0.255.255.255 =&gt; 0.0.0.0/8, start is 0, and the natural logarithm of zero isn&#39;t that nice. Could be a corner case, but the range is a bogon. Just mentioned it if someone else has the same problem. Too bad though, since I liked the bit-and shourtcut! &lt;3"}],"tags":[],"owner":{"account_id":8506713,"reputation":91,"user_id":6378031,"display_name":"叶泰航"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1474997024,"creation_date":1474997024,"answer_id":39730813,"question_id":33443914,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class RangeToCidr {\r\n        public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {\r\n            // check parameters\r\n            if (startIp == null || startIp.length() &lt; 8 ||\r\n                endIp == null || endIp.length() &lt; 8) return null;\r\n            long start = ipToLong(startIp);\r\n            long end = ipToLong(endIp);\r\n            // check parameters\r\n            if (start &gt; end) return null;\r\n\r\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n            while (start &lt;= end) {\r\n                // identify the location of first 1&#39;s from lower bit to higher bit of start IP\r\n                // e.g. 00000001.00000001.00000001.01101100, return 4 (100)\r\n                long locOfFirstOne = start &amp; (-start);\r\n                int maxMask = 32 - (int) (Math.log(locOfFirstOne) / Math.log(2));\r\n\r\n                // calculate how many IP addresses between the start and end\r\n                // e.g. between 1.1.1.111 and 1.1.1.120, there are 10 IP address\r\n                // 3 bits to represent 8 IPs, from 1.1.1.112 to 1.1.1.119 (119 - 112 + 1 = 8)\r\n                double curRange = Math.log(end - start + 1) / Math.log(2);\r\n                int maxDiff = 32 - (int) Math.floor(curRange);\r\n\r\n                // why max?\r\n                // if the maxDiff is larger than maxMask\r\n                // which means the numbers of IPs from start to end is smaller than mask range\r\n                // so we can&#39;t use as many as bits we want to mask the start IP to avoid exceed the end IP\r\n                // Otherwise, if maxDiff is smaller than maxMask, which means number of IPs is larger than mask range\r\n                // in this case we can use maxMask to mask as many as IPs from start we want.\r\n                maxMask = Math.max(maxDiff, maxMask);\r\n\r\n                // Add to results\r\n                String ip = longToIP(start);\r\n                result.add(ip + &quot;/&quot; + maxMask);\r\n                // We have already included 2^(32 - maxMask) numbers of IP into result\r\n                // So the next round start must add that number\r\n                start += Math.pow(2, (32 - maxMask));\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static long ipToLong(String strIP) {\r\n            String[] ipSegs = strIP.split(&quot;\\\\.&quot;);\r\n            long res = 0;\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                res += Long.valueOf(ipSegs[i]) &lt;&lt; (8 * (3 - i));\r\n            }\r\n            return res;\r\n        }\r\n\r\n        private static String longToIP(long longIP) {\r\n            StringBuffer sb = new StringBuffer();\r\n            sb.append(longIP &gt;&gt;&gt; 24).append(&quot;.&quot;)\r\n              .append((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16).append(&quot;.&quot;)\r\n              .append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8)).append(&quot;.&quot;)\r\n              .append(String.valueOf(longIP &amp; 0x000000FF));\r\n\r\n            return sb.toString();\r\n        }\r\n    }\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class RangeToCidr {\n    public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {\n        // check parameters\n        if (startIp == null || startIp.length() &lt; 8 ||\n            endIp == null || endIp.length() &lt; 8) return null;\n        long start = ipToLong(startIp);\n        long end = ipToLong(endIp);\n        // check parameters\n        if (start &gt; end) return null;\n\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n        while (start &lt;= end) {\n            // identify the location of first 1's from lower bit to higher bit of start IP\n            // e.g. 00000001.00000001.00000001.01101100, return 4 (100)\n            long locOfFirstOne = start &amp; (-start);\n            int maxMask = 32 - (int) (Math.log(locOfFirstOne) / Math.log(2));\n\n            // calculate how many IP addresses between the start and end\n            // e.g. between 1.1.1.111 and 1.1.1.120, there are 10 IP address\n            // 3 bits to represent 8 IPs, from 1.1.1.112 to 1.1.1.119 (119 - 112 + 1 = 8)\n            double curRange = Math.log(end - start + 1) / Math.log(2);\n            int maxDiff = 32 - (int) Math.floor(curRange);\n\n            // why max?\n            // if the maxDiff is larger than maxMask\n            // which means the numbers of IPs from start to end is smaller than mask range\n            // so we can't use as many as bits we want to mask the start IP to avoid exceed the end IP\n            // Otherwise, if maxDiff is smaller than maxMask, which means number of IPs is larger than mask range\n            // in this case we can use maxMask to mask as many as IPs from start we want.\n            maxMask = Math.max(maxDiff, maxMask);\n\n            // Add to results\n            String ip = longToIP(start);\n            result.add(ip + \"/\" + maxMask);\n            // We have already included 2^(32 - maxMask) numbers of IP into result\n            // So the next round start must add that number\n            start += Math.pow(2, (32 - maxMask));\n        }\n        return result;\n    }\n\n    private static long ipToLong(String strIP) {\n        String[] ipSegs = strIP.split(\"\\\\.\");\n        long res = 0;\n        for (int i = 0; i &lt; 4; i++) {\n            res += Long.valueOf(ipSegs[i]) &lt;&lt; (8 * (3 - i));\n        }\n        return res;\n    }\n\n    private static String longToIP(long longIP) {\n        StringBuffer sb = new StringBuffer();\n        sb.append(longIP &gt;&gt;&gt; 24).append(\".\")\n          .append((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16).append(\".\")\n          .append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8)).append(\".\")\n          .append(String.valueOf(longIP &amp; 0x000000FF));\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3043659,"reputation":31,"user_id":2579984,"display_name":"PaulQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491096625,"creation_date":1491093926,"answer_id":43163498,"question_id":33443914,"body_markdown":"Something short and sweet in Python:\r\n\r\n    #!/usr/bin/env python\r\n    import ipaddress\r\n    import math\r\n\r\n    ip_from = &#39;5.10.64.0&#39;\r\n    ip_to = &#39;5.10.127.255&#39;\r\n    ip_from_long = int(ipaddress.ip_address(unicode(ip_from)))\r\n    ip_to_long = int(ipaddress.ip_address(unicode(ip_to)))\r\n    ip_range = ip_to_long - ip_from_long\r\n    ip_range +=1\r\n    # the clever line of code\r\n    cidr_range = math.log(4294967296/ip_range)/math.log(2)\r\n    # test for a zero/non-zero fractional part\r\n    if cidr_range % 1 == 0:\r\n      # the output will be: 5.10.64.0/18\r\n      print ip_from + &#39;/&#39; + str(int(cidr_range))\r\n    else:\r\n      print &quot;Error: Not an exact CIDR range - &quot; + str(cidr_range)\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<p>Something short and sweet in Python:</p>\n\n<pre><code>#!/usr/bin/env python\nimport ipaddress\nimport math\n\nip_from = '5.10.64.0'\nip_to = '5.10.127.255'\nip_from_long = int(ipaddress.ip_address(unicode(ip_from)))\nip_to_long = int(ipaddress.ip_address(unicode(ip_to)))\nip_range = ip_to_long - ip_from_long\nip_range +=1\n# the clever line of code\ncidr_range = math.log(4294967296/ip_range)/math.log(2)\n# test for a zero/non-zero fractional part\nif cidr_range % 1 == 0:\n  # the output will be: 5.10.64.0/18\n  print ip_from + '/' + str(int(cidr_range))\nelse:\n  print \"Error: Not an exact CIDR range - \" + str(cidr_range)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10046753,"reputation":31,"user_id":7427850,"display_name":"Xiaodong Ma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496796852,"creation_date":1496796852,"answer_id":44401852,"question_id":33443914,"body_markdown":"\tpublic static int log2(int i) {\r\n\t\tint count = 0;\r\n\t\ti &gt;&gt;= 1;\r\n\t\twhile(i &gt; 0) {\r\n\t\t\tcount++;\r\n\t\t\ti &gt;&gt;= 1;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n\tpublic static List&lt;String&gt; range2CIDR(String startIp, String endIp) {\r\n\t\tList&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tint start = ipS2I(startIp);\r\n\t\t\tint end = ipS2I(endIp);\r\n\t\t\twhile(start &lt;= end) {\r\n\t\t\t\tint firstNonZero = start &amp; -start;\r\n\t\t\t\tint maxMask = 32 - log2(firstNonZero);\r\n\t\t\t\tmaxMask = Math.max(maxMask, 32 - log2(end - start + 1));\r\n\t\t\t\tres.add(ipI2S(start) + &quot;/&quot; + maxMask);\r\n\t\t\t\tstart += 1 &lt;&lt; (32 - maxMask);\r\n\t\t\t}\r\n\t\t}catch(Exception e) {\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic static int ipS2I(String ip) throws Exception {\r\n\t\tString[] sa = ip.split(&quot;\\\\.&quot;);\r\n\t\tif (sa.length != 4) {\r\n\t\t\tthrow new Exception(&quot;Bad ip address&quot;);\r\n\t\t}\r\n\t\tint res = 0;\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tint t = Integer.valueOf(sa[i]);\r\n\t\t\tif (t &lt; 0 || t &gt; 255) {\r\n\t\t\t\tthrow new Exception(&quot;Bad ip address&quot;);\r\n\t\t\t}\r\n\t\t\tres += t &lt;&lt; ((3-i) &lt;&lt; 3);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic static String ipI2S(int ip) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append((ip&gt;&gt;24) &amp; 0xFF).append(&quot;.&quot;).append((ip&gt;&gt;16)&amp;0xFF).append(&quot;.&quot;).append((ip&gt;&gt;8) &amp; 0xFF).append(&quot;.&quot;).append(ip &amp; 0xFF);\r\n\t\treturn sb.toString();\r\n\t}\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<pre><code>public static int log2(int i) {\n    int count = 0;\n    i &gt;&gt;= 1;\n    while(i &gt; 0) {\n        count++;\n        i &gt;&gt;= 1;\n    }\n    return count;\n}\n\npublic static List&lt;String&gt; range2CIDR(String startIp, String endIp) {\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\n    try {\n        int start = ipS2I(startIp);\n        int end = ipS2I(endIp);\n        while(start &lt;= end) {\n            int firstNonZero = start &amp; -start;\n            int maxMask = 32 - log2(firstNonZero);\n            maxMask = Math.max(maxMask, 32 - log2(end - start + 1));\n            res.add(ipI2S(start) + \"/\" + maxMask);\n            start += 1 &lt;&lt; (32 - maxMask);\n        }\n    }catch(Exception e) {\n        return res;\n    }\n\n    return res;\n}\n\npublic static int ipS2I(String ip) throws Exception {\n    String[] sa = ip.split(\"\\\\.\");\n    if (sa.length != 4) {\n        throw new Exception(\"Bad ip address\");\n    }\n    int res = 0;\n    for (int i = 0; i &lt; 4; i++) {\n        int t = Integer.valueOf(sa[i]);\n        if (t &lt; 0 || t &gt; 255) {\n            throw new Exception(\"Bad ip address\");\n        }\n        res += t &lt;&lt; ((3-i) &lt;&lt; 3);\n    }\n    return res;\n}\n\npublic static String ipI2S(int ip) {\n    StringBuilder sb = new StringBuilder();\n    sb.append((ip&gt;&gt;24) &amp; 0xFF).append(\".\").append((ip&gt;&gt;16)&amp;0xFF).append(\".\").append((ip&gt;&gt;8) &amp; 0xFF).append(\".\").append(ip &amp; 0xFF);\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13647159,"reputation":207,"user_id":9845909,"display_name":"Prashant Ambardekar"},"score":0,"creation_date":1683104153,"post_id":54602781,"comment_id":134313836,"body_markdown":"addr1.toSequentialRange(addr2) is deprecated. Is there any alternative method for this?","body":"addr1.toSequentialRange(addr2) is deprecated. Is there any alternative method for this?"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1683482737,"post_id":54602781,"comment_id":134370273,"body_markdown":"Yes Prashant Ambardekar use spanWithRange https://seancfoley.github.io/IPAddress/IPAddress/apidocs/inet/ipaddr/IPAddress.html#spanWithRange-inet.ipaddr.IPAddress-","body":"Yes Prashant Ambardekar use spanWithRange <a href=\"https://seancfoley.github.io/IPAddress/IPAddress/apidocs/inet/ipaddr/IPAddress.html#spanWithRange-inet.ipaddr.IPAddress-\" rel=\"nofollow noreferrer\">seancfoley.github.io/IPAddress/IPAddress/apidocs/inet/ipaddr&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1683482778,"post_id":54602781,"comment_id":134370276,"body_markdown":"I am changing the answer to use spanWithRange","body":"I am changing the answer to use spanWithRange"}],"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683482942,"creation_date":1549681821,"answer_id":54602781,"question_id":33443914,"body_markdown":"The [open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do this for you.  Disclaimer: I am the project manager of the IPAddress library. \r\n\r\nHere is sample code to do it:\r\n\r\n    static void toPrefixBlocks(String str1, String str2) {\r\n\t\tIPAddressString string1 = new IPAddressString(str1);\r\n\t\tIPAddressString string2 = new IPAddressString(str2);\r\n\t\tIPAddress one = string1.getAddress(), two = string2.getAddress();\r\n\t\tIPAddressSeqRange range = one.spanWithRange(two);\r\n\t\tSystem.out.println(&quot;starting with range &quot; + range);\r\n\t\tIPAddress blocks[] = range.spanWithPrefixBlocks();\r\n\t\tSystem.out.println(&quot;prefix blocks are &quot; + Arrays.asList(blocks));\r\n\t}\r\n\r\nThis is how you would use IPAddress to produce the range from the original CIDR string:\r\n\r\n    static String[] toRange(String str) {\r\n\t\tIPAddressString string = new IPAddressString(str);\r\n\t\tIPAddress addr = string.getAddress();\r\n\t\tSystem.out.println(&quot;starting with CIDR &quot; + addr);\r\n\t\tIPAddress lower = addr.getLower(), upper = addr.getUpper();\r\n\t\tSystem.out.println(&quot;range is &quot; + lower + &quot; to &quot; + upper);\r\n\t\treturn new String[] {lower.toString(), upper.toString()};\r\n\t}\r\n\r\nFor your example, we run this code:\r\n\r\n    String strs[] = toRange(&quot;5.10.64.0/18&quot;);\r\n    System.out.println();\r\n    toPrefixBlocks(strs[0], strs[1]);\r\n\r\nThe output is:\r\n\r\n    starting with CIDR 5.10.64.0/18\r\n    range is 5.10.64.0/18 to 5.10.127.255/18\r\n\r\n    starting with range 5.10.64.0 -&gt; 5.10.127.255\r\n    prefix blocks are [5.10.64.0/18]\r\n\r\n ","title":"How to convert IP address range to CIDR in Java?","body":"<p>The <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">open-source IPAddress Java library</a> can do this for you.  Disclaimer: I am the project manager of the IPAddress library.</p>\n<p>Here is sample code to do it:</p>\n<pre><code>static void toPrefixBlocks(String str1, String str2) {\n    IPAddressString string1 = new IPAddressString(str1);\n    IPAddressString string2 = new IPAddressString(str2);\n    IPAddress one = string1.getAddress(), two = string2.getAddress();\n    IPAddressSeqRange range = one.spanWithRange(two);\n    System.out.println(&quot;starting with range &quot; + range);\n    IPAddress blocks[] = range.spanWithPrefixBlocks();\n    System.out.println(&quot;prefix blocks are &quot; + Arrays.asList(blocks));\n}\n</code></pre>\n<p>This is how you would use IPAddress to produce the range from the original CIDR string:</p>\n<pre><code>static String[] toRange(String str) {\n    IPAddressString string = new IPAddressString(str);\n    IPAddress addr = string.getAddress();\n    System.out.println(&quot;starting with CIDR &quot; + addr);\n    IPAddress lower = addr.getLower(), upper = addr.getUpper();\n    System.out.println(&quot;range is &quot; + lower + &quot; to &quot; + upper);\n    return new String[] {lower.toString(), upper.toString()};\n}\n</code></pre>\n<p>For your example, we run this code:</p>\n<pre><code>String strs[] = toRange(&quot;5.10.64.0/18&quot;);\nSystem.out.println();\ntoPrefixBlocks(strs[0], strs[1]);\n</code></pre>\n<p>The output is:</p>\n<pre><code>starting with CIDR 5.10.64.0/18\nrange is 5.10.64.0/18 to 5.10.127.255/18\n\nstarting with range 5.10.64.0 -&gt; 5.10.127.255\nprefix blocks are [5.10.64.0/18]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603543996,"creation_date":1603543663,"answer_id":64513460,"question_id":33443914,"body_markdown":"We researched a lot and here is how we implemented it in the end, just use `RouteNotation.fromRange(...)` method to get `List&lt;RouteNotation&gt;` after adding below class:\r\n\r\n```java\r\npackage my.vpn.utils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RouteNotation {\r\n    private int ipAddress;\r\n    private int prefix;\r\n\r\n    private RouteNotation(long ipAddress, int prefix) {\r\n        this.ipAddress = (int) ipAddress;\r\n        this.prefix = prefix;\r\n    }\r\n\r\n    public static RouteNotation fromIPv4(long ipAddress, int prefix) {\r\n        return new RouteNotation(ipAddress, prefix);\r\n    }\r\n\r\n    public long getIP() {\r\n        return this.ipAddress;\r\n    }\r\n\r\n    public void setIP(long v) {\r\n        this.ipAddress = (int) v;\r\n    }\r\n\r\n    public int getPrefix() {\r\n        return this.prefix;\r\n    }\r\n\r\n    public void setPrefix(int bitCount) {\r\n        this.prefix = bitCount;\r\n    }\r\n\r\n    public long getFirst() {\r\n        return this.ipAddress &amp; getMaskFromPrefix(this.prefix);\r\n    }\r\n\r\n    public long getLast() {\r\n        return Notation.getNext(this.ipAddress, this.prefix) - 1;\r\n    }\r\n\r\n    /**\r\n     * Generates Notation list from given range.\r\n     * &lt;br&gt;\r\n     * Each IP range can result to multiple notations.\r\n     *\r\n     * @param first First IP included in returned notations.\r\n     * @param last  Last IP included in notations.\r\n     * @return Generated routing range notations.\r\n     */\r\n    public static List&lt;RouteNotation&gt; fromRange(long first, long last) {\r\n        List&lt;RouteNotation&gt; result = new ArrayList&lt;&gt;();\r\n        while (last &gt;= first) {\r\n            // Find prefix required to mask first IP in range.\r\n            byte prefix = getPrefixFromRange(first, last);\r\n            // At last, push current range to result list.\r\n            result.add(RouteNotation.fromIPv4(first, prefix));\r\n            // Skip current Notation range.\r\n            first = getNext(first, prefix);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static int getMaskFromPrefix(int bitCount) {\r\n        return (int) (0xFFFFFFFF00000000L &gt;&gt; bitCount);\r\n    }\r\n\r\n    /**\r\n     * Skips given Notation range and get first of next notation.\r\n     * &lt;p&gt;\r\n     * Used to get next IP right out of prefix range.\r\n     */\r\n    public static long getNext(long ip, int prefix) {\r\n        // Forced to use left-shift or &quot;getUnsigned(ip)&quot;, cause else Java would\r\n        // cast result of &quot;Math.pow(2, 32 - prefix)&quot; method to integer\r\n        // (and prevents any possible integer-overflow which we require).\r\n        return (ip &amp; getMaskFromPrefix(prefix)) + (1L &lt;&lt; (32 - prefix));\r\n    }\r\n\r\n    public static byte getPrefixFromRange(long first, long possibleLast) {\r\n        // Find max prefix required for distance (anything less is invalid).\r\n        long distance = (possibleLast - first) + 1;\r\n        double bitsRequiredForDistance = Math.log(distance) / Math.log(2);\r\n        // Get max constant bit count.\r\n        byte prefix = (byte) (32 - Math.ceil(bitsRequiredForDistance));\r\n        // Validate and increase limit (more prefix means less range).\r\n        while (prefix &lt; 32) {\r\n            // Limit difference to last IP in range (maximum).\r\n            long max = RouteNotation.getNext(first, prefix) - 1;\r\n            if (max &gt; possibleLast) {\r\n                ++prefix;\r\n            }\r\n            // Never allow IP less than first in range (minimum).\r\n            else if ((first &amp; getMaskFromPrefix(prefix)) &lt; first) {\r\n                ++prefix;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return prefix;\r\n    }\r\n}\r\n```\r\n\r\n&gt;**Note** that it&#39;s a minimal need copy (without our unit-tests and many helper methods), but you may need:\r\n```java\r\n/**\r\n * @return Zero on any error, else IP v4 integer.\r\n */\r\npublic static long ipv4_cast(InetAddress address) {\r\n    long result = 0;\r\n    if (address != null) {\r\n        byte data[] = address.getAddress();\r\n        if (data.length &lt;= 4) {\r\n            for (byte b : data) {\r\n                result &lt;&lt;= 8;\r\n                result |= b &amp; 0xFF;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to convert IP address range to CIDR in Java?","body":"<p>We researched a lot and here is how we implemented it in the end, just use <code>RouteNotation.fromRange(...)</code> method to get <code>List&lt;RouteNotation&gt;</code> after adding below class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.vpn.utils;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RouteNotation {\n    private int ipAddress;\n    private int prefix;\n\n    private RouteNotation(long ipAddress, int prefix) {\n        this.ipAddress = (int) ipAddress;\n        this.prefix = prefix;\n    }\n\n    public static RouteNotation fromIPv4(long ipAddress, int prefix) {\n        return new RouteNotation(ipAddress, prefix);\n    }\n\n    public long getIP() {\n        return this.ipAddress;\n    }\n\n    public void setIP(long v) {\n        this.ipAddress = (int) v;\n    }\n\n    public int getPrefix() {\n        return this.prefix;\n    }\n\n    public void setPrefix(int bitCount) {\n        this.prefix = bitCount;\n    }\n\n    public long getFirst() {\n        return this.ipAddress &amp; getMaskFromPrefix(this.prefix);\n    }\n\n    public long getLast() {\n        return Notation.getNext(this.ipAddress, this.prefix) - 1;\n    }\n\n    /**\n     * Generates Notation list from given range.\n     * &lt;br&gt;\n     * Each IP range can result to multiple notations.\n     *\n     * @param first First IP included in returned notations.\n     * @param last  Last IP included in notations.\n     * @return Generated routing range notations.\n     */\n    public static List&lt;RouteNotation&gt; fromRange(long first, long last) {\n        List&lt;RouteNotation&gt; result = new ArrayList&lt;&gt;();\n        while (last &gt;= first) {\n            // Find prefix required to mask first IP in range.\n            byte prefix = getPrefixFromRange(first, last);\n            // At last, push current range to result list.\n            result.add(RouteNotation.fromIPv4(first, prefix));\n            // Skip current Notation range.\n            first = getNext(first, prefix);\n        }\n        return result;\n    }\n\n    public static int getMaskFromPrefix(int bitCount) {\n        return (int) (0xFFFFFFFF00000000L &gt;&gt; bitCount);\n    }\n\n    /**\n     * Skips given Notation range and get first of next notation.\n     * &lt;p&gt;\n     * Used to get next IP right out of prefix range.\n     */\n    public static long getNext(long ip, int prefix) {\n        // Forced to use left-shift or &quot;getUnsigned(ip)&quot;, cause else Java would\n        // cast result of &quot;Math.pow(2, 32 - prefix)&quot; method to integer\n        // (and prevents any possible integer-overflow which we require).\n        return (ip &amp; getMaskFromPrefix(prefix)) + (1L &lt;&lt; (32 - prefix));\n    }\n\n    public static byte getPrefixFromRange(long first, long possibleLast) {\n        // Find max prefix required for distance (anything less is invalid).\n        long distance = (possibleLast - first) + 1;\n        double bitsRequiredForDistance = Math.log(distance) / Math.log(2);\n        // Get max constant bit count.\n        byte prefix = (byte) (32 - Math.ceil(bitsRequiredForDistance));\n        // Validate and increase limit (more prefix means less range).\n        while (prefix &lt; 32) {\n            // Limit difference to last IP in range (maximum).\n            long max = RouteNotation.getNext(first, prefix) - 1;\n            if (max &gt; possibleLast) {\n                ++prefix;\n            }\n            // Never allow IP less than first in range (minimum).\n            else if ((first &amp; getMaskFromPrefix(prefix)) &lt; first) {\n                ++prefix;\n            } else {\n                break;\n            }\n        }\n        return prefix;\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>Note</strong> that it's a minimal need copy (without our unit-tests and many helper methods), but you may need:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @return Zero on any error, else IP v4 integer.\n */\npublic static long ipv4_cast(InetAddress address) {\n    long result = 0;\n    if (address != null) {\n        byte data[] = address.getAddress();\n        if (data.length &lt;= 4) {\n            for (byte b : data) {\n                result &lt;&lt;= 8;\n                result |= b &amp; 0xFF;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19733,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54602781,"answer_count":7,"score":11,"last_activity_date":1690610682,"creation_date":1446234812,"question_id":33443914,"body_markdown":"I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?\r\n\r\nI used the [SubnetUtils][1] for converting the CIDR to the IP address range, but I can&#39;t figure out the other way around.\r\n\r\nFor example: (using http://ip2cidr.com/)\r\n\r\n&gt; **Input 1**: 5.10.64.0\r\n&gt;\r\n&gt; **Input 2**: 5.10.127.255\r\n&gt;\r\n&gt; **Result**: 5.10.64.0/18\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/util/SubnetUtils.html","title":"How to convert IP address range to CIDR in Java?","body":"<p>I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?</p>\n<p>I used the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/util/SubnetUtils.html\" rel=\"nofollow noreferrer\">SubnetUtils</a> for converting the CIDR to the IP address range, but I can't figure out the other way around.</p>\n<p>For example: (using <a href=\"http://ip2cidr.com/\" rel=\"nofollow noreferrer\">http://ip2cidr.com/</a>)</p>\n<blockquote>\n<p><strong>Input 1</strong>: 5.10.64.0</p>\n<p><strong>Input 2</strong>: 5.10.127.255</p>\n<p><strong>Result</strong>: 5.10.64.0/18</p>\n</blockquote>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690543859,"post_id":76787397,"comment_id":135372188,"body_markdown":"@mkl , any suggestions please.","body":"@mkl , any suggestions please."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690554958,"post_id":76787397,"comment_id":135374572,"body_markdown":"What does your `addValidationInformation` do exactly? In particular, does it ensure a path of objects marked `NeedToBeUpdated` exists from the trailer to the updated objects?","body":"What does your <code>addValidationInformation</code> do exactly? In particular, does it ensure a path of objects marked <code>NeedToBeUpdated</code> exists from the trailer to the updated objects?"},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690572864,"post_id":76787397,"comment_id":135377688,"body_markdown":"@mkl I have updated the above description to include the `addValidationInformation` method. Also, I tried setting `dss`, `vri`, `ocsps`, &#39;crls&#39;, `certs`  as `NeedToBeUpdated`. It still not worked. It worked when I called this method before signature with same set of certificates.","body":"@mkl I have updated the above description to include the <code>addValidationInformation</code> method. Also, I tried setting <code>dss</code>, <code>vri</code>, <code>ocsps</code>, &#39;crls&#39;, <code>certs</code>  as <code>NeedToBeUpdated</code>. It still not worked. It worked when I called this method before signature with same set of certificates."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690596943,"post_id":76787397,"comment_id":135379803,"body_markdown":"From the current code, you&#39;re woring on a closed file here: `documentForLTV.close();\n\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();`","body":"From the current code, you&#39;re woring on a closed file here: <code>documentForLTV.close();  &#47;&#47;Checking updated DSS. Updated DSS shows TSA certs which are expected to be added. PDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();</code>"},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690603238,"post_id":76787397,"comment_id":135380075,"body_markdown":"@TilmanHausherr Issue won&#39;t resolve even if I close the document later on. Updated the source code.","body":"@TilmanHausherr Issue won&#39;t resolve even if I close the document later on. Updated the source code."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690605544,"post_id":76787397,"comment_id":135380191,"body_markdown":"It seems, it is a bug at PDFBox side, because if I use `PDDocument.save` instead of `saveIncremental`, DSS is present in output document but the signature gets invalidated. @mkl","body":"It seems, it is a bug at PDFBox side, because if I use <code>PDDocument.save</code> instead of <code>saveIncremental</code>, DSS is present in output document but the signature gets invalidated. @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690609002,"post_id":76787397,"comment_id":135380389,"body_markdown":"I don&#39;t see your code setting the `NeedToBeUpdated` flags anywhere. `saveIncremental` needs those flags to work, `save` doesn&#39;t. Thus, i think the issue is not a pdfbox but but the missing `NeedToBeUpdated` management in your code.","body":"I don&#39;t see your code setting the <code>NeedToBeUpdated</code> flags anywhere. <code>saveIncremental</code> needs those flags to work, <code>save</code> doesn&#39;t. Thus, i think the issue is not a pdfbox but but the missing <code>NeedToBeUpdated</code> management in your code."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690610700,"post_id":76787397,"comment_id":135380483,"body_markdown":"You can&#39;t do this. Adding, subtracting, or changing data in the signed object is going to invalidate the signature. This is a fact of life. You will have to find a way to incorporate the timestamp into the digital signature process.","body":"You can&#39;t do this. Adding, subtracting, or changing data in the signed object is going to invalidate the signature. This is a fact of life. You will have to find a way to incorporate the timestamp into the digital signature process."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":1,"creation_date":1690610888,"post_id":76787397,"comment_id":135380494,"body_markdown":"Thanks @mkl It worked. I missed making catalog as NeedsToBeUpdated.","body":"Thanks @mkl It worked. I missed making catalog as NeedsToBeUpdated."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690620078,"post_id":76787397,"comment_id":135381264,"body_markdown":"The `AddValidationInformation.java` example from PDFBox had that.","body":"The <code>AddValidationInformation.java</code> example from PDFBox had that."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690623036,"post_id":76787397,"comment_id":135381507,"body_markdown":"@user207421 *&quot;You can&#39;t do this.&quot;* - you may want to read up on integrated pdf signatures and incremental updates.","body":"@user207421 <i>&quot;You can&#39;t do this.&quot;</i> - you may want to read up on integrated pdf signatures and incremental updates."}],"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690610644,"creation_date":1690543775,"question_id":76787397,"body_markdown":"As per my current understanding, it is not allowed to add `DSS` for Timestamp Certificates while signing a PDF(in case of signature timestamp). So, I am trying to first sign the PDF, save it, and then reload it as `PDDocument` to add `DSS` for Timestamp Certificates. \r\n\r\nBelow is my source code for the same:\r\n\r\n```\r\n//This saves the signed file to responseStream\r\nByteArrayInputStream responseStream = new ByteArrayInputStream(outputStream.toByteArray());\r\n\r\n//Reloads output PDF as PDDocument to embed DSS for TSA Certificates\r\nPDDocument documentForLTV = PDDocument.load(responseStream);\r\n\r\n//New response stream with DSS\r\nByteArrayOutputStream outputStreamLTV = new ByteArrayOutputStream();\r\n\r\n//Adds revocation info and certs for TSA into DSS of PDDocument \r\naddValidationInformation(documentForLTV, TSACertificates);\r\n\r\ndocumentForLTV.saveIncremental(outputStreamLTV);\r\n\r\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\r\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();\r\nCOSDictionary catalog = docCatalog.getCOSObject();\r\nCOSDictionary dss = validationService.getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\r\nCOSArray certs = validationService.getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\r\n\r\n//final output response. This  outputStreamLTV does not contain the TSA Certs and revocation info.\r\nByteArrayInputStream responseStreamLTV = new ByteArrayInputStream(outputStreamLTV.toByteArray());\r\n\r\ndocumentForLTV.close();\r\nreturn responseStreamLTV;\r\n```\r\nHere, I am adding Timestamp Certs and Revocation Information to DSS using my method `addValidationInformation`. This is the same method, which I use to add Validation information for signing Certs to `DSS`. And while debugging, I can see it successfully adds the timestamp certificates to DSS. But I can&#39;t find them in my final output PDF.\r\n`outputStreamLTV` only contains Validation Information for Signing Certs.\r\n\r\naddValidationInformation method is as follows:\r\n\r\n```\r\npublic void addValidationInformation(PDDocument document, Certificate[] certificateChain) {\r\n\r\n        List&lt;String&gt; ocspResponse = getOcspData(certificateChain);\r\n        List&lt;String&gt; crlResponse = getClrData(certificateChain);\r\n        List&lt;String&gt; certificates = getCertificates(certificateChain);\r\n\r\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\r\n        COSDictionary catalog = docCatalog.getCOSObject();\r\n        catalog.setNeedsTobeUpdated(true);\r\n        // As mentioned in PDFBox Samples\r\n        COSDictionary dss = getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\r\n        dss.setNeedsTobeUpdated(true);\r\n        COSDictionary vri = getOrCreateDictionaryEntry(COSDictionary.class, dss, &quot;VRI&quot;);\r\n        vri.setNeedsTobeUpdated(true);\r\n        COSArray ocsps = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;OCSPs&quot;);\r\n        ocsps.setNeedsTobeUpdated(true);\r\n        COSArray crls = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;CRLs&quot;);\r\n        crls.setNeedsTobeUpdated(true);\r\n        COSArray certs = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\r\n        certs.setNeedsTobeUpdated(true);\r\n\r\n        if (ocspResponse != null) {\r\n            ocspResponse.forEach(ocsp -&gt; {\r\n                byte[] ocspData = b64Decoder.decode(ocsp);\r\n                try {\r\n                    ocsps.add(writeDataToStream(ocspData, document));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!ocspResponse.isEmpty()) {\r\n            vri.setItem(&quot;OCSP&quot;, ocsps);\r\n        }\r\n\r\n        //Same for CRL and Certs...\r\n\r\n    }\r\n```\r\n\r\nSome of my other findings are:\r\n\r\n1. I am able to add timestamp certs and revocation information in similar way using PDFBox samples `AddValidationInformation` and [this](https://github.com/ETDA/PDFTimestamping/blob/52bf0f1f77626fb0f4c6d4103bcd461515f74430/src/main/java/CreateSignedTimeStamp.java#L183) method. But I prefer to use my current implementation since that sample is not exactly fitting as per my requirements. Also, they will add duplicate code for same functionality. \r\n2. Also, i use `PDDocument.save(outputStreamLTV)` instead of `PDDocument.saveIncremental(outputStreamLTV)`. Output PDF shows desired DSS but the signature gets invalid.\r\n\r\nKindly suggest how can I make my existing code work and what am I missing? It seems there is some issue while saving the PDDocument to stream.\r\nOr is it a bug at `PDFBox` side, because I am able to add DSS using the same method `addValidationInformation` before signature using one dummy call to TSA for fetching certs.\r\n\r\n\r\n","title":"Unable to add DSS to a signed PDF after reloading it","body":"<p>As per my current understanding, it is not allowed to add <code>DSS</code> for Timestamp Certificates while signing a PDF(in case of signature timestamp). So, I am trying to first sign the PDF, save it, and then reload it as <code>PDDocument</code> to add <code>DSS</code> for Timestamp Certificates.</p>\n<p>Below is my source code for the same:</p>\n<pre><code>//This saves the signed file to responseStream\nByteArrayInputStream responseStream = new ByteArrayInputStream(outputStream.toByteArray());\n\n//Reloads output PDF as PDDocument to embed DSS for TSA Certificates\nPDDocument documentForLTV = PDDocument.load(responseStream);\n\n//New response stream with DSS\nByteArrayOutputStream outputStreamLTV = new ByteArrayOutputStream();\n\n//Adds revocation info and certs for TSA into DSS of PDDocument \naddValidationInformation(documentForLTV, TSACertificates);\n\ndocumentForLTV.saveIncremental(outputStreamLTV);\n\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();\nCOSDictionary catalog = docCatalog.getCOSObject();\nCOSDictionary dss = validationService.getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\nCOSArray certs = validationService.getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\n\n//final output response. This  outputStreamLTV does not contain the TSA Certs and revocation info.\nByteArrayInputStream responseStreamLTV = new ByteArrayInputStream(outputStreamLTV.toByteArray());\n\ndocumentForLTV.close();\nreturn responseStreamLTV;\n</code></pre>\n<p>Here, I am adding Timestamp Certs and Revocation Information to DSS using my method <code>addValidationInformation</code>. This is the same method, which I use to add Validation information for signing Certs to <code>DSS</code>. And while debugging, I can see it successfully adds the timestamp certificates to DSS. But I can't find them in my final output PDF.\n<code>outputStreamLTV</code> only contains Validation Information for Signing Certs.</p>\n<p>addValidationInformation method is as follows:</p>\n<pre><code>public void addValidationInformation(PDDocument document, Certificate[] certificateChain) {\n\n        List&lt;String&gt; ocspResponse = getOcspData(certificateChain);\n        List&lt;String&gt; crlResponse = getClrData(certificateChain);\n        List&lt;String&gt; certificates = getCertificates(certificateChain);\n\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\n        COSDictionary catalog = docCatalog.getCOSObject();\n        catalog.setNeedsTobeUpdated(true);\n        // As mentioned in PDFBox Samples\n        COSDictionary dss = getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\n        dss.setNeedsTobeUpdated(true);\n        COSDictionary vri = getOrCreateDictionaryEntry(COSDictionary.class, dss, &quot;VRI&quot;);\n        vri.setNeedsTobeUpdated(true);\n        COSArray ocsps = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;OCSPs&quot;);\n        ocsps.setNeedsTobeUpdated(true);\n        COSArray crls = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;CRLs&quot;);\n        crls.setNeedsTobeUpdated(true);\n        COSArray certs = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\n        certs.setNeedsTobeUpdated(true);\n\n        if (ocspResponse != null) {\n            ocspResponse.forEach(ocsp -&gt; {\n                byte[] ocspData = b64Decoder.decode(ocsp);\n                try {\n                    ocsps.add(writeDataToStream(ocspData, document));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n        }\n\n        if (!ocspResponse.isEmpty()) {\n            vri.setItem(&quot;OCSP&quot;, ocsps);\n        }\n\n        //Same for CRL and Certs...\n\n    }\n</code></pre>\n<p>Some of my other findings are:</p>\n<ol>\n<li>I am able to add timestamp certs and revocation information in similar way using PDFBox samples <code>AddValidationInformation</code> and <a href=\"https://github.com/ETDA/PDFTimestamping/blob/52bf0f1f77626fb0f4c6d4103bcd461515f74430/src/main/java/CreateSignedTimeStamp.java#L183\" rel=\"nofollow noreferrer\">this</a> method. But I prefer to use my current implementation since that sample is not exactly fitting as per my requirements. Also, they will add duplicate code for same functionality.</li>\n<li>Also, i use <code>PDDocument.save(outputStreamLTV)</code> instead of <code>PDDocument.saveIncremental(outputStreamLTV)</code>. Output PDF shows desired DSS but the signature gets invalid.</li>\n</ol>\n<p>Kindly suggest how can I make my existing code work and what am I missing? It seems there is some issue while saving the PDDocument to stream.\nOr is it a bug at <code>PDFBox</code> side, because I am able to add DSS using the same method <code>addValidationInformation</code> before signature using one dummy call to TSA for fetching certs.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9854,"page":280,"page_size":100}
